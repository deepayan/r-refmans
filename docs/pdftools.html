<!DOCTYPE html><html><head><title>Help for package pdftools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pdftools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pdf_ocr_text'><p>OCR text extraction</p></a></li>
<li><a href='#pdftools'><p>PDF utilities</p></a></li>
<li><a href='#qpdf'><p>qpdf utilities</p></a></li>
<li><a href='#rendering'><p>Render / Convert PDF</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Text Extraction, Rendering and Converting of PDF Documents</td>
</tr>
<tr>
<td>Version:</td>
<td>3.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Utilities based on 'libpoppler' for extracting text, fonts, attachments and 
    metadata from a PDF file. Also supports high quality rendering of PDF documents into
    PNG, JPEG, TIFF format, or into raw bitmap vectors for further processing in R.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/pdftools/">https://docs.ropensci.org/pdftools/</a> (website)
<a href="https://github.com/ropensci/pdftools#readme">https://github.com/ropensci/pdftools#readme</a> (devel)
<a href="https://poppler.freedesktop.org">https://poppler.freedesktop.org</a> (upstream)</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/pdftools/issues">https://github.com/ropensci/pdftools/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Poppler C++ API: libpoppler-cpp-dev (deb) or
poppler-cpp-devel (rpm), and poppler-data (rpm/deb) package.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.12), qpdf</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>png, webp, tesseract, testthat</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-25 17:25:18 UTC; jeroen</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeroen Ooms <a href="https://orcid.org/0000-0002-4035-0289"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jeroen Ooms &lt;jeroen@berkeley.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-25 20:00:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='pdf_ocr_text'>OCR text extraction</h2><span id='topic+pdf_ocr_text'></span><span id='topic+pdf_ocr_data'></span>

<h3>Description</h3>

<p>Perform OCR text extraction. This requires you have the <code>tesseract</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdf_ocr_text(
  pdf,
  pages = NULL,
  opw = "",
  upw = "",
  dpi = 600,
  language = "eng",
  options = NULL
)

pdf_ocr_data(
  pdf,
  pages = NULL,
  opw = "",
  upw = "",
  dpi = 600,
  language = "eng",
  options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdf_ocr_text_+3A_pdf">pdf</code></td>
<td>
<p>file path or raw vector with pdf data</p>
</td></tr>
<tr><td><code id="pdf_ocr_text_+3A_pages">pages</code></td>
<td>
<p>which pages of the pdf file to extract</p>
</td></tr>
<tr><td><code id="pdf_ocr_text_+3A_opw">opw</code></td>
<td>
<p>string with owner password to open pdf</p>
</td></tr>
<tr><td><code id="pdf_ocr_text_+3A_upw">upw</code></td>
<td>
<p>string with user password to open pdf</p>
</td></tr>
<tr><td><code id="pdf_ocr_text_+3A_dpi">dpi</code></td>
<td>
<p>resolution to render image that is passed to <a href="#topic+pdf_convert">pdf_convert</a>.</p>
</td></tr>
<tr><td><code id="pdf_ocr_text_+3A_language">language</code></td>
<td>
<p>passed to <a href="tesseract.html#topic+tesseract">tesseract</a> to specify the
languge of the engine.</p>
</td></tr>
<tr><td><code id="pdf_ocr_text_+3A_options">options</code></td>
<td>
<p>passed to <a href="tesseract.html#topic+tesseract">tesseract</a> to specify OCR parameters</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other pdftools: 
<code><a href="#topic+pdftools">pdftools</a></code>,
<code><a href="#topic+qpdf">qpdf</a></code>,
<code><a href="#topic+rendering">rendering</a></code>
</p>

<hr>
<h2 id='pdftools'>PDF utilities</h2><span id='topic+pdftools'></span><span id='topic+pdf_info'></span><span id='topic+pdf_text'></span><span id='topic+pdf_data'></span><span id='topic+pdf_fonts'></span><span id='topic+pdf_attachments'></span><span id='topic+pdf_toc'></span><span id='topic+pdf_pagesize'></span>

<h3>Description</h3>

<p>Utilities based on libpoppler for extracting text, fonts, attachments
and metadata from a pdf file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdf_info(pdf, opw = "", upw = "")

pdf_text(pdf, opw = "", upw = "")

pdf_data(pdf, font_info = FALSE, opw = "", upw = "")

pdf_fonts(pdf, opw = "", upw = "")

pdf_attachments(pdf, opw = "", upw = "")

pdf_toc(pdf, opw = "", upw = "")

pdf_pagesize(pdf, opw = "", upw = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdftools_+3A_pdf">pdf</code></td>
<td>
<p>file path or raw vector with pdf data</p>
</td></tr>
<tr><td><code id="pdftools_+3A_opw">opw</code></td>
<td>
<p>string with owner password to open pdf</p>
</td></tr>
<tr><td><code id="pdftools_+3A_upw">upw</code></td>
<td>
<p>string with user password to open pdf</p>
</td></tr>
<tr><td><code id="pdftools_+3A_font_info">font_info</code></td>
<td>
<p>if TRUE, extract font-data for each box. Be careful, this
requires a very recent version of poppler and will error otherwise.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code><a href="#topic+pdf_text">pdf_text</a></code> function renders all textboxes on a text canvas
and returns a character vector of equal length to the number of pages in the
PDF file. On the other hand, <code><a href="#topic+pdf_data">pdf_data</a></code> is more low level and
returns one data frame per page, containing one row for each textbox in the PDF.
</p>
<p>Note that <code><a href="#topic+pdf_data">pdf_data</a></code> requires a recent version of libpoppler
which might not be available on all Linux systems.
When using <code><a href="#topic+pdf_data">pdf_data</a></code> in R packages, condition use on
<code>poppler_config()$has_pdf_data</code> which shows if this function can be
used on the current system. For Ubuntu 16.04 (Xenial) and 18.04 (Bionic)
you can use <a href="https://github.com/ropensci/pdftools#installation">the PPA</a>
with backports of Poppler 0.74.0.
</p>
<p>Poppler is pretty verbose when encountering minor errors in PDF files,
in especially <code><a href="#topic+pdf_text">pdf_text</a></code>. These messages are usually safe
to ignore, use <code><a href="base.html#topic+suppressMessages">suppressMessages</a></code> to hide them altogether.
</p>


<h3>See Also</h3>

<p>Other pdftools: 
<code><a href="#topic+pdf_ocr_text">pdf_ocr_text</a>()</code>,
<code><a href="#topic+qpdf">qpdf</a></code>,
<code><a href="#topic+rendering">rendering</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Just a random pdf file
pdf_file &lt;- file.path(R.home("doc"), "NEWS.pdf")
info &lt;- pdf_info(pdf_file)
text &lt;- pdf_text(pdf_file)
fonts &lt;- pdf_fonts(pdf_file)
files &lt;- pdf_attachments(pdf_file)
</code></pre>

<hr>
<h2 id='qpdf'>qpdf utilities</h2><span id='topic+qpdf'></span><span id='topic+pdf_combine'></span><span id='topic+reexports'></span><span id='topic+pdf_compress'></span><span id='topic+pdf_length'></span><span id='topic+pdf_split'></span><span id='topic+pdf_subset'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>qpdf</dt><dd><p><code><a href="qpdf.html#topic+qpdf">pdf_combine</a></code>, <code><a href="qpdf.html#topic+qpdf">pdf_compress</a></code>, <code><a href="qpdf.html#topic+qpdf">pdf_length</a></code>, <code><a href="qpdf.html#topic+qpdf">pdf_split</a></code>, <code><a href="qpdf.html#topic+qpdf">pdf_subset</a></code></p>
</dd>
</dl>


<h3>See Also</h3>

<p>Other pdftools: 
<code><a href="#topic+pdf_ocr_text">pdf_ocr_text</a>()</code>,
<code><a href="#topic+pdftools">pdftools</a></code>,
<code><a href="#topic+rendering">rendering</a></code>
</p>

<hr>
<h2 id='rendering'>Render / Convert PDF</h2><span id='topic+rendering'></span><span id='topic+pdf_render_page'></span><span id='topic+render'></span><span id='topic+pdf_convert'></span><span id='topic+poppler_config'></span>

<h3>Description</h3>

<p>High quality conversion of pdf page(s) to png, jpeg or tiff format, or render into a
raw bitmap array for further processing in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdf_render_page(
  pdf,
  page = 1,
  dpi = 72,
  numeric = FALSE,
  antialias = TRUE,
  opw = "",
  upw = ""
)

pdf_convert(
  pdf,
  format = "png",
  pages = NULL,
  filenames = NULL,
  dpi = 72,
  antialias = TRUE,
  opw = "",
  upw = "",
  verbose = TRUE
)

poppler_config()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rendering_+3A_pdf">pdf</code></td>
<td>
<p>file path or raw vector with pdf data</p>
</td></tr>
<tr><td><code id="rendering_+3A_page">page</code></td>
<td>
<p>which page to render</p>
</td></tr>
<tr><td><code id="rendering_+3A_dpi">dpi</code></td>
<td>
<p>resolution (dots per inch) to render</p>
</td></tr>
<tr><td><code id="rendering_+3A_numeric">numeric</code></td>
<td>
<p>convert raw output to (0-1) real values</p>
</td></tr>
<tr><td><code id="rendering_+3A_antialias">antialias</code></td>
<td>
<p>enable antialiasing. Must be <code>"text"</code> or <code>"draw"</code> or <code>TRUE</code> (both)
or <code>FALSE</code> (neither).</p>
</td></tr>
<tr><td><code id="rendering_+3A_opw">opw</code></td>
<td>
<p>owner password</p>
</td></tr>
<tr><td><code id="rendering_+3A_upw">upw</code></td>
<td>
<p>user password</p>
</td></tr>
<tr><td><code id="rendering_+3A_format">format</code></td>
<td>
<p>string with output format such as <code>"png"</code> or <code>"jpeg"</code>. Must be equal
to one of <code>poppler_config()$supported_image_formats</code>.</p>
</td></tr>
<tr><td><code id="rendering_+3A_pages">pages</code></td>
<td>
<p>vector with one-based page numbers to render. <code>NULL</code> means all pages.</p>
</td></tr>
<tr><td><code id="rendering_+3A_filenames">filenames</code></td>
<td>
<p>vector of equal length to <code>pages</code> with output filenames. May also be
a format string which is expanded using <code>pages</code> and <code>format</code> respectively.</p>
</td></tr>
<tr><td><code id="rendering_+3A_verbose">verbose</code></td>
<td>
<p>print some progress info to stdout</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other pdftools: 
<code><a href="#topic+pdf_ocr_text">pdf_ocr_text</a>()</code>,
<code><a href="#topic+pdftools">pdftools</a></code>,
<code><a href="#topic+qpdf">qpdf</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Rendering should be supported on all platforms now
# convert few pages to png
file.copy(file.path(Sys.getenv("R_DOC_DIR"), "NEWS.pdf"), "news.pdf")
pdf_convert("news.pdf", pages = 1:3)

# render into raw bitmap
bitmap &lt;- pdf_render_page("news.pdf")

# save to bitmap formats
png::writePNG(bitmap, "page.png")
webp::write_webp(bitmap, "page.webp")

# Higher quality
bitmap &lt;- pdf_render_page("news.pdf", page = 1, dpi = 300)
png::writePNG(bitmap, "page.png")

# slightly more efficient
bitmap_raw &lt;- pdf_render_page("news.pdf", numeric = FALSE)
webp::write_webp(bitmap_raw, "page.webp")

# Cleanup
unlink(c('news.pdf', 'news_1.png', 'news_2.png', 'news_3.png',
 'page.jpeg', 'page.png', 'page.webp'))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

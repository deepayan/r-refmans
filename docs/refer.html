<!DOCTYPE html><html><head><title>Help for package refer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {refer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25-+3D+25'><p>Subtract In Place</p></a></li>
<li><a href='#+25.+2A+3D+25'><p>Matrix Multiplication In Place</p></a></li>
<li><a href='#+25+2A+3D+25'><p>Multiply In Place</p></a></li>
<li><a href='#+25+2F+3D+25'><p>Divide In Place</p></a></li>
<li><a href='#+25+5E+3D+25'><p>Power In Place</p></a></li>
<li><a href='#+25+2B+3D+25'><p>Add In Place</p></a></li>
<li><a href='#decr'><p>Decrease Value In Place</p></a></li>
<li><a href='#deref'><p>Dereference Object</p></a></li>
<li><a href='#Extract'><p>Extract or Replace Parts of a Referenced Object</p></a></li>
<li><a href='#getEnv'><p>Extract or Set Reference Environment</p></a></li>
<li><a href='#getIndex'><p>Extract or Set Slice Index</p></a></li>
<li><a href='#getSym'><p>Extract or Set Reference Symbol</p></a></li>
<li><a href='#incr'><p>Increment Value In Place</p></a></li>
<li><a href='#is.nullref'><p>Is Reference Null?</p></a></li>
<li><a href='#is.ref'><p>Is Object a Reference?</p></a></li>
<li><a href='#iter.ref'><p>Convert Reference to Iterable Object</p></a></li>
<li><a href='#match_cond.ref'><p>Check and Evaluate Match Condition</p></a></li>
<li><a href='#Methods'><p>S3 Methods for Automatic Dereferencing</p></a></li>
<li><a href='#modify_by'><p>Modify an Object In Place</p></a></li>
<li><a href='#ref'><p>Create Reference to an Object</p></a></li>
<li><a href='#ref_list'><p>Create A List of References</p></a></li>
<li><a href='#slice'><p>Create a Reference Slice to a Vector</p></a></li>
<li><a href='#sref'><p>Create a Safer Reference to an Object</p></a></li>
<li><a href='#sslice'><p>Create a Safer Reference Slice to a Vector</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Create Object References</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Christopher Mann &lt;cmann3@unl.edu&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Christopher Mann &lt;cmann3@unl.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Allows users to easily create references to R objects then
    'dereference' when needed or modify in place without using reference 
    classes, environments, or active bindings as workarounds. Users can 
    also create expression references that allow subsets of any object to 
    be referenced or expressions containing references to multiple 
    objects.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, stats, eList, matchr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-06 15:54:28 UTC; chris</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-08 12:10:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25-+3D+25'>Subtract In Place</h2><span id='topic++25-+3D+25'></span>

<h3>Description</h3>

<p>Decrease the value of an object on the search path. Equivalent to <code>'-='</code> in other languages.
See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %-=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25-+2B3D+2B25_+3A_x">x</code></td>
<td>
<p>object to be modified; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="+2B25-+2B3D+2B25_+3A_value">value</code></td>
<td>
<p>value with which to change <code>x</code> by</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new value of <code>x</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 11:20
x %-=% 10
identical(x, 1:10)  # TRUE
</code></pre>

<hr>
<h2 id='+25.+2A+3D+25'>Matrix Multiplication In Place</h2><span id='topic++25.+2A+3D+25'></span>

<h3>Description</h3>

<p>Change the value of an object on the search path through matrix multiplication. Similar to <code>'*='</code> in
other languages, except with matrix multiplication. See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %.*=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25.+2B2A+2B3D+2B25_+3A_x">x</code></td>
<td>
<p>object to be modified; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="+2B25.+2B2A+2B3D+2B25_+3A_value">value</code></td>
<td>
<p>value with which to change <code>x</code> by</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new value of <code>x</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:5
x %*=% 6:10
identical(x, 130)  # TRUE
</code></pre>

<hr>
<h2 id='+25+2A+3D+25'>Multiply In Place</h2><span id='topic++25+2A+3D+25'></span>

<h3>Description</h3>

<p>Change the value of an object on the search path through multiplication. Equivalent to <code>'*='</code> in other languages.
See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %*=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B2A+2B3D+2B25_+3A_x">x</code></td>
<td>
<p>object to be modified; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="+2B25+2B2A+2B3D+2B25_+3A_value">value</code></td>
<td>
<p>value with which to change <code>x</code> by</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new value of <code>x</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 5
x %*=% 2
identical(x, 10)  # TRUE
</code></pre>

<hr>
<h2 id='+25+2F+3D+25'>Divide In Place</h2><span id='topic++25+2F+3D+25'></span>

<h3>Description</h3>

<p>Change the value of an object on the search path through division. Equivalent to <code>'/='</code> in other languages.
See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %/=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B2F+2B3D+2B25_+3A_x">x</code></td>
<td>
<p>object to be modified; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="+2B25+2B2F+2B3D+2B25_+3A_value">value</code></td>
<td>
<p>value with which to change <code>x</code> by</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new value of <code>x</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 10
x %/=% 2
identical(x, 5)  # TRUE
</code></pre>

<hr>
<h2 id='+25+5E+3D+25'>Power In Place</h2><span id='topic++25+5E+3D+25'></span>

<h3>Description</h3>

<p>Change the value of an object on the search path through exponentiation Equivalent to <code>'^='</code> in other languages.
See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %^=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B5E+2B3D+2B25_+3A_x">x</code></td>
<td>
<p>object to be modified; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="+2B25+2B5E+2B3D+2B25_+3A_value">value</code></td>
<td>
<p>value with which to change <code>x</code> by</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new value of <code>x</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 10
x %^=% 2
identical(x, 100)  # TRUE
</code></pre>

<hr>
<h2 id='+25+2B+3D+25'>Add In Place</h2><span id='topic++25+2B+3D+25'></span>

<h3>Description</h3>

<p>Increase the value of an object on the search path. Equivalent to <code>'+='</code> in other languages.
See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %+=% value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B2B+2B3D+2B25_+3A_x">x</code></td>
<td>
<p>object to be modified; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="+2B25+2B2B+2B3D+2B25_+3A_value">value</code></td>
<td>
<p>value with which to change <code>x</code> by</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the new value of <code>x</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
x %+=% 10
identical(x, 11:20)  # TRUE
</code></pre>

<hr>
<h2 id='decr'>Decrease Value In Place</h2><span id='topic+decr'></span>

<h3>Description</h3>

<p>Decrease the value of an object on the search path. Equivalent to <code>x--</code> or
<code>x -= by</code> in other languages. See <code><a href="#topic+incr">incr</a></code> for details on implementation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decr(x, by = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decr_+3A_x">x</code></td>
<td>
<p>object to be decreased; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="decr_+3A_by">by</code></td>
<td>
<p>value to decrease <code>x</code> by; defaults to <code>1</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the value of <code>x</code> decreased by <code>by</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- 1:10

incr(z)
identical(z, 2:11)       # TRUE

incr(z[1:3], by=2)
identical(z[1:3], 4:6)   # TRUE

l &lt;- list(a = 1, b = 2)
decr(l$a)
l$a == 0   # TRUE

decr(l$b, by = 4)
l$b == -2  # TRUE
</code></pre>

<hr>
<h2 id='deref'>Dereference Object</h2><span id='topic+deref'></span><span id='topic++21.ref'></span>

<h3>Description</h3>

<p>Return object from a <code><a href="#topic+ref">ref</a></code>. <code>`!`</code> can also be used to dereference an object.
See <code><a href="#topic+ref">ref</a></code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deref(x)

## S3 method for class 'ref'
!x
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deref_+3A_x">x</code></td>
<td>
<p>reference object</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>deref</code> is used to obtain the object originally referenced from <code><a href="#topic+ref">ref</a></code>.
<code>NULL</code> is returned if the object is no longer available. <code>ref</code> objects are
automatically dereferenced when using generic functions such as arithmetic operators.
Dereferencing a non-ref object just returns the object.
</p>


<h3>Value</h3>

<p>R Obj or <code>NULL</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a vectors of random numbers
x &lt;- rnorm(10)
y &lt;- runif(10)

# Create a reference to the random numbers
ref_to_x &lt;- ref(x)
ref_to_y &lt;- ref(y)

# Place references in a list
list_of_refs &lt;- list(x = ref_to_x, y = ref_to_y)

# Check sum of refs 'x' and 'y'
# Note that both `+` and `sum` automatically deref
sum1 &lt;- sum(list_of_refs$x + list_of_refs$y)

# Update 'x' and calculate new sum
x &lt;- rnorm(10)
sum2 &lt;- sum(list_of_refs$x + list_of_refs$y)

# check diff in sums to see if 'list_of_refs' updated
sum2 - sum1

# Obtain a reference to an expression
ref_to_part &lt;- ref(x[2:5] + 3)
deref(ref_to_part)

# Another expression reference
refs_to_list &lt;- ref(list(x, y))
deref(refs_to_list)

x &lt;- "hello"
y &lt;- "world"

deref(refs_to_list)

# Alternative, `!` can be used for dereferencing
!refs_to_list

identical(!refs_to_list, deref(refs_to_list))

# Referencing data.frame columns
dat &lt;- data.frame(first = 1:4, second = 5:8)
ref_to_first &lt;- ref(dat$first)
mean1 &lt;- mean(!ref_to_first)

dat$first &lt;- dat$first * 4
mean2 &lt;- mean(!ref_to_first)

mean2 == 4*mean1

# Many operations automatically dereference
ref_to_first * 5
ref_to_x == ref_to_y
cos(ref_to_first)
max(ref_to_first)

</code></pre>

<hr>
<h2 id='Extract'>Extract or Replace Parts of a Referenced Object</h2><span id='topic+Extract'></span><span id='topic++24.ref'></span><span id='topic++24.sref'></span><span id='topic++24+3C-.ref'></span><span id='topic++24+3C-.sref'></span><span id='topic++5B.ref'></span><span id='topic++5B.sref'></span><span id='topic++5B+3C-.ref'></span><span id='topic++5B+3C-.sref'></span><span id='topic++5B+5B.ref'></span><span id='topic++5B+5B.sref'></span><span id='topic++5B+5B+3C-.ref'></span><span id='topic++5B+5B+3C-.sref'></span>

<h3>Description</h3>

<p>Operators acting on a <code><a href="#topic+ref">ref</a></code> object that extract part of the underlying object
at the supplied indices, or replaces parts. These operators modify or extract from the
object that is referenced, not the reference! Use <code><a href="#topic+sref">sref</a></code> is this behavior
is undesirable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ref'
x$name

## S3 method for class 'sref'
x$..., value

## S3 replacement method for class 'ref'
x$name &lt;- value

## S3 replacement method for class 'sref'
x$... &lt;- value

## S3 method for class 'ref'
x[...]

## S3 method for class 'sref'
x[..., value]

## S3 replacement method for class 'ref'
x[...] &lt;- value

## S3 replacement method for class 'sref'
x[...] &lt;- value

## S3 method for class 'ref'
x[[...]]

## S3 method for class 'sref'
x[[..., value]]

## S3 replacement method for class 'ref'
x[[...]] &lt;- value

## S3 replacement method for class 'sref'
x[[...]] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Extract_+3A_x">x</code></td>
<td>
<p>object of class <code>"ref"</code></p>
</td></tr>
<tr><td><code id="Extract_+3A_name">name</code></td>
<td>
<p>literal character string or a name</p>
</td></tr>
<tr><td><code id="Extract_+3A_...">...</code></td>
<td>
<p>values passed to the function after dereferencing</p>
</td></tr>
<tr><td><code id="Extract_+3A_value">value</code></td>
<td>
<p>object, usually of a similar class as the dereferenced value of <code>x</code>, used for assigning in place</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of class <code>"ref"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- list(
  a = 1,
  b = "hello",
  "world"
)
ref_to_x &lt;- ref(x)

# Extract parts of 'x' from the reference
ref_to_x$a
ref_to_x[2:3]
ref_to_x[["b"]]

# Replace parts of 'x' through the reference
ref_to_x[["a"]] &lt;- 100
x$a == 100

ref_to_x$b &lt;- "bye"
x$b == "bye"

ref_to_x[2:3] &lt;- list(2, 3)
print(x)



</code></pre>

<hr>
<h2 id='getEnv'>Extract or Set Reference Environment</h2><span id='topic+getEnv'></span><span id='topic+setEnv'></span>

<h3>Description</h3>

<p>Functions to obtain or set the environment to which a <code><a href="#topic+ref">ref</a></code> or <code><a href="#topic+sref">sref</a></code> object points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getEnv(x)

setEnv(x, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getEnv_+3A_x">x</code></td>
<td>
<p>object of class <code>"ref"</code> or <code>"sref"</code></p>
</td></tr>
<tr><td><code id="getEnv_+3A_e">e</code></td>
<td>
<p>new environment to which the reference points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>environment for <code>getEnv</code> or reference object for <code>setEnv</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
ref_to_x &lt;- ref(x)
ref_env  &lt;- getEnv(ref_to_x)
ref_sym  &lt;- getSym(ref_to_x)

identical(ref_env, .GlobalEnv)
identical(ref_sym, "x")

e &lt;- new.env()
e$x &lt;- 100
ref_to_x &lt;- setEnv(ref_to_x, e)
!ref_to_x

</code></pre>

<hr>
<h2 id='getIndex'>Extract or Set Slice Index</h2><span id='topic+getIndex'></span><span id='topic+setIndex'></span>

<h3>Description</h3>

<p>Functions to obtain or set the index to which a <code><a href="#topic+slice">slice</a></code> object points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getIndex(x)

setIndex(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getIndex_+3A_x">x</code></td>
<td>
<p>object of class <code>"slice"</code></p>
</td></tr>
<tr><td><code id="getIndex_+3A_...">...</code></td>
<td>
<p>objects compatible with extracting or replacing a vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>"slice"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- matrix(1:9, nrow=3)
slice_x &lt;- slice(x, 2:3, 1)
identical(getIndex(slice_x), list(2:3, 1)) # TRUE

setIndex(slice_x, list(1, substitute()))
identical(!slice_x, c(1, 4, 7))    # TRUE

</code></pre>

<hr>
<h2 id='getSym'>Extract or Set Reference Symbol</h2><span id='topic+getSym'></span><span id='topic+setSym'></span>

<h3>Description</h3>

<p>Functions to obtain or set the object name to which a <code><a href="#topic+ref">ref</a></code> or <code><a href="#topic+sref">sref</a></code> object points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSym(x)

setSym(x, sym)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSym_+3A_x">x</code></td>
<td>
<p>object of class <code>"ref"</code></p>
</td></tr>
<tr><td><code id="getSym_+3A_sym">sym</code></td>
<td>
<p>symbol or character naming the object to which the reference points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character of length 1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
ref_to_x &lt;- ref(x)
ref_env  &lt;- getEnv(ref_to_x)
ref_sym  &lt;- getSym(ref_to_x)

identical(ref_env, .GlobalEnv)
identical(ref_sym, "x")

y &lt;- 500
ref_to_x &lt;- setSym(ref_to_x, y)
!ref_to_x

</code></pre>

<hr>
<h2 id='incr'>Increment Value In Place</h2><span id='topic+incr'></span>

<h3>Description</h3>

<p>Increase the value of an object on the search path. Equivalent to <code>x++</code> or <code>x += by</code> in other languages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incr(x, by = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incr_+3A_x">x</code></td>
<td>
<p>object to be incremented; can be a symbol, character, or extraction language object.</p>
</td></tr>
<tr><td><code id="incr_+3A_by">by</code></td>
<td>
<p>value to increase <code>x</code> by; defaults to <code>1</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>incr</code> quotes object <code>x</code>, then attempts to determine the primary object to be modified.
For example, <code>z</code> will be the 'primary object' in <code>incr(z[1:4])</code>. <code>incr</code> then searches
for the primary object in the search path and records the environment. <code>x &lt;- x + by</code> is then
evaluated within the recorded environment.
</p>
<p>The quoted object can be a symbol or character object. It can also be language object, though the primary
call must be either <code>`$`</code>, <code>`[`</code>, or <code>`[[`</code>. These can be nested. For example, <code>x[1]</code>
or <code>x[2, 1][3]</code> is acceptable, but <code>sqrt(x)</code> is not.
</p>
<p>See <code><a href="#topic+decr">decr</a></code> to decrease the value.
</p>


<h3>Value</h3>

<p>the value of <code>x</code> incremented by <code>by</code>, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- 1:10

incr(z)
identical(z, as.numeric(2:11))       # TRUE

incr(z[1:3], by=2)
identical(z[1:3], as.numeric(4:6))   # TRUE

l &lt;- list(a = 1, b = 2)
decr(l$a)
l$a == 0   # TRUE

decr(l$b, by = 4)
l$b == -2  # TRUE
</code></pre>

<hr>
<h2 id='is.nullref'>Is Reference Null?</h2><span id='topic+is.nullref'></span>

<h3>Description</h3>

<p>Check whether a <code><a href="#topic+ref">ref</a></code> points to a <code>NULL</code> object or an object
that no longer exists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.nullref(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.nullref_+3A_x">x</code></td>
<td>
<p>object of class <code>"ref"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>x</code> is not a reference or points to an object that does not exist; otherwise <code>FALSE</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a vectors of random numbers and a reference
x &lt;- rnorm(10)
ref_to_x &lt;- ref(x)

# Delete 'x' and check if NULL
is.nullref(ref_to_x) # FALSE
rm(x)
is.nullref(ref_to_x) # TRUE

</code></pre>

<hr>
<h2 id='is.ref'>Is Object a Reference?</h2><span id='topic+is.ref'></span><span id='topic+is.sref'></span><span id='topic+is.rfexpr'></span><span id='topic+is.slice'></span><span id='topic+is.a.ref'></span>

<h3>Description</h3>

<p>Check whether an R Object inherits a reference class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.ref(x)

is.sref(x)

is.rfexpr(x)

is.slice(x)

is.a.ref(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.ref_+3A_x">x</code></td>
<td>
<p>object of any class</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>x</code> is a reference object, otherwise <code>FALSE</code>
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>is.sref</code>: check whether object is an 'sref' object
</p>
</li>
<li> <p><code>is.rfexpr</code>: check whether object is a reference expression
</p>
</li>
<li> <p><code>is.slice</code>: check whether object references a slice of a vector
</p>
</li>
<li> <p><code>is.a.ref</code>: check whether object is any type of reference class
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'># Create a vectors of random numbers
x &lt;- rnorm(10)

# Create a reference to the random numbers
ref_to_x &lt;- ref(x)

is.ref(ref_to_x) # TRUE

</code></pre>

<hr>
<h2 id='iter.ref'>Convert Reference to Iterable Object</h2><span id='topic+iter.ref'></span><span id='topic+iter.slice'></span><span id='topic+iter.rfexpr'></span>

<h3>Description</h3>

<p><code><a href="#topic+ref">ref</a></code> methods for use with <code><a href="eList.html#topic+iter">iter</a></code> in the <code>eList</code> package.
It allows <code>ref</code> objects to be used with the different vector comprehensions in the package
and with functions such as <code><a href="base.html#topic+lapply">lapply</a></code> in base R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ref'
iter(x)

## S3 method for class 'slice'
iter(x)

## S3 method for class 'rfexpr'
iter(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="iter.ref_+3A_x">x</code></td>
<td>
<p>object to be looped across</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- sample(1:10, 5, replace=TRUE)
slice_x &lt;- slice(x, 1:2)

lapply(eList::iter(slice_x), print)
</code></pre>

<hr>
<h2 id='match_cond.ref'>Check and Evaluate Match Condition</h2><span id='topic+match_cond.ref'></span><span id='topic+match_cond.sref'></span><span id='topic+match_cond.slice'></span><span id='topic+match_cond.rfexpr'></span>

<h3>Description</h3>

<p><code><a href="#topic+ref">ref</a></code> methods for use with <code><a href="matchr.html#topic+Match">Match</a></code> in the <code>matchr</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ref'
match_cond(cond, x, do, ...)

## S3 method for class 'sref'
match_cond(cond, x, do, ...)

## S3 method for class 'slice'
match_cond(cond, x, do, ...)

## S3 method for class 'rfexpr'
match_cond(cond, x, do, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="match_cond.ref_+3A_cond">cond</code></td>
<td>
<p>match condition</p>
</td></tr>
<tr><td><code id="match_cond.ref_+3A_x">x</code></td>
<td>
<p>object being matched</p>
</td></tr>
<tr><td><code id="match_cond.ref_+3A_do">do</code></td>
<td>
<p>return expression associated with the condition. If <code>cond</code> is matched with <code>x</code>, then <code>do</code>
should be evaluated and returned in a list with <code>TRUE</code>: <code>list(TRUE, eval(do))</code>.</p>
</td></tr>
<tr><td><code id="match_cond.ref_+3A_...">...</code></td>
<td>
<p>arguments passed to evaluation</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="matchr.html#topic+Match">Match</a></code> for details about the implementation of <code>match_cond</code>. When matching,
<code>ref</code> conditions check whether <code>x</code> is a <code>ref</code> object. If so, then a match occurs if the condition
and <code>x</code> point to the same object. Otherwise, the condition is dereferenced and the resulting value
is checked using the appropriate match condition. Note that a <code><a href="#topic+slice">slice</a></code> is never matched with a
<code><a href="#topic+ref">ref</a></code> and vice versa, though <code><a href="#topic+ref">ref</a></code> and <code><a href="#topic+sref">sref</a></code> objects may match if they
point to the same object.
</p>


<h3>Value</h3>

<p><code>FALSE</code> if no match, or a list containing <code>TRUE</code> and the evaluated expression
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
ref_to_x &lt;- ref(x)

matchr::Match(
  x,
  is.character -&gt; "is a character",
  ref_to_x     -&gt; "same as reference",   # &lt;- MATCH
  .            -&gt; "anything else"
)

</code></pre>

<hr>
<h2 id='Methods'>S3 Methods for Automatic Dereferencing</h2><span id='topic+Methods'></span><span id='topic+Math.ref'></span><span id='topic+Ops.ref'></span><span id='topic+Complex.ref'></span><span id='topic+Summary.ref'></span><span id='topic+Math.rfexpr'></span><span id='topic+Ops.rfexpr'></span><span id='topic+Complex.rfexpr'></span><span id='topic+Summary.rfexpr'></span><span id='topic+all.equal.ref'></span><span id='topic+anyDuplicated.ref'></span><span id='topic+as.character.ref'></span><span id='topic+as.data.frame.ref'></span><span id='topic+as.Date.ref'></span><span id='topic+as.double.ref'></span><span id='topic+as.function.ref'></span><span id='topic+as.list.ref'></span><span id='topic+as.matrix.ref'></span><span id='topic+as.POSIXct.ref'></span><span id='topic+as.POSIXlt.ref'></span><span id='topic+as.single.ref'></span><span id='topic+as.table.ref'></span><span id='topic+c.ref'></span><span id='topic+cut.ref'></span><span id='topic+diff.ref'></span><span id='topic+dim.ref'></span><span id='topic+droplevels.ref'></span><span id='topic+duplicated.ref'></span><span id='topic+format.ref'></span><span id='topic+isSymmetric.ref'></span><span id='topic+kappa.ref'></span><span id='topic+labels.ref'></span><span id='topic+length.ref'></span><span id='topic+levels.ref'></span><span id='topic+mean.ref'></span><span id='topic+merge.ref'></span><span id='topic+qr.ref'></span><span id='topic+rep.ref'></span><span id='topic+rev.ref'></span><span id='topic+round.ref'></span><span id='topic+row.names.ref'></span><span id='topic+solve.ref'></span><span id='topic+sort.ref'></span><span id='topic+aggregate.ref'></span><span id='topic+coef.ref'></span><span id='topic+confint.ref'></span><span id='topic+fitted.ref'></span><span id='topic+median.ref'></span><span id='topic+model.frame.ref'></span><span id='topic+model.matrix.ref'></span><span id='topic+na.omit.ref'></span><span id='topic+plot.ref'></span><span id='topic+predict.ref'></span><span id='topic+residuals.ref'></span><span id='topic+summary.ref'></span><span id='topic+terms.ref'></span><span id='topic+vcov.ref'></span><span id='topic+window.ref'></span><span id='topic+all.equal.rfexpr'></span><span id='topic+anyDuplicated.rfexpr'></span><span id='topic+as.character.rfexpr'></span><span id='topic+as.data.frame.rfexpr'></span><span id='topic+as.Date.rfexpr'></span><span id='topic+as.double.rfexpr'></span><span id='topic+as.function.rfexpr'></span><span id='topic+as.list.rfexpr'></span><span id='topic+as.matrix.rfexpr'></span><span id='topic+as.POSIXct.rfexpr'></span><span id='topic+as.POSIXlt.rfexpr'></span><span id='topic+as.single.rfexpr'></span><span id='topic+as.table.rfexpr'></span><span id='topic+c.rfexpr'></span><span id='topic+cut.rfexpr'></span><span id='topic+diff.rfexpr'></span><span id='topic+dim.rfexpr'></span><span id='topic+droplevels.rfexpr'></span><span id='topic+duplicated.rfexpr'></span><span id='topic+format.rfexpr'></span><span id='topic+isSymmetric.rfexpr'></span><span id='topic+kappa.rfexpr'></span><span id='topic+labels.rfexpr'></span><span id='topic+length.rfexpr'></span><span id='topic+levels.rfexpr'></span><span id='topic+mean.rfexpr'></span><span id='topic+merge.rfexpr'></span><span id='topic+qr.rfexpr'></span><span id='topic+rep.rfexpr'></span><span id='topic+rev.rfexpr'></span><span id='topic+round.rfexpr'></span><span id='topic+row.names.rfexpr'></span><span id='topic+solve.rfexpr'></span><span id='topic+sort.rfexpr'></span><span id='topic+aggregate.rfexpr'></span><span id='topic+coef.rfexpr'></span><span id='topic+confint.rfexpr'></span><span id='topic+fitted.rfexpr'></span><span id='topic+median.rfexpr'></span><span id='topic+model.frame.rfexpr'></span><span id='topic+model.matrix.rfexpr'></span><span id='topic+na.omit.rfexpr'></span><span id='topic+plot.rfexpr'></span><span id='topic+predict.rfexpr'></span><span id='topic+residuals.rfexpr'></span><span id='topic+summary.rfexpr'></span><span id='topic+terms.rfexpr'></span><span id='topic+vcov.rfexpr'></span><span id='topic+window.rfexpr'></span>

<h3>Description</h3>

<p>These functions automatically call <code><a href="#topic+deref">deref</a></code> when applied to a <code><a href="#topic+ref">ref</a></code> or <code>"rfexpr"</code>
object. Therefore, there is no need to explicitly call <code>deref</code>. <code><a href="#topic+sref">sref</a></code> objects will need
to be explicitly dereferenced before applying these functions. All functions are from <code>base</code> R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ref'
Math(x, ...)

## S3 method for class 'ref'
Ops(e1, e2)

## S3 method for class 'ref'
Complex(z)

## S3 method for class 'ref'
Summary(..., na.rm = FALSE)

## S3 method for class 'rfexpr'
Math(x, ...)

## S3 method for class 'rfexpr'
Ops(e1, e2)

## S3 method for class 'rfexpr'
Complex(z)

## S3 method for class 'rfexpr'
Summary(..., na.rm = FALSE)

## S3 method for class 'ref'
all.equal(target, current, ...)

## S3 method for class 'ref'
anyDuplicated(x, incomparables = FALSE, ...)

## S3 method for class 'ref'
as.character(x, ...)

## S3 method for class 'ref'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)

## S3 method for class 'ref'
as.Date(x, ...)

## S3 method for class 'ref'
as.double(x, ...)

## S3 method for class 'ref'
as.function(x, ...)

## S3 method for class 'ref'
as.list(x, ...)

## S3 method for class 'ref'
as.matrix(x, ...)

## S3 method for class 'ref'
as.POSIXct(x, tz = "", ...)

## S3 method for class 'ref'
as.POSIXlt(x, tz = "", ...)

## S3 method for class 'ref'
as.single(x, ...)

## S3 method for class 'ref'
as.table(x, ...)

## S3 method for class 'ref'
c(...)

## S3 method for class 'ref'
cut(x, ...)

## S3 method for class 'ref'
diff(x, ...)

## S3 method for class 'ref'
dim(x)

## S3 method for class 'ref'
droplevels(x, ...)

## S3 method for class 'ref'
duplicated(x, incomparables = FALSE, ...)

## S3 method for class 'ref'
format(x, ...)

## S3 method for class 'ref'
isSymmetric(object, ...)

## S3 method for class 'ref'
kappa(z, ...)

## S3 method for class 'ref'
labels(object, ...)

## S3 method for class 'ref'
length(x)

## S3 method for class 'ref'
levels(x)

## S3 method for class 'ref'
mean(x, ...)

## S3 method for class 'ref'
merge(x, y, ...)

## S3 method for class 'ref'
qr(x, ...)

## S3 method for class 'ref'
rep(x, ...)

## S3 method for class 'ref'
rev(x)

## S3 method for class 'ref'
round(x, digits = 0)

## S3 method for class 'ref'
row.names(x)

## S3 method for class 'ref'
solve(a, b, ...)

## S3 method for class 'ref'
sort(x, decreasing = FALSE, ...)

## S3 method for class 'ref'
aggregate(x, ...)

## S3 method for class 'ref'
coef(object, ...)

## S3 method for class 'ref'
confint(object, parm, level = 0.95, ...)

## S3 method for class 'ref'
fitted(object, ...)

## S3 method for class 'ref'
median(x, na.rm = FALSE, ...)

## S3 method for class 'ref'
model.frame(formula, ...)

## S3 method for class 'ref'
model.matrix(object, ...)

## S3 method for class 'ref'
na.omit(object, ...)

## S3 method for class 'ref'
plot(x, y, ...)

## S3 method for class 'ref'
predict(object, ...)

## S3 method for class 'ref'
residuals(object, ...)

## S3 method for class 'ref'
summary(object, ...)

## S3 method for class 'ref'
terms(x, ...)

## S3 method for class 'ref'
vcov(object, ...)

## S3 method for class 'ref'
window(x, ...)

## S3 method for class 'rfexpr'
all.equal(target, current, ...)

## S3 method for class 'rfexpr'
anyDuplicated(x, incomparables = FALSE, ...)

## S3 method for class 'rfexpr'
as.character(x, ...)

## S3 method for class 'rfexpr'
as.data.frame(x, row.names = NULL, optional = FALSE, ...)

## S3 method for class 'rfexpr'
as.Date(x, ...)

## S3 method for class 'rfexpr'
as.double(x, ...)

## S3 method for class 'rfexpr'
as.function(x, ...)

## S3 method for class 'rfexpr'
as.list(x, ...)

## S3 method for class 'rfexpr'
as.matrix(x, ...)

## S3 method for class 'rfexpr'
as.POSIXct(x, tz = "", ...)

## S3 method for class 'rfexpr'
as.POSIXlt(x, tz = "", ...)

## S3 method for class 'rfexpr'
as.single(x, ...)

## S3 method for class 'rfexpr'
as.table(x, ...)

## S3 method for class 'rfexpr'
c(...)

## S3 method for class 'rfexpr'
cut(x, ...)

## S3 method for class 'rfexpr'
diff(x, ...)

## S3 method for class 'rfexpr'
dim(x)

## S3 method for class 'rfexpr'
droplevels(x, ...)

## S3 method for class 'rfexpr'
duplicated(x, incomparables = FALSE, ...)

## S3 method for class 'rfexpr'
format(x, ...)

## S3 method for class 'rfexpr'
isSymmetric(object, ...)

## S3 method for class 'rfexpr'
kappa(z, ...)

## S3 method for class 'rfexpr'
labels(object, ...)

## S3 method for class 'rfexpr'
length(x)

## S3 method for class 'rfexpr'
levels(x)

## S3 method for class 'rfexpr'
mean(x, ...)

## S3 method for class 'rfexpr'
merge(x, y, ...)

## S3 method for class 'rfexpr'
qr(x, ...)

## S3 method for class 'rfexpr'
rep(x, ...)

## S3 method for class 'rfexpr'
rev(x)

## S3 method for class 'rfexpr'
round(x, digits = 0)

## S3 method for class 'rfexpr'
row.names(x)

## S3 method for class 'rfexpr'
solve(a, b, ...)

## S3 method for class 'rfexpr'
sort(x, decreasing = FALSE, ...)

## S3 method for class 'rfexpr'
aggregate(x, ...)

## S3 method for class 'rfexpr'
coef(object, ...)

## S3 method for class 'rfexpr'
confint(object, parm, level = 0.95, ...)

## S3 method for class 'rfexpr'
fitted(object, ...)

## S3 method for class 'rfexpr'
median(x, na.rm = FALSE, ...)

## S3 method for class 'rfexpr'
model.frame(formula, ...)

## S3 method for class 'rfexpr'
model.matrix(object, ...)

## S3 method for class 'rfexpr'
na.omit(object, ...)

## S3 method for class 'rfexpr'
plot(x, y, ...)

## S3 method for class 'rfexpr'
predict(object, ...)

## S3 method for class 'rfexpr'
residuals(object, ...)

## S3 method for class 'rfexpr'
summary(object, ...)

## S3 method for class 'rfexpr'
terms(x, ...)

## S3 method for class 'rfexpr'
vcov(object, ...)

## S3 method for class 'rfexpr'
window(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Methods_+3A_x">x</code>, <code id="Methods_+3A_y">y</code>, <code id="Methods_+3A_e1">e1</code>, <code id="Methods_+3A_e2">e2</code>, <code id="Methods_+3A_z">z</code>, <code id="Methods_+3A_target">target</code>, <code id="Methods_+3A_current">current</code>, <code id="Methods_+3A_object">object</code>, <code id="Methods_+3A_a">a</code>, <code id="Methods_+3A_b">b</code>, <code id="Methods_+3A_formula">formula</code></td>
<td>
<p>objects of class <code>"ref"</code></p>
</td></tr>
<tr><td><code id="Methods_+3A_...">...</code></td>
<td>
<p>other objects passed to the function</p>
</td></tr>
<tr><td><code id="Methods_+3A_incomparables">incomparables</code>, <code id="Methods_+3A_digits">digits</code>, <code id="Methods_+3A_tz">tz</code>, <code id="Methods_+3A_row.names">row.names</code>, <code id="Methods_+3A_optional">optional</code>, <code id="Methods_+3A_decreasing">decreasing</code>, <code id="Methods_+3A_na.rm">na.rm</code>, <code id="Methods_+3A_parm">parm</code>, <code id="Methods_+3A_level">level</code></td>
<td>
<p>function specific arguments. See the relevant
functions for more details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An R object depending on the function.
</p>

<hr>
<h2 id='modify_by'>Modify an Object In Place</h2><span id='topic+modify_by'></span>

<h3>Description</h3>

<p>Update the value pointed to by a <code><a href="#topic+ref">ref</a></code> object. If the new value is a function,
the old values will be applied to the function and overwritten.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modify_by(x, value, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modify_by_+3A_x">x</code></td>
<td>
<p>object of class <code>"ref"</code></p>
</td></tr>
<tr><td><code id="modify_by_+3A_value">value</code></td>
<td>
<p>new value or function applied to the object at the referenced location</p>
</td></tr>
<tr><td><code id="modify_by_+3A_...">...</code></td>
<td>
<p>additional arguments passed to the function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>"ref"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
ref_to_x &lt;- ref(x)

# Apply the square root function
modify_by(ref_to_x, sqrt)
print(x)

# Overwrite the original values
modify_by(ref_to_x, "hello world!")
print(x)

</code></pre>

<hr>
<h2 id='ref'>Create Reference to an Object</h2><span id='topic+ref'></span>

<h3>Description</h3>

<p>Create a reference to an arbitrary R object. Use <code><a href="#topic+deref">deref</a></code> or <code>`!`</code> to obtain the values
within the referenced object. Use <code><a href="#topic+sref">sref</a></code> to create a safer reference that limits modification
in place.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ref(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ref_+3A_x">x</code></td>
<td>
<p>object to be referenced. <code>x</code> can be a symbol, character, or an expression containing a symbol.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Since R does not have reference semantics outside of environments, <code>ref</code> records the environment location
of an object rather than its memory address.<code>ref(x)</code> searches for object with name <code>"x"</code> within the
search path. If found, a reference to the environment and the name <code>"x"</code> are recorded. Otherwise, an
error is returned.
</p>
<p><code>ref</code> can also create a reference to objects within an expression. <code>ref</code> searches the uncalled names
within the expression and replaces them with a reference to the object and a call to deref. For example,
<code>ref(x[[y]][2])</code> inserts a reference to variable <code>x</code> and variable <code>y</code> from the search path into
the expression then wraps the expression into an object of class <code>"ref_exp"</code>. These objects are
dereferenced by evaluating the expression. An error is returned only if the corresponding variables cannot
be found along the search path.
</p>
<p><code><a href="#topic+deref">deref</a></code> can be used to find the objects at the referenced location. This usually results in a
copy of the objects. If the object is no longer available, <code>NULL</code> will be returned. Generic functions on
a <code>ref</code> object, such as arithmetic or <code>`sqrt`</code>, will automatically dereference the object before
applying the generic function. See <a href="#topic+Methods">Methods</a> and <a href="#topic+Extract">Extract</a> for a list of available functions
where explicit dereferencing is not needed. If this behavior is not desired, then <code><a href="#topic+sref">sref</a></code> can
be used to force the explicit use of <code>deref</code>.
</p>
<p>See <a href="#topic+Extract">Extract</a> and <code><a href="#topic+modify_by">modify_by</a></code> for functions that modify the underlying value in place.
</p>
<p>An active binding could also be used instead of creating a reference. Active bindings, though, can be more
difficult to pass around and may have additional overhead since they are functions.
</p>
<p><code>ref</code> can provide unsafe or inconsistent code that is susceptible to side-effects. Apply caution and
restraint with its use and be sure to <code>deref</code> before exporting any <code>ref</code> objects.
</p>


<h3>Value</h3>

<p>a list of class <code>"ref"</code> containing a reference to the environment of the object and the name of
the object to be found within the environment, or an expression of class <code>"rfexpr"</code> containing references
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a vectors of random numbers
x &lt;- rnorm(10)
y &lt;- runif(10)

# Create a reference to the random numbers
ref_to_x &lt;- ref(x)
ref_to_y &lt;- ref(y)

# Place references in a list
list_of_refs &lt;- list(x = ref_to_x, y = ref_to_y)

# Check sum of refs 'x' and 'y'
# Note that both `+` and `sum` automatically deref
sum1 &lt;- sum(list_of_refs$x + list_of_refs$y)

# Update 'x' and calculate new sum
x &lt;- rnorm(10)
sum2 &lt;- sum(list_of_refs$x + list_of_refs$y)

# check diff in sums to see if 'list_of_refs' updated
sum2 - sum1

# Obtain a reference to an expression
ref_to_part &lt;- ref(x[2:5] + 3)
deref(ref_to_part)

# Another expression reference
refs_to_list &lt;- ref(list(x, y))
deref(refs_to_list)

x &lt;- "hello"
y &lt;- "world"

deref(refs_to_list)

# Alternative, `!` can be used for dereferencing
!refs_to_list

identical(!refs_to_list, deref(refs_to_list))

# Referencing data.frame columns
dat &lt;- data.frame(first = 1:4, second = 5:8)
ref_to_first &lt;- ref(dat$first)
mean1 &lt;- mean(!ref_to_first)

dat$first &lt;- dat$first * 4
mean2 &lt;- mean(!ref_to_first)

mean2 == 4*mean1

# Many operations automatically dereference
ref_to_first * 5
ref_to_x == ref_to_y
cos(ref_to_first)
max(ref_to_first)

</code></pre>

<hr>
<h2 id='ref_list'>Create A List of References</h2><span id='topic+ref_list'></span>

<h3>Description</h3>

<p>Create a list of references or referenced expressions. See <code><a href="#topic+ref">ref</a></code> for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ref_list(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ref_list_+3A_...">...</code></td>
<td>
<p>objects to be referenced, possibly named.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing object references
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1
y &lt;- "hello"
z &lt;- list(a = 1, b = 2, c = 3)

new_list &lt;- ref_list(x, second = y, z)

!new_list[[1]]
(!new_list$second) == y  # TRUE

y &lt;- 18
(!new_list$second) == 18 # TRUE

</code></pre>

<hr>
<h2 id='slice'>Create a Reference Slice to a Vector</h2><span id='topic+slice'></span>

<h3>Description</h3>

<p>Create a reference to a 'part' of an R object. Use <code><a href="#topic+deref">deref</a></code> or <code>`!`</code> to obtain the values
within the referenced object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slice(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slice_+3A_x">x</code></td>
<td>
<p>object to be referenced; must be a symbol or character</p>
</td></tr>
<tr><td><code id="slice_+3A_...">...</code></td>
<td>
<p>objects passed to <code>x[...]</code> when dereferenced</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>slice</code> is similar to <code><a href="#topic+ref">ref</a></code>; it creates a reference to another R object. There are two
main differences with <code>ref</code>. First, <code>slice</code> only accepts names or characters instead of
expressions. Second, <code>slice</code> records a part of the underlying object. <code>slice(x, 1:2, 3)</code>
is equivalent to the reference of <code>x[1:2, 3]</code>. This is similar to <code>ref(x[1:2, 3])</code>, though the
implementation is different. <code>ref</code> would create an expression with a reference to <code>x</code>, while
<code>slice(x, 1:2, 3)</code> creates a list with a reference to <code>x</code> and the extract inputs. <code>slice</code>
is more efficient, but is limited in its capabilities.
</p>


<h3>Value</h3>

<p>object of class <code>"slice"</code> and <code>"ref"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Vector Slice
x &lt;- 10:1

slice_x &lt;- slice(x, 2:4)
identical(!slice_x, 9:7)   # TRUE

x &lt;- x - 2
identical(!slice_x, 7:5)   # TRUE

## Matrix Slice
y &lt;- matrix(1:9, nrow=3)
slice_y &lt;- slice(y, 2, 3)

identical(!slice_y, y[2, 3])   # TRUE
</code></pre>

<hr>
<h2 id='sref'>Create a Safer Reference to an Object</h2><span id='topic+sref'></span>

<h3>Description</h3>

<p>Create a reference to an arbitrary R object. See <code><a href="#topic+ref">ref</a></code> for more details. <code>sref</code> behaves
similar to <code>ref</code>, but does not have support for direct operations on the referenced object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sref(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sref_+3A_x">x</code></td>
<td>
<p>object to be referenced. <code>x</code> can be a symbol, character, or an expression containing a symbol.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sref</code> is similar to <code><a href="#topic+ref">ref</a></code>; it accepts either an R object or an expression, then records
its location. <code>ref</code> objects prioritize convenience, while <code>sref</code> objects prioritize clarity and
safety. For example, <code>`[`</code> and <code>`$`</code> can be used on a <code>ref</code> object to access the elements
of the underlying object, while <code>`[&lt;-`</code> and <code>`$&lt;-`</code> can be used to overwrite elements within.
These do not work for <code>sref</code> objects. Furthermore, base mathematical functions such as <code>`+`</code>
and <code>sqrt</code> also will not automatically dereference before applying.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:10
ref_x  &lt;- ref(x)
sref_x &lt;- sref(x)

## These operations will run:
ref_x + 5
ref_x[1:4]
ref_x[7] &lt;- 5

## These operations will not run:
# sref_x + 5
# sref_x[1:4]
# sref_x[7] &lt;- 5

</code></pre>

<hr>
<h2 id='sslice'>Create a Safer Reference Slice to a Vector</h2><span id='topic+sslice'></span>

<h3>Description</h3>

<p>Create a reference to a 'part' of an R object. <code>sslice</code> behaves similar to <code><a href="#topic+slice">slice</a></code>, but does not
have support for direct operations on the referenced object. See <code><a href="#topic+sref">sref</a></code> for details about the behavior.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sslice(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sslice_+3A_x">x</code></td>
<td>
<p>object to be referenced; must be a symbol or character</p>
</td></tr>
<tr><td><code id="sslice_+3A_...">...</code></td>
<td>
<p>objects passed to <code>x[...]</code> when dereferenced</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class <code>"sslice"</code> and <code>"sref"</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package SIPETool</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SIPETool}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CPET_time'><p>SIPETool example files</p></a></li>
<li><a href='#data_indexer'><p>data indexer</p></a></li>
<li><a href='#normalizer'><p>Data normalizer</p></a></li>
<li><a href='#raw_SIFT'><p>SIPETool example files</p></a></li>
<li><a href='#SIFT_filtered'><p>SIPETool example files</p></a></li>
<li><a href='#SIFT_output_filter'><p>SIFT output filter</p></a></li>
<li><a href='#SIFT_time'><p>SIPETool example files</p></a></li>
<li><a href='#sign_detect'><p>Sign detection</p></a></li>
<li><a href='#tidal_analyzer'><p>Tidal analyzer</p></a></li>
<li><a href='#tidal_finder'><p>Tidal finder</p></a></li>
<li><a href='#time_filter'><p>Time_alignment</p></a></li>
<li><a href='#trend'><p>Trend finder</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>SIFT-MS and CPET Data Processor</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Author:</td>
<td>Federico Vivaldi; Tommaso Lomonaco </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Federico Vivaldi &lt;federico-vivaldi@virgilio.it&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Processor for selected ion flow tube mass spectrometer
            (SIFT-MS) output file from breath analysis. It allows the filtering of the SIFT output file (i.e., variation
            over time of the target analyte concentration) and the following
            analysis for the determination of: maximum, average, and standard deviation
            value of target concentration measured at each exhalation, and the
            respiratory rate over the measurement. Additionally, it is possible to
            align the SIFT-MS data with other on-line techniques such as 
            cardio pulmonary exercise test (CPET) for a comprehensive 
            characterization of breath samples.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Convolutioner</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-21 14:13:47 UTC; federico</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-22 14:50:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='CPET_time'>SIPETool example files</h2><span id='topic+CPET_time'></span>

<h3>Description</h3>

<p>Raw and filtered output from SIFT-MS, and CPET system.
Four different files are available:
raw_sift -&gt; raw data from SIFT-MS
CPET_time -&gt; data from CPET system for time allignment
SIFT_time -&gt; filtered data from SIFT-MS for time allignment
SIFT_filtered -&gt; raw data from SIFT-MS filtered using SIFT_output_filter
</p>

<hr>
<h2 id='data_indexer'>data indexer</h2><span id='topic+data_indexer'></span>

<h3>Description</h3>

<p>This function takes as input a vector and return the
data index according to the selected time frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_indexer(dat, time_frame_index = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_indexer_+3A_dat">dat</code></td>
<td>
<p>input vector</p>
</td></tr>
<tr><td><code id="data_indexer_+3A_time_frame_index">time_frame_index</code></td>
<td>
<p>custom data range from the time column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector indexed according to the specified time frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_indexer(c(1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1))

</code></pre>

<hr>
<h2 id='normalizer'>Data normalizer</h2><span id='topic+normalizer'></span>

<h3>Description</h3>

<p>This function takes as input a vector and returns it normalized between
a specified range
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalizer(dat, norm_range = c(0, 1))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="normalizer_+3A_dat">dat</code></td>
<td>
<p>the vector to normalize</p>
</td></tr>
<tr><td><code id="normalizer_+3A_norm_range">norm_range</code></td>
<td>
<p>the range used for normalization</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector normalized between norm_range
</p>


<h3>Examples</h3>

<pre><code class='language-R'>normalizer(c(1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1))

</code></pre>

<hr>
<h2 id='raw_SIFT'>SIPETool example files</h2><span id='topic+raw_SIFT'></span>

<h3>Description</h3>

<p>Raw and filtered output from SIFT-MS, and CPET system.
Four different files are available:
raw_SIFT -&gt; raw data from SIFT-MS
CPET_time -&gt; data from CPET system for time allignment
SIFT_time -&gt; filtered data from SIFT-MS for time allignment
SIFT_filtered -&gt; raw data from SIFT-MS filtered using SIFT_output_filter
</p>

<hr>
<h2 id='SIFT_filtered'>SIPETool example files</h2><span id='topic+SIFT_filtered'></span>

<h3>Description</h3>

<p>Raw and filtered output from SIFT-MS, and CPET system.
Four different files are available:
raw_sift -&gt; raw data from SIFT-MS
CPET_time -&gt; data from CPET system for time allignment
SIFT_time -&gt; filtered data from SIFT-MS for time allignment
SIFT_filtered -&gt; raw data from SIFT-MS filtered using SIFT_output_filter
</p>

<hr>
<h2 id='SIFT_output_filter'>SIFT output filter</h2><span id='topic+SIFT_output_filter'></span>

<h3>Description</h3>

<p>This function takes as input the output file generated by the SIFT-MS
and returns a .csv containing the TIME and the concentrations data selected
by the user
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SIFT_output_filter(
  setdir = getwd(),
  input_name = file.choose(),
  output_name,
  n_parameters = 2,
  param_names = c("Isoprene", "Acetone"),
  out_file = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SIFT_output_filter_+3A_setdir">setdir</code></td>
<td>
<p>allow the selection of the working directory</p>
</td></tr>
<tr><td><code id="SIFT_output_filter_+3A_input_name">input_name</code></td>
<td>
<p>allow the selection of the input file</p>
</td></tr>
<tr><td><code id="SIFT_output_filter_+3A_output_name">output_name</code></td>
<td>
<p>name of the .csv output file</p>
</td></tr>
<tr><td><code id="SIFT_output_filter_+3A_n_parameters">n_parameters</code></td>
<td>
<p>number of analytes</p>
</td></tr>
<tr><td><code id="SIFT_output_filter_+3A_param_names">param_names</code></td>
<td>
<p>vector with name of the analytes</p>
</td></tr>
<tr><td><code id="SIFT_output_filter_+3A_out_file">out_file</code></td>
<td>
<p>flag for the export of a csv file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Filtered data and optional csv from SIFT input
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(raw_SIFT)
SIFT_output_filter(input_name = raw_SIFT, output_name = "testfile", out_file = FALSE)


</code></pre>

<hr>
<h2 id='SIFT_time'>SIPETool example files</h2><span id='topic+SIFT_time'></span>

<h3>Description</h3>

<p>Raw and filtered output from SIFT-MS, and CPET system.
Four different files are available:
raw_sift -&gt; raw data from SIFT-MS
CPET_time -&gt; data from CPET system for time allignment
SIFT_time -&gt; filtered data from SIFT-MS for time allignment
SIFT_filtered -&gt; raw data from SIFT-MS filtered using SIFT_output_filter
</p>

<hr>
<h2 id='sign_detect'>Sign detection</h2><span id='topic+sign_detect'></span>

<h3>Description</h3>

<p>This function takes as input a vector and returns the sign of each element
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sign_detect(dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sign_detect_+3A_dat">dat</code></td>
<td>
<p>the vector to be used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector with the signs of each element of the original matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sign_detect(c(1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1))

</code></pre>

<hr>
<h2 id='tidal_analyzer'>Tidal analyzer</h2><span id='topic+tidal_analyzer'></span>

<h3>Description</h3>

<p>This function takes as input a csv file containing a time
column and data columns and returns the position of the end tidals for
each data column maximazing the syncronization between data. This function
was originally devised for the analysis of the end tidals coming from
exhaled breath analyzed through SIFT-MS technology
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidal_analyzer(
  setdir = getwd(),
  input_name = file.choose(),
  output_name,
  starting_threshold = 0.03,
  time_frame = NA,
  out_file = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidal_analyzer_+3A_setdir">setdir</code></td>
<td>
<p>working directory</p>
</td></tr>
<tr><td><code id="tidal_analyzer_+3A_input_name">input_name</code></td>
<td>
<p>csv file</p>
</td></tr>
<tr><td><code id="tidal_analyzer_+3A_output_name">output_name</code></td>
<td>
<p>name of the output file</p>
</td></tr>
<tr><td><code id="tidal_analyzer_+3A_starting_threshold">starting_threshold</code></td>
<td>
<p>initial value for the dynamic threshold</p>
</td></tr>
<tr><td><code id="tidal_analyzer_+3A_time_frame">time_frame</code></td>
<td>
<p>custom data range from the time column</p>
</td></tr>
<tr><td><code id="tidal_analyzer_+3A_out_file">out_file</code></td>
<td>
<p>flag for the export of a csv file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>csv containing the end tidals, their maximum, average, frequency, and timing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SIFT_filtered)
tidal_analyzer(input_name = head(SIFT_filtered, n = 100), output_name = "out", out_file = FALSE)

</code></pre>

<hr>
<h2 id='tidal_finder'>Tidal finder</h2><span id='topic+tidal_finder'></span>

<h3>Description</h3>

<p>This function takes as input a matrix and returns for
each column the end tidals depending of the threshold set. It is
possible to set a custom time frame for the search of the tidals.
Note: a minimum amount of 45 points are necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidal_finder(
  dat,
  height_threshold = 0.2,
  refine = FALSE,
  time_frame_index = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tidal_finder_+3A_dat">dat</code></td>
<td>
<p>the input matrix</p>
</td></tr>
<tr><td><code id="tidal_finder_+3A_height_threshold">height_threshold</code></td>
<td>
<p>the minimum height of the tidal</p>
</td></tr>
<tr><td><code id="tidal_finder_+3A_refine">refine</code></td>
<td>
<p>refine the dataset</p>
</td></tr>
<tr><td><code id="tidal_finder_+3A_time_frame_index">time_frame_index</code></td>
<td>
<p>custom time frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>matrix with the tidals for each column
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tidal_finder(c(1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1))

</code></pre>

<hr>
<h2 id='time_filter'>Time_alignment</h2><span id='topic+time_filter'></span>

<h3>Description</h3>

<p>This function takes as input two data set containing a time vector and
a data vector and return the two data sets aligned. This is done
by reducing the dimensions of the data set with higher points. The first data set
is the one coming from the CPET-ESE and the second one from the SIFT-MS
</p>


<h3>Usage</h3>

<pre><code class='language-R'>time_filter(Cy = file.choose(), sift = file.choose())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="time_filter_+3A_cy">Cy</code></td>
<td>
<p>CPET-ESE output file</p>
</td></tr>
<tr><td><code id="time_filter_+3A_sift">sift</code></td>
<td>
<p>SIFT-MS refined file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot and the SIFT-MS data file resized for the alignment with the CPET-ESE file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SIFT_time)
data(CPET_time)
time_filter(CPET_time, SIFT_time)

</code></pre>

<hr>
<h2 id='trend'>Trend finder</h2><span id='topic+trend'></span>

<h3>Description</h3>

<p>This function takes as input a vector and returns
the trend of each column expressed as the difference
between two consecutive elements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trend(dat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trend_+3A_dat">dat</code></td>
<td>
<p>the vector to analyze</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector containing the trend of the each column
</p>


<h3>Examples</h3>

<pre><code class='language-R'>trend(c(1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1,1:10,10:1))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

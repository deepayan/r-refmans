<!DOCTYPE html><html lang="en"><head><title>Help for package cnum</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cnum}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cnum-package'><p>cnum: Working with Chinese Numerals</p></a></li>
<li><a href='#conversion'><p>Chinese Numerals Conversion</p></a></li>
<li><a href='#default_cnum_lang'><p>Default Language for <code>cnum</code></p></a></li>
<li><a href='#tools'><p>Chinese Numerals Detection and Extraction</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Chinese Numerals Processing</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Elgar Teo &lt;elgarteo@connect.hku.hk&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/elgarteo/cnum/">https://github.com/elgarteo/cnum/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/elgarteo/cnum/issues">https://github.com/elgarteo/cnum/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Chinese numerals processing in R, such as conversion between 
    Chinese numerals and Arabic numerals as well as detection and extraction of
    Chinese numerals in character objects and string. This package supports 
    the casual scale naming system and the respective SI prefix systems used 
    in mainland China and Taiwan: 
    "The State Council's Order on the Unified Implementation of Legal Measurement Units in Our Country"
    The State Council of the People's Republic of China (1984)
    "Names, Definitions and Symbols of the Legal Units of Measurement and the Decimal Multiples and Submultiples" 
    Ministry of Economic Affairs (2019) <a href="https://gazette.nat.gov.tw/egFront/detail.do?metaid=108965">https://gazette.nat.gov.tw/egFront/detail.do?metaid=108965</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stringr, Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>magrittr</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, BH</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-11 17:28:13 UTC; Elgar</td>
</tr>
<tr>
<td>Author:</td>
<td>Elgar Teo [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-11 22:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cnum-package'>cnum: Working with Chinese Numerals</h2><span id='topic+cnum'></span><span id='topic+cnum-package'></span>

<h3>Description</h3>

<p>This R package provides useful functions to work with Chinese numerals in R,
such as conversion between Chinese numerals and Arabic numerals as well as
detection and extraction of Chinese numerals in character objects and string.
</p>


<h3>Warnings</h3>

<p>This package supports conversion of numbers with absolute
value not greater than 1e+18. Note that numbers in R are in double
precision that carries approximately 16 significant digits. The conversion
accuracy for numbers beyond this limit is therefore not guaranteed.
</p>


<h3>Note</h3>

<p>Due to technical limitation, R package documentation cannot contain any
non-ASCII characters. Therefore, Chinese characters are represented in
romanized Chinese <em>pinyin</em> in the documentation. Visit the GitHub page
for examples in Chinese.
</p>


<h3>Author(s)</h3>

<p>Elgar Teo (<a href="mailto:elgarteo@connect.hku.hk">elgarteo@connect.hku.hk</a>)
</p>


<h3>See Also</h3>

<p>GitHub page: <a href="https://github.com/elgarteo/cnum">https://github.com/elgarteo/cnum</a>
</p>

<hr>
<h2 id='conversion'>Chinese Numerals Conversion</h2><span id='topic+conversion'></span><span id='topic+c2num'></span><span id='topic+num2c'></span>

<h3>Description</h3>

<p>Functions to convert between Chinese and Arabic numerals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>c2num(
  x,
  lang = default_cnum_lang(),
  mode = "casual",
  financial = FALSE,
  literal = FALSE
)

num2c(
  x,
  lang = default_cnum_lang(),
  mode = "casual",
  financial = FALSE,
  literal = FALSE,
  single = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conversion_+3A_x">x</code></td>
<td>
<p>the Arabic/Chinese numerals to be converted, or a vector of them.
The absolute value must not be greater than 1e+18.</p>
</td></tr>
<tr><td><code id="conversion_+3A_lang">lang</code></td>
<td>
<p>the language of the Chinese numerals. <code>"tc"</code> for Traditional
Chinese. <code>"sc"</code> for Simplified Chinese. The default is <code>"tc"</code>,
but this can be changed by setting <code><a href="base.html#topic+options">options</a>(cnum.lang =
"sc")</code>.</p>
</td></tr>
<tr><td><code id="conversion_+3A_mode">mode</code></td>
<td>
<p>the scale naming system to be enforced. See the ‘Details’ section
for the list of supported modes.</p>
</td></tr>
<tr><td><code id="conversion_+3A_financial">financial</code></td>
<td>
<p>logical: should the financial numerals be used (<em>daxie
shuzi</em>)?</p>
</td></tr>
<tr><td><code id="conversion_+3A_literal">literal</code></td>
<td>
<p>logical: should the numerals be converted literally? (e.g. 721
to be converted to &quot;<em>qi er yi</em>&quot; instead of &quot;<em>qibai ershiyi</em>&quot; and
vice versa)</p>
</td></tr>
<tr><td><code id="conversion_+3A_single">single</code></td>
<td>
<p>logical: should the return result with one scale character
only? (e.g. 1.5e+08 as &quot;<em>yi dian wuyi</em>&quot; instead of &quot;<em>yiyi
wuqianwan</em>&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>c2num</code> returns a numeric vector.
</p>
<p><code>num2c</code> returns a character vector.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>c2num()</code>: Convert Chinese Numerals to Arabic Numerals.
</p>
</li>
<li> <p><code>num2c()</code>: Convert Arabic Numerals to Chinese Numerals.
</p>
</li></ul>


<h3>Details</h3>

<p>The following scale naming systems are supported: </p>

<ul>
<li> <p><code>"casual"</code>: the casual naming system used outside of mainland
China, i.e. 1e+09 is referred to as &quot;<em>yi zhao</em>&quot;. </p>
</li>
<li>
<p><code>"casualPRC"</code>: the casual naming system used in mainland China,
i.e. 1e+9 is referred to as &quot;<em>yi wanyi</em>&quot;. </p>
</li>
<li> <p><code>"SIprefix"</code>:
the SI prefix system used in Taiwan as stipulated in the document
<em>Names, Definitions and Symbols of the Legal Units of Measurement and
the Decimal Multiples and Submultiples</em>. </p>
</li>
<li> <p><code>"SIprefixPRC"</code>:
the SI prefix system used in mainland China as stipulated in the document
<em>China Statutory Measurement Units</em>. </p>
</li>
<li> <p><code>"SIprefixPRClong"</code>:
a variant of <code>"SIprefixPRC"</code> with long prefixes, e.g. 1e+09 is
referred to as &quot;<em>yi jika</em>&quot; instead of &quot;<em>yi ji</em>&quot;. </p>
</li></ul>



<h3>Warnings</h3>

<p>The modes <code>"casual"</code> and <code>"casualPRC"</code>
implements a “myriad scale” with an interval of 1e+04 for large numbers,
i.e. &quot;<em>yi</em>&quot; is 10,000 times of &quot;<em>wan</em>&quot;, which is different from
some of the interval systems used in ancient Chinese writings.
</p>
<p>This package supports conversion of numbers with absolute
value not greater than 1e+18. Note that numbers in R are in double
precision that carries approximately 16 significant digits. The conversion
accuracy for numbers beyond this limit is therefore not guaranteed.
</p>


<h3>References</h3>

<p>The standard for mode <code>"SIprefix"</code> <em>Names, Definitions
and Symbols of the Legal Units of Measurement and the Decimal Multiples and
Submultiples</em> is available from
<a href="https://gazette.nat.gov.tw/egFront/detail.do?metaid=108965">https://gazette.nat.gov.tw/egFront/detail.do?metaid=108965</a> (in
Traditional Chinese).
</p>
<p>The standard for mode <code>"SIprefixPRC"</code> <em>The State Council's Order
on the Unified Implementation of Legal Measurement Units in Our Country</em>
is available from the PRC State Council's website (in Simplified Chinese).
</p>


<h3>See Also</h3>

<p><a href="#topic+tools">Functions for detetction and extraction</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>c2num("EXAMPLE CHECK")

num2c(721)
num2c(-6)
num2c(3.14)
num2c(721, literal = TRUE)
num2c(1.45e4, financial = TRUE)
num2c(6.85e4, lang = "sc", mode = "casualPRC")
num2c(1.5e4, mode = "SIprefix", single = TRUE)

</code></pre>

<hr>
<h2 id='default_cnum_lang'>Default Language for <code>cnum</code></h2><span id='topic+default_cnum_lang'></span>

<h3>Description</h3>

<p>Function to check the default language for <code>cnum</code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_cnum_lang()
</code></pre>


<h3>Details</h3>

<p>This package supports Traditional Chinese and Simplified Chinese. The
language can be specified with the <code>lang</code> parameter in every function,
with <code>"tc"</code> for Traditional Chinese and <code>"sc"</code> for Simplified
Chinese. The default is <code>"tc"</code>, but this can be changed by setting
<code><a href="base.html#topic+options">options</a>(cnum.lang = "sc")</code>.
</p>


<h3>Value</h3>

<p>The default language for <code>cnum</code> functions.
</p>


<h3>See Also</h3>

 <ul>
<li> <p><a href="#topic+conversion">Functions for conversion</a> </p>
</li>
<li>
<p><a href="#topic+tools">Functions for detetction and extraction</a> </p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Set the default language to Simplified Chinese
options(cnum.lang = "sc")

default_cnum_lang()

</code></pre>

<hr>
<h2 id='tools'>Chinese Numerals Detection and Extraction</h2><span id='topic+tools'></span><span id='topic+is_cnum'></span><span id='topic+has_cnum'></span><span id='topic+extract_cnum'></span>

<h3>Description</h3>

<p>Functions to detect and extract Chinese numerals in character object and
string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_cnum(
  x,
  lang = default_cnum_lang(),
  mode = "casual",
  financial = FALSE,
  literal = FALSE,
  strict = FALSE,
  ...
)

has_cnum(
  x,
  lang = default_cnum_lang(),
  mode = "casual",
  financial = FALSE,
  ...
)

extract_cnum(
  x,
  lang = default_cnum_lang(),
  mode = "casual",
  financial = FALSE,
  prefix = NULL,
  suffix = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tools_+3A_x">x</code></td>
<td>
<p>the character object or string to be tested or to extract from.</p>
</td></tr>
<tr><td><code id="tools_+3A_lang">lang</code></td>
<td>
<p>the language of the Chinese numerals. <code>"tc"</code> for Traditional
Chinese. <code>"sc"</code> for Simplified Chinese. The default is <code>"tc"</code>,
but this can be changed by setting <code><a href="base.html#topic+options">options</a>(cnum.lang =
"sc")</code>.</p>
</td></tr>
<tr><td><code id="tools_+3A_mode">mode</code></td>
<td>
<p>the scale naming system to be enforced. See the ‘Details’ section
for the list of supported modes.</p>
</td></tr>
<tr><td><code id="tools_+3A_financial">financial</code></td>
<td>
<p>logical: should the financial numerals be used (<em>daxie
shuzi</em>)?</p>
</td></tr>
<tr><td><code id="tools_+3A_literal">literal</code></td>
<td>
<p>logical: should the numerals be converted literally? (e.g. 721
to be converted to &quot;<em>qi er yi</em>&quot; instead of &quot;<em>qibai ershiyi</em>&quot; and
vice versa)</p>
</td></tr>
<tr><td><code id="tools_+3A_strict">strict</code></td>
<td>
<p>logical: Should the Chinese numerals format be strictly
enforced? A casual test only checks if <code>x</code> contains Chinese numerals
characters. A strict test checks if <code>x</code> is valid Chinese numerals.
(e.g. &quot;<em>yi bai yi</em>&quot; will pass the casual test and fail the strict
test)</p>
</td></tr>
<tr><td><code id="tools_+3A_...">...</code></td>
<td>
<p>optional arguments to be passed to <code><a href="base.html#topic+grepl">grepl</a></code> (for
<code>is_cnum</code> and <code>has_cnum</code>) or
<code><a href="stringr.html#topic+str_extract_all">str_extract_all</a></code> (for <code>extract_cnum</code>).
Disregarded when <code>strict = TRUE</code>.</p>
</td></tr>
<tr><td><code id="tools_+3A_prefix">prefix</code></td>
<td>
<p>the prefix of the Chinese numerals. Only numerals with the
designated prefix are extracted. Supports <a href="base.html#topic+regex">regular
expression</a>(s).</p>
</td></tr>
<tr><td><code id="tools_+3A_suffix">suffix</code></td>
<td>
<p>the suffix of the Chinese numerals. Only numerals with the
designated suffix are extracted. Supports <a href="base.html#topic+regex">regular
expression</a>(s).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>is_cnum</code> returns a logical vector indicating is Chinese
numerals or not for each element of <code>x</code>).
</p>
<p><code>has_cnum</code> returns a logical vector indicating contains Chinese
numerals or not for each element of <code>x</code>.
</p>
<p><code>extract_cnum</code> returns a list of character vectors containing
the extracted Chinese numerals.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>is_cnum()</code>: Test if character object is Chinese numerals. A wrapper
around <code><a href="base.html#topic+grepl">grepl</a></code>.
</p>
</li>
<li> <p><code>has_cnum()</code>: Test if string contains Chinese numerals. A wrapper around
<code><a href="base.html#topic+grepl">grepl</a></code>.
</p>
</li>
<li> <p><code>extract_cnum()</code>: Extracts Chinese numerals from string. A wrapper around
<code><a href="stringr.html#topic+str_extract_all">str_extract_all</a></code> from <code>stringr</code>.
</p>
</li></ul>


<h3>Details</h3>

<p>The following scale naming systems are supported: </p>

<ul>
<li> <p><code>"casual"</code>: the casual naming system used outside of mainland
China, i.e. 1e+09 is referred to as &quot;<em>yi zhao</em>&quot;. </p>
</li>
<li>
<p><code>"casualPRC"</code>: the casual naming system used in mainland China,
i.e. 1e+9 is referred to as &quot;<em>yi wanyi</em>&quot;. </p>
</li>
<li> <p><code>"SIprefix"</code>:
the SI prefix system used in Taiwan as stipulated in the document
<em>Names, Definitions and Symbols of the Legal Units of Measurement and
the Decimal Multiples and Submultiples</em>. </p>
</li>
<li> <p><code>"SIprefixPRC"</code>:
the SI prefix system used in mainland China as stipulated in the document
<em>China Statutory Measurement Units</em>. </p>
</li>
<li> <p><code>"SIprefixPRClong"</code>:
a variant of <code>"SIprefixPRC"</code> with long prefixes, e.g. 1e+09 is
referred to as &quot;<em>yi jika</em>&quot; instead of &quot;<em>yi ji</em>&quot;. </p>
</li></ul>



<h3>References</h3>

<p>The standard for mode <code>"SIprefix"</code> <em>Names, Definitions
and Symbols of the Legal Units of Measurement and the Decimal Multiples and
Submultiples</em> is available from
<a href="https://gazette.nat.gov.tw/egFront/detail.do?metaid=108965">https://gazette.nat.gov.tw/egFront/detail.do?metaid=108965</a> (in
Traditional Chinese).
</p>
<p>The standard for mode <code>"SIprefixPRC"</code> <em>The State Council's Order
on the Unified Implementation of Legal Measurement Units in Our Country</em>
is available from the PRC State Council's website (in Simplified Chinese).
</p>


<h3>See Also</h3>

<p><a href="#topic+conversion">Functions for conversion</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_cnum("yibai ershiyi")

has_cnum("yibai bashi yuan")

extract_cnum("shisiyi ren")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

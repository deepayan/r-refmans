<!DOCTYPE html><html lang="en"><head><title>Help for package jpcity</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {jpcity}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#jpcity-package'><p>jpcity: Read and Convert Japanese Municipality Codes</p></a></li>
<li><a href='#city_code'><p>Get city codes</p></a></li>
<li><a href='#city_convert'><p>Convert to cities at different points in time</p></a></li>
<li><a href='#city_data'><p>Get city data</p></a></li>
<li><a href='#city_desig_merge'><p>Merge designated city wards</p></a></li>
<li><a href='#city_desig_split'><p>Split designated cities into wards</p></a></li>
<li><a href='#city_interval'><p>Get city duration</p></a></li>
<li><a href='#city_name'><p>Get city names</p></a></li>
<li><a href='#city_to_pref'><p>Convert city to prefecture</p></a></li>
<li><a href='#find_city'><p>Find cities by string patterns</p></a></li>
<li><a href='#get_city'><p>Get cities at a specific point in time</p></a></li>
<li><a href='#is_city'><p>Test if the object is a jpcity_city object</p></a></li>
<li><a href='#is_city_desig'><p>Check if a city is a designated city or a ward of a designated city</p></a></li>
<li><a href='#is_pref'><p>Test if the object is a jpcity_pref object</p></a></li>
<li><a href='#parse_city'><p>Parse city codes</p></a></li>
<li><a href='#parse_pref'><p>Parse prefecture codes or names</p></a></li>
<li><a href='#pref_code'><p>Get prefecture codes</p></a></li>
<li><a href='#pref_data'><p>Get pref data</p></a></li>
<li><a href='#pref_name'><p>Get prefecture names</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Read and Convert Japanese Municipality Codes</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Read Japanese city codes (<a href="https://www.e-stat.go.jp/municipalities/cities">https://www.e-stat.go.jp/municipalities/cities</a>) 
    to get city and prefecture names, or convert to city codes at different 
    points in time. In addition, it merges or splits wards of designated cities
    and gets all city codes at a specific point in time.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, lifecycle, lubridate, pillar, purrr, rlang,
stringr, tibble, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://uchidamizuki.github.io/jpcity/">https://uchidamizuki.github.io/jpcity/</a>,
<a href="https://github.com/UchidaMizuki/jpcity">https://github.com/UchidaMizuki/jpcity</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/UchidaMizuki/jpcity/issues">https://github.com/UchidaMizuki/jpcity/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-04 14:14:53 UTC; uchid</td>
</tr>
<tr>
<td>Author:</td>
<td>Mizuki Uchida [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mizuki Uchida &lt;uchidamizuki@vivaldi.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-04 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='jpcity-package'>jpcity: Read and Convert Japanese Municipality Codes</h2><span id='topic+jpcity'></span><span id='topic+jpcity-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Read Japanese city codes (<a href="https://www.e-stat.go.jp/municipalities/cities">https://www.e-stat.go.jp/municipalities/cities</a>) to get city and prefecture names, or convert to city codes at different points in time. In addition, it merges or splits wards of designated cities and gets all city codes at a specific point in time.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Mizuki Uchida <a href="mailto:uchidamizuki@vivaldi.net">uchidamizuki@vivaldi.net</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://uchidamizuki.github.io/jpcity/">https://uchidamizuki.github.io/jpcity/</a>
</p>
</li>
<li> <p><a href="https://github.com/UchidaMizuki/jpcity">https://github.com/UchidaMizuki/jpcity</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/UchidaMizuki/jpcity/issues">https://github.com/UchidaMizuki/jpcity/issues</a>
</p>
</li></ul>


<hr>
<h2 id='city_code'>Get city codes</h2><span id='topic+city_code'></span>

<h3>Description</h3>

<p>Get city codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_code(city)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_code_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of city codes.
</p>

<hr>
<h2 id='city_convert'>Convert to cities at different points in time</h2><span id='topic+city_convert'></span>

<h3>Description</h3>

<p>Convert to cities at different points in time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_convert(city, from, to)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_convert_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
<tr><td><code id="city_convert_+3A_from">from</code></td>
<td>
<p>A <code>character</code> (year, month, and day components) or date-time
object of the starting date.</p>
</td></tr>
<tr><td><code id="city_convert_+3A_to">to</code></td>
<td>
<p>A <code>character</code> (year, month, and day components) or date-time
object of the ending date.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of a <code>jpcity_city</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>city &lt;- parse_city(c("01201", "01202"))
city_convert(city,
             from = "1970-04-01",
             to = "2020-01-01")

</code></pre>

<hr>
<h2 id='city_data'>Get city data</h2><span id='topic+city_data'></span>

<h3>Description</h3>

<p>Get city data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_data(city)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_data_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>

<hr>
<h2 id='city_desig_merge'>Merge designated city wards</h2><span id='topic+city_desig_merge'></span>

<h3>Description</h3>

<p>Merge designated city wards
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_desig_merge(city, merge_tokyo = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_desig_merge_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
<tr><td><code id="city_desig_merge_+3A_merge_tokyo">merge_tokyo</code></td>
<td>
<p>Whether to merge Tokyo special wards?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>jpcity_city</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>city &lt;- parse_city(c("01101", "13101"))
city_desig_merge(city)
city_desig_merge(city,
                 merge_tokyo = TRUE)

</code></pre>

<hr>
<h2 id='city_desig_split'>Split designated cities into wards</h2><span id='topic+city_desig_split'></span>

<h3>Description</h3>

<p>Split designated cities into wards
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_desig_split(city, split_tokyo = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_desig_split_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
<tr><td><code id="city_desig_split_+3A_split_tokyo">split_tokyo</code></td>
<td>
<p>Whether to split into Tokyo special wards?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of a <code>jpcity_city</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>city &lt;- parse_city(c("01100", "13100"))
city_desig_split(city)
city_desig_split(city,
                 split_tokyo = FALSE)

</code></pre>

<hr>
<h2 id='city_interval'>Get city duration</h2><span id='topic+city_interval'></span>

<h3>Description</h3>

<p>Get city duration
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_interval(city, intersect = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_interval_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
<tr><td><code id="city_interval_+3A_intersect">intersect</code></td>
<td>
<p>Whether to get the common part of the duration of cities.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>interval</code> vector of the duration of cities.
</p>

<hr>
<h2 id='city_name'>Get city names</h2><span id='topic+city_name'></span>

<h3>Description</h3>

<p>Get city names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_name(city, type = c("city_desig", "city"), sep = "", kana = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_name_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
<tr><td><code id="city_name_+3A_type">type</code></td>
<td>
<p>Types of city names. By default, returns both designated city
names (<code>"city_desig"</code>) and city names (<code>"city"</code>).</p>
</td></tr>
<tr><td><code id="city_name_+3A_sep">sep</code></td>
<td>
<p>Separator for city names.</p>
</td></tr>
<tr><td><code id="city_name_+3A_kana">kana</code></td>
<td>
<p>Whether to use hiragana or not?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of city names.
</p>

<hr>
<h2 id='city_to_pref'>Convert city to prefecture</h2><span id='topic+city_to_pref'></span>

<h3>Description</h3>

<p>Convert city to prefecture
</p>


<h3>Usage</h3>

<pre><code class='language-R'>city_to_pref(city)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="city_to_pref_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>jpcity_pref</code> object.
</p>

<hr>
<h2 id='find_city'>Find cities by string patterns</h2><span id='topic+find_city'></span>

<h3>Description</h3>

<p>Find cities by string patterns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_city(patterns, when = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find_city_+3A_patterns">patterns</code></td>
<td>
<p>Patterns to look for. If multiple patterns are given, find
the cities that match all patterns.</p>
</td></tr>
<tr><td><code id="find_city_+3A_when">when</code></td>
<td>
<p>A <code>character</code> (year, month, and day components) or date-time
object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>jpcity_city</code> object.
</p>

<hr>
<h2 id='get_city'>Get cities at a specific point in time</h2><span id='topic+get_city'></span>

<h3>Description</h3>

<p>Get cities at a specific point in time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_city(when)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_city_+3A_when">when</code></td>
<td>
<p>A <code>character</code> (year, month, and day components) or date-time
object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>jpcity_city</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_city("2020-01-01")

</code></pre>

<hr>
<h2 id='is_city'>Test if the object is a jpcity_city object</h2><span id='topic+is_city'></span>

<h3>Description</h3>

<p>Test if the object is a jpcity_city object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_city(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_city_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>jpcity_city</code> class.
</p>

<hr>
<h2 id='is_city_desig'>Check if a city is a designated city or a ward of a designated city</h2><span id='topic+is_city_desig'></span>

<h3>Description</h3>

<p>Check if a city is a designated city or a ward of a designated city
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_city_desig(x, type = "city")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_city_desig_+3A_x">x</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
<tr><td><code id="is_city_desig_+3A_type">type</code></td>
<td>
<p>A character vector of city types, <code>"city"</code> or <code>"ward"</code>.
By default, <code>"city"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical vector.
</p>

<hr>
<h2 id='is_pref'>Test if the object is a jpcity_pref object</h2><span id='topic+is_pref'></span>

<h3>Description</h3>

<p>Test if the object is a jpcity_pref object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_pref(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_pref_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if the object inherits from the <code>jpcity_pref</code> class.
</p>

<hr>
<h2 id='parse_city'>Parse city codes</h2><span id='topic+parse_city'></span>

<h3>Description</h3>

<p>Parse city codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_city(x, when = NULL, na = c("", "NA"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_city_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector of city codes.</p>
</td></tr>
<tr><td><code id="parse_city_+3A_when">when</code></td>
<td>
<p>A <code>character</code> (year, month, and day components) or date-time
object.</p>
</td></tr>
<tr><td><code id="parse_city_+3A_na">na</code></td>
<td>
<p>A <code>character</code> vector to be treated as missing values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>jpcity_city</code> object.
</p>

<hr>
<h2 id='parse_pref'>Parse prefecture codes or names</h2><span id='topic+parse_pref'></span>

<h3>Description</h3>

<p>Parse prefecture codes or names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_pref(x, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_pref_+3A_x">x</code></td>
<td>
<p>A <code>character</code> vector of prefecture codes or names.</p>
</td></tr>
<tr><td><code id="parse_pref_+3A_strict">strict</code></td>
<td>
<p>A scalar logical. Whether to require the code to have 1 or 2
digits. By default, <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>jpcity_pref</code> object.
</p>

<hr>
<h2 id='pref_code'>Get prefecture codes</h2><span id='topic+pref_code'></span>

<h3>Description</h3>

<p>Get prefecture codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pref_code(city)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pref_code_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> or <code>jpcity_pref</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A integer vector of prefecture codes.
</p>

<hr>
<h2 id='pref_data'>Get pref data</h2><span id='topic+pref_data'></span>

<h3>Description</h3>

<p>Get pref data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pref_data(pref)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pref_data_+3A_pref">pref</code></td>
<td>
<p>A <code>jpcity_pref</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame.
</p>

<hr>
<h2 id='pref_name'>Get prefecture names</h2><span id='topic+pref_name'></span>

<h3>Description</h3>

<p>Get prefecture names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pref_name(city)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pref_name_+3A_city">city</code></td>
<td>
<p>A <code>jpcity_city</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector of prefecture names.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

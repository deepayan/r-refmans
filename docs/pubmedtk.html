<!DOCTYPE html><html lang="en"><head><title>Help for package pubmedtk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pubmedtk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pubmedtk-package'><p>pubmedtk: 'Pubmed' Toolkit</p></a></li>
<li><a href='#get_metadata_from_one_pmid'><p>Downloads metadata from Pubmed API for a single provided PMID and</p>
exports</a></li>
<li><a href='#get_metadata_from_pmids'><p>Downloads metadata from Pubmed API for a column of PMID's in a data</p>
frame</a></li>
<li><a href='#get_pmids_from_one_search'><p>Returns a list of PMID's for a provided Pubmed search</p></a></li>
<li><a href='#get_pmids_from_searches'><p>Downloads PMID results for a column of Pubmed search queries in a</p>
data frame</a></li>
<li><a href='#intersection_check'><p>Checks a column of PMID's for whether or not they would appear in a</p>
Pubmed search result.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>'Pubmed' Toolkit</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides various functions for retrieving and
    interpreting information from 'Pubmed' via the API,
    <a href="https://www.ncbi.nlm.nih.gov/home/develop/api/">https://www.ncbi.nlm.nih.gov/home/develop/api/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bgcarlisle/pubmedtk">https://github.com/bgcarlisle/pubmedtk</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bgcarlisle/pubmedtk/issues">https://github.com/bgcarlisle/pubmedtk/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, dplyr, xml2, jsonlite, httr, assertthat, stringr,
rlang, utils</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-05 21:30:14 UTC; researchfairy</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin Gregory Carlisle
    <a href="https://orcid.org/0000-0001-8975-0649"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin Gregory Carlisle &lt;murph@bgcarlisle.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-05 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pubmedtk-package'>pubmedtk: 'Pubmed' Toolkit</h2><span id='topic+pubmedtk'></span><span id='topic+pubmedtk-package'></span>

<h3>Description</h3>

<p>Provides various functions for retrieving and interpreting information from 'Pubmed' via the API, <a href="https://www.ncbi.nlm.nih.gov/home/develop/api/">https://www.ncbi.nlm.nih.gov/home/develop/api/</a>.
</p>


<h3>Details</h3>

<p>Pubmed toolkit
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Benjamin Gregory Carlisle <a href="mailto:murph@bgcarlisle.com">murph@bgcarlisle.com</a> (<a href="https://orcid.org/0000-0001-8975-0649">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/bgcarlisle/pubmedtk">https://github.com/bgcarlisle/pubmedtk</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/bgcarlisle/pubmedtk/issues">https://github.com/bgcarlisle/pubmedtk/issues</a>
</p>
</li></ul>


<hr>
<h2 id='get_metadata_from_one_pmid'>Downloads metadata from Pubmed API for a single provided PMID and
exports</h2><span id='topic+get_metadata_from_one_pmid'></span>

<h3>Description</h3>

<p>Downloads metadata from Pubmed API for a single provided PMID and
exports
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_metadata_from_one_pmid(pmid, api_key)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_metadata_from_one_pmid_+3A_pmid">pmid</code></td>
<td>
<p>A single PMID, e.g. &quot;29559429&quot;</p>
</td></tr>
<tr><td><code id="get_metadata_from_one_pmid_+3A_api_key">api_key</code></td>
<td>
<p>A valid Pubmed API key</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with 7 elements:
</p>
<div class="sourceCode"><pre>`$pubmed_dl_success`, which is TRUE in the case that a
corresponding Pubmed record was found and metadata
downloaded and FALSE otherwise.

`$doi`, a character string containing the DOI for the
publication with the PMID in question.

`$languages`, a list of languages corresponding to the
publication with the PMID in question.

`$pubtypes`, a list of publication types corresponding to the
publication with the PMID in question.

`$pubdate`, the listed publication date

`$epubdate`, the listed e-publication date

`$authors`, a list of authors of the publication with the PMID
in question.

`$abstract`, a character string containing the abstract for the
publication with the PMID in question.
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Read in API key
ak &lt;- readLines("api_key.txt")

## Download Pubmed metadata
mdata &lt;- get_metadata_from_one_pmid("29559429", ak)

## Extract first author
mdata$authors[1]

## End(Not run)
</code></pre>

<hr>
<h2 id='get_metadata_from_pmids'>Downloads metadata from Pubmed API for a column of PMID's in a data
frame</h2><span id='topic+get_metadata_from_pmids'></span>

<h3>Description</h3>

<p>Downloads metadata from Pubmed API for a column of PMID's in a data
frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_metadata_from_pmids(df, column, api_key, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_metadata_from_pmids_+3A_df">df</code></td>
<td>
<p>A dataframe containing a column of PMID's</p>
</td></tr>
<tr><td><code id="get_metadata_from_pmids_+3A_column">column</code></td>
<td>
<p>The name of the column containing PMID's</p>
</td></tr>
<tr><td><code id="get_metadata_from_pmids_+3A_api_key">api_key</code></td>
<td>
<p>A valid Pubmed API key</p>
</td></tr>
<tr><td><code id="get_metadata_from_pmids_+3A_quiet">quiet</code></td>
<td>
<p>A boolean TRUE or FALSE. If TRUE, no progress messages
will be printed during download. FALSE by default, messages
printed for every version downloaded showing progress.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the original columns as well as
seven additional columns:
</p>
<div class="sourceCode"><pre>The `pubmed_dl_success` column is TRUE in the case that
metadata were successfully downloaded from Pubmed; FALSE in the
case that an error occurred during downloading (e.g. due to a
number that is well-formed but does not correspond to a true
PMID); NA in the case that the supplied PMID is not well-formed
(e.g. NA or non-numeric).

The `doi` column returns a DOI that corresponds to the PMID
supplied if one is found, NA otherwise.

The `languages` column contains a JSON-encoded list of
languages for the article in question.

The `pubtypes` column contains a JSON-encoded list of
publication types for the article in question.

The `pubdate` column contains a character string with the
publication date

The `epubdate` column contains a character string with the
e-publication date

The `authors` column contains a JSON-encoded list of authors
for the article in question.

The `abstract` column contains a character string with the
abstract for the article in question.
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Read in API key
ak &lt;- readLines("api_key.txt")

## Example publications and their corresponding PMID's (some valid
## and some not)
pubs &lt;- tibble::tribble(
  ~pmid,
  "29559429",
  "28837722",
  NA,
  "borp",
  "98472657638729"
)

## Download Pubmed metadata
pm_meta &lt;- get_metadata_from_pmids(pubs, "pmid", ak)

## Extract DOI's for those that were successfully downloaded
pm_meta %&gt;%
  dplyr::filter(pubmed_dl_success)
  dplyr::select(pmid, doi)

## A tibble: 2 Ã— 2
##   pmid     doi                    
##   &lt;chr&gt;    &lt;chr&gt;                  
## 1 29559429 10.1136/bmj.k959       
## 2 28837722 10.1001/jama.2017.11502


## End(Not run)
</code></pre>

<hr>
<h2 id='get_pmids_from_one_search'>Returns a list of PMID's for a provided Pubmed search</h2><span id='topic+get_pmids_from_one_search'></span>

<h3>Description</h3>

<p>Returns a list of PMID's for a provided Pubmed search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pmids_from_one_search(query, api_key)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_pmids_from_one_search_+3A_query">query</code></td>
<td>
<p>A Pubmed search query</p>
</td></tr>
<tr><td><code id="get_pmids_from_one_search_+3A_api_key">api_key</code></td>
<td>
<p>A valid Pubmed API key</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list with 3 elements:
</p>
<div class="sourceCode"><pre>`$pubmed_search_success`, which is TRUE in the case that the
provided query was searched successfully on Pubmed and FALSE
otherwise.

`$n_results`, the number of results for the search as reported
by Pubmed

`$pmids`, a list of PMID's corresponding to the Pubmed search
results for the query provided
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Read in API key
ak &lt;- readLines("api_key.txt")

## Download PMID's for search query
results &lt;- get_pmids_from_one_search("Carlisle B[Author]", ak)

## Extract first result
results$pmids[1]

## End(Not run)
</code></pre>

<hr>
<h2 id='get_pmids_from_searches'>Downloads PMID results for a column of Pubmed search queries in a
data frame</h2><span id='topic+get_pmids_from_searches'></span>

<h3>Description</h3>

<p>Downloads PMID results for a column of Pubmed search queries in a
data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_pmids_from_searches(df, column, api_key, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_pmids_from_searches_+3A_df">df</code></td>
<td>
<p>A dataframe containing a column of Pubmed search
queries. This data frame cannot have columns with the following
names: <code>pubmed_search_success</code>, <code>pmids</code>.</p>
</td></tr>
<tr><td><code id="get_pmids_from_searches_+3A_column">column</code></td>
<td>
<p>The name of the column containing Pubmed search
queries</p>
</td></tr>
<tr><td><code id="get_pmids_from_searches_+3A_api_key">api_key</code></td>
<td>
<p>A valid Pubmed API key</p>
</td></tr>
<tr><td><code id="get_pmids_from_searches_+3A_quiet">quiet</code></td>
<td>
<p>A boolean TRUE or FALSE. If TRUE, no progress messages
will be printed during download. FALSE by default, messages
printed for every version downloaded showing progress.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the original columns as well as
three additional columns:
</p>
<div class="sourceCode"><pre>The `pubmed_search_success` column is TRUE in the case that the
search rcesults were successfully obtained from Pubmed; FALSE
in the case that an error occurred in search (e.g. due to a
search query that is not well-formed).

The `n_results` column contains the number of research results
for the query provided.

The `pmids` column returns a JSON-encoded list of PMID's for
the search query provided.
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Read in API key
ak &lt;- readLines("api_key.txt")

## Example Pubmed searches, some valid, some not, some with more
## than 10k results
searches &lt;- tribble(
  ~terms,
  "Carlisle B[Author]",
  "NCT00267865",
  "(Clinical Trial[Publication Type])",
  ""
)

## Download search results
results &lt;- get_pmids_from_searches(searches, "terms", ak)

## End(Not run)
</code></pre>

<hr>
<h2 id='intersection_check'>Checks a column of PMID's for whether or not they would appear in a
Pubmed search result.</h2><span id='topic+intersection_check'></span>

<h3>Description</h3>

<p>Checks a column of PMID's for whether or not they would appear in a
Pubmed search result.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>intersection_check(
  df,
  column,
  query,
  api_key,
  batch_size = 1000,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="intersection_check_+3A_df">df</code></td>
<td>
<p>A dataframe containing a column of PMID's</p>
</td></tr>
<tr><td><code id="intersection_check_+3A_column">column</code></td>
<td>
<p>The name of the column containing PMID's</p>
</td></tr>
<tr><td><code id="intersection_check_+3A_query">query</code></td>
<td>
<p>A character string containing a valid Pubmed search
query</p>
</td></tr>
<tr><td><code id="intersection_check_+3A_api_key">api_key</code></td>
<td>
<p>A valid Pubmed API key</p>
</td></tr>
<tr><td><code id="intersection_check_+3A_batch_size">batch_size</code></td>
<td>
<p>An integer greater than 0 and less than 10000</p>
</td></tr>
<tr><td><code id="intersection_check_+3A_quiet">quiet</code></td>
<td>
<p>A boolean TRUE or FALSE. If TRUE, no progress messages
will be printed during download. FALSE by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the original columns, as well as
two additional ones: <code>pm_checked</code> and <code>found_in_pm_query</code>.
</p>
<div class="sourceCode"><pre>The new `pm_checked` column is TRUE if Pubmed was successfully
queried and NA if Pubmed was not checked for that PMID (this
may occur in cases where the PMID to be checked is not
well-formed).

The new `found_in_pm_query` column is TRUE if the PMID in
question would appear in a search of Pubmed defined by the
query provided; FALSE if it would not appear in such a search
and NA if the PMID in question was not checked (this may occur
in cases where the PMID is not well-formed).
</pre></div>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Read in API key
ak &lt;- readLines("api_key.txt")

## Example publications and their corresponding PMID's (some valid
## and some not)
pubs &lt;- tibble::tribble(
  ~pmid,
  "29559429",
  "28837722",
  "28961465",
  "32278621",
  "one hundred of them",
  "28837722",
  "28961465"
)

## Check which ones were authored by Carlisle:
intersection_check(pubs, "pmid", "Carlisle[Author]", ak)


## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

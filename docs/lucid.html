<!DOCTYPE html><html lang="en"><head><title>Help for package lucid</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lucid}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#antibiotic'><p>Effectiveness of 3 antibiotics against 16 bacterial species.</p></a></li>
<li><a href='#lucid'><p>Lucid printing</p></a></li>
<li><a href='#vc'><p>Extract variance components from mixed models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>1.8</td>
</tr>
<tr>
<td>Title:</td>
<td>Printing Floating Point Numbers in a Human-Friendly Format</td>
</tr>
<tr>
<td>Description:</td>
<td>Print vectors (and data frames) of floating point numbers
    using a non-scientific format optimized for human readers.  Vectors
    of numbers are rounded using significant digits, aligned at the
    decimal point, and all zeros trailing the decimal point are dropped.
    See: Wright (2016). Lucid: An R Package for Pretty-Printing Floating Point
    Numbers. In JSM Proceedings, Statistical Computing Section. Alexandria,
    VA: American Statistical Association. 2270-2279.</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kwstat.github.io/lucid/">https://kwstat.github.io/lucid/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kwstat/lucid/issues">https://github.com/kwstat/lucid/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>nlme</td>
</tr>
<tr>
<td>Suggests:</td>
<td>broom, dplyr, knitr, lattice, lme4, rjags, rmarkdown, sommer,
testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-04-16 13:08:25 UTC; wrightkevi</td>
</tr>
<tr>
<td>Author:</td>
<td>Kevin Wright <a href="https://orcid.org/0000-0002-0617-8673"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kevin Wright &lt;kw.stat@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-04-16 13:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='antibiotic'>Effectiveness of 3 antibiotics against 16 bacterial species.</h2><span id='topic+antibiotic'></span>

<h3>Description</h3>

<p>Effectiveness of 3 antibiotics against 16 bacterial species.
</p>


<h3>Format</h3>

<p>A data frame with 16 observations on the following 5 variables.
</p>
 
<dl>
<dt><code>bacteria</code></dt><dd><p>bacterial species, 16 levels</p>
</dd>
<dt><code>penicillin</code></dt><dd><p>MIC for penicillin</p>
</dd>
<dt><code>streptomycin</code></dt><dd><p>MIC for streptomycin</p>
</dd>
<dt><code>neomycin</code></dt><dd><p>MIC for neomycin</p>
</dd> 
<dt><code>gramstain</code></dt><dd><p>Gram staining (positive or negative)</p>
</dd> 
</dl>



<h3>Details</h3>

<p>The values reported are the minimum inhibitory concentration (MIC) in
micrograms/milliliter, which represents the concentration of antibiotic
required to prevent growth in vitro.
</p>


<h3>Source</h3>

<p>Will Burtin (1951). <em>Scope</em>.  Fall, 1951.
</p>


<h3>References</h3>

<p>Wainer, H. (2009). A Centenary Celebration for Will Burtin: A Pioneer of
Scientific Visualization.  <em>Chance</em>, 22(1), 51-55.
https://chance.amstat.org/2009/02/visrev221/
</p>
<p>Wainer, H. (2009). Visual Revelations: Pictures at an Exhibition.
<em>Chance</em>, 22(2), 46&ndash;54.
https://chance.amstat.org/2009/04/visrev222/
</p>
<p>Wainer, H. (2014). Medical Illuminations: Using Evidence, Visualization and
Statistical Thinking to Improve Healthcare.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(antibiotic)
lucid(antibiotic)

## Not run: 
# Plot the data similar to Fig 2.14 of Wainer's book, "Medical Illuminations"

require(lattice)
require(reshape2)

# Use log10 transform
dat &lt;- transform(antibiotic,
                 penicillin=log10(penicillin),
                 streptomycin=log10(streptomycin),
                 neomycin=log10(neomycin))
dat &lt;- transform(dat, sgn = ifelse(dat$gramstain=="neg", "-", "+"))
dat &lt;- transform(dat,
                 bacteria = paste(bacteria, sgn))
dat &lt;- transform(dat, bacteria=reorder(bacteria, -penicillin))

dat &lt;- melt(dat)

op &lt;- tpg &lt;- trellis.par.get()
tpg$superpose.symbol$pch &lt;- toupper(substring(levels(dat$variable),1,1))
tpg$superpose.symbol$col &lt;- c("darkgreen","purple","orange")
trellis.par.set(tpg)
dotplot(bacteria ~ value, data=dat, group=variable,
        cex=2,
        scales=list(x=list(at= -3:3,
                      labels=c('.001', '.01', '.1', '1', '10', '100', '1000'))),
        main="Bacterial response to Neomycin, Streptomycin, and Penicillin",
        xlab="Minimum Inhibitory Concentration (mg/L)")

trellis.par.set(op)


## End(Not run)


</code></pre>

<hr>
<h2 id='lucid'>Lucid printing</h2><span id='topic+lucid'></span><span id='topic+lucid.default'></span><span id='topic+lucid.numeric'></span><span id='topic+lucid.data.frame'></span><span id='topic+lucid.matrix'></span><span id='topic+lucid.list'></span><span id='topic+lucid.tbl_df'></span>

<h3>Description</h3>

<p>Format a column of numbers in a way to make it easy to understand.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lucid(x, dig = 3, na.value = NULL, ...)

## Default S3 method:
lucid(x, dig = 3, na.value = NULL, ...)

## S3 method for class 'numeric'
lucid(x, dig = 3, na.value = NULL, ...)

## S3 method for class 'data.frame'
lucid(x, dig = 3, na.value = NULL, ...)

## S3 method for class 'matrix'
lucid(x, dig = 3, na.value = NULL, ...)

## S3 method for class 'list'
lucid(x, dig = 3, na.value = NULL, ...)

## S3 method for class 'tbl_df'
lucid(x, dig = 3, na.value = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lucid_+3A_x">x</code></td>
<td>
<p>Object to format.</p>
</td></tr>
<tr><td><code id="lucid_+3A_dig">dig</code></td>
<td>
<p>Number of significant digits to use in printing.</p>
</td></tr>
<tr><td><code id="lucid_+3A_na.value">na.value</code></td>
<td>
<p>Character string to use instead of 'NA' for numeric missing
values. Default is NULL, which does nothing.</p>
</td></tr>
<tr><td><code id="lucid_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the data.frame method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Output from R is often in scientific notation, which makes it difficult to
quickly glance at numbers and gain an understanding of the relative values.
This function formats the numbers in a way that makes interpretation of the
numbers _immediately_ apparent.
</p>
<p>The sequence of steps in formatting the output is: 
(1) zap to zero 
(2) use significant digits 
(3) drop trailing zeros after decimal 
(4) align decimals.
</p>


<h3>Value</h3>

<p>Text, formatted in a human-readable way.  Standard R methods are
used to print the value.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+signif">signif</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x0 &lt;- c(123, 12.3, 1.23, .123456) # From Finney, page 352
print(x0)
lucid(x0, dig=2)

x1 &lt;- c(123, NA, 1.23, NA)
lucid(x1, na.value="--")

signif(mtcars[15:20,])
lucid(mtcars[15:20,])

x2 &lt;- c(1/3, 5/3, 1, 1.5, 2, 11/6, 5/6, 8.43215652105343e-17)
print(x2)
lucid(x2)

# Which coef is 0 ? How large is the intercept?
df1 &lt;- data.frame(effect=c(-13.5, 4.5,  24.5, 6.927792e-14, -1.75,
                    16.5, 113.5000))
rownames(df1) &lt;- c("A","B","C","C1","C2","D","(Intercept)")
print(df1)
lucid(df1)

df2 &lt;- data.frame(effect=c("hyb","region","region:loc","hyb:region",
                           "yr","hyb:yr","region:yr","R!variance"),
                  component=c(10.9,277,493,1.30E-04,126,22.3,481,268),
                  std.error=c(4.40,166,26.1,1.58E-06,119,4.50,108,3.25),
                  z.ratio=c(2.471,1.669,18.899,82.242,
                  1.060,4.951,4.442,82.242),
                  constraint=c("pos","pos","pos","bnd",
                  "pos","pos","pos","pos"))
print(df2)
lucid(df2)

</code></pre>

<hr>
<h2 id='vc'>Extract variance components from mixed models</h2><span id='topic+vc'></span><span id='topic+vc.default'></span><span id='topic+vc.asreml'></span><span id='topic+vc.lme'></span><span id='topic+vc.glmerMod'></span><span id='topic+vc.lmerMod'></span><span id='topic+vc.mcmc.list'></span><span id='topic+vc.mmer'></span>

<h3>Description</h3>

<p>Extract the variance components from a fitted model.  Currently supports
<code>asreml</code>, <code>lme4</code>, <code>mmer</code>, <code>nlme</code> and <code>mcmc.list</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vc(object, ...)

## Default S3 method:
vc(object, ...)

## S3 method for class 'asreml'
vc(object, gamma = FALSE, ...)

## S3 method for class 'lme'
vc(object, ...)

## S3 method for class 'glmerMod'
vc(object, ...)

## S3 method for class 'lmerMod'
vc(object, ...)

## S3 method for class 'mcmc.list'
vc(object, quantiles = c(0.025, 0.5, 0.975), ...)

## S3 method for class 'mmer'
vc(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vc_+3A_object">object</code></td>
<td>
<p>A fitted model object</p>
</td></tr>
<tr><td><code id="vc_+3A_...">...</code></td>
<td>
<p>Not used. Extra arguments.</p>
</td></tr>
<tr><td><code id="vc_+3A_gamma">gamma</code></td>
<td>
<p>If gamma=FALSE, then the 'gamma' column is omitted from the
results from asreml</p>
</td></tr>
<tr><td><code id="vc_+3A_quantiles">quantiles</code></td>
<td>
<p>The quantiles to use for printing mcmc.list objects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The extracted variance components are stored in a data frame with an
additional 'vc.xxx' class that has an associated print method.
</p>


<h3>Value</h3>

<p>A data frame or other object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

require("nlme")
data(Rail)
m3 &lt;- lme(travel~1, random=~1|Rail, data=Rail)
vc(m3)
##       effect variance stddev
##  (Intercept)   615.3  24.81
##     Residual    16.17  4.021

require("lme4")
m4 &lt;- lmer(travel~1 + (1|Rail), data=Rail)
vc(m4)
##      grp        var1 var2   vcov  sdcor
##     Rail (Intercept) &lt;NA&gt; 615.3  24.81
## Residual        &lt;NA&gt; &lt;NA&gt;  16.17  4.021 

require("asreml")
ma &lt;- asreml(travel~1, random=~Rail, data=Rail)
vc(ma)
##         effect component std.error z.ratio constr
##  Rail!Rail.var    615.3      392.6     1.6    pos
##     R!variance     16.17       6.6     2.4    pos

# See vignette for rjags example

# To change the number of digits, use the print function.
print(vc(m3), dig=5)


## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

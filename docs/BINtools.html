<!DOCTYPE html><html lang="en"><head><title>Help for package BINtools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BINtools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BINtools-package'><p>The 'BINtools' package.</p></a></li>
<li><a href='#complete_summary'><p>Summary</p></a></li>
<li><a href='#estimate_BIN'><p>Estimate a BIN (Bias, Information, Noise) model</p></a></li>
<li><a href='#simulate_data'><p>Simulate Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Bayesian BIN (Bias, Information, Noise) Model of Forecasting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A recently proposed Bayesian BIN model disentangles the underlying processes 
    that enable forecasters and forecasting methods to improve, decomposing forecasting accuracy into 
    three components: bias, partial information, and noise. By describing the differences between two 
    groups of forecasters, the model allows the user to carry out useful inference, such as calculating 
    the posterior probabilities of the treatment reducing bias, diminishing noise, or increasing information.
    It also provides insight into how much tamping down bias and noise in judgment or enhancing the efficient 
    extraction of valid information from the environment improves forecasting accuracy. This package provides 
    easy access to the BIN model. For further information refer to the paper Ville A. Satopää, Marat Salikhov,
    Philip E. Tetlock, and Barbara Mellers (2021) "Bias, Information, Noise: The BIN 
    Model of Forecasting" &lt;<a href="https://doi.org/10.1287%2Fmnsc.2020.3882">doi:10.1287/mnsc.2020.3882</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Biarch:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, Rcpp (&ge; 0.12.0), rstan (&ge; 2.18.1), dplyr (&ge;
1.0.2), tibble (&ge; 3.0.3), stringi (&ge; 1.4.6), mvtnorm (&ge;
1.1.1), combinat (&ge; 0.0.8), rstantools</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>BH (&ge; 1.66.0), Rcpp (&ge; 0.12.0), RcppEigen (&ge; 0.3.3.3.0),
RcppParallel (&ge; 5.0.1), rstan (&ge; 2.18.1), StanHeaders (&ge;
2.18.0)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, pacman (&ge; 0.5.1), RcppParallel
(&ge; 5.0.1)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-04 11:58:36 UTC; ville.satopaa</td>
</tr>
<tr>
<td>Author:</td>
<td>Ville Satopää <a href="https://orcid.org/0000-0002-3787-7303"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Marat Salikhov [aut],
  Elvira Moreno [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ville Satopää &lt;ville.satopaa@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-04 12:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='BINtools-package'>The 'BINtools' package.</h2><span id='topic+BINtools-package'></span><span id='topic+BINtools'></span>

<h3>Description</h3>

<p>A DESCRIPTION OF THE PACKAGE
</p>


<h3>References</h3>

<p>Stan Development Team (2020). RStan: the R interface to Stan. R package version 2.21.2. https://mc-stan.org
</p>

<hr>
<h2 id='complete_summary'>Summary</h2><span id='topic+complete_summary'></span>

<h3>Description</h3>

<p>This function uses the return value of a call to the function <code>estimate_BIN</code> and produces a full BIN analysis based on that object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>complete_summary(full_bayesian_fit)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="complete_summary_+3A_full_bayesian_fit">full_bayesian_fit</code></td>
<td>
<p>The return value of a call to function <code>estimate_BIN</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing the parameter estimates of the model, the posterior inferences, and the analysis
of predictive performance.
</p>
<p>The elements of the list are as follows.
</p>

<ul>
<li><p> Parameter Estimates: Posterior means, standard deviations, and different quantiles of the model parameters and their differences.
The parameter values represent the following quantities.
</p>

<ul>
<li><p> mu_star: Base rate of the event outcome in the probit scale. E.g., if mu_star = 0, then, in expectation, Phi(0)*100% = 50% of the events happen, where Phi(.) is the CDF of a standard Gaussian random variable.
</p>
</li>
<li><p> mu_0: The level of bias in the control group. This can be any number in the real-line. E.g., if mu_0 = 0.1, then the control group believes the base rate to be Phi(mu_star + 0.1).
</p>
</li>
<li><p> mu_1: The level of bias in the treatment group; otherwise the interpretation is the same as above for mu_0.
</p>
</li>
<li><p> gamma_0: The level of information in the control group. This is a number between 0 and 1, where 0 represents no information and 1 represents full information.
</p>
</li>
<li><p> gamma_1: The level of information in the treatment group; otherwise the interpretation is the same as above for gamma_0.
</p>
</li>
<li><p> delta_0: The level of noise in the control group. This is a positive value, with higher values indicating higher levels of noise. Noise is in the same scale as information. E.g., delta_0 = 1.0 says that the control group uses as many irrelevant signals as there are relevant signals in the universe. In this sense it represents a very high level of noise.
</p>
</li>
<li><p> delta_1: The level of noise in the treatment group; otherwise the interpretation is the same as above for delta_0.
</p>
</li>
<li><p> rho_0: The level of within-group dependence between forecasts of the control group. This is a positive value, with higher values indicating higher levels of dependence. The dependence can be interpreted to stem from shared irrelevant (noise) and/or relevant (information) signals.
</p>
</li>
<li><p> rho_1: The level of within-group dependence between forecasts of the treatment group; otherwise the interpretation is the same as above for rho_0.
</p>
</li>
<li><p> rho_01: The level of inter-group dependence between forecasts of the control and treatment groups; otherwise the interpretation is the same as above for rho_0.
</p>
</li></ul>

</li>
<li><p> Posterior Inferences: Posterior probabilities of events.
Compared to the control group, does the treatment group have: (i) less bias, (ii) more information, and (iii) less noise?
Intuitively, one can think of these probabilities as the Bayesian analogs of the p-values in classical hypothesis testing – the closer the probability is to 1, the stronger the evidence for the hypothesis.
</p>
</li>
<li><p> Control,Treatment: This compares the control group against the treatment group.
The value of the contribution gives
</p>

<ul>
<li><p> the mean Brier score of the control group;
</p>
</li>
<li><p> the mean Brier score of the treatment group;
</p>
</li>
<li><p> how the difference can be explained in terms of bias, noise, or information; and
</p>
</li>
<li><p> in percentage terms, how does the change in bias, noise, or information (from control to treatment group) changes the Brier score.
</p>
</li></ul>

</li>
<li><p> Control,Perfect Accuracy: This compares the control group against a treatment group with perfect accuracy;
otherwise the interpretation is the same as above for 'Control,Treatment.'
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+simulate_data">simulate_data</a></code>, <code><a href="#topic+estimate_BIN">estimate_BIN</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## An example with one group
# a) Simulate synthetic data:
synthetic_data = simulate_data(list(mu_star = -0.8,mu_0 = -0.5,mu_1 = 0.2,gamma_0 = 0.1,
gamma_1 = 0.3,rho_0 = 0.05,delta_0 = 0.1,rho_1 = 0.2, delta_1 = 0.3,rho_01 = 0.05),300,100,0)
# b) Estimate the BIN-model on the synthetic data:
full_bayesian_fit = estimate_BIN(synthetic_data$Outcomes,synthetic_data$Control, warmup = 500,
iter = 1000)
# c) Analyze the results:
complete_summary(full_bayesian_fit)


## An example with two groups
# a) Simulate synthetic data:
synthetic_data = simulate_data(list(mu_star = -0.8,mu_0 = -0.5,mu_1 = 0.2,gamma_0 = 0.1,
gamma_1 = 0.3, rho_0 = 0.05,delta_0 = 0.1, rho_1 = 0.2, delta_1 = 0.3,rho_01 = 0.05), 300,100,100)
# b) Estimate the BIN-model on the synthetic data:
full_bayesian_fit = estimate_BIN(synthetic_data$Outcomes,synthetic_data$Control,
synthetic_data$Treatment, warmup = 500, iter = 1000)
# c) Analyze the results:
complete_summary(full_bayesian_fit)


</code></pre>

<hr>
<h2 id='estimate_BIN'>Estimate a BIN (Bias, Information, Noise) model</h2><span id='topic+estimate_BIN'></span>

<h3>Description</h3>

<p>This function allows the user to compare two groups (treatment and control) of forecasters in terms of their bias, information, and noise levels.
Model estimation is performed with a Markov Chain Monte Carlo (MCMC) approach called Hamiltonian Monte Carlo.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimate_BIN(
  Outcomes,
  Control,
  Treatment = NULL,
  initial = list(mu_star = 0, mu_0 = 0, mu_1 = 0, gamma_0 = 0.4, gamma_1 = 0.4, delta_0
    = 0.5, rho_0 = 0.27, delta_1 = 0.5, rho_1 = 0.27, rho_01 = 0.1),
  warmup = 2000,
  iter = 4000,
  seed = 1
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimate_BIN_+3A_outcomes">Outcomes</code></td>
<td>
<p>Vector of binary values indicating the outcome of each event. The j-th entry is equal to 1 if the j-th event occurs and equal to 0 otherwise.</p>
</td></tr>
<tr><td><code id="estimate_BIN_+3A_control">Control</code></td>
<td>
<p>List of vectors containing the predictions made for each event by forecasters in the control group. The j-th vector contains predictions for the j-th event.</p>
</td></tr>
<tr><td><code id="estimate_BIN_+3A_treatment">Treatment</code></td>
<td>
<p>(Default:<code>NULL</code>) List of vectors containing the predictions made for each event by forecasters in the treatment group. The j-th vector contains predictions for the j-th event.</p>
</td></tr>
<tr><td><code id="estimate_BIN_+3A_initial">initial</code></td>
<td>
<p>A list containing the initial values for the parameters mu_star,mu_0,mu_1,gamma_0,gamma_1,delta_0,rho_0,delta_1,rho_1,and rho_01.
(Default: <code>list(mu_star = 0,mu_0 = 0,mu_1 = 0,gamma_0 = 0.4,gamma_1 = 0.4,
delta_0 = 0.5,rho_0 = 0.27, delta_1 = 0.5,rho_1 = 0.27,rho_01 = 0.1)</code>)</p>
</td></tr>
<tr><td><code id="estimate_BIN_+3A_warmup">warmup</code></td>
<td>
<p>The number of initial iterations used for &ldquo;burnin.&rdquo;
These values are not included in the analysis of the model. (Default:<code>2000</code>)</p>
</td></tr>
<tr><td><code id="estimate_BIN_+3A_iter">iter</code></td>
<td>
<p>Total number of iterations.
Must be larger than warmup. (Default:<code>4000</code>)</p>
</td></tr>
<tr><td><code id="estimate_BIN_+3A_seed">seed</code></td>
<td>
<p>(Default: <code>1</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Model estimation is performed with the statistical programming language called <a href="https://mc-stan.org/">Stan</a>.
The return object is a Stan model.
This way the user can apply available diagnostics tools in other packages, such as <a href="https://mc-stan.org/rstan/">rstan</a>, to analyze the final results.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+simulate_data">simulate_data</a></code>, <code><a href="#topic+complete_summary">complete_summary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## An example with one group
# a) Simulate synthetic data:
synthetic_data = simulate_data(list(mu_star = -0.8,mu_0 = -0.5,mu_1 = 0.2,gamma_0 = 0.1,
gamma_1 = 0.3,rho_0 = 0.05,delta_0 = 0.1,rho_1 = 0.2, delta_1 = 0.3,rho_01 = 0.05),300,100,0)
# b) Estimate the BIN-model on the synthetic data:
full_bayesian_fit = estimate_BIN(synthetic_data$Outcomes,synthetic_data$Control, warmup = 500,
iter = 1000)
# c) Analyze the results:
complete_summary(full_bayesian_fit)


## An example with two groups
# a) Simulate synthetic data:
synthetic_data = simulate_data(list(mu_star = -0.8,mu_0 = -0.5,mu_1 = 0.2,gamma_0 = 0.1,
gamma_1 = 0.3, rho_0 = 0.05,delta_0 = 0.1, rho_1 = 0.2, delta_1 = 0.3,rho_01 = 0.05), 300,100,100)
# b) Estimate the BIN-model on the synthetic data:
full_bayesian_fit = estimate_BIN(synthetic_data$Outcomes,synthetic_data$Control,
synthetic_data$Treatment, warmup = 500, iter = 1000)
# c) Analyze the results:
complete_summary(full_bayesian_fit)


</code></pre>

<hr>
<h2 id='simulate_data'>Simulate Data</h2><span id='topic+simulate_data'></span>

<h3>Description</h3>

<p>This function allows the user to generate synthetic data of two groups (control and treatment) of forecasters making probability predictions of binary events.
The function is mostly useful for testing and illustration purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulate_data(parameters, N, N_0, N_1, rho_o = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="simulate_data_+3A_parameters">parameters</code></td>
<td>
<p>A list containing the true values of the parameters: mu_star,mu_0,mu_1,gamma_0,gamma_1,rho_0,delta_0,rho_1,delta_1 and rho_01</p>
</td></tr>
<tr><td><code id="simulate_data_+3A_n">N</code></td>
<td>
<p>Number of events</p>
</td></tr>
<tr><td><code id="simulate_data_+3A_n_0">N_0</code></td>
<td>
<p>Number of forecasters in the control group</p>
</td></tr>
<tr><td><code id="simulate_data_+3A_n_1">N_1</code></td>
<td>
<p>Number of forecasters in the treatment group</p>
</td></tr>
<tr><td><code id="simulate_data_+3A_rho_o">rho_o</code></td>
<td>
<p>The level of dependence between event outcomes. (Default: the events are independent conditional on the model parameter values. This sets <code>rho_ = 0.0</code>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See <code><a href="#topic+complete_summary">complete_summary</a></code> for a description of the model parameters.
Not all combinations of parameters are possible.
In particular, the covariance parameters gamma and rho are dependent on each other and must result in a positive semi-definite covariance matrix for the outcomes and predictions.
To find a feasible set of parameters, we recommend users to experiment: begin with the desired levels of mu, gamma, and delta, and values of rho close to zero, and then increase rho until data can be generated without errors.
</p>


<h3>Value</h3>

<p>List containing the simulated data.
The elements of the list are as follows.
</p>

<ul>
<li><p> Outcomes: Vector containing binary values that indicate the outcome of each event. The j-th entry is equal to 1 if the j-th event occurs and equal to 0 otherwise.
</p>
</li>
<li><p> Control: List of vectors (one for each event) containing probability predictions made by the forecasters in the control group.
</p>
</li>
<li><p> Treatment: List of vectors (one for each event) containing probability predictions made by the forecasters in the treatment group.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+estimate_BIN">estimate_BIN</a></code>, <code><a href="#topic+complete_summary">complete_summary</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
simulate_data(list(mu_star = -0.8,mu_0 = -0.5,mu_1 = 0.2,gamma_0 = 0.1,gamma_1 = 0.3,
rho_0 = 0.05,delta_0 = 0.1,rho_1 = 0.2, delta_1 = 0.3,rho_01 = 0.05), 300,100,100)



</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

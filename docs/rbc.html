<!DOCTYPE html><html lang="en"><head><title>Help for package rbc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rbc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AIC.RegressionByComposition'><p>Compute Akaike Information Criterion from a regression by composition</p></a></li>
<li><a href='#append_flow'><p>Append a flow to a CompositeFamily object</p></a></li>
<li><a href='#Bernoulli'><p>Bernoulli distribution as a CompositeFamily</p></a></li>
<li><a href='#coef.RegressionByComposition'><p>Extract regression coefficients from a regression by composition</p></a></li>
<li><a href='#fitted.RegressionByComposition'><p>Compute fitted values from a regression by composition</p></a></li>
<li><a href='#logLik.RegressionByComposition'><p>Extract log-likelihood from a regression by composition</p></a></li>
<li><a href='#LogNormal'><p>Lognormal distribution as a CompositeFamily</p></a></li>
<li><a href='#Moebius'><p>Moebius flow</p></a></li>
<li><a href='#Normal'><p>Normal distribution as a CompositeFamily</p></a></li>
<li><a href='#Power'><p>Power flow</p></a></li>
<li><a href='#predict.RegressionByComposition'><p>Compute predicted values from a regression by composition</p></a></li>
<li><a href='#rbc'><p>Fit a regression by composition model</p></a></li>
<li><a href='#residuals.RegressionByComposition'><p>Compute 'residuals' from a regression by composition</p></a></li>
<li><a href='#Scale'><p>Scale flow</p></a></li>
<li><a href='#ScaleOdds'><p>ScaleOdds flow</p></a></li>
<li><a href='#ScaleRisk0'><p>ScaleRisk0 flow</p></a></li>
<li><a href='#ScaleRisk1'><p>ScaleRisk1 flow</p></a></li>
<li><a href='#starr'><p>Growth from birth to 3 years in healthy babies in the US</p></a></li>
<li><a href='#summary.RegressionByComposition'><p>Summary of a regression by composition</p></a></li>
<li><a href='#Translate'><p>Translate flow</p></a></li>
<li><a href='#TranslateRisk1'><p>TranslateRisk1 flow</p></a></li>
<li><a href='#vcov.RegressionByComposition'><p>Extract variance-covariance matrix from a regression by composition</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Regression by Composition</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Flexible statistical modelling using a modular framework for
    regression, in which groups of transformations are composed together
    and act on probability distributions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Formula, R6</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-05 09:47:34 UTC; daniel</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Farewell <a href="https://orcid.org/0000-0002-8871-1653"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Simon Schoenbuchner
    <a href="https://orcid.org/0000-0003-4892-2170"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Farewell &lt;farewelld@cardiff.ac.uk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-06 21:00:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='AIC.RegressionByComposition'>Compute Akaike Information Criterion from a regression by composition</h2><span id='topic+AIC.RegressionByComposition'></span>

<h3>Description</h3>

<p>Compute Akaike Information Criterion from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
AIC(object, ..., k = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="AIC.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="AIC.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="AIC.RegressionByComposition_+3A_k">k</code></td>
<td>
<p>numeric, the <em>penalty</em> per parameter to be used; ‘k = 2’ is the classical AIC.</p>
</td></tr>
</table>

<hr>
<h2 id='append_flow'>Append a flow to a CompositeFamily object</h2><span id='topic+append_flow'></span>

<h3>Description</h3>

<p>Append a flow to a CompositeFamily object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>append_flow(family, flow)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="append_flow_+3A_family">family</code></td>
<td>
<p>a CompositeFamily object</p>
</td></tr>
<tr><td><code id="append_flow_+3A_flow">flow</code></td>
<td>
<p>a Flow object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a new CompositeFamily object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>append_flow(Normal(0, 1), Translate)

Reduce(append_flow, list(Scale, Translate), init = Normal(0, 1))
</code></pre>

<hr>
<h2 id='Bernoulli'>Bernoulli distribution as a CompositeFamily</h2><span id='topic+Bernoulli'></span>

<h3>Description</h3>

<p>Bernoulli distribution as a CompositeFamily
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Bernoulli(prob = 0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Bernoulli_+3A_prob">prob</code></td>
<td>
<p>the probability of a success</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a new BinaryFamily object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dist &lt;- Bernoulli()
dist$probability()
</code></pre>

<hr>
<h2 id='coef.RegressionByComposition'>Extract regression coefficients from a regression by composition</h2><span id='topic+coef.RegressionByComposition'></span>

<h3>Description</h3>

<p>Extract regression coefficients from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
coef(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coef.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="coef.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='fitted.RegressionByComposition'>Compute fitted values from a regression by composition</h2><span id='topic+fitted.RegressionByComposition'></span>

<h3>Description</h3>

<p>Compute fitted values from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
fitted(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fitted.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="fitted.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>further arguments passed to the R6 method $fitted() associated with the model's CompositeFamily</p>
</td></tr>
</table>

<hr>
<h2 id='logLik.RegressionByComposition'>Extract log-likelihood from a regression by composition</h2><span id='topic+logLik.RegressionByComposition'></span>

<h3>Description</h3>

<p>Extract log-likelihood from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
logLik(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="logLik.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="logLik.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='LogNormal'>Lognormal distribution as a CompositeFamily</h2><span id='topic+LogNormal'></span>

<h3>Description</h3>

<p>Lognormal distribution as a CompositeFamily
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LogNormal(meanlog = 0, sdlog = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="LogNormal_+3A_meanlog">meanlog</code></td>
<td>
<p>the mean of the logarithm</p>
</td></tr>
<tr><td><code id="LogNormal_+3A_sdlog">sdlog</code></td>
<td>
<p>the standard deviation of the logarithm</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a new ContinuousFamily object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dist &lt;- LogNormal()
log(dist$quantile(0.95))
</code></pre>

<hr>
<h2 id='Moebius'>Moebius flow</h2><span id='topic+Moebius'></span>

<h3>Description</h3>

<p>Moebius flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Moebius
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='Normal'>Normal distribution as a CompositeFamily</h2><span id='topic+Normal'></span>

<h3>Description</h3>

<p>Normal distribution as a CompositeFamily
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Normal(mean = 0, sd = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Normal_+3A_mean">mean</code></td>
<td>
<p>the mean</p>
</td></tr>
<tr><td><code id="Normal_+3A_sd">sd</code></td>
<td>
<p>the standard deviation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a new ContinuousFamily object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dist &lt;- Normal()
dist$quantile(0.95)
</code></pre>

<hr>
<h2 id='Power'>Power flow</h2><span id='topic+Power'></span>

<h3>Description</h3>

<p>Power flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Power
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='predict.RegressionByComposition'>Compute predicted values from a regression by composition</h2><span id='topic+predict.RegressionByComposition'></span>

<h3>Description</h3>

<p>Compute predicted values from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="predict.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="predict.RegressionByComposition_+3A_newdata">newdata</code></td>
<td>
<p>data.frame containing new data</p>
</td></tr>
<tr><td><code id="predict.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>further arguments passed to the R6 method $fitted() associated with the model's CompositeFamily</p>
</td></tr>
</table>

<hr>
<h2 id='rbc'>Fit a regression by composition model</h2><span id='topic+rbc'></span>

<h3>Description</h3>

<p>Fit a regression by composition model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbc(formula, init, flows, family, data, par, hessian = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rbc_+3A_formula">formula</code></td>
<td>
<p>a formula object, with model components separated by '|'</p>
</td></tr>
<tr><td><code id="rbc_+3A_init">init</code></td>
<td>
<p>the initial distribution</p>
</td></tr>
<tr><td><code id="rbc_+3A_flows">flows</code></td>
<td>
<p>a list of flows</p>
</td></tr>
<tr><td><code id="rbc_+3A_family">family</code></td>
<td>
<p>(optional) an object of class 'CompositeFamily';
if supplied, 'init' and 'flows' are ignored</p>
</td></tr>
<tr><td><code id="rbc_+3A_data">data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="rbc_+3A_par">par</code></td>
<td>
<p>a vector of starting values</p>
</td></tr>
<tr><td><code id="rbc_+3A_hessian">hessian</code></td>
<td>
<p>logical; use Hessian matrix in model fitting?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an rbc object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Annette Dobson (1990)
## "An Introduction to Generalized Linear Models".
## Page 9: Plant Weight Data.
ctl &lt;- c(4.17, 5.58, 5.18, 6.11, 4.50, 4.61, 5.17, 4.53, 5.33, 5.14)
trt &lt;- c(4.81, 4.17, 4.41, 3.59, 5.87, 3.83, 6.03, 4.89, 4.32, 4.69)
dobson &lt;- data.frame(
  weight = c(ctl, trt),
  group = gl(2, 10, 20, labels = c("Ctl", "Trt"))
)
dobson_fit &lt;- rbc(weight ~ 1 | 1 + group,
  init = Normal(0, 1),
  flows = list(Scale, Translate),
  data = dobson
)

starr_fit &lt;- rbc(
  height ~ 1 | 0 + I((280 + age)^(-1)) | 1 | 1,
  init = LogNormal(),
  flows = list(Power, Moebius, Scale, Translate),
  data = subset(starr, id %in% unique(id)[1:10])
)
</code></pre>

<hr>
<h2 id='residuals.RegressionByComposition'>Compute 'residuals' from a regression by composition</h2><span id='topic+residuals.RegressionByComposition'></span>

<h3>Description</h3>

<p>Compute 'residuals' from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
residuals(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="residuals.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="residuals.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of probabilities of the same length as the data
</p>

<hr>
<h2 id='Scale'>Scale flow</h2><span id='topic+Scale'></span>

<h3>Description</h3>

<p>Scale flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Scale
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='ScaleOdds'>ScaleOdds flow</h2><span id='topic+ScaleOdds'></span>

<h3>Description</h3>

<p>ScaleOdds flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ScaleOdds
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='ScaleRisk0'>ScaleRisk0 flow</h2><span id='topic+ScaleRisk0'></span>

<h3>Description</h3>

<p>ScaleRisk0 flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ScaleRisk0
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='ScaleRisk1'>ScaleRisk1 flow</h2><span id='topic+ScaleRisk1'></span>

<h3>Description</h3>

<p>ScaleRisk1 flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ScaleRisk1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='starr'>Growth from birth to 3 years in healthy babies in the US</h2><span id='topic+starr'></span>

<h3>Description</h3>

<p>Growth from birth to 3 years in healthy babies in the US
</p>


<h3>Usage</h3>

<pre><code class='language-R'>starr
</code></pre>


<h3>Format</h3>



<h4><code>starr</code></h4>

<p>A data frame with 104,798 rows and 5 columns:
</p>

<dl>
<dt>id</dt><dd><p>Anonymized identifier</p>
</dd>
<dt>sex</dt><dd><p>Sex of baby</p>
</dd>
<dt>age</dt><dd><p>Age of baby, in days</p>
</dd>
<dt>height</dt><dd><p>Jittered height of baby, in cm</p>
</dd>
<dt>weight</dt><dd><p>Jittered weight of baby, in kg</p>
</dd>
</dl>
<p>...

</p>



<h3>Source</h3>

<p><a href="https://doi.org/10.5061/dryad.4j0zpc8jf">doi:10.5061/dryad.4j0zpc8jf</a>
</p>


<h3>References</h3>

<p><a href="https://doi.org/10.1186/s12874-024-02145-1">doi:10.1186/s12874-024-02145-1</a>
</p>

<hr>
<h2 id='summary.RegressionByComposition'>Summary of a regression by composition</h2><span id='topic+summary.RegressionByComposition'></span>

<h3>Description</h3>

<p>Summary of a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
summary(object, compact = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="summary.RegressionByComposition_+3A_compact">compact</code></td>
<td>
<p>logical; should coefficients from all flows be compressed into a single matrix?</p>
</td></tr>
<tr><td><code id="summary.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='Translate'>Translate flow</h2><span id='topic+Translate'></span>

<h3>Description</h3>

<p>Translate flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Translate
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='TranslateRisk1'>TranslateRisk1 flow</h2><span id='topic+TranslateRisk1'></span>

<h3>Description</h3>

<p>TranslateRisk1 flow
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TranslateRisk1
</code></pre>


<h3>Format</h3>

<p>An object of class <code>Flow</code> (inherits from <code>R6</code>) of length 6.
</p>

<hr>
<h2 id='vcov.RegressionByComposition'>Extract variance-covariance matrix from a regression by composition</h2><span id='topic+vcov.RegressionByComposition'></span>

<h3>Description</h3>

<p>Extract variance-covariance matrix from a regression by composition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RegressionByComposition'
vcov(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vcov.RegressionByComposition_+3A_object">object</code></td>
<td>
<p>a RegressionByComposition object;
usually the result of a call to rbc()</p>
</td></tr>
<tr><td><code id="vcov.RegressionByComposition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

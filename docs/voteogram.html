<!DOCTYPE html><html><head><title>Help for package voteogram</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {voteogram}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#fortify.pprc'><p>Fortify a <code>roll_call()</code> (<code>pprc</code>) object</p></a></li>
<li><a href='#house_carto'><p>Produce a ProPublica- or GovTrack-style House roll call vote cartogram</p></a></li>
<li><a href='#print.pprc'><p>Better default <code>print</code> function for <code>roll_call()</code> (<code>pprc</code>) objects</p></a></li>
<li><a href='#roll_call'><p>Get Voting Record for House or Senate By Number, Session &amp; Roll Call Number</p></a></li>
<li><a href='#senate_carto'><p>Produce a Senate cartogram</p></a></li>
<li><a href='#theme_voteogram'><p>voteogram ggplot2 theme</p></a></li>
<li><a href='#voteogram'><p>U.S. House and Senate Voting Cartogram Generators</p></a></li>
<li><a href='#voteogram-colors'><p>voteogram manual scale colors</p></a></li>
<li><a href='#voteogram-exports'><p>voteogram exported operators</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>United States House and Senate Voting Cartogram Generators</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-03-08</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bob Rudis &lt;bob@rud.is&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>'ProPublica' <a href="https://projects.propublica.org/represent/">https://projects.propublica.org/represent/</a> makes United States
    Congress member votes available and has developed their own unique cartogram to visually
    represent this data. Tools are provided to retrieve voting data, prepare voting data 
    for plotting with 'ggplot2', create vote cartograms and theme them.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/hrbrmstr/voteogram">https://github.com/hrbrmstr/voteogram</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hrbrmstr/voteogram/issues">https://github.com/hrbrmstr/voteogram/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr, knitr, rmarkdown</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2 (&ge; 3.4.1), dplyr, scales, jsonlite, tibble, utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-08 12:04:45 UTC; hrbrmstr</td>
</tr>
<tr>
<td>Author:</td>
<td>Bob Rudis <a href="https://orcid.org/0000-0001-5670-2640"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  ProPublica [cph] (Cartogram SVGs used to make the plot data.frames),
  GovTrack [cph] (Cartogram SVG used to make the plot data.frame)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-08 12:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='fortify.pprc'>Fortify a <code><a href="#topic+roll_call">roll_call()</a></code> (<code>pprc</code>) object</h2><span id='topic+fortify.pprc'></span>

<h3>Description</h3>

<p>Fortify a <code><a href="#topic+roll_call">roll_call()</a></code> (<code>pprc</code>) object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pprc'
fortify(model, data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fortify.pprc_+3A_model">model</code></td>
<td>
<p>a <code><a href="#topic+roll_call">roll_call()</a></code> (<code>pprc</code>) object</p>
</td></tr>
<tr><td><code id="fortify.pprc_+3A_data">data</code></td>
<td>
<p>unused</p>
</td></tr>
<tr><td><code id="fortify.pprc_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>

<hr>
<h2 id='house_carto'>Produce a ProPublica- or GovTrack-style House roll call vote cartogram</h2><span id='topic+house_carto'></span>

<h3>Description</h3>

<p>Produce a ProPublica- or GovTrack-style House roll call vote cartogram
</p>


<h3>Usage</h3>

<pre><code class='language-R'>house_carto(
  vote_tally,
  style = c("pp", "gt", "propublica", "govtrack"),
  pp_square = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="house_carto_+3A_vote_tally">vote_tally</code></td>
<td>
<p>either a <code>pprc</code> object (the result of a call to <code><a href="#topic+roll_call">roll_call()</a></code>) or
a <code>data.frame</code> of vote tallies for the house It expects 3 columns. <code>state_abbrev</code> : the
2-letter U.S. state abbreviation; <code>district</code> : either <code>1</code> or <code>2</code> to distinguish between
each representative; <code>party</code> : <code>R</code>, <code>D</code> or <code>ID</code>; <code>position</code> : <code>yes</code>, <code>no</code>, <code>present</code>, <code>none</code> for
how the representative voted.</p>
</td></tr>
<tr><td><code id="house_carto_+3A_style">style</code></td>
<td>
<p>either ProPublica-ish (<code>pp</code> or <code>propublica</code>) or GovTrack-ish (<code>gt</code> or <code>govtrack</code>)</p>
</td></tr>
<tr><td><code id="house_carto_+3A_pp_square">pp_square</code></td>
<td>
<p>if <code>TRUE</code> then no &quot;state borders&quot; will be drawn, but distinct Representative
squares. If <code>FALSE</code> then the cartogram will be very close to the ProPublica cartograms.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot2</code> object that you can further customize with scales, labels, etc.
</p>


<h3>Note</h3>

<p>No &quot;themeing&quot; is applied to the returned ggplot2 object. You can use  <code><a href="#topic+theme_voteogram">theme_voteogram()</a></code>
if you need a base theme. Also, GovTrack-style cartograms will have <code>coord_equal()</code>
applied by default.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# what you'd normally do
rep &lt;- roll_call("house", 115, 1, 256)

## End(Not run)

# using a saved object
rep &lt;- readRDS(system.file("extdata", "rep.rds", package = "voteogram"))

house_carto(rep, pp_square = TRUE)
</code></pre>

<hr>
<h2 id='print.pprc'>Better default <code>print</code> function for <code><a href="#topic+roll_call">roll_call()</a></code> (<code>pprc</code>) objects</h2><span id='topic+print.pprc'></span>

<h3>Description</h3>

<p>Better default <code>print</code> function for <code><a href="#topic+roll_call">roll_call()</a></code> (<code>pprc</code>) objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pprc'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.pprc_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+roll_call">roll_call()</a></code> (<code>pprc</code>) object</p>
</td></tr>
<tr><td><code id="print.pprc_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>

<hr>
<h2 id='roll_call'>Get Voting Record for House or Senate By Number, Session &amp; Roll Call Number</h2><span id='topic+roll_call'></span>

<h3>Description</h3>

<p>Get Voting Record for House or Senate By Number, Session &amp; Roll Call Number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>roll_call(critter = c("house", "senate"), number, session = c(1L, 2L), rcall)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="roll_call_+3A_critter">critter</code></td>
<td>
<p>one of 'house' or 'senate'</p>
</td></tr>
<tr><td><code id="roll_call_+3A_number">number</code></td>
<td>
<p>valid congress number. ProPublica seems to have data going back to the 101st
Congress, so valid values are '101'-present Congress number ('115' as of the creation
date of the package).</p>
</td></tr>
<tr><td><code id="roll_call_+3A_session">session</code></td>
<td>
<p>a valid session numbner (i.e. '1' or '2' and valid for current year)</p>
</td></tr>
<tr><td><code id="roll_call_+3A_rcall">rcall</code></td>
<td>
<p>roll call vote number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 'list', one component of which is a 'votes' 'data.frame'
</p>


<h3>Note</h3>

<p>Try to cache this data if at all possible. ProPublica is a non-profit organization
and this data comes from their Amazon S3 buckets. Every access in a given month
ticks down the &quot;free&quot; counter.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# these make API calls so they aren't run in the examples
rep &lt;- roll_call("house", 115, 1, 256)
sen &lt;- roll_call("senate", 115, 1, 110)

## End(Not run)
</code></pre>

<hr>
<h2 id='senate_carto'>Produce a Senate cartogram</h2><span id='topic+senate_carto'></span>

<h3>Description</h3>

<p>Produce a Senate cartogram
</p>


<h3>Usage</h3>

<pre><code class='language-R'>senate_carto(vote_tally)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="senate_carto_+3A_vote_tally">vote_tally</code></td>
<td>
<p>either a <code>pprc</code> object (the result of a call to <code><a href="#topic+roll_call">roll_call()</a></code>) or
a <code>data.frame</code> of vote tallies for the senate. It expects 3 columns. <code>state_abbrev</code> : the
2-letter U.S. state abbreviation; <code>district</code> : either <code>1</code> or <code>2</code> to distinguish between
each senator; <code>party</code> : <code>R</code>, <code>D</code> or <code>ID</code>; <code>position</code> : <code>yes</code>, <code>no</code>, <code>present</code>, <code>none</code> for
how the senator voted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot2</code> object that you can further customize with scales, labels, etc.
</p>


<h3>Note</h3>

<p>No &quot;themeing&quot; is applied to the returned ggplot2 object. You can use  <code><a href="#topic+theme_voteogram">theme_voteogram()</a></code>
if you need a base theme.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# what you'd normally do
sen &lt;- roll_call("senate", 115, 1, 110)

## End(Not run)

# Using a saved object
sen &lt;- readRDS(system.file("extdata", "sen.rds", package = "voteogram"))

senate_carto(sen)
</code></pre>

<hr>
<h2 id='theme_voteogram'>voteogram ggplot2 theme</h2><span id='topic+theme_voteogram'></span>

<h3>Description</h3>

<p>Provides a very basic theme with no background, grid, axis text or axis ticks and
an easy way to turn the legend on or off.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theme_voteogram(legend = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="theme_voteogram_+3A_legend">legend</code></td>
<td>
<p>if 'FALSE' no legend is shown</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# what you'd normally do
sen &lt;- roll_call("senate", 115, 1, 110)

## End(Not run)

# using a saved object
sen &lt;- readRDS(system.file("extdata", "sen.rds", package="voteogram"))

senate_carto(sen) +
  theme_voteogram()
</code></pre>

<hr>
<h2 id='voteogram'>U.S. House and Senate Voting Cartogram Generators</h2><span id='topic+voteogram'></span>

<h3>Description</h3>

<p>ProPublica' &lt;https://projects.propublica.org/represent/&gt; makes United States
Congress member votes available and has developed their own unique cartogram to visually
represent this data. Tools are provided to retrieve voting data, prepare voting data
for plotting with 'ggplot2', create vote cartograms and theme them.
</p>


<h3>Author(s)</h3>

<p>Bob Rudis (bob@rud.is)
</p>

<hr>
<h2 id='voteogram-colors'>voteogram manual scale colors</h2><span id='topic+voteogram-colors'></span><span id='topic+vote_carto_fill'></span><span id='topic+vote_carto_color'></span>

<h3>Description</h3>

<p>Manual color scales fill and color scale values (in the event you need to use them)
outisde the main plotting functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vote_carto_fill

vote_carto_color
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 13.
</p>
<p>An object of class <code>character</code> of length 13.
</p>

<hr>
<h2 id='voteogram-exports'>voteogram exported operators</h2><span id='topic+voteogram-exports'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>The following functions are imported and then re-exported
from the voteogram package to enable use of the magrittr
pipe operator with no additional library calls
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

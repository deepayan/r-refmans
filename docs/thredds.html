<!DOCTYPE html><html><head><title>Help for package thredds</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {thredds}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#build_xpath'><p>Build and xpath string, possibly using the user specified namespace</p>
prefix.</a></li>
<li><a href='#CatalogNode'><p>A class for Catalogs (which may contain catalogs references or datasets)</p></a></li>
<li><a href='#DatasetNode'><p>A class for a single datatset reference</p></a></li>
<li><a href='#get_catalog'><p>Retrieve a catalog</p></a></li>
<li><a href='#get_xml_ns'><p>Retrieve the namespaces for a resource</p></a></li>
<li><a href='#grepl_it'><p>Determine if a vector of names match the greplargs</p></a></li>
<li><a href='#is_xmlNode'><p>Test if an object inherits from xml2::xml_node</p></a></li>
<li><a href='#parse_node'><p>Convert a node to an object inheriting from ThreddsNode</p></a></li>
<li><a href='#ServiceNode'><p>A simple class for parsing and holdoing service info</p></a></li>
<li><a href='#thredds'><p>thredds: Crawler for Navigating THREDDS Catalogs</p></a></li>
<li><a href='#ThreddsNode'><p>A base representation that other nodes subclass from</p></a></li>
<li><a href='#xml_children_names'><p>Get the names of children</p></a></li>
<li><a href='#xml_id'><p>Retrieve an ID value for a node from it's attributes.</p></a></li>
<li><a href='#xmlString'><p>Convert xm2::xml_node to character</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Crawler for Navigating THREDDS Catalogs</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a crawler for programmatically navigating THREDDS Data Server (<a href="https://www.unidata.ucar.edu/software/tds/">https://www.unidata.ucar.edu/software/tds/</a>) 
  catalogs, and access dataset metadata and resources.</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1-4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-01</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6, rlang, magrittr, httr, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ncdf4, testthat</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Emmanuel Blondel &lt;emmanuel.blondel1@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/BigelowLab/thredds">https://github.com/BigelowLab/thredds</a>,
<a href="https://www.unidata.ucar.edu/software/tds/">https://www.unidata.ucar.edu/software/tds/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-01 09:01:43 UTC; emman</td>
</tr>
<tr>
<td>Author:</td>
<td>Ben Tupper [aut],
  Emmanuel Blondel <a href="https://orcid.org/0000-0002-5870-5762"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Bigelow Laboratory for Ocean Sciences [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-01 09:40:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='build_xpath'>Build and xpath string, possibly using the user specified namespace
prefix.</h2><span id='topic+build_xpath'></span>

<h3>Description</h3>

<p>Build and xpath string, possibly using the user specified namespace
prefix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_xpath(x, prefix = "d1", select = ".//")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="build_xpath_+3A_x">x</code></td>
<td>
<p>character one or more path segments</p>
</td></tr>
<tr><td><code id="build_xpath_+3A_prefix">prefix</code></td>
<td>
<p>character by default &quot;d1&quot; prepended to each of the segements
in <code>x</code>.  If NA or length is 0 then ignore.</p>
</td></tr>
<tr><td><code id="build_xpath_+3A_select">select</code></td>
<td>
<p>charcater, by default search anywhere in the current node with &quot;.//&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>xpath descriptor
</p>

<hr>
<h2 id='CatalogNode'>A class for Catalogs (which may contain catalogs references or datasets)</h2><span id='topic+CatalogNode'></span>

<h3>Description</h3>

<p>A catalog representation that sublcasses from ThreddsNode
</p>


<h3>Super class</h3>

<p><code><a href="#topic+ThreddsNode">thredds::ThreddsNode</a></code> -&gt; <code>CatalogNode</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-CatalogNode-list_services"><code>CatalogNode$list_services()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-list_catalogs"><code>CatalogNode$list_catalogs()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-list_datasets"><code>CatalogNode$list_datasets()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-get_catalogs"><code>CatalogNode$get_catalogs()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-get_datasets"><code>CatalogNode$get_datasets()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-get_dataset_names"><code>CatalogNode$get_dataset_names()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-get_catalog_names"><code>CatalogNode$get_catalog_names()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-parse_catalog_node"><code>CatalogNode$parse_catalog_node()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-parse_dataset_node"><code>CatalogNode$parse_dataset_node()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-print"><code>CatalogNode$print()</code></a>
</p>
</li>
<li> <p><a href="#method-CatalogNode-clone"><code>CatalogNode$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="GET"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-GET'><code>thredds::ThreddsNode$GET()</code></a></span></li>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="browse"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-browse'><code>thredds::ThreddsNode$browse()</code></a></span></li>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="children_names"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-children_names'><code>thredds::ThreddsNode$children_names()</code></a></span></li>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="initialize"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-initialize'><code>thredds::ThreddsNode$initialize()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-CatalogNode-list_services"></a>



<h4>Method <code>list_services()</code></h4>

<p>list available services
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$list_services(
  xpath = build_xpath("service", prefix = self$prefix),
  form = "list"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xpath</code></dt><dd><p>character, the xpath specifications</p>
</dd>
<dt><code>form</code></dt><dd><p>character, either &quot;list&quot; or &quot;table&quot;</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>list of zero or more character vectors
</p>


<hr>
<a id="method-CatalogNode-list_catalogs"></a>



<h4>Method <code>list_catalogs()</code></h4>

<p>list available catalogRefs
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$list_catalogs(
  xpath = build_xpath(c("dataset", "catalogRef"), prefix = self$prefix),
  form = "list"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xpath</code></dt><dd><p>character, the xpath descriptor</p>
</dd>
<dt><code>form</code></dt><dd><p>character, either &quot;list&quot; or &quot;table&quot;</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>a list with zero or more character vectors
</p>


<hr>
<a id="method-CatalogNode-list_datasets"></a>



<h4>Method <code>list_datasets()</code></h4>

<p>list available datasets
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$list_datasets(
  xpath = build_xpath(c("dataset", "dataset"), prefix = self$prefix),
  form = "list"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xpath</code></dt><dd><p>character, the xpath descriptor</p>
</dd>
<dt><code>form</code></dt><dd><p>character, either &quot;list&quot; or &quot;table&quot;</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>a list with zero or more character vectors
</p>


<hr>
<a id="method-CatalogNode-get_catalogs"></a>



<h4>Method <code>get_catalogs()</code></h4>

<p>Retrieve a list one or more of child catalogs
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$get_catalogs(
  index,
  xpath = build_xpath(c("dataset", "catalogRef"), prefix = self$prefix)
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>index</code></dt><dd><p>integer index (1,...,nChild), indices or name(s)</p>
</dd>
<dt><code>xpath</code></dt><dd><p>character xpath representation</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>a list of Catalog class objects, possibly NULL
</p>


<hr>
<a id="method-CatalogNode-get_datasets"></a>



<h4>Method <code>get_datasets()</code></h4>

<p>Retrieve list one or more dataset children
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$get_datasets(
  index,
  xpath = build_xpath(c("dataset", "dataset"), prefix = self$prefix)
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>index</code></dt><dd><p>the integer index (1,...,nChild), indices or name(s)</p>
</dd>
<dt><code>xpath</code></dt><dd><p>character xpath representation</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>a list of Dataset objects or NULL
</p>


<hr>
<a id="method-CatalogNode-get_dataset_names"></a>



<h4>Method <code>get_dataset_names()</code></h4>

<p>Retrieve list zero or more dataset child names.  If unnnamed, then
we substitute &quot;title&quot;, &quot;ID&quot;, &quot;urlPath&quot;, or &quot;href&quot; in that order of availability.
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$get_dataset_names(
  xpath = build_xpath(c("dataset", "dataset"), prefix = self$prefix)
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xpath</code></dt><dd><p>character xpath representation</p>
</dd>
<dt><code>index</code></dt><dd><p>the integer index (1,...,nChild), indices or name(s)</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>character vector of zero or more names
</p>


<hr>
<a id="method-CatalogNode-get_catalog_names"></a>



<h4>Method <code>get_catalog_names()</code></h4>

<p>Retrieve list zero or more catalog child names.  If unnnamed, then
we substitute &quot;title&quot;, &quot;ID&quot;, &quot;urlPath&quot; or href&quot; in that order of availability.
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$get_catalog_names(
  xpath = build_xpath(c("dataset", "catalogRef"), prefix = self$prefix)
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xpath</code></dt><dd><p>character xpath representation</p>
</dd>
<dt><code>index</code></dt><dd><p>the integer index (1,...,nChild), indices or name(s)</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>character vector of zero or more names
</p>


<hr>
<a id="method-CatalogNode-parse_catalog_node"></a>



<h4>Method <code>parse_catalog_node()</code></h4>

<p>Parse a catalog node
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$parse_catalog_node(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>xml_node</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Catalog class object
</p>


<hr>
<a id="method-CatalogNode-parse_dataset_node"></a>



<h4>Method <code>parse_dataset_node()</code></h4>

<p>Parse a dataset node
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$parse_dataset_node(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>xml_node</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Dataset class object
</p>


<hr>
<a id="method-CatalogNode-print"></a>



<h4>Method <code>print()</code></h4>

<p>print method
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$print(prefix = "")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>prefix</code></dt><dd><p>character, to be printed before each line of output (like spaces)</p>
</dd>
<dt><code>...</code></dt><dd><p>other arguments for superclass</p>
</dd>
</dl>

</div>


<hr>
<a id="method-CatalogNode-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>CatalogNode$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'> 
  library(thredds)
  top_uri &lt;- 'https://oceandata.sci.gsfc.nasa.gov/opendap/catalog.xml'
  Top &lt;- thredds::CatalogNode$new(top_uri)
  
  #to browse catalogue
  #Top$browse()
  
  #go down in 'MODISA' catalog
  L3 &lt;- Top$get_catalogs("MODISA")[["MODISA"]]$get_catalogs()[[1]]
  
  #see what's available for 2009
  catalog2009 &lt;- L3$get_catalogs("2009")[[1]]
  
  #get catalog for 2009-01-20 
  doy &lt;- format(as.Date("2009-01-20"), "%m%d")
  catalog20 &lt;- catalog2009$get_catalogs(doy)[[doy]]
  
  #get dataset node
  chl &lt;- catalog20$get_datasets("AQUA_MODIS.20090120.L3m.DAY.CHL.chlor_a.4km.nc")[[1]]
  
  #retrieve the relative URL, and add it to the base URL for the service.
  #Somewhat awkwardly, the relative URL comes prepended with a path separator, so we 
  #use straight up `paste0` to append to the base_uri.
  #if(require("ncdf4")){
  #  base_uri &lt;- "https://oceandata.sci.gsfc.nasa.gov:443/opendap"
  #  uri &lt;- paste0(base_uri, chl[["AQUA_MODIS.20090120.L3m.DAY.CHL.chlor_a.4km.nc"]]$url)
  #  NC &lt;- ncdf4::nc_open(uri)
  #}
 

</code></pre>

<hr>
<h2 id='DatasetNode'>A class for a single datatset reference</h2><span id='topic+DatasetNode'></span>

<h3>Description</h3>

<p>A direct Dataset representation that subclasses from ThreddsNode
</p>


<h3>Super class</h3>

<p><code><a href="#topic+ThreddsNode">thredds::ThreddsNode</a></code> -&gt; <code>DatasetNode</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>name</code></dt><dd><p>character, often the filename</p>
</dd>
<dt><code>dataSize</code></dt><dd><p>numeric, size in bytes</p>
</dd>
<dt><code>date</code></dt><dd><p>character, modification date</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-DatasetNode-new"><code>DatasetNode$new()</code></a>
</p>
</li>
<li> <p><a href="#method-DatasetNode-GET"><code>DatasetNode$GET()</code></a>
</p>
</li>
<li> <p><a href="#method-DatasetNode-get_url"><code>DatasetNode$get_url()</code></a>
</p>
</li>
<li> <p><a href="#method-DatasetNode-list_access"><code>DatasetNode$list_access()</code></a>
</p>
</li>
<li> <p><a href="#method-DatasetNode-print"><code>DatasetNode$print()</code></a>
</p>
</li>
<li> <p><a href="#method-DatasetNode-clone"><code>DatasetNode$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="browse"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-browse'><code>thredds::ThreddsNode$browse()</code></a></span></li>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="children_names"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-children_names'><code>thredds::ThreddsNode$children_names()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-DatasetNode-new"></a>



<h4>Method <code>new()</code></h4>

<p>initialize an instance of ServiceNode
</p>


<h5>Usage</h5>

<div class="r"><pre>DatasetNode$new(x, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>url or xml2::xml_node</p>
</dd>
<dt><code>...</code></dt><dd><p>arguments for superclass initialization</p>
</dd>
</dl>

</div>


<hr>
<a id="method-DatasetNode-GET"></a>



<h4>Method <code>GET()</code></h4>

<p>Overrides the GET method of the superclass.  GET is not permitted
</p>


<h5>Usage</h5>

<div class="r"><pre>DatasetNode$GET()</pre></div>



<h5>Returns</h5>

<p>NULL
</p>


<hr>
<a id="method-DatasetNode-get_url"></a>



<h4>Method <code>get_url()</code></h4>

<p>Retrieve the relative URL for a dataset.
</p>


<h5>Usage</h5>

<div class="r"><pre>DatasetNode$get_url(
  service = c("dap", "opendap", "wms")[1],
  sep = c("/", "")[2],
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>service</code></dt><dd><p>character, the service to use.  (default 'dap' equivalent to 'opendap')
Ignored if &lsquo;urlPath' or 'href' is in the nodes&rsquo; attributes.</p>
</dd>
<dt><code>sep</code></dt><dd><p>character, typically &quot;/&quot; or &quot;&quot; (default), used for joined base_url to relative url</p>
</dd>
<dt><code>...</code></dt><dd><p>other arguments for <code>DatasetNode$list_access</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>character
</p>


<hr>
<a id="method-DatasetNode-list_access"></a>



<h4>Method <code>list_access()</code></h4>

<p>list access methods
</p>


<h5>Usage</h5>

<div class="r"><pre>DatasetNode$list_access(xpath = build_xpath("access", prefix = self$prefix))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>xpath</code></dt><dd><p>charcater, xpath descriptor</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>named list of character vectors or NULL
</p>


<hr>
<a id="method-DatasetNode-print"></a>



<h4>Method <code>print()</code></h4>

<p>print method
</p>


<h5>Usage</h5>

<div class="r"><pre>DatasetNode$print(prefix = "")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>prefix</code></dt><dd><p>character, to be printed before each line of output (like spaces)</p>
</dd>
<dt><code>...</code></dt><dd><p>other arguments for superclass</p>
</dd>
</dl>

</div>


<hr>
<a id="method-DatasetNode-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>DatasetNode$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Note</h3>

<p>For examples see <a href="#topic+CatalogNode">CatalogNode</a>
</p>

<hr>
<h2 id='get_catalog'>Retrieve a catalog</h2><span id='topic+get_catalog'></span>

<h3>Description</h3>

<p>Retrieve a catalog
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_catalog(uri, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_catalog_+3A_uri">uri</code></td>
<td>
<p>the URI of the catalog</p>
</td></tr>
<tr><td><code id="get_catalog_+3A_...">...</code></td>
<td>
<p>further arguments for parse_node</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ThreddsNodeRefClass or subclass or NULL
</p>

<hr>
<h2 id='get_xml_ns'>Retrieve the namespaces for a resource</h2><span id='topic+get_xml_ns'></span>

<h3>Description</h3>

<p>Retrieve the namespaces for a resource
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_xml_ns(uri)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_xml_ns_+3A_uri">uri</code></td>
<td>
<p>the URI of the catalog</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the output of <code><a href="xml2.html#topic+xml_ns">xml_ns</a></code>
</p>

<hr>
<h2 id='grepl_it'>Determine if a vector of names match the greplargs</h2><span id='topic+grepl_it'></span>

<h3>Description</h3>

<p>Determine if a vector of names match the greplargs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grepl_it(x, greplargs = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grepl_it_+3A_x">x</code></td>
<td>
<p>a vector of names</p>
</td></tr>
<tr><td><code id="grepl_it_+3A_greplargs">greplargs</code></td>
<td>
<p>NULL, vector or list</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical vector
</p>

<hr>
<h2 id='is_xmlNode'>Test if an object inherits from xml2::xml_node</h2><span id='topic+is_xmlNode'></span>

<h3>Description</h3>

<p>Test if an object inherits from xml2::xml_node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_xmlNode(x, classname = "xml_node")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_xmlNode_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
<tr><td><code id="is_xmlNode_+3A_classname">classname</code></td>
<td>
<p>character, the class name to test against, by default 'xml_node'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical
</p>

<hr>
<h2 id='parse_node'>Convert a node to an object inheriting from ThreddsNode</h2><span id='topic+parse_node'></span>

<h3>Description</h3>

<p>Convert a node to an object inheriting from ThreddsNode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_node(node, url = NULL, verbose = FALSE, encoding = "UTF-8", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_node_+3A_node">node</code></td>
<td>
<p>xml2::xml_node or an httr::response object</p>
</td></tr>
<tr><td><code id="parse_node_+3A_url">url</code></td>
<td>
<p>character, optional url if a catalog or direct dataset</p>
</td></tr>
<tr><td><code id="parse_node_+3A_verbose">verbose</code></td>
<td>
<p>logical, by default FALSE</p>
</td></tr>
<tr><td><code id="parse_node_+3A_encoding">encoding</code></td>
<td>
<p>character, by default UTF-8</p>
</td></tr>
<tr><td><code id="parse_node_+3A_...">...</code></td>
<td>
<p>further arguments for instantiation of classes (such as ns = &quot;foo&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ThreddsNode class object or subclass
</p>

<hr>
<h2 id='ServiceNode'>A simple class for parsing and holdoing service info</h2><span id='topic+ServiceNode'></span>

<h3>Description</h3>

<p>A Service representation that subclasses from ThreddsNode
</p>


<h3>Super class</h3>

<p><code><a href="#topic+ThreddsNode">thredds::ThreddsNode</a></code> -&gt; <code>ServiceNode</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>name</code></dt><dd><p>character</p>
</dd>
<dt><code>serviceType</code></dt><dd><p>character</p>
</dd>
<dt><code>base</code></dt><dd><p>character base url</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ServiceNode-new"><code>ServiceNode$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ServiceNode-print"><code>ServiceNode$print()</code></a>
</p>
</li>
<li> <p><a href="#method-ServiceNode-clone"><code>ServiceNode$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="GET"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-GET'><code>thredds::ThreddsNode$GET()</code></a></span></li>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="browse"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-browse'><code>thredds::ThreddsNode$browse()</code></a></span></li>
<li><span class="pkg-link" data-pkg="thredds" data-topic="ThreddsNode" data-id="children_names"><a href='../../thredds/html/ThreddsNode.html#method-ThreddsNode-children_names'><code>thredds::ThreddsNode$children_names()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-ServiceNode-new"></a>



<h4>Method <code>new()</code></h4>

<p>initialize an instance of ServiceNode
</p>


<h5>Usage</h5>

<div class="r"><pre>ServiceNode$new(x, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>url or xml2::xml_node</p>
</dd>
<dt><code>...</code></dt><dd><p>arguments for superclass initialization</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ServiceNode-print"></a>



<h4>Method <code>print()</code></h4>

<p>print method
</p>


<h5>Usage</h5>

<div class="r"><pre>ServiceNode$print(prefix = "")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>prefix</code></dt><dd><p>character, to be printed before each line of output (like spaces)</p>
</dd>
<dt><code>...</code></dt><dd><p>other arguments for superclass</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ServiceNode-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ServiceNode$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Note</h3>

<p>For examples see <a href="#topic+CatalogNode">CatalogNode</a>
</p>

<hr>
<h2 id='thredds'>thredds: Crawler for Navigating THREDDS Catalogs</h2><span id='topic+thredds'></span><span id='topic+thredds-package'></span>

<h3>Description</h3>

<p>A limited crawler for programmatically navigating THREDDS catalogs.
</p>

<hr>
<h2 id='ThreddsNode'>A base representation that other nodes subclass from</h2><span id='topic+ThreddsNode'></span>

<h3>Description</h3>

<p>R6 base class for all other to inherit from
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>url</code></dt><dd><p>character - possibly wrong but usually right!</p>
</dd>
<dt><code>node</code></dt><dd><p>xml2::xml_node</p>
</dd>
<dt><code>verbose</code></dt><dd><p>logical</p>
</dd>
<dt><code>prefix</code></dt><dd><p>xpath namespace prefix, NA or NULL or charcater() to ignore</p>
</dd>
<dt><code>tries</code></dt><dd><p>numeric number of requests attempts before failing</p>
</dd>
<dt><code>encoding</code></dt><dd><p>character, by default 'UTF-8'</p>
</dd>
<dt><code>base_url</code></dt><dd><p>character, the base URL for the service</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ThreddsNode-new"><code>ThreddsNode$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ThreddsNode-print"><code>ThreddsNode$print()</code></a>
</p>
</li>
<li> <p><a href="#method-ThreddsNode-GET"><code>ThreddsNode$GET()</code></a>
</p>
</li>
<li> <p><a href="#method-ThreddsNode-browse"><code>ThreddsNode$browse()</code></a>
</p>
</li>
<li> <p><a href="#method-ThreddsNode-children_names"><code>ThreddsNode$children_names()</code></a>
</p>
</li>
<li> <p><a href="#method-ThreddsNode-clone"><code>ThreddsNode$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-ThreddsNode-new"></a>



<h4>Method <code>new()</code></h4>

<p>initialize an instance of ThreddsNode
</p>


<h5>Usage</h5>

<div class="r"><pre>ThreddsNode$new(
  x,
  verbose = FALSE,
  n_tries = 3,
  prefix = NULL,
  ns_strip = FALSE,
  encoding = "UTF-8",
  base_url = ""
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>url or xml2::xml_node</p>
</dd>
<dt><code>verbose</code></dt><dd><p>logical, TRUE to be noisy (default FALSE)</p>
</dd>
<dt><code>n_tries</code></dt><dd><p>numeric, defaults to 3</p>
</dd>
<dt><code>prefix</code></dt><dd><p>character, the namespace to examine (default NULL, inherited when initialized)</p>
</dd>
<dt><code>ns_strip</code></dt><dd><p>logical, if TRUE then strip namespace (default FALSE)</p>
</dd>
<dt><code>encoding</code></dt><dd><p>character, by default 'UTF-8'</p>
</dd>
<dt><code>base_url</code></dt><dd><p>character, the base URL for the service</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ThreddsNode-print"></a>



<h4>Method <code>print()</code></h4>

<p>print method
</p>


<h5>Usage</h5>

<div class="r"><pre>ThreddsNode$print(prefix = "", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>prefix</code></dt><dd><p>character, to be printed before each line of output (like spaces)</p>
</dd>
<dt><code>...</code></dt><dd><p>other argum,ents (ignored for now)</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ThreddsNode-GET"></a>



<h4>Method <code>GET()</code></h4>

<p>Retrieve a node of the contents at this nodes URL
</p>


<h5>Usage</h5>

<div class="r"><pre>ThreddsNode$GET()</pre></div>



<h5>Returns</h5>

<p>ThreddsNode or subclass or NULL
</p>


<hr>
<a id="method-ThreddsNode-browse"></a>



<h4>Method <code>browse()</code></h4>

<p>Browse the URL if possible
</p>


<h5>Usage</h5>

<div class="r"><pre>ThreddsNode$browse()</pre></div>


<hr>
<a id="method-ThreddsNode-children_names"></a>



<h4>Method <code>children_names()</code></h4>

<p>Retrieve a vector of unique child names
</p>


<h5>Usage</h5>

<div class="r"><pre>ThreddsNode$children_names(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>further arguments for <code><a href="#topic+xml_children_names">xml_children_names</a></code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>a vector of zero or more child names
</p>


<hr>
<a id="method-ThreddsNode-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ThreddsNode$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Note</h3>

<p>Abstract class. For examples see <a href="#topic+CatalogNode">CatalogNode</a>
</p>

<hr>
<h2 id='xml_children_names'>Get the names of children</h2><span id='topic+xml_children_names'></span>

<h3>Description</h3>

<p>Get the names of children
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xml_children_names(x, unique_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xml_children_names_+3A_x">x</code></td>
<td>
<p>xml2::xml_node</p>
</td></tr>
<tr><td><code id="xml_children_names_+3A_unique_only">unique_only</code></td>
<td>
<p>logical if TRUE remove duplicates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>zero or more child names.
</p>

<hr>
<h2 id='xml_id'>Retrieve an ID value for a node from it's attributes.</h2><span id='topic+xml_id'></span>

<h3>Description</h3>

<p>Retrieve an ID value for a node from it's attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xml_id(x, atts = c("name", "title", "ID", "urlPath", "href"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xml_id_+3A_x">x</code></td>
<td>
<p>xml node or a named character vector as per <code>xml_attrs</code></p>
</td></tr>
<tr><td><code id="xml_id_+3A_atts">atts</code></td>
<td>
<p>character, ordered vector of attribute names to use as an ID value
As the list is stepped through if an attribute is missing or empty character
then advance to the next, otherwise return that value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character identifier, possibly an empty character (<code>character()</code>)
</p>

<hr>
<h2 id='xmlString'>Convert xm2::xml_node to character</h2><span id='topic+xmlString'></span>

<h3>Description</h3>

<p>Convert xm2::xml_node to character
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xmlString(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xmlString_+3A_x">x</code></td>
<td>
<p>xmlNode</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

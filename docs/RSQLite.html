<!DOCTYPE html><html><head><title>Help for package RSQLite</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RSQLite}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#datasetsDb'><p>A sample sqlite database</p></a></li>
<li><a href='#dbBegin_SQLiteConnection'><p>SQLite transaction management</p></a></li>
<li><a href='#dbBeginTransaction'><p>Generic for creating a new transaction</p></a></li>
<li><a href='#dbGetPreparedQuery'><p>Deprecated querying tools</p></a></li>
<li><a href='#dbListResults_SQLiteConnection'><p>dbListResults</p></a></li>
<li><a href='#dbReadTable_SQLiteConnection_character'><p>Read a database table</p></a></li>
<li><a href='#dbWriteTable_SQLiteConnection_character_character'><p>Write a local data frame or file to the database</p></a></li>
<li><a href='#fetch_SQLiteResult'><p>Fetch</p></a></li>
<li><a href='#initExtension'><p>Add useful extension functions</p></a></li>
<li><a href='#initRegExp'><p>Add regular expression operator</p></a></li>
<li><a href='#isIdCurrent'><p>isIdCurrent</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#rsqliteVersion'><p>RSQLite version</p></a></li>
<li><a href='#SQLite'><p>Connect to an SQLite database</p></a></li>
<li><a href='#sqliteBuildTableDefinition'><p>Build the SQL CREATE TABLE definition as a string</p></a></li>
<li><a href='#SQLiteConnection-class'><p>Class SQLiteConnection (and methods)</p></a></li>
<li><a href='#sqliteCopyDatabase'><p>Copy a SQLite database</p></a></li>
<li><a href='#SQLiteDriver-class'><p>Class SQLiteDriver (and methods)</p></a></li>
<li><a href='#sqliteQuickColumn'><p>Return an entire column from a SQLite database</p></a></li>
<li><a href='#SQLiteResult-class'><p>Class SQLiteResult (and methods)</p></a></li>
<li><a href='#sqliteSetBusyHandler'><p>Configure what SQLite should do when the database is locked</p></a></li>
<li><a href='#SQLKeywords_SQLiteConnection'><p>Make R/S-Plus identifiers into legal SQL identifiers</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>SQLite Interface for R</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3.6</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-14</td>
</tr>
<tr>
<td>Description:</td>
<td>Embeds the SQLite database engine in R and provides an
    interface compliant with the DBI package. The source for the SQLite
    engine and for various extensions in a recent version is included.
    System libraries will never be consulted because this package relies
    on static linking for the plugins it includes; this also ensures a
    consistent experience across all installations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-2.1">LGPL-2.1</a> | <a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a> [expanded from: LGPL (&ge; 2.1)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rsqlite.r-dbi.org">https://rsqlite.r-dbi.org</a>, <a href="https://github.com/r-dbi/RSQLite">https://github.com/r-dbi/RSQLite</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-dbi/RSQLite/issues">https://github.com/r-dbi/RSQLite/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bit64, blob (&ge; 1.2.0), DBI (&ge; 1.2.0), memoise, methods,
pkgconfig, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>callr, DBItest (&ge; 1.8.0), gert, gh, hms, knitr, magrittr,
rmarkdown, rvest, testthat (&ge; 3.0.0), withr, xml2</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>plogr (&ge; 0.2.0), cpp11 (&ge; 0.4.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>r-dbi/dbitemplate</td>
</tr>
<tr>
<td>Config/autostyle/scope:</td>
<td>line_breaks</td>
</tr>
<tr>
<td>Config/autostyle/strict:</td>
<td>false</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'SQLiteConnection.R' 'SQLKeywords_SQLiteConnection.R'
'SQLiteDriver.R' 'SQLite.R' 'SQLiteResult.R' 'coerce.R'
'compatRowNames.R' 'copy.R' 'cpp11.R' 'datasetsDb.R'
'dbAppendTable_SQLiteConnection.R' 'dbBeginTransaction.R'
'dbBegin_SQLiteConnection.R' 'dbBind_SQLiteResult.R'
'dbClearResult_SQLiteResult.R' 'dbColumnInfo_SQLiteResult.R'
'dbCommit_SQLiteConnection.R' 'dbConnect_SQLiteConnection.R'
'dbConnect_SQLiteDriver.R' 'dbDataType_SQLiteConnection.R'
'dbDataType_SQLiteDriver.R' 'dbDisconnect_SQLiteConnection.R'
'dbExistsTable_SQLiteConnection_character.R'
'dbFetch_SQLiteResult.R' 'dbGetException_SQLiteConnection.R'
'dbGetInfo_SQLiteConnection.R' 'dbGetInfo_SQLiteDriver.R'
'dbGetPreparedQuery.R'
'dbGetPreparedQuery_SQLiteConnection_character_data.frame.R'
'dbGetRowCount_SQLiteResult.R'
'dbGetRowsAffected_SQLiteResult.R'
'dbGetStatement_SQLiteResult.R' 'dbHasCompleted_SQLiteResult.R'
'dbIsValid_SQLiteConnection.R' 'dbIsValid_SQLiteDriver.R'
'dbIsValid_SQLiteResult.R' 'dbListResults_SQLiteConnection.R'
'dbListTables_SQLiteConnection.R'
'dbQuoteIdentifier_SQLiteConnection_SQL.R'
'dbQuoteIdentifier_SQLiteConnection_character.R'
'dbReadTable_SQLiteConnection_character.R'
'dbRemoveTable_SQLiteConnection_character.R'
'dbRollback_SQLiteConnection.R' 'dbSendPreparedQuery.R'
'dbSendPreparedQuery_SQLiteConnection_character_data.frame.R'
'dbSendQuery_SQLiteConnection_character.R'
'dbUnloadDriver_SQLiteDriver.R'
'dbUnquoteIdentifier_SQLiteConnection_SQL.R'
'dbWriteTable_SQLiteConnection_character_character.R'
'dbWriteTable_SQLiteConnection_character_data.frame.R'
'db_bind.R' 'deprecated.R' 'export.R' 'fetch_SQLiteResult.R'
'import-standalone-check_suggested.R'
'import-standalone-purrr.R' 'initExtension.R' 'initRegExp.R'
'isSQLKeyword_SQLiteConnection_character.R'
'make.db.names_SQLiteConnection_character.R' 'names.R'
'pkgconfig.R' 'show_SQLiteConnection.R'
'sqlData_SQLiteConnection.R' 'table.R' 'transactions.R'
'utils.R' 'version.R' 'zzz.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-31 09:13:28 UTC; kirill</td>
</tr>
<tr>
<td>Author:</td>
<td>Kirill Müller <a href="https://orcid.org/0000-0002-1416-3412"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Hadley Wickham [aut],
  David A. James [aut],
  Seth Falcon [aut],
  D. Richard Hipp [ctb] (for the included SQLite sources),
  Dan Kennedy [ctb] (for the included SQLite sources),
  Joe Mistachkin [ctb] (for the included SQLite sources),
  SQLite Authors [ctb] (for the included SQLite sources),
  Liam Healy [ctb] (for the included SQLite sources),
  R Consortium [fnd],
  RStudio [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kirill Müller &lt;kirill@cynkra.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-31 22:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='datasetsDb'>A sample sqlite database</h2><span id='topic+datasetsDb'></span>

<h3>Description</h3>

<p>This database is bundled with the package, and contains all data frames
in the datasets package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datasetsDb()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>library(DBI)
db &lt;- RSQLite::datasetsDb()
dbListTables(db)

dbReadTable(db, "CO2")
dbGetQuery(db, "SELECT * FROM CO2 WHERE conc &lt; 100")

dbDisconnect(db)
</code></pre>

<hr>
<h2 id='dbBegin_SQLiteConnection'>SQLite transaction management</h2><span id='topic+dbBegin_SQLiteConnection'></span><span id='topic+dbBegin+2CSQLiteConnection-method'></span><span id='topic+dbCommit_SQLiteConnection'></span><span id='topic+dbCommit+2CSQLiteConnection-method'></span><span id='topic+dbRollback_SQLiteConnection'></span><span id='topic+dbRollback+2CSQLiteConnection-method'></span><span id='topic+sqlite-transaction'></span><span id='topic+sqliteIsTransacting'></span>

<h3>Description</h3>

<p>By default, SQLite is in auto-commit mode. <code>dbBegin()</code> starts
a SQLite transaction and turns auto-commit off. <code>dbCommit()</code> and
<code>dbRollback()</code> commit and rollback the transaction, respectively and turn
auto-commit on.
<code><a href="DBI.html#topic+dbWithTransaction">DBI::dbWithTransaction()</a></code> is a convenient wrapper that makes sure that
<code>dbCommit()</code> or <code>dbRollback()</code> is called.
A helper function <code>sqliteIsTransacting()</code> is available to check the current
transaction status of the connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteConnection'
dbBegin(conn, .name = NULL, ..., name = NULL)

## S4 method for signature 'SQLiteConnection'
dbCommit(conn, .name = NULL, ..., name = NULL)

## S4 method for signature 'SQLiteConnection'
dbRollback(conn, .name = NULL, ..., name = NULL)

sqliteIsTransacting(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbBegin_SQLiteConnection_+3A_conn">conn</code></td>
<td>
<p>a <code><a href="#topic+SQLiteConnection-class">SQLiteConnection</a></code> object, produced by
<code><a href="DBI.html#topic+dbConnect">DBI::dbConnect()</a></code></p>
</td></tr>
<tr><td><code id="dbBegin_SQLiteConnection_+3A_.name">.name</code></td>
<td>
<p>For backward compatibility, do not use.</p>
</td></tr>
<tr><td><code id="dbBegin_SQLiteConnection_+3A_...">...</code></td>
<td>
<p>Needed for compatibility with generic. Otherwise ignored.</p>
</td></tr>
<tr><td><code id="dbBegin_SQLiteConnection_+3A_name">name</code></td>
<td>
<p>Supply a name to use a named savepoint. This allows you to
nest multiple transaction</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>The corresponding generic functions <code><a href="DBI.html#topic+transactions">DBI::dbBegin()</a></code>, <code><a href="DBI.html#topic+transactions">DBI::dbCommit()</a></code>,
and <code><a href="DBI.html#topic+transactions">DBI::dbRollback()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(DBI)
con &lt;- dbConnect(SQLite(), ":memory:")
dbWriteTable(con, "arrests", datasets::USArrests)
dbGetQuery(con, "select count(*) from arrests")

dbBegin(con)
rs &lt;- dbSendStatement(con, "DELETE from arrests WHERE Murder &gt; 1")
dbGetRowsAffected(rs)
dbClearResult(rs)

dbGetQuery(con, "select count(*) from arrests")

dbRollback(con)
dbGetQuery(con, "select count(*) from arrests")[1, ]

dbBegin(con)
rs &lt;- dbSendStatement(con, "DELETE FROM arrests WHERE Murder &gt; 5")
dbClearResult(rs)
dbCommit(con)
dbGetQuery(con, "SELECT count(*) FROM arrests")[1, ]

# Named savepoints can be nested --------------------------------------------
dbBegin(con, name = "a")
dbBegin(con, name = "b")
sqliteIsTransacting(con)
dbRollback(con, name = "b")
dbCommit(con, name = "a")

dbDisconnect(con)
</code></pre>

<hr>
<h2 id='dbBeginTransaction'>Generic for creating a new transaction</h2><span id='topic+dbBeginTransaction'></span>

<h3>Description</h3>

<p>See method documentation for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbBeginTransaction(conn, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbBeginTransaction_+3A_conn">conn</code></td>
<td>
<p>A <code>DBIConnection</code> object.</p>
</td></tr>
<tr><td><code id="dbBeginTransaction_+3A_...">...</code></td>
<td>
<p>Other arguments used by methods</p>
</td></tr>
</table>

<hr>
<h2 id='dbGetPreparedQuery'>Deprecated querying tools</h2><span id='topic+dbGetPreparedQuery'></span><span id='topic+dbGetPreparedQuery_SQLiteConnection_character_data.frame'></span><span id='topic+dbGetPreparedQuery+2CSQLiteConnection+2Ccharacter+2Cdata.frame-method'></span><span id='topic+dbSendPreparedQuery'></span><span id='topic+dbSendPreparedQuery_SQLiteConnection_character_data.frame'></span><span id='topic+dbSendPreparedQuery+2CSQLiteConnection+2Ccharacter+2Cdata.frame-method'></span><span id='topic+query-dep'></span>

<h3>Description</h3>

<p>These functions have been deprecated. Please switch to using
<code><a href="DBI.html#topic+dbSendQuery">dbSendQuery()</a></code>/<code><a href="DBI.html#topic+dbGetQuery">dbGetQuery()</a></code> with the <code>params</code> argument
or with calling <code><a href="DBI.html#topic+dbBind">dbBind()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbGetPreparedQuery(conn, statement, bind.data, ...)

## S4 method for signature 'SQLiteConnection,character,data.frame'
dbGetPreparedQuery(conn, statement, bind.data, ...)

dbSendPreparedQuery(conn, statement, bind.data, ...)

## S4 method for signature 'SQLiteConnection,character,data.frame'
dbSendPreparedQuery(conn, statement, bind.data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbGetPreparedQuery_+3A_conn">conn</code></td>
<td>
<p>A <code>DBIConnection</code> object.</p>
</td></tr>
<tr><td><code id="dbGetPreparedQuery_+3A_statement">statement</code></td>
<td>
<p>A SQL string</p>
</td></tr>
<tr><td><code id="dbGetPreparedQuery_+3A_bind.data">bind.data</code></td>
<td>
<p>A data frame of data to be bound.</p>
</td></tr>
<tr><td><code id="dbGetPreparedQuery_+3A_...">...</code></td>
<td>
<p>Other arguments used by methods</p>
</td></tr>
</table>

<hr>
<h2 id='dbListResults_SQLiteConnection'>dbListResults</h2><span id='topic+dbListResults_SQLiteConnection'></span><span id='topic+dbListResults+2CSQLiteConnection-method'></span>

<h3>Description</h3>

<p>DEPRECATED
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteConnection'
dbListResults(conn, ...)
</code></pre>

<hr>
<h2 id='dbReadTable_SQLiteConnection_character'>Read a database table</h2><span id='topic+dbReadTable_SQLiteConnection_character'></span><span id='topic+dbReadTable+2CSQLiteConnection+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Returns the contents of a database table given by name as a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteConnection,character'
dbReadTable(
  conn,
  name,
  ...,
  row.names = pkgconfig::get_config("RSQLite::row.names.table", FALSE),
  check.names = TRUE,
  select.cols = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbReadTable_SQLiteConnection_character_+3A_conn">conn</code></td>
<td>
<p>a <code><a href="#topic+SQLiteConnection-class">SQLiteConnection</a></code> object, produced by
<code><a href="DBI.html#topic+dbConnect">DBI::dbConnect()</a></code></p>
</td></tr>
<tr><td><code id="dbReadTable_SQLiteConnection_character_+3A_name">name</code></td>
<td>
<p>a character string specifying a table name. SQLite table names
are <em>not</em> case sensitive, e.g., table names <code>ABC</code> and <code>abc</code>
are considered equal.</p>
</td></tr>
<tr><td><code id="dbReadTable_SQLiteConnection_character_+3A_...">...</code></td>
<td>
<p>Needed for compatibility with generic. Otherwise ignored.</p>
</td></tr>
<tr><td><code id="dbReadTable_SQLiteConnection_character_+3A_row.names">row.names</code></td>
<td>
<p>Either <code>TRUE</code>, <code>FALSE</code>, <code>NA</code> or a string.
</p>
<p>If <code>TRUE</code>, always translate row names to a column called &quot;row_names&quot;.
If <code>FALSE</code>, never translate row names. If <code>NA</code>, translate
rownames only if they're a character vector.
</p>
<p>A string is equivalent to <code>TRUE</code>, but allows you to override the
default name.
</p>
<p>For backward compatibility, <code>NULL</code> is equivalent to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dbReadTable_SQLiteConnection_character_+3A_check.names">check.names</code></td>
<td>
<p>If <code>TRUE</code>, the default, column names will be
converted to valid R identifiers.</p>
</td></tr>
<tr><td><code id="dbReadTable_SQLiteConnection_character_+3A_select.cols">select.cols</code></td>
<td>
<p>Deprecated, do not use.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that the data frame returned by <code>dbReadTable()</code> only has
primitive data, e.g., it does not coerce character data to factors.
</p>


<h3>Value</h3>

<p>A data frame.
</p>


<h3>See Also</h3>

<p>The corresponding generic function <code><a href="DBI.html#topic+dbReadTable">DBI::dbReadTable()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(DBI)
db &lt;- RSQLite::datasetsDb()
dbReadTable(db, "mtcars")
dbReadTable(db, "mtcars", row.names = FALSE)
dbDisconnect(db)
</code></pre>

<hr>
<h2 id='dbWriteTable_SQLiteConnection_character_character'>Write a local data frame or file to the database</h2><span id='topic+dbWriteTable_SQLiteConnection_character_character'></span><span id='topic+dbWriteTable+2CSQLiteConnection+2Ccharacter+2Ccharacter-method'></span><span id='topic+dbWriteTable_SQLiteConnection_character_data.frame'></span><span id='topic+dbWriteTable+2CSQLiteConnection+2Ccharacter+2Cdata.frame-method'></span>

<h3>Description</h3>

<p>Functions for writing data frames or delimiter-separated files
to database tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteConnection,character,character'
dbWriteTable(
  conn,
  name,
  value,
  ...,
  field.types = NULL,
  overwrite = FALSE,
  append = FALSE,
  header = TRUE,
  colClasses = NA,
  row.names = FALSE,
  nrows = 50,
  sep = ",",
  eol = "\n",
  skip = 0,
  temporary = FALSE
)

## S4 method for signature 'SQLiteConnection,character,data.frame'
dbWriteTable(
  conn,
  name,
  value,
  ...,
  row.names = pkgconfig::get_config("RSQLite::row.names.table", FALSE),
  overwrite = FALSE,
  append = FALSE,
  field.types = NULL,
  temporary = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_conn">conn</code></td>
<td>
<p>a <code><a href="#topic+SQLiteConnection-class">SQLiteConnection</a></code> object, produced by
<code><a href="DBI.html#topic+dbConnect">DBI::dbConnect()</a></code></p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_name">name</code></td>
<td>
<p>a character string specifying a table name. SQLite table names
are <em>not</em> case sensitive, e.g., table names <code>ABC</code> and <code>abc</code>
are considered equal.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_value">value</code></td>
<td>
<p>a data.frame (or coercible to data.frame) object or a
file name (character).  In the first case, the data.frame is
written to a temporary file and then imported to SQLite; when <code>value</code>
is a character, it is interpreted as a file name and its contents imported
to SQLite.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_...">...</code></td>
<td>
<p>Needed for compatibility with generic. Otherwise ignored.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_field.types">field.types</code></td>
<td>
<p>character vector of named  SQL field types where
the names are the names of new table's columns. If missing, types inferred
with <code><a href="DBI.html#topic+dbDataType">DBI::dbDataType()</a></code>).</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_overwrite">overwrite</code></td>
<td>
<p>a logical specifying whether to overwrite an existing table
or not. Its default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_append">append</code></td>
<td>
<p>a logical specifying whether to append to an existing table
in the DBMS.  Its default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_header">header</code></td>
<td>
<p>is a logical indicating whether the first data line (but see
<code>skip</code>) has a header or not.  If missing, it value is determined
following <code><a href="utils.html#topic+read.table">read.table()</a></code> convention, namely, it is set to TRUE if
and only if the first row has one fewer field that the number of columns.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_colclasses">colClasses</code></td>
<td>
<p>Character vector of R type names, used to override
defaults when imputing classes from on-disk file.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_row.names">row.names</code></td>
<td>
<p>A logical specifying whether the <code>row.names</code> should be
output to the output DBMS table; if <code>TRUE</code>, an extra field whose name
will be whatever the R identifier <code>"row.names"</code> maps to the DBMS (see
<code><a href="DBI.html#topic+make.db.names">DBI::make.db.names()</a></code>). If <code>NA</code> will add rows names if
they are characters, otherwise will ignore.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_nrows">nrows</code></td>
<td>
<p>Number of rows to read to determine types.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_sep">sep</code></td>
<td>
<p>The field separator, defaults to <code>','</code>.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_eol">eol</code></td>
<td>
<p>The end-of-line delimiter, defaults to <code>'\n'</code>.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_skip">skip</code></td>
<td>
<p>number of lines to skip before reading the data. Defaults to 0.</p>
</td></tr>
<tr><td><code id="dbWriteTable_SQLiteConnection_character_character_+3A_temporary">temporary</code></td>
<td>
<p>a logical specifying whether the new table should be
temporary. Its default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In a primary key column qualified with
<a href="https://www.sqlite.org/autoinc.html"><code>AUTOINCREMENT</code></a>, missing
values will be assigned the next largest positive integer,
while nonmissing elements/cells retain their value.  If the
autoincrement column exists in the data frame
passed to the <code>value</code> argument,
the <code>NA</code> elements are overwritten.
Similarly, if the key column is not present in the data frame, all
elements are automatically assigned a value.
</p>


<h3>See Also</h3>

<p>The corresponding generic function <code><a href="DBI.html#topic+dbWriteTable">DBI::dbWriteTable()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>con &lt;- dbConnect(SQLite())
dbWriteTable(con, "mtcars", mtcars)
dbReadTable(con, "mtcars")

# A zero row data frame just creates a table definition.
dbWriteTable(con, "mtcars2", mtcars[0, ])
dbReadTable(con, "mtcars2")

dbDisconnect(con)
</code></pre>

<hr>
<h2 id='fetch_SQLiteResult'>Fetch</h2><span id='topic+fetch_SQLiteResult'></span><span id='topic+fetch+2CSQLiteResult-method'></span>

<h3>Description</h3>

<p>A shortcut for <code><a href="DBI.html#topic+dbFetch">dbFetch</a>(res, n = n, row.names = FALSE)</code>,
kept for compatibility reasons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteResult'
fetch(res, n = -1, ...)
</code></pre>

<hr>
<h2 id='initExtension'>Add useful extension functions</h2><span id='topic+initExtension'></span>

<h3>Description</h3>

<p>Several extension functions are included in the <span class="pkg">RSQLite</span> package.
When enabled via <code>initExtension()</code>, these extension functions can be used in
SQL queries.
Extensions must be enabled separately for each connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initExtension(db, extension = c("math", "regexp", "series", "csv"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initExtension_+3A_db">db</code></td>
<td>
<p>A <code><a href="#topic+SQLiteConnection-class">SQLiteConnection</a></code> object to load these extensions into.</p>
</td></tr>
<tr><td><code id="initExtension_+3A_extension">extension</code></td>
<td>
<p>The extension to load.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>"math"</code> extension functions are written by Liam Healy and made available
through the SQLite website (<a href="https://www.sqlite.org/contrib">https://www.sqlite.org/contrib</a>).
This package contains a slightly modified version of the original code.
See the section &quot;Available functions in the math extension&quot; for details.
</p>
<p>The <code>"regexp"</code> extension provides a regular-expression matcher for POSIX
extended regular expressions,
as available through the SQLite source code repository
(<a href="https://sqlite.org/src/file?filename=ext/misc/regexp.c">https://sqlite.org/src/file?filename=ext/misc/regexp.c</a>).
SQLite will then implement the <code style="white-space: pre;">&#8288;A regexp B&#8288;</code> operator,
where <code>A</code> is the string to be matched and <code>B</code> is the regular expression.
</p>
<p>The <code>"series"</code> extension loads the table-valued function <code>generate_series()</code>,
as available through the SQLite source code repository
(<a href="https://sqlite.org/src/file?filename=ext/misc/series.c">https://sqlite.org/src/file?filename=ext/misc/series.c</a>).
</p>
<p>The <code>"csv"</code> extension loads the function <code>csv()</code> that can be used to create
virtual tables,
as available through the SQLite source code repository
(<a href="https://sqlite.org/src/file?filename=ext/misc/csv.c">https://sqlite.org/src/file?filename=ext/misc/csv.c</a>).
</p>


<h3>Available functions in the math extension</h3>


<dl>
<dt>Math functions</dt><dd><p>acos, acosh, asin, asinh, atan, atan2, atanh, atn2,
ceil, cos, cosh, cot, coth, degrees, difference, exp, floor, log, log10,
pi, power, radians, sign, sin, sinh, sqrt, square, tan, tanh</p>
</dd>
<dt>String functions</dt><dd><p>charindex, leftstr, ltrim, padc, padl, padr, proper,
replace, replicate, reverse, rightstr, rtrim, strfilter, trim</p>
</dd>
<dt>Aggregate functions</dt><dd><p>stdev, variance, mode, median, lower_quartile,
upper_quartile</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(DBI)
db &lt;- RSQLite::datasetsDb()

# math
RSQLite::initExtension(db)
dbGetQuery(db, "SELECT stdev(mpg) FROM mtcars")
sd(mtcars$mpg)

# regexp
RSQLite::initExtension(db, "regexp")
dbGetQuery(db, "SELECT * FROM mtcars WHERE carb REGEXP '[12]'")

# series
RSQLite::initExtension(db, "series")
dbGetQuery(db, "SELECT value FROM generate_series(0, 20, 5);")

dbDisconnect(db)

# csv
db &lt;- dbConnect(RSQLite::SQLite())
RSQLite::initExtension(db, "csv")
# use the filename argument to mount CSV files from disk
sql &lt;- paste0(
  "CREATE VIRTUAL TABLE tbl USING ",
  "csv(data='1,2', schema='CREATE TABLE x(a INT, b INT)')"
)
dbExecute(db, sql)
dbGetQuery(db, "SELECT * FROM tbl")
</code></pre>

<hr>
<h2 id='initRegExp'>Add regular expression operator</h2><span id='topic+initRegExp'></span>

<h3>Description</h3>

<p>Forwarded to <code>initExtension(db, "regexp")</code> .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initRegExp(db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initRegExp_+3A_db">db</code></td>
<td>
<p>A <code><a href="#topic+SQLiteConnection-class">SQLiteConnection</a></code> object to add the
regular expression operator into the connection.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Always <code>TRUE</code>, invisibly.
</p>

<hr>
<h2 id='isIdCurrent'>isIdCurrent</h2><span id='topic+isIdCurrent'></span>

<h3>Description</h3>

<p>Deprecated. Please use dbIsValid instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isIdCurrent(obj)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+Id'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>DBI</dt><dd><p><code><a href="DBI.html#topic+Id">Id</a></code></p>
</dd>
</dl>

<hr>
<h2 id='rsqliteVersion'>RSQLite version</h2><span id='topic+rsqliteVersion'></span>

<h3>Description</h3>

<p>Return the version of RSQLite.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsqliteVersion()
</code></pre>


<h3>Value</h3>

<p>A character vector containing header and library versions of
RSQLite.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>RSQLite::rsqliteVersion()
</code></pre>

<hr>
<h2 id='SQLite'>Connect to an SQLite database</h2><span id='topic+SQLite'></span><span id='topic+RSQLite'></span><span id='topic+RSQLite-package'></span><span id='topic+dbConnect_SQLiteConnection'></span><span id='topic+dbConnect+2CSQLiteConnection-method'></span><span id='topic+dbConnect_SQLiteDriver'></span><span id='topic+SQLITE_RWC'></span><span id='topic+SQLITE_RW'></span><span id='topic+SQLITE_RO'></span><span id='topic+dbConnect+2CSQLiteDriver-method'></span><span id='topic+dbDisconnect_SQLiteConnection'></span><span id='topic+dbDisconnect+2CSQLiteConnection-method'></span>

<h3>Description</h3>

<p>Together, <code>SQLite()</code> and <code>dbConnect()</code> allow you to connect to
a SQLite database file. See <code><a href="DBI.html#topic+dbSendQuery">DBI::dbSendQuery()</a></code> for how to issue queries
and receive results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SQLite(...)

## S4 method for signature 'SQLiteConnection'
dbConnect(drv, ...)

## S4 method for signature 'SQLiteDriver'
dbConnect(
  drv,
  dbname = "",
  ...,
  loadable.extensions = TRUE,
  default.extensions = loadable.extensions,
  cache_size = NULL,
  synchronous = "off",
  flags = SQLITE_RWC,
  vfs = NULL,
  bigint = c("integer64", "integer", "numeric", "character"),
  extended_types = FALSE
)

## S4 method for signature 'SQLiteConnection'
dbDisconnect(conn, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SQLite_+3A_...">...</code></td>
<td>
<p>In previous versions, <code>SQLite()</code> took arguments. These
have now all been moved to <code><a href="DBI.html#topic+dbConnect">dbConnect()</a></code>, and any arguments here
will be ignored with a warning.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_drv">drv</code>, <code id="SQLite_+3A_conn">conn</code></td>
<td>
<p>An objected generated by <code><a href="#topic+SQLite">SQLite()</a></code>, or an existing
<code><a href="#topic+SQLiteConnection-class">SQLiteConnection</a></code>. If an connection, the connection
will be cloned.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_dbname">dbname</code></td>
<td>
<p>The path to the database file. SQLite keeps each database
instance in one single file. The name of the database <em>is</em> the file
name, thus database names should be legal file names in the running
platform. There are two exceptions:
</p>

<ul>
<li> <p><code>""</code> will create a temporary on-disk database. The file
will be deleted when the connection is closed.
</p>
</li>
<li> <p><code>":memory:"</code> or <code>"file::memory:"</code> will create a temporary
in-memory database.
</p>
</li></ul>
</td></tr>
<tr><td><code id="SQLite_+3A_loadable.extensions">loadable.extensions</code></td>
<td>
<p>When <code>TRUE</code> (default) SQLite3
loadable extensions are enabled. Setting this value to <code>FALSE</code>
prevents extensions from being loaded.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_default.extensions">default.extensions</code></td>
<td>
<p>When <code>TRUE</code> (default) the <code><a href="#topic+initExtension">initExtension()</a></code>
function will be called on the new connection.Setting this value to <code>FALSE</code>
requires calling <code>initExtension()</code> manually.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_cache_size">cache_size</code></td>
<td>
<p>Advanced option. A positive integer to change the maximum
number of disk pages that SQLite holds in memory (SQLite's default is
2000 pages). See <a href="https://www.sqlite.org/pragma.html#pragma_cache_size">https://www.sqlite.org/pragma.html#pragma_cache_size</a>
for details.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_synchronous">synchronous</code></td>
<td>
<p>Advanced options. Possible values for <code>synchronous</code>
are &quot;off&quot; (the default), &quot;normal&quot;, or  &quot;full&quot;.  Users have reported
significant speed ups using <code>sychronous = "off"</code>, and the SQLite
documentation itself implies considerable improved performance at the very
modest risk of database corruption in the unlikely case of the operating
system (<em>not</em> the R application) crashing. See
<a href="https://www.sqlite.org/pragma.html#pragma_synchronous">https://www.sqlite.org/pragma.html#pragma_synchronous</a> for details.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_flags">flags</code></td>
<td>
<p><code>SQLITE_RWC</code>: open the database in read/write mode
and create the database file if it does not already exist;
<code>SQLITE_RW</code>: open the database in read/write mode. Raise an error
if the file does not already exist; <code>SQLITE_RO</code>: open the database in
read only mode.  Raise an error if the file does not already exist</p>
</td></tr>
<tr><td><code id="SQLite_+3A_vfs">vfs</code></td>
<td>
<p>Select the SQLite3 OS interface. See
https://www.sqlite.org/vfs.html for details. Allowed values are
<code>"unix-posix"</code>, <code>"unix-unix-afp"</code>,
<code>"unix-unix-flock"</code>, <code>"unix-dotfile"</code>, and
<code>"unix-none"</code>.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_bigint">bigint</code></td>
<td>
<p>The R type that 64-bit integer types should be mapped to,
default is <a href="bit64.html#topic+bit64-package">bit64::integer64</a>, which allows the full range of 64 bit
integers.</p>
</td></tr>
<tr><td><code id="SQLite_+3A_extended_types">extended_types</code></td>
<td>
<p>When <code>TRUE</code> columns of type <code>DATE</code>, <code>DATETIME</code> /
<code>TIMESTAMP</code>, and <code>TIME</code> are mapped to corresponding R-classes, c.f. below
for details. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Connections are automatically cleaned-up after they're deleted and
reclaimed by the GC. You can use <code><a href="DBI.html#topic+dbDisconnect">DBI::dbDisconnect()</a></code> to terminate the
connection early, but it will not actually close until all open result
sets have been closed (and you'll get a warning message to this effect).
</p>


<h3>Value</h3>

<p><code>SQLite()</code> returns an object of class <a href="#topic+SQLiteDriver-class">SQLiteDriver</a>.
</p>
<p><code>dbConnect()</code> returns an object of class <a href="#topic+SQLiteConnection-class">SQLiteConnection</a>.
</p>


<h3>Extended Types</h3>

<p>When parameter <code>extended_types = TRUE</code> date and time columns are directly
mapped to corresponding R-types. How exactly depends on whether the actual
value is a number or a string:</p>

<table>
<tr>
 <td style="text-align: left;">
   <em>Column type</em> </td><td style="text-align: left;"> <em>Value is numeric</em> </td><td style="text-align: left;"> <em>Value is Text</em> </td><td style="text-align: left;"> <em>R-class</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
   DATE </td><td style="text-align: left;"> Count of days since 1970-01-01 </td><td style="text-align: left;"> YMD formatted string (e.g. 2020-01-23) </td><td style="text-align: left;"> <code>Date</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   TIME </td><td style="text-align: left;"> Count of (fractional) seconds </td><td style="text-align: left;"> HMS formatted string (e.g. 12:34:56) </td><td style="text-align: left;"> <code>hms</code> (and <code>difftime</code>) </td>
</tr>
<tr>
 <td style="text-align: left;">
   DATETIME / TIMESTAMP </td><td style="text-align: left;"> Count of (fractional) seconds since midnight 1970-01-01 UTC </td><td style="text-align: left;"> DATE and TIME as above separated by a space </td><td style="text-align: left;"> <code>POSIXct</code> with time zone UTC </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>If a value cannot be mapped an <code>NA</code> is returned in its place with a warning.
</p>


<h3>See Also</h3>

<p>The corresponding generic functions <code><a href="DBI.html#topic+dbConnect">DBI::dbConnect()</a></code> and <code><a href="DBI.html#topic+dbDisconnect">DBI::dbDisconnect()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(DBI)
# Initialize a temporary in memory database and copy a data.frame into it
con &lt;- dbConnect(RSQLite::SQLite(), ":memory:")
data(USArrests)
dbWriteTable(con, "USArrests", USArrests)
dbListTables(con)

# Fetch all query results into a data frame:
dbGetQuery(con, "SELECT * FROM USArrests")

# Or do it in batches
rs &lt;- dbSendQuery(con, "SELECT * FROM USArrests")
d1 &lt;- dbFetch(rs, n = 10) # extract data in chunks of 10 rows
dbHasCompleted(rs)
d2 &lt;- dbFetch(rs, n = -1) # extract all remaining data
dbHasCompleted(rs)
dbClearResult(rs)

# clean up
dbDisconnect(con)
</code></pre>

<hr>
<h2 id='sqliteBuildTableDefinition'>Build the SQL CREATE TABLE definition as a string</h2><span id='topic+sqliteBuildTableDefinition'></span><span id='topic+dbBuildTableDefinition'></span>

<h3>Description</h3>

<p>The output SQL statement is a simple <code style="white-space: pre;">&#8288;CREATE TABLE&#8288;</code> suitable for
<code>dbGetQuery</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqliteBuildTableDefinition(
  con,
  name,
  value,
  field.types = NULL,
  row.names = pkgconfig::get_config("RSQLite::row.names.query", FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sqliteBuildTableDefinition_+3A_con">con</code></td>
<td>
<p>A database connection.</p>
</td></tr>
<tr><td><code id="sqliteBuildTableDefinition_+3A_name">name</code></td>
<td>
<p>Name of the new SQL table</p>
</td></tr>
<tr><td><code id="sqliteBuildTableDefinition_+3A_value">value</code></td>
<td>
<p>A data.frame, for which we want to create a table.</p>
</td></tr>
<tr><td><code id="sqliteBuildTableDefinition_+3A_field.types">field.types</code></td>
<td>
<p>Optional, named character vector of the types for each
field in <code>value</code></p>
</td></tr>
<tr><td><code id="sqliteBuildTableDefinition_+3A_row.names">row.names</code></td>
<td>
<p>Logical. Should row.name of <code>value</code> be exported as a
<code>row_names</code> field? Default is <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An SQL string
</p>

<hr>
<h2 id='SQLiteConnection-class'>Class SQLiteConnection (and methods)</h2><span id='topic+SQLiteConnection-class'></span><span id='topic+format.SQLiteConnection'></span><span id='topic+dbAppendTable_SQLiteConnection'></span><span id='topic+dbAppendTable+2CSQLiteConnection-method'></span><span id='topic+dbDataType_SQLiteConnection'></span><span id='topic+dbDataType+2CSQLiteConnection-method'></span><span id='topic+dbExistsTable_SQLiteConnection_character'></span><span id='topic+dbExistsTable+2CSQLiteConnection+2Ccharacter-method'></span><span id='topic+dbGetException_SQLiteConnection'></span><span id='topic+dbGetException+2CSQLiteConnection-method'></span><span id='topic+dbGetInfo_SQLiteConnection'></span><span id='topic+dbGetInfo+2CSQLiteConnection-method'></span><span id='topic+dbIsValid_SQLiteConnection'></span><span id='topic+dbIsValid+2CSQLiteConnection-method'></span><span id='topic+dbListTables_SQLiteConnection'></span><span id='topic+dbListTables+2CSQLiteConnection-method'></span><span id='topic+dbQuoteIdentifier_SQLiteConnection_SQL'></span><span id='topic+dbQuoteIdentifier+2CSQLiteConnection+2CSQL-method'></span><span id='topic+dbQuoteIdentifier_SQLiteConnection_character'></span><span id='topic+dbQuoteIdentifier+2CSQLiteConnection+2Ccharacter-method'></span><span id='topic+dbRemoveTable_SQLiteConnection_character'></span><span id='topic+dbRemoveTable+2CSQLiteConnection+2Ccharacter-method'></span><span id='topic+dbSendQuery_SQLiteConnection_character'></span><span id='topic+dbSendQuery+2CSQLiteConnection+2Ccharacter-method'></span><span id='topic+dbUnquoteIdentifier_SQLiteConnection_SQL'></span><span id='topic+dbUnquoteIdentifier+2CSQLiteConnection+2CSQL-method'></span><span id='topic+show_SQLiteConnection'></span><span id='topic+show+2CSQLiteConnection-method'></span><span id='topic+sqlData_SQLiteConnection'></span><span id='topic+sqlData+2CSQLiteConnection-method'></span>

<h3>Description</h3>

<p>SQLiteConnection objects are created by passing <code><a href="#topic+SQLite">SQLite()</a></code> as first
argument to <code><a href="DBI.html#topic+dbConnect">DBI::dbConnect()</a></code>.
They are a superclass of the <a href="DBI.html#topic+DBIConnection-class">DBIConnection</a> class.
The &quot;Usage&quot; section lists the class methods overridden by <span class="pkg">RSQLite</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'SQLiteConnection'
format(x, ...)

## S4 method for signature 'SQLiteConnection'
dbAppendTable(conn, name, value, ..., row.names = NULL)

## S4 method for signature 'SQLiteConnection'
dbDataType(dbObj, obj, ...)

## S4 method for signature 'SQLiteConnection,character'
dbExistsTable(conn, name, ...)

## S4 method for signature 'SQLiteConnection'
dbGetException(conn, ...)

## S4 method for signature 'SQLiteConnection'
dbGetInfo(dbObj, ...)

## S4 method for signature 'SQLiteConnection'
dbIsValid(dbObj, ...)

## S4 method for signature 'SQLiteConnection'
dbListTables(conn, ...)

## S4 method for signature 'SQLiteConnection,SQL'
dbQuoteIdentifier(conn, x, ...)

## S4 method for signature 'SQLiteConnection,character'
dbQuoteIdentifier(conn, x, ...)

## S4 method for signature 'SQLiteConnection,character'
dbRemoveTable(conn, name, ..., temporary = FALSE, fail_if_missing = TRUE)

## S4 method for signature 'SQLiteConnection,character'
dbSendQuery(conn, statement, params = NULL, ...)

## S4 method for signature 'SQLiteConnection,SQL'
dbUnquoteIdentifier(conn, x, ...)

## S4 method for signature 'SQLiteConnection'
show(object)

## S4 method for signature 'SQLiteConnection'
sqlData(
  con,
  value,
  row.names = pkgconfig::get_config("RSQLite::row.names.query", FALSE),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SQLiteConnection-class_+3A_temporary">temporary</code></td>
<td>
<p>If <code>TRUE</code>, only temporary tables are considered.</p>
</td></tr>
<tr><td><code id="SQLiteConnection-class_+3A_fail_if_missing">fail_if_missing</code></td>
<td>
<p>If <code>FALSE</code>, <code>dbRemoveTable()</code> succeeds if the
table doesn't exist.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>The corresponding generic functions
<code><a href="DBI.html#topic+dbSendQuery">DBI::dbSendQuery()</a></code>, <code><a href="DBI.html#topic+dbGetQuery">DBI::dbGetQuery()</a></code>,
<code><a href="DBI.html#topic+dbSendStatement">DBI::dbSendStatement()</a></code>, <code><a href="DBI.html#topic+dbExecute">DBI::dbExecute()</a></code>,
<code><a href="DBI.html#topic+dbExistsTable">DBI::dbExistsTable()</a></code>, <code><a href="DBI.html#topic+dbListTables">DBI::dbListTables()</a></code>, <code><a href="DBI.html#topic+dbListFields">DBI::dbListFields()</a></code>,
<code><a href="DBI.html#topic+dbRemoveTable">DBI::dbRemoveTable()</a></code>, and <code><a href="DBI.html#topic+sqlData">DBI::sqlData()</a></code>.
</p>

<hr>
<h2 id='sqliteCopyDatabase'>Copy a SQLite database</h2><span id='topic+sqliteCopyDatabase'></span>

<h3>Description</h3>

<p>Copies a database connection to a file or to another database
connection.  It can be used to save an in-memory database (created using
<code>dbname = ":memory:"</code> or
<code>dbname = "file::memory:"</code>) to a file or to create an in-memory database
a copy of another database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqliteCopyDatabase(from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sqliteCopyDatabase_+3A_from">from</code></td>
<td>
<p>A <code>SQLiteConnection</code> object. The main database in
<code>from</code> will be copied to <code>to</code>.</p>
</td></tr>
<tr><td><code id="sqliteCopyDatabase_+3A_to">to</code></td>
<td>
<p>A <code>SQLiteConnection</code> object pointing to an empty database.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Seth Falcon
</p>


<h3>References</h3>

<p><a href="https://www.sqlite.org/backup.html">https://www.sqlite.org/backup.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(DBI)
# Copy the built in databaseDb() to an in-memory database
con &lt;- dbConnect(RSQLite::SQLite(), ":memory:")
dbListTables(con)

db &lt;- RSQLite::datasetsDb()
RSQLite::sqliteCopyDatabase(db, con)
dbDisconnect(db)
dbListTables(con)

dbDisconnect(con)
</code></pre>

<hr>
<h2 id='SQLiteDriver-class'>Class SQLiteDriver (and methods)</h2><span id='topic+SQLiteDriver-class'></span><span id='topic+dbDataType_SQLiteDriver'></span><span id='topic+dbDataType+2CSQLiteDriver-method'></span><span id='topic+dbGetInfo_SQLiteDriver'></span><span id='topic+dbGetInfo+2CSQLiteDriver-method'></span><span id='topic+dbIsValid_SQLiteDriver'></span><span id='topic+dbIsValid+2CSQLiteDriver-method'></span><span id='topic+dbUnloadDriver_SQLiteDriver'></span><span id='topic+dbUnloadDriver+2CSQLiteDriver-method'></span>

<h3>Description</h3>

<p>SQLiteDriver objects are created by <code><a href="#topic+SQLite">SQLite()</a></code>, and used to select the
correct method in <code><a href="DBI.html#topic+dbConnect">dbConnect()</a></code>.
They are a superclass of the <a href="DBI.html#topic+DBIDriver-class">DBIDriver</a> class,
and used purely for dispatch.
The &quot;Usage&quot; section lists the class methods overridden by <span class="pkg">RSQLite</span>.
The <code><a href="DBI.html#topic+dbUnloadDriver">dbUnloadDriver()</a></code> method is a null-op.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteDriver'
dbDataType(dbObj, obj, ..., extended_types = FALSE)

## S4 method for signature 'SQLiteDriver'
dbGetInfo(dbObj, ...)

## S4 method for signature 'SQLiteDriver'
dbIsValid(dbObj, ...)

## S4 method for signature 'SQLiteDriver'
dbUnloadDriver(drv, ...)
</code></pre>

<hr>
<h2 id='sqliteQuickColumn'>Return an entire column from a SQLite database</h2><span id='topic+sqliteQuickColumn'></span>

<h3>Description</h3>

<p>A shortcut for
<code><a href="DBI.html#topic+dbReadTable">dbReadTable</a>(con, table, select.cols = column, row.names = FALSE)[[1]]</code>,
kept for compatibility reasons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqliteQuickColumn(con, table, column)
</code></pre>

<hr>
<h2 id='SQLiteResult-class'>Class SQLiteResult (and methods)</h2><span id='topic+SQLiteResult-class'></span><span id='topic+dbBind_SQLiteResult'></span><span id='topic+dbBind+2CSQLiteResult-method'></span><span id='topic+dbClearResult_SQLiteResult'></span><span id='topic+dbClearResult+2CSQLiteResult-method'></span><span id='topic+dbColumnInfo_SQLiteResult'></span><span id='topic+dbColumnInfo+2CSQLiteResult-method'></span><span id='topic+dbFetch_SQLiteResult'></span><span id='topic+dbFetch+2CSQLiteResult-method'></span><span id='topic+dbGetRowCount_SQLiteResult'></span><span id='topic+dbGetRowCount+2CSQLiteResult-method'></span><span id='topic+dbGetRowsAffected_SQLiteResult'></span><span id='topic+dbGetRowsAffected+2CSQLiteResult-method'></span><span id='topic+dbGetStatement_SQLiteResult'></span><span id='topic+dbGetStatement+2CSQLiteResult-method'></span><span id='topic+dbHasCompleted_SQLiteResult'></span><span id='topic+dbHasCompleted+2CSQLiteResult-method'></span><span id='topic+dbIsValid_SQLiteResult'></span><span id='topic+dbIsValid+2CSQLiteResult-method'></span>

<h3>Description</h3>

<p>SQLiteDriver objects are created by <code><a href="DBI.html#topic+dbSendQuery">dbSendQuery()</a></code> or <code><a href="DBI.html#topic+dbSendStatement">dbSendStatement()</a></code>,
and encapsulate the result of an SQL statement (either <code>SELECT</code> or not).
They are a superclass of the <a href="DBI.html#topic+DBIResult-class">DBIResult</a> class.
The &quot;Usage&quot; section lists the class methods overridden by <span class="pkg">RSQLite</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteResult'
dbBind(res, params, ...)

## S4 method for signature 'SQLiteResult'
dbClearResult(res, ...)

## S4 method for signature 'SQLiteResult'
dbColumnInfo(res, ...)

## S4 method for signature 'SQLiteResult'
dbFetch(
  res,
  n = -1,
  ...,
  row.names = pkgconfig::get_config("RSQLite::row.names.query", FALSE)
)

## S4 method for signature 'SQLiteResult'
dbGetRowCount(res, ...)

## S4 method for signature 'SQLiteResult'
dbGetRowsAffected(res, ...)

## S4 method for signature 'SQLiteResult'
dbGetStatement(res, ...)

## S4 method for signature 'SQLiteResult'
dbHasCompleted(res, ...)

## S4 method for signature 'SQLiteResult'
dbIsValid(dbObj, ...)
</code></pre>


<h3>See Also</h3>

<p>The corresponding generic functions
<code><a href="DBI.html#topic+dbFetch">DBI::dbFetch()</a></code>, <code><a href="DBI.html#topic+dbClearResult">DBI::dbClearResult()</a></code>, and <code><a href="DBI.html#topic+dbBind">DBI::dbBind()</a></code>,
<code><a href="DBI.html#topic+dbColumnInfo">DBI::dbColumnInfo()</a></code>, <code><a href="DBI.html#topic+dbGetRowsAffected">DBI::dbGetRowsAffected()</a></code>, <code><a href="DBI.html#topic+dbGetRowCount">DBI::dbGetRowCount()</a></code>,
<code><a href="DBI.html#topic+dbHasCompleted">DBI::dbHasCompleted()</a></code>, and <code><a href="DBI.html#topic+dbGetStatement">DBI::dbGetStatement()</a></code>.
</p>

<hr>
<h2 id='sqliteSetBusyHandler'>Configure what SQLite should do when the database is locked</h2><span id='topic+sqliteSetBusyHandler'></span>

<h3>Description</h3>

<p>When a transaction cannot lock the database, because it is already
locked by another one, SQLite by default throws an error:
<code style="white-space: pre;">&#8288;database is locked&#8288;</code>. This behavior is usually not appropriate when
concurrent access is needed, typically when multiple processes write to
the same database.
</p>
<p><code>sqliteSetBusyHandler()</code> lets you set a timeout or a handler for these
events. When setting a timeout, SQLite will try the transaction multiple
times within this timeout. To set a timeout, pass an integer scalar to
<code>sqliteSetBusyHandler()</code>.
</p>
<p>Another way to set a timeout is to use a <code>PRAGMA</code>, e.g. the SQL query
</p>
<div class="sourceCode sql"><pre>PRAGMA busy_timeout=3000
</pre></div>
<p>sets the busy timeout to three seconds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqliteSetBusyHandler(dbObj, handler)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sqliteSetBusyHandler_+3A_dbobj">dbObj</code></td>
<td>
<p>A <a href="#topic+SQLiteConnection-class">SQLiteConnection</a> object.</p>
</td></tr>
<tr><td><code id="sqliteSetBusyHandler_+3A_handler">handler</code></td>
<td>
<p>Specifies what to do when the database is locked by
another transaction. It can be:
</p>

<ul>
<li> <p><code>NULL</code>: fail immediately,
</p>
</li>
<li><p> an integer scalar: this is a timeout in milliseconds that corresponds
to <code style="white-space: pre;">&#8288;PRAGMA busy_timeout&#8288;</code>,
</p>
</li>
<li><p> an R function: this function is called with one argument, see details
below.
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that SQLite currently does <em>not</em> schedule concurrent transactions
fairly. If multiple transactions are waiting on the same database,
any one of them can be granted access next. Moreover, SQLite does not
currently ensure that access is granted as soon as the database is
available. Make sure that you set the busy timeout to a high enough
value for applications with high concurrency and many writes.
</p>
<p>If the <code>handler</code> argument is a function, then it is used as a callback
function. When the database is locked, this will be called with a single
integer, which is the number of calls for same locking event. The
callback function must return an integer scalar. If it returns <code>0L</code>,
then no additional attempts are made to access the database, and
an error is thrown. Otherwise another attempt is made to access the
database and the cycle repeats.
</p>
<p>Handler callbacks are useful for debugging concurrent behavior, or to
implement a more sophisticated busy algorithm. The latter is currently
considered experimental in RSQLite. If the callback function fails, then
RSQLite will print a warning, and the transaction is aborted with a
&quot;database is locked&quot; error.
</p>
<p>Note that every database connection has its own busy timeout or handler
function.
</p>
<p>Calling <code>sqliteSetBusyHandler()</code> on a connection that is not connected
is an error.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>


<h3>See Also</h3>

<p><a href="https://www.sqlite.org/c3ref/busy_handler.html">https://www.sqlite.org/c3ref/busy_handler.html</a>
</p>

<hr>
<h2 id='SQLKeywords_SQLiteConnection'>Make R/S-Plus identifiers into legal SQL identifiers</h2><span id='topic+SQLKeywords_SQLiteConnection'></span><span id='topic+SQLKeywords+2CSQLiteConnection-method'></span><span id='topic+isSQLKeyword_SQLiteConnection_character'></span><span id='topic+isSQLKeyword+2CSQLiteConnection+2Ccharacter-method'></span><span id='topic+make.db.names_SQLiteConnection_character'></span><span id='topic+make.db.names+2CSQLiteConnection+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Deprecated. Please use <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'SQLiteConnection'
SQLKeywords(dbObj, ...)

## S4 method for signature 'SQLiteConnection,character'
isSQLKeyword(
  dbObj,
  name,
  keywords = .SQL92Keywords,
  case = c("lower", "upper", "any")[3],
  ...
)

## S4 method for signature 'SQLiteConnection,character'
make.db.names(
  dbObj,
  snames,
  keywords = .SQL92Keywords,
  unique = TRUE,
  allow.keywords = TRUE,
  ...
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

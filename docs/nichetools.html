<!DOCTYPE html><html lang="en"><head><title>Help for package nichetools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nichetools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#nichetools-package'><p>nichetools: Complementary Package to 'nicheROVER' and 'SIBER'</p></a></li>
<li><a href='#create_comparisons'><p>create comparisons</p></a></li>
<li><a href='#extract_group_metrics'><p>extract maximum-likelihood estimates for group metrics</p></a></li>
<li><a href='#extract_layman'><p>extract Layman metrics</p></a></li>
<li><a href='#extract_mu'><p>extract <code class="reqn">\mu</code></p></a></li>
<li><a href='#extract_niche_size'><p>extract niche size</p></a></li>
<li><a href='#extract_overlap'><p>extract overlap</p></a></li>
<li><a href='#extract_sigma'><p>extract <code class="reqn">\Sigma</code></p></a></li>
<li><a href='#extract_similarities'><p>extract similarities</p></a></li>
<li><a href='#mu_est_long'><p>A <code>data.frame</code> containing posterior estimates of <code class="reqn">\mu</code></p></a></li>
<li><a href='#niche_ellipse'><p>Create ellipses based on Bayesian estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code></p></a></li>
<li><a href='#niw_fish_post'><p>A <code>list</code> of the posterior estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> from <code>{nicheROVER}</code></p></a></li>
<li><a href='#over_stat'><p>A <code>data.frame</code> containing the estimates of percentage of overlap among groups</p></a></li>
<li><a href='#post_sam_siber'><p>A <code>list</code> of the posterior estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> from <code>{SIBER}</code></p></a></li>
<li><a href='#sigma_est_wide'><p>A <code>data.frame</code> containing posterior estimates of <code class="reqn">\Sigma</code></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Complementary Package to 'nicheROVER' and 'SIBER'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions complementary to packages 'nicheROVER' and 'SIBER'
        allowing the user to extract Bayesian estimates from data objects created 
        by the packages 'nicheROVER' and 'SIBER'. Please see the following 
        publications for detailed methods on 'nicheROVER' and 'SIBER' 
        Hansen et al. (2015) &lt;<a href="https://doi.org/10.1890%2F14-0235.1">doi:10.1890/14-0235.1</a>&gt;, 
        Jackson et al. (2011) &lt;<a href="https://doi.org/10.1111%2Fj.1365-2656.2011.01806.x">doi:10.1111/j.1365-2656.2011.01806.x</a>&gt;, and
        Layman et al. (2007) &lt;<a href="https://doi.org/10.1890%2F0012-9658%282007%2988%5B42%3ACSIRPF%5D2.0.CO%3B2">doi:10.1890/0012-9658(2007)88[42:CSIRPF]2.0.CO;2</a>&gt;,
        respectfully.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, dplyr, ellipse, lifecycle, nicheROVER, purrr, rlang,
SIBER, tibble, tidyr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://benjaminhlina.github.io/nichetools/">https://benjaminhlina.github.io/nichetools/</a>,
<a href="https://github.com/benjaminhlina/nichetools">https://github.com/benjaminhlina/nichetools</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/benjaminhlina/nichetools/issues">https://github.com/benjaminhlina/nichetools/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>bayestestR, ggplot2, ggdist, ggtext, ggh4x, janitor, knitr,
patchwork, rjags, rmarkdown, stringr, testthat (&ge; 3.0.0),
viridis</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-30 17:07:46 UTC; benhlina</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin L. Hlina [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin L. Hlina &lt;benjamin.hlina@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-30 21:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='nichetools-package'>nichetools: Complementary Package to 'nicheROVER' and 'SIBER'</h2><span id='topic+nichetools'></span><span id='topic+nichetools-package'></span>

<h3>Description</h3>

<p>Provides functions complementary to packages 'nicheROVER' and 'SIBER' allowing the user to extract Bayesian estimates from data objects created by the packages 'nicheROVER' and 'SIBER'. Please see the following publications for detailed methods on 'nicheROVER' and 'SIBER' Hansen et al. (2015) <a href="https://doi.org/10.1890/14-0235.1">doi:10.1890/14-0235.1</a>, Jackson et al. (2011) <a href="https://doi.org/10.1111/j.1365-2656.2011.01806.x">doi:10.1111/j.1365-2656.2011.01806.x</a>, and Layman et al. (2007) <a href="https://doi.org/10.1890/0012-9658%282007%2988%5B42%3ACSIRPF%5D2.0.CO%3B2">doi:10.1890/0012-9658(2007)88[42:CSIRPF]2.0.CO;2</a>, respectfully.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Benjamin L. Hlina <a href="mailto:benjamin.hlina@gmail.com">benjamin.hlina@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://benjaminhlina.github.io/nichetools/">https://benjaminhlina.github.io/nichetools/</a>
</p>
</li>
<li> <p><a href="https://github.com/benjaminhlina/nichetools">https://github.com/benjaminhlina/nichetools</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/benjaminhlina/nichetools/issues">https://github.com/benjaminhlina/nichetools/issues</a>
</p>
</li></ul>


<hr>
<h2 id='create_comparisons'>create comparisons</h2><span id='topic+create_comparisons'></span>

<h3>Description</h3>

<p>Creates a list with all of the comparisons needed to create  Bayesian and maximum-likelihood
estimates for proportion of niche similarities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_comparisons(data, comparison = c("within", "among"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_comparisons_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> that is the names of the community and group names</p>
</td></tr>
<tr><td><code id="create_comparisons_+3A_comparison">comparison</code></td>
<td>
<p>a <code>character</code>that is either <code>"within"</code> or <code>"among"</code> indicating
whether the comparisons are within a community and between groups or
among communities for the same groups.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# ---- load siber ----
library(SIBER)

# ---- create community names data frame ----
# uncomment to use
# str(demo.siber.data.2)

demo.siber.data.2$group_name &lt;- as.factor(demo.siber.data.2$group)

demo.siber.data.2$group &lt;- as.numeric(demo.siber.data.2$group_name) |&gt;
as.character()

demo.siber.data.2$community_names &lt;- as.factor(demo.siber.data.2$community)

demo.siber.data.2$community &lt;- as.numeric(demo.siber.data.2$community_names) |&gt;
as.character()

cg_names &lt;- demo.siber.data.2 |&gt;
dplyr::distinct(community, group, community_names, group_name)

# ---- create comparsions ----
create_comparisons(cg_names,
                  comparison = "within")

</code></pre>

<hr>
<h2 id='extract_group_metrics'>extract maximum-likelihood estimates for group metrics</h2><span id='topic+extract_group_metrics'></span>

<h3>Description</h3>

<p>Extract group metrics within each community from a matrix object
that is produced by <code>groupMetricsML()</code> function from
<a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>. These metrics
are the following   the convex hull total area (TA), Standard Ellipse Area (SEA), and the
corresponding small sample size corrected version SEAc based on the maximum likelihood
estimates of the means and covariance matrices of each group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_group_metrics(data = NULL, community_df = NULL, data_format = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_group_metrics_+3A_data">data</code></td>
<td>
<p>a <code>matrix</code> produced by the function <code>groupMetricsML()</code> in the
package <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.</p>
</td></tr>
<tr><td><code id="extract_group_metrics_+3A_community_df">community_df</code></td>
<td>
<p>a four column data frame. One of the columns has to be named
<code>community</code> and the data in the column will be <code>numeric</code> as a <code>character</code>
string(e.g., <code style="white-space: pre;">&#8288;"1", "2", "3"&#8288;</code>). This is the order of the community names
and will be used to join the actual community names to the correct data.
These are the same class and values required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The second column will be the names of the groups that are needed to supply
required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The third and fourth columns contains the actual names of the communities
and groups the user is working with (e.g., <code>"region"</code>, <code>"common_name"</code>).</p>
</td></tr>
<tr><td><code id="extract_group_metrics_+3A_data_format">data_format</code></td>
<td>
<p>a <code>character</code> string that decides whether the returned object is
in long or wide format. Default is <code>"long"</code>, with the alternative supplied being <code>"wide"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing four rows when <code>data_format</code> is set to its
default which is <code>long</code>. These four rows are the following, <code>community</code>,
<code>the_name_of_the_communities</code>, <code>metric</code> and <code>post_est</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(SIBER)

# ---- create community names data frame ----
# uncomment to use
# str(demo.siber.data.2)

demo.siber.data.2$group_name &lt;- as.factor(demo.siber.data.2$group)

demo.siber.data.2$group &lt;- as.numeric(demo.siber.data.2$group_name) |&gt;
as.character()

demo.siber.data.2$community_name &lt;- as.factor(demo.siber.data.2$community)

demo.siber.data.2$community &lt;- as.numeric(demo.siber.data.2$community_name) |&gt;
as.character()

cg_name &lt;- demo.siber.data.2 |&gt;
dplyr::distinct(community, group, community_name, group_name)

# ---- create comparsions ----

demo.siber.data.2 &lt;- demo.siber.data.2[,1:4]

siber_example &lt;- createSiberObject(demo.siber.data.2)

# extract group metrics
group_ml &lt;- groupMetricsML(siber_example)

group_convert &lt;- extract_group_metrics(data = group_ml,
                                community_df = cg_name)
</code></pre>

<hr>
<h2 id='extract_layman'>extract Layman metrics</h2><span id='topic+extract_layman'></span>

<h3>Description</h3>

<p>Extract Bayesian estimates for the following six layman metrics,
<code class="reqn">\delta^{13}</code>C range,  <code class="reqn">\delta^{15}</code>N range, total area (TA),
distance to centroid (CD), distance to the nearest neighbour (NND), and
the standard deviation of the distance to the nearest neighbour (SDNND)
from data objects created by
<a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>. To learn
more about the following metrics please review
<a href="https://esajournals.onlinelibrary.wiley.com/doi/full/10.1890/0012-9658%282007%2988%5B42%3ACSIRPF%5D2.0.CO%3B2">Layman et al. (2008)</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_layman(
  data,
  type = NULL,
  community_df = NULL,
  data_format = NULL,
  isotope_x = NULL,
  isotope_y = NULL,
  element_x = NULL,
  element_y = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_layman_+3A_data">data</code></td>
<td>
<p>a <code>list</code> created by the function <code>bayesianLayman()</code> from the package
<a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_type">type</code></td>
<td>
<p>a <code>character</code> that is either <code>"bay"</code> or <code>"ml"</code> which indicates
whether the community metrics to be extracted are from a Bayesian analysis or
a maximum-likelihood.</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_community_df">community_df</code></td>
<td>
<p>a two column data frame. One of the columns has to be named
<code>community</code> and the data in the column will be <code>numerics</code> as a <code>character</code>
string(e.g., <code style="white-space: pre;">&#8288;"1", "2", "3"&#8288;</code>). This is the order of the community names
and will be used to join the actual community names to the correct data.
These are the same class and values required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The second column contains the actual names of the communities
that the user is working with (e.g., <code>"region"</code>).</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_data_format">data_format</code></td>
<td>
<p>a <code>character</code> string that decides whether the returned object is
in long or wide format. Default is <code>"long"</code>, with the alternative supplied being <code>"wide"</code>.</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_isotope_x">isotope_x</code></td>
<td>
<p>a <code>numeric</code> that will be used in the labeling processes for
the range of the x. Default is <code>13</code> (e.g., <code class="reqn">\delta</code>^13 C).
This will create a column called <code>labels</code>, that will only be created when <code>data_format</code>
is set to <code>long</code>.</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_isotope_y">isotope_y</code></td>
<td>
<p>a <code>numeric</code> that will be used in the labeling processes for
the range of the y isotope. Default is <code>15</code> (e.g., <code class="reqn">\delta</code>^15 N).
#' This will create a column called <code>labels</code>, that will only be created when <code>data_format</code>
is set to <code>long</code>.</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_element_x">element_x</code></td>
<td>
<p>a <code>character</code> that will be used in the labeling process for the range of the x
isotope. Default is <code>C</code> (e.g., <code class="reqn">\delta</code>^13 C).
This will create a column called <code>labels</code>, that will only be created when <code>data_format</code>
is set to <code>long</code>.</p>
</td></tr>
<tr><td><code id="extract_layman_+3A_element_y">element_y</code></td>
<td>
<p>a <code>character</code> that will be used in the labeling process for the range of the y
isotope. Default is <code>N</code> (e.g., <code class="reqn">\delta</code>^13 N).
#' This will create a column called <code>labels</code>, that will only be created when <code>data_format</code>
is set to <code>long</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing four rows when <code>data_format</code> is set to its
default which is <code>long</code>. These four rows are the following, <code>community</code>,
<code>the_name_of_the_communities</code>, <code>metric</code> and <code>post_est</code>.
</p>


<h3>See Also</h3>

<p><code><a href="SIBER.html#topic+bayesianLayman">SIBER::bayesianLayman()</a></code> and <code><a href="SIBER.html#topic+createSiberObject">SIBER::createSiberObject()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(SIBER)

# ---- bring in SIBER demo data ----
# uncomenet to use
# str(demo.siber.data)

# ---- create community names data frame ----
# uncomment to use
# str(demo.siber.data.2)

demo.siber.data.2$group_name &lt;- as.factor(demo.siber.data.2$group)

demo.siber.data.2$group &lt;- as.numeric(demo.siber.data.2$group_name) |&gt;
as.character()

demo.siber.data.2$community_names &lt;- as.factor(demo.siber.data.2$community)

demo.siber.data.2$community &lt;- as.numeric(demo.siber.data.2$community_names) |&gt;
as.character()
c_names &lt;- demo.siber.data.2 |&gt;
dplyr::distinct(community, community_names)


demo.siber.data_2 &lt;- demo.siber.data.2[,1:4]
# ---- create the siber object ----
siber.example &lt;- createSiberObject(demo.siber.data_2)

# ---- view Bayesian estimates of mu and sigma produced by SIBER ---
# uncomment to use
# str(post_sam_siber)

# ---- extract posterior estimates of mu -----

mu_post &lt;- extractPosteriorMeans(siber.example, post_sam_siber)

# ---- Bayesian estimates of layman metrics using SIBER ----

layman_b &lt;- bayesianLayman(mu.post = mu_post)

# ---- use nichetools to extract Bayesian estimates of Layman metrics ----

layman_be &lt;- extract_layman(layman_b, community_df = c_names)

layman_be

</code></pre>

<hr>
<h2 id='extract_mu'>extract <code class="reqn">\mu</code></h2><span id='topic+extract_mu'></span>

<h3>Description</h3>

<p>Extract Bayesian estimates of <code class="reqn">\mu</code> from data objects created by
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a> or
<a href="https://cran.r-project.org/package=SIBER">SIBER</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_mu(
  data,
  pkg = NULL,
  isotope_names = NULL,
  data_format = NULL,
  community_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_mu_+3A_data">data</code></td>
<td>
<p>a <code>list</code> created by the function <code>niw.post()</code> or <code>siberMVN()</code>
in the package
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>
or <a href="https://cran.r-project.org/package=SIBER">SIBER</a>, respectfully.</p>
</td></tr>
<tr><td><code id="extract_mu_+3A_pkg">pkg</code></td>
<td>
<p>a <code>character</code> string that is the name of the package that
you're using. Defaults to <code>"nicheROVER"</code>.
Alternatively the user can supply the argument with <code>"SIBER"</code>.</p>
</td></tr>
<tr><td><code id="extract_mu_+3A_isotope_names">isotope_names</code></td>
<td>
<p>is a vector of <code>character</code> string used change the column name
of isotopes used in the analysis. Defaults to <code>c("d13c", "d15n")</code>.</p>
</td></tr>
<tr><td><code id="extract_mu_+3A_data_format">data_format</code></td>
<td>
<p>a <code>character</code> string that decides whether the returned object is
in long or wide format. Default is <code>"long"</code>, with the alternative supplied
being <code>"wide"</code>.</p>
</td></tr>
<tr><td><code id="extract_mu_+3A_community_df">community_df</code></td>
<td>
<p>a four column data frame. One of the columns has to be named
<code>community</code> and the data in the column will be <code>numeric</code> as a <code>character</code>
string(e.g., <code style="white-space: pre;">&#8288;"1", "2", "3"&#8288;</code>). This is the order of the community names
and will be used to join the actual community names to the correct data.
These are the same class and values required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The second column will be the names of the groups that are needed to supply
required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The third and fourth columns contains the actual names of the communities
and groups the user is working with (e.g., <code>"region"</code>, <code>"common_name"</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>tibble</code> of extracted estimates of <code class="reqn">\mu</code> created by the
function <code>niw.post()</code> or <code>siberMVN()</code> in the packages
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>.
and <a href="https://cran.r-project.org/package=SIBER">SIBER</a>.
</p>
<p>The <code>tibble</code> will contain five columns in the following order, <code>metric</code>,
<code>sample_name</code>, <code>sample_number</code>, and the names of the isotope
columns supplied to <code>niw.post()</code> or  <code>siberMVN()</code> (e.g., <code>d13c</code> and  <code>d15n</code> ).
</p>


<h3>See Also</h3>

<p><code><a href="nicheROVER.html#topic+niw.post">nicheROVER::niw.post()</a></code> and <code><a href="SIBER.html#topic+siberMVN">SIBER::siberMVN()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>extract_mu(
data = niw_fish_post
)

library(SIBER)

# ---- create community names data frame ----
# uncomment to use
# str(demo.siber.data.2)

demo.siber.data.2$group_name &lt;- as.factor(demo.siber.data.2$group)

demo.siber.data.2$group &lt;- as.numeric(demo.siber.data.2$group_name) |&gt;
as.character()

demo.siber.data.2$community_name &lt;- as.factor(demo.siber.data.2$community)

demo.siber.data.2$community &lt;- as.numeric(demo.siber.data.2$community_name) |&gt;
as.character()

cg_name &lt;- demo.siber.data.2 |&gt;
dplyr::distinct(community, group, community_name, group_name)


extract_mu(
data = post_sam_siber,
pkg = "SIBER",
community_df = cg_name
)

</code></pre>

<hr>
<h2 id='extract_niche_size'>extract niche size</h2><span id='topic+extract_niche_size'></span>

<h3>Description</h3>

<p>Extract niche size based on elliptical niche region of Bayesian estimates of
sigma created by function <code>niw.post()</code> or <code>siberEllipses()</code> in the package
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a> or
<a href="https://cran.r-project.org/package=SIBER">SIBER</a>, respectfully.
For <a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>
this function is a wrapper around <code>nicheROVER::niche.size</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_niche_size(
  data,
  pkg = NULL,
  name = NULL,
  prob = NULL,
  community_df = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_niche_size_+3A_data">data</code></td>
<td>
<p>a <code>list</code> or <code>matrix</code> created by the function <code>niw.post()</code> or
<code>siberEllipses()</code> in the package
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a> or
<a href="https://cran.r-project.org/package=SIBER">SIBER</a>, respectfully.</p>
</td></tr>
<tr><td><code id="extract_niche_size_+3A_pkg">pkg</code></td>
<td>
<p>a <code>character</code> string that is the name of the package that
you're using. Defaults to <code>"nicheROVER"</code>.
Alternatively the user can supply the argument with <code>"SIBER"</code>.</p>
</td></tr>
<tr><td><code id="extract_niche_size_+3A_name">name</code></td>
<td>
<p>a <code>character</code> string that will be assigned as the column name for
groups. Default is <code>sample_name</code>. Only to be used when <code>pkg</code> is set to
<code>"nicheROVER"</code>.</p>
</td></tr>
<tr><td><code id="extract_niche_size_+3A_prob">prob</code></td>
<td>
<p>a <code>numeric</code> bound by 0 and 1 indicating the
probabilistic niche size. Default is 0.95. Only to be used when <code>pkg</code> is set to
<code>"nicheROVER"</code>.</p>
</td></tr>
<tr><td><code id="extract_niche_size_+3A_community_df">community_df</code></td>
<td>
<p>a four column data frame. One of the columns has to be named
<code>community</code> and the data in the column will be <code>numeric</code> as a <code>character</code>
string(e.g., <code style="white-space: pre;">&#8288;"1", "2", "3"&#8288;</code>). This is the order of the community names
and will be used to join the actual community names to the correct data.
These are the same class and values required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The second column will be the names of the groups that are needed to supply
required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The third and fourth columns contains the actual names of the communities
and groups the user is working with (e.g., <code>"region"</code>, <code>"common_name"</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>if <code>pkg</code> is set to <code>"nicheROVER"</code> then a <code>tibble</code> containing three rows, <code>sample_name</code>, <code>id</code>, and <code>niche_size</code> is returned.
</p>


<h3>See Also</h3>

<p><code><a href="nicheROVER.html#topic+niche.size">nicheROVER::niche.size()</a></code>, <code><a href="nicheROVER.html#topic+niw.post">nicheROVER::niw.post()</a></code>,
<code><a href="SIBER.html#topic+siberEllipses">SIBER::siberEllipses()</a></code>, and <code><a href="SIBER.html#topic+createSiberObject">SIBER::createSiberObject()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>extract_niche_size(data = niw_fish_post)


</code></pre>

<hr>
<h2 id='extract_overlap'>extract overlap</h2><span id='topic+extract_overlap'></span>

<h3>Description</h3>

<p>Extract Bayesian estimates of similarities among groups produced by the
following function <code>overlap()</code> in the package
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_overlap(data, name_a = NULL, name_b = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_overlap_+3A_data">data</code></td>
<td>
<p>a <code>array</code> object containing <code>matrices</code> created by the function
<code>overlap()</code> in the package
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>.</p>
</td></tr>
<tr><td><code id="extract_overlap_+3A_name_a">name_a</code></td>
<td>
<p>character string to supply for the first
<code>sample_name</code> used in <code>overlap()</code>. Defaults to <code>"sample_name_a"</code>.</p>
</td></tr>
<tr><td><code id="extract_overlap_+3A_name_b">name_b</code></td>
<td>
<p>character string to supply for the second
<code>sample_name</code> used in <code>overlap()</code>. Defaults to <code>"sample_name_b"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing five rows, <code>sample_name_a</code>, <code>id</code>,
<code>sample_name_b</code>, <code>sample_number</code>, and <code>niche_overlap</code>.
</p>


<h3>See Also</h3>

<p><code><a href="nicheROVER.html#topic+overlap">nicheROVER::overlap()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>extract_overlap(data = over_stat)

</code></pre>

<hr>
<h2 id='extract_sigma'>extract <code class="reqn">\Sigma</code></h2><span id='topic+extract_sigma'></span>

<h3>Description</h3>

<p>Extract Bayesian estimates of <code class="reqn">\Sigma</code> from data objects created by
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>
or <a href="https://cran.r-project.org/package=SIBER">SIBER</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_sigma(
  data,
  pkg = NULL,
  isotope_n = NULL,
  isotope_names = NULL,
  data_format = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_sigma_+3A_data">data</code></td>
<td>
<p>a <code>list</code> created by the function <code>niw.post()</code> or <code>siberMVN()</code>
in the package
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>
or <a href="https://cran.r-project.org/package=SIBER">SIBER</a>, respectfully.</p>
</td></tr>
<tr><td><code id="extract_sigma_+3A_pkg">pkg</code></td>
<td>
<p>a <code>character</code> string that is the name of the package that
you're using. Defaults to <code>"nicheROVER"</code>.
Alternatively the user can supply the argument with <code>"SIBER"</code>.</p>
</td></tr>
<tr><td><code id="extract_sigma_+3A_isotope_n">isotope_n</code></td>
<td>
<p>a <code>numeric</code> either <code>2</code> or <code>3</code> that is the number of isotopes
used in the anlsysis. Will default to <code>2</code>.</p>
</td></tr>
<tr><td><code id="extract_sigma_+3A_isotope_names">isotope_names</code></td>
<td>
<p>is a vector of <code>character</code> string used change the column name
of isotopes used in the analysis. Defaults to <code>c("d13c", "d15n")</code>.</p>
</td></tr>
<tr><td><code id="extract_sigma_+3A_data_format">data_format</code></td>
<td>
<p>a <code>character</code> string that decides whether the returned object is
in long or wide format. Default is <code>"wide"</code>, with the alternative supplied being <code>"long"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>tibble</code> of extracted estimates of <code class="reqn">\Sigma</code> created by
the function <code>niw.post()</code> or <code>siberMVN()</code> in the packages
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>.
and <a href="https://cran.r-project.org/package=SIBER">SIBER</a>.
</p>
<p>The returned object will contain five columns in the
following order when <code>data_format</code> is set to <code>"wide"</code>,
<code>metric</code>, <code>id</code>, <code>sample_name</code>, <code>isotope</code>, <code>sample_number</code>,
and the posterior sample for <code class="reqn">\Sigma</code> (e.g., <code>d13c</code> and <code>d15n</code>).
</p>


<h3>See Also</h3>

<p><code><a href="nicheROVER.html#topic+niw.post">nicheROVER::niw.post()</a></code> and <code><a href="SIBER.html#topic+siberMVN">SIBER::siberMVN()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>extract_sigma(
data = niw_fish_post
)

extract_sigma(
data = post_sam_siber,
pkg = "SIBER"
)

</code></pre>

<hr>
<h2 id='extract_similarities'>extract similarities</h2><span id='topic+extract_similarities'></span>

<h3>Description</h3>

<p>Extract niche similarities from objects created by <code>{SIBER}</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_similarities(data, type = c("bay", "ml"), community_df = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_similarities_+3A_data">data</code></td>
<td>
<p>a <code>list</code> of results from either <code>maxLikOverlap()</code> or
<code>bayesianOverlap()</code>.</p>
</td></tr>
<tr><td><code id="extract_similarities_+3A_type">type</code></td>
<td>
<p>a <code>character</code> that is either <code>"bay"</code> or <code>"ml"</code> which indicates
whether the community metrics to be extracted are from a Bayesian analysis or
a maximum-likelihood.</p>
</td></tr>
<tr><td><code id="extract_similarities_+3A_community_df">community_df</code></td>
<td>
<p>a four column data frame. One of the columns has to be named
<code>community</code> and the data in the column will be <code>numeric</code> as a <code>character</code>
string(e.g., <code style="white-space: pre;">&#8288;"1", "2", "3"&#8288;</code>). This is the order of the community names
and will be used to join the actual community names to the correct data.
These are the same class and values required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The second column will be the names of the groups that are needed to supply
required by the function, <code>createSiberObject()</code>
from <a href="https://CRAN.R-project.org/package=SIBER">SIBER</a>.
The third and fourth columns contains the actual names of the communities
and groups the user is working with (e.g., <code>"region"</code>, <code>"common_name"</code>).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(purrr)
library(SIBER)

# ---- create community names data frame ----
# uncomment to use
# str(demo.siber.data.2)

demo.siber.data.2$group_name &lt;- as.factor(demo.siber.data.2$group)

demo.siber.data.2$group &lt;- as.numeric(demo.siber.data.2$group_name) |&gt;
as.character()

demo.siber.data.2$community_name &lt;- as.factor(demo.siber.data.2$community)

demo.siber.data.2$community &lt;- as.numeric(demo.siber.data.2$community_name) |&gt;
as.character()

cg_name &lt;- demo.siber.data.2 |&gt;
dplyr::distinct(community, group, community_name, group_name)

# ---- create comparsions ----
cg_names_within_c &lt;- create_comparisons(cg_name,
                                        comparison = "within")

demo.siber.data.2 &lt;- demo.siber.data.2[,1:4]

siber_example &lt;- createSiberObject(demo.siber.data.2)

ml_within_overlap &lt;- cg_names_within_c |&gt;
map(~ maxLikOverlap(.x$cg_1, .x$cg_2, siber_example,
p.interval = NULL, n = 100), .progress = TRUE)

ml_95_within_com &lt;- extract_similarities(ml_within_overlap, type = "ml",
community_df = cg_name)

</code></pre>

<hr>
<h2 id='mu_est_long'>A <code>data.frame</code> containing posterior estimates of <code class="reqn">\mu</code></h2><span id='topic+mu_est_long'></span>

<h3>Description</h3>

<p>Posterior estimates of <code class="reqn">\mu</code> using <code>fish</code> data set from
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>,
using  Normal-Inverse-Wishart (NIW) priors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mu_est_long
</code></pre>


<h3>Format</h3>

<p><code>data.frame</code> containing 8,000 rows and 7 variables
</p>

<dl>
<dt>metric</dt><dd><p>name of the metric extracted from <code>niw.post()</code></p>
</dd>
<dt>species</dt><dd><p>species abbreviation</p>
</dd>
<dt>sample_number</dt><dd><p>sample number from 1-1000</p>
</dd>
<dt>isotope</dt><dd><p>column with isotope name</p>
</dd>
<dt>mu_est</dt><dd><p>estimate of mu produced from <code>niw.post()</code></p>
</dd>
<dt>element</dt><dd><p>isotopic element used in labelling</p>
</dd>
<dt>neutron</dt><dd><p>neutron number used in labelling</p>
</dd>
</dl>


<hr>
<h2 id='niche_ellipse'>Create ellipses based on Bayesian estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code></h2><span id='topic+niche_ellipse'></span>

<h3>Description</h3>

<p>This function allows the user to supply Bayesian estimates of <code class="reqn">\mu</code> and
<code class="reqn">\Sigma</code> to create estimated Bayesian ellipse for niche region.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niche_ellipse(
  dat_mu,
  dat_sigma,
  isotope_a = NULL,
  isotope_b = NULL,
  p_ell = NULL,
  random = NULL,
  set_seed = NULL,
  n = NULL,
  message = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="niche_ellipse_+3A_dat_mu">dat_mu</code></td>
<td>
<p>a <code>data.frame</code> containing <code class="reqn">\mu</code> Bayesian estimates.
This <code>data.frame</code> needs to be in long format with each <code class="reqn">\mu</code>
estimate for each isotope stacked on top of each other. This can be produced
using <code>extract_mu()</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_dat_sigma">dat_sigma</code></td>
<td>
<p>a <code>data.frame</code> containing <code class="reqn">\Sigma</code> Bayesian estimates.
This <code>data.frame</code> needs be in wide format, that is <code class="reqn">\Sigma</code> (covariance)
matrices stacked on top of each other. See example of how to convert to
wide format. This can be produced using <code>extract_sigma()</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_isotope_a">isotope_a</code></td>
<td>
<p>character string that is the column name of the first
isotope used in <code>dat_sigma</code>. Defaults to <code>"d13c"</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_isotope_b">isotope_b</code></td>
<td>
<p>character string that is the column name of the second
isotope used in <code>dat_sigma</code>. Defaults to <code>"d15n"</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_p_ell">p_ell</code></td>
<td>
<p>is the confidence interval of each ellipse estimate.
Default is 0.95 (i.e., 95% confidence interval).
This value is bound by 0 and 1 and has to be a <code>numeric</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_random">random</code></td>
<td>
<p>logical value indicating whether or not to randomly sample
posterior distributions for <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> to create a sub-sample
of ellipse. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_set_seed">set_seed</code></td>
<td>
<p>numerical value to set seed for random sampling. Default is
a random value. To consistently sample the same subsample, please supply
a numerical value (e.g., <code>4</code>). It is highly suggested to use set_seed to make
the function results when randomly sampling reproducible.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_n">n</code></td>
<td>
<p>numerical value that controls the number of random samples.
Default is <code>10</code>.</p>
</td></tr>
<tr><td><code id="niche_ellipse_+3A_message">message</code></td>
<td>
<p>control whether the time processing is displayed after the
end of the function. Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> containing, <code>sample_name</code>, <code>sample_number</code>, and the
isotopes that were used in the estimation of ellipse
(i.e.,  and <code>d13c</code> and <code>d15n</code>).
</p>


<h3>See Also</h3>

<p><code><a href="nicheROVER.html#topic+niw.post">nicheROVER::niw.post()</a></code>, <code><a href="SIBER.html#topic+siberMVN">SIBER::siberMVN()</a></code>, <code><a href="#topic+extract_mu">extract_mu()</a></code>,
and <code><a href="#topic+extract_sigma">extract_sigma()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>niche_ellipse(dat_mu = mu_est_long,
              dat_sigma = sigma_est_wide)
</code></pre>

<hr>
<h2 id='niw_fish_post'>A <code>list</code> of the posterior estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> from <code>{nicheROVER}</code></h2><span id='topic+niw_fish_post'></span>

<h3>Description</h3>

<p>Posterior estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> using the <code>fish</code> data set from
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>,
using Normal-Inverse-Wishart (NIW) priors.
This <code>list</code> is produced  using the function <code>niw.post()</code> from
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niw_fish_post
</code></pre>


<h3>Format</h3>

<p>A <code>list</code> with elements <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> of sizes c(nsamples, length(lambda))
and c(dim(Psi)).
</p>

<hr>
<h2 id='over_stat'>A <code>data.frame</code> containing the estimates of percentage of overlap among groups</h2><span id='topic+over_stat'></span>

<h3>Description</h3>

<p>Estimates of the percentage of overlap among example species used in
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>over_stat
</code></pre>


<h3>Format</h3>

<p>A <code>array</code>containing <code>matrices</code> of the percent overlap for each group
used in Bayesian estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> using
Normal-Inverse-Wishart (NIW) priors calculated in <code>niw.post()</code>.
</p>

<hr>
<h2 id='post_sam_siber'>A <code>list</code> of the posterior estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> from <code>{SIBER}</code></h2><span id='topic+post_sam_siber'></span>

<h3>Description</h3>

<p>Posterior estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> using the <code>demo.siber.data.2</code>
data set from <a href="https://cran.r-project.org/package=SIBER">SIBER</a>.
This <code>list</code> is produced  using the function <code>siberMVN()</code> from
<a href="https://cran.r-project.org/package=SIBER">SIBER</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>post_sam_siber
</code></pre>


<h3>Format</h3>

<p>A <code>list</code> with estimates of <code class="reqn">\mu</code> and <code class="reqn">\Sigma</code> for each species
and group.
</p>

<hr>
<h2 id='sigma_est_wide'>A <code>data.frame</code> containing posterior estimates of <code class="reqn">\Sigma</code></h2><span id='topic+sigma_est_wide'></span>

<h3>Description</h3>

<p>Posterior estimates of <code class="reqn">\Sigma</code> using <code>fish</code> data set from
<a href="https://cran.r-project.org/package=nicheROVER">nicheROVER</a>,
using Normal-Inverse-Wishart (NIW) priors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sigma_est_wide
</code></pre>


<h3>Format</h3>

<p><code>data.frame</code> containing 8,000 rows and 6 variables
</p>

<dl>
<dt>metric</dt><dd><p>name of the metric extracted from <code>niw.post()</code></p>
</dd>
<dt>species</dt><dd><p>species abbreviation</p>
</dd>
<dt>isotope</dt><dd><p>column with isotope name</p>
</dd>
<dt>sample_number</dt><dd><p>sample number from 1-1000</p>
</dd>
<dt>d15n</dt><dd><p>estimate of <code class="reqn">\Sigma</code> for d15n produced from <code>niw.post()</code></p>
</dd>
<dt>d13c</dt><dd><p>estimate of <code class="reqn">\Sigma</code> for d13c produced from <code>niw.post()</code></p>
</dd>
</dl>


</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ppmHR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ppmHR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ppmHR-package'>
<p>Privacy-Protecting Hazard Ratio Estimation in Distributed Data Networks</p></a></li>
<li><a href='#checkBalanceSite'><p>Checking of site-specific covariate balance before and after weighting</p></a></li>
<li><a href='#computeInfoForTable1'><p>Computation of summary-level information needed for the creation of a &quot;Table 1&quot; of baseline patient characteristics</p></a></li>
<li><a href='#createRisksetTable'><p>Creation of summary-level riskset tables from individual-level data</p></a></li>
<li><a href='#createTable1'><p>Creation of an overall &quot;Table 1&quot; of baseline patient characteristics before and after weighting</p></a></li>
<li><a href='#estimateSiteHRs'><p>Privacy-protecting estimation of site-specific hazard ratios using inverse probability weighted Cox models</p></a></li>
<li><a href='#estimateStratHR'><p>Privacy-protecting estimation of overall hazard ratios using inverse probability weighted Cox models stratified on data-contributing sites</p></a></li>
<li><a href='#site1'><p>Example individual-level data of data-contributing site 1</p></a></li>
<li><a href='#site2'><p>Example individual-level data of data-contributing site 2</p></a></li>
<li><a href='#site3'><p>Example individual-level data of data-contributing site 3</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Privacy-Protecting Hazard Ratio Estimation in Distributed Data
Networks</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-01-06</td>
</tr>
<tr>
<td>Author:</td>
<td>Di Shu &lt;shudi1991@gmail.com&gt;, Sengwee Toh &lt;darren_toh@harvardpilgrim.org&gt;</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Di Shu &lt;shudi1991@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An implementation of the one-step privacy-protecting method for estimating the overall and site-specific hazard ratios using inverse probability weighted Cox models in distributed data network studies, as proposed by Shu, Yoshida, Fireman, and Toh (2019) &lt;<a href="https://doi.org/10.1177%2F0962280219869742">doi:10.1177/0962280219869742</a>&gt;. This method only requires sharing of summary-level riskset tables instead of individual-level data. Both the conventional inverse probability weights and the stabilized weights are implemented. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>nleqslv, stats</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-01-06 19:09:32 UTC; dishu</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-01-07 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ppmHR-package'>
Privacy-Protecting Hazard Ratio Estimation in Distributed Data Networks
</h2><span id='topic+ppmHR-package'></span>

<h3>Description</h3>

<p>This package allows implementation of a one-step, privacy-protecting method for estimating the overall and site-specific hazard ratios using inverse probability weighted Cox models in multi-center distributed data network studies, as proposed by Shu, Yoshida, Fireman, and Toh (2019). The method only requires sharing of summary-level riskset tables instead of individual-level data by data-contributing sites. Both the conventional inverse probability weights and the stabilized weights are implemented.
</p>


<h3>Details</h3>

<p>The <code>ppmHR</code> package implements a one-step, privacy-protecting method for estimating overall and site-specific hazard ratios using inverse probability weighted Cox models, under both the conventional inverse probability weights and the stabilized weights, as proposed by Shu, Yoshida, Fireman, and Toh (2019). The function <code><a href="#topic+checkBalanceSite">checkBalanceSite</a></code> allows the data-contributing sites to check their site-specific covariate balance before and after weighting. The function <code><a href="#topic+computeInfoForTable1">computeInfoForTable1</a></code> allows the data-contributing sites to compute summary-level information that will be used to create the &quot;Table 1&quot; of baseline patient characteristics before and after weighting. The function <code><a href="#topic+createTable1">createTable1</a></code> allows the analysis center to create the &quot;Table 1&quot; of baseline patient characteristics before and after weighting, using only summary-level information shared by data-contributing sites. The function <code><a href="#topic+createRisksetTable">createRisksetTable</a></code> allows the data-contributing sites to create summary-level riskset tables using their site-specific individual-level data. The function <code><a href="#topic+estimateStratHR">estimateStratHR</a></code> allows the analysis center to estimate the overall hazard ratios and robust sandwich variances using inverse probability weighted Cox models stratified on data-contributing sites, using only the summary-level riskset tables provided by the data-contributing sites. The function <code><a href="#topic+estimateSiteHRs">estimateSiteHRs</a></code> allows the analysis center to estimate the site-specific hazard ratios and robust sandwich variances using inverse probability weighted Cox models, using only the summary-level riskset tables provided by the data-contributing sites.
</p>


<h3>Author(s)</h3>

<p>Di Shu and Sengwee Toh
</p>
<p>Maintainer: Di Shu &lt;shudi1991@gmail.com&gt;
</p>


<h3>References</h3>

<p>Shu D, Yoshida K, Fireman BH, Toh S (2019).  Inverse probability weighted Cox model in multi-site studies without sharing individual-level data. <em>Statistical Methods in Medical Research</em> &lt;doi:10.1177/0962280219869742&gt;
</p>

<hr>
<h2 id='checkBalanceSite'>Checking of site-specific covariate balance before and after weighting</h2><span id='topic+checkBalanceSite'></span>

<h3>Description</h3>

<p>This function checks for site-specific covariate balance before and after weighting using the mean of baseline covariates in the original unweighted and the inverse probability weighted samples. A logistic regression model is used to estimate the propensity scores with an option to do weight truncation. This is a function for data-contributing sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkBalanceSite(data, indA, indX, truncP = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkBalanceSite_+3A_data">data</code></td>
<td>
<p>An individual-level dataset in the form of R data frame.</p>
</td></tr>
<tr><td><code id="checkBalanceSite_+3A_inda">indA</code></td>
<td>
<p>A column name indicating the exposure/treatment variable.</p>
</td></tr>
<tr><td><code id="checkBalanceSite_+3A_indx">indX</code></td>
<td>
<p>A vector of column names indicating the baseline covariates to be included in the propensity score model.</p>
</td></tr>
<tr><td><code id="checkBalanceSite_+3A_truncp">truncP</code></td>
<td>
<p>A value between 0 and 1 indicating the percentile used for weight truncation. The default is 1, corresponding to no weight truncation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of balance checking results. Each covariate has a row of six numbers: the mean of this covariate for exposed individuals in the original sample, for unexposed individuals in the original sample, for exposed individuals in the weighted sample with conventional weights, for unexposed individuals in the weighted sample with conventional weights, for exposed individuals in the weighted sample with stabilized weights, and for unexposed individuals in the weighted sample with stabilized weights.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load an example dataset site1.RData in the package
#site1 contains individual-level data of data-contributing site 1
data(site1)
#data-contributing site 1 checks covariate balance before and after weighting,
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
checkBalanceSite(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=1)
#with truncation: set weights larger than the 90% quantile of original weights to the 90% quantile
checkBalanceSite(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=0.9)

</code></pre>

<hr>
<h2 id='computeInfoForTable1'>Computation of summary-level information needed for the creation of a &quot;Table 1&quot; of baseline patient characteristics</h2><span id='topic+computeInfoForTable1'></span>

<h3>Description</h3>

<p>Computation of summary-level information needed for the creation of a &quot;Table 1&quot; that shows the baseline patient characteristics in the original unweighted and the inverse probability weighted samples. A logistic regression model is used to estimate propensity scores with an option to do weight truncation. This is a function for data-contributing sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>computeInfoForTable1(data, indA, indX, truncP = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="computeInfoForTable1_+3A_data">data</code></td>
<td>
<p>An individual-level dataset in the form of R data frame.</p>
</td></tr>
<tr><td><code id="computeInfoForTable1_+3A_inda">indA</code></td>
<td>
<p>A column name indicating the exposure/treatment variable.</p>
</td></tr>
<tr><td><code id="computeInfoForTable1_+3A_indx">indX</code></td>
<td>
<p>A vector of column names indicating the baseline covariates to be included in the propensity score model.</p>
</td></tr>
<tr><td><code id="computeInfoForTable1_+3A_truncp">truncP</code></td>
<td>
<p>A value between 0 and 1 indicating the percentile used for weight truncation. The default is 1, corresponding to no weight truncation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of summary-level information needed for the creation of a &quot;Table 1&quot; of baseline patient characteristics. Each covariate has a row of 19 numbers: covariate type (&quot;yes&quot; if it is binary, &quot;no&quot; if it is continuous/count), number of exposed individuals (same across rows), covariate mean of exposed individuals, covariate mean square of exposed individuals, total conventional weights of exposed individuals, weighted covariate mean of exposed individuals with conventional weights, weighted covariate mean square of exposed individuals with conventional weights, total stabilized weights of exposed individuals, weighted covariate mean of exposed individuals with stabilized weights, weighted covariate mean square of exposed individuals with stabilized weights, number of unexposed individuals (same across rows), covariate mean of unexposed individuals, covariate mean square of unexposed individuals, total conventional weights of unexposed individuals, weighted covariate mean of unexposed individuals with conventional weights, weighted covariate mean square of unexposed individuals with conventional weights, total stabilized weights of unexposed individuals, weighted covariate mean of unexposed individuals with stabilized weights, and weighted covariate mean square of unexposed individuals with stabilized weights.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load an example dataset site1.RData in the package
#site1 contains individual-level data of data-contributing site 1
data(site1)
#site 1 computes summary-level information needed for creating the "Table 1"
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
computeInfoForTable1(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=1)
#with truncation: set weights larger than the 90% quantile of original weights to the 90% quantile
computeInfoForTable1(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=0.9)

</code></pre>

<hr>
<h2 id='createRisksetTable'>Creation of summary-level riskset tables from individual-level data</h2><span id='topic+createRisksetTable'></span>

<h3>Description</h3>

<p>This function creates summary-level riskset tables from individual-level data at each data-contributing site, under both the conventional inverse probability weights and the stabilized weights. A logistic regression model is used to estimate the propensity scores with an option to do weight truncation. This is a function for data-contributing sites.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createRisksetTable(
  data,
  indA,
  indX,
  indStatus,
  indTime,
  truncP = 1,
  shareEventTime = "no"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createRisksetTable_+3A_data">data</code></td>
<td>
<p>An individual-level dataset in the form of R data frame.</p>
</td></tr>
<tr><td><code id="createRisksetTable_+3A_inda">indA</code></td>
<td>
<p>A column name indicating the exposure/treatment variable.</p>
</td></tr>
<tr><td><code id="createRisksetTable_+3A_indx">indX</code></td>
<td>
<p>A vector of column names indicating the baseline covariates to be included in the propensity score model.</p>
</td></tr>
<tr><td><code id="createRisksetTable_+3A_indstatus">indStatus</code></td>
<td>
<p>A column name indicating the non-censoring status (1 if observed and 0 if censored).</p>
</td></tr>
<tr><td><code id="createRisksetTable_+3A_indtime">indTime</code></td>
<td>
<p>A column name indicating the outcome variable, i.e., min(true event time, censoring time).</p>
</td></tr>
<tr><td><code id="createRisksetTable_+3A_truncp">truncP</code></td>
<td>
<p>A value between 0 and 1 indicating the percentile used for weight truncation. The default is 1, corresponding to no weight truncation.</p>
</td></tr>
<tr><td><code id="createRisksetTable_+3A_shareeventtime">shareEventTime</code></td>
<td>
<p>If the data-contributing site would like to share a column of event times, then set <code>shareEventTime="yes"</code>. If not, then set <code>shareEventTime="no"</code>. By default,  <code>shareEventTime="no"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of two summary-level riskset tables to be shared with the analysis center, under both the conventional inverse probability weights (i.e., $ipwTable) and the stabilized weights (i.e., $stabTable). If <code>shareEventTime="no"</code>, then a riskset table has 8 columns: total weights of exposed cases or events, total weights of cases or events, total weights of exposed individuals, total weights of unexposed individuals, total squared weights of exposed cases or events, total squared weights of unexposed cases or events, total squared weights of exposed individuals, total squared weights of unexposed individuals. If <code>shareEventTime="yes"</code>, then a riskset table further has a column of event times.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load an example dataset site1.RData in the package
#site1 contains individual-level data of data-contributing site 1
data(site1)
#data-contributing site 1 creates its two summary-level riskset tables
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
#agree to share a column of event times
rsTb1=createRisksetTable(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="yes")
#print the first six rows of riskset table using conventional weights
head(rsTb1$ipwTable)
#print the first six rows of riskset table using stabilized weights
head(rsTb1$stabTable)

</code></pre>

<hr>
<h2 id='createTable1'>Creation of an overall &quot;Table 1&quot; of baseline patient characteristics before and after weighting</h2><span id='topic+createTable1'></span>

<h3>Description</h3>

<p>Creation of an overall &quot;Table 1&quot; of baseline patient characteristics in the original unweighted and the inverse probability weighted samples, using only summary-level information shared by data-contributing sites. This is a function for the analysis center.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>createTable1(XsummaryList, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="createTable1_+3A_xsummarylist">XsummaryList</code></td>
<td>
<p>A list of summary-level information tables shared by data-contributing sites. Each site provides one table, which can be obtained by using the function <code><a href="#topic+computeInfoForTable1">computeInfoForTable1</a></code> in this package.</p>
</td></tr>
<tr><td><code id="createTable1_+3A_digits">digits</code></td>
<td>
<p>An integer indicating the number of decimal places for the generated &quot;Table 1&quot;. The default is 2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of the &quot;Table 1&quot;. Each row represents a covariate. The seven columns represent the covariate type (&quot;yes&quot; if it is binary, &quot;no&quot; if it is continuous or count), the exposed group in the original sample, the unexposed group in the original sample, the exposed group in the weighted sample with conventional weights, the unexposed group in the weighted sample with conventional weights, the exposed group in the weighted sample with stabilized weights, and the unexposed group in the weighted sample with stabilized weights. For cells of binary covariates, values are count(percentage). For cells of continuous or count covariates, values are mean(standard deviation).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load example datasets in the package
#site1-3 contain individual-level data of data-contributing sites 1-3
data(site1)
data(site2)
data(site3)
#sites 1-3 compute summary-level information needed for creating the "Table 1"
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
Xsummary1=computeInfoForTable1(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=1)
Xsummary2=computeInfoForTable1(data=site2,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=1)
Xsummary3=computeInfoForTable1(data=site3,indA="A",indX=c("X1","X2","X3","X4","X5"),truncP=1)
#analysis center creates the "Table 1"
#using summary-level information Xsummary1-3 shared by data-contributing sites
#display the table with 3 decimal places
createTable1(list(Xsummary1,Xsummary2,Xsummary3),digits=3)
#analysis center can also generate site-specific "Table 1"
#for example, for site 1
createTable1(list(Xsummary1),digits=3)

</code></pre>

<hr>
<h2 id='estimateSiteHRs'>Privacy-protecting estimation of site-specific hazard ratios using inverse probability weighted Cox models</h2><span id='topic+estimateSiteHRs'></span>

<h3>Description</h3>

<p>This function allows privacy-protecting estimation of the site-specific hazard ratios using inverse probability weighted Cox models, under both the conventional inverse probability weights and the stabilized weights. The robust sandwich variance estimation method is used for estimating the variance of the log hazard ratio estimates. The Breslow method is used to handle tied events. This is a function for the analysis center.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimateSiteHRs(tableList, initialHR = 1, endpoint = Inf, confidence = 0.95)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimateSiteHRs_+3A_tablelist">tableList</code></td>
<td>
<p>A list of summary-level riskset tables shared by data-contributing sites. Each data-contributing site provides a list of two riskset tables; the first using the conventional inverse probability weights and the second using the stabilized weights. Data-contributing sites can obtain their summary-level riskset tables using the function <code><a href="#topic+createRisksetTable">createRisksetTable</a></code> in this package.</p>
</td></tr>
<tr><td><code id="estimateSiteHRs_+3A_initialhr">initialHR</code></td>
<td>
<p>An initial value for hazard ratio when solving the site-specific weighted partial likelihood score equation. The default is 1.</p>
</td></tr>
<tr><td><code id="estimateSiteHRs_+3A_endpoint">endpoint</code></td>
<td>
<p>A value of the end of follow-up used to conduct sensitivity analysis. Observed events in the original data that occur after this value will be censored. The default is Inf, which means that we use the original data without conducting sensitivity analysis. For riskset tables that do not provide event times, endpoint should be left as the default Inf.</p>
</td></tr>
<tr><td><code id="estimateSiteHRs_+3A_confidence">confidence</code></td>
<td>
<p>A confidence level between 0 and 1. The default is 0.95 corresponding to a 95 per cent confidence interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of inference results from inverse probability weighted Cox models for each data-contributing site. Each site has two rows of results, where the first and the second rows report the log hazard ratio estimate and associated robust sandwich standard error, hazard ratio estimate and associated normality-based confidence interval, under the conventional inverse probability weights and the stabilized weights, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load example datasets in the package
#site1-3 contain individual-level data of data-contributing sites 1-3
data(site1)
data(site2)
data(site3)
#data-contributing sites 1-3 create summary-level riskset tables
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
#do not share event times
rsTb1=createRisksetTable(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="no")
rsTb2=createRisksetTable(data=site2,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="no")
rsTb3=createRisksetTable(data=site3,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="no")
#analysis center estimates site-specific hazard ratios in IPW Cox models
#for all data-contributing sites
#using summary-level riskset tables rsTb1-3 shared by data-contributing sites
estimateSiteHRs(list(rsTb1,rsTb2,rsTb3),initialHR=1,endpoint=Inf,confidence=0.95)

</code></pre>

<hr>
<h2 id='estimateStratHR'>Privacy-protecting estimation of overall hazard ratios using inverse probability weighted Cox models stratified on data-contributing sites</h2><span id='topic+estimateStratHR'></span>

<h3>Description</h3>

<p>This function estimates the overall hazard ratios using inverse probability weighted Cox models stratified on data-contributing sites, under both the conventional inverse probability weights and the stabilized weights. The robust sandwich variance estimation method is used for estimating the variance of the log hazard ratio estimates. The Breslow method is used to handle tied events. This is a function for the analysis center.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimateStratHR(tableList, initialHR = 1, endpoint = Inf, confidence = 0.95)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimateStratHR_+3A_tablelist">tableList</code></td>
<td>
<p>A list of summary-level riskset tables shared by data-contributing sites. Each data-contributing site provides a list of two riskset tables; the first using the conventional inverse probability weights and the second using the stabilized weights. Data-contributing sites can obtain their summary-level riskset tables using the function <code><a href="#topic+createRisksetTable">createRisksetTable</a></code> in this package.</p>
</td></tr>
<tr><td><code id="estimateStratHR_+3A_initialhr">initialHR</code></td>
<td>
<p>An initial value for hazard ratio when solving the stratified weighted partial likelihood score equation. The default is 1.</p>
</td></tr>
<tr><td><code id="estimateStratHR_+3A_endpoint">endpoint</code></td>
<td>
<p>A value of the end of follow-up used to conduct sensitivity analysis. Observed events in the original data that occur after this value will be censored. The default is Inf, which means that we use the original data without conducting sensitivity analysis. For riskset tables that do not provide event times, endpoint should be left as the default Inf.</p>
</td></tr>
<tr><td><code id="estimateStratHR_+3A_confidence">confidence</code></td>
<td>
<p>A confidence level between 0 and 1. The default is 0.95 corresponding to a 95 per cent confidence interval.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of inference results from inverse probability weighted Cox models stratified on data-contributing sites. The first and the second rows report the log hazard ratio estimate and associated robust sandwich standard error, hazard ratio estimate and associated normality-based confidence interval, under the conventional inverse probability weights and the stabilized weights, respectively.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#load example datasets in the package
#site1-3 contain individual-level data of data-contributing sites 1-3
data(site1)
data(site2)
data(site3)
#data-contributing sites 1-3 create summary-level riskset tables
#with logistic propensity score model A~X1+X2+X3+X4+X5
#no weight truncation
#agree to share event times
rsTb1=createRisksetTable(data=site1,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="yes")
rsTb2=createRisksetTable(data=site2,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="yes")
rsTb3=createRisksetTable(data=site3,indA="A",indX=c("X1","X2","X3","X4","X5"),
                        indStatus="status",indTime="time",truncP=1,shareEventTime="yes")
#analysis center estimates hazard ratio in a stratified IPW Cox model
#using summary-level riskset tables rsTb1-3 shared by data-contributing sites
estimateStratHR(list(rsTb1,rsTb2,rsTb3),initialHR=1,endpoint=Inf,confidence=0.95)
#sensitivity analysis at endpoint 20
estimateStratHR(list(rsTb1,rsTb2,rsTb3),initialHR=1,endpoint=20,confidence=0.95)

</code></pre>

<hr>
<h2 id='site1'>Example individual-level data of data-contributing site 1</h2><span id='topic+site1'></span>

<h3>Description</h3>

<p>This dataset gives an example of individual-level data of data-contributing site 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(site1)</code></pre>


<h3>Format</h3>

<p>A data frame consisting of 800 individuals (i.e., rows) with variables (i.e., columns) sequence number (id), outcome (time), non-censoring indicator (status), exposure/treatment indicator (A), five baseline covariates (X1-X5), and data-contributing site indicator (indSite).</p>

<hr>
<h2 id='site2'>Example individual-level data of data-contributing site 2</h2><span id='topic+site2'></span>

<h3>Description</h3>

<p>This dataset gives an example of individual-level data of data-contributing site 2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(site2)</code></pre>


<h3>Format</h3>

<p>A data frame consisting of 1000 individuals (i.e.,rows) with variables (i.e., columns) sequence number (id), outcome (time), non-censoring indicator (status), exposure/treatment indicator (A), five baseline covariates (X1-X5), and data-contributing site indicator (indSite).</p>

<hr>
<h2 id='site3'>Example individual-level data of data-contributing site 3</h2><span id='topic+site3'></span>

<h3>Description</h3>

<p>This dataset gives an example of individual-level data of data-contributing site 3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(site3)</code></pre>


<h3>Format</h3>

<p>A data frame consisting of 1200 individuals (i.e.,rows) with variables (i.e., columns) sequence number (id), outcome (time), non-censoring indicator (status), exposure/treatment indicator (A), five baseline covariates (X1-X5), and data-contributing site indicator (indSite).</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package inops</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {inops}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#comparison_replace'><p>Replacing Values by Comparison</p></a></li>
<li><a href='#comparison_subset'><p>Subsetting Values by Comparison</p></a></li>
<li><a href='#in_detect'><p>Matching Values and Intervals</p></a></li>
<li><a href='#in_replace'><p>Replacing Values and Intervals</p></a></li>
<li><a href='#in_subset'><p>Subsetting Values and Intervals</p></a></li>
<li><a href='#out'><p>Detect values that don't match</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Infix Operators for Detection, Subsetting and Replacement</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Infix operators to detect, subset, and replace the elements matched by a given condition.
  The functions have several variants of operator types, including subsets, ranges, regular expressions and others.
  Implemented operators work on vectors, matrices, and lists.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), purrr, knitr, rmarkdown, dplyr,
nycflights13</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/moodymudskipper/inops">https://github.com/moodymudskipper/inops</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/moodymudskipper/inops/issues">https://github.com/moodymudskipper/inops/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-11-13 16:11:13 UTC; afabri</td>
</tr>
<tr>
<td>Author:</td>
<td>Antoine Fabri [aut, cre],
  Karolis Konceviƒçius [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Antoine Fabri &lt;antoine.fabri@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-11-19 12:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='comparison_replace'>Replacing Values by Comparison</h2><span id='topic+comparison_replace'></span><span id='topic++3E+3D+3C-'></span><span id='topic++3E+3C-'></span><span id='topic++3C+3D+3C-'></span><span id='topic++3C+3C-'></span><span id='topic++3D+3D+3C-'></span><span id='topic++21+3D+3C-'></span>

<h3>Description</h3>

<p>Operators for replacing values using the standard comparison operators.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x &gt;= y &lt;- value

x &gt; y &lt;- value

x &lt;= y &lt;- value

x &lt; y &lt;- value

x == y &lt;- value

x != y &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="comparison_replace_+3A_x">x</code></td>
<td>
<p>first element of the operation.</p>
</td></tr>
<tr><td><code id="comparison_replace_+3A_y">y</code></td>
<td>
<p>second element of the operation.</p>
</td></tr>
<tr><td><code id="comparison_replace_+3A_value">value</code></td>
<td>
<p>replacement value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Thanks to these operators :
</p>

<ul>
<li> <p><code>x == y &lt;- value</code> is equivalent to <code>x[x == y] &lt;- value</code>
</p>
</li>
<li> <p><code>x != y &lt;- value</code> is equivalent to <code>x[x != y] &lt;- value</code>
</p>
</li>
<li> <p><code>x &lt;= y &lt;- value</code> is equivalent to <code>x[x &lt;= y] &lt;- value</code>
</p>
</li>
<li> <p><code>x &gt;= y &lt;- value</code> is equivalent to <code>x[x &gt;= y] &lt;- value</code>
</p>
</li>
<li> <p><code>x &lt; y &lt;- value</code> is equivalent to <code>x[x &lt; y] &lt;- value</code>
</p>
</li>
<li> <p><code>x &gt; y &lt;- value</code> is equivalent to <code>x[x &gt; y] &lt;- value</code>
</p>
</li></ul>



<h3>Value</h3>

<p><code>x</code> with values for which the comparisons evaluate to TRUE replaced with <code>value</code>.
</p>


<h3>See Also</h3>

<p><code>`==`</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ages &lt;- c(130, 10, 1996, 21, 39, 74, -2, 0)

ages == 1996 &lt;- as.numeric(format(Sys.Date(), "%Y")) - 1986
ages

ages &gt; 100 &lt;- NA
ages

ages &lt;= 0 &lt;- NA
ages

</code></pre>

<hr>
<h2 id='comparison_subset'>Subsetting Values by Comparison</h2><span id='topic+comparison_subset'></span><span id='topic++25+5B+3E+3D+25'></span><span id='topic++25+5B+3E+25'></span><span id='topic++25+5B+3C+3D+25'></span><span id='topic++25+5B+3C+25'></span><span id='topic++25+5B+3D+3D+25'></span><span id='topic++25+5B+21+3D+25'></span>

<h3>Description</h3>

<p>Operators for subsetting values using the standard comparison operators.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %[&gt;=% y

x %[&gt;% y

x %[&lt;=% y

x %[&lt;% y

x %[==% y

x %[!=% y
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="comparison_subset_+3A_x">x</code></td>
<td>
<p>first element of the operation.</p>
</td></tr>
<tr><td><code id="comparison_subset_+3A_y">y</code></td>
<td>
<p>second element of the operation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>elements of <code>x</code> matched by the used comparison.
</p>


<h3>See Also</h3>

<p><code>`==`</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ages &lt;- c(130, 10, 21, 39, 74, -2, 0)
ages %[&lt;% 5

letters %[==% "a"

letters %[!=% "a"

</code></pre>

<hr>
<h2 id='in_detect'>Matching Values and Intervals</h2><span id='topic+in_detect'></span><span id='topic++25in+7B+7D+25'></span><span id='topic++25out+7B+7D+25'></span><span id='topic++25in+5B+5D+25'></span><span id='topic++25out+5B+5D+25'></span><span id='topic++25in+28+29+25'></span><span id='topic++25out+28+29+25'></span><span id='topic++25in+28+5D+25'></span><span id='topic++25out+28+5D+25'></span><span id='topic++25in+5B+29+25'></span><span id='topic++25out+5B+29+25'></span><span id='topic++25in~+25'></span><span id='topic++25out~+25'></span><span id='topic++25in~p+25'></span><span id='topic++25out~p+25'></span><span id='topic++25in~f+25'></span><span id='topic++25out~f+25'></span><span id='topic++25in+23+25'></span><span id='topic++25out+23+25'></span>

<h3>Description</h3>

<p>Operators for detecting which values are within a given interval or set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %in{}% table

x %out{}% table

x %in[]% interval

x %out[]% interval

x %in()% interval

x %out()% interval

x %in(]% interval

x %out(]% interval

x %in[)% interval

x %out[)% interval

x %in~% pattern

x %out~% pattern

x %in~p% pattern

x %out~p% pattern

x %in~f% pattern

x %out~f% pattern

x %in#% count

x %out#% count
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="in_detect_+3A_x">x</code></td>
<td>
<p>vector or array of values to be matched.</p>
</td></tr>
<tr><td><code id="in_detect_+3A_table">table</code></td>
<td>
<p>vector or list to be matched against.</p>
</td></tr>
<tr><td><code id="in_detect_+3A_interval">interval</code></td>
<td>
<p>numeric vector defining a range to be matched against.</p>
</td></tr>
<tr><td><code id="in_detect_+3A_pattern">pattern</code></td>
<td>
<p>pattern to be matched against.</p>
</td></tr>
<tr><td><code id="in_detect_+3A_count">count</code></td>
<td>
<p>numeric vector defining counts for count-based selection.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Compared with default <code>%in%</code> implementation in R the operators implemented here try to be more consistent with other default infix operators like <code>==</code> and <code>&lt;</code>.
In particular they preserve the dimensions and the missing values (see examples).
</p>
<p>Style of parentheses define the type of matching template:
</p>

<ul>
<li> <p><code>%in{}%</code> detects which elements of <code>x</code> are present in the set given by the <code>table</code> argument.
</p>
</li>
<li> <p><code>%in()%</code>, <code>%in[]%</code>, <code>%in(]%</code> and <code>%in[)%</code> detect the elements of <code>x</code> included in a range of <code>interval</code> argument, using <code>range(interval)</code>.
This range being closed, open on both sides, open on the left, or open on the right, respectively.
</p>
</li>
<li> <p><code>%in~%</code>, <code>%in~p%</code> and <code>%in~f%</code> detect the elements of <code>x</code> that match the regular expression given by <code>pattern</code>.
They wrap <code>grepl()</code> with the default parameters of <code>perl = TRUE</code>, and with <code>fixed = TRUE</code>, respectively.
</p>
</li>
<li> <p><code>%in#%</code> detects the elements that occur a specified number of times.
Operators of the form <code>%out&lt;suffix&gt;%</code> return the negation of <code>%in&lt;suffix&gt;%</code>
</p>
</li></ul>



<h3>Value</h3>

<p>a logical vector or an array of the same dimensions as <code>x</code>
indicating if each value of <code>x</code> is within the defined subset.
</p>


<h3>See Also</h3>

<p><code>%in%</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># difference in behaviour with dimensions when compared to %in%
iris[1:10,] %in% "setosa"
iris[1:10,] == "setosa"
iris[1:10,] %in{}% "setosa"

# difference in behaviour with missing values when compared to %in%
x &lt;- c(1,2,3,NA,4)
x %in% c(1,2,3)
x %in{}% c(1,2,3)

# other interval oparators
x &lt;- 1:10
x %in[]% c(3,7)
x %in()% c(3,7)
x %in(]% c(3,7)
x %in[)% c(3,7)
x %out[]% c(3,7)

# when more than 2 numbers are provided for the interval - range is used
x &lt;- 1:10
all.equal(x %in[]% c(2,4), x %in[]% c(2,3,4))
all.equal(x %in[]% c(2,4), x %in[]% range(c(2,3,4)))

# matching according to regular expressions
iris$Species %in~% "^v"
iris$Species %in~f% "^v"
iris$Species %in~f% "versicolor"
iris$Species %in~f% c("versicolor", "virginica")

# selecting by number of occurances
mtcars$gear %in#% 1:5
mtcars$gear %out#% 1:5

</code></pre>

<hr>
<h2 id='in_replace'>Replacing Values and Intervals</h2><span id='topic+in_replace'></span><span id='topic++25in+7B+7D+25+3C-'></span><span id='topic++25out+7B+7D+25+3C-'></span><span id='topic++25in+5B+5D+25+3C-'></span><span id='topic++25out+5B+5D+25+3C-'></span><span id='topic++25in+28+29+25+3C-'></span><span id='topic++25out+28+29+25+3C-'></span><span id='topic++25in+28+5D+25+3C-'></span><span id='topic++25out+28+5D+25+3C-'></span><span id='topic++25in+5B+29+25+3C-'></span><span id='topic++25out+5B+29+25+3C-'></span><span id='topic++25in~+25+3C-'></span><span id='topic++25out~+25+3C-'></span><span id='topic++25in~f+25+3C-'></span><span id='topic++25out~f+25+3C-'></span><span id='topic++25in~p+25+3C-'></span><span id='topic++25out~p+25+3C-'></span><span id='topic++25in+25+3C-'></span><span id='topic++25out+25+3C-'></span><span id='topic++25in+23+25+3C-'></span><span id='topic++25out+23+25+3C-'></span>

<h3>Description</h3>

<p>Operators for replacing values within a given interval or set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %in{}% table &lt;- value

x %out{}% table &lt;- value

x %in[]% interval &lt;- value

x %out[]% interval &lt;- value

x %in()% interval &lt;- value

x %out()% interval &lt;- value

x %in(]% interval &lt;- value

x %out(]% interval &lt;- value

x %in[)% interval &lt;- value

x %out[)% interval &lt;- value

x %in~% pattern &lt;- value

x %out~% pattern &lt;- value

x %in~f% pattern &lt;- value

x %out~f% pattern &lt;- value

x %in~p% pattern &lt;- value

x %out~p% pattern &lt;- value

x %in% table &lt;- value

x %out% table &lt;- value

x %in#% count &lt;- value

x %out#% count &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="in_replace_+3A_x">x</code></td>
<td>
<p>vector or array of values to be matched.</p>
</td></tr>
<tr><td><code id="in_replace_+3A_table">table</code></td>
<td>
<p>vector or list to be matched against.</p>
</td></tr>
<tr><td><code id="in_replace_+3A_value">value</code></td>
<td>
<p>replacement value.</p>
</td></tr>
<tr><td><code id="in_replace_+3A_interval">interval</code></td>
<td>
<p>numeric vector defining a range to be matched against.</p>
</td></tr>
<tr><td><code id="in_replace_+3A_pattern">pattern</code></td>
<td>
<p>pattern to be matched against.</p>
</td></tr>
<tr><td><code id="in_replace_+3A_count">count</code></td>
<td>
<p>numeric vector defining counts for count-based selection.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each <code>%*%&lt;-</code> operator of this package <code>x %*% y &lt;- value</code> is a shorthand for
<code>x[x %*% y] &lt;- value</code>.
</p>


<h3>Value</h3>

<p><code>x</code> with specified values replaced with <code>value</code>.
</p>


<h3>See Also</h3>

<p><code>%in{}%</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># interval replacement operators
x &lt;- 1:10
x %in[]% c(3,7) &lt;- 0
x

x &lt;- 1:10
x %in[)% c(3,7) &lt;- NA
x

x &lt;- 1:10
x %out[)% c(3,7) &lt;- x
x

# regular expression replacement operators
region &lt;- as.character(state.region)
table(region)
region %in~% "^North" &lt;- "North"
table(region)

# count based replacement operators
carb &lt;- mtcars$carb
table(carb, useNA="always")
carb %in#% 1 &lt;- NA
table(carb, useNA="always")

</code></pre>

<hr>
<h2 id='in_subset'>Subsetting Values and Intervals</h2><span id='topic+in_subset'></span><span id='topic++25+5Bin+7B+7D+25'></span><span id='topic++25+5Bout+7B+7D+25'></span><span id='topic++25+5Bin+5B+5D+25'></span><span id='topic++25+5Bout+5B+5D+25'></span><span id='topic++25+5Bin+28+29+25'></span><span id='topic++25+5Bout+28+29+25'></span><span id='topic++25+5Bin+28+5D+25'></span><span id='topic++25+5Bout+28+5D+25'></span><span id='topic++25+5Bin+5B+29+25'></span><span id='topic++25+5Bout+5B+29+25'></span><span id='topic++25+5Bin~+25'></span><span id='topic++25+5Bout~+25'></span><span id='topic++25+5Bin~p+25'></span><span id='topic++25+5Bout~p+25'></span><span id='topic++25+5Bin~f+25'></span><span id='topic++25+5Bout~f+25'></span><span id='topic++25+5Bin+25'></span><span id='topic++25+5Bout+25'></span><span id='topic++25+5Bin+23+25'></span><span id='topic++25+5Bout+23+25'></span>

<h3>Description</h3>

<p>Operators for subsetting values within a given interval or set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %[in{}% table

x %[out{}% table

x %[in[]% interval

x %[out[]% interval

x %[in()% interval

x %[out()% interval

x %[in(]% interval

x %[out(]% interval

x %[in[)% interval

x %[out[)% interval

x %[in~% pattern

x %[out~% pattern

x %[in~p% pattern

x %[out~p% pattern

x %[in~f% pattern

x %[out~f% pattern

x %[in% table

x %[out% table

x %[in#% count

x %[out#% count
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="in_subset_+3A_x">x</code></td>
<td>
<p>vector or array of values to be matched.</p>
</td></tr>
<tr><td><code id="in_subset_+3A_table">table</code></td>
<td>
<p>vector or list to be matched against.</p>
</td></tr>
<tr><td><code id="in_subset_+3A_interval">interval</code></td>
<td>
<p>numeric vector defining a range to be matched against.</p>
</td></tr>
<tr><td><code id="in_subset_+3A_pattern">pattern</code></td>
<td>
<p>pattern to be matched against.</p>
</td></tr>
<tr><td><code id="in_subset_+3A_count">count</code></td>
<td>
<p>numeric vector defining counts for count-based selection.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For each <code>%[*%</code> operator of this package <code>x %[*% y</code> is a shorthand for
<code>x[x %*% y]</code>.
</p>


<h3>Value</h3>

<p>elements of <code>x</code> matched by the used infix operator type.
</p>


<h3>See Also</h3>

<p><code>%in{}%</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># interval subsetting operators
x &lt;- 1:10
x %[in[]% c(3,7)
x %[in[)% c(3,7)
x %[out[)% c(3,7)

# regular expression subsetting operators
carnames &lt;- rownames(mtcars)
carnames %[in~% "^Mazda"
carnames %[in~% c("^Mazda", "^Merc")
carnames %[in~% c("\\w{10,100}$")  # long car names

# count-based subsetting operators
mtcars$cyl %[in#% 1:10
mtcars$cyl %[out#% 1:10

</code></pre>

<hr>
<h2 id='out'>Detect values that don't match</h2><span id='topic+out'></span><span id='topic++25out+25'></span>

<h3>Description</h3>

<p><code>%out%</code> is the negation of <code>%in%</code>, so <code>x %out% y</code> is equivalent to <code>! x %in% y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>x %out% table
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="out_+3A_x">x</code></td>
<td>
<p>vector of values to be matched.</p>
</td></tr>
<tr><td><code id="out_+3A_table">table</code></td>
<td>
<p>vector or list to be matched against.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical vector or of the same length as <code>x</code>
indicating if each value of <code>x</code> is within the defined subset.
</p>


<h3>See Also</h3>

<p><code>%in%</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>iris$Species %in% c("setosa", "versicolor")
iris$Species %out% c("setosa", "versicolor")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

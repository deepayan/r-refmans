<!DOCTYPE html><html><head><title>Help for package tsintermittent</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tsintermittent}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#crost'><p>Croston's method and variants</p></a></li>
<li><a href='#crost.decomp'><p>Croston's decomposition</p></a></li>
<li><a href='#crost.ma'><p>Moving average with Croston's method decomposition</p></a></li>
<li><a href='#data.frc'><p>Wrapper to forecasts data.frames with a single call</p></a></li>
<li><a href='#idclass'><p>Time series categorisation for intermittent demand</p></a></li>
<li><a href='#imapa'><p>MAPA for intermittent demand data</p></a></li>
<li><a href='#sexsm'><p>Simple exponential smoothing</p></a></li>
<li><a href='#simID'><p>Simulator for Intermittent Demand Series</p></a></li>
<li><a href='#ts.data1'><p>Example intermittent demand series - 'ts.data1'</p></a></li>
<li><a href='#ts.data2'><p>Example intermittent demand series - 'ts.data2'</p></a></li>
<li><a href='#tsb'><p>TSB (Teunter-Syntetos-Babai) method</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Intermittent Time Series Forecasting</td>
</tr>
<tr>
<td>Version:</td>
<td>1.10</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-07-15</td>
</tr>
<tr>
<td>Description:</td>
<td>Time series methods for intermittent demand forecasting. Includes Croston's method and its variants (Moving Average, SBA), and the TSB method. Users can obtain optimal parameters on a variety of loss functions, or use fixed ones (Kourenztes (2014) &lt;<a href="https://doi.org/10.1016%2Fj.ijpe.2014.06.007">doi:10.1016/j.ijpe.2014.06.007</a>&gt;). Intermittent time series classification methods and iMAPA that uses multiple temporal aggregation levels are also provided (Petropoulos &amp; Kourenztes (2015) &lt;<a href="https://doi.org/10.1057%2Fjors.2014.62">doi:10.1057/jors.2014.62</a>&gt;).</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>MAPA, parallel</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://kourentzes.com/forecasting/2014/06/23/intermittent-demand-forecasting-package-for-r/">https://kourentzes.com/forecasting/2014/06/23/intermittent-demand-forecasting-package-for-r/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-07-17 10:15:29 UTC; Nikos</td>
</tr>
<tr>
<td>Author:</td>
<td>Nikolaos Kourentzes
    <a href="https://orcid.org/0000-0003-0211-5218"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre, aut],
  Fotios Petropoulos
    <a href="https://orcid.org/0000-0003-3039-4955"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nikolaos Kourentzes &lt;nikolaos@kourentzes.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-07-18 08:10:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='crost'>Croston's method and variants</h2><span id='topic+crost'></span>

<h3>Description</h3>

<p>Croston's method and variants for intermittent demand series with fixed or optimised parameters.</p>


<h3>Usage</h3>

<pre><code class='language-R'>crost(data,h=10,w=NULL,init=c("mean","naive"),nop=c(2,1),
      type=c("croston","sba","sbj"),cost=c("mar","msr","mae","mse"),
      init.opt=c(TRUE,FALSE),outplot=c(FALSE,TRUE),opt.on=c(FALSE,TRUE),
      na.rm=c(FALSE,TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crost_+3A_data">data</code></td>
<td>

<p>Intermittent demand time series.
</p>
</td></tr>
<tr><td><code id="crost_+3A_h">h</code></td>
<td>

<p>Forecast horizon.
</p>
</td></tr>
<tr><td><code id="crost_+3A_w">w</code></td>
<td>

<p>Smoothing parameters. If w == NULL then parameters are optimised. If w is a single parameter then the same is used for smoothing both the demand and the intervals. If two parameters are provided then the second is used to smooth the intervals. 
</p>
</td></tr>
<tr><td><code id="crost_+3A_init">init</code></td>
<td>

<p>Initial values for demand and intervals. This can be: 1. c(z,x)  - Vector of two scalars, where first is initial demand and second is initial interval; 2. &quot;naive&quot; - Initial demand is first non-zero demand and initial interval is first interval; 3. &quot;mean&quot;  - Same as &quot;naive&quot;, but initial interval is the mean of all in sample intervals.
</p>
</td></tr>
<tr><td><code id="crost_+3A_nop">nop</code></td>
<td>

<p>Specifies the number of model parameters. Used only if they are optimised. 1. 1 - Demand and interval parameters are the same; 2. 2 - Different demand and interval parameters.
</p>
</td></tr>
<tr><td><code id="crost_+3A_type">type</code></td>
<td>

<p>Croston's method variant: 1. &quot;croston&quot; Croston's method; 2. &quot;sba&quot; Syntetos-Boylan approximation; 3. &quot;sbj&quot; Shale-Boylan-Johnston.
</p>
</td></tr>
<tr><td><code id="crost_+3A_cost">cost</code></td>
<td>

<p>Cost function used for optimisation: 1. &quot;mar&quot; - Mean Absolute Rate; 2. &quot;msr&quot; - Mean Squared Rate; 3. &quot;mae&quot; - Mean Absolute Error; 4. &quot;mse&quot; - Mean Squared Error.
</p>
</td></tr>
<tr><td><code id="crost_+3A_init.opt">init.opt</code></td>
<td>

<p>If init.opt==TRUE then initial values are optimised.
</p>
</td></tr>
<tr><td><code id="crost_+3A_outplot">outplot</code></td>
<td>

<p>If TRUE a plot of the forecast is provided.
</p>
</td></tr>
<tr><td><code id="crost_+3A_opt.on">opt.on</code></td>
<td>

<p>This is meant to use only by the optimisation function. When opt.on is TRUE then no checks on inputs are performed.
</p>
</td></tr>
<tr><td><code id="crost_+3A_na.rm">na.rm</code></td>
<td>

<p>A logical value indicating whether NA values should be remove using the method.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>Type of model fitted.</p>
</td></tr>
<tr><td><code>frc.in</code></td>
<td>
<p>In-sample demand rate.</p>
</td></tr>
<tr><td><code>frc.out</code></td>
<td>
<p>Out-of-sample demand rate.</p>
</td></tr>
<tr><td><code>weights</code></td>
<td>
<p>Smoothing parameters for demand and interval.</p>
</td></tr>
<tr><td><code>initial</code></td>
<td>
<p>Initialisation values for demand and interval smoothing.</p>
</td></tr>
<tr><td><code>component</code></td>
<td>
<p>List of c.in and c.out containing the non-zero demand and interval vectors for in- and out-of-sample respectively. Third element is the coefficient used to scale demand rate for sba and sbj.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>Optimisation of the methods described in:
N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+sexsm">sexsm</a></code>, <code><a href="#topic+crost.ma">crost.ma</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crost(ts.data1,outplot=TRUE)
</code></pre>

<hr>
<h2 id='crost.decomp'>Croston's decomposition</h2><span id='topic+crost.decomp'></span>

<h3>Description</h3>

<p>Apply Croston's decomposition on a time series.</p>


<h3>Usage</h3>

<pre><code class='language-R'>crost.decomp(data,init=c("naive","mean"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crost.decomp_+3A_data">data</code></td>
<td>

<p>Intermittent demand time series.
</p>
</td></tr>
<tr><td><code id="crost.decomp_+3A_init">init</code></td>
<td>

<p>Initial values for intervals. This can be: 1. x - Numerical value; 2. &quot;naive&quot; - Initial interval is the first interval from start of time series; 3. &quot;mean&quot; - Initial interval is the mean of all in sample intervals.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>demand</code></td>
<td>
<p>Non-zero demand vector.</p>
</td></tr>
<tr><td><code>interval</code></td>
<td>
<p>Intervals vector.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+crost.ma">crost.ma</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crost.decomp(ts.data1)
</code></pre>

<hr>
<h2 id='crost.ma'>Moving average with Croston's method decomposition</h2><span id='topic+crost.ma'></span>

<h3>Description</h3>

<p>Moving average with Croston's method decomposition for intermittent demand series with fixed or optimised parameters.</p>


<h3>Usage</h3>

<pre><code class='language-R'>crost.ma(data,h=10,w=NULL,nop=c(2,1),type=c("croston","sba","sbj"),
         cost=c("mar","msr","mae","mse"),outplot=c(FALSE,TRUE),
         na.rm=c(FALSE,TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crost.ma_+3A_data">data</code></td>
<td>

<p>Intermittent demand time series.
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_h">h</code></td>
<td>

<p>Forecast horizon.
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_w">w</code></td>
<td>

<p>Moving average order. If w == NULL then moving average orders are optimised. If w is a single value then the same order is used for smoothing both the demand and the intervals. If two values are provided then the second is used to smooth the intervals. 
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_nop">nop</code></td>
<td>

<p>Specifies the number of model parameters. Used only if they are optimised. 1. 1 - Demand and interval moving average order are the same; 2. 2 - Different demand and interval orders.
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_type">type</code></td>
<td>

<p>Croston's method variant: 1. &quot;croston&quot; Croston's method; 2. &quot;sba&quot; Syntetos-Boylan approximation; 3. &quot;sbj&quot; Shale-Boylan-Johnston.
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_cost">cost</code></td>
<td>

<p>Cost function used for optimisation: 1. &quot;mar&quot; - Mean Absolute Rate; 2. &quot;msr&quot; - Mean Squared Rate; 3. &quot;mae&quot; - Mean Absolute Error; 4. &quot;mse&quot; - Mean Squared Error.
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_outplot">outplot</code></td>
<td>

<p>If TRUE a plot of the forecast is provided.
</p>
</td></tr>
<tr><td><code id="crost.ma_+3A_na.rm">na.rm</code></td>
<td>

<p>A logical value indicating whether NA values should be remove using the method.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>Type of model fitted.</p>
</td></tr>
<tr><td><code>frc.in</code></td>
<td>
<p>In-sample demand rate.</p>
</td></tr>
<tr><td><code>frc.out</code></td>
<td>
<p>Out-of-sample demand rate.</p>
</td></tr>
<tr><td><code>order</code></td>
<td>
<p>Moving averages orders for demand and interval.</p>
</td></tr>
<tr><td><code>component</code></td>
<td>
<p>List of c.in and c.out containing the non-zero demand and interval vectors for in- and out-of-sample respectively. Third element is the coefficient used to scale demand rate for sba and sbj.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>Optimisation cost functions described in:
N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+sexsm">sexsm</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>crost.ma(ts.data1,outplot=TRUE)
</code></pre>

<hr>
<h2 id='data.frc'>Wrapper to forecasts data.frames with a single call</h2><span id='topic+data.frc'></span>

<h3>Description</h3>

<p>Wrapper to forecasts data.frames with a single call.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data.frc(data.in,method=c("crost","crost.ma","tsb","sexsm","imapa","auto"),...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data.frc_+3A_data.in">data.in</code></td>
<td>

<p>Data frame with time series. This can also be a matrix or array with each column being a different time series.
</p>
</td></tr>
<tr><td><code id="data.frc_+3A_method">method</code></td>
<td>

<p>Which method to use for forecasting: &quot;crost&quot;, &quot;crost.ma&quot;, &quot;tsb&quot;, &quot;sexsm&quot;, &quot;imapa&quot;, &quot;auto&quot;. &quot;auto&quot; uses PKa classification to select automatically between Croston, SBA and SES.
</p>
</td></tr>
<tr><td><code id="data.frc_+3A_...">...</code></td>
<td>

<p>Additional inputs to pass to forecasting functions. See individual function documentation for options.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>frc.out</code></td>
<td>
<p>Data frame containing forecasts for all time series.</p>
</td></tr>
<tr><td><code>out</code></td>
<td>
<p>List with detailed output per series. To access individual outputs of the list use: sapply(out, get, x=&quot;element&quot;), where &quot;element&quot; could be for example &quot;frc.in&quot;.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>By default methods are optimised using the cost functions introduced by:
N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>
<p>The PK approximate classification is described in:
F. Petropoulos and N. Kourentzes, 2015, Journal of Operational Research Society. <a href="https://link.springer.com/article/10.1057/jors.2014.62">https://link.springer.com/article/10.1057/jors.2014.62</a>.
<a href="https://kourentzes.com/forecasting/2014/05/13/forecast-combinations-for-intermittent-demand/">https://kourentzes.com/forecasting/2014/05/13/forecast-combinations-for-intermittent-demand/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+crost.ma">crost.ma</a></code>, <code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+sexsm">sexsm</a></code>, <code><a href="#topic+imapa">imapa</a></code>, <code><a href="#topic+idclass">idclass</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frc(simID(10,30),method="crost",type="sba",h=5)$frc.out
</code></pre>

<hr>
<h2 id='idclass'>Time series categorisation for intermittent demand</h2><span id='topic+idclass'></span>

<h3>Description</h3>

<p>Time series categorisation for intermittent demand data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>idclass(data,type=c("PKa","SBC","KHa","KH","PK"),a.in=NULL,
        outplot=c("summary","detail","none"),plot.focus=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="idclass_+3A_data">data</code></td>
<td>

<p>Time series dataset. Each column is a series. Alternatively this can be a single series.
</p>
</td></tr>
<tr><td><code id="idclass_+3A_type">type</code></td>
<td>

<p>Type of categorisation: 1. &quot;SBC&quot; - Syntetos Boylan Croston; 2. &quot;KH&quot;  - Kostenko Hyndman (exact*); 3. &quot;KHa&quot; - Kostenko Hyndman (approximate); 4. &quot;PK&quot;  - Petropoulos Kourentzes (exact*); 5. &quot;PKa&quot; - Petropoulos Kourentzes (approximate). *These are computationally expensive, as SBA is optimised for each time series. 
</p>
</td></tr>
<tr><td><code id="idclass_+3A_a.in">a.in</code></td>
<td>

<p>Vector of SBA demand interval smoothing parameters. This must be same length as number of series. This is used for categorisations &quot;KH&quot; and &quot;PK&quot;. If a.in == NULL then the parameters are calculated internally using MAR as a cost function.
</p>
</td></tr>
<tr><td><code id="idclass_+3A_outplot">outplot</code></td>
<td>

<p>Plot results of categorisation: 1. &quot;summary&quot; - simlified plot that reports number of series in each class and cut-off points; 2. &quot;detail&quot; - scatterplot between average interdemand interval (p) and squared coefficient of variation of non-zero demand (CV^2). Series that are categorised for SBA or SES are plotted in shaded areas; 3. &quot;none&quot; - do not produce plot.
</p>
</td></tr>
<tr><td><code id="idclass_+3A_plot.focus">plot.focus</code></td>
<td>

<p>Only relevant to outplot == &quot;detail&quot;. Can be used to specify the maximum p and CV^2 to plot, so that the scatterplot can be focused on the separation area between the categories. Use vector of two elements. First one is max p and second one is max CV^2. Example: plot.focus=c(1.5,1.5). If NULL then maximums are defined from the dataset. 
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>idx.croston</code></td>
<td>
<p>Index of series that are categorised under Croston.</p>
</td></tr>
<tr><td><code>idx.sba</code></td>
<td>
<p>Index of series that are categorised under SBA.</p>
</td></tr>
<tr><td><code>idx.ses</code></td>
<td>
<p>Index of series that are categorised under SES. Provided only for &quot;PK&quot; and &quot;PKa&quot; types.</p>
</td></tr>
<tr><td><code>cv2</code></td>
<td>
<p>Coefficient of variation squared of non-zero demand.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>Inter-demand interval.</p>
</td></tr>
<tr><td><code>summary</code></td>
<td>
<p>Summary of number of series under each category.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>Classification schemes described in:
F. Petropoulos and N. Kourentzes, 2015, Journal of Operational Research Society. <a href="https://link.springer.com/article/10.1057/jors.2014.62">https://link.springer.com/article/10.1057/jors.2014.62</a>.
<a href="https://kourentzes.com/forecasting/2014/05/13/forecast-combinations-for-intermittent-demand/">https://kourentzes.com/forecasting/2014/05/13/forecast-combinations-for-intermittent-demand/</a>
</p>
<p>Optimisation of the methods described in:
N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+imapa">imapa</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create/load some data. Each column is a time series
dataset &lt;- simID(100,60,idi=1.15,cv2=0.3)
idclass(dataset)
</code></pre>

<hr>
<h2 id='imapa'>MAPA for intermittent demand data</h2><span id='topic+imapa'></span>

<h3>Description</h3>

<p>MAPA for intermittent demand data with automatic model selection based on the PK classification.</p>


<h3>Usage</h3>

<pre><code class='language-R'>imapa(data,h=10,w=NULL,minimumAL=1,maximumAL=NULL,comb=c("mean","median"),
      init.opt=c(TRUE,FALSE),paral=c(0,1,2),outplot=c(0,1,2,3,4),model.fit=NULL,
      na.rm=c(FALSE,TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="imapa_+3A_data">data</code></td>
<td>

<p>Intermittent demand time series.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_h">h</code></td>
<td>

<p>Forecast horizon.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_w">w</code></td>
<td>

<p>Smoothing parameters. If w == NULL then parameters are optimised. If w is w single parameter then the same is used for smoothing both the demand and the intervals. If two parameters are provided then the second is used to smooth the intervals. SES is always optimised. 
</p>
</td></tr>
<tr><td><code id="imapa_+3A_minimumal">minimumAL</code></td>
<td>

<p>Lowest aggregation level to use. Default = 1.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_maximumal">maximumAL</code></td>
<td>

<p>Highest aggregation level to use. Default = maximum interval.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_comb">comb</code></td>
<td>

<p>Combination operator. One of &quot;mean&quot; or &quot;median&quot;. Default is &quot;mean&quot;.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_init.opt">init.opt</code></td>
<td>

<p>If init.opt==TRUE then Croston and SBA initial values are optimised.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_paral">paral</code></td>
<td>

<p>Use parallel processing. 0 = no; 1 = yes (requires initialised cluster); 2 = yes and initialise cluster. Default is 0.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_outplot">outplot</code></td>
<td>

<p>Optional plot: 0 = No plot; 1 = Time series and combined forecast; 2 = Time series and all aggregation level forecasts; 3 = Summary model selection plot; 4 = Detailed model selection plot.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_model.fit">model.fit</code></td>
<td>

<p>Optional input with model types and parameters. This is the model.fit output from this function. If used it overrides other model settings.
</p>
</td></tr>
<tr><td><code id="imapa_+3A_na.rm">na.rm</code></td>
<td>

<p>A logical value indicating whether NA values should be remove using the method.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>frc.in</code></td>
<td>
<p>In-sample demand rate.</p>
</td></tr>
<tr><td><code>frc.out</code></td>
<td>
<p>Out-of-sample demand rate.</p>
</td></tr>
<tr><td><code>summary</code></td>
<td>
<p>An array containing information for each aggregation level: AL - Aggregation level; n - Number of observations of aggregated series; p - Average inter-demand interval; cv2 - Coefficient of variation squared of non-zero demand; model - Selected model, where 1 is Croston, 2 is SBA and 3 is SES; use - If == 0 then this aggregation level is ignored because it contains less than 4 observations.</p>
</td></tr>
<tr><td><code>model.fit</code></td>
<td>
<p>Parameters and initialisation values of fitted model in each aggregation level.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Note on optimal model paramaters: This implementation of MAPA for intermittent demand data optimises smoothing parameters for all Croston's method, SBA and SES. Optimisation is based on:
</p>
<p>N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>
<p>Note on parallelisation: Option paral=2 incurs substantial overheads. For a single time series using no parallelisation seems to be as good. If imapa is to be applied on multiple series, then initialising the parallel cluster externally and using the option paral=1 is advised. 
</p>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>Optimisation of the methods described in:
F. Petropoulos and N. Kourentzes, 2015, Forecast Combinations for Intermittent Demand, Journal of Operational Research Society. <a href="https://link.springer.com/article/10.1057/jors.2014.62">https://link.springer.com/article/10.1057/jors.2014.62</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/05/13/forecast-combinations-for-intermittent-demand/">https://kourentzes.com/forecasting/2014/05/13/forecast-combinations-for-intermittent-demand/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+sexsm">sexsm</a></code>, <code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+idclass">idclass</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>imapa(ts.data1,outplot=1)
</code></pre>

<hr>
<h2 id='sexsm'>Simple exponential smoothing</h2><span id='topic+sexsm'></span>

<h3>Description</h3>

<p>Simple exponential smoothing with fixed or optimised parameters.</p>


<h3>Usage</h3>

<pre><code class='language-R'>sexsm(data,h=10,w=NULL,init=c("mean","naive"),
      cost=c("mar","msr","mae","mse"),init.opt=c(TRUE,FALSE),
      outplot=c(FALSE,TRUE),opt.on=c(FALSE,TRUE),
      na.rm=c(FALSE,TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sexsm_+3A_data">data</code></td>
<td>

<p>Intermittent demand time series.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_h">h</code></td>
<td>

<p>Forecast horizon.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_w">w</code></td>
<td>

<p>Smoothing parameter. If w == NULL then parameter is optimised.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_init">init</code></td>
<td>

<p>Initial values for demand and intervals. This can be: 1. x - Numeric value for the initial level; 2. &quot;naive&quot; - Initial value is a naive forecast; 3. &quot;mean&quot;  - Initial value is equal to the average of data.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_cost">cost</code></td>
<td>

<p>Cost function used for optimisation: 1. &quot;mar&quot; - Mean Absolute Rate; 2. &quot;msr&quot; - Mean Squared Rate; 3. &quot;mae&quot; - Mean Absolute Error; 4. &quot;mse&quot; - Mean Squared Error.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_init.opt">init.opt</code></td>
<td>

<p>If init.opt==TRUE then initial values are optimised.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_outplot">outplot</code></td>
<td>

<p>If TRUE a plot of the forecast is provided.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_opt.on">opt.on</code></td>
<td>

<p>This is meant to use only by the optimisation function. When opt.on is TRUE then no checks on inputs are performed.
</p>
</td></tr>
<tr><td><code id="sexsm_+3A_na.rm">na.rm</code></td>
<td>

<p>A logical value indicating whether NA values should be remove using the method.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>Type of model fitted.</p>
</td></tr>
<tr><td><code>frc.in</code></td>
<td>
<p>In-sample demand.</p>
</td></tr>
<tr><td><code>frc.out</code></td>
<td>
<p>Out-of-sample demand.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>Smoothing parameter.</p>
</td></tr>
<tr><td><code>initial</code></td>
<td>
<p>Initialisation value.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>Optimisation of the method described in:
N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+crost.ma">crost.ma</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sexsm(ts.data1,outplot=TRUE)
</code></pre>

<hr>
<h2 id='simID'>Simulator for Intermittent Demand Series</h2><span id='topic+simID'></span>

<h3>Description</h3>

<p>Simulator of Intermittent Demand Series.</p>


<h3>Usage</h3>

<pre><code class='language-R'>simID(n=1, obs=60, idi=2, cv2=0.5, level=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simID_+3A_n">n</code></td>
<td>

<p>Number of time series to be generated.
</p>
</td></tr>
<tr><td><code id="simID_+3A_obs">obs</code></td>
<td>

<p>Number of observation of each series.
</p>
</td></tr>
<tr><td><code id="simID_+3A_idi">idi</code></td>
<td>

<p>Average intermittent demand interval of each series.
</p>
</td></tr>
<tr><td><code id="simID_+3A_cv2">cv2</code></td>
<td>

<p>Squared coefficient of variation of the non-zero demands.
</p>
</td></tr>
<tr><td><code id="simID_+3A_level">level</code></td>
<td>

<p>Mean level of the non-zero demands. If NULL, then a random level in [10,100] is selected.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>series</code></td>
<td>
<p>A data matrix containing all the generated series.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Fotios Petropoulos
</p>


<h3>References</h3>

<p>This simulator assumes that non-zero demand arrivals follow a bernoulli distribution and the non-zero demands a negative binomial distribution.
Petropoulos F., Makridakis S., Assimakopoulos V. &amp; Nikolopoulos K. (2014) &quot;'Horses for Courses' in demand forecasting&quot;, European Journal of Operational Research, Vol. 237, No. 1, pp. 152-163
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+tsb">tsb</a></code>, <code><a href="#topic+idclass">idclass</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dataset &lt;- t(simID(100,60,idi=1.15,cv2=0.3))
</code></pre>

<hr>
<h2 id='ts.data1'>Example intermittent demand series - 'ts.data1'</h2><span id='topic+ts.data1'></span>

<h3>Description</h3>

<p>Example intermittent demand series - 'ts.data1'.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ts.data1</code></pre>


<h3>Format</h3>

<p>Time series data</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(ts.data1)
</code></pre>

<hr>
<h2 id='ts.data2'>Example intermittent demand series - 'ts.data2'</h2><span id='topic+ts.data2'></span>

<h3>Description</h3>

<p>Example intermittent demand series - 'ts.data2'.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ts.data2</code></pre>


<h3>Format</h3>

<p>Time series data</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot(ts.data2)
</code></pre>

<hr>
<h2 id='tsb'>TSB (Teunter-Syntetos-Babai) method</h2><span id='topic+tsb'></span>

<h3>Description</h3>

<p>TSB intermittent demand method with fixed or optimised parameters.</p>


<h3>Usage</h3>

<pre><code class='language-R'>tsb(data,h=10,w=NULL,init=c("mean","naive"),
    cost=c("mar","msr","mae","mse"),
    init.opt=c(TRUE,FALSE),outplot=c(FALSE,TRUE),
    opt.on=c(FALSE,TRUE),na.rm=c(FALSE,TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tsb_+3A_data">data</code></td>
<td>

<p>Intermittent demand time series.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_h">h</code></td>
<td>

<p>Forecast horizon.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_w">w</code></td>
<td>

<p>Smoothing parameters. If w == NULL then parameters are optimised. Otherwise first parameter is for demand and second for demand probability. 
</p>
</td></tr>
<tr><td><code id="tsb_+3A_init">init</code></td>
<td>

<p>Initial values for demand and intervals. This can be: 1. c(z,x)  - Vector of two scalars, where first is initial demand and second is initial interval; 2. &quot;naive&quot; - Initial demand is first non-zero demand and initial demand probability is again the first one; 3. &quot;mean&quot;  - Same as &quot;naive&quot;, but initial demand probability is the mean of all in sample probabilities.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_cost">cost</code></td>
<td>

<p>Cost function used for optimisation: 1. &quot;mar&quot; - Mean Absolute Rate; 2. &quot;msr&quot; - Mean Squared Rate; 3. &quot;mae&quot; - Mean Absolute Error; 4. &quot;mse&quot; - Mean Squared Error.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_init.opt">init.opt</code></td>
<td>

<p>If init.opt==TRUE then initial values are optimised.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_outplot">outplot</code></td>
<td>

<p>If TRUE a plot of the forecast is provided.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_opt.on">opt.on</code></td>
<td>

<p>This is meant to use only by the optimisation function. When opt.on is TRUE then no checks on inputs are performed.
</p>
</td></tr>
<tr><td><code id="tsb_+3A_na.rm">na.rm</code></td>
<td>

<p>A logical value indicating whether NA values should be remove using the method.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>model</code></td>
<td>
<p>Type of model fitted.</p>
</td></tr>
<tr><td><code>frc.in</code></td>
<td>
<p>In-sample demand rate.</p>
</td></tr>
<tr><td><code>frc.out</code></td>
<td>
<p>Out-of-sample demand rate.</p>
</td></tr>
<tr><td><code>weights</code></td>
<td>
<p>Smoothing parameters for demand and demand probability.</p>
</td></tr>
<tr><td><code>initial</code></td>
<td>
<p>Initialisation values for demand and demand probability smoothing.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nikolaos Kourentzes
</p>


<h3>References</h3>

<p>Optimisation of the method described in:
N. Kourentzes, 2014, On intermittent demand model optimisation and selection, International Journal of Production Economics, 156: 180-190. doi: <a href="https://doi.org/10.1016/j.ijpe.2014.06.007">10.1016/j.ijpe.2014.06.007</a>.
</p>
<p><a href="https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/">https://kourentzes.com/forecasting/2014/06/11/on-intermittent-demand-model-optimisation-and-selection/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+crost">crost</a></code>, <code><a href="#topic+sexsm">sexsm</a></code>, <code><a href="#topic+crost.ma">crost.ma</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tsb(ts.data1,outplot=TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

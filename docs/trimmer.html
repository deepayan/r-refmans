<!DOCTYPE html><html><head><title>Help for package trimmer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {trimmer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#adjust_candidates'><p>Adjust Data Table with Candidate Elements for Elimination</p></a></li>
<li><a href='#convert_idx_to_name'><p>Convert Numbered Index to Named Index of List Element</p></a></li>
<li><a href='#fix_undefined_global_vars'><p>Fix til at undgå R CMD check notes for &quot;no visible binding for global variable&quot;</p></a></li>
<li><a href='#get_results_for_object'><p>Compute Results From Function Call with Object as Argument</p></a></li>
<li><a href='#pf_obj_size'><p>Convert Size in Bytes to Print Friendly String</p></a></li>
<li><a href='#trim'><p>Trim an R Object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Trim an Object</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A lightweight toolkit to reduce the size of a list object. The
    object is minimized by recursively removing elements from the object 
    one-by-one. The process is constrained by a reference function call
    specified by the user, where the target object is given as an argument. 
    The procedure will not allow elements to be removed from the object, that 
    will cause results from the function call to diverge from the function 
    call with the original object.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.1.0), knitr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, crayon, cli, pryr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-12-18 19:39:56 UTC; Lars</td>
</tr>
<tr>
<td>Author:</td>
<td>Lars Kjeldgaard [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lars Kjeldgaard &lt;lars_kjeldgaard@hotmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-12-18 22:30:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='adjust_candidates'>Adjust Data Table with Candidate Elements for Elimination</h2><span id='topic+adjust_candidates'></span>

<h3>Description</h3>

<p>Adjusts positions of all candidates for elimination in data.table after 
removing a candidate (due to the fact, that the positions may shift).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjust_candidates(cand, cand_top_idx)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adjust_candidates_+3A_cand">cand</code></td>
<td>
<p><code>data.table</code> with candidates for elimination given by their
position indices.</p>
</td></tr>
<tr><td><code id="adjust_candidates_+3A_cand_top_idx">cand_top_idx</code></td>
<td>
<p><code>numeric</code> position index of candidate to be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.table</code> candidates after any adjustments to position 
indices of candidates.
</p>

<hr>
<h2 id='convert_idx_to_name'>Convert Numbered Index to Named Index of List Element</h2><span id='topic+convert_idx_to_name'></span>

<h3>Description</h3>

<p>Convert Numbered Index to Named Index of List Element
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_idx_to_name(vec, obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_idx_to_name_+3A_vec">vec</code></td>
<td>
<p><code>numeric</code> numeric index of list element.</p>
</td></tr>
<tr><td><code id="convert_idx_to_name_+3A_obj">obj</code></td>
<td>
<p><code>list</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> named index of list element.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- list(a = list(b = list(c = 3, d = 5), e = c(2,4)))
num_idx &lt;- c(1,1,2)
convert_idx_to_name(num_idx, d)
</code></pre>

<hr>
<h2 id='fix_undefined_global_vars'>Fix til at undgå R CMD check notes for &quot;no visible binding for global variable&quot;</h2><span id='topic+fix_undefined_global_vars'></span>

<h3>Description</h3>

<p>Dette script gør det muligt at referere til kolonner i data frames ved hjælp
af Non Standard Evaluation (NSE) i databehandlingspakker som data.table og
dplyr, uden at dette medfører R CMD check notes angående &quot;no visible binding
for global variable&quot;. Navnene på de variable, der refereres til ved hjælp af
NSE, skal blot angives i en vektor til funktionen globalVariables() nedenfor.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fix_undefined_global_vars()
</code></pre>


<h3>Details</h3>

<p>Dette er den anbefalede løsning fra CRAN.
</p>

<hr>
<h2 id='get_results_for_object'>Compute Results From Function Call with Object as Argument</h2><span id='topic+get_results_for_object'></span>

<h3>Description</h3>

<p>Compute Results From Function Call with Object as Argument
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_results_for_object(obj, obj_arg_name, fun, ...,
  tolerate_warnings = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_results_for_object_+3A_obj">obj</code></td>
<td>
<p><code>list</code> R object to be trimmed. _MUST_ inherit from the
'list' class.</p>
</td></tr>
<tr><td><code id="get_results_for_object_+3A_obj_arg_name">obj_arg_name</code></td>
<td>
<p><code>character</code> what is the name of the parameter, that
'obj' must be set to, when invoking 'fun'. Defaults to NULL, in which case
the function assumes, that the 'obj' matches the first parameter of 'fun'.</p>
</td></tr>
<tr><td><code id="get_results_for_object_+3A_fun">fun</code></td>
<td>
<p><code>function</code> function that must return the same results, when
invoked with 'obj' both before and after trimming.</p>
</td></tr>
<tr><td><code id="get_results_for_object_+3A_...">...</code></td>
<td>
<p>other (named) arguments for 'fun'.</p>
</td></tr>
<tr><td><code id="get_results_for_object_+3A_tolerate_warnings">tolerate_warnings</code></td>
<td>
<p><code>logical</code> tolerate warnings (=TRUE) Or
not (=FALSE) from function call results?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results from function call.
</p>

<hr>
<h2 id='pf_obj_size'>Convert Size in Bytes to Print Friendly String</h2><span id='topic+pf_obj_size'></span>

<h3>Description</h3>

<p>Convert Size in Bytes to Print Friendly String
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pf_obj_size(x, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pf_obj_size_+3A_x">x</code></td>
<td>
<p><code>numeric</code> object size in digits.</p>
</td></tr>
<tr><td><code id="pf_obj_size_+3A_digits">digits</code></td>
<td>
<p><code>numeric</code> number of digits you want.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>character</code> priend friendly string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pf_obj_size(10)
pf_obj_size(1010)
pf_obj_size(2e06)
</code></pre>

<hr>
<h2 id='trim'>Trim an R Object</h2><span id='topic+trim'></span>

<h3>Description</h3>

<p>Trims an R object whilst presuming the results of a given function call,
where the R object is given as an argument. One popular example could be 
trimming an R model object whilst presuming the results of the 
<code><a href="stats.html#topic+predict">predict</a></code> function on a sample of data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trim(obj, obj_arg_name = NULL, fun = predict, size_target = 0,
  tolerate_warnings = FALSE, verbose = TRUE, dont_touch = list(),
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="trim_+3A_obj">obj</code></td>
<td>
<p><code>list</code> R object to be trimmed. _MUST_ inherit from the
'list' class.</p>
</td></tr>
<tr><td><code id="trim_+3A_obj_arg_name">obj_arg_name</code></td>
<td>
<p><code>character</code> what is the name of the parameter, that
'obj' must be set to, when invoking 'fun'. Defaults to NULL, in which case
the function assumes, that the 'obj' matches the first parameter of 'fun'.</p>
</td></tr>
<tr><td><code id="trim_+3A_fun">fun</code></td>
<td>
<p><code>function</code> function that must return the same results, when
invoked with 'obj' both before and after trimming.</p>
</td></tr>
<tr><td><code id="trim_+3A_size_target">size_target</code></td>
<td>
<p><code>numeric</code> desired maximum size in _MegaBytes_ of 
object after trimming has been conducted. When this size is achieved, 
the trimming stops. Defaults to 0, in which case trimming continues, until
no further trimming can be done without breaking results from 'fun'.</p>
</td></tr>
<tr><td><code id="trim_+3A_tolerate_warnings">tolerate_warnings</code></td>
<td>
<p><code>logical</code> tolerate warnings (=TRUE) Or
not (=FALSE) from function call results?</p>
</td></tr>
<tr><td><code id="trim_+3A_verbose">verbose</code></td>
<td>
<p><code>logical</code> print messages?</p>
</td></tr>
<tr><td><code id="trim_+3A_dont_touch">dont_touch</code></td>
<td>
<p><code>list</code> list with name indices of elements, that must 
not be removed from object by trimming procedure.</p>
</td></tr>
<tr><td><code id="trim_+3A_...">...</code></td>
<td>
<p>other (named) arguments for 'fun'.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># get training data for predictive model.
trn &lt;- datasets::mtcars

# estimate model.
mdl &lt;- lm(mpg ~ ., data = trn)
trim(obj = mdl, obj_arg_name = "object", fun = predict, newdata = trn)
trim(obj = mdl, obj_arg_name = "object", fun = predict, newdata = trn,
dont_touch = list(c("model"), c("qr","tol")))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package patientProfilesVis</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {patientProfilesVis}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addReferenceLinesProfilePlot'><p>Add reference lines to a profile plot</p></a></li>
<li><a href='#checkTimeExpand'><p>Check if some of the modules are time expanded,</p>
and extract maximum time expand for each module.</a></li>
<li><a href='#checkTimeTrans'><p>Check if the subject profiles are time transformed,</p>
and if some of the plots to align (with specified <code>timeLim</code>)
have compatible time transformation alignments.</a></li>
<li><a href='#checkVar'><p>Check if specified variable(s) are present in the data.</p></a></li>
<li><a href='#combineVerticallyGGplot'><p>Combine vertically multiple <code>ggplot</code>.</p></a></li>
<li><a href='#convertAesVar'><p>Convert aesthetic variable for patient profile visualization.</p></a></li>
<li><a href='#countNLines'><p>Count number of lines ('\n' character) per character in a vector</p></a></li>
<li><a href='#createSubjectProfileReport'><p>Create subject profile report.</p></a></li>
<li><a href='#defineIndex'><p>Define LaTeX index based on specified variable(s)</p>
of the dataset</a></li>
<li><a href='#filterData'><p>Filter a dataset for records of interest,</p>
for use in the patient profiles.</a></li>
<li><a href='#filterMissingInVar'><p>Filter missing records in data in the time and y variables,</p>
with informative message.</a></li>
<li><a href='#formatParamVarTextPlot'><p>Format text variables for the subject profile text plotting function.</p></a></li>
<li><a href='#formatTimeInterval'><p>Set missing start/end time variable in the data.</p></a></li>
<li><a href='#formatTimeLim'><p>Format specified <code>timeLim</code>.</p></a></li>
<li><a href='#getAesScaleManual'><p>Get custom 'scale_[type]_manual' function</p></a></li>
<li><a href='#getColorPalettePatientProfile'><p>Get a color palette for patient profile</p>
visualizations.</a></li>
<li><a href='#getMaxNLinesCombinePlot'><p>Get maximum number of lines of a 'combined plot'</p>
for a specific document</a></li>
<li><a href='#getNLinesLabel'><p>Get number of lines for specific label either</p>
from a <code>ggplot2</code> object via <code>gg</code>
or from the label  via <code>value</code></a></li>
<li><a href='#getNLinesLegend'><p>Get number of lines in the legend,</p>
either from directly the <code>ggplot2</code> object,
or from the values of the legend (<code>legendValues</code>)
and title (<code>legendTitle</code>)</a></li>
<li><a href='#getNLinesSubjectProfile'><p>Get approximately the number of 'lines' in the vertical direction</p>
of a subject profile.</a></li>
<li><a href='#getOptimalColWidth'><p>Get optimal column widths, based on the minimum word size</p>
and median number of characters in each column.</a></li>
<li><a href='#getPageVar'><p>Get variable with page of the plot,</p>
used for automatic paging of a plot</a></li>
<li><a href='#getPathTemplate'><p>Get path of the report template</p>
in the <code>patientProfilesVis</code> package</a></li>
<li><a href='#getShapePalettePatientProfile'><p>Get a shape palette for patient profile</p>
visualizations.</a></li>
<li><a href='#getSplitVectorByInt'><p>Split/combine a vector of size(s) to have a fixed combined size</p></a></li>
<li><a href='#getTimeLimSubjectProfilePlots'><p>Get the limits to set for the subject profile plots,</p>
depending on the alignment policy set.</a></li>
<li><a href='#getTimeTrans'><p>Get useful transformation for the time variable</p>
in patient profiles.</a></li>
<li><a href='#getWidthPlot'><p>Get width for a plot for a certain page layout</p></a></li>
<li><a href='#interactionWithMissing'><p>Get interaction variable between different variables.</p></a></li>
<li><a href='#isSubjectProfileTimeVariant'><p>Check if the all profile(s) is/are 'time-variant',</p>
so not a subject profile 'text' module or empty plot</a></li>
<li><a href='#patientProfilesVis-common-args'><p>Arguments used across the functions of the patientProfilesVis package.</p></a></li>
<li><a href='#patientProfilesVis-palette'><p>Parameters for all patient profiles visualization palette functions.</p></a></li>
<li><a href='#prepareSubjectProfile'><p>prepare list of subject profile (s) to be combined with the <code>combineVerticallyGGplot</code></p></a></li>
<li><a href='#sortSubjects'><p>Sort subjects based on a specified dataset/variable.</p></a></li>
<li><a href='#subjectProfileCombine'><p>Combine subject profile plots.</p></a></li>
<li><a href='#subjectProfileEventPlot'><p>Visualize events in subject profiles, so</p>
event with a single time.</a></li>
<li><a href='#subjectProfileExport'><p>Create report</p></a></li>
<li><a href='#subjectProfileIntervalPlot'><p>Visualize time interval in subject profiles,</p>
so event with a start and end time.</a></li>
<li><a href='#subjectProfileLinePlot'><p>Visualize subject profiles of the evolution of</p>
continuous parameters versus time (spaghetti plot).</a></li>
<li><a href='#subjectProfileReportFormat'><p>Get list with format specification for subject profile report.</p></a></li>
<li><a href='#subjectProfileTextPlot'><p>Visualize text-information in subject profiles.</p></a></li>
<li><a href='#subjectProfileTheme'><p>Custom <code>theme</code> for subject profile plot.</p>
Currently classic dark-on-light ggplot2 theme with alternated
grey color for vertical grid lines</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Visualization of Patient Profiles</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.9</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-18</td>
</tr>
<tr>
<td>Description:</td>
<td>Creation of patient profile visualizations for
  exploration, diagnostic or monitoring purposes during a clinical trial.
  These static visualizations display a patient-specific overview
  of the evolution during the trial time frame of 
  parameters of interest (as laboratory, ECG, vital signs),
  presence of adverse events, exposure to a treatment; 
  associated with metadata patient information, 
  as demography, concomitant medication.
  The visualizations can be tailored for specific domain(s) or endpoint(s) of interest.
  Visualizations are exported into patient profile report(s)
  or can be embedded in custom report(s).</td>
</tr>
<tr>
<td>Imports:</td>
<td>clinUtils, ggplot2 (&ge; 3.0.0), plyr, cowplot, tools, reshape2,
knitr, grid, stringr, parallel, gridExtra, scales, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>pander, shiny, testthat, grDevices, rmarkdown, gtable,
pdftools, viridisLite</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/openanalytics/patientProfilesVis">https://github.com/openanalytics/patientProfilesVis</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/openanalytics/patientProfilesVis/issues">https://github.com/openanalytics/patientProfilesVis/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>latex, cairo (for report creation)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-18 07:17:56 UTC; root</td>
</tr>
<tr>
<td>Author:</td>
<td>Laure Cougnaud [aut, cre],
  Margaux Faes [rev] (tests),
  Open Analytics [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Laure Cougnaud &lt;laure.cougnaud@openanalytics.eu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-18 09:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addReferenceLinesProfilePlot'>Add reference lines to a profile plot</h2><span id='topic+addReferenceLinesProfilePlot'></span>

<h3>Description</h3>

<p>Add reference lines to a profile plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addReferenceLinesProfilePlot(
  gg,
  subjectVar = "USUBJID",
  refLines = NULL,
  refLinesData = NULL,
  refLinesTimeVar = NULL,
  refLinesLabelVar = NULL,
  refLinesColor = "black",
  refLinesLinetype = "dotted",
  timeLim = NULL,
  addLabel = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_gg">gg</code></td>
<td>
<p><code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> with
a subject profile plot for a specific subject (and page)
(subset of the output of the <code>subjectProfile[X]Plot</code>)</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_reflines">refLines</code></td>
<td>
<p>(optional) nested list with details for reference line(s).
Each sublist contains:
</p>

<ul>
<li><p>(required) 'label': string with label for the reference line
</p>
</li>
<li><p>(required) 'time': unique time (x) coordinate for the reference line
</p>
</li>
<li><p>(optional) 'color': color for the reference line,
'black' by default
</p>
</li>
<li><p>(optional) 'linetype': linetype for the reference line,
'dotted' by default
</p>
</li></ul>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_reflinesdata">refLinesData</code></td>
<td>
<p>data.frame with data from which the reference line(s) should be extracted</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_reflinestimevar">refLinesTimeVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with time for reference line(s)</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_reflineslabelvar">refLinesLabelVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with label for reference line(s)</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_reflinescolor">refLinesColor</code></td>
<td>
<p>vector of length 1 with default color for reference line(s)</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_reflineslinetype">refLinesLinetype</code></td>
<td>
<p>vector of length 1 with default linetype for reference line(s)</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_timelim">timeLim</code></td>
<td>
<p>vector of length 2 with time limits.
This is used to set the limits to the plot
containing the reference lines labels (if requested).</p>
</td></tr>
<tr><td><code id="addReferenceLinesProfilePlot_+3A_addlabel">addLabel</code></td>
<td>
<p>logical, if TRUE (FALSE by default) add the label of the reference line(s) at the bottom of the plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>addLabel</code> is:
</p>
 
<ul>
<li><p><code>TRUE</code>: list with:
</p>

<ul>
<li><p>'gg': <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> plot with reference lines
</p>
</li>
<li><p>'ggRefLines': <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> plot containing only 
the labels at the specified position
</p>
</li></ul>

</li>
<li><p><code>FALSE</code>: <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> plot with reference lines
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='checkTimeExpand'>Check if some of the modules are time expanded,
and extract maximum time expand for each module.</h2><span id='topic+checkTimeExpand'></span>

<h3>Description</h3>

<p>Check if some of the modules are time expanded,
and extract maximum time expand for each module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkTimeExpand(listPlots, timeLim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkTimeExpand_+3A_listplots">listPlots</code></td>
<td>
<p>list of plots</p>
</td></tr>
<tr><td><code id="checkTimeExpand_+3A_timelim">timeLim</code></td>
<td>
<p>time limits</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of time expand for each module
(named by <code>listPlots</code>)
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='checkTimeTrans'>Check if the subject profiles are time transformed,
and if some of the plots to align (with specified <code>timeLim</code>)
have compatible time transformation alignments.</h2><span id='topic+checkTimeTrans'></span>

<h3>Description</h3>

<p>Check if the subject profiles are time transformed,
and if some of the plots to align (with specified <code>timeLim</code>)
have compatible time transformation alignments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkTimeTrans(listPlots, timeLim = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkTimeTrans_+3A_listplots">listPlots</code></td>
<td>
<p>list of plots</p>
</td></tr>
<tr><td><code id="checkTimeTrans_+3A_timelim">timeLim</code></td>
<td>
<p>time limits</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of time transformation for each module
(named by <code>listPlots</code>)
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='checkVar'>Check if specified variable(s) are present in the data.</h2><span id='topic+checkVar'></span>

<h3>Description</h3>

<p>Check if specified variable(s) are present in the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkVar(var, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="checkVar_+3A_var">var</code></td>
<td>
<p>Character vector with variable(s)
of interest.</p>
</td></tr>
<tr><td><code id="checkVar_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No returned value,
an error message is triggered if some
variable(s) are not available in the data.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='combineVerticallyGGplot'>Combine vertically multiple <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>.</h2><span id='topic+combineVerticallyGGplot'></span>

<h3>Description</h3>

<p>If the different modules for a subject don't fit in the page, there
are automatically split in multiple pages.
The margins are extracted across plots to ensure that plots will
be probably aligned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combineVerticallyGGplot(
  listPlots,
  maxNLines = NULL,
  nCores = 1,
  shiny = FALSE,
  verbose = FALSE,
  reportPerSubject = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combineVerticallyGGplot_+3A_listplots">listPlots</code></td>
<td>
<p>listPlots per subject as created inside the
<code><a href="#topic+subjectProfileCombine">subjectProfileCombine</a></code> function.</p>
</td></tr>
<tr><td><code id="combineVerticallyGGplot_+3A_maxnlines">maxNLines</code></td>
<td>
<p>Maximum number of lines for a combined plot,
to fit in the page height. <br />
When the different visualizations
are combined for each subject, they will be allocated 
to different pages if the number of lines of the combined visualization
is higher than this number.</p>
</td></tr>
<tr><td><code id="combineVerticallyGGplot_+3A_ncores">nCores</code></td>
<td>
<p>Integer containing the number of cores used for the computation
(1 by default). If more than 1, computation is parallelized, in this case
the package <code>parallel</code> is required.</p>
</td></tr>
<tr><td><code id="combineVerticallyGGplot_+3A_shiny">shiny</code></td>
<td>
<p>logical, set to TRUE (FALSE by default) 
if the report is generated from a Shiny application.
Messages during report creation will be included in the Shiny interface,
and it will be mentioned at the end of the report.
In this case, the <code>shiny</code> package should be available.</p>
</td></tr>
<tr><td><code id="combineVerticallyGGplot_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE print messages during execution</p>
</td></tr>
<tr><td><code id="combineVerticallyGGplot_+3A_reportpersubject">reportPerSubject</code></td>
<td>
<p>Logical, if TRUE (FALSE by default)
export a subject profile report by subject.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list (by subject) of list (by page)
of <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='convertAesVar'>Convert aesthetic variable for patient profile visualization.</h2><span id='topic+convertAesVar'></span>

<h3>Description</h3>

<p>This converts the empty values (&rdquo;) to NA.
The variable is then converted as a factor.<br />
Missing values are also included in the 
levels of the factor, to ensure that missing values
are displayed in the legend of the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertAesVar(data, var)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convertAesVar_+3A_data">data</code></td>
<td>
<p>data.frame with data</p>
</td></tr>
<tr><td><code id="convertAesVar_+3A_var">var</code></td>
<td>
<p>variable of <code>data</code> with aesthetic</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated factor <code>var</code> variable
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='countNLines'>Count number of lines ('\n' character) per character in a vector</h2><span id='topic+countNLines'></span>

<h3>Description</h3>

<p>Count number of lines ('\n' character) per character in a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>countNLines(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="countNLines_+3A_x">x</code></td>
<td>
<p>character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric vector with same length than <code>x</code>
containing number of lines in each element
</p>


<h3>Author(s)</h3>

<p>Laure
</p>

<hr>
<h2 id='createSubjectProfileReport'>Create subject profile report.</h2><span id='topic+createSubjectProfileReport'></span>

<h3>Description</h3>

<p>By default all subjects available in at least one module of <code>listPlots</code> are considered.
If only a set of subjects are of interest, these are specified either:
</p>

<ul>
<li><p>directly with the subject IDs of interest via <code>subjectSubset</code>
</p>
</li>
<li><p>by extracting subjects with a specific value (<code>subjectSubsetValue</code>)
in a variable (<code>subjectSubsetVar</code>) in a specific dataset <code>subjectSubsetData</code>
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>createSubjectProfileReport(
  listPlots,
  timeLim = NULL,
  timeAlign = "all",
  timeAlignPerSubject = "none",
  refLines = NULL,
  refLinesData = NULL,
  refLinesTimeVar = NULL,
  refLinesLabelVar = NULL,
  bookmarkData = NULL,
  bookmarkVar = NULL,
  subjectSortData = bookmarkData,
  subjectSortVar = bookmarkVar,
  subjectSortDecreasing = FALSE,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSubsetData = NULL,
  subjectSubsetVar = NULL,
  subjectSubsetValue = NULL,
  subjectSample = NULL,
  seed = 123,
  subset = NULL,
  outputFile = "subjectProfile.pdf",
  exportFigures = FALSE,
  reportPerSubject = FALSE,
  exportBatchSize = NULL,
  labelVars = NULL,
  maxNLines = NULL,
  shiny = FALSE,
  formatReport = subjectProfileReportFormat(),
  verbose = FALSE,
  nCores = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="createSubjectProfileReport_+3A_listplots">listPlots</code></td>
<td>
<p>nested list of plots, as returned by the <code><a href="#topic+subjectProfileTextPlot">subjectProfileTextPlot</a></code>,
<code><a href="#topic+subjectProfileEventPlot">subjectProfileEventPlot</a></code>, <code><a href="#topic+subjectProfileIntervalPlot">subjectProfileIntervalPlot</a></code> or
<code><a href="#topic+subjectProfileLinePlot">subjectProfileLinePlot</a></code> functions.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_timelim">timeLim</code></td>
<td>
<p>Time limits, as a numeric vector of length 2,
or a list with time limits for each module,
or nested list with time limits for each module and subject.
If not specified, these are set to the time limits specified
when creating each module (stored in <code>attributes(x)$metaData$timeLim</code>)
otherwise to the range defined by <code>timeAlign</code> and <code>timeAlignPerSubject</code>.
Note that this doesn't modify the geoms of the plots, it only extends the
axis range. So for interval module(s) if the specified <code>timeLim</code>
is smaller than the time limits in the input plot, no arrows are created in case than
the time goes above/below specified <code>timeLim</code> (the segment is cut).</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_timealign">timeAlign</code></td>
<td>
<p>Character vector with time alignment across modules/subjects, either:
</p>

<ul>
<li><p>'all' (by default): all plots have the same time limits
</p>
</li>
<li><p>'none': each of the plot (module*subject) has its own time limits
</p>
</li>
<li><p>character vector with names of the modules which
should have the same time limits
(should correspond to the names of <code>listPlots</code>)
</p>
</li></ul>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_timealignpersubject">timeAlignPerSubject</code></td>
<td>
<p>Character vector, specifying if the plots
should be aligned (or not) across subjects
</p>

<ul>
<li><p>'none' (by default): all modules to align
have the same time limit across subjects
</p>
</li>
<li><p>'all': all modules to align
have different time limits per subject
</p>
</li>
<li><p>character vector with subset of the modules to align per subject
(should correspond to the names of <code>listPlots</code>)
</p>
</li></ul>

<p>Only the modules already specified in <code>timeAlign</code>
can be aligned by subject.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_reflines">refLines</code></td>
<td>
<p>(optional) nested list with details for reference line(s).
Each sublist contains:
</p>

<ul>
<li><p>(required) 'label': string with label for the reference line
</p>
</li>
<li><p>(required) 'time': unique time (x) coordinate for the reference line
</p>
</li>
<li><p>(optional) 'color': color for the reference line,
'black' by default
</p>
</li>
<li><p>(optional) 'linetype': linetype for the reference line,
'dotted' by default
</p>
</li></ul>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_reflinesdata">refLinesData</code></td>
<td>
<p>data.frame with data from which the reference line(s) should be extracted</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_reflinestimevar">refLinesTimeVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with time for reference line(s)</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_reflineslabelvar">refLinesLabelVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with label for reference line(s)</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_bookmarkdata">bookmarkData</code>, <code id="createSubjectProfileReport_+3A_bookmarkvar">bookmarkVar</code></td>
<td>
<p>Data.frame with data containing information for the index,
and character vector with corresponding variable(s) of interest.
An index will be created at the end of the subject profile report.<br />
The index contains a section per variable, referencing the 
pages of the report containing subject profiles
for each category/variable.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsortdata">subjectSortData</code></td>
<td>
<p>Data.frame with data containing information on how the subjects 
should be sorted (by default same as <code>bookmarkData</code>):
</p>

<ul>
<li><p>in the report, in case one single report is created for all subjects
</p>
</li>
<li><p>for the export, in case <code>reportPerSubject</code> is TRUE
</p>
</li></ul>

<p>This data should contain <code>subjectSortVar</code> and <code>subjectVar</code>.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsortvar">subjectSortVar</code></td>
<td>
<p>Character vector, 
variable(s) of <code>subjectSortData</code> indicating the order for the subjects in the report,
(by default same as <code>bookmarkVar</code>).</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsortdecreasing">subjectSortDecreasing</code></td>
<td>
<p>Logical, if TRUE (FALSE by default)
subjects are sorted based on decreasing order of <code>subjectSortVar</code>.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsubset">subjectSubset</code></td>
<td>
<p>subjectSubset (optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsubsetdata">subjectSubsetData</code></td>
<td>
<p>Data.frame used to select subset of subjects of interest.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsubsetvar">subjectSubsetVar</code></td>
<td>
<p>String with variable of <code>subjectSubsetData</code> 
that should be considered to filter subjects.
If not specified, all subjects available in <code>subjectSubsetData</code> are considered.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsubsetvalue">subjectSubsetValue</code></td>
<td>
<p>Character vector with value(s) of <code>subjectSubsetVar</code>
of interest to filter subjects on.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subjectsample">subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered in the specified subset dataset.
By default, all specified subjects are considered (set to NULL).</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_seed">seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_subset">subset</code></td>
<td>
<p>Character vector with subjects of interest 
(among names of each list in <code>listPlots</code>).</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_outputfile">outputFile</code></td>
<td>
<p>string, path to the output report</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_exportfigures">exportFigures</code></td>
<td>
<p>Logical, if TRUE (FALSE by default) the 
subject profile figures are also exported
in pdf format in a 'figures' folder.<br />
Figures are named as <code>[subjectID]-[page].pdf</code></p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_reportpersubject">reportPerSubject</code></td>
<td>
<p>Logical, if TRUE (FALSE by default)
export a subject profile report by subject.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_exportbatchsize">exportBatchSize</code></td>
<td>
<p>(optional) Integer, if specified, the
patient-profile reports are created by batch of this number of subjects.
This might speed up the export for a high number of subjects.
Only available if report is created by subject (<code>reportPerSubject</code> is TRUE)
and modules are not aligned across subjects (<code>timeAlignPerSubject</code> is: 'all').</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_maxnlines">maxNLines</code></td>
<td>
<p>Maximum number of lines for a combined plot,
to fit in the page height. <br />
When the different visualizations
are combined for each subject, they will be allocated 
to different pages if the number of lines of the combined visualization
is higher than this number.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_shiny">shiny</code></td>
<td>
<p>logical, set to TRUE (FALSE by default) 
if the report is generated from a Shiny application.
Messages during report creation will be included in the Shiny interface,
and it will be mentioned at the end of the report.
In this case, the <code>shiny</code> package should be available.</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE print messages during execution</p>
</td></tr>
<tr><td><code id="createSubjectProfileReport_+3A_ncores">nCores</code></td>
<td>
<p>Integer containing the number of cores used for the computation
(1 by default). If more than 1, computation is parallelized, in this case
the package <code>parallel</code> is required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path(s) of the report(s) is returned invisibly, and the
report is created at the location
specified by <code>outputFile</code>.<br />
If the report is created by subject, 
the name of the exported subject profile is built as:
<code>[filename]-[subjectID].pdf</code>, with [filename] extracted from
<code>outputFile</code>.
Space and platform-specific file separator are replaced by
a dash in the filename.<br />
If no patient profiles are available in the input,
nothing is returned and a warning is triggered.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='defineIndex'>Define LaTeX index based on specified variable(s)
of the dataset</h2><span id='topic+defineIndex'></span>

<h3>Description</h3>

<p>Define LaTeX index based on specified variable(s)
of the dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>defineIndex(subjects, data, var, subjectVar = "USUBJID", labelVars = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="defineIndex_+3A_subjects">subjects</code></td>
<td>
<p>vector with subject IDs (based on the <code>subjectVar</code> variable)</p>
</td></tr>
<tr><td><code id="defineIndex_+3A_data">data</code></td>
<td>
<p>data.frame with data containing information on which the index should be based</p>
</td></tr>
<tr><td><code id="defineIndex_+3A_var">var</code></td>
<td>
<p>variable(s) of <code>data</code> of interest for the index</p>
</td></tr>
<tr><td><code id="defineIndex_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="defineIndex_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with elements:
</p>

<ul>
<li><p>'indexMake': string with LaTeX code for creation of index, 
to be included directly with <code><a href="base.html#topic+cat">cat</a></code> in a knitr document
(two backslashes)

</p>
</li>
<li><p>'indexEntry': character vector, named with named with subject ID,
containing LaTeX code for index for each subject
specified in <code>subjects</code> parameter, to be included in a knitr document
as text (four backslashes)
</p>
</li>
<li><p>'indexPrint': string with LaTeX code for printing/inclusion of index, 
to be included directly with <code><a href="base.html#topic+cat">cat</a></code> in a knitr document
(two backslashes)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='filterData'>Filter a dataset for records of interest,
for use in the patient profiles.</h2><span id='topic+filterData'></span>

<h3>Description</h3>

<p>Data is filtered based on the following workflow:
</p>

<ol>
<li><p>The subset dataset (of <code>data</code> if not specified)
is filtered based on subject variable and value (if specified).

</p>
</li>
<li><p>If a external subset dataset is specified, only the subject IDs
of this filtered dataset are considered.
</p>
</li>
<li><p>The <code>data</code> is filtered based on the selected subjects,
from <code>subjectSubset</code> (if specified) or from step 2.
</p>
</li>
<li><p>The data is filtered based on a random selection of subjects, if
<code>subjectSample</code> is specified.
</p>
</li></ol>

<p>This filtering workflow is used for all subject profile visualization
functions of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterData(
  data,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterData_+3A_data">data</code></td>
<td>
<p>Data.frame with data</p>
</td></tr>
<tr><td><code id="filterData_+3A_subsetdata">subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br />
If not specified, <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="filterData_+3A_subsetvar">subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br />
If not specified, all records from the subset data are retained.</p>
</td></tr>
<tr><td><code id="filterData_+3A_subsetvalue">subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br />
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td></tr>
<tr><td><code id="filterData_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of data (and subset data) with subject ID.</p>
</td></tr>
<tr><td><code id="filterData_+3A_subjectsubset">subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td></tr>
<tr><td><code id="filterData_+3A_subjectsample">subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td></tr>
<tr><td><code id="filterData_+3A_seed">seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>possibly filtered dataset
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(clinUtils)

data(dataSDTMCDISCP01)
dataAll &lt;- dataSDTMCDISCP01

# keep only a subset of subjects
# (e.g. to visualize specified patient profiles
# before creating them for all subject)
filterData(
	data = dataAll$AE,
	subjectSample = 2
)

# filter based on specified variable/value:
# only adverse events possibly related
filterData(
	data = dataAll$AE,
	subsetVar = "AEREL",
	subsetValue = "POSSIBLE"
)

# filter based on a different dataset:
# keep only adverse events for subjects in a specific treatment arm
filterData(
	data = dataAll$AE,
	subsetData = dataAll$DM,
	subsetVar = "ACTARM",
	subsetValue = "Placebo"
)

# filter based on subjects of interest
filterData(
	data = dataAll$AE,
	subjectSubset = c("01-701-1148", "01-701-1211")
)

</code></pre>

<hr>
<h2 id='filterMissingInVar'>Filter missing records in data in the time and y variables,
with informative message.</h2><span id='topic+filterMissingInVar'></span>

<h3>Description</h3>

<p>Filter missing records in data in the time and y variables,
with informative message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterMissingInVar(
  data,
  var,
  varLab = getLabelVar(var, labelVars = labelVars),
  labelVars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterMissingInVar_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="filterMissingInVar_+3A_var">var</code></td>
<td>
<p>String with variable of interest.</p>
</td></tr>
<tr><td><code id="filterMissingInVar_+3A_varlab">varLab</code></td>
<td>
<p>String, label for <code>var</code>.</p>
</td></tr>
<tr><td><code id="filterMissingInVar_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Update data with filtered records +
message in the console.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatParamVarTextPlot'>Format text variables for the subject profile text plotting function.</h2><span id='topic+formatParamVarTextPlot'></span>

<h3>Description</h3>

<p>Text variables are wrapped across multiple lines if needed,
and optionally sorted according to the levels
of a grouping variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatParamVarTextPlot(
  data,
  paramVar = NULL,
  paramValueVar = NULL,
  paramValueLab = NULL,
  paramGroupVar = NULL,
  revert = FALSE,
  width = formatReport$yLabelWidth,
  widthValue = ifelse(formatReport$landscape, 240, 190),
  formatReport = subjectProfileReportFormat(),
  table = FALSE,
  colWidth = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatParamVarTextPlot_+3A_data">data</code></td>
<td>
<p>data.frame with data</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_paramvar">paramVar</code></td>
<td>
<p>string, variable of <code>data</code> with parameter</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_paramvaluevar">paramValueVar</code></td>
<td>
<p>string, variable of <code>data</code> containing the parameter value.</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_paramvaluelab">paramValueLab</code></td>
<td>
<p>Character vector with labels for <code>paramValueVar</code>.</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) character vector with variable(s) of 
<code>data</code> with grouping.<br /> If specified, the parameters will be 
grouped by this(these) variable(s) in the y-axis.</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_revert">revert</code></td>
<td>
<p>logical, if TRUE revert the order of the levels of the variable</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_width">width</code></td>
<td>
<p>max number of characters in the <code>paramVar</code> parameter.</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_widthvalue">widthValue</code></td>
<td>
<p>max number of characters in the <code>paramValueVar</code> parameter.</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_table">table</code></td>
<td>
<p>Logical, if TRUE the <code>paramValueVar</code> variables
are displayed as table (so are not concatenated).</p>
</td></tr>
<tr><td><code id="formatParamVarTextPlot_+3A_colwidth">colWidth</code></td>
<td>
<p>Numeric vector with approximate
width of each parameter value column
for a table layout.<br />
For example in case two parameters are specified: 
<code>c(0.8, 0.2))</code> such as the first column
takes 80% of plot area, and the second column 20%.<br />
Note: columns can be slightly bigger if their content is 
larger than the specified width.
If not specified, column width is optimized
based on the max length of the character in each column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data</code> with reformatted <code>paramVar</code> and <code>paramValueVar</code> variables,
with additional attribute: <code>colWidth</code>.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p><a href="#topic+subjectProfileTextPlot">subjectProfileTextPlot</a>
</p>

<hr>
<h2 id='formatTimeInterval'>Set missing start/end time variable in the data.</h2><span id='topic+formatTimeInterval'></span>

<h3>Description</h3>

<p>Set missing start/end time variable in the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatTimeInterval(
  data,
  timeStartVar,
  timeStartLab = getLabelVar(timeStartVar, labelVars = labelVars),
  timeEndVar,
  timeEndLab = getLabelVar(timeEndVar, labelVars = labelVars),
  timeStartShapeVar = NULL,
  timeEndShapeVar = NULL,
  subjectVar = "USUBJID",
  timeLim = NULL,
  timeLimData = NULL,
  timeLimStartVar = NULL,
  timeLimStartLab = getLabelVar(timeLimStartVar, labelVars = labelVars),
  timeLimEndVar = NULL,
  timeLimEndLab = getLabelVar(timeLimEndVar, labelVars = labelVars),
  timeImpType = c("minimal", "data-based", "none"),
  labelVars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatTimeInterval_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timestartvar">timeStartVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with start of time interval.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timestartlab">timeStartLab</code></td>
<td>
<p>String, label for <code>timeStartVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timeendvar">timeEndVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with end of time interval.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timeendlab">timeEndLab</code></td>
<td>
<p>String, label for <code>timeEndVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timestartshapevar">timeStartShapeVar</code></td>
<td>
<p>(optional) String, variable of <code>data</code> 
used for the shape of the symbol displayed 
at the start of the time interval.<br />
If not specified, default shape palette is used,
see section 'Time interval representation'.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timeendshapevar">timeEndShapeVar</code></td>
<td>
<p>String, variable of <code>data</code> 
used for the shape of the symbol 
displayed at the end of the time interval.
If not specified, default shape palette is used,
see section 'Time interval representation'.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timelim">timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br />
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timelimdata">timeLimData</code></td>
<td>
<p>Data.frame with data used to impute time
in case some time records are missing in <code>data</code>, 
see section: 'Time interval representation'.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timelimstartvar">timeLimStartVar</code></td>
<td>
<p>String, variable of <code>timeLimData</code> with 
start of the time interval.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timelimstartlab">timeLimStartLab</code></td>
<td>
<p>String, label for <code>timeLimeStartVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timelimendvar">timeLimEndVar</code></td>
<td>
<p>String, variable of <code>timeLimData</code> with 
end of the time interval.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timelimendlab">timeLimEndLab</code></td>
<td>
<p>String, label for <code>timeLimEndVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_timeimptype">timeImpType</code></td>
<td>
<p>String with imputation type: 'minimal' (default),
'data-based' or 'none', see section: 'Time interval representation'.<br />
This imputation type is not used if a dataset used to impute time is 
specified.</p>
</td></tr>
<tr><td><code id="formatTimeInterval_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with:
</p>

<ul>
<li><p>'data': Data with:
</p>

<ul>
<li><p>imputed <code>timeStartVar</code> and <code>timeEndVar</code>
</p>
</li>
<li><p>new column 'timeStartStatus': 
character vector containing status of <code>timeStartVar</code> variable:
'Complete' or 'Missing start' or NA
</p>
</li>
<li><p>new column 'timeEndStatus': 
character vector containing status of <code>timeEndVar</code> variable:
'Complete' or 'Missing end' or NA
</p>
</li></ul>

</li>
<li><p>'timeLim': vector of length 2 with minimum/maximum time limits 
across subjects.
</p>
</li>
<li><p>'timeLimSpecified': vector of length 2 with time limits as specified 
by the user, either extracted from <code>timeLim</code> or from <code>timeLimData</code>.
If missing value within <code>timeLim</code>, the corresponding minimum/maximum
value in the (updated) data is used.
</p>
</li>
<li><p>'timeShapePalette': Named character vector with symbols for the 
different time status
</p>
</li>
<li><p>'caption': String with extra explanation concerning imputation that 
could be included in plot caption.
</p>
</li></ul>



<h3>Time interval representation</h3>

<p>In case the start or the end of the time interval contain missing values:
</p>

<ul>
<li><p>if a dataset (<code>timeLimData</code>), start (<code>timeLimStartVar</code>)
and end (<code>timeLimEndVar</code>) variables are specified: 
</p>

<ol>
<li><p>for each subject: 
</p>

<ul>
<li><p>the minimum and maximum time values across these specified time 
variables are extracted
</p>
</li>
<li><p>missing start values are replaced by the minimum time
</p>
</li>
<li><p>missing start values are replaced by the maximum time
</p>
</li></ul>

</li>
<li><p>if all values are missing for this subject, they are taken across subjects
</p>
</li></ol>

</li>
<li><p>otherwise, depending on the imputation type (<code>timeImpType</code>):
</p>

<ul>
<li><p>'minimal' (by default): 
</p>

<ul>
<li><p>if the start and the end of the interval are missing: 
no imputation is done, only the label is displayed
</p>
</li>
<li><p>if the start time is missing and the end time is not missing: 
start time is imputed with end time, and status is set to 'Missing start'
</p>
</li>
<li><p>if the end time is missing and the start time is not missing: 
end time is imputed with start time, and status is set to 'Missing end'
</p>
</li></ul>

</li>
<li><p>'data-based' (default in version &lt; 1.0.0): 
minimum/maximum values in the start/end time variables in the data are considered
for the specific subject (if available). If there are missing for a specific subject,
they are taken across subjects. If all time are missings, the range is set to 0 and Inf
</p>
</li>
<li><p>'none': no imputation is done
</p>
</li></ul>
</li></ul>

<p>The symbols displayed at the start and end of the interval are:
</p>

<ul>
<li><p>by default: 
</p>

<ul>
<li><p>a filled square labelled 'Complete' if the time is not missing
</p>
</li>
<li><p>a filled left-directed arrow in case of missing start time
</p>
</li>
<li><p>a filled right-directed arrow in case of missing end time
</p>
</li></ul>

</li>
<li><p>if the variable(s) used for the shape of the start or end 
of the interval are specified (via 
<code>timeStartShapeVar</code>/<code>timeEndShapeVar</code>): 
labels are based on these variables, and a standard shape palette is used
</p>
</li></ul>

<p>The time limits are the same across subjects, and set to:
</p>

<ul>
<li><p><code>timeLim</code> if specified
</p>
</li>
<li><p>maximum time range in <code>timeLimStartVar</code> and 
<code>timeLimEndVar</code> in <code>timeLimData</code> 
if specified
</p>
</li>
<li><p>the maximum range on the data obtained after imputation of missing 
values
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='formatTimeLim'>Format specified <code>timeLim</code>.</h2><span id='topic+formatTimeLim'></span>

<h3>Description</h3>

<p>In case one of the limits if missing,
the corresponding minimum/maximum across subjects is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatTimeLim(
  data,
  subjectVar = "USUBJID",
  timeStartVar,
  timeEndVar,
  timeLim = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatTimeLim_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="formatTimeLim_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="formatTimeLim_+3A_timestartvar">timeStartVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with start of time interval.</p>
</td></tr>
<tr><td><code id="formatTimeLim_+3A_timeendvar">timeEndVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with end of time interval.</p>
</td></tr>
<tr><td><code id="formatTimeLim_+3A_timelim">timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br />
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector of length 2 or list of such element
for each subject.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getAesScaleManual'>Get custom 'scale_[type]_manual' function</h2><span id='topic+getAesScaleManual'></span>

<h3>Description</h3>

<p>Get custom 'scale_[type]_manual' function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAesScaleManual(lab, palette, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getAesScaleManual_+3A_lab">lab</code></td>
<td>
<p>label for the scale (title of the legend)</p>
</td></tr>
<tr><td><code id="getAesScaleManual_+3A_palette">palette</code></td>
<td>
<p>named vector with color palette</p>
</td></tr>
<tr><td><code id="getAesScaleManual_+3A_type">type</code></td>
<td>
<p>string with type of scale, e.g. 'color'</p>
</td></tr>
</table>


<h3>Value</h3>

<p>output of the 'scale_[type]_manual' function
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getColorPalettePatientProfile'>Get a color palette for patient profile
visualizations.</h2><span id='topic+getColorPalettePatientProfile'></span>

<h3>Description</h3>

<p>This is a simple wrapper around 
<a href="clinUtils.html#topic+getColorPalette">getColorPalette</a>,
with different defaults:
</p>

<ul>
<li><p>inclusion of missing values
by default (<code>includeNA</code> set to <code>TRUE</code>)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>getColorPalettePatientProfile(..., includeNA = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getColorPalettePatientProfile_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="clinUtils.html#topic+getColorPalette">clinUtils::getColorPalette</a></code>
</p>

<dl>
<dt><code>n</code></dt><dd><p>Integer of length 1, number of elements in palette.</p>
</dd>
<dt><code>x</code></dt><dd><p>Vector with elements used for palette.
If factor, the levels are used, otherwise the unique elements of the vector.
Missing values are automatically removed, excepted if
<code>includeNA</code> is set to TRUE.</p>
</dd>
<dt><code>palette</code></dt><dd><p>A vector of custom colors,
or a function returning this vector from a specific
number of colors.<br />
Default is the the colorblind 
<code><a href="viridisLite.html#topic+viridis">viridis</a></code> color palette.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="getColorPalettePatientProfile_+3A_includena">includeNA</code></td>
<td>
<p>Logical (TRUE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of shapes,
named with the elements in <code>x</code> if <code>x</code> is specified.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p><a href="clinUtils.html#topic+getColorPalette">getColorPalette</a>
</p>

<hr>
<h2 id='getMaxNLinesCombinePlot'>Get maximum number of lines of a 'combined plot'
for a specific document</h2><span id='topic+getMaxNLinesCombinePlot'></span>

<h3>Description</h3>

<p>Get maximum number of lines of a 'combined plot'
for a specific document
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMaxNLinesCombinePlot(
  heightLineIn = subjectProfileReportFormat()$heightLineIn,
  margin = subjectProfileReportFormat()$margin,
  landscape = subjectProfileReportFormat()$landscape,
  aspectRatio = subjectProfileReportFormat()$aspectRatio
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMaxNLinesCombinePlot_+3A_heightlinein">heightLineIn</code></td>
<td>
<p>Numeric of length 1 with 
height of a line in inches, 0.2 by default.</p>
</td></tr>
<tr><td><code id="getMaxNLinesCombinePlot_+3A_margin">margin</code></td>
<td>
<p>Numeric of length 1, with margin in inches.</p>
</td></tr>
<tr><td><code id="getMaxNLinesCombinePlot_+3A_landscape">landscape</code></td>
<td>
<p>Logical, if TRUE the created report is 
in landscape format. FALSE by default, the report
is created in portrait format.</p>
</td></tr>
<tr><td><code id="getMaxNLinesCombinePlot_+3A_aspectratio">aspectRatio</code></td>
<td>
<p>Numeric of length 1 (0.75 by default)
with ratio between size of image in inches 
(derived from specified <code>margin</code>, <code>landscape</code> and <code>heightLineIn</code>)
and real size for exported image.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>numeric with maximum height for plot
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getNLinesLabel'>Get number of lines for specific label either
from a <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object via <code>gg</code>
or from the label  via <code>value</code></h2><span id='topic+getNLinesLabel'></span>

<h3>Description</h3>

<p>Get number of lines for specific label either
from a <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object via <code>gg</code>
or from the label  via <code>value</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNLinesLabel(
  gg,
  value,
  elName = c("x", "y", "title", "caption"),
  elNLines = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNLinesLabel_+3A_gg">gg</code></td>
<td>
<p><code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object</p>
</td></tr>
<tr><td><code id="getNLinesLabel_+3A_value">value</code></td>
<td>
<p>String with label value.</p>
</td></tr>
<tr><td><code id="getNLinesLabel_+3A_elname">elName</code></td>
<td>
<p>string with name of label to extract,
among 'x', 'y' and 'title'</p>
</td></tr>
<tr><td><code id="getNLinesLabel_+3A_elnlines">elNLines</code></td>
<td>
<p>(optional) Named integer with number of lines,
by default 2 for 'x'/'y', 3 for 'title' and 1 for caption.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer with (approximated) number of lines
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getNLinesLegend'>Get number of lines in the legend,
either from directly the <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object,
or from the values of the legend (<code>legendValues</code>)
and title (<code>legendTitle</code>)</h2><span id='topic+getNLinesLegend'></span>

<h3>Description</h3>

<p>Get number of lines in the legend,
either from directly the <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object,
or from the values of the legend (<code>legendValues</code>)
and title (<code>legendTitle</code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNLinesLegend(gg, values, title)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNLinesLegend_+3A_gg">gg</code></td>
<td>
<p><code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object</p>
</td></tr>
<tr><td><code id="getNLinesLegend_+3A_values">values</code></td>
<td>
<p>Vector with unique legend values</p>
</td></tr>
<tr><td><code id="getNLinesLegend_+3A_title">title</code></td>
<td>
<p>String, title for the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer with (approximated) number of lines
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getNLinesSubjectProfile'>Get approximately the number of 'lines' in the vertical direction
of a subject profile.</h2><span id='topic+getNLinesSubjectProfile'></span>

<h3>Description</h3>

<p>This is extracted from the presence of labels in the y-axis,
labels and title in the x-axis, general title and number of lines
in the legend.
Can be used to specify plot-specific height during the export.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getNLinesSubjectProfile(gg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getNLinesSubjectProfile_+3A_gg">gg</code></td>
<td>
<p><code><a href="ggplot2.html#topic+ggplot2">ggplot2</a></code> object,
subset of the output of the <code>subjectProfile[X]Plot</code> 
function, for a particular subject/module/page.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer with (approximated) number of lines
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getOptimalColWidth'>Get optimal column widths, based on the minimum word size
and median number of characters in each column.</h2><span id='topic+getOptimalColWidth'></span>

<h3>Description</h3>

<p>Get optimal column widths, based on the minimum word size
and median number of characters in each column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOptimalColWidth(
  data,
  widthValue = ifelse(formatReport$landscape, 240, 190),
  labels = NULL,
  formatReport = subjectProfileReportFormat()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getOptimalColWidth_+3A_data">data</code></td>
<td>
<p>Data.frame with columns for which optimal width should be extracted.</p>
</td></tr>
<tr><td><code id="getOptimalColWidth_+3A_widthvalue">widthValue</code></td>
<td>
<p>max number of characters in the <code>paramValueVar</code> parameter.</p>
</td></tr>
<tr><td><code id="getOptimalColWidth_+3A_labels">labels</code></td>
<td>
<p>(optional) Character vector with column labels for <code>data</code>.</p>
</td></tr>
<tr><td><code id="getOptimalColWidth_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric vector of <code>length(ncol(data))</code> with optimal widths.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getPageVar'>Get variable with page of the plot,
used for automatic paging of a plot</h2><span id='topic+getPageVar'></span>

<h3>Description</h3>

<p>Get variable with page of the plot,
used for automatic paging of a plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPageVar(
  data,
  var,
  typeVar = c("y", "panel"),
  formatReport = subjectProfileReportFormat(),
  title = TRUE,
  xLab = TRUE,
  caption = TRUE,
  paging = TRUE,
  table = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPageVar_+3A_data">data</code></td>
<td>
<p>data.frame with data</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_var">var</code></td>
<td>
<p>string, variable of <code>data</code> with variable for the y-axis</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_typevar">typeVar</code></td>
<td>
<p>string, type of the variable, either:
'y': the variable is displayed in the x-axis or 
'panel': the variable is displayed as separated facets.
This is used to compute height for each line of the plot.</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_title">title</code></td>
<td>
<p>logical, has the plot a title?</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_xlab">xLab</code></td>
<td>
<p>logical, has the plot a label for the x-axis?</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_caption">caption</code></td>
<td>
<p>logical, has the plot a caption?</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_paging">paging</code></td>
<td>
<p>Logical, if TRUE (by default), automatic 
paging is enabled, so patient profiles module too big to fit
in one page will span multiple pages.
Please note that the size of the graphic window 
(or report page) may need
to be re-sized in order that the plot fits.
<br />
If FALSE, the entire plot is included in one single page.</p>
</td></tr>
<tr><td><code id="getPageVar_+3A_table">table</code></td>
<td>
<p>Logical, if TRUE the <code>paramValueVar</code> variables
are displayed as table (so are not concatenated).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>input <code>data</code> with additional column 'pagePlot'
containing the page for the plot
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getPathTemplate'>Get path of the report template 
in the <code>patientProfilesVis</code> package</h2><span id='topic+getPathTemplate'></span>

<h3>Description</h3>

<p>Get path of the report template 
in the <code>patientProfilesVis</code> package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPathTemplate(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getPathTemplate_+3A_file">file</code></td>
<td>
<p>file name (with extension)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>String with path to the template in the 
installed <code>patientProfilesVis</code> package
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getShapePalettePatientProfile'>Get a shape palette for patient profile
visualizations.</h2><span id='topic+getShapePalettePatientProfile'></span>

<h3>Description</h3>

<p>This is a simple wrapper around 
<a href="clinUtils.html#topic+getShapePalette">getShapePalette</a>,
with different defaults:
</p>

<ul>
<li><p>inclusion of missing values by
default (<code>includeNA</code> set to <code>TRUE</code>)

</p>
</li>
<li><p>the extraction of shapes as text
by default (<code>asText</code> set to <code>TRUE</code>)

</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>getShapePalettePatientProfile(..., includeNA = TRUE, asText = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getShapePalettePatientProfile_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="clinUtils.html#topic+getShapePalette">clinUtils::getShapePalette</a></code>
</p>

<dl>
<dt><code>n</code></dt><dd><p>Integer of length 1, number of elements in palette.</p>
</dd>
<dt><code>x</code></dt><dd><p>Vector with elements used for palette.
If factor, the levels are used, otherwise the unique elements of the vector.
Missing values are automatically removed, excepted if
<code>includeNA</code> is set to TRUE.</p>
</dd>
<dt><code>palette</code></dt><dd><p>A vector of custom shapes,
or a function returning this vector from a specific
number of shapes.<br />
The vector should be a character if <code>asText</code> is set to TRUE.<br />
Default is the <code><a href="clinUtils.html#topic+clinShapes">clinShapes</a></code> shape palette,
or <code><a href="clinUtils.html#topic+clinShapesText">clinShapesText</a></code> if <code>asText</code> is set to TRUE.</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="getShapePalettePatientProfile_+3A_includena">includeNA</code></td>
<td>
<p>Logical (TRUE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
<tr><td><code id="getShapePalettePatientProfile_+3A_astext">asText</code></td>
<td>
<p>Logical (TRUE by default), should the palette
be expressed as integer (base R plot and ggplot2 compatible)
or in text format 
(e.g. required if combined with unicode symbols in ggplot2)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of shapes,
named with the elements in <code>x</code> if <code>x</code> is specified.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p><a href="clinUtils.html#topic+getShapePalette">getShapePalette</a>
</p>

<hr>
<h2 id='getSplitVectorByInt'>Split/combine a vector of size(s) to have a fixed combined size</h2><span id='topic+getSplitVectorByInt'></span>

<h3>Description</h3>

<p>Split/combine a vector of size(s) to have a fixed combined size
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSplitVectorByInt(sizes, max = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSplitVectorByInt_+3A_sizes">sizes</code></td>
<td>
<p>vector with size</p>
</td></tr>
<tr><td><code id="getSplitVectorByInt_+3A_max">max</code></td>
<td>
<p>integer with maximum combined size in output,
Inf by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of same length as <code>sizeVect</code>,
containing corresponding class
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getTimeLimSubjectProfilePlots'>Get the limits to set for the subject profile plots,
depending on the alignment policy set.</h2><span id='topic+getTimeLimSubjectProfilePlots'></span>

<h3>Description</h3>

<p>These limits are extracted from specified <code>timeLim</code> for each
module (stored in the <code>attributes()$metaData$timeLim</code>), 
and if empty for all modules: from the maximal range
of the x-coordinates across all plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTimeLimSubjectProfilePlots(
  listPlots,
  timeAlign = "all",
  timeAlignPerSubject = "none"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTimeLimSubjectProfilePlots_+3A_listplots">listPlots</code></td>
<td>
<p>list of list of <code>subjectProfile[X]Plot</code> plots</p>
</td></tr>
<tr><td><code id="getTimeLimSubjectProfilePlots_+3A_timealign">timeAlign</code></td>
<td>
<p>Character vector with time alignment across modules/subjects, either:
</p>

<ul>
<li><p>'all' (by default): all plots have the same time limits
</p>
</li>
<li><p>'none': each of the plot (module*subject) has its own time limits
</p>
</li>
<li><p>character vector with names of the modules which
should have the same time limits
(should correspond to the names of <code>listPlots</code>)
</p>
</li></ul>
</td></tr>
<tr><td><code id="getTimeLimSubjectProfilePlots_+3A_timealignpersubject">timeAlignPerSubject</code></td>
<td>
<p>Character vector, specifying if the plots
should be aligned (or not) across subjects
</p>

<ul>
<li><p>'none' (by default): all modules to align
have the same time limit across subjects
</p>
</li>
<li><p>'all': all modules to align
have different time limits per subject
</p>
</li>
<li><p>character vector with subset of the modules to align per subject
(should correspond to the names of <code>listPlots</code>)
</p>
</li></ul>

<p>Only the modules already specified in <code>timeAlign</code>
can be aligned by subject.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Time limits, as a numeric vector of length 2.
If time limits should be set by module, named list
with time limits by module.
If time limits should be set by module and subject, nested list
with time limits 1) by module 2) by subject.<br />
The names of the list contains the module/subject name extracted
from the names of <code>listPlots</code>.<br />
The time limits are only returned if they will need to be explicitly set
for a plot. Otherwise, NULL is returned.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='getTimeTrans'>Get useful transformation for the time variable
in patient profiles.</h2><span id='topic+getTimeTrans'></span>

<h3>Description</h3>

<p>Get useful transformation for the time variable
in patient profiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTimeTrans(
  type = c("asinh", "asinh-neg"),
  scale = 1,
  formatFct = prettyNum,
  n = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getTimeTrans_+3A_type">type</code></td>
<td>
<p>String with transformation type, either:
</p>

<ul>
<li><p>'asinh': hyperbolic arc-sine (<code><a href="base.html#topic+asinh">asinh</a></code>) transformation
</p>
</li>
<li><p>'asinh-neg': hyperbolic arc-sine transformation only for the negative 
values, otherwise linear scale
</p>
</li></ul>
</td></tr>
<tr><td><code id="getTimeTrans_+3A_scale">scale</code></td>
<td>
<p>Numeric vector of length 1 (1 by default)
with size of the linear region around 0, only used if in case 
<code>type</code> is: 'asinh'.<br />
If specified, the time variable is first scaled with: <code>x/scale</code>,
then transformed.</p>
</td></tr>
<tr><td><code id="getTimeTrans_+3A_formatfct">formatFct</code></td>
<td>
<p>function formatting the time axis breaks,
(<code><a href="base.html#topic+prettyNum">prettyNum</a></code> by default),
see <code>format</code> parameter of the <code><a href="scales.html#topic+trans_new">trans_new</a></code>.</p>
</td></tr>
<tr><td><code id="getTimeTrans_+3A_n">n</code></td>
<td>
<p>Integer of length 1 with number of breaks, 10 by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 transformation (see <code><a href="scales.html#topic+trans_new">trans_new</a></code>)
</p>


<h3>Author(s)</h3>

<p>Pieter-Jan Stiers, Laure Cougnaud
</p>

<hr>
<h2 id='getWidthPlot'>Get width for a plot for a certain page layout</h2><span id='topic+getWidthPlot'></span>

<h3>Description</h3>

<p>Get width for a plot for a certain page layout
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getWidthPlot(
  margin = subjectProfileReportFormat()$margin,
  landscape = subjectProfileReportFormat()$landscape,
  aspectRatio = subjectProfileReportFormat()$aspectRatio
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getWidthPlot_+3A_margin">margin</code></td>
<td>
<p>Numeric of length 1, with margin in inches.</p>
</td></tr>
<tr><td><code id="getWidthPlot_+3A_landscape">landscape</code></td>
<td>
<p>Logical, if TRUE the created report is 
in landscape format. FALSE by default, the report
is created in portrait format.</p>
</td></tr>
<tr><td><code id="getWidthPlot_+3A_aspectratio">aspectRatio</code></td>
<td>
<p>Numeric of length 1 (0.75 by default)
with ratio between size of image in inches 
(derived from specified <code>margin</code>, <code>landscape</code> and <code>heightLineIn</code>)
and real size for exported image.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>width for the plot in inches
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='interactionWithMissing'>Get interaction variable between different variables.</h2><span id='topic+interactionWithMissing'></span>

<h3>Description</h3>

<p>This ensures that missing values in one of the variable(s) don't propagate,
so the combined result will be: 'NA - a',
and that the levels of the combined vector
are sorted as the levels of the specified
variables (levels of the first variable varying first).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interactionWithMissing(data, vars, varSep = " - ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interactionWithMissing_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="interactionWithMissing_+3A_vars">vars</code></td>
<td>
<p>Character vector with variable(s) of interest.</p>
</td></tr>
<tr><td><code id="interactionWithMissing_+3A_varsep">varSep</code></td>
<td>
<p>String with separator to which the variable(s)
should be combined.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of length: <code>nrow(data)</code>,
with interaction vector.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='isSubjectProfileTimeVariant'>Check if the all profile(s) is/are 'time-variant',
so not a subject profile 'text' module or empty plot</h2><span id='topic+isSubjectProfileTimeVariant'></span>

<h3>Description</h3>

<p>Check if the all profile(s) is/are 'time-variant',
so not a subject profile 'text' module or empty plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isSubjectProfileTimeVariant(gg, empty = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isSubjectProfileTimeVariant_+3A_gg">gg</code></td>
<td>
<p>object of class <code>subjectProfileX</code> 
(and <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>) or potentially
nested list of such objects.</p>
</td></tr>
<tr><td><code id="isSubjectProfileTimeVariant_+3A_empty">empty</code></td>
<td>
<p>Logical, should empty subject profile be
considered as time-variant?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical, is plot time variant?
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='patientProfilesVis-common-args'>Arguments used across the functions of the patientProfilesVis package.</h2><span id='topic+patientProfilesVis-common-args'></span>

<h3>Description</h3>

<p>Arguments used across the functions of the patientProfilesVis package.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="patientProfilesVis-common-args_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_colorvar">colorVar</code></td>
<td>
<p>String, variable of <code>data</code> with color.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_colorlab">colorLab</code></td>
<td>
<p>String, label for <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_colorpalette">colorPalette</code></td>
<td>
<p>Named vector with color palette.
The variable should be named with the corresponding element
in <code>colorVar</code>.<br />
Colors can also be defined for the entire session, by setting
<code>options(patientProfilesVis.colors = X)</code> with X either:
</p>

<ul>
<li><p>a vector with colors
</p>
</li>
<li><p>a function returning a vector of colors for a specified number
of elements (<code>viridis</code> by default)
</p>
</li></ul>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_shapevar">shapeVar</code></td>
<td>
<p>String, variable of <code>data</code> for shape of the points.
By default, same as <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_shapelab">shapeLab</code></td>
<td>
<p>String, label for <code>shapeVar</code>.
Set by default to <code>colorLab</code> if <code>colorVar</code>
but not <code>shapeVar</code> is not specified.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_shapepalette">shapePalette</code></td>
<td>
<p>Named character vector with shape palette
for <code>shapeVar</code>.
The variable should be named with the corresponding element
in <code>shapeVar</code>.<br />
Shapes can also be defined for the entire session, by setting
<code>options(patientProfilesVis.shapes = X)</code> with X either:
</p>

<ul>
<li><p>a vector with shapes
</p>
</li>
<li><p>a function returning a vector of shapes for a specified number
of elements
</p>
</li></ul>

<p>Note it is advised to specify the shapes as character,
e.g. 'cross' instead of <code>4</code>, in case Unicode
symbols should also be used.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) Character vector with variable(s) 
of <code>data</code> based on which the data will be grouped and sorted 
(in the y-axis) in the plot.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_xlab">xLab</code></td>
<td>
<p>String, label for the x-axis.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_ylab">yLab</code></td>
<td>
<p>String, label for the y-axis.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_label">label</code></td>
<td>
<p>String, label for the visualization.
This label is stored as attributes of the output
from the <code>subjectProfile[]Plot</code> function.<br />
This label is displayed in the final profile
report, in case no data is available for
for a specific patient, as: 'No [label] available.'</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_title">title</code></td>
<td>
<p>String, title for the plot.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_timevar">timeVar</code></td>
<td>
<p>String, variable of <code>data</code> with time,
displayed in the x axis.<br />
Records with missing time are not displayed in the plot.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_timelab">timeLab</code></td>
<td>
<p>String, label for <code>timeVar</code>.
This is used in the message
indicating missing values for <code>timeVar</code>,
and for the default label of the x-axis.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_paramvar">paramVar</code></td>
<td>
<p>Character vector with variable(s) of <code>data</code> 
with parameters. Variable content is displayed in the y-axis.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_paramlab">paramLab</code></td>
<td>
<p>Named character vector, 
with label for the parameter variable(s) (<code>paramVar</code>).<br />
This is used to set the default title.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_timelim">timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br />
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_timetrans">timeTrans</code></td>
<td>
<p>transformation for the time variable, 
(see <code>trans</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>, and
<code><a href="scales.html#topic+trans_new">trans_new</a></code>).
For example, produced by the <code><a href="#topic+getTimeTrans">getTimeTrans</a></code> function.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_timeexpand">timeExpand</code></td>
<td>
<p>Vector of range expansion constants for the time axis
(see <code>expand</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>).</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_listplots">listPlots</code></td>
<td>
<p>Named list of subject profiles.
Each sublist contains subject profiles as returned
by the <code>subjectProfile[X]Plot</code> function, 
so nested by subject and page.
The names of the list should be unique, and
are used</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_alpha">alpha</code></td>
<td>
<p>Numeric with transparency, 1 by default.</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="patientProfilesVis-common-args_+3A_paramvarsep">paramVarSep</code></td>
<td>
<p>string with character(s) used to concatenate multiple 
<code>paramVar</code>, ' - ' by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, used for the documentation of 
the functions of the package.
</p>

<hr>
<h2 id='patientProfilesVis-palette'>Parameters for all patient profiles visualization palette functions.</h2><span id='topic+patientProfilesVis-palette'></span>

<h3>Description</h3>

<p>Parameters for all patient profiles visualization palette functions.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="patientProfilesVis-palette_+3A_includena">includeNA</code></td>
<td>
<p>Logical (TRUE by default), 
should NA elements be retained in the palette in case
<code>x</code> is specified?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, used for the documentation of 
the palette functions of the package.
</p>

<hr>
<h2 id='prepareSubjectProfile'>prepare list of subject profile (s) to be combined with the <code><a href="#topic+combineVerticallyGGplot">combineVerticallyGGplot</a></code></h2><span id='topic+prepareSubjectProfile'></span>

<h3>Description</h3>

<p>prepare list of subject profile (s) to be combined with the <code><a href="#topic+combineVerticallyGGplot">combineVerticallyGGplot</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepareSubjectProfile(
  ...,
  labels,
  timeLim = NULL,
  refLines = NULL,
  refLinesData = NULL,
  refLinesTimeVar = NULL,
  refLinesLabelVar = NULL,
  subjectVar = "USUBJID",
  timeTrans = NULL,
  timeExpand = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepareSubjectProfile_+3A_...">...</code></td>
<td>
<p>list of subject profiles (across modules)</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_labels">labels</code></td>
<td>
<p>string with labels for the plots</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_timelim">timeLim</code></td>
<td>
<p>time limits, as returned by the
<code><a href="#topic+getTimeLimSubjectProfilePlots">getTimeLimSubjectProfilePlots</a></code> function.</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_reflines">refLines</code></td>
<td>
<p>(optional) nested list with details for reference line(s).
Each sublist contains:
</p>

<ul>
<li><p>(required) 'label': string with label for the reference line
</p>
</li>
<li><p>(required) 'time': unique time (x) coordinate for the reference line
</p>
</li>
<li><p>(optional) 'color': color for the reference line,
'black' by default
</p>
</li>
<li><p>(optional) 'linetype': linetype for the reference line,
'dotted' by default
</p>
</li></ul>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_reflinesdata">refLinesData</code></td>
<td>
<p>data.frame with data from which the reference line(s) should be extracted</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_reflinestimevar">refLinesTimeVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with time for reference line(s)</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_reflineslabelvar">refLinesLabelVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with label for reference line(s)</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_timetrans">timeTrans</code></td>
<td>
<p>Time transformation, or list of such transformation
named by module. If NULL, no transformation are done.</p>
</td></tr>
<tr><td><code id="prepareSubjectProfile_+3A_timeexpand">timeExpand</code></td>
<td>
<p>Vector of range expansion constants for the time axis
(see <code>expand</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>subjectProfilePlot</code> object, containing the combined
profile plots
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='sortSubjects'>Sort subjects based on a specified dataset/variable.</h2><span id='topic+sortSubjects'></span>

<h3>Description</h3>

<p>Sort subjects based on a specified dataset/variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sortSubjects(
  subjects,
  subjectVar = "USUBJID",
  subjectSortData = NULL,
  subjectSortVar = NULL,
  subjectSortDecreasing = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sortSubjects_+3A_subjects">subjects</code></td>
<td>
<p>Character vector with subjects of interest</p>
</td></tr>
<tr><td><code id="sortSubjects_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="sortSubjects_+3A_subjectsortdata">subjectSortData</code></td>
<td>
<p>Data.frame with data containing information on how the subjects 
should be sorted.</p>
</td></tr>
<tr><td><code id="sortSubjects_+3A_subjectsortvar">subjectSortVar</code></td>
<td>
<p>Variable(s) of <code>subjectSortData</code> 
used to order the subjects</p>
</td></tr>
<tr><td><code id="sortSubjects_+3A_subjectsortdecreasing">subjectSortDecreasing</code></td>
<td>
<p>Logical, if TRUE (FALSE by default)
subjects are sorted based on inverse order of <code>subjectSortVar</code>.</p>
</td></tr>
<tr><td><code id="sortSubjects_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE print messages during execution</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated <code>subjects</code>
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='subjectProfileCombine'>Combine subject profile plots.</h2><span id='topic+subjectProfileCombine'></span>

<h3>Description</h3>

<p>Visualizations of different modules are combined
by subject.
The plots are aligned in the time axis (if requested).
If the plots should be aligned:
</p>

<ul>
<li><p>the same time limits are set for all plots
</p>
</li>
<li><p>the time axis is transformed if any of the
plot was created with a time transformation
</p>
</li>
<li><p>the time axis is expanded for all plots 
if any of the plot was created with a time axis expanded.<br />
The <code><a href="ggplot2.html#topic+expansion">expansion</a></code> object for
the combined plot is created 
from the max of each expansion element across modules.
</p>
</li></ul>

<p>If some plots are missing for a specific subject,
an empty plot is created, containing information
as a text based on the <code>label</code> with which the plot was created.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileCombine(
  listPlots,
  timeLim = NULL,
  timeAlign = "all",
  timeAlignPerSubject = "none",
  subjectVar = "USUBJID",
  maxNLines = NULL,
  refLines = NULL,
  refLinesData = NULL,
  refLinesTimeVar = NULL,
  refLinesLabelVar = NULL,
  shiny = FALSE,
  verbose = FALSE,
  nCores = 1,
  reportPerSubject = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileCombine_+3A_listplots">listPlots</code></td>
<td>
<p>listPlots per subject as created inside the
<code><a href="#topic+subjectProfileCombine">subjectProfileCombine</a></code> function.</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_timelim">timeLim</code></td>
<td>
<p>time limits, as returned by the
<code><a href="#topic+getTimeLimSubjectProfilePlots">getTimeLimSubjectProfilePlots</a></code> function.</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_timealign">timeAlign</code></td>
<td>
<p>Character vector with time alignment across modules/subjects, either:
</p>

<ul>
<li><p>'all' (by default): all plots have the same time limits
</p>
</li>
<li><p>'none': each of the plot (module*subject) has its own time limits
</p>
</li>
<li><p>character vector with names of the modules which
should have the same time limits
(should correspond to the names of <code>listPlots</code>)
</p>
</li></ul>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_timealignpersubject">timeAlignPerSubject</code></td>
<td>
<p>Character vector, specifying if the plots
should be aligned (or not) across subjects
</p>

<ul>
<li><p>'none' (by default): all modules to align
have the same time limit across subjects
</p>
</li>
<li><p>'all': all modules to align
have different time limits per subject
</p>
</li>
<li><p>character vector with subset of the modules to align per subject
(should correspond to the names of <code>listPlots</code>)
</p>
</li></ul>

<p>Only the modules already specified in <code>timeAlign</code>
can be aligned by subject.</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_maxnlines">maxNLines</code></td>
<td>
<p>Maximum number of lines for a combined plot,
to fit in the page height. <br />
When the different visualizations
are combined for each subject, they will be allocated 
to different pages if the number of lines of the combined visualization
is higher than this number.</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_reflines">refLines</code></td>
<td>
<p>(optional) nested list with details for reference line(s).
Each sublist contains:
</p>

<ul>
<li><p>(required) 'label': string with label for the reference line
</p>
</li>
<li><p>(required) 'time': unique time (x) coordinate for the reference line
</p>
</li>
<li><p>(optional) 'color': color for the reference line,
'black' by default
</p>
</li>
<li><p>(optional) 'linetype': linetype for the reference line,
'dotted' by default
</p>
</li></ul>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_reflinesdata">refLinesData</code></td>
<td>
<p>data.frame with data from which the reference line(s) should be extracted</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_reflinestimevar">refLinesTimeVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with time for reference line(s)</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_reflineslabelvar">refLinesLabelVar</code></td>
<td>
<p>string, variable of <code>refLinesData</code> with label for reference line(s)</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_shiny">shiny</code></td>
<td>
<p>logical, set to TRUE (FALSE by default) 
if the report is generated from a Shiny application.
Messages during report creation will be included in the Shiny interface,
and it will be mentioned at the end of the report.
In this case, the <code>shiny</code> package should be available.</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE print messages during execution</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_ncores">nCores</code></td>
<td>
<p>Integer containing the number of cores used for the computation
(1 by default). If more than 1, computation is parallelized, in this case
the package <code>parallel</code> is required.</p>
</td></tr>
<tr><td><code id="subjectProfileCombine_+3A_reportpersubject">reportPerSubject</code></td>
<td>
<p>Logical, if TRUE (FALSE by default)
export a subject profile report by subject.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a nested list of <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> object, 
containing the combined
profile plots across modules for each subject/page.<br />
Each plot object contains in the associated attribute:
<code>metaData</code> containing: <code>nLines</code>: an estimation
of the number of 'lines' each plot occupies 
(e.g. to set height of the exported figure).
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='subjectProfileEventPlot'>Visualize events in subject profiles, so
event with a single time.</h2><span id='topic+subjectProfileEventPlot'></span>

<h3>Description</h3>

<p>Visualize events in subject profiles, so
event with a single time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileEventPlot(
  data,
  paramVar,
  paramLab = getLabelVar(paramVar, labelVars = labelVars),
  paramVarSep = " - ",
  paramGroupVar = NULL,
  colorVar = NULL,
  colorLab = getLabelVar(colorVar, labelVars = labelVars),
  colorPalette = NULL,
  shapeVar = colorVar,
  shapeLab = if (isTRUE(colorVar == shapeVar)) {
     colorLab
 } else
    getLabelVar(shapeVar, labelVars = labelVars),
  shapePalette = NULL,
  alpha = 1,
  timeVar,
  timeLab = getLabelVar(timeVar, labelVars = labelVars),
  timeTrans = NULL,
  timeExpand = NULL,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  xLab = timeLab,
  yLab = "",
  timeLim = NULL,
  title = toString(getLabelVar(paramVar, labelVars = labelVars, label = paramLab)),
  label = title,
  labelVars = NULL,
  formatReport = subjectProfileReportFormat(),
  paging = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileEventPlot_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_paramvar">paramVar</code></td>
<td>
<p>Character vector with variable(s) of <code>data</code> 
with parameters. Variable content is displayed in the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_paramlab">paramLab</code></td>
<td>
<p>Named character vector, 
with label for the parameter variable(s) (<code>paramVar</code>).<br />
This is used to set the default title.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_paramvarsep">paramVarSep</code></td>
<td>
<p>string with character(s) used to concatenate multiple 
<code>paramVar</code>, ' - ' by default.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) Character vector with variable(s) 
of <code>data</code> based on which the data will be grouped and sorted 
(in the y-axis) in the plot.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_colorvar">colorVar</code></td>
<td>
<p>String, variable of <code>data</code> with color.
This variable is used
for the colors and the filling of the points.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_colorlab">colorLab</code></td>
<td>
<p>String, label for <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_colorpalette">colorPalette</code></td>
<td>
<p>Named vector with color palette.
The variable should be named with the corresponding element
in <code>colorVar</code>.<br />
Colors can also be defined for the entire session, by setting
<code>options(patientProfilesVis.colors = X)</code> with X either:
</p>

<ul>
<li><p>a vector with colors
</p>
</li>
<li><p>a function returning a vector of colors for a specified number
of elements (<code>viridis</code> by default)
</p>
</li></ul>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_shapevar">shapeVar</code></td>
<td>
<p>String, variable of <code>data</code> for shape of the points.
By default, same as <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_shapelab">shapeLab</code></td>
<td>
<p>String, label for <code>shapeVar</code>.
Set by default to <code>colorLab</code> if <code>colorVar</code>
but not <code>shapeVar</code> is not specified.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_shapepalette">shapePalette</code></td>
<td>
<p>Named character vector with shape palette
for <code>shapeVar</code>.
The variable should be named with the corresponding element
in <code>shapeVar</code>.<br />
Shapes can also be defined for the entire session, by setting
<code>options(patientProfilesVis.shapes = X)</code> with X either:
</p>

<ul>
<li><p>a vector with shapes
</p>
</li>
<li><p>a function returning a vector of shapes for a specified number
of elements
</p>
</li></ul>

<p>Note it is advised to specify the shapes as character,
e.g. 'cross' instead of <code>4</code>, in case Unicode
symbols should also be used.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_alpha">alpha</code></td>
<td>
<p>Numeric with transparency, 1 by default.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_timevar">timeVar</code></td>
<td>
<p>String, variable of <code>data</code> with time,
displayed in the x axis.<br />
Records with missing time are not displayed in the plot.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_timelab">timeLab</code></td>
<td>
<p>String, label for <code>timeVar</code>.
This is used in the message
indicating missing values for <code>timeVar</code>,
and for the default label of the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_timetrans">timeTrans</code></td>
<td>
<p>transformation for the time variable, 
(see <code>trans</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>, and
<code><a href="scales.html#topic+trans_new">trans_new</a></code>).
For example, produced by the <code><a href="#topic+getTimeTrans">getTimeTrans</a></code> function.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_timeexpand">timeExpand</code></td>
<td>
<p>Vector of range expansion constants for the time axis
(see <code>expand</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>).</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_subjectsubset">subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_subjectsample">subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_seed">seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_subsetdata">subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br />
If not specified, <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_subsetvar">subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br />
If not specified, all records from the subset data are retained.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_subsetvalue">subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br />
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_xlab">xLab</code></td>
<td>
<p>String, label for the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_ylab">yLab</code></td>
<td>
<p>String, label for the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_timelim">timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br />
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_title">title</code></td>
<td>
<p>String with title, label of the parameter variable by default.</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_label">label</code></td>
<td>
<p>String, label for the visualization.
This label is stored as attributes of the output
from the <code>subjectProfile[]Plot</code> function.<br />
This label is displayed in the final profile
report, in case no data is available for
for a specific patient, as: 'No [label] available.'</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="subjectProfileEventPlot_+3A_paging">paging</code></td>
<td>
<p>Logical, if TRUE (by default), automatic 
paging is enabled, so patient profiles module too big to fit
in one page will span multiple pages.
Please note that the size of the graphic window 
(or report page) may need
to be re-sized in order that the plot fits.
<br />
If FALSE, the entire plot is included in one single page.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of (across subjects) of list (across modules) of <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a> objects</code>, 
also of class <code>subjectProfileEventPlot</code>, with additional metaData attributes containing
'<code>label</code>', 'timeLim' and 'timeTrans' (if specified).
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p>Other patient profiles plotting function: 
<code><a href="#topic+subjectProfileIntervalPlot">subjectProfileIntervalPlot</a>()</code>,
<code><a href="#topic+subjectProfileLinePlot">subjectProfileLinePlot</a>()</code>,
<code><a href="#topic+subjectProfileTextPlot">subjectProfileTextPlot</a>()</code>
</p>

<hr>
<h2 id='subjectProfileExport'>Create report</h2><span id='topic+subjectProfileExport'></span>

<h3>Description</h3>

<p>Create report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileExport(
  listPlotsSubject,
  outputFile = "subjectProfile.pdf",
  index = NULL,
  formatReport = subjectProfileReportFormat(),
  shiny = FALSE,
  verbose = FALSE,
  nCores = NULL,
  exportFigures = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileExport_+3A_listplotssubject">listPlotsSubject</code></td>
<td>
<p>List of plots for each subject</p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_outputfile">outputFile</code></td>
<td>
<p>string, path to the output report</p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_index">index</code></td>
<td>
<p>Index, output from <code><a href="#topic+defineIndex">defineIndex</a></code></p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_shiny">shiny</code></td>
<td>
<p>logical, set to TRUE (FALSE by default) 
if the report is generated from a Shiny application.
Messages during report creation will be included in the Shiny interface,
and it will be mentioned at the end of the report.
In this case, the <code>shiny</code> package should be available.</p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_verbose">verbose</code></td>
<td>
<p>logical, if TRUE print messages during execution</p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_ncores">nCores</code></td>
<td>
<p>Integer containing the number of cores used for the computation
(1 by default). If more than 1, computation is parallelized, in this case
the package <code>parallel</code> is required.</p>
</td></tr>
<tr><td><code id="subjectProfileExport_+3A_exportfigures">exportFigures</code></td>
<td>
<p>Logical, if TRUE (FALSE by default) the 
subject profile figures are also exported
in pdf format in a 'figures' folder.<br />
Figures are named as <code>[subjectID]-[page].pdf</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>No returned value, the plots are exported to <code>outputDir</code>
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='subjectProfileIntervalPlot'>Visualize time interval in subject profiles,
so event with a start and end time.</h2><span id='topic+subjectProfileIntervalPlot'></span>

<h3>Description</h3>

<p>Visualize time interval in subject profiles,
so event with a start and end time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileIntervalPlot(
  data,
  paramVar,
  paramVarSep = " - ",
  paramLab = getLabelVar(paramVar, labelVars = labelVars),
  paramGroupVar = NULL,
  timeStartVar,
  timeStartLab = getLabelVar(timeStartVar, labelVars = labelVars),
  timeEndVar,
  timeEndLab = getLabelVar(timeEndVar, labelVars = labelVars),
  timeLab = toString(c(timeStartLab, timeEndLab)),
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  timeImpType = c("minimal", "data-based", "none"),
  timeLim = NULL,
  timeLimData = NULL,
  timeLimStartVar = NULL,
  timeLimStartLab = getLabelVar(timeLimStartVar, labelVars = labelVars),
  timeLimEndVar = NULL,
  timeLimEndLab = getLabelVar(timeLimEndVar, labelVars = labelVars),
  timeTrans = NULL,
  timeExpand = NULL,
  timeAlign = TRUE,
  xLab = timeLab,
  yLab = "",
  colorVar = NULL,
  colorLab = getLabelVar(colorVar, labelVars = labelVars),
  colorPalette = NULL,
  alpha = 1,
  timeStartShapeVar = NULL,
  timeEndShapeVar = NULL,
  shapePalette = NULL,
  shapeLab = toString(unique(getLabelVar(c(timeStartShapeVar, timeEndShapeVar), labelVars
    = labelVars))),
  shapeSize = rel(3),
  title = toString(getLabelVar(paramVar, labelVars = labelVars, label = paramLab)),
  label = title,
  caption,
  labelVars = NULL,
  formatReport = subjectProfileReportFormat(),
  paging = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileIntervalPlot_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_paramvar">paramVar</code></td>
<td>
<p>Character vector with variable(s) of <code>data</code> 
with parameters. Variable content is displayed in the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_paramvarsep">paramVarSep</code></td>
<td>
<p>string with character(s) used to concatenate multiple 
<code>paramVar</code>, ' - ' by default.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_paramlab">paramLab</code></td>
<td>
<p>Named character vector, 
with label for the parameter variable(s) (<code>paramVar</code>).<br />
This is used to set the default title.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) Character vector with variable(s) 
of <code>data</code> based on which the data will be grouped and sorted 
(in the y-axis) in the plot.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timestartvar">timeStartVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with start of time interval.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timestartlab">timeStartLab</code></td>
<td>
<p>String, label for <code>timeStartVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timeendvar">timeEndVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with end of time interval.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timeendlab">timeEndLab</code></td>
<td>
<p>String, label for <code>timeEndVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelab">timeLab</code></td>
<td>
<p>String, label for <code>timeVar</code>.
This is used in the message
indicating missing values for <code>timeVar</code>,
and for the default label of the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_subjectsubset">subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_subjectsample">subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_seed">seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_subsetdata">subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br />
If not specified, <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_subsetvar">subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br />
If not specified, all records from the subset data are retained.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_subsetvalue">subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br />
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timeimptype">timeImpType</code></td>
<td>
<p>String with imputation type: 'minimal' (default),
'data-based' or 'none', see section: 'Time interval representation'.<br />
This imputation type is not used if a dataset used to impute time is 
specified.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelim">timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br />
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelimdata">timeLimData</code></td>
<td>
<p>Data.frame with data used to impute time
in case some time records are missing in <code>data</code>, 
see section: 'Time interval representation'.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelimstartvar">timeLimStartVar</code></td>
<td>
<p>String, variable of <code>timeLimData</code> with 
start of the time interval.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelimstartlab">timeLimStartLab</code></td>
<td>
<p>String, label for <code>timeLimeStartVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelimendvar">timeLimEndVar</code></td>
<td>
<p>String, variable of <code>timeLimData</code> with 
end of the time interval.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timelimendlab">timeLimEndLab</code></td>
<td>
<p>String, label for <code>timeLimEndVar</code>,
displayed in a message and in the plot caption.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timetrans">timeTrans</code></td>
<td>
<p>transformation for the time variable, 
(see <code>trans</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>, and
<code><a href="scales.html#topic+trans_new">trans_new</a></code>).
For example, produced by the <code><a href="#topic+getTimeTrans">getTimeTrans</a></code> function.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timeexpand">timeExpand</code></td>
<td>
<p>Vector of range expansion constants for the time axis
(see <code>expand</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>).</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timealign">timeAlign</code></td>
<td>
<p>Logical, if TRUE (by default)
the different plots are horizontally aligned.
If set to FALSE, each plot has its own time-limits.<br />
If set to FALSE, this is not compatible with 
the specification of <code>timeLim</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_xlab">xLab</code></td>
<td>
<p>String, label for the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_ylab">yLab</code></td>
<td>
<p>String, label for the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_colorvar">colorVar</code></td>
<td>
<p>String, variable of <code>data</code> with color,
used both for the point(s) and segment(s).</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_colorlab">colorLab</code></td>
<td>
<p>String, label for <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_colorpalette">colorPalette</code></td>
<td>
<p>Named vector with color palette.
The variable should be named with the corresponding element
in <code>colorVar</code>.<br />
Colors can also be defined for the entire session, by setting
<code>options(patientProfilesVis.colors = X)</code> with X either:
</p>

<ul>
<li><p>a vector with colors
</p>
</li>
<li><p>a function returning a vector of colors for a specified number
of elements (<code>viridis</code> by default)
</p>
</li></ul>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_alpha">alpha</code></td>
<td>
<p>Numeric with transparency, 1 by default.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timestartshapevar">timeStartShapeVar</code></td>
<td>
<p>(optional) String, variable of <code>data</code> 
used for the shape of the symbol displayed 
at the start of the time interval.<br />
If not specified, default shape palette is used,
see section 'Time interval representation'.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_timeendshapevar">timeEndShapeVar</code></td>
<td>
<p>String, variable of <code>data</code> 
used for the shape of the symbol 
displayed at the end of the time interval.
If not specified, default shape palette is used,
see section 'Time interval representation'.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_shapepalette">shapePalette</code></td>
<td>
<p>Named vector with (combined) shape palette for 
<code>timeStartShapeVar</code><code>timeEndShapeVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_shapelab">shapeLab</code></td>
<td>
<p>String with label for <code>timeStartShapeVar</code><code>timeEndShapeVar</code></p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_shapesize">shapeSize</code></td>
<td>
<p>Size for symbols (only used if <code>timeStartShapeVar</code>/<code>timeEndShapeVar</code> is specified).</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_title">title</code></td>
<td>
<p>String with title, label of the parameter variable by default.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_label">label</code></td>
<td>
<p>String, label for the visualization.
This label is stored as attributes of the output
from the <code>subjectProfile[]Plot</code> function.<br />
This label is displayed in the final profile
report, in case no data is available for
for a specific patient, as: 'No [label] available.'</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_caption">caption</code></td>
<td>
<p>(optional) String with caption (NULL for no caption). 
By default the caption contains information on the imputation strategy 
for missing time.</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="subjectProfileIntervalPlot_+3A_paging">paging</code></td>
<td>
<p>Logical, if TRUE (by default), automatic 
paging is enabled, so patient profiles module too big to fit
in one page will span multiple pages.
Please note that the size of the graphic window 
(or report page) may need
to be re-sized in order that the plot fits.
<br />
If FALSE, the entire plot is included in one single page.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of (across subjects) of list (across pages) 
of <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a> objects</code>, 
also of class <code>subjectProfileIntervalPlot</code>.
with additional 'metaData' attributes containing
'<code>label</code>', 'timeLim' <code>timeTrans</code> and <code>timeExpand</code> (if specified).
</p>


<h3>Time interval representation</h3>

<p>In case the start or the end of the time interval contain missing values:
</p>

<ul>
<li><p>if a dataset (<code>timeLimData</code>), start (<code>timeLimStartVar</code>)
and end (<code>timeLimEndVar</code>) variables are specified: 
</p>

<ol>
<li><p>for each subject: 
</p>

<ul>
<li><p>the minimum and maximum time values across these specified time 
variables are extracted
</p>
</li>
<li><p>missing start values are replaced by the minimum time
</p>
</li>
<li><p>missing start values are replaced by the maximum time
</p>
</li></ul>

</li>
<li><p>if all values are missing for this subject, they are taken across subjects
</p>
</li></ol>

</li>
<li><p>otherwise, depending on the imputation type (<code>timeImpType</code>):
</p>

<ul>
<li><p>'minimal' (by default): 
</p>

<ul>
<li><p>if the start and the end of the interval are missing: 
no imputation is done, only the label is displayed
</p>
</li>
<li><p>if the start time is missing and the end time is not missing: 
start time is imputed with end time, and status is set to 'Missing start'
</p>
</li>
<li><p>if the end time is missing and the start time is not missing: 
end time is imputed with start time, and status is set to 'Missing end'
</p>
</li></ul>

</li>
<li><p>'data-based' (default in version &lt; 1.0.0): 
minimum/maximum values in the start/end time variables in the data are considered
for the specific subject (if available). If there are missing for a specific subject,
they are taken across subjects. If all time are missings, the range is set to 0 and Inf
</p>
</li>
<li><p>'none': no imputation is done
</p>
</li></ul>
</li></ul>

<p>The symbols displayed at the start and end of the interval are:
</p>

<ul>
<li><p>by default: 
</p>

<ul>
<li><p>a filled square labelled 'Complete' if the time is not missing
</p>
</li>
<li><p>a filled left-directed arrow in case of missing start time
</p>
</li>
<li><p>a filled right-directed arrow in case of missing end time
</p>
</li></ul>

</li>
<li><p>if the variable(s) used for the shape of the start or end 
of the interval are specified (via 
<code>timeStartShapeVar</code>/<code>timeEndShapeVar</code>): 
labels are based on these variables, and a standard shape palette is used
</p>
</li></ul>

<p>The time limits are the same across subjects, and set to:
</p>

<ul>
<li><p><code>timeLim</code> if specified
</p>
</li>
<li><p>maximum time range in <code>timeLimStartVar</code> and 
<code>timeLimEndVar</code> in <code>timeLimData</code> 
if specified
</p>
</li>
<li><p>the maximum range on the data obtained after imputation of missing 
values
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p>Other patient profiles plotting function: 
<code><a href="#topic+subjectProfileEventPlot">subjectProfileEventPlot</a>()</code>,
<code><a href="#topic+subjectProfileLinePlot">subjectProfileLinePlot</a>()</code>,
<code><a href="#topic+subjectProfileTextPlot">subjectProfileTextPlot</a>()</code>
</p>

<hr>
<h2 id='subjectProfileLinePlot'>Visualize subject profiles of the evolution of 
continuous parameters versus time (spaghetti plot).</h2><span id='topic+subjectProfileLinePlot'></span>

<h3>Description</h3>

<p>Visualize subject profiles of the evolution of 
continuous parameters versus time (spaghetti plot).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileLinePlot(
  data,
  paramValueVar,
  paramLab = getLabelVar(paramValueVar, labelVars = labelVars),
  paramNameVar = NULL,
  paramVarSep = " - ",
  paramValueRangeVar = NULL,
  colorValueRange = "lightgreen",
  yLimFrom = c("all", "value"),
  colorVar = NULL,
  colorLab = getLabelVar(colorVar, labelVars = labelVars),
  colorPalette = NULL,
  shapeVar = colorVar,
  shapeLab = if (isTRUE(colorVar == shapeVar)) {
     colorLab
 } else
    getLabelVar(shapeVar, labelVars = labelVars),
  shapePalette = NULL,
  paramGroupVar = NULL,
  timeVar,
  timeLab = getLabelVar(timeVar, labelVars = labelVars),
  timeTrans = NULL,
  timeExpand = NULL,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  xLab = timeLab,
  yLab = "",
  timeLim = NULL,
  title = toString(getLabelVar(paramValueVar, labelVars = labelVars, label = paramLab)),
  label = title,
  labelVars = NULL,
  formatReport = subjectProfileReportFormat(),
  paging = TRUE,
  alpha = 1,
  shapeSize = rel(1)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileLinePlot_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paramvaluevar">paramValueVar</code></td>
<td>
<p>String, variable of <code>data</code> 
with parameter value to represent.<br />
Records with missing values are discarded.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paramlab">paramLab</code></td>
<td>
<p>Named character vector, 
with label for the parameter variable(s) (<code>paramNameVar</code>).<br />
This is used to set the default title.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paramnamevar">paramNameVar</code></td>
<td>
<p>Character vector with variable(s) of <code>data</code> with parameter name.
If multiple, they are concatenated with <code>paramVarSep</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paramvarsep">paramVarSep</code></td>
<td>
<p>string with character(s) used to concatenate multiple 
<code>paramNameVar</code>, ' - ' by default.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paramvaluerangevar">paramValueRangeVar</code></td>
<td>
<p>Character vector of length 2 containing 
variables of <code>data</code> with minimum and maximum value 
for <code>paramValueVar</code>, typically reference range indicators.<br />
Range can differ per parameter and even per time point.
This range is represented as a ribbon in the plot background.
e.g. to represent the reference range of the variable.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_colorvaluerange">colorValueRange</code></td>
<td>
<p>String with color for the filling of 
the ribbon represented by <code>paramValueRangeVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_ylimfrom">yLimFrom</code></td>
<td>
<p>String with specification on the limits of the y-axis, either:
</p>

<ul>
<li><p>'all' (by default): for each parameter (<code>paramNameVar</code>), 
the y-axis range contains the minimum/maximum value of 
the reference range (<code>paramValueRangeVar</code>) or data
</p>
</li>
<li><p>'value': for each parameter (<code>paramNameVar</code>), 
the y-axis minimum/maximum value is restricted to the data range only.
Please note that the ribbon visualizing the reference range is also restricted
to the data range if wider.
</p>
</li></ul>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_colorvar">colorVar</code></td>
<td>
<p>String, variable of <code>data</code> with color.
This variable is used
for the colors and the filling of the points.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_colorlab">colorLab</code></td>
<td>
<p>String, label for <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_colorpalette">colorPalette</code></td>
<td>
<p>Named vector with color palette.
The variable should be named with the corresponding element
in <code>colorVar</code>.<br />
Colors can also be defined for the entire session, by setting
<code>options(patientProfilesVis.colors = X)</code> with X either:
</p>

<ul>
<li><p>a vector with colors
</p>
</li>
<li><p>a function returning a vector of colors for a specified number
of elements (<code>viridis</code> by default)
</p>
</li></ul>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_shapevar">shapeVar</code></td>
<td>
<p>String, variable of <code>data</code> for shape of the points.
By default, same as <code>colorVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_shapelab">shapeLab</code></td>
<td>
<p>String, label for <code>shapeVar</code>.
Set by default to <code>colorLab</code> if <code>colorVar</code>
but not <code>shapeVar</code> is not specified.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_shapepalette">shapePalette</code></td>
<td>
<p>Named character vector with shape palette
for <code>shapeVar</code>.
The variable should be named with the corresponding element
in <code>shapeVar</code>.<br />
Shapes can also be defined for the entire session, by setting
<code>options(patientProfilesVis.shapes = X)</code> with X either:
</p>

<ul>
<li><p>a vector with shapes
</p>
</li>
<li><p>a function returning a vector of shapes for a specified number
of elements
</p>
</li></ul>

<p>Note it is advised to specify the shapes as character,
e.g. 'cross' instead of <code>4</code>, in case Unicode
symbols should also be used.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) Character vector with variable(s) 
of <code>data</code> based on which the data will be grouped and sorted 
(in the y-axis) in the plot.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_timevar">timeVar</code></td>
<td>
<p>String, variable of <code>data</code> with time,
displayed in the x axis.<br />
Records with missing time are not displayed in the plot.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_timelab">timeLab</code></td>
<td>
<p>String, label for <code>timeVar</code>.
This is used in the message
indicating missing values for <code>timeVar</code>,
and for the default label of the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_timetrans">timeTrans</code></td>
<td>
<p>transformation for the time variable, 
(see <code>trans</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>, and
<code><a href="scales.html#topic+trans_new">trans_new</a></code>).
For example, produced by the <code><a href="#topic+getTimeTrans">getTimeTrans</a></code> function.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_timeexpand">timeExpand</code></td>
<td>
<p>Vector of range expansion constants for the time axis
(see <code>expand</code> parameter in <code><a href="ggplot2.html#topic+scale_x_continuous">scale_x_continuous</a></code>).</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_subjectsubset">subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_subjectsample">subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_seed">seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_subsetdata">subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br />
If not specified, <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_subsetvar">subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br />
If not specified, all records from the subset data are retained.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_subsetvalue">subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br />
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_xlab">xLab</code></td>
<td>
<p>String, label for the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_ylab">yLab</code></td>
<td>
<p>String, label for the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_timelim">timeLim</code></td>
<td>
<p>(optional) Vector of length 2 with time limits (x-axis).
If not specified, these are extracted from the minimum <code>timeStartVar</code> 
and maximum <code>timeEndVar</code> per subject.<br />
The time limits are stored as attributes of the plots,
used to align the plots in the final report.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_title">title</code></td>
<td>
<p>String with title, label of the parameter value variable by default.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_label">label</code></td>
<td>
<p>String, label for the visualization.
This label is stored as attributes of the output
from the <code>subjectProfile[]Plot</code> function.<br />
This label is displayed in the final profile
report, in case no data is available for
for a specific patient, as: 'No [label] available.'</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_paging">paging</code></td>
<td>
<p>Logical, if TRUE (by default), automatic 
paging is enabled, so patient profiles module too big to fit
in one page will span multiple pages.
Please note that the size of the graphic window 
(or report page) may need
to be re-sized in order that the plot fits.
<br />
If FALSE, the entire plot is included in one single page.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_alpha">alpha</code></td>
<td>
<p>Numeric with transparency, 1 by default.</p>
</td></tr>
<tr><td><code id="subjectProfileLinePlot_+3A_shapesize">shapeSize</code></td>
<td>
<p>Size for the symbols, any integer or 
object supported by <code>size</code> in <code><a href="ggplot2.html#topic+geom_point">geom_point</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of (across subjects) of list (across modules) 
of <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a> objects</code>, 
also of class <code>subjectProfileLinePlot</code>.
Each subject profile contains attributes: 'subjectID' and 'nLines' 
(estimated number of lines of space the plot will take).
The entire list also contains attributes: '<code>label</code>',
'timeLim' and 'timeTrans' (if specified).
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p>Other patient profiles plotting function: 
<code><a href="#topic+subjectProfileEventPlot">subjectProfileEventPlot</a>()</code>,
<code><a href="#topic+subjectProfileIntervalPlot">subjectProfileIntervalPlot</a>()</code>,
<code><a href="#topic+subjectProfileTextPlot">subjectProfileTextPlot</a>()</code>
</p>

<hr>
<h2 id='subjectProfileReportFormat'>Get list with format specification for subject profile report.</h2><span id='topic+subjectProfileReportFormat'></span>

<h3>Description</h3>

<p>This format is used to set default for the created subject profile report:
line height, margin, report in landscape or portrait format,
aspect ratio and width for the y-label.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileReportFormat(
  heightLineIn = 0.2,
  margin = 0.75,
  landscape = FALSE,
  aspectRatio = 0.5,
  yLabelWidth = 30
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileReportFormat_+3A_heightlinein">heightLineIn</code></td>
<td>
<p>Numeric of length 1 with 
height of a line in inches, 0.2 by default.</p>
</td></tr>
<tr><td><code id="subjectProfileReportFormat_+3A_margin">margin</code></td>
<td>
<p>Numeric of length 1, with margin in inches.</p>
</td></tr>
<tr><td><code id="subjectProfileReportFormat_+3A_landscape">landscape</code></td>
<td>
<p>Logical, if TRUE the created report is 
in landscape format. FALSE by default, the report
is created in portrait format.</p>
</td></tr>
<tr><td><code id="subjectProfileReportFormat_+3A_aspectratio">aspectRatio</code></td>
<td>
<p>Numeric of length 1 (0.75 by default)
with ratio between size of image in inches 
(derived from specified <code>margin</code>, <code>landscape</code> and <code>heightLineIn</code>)
and real size for exported image.</p>
</td></tr>
<tr><td><code id="subjectProfileReportFormat_+3A_ylabelwidth">yLabelWidth</code></td>
<td>
<p>Integer of length 1 with approximate maximum number of
characters in the y-label of the plot, 30 by default.
If the label of the y-axis is longer than this number 
of character, it will be splitted between words 
in separated lines.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with parameters to set format
of the subject profile report.
If not specified, default are used.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

<hr>
<h2 id='subjectProfileTextPlot'>Visualize text-information in subject profiles.</h2><span id='topic+subjectProfileTextPlot'></span>

<h3>Description</h3>

<p>There are two ways to specify the variables of interest to include:
</p>

<ul>
<li><p>by specifying column(s) of interest containing parameter values, passed
to the <code>paramValueVar</code> parameter.<br />
In this case, variable value is displayed in the plot area,
and variable name in the label of the y-axis, as:<br />
variable 1 | value 1 - value 2 - ...<br />
variable 2 | value 1 - value 2 - ...

</p>
</li>
<li><p>by specifying column(s) of interest containing parameter values,
displayed as a <code>table</code>. <br />
In this case, variable are displayed in columns
in the plot area. Variable names are displayed 
on top of table, and associated values below, as:<br />
| variable 1      variable 2<br />
| value 1         value 1
| ...

</p>
</li>
<li><p>by specifying a combination of a variable containing the parameter name
(<code>paramNameVar</code>), coupled with a variable containing the 
parameter values (<code>paramValueVar</code>).<br />
In this case, parameter values (if multiple) are concatenated 
and displayed in the plot area for each parameter name,
displayed in the label of the y-axis, as:<br />
variable name 1 | variable value 1 - variable value 2 - ...<br />
variable name 2 | variable value 1 - ...

</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileTextPlot(
  data,
  paramValueVar,
  paramValueLab = getLabelVar(paramValueVar, labelVars = labelVars),
  paramNameVar = NULL,
  paramGroupVar = NULL,
  subsetData = NULL,
  subsetVar = NULL,
  subsetValue = NULL,
  subjectVar = "USUBJID",
  subjectSubset = NULL,
  subjectSample = NULL,
  seed = 123,
  xLab = "",
  yLab = "",
  title = "Subject information",
  label = title,
  labelVars = NULL,
  paramVarSep = " - ",
  formatReport = subjectProfileReportFormat(),
  paging = TRUE,
  table = FALSE,
  colWidth = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subjectProfileTextPlot_+3A_data">data</code></td>
<td>
<p>Data.frame with data.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_paramvaluevar">paramValueVar</code></td>
<td>
<p>Character vector, either:
</p>

<ul>
<li><p>vector with names of variable(s) (multiple are possible) 
of <code>data</code> of interest.
The values are displayed in the plot area and variable name in the labels
of the y-axis.<br />
Multiple variables can be concatenated in the same line by specifying them,
as an unique string separated by a 'pipe', e.g 'SEX|AGE'. Variable
label(s) are concatenated (with ', ') and displayed in the y-axis.
</p>
</li>
<li><p>if <code>paramNameVar</code> is specified: 
</p>

<ul>
<li><p>character vector with names of variable(s) (multiple possible) 
of <code>data</code> with values to represent in the plot area.

</p>
</li>
<li><p>function taking <code>data</code> as input and 
returning a new variable (of length equal to number of rows in <code>data</code>) 
with parameter value to represent
</p>
</li></ul>

</li></ul>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_paramvaluelab">paramValueLab</code></td>
<td>
<p>(optional) Named character vector with
labels for <code>paramValueVar</code>.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_paramnamevar">paramNameVar</code></td>
<td>
<p>(optional) Character vector of length 1 with
variable of <code>data</code> with parameter name. This
is displayed in the labels of the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_paramgroupvar">paramGroupVar</code></td>
<td>
<p>(optional) Character vector with variable(s) 
of <code>data</code> based on which the data will be grouped and sorted 
(in the y-axis) in the plot.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_subsetdata">subsetData</code></td>
<td>
<p>(optional) Data.frame with extra dataset to filter on.
This dataset is filtered, and only records from <code>data</code> 
with common subject IDs will be retained.<br />
If not specified, <code>data</code> is used.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_subsetvar">subsetVar</code></td>
<td>
<p>(optional) String with variable of subset data to filter on.
<code>subsetValue</code> should be specified too.<br />
If not specified, all records from the subset data are retained.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_subsetvalue">subsetValue</code></td>
<td>
<p>(optional) Character vector with value(s) of interest to
retain in the filtered data.
These values should be available in <code>subsetVar</code>.<br />
Missing values in the subject variable are not retained 
in the filtered data.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_subjectvar">subjectVar</code></td>
<td>
<p>String, variable of <code>data</code> with subject ID</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_subjectsubset">subjectSubset</code></td>
<td>
<p>(optional) Character vector with subjects of interest 
(available in <code>subjectVar</code>), NULL by default.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_subjectsample">subjectSample</code></td>
<td>
<p>(optional) Integer of length 1
with number of random subject(s) that should be considered,
e.g. to check the created patient profiles for a subset of the data.
By default, all specified subjects are considered (set to NULL).</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_seed">seed</code></td>
<td>
<p>(optional) Integer of length 1 with seed used to select random subjects 
if <code>subjectSample</code> is specified (123 by default).</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_xlab">xLab</code></td>
<td>
<p>String, label for the x-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_ylab">yLab</code></td>
<td>
<p>String, label for the y-axis.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_title">title</code></td>
<td>
<p>String with title, 'Subject information' by default.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_label">label</code></td>
<td>
<p>String, label for the visualization.
This label is stored as attributes of the output
from the <code>subjectProfile[]Plot</code> function.<br />
This label is displayed in the final profile
report, in case no data is available for
for a specific patient, as: 'No [label] available.'</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_labelvars">labelVars</code></td>
<td>
<p>Named character vector with variable labels 
(names are the variable code)</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_paramvarsep">paramVarSep</code></td>
<td>
<p>String (' - ' by default) 
with character(s) used to concatenate multiple 
variables for the same record in the plot area.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_formatreport">formatReport</code></td>
<td>
<p>list with parameters used to specify the format of the report,
e.g. output of the <code><a href="#topic+subjectProfileReportFormat">subjectProfileReportFormat</a></code> function</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_paging">paging</code></td>
<td>
<p>Logical, if TRUE (by default), automatic 
paging is enabled, so patient profiles module too big to fit
in one page will span multiple pages.
Please note that the size of the graphic window 
(or report page) may need
to be re-sized in order that the plot fits.
<br />
If FALSE, the entire plot is included in one single page.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_table">table</code></td>
<td>
<p>Logical, if TRUE (FALSE by default) the information
contained in the variables: <code>paramValueVar</code> is displayed as a table. 
Otherwise, the values of the different variables are concatenated in the same line.</p>
</td></tr>
<tr><td><code id="subjectProfileTextPlot_+3A_colwidth">colWidth</code></td>
<td>
<p>Numeric vector with approximate
width of each parameter value column
for a table layout.<br />
For example in case two parameters are specified: 
<code>c(0.8, 0.2))</code> such as the first column
takes 80% of plot area, and the second column 20%.<br />
Note: columns can be slightly bigger if their content is 
larger than the specified width.
If not specified, column width is optimized
based on the max length of the character in each column.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of (across subjects) of list (across modules) of <code><a href="ggplot2.html#topic+ggplot2">ggplot2</a> objects</code>, 
also of class <code>subjectProfileTextPlot</code>, with additional <code>metaData</code> 
attributes containing
'<code>label</code>' and 'timeLim'.
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>


<h3>See Also</h3>

<p>Other patient profiles plotting function: 
<code><a href="#topic+subjectProfileEventPlot">subjectProfileEventPlot</a>()</code>,
<code><a href="#topic+subjectProfileIntervalPlot">subjectProfileIntervalPlot</a>()</code>,
<code><a href="#topic+subjectProfileLinePlot">subjectProfileLinePlot</a>()</code>
</p>

<hr>
<h2 id='subjectProfileTheme'>Custom <code><a href="ggplot2.html#topic+theme">theme</a></code> for subject profile plot.
Currently classic dark-on-light ggplot2 theme with alternated 
grey color for vertical grid lines</h2><span id='topic+subjectProfileTheme'></span>

<h3>Description</h3>

<p>Custom <code><a href="ggplot2.html#topic+theme">theme</a></code> for subject profile plot.
Currently classic dark-on-light ggplot2 theme with alternated 
grey color for vertical grid lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subjectProfileTheme()
</code></pre>


<h3>Value</h3>

<p><code><a href="ggplot2.html#topic+theme">theme</a></code> object
</p>


<h3>Author(s)</h3>

<p>Laure Cougnaud
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

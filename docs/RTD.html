<!DOCTYPE html><html><head><title>Help for package RTD</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RTD}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bulk_import_delete_part'><p>Delete bulk import part</p></a></li>
<li><a href='#bulk_import_error_records'><p>Show bulk import error records</p></a></li>
<li><a href='#bulk_import_upload_part'><p>Upload bulk import part</p></a></li>
<li><a href='#commit_bulk_import'><p>Commit bulk import part</p></a></li>
<li><a href='#create_bulk_import'><p>Create bulk import</p></a></li>
<li><a href='#create_database'><p>Create a database</p></a></li>
<li><a href='#create_table'><p>Create a table</p></a></li>
<li><a href='#delete_bulk_import'><p>Delete bulk import</p></a></li>
<li><a href='#delete_database'><p>Delete a database</p></a></li>
<li><a href='#delete_table'><p>Delete a table</p></a></li>
<li><a href='#exist_database'><p>Check table existence</p></a></li>
<li><a href='#exist_table'><p>Check table existence</p></a></li>
<li><a href='#freeze_bulk_import'><p>Freeze bulk import part</p></a></li>
<li><a href='#list_bulk_import_parts'><p>List bulk import parts</p></a></li>
<li><a href='#list_bulk_imports'><p>List bulk imports</p></a></li>
<li><a href='#list_databases'><p>Show database list</p></a></li>
<li><a href='#list_tables'><p>Show list of tables</p></a></li>
<li><a href='#perform_bulk_import'><p>Perform bulk import part</p></a></li>
<li><a href='#show_bulk_import'><p>Show bulk import</p></a></li>
<li><a href='#Td'><p>Connect to TD</p></a></li>
<li><a href='#td_upload'><p>Upload data.frame to TD</p></a></li>
<li><a href='#unfreeze_bulk_import'><p>Unfreeze bulk import part</p></a></li>
<li><a href='#update_schema'><p>Update schema of a table</p></a></li>
<li><a href='#wait_bulk_import'><p>Wait bulk import until finished</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Simple TD API Client</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aki Ariga &lt;ariga@treasure-data.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>
  Upload R data.frame to Arm Treasure Data, see <a href="https://www.treasuredata.com/">https://www.treasuredata.com/</a>. 
  You can execute database or table handling for resources on Arm Treasure Data.</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>embulk, embulk-output-td</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a> | file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/treasure-data/RTD">https://github.com/treasure-data/RTD</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/treasure-data/RTD/issues">https://github.com/treasure-data/RTD/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'TdClient.R' 'bulk_import.R' 'database.R' 'job.R' 'table.R'
'td.R'</td>
</tr>
<tr>
<td>Imports:</td>
<td>readr (&ge; 1.2.1), httr(&ge; 1.4.0), dplyr (&ge; 1.0.0), jsonlite,
methods, RcppMsgPack, urltools, uuid, purrr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.0.1), mockery (&ge; 0.4.1.1), openssl, webmockr,
devtools</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-07-26 08:32:15 UTC; ariga</td>
</tr>
<tr>
<td>Author:</td>
<td>Aki Ariga [aut, cre, cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-07-26 23:10:22 UTC</td>
</tr>
</table>
<hr>
<h2 id='bulk_import_delete_part'>Delete bulk import part</h2><span id='topic+bulk_import_delete_part'></span>

<h3>Description</h3>

<p>Delete bulk import part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bulk_import_delete_part(conn, name, part_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bulk_import_delete_part_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="bulk_import_delete_part_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
<tr><td><code id="bulk_import_delete_part_+3A_part_name">part_name</code></td>
<td>
<p>Bulk import part name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
bulk_import_delete_part(conn, sess_name, "part")

## End(Not run)

</code></pre>

<hr>
<h2 id='bulk_import_error_records'>Show bulk import error records</h2><span id='topic+bulk_import_error_records'></span>

<h3>Description</h3>

<p>Show bulk import error records
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bulk_import_error_records(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bulk_import_error_records_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="bulk_import_error_records_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return error records in gzipped file with msgpack stream format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
bulk_import_error_records(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='bulk_import_upload_part'>Upload bulk import part</h2><span id='topic+bulk_import_upload_part'></span>

<h3>Description</h3>

<p>Upload bulk import part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bulk_import_upload_part(conn, name, part_name, file_obj)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bulk_import_upload_part_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="bulk_import_upload_part_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
<tr><td><code id="bulk_import_upload_part_+3A_part_name">part_name</code></td>
<td>
<p>Bulk import part name</p>
</td></tr>
<tr><td><code id="bulk_import_upload_part_+3A_file_obj">file_obj</code></td>
<td>
<p>File connection. Should be msgpack stream with gzip compressed. Should have &quot;time&quot; column</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return bulk import status
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")

## End(Not run)

</code></pre>

<hr>
<h2 id='commit_bulk_import'>Commit bulk import part</h2><span id='topic+commit_bulk_import'></span>

<h3>Description</h3>

<p>Commit bulk import part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>commit_bulk_import(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="commit_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="commit_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
commit_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='create_bulk_import'>Create bulk import</h2><span id='topic+create_bulk_import'></span>

<h3>Description</h3>

<p>Create bulk import
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_bulk_import(conn, name, dbname, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="create_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
<tr><td><code id="create_bulk_import_+3A_dbname">dbname</code></td>
<td>
<p>Data base name</p>
</td></tr>
<tr><td><code id="create_bulk_import_+3A_table">table</code></td>
<td>
<p>Table name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
sess_name &lt;- uuid::UUIDgenerate()
create_bulk_import(conn, sess_name, "mydb", "mytable")

## End(Not run)

</code></pre>

<hr>
<h2 id='create_database'>Create a database</h2><span id='topic+create_database'></span>

<h3>Description</h3>

<p>Create a database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_database(conn, dbname, params)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_database_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="create_database_+3A_dbname">dbname</code></td>
<td>
<p>Target data base name</p>
</td></tr>
<tr><td><code id="create_database_+3A_params">params</code></td>
<td>
<p>Optional parameters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>, whether the execution succeeded or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
con &lt;- Td(apikey = "xxxxx")
create_database(con, "newdb")

## End(Not run)

</code></pre>

<hr>
<h2 id='create_table'>Create a table</h2><span id='topic+create_table'></span>

<h3>Description</h3>

<p>Create a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_table(conn, dbname, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_table_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
<tr><td><code id="create_table_+3A_dbname">dbname</code></td>
<td>
<p>Data base name</p>
</td></tr>
<tr><td><code id="create_table_+3A_table">table</code></td>
<td>
<p>Table name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>, whether the execution succeeded or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
create_table(conn, "mydb", "new_table")

## End(Not run)

</code></pre>

<hr>
<h2 id='delete_bulk_import'>Delete bulk import</h2><span id='topic+delete_bulk_import'></span>

<h3>Description</h3>

<p>Delete bulk import
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_bulk_import(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="delete_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
delete_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='delete_database'>Delete a database</h2><span id='topic+delete_database'></span>

<h3>Description</h3>

<p>Delete a database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_database(conn, dbname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_database_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="delete_database_+3A_dbname">dbname</code></td>
<td>
<p>Target data base name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>, whether the execution succeeded or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
delete_database(conn, "mydb")

## End(Not run)

</code></pre>

<hr>
<h2 id='delete_table'>Delete a table</h2><span id='topic+delete_table'></span>

<h3>Description</h3>

<p>Delete a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delete_table(conn, dbname, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delete_table_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
<tr><td><code id="delete_table_+3A_dbname">dbname</code></td>
<td>
<p>Data base name</p>
</td></tr>
<tr><td><code id="delete_table_+3A_table">table</code></td>
<td>
<p>Table name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>, whether the execution succeeded or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxxx")
delete_table(conn, "mydb", "iris")

## End(Not run)

</code></pre>

<hr>
<h2 id='exist_database'>Check table existence</h2><span id='topic+exist_database'></span>

<h3>Description</h3>

<p>Check table existence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exist_database(conn, dbname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exist_database_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="exist_database_+3A_dbname">dbname</code></td>
<td>
<p>Data base name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> or <code>FALSE</code>, existence
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
exist_database(conn, "mydb")

## End(Not run)

</code></pre>

<hr>
<h2 id='exist_table'>Check table existence</h2><span id='topic+exist_table'></span>

<h3>Description</h3>

<p>Check table existence
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exist_table(conn, dbname, table)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exist_table_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
<tr><td><code id="exist_table_+3A_dbname">dbname</code></td>
<td>
<p>Data base name</p>
</td></tr>
<tr><td><code id="exist_table_+3A_table">table</code></td>
<td>
<p>Table name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>, existence.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxxx")
exist_table(conn, "mydb", "iris")

## End(Not run)

</code></pre>

<hr>
<h2 id='freeze_bulk_import'>Freeze bulk import part</h2><span id='topic+freeze_bulk_import'></span>

<h3>Description</h3>

<p>Freeze bulk import part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>freeze_bulk_import(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="freeze_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="freeze_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
freeze_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='list_bulk_import_parts'>List bulk import parts</h2><span id='topic+list_bulk_import_parts'></span>

<h3>Description</h3>

<p>List bulk import parts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_bulk_import_parts(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_bulk_import_parts_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="list_bulk_import_parts_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return bulk import parts list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
list_bulk_import_parts(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='list_bulk_imports'>List bulk imports</h2><span id='topic+list_bulk_imports'></span>

<h3>Description</h3>

<p>List bulk imports
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_bulk_imports(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_bulk_imports_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return bulk import list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
list_bulk_import(conn)

## End(Not run)

</code></pre>

<hr>
<h2 id='list_databases'>Show database list</h2><span id='topic+list_databases'></span>

<h3>Description</h3>

<p>Show database list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_databases(conn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_databases_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of the database list
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
list_databases(conn)

## End(Not run)

</code></pre>

<hr>
<h2 id='list_tables'>Show list of tables</h2><span id='topic+list_tables'></span>

<h3>Description</h3>

<p>Show list of tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_tables(conn, dbname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_tables_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
<tr><td><code id="list_tables_+3A_dbname">dbname</code></td>
<td>
<p>Data base name. Optional, but highly recommended to prevent timeout.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.frame</code> of a list of tables or <code>FALSE</code> if not exists.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxxx")
list_tables(conn, "mydb")

## End(Not run)

</code></pre>

<hr>
<h2 id='perform_bulk_import'>Perform bulk import part</h2><span id='topic+perform_bulk_import'></span>

<h3>Description</h3>

<p>Perform bulk import part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perform_bulk_import(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="perform_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="perform_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
perform_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='show_bulk_import'>Show bulk import</h2><span id='topic+show_bulk_import'></span>

<h3>Description</h3>

<p>Show bulk import
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_bulk_import(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="show_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="show_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return bulk import status
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
show_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='Td'>Connect to TD</h2><span id='topic+Td'></span>

<h3>Description</h3>

<p>Connect to TD
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Td(endpoint, apikey, user_agent, headers, http_proxy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Td_+3A_endpoint">endpoint</code></td>
<td>
<p>Endpoint to TD API</p>
</td></tr>
<tr><td><code id="Td_+3A_apikey">apikey</code></td>
<td>
<p>API key for TD</p>
</td></tr>
<tr><td><code id="Td_+3A_user_agent">user_agent</code></td>
<td>
<p>User-Agent as <code>character</code>. optional</p>
</td></tr>
<tr><td><code id="Td_+3A_headers">headers</code></td>
<td>
<p>Default headres in a named <code>character</code> vector. optional</p>
</td></tr>
<tr><td><code id="Td_+3A_http_proxy">http_proxy</code></td>
<td>
<p>HTTP proxy setting. optional.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
client &lt;- Td(
  endpoint = "api.treasuredata.com",
  apikey = "xxxxxx",
  http_proxy = "http://user:pass@proxy.domain.com:8080/"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='td_upload'>Upload data.frame to TD</h2><span id='topic+td_upload'></span>

<h3>Description</h3>

<p>Upload data.frame to TD
</p>


<h3>Usage</h3>

<pre><code class='language-R'>td_upload(
  conn,
  dbname,
  table,
  df,
  mode = "bulk_import",
  embulk_dir,
  overwrite = FALSE,
  append = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="td_upload_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
<tr><td><code id="td_upload_+3A_dbname">dbname</code></td>
<td>
<p>Target destination database name.</p>
</td></tr>
<tr><td><code id="td_upload_+3A_table">table</code></td>
<td>
<p>Target table name.</p>
</td></tr>
<tr><td><code id="td_upload_+3A_df">df</code></td>
<td>
<p>Input data.frame.</p>
</td></tr>
<tr><td><code id="td_upload_+3A_mode">mode</code></td>
<td>
<p>Write mode. &quot;bulk_import&quot; or &quot;embulk&quot;. Default: &quot;bulk_import&quot;</p>
</td></tr>
<tr><td><code id="td_upload_+3A_embulk_dir">embulk_dir</code></td>
<td>
<p>Path to embulk. [optional]</p>
</td></tr>
<tr><td><code id="td_upload_+3A_overwrite">overwrite</code></td>
<td>
<p>Flag for overwriting the table if exists. It doesn't overwrite database. This flag sets &quot;replace&quot; mode for embulk-output-td.</p>
</td></tr>
<tr><td><code id="td_upload_+3A_append">append</code></td>
<td>
<p>Flag for append data into the table if exists. It doesn't overwrite database. This flag sets &quot;append&quot; mode for embulk-output-td.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
td_upload_embulk("mydb", "iris", iris)

# With overwrite option
td_upload_embulk("mydb", "iris", iris, overwrite = TRUE)

# With append option
td_upload_embulk("mydb", "iris", iris, append = TRUE)

# With overwrite option
td_upload_embulk("mydb", "iris", iris, "/path/to/embulk", overwrite = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='unfreeze_bulk_import'>Unfreeze bulk import part</h2><span id='topic+unfreeze_bulk_import'></span>

<h3>Description</h3>

<p>Unfreeze bulk import part
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unfreeze_bulk_import(conn, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unfreeze_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="unfreeze_bulk_import_+3A_name">name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Return <code>TRUE</code> if succeeded
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
unfreeze_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

<hr>
<h2 id='update_schema'>Update schema of a table</h2><span id='topic+update_schema'></span>

<h3>Description</h3>

<p>Update schema of a table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_schema(conn, dbname, table, schema)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_schema_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> connection</p>
</td></tr>
<tr><td><code id="update_schema_+3A_dbname">dbname</code></td>
<td>
<p>Data base name</p>
</td></tr>
<tr><td><code id="update_schema_+3A_table">table</code></td>
<td>
<p>Table name</p>
</td></tr>
<tr><td><code id="update_schema_+3A_schema">schema</code></td>
<td>
<p>Schema of the table to be updated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code>, whether the execution succeeded or not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxxx")
s &lt;- rbind(
c("sepal_length", "double", "sepal_length"),
c("sepal_width", "double", "sepal_width"),
c("petal_length", "double", "petal_length"),
c("petal_width", "double", "petal_width"),
c("species", "string", "species"))
udpate_schema(conn, "mydb", "iris", s)

## End(Not run)

</code></pre>

<hr>
<h2 id='wait_bulk_import'>Wait bulk import until finished</h2><span id='topic+wait_bulk_import'></span>

<h3>Description</h3>

<p>Wait bulk import until finished
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wait_bulk_import(conn, sess_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wait_bulk_import_+3A_conn">conn</code></td>
<td>
<p><code>Td</code> client</p>
</td></tr>
<tr><td><code id="wait_bulk_import_+3A_sess_name">sess_name</code></td>
<td>
<p>Bulk import session name</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conn &lt;- Td(apikey = "xxxx")
wait_bulk_import(conn, sess_name)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package forestHES</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {forestHES}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#forestHES-package'><p>Forest health evaluation system at the forest stand level</p></a></li>
<li><a href='#envdata'>
<p>Survey data of Environmental factors for pine-oak mixed forests</p></a></li>
<li><a href='#fhes'>
<p>Forest health evaluation system</p></a></li>
<li><a href='#herbdata'>
<p>Survey data of undergrowth herb cluster for pine-oak mixed forests</p></a></li>
<li><a href='#indexSystem'>
<p>The national forest health evaluation system</p></a></li>
<li><a href='#longtowide'>
<p>A R function for converting  to long data to wide data</p></a></li>
<li><a href='#mcIntosh'>
<p>Calculation of mcIntosh diversity index</p></a></li>
<li><a href='#membership'><p>Standardize the indices by membership functional models</p></a></li>
<li><a href='#preabs'>
<p>A R function for converting species matrix (wide data) to present-absent matrix</p></a></li>
<li><a href='#testIndex'>
<p>Test Indices for forest health evaluation system</p></a></li>
<li><a href='#treedata'>
<p>Survey data of individual trees for pine-oak mixed forests</p></a></li>
<li><a href='#vardis'>
<p>Distribution of species attributes in the sample plots</p></a></li>
<li><a href='#widetolong'>
<p>A R function for converting  to wide data to long data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Forest Health Evaluation System at the Forest Stand Level</td>
</tr>
<tr>
<td>Version:</td>
<td>2.0.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Description:</td>
<td>Assessing forest ecosystem health is an effective way for forest resource management.The national forest health evaluation system at the forest stand level using analytic hierarchy process, has a high application value and practical significance. The package can effectively and easily realize the total assessment process, and help foresters to further assess and management forest resources.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-18 13:18:53 UTC; 78438</td>
</tr>
<tr>
<td>Author:</td>
<td>Zongzheng Chai <a href="https://orcid.org/0000-0002-0530-0040"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zongzheng Chai &lt;chaizz@126.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-18 13:30:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='forestHES-package'>Forest health evaluation system at the forest stand level</h2><span id='topic+forestHES-package'></span><span id='topic+forestHES'></span>

<h3>Description</h3>

<p>Assessing forest ecosystem health is an effective way for forest resource
management.Zhang &amp; Lei (2014) proposed and developed a national forest health evaluation system at the forest stand level using analytic hierarchy process (AHP), has a high application value and practical significance.The R packge concentrates
on to relize the calculation of the national forest health evaluation system.
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai,chaizz@126.com</p>


<h3>References</h3>

<p>Zhang HR, and Lei XD. 2014. Health management techniques for typical forest types. Beijing: Publishing house of forestry, China.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##forest health evaluation for singel sample plot
tree.singlefhes&lt;-fhes(c1=0.67,c2=1.89,c3=2.04,c4=4,c5=2.04,c6=1,c7=0.3,
               c8=3.4839,c9=0.75,c10=0.15,c11=0,c12=0.75,c13=0.35,
               c14=2500,c15=53,c16=1.56,c17=5.49,c18=34.03,c19=2.05,
               c20=21.38,c21=91.67)
tree.singlefhes

##Assigned the threshold of some variables, according to specific
##realistic condition or research contents
tree.spefhes&lt;-fhes(c1=0.67,c2=1.89,c3=2.04,c4=4,c5=2.04,c6=1,c7=0.3,
               c8=3.4839,c9=0.75,c10=0.15,c11=0,c12=0.75,c13=0.35,
               c14=2500,c15=53,c16=1.56,c17=5.49,c18=34.03,c19=2.05,
               c20=21.38,c21=91.67,
               L_18=15,U_18=90,L_19=2,U_19=14,
               L_20=8,U_20=40,L_21=60,U_21=120)
tree.spefhes

##forest health evaluation for multiple sample plot
tree.multiplefhes&lt;-fhes(c1=c(0.67,0,0.68),c2=c(1.89,1.33,1.79),c3=c(2.04,1.91,2.19),
               c4=c(4,3,4),c5=c(2.04,1.47,2.19),c6=c(1,0,1),c7=c(0.3,0.95,0.9),
               c8=c(3.4839,3.1579,5.9231),c9=c(0.75,0,0.3),c10=c(0.15,0,0.09),
               c11=c(0,0,0),c12=c(0.75,0.07,0.84),c13=c(0.35,0.11,0.84),
               c14=c(833.33,833.33,2500),c15=c(53,59,43),c16=c(1.28,1.56,1.33),
               c17=c(5.49,5.91,5.27),c18=c(38.32,34.03,25.37),c19=c(2.05,1.04,1.27),
               c20=c(21.38,34.66,14.19),c21=c(86.67,80,91.67))
tree.multiplefhes

##More regulare method of forest health evaluation for multiple sample plot
data(testIndex)
tree.fhes&lt;-fhes(c1=testIndex$C1,c2=testIndex$C2,c3=testIndex$C3,c4=testIndex$C4,
     c5=testIndex$C5,c6=testIndex$C6,c7=testIndex$C7,c8=testIndex$C8,
     c9=testIndex$C9,c10=testIndex$C10,c11=testIndex$C11,c12=testIndex$C12,
    c13=testIndex$C13,c14=testIndex$C14,c15=testIndex$C15,c16=testIndex$C16,
    c17=testIndex$C17,c18=testIndex$C18,c19=testIndex$C19,c20=testIndex$C20,
    c21=testIndex$C21)
tree.fhes
pie(table(tree.fhes$evaluation$grade))
</code></pre>

<hr>
<h2 id='envdata'>
Survey data of Environmental factors for pine-oak mixed forests
</h2><span id='topic+envdata'></span>

<h3>Description</h3>

<p>Environmental factors of pine-oak codominant mixed forests in the Qinling Mountains
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("envdata")</code></pre>


<h3>Format</h3>

<p>A data frame with 20 observations on the following 16 variables.
</p>

<dl>
<dt><code>plot.id</code></dt><dd><p>Identification number of sample plots</p>
</dd>
<dt><code>Ele</code></dt><dd><p>Elevation</p>
</dd>
<dt><code>SLP</code></dt><dd><p>Slope position</p>
</dd>
<dt><code>Asp</code></dt><dd><p>Slope aspect</p>
</dd>
<dt><code>SLG</code></dt><dd><p>Slope gradient</p>
</dd>
<dt><code>TN</code></dt><dd><p>Total nitrogen</p>
</dd>
<dt><code>TP</code></dt><dd><p>Total phosphorus</p>
</dd>
<dt><code>TK</code></dt><dd><p>Total potassium </p>
</dd>
<dt><code>OM</code></dt><dd><p>Organic matter</p>
</dd>
<dt><code>pH</code></dt><dd><p>pH value</p>
</dd>
<dt><code>AN</code></dt><dd><p>Available nitrogen</p>
</dd>
<dt><code>AP</code></dt><dd><p>Available phosphorus </p>
</dd>
<dt><code>AK</code></dt><dd><p>Available potassium </p>
</dd>
<dt><code>BA</code></dt><dd><p>Base area</p>
</dd>
<dt><code>AD</code></dt><dd><p>Average tree DBH </p>
</dd>
<dt><code>AH</code></dt><dd><p>Average tree height</p>
</dd>
</dl>



<h3>Details</h3>

<p>Twenty 20*20 m plots were established for the pine-oak codominant
mixed forests within the Qinling National Forest Ecosystem Research
Station (Huoditang forest)
</p>


<h3>References</h3>

<p>Chai ZZ, Wang DX. 2016. Environmental influences on the successful regeneration of pine-oak mixed forests in the Qinling Mountains, China. Scandinavian Journal of Forest Research,31(4):368-381.DOI:10.1080/02827581.2015.1062912
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(envdata)
envdata
</code></pre>

<hr>
<h2 id='fhes'>
Forest health evaluation system
</h2><span id='topic+fhes'></span>

<h3>Description</h3>

<p>Zhang &amp; Lei (2014) proposed and developed a national forest health evaluation system at the forest stand level using analytic hierarchy process (AHP), has a high application value and practical significance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fhes(c1, c2, c3, c4, c5, c6, c7, c8, c9, c10, c11, c12, c13, c14,
c15, c16, c17, c18, c19, c20, c21, L_8 = 3.2, U_8 = 6.4,
L_15 = 30, U_15 = 60, L_16 = 0.8, U_16 = 1.3, O1_16 = 1.15,
O2_16 = 1.25, L_17 = 5, U_17 = 8.5, O1_17 = 6.5, O2_17 = 7,
L_18 = 10, U_18 = 80, L_19 = 1.49, U_19 = 13.19, L_20 = 5,
U_20 = 30, L_21 = 80, U_21 = 200)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fhes_+3A_c1">c1</code></td>
<td>

<p>Tree diversity index
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c2">c2</code></td>
<td>

<p>Shrub diversity index
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c3">c3</code></td>
<td>

<p>Herb diversity index
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c4">c4</code></td>
<td>

<p>Storey quantity
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c5">c5</code></td>
<td>

<p>Tree size diversity index
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c6">c6</code></td>
<td>

<p>Age structure
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c7">c7</code></td>
<td>

<p>Canopy closure
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c8">c8</code></td>
<td>

<p>Average volume increment per hectare
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c9">c9</code></td>
<td>

<p>Bio-disaster ratio
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c10">c10</code></td>
<td>

<p>Non bio-disaster ratio
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c11">c11</code></td>
<td>

<p>Crown length ratio
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c12">c12</code></td>
<td>

<p>Crown fade ratio
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c13">c13</code></td>
<td>

<p>Foliage falling ratio
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c14">c14</code></td>
<td>

<p>Regeneration density
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c15">c15</code></td>
<td>

<p>Soil depth
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c16">c16</code></td>
<td>

<p>Soil density
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c17">c17</code></td>
<td>

<p>Soil pH
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c18">c18</code></td>
<td>

<p>Soil organic matter
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c19">c19</code></td>
<td>

<p>Soil total nitrogen
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c20">c20</code></td>
<td>

<p>Soil available phosphorus
</p>
</td></tr>
<tr><td><code id="fhes_+3A_c21">c21</code></td>
<td>

<p>Soil available potassium
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_8">L_8</code></td>
<td>

<p>Lower limit of Average volume increment per hectare
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_8">U_8</code></td>
<td>

<p>Upper limit of average volume increment per hectare
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_15">L_15</code></td>
<td>

<p>Lower limit of average volume increment per hectare
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_15">U_15</code></td>
<td>

<p>Upper limit of average volume increment per hectare
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_16">L_16</code></td>
<td>

<p>Lower limit of soil density
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_16">U_16</code></td>
<td>

<p>Upper limit of soil density
</p>
</td></tr>
<tr><td><code id="fhes_+3A_o1_16">O1_16</code></td>
<td>

<p>Effective range of soil density
</p>
</td></tr>
<tr><td><code id="fhes_+3A_o2_16">O2_16</code></td>
<td>

<p>Effective range of soil density
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_17">L_17</code></td>
<td>

<p>Lower limit of soil pH
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_17">U_17</code></td>
<td>

<p>Upper limit of soil pH
</p>
</td></tr>
<tr><td><code id="fhes_+3A_o1_17">O1_17</code></td>
<td>

<p>Effective range of soil pH
</p>
</td></tr>
<tr><td><code id="fhes_+3A_o2_17">O2_17</code></td>
<td>

<p>Effective range of soil pH
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_18">L_18</code></td>
<td>

<p>Lower limit of soil organic matter
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_18">U_18</code></td>
<td>

<p>Upper limit of soil organic matter
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_19">L_19</code></td>
<td>

<p>Lower limit of soil total nitrogen
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_19">U_19</code></td>
<td>

<p>Upper limit of soil total nitrogen
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_20">L_20</code></td>
<td>

<p>Lower limit of soil available phosphorus
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_20">U_20</code></td>
<td>

<p>Upper limit of soil available phosphorus
</p>
</td></tr>
<tr><td><code id="fhes_+3A_l_21">L_21</code></td>
<td>

<p>Lower limit of soil available potassium
</p>
</td></tr>
<tr><td><code id="fhes_+3A_u_21">U_21</code></td>
<td>

<p>Upper limit of soil available potassium
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>None
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>indexSystem</code></td>
<td>
<p>index system</p>
</td></tr>
<tr><td><code>legend</code></td>
<td>
<p>legend</p>
</td></tr>
<tr><td><code>index</code></td>
<td>
<p>index</p>
</td></tr>
<tr><td><code>coverted.Index</code></td>
<td>
<p>coverted.Index</p>
</td></tr>
<tr><td><code>weighted.Index</code></td>
<td>
<p>weighted.Index</p>
</td></tr>
<tr><td><code>unweighted.Criterion</code></td>
<td>
<p>unweighted.Criterion</p>
</td></tr>
<tr><td><code>weighted.Criterion</code></td>
<td>
<p>weighted.Criterion</p>
</td></tr>
<tr><td><code>evaluation</code></td>
<td>
<p>evaluation results</p>
</td></tr>
</table>


<h3>Note</h3>

<p>None
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai
</p>


<h3>References</h3>

<p>Zhang HR, and Lei XD. 2014. Health management techniques for typical forest types. Beijing: Publishing house of forestry, China
</p>


<h3>See Also</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##forest health evaluation for singel sample plot
tree.singlefhes&lt;-fhes(c1=0.67,c2=1.89,c3=2.04,c4=4,c5=2.04,c6=1,c7=0.3,
               c8=3.4839,c9=0.75,c10=0.15,c11=0,c12=0.75,c13=0.35,
               c14=2500,c15=53,c16=1.56,c17=5.49,c18=34.03,c19=2.05,
               c20=21.38,c21=91.67)
tree.singlefhes

##Assigned the threshold of some variables, according to specific
##realistic condition or research contents
tree.spefhes&lt;-fhes(c1=0.67,c2=1.89,c3=2.04,c4=4,c5=2.04,c6=1,c7=0.3,
               c8=3.4839,c9=0.75,c10=0.15,c11=0,c12=0.75,c13=0.35,
               c14=2500,c15=53,c16=1.56,c17=5.49,c18=34.03,c19=2.05,
               c20=21.38,c21=91.67,
               L_18=15,U_18=90,L_19=2,U_19=14,
               L_20=8,U_20=40,L_21=60,U_21=120)
tree.spefhes

##forest health evaluation for multiple sample plot
tree.multiplefhes&lt;-fhes(c1=c(0.67,0,0.68),c2=c(1.89,1.33,1.79),c3=c(2.04,1.91,2.19),
               c4=c(4,3,4),c5=c(2.04,1.47,2.19),c6=c(1,0,1),c7=c(0.3,0.95,0.9),
               c8=c(3.4839,3.1579,5.9231),c9=c(0.75,0,0.3),c10=c(0.15,0,0.09),
               c11=c(0,0,0),c12=c(0.75,0.07,0.84),c13=c(0.35,0.11,0.84),
               c14=c(833.33,833.33,2500),c15=c(53,59,43),c16=c(1.28,1.56,1.33),
               c17=c(5.49,5.91,5.27),c18=c(38.32,34.03,25.37),c19=c(2.05,1.04,1.27),
               c20=c(21.38,34.66,14.19),c21=c(86.67,80,91.67))
tree.multiplefhes

##More regulare method of forest health evaluation for multiple sample plot
data(testIndex)
tree.fhes&lt;-fhes(c1=testIndex$C1,c2=testIndex$C2,c3=testIndex$C3,c4=testIndex$C4,
     c5=testIndex$C5,c6=testIndex$C6,c7=testIndex$C7,c8=testIndex$C8,
     c9=testIndex$C9,c10=testIndex$C10,c11=testIndex$C11,c12=testIndex$C12,
    c13=testIndex$C13,c14=testIndex$C14,c15=testIndex$C15,c16=testIndex$C16,
    c17=testIndex$C17,c18=testIndex$C18,c19=testIndex$C19,c20=testIndex$C20,
    c21=testIndex$C21)
tree.fhes
pie(table(tree.fhes$evaluation$grade))
</code></pre>

<hr>
<h2 id='herbdata'>
Survey data of undergrowth herb cluster for pine-oak mixed forests
</h2><span id='topic+herbdata'></span>

<h3>Description</h3>

<p>Undergrowth herb data of pine-oak codominant mixed forests in the Qinling Mountains
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("herbdata")</code></pre>


<h3>Format</h3>

<p>A data frame with 229 observations on the following 4 variables.
</p>

<dl>
<dt><code>plot.id</code></dt><dd><p>Identification number of sample plots</p>
</dd>
<dt><code>spe.id</code></dt><dd><p>Identification number of tree species</p>
</dd>
<dt><code>coverage</code></dt><dd><p>Coverage of herb species</p>
</dd>
<dt><code>abundance</code></dt><dd><p>Abundance of herb species</p>
</dd>
</dl>



<h3>Details</h3>

<p>Twenty 20*20 m plots were established for the pine-oak codominant
mixed forests within the Qinling
National Forest Ecosystem Research Station (Huoditang
forest)
</p>


<h3>References</h3>

<p>Chai ZZ, Wang DX. 2016. Environmental influences on the successful regeneration of pine-oak mixed forests in the Qinling Mountains, China. Scandinavian Journal of Forest Research,31(4):368-381.DOI:10.1080/02827581.2015.1062912
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(herbdata)
herbdata
</code></pre>

<hr>
<h2 id='indexSystem'>
The national forest health evaluation system
</h2><span id='topic+indexSystem'></span>

<h3>Description</h3>

<p>The national forest health evaluation system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("indexSystem")</code></pre>


<h3>Format</h3>

<p>A data frame with 21 observations on the following 9 variables.
</p>

<dl>
<dt><code>Criterion</code></dt><dd><p>a factor with levels  <code>b1</code> <code>b2</code> <code>b3</code> <code>b4</code> <code>b5</code> <code>b6</code> <code>b7</code></p>
</dd>
<dt><code>WeightB</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>Index</code></dt><dd><p>a factor with levels <code>c1</code> <code>c10</code> <code>c11</code> <code>c12</code> <code>c13</code> <code>c14</code> <code>c15*</code> <code>c16*</code> <code>c17*</code> <code>c18*</code> <code>c19*</code> <code>c2</code> <code>c20*</code> <code>c21*</code> <code>c3</code> <code>c4</code> <code>c5</code> <code>c6</code> <code>c7</code> <code>c8*</code> <code>c9</code></p>
</dd>
<dt><code>WeightC</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>Mode</code></dt><dd><p>a factor with levels <code>down</code> <code>mid</code> <code>up</code></p>
</dd>
<dt><code>L</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>U</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>O1</code></dt><dd><p>a numeric vector</p>
</dd>
<dt><code>O2</code></dt><dd><p>a numeric vector</p>
</dd>
</dl>



<h3>Details</h3>

<p>ID see legend
</p>


<h3>Source</h3>

<p>Zhang HR, and Lei XD. 2014. Health management techniques for typical forest types. Beijing: Publishing house of forestry, China.
</p>


<h3>References</h3>

<p>Zhang HR, and Lei XD. 2014. Health management techniques for typical forest types. Beijing: Publishing house of forestry, China
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(indexSystem)
</code></pre>

<hr>
<h2 id='longtowide'>
A R function for converting  to long data to wide data
</h2><span id='topic+longtowide'></span>

<h3>Description</h3>

<p>Converting regular survey data (long data, similar to the treedata and herbdata in the package) to species matrix, and attributes matrix (wide data).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>longtowide(longdata, left, up, inner = NULL,
fun = rep("sum", length(inner)), freq = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="longtowide_+3A_longdata">longdata</code></td>
<td>

<p>Regular survey data (long data, similar to the treedata and herbdata in the package)
</p>
</td></tr>
<tr><td><code id="longtowide_+3A_left">left</code></td>
<td>

<p>Row names of matrix data after converted
</p>
</td></tr>
<tr><td><code id="longtowide_+3A_up">up</code></td>
<td>

<p>Column names of matrix data after converted
</p>
</td></tr>
<tr><td><code id="longtowide_+3A_inner">inner</code></td>
<td>

<p>Attributes data need to converted
</p>
</td></tr>
<tr><td><code id="longtowide_+3A_fun">fun</code></td>
<td>

<p>Functions need to applied in the converting process
</p>
</td></tr>
<tr><td><code id="longtowide_+3A_freq">freq</code></td>
<td>

<p>Frequency of attributes
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Wide data,such species matrix, and attributes matrix, etc.
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#####Example######
##Following two example data with different subject, pineoakTree
##is for the base data of individual trees, and the herb data is for
##the base data of cluster.
data(treedata)
data(herbdata)

####Merge a species matrix from base data
##Note: following calculation only for the base data of individual not cluster
pineoak.spematrix&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id")
pineoak.spematrix

##Equivalent method to merge species matrix from base data
treedata$abundance&lt;-1
head(treedata)
tree.spematrix&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id",inner="abundance")
tree.spematrix
herb.spematrix&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",inner="abundance")
herb.spematrix

####Compute the frequency of species in the multiple plots
##Merge a frequency matrix from base data
tree.freq&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id",freq=TRUE)
tree.freq
herb.freq&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",freq=TRUE)
herb.freq

####Compute the attribute matrix from base data
##Single attribute matrix
tree.dbh&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id",inner="dbh.cm")
tree.dbh
herb.cover&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",inner="coverage")
herb.cover

##Multiple attribute matrix
tree.multattr&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id",
inner=c("dbh.cm","ht.m"))
tree.multattr
herb.multattr&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",
inner=c("coverage","abundance"))
herb.multattr

#######Calculation of Importance value (IV) for species######
####Calculation of Importance value (IV) for individual tree data
##Covert long data to wide data
tree.freq&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id",freq=TRUE)$frequency
tree.density&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id")/(20*400)
treedata$base&lt;-pi*(treedata$dbh.cm)^2/10000
tree.dominance&lt;-longtowide(longdata=treedata,left="plot.id",up="spe.id",inner="base")/(20*400)
##Compute the relative value
tree.refreq&lt;-tree.freq/rowSums(tree.freq)*100
tree.redensity&lt;-tree.density/rowSums(tree.density)*100
tree.redominance&lt;-tree.dominance/rowSums(tree.dominance)*100
##Compute the importance value matrix
treeIVmatirx&lt;-(tree.refreq+tree.redensity+tree.redominance)/3
##Compute the total importance value for species
treeTIV&lt;-colSums(treeIVmatirx)/20
##Order the total importance value for species
sortedtreeTIV&lt;-sort(treeTIV,decreasing=TRUE)
sortedtreeTIV

####Calculation of Importance value (IV) for clust herb data
##Covert long data to wide data
herb.freq&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",freq=TRUE)$frequency
herb.dencover&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",
inner=c("abundance","coverage"))
herb.density&lt;-herb.dencover$abundance/100
herb.coverage&lt;-herb.dencover$coverage/100
##Compute the relative value
herb.refreq&lt;-herb.freq/rowSums(herb.freq)*100
herb.redensity&lt;-herb.density/rowSums(herb.density)*100
herb.recoverage&lt;-herb.coverage/rowSums(herb.coverage)*100
##Compute the importance value matrix
herbIVmatirx&lt;-(herb.refreq+herb.redensity+herb.recoverage)/3
##Compute the total importance value for species
herbTIV&lt;-colSums(herbIVmatirx)/20
##Order the total importance value for species
sortedherbTIV&lt;-sort(herbTIV,decreasing=TRUE)
sortedtreeTIV
</code></pre>

<hr>
<h2 id='mcIntosh'>
Calculation of mcIntosh diversity index
</h2><span id='topic+mcIntosh'></span>

<h3>Description</h3>

<p>Calculation of mcIntosh diversity index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcIntosh(x, MARGIN = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mcIntosh_+3A_x">x</code></td>
<td>

<p>The species matrix
</p>
</td></tr>
<tr><td><code id="mcIntosh_+3A_margin">MARGIN</code></td>
<td>

<p>Compute the mcIntosh diversity index by row, MARGIN can be set 1;
compute the mcIntosh diversity index by column, MARGIN can be set 2;
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The mcIntosh diversity index
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai
</p>


<h3>References</h3>

<p>McIntosh RP.1967. An index of diversity and the relation of certain concepts to diversity. Ecol.Soc.Am. 48:329-404.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>######Calculation based on multiple plots
####convert raw data to species matrix
##raw data of multiple plots
data(herbdata)
herb.spematrix&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",inner="abundance")
##compute species mcIntosh diversity index for each plot
herb.mcIntosh&lt;-mcIntosh(herb.spematrix)
herb.mcIntosh
</code></pre>

<hr>
<h2 id='membership'>Standardize the indices by membership functional models
</h2><span id='topic+membership'></span>

<h3>Description</h3>

<p>Obtained indices always can not be used to evaluate the forest health because the indices with different dimension. And three membership functional models were thus used to standardize these indices,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>membership(mode = c("up", "down", "mid"), X, L, U, O1, O2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="membership_+3A_mode">mode</code></td>
<td>

<p>Three membership functional models were thus used to standardize these indices, which are up mode, down mode, and middle mode, respectively. For the up mode, a higher value is better; for the down mode, lower is better; for the middle mode, which have an effective range.
</p>
</td></tr>
<tr><td><code id="membership_+3A_x">X</code></td>
<td>
<p>The actual observed value of indices</p>
</td></tr>
<tr><td><code id="membership_+3A_l">L</code></td>
<td>
<p>Lower limit of the indices</p>
</td></tr>
<tr><td><code id="membership_+3A_u">U</code></td>
<td>
<p>Upper limit of the indices</p>
</td></tr>
<tr><td><code id="membership_+3A_o1">O1</code></td>
<td>
<p>O1 and O2 are the effective range of the indices</p>
</td></tr>
<tr><td><code id="membership_+3A_o2">O2</code></td>
<td>
<p>O1 and O2 are the effective range of the indices.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Standardized the indices by membership functional models
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai
</p>


<h3>References</h3>

<p>Zhang HR, and Lei XD. 2014. Health management techniques for typical forest types. Beijing: Publishing house of forestry, China.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>up.index&lt;-membership(mode="up",X=0.67,L=0,U=2.173)
up.index
down.index&lt;-membership(mode="down",X=0.8,L=0,U=2.73)
down.index
mid.index&lt;-membership(mode="mid",X=c(0.1,0.3,0.4,0.6,0.9),L=0.2,U=1.0,O1=0.5,O2=0.7)
mid.index
</code></pre>

<hr>
<h2 id='preabs'>
A R function for converting species matrix (wide data) to present-absent matrix
</h2><span id='topic+preabs'></span>

<h3>Description</h3>

<p>Converting species matrix (wide data) to present-absent matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>preabs(widedata)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="preabs_+3A_widedata">widedata</code></td>
<td>
<p>A species matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A present-absent matrix
</p>


<h3>Examples</h3>

<pre><code class='language-R'>herb.spematrix&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",
inner="abundance")
herb.preabs&lt;-preabs(herb.spematrix)
herb.preabs
</code></pre>

<hr>
<h2 id='testIndex'>
Test Indices for forest health evaluation system
</h2><span id='topic+testIndex'></span>

<h3>Description</h3>

<p>Example data of test Indices for forest health evaluation system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("testIndex")</code></pre>


<h3>Format</h3>

<p>A data frame with 30 observations on the following 21 variables.
</p>

<dl>
<dt>C1</dt><dd><p>Tree diversity index</p>
</dd>
<dt>C2</dt><dd><p>Shrub diversity index</p>
</dd>
<dt>C3</dt><dd><p>Herb diversity index</p>
</dd>
<dt>C4</dt><dd><p>Storey quantity</p>
</dd>
<dt>C5</dt><dd><p>Tree size diversity index</p>
</dd>
<dt>C6</dt><dd><p>Age structure</p>
</dd>
<dt>C7</dt><dd><p>Canopy closure</p>
</dd>
<dt>C8</dt><dd><p>Average volume increment per hectare</p>
</dd>
<dt>C9</dt><dd><p>Bio-disaster ratio</p>
</dd>
<dt>C10</dt><dd><p>Non bio-disaster ratio</p>
</dd>
<dt>C11</dt><dd><p>Crown length ratio</p>
</dd>
<dt>C12</dt><dd><p>Crown fade ratio</p>
</dd>
<dt>C13</dt><dd><p>Foliage falling ratio</p>
</dd>
<dt>C14</dt><dd><p>Regeneration density</p>
</dd>
<dt>C15</dt><dd><p>Soil depth</p>
</dd>
<dt>C16</dt><dd><p>Soil density</p>
</dd>
<dt>C17</dt><dd><p>Soil pH</p>
</dd>
<dt>C18</dt><dd><p>Soil organic matter</p>
</dd>
<dt>C19</dt><dd><p>Soil total nitrogen</p>
</dd>
<dt>C20</dt><dd><p>Soil available phosphorus</p>
</dd>
<dt>C21</dt><dd><p>Soil available potassium</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(testIndex)
testIndex
</code></pre>

<hr>
<h2 id='treedata'>
Survey data of individual trees for pine-oak mixed forests
</h2><span id='topic+treedata'></span>

<h3>Description</h3>

<p>Tree data of pine-oak codominant mixed forests in the Qinling Mountains
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("treedata")</code></pre>


<h3>Format</h3>

<p>A data frame with 1054 observations on the following 5 variables.
</p>

<dl>
<dt><code>plot.id</code></dt><dd><p>Identification number of sample plots</p>
</dd>
<dt><code>tree.id</code></dt><dd><p>Identification number of trees</p>
</dd>
<dt><code>spe.id</code></dt><dd><p>Identification number of tree species</p>
</dd>
<dt><code>dbh.cm</code></dt><dd><p>Diameter at breast height of trees</p>
</dd>
<dt><code>ht.m</code></dt><dd><p>Tree height of trees</p>
</dd>
</dl>



<h3>Details</h3>

<p>Twenty 20*20 m plots were established for the pine-oak codominant mixed forests.
</p>


<h3>References</h3>

<p>Chai ZZ, Wang DX. 2016. Environmental influences on the successful regeneration of pine-oak mixed forests in the Qinling Mountains, China. Scandinavian Journal of Forest Research,31(4):368-381.DOI:10.1080/02827581.2015.1062912
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(treedata)
treedata
</code></pre>

<hr>
<h2 id='vardis'>
Distribution of species attributes in the sample plots
</h2><span id='topic+vardis'></span>

<h3>Description</h3>

<p>To show the distribution od species attributes (such as DBH,tree height) in the sample plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vardis(data, varcat = "numeric", plot.id, var, breaks,
include.lowest = FALSE, right = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vardis_+3A_data">data</code></td>
<td>

<p>Data class should be a dataframe, the colnames with plot.id, species name, and some attributes (sucha as DBH,tree height), see data (treedata)
</p>
</td></tr>
<tr><td><code id="vardis_+3A_varcat">varcat</code></td>
<td>

<p>Catory of species attributes, numeric and character, respectively.
</p>
</td></tr>
<tr><td><code id="vardis_+3A_plot.id">plot.id</code></td>
<td>

<p>Identification number of sample plots
</p>
</td></tr>
<tr><td><code id="vardis_+3A_var">var</code></td>
<td>

<p>Attributes of species in the sample plot
</p>
</td></tr>
<tr><td><code id="vardis_+3A_breaks">breaks</code></td>
<td>

<p>Either a numeric vector of two or more unique cut points or a single number (greater than or equal to 2) giving the number of intervals into which x is to be cut.See the explanation of breaks of cut function
</p>
</td></tr>
<tr><td><code id="vardis_+3A_include.lowest">include.lowest</code></td>
<td>

<p>Labels for the levels of the resulting category. By default, labels are constructed using &quot;(a,b]&quot; interval notation. If labels = FALSE, simple integer codes are returned instead of a factor.See the explanation of include.lowest of cut function
</p>
</td></tr>
<tr><td><code id="vardis_+3A_right">right</code></td>
<td>

<p>Logical, indicating if the intervals should be closed on the right (and open on the left) or vice versa.See the explanation of right of cut function
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Distribution od species attributes (such as DBH,tree height) in the sample plots
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai
</p>


<h3>Examples</h3>

<pre><code class='language-R'>######when variabel catogory is numeric######
####Variable distribution according to the actual range of variable and sizeclass=1
data(treedata)
numericVar.actualsize1&lt;-vardis(treedata,plot.id="plot.id",var="ht.m",
                                breaks=seq(min(treedata$ht.m),max(treedata$ht.m),1))
numericVar.actualsize1
####Variable distribution according to the actual range of variable and sizeclass=2
numericVar.actualsize2&lt;-vardis(treedata,plot.id="plot.id",var="ht.m",
                                breaks=seq(min(treedata$ht.m),max(treedata$ht.m),2))
numericVar.actualsize2
##when the lower value of actual range of variable included,include.lowest can  set TRUE
numericVar.actualInlower&lt;-vardis(treedata,plot.id="plot.id",var="ht.m",
                                  breaks=seq(min(treedata$ht.m),max(treedata$ht.m),1),
                                  include.lowest=TRUE)
numericVar.actualInlower
##when the upper value of actual range of variable excluded,include.lowest can be set FALSE
numericVar.actualExupper&lt;-vardis(treedata,plot.id="plot.id",var="ht.m",
                                  breaks=seq(min(treedata$ht.m),max(treedata$ht.m),1),
                                  right=FALSE)
numericVar.actualExupper

####Variable distribution according to the specific range of variable
range(treedata$ht.m)
##[1]  2.6 32.2
##specific range can be set between 2 and 34, sizeclass is 2
numericVar.specific&lt;-vardis(treedata,plot.id="plot.id",var="ht.m",
                             breaks=2*1:17)
numericVar.specific

######when variabel catogory is character######
characterVar&lt;-vardis(treedata,varcat="character",plot.id="plot.id",var="spe.id")
characterVar
</code></pre>

<hr>
<h2 id='widetolong'>
A R function for converting  to wide data to long data
</h2><span id='topic+widetolong'></span>

<h3>Description</h3>

<p>Converting wide data, such as species matrix, and attributes matrix to long data,such  as the treedata and herbdata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>widetolong(widedata, leftlab = "left", uplab = "up", innerlab = "inner")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="widetolong_+3A_widedata">widedata</code></td>
<td>

<p>Data similar to the species matrix, and attributes matrix, etc.
</p>
</td></tr>
<tr><td><code id="widetolong_+3A_leftlab">leftlab</code></td>
<td>

<p>Row labels of wide data
</p>
</td></tr>
<tr><td><code id="widetolong_+3A_uplab">uplab</code></td>
<td>

<p>Column labels of wide data
</p>
</td></tr>
<tr><td><code id="widetolong_+3A_innerlab">innerlab</code></td>
<td>

<p>Attributes labels of inner data of wide data
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Long data,such as treedata,herbdata, etc.
</p>


<h3>Author(s)</h3>

<p>Zongzheng Chai
</p>


<h3>Examples</h3>

<pre><code class='language-R'>herb.spematrix&lt;-longtowide(longdata=herbdata,left="plot.id",up="spe.id",inner="abundance")
herb.spedata&lt;-widetolong(herb.spematrix,
                              leftlab="plot.id",uplab="spe.id",innerlab="abundance")
herb.spedata
##After removed zero in innerdata
rd0herb.spedata&lt;-herb.spedata[-which(herb.spedata$abundance==0),]
rd0herb.spedata
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package RMixtComp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RMixtComp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RMixtComp-package'><p>RMixtComp</p></a></li>
<li><a href='#CanadianWeather'><p>Canadian average annual weather cycle</p></a></li>
<li><a href='#extractMixtCompObject'><p>Extract a MixtComp object</p></a></li>
<li><a href='#mixtCompLearn'><p>Learn and predict using RMixtComp</p></a></li>
<li><a href='#plot.MixtCompLearn'><p>Plot of a <em>MixtCompLearn</em> object</p></a></li>
<li><a href='#plotCrit'><p>Plot BIC and ICL</p></a></li>
<li><a href='#predict.MixtComp'><p>Predict using RMixtComp</p></a></li>
<li><a href='#print.MixtCompLearn'><p>Print Values</p></a></li>
<li><a href='#prostate'><p>Prostate Cancer Data</p></a></li>
<li><a href='#simData'><p>Simulated Heterogeneous data</p></a></li>
<li><a href='#slopeHeuristic'><p>Slope heuristic</p></a></li>
<li><a href='#summary.MixtCompLearn'><p>MixtCompLearn Object Summaries</p></a></li>
<li><a href='#titanic'><p>Titanic data set</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Mixture Models with Heterogeneous and (Partially) Missing Data</td>
</tr>
<tr>
<td>Version:</td>
<td>4.1.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-06-17</td>
</tr>
<tr>
<td>Copyright:</td>
<td>Inria - Université de Lille - CNRS</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Mixture Composer (Biernacki (2015) <a href="https://inria.hal.science/hal-01253393v1">https://inria.hal.science/hal-01253393v1</a>) is a project to perform clustering using mixture models with
    heterogeneous data and partially missing data. Mixture models are fitted using a SEM algorithm.
    It includes 8 models for real, categorical, counting, functional and ranking data.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/modal-inria/MixtComp">https://github.com/modal-inria/MixtComp</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/modal-inria/MixtComp/issues">https://github.com/modal-inria/MixtComp/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>RMixtCompIO(&ge; 4.0.4), ggplot2, plotly, scales</td>
</tr>
<tr>
<td>Depends:</td>
<td>RMixtCompUtilities (&ge; 4.1.4), R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, xml2, Rmixmod, knitr, ClusVis, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-06-17 15:50:40 UTC; quentin</td>
</tr>
<tr>
<td>Author:</td>
<td>Vincent Kubicki [aut],
  Christophe Biernacki [aut],
  Quentin Grimonprez [aut, cre],
  Matthieu Marbac-Lourdelle [ctb],
  Étienne Goffinet [ctb],
  Serge Iovleff [ctb],
  Julien Vandaele [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Quentin Grimonprez &lt;quentingrim@yahoo.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-06-18 22:50:13 UTC</td>
</tr>
</table>
<hr>
<h2 id='RMixtComp-package'>RMixtComp</h2><span id='topic+RMixtComp-package'></span>

<h3>Description</h3>

<p>MixtComp (Mixture Composer, <a href="https://github.com/modal-inria/MixtComp">https://github.com/modal-inria/MixtComp</a>) is a model-based clustering package
for mixed data. It used mixture models (McLachlan and Peel, 2010) fitted using a SEM algorithm (Celeux et al., 1995) to cluster the data.
</p>
<p>It has been engineered around the idea of easy and quick integration of all new univariate models, under the conditional
independence assumption.
</p>
<p>Five basic models (Gaussian, Multinomial, Poisson, Weibull, NegativeBinomial) are implemented, as well as two
advanced models: Func_CS for functional data (Same et al., 2011) and Rank_ISR for ranking data (Jacques and Biernacki, 2014).
</p>
<p>MixtComp has the ability to natively manage missing data (completely or by interval).
</p>


<h3>Details</h3>

<p>Main functions are <a href="#topic+mixtCompLearn">mixtCompLearn</a> for clustering, <a href="#topic+mixtCompPredict">mixtCompPredict</a> for predicting the cluster of new samples
with a model learnt with <a href="#topic+mixtCompLearn">mixtCompLearn</a>.
<a href="RMixtCompUtilities.html#topic+createAlgo">createAlgo</a> gives you default values for required parameters.
</p>
<p>Read the help page of <a href="#topic+mixtCompLearn">mixtCompLearn</a> for available models and data format. A summary of these information can be
accessed with the function <a href="RMixtCompUtilities.html#topic+availableModels">availableModels</a>.
</p>
<p>All utility functions (getters, graphical) are in the <code><a href="RMixtCompUtilities.html#topic+RMixtCompUtilities-package">RMixtCompUtilities-package</a></code> package.
</p>
<p>In order to have an overview of the output, you can use <a href="#topic+print.MixtCompLearn">print.MixtCompLearn</a>, <a href="#topic+summary.MixtCompLearn">summary.MixtCompLearn</a> and
<a href="#topic+plot.MixtCompLearn">plot.MixtCompLearn</a> functions,
</p>
<p>Getters are available to easily access some results (see. <a href="#topic+mixtCompLearn">mixtCompLearn</a> for output format): <a href="RMixtCompUtilities.html#topic+getBIC">getBIC</a>,
<a href="RMixtCompUtilities.html#topic+getICL">getICL</a>, <a href="RMixtCompUtilities.html#topic+getCompletedData">getCompletedData</a>, <a href="RMixtCompUtilities.html#topic+getParam">getParam</a>, <a href="RMixtCompUtilities.html#topic+getProportion">getProportion</a>, <a href="RMixtCompUtilities.html#topic+getTik">getTik</a>, <a href="RMixtCompUtilities.html#topic+getEmpiricTik">getEmpiricTik</a>,
<a href="RMixtCompUtilities.html#topic+getPartition">getPartition</a>, <a href="RMixtCompUtilities.html#topic+getType">getType</a>, <a href="RMixtCompUtilities.html#topic+getModel">getModel</a>, <a href="RMixtCompUtilities.html#topic+getVarNames">getVarNames</a>.
</p>
<p>You can compute discriminative powers and similarities with functions: <a href="RMixtCompUtilities.html#topic+computeDiscrimPowerClass">computeDiscrimPowerClass</a>,
<a href="RMixtCompUtilities.html#topic+computeDiscrimPowerVar">computeDiscrimPowerVar</a>, <a href="RMixtCompUtilities.html#topic+computeSimilarityClass">computeSimilarityClass</a>, <a href="RMixtCompUtilities.html#topic+computeSimilarityVar">computeSimilarityVar</a>.
</p>
<p>Graphics functions are <a href="RMixtCompUtilities.html#topic+plot.MixtComp">plot.MixtComp</a>, <a href="#topic+plot.MixtCompLearn">plot.MixtCompLearn</a>, <a href="RMixtCompUtilities.html#topic+heatmapClass">heatmapClass</a>, <a href="RMixtCompUtilities.html#topic+heatmapTikSorted">heatmapTikSorted</a>,
<a href="RMixtCompUtilities.html#topic+heatmapVar">heatmapVar</a>, <a href="RMixtCompUtilities.html#topic+histMisclassif">histMisclassif</a>, <a href="RMixtCompUtilities.html#topic+plotConvergence">plotConvergence</a>, <a href="RMixtCompUtilities.html#topic+plotDataBoxplot">plotDataBoxplot</a>, <a href="RMixtCompUtilities.html#topic+plotDataCI">plotDataCI</a>,
<a href="RMixtCompUtilities.html#topic+plotDiscrimClass">plotDiscrimClass</a>, <a href="RMixtCompUtilities.html#topic+plotDiscrimVar">plotDiscrimVar</a>, <a href="RMixtCompUtilities.html#topic+plotProportion">plotProportion</a>, <a href="#topic+plotCrit">plotCrit</a>.
</p>
<p>Datasets with running examples are provided: <a href="#topic+titanic">titanic</a>, <a href="#topic+CanadianWeather">CanadianWeather</a>, <a href="#topic+prostate">prostate</a>, <a href="#topic+simData">simData</a>.
</p>
<p>Documentation about input and output format is available: <code>vignette("dataFormat")</code> and
<code>vignette("mixtCompObject")</code>.
</p>
<p>MixtComp examples: <code>vignette("MixtComp")</code> or online <a href="https://github.com/vandaele/mixtcomp-notebook">https://github.com/vandaele/mixtcomp-notebook</a>.
</p>
<p>Using ClusVis with RMixtComp: <code>vignette("dataFormat")</code>.
</p>


<h3>References</h3>

<p>C. Biernacki. MixtComp software: Model-based clustering/imputation with mixed data, missing data and uncertain data. MISSDATA 2015, Jun 2015, Rennes, France. hal-01253393
</p>
<p>G. McLachlan, D. Peel (2000). Finite Mixture Models. Wiley Series in Probability and Statistics, 1st edition. John Wiley &amp; Sons. doi:10.1002/0471721182.
</p>
<p>G. Celeux, D. Chauveau, J. Diebolt. On Stochastic Versions of the EM Algorithm. [Research Report] RR-2514, INRIA. 1995. inria-00074164
</p>
<p>A. Same, F. Chamroukhi, G. Govaert, P. Aknin. (2011). Model-based clustering and segmentation of time series with change in regime. Adv. Data Analysis and Classification. 5. 301-321. 10.1007/s11634-011-0096-5.
</p>
<p>J. Jacques, C. Biernacki. (2014). Model-based clustering for multivariate partial ranking data. Journal of Statistical Planning and Inference. 149. 10.1016/j.jspi.2014.02.011.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixtCompLearn">mixtCompLearn</a></code> <code><a href="RMixtCompUtilities.html#topic+availableModels">availableModels</a></code> <code><a href="RMixtCompUtilities.html#topic+RMixtCompUtilities-package">RMixtCompUtilities-package</a></code>,
<code><a href="RMixtCompIO.html#topic+RMixtCompIO-package">RMixtCompIO-package</a></code>. Other clustering packages: <code>Rmixmod</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simData)

# define the algorithm's parameters: you can use createAlgo function
algo &lt;- list(
    nbBurnInIter = 50,
    nbIter = 50,
    nbGibbsBurnInIter = 50,
    nbGibbsIter = 50,
    nInitPerClass = 20,
    nSemTry = 20,
    confidenceLevel = 0.95
)

# run RMixtComp for learning using only 3 variables
resLearn &lt;- mixtCompLearn(simData$dataLearn$matrix, simData$model$unsupervised[1:3], algo,
    nClass = 1:2, nRun = 2, nCore = 1
)

summary(resLearn)
plot(resLearn)

# run RMixtComp for predicting
resPred &lt;- mixtCompPredict(
    simData$dataPredict$matrix, simData$model$unsupervised[1:3], algo,
    resLearn, nCore = 1
)

partitionPred &lt;- getPartition(resPred)
print(resPred)

</code></pre>

<hr>
<h2 id='CanadianWeather'>Canadian average annual weather cycle</h2><span id='topic+CanadianWeather'></span>

<h3>Description</h3>

<p>Daily temperature and precipitation at 35 different locations in Canada averaged over 1960 to 1994.
Data from <code>fda</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(CanadianWeather)
</code></pre>


<h3>Format</h3>

<p>A list containing 5 elements:
</p>

<ul>
<li><p> tempav: a matrix of dimensions (365, 35) giving the average temperature in degrees celsius for each day of the year.
</p>
</li>
<li><p> precav: a matrix of dimensions (365, 35) giving the average rainfall in millimeters for each day of the year.
</p>
</li>
<li><p> time: sequence from 1 to 365.
</p>
</li>
<li><p> coordinates: a matrix giving 'N.latitude' and 'W.longitude' for each place.
</p>
</li>
<li><p> region: Which of 4 climate zones contain each place: Atlantic, Pacific, Continental, Arctic.
</p>
</li></ul>



<h3>Source</h3>

<p>Ramsay, James O., and Silverman, Bernard W. (2006), Functional Data Analysis, 2nd ed., Springer, New York.
</p>
<p>Ramsay, James O., and Silverman, Bernard W. (2002), Applied Functional Data Analysis, Springer, New York
</p>


<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+prostate">prostate</a></code>,
<code><a href="#topic+simData">simData</a></code>,
<code><a href="#topic+titanic">titanic</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(CanadianWeather)

# convert functional to MixtComp format
dat &lt;- list(
    tempav = apply(
        CanadianWeather$tempav, 2,
        function(x) createFunctional(CanadianWeather$time, x)
    ),
    precav = apply(
        CanadianWeather$precav, 2,
        function(x) createFunctional(CanadianWeather$time, x)
    )
)

# create model with 4 subregressions ans 2 coefficients per regression
model &lt;- list(
    tempav = list(type = "Func_CS", paramStr = "nSub: 4, nCoeff: 2"),
    precav = list(type = "Func_CS", paramStr = "nSub: 4, nCoeff: 2")
)

# create algo
algo &lt;- createAlgo()

# run clustering
resLearn &lt;- mixtCompLearn(dat, model, algo, nClass = 2:4, criterion = "ICL", nRun = 3, nCore = 1)

summary(resLearn)

plot(resLearn)

getPartition(resLearn)
getTik(resLearn, log = FALSE)


</code></pre>

<hr>
<h2 id='extractMixtCompObject'>Extract a MixtComp object</h2><span id='topic+extractMixtCompObject'></span>

<h3>Description</h3>

<p>Extract a MixtComp object from a MixtCompLearn object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extractMixtCompObject(object, K)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extractMixtCompObject_+3A_object">object</code></td>
<td>
<p><a href="#topic+mixtCompLearn">mixtCompLearn</a> output</p>
</td></tr>
<tr><td><code id="extractMixtCompObject_+3A_k">K</code></td>
<td>
<p>number of classes of the model to extract</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>MixtComp</code> object containing the clustering model with K classes
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>Examples</h3>

<pre><code class='language-R'># run clustering
resLearn &lt;- mixtCompLearn(data.frame(x = rnorm(500)),
  nClass = 1:3, criterion = "ICL",
  nRun = 1, nCore = 1
)

# extract the model with 2 classes
clustModel &lt;- extractMixtCompObject(resLearn, K = 2)

</code></pre>

<hr>
<h2 id='mixtCompLearn'>Learn and predict using RMixtComp</h2><span id='topic+mixtCompLearn'></span><span id='topic+mixtCompPredict'></span>

<h3>Description</h3>

<p>Estimate the parameter of a mixture model or predict the cluster of new samples.
It manages heterogeneous data as well as missing and incomplete data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixtCompLearn(
  data,
  model = NULL,
  algo = createAlgo(),
  nClass,
  criterion = c("BIC", "ICL"),
  hierarchicalMode = c("auto", "yes", "no"),
  nRun = 1,
  nCore = min(max(1, ceiling(detectCores()/2)), nRun),
  verbose = TRUE
)

mixtCompPredict(
  data,
  model = NULL,
  algo = resLearn$algo,
  resLearn,
  nClass = NULL,
  nRun = 1,
  nCore = min(max(1, ceiling(detectCores()/2)), nRun),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixtCompLearn_+3A_data">data</code></td>
<td>
<p>a data.frame, a matrix or a named list containing the data (see <em>Details</em> and <em>Data format</em> sections).</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_model">model</code></td>
<td>
<p>a named list containing models and hyperparameters (see <em>Details</em> section).</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_algo">algo</code></td>
<td>
<p>a list containing the parameters of the SEM-Gibbs algorithm (see <em>Details</em> or <a href="RMixtCompUtilities.html#topic+createAlgo">createAlgo</a>).</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_nclass">nClass</code></td>
<td>
<p>the number of classes of the mixture model. Can be a vector for <em>mixtCompLearn</em> only.</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_criterion">criterion</code></td>
<td>
<p>&quot;BIC&quot; or &quot;ICL&quot;. Criterion used for choosing the best model.</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_hierarchicalmode">hierarchicalMode</code></td>
<td>
<p>&quot;auto&quot;, &quot;yes&quot; or &quot;no&quot;. If &quot;auto&quot;, it performs a hierarchical version of MixtComp
(clustering in two classes then each classes is split in two ...) when a functional variable is present
(see section <em>Hierarchical Mode</em>).</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_nrun">nRun</code></td>
<td>
<p>number of runs for every given number of class. If &gt;1, SEM is run <code>nRun</code> times for every number of class,
and the best according to observed likelihood is kept.</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_ncore">nCore</code></td>
<td>
<p>number of cores used for the parallelization of the <em>nRun</em> runs.</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_verbose">verbose</code></td>
<td>
<p>if TRUE, print some information.</p>
</td></tr>
<tr><td><code id="mixtCompLearn_+3A_reslearn">resLearn</code></td>
<td>
<p>output of <em>mixtCompLearn</em> (only for <em>mixtCompPredict</em> function).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <em>data</em> object can be a matrix, a data.frame or a list.
In the case of a matrix or data.frame, each column must be names and corresponds to a variable.
In the case of a list, each element corresponds to a variable, each element must be named.
Missing and incomplete data are managed, see section <em>Data format</em> for how to format them.
</p>
<p>The <em>model</em> object is a named list containing the variables to use in the model.
All variables listed in the <em>model</em> object must be in the <em>data</em> object.
<em>model</em> can contain less variables than <em>data</em>.
An element of the list is the model's name to use (see below for the list of available models).
For example, <code>model &lt;- list(real1 = "Gaussian", counting1 = "Poisson")</code> indicates a mixture model with 2
variables named real1 and counting1 with Gaussian and Poisson as model.
Some models require hyperparameters in this case, the model is described by a list of 2 elements:
type containing the model name and paramStr containing the hyperparameters.
For example: <code>model &lt;- list(func1 = list(type = "Func_CS", paramStr = "nSub: 4, nCoeff: 2"), counting1 = "Poisson")</code>.
If the model is NULL, data are supposed to be provided in data.frame or list with R format
(numeric, factor, character, NA as missing value).
Models will be imputed as follows: &quot;Gaussian&quot; for numeric variable, &quot;Multinomial&quot; for character or factor variable
and &quot;Poisson&quot; for integer variable.
A summary of available models (and associated hyperparameters and missing format) can be accessed by calling
the <a href="RMixtCompUtilities.html#topic+availableModels">availableModels</a> function.
</p>
<p>Eight models are available in RMixtComp: <em>Gaussian</em>, <em>Multinomial</em>, <em>Poisson</em>, <em>NegativeBinomial</em>,
<em>Weibull</em>, <em>Func_CS</em>, <em>Func_SharedAlpha_CS</em>, <em>Rank_ISR</em>.
<em>Func_CS</em> and <em>Func_SharedAlpha_CS</em> models require hyperparameters: the number of subregressions of functional
and the number of coefficients of each subregression.
These hyperparameters are specified by: <em>nSub: i, nCoeff: k</em> in the <em>paramStr</em> field of the <em>model</em> object.
The <em>Func_SharedAlpha_CS</em> is a variant of the <em>Func_CS</em> model with the alpha parameter shared between clusters.
It means that the start and end of each subregression will be the same across the clusters.
</p>
<p>To perform a (semi-)supervised clustering, user can add a variable named <em>z_class</em> in the data and model objects with
<em>LatentClass</em> as model in the model object.
</p>
<p>The <em>algo</em> object is a list containing the different number of iterations for the algorithm.
This list can be generated using the <a href="RMixtCompUtilities.html#topic+createAlgo">createAlgo</a> function.
The algorithm is decomposed in a burn-in phase and a normal phase.
Estimates from the burn-in phase are not shown in output.
</p>

<ul>
<li><p>nbBurnInIter: Number of iterations of the burn-in part of the SEM algorithm.
</p>
</li>
<li><p>nbIter: Number of iterations of the SEM algorithm.
</p>
</li>
<li><p>nbGibbsBurnInIter: Number of iterations of the burn-in part of the Gibbs algorithm.
</p>
</li>
<li><p>nbGibbsIter: Number of iterations of the Gibbs algorithm.
</p>
</li>
<li><p>nInitPerClass: Number of individuals used to initialize each cluster (default = 10).
</p>
</li>
<li><p>nSemTry: Number of try of the algorithm for avoiding an error.
</p>
</li>
<li><p>confidenceLevel: confidence level for confidence bounds for parameter estimation
</p>
</li>
<li><p>ratioStableCriterion: stability partition required to stop earlier the SEM 
</p>
</li>
<li><p>nStableCriterion: number of iterations of partition stability to stop earlier the SEM
</p>
</li></ul>



<h3>Value</h3>

<p>An object of classes MixtCompLearn and MixtComp for <em>mixtCompLearn</em> function. An object of class MixtComp
for <em>mixtCompPredict</em> (see details section).
</p>


<h3>Data format</h3>

<p>See the associated vignette for more details (<code>RShowDoc("dataFormat", package = "RMixtComp")</code>).
</p>
<p>- Gaussian data:
Gaussian data are real values with the dot as decimal separator.
Missing data are indicated by a <em>?</em>. Partial data can be provided through intervals denoted by
<em>[a:b]</em> where <em>a</em> (resp. <em>b</em>) is a real or <em>-inf</em> (resp. <em>+inf</em>).
</p>
<p>- Categorical Data:
Categorical data must be consecutive integer with 1 as minimal value. Missing data are indicated by a <em>?</em>.
For partial data, a list of possible values can be provided by <em>a_1,...,a_j</em>,
where <em>a_i</em> denotes a categorical value.
</p>
<p>- Poisson and NegativeBinomial Data:
Poisson and NegativeBinomial data must be positive integer. Missing data are indicated by a <em>?</em>.
Partial data can be provided through intervals denoted by
<em>[a:b]</em> where <em>a</em> and <em>b</em> are  positive integers. <em>b</em> can be <em>+inf</em>.
</p>
<p>- Weibull Data:
Weibull data are real positive values with the dot as decimal separator.
Missing data are indicated by a <em>?</em>. Partial data can be provided through intervals denoted by
<em>[a:b]</em> where <em>a</em> and <em>b</em> are  positive reals. <em>b</em> can be <em>+inf</em>.
</p>
<p>- Rank data:
The format of a rank is: <em>o_1, ..., o_j</em> where o_1 is an integer corresponding to the number of the object ranked
in 1st position.
For example: 4,2,1,3 means that the fourth object is ranked first then the second object is in second position and so on.
Missing data can be specified by replacing and object by a <em>?</em> or a list of potential object, for example:
<em>4, {2 3}, {2 1}, ?</em> means that the object ranked in second position is either the object number 2 or
the object number 3, then the object ranked in third position is either the object 2 or 1 and the last one can be anything.
A totally missing rank is specified by <em>?,?,...,?</em>
</p>
<p>- Functional data:
The format of a functional data is: <em>time_1:value_1,..., time_j:value_j</em>. Between individuals,
functional data can have different length and different time.
<em>i</em> is the number of subregressions in a functional data and <em>k</em> the number of coefficients
of each regression (2 = linear, 3 = quadratic, ...). Missing data are not supported.
</p>
<p>- z_class:
To perform a (semi-)supervised clustering, user can add a variable named 'z_class' (with eventually some missing values)
with &quot;LatentClass&quot; as model. Missing data are indicated by a <em>?</em>. For partial data,
a list of possible values can be provided by <em>a_1,...,a_j</em>, where <em>a_i</em> denotes a class number.
</p>


<h3>MixtComp object</h3>

<p>A MixtComp object is a result of a single run of MixtComp algorithm. It is a list containing three elements
<em>mixture</em>, <em>variable</em> and <em>algo</em>.
If MixtComp fails to run, the list contains a single element: warnLog containing error messages.
</p>
<p>The <em>mixture</em> element contains
</p>

<ul>
<li><p>BIC: value of BIC
</p>
</li>
<li><p>ICL: value of ICL
</p>
</li>
<li><p>nbFreeParameters: number of free parameters of the mixture
</p>
</li>
<li><p>lnObservedLikelihood: observed loglikelihood
</p>
</li>
<li><p>lnCompletedLikelihood: completed loglikelihood
</p>
</li>
<li><p>IDClass: entropy used to compute the discriminative power of variable:
-<code class="reqn">\sum_{i=1}^n t_{ikj} log(t_{ikj})/(n * log(K))</code>
</p>
</li>
<li><p>IDClassBar: entropy used to compute the discriminative power of variable:
-<code class="reqn">\sum_{i=1}^n (1-t_{ikj}) log((1-t_{ikj}))/(n * log(K))</code>
</p>
</li>
<li><p>delta: similarities between variables (see <a href="RMixtCompUtilities.html#topic+heatmapVar">heatmapVar</a>)
</p>
</li>
<li><p>completedProbabilityLogBurnIn: evolution of the completed log-probability during the burn-in period
(can be used to check the convergence and determine the ideal number of iteration)
</p>
</li>
<li><p>completedProbabilityLogRun: evolution of the completed log-probability  after the burn-in period
(can be used to check the convergence and determine the ideal number of iteration)
</p>
</li>
<li><p>runTime: list containing the total execution time in seconds and the execution time of some subpart.
</p>
</li>
<li><p>lnProbaGivenClass: log-proportion + log-probability of x_i for each class
</p>
</li></ul>

<p>The <em>algo</em> list contains a copy of <em>algo</em> parameter with extra elements:
nInd, nClass, mode (&quot;learn&quot; or &quot;predict&quot;).
</p>
<p>The <em>variable</em> list contains 3 lists : <em>data</em>, <em>type</em> and <em>param</em>.
Each of these lists contains a list for each variable (the name of each list is the name of the variable) and for
the class of samples (<em>z_class</em>).
The <em>type</em> list contains the model used for each variable.
</p>
<p>Each list of the <em>data</em> list contains the completed data in the <em>completed</em> element and some statistics
about them (<em>stat</em>).
</p>
<p>The estimated parameter can be found in the <em>stat</em> element in the <em>param</em> list
(see Section <em>View of an output object</em>).
For more details about the parameters of each model, you can refer to <a href="stats.html#topic+rnorm">rnorm</a>, <a href="stats.html#topic+rpois">rpois</a>,
<a href="stats.html#topic+rweibull">rweibull</a>, <a href="stats.html#topic+rnbinom">rnbinom</a>, <a href="stats.html#topic+rmultinom">rmultinom</a>, or references in the <em>References</em> section.
</p>


<h3>View of a MixtComp object</h3>

<p>Example of output object with variables named &quot;categorical&quot;, &quot;gaussian&quot;, &quot;rank&quot;, &quot;functional&quot;, &quot;poisson&quot;, &quot;nBinom&quot;
and &quot;weibull&quot; with respectively <em>Multinomial</em>, <em>Gaussian</em>, <em>Rank_ISR</em>, <em>Func_CS</em>
(or <em>Func_SharedAlpha_CS</em>), <em>Poisson</em>, <em>NegativeBinomial</em> and <em>Weibull</em> as model.
</p>

<table>
<tr>
 <td style="text-align: left;">
output  </td>
</tr>
<tr>
 <td style="text-align: left;">
|_______ </td><td style="text-align: left;"> algo </td><td style="text-align: left;"> __ nbBurnInIter</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nbIter</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nbGibbsBurnInIter</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nbGibbsIter</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nInitPerClass</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nSemTry</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ ratioStableCriterion</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nStableCriterion</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ confidenceLevel  </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ mode </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nInd  </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">      </td><td style="text-align: left;"> |_ nClass </td>
</tr>
<tr>
 <td style="text-align: left;">
| </td>
</tr>
<tr>
 <td style="text-align: left;">
|_______ </td><td style="text-align: left;"> mixture </td><td style="text-align: left;"> __ BIC </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ ICL</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ lnCompletedLikelihood</td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ lnObservedLikelihood </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ IDClass  </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ IDClassBar  </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ delta  </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ runTime </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ nbFreeParameters </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ completedProbabilityLogBurnIn </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ completedProbabilityLogRun </td>
</tr>
<tr>
 <td style="text-align: left;">
|        </td><td style="text-align: left;">         </td><td style="text-align: left;"> |_ lnProbaGivenClass </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<table>
<tr>
 <td style="text-align: left;">
|  </td>
</tr>
<tr>
 <td style="text-align: left;">
|_______ </td><td style="text-align: left;"> variable </td><td style="text-align: left;"> __ type </td><td style="text-align: left;"> __ z_class  </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ categorical </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ gaussian </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ ...   </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ data </td><td style="text-align: left;"> __ z_class </td><td style="text-align: left;"> __ completed</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |          </td><td style="text-align: left;"> |_ stat </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ categorical </td><td style="text-align: left;"> __ completed</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |              </td><td style="text-align: left;"> |_ stat </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ ...         </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ functional </td><td style="text-align: left;"> __ data</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;">               </td><td style="text-align: left;"> |_ time </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ param </td><td style="text-align: left;"> __ z_class </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |          </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |          </td><td style="text-align: left;"> |_ paramStr </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ functional </td><td style="text-align: left;"> __ alpha </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |             </td><td style="text-align: left;"> |        </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |             </td><td style="text-align: left;"> |_ beta  </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |             </td><td style="text-align: left;"> |        </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |             </td><td style="text-align: left;"> |_ sd    </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |             </td><td style="text-align: left;"> |        </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |             </td><td style="text-align: left;"> |_ paramStr </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ rank </td><td style="text-align: left;"> __ mu </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |     </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ pi </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |     </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;"> |_ paramStr </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |       </td><td style="text-align: left;">       </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ gaussian </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |           </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |           </td><td style="text-align: left;"> |_ paramStr </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ poisson  </td><td style="text-align: left;"> __ stat</td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |           </td><td style="text-align: left;"> |_ log </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |           </td><td style="text-align: left;"> |_ paramStr </td>
</tr>
<tr>
 <td style="text-align: left;">
         </td><td style="text-align: left;">          </td><td style="text-align: left;">          </td><td style="text-align: left;"> |_ ...

</td>
</tr>

</table>

<p>See the associated vignette for more details: <code>RShowDoc("mixtCompObject", package = "RMixtComp")</code>
</p>


<h3>MixtCompLearn object</h3>

<p>The MixtCompLearn object is the result of a run of the <em>mixtCompLearn</em> function.
It is a list containing <em>nClass</em>: the vector of number of classes given by user, <em>res</em> a list of
MixtComp object (one per element of <em>nbClass</em>),
<em>criterion</em> the criterion used to choose the best model, <em>crit</em> a matrix containing BIC and ICL for each run,
<em>totalTime</em>, the total running time, and finally the elements of the MixtComp object with the best
criterion value (<em>algo</em>, <em>mixture</em>, <em>variable</em> or <em>warnLog</em>).
</p>


<h3>Hierarchical Mode</h3>

<p>When the <code>model</code>'s parameter includes a functional model (<code>Func_CS</code> or <code>Func_SharedAlpha_CS</code>),
the algorithm is automatically run in &quot;Hierarchical Mode&quot;.
In hierarchical mode, it first clusters the data in 2 classes. Then, it searches the best model in 3 classes by performing
a clustering in 2 classes of each class of the previous step).
The same process is used until the asked number (<em>K</em>) of classes is attained.
All models from 2 to <em>K</em> classes are returned (even if the case <code>nClass = K</code>).
</p>
<p>This strategy is used to solve some problem (initialization, empty classes...) when the number of classes is high with
the functional model.
</p>
<p>The user can control the activation of the hierarchical mode using the <code>hierarchicalMode</code>'s parameter.
Three values are possible: <code>"no"</code>, the algorithm is never run in hierarchical mode, <code>"yes"</code>,
the algorithm is always run in hierarchical mode, and <code>"auto"</code>,
the algorithm is run in hierarchical mode only when there is at least one functional variable (default).
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>References</h3>

<p>Julien Jacques, Christophe Biernacki. <em>Model-based clustering for multivariate partial ranking data</em>.
Journal of Statistical Planning and Inference, Elsevier, 2014, 149, pp.201-217.
</p>
<p>Allou Samé, Faicel Chamroukhi, Gérard Govaert, Patrice Aknin.
<em>Model-based clustering and segmentation of time series with change in regime</em>.
Advances in Data Analysis and Classification, 2011, 5(4):301-321
</p>


<h3>See Also</h3>

<p>Graphical and utility functions in <code>RMixtCompUtilities</code>. Other clustering packages: <code>Rmixmod</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simData)

# define the algorithm's parameters
algo &lt;- list(
  nbBurnInIter = 50,
  nbIter = 50,
  nbGibbsBurnInIter = 50,
  nbGibbsIter = 50,
  nInitPerClass = 20,
  nSemTry = 20,
  confidenceLevel = 0.95
)

# run RMixtComp in unsupervised clustering mode + data as matrix
resLearn1 &lt;- mixtCompLearn(simData$dataLearn$matrix, simData$model$unsupervised[1:3], algo,
  nClass = 1:2, nRun = 2, nCore = 1
)

# run RMixtComp in supervised clustering mode + data as matrix
resLearn2 &lt;- mixtCompLearn(simData$dataLearn$data.frame, simData$model$supervised[1:3], algo,
  nClass = 1:2, nRun = 2, nCore = 1
)

# run RMixtComp in predict mode + data as list
resPredict &lt;- mixtCompPredict(simData$dataPredict$list, simData$model$unsupervised[1:3], algo,
  resLearn1,
  nClass = 2, nCore = 1
)

</code></pre>

<hr>
<h2 id='plot.MixtCompLearn'>Plot of a <em>MixtCompLearn</em> object</h2><span id='topic+plot.MixtCompLearn'></span>

<h3>Description</h3>

<p>Plot of a <em>MixtCompLearn</em> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MixtCompLearn'
plot(
  x,
  nVarMaxToPlot = 3,
  nClass = NULL,
  pkg = c("ggplot2", "plotly"),
  plotData = c("CI", "Boxplot"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.MixtCompLearn_+3A_x">x</code></td>
<td>
<p><em>MixtCompLearn</em> object</p>
</td></tr>
<tr><td><code id="plot.MixtCompLearn_+3A_nvarmaxtoplot">nVarMaxToPlot</code></td>
<td>
<p>number of variables to display</p>
</td></tr>
<tr><td><code id="plot.MixtCompLearn_+3A_nclass">nClass</code></td>
<td>
<p>number of classes of the model to plot</p>
</td></tr>
<tr><td><code id="plot.MixtCompLearn_+3A_pkg">pkg</code></td>
<td>
<p>&quot;ggplot2&quot; or &quot;plotly&quot;. Package used to plot</p>
</td></tr>
<tr><td><code id="plot.MixtCompLearn_+3A_plotdata">plotData</code></td>
<td>
<p>&quot;CI&quot; or &quot;Boxplot&quot;. If &quot;CI&quot;, uses <a href="RMixtCompUtilities.html#topic+plotDataCI">plotDataCI</a> function. If &quot;Boxplot&quot;, uses <a href="RMixtCompUtilities.html#topic+plotDataBoxplot">plotDataBoxplot</a></p>
</td></tr>
<tr><td><code id="plot.MixtCompLearn_+3A_...">...</code></td>
<td>
<p>extra parameter for <a href="RMixtCompUtilities.html#topic+plotDataCI">plotDataCI</a> or <a href="RMixtCompUtilities.html#topic+plotDataBoxplot">plotDataBoxplot</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ggplot2</code> or <code>plotly</code> object
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixtCompLearn">mixtCompLearn</a></code> <code><a href="#topic+mixtCompPredict">mixtCompPredict</a></code>
</p>
<p>Other plot: 
<code><a href="#topic+plotCrit">plotCrit</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)

# run RMixtComp in unsupervised clustering mode and in basic mode
resLearn &lt;- mixtCompLearn(iris[, -5], nClass = 2:4, nCore = 1)

plot(resLearn)
plot(resLearn, nClass = 3, plotData = "Boxplot")

</code></pre>

<hr>
<h2 id='plotCrit'>Plot BIC and ICL</h2><span id='topic+plotCrit'></span>

<h3>Description</h3>

<p>Plot BIC and ICL with regards to the number of classes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCrit(output, crit = c("BIC", "ICL"), pkg = c("ggplot2", "plotly"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCrit_+3A_output">output</code></td>
<td>
<p><em>MixtCompLearn</em> object</p>
</td></tr>
<tr><td><code id="plotCrit_+3A_crit">crit</code></td>
<td>
<p>criterion to plot (can be &quot;BIC&quot;, &quot;ICL&quot; or  c(&quot;BIC&quot;, &quot;ICL&quot;) (default))</p>
</td></tr>
<tr><td><code id="plotCrit_+3A_pkg">pkg</code></td>
<td>
<p>&quot;ggplot2&quot; or &quot;plotly&quot;. Package used to plot</p>
</td></tr>
<tr><td><code id="plotCrit_+3A_...">...</code></td>
<td>
<p>arguments to be passed to plot_ly</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>ggplot2</code> or <code>plotly</code> object
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>See Also</h3>

<p>Other plot: 
<code><a href="#topic+plot.MixtCompLearn">plot.MixtCompLearn</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)

# define the algorithm's parameters
algo &lt;- createAlgo()

# keep only 3 variables
model &lt;- list(
  Petal.Width = "Gaussian", Petal.Length = "Gaussian",
  Sepal.Width = "Gaussian", Sepal.Length = "Gaussian"
)

# run RMixtComp in unsupervised clustering mode + data as matrix
res &lt;- mixtCompLearn(iris, model, algo, nClass = 1:4, nCore = 1)

# plot
plotCrit(res)

</code></pre>

<hr>
<h2 id='predict.MixtComp'>Predict using RMixtComp</h2><span id='topic+predict.MixtComp'></span>

<h3>Description</h3>

<p>Predict the cluster of new samples.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MixtComp'
predict(
  object,
  newdata = NULL,
  type = c("partition", "probabilities"),
  nClass = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.MixtComp_+3A_object">object</code></td>
<td>
<p>output of <a href="#topic+mixtCompLearn">mixtCompLearn</a> function.</p>
</td></tr>
<tr><td><code id="predict.MixtComp_+3A_newdata">newdata</code></td>
<td>
<p>a data.frame, a matrix or a named list containing the data (see <em>Details</em> and <em>Data format</em>
sections in <a href="#topic+mixtCompLearn">mixtCompLearn</a> documentation). If <code>NULL</code>, use the data in <code>object</code>.</p>
</td></tr>
<tr><td><code id="predict.MixtComp_+3A_type">type</code></td>
<td>
<p>if &quot;partition&quot;, returns the estimated partition. If &quot;probabilities&quot;, returns the probabilities to belong to
each class (tik).</p>
</td></tr>
<tr><td><code id="predict.MixtComp_+3A_nclass">nClass</code></td>
<td>
<p>the number of classes of the mixture model to use from <code>object</code>. If <code>NULL</code>, uses the number
maximizing the criterion.</p>
</td></tr>
<tr><td><code id="predict.MixtComp_+3A_...">...</code></td>
<td>
<p>other parameters of <a href="#topic+mixtCompPredict">mixtCompPredict</a> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on the generic method &quot;predict&quot;. For a more complete output, use <a href="#topic+mixtCompPredict">mixtCompPredict</a>
function.
</p>


<h3>Value</h3>

<p>if <code>type = "partition"</code>, it returns the estimated partition as a vector. If <code>type = "probabilities"</code>,
it returns the probabilities to belong to each class (tik) as a matrix.
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>See Also</h3>

<p><a href="#topic+mixtCompPredict">mixtCompPredict</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)

model &lt;- list(
  Sepal.Length = "Gaussian", Sepal.Width = "Gaussian",
  Petal.Length = "Gaussian", Petal.Width = "Gaussian"
)

resLearn &lt;- mixtCompLearn(iris[-c(1, 51, 101), ], model = model, nClass = 1:3, nRun = 1)

# return the partition
predict(resLearn)

# return the tik for the 3 new irises for 2 and 3 classes
predict(resLearn, newdata = iris[c(1, 51, 101), ], type = "probabilities", nClass = 2)
predict(resLearn, newdata = iris[c(1, 51, 101), ], type = "probabilities", nClass = 3)

</code></pre>

<hr>
<h2 id='print.MixtCompLearn'>Print Values</h2><span id='topic+print.MixtCompLearn'></span>

<h3>Description</h3>

<p>Print a <em>MixtCompLearn</em> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MixtCompLearn'
print(x, nVarMaxToPrint = 5, nClass = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.MixtCompLearn_+3A_x">x</code></td>
<td>
<p><em>MixtCompLearn</em> object</p>
</td></tr>
<tr><td><code id="print.MixtCompLearn_+3A_nvarmaxtoprint">nVarMaxToPrint</code></td>
<td>
<p>number of variables to display (including z_class)</p>
</td></tr>
<tr><td><code id="print.MixtCompLearn_+3A_nclass">nClass</code></td>
<td>
<p>number of classes of the model to print</p>
</td></tr>
<tr><td><code id="print.MixtCompLearn_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixtCompLearn">mixtCompLearn</a></code> <code><a href="#topic+mixtCompPredict">mixtCompPredict</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)

# run RMixtComp in unsupervised clustering mode and in basic mode
resLearn &lt;- mixtCompLearn(iris[, -5], nClass = 2:4, nCore = 1)

print(resLearn)
print(resLearn, nClass = 3)

</code></pre>

<hr>
<h2 id='prostate'>Prostate Cancer Data</h2><span id='topic+prostate'></span>

<h3>Description</h3>

<p>This data set was obtained from a randomized clinical trial comparing four treatments for n = 506 patients
with prostatic cancer grouped on clinical criteria into two Stages 3 and 4 of the disease.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(prostate)
</code></pre>


<h3>Format</h3>

<p>A list containing of 2 elements <em>data</em> and <em>model</em>.
<em>data</em> contains 506 individuals described by 12 variables:
</p>

<ul>
<li><p> Age: Age (Continuous)
</p>
</li>
<li><p> HG: Index of tumour stage and histolic grade (Continuous)
</p>
</li>
<li><p> Wt: Weight (Continuous)
</p>
</li>
<li><p> AP: Serum prostatic acid phosphatase C (Continuous)
</p>
</li>
<li><p> SBP: Systolic blood pressure (Continuous)
</p>
</li>
<li><p> PF: Performance rating (Categorical)
</p>
</li>
<li><p> DBP: Diastolic blood pressure (Continuous)
</p>
</li>
<li><p> HX: Cardiovascular disease history (Categorical)
</p>
</li>
<li><p> SG: Serum haemoglobin (Continuous)
</p>
</li>
<li><p> BM: Bone metastasis (Categorical)
</p>
</li>
<li><p> SZ: Size of primary tumour (Continuous)
</p>
</li>
<li><p> EKG: Electrocardiogram code (Categorical)
</p>
</li></ul>



<h3>Source</h3>

<p>Yakovlev, Goot and Osipova (1994), The choice of cancer treatment based on covariate information.
Statist. Med., 13: 1575-1581. doi:10.1002/sim.4780131508
</p>


<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+CanadianWeather">CanadianWeather</a></code>,
<code><a href="#topic+simData">simData</a></code>,
<code><a href="#topic+titanic">titanic</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(prostate)

algo &lt;- createAlgo(nInitPerClass = 50)

# run clustering
resLearn &lt;- mixtCompLearn(prostate$data, prostate$model, algo,
    nClass = 2:5, criterion = "ICL",
    nRun = 3, nCore = 1
)

summary(resLearn)

plot(resLearn)


</code></pre>

<hr>
<h2 id='simData'>Simulated Heterogeneous data</h2><span id='topic+simData'></span>

<h3>Description</h3>

<p>Simulated Heterogeneous data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(simData)
</code></pre>


<h3>Format</h3>

<p>A list containing three elements: <em>dataLearn</em>, <em>dataPredict</em> and <em>model</em>.
</p>

<ul>
<li> <p><em>dataLearn</em> is a list containing the data in the three accepted format (list, data.frame and matrix).
Data consists of 200 individuals and 9 variables.
</p>
</li>
<li> <p><em>dataPredict</em> is a list containing the data in the three accepted format (list, data.frame and matrix).
Data consists of 100 individuals and 8 variables.
</p>
</li>
<li> <p><em>model</em> is a list containing the model lists used for clustering <em>model$unsupervised</em>
and classification <em>model$supervised</em>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+CanadianWeather">CanadianWeather</a></code>,
<code><a href="#topic+prostate">prostate</a></code>,
<code><a href="#topic+titanic">titanic</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(simData)
str(simData)

</code></pre>

<hr>
<h2 id='slopeHeuristic'>Slope heuristic</h2><span id='topic+slopeHeuristic'></span>

<h3>Description</h3>

<p>Criterion to choose the number of clusters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slopeHeuristic(object, K0 = floor(max(object$nClass) * 0.4))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slopeHeuristic_+3A_object">object</code></td>
<td>
<p>output of <code><a href="#topic+mixtCompLearn">mixtCompLearn</a></code></p>
</td></tr>
<tr><td><code id="slopeHeuristic_+3A_k0">K0</code></td>
<td>
<p>number of class for computing the constant value (see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The slope heuristic criterion is: LL_k - 2 C * D_k, with LL_k the loglikelihood for k classes, D_k the number of
free parameters for k classes, C is the slope of the linear regression between D_k and LL_k for (k&gt; K0)
</p>


<h3>Value</h3>

<p>the values of the slope heuristic
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>References</h3>

<p>Cathy Maugis, Bertrand Michel.  Slope heuristics for variable selection and clustering via Gaussian mixtures.
[Research Report] RR-6550, INRIA. 2008. inria-00284620v2
</p>
<p>Jean-Patrick Baudry, Cathy Maugis, Bertrand Michel. Slope Heuristics: Overview and Implementation. 2010. hal-00461639
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(titanic)

## Use the MixtComp format
dat &lt;- titanic

# refactor categorical data: survived, sex, embarked and pclass
dat$sex &lt;- refactorCategorical(dat$sex, c("male", "female", NA), c(1, 2, "?"))
dat$embarked &lt;- refactorCategorical(dat$embarked, c("C", "Q", "S", NA), c(1, 2, 3, "?"))
dat$survived &lt;- refactorCategorical(dat$survived, c(0, 1, NA), c(1, 2, "?"))
dat$pclass &lt;- refactorCategorical(dat$pclass, c("1st", "2nd", "3rd"), c(1, 2, 3))

# replace all NA by ?
dat[is.na(dat)] &lt;- "?"

# create model
model &lt;- list(
  pclass = "Multinomial",
  survived = "Multinomial",
  sex = "Multinomial",
  age = "Gaussian",
  sibsp = "Poisson",
  parch = "Poisson",
  fare = "Gaussian",
  embarked = "Multinomial"
)

# create algo
algo &lt;- createAlgo()

# run clustering
resLearn &lt;- mixtCompLearn(dat, model, algo, nClass = 2:25, criterion = "ICL", nRun = 3, nCore = 1)

out &lt;- slopeHeuristic(resLearn, K0 = 6)


</code></pre>

<hr>
<h2 id='summary.MixtCompLearn'>MixtCompLearn Object Summaries</h2><span id='topic+summary.MixtCompLearn'></span>

<h3>Description</h3>

<p>Summary of a <em>MixtCompLearn</em> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MixtCompLearn'
summary(object, nClass = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.MixtCompLearn_+3A_object">object</code></td>
<td>
<p><em>MixtCompLearn</em> object</p>
</td></tr>
<tr><td><code id="summary.MixtCompLearn_+3A_nclass">nClass</code></td>
<td>
<p>number of classes of the model to print</p>
</td></tr>
<tr><td><code id="summary.MixtCompLearn_+3A_...">...</code></td>
<td>
<p>Not used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects
</p>


<h3>Author(s)</h3>

<p>Quentin Grimonprez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mixtCompLearn">mixtCompLearn</a></code> <code>print.MixtCompLearn</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(iris)

# run RMixtComp in unsupervised clustering mode and in basic mode
resLearn &lt;- mixtCompLearn(iris[, -5], nClass = 2:4, nCore = 1)

summary(resLearn)
summary(resLearn, nClass = 3)

</code></pre>

<hr>
<h2 id='titanic'>Titanic data set</h2><span id='topic+titanic'></span>

<h3>Description</h3>

<p>The data set provides information on the passengers of Titanic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(titanic)
</code></pre>


<h3>Format</h3>

<p>A data.frame with 1309 individuals and 8 variables.
</p>

<ul>
<li><p> survived: 0 = No, 1 = Yes (factor)
</p>
</li>
<li><p> pclass:	ticket class 	1st, 2nd, 3rd (factor)
</p>
</li>
<li><p> sex: male or female (factor)
</p>
</li>
<li><p> age: age in years
</p>
</li>
<li><p> sibsp: number of siblings/spouses aboard the Titanic
</p>
</li>
<li><p> parch: number of parents/children aboard the Titanic
</p>
</li>
<li><p> fare: ticket price in pounds
</p>
</li>
<li><p> embarked: port of Embarkation 	C = Cherbourg, Q = Queenstown, S = Southampton (factor)
</p>
</li></ul>



<h3>Source</h3>

<p>Titanic People Database, Encyclopedia Titanica, <a href="https://www.encyclopedia-titanica.org/titanic-survivors/">https://www.encyclopedia-titanica.org/titanic-survivors/</a>
</p>
<p><a href="https://www.kaggle.com/c/titanic/data">https://www.kaggle.com/c/titanic/data</a>
</p>


<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+CanadianWeather">CanadianWeather</a></code>,
<code><a href="#topic+prostate">prostate</a></code>,
<code><a href="#topic+simData">simData</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(titanic)

head(titanic)

## Use the MixtComp format
dat &lt;- titanic

# refactor categorical data: survived, sex, embarked and pclass
dat$sex &lt;- refactorCategorical(dat$sex, c("male", "female", NA), c(1, 2, "?"))
dat$embarked &lt;- refactorCategorical(dat$embarked, c("C", "Q", "S", NA), c(1, 2, 3, "?"))
dat$survived &lt;- refactorCategorical(dat$survived, c(0, 1, NA), c(1, 2, "?"))
dat$pclass &lt;- refactorCategorical(dat$pclass, c("1st", "2nd", "3rd"), c(1, 2, 3))

# replace all NA by ?
dat[is.na(dat)] &lt;- "?"

# create model
model &lt;- list(
    pclass = "Multinomial",
    survived = "Multinomial",
    sex = "Multinomial",
    age = "Gaussian",
    sibsp = "Poisson",
    parch = "Poisson",
    fare = "Gaussian",
    embarked = "Multinomial"
)

# create algo
algo &lt;- createAlgo()

# run clustering
resLearn &lt;- mixtCompLearn(dat, model, algo, nClass = 2:15, criterion = "ICL", nRun = 3, nCore = 1)
summary(resLearn)

plot(resLearn)


## Use standard data.frame and R format because titanic contains only standard variables.
# mixtCompLearn in "basic" mode without model parameters and data as a data.frame.
# A Multinomial model is used for factor variables, a Poisson for integer
# and a Gaussian for numeric.
resLearn &lt;- mixtCompLearn(titanic, nClass = 2:15, nRun = 3, nCore = 1)

# imputed model
getType(resLearn)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

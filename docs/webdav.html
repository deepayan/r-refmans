<!DOCTYPE html><html lang="en"><head><title>Help for package webdav</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {webdav}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_and_load_package'><p>Check if a package is installed and load it</p></a></li>
<li><a href='#handle_response'><p>Handle HTTP response from Server</p></a></li>
<li><a href='#webdav_copy_file'><p>Copy a resource on the WebDAV server</p></a></li>
<li><a href='#webdav_create_directory'><p>Create a collection (directory) on a WebDAV server</p></a></li>
<li><a href='#webdav_create_request'><p>Create a request for the WebDAV server</p></a></li>
<li><a href='#webdav_delete_resource'><p>Delete a file or directory from the WebDAV server</p></a></li>
<li><a href='#webdav_download_file'><p>Download a file from the WebDAV server</p></a></li>
<li><a href='#webdav_list_files'><p>List files from a specific folder on WebDAV server</p></a></li>
<li><a href='#webdav_upload_file'><p>Upload a file to the WebDAV server</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>A Simple Interface for Interacting with 'WebDAV' Servers</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-02-13</td>
</tr>
<tr>
<td>Description:</td>
<td>An easy-to-use interface for interacting with 'WebDAV' servers,
    including 'OwnCloud'. It simplifies the use of 'WebDAV' methods such as COPY, MKCOL, MOVE, and others. 
    With built-in authentication and request handling, it allows for easy
    management of files and directories over the 'WebDAV' protocol.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr2, httpuv, xml2, dplyr, glue, stringr, magrittr, tibble,
curl</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), roxygen2, knitr, fortunes, rmarkdown,</td>
</tr>
<tr>
<td>URL:</td>
<td>&lt;<a href="https://github.com/StrategicProjects/webdav&amp;gt;">https://github.com/StrategicProjects/webdav&gt;</a></td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-13 13:50:41 UTC; leite</td>
</tr>
<tr>
<td>Author:</td>
<td>Andre Leite [aut, cre],
  Hugo Vaconcelos [aut],
  Diogo Bezerra [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andre Leite &lt;leite@castlab.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-13 14:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_and_load_package'>Check if a package is installed and load it</h2><span id='topic+check_and_load_package'></span>

<h3>Description</h3>

<p>This function checks if a specified package is installed in the R environment.
If the package is not installed, it will be automatically installed. After
installation (if necessary), the package is loaded into the session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_and_load_package(package_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_and_load_package_+3A_package_name">package_name</code></td>
<td>
<p>A string with the name of the package to check and load.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns 'TRUE' if the package is successfully loaded or installed and loaded.
If the installation or loading fails, an error will be raised.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check_and_load_package("httr2")
check_and_load_package("xml2")
</code></pre>

<hr>
<h2 id='handle_response'>Handle HTTP response from Server</h2><span id='topic+handle_response'></span>

<h3>Description</h3>

<p>This function processes the response from the WebDAV server, checking for errors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handle_response(response)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="handle_response_+3A_response">response</code></td>
<td>
<p>The response object from an 'httr2' request.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The processed response content if successful, or an error if the request failed.
</p>

<hr>
<h2 id='webdav_copy_file'>Copy a resource on the WebDAV server</h2><span id='topic+webdav_copy_file'></span>

<h3>Description</h3>

<p>This function copies a resource from one URI to another on the WebDAV server using the COPY method.
It validates the provided parameters and handles errors during the copy process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_copy_file(
  base_url,
  from_path,
  to_path,
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_copy_file_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server.</p>
</td></tr>
<tr><td><code id="webdav_copy_file_+3A_from_path">from_path</code></td>
<td>
<p>The source path of the resource to copy.</p>
</td></tr>
<tr><td><code id="webdav_copy_file_+3A_to_path">to_path</code></td>
<td>
<p>The destination path where the resource will be copied.</p>
</td></tr>
<tr><td><code id="webdav_copy_file_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_copy_file_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_copy_file_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, prints detailed messages during the copy process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating whether the resource was copied successfully.
</p>

<hr>
<h2 id='webdav_create_directory'>Create a collection (directory) on a WebDAV server</h2><span id='topic+webdav_create_directory'></span>

<h3>Description</h3>

<p>This function creates a collection (directory/folder) on the WebDAV server
using the MKCOL method. It validates parameters and handles errors during the process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_create_directory(
  base_url,
  folder_path,
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_create_directory_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server (e.g., &quot;https://example.com/remote.php/dav/files/&quot;).</p>
</td></tr>
<tr><td><code id="webdav_create_directory_+3A_folder_path">folder_path</code></td>
<td>
<p>The path of the directory to create.</p>
</td></tr>
<tr><td><code id="webdav_create_directory_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_create_directory_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_create_directory_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, prints detailed messages during the directory creation process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating whether the collection was created successfully.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example usage with a public WebDAV server.
# Visit test_server$url link to view the results of the operation.
library(magrittr)
library(httr2)
test_server &lt;- "https://www.webdavserver.com/" %&gt;%
  request() %&gt;%
  req_retry(max_tries = 1, max_seconds = 2, backoff =  ~ 1) %&gt;%
  req_perform() %&gt;%
  try(silent = TRUE)

# Create a directory on the WebDAV server
if (class(test_server) != "try-error")
  webdav_create_directory(base_url = test_server$url, folder_path = "Test_Folder", verbose = TRUE)
</code></pre>

<hr>
<h2 id='webdav_create_request'>Create a request for the WebDAV server</h2><span id='topic+webdav_create_request'></span>

<h3>Description</h3>

<p>This function creates a base request for the WebDAV server with proper authentication.
It validates the provided parameters and handles errors during the connection setup.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_create_request(
  base_url,
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_create_request_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server (e.g., &quot;https://example.com/remote.php/dav/files/&quot;).</p>
</td></tr>
<tr><td><code id="webdav_create_request_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_create_request_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_create_request_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, prints detailed messages during the request creation process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An 'httr2_request' object with authentication and base URL configured, or an error message if the connection fails.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage with a public WebDAV server.
# Visit test_server$url link to view the results of the operation.
library(magrittr)
library(httr2)
test_server &lt;- "https://www.webdavserver.com/" %&gt;%
  request() %&gt;%
  req_retry(max_tries = 1, max_seconds = 2, backoff =  ~ 1) %&gt;%
  req_perform() %&gt;%
  try(silent = TRUE)

# Create a request
if (class(test_server) != "try-error")
  req &lt;- webdav_create_request(base_url = test_server$url, verbose = TRUE)
</code></pre>

<hr>
<h2 id='webdav_delete_resource'>Delete a file or directory from the WebDAV server</h2><span id='topic+webdav_delete_resource'></span>

<h3>Description</h3>

<p>This function deletes a file or directory on the WebDAV server using the DELETE method. It validates the provided parameters and handles errors during the process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_delete_resource(
  base_url,
  resource_path,
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_delete_resource_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server.</p>
</td></tr>
<tr><td><code id="webdav_delete_resource_+3A_resource_path">resource_path</code></td>
<td>
<p>The path of the file or directory to delete on the WebDAV server.</p>
</td></tr>
<tr><td><code id="webdav_delete_resource_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_delete_resource_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_delete_resource_+3A_verbose">verbose</code></td>
<td>
<p>Logical value indicating whether to print detailed debug messages. When TRUE, the function outputs additional information about its progress and actions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating whether the file or directory was deleted successfully.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage with a public WebDAV server.
# Visit test_server$url link to view the results of the operation.
library(magrittr)
library(httr2)
test_server &lt;- "https://www.webdavserver.com/" %&gt;%
  request() %&gt;%
  req_retry(max_tries = 1, max_seconds = 2, backoff =  ~ 1) %&gt;%
  req_perform() %&gt;%
  try(silent = TRUE)

# Delete a file or directory
if (class(test_server) != "try-error")
  webdav_delete_resource(base_url = test_server$url, resource_path = "Notes.txt", verbose = TRUE)
</code></pre>

<hr>
<h2 id='webdav_download_file'>Download a file from the WebDAV server</h2><span id='topic+webdav_download_file'></span>

<h3>Description</h3>

<p>This function downloads a file from the WebDAV server and saves it to a local directory.
It validates the provided parameters, handles errors, and optionally prints detailed logs if requested.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_download_file(
  base_url,
  file_path,
  destination_path = ".",
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_download_file_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server (e.g., &quot;https://example.com/remote.php/dav/files/&quot;).</p>
</td></tr>
<tr><td><code id="webdav_download_file_+3A_file_path">file_path</code></td>
<td>
<p>The path of the file on the WebDAV server to download (relative to the 'base_url').</p>
</td></tr>
<tr><td><code id="webdav_download_file_+3A_destination_path">destination_path</code></td>
<td>
<p>The local directory where the downloaded file will be saved. Defaults to the current directory.</p>
</td></tr>
<tr><td><code id="webdav_download_file_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_download_file_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_download_file_+3A_verbose">verbose</code></td>
<td>
<p>Logical. If TRUE, prints detailed messages during the download process.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating whether the file was downloaded successfully.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage with a public WebDAV server.
library(magrittr)
library(httr2)
test_server &lt;- "https://www.webdavserver.com/" %&gt;%
  request() %&gt;%
  req_retry(max_tries = 1, max_seconds = 2, backoff =  ~ 1) %&gt;%
  req_perform()

# Download a file from the WebDAV server
if (class(test_server) != "try-error")
  webdav_download_file(base_url = test_server$url,
    file_path = "Project.pdf",
    destination_path = tempdir(),
    verbose = TRUE)
# Visit test_server$url to view the results of the operation.
</code></pre>

<hr>
<h2 id='webdav_list_files'>List files from a specific folder on WebDAV server</h2><span id='topic+webdav_list_files'></span>

<h3>Description</h3>

<p>This function lists the files in a specific folder on the WebDAV server. If no folder path is provided, it lists files from the root directory. The function validates the provided parameters and handles errors during the process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_list_files(
  base_url,
  folder_path = NULL,
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  depth = 1,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_list_files_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server.</p>
</td></tr>
<tr><td><code id="webdav_list_files_+3A_folder_path">folder_path</code></td>
<td>
<p>The path inside WebDAV where the files are located. If not provided or empty, the root folder will be listed.</p>
</td></tr>
<tr><td><code id="webdav_list_files_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_list_files_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_list_files_+3A_depth">depth</code></td>
<td>
<p>The depth of the PROPFIND request (default is 1).</p>
</td></tr>
<tr><td><code id="webdav_list_files_+3A_verbose">verbose</code></td>
<td>
<p>Logical value indicating whether to print detailed debug messages. When TRUE, the function outputs additional information about its progress and actions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing:
</p>

<dl>
<dt>file_name</dt><dd><p>The name of the file.</p>
</dd>
<dt>relative_path</dt><dd><p>The path of the file relative to the specified folder.</p>
</dd>
<dt>lastmodified</dt><dd><p>The date and time when the file was last modified.</p>
</dd>
<dt>content_length</dt><dd><p>The size of the file in bytes.</p>
</dd>
</dl>

<p>Returns 'NULL' if an error occurs during the execution of the function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage with a public WebDAV server.
# Visit test_server$url link to view the results of the operation.
library(magrittr)
library(httr2)
test_server &lt;- "https://www.webdavserver.com/" %&gt;%
  request() %&gt;%
  req_retry(max_tries = 1, max_seconds = 2, backoff =  ~ 1) %&gt;%
  req_perform() %&gt;%
  try(silent = TRUE)

# List files in a directory
if (class(test_server) != "try-error")
  webdav_list_files(base_url = test_server$url, folder_path = "Sales/", verbose = TRUE)

</code></pre>

<hr>
<h2 id='webdav_upload_file'>Upload a file to the WebDAV server</h2><span id='topic+webdav_upload_file'></span>

<h3>Description</h3>

<p>This function uploads a file to a specific folder on the WebDAV server. It validates the provided parameters and handles errors during the process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>webdav_upload_file(
  base_url,
  local_path,
  server_path = "",
  username = Sys.getenv("WEBDAV_USERNAME"),
  password = Sys.getenv("WEBDAV_PASSWORD"),
  timeout = 300,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="webdav_upload_file_+3A_base_url">base_url</code></td>
<td>
<p>The base URL of the WebDAV server.</p>
</td></tr>
<tr><td><code id="webdav_upload_file_+3A_local_path">local_path</code></td>
<td>
<p>The local path of the file to be uploaded.</p>
</td></tr>
<tr><td><code id="webdav_upload_file_+3A_server_path">server_path</code></td>
<td>
<p>The folder path on the WebDAV server where the file will be uploaded.</p>
</td></tr>
<tr><td><code id="webdav_upload_file_+3A_username">username</code></td>
<td>
<p>The username for WebDAV authentication. Defaults to the &quot;WEBDAV_USERNAME&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_upload_file_+3A_password">password</code></td>
<td>
<p>The password for WebDAV authentication. Defaults to the &quot;WEBDAV_PASSWORD&quot; environment variable.</p>
</td></tr>
<tr><td><code id="webdav_upload_file_+3A_timeout">timeout</code></td>
<td>
<p>The timeout for the upload request in seconds (default is 300 seconds).</p>
</td></tr>
<tr><td><code id="webdav_upload_file_+3A_verbose">verbose</code></td>
<td>
<p>Logical value indicating whether to print detailed debug messages. When TRUE, the function outputs additional information about its progress and actions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value indicating whether the file was uploaded successfully.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example usage with a public WebDAV server.
# Visit test_server$url link to view the results of the operation.
library(magrittr)
library(httr2)
test_server &lt;- "https://www.webdavserver.com/" %&gt;%
  request() %&gt;%
  req_retry(max_tries = 1, max_seconds = 2, backoff =  ~ 1) %&gt;%
  req_perform() %&gt;%
  try(silent = TRUE)

# Upload a file
file_test &lt;- tempfile(pattern = "teste_", fileext = ".txt")
cat("Text file content", file = file_test)
if (class(test_server) != "try-error")
  webdav_upload_file(base_url = test_server$url, local_path = file_test, verbose = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

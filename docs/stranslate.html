<!DOCTYPE html><html><head><title>Help for package stranslate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stranslate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#allFunctions'><p>allFunctions</p></a></li>
<li><a href='#findText'><p>findText</p></a></li>
<li><a href='#getMsg'><p>getMsg</p></a></li>
<li><a href='#isName'><p>isName</p></a></li>
<li><a href='#language'><p>language</p></a></li>
<li><a href='#listMsg'><p>listMsg</p></a></li>
<li><a href='#loadMsg'><p>loadMsg</p></a></li>
<li><a href='#setLang'><p>setLang</p></a></li>
<li><a href='#setMsg'><p>setMsg</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Simple Translation Between Different Languages</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sigbert Klinke &lt;sigbert@hu-berlin.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Message translation is often managed with 'po' files and the 'gettext' programme, 
    but sometimes another solution is needed. In contrast to 'po' files, a more flexible approach 
    is used as in the Fluent <a href="https://projectfluent.org/">https://projectfluent.org/</a> project with R Markdown snippets. 
    The key-value approach allows easier handling of the translated messages.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sigbertklinke/stranslate">https://github.com/sigbertklinke/stranslate</a> (development version)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>crayon, knitr, stringr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-28 09:47:21 UTC; sk</td>
</tr>
<tr>
<td>Author:</td>
<td>Sigbert Klinke [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-28 10:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='allFunctions'>allFunctions</h2><span id='topic+allFunctions'></span>

<h3>Description</h3>

<p>Returns the names of all functions currently available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>allFunctions()
</code></pre>


<h3>Value</h3>

<p>character vector of functions names
</p>


<h3>References</h3>

<p>https://stackoverflow.com/questions/4267744/is-there-a-way-to-get-a-vector-with-the-name-of-all-functions-that-one-could-use
</p>


<h3>Examples</h3>

<pre><code class='language-R'>allFunctions()
</code></pre>

<hr>
<h2 id='findText'>findText</h2><span id='topic+findText'></span>

<h3>Description</h3>

<p>Extract all texts, <code>getMsg</code>, or <code>setMsg</code> calls in the R files given.
Note that the <code style="white-space: pre;">&#8288;'&#8288;</code> and <code style="white-space: pre;">&#8288;"&#8288;</code> are part of the string, thus <code>'ROUND'</code> has a length of 7!
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findText(files, pattern = "\\w+{2,}")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findText_+3A_files">files</code></td>
<td>
<p>character: names of R files to analyse</p>
</td></tr>
<tr><td><code id="findText_+3A_pattern">pattern</code></td>
<td>
<p>character: pattern to match a string (default: <code>"\\w+{2,}"</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with the columns
</p>

<ul>
<li> <p><code>file</code> with file name
</p>
</li>
<li> <p><code>line</code> the line number
</p>
</li>
<li> <p><code>type</code> if a string constant (<code>STR_CONST</code>), a <code>getMsg</code> (<code>GETMSG</code>), or a <code>setMsg</code> (<code>SETMSG</code>) was found
</p>
</li>
<li> <p><code>text</code> the text of the string constant or the key used in <code>getMsg</code> or <code>setMsg</code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>findText(system.file("messages", "messages.R", package="stranslate"))
</code></pre>

<hr>
<h2 id='getMsg'>getMsg</h2><span id='topic+getMsg'></span>

<h3>Description</h3>

<p>Returns a message. The first parameter must be the key to the message. For details read the vignette <code>vignette("stranslate")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMsg(
  ...,
  .domain = getOption("stranslate.domain"),
  .lang = getOption("stranslate.lang")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getMsg_+3A_...">...</code></td>
<td>
<p>parameter(s) given to the function</p>
</td></tr>
<tr><td><code id="getMsg_+3A_.domain">.domain</code></td>
<td>
<p>character: domain name (default: <code>getOption("stranslate.domain")</code>)</p>
</td></tr>
<tr><td><code id="getMsg_+3A_.lang">.lang</code></td>
<td>
<p>character: language to use (default: <code>getOption("stranslate.lang")</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the (translated) message
</p>


<h3>Examples</h3>

<pre><code class='language-R'># without a parameter
getMsg("DOMAIN_UNIQUE", .domain="stranslate", .lang="en")
getMsg('DOMAIN_UNIQUE', .domain="stranslate", .lang="de")
getMsg(DOMAIN_UNIQUE, .domain="stranslate")
# with a parameter
getMsg(LANGUAGE="english", .domain="stranslate", .lang="en")
getMsg(LANGUAGE="deutsch", .domain="stranslate", .lang="de")
# which system language is used?
getMsg(LANGUAGE=Sys.getenv("LANG"), .domain="stranslate")
</code></pre>

<hr>
<h2 id='isName'>isName</h2><span id='topic+isName'></span>

<h3>Description</h3>

<p>Checks if a <code>txt</code> consists of valid name(s):
</p>

<ul>
<li><p> A name must start with a letter and can be a combination of letters, digits, period(.) and underscore(_).
</p>
</li>
<li><p> Reserved words cannot be used as a name (TRUE, FALSE, NULL, if...)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>isName(txt)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isName_+3A_txt">txt</code></td>
<td>
<p>character: name(s) to check</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>isName("?plot")
isName(".default")
</code></pre>

<hr>
<h2 id='language'>language</h2><span id='topic+language'></span>

<h3>Description</h3>

<p>Returns which loaded language will be used for finding a message depending on <code>.domain</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>language(
  lang = getOption("stranslate.lang"),
  available.languages = NULL,
  .domain = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="language_+3A_lang">lang</code></td>
<td>
<p>character: a language code, e.g. from ISO-639</p>
</td></tr>
<tr><td><code id="language_+3A_available.languages">available.languages</code></td>
<td>
<p>character: names of languages (default: <code>NULL</code>). If <code>NULL</code> then list of loaded languages is used.</p>
</td></tr>
<tr><td><code id="language_+3A_.domain">.domain</code></td>
<td>
<p>character: domain names (default: <code>NULL</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character of languages use to find a message
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(options("stranslate.lang"))   # current default language
language("de_AT", c("de", "de_IT")) # request austrian german
#
loadMsg(system.file("messages", "messages.txt", package = "stranslate"))
language("de_AT")                   # request austrian german
language("tlh")                     # request klingon, not available -&gt; "en"
</code></pre>

<hr>
<h2 id='listMsg'>listMsg</h2><span id='topic+listMsg'></span>

<h3>Description</h3>

<p>Lists all keys in all languages in a specific domain or all domains (default).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listMsg(.domain = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listMsg_+3A_.domain">.domain</code></td>
<td>
<p>character: domains(s) to list (default: <code>NULL</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>


<h3>Examples</h3>

<pre><code class='language-R'>listMsg("stranslate")
listMsg()
# load some more text
loadMsg(system.file("messages/messages.txt", package="stranslate"), .overwrite=TRUE) # avoid warning
listMsg()
</code></pre>

<hr>
<h2 id='loadMsg'>loadMsg</h2><span id='topic+loadMsg'></span>

<h3>Description</h3>

<p>Loads translated messages from one (or more) file into package environment. For details read the vignette <code>vignette("stranslate")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadMsg(
  files,
  .domain = getOption("stranslate.domain"),
  .lang = "en",
  .silent = TRUE,
  .overwrite = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadMsg_+3A_files">files</code></td>
<td>
<p>character: names of text file(s) with translated messages</p>
</td></tr>
<tr><td><code id="loadMsg_+3A_.domain">.domain</code></td>
<td>
<p>character: domain namesd (default: <code>getOption("stranslate.domain")</code>)</p>
</td></tr>
<tr><td><code id="loadMsg_+3A_.lang">.lang</code></td>
<td>
<p>character: default language (default: 'en')</p>
</td></tr>
<tr><td><code id="loadMsg_+3A_.silent">.silent</code></td>
<td>
<p>logical: should outputs be displayed during the loading process and then <code>listMsg()</code> be called?</p>
</td></tr>
<tr><td><code id="loadMsg_+3A_.overwrite">.overwrite</code></td>
<td>
<p>logical: should keys be overwritten (default: <code>FALSE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly the current message environment
</p>


<h3>Examples</h3>

<pre><code class='language-R'># note "messages/messages.txt" contains only english and german ;)
loadMsg(system.file("messages/messages.txt", package="stranslate"), .overwrite=TRUE) # avoid warning
# english
getMsg(ROUND=0, .lang="en")
getMsg(ROUND=1, .lang="en")
getMsg(ROUND=2, .lang="en")
# english
getMsg(ROUND=0, .lang="de")
getMsg(ROUND=1, .lang="de")
getMsg(ROUND=2, .lang="de")
# default language or if not available then english 
getMsg(ROUND=0)
getMsg(ROUND=1)
getMsg(ROUND=2)
</code></pre>

<hr>
<h2 id='setLang'>setLang</h2><span id='topic+setLang'></span>

<h3>Description</h3>

<p>Sets the language and the domain.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setLang(.lang = "en", .domain = getOption("stranslate.domain"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setLang_+3A_.lang">.lang</code></td>
<td>
<p>character: language (default: <code>"en"</code>)</p>
</td></tr>
<tr><td><code id="setLang_+3A_.domain">.domain</code></td>
<td>
<p>character: domain (default: <code>getOption("stranslate.domain")</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly the language set
</p>


<h3>Examples</h3>

<pre><code class='language-R'>setLang('tlh')  # use klingon now ;)
</code></pre>

<hr>
<h2 id='setMsg'>setMsg</h2><span id='topic+setMsg'></span>

<h3>Description</h3>

<p>Sets for a key the default message and other optional messages. The first argument specifies the key and the default message.
Further named arguments give the message if the key is the same as the name,
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setMsg(..., .silent = TRUE, .overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setMsg_+3A_...">...</code></td>
<td>
<p>first argument is a key and the default message, further named arguments give optional messages</p>
</td></tr>
<tr><td><code id="setMsg_+3A_.silent">.silent</code></td>
<td>
<p>logical: should the key shown during the process</p>
</td></tr>
<tr><td><code id="setMsg_+3A_.overwrite">.overwrite</code></td>
<td>
<p>logical: should keys be overwritten (default: <code>FALSE</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns invisibly the key
</p>


<h3>Examples</h3>

<pre><code class='language-R'>setLang("de", .domain="round")
# If ROUND=0 then getMsg returns 'Runden Sie ihr Ergebnis auf eine ganze Zahl'
# If ROUND=1 then getMsg returns 'Runden Sie ihr Ergebnis auf eine Nachkommastelle'
# Otherwise getMsg retuns 'Runden Sie ihr Ergebnis auf `r ROUND` Nachkommastellen'
setMsg(ROUND='Runden Sie ihr Ergebnis auf `r ROUND` Nachkommastellen',
       '0'='Runden Sie ihr Ergebnis auf eine ganze Zahl',
       '1'='Runden Sie ihr Ergebnis auf eine Nachkommastelle')
getMsg(ROUND=0, .lang="de", .domain="round")
getMsg(ROUND=1, .lang="de", .domain="round")     
getMsg(ROUND=2, .lang="de", .domain="round")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

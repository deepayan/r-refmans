<!DOCTYPE html><html><head><title>Help for package shiny.reglog</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shiny.reglog}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#create_gsheet_db'><p>Create new 'googlesheet' reglog database</p></a></li>
<li><a href='#create_sqlite_db'><p>Create new 'SQLite' reglog database</p></a></li>
<li><a href='#db_timestamp'><p>function to create standardized timestamp</p></a></li>
<li><a href='#DBI_credsEdit_handler'><p>DBI edit to the database handler</p></a></li>
<li><a href='#DBI_login_handler'><p>DBI login handler</p></a></li>
<li><a href='#DBI_register_handler'><p>DBI register handler</p></a></li>
<li><a href='#DBI_resetPass_confirmation_handler'><p>DBI resetpass code confirmation handler</p></a></li>
<li><a href='#DBI_resetPass_generation_handler'><p>DBI resetpass code generation handler</p></a></li>
<li><a href='#DBI_tables_create'><p>Create RegLog-valid database tables with DBI</p></a></li>
<li><a href='#emayili_custom_mail_handler'><p>Emayili custom email sending handler</p></a></li>
<li><a href='#emayili_reglog_mail_handler'><p>Emayili email sending handler</p></a></li>
<li><a href='#gmailr_custom_mail_handler'><p>Gmailr custom email sending handler</p></a></li>
<li><a href='#gmailr_reglog_mail_handler'><p>Gmailr send email handler</p></a></li>
<li><a href='#gsheet_credsEdit_handler'><p>googlesheets edit to the database handler</p></a></li>
<li><a href='#gsheet_get_db'><p>Function to read googlesheets shiny.reglog database</p></a></li>
<li><a href='#gsheet_login_handler'><p>googlesheets login handler</p></a></li>
<li><a href='#gsheet_register_handler'><p>googlesheets register handler</p></a></li>
<li><a href='#gsheet_resetPass_confirmation_handler'><p>googlesheets resetpass code confirmation handler</p></a></li>
<li><a href='#gsheet_resetPass_generation_handler'><p>googlesheets resetpass code generation handler</p></a></li>
<li><a href='#gsheet_tables_create'><p>Create RegLog-valid database tables with googlesheets4</p></a></li>
<li><a href='#login_server'><p>Login server module</p></a></li>
<li><a href='#login_UI'><p>Shiny UI module for login box</p></a></li>
<li><a href='#logout_button'><p>Action Button for logging out</p></a></li>
<li><a href='#mailMessageAttachment'><p>Mail attachment data to be handled by mailConnector via <code>custom_mail</code> RegLogConnectorMessage</p></a></li>
<li><a href='#mongo_credsEdit_handler'><p>MongoDB edit to the database handler</p></a></li>
<li><a href='#mongo_login_handler'><p>MongoDB login handler</p></a></li>
<li><a href='#mongo_register_handler'><p>MongoDB register handler</p></a></li>
<li><a href='#mongo_resetPass_confirmation_handler'><p>MongoDB resetpass code confirmation handler</p></a></li>
<li><a href='#mongo_resetPass_generation_handler'><p>MongoDB resetpass code generation handler</p></a></li>
<li><a href='#mongo_tables_create'><p>Create RegLog-valid database collections for MongoDB</p></a></li>
<li><a href='#password_reset_UI'><p>Shiny UI module for password reset</p></a></li>
<li><a href='#register_UI'><p>Shiny UI module for registration box</p></a></li>
<li><a href='#RegLog_credsEdit_UI'><p>Generate Edit User Data UI for RegLog system</p></a></li>
<li><a href='#RegLog_login_UI'><p>Generate Login UI for RegLog system</p></a></li>
<li><a href='#RegLog_register_UI'><p>Generate Register UI for RegLog system</p></a></li>
<li><a href='#RegLog_resetPass_UI'><p>Generate ResetPass code UI for RegLog system</p></a></li>
<li><a href='#reglog_txt'><p>Get texts for given language. Used within deprecated <code>login_server</code></p></a></li>
<li><a href='#RegLog_txt'><p>Getting texts for given language</p></a></li>
<li><a href='#RegLogConnector'><p>RegLog connector template</p></a></li>
<li><a href='#RegLogConnectorMessage'><p>create RegLogConnectorMessage object</p></a></li>
<li><a href='#RegLogDBIConnector'><p>Connector to DBI-valid databases</p></a></li>
<li><a href='#RegLogDemo'><p>Demonstration ShinyApp with basic RegLog system</p></a></li>
<li><a href='#RegLogEmayiliConnector'><p>RegLogConnector for email sending via <code>emayili</code> package</p></a></li>
<li><a href='#RegLogGmailrConnector'><p>RegLogConnector for email sending via <code>emayili</code> package</p></a></li>
<li><a href='#RegLogGsheetConnector'><p>Connector to googlesheet database</p></a></li>
<li><a href='#RegLogMongoConnector'><p>Connector to MongoDB database</p></a></li>
<li><a href='#RegLogServer'><p>Login and registration moduleServer</p></a></li>
<li><a href='#shiny.reglog-package'><p>shiny.reglog: Optional Login and Registration Module System for ShinyApps</p></a></li>
<li><a href='#sqlite_get_db'><p>Function to read SQLite shiny.reglog database</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Optional Login and Registration Module System for ShinyApps</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.2</td>
</tr>
<tr>
<td>Description:</td>
<td>RegLog system provides a set of shiny modules to handle register
   procedure for your users, alongside with login, edit credentials and
   password reset functionality. 
   It provides support for popular SQL databases
   and optionally googlesheet-based database for easy setup. For email sending
   it provides support for 'emayili' and 'gmailr' backends. Architecture makes 
   customizing usability pretty straightforward.
   The authentication system created 
   with shiny.reglog is designed to be optional: user don't need to be logged-in 
   to access your application, but when logged-in the user data can be used 
   to read from and write to relational databases.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0), R6, shiny</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, lubridate, lifecycle, scrypt, shinyjs, stringi, uuid</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, DBI, DT, devtools, emayili, gmailr, googledrive,
googlesheets4, jsonlite, knitr, mongolite, rmarkdown, RSQLite,
shinytest2, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://statismike.github.io/shiny.reglog/">https://statismike.github.io/shiny.reglog/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-29 20:56:35 UTC; kosin</td>
</tr>
<tr>
<td>Author:</td>
<td>Michal Kosinski <a href="https://orcid.org/0000-0002-8426-3654"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michal Kosinski &lt;kosinski.mich@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-30 18:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='create_gsheet_db'>Create new 'googlesheet' reglog database</h2><span id='topic+create_gsheet_db'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Used to match deprecated 'login_server' function. Use <code><a href="#topic+gsheet_tables_create">gsheet_tables_create()</a></code>
to create 'googlesheet'-based database for new 'RegLogServer' object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_gsheet_db(name = NULL, credentials = NULL, credentials_pass_hashed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_gsheet_db_+3A_name">name</code></td>
<td>
<p>specify name for 'googlesheet' file. Defaults to random name.</p>
</td></tr>
<tr><td><code id="create_gsheet_db_+3A_credentials">credentials</code></td>
<td>
<p>you can pass credentials data to create already populated tables. Provide data.frame object containing variables: timestamp, user_id, user_mail and user_pass. If there are multiple records with the same user_id, the most recent will be kept only.</p>
</td></tr>
<tr><td><code id="create_gsheet_db_+3A_credentials_pass_hashed">credentials_pass_hashed</code></td>
<td>
<p>mandatory when putting some credentials data. Are the passwords already hashed with 'scrypt' package? Takes TRUE (if hashed) or FALSE (if not hashed and need hashing)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>id of the 'googlesheet' file. After creation you need to provide it to <code>login_server()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(googlesheets4::gs4_has_token()){

gsheet.id &lt;- create_gsheet_db()

database &lt;- gsheet_get_db(gsheet.id)

# you can then pass 'gsheet.id' to you 'login_server' call
#
# login_server(db_method = "gsheet",
#              gsheet_file = gsheet.id,
#              ...)
#

print(database)

googledrive::drive_trash(gsheet.id)

}
</code></pre>

<hr>
<h2 id='create_sqlite_db'>Create new 'SQLite' reglog database</h2><span id='topic+create_sqlite_db'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Used to match deprecated 'login_server' function. Use <code><a href="#topic+DBI_tables_create">DBI_tables_create()</a></code>
to create tables in 'DBI' supported database for new 'RegLogServer' object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_sqlite_db(output_file, credentials = NULL, credentials_pass_hashed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_sqlite_db_+3A_output_file">output_file</code></td>
<td>
<p>path to new 'SQLite' database. After creation you need to provide it to <code>login_server()</code></p>
</td></tr>
<tr><td><code id="create_sqlite_db_+3A_credentials">credentials</code></td>
<td>
<p>you can pass credentials data to create already populated tables. Provide data.frame object containing variables: timestamp, user_id, user_mail and user_pass. If there are multiple records with the same user_id, the most recent will be kept only.</p>
</td></tr>
<tr><td><code id="create_sqlite_db_+3A_credentials_pass_hashed">credentials_pass_hashed</code></td>
<td>
<p>specify if you put in some credentials data. Are the passwords already hashed with 'scrypt' package? Takes TRUE (if hashed) or FALSE (if not hashed and need hashing)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>sqlite.path &lt;- tempfile(fileext = "sqlite")

create_sqlite_db(sqlite.path)

database &lt;- sqlite_get_db(sqlite.path)

# you can then pass 'sqlite.path' to you 'login_server' call
#
# login_server(db_method = "sqlite",
#              sqlite_db = sqlite.path,
#              ...)
#

print(database)
</code></pre>

<hr>
<h2 id='db_timestamp'>function to create standardized timestamp</h2><span id='topic+db_timestamp'></span>

<h3>Description</h3>

<p>function to create standardized timestamp
</p>


<h3>Usage</h3>

<pre><code class='language-R'>db_timestamp()
</code></pre>

<hr>
<h2 id='DBI_credsEdit_handler'>DBI edit to the database handler</h2><span id='topic+DBI_credsEdit_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogDBIConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DBI_credsEdit_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_credsEdit_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_credsEdit_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_credsEdit_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> account_id
</p>
</li>
<li><p> password
</p>
</li></ul>

<p>It can also contain elements for change:
</p>

<ul>
<li><p> new_username
</p>
</li>
<li><p> new_email
</p>
</li>
<li><p> new_password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other DBI handler functions: 
<code><a href="#topic+DBI_login_handler">DBI_login_handler</a>()</code>,
<code><a href="#topic+DBI_register_handler">DBI_register_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_confirmation_handler">DBI_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_generation_handler">DBI_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='DBI_login_handler'>DBI login handler</h2><span id='topic+DBI_login_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm login
procedure. Used within object of <code>RegLogDBIConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DBI_login_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_login_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_login_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_login_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other DBI handler functions: 
<code><a href="#topic+DBI_credsEdit_handler">DBI_credsEdit_handler</a>()</code>,
<code><a href="#topic+DBI_register_handler">DBI_register_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_confirmation_handler">DBI_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_generation_handler">DBI_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='DBI_register_handler'>DBI register handler</h2><span id='topic+DBI_register_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm registration
validity and input new data. Used within object of <code>RegLogDBIConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DBI_register_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_register_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_register_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_register_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> password
</p>
</li>
<li><p> email
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other DBI handler functions: 
<code><a href="#topic+DBI_credsEdit_handler">DBI_credsEdit_handler</a>()</code>,
<code><a href="#topic+DBI_login_handler">DBI_login_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_confirmation_handler">DBI_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_generation_handler">DBI_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='DBI_resetPass_confirmation_handler'>DBI resetpass code confirmation handler</h2><span id='topic+DBI_resetPass_confirmation_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogDBIConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DBI_resetPass_confirmation_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_resetPass_confirmation_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_resetPass_confirmation_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_resetPass_confirmation_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> reset_code
</p>
</li>
<li><p> password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other DBI handler functions: 
<code><a href="#topic+DBI_credsEdit_handler">DBI_credsEdit_handler</a>()</code>,
<code><a href="#topic+DBI_login_handler">DBI_login_handler</a>()</code>,
<code><a href="#topic+DBI_register_handler">DBI_register_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_generation_handler">DBI_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='DBI_resetPass_generation_handler'>DBI resetpass code generation handler</h2><span id='topic+DBI_resetPass_generation_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogDBIConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DBI_resetPass_generation_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_resetPass_generation_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_resetPass_generation_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="DBI_resetPass_generation_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> username
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other DBI handler functions: 
<code><a href="#topic+DBI_credsEdit_handler">DBI_credsEdit_handler</a>()</code>,
<code><a href="#topic+DBI_login_handler">DBI_login_handler</a>()</code>,
<code><a href="#topic+DBI_register_handler">DBI_register_handler</a>()</code>,
<code><a href="#topic+DBI_resetPass_confirmation_handler">DBI_resetPass_confirmation_handler</a>()</code>
</p>

<hr>
<h2 id='DBI_tables_create'>Create RegLog-valid database tables with DBI</h2><span id='topic+DBI_tables_create'></span>

<h3>Description</h3>

<p>Create RegLog-valid database tables with DBI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DBI_tables_create(
  conn,
  account_name = "account",
  reset_code_name = "reset_code",
  use_log = FALSE,
  log_name = "logs",
  user_data = NULL,
  hash_passwords = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_tables_create_+3A_conn">conn</code></td>
<td>
<p>DBI connection object</p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_account_name">account_name</code></td>
<td>
<p>Name of the table for storing user accounts credentials.
Defaults to 'account'. Mandatory table.</p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_reset_code_name">reset_code_name</code></td>
<td>
<p>Name of the table for storing generated password reset
codes. Defaults to 'reset_code'. Mandatory table.</p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_use_log">use_log</code></td>
<td>
<p>Should the table for keeping RegLogServer logs be
also created? Defaults to FALSE</p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_log_name">log_name</code></td>
<td>
<p>Name of the table for storing logs from RegLogServer object.
Used only if <code>use_log = TRUE</code>. Defaults to <code>logs</code></p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_user_data">user_data</code></td>
<td>
<p>If you wish to import existing user database, you can input
data.frame with that table in this argument. It should contain columns:
username, password, email. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_hash_passwords">hash_passwords</code></td>
<td>
<p>If you are importing table of users upon tables creation,
you can also specify if the password should be hashed using <code>scrypt::hashPassword</code>.
Defaults to <code>FALSE</code>. If you have unhashed passwords in imported table, set
this option to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="DBI_tables_create_+3A_verbose">verbose</code></td>
<td>
<p>Boolean specific if the actions made by function should be
printed back to the console. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently, the function is tested and working correctly for
SQLite, MySQL, MariaDB and PostrgreSQL databases. If you want to use another
DBI-supported database, you need to create tables in other ways.
</p>
<p>Created tables should have following structure:
</p>

<ul>
<li><p> account (default name)
</p>

<ul>
<li><p> id: integer, primary key, auto-increment
</p>
</li>
<li><p> username: varchar(255), NOT NULL, unique key
</p>
</li>
<li><p> password: varchar(255), NOT NULL
</p>
</li>
<li><p> email: varchar(255), NOT NULL, unique key
</p>
</li>
<li><p> create_time: datetime, NOT NULL
</p>
</li>
<li><p> update_time: datetime, NOT NULL
</p>
</li></ul>

</li>
<li><p> reset_code (default name)
</p>

<ul>
<li><p> id: integer, primary key, auto-increment
</p>
</li>
<li><p> user_id: integer, NOT NULL, key
</p>
</li>
<li><p> reset_code: varchar(10), NOT NULL
</p>
</li>
<li><p> used: tinyint, NOT NULL
</p>
</li>
<li><p> create_time: datetime, NOT NULL
</p>
</li>
<li><p> update_time: datetime, NOT NULL
</p>
</li></ul>

</li>
<li><p> logs (default name, optional)
</p>

<ul>
<li><p> id: integer, primary key, auto-increment
</p>
</li>
<li><p> time: datetime, NOT NULL
</p>
</li>
<li><p> session: varchar(255), NOT NULL
</p>
</li>
<li><p> direction: varchar(255), NOT NULL
</p>
</li>
<li><p> type: varchar(255), NOT NULL
</p>
</li>
<li><p> note: varchar(255)
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>List with results of the creation
</p>


<h3>See Also</h3>

<p>Other RegLog databases: 
<code><a href="#topic+gsheet_tables_create">gsheet_tables_create</a>()</code>,
<code><a href="#topic+mongo_tables_create">mongo_tables_create</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(shiny.reglog)

# create a tenporary SQLite database
conn &lt;- DBI::dbConnect(
  RSQLite::SQLite(),
  dbname = ":memory:"
)

# mockup user data
user_data &lt;- 
  data.frame(username = c("Whatever", "Hanuka", "Helsinki", "How_come"), 
             password = c("&amp;f5*MSYj^niDt=V'3.[dyEX.C/", "%}&amp;B[fs\\}5PKE@,*+V\\tx9\"at]", 
                    "35z*ofW\\'G_8,@vCC`]~?e$Jm%", "s:;r_eLn?-D6;oA-=\"^R(-Ew&lt;x"), 
             email = c("what@mil.com", "hehe@soso.so", "nider@what.no", "crazzz@simpsy.com"))

# create the tables and input the data (hashing the passwords in the process)
DBI_tables_create(conn = conn,
                  user_data = user_data,
                  hash_passwords = TRUE,
                  verbose = FALSE)

# check generater tables
DBI::dbListTables(conn = conn)

# check the "user" table for user data
DBI::dbReadTable(conn = conn,
                 "account")

# disconnect
DBI::dbDisconnect(conn = conn)
</code></pre>

<hr>
<h2 id='emayili_custom_mail_handler'>Emayili custom email sending handler</h2><span id='topic+emayili_custom_mail_handler'></span>

<h3>Description</h3>

<p>Default handler function parsing and sending email.
Used within object of <code>RegLogEmayiliConnector</code> class internally. It can
send custom emails using subject, body and attachments from
<code>RegLogConnectorMessage</code> of type <code>custom_mail</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>emayili_custom_mail_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="emayili_custom_mail_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="emayili_custom_mail_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="emayili_custom_mail_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> process
</p>
</li>
<li><p> username
</p>
</li>
<li><p> email
</p>
</li>
<li><p> mail_subject
</p>
</li>
<li><p> mail_body
</p>
</li>
<li><p> mail_attachment (optional, needs to be of class <code>mailMessageAttachment</code>)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p><code>RegLogEmayiliConnector</code> message.
</p>


<h3>See Also</h3>

<p>Other mail handler functions: 
<code><a href="#topic+emayili_reglog_mail_handler">emayili_reglog_mail_handler</a>()</code>,
<code><a href="#topic+gmailr_custom_mail_handler">gmailr_custom_mail_handler</a>()</code>,
<code><a href="#topic+gmailr_reglog_mail_handler">gmailr_reglog_mail_handler</a>()</code>
</p>

<hr>
<h2 id='emayili_reglog_mail_handler'>Emayili email sending handler</h2><span id='topic+emayili_reglog_mail_handler'></span>

<h3>Description</h3>

<p>Default handler function parsing and sending email.
Used within object of <code>RegLogEmayiliConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>emayili_reglog_mail_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="emayili_reglog_mail_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="emayili_reglog_mail_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="emayili_reglog_mail_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> process
</p>
</li>
<li><p> username
</p>
</li>
<li><p> email
</p>
</li>
<li><p> app_name
</p>
</li>
<li><p> app_address
</p>
</li>
<li><p> reset_code (optional for reset code mails)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p><code>RegLogEmayiliConnector</code> message.
</p>


<h3>See Also</h3>

<p>Other mail handler functions: 
<code><a href="#topic+emayili_custom_mail_handler">emayili_custom_mail_handler</a>()</code>,
<code><a href="#topic+gmailr_custom_mail_handler">gmailr_custom_mail_handler</a>()</code>,
<code><a href="#topic+gmailr_reglog_mail_handler">gmailr_reglog_mail_handler</a>()</code>
</p>

<hr>
<h2 id='gmailr_custom_mail_handler'>Gmailr custom email sending handler</h2><span id='topic+gmailr_custom_mail_handler'></span>

<h3>Description</h3>

<p>Default handler function parsing and sending email.
Used within object of <code>RegLogGmailrConnector</code> class internally. It can
send custom emails using subject, body and attachments from
<code>RegLogConnectorMessage</code> of type <code>custom_mail</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gmailr_custom_mail_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gmailr_custom_mail_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gmailr_custom_mail_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gmailr_custom_mail_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> process
</p>
</li>
<li><p> username
</p>
</li>
<li><p> email
</p>
</li>
<li><p> mail_subject
</p>
</li>
<li><p> mail_body
</p>
</li>
<li><p> mail_attachment (optional, needs to be of class <code>mailMessageAttachment</code>)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p><code>RegLogGmailrConnector</code> message.
</p>


<h3>See Also</h3>

<p>Other mail handler functions: 
<code><a href="#topic+emayili_custom_mail_handler">emayili_custom_mail_handler</a>()</code>,
<code><a href="#topic+emayili_reglog_mail_handler">emayili_reglog_mail_handler</a>()</code>,
<code><a href="#topic+gmailr_reglog_mail_handler">gmailr_reglog_mail_handler</a>()</code>
</p>

<hr>
<h2 id='gmailr_reglog_mail_handler'>Gmailr send email handler</h2><span id='topic+gmailr_reglog_mail_handler'></span>

<h3>Description</h3>

<p>Default handler function parsing and sending register confirmation
email to newly registered user of the package. Used within object of
<code>RegLogGmailrConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gmailr_reglog_mail_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gmailr_reglog_mail_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gmailr_reglog_mail_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gmailr_reglog_mail_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> process
</p>
</li>
<li><p> username
</p>
</li>
<li><p> email
</p>
</li>
<li><p> app_name
</p>
</li>
<li><p> app_address
</p>
</li>
<li><p> reset_code (optional for reset code mails)
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p><code>RegLogEmayiliConnector</code> message.
</p>


<h3>See Also</h3>

<p>Other mail handler functions: 
<code><a href="#topic+emayili_custom_mail_handler">emayili_custom_mail_handler</a>()</code>,
<code><a href="#topic+emayili_reglog_mail_handler">emayili_reglog_mail_handler</a>()</code>,
<code><a href="#topic+gmailr_custom_mail_handler">gmailr_custom_mail_handler</a>()</code>
</p>

<hr>
<h2 id='gsheet_credsEdit_handler'>googlesheets edit to the database handler</h2><span id='topic+gsheet_credsEdit_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogGsheetConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_credsEdit_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_credsEdit_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_credsEdit_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_credsEdit_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> account_id
</p>
</li>
<li><p> password
</p>
</li></ul>

<p>It can also contain elements for change:
</p>

<ul>
<li><p> new_username
</p>
</li>
<li><p> new_email
</p>
</li>
<li><p> new_password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other googlesheets handler functions: 
<code><a href="#topic+gsheet_login_handler">gsheet_login_handler</a>()</code>,
<code><a href="#topic+gsheet_register_handler">gsheet_register_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_confirmation_handler">gsheet_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_generation_handler">gsheet_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='gsheet_get_db'>Function to read googlesheets shiny.reglog database</h2><span id='topic+gsheet_get_db'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>As the new version of RegLog system allows for much more flexibility
old functionalities for reading data is deprecated. Please use functions
from adequate package: in this instance, 'googlesheets4' package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_get_db(gsheet_db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_get_db_+3A_gsheet_db">gsheet_db</code></td>
<td>
<p>ID of your 'googlesheets' database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing <code>user_db</code> and <code>reset_db</code> dataframes
</p>


<h3>See Also</h3>

<p>create_sqlite_db
</p>

<hr>
<h2 id='gsheet_login_handler'>googlesheets login handler</h2><span id='topic+gsheet_login_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm login
procedure. Used within object of <code>RegLogGsheetConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_login_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_login_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_login_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_login_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other googlesheets handler functions: 
<code><a href="#topic+gsheet_credsEdit_handler">gsheet_credsEdit_handler</a>()</code>,
<code><a href="#topic+gsheet_register_handler">gsheet_register_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_confirmation_handler">gsheet_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_generation_handler">gsheet_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='gsheet_register_handler'>googlesheets register handler</h2><span id='topic+gsheet_register_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm registration
validity and input new data. Used within object of <code>RegLogGsheetConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_register_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_register_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_register_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_register_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> password
</p>
</li>
<li><p> email
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other googlesheets handler functions: 
<code><a href="#topic+gsheet_credsEdit_handler">gsheet_credsEdit_handler</a>()</code>,
<code><a href="#topic+gsheet_login_handler">gsheet_login_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_confirmation_handler">gsheet_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_generation_handler">gsheet_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='gsheet_resetPass_confirmation_handler'>googlesheets resetpass code confirmation handler</h2><span id='topic+gsheet_resetPass_confirmation_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogGsheetConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_resetPass_confirmation_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_resetPass_confirmation_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_resetPass_confirmation_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_resetPass_confirmation_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> reset_code
</p>
</li>
<li><p> password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other googlesheets handler functions: 
<code><a href="#topic+gsheet_credsEdit_handler">gsheet_credsEdit_handler</a>()</code>,
<code><a href="#topic+gsheet_login_handler">gsheet_login_handler</a>()</code>,
<code><a href="#topic+gsheet_register_handler">gsheet_register_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_generation_handler">gsheet_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='gsheet_resetPass_generation_handler'>googlesheets resetpass code generation handler</h2><span id='topic+gsheet_resetPass_generation_handler'></span>

<h3>Description</h3>

<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogGsheetConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_resetPass_generation_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_resetPass_generation_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_resetPass_generation_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="gsheet_resetPass_generation_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> username
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other googlesheets handler functions: 
<code><a href="#topic+gsheet_credsEdit_handler">gsheet_credsEdit_handler</a>()</code>,
<code><a href="#topic+gsheet_login_handler">gsheet_login_handler</a>()</code>,
<code><a href="#topic+gsheet_register_handler">gsheet_register_handler</a>()</code>,
<code><a href="#topic+gsheet_resetPass_confirmation_handler">gsheet_resetPass_confirmation_handler</a>()</code>
</p>

<hr>
<h2 id='gsheet_tables_create'>Create RegLog-valid database tables with googlesheets4</h2><span id='topic+gsheet_tables_create'></span>

<h3>Description</h3>

<p>Create RegLog-valid database tables with googlesheets4
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsheet_tables_create(
  account_name = "account",
  reset_code_name = "reset_code",
  use_log = FALSE,
  log_name = "logs",
  user_data = NULL,
  hash_passwords = FALSE,
  gsheet_ss = NULL,
  gsheet_name = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gsheet_tables_create_+3A_account_name">account_name</code></td>
<td>
<p>Name of the sheet for storing user accounts credentials.
Defaults to 'account'. Mandatory spreadsheet.</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_reset_code_name">reset_code_name</code></td>
<td>
<p>Name of the sheet for storing generated password reset
codes. Defaults to 'reset_code'. Mandatory table.</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_use_log">use_log</code></td>
<td>
<p>Should the sheet for keeping RegLogServer logs be
also created? Defaults to FALSE</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_log_name">log_name</code></td>
<td>
<p>Name of the sheet for storing logs from RegLogServer object.
Used only if <code>use_log = TRUE</code>. Defaults to <code>logs</code></p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_user_data">user_data</code></td>
<td>
<p>If you wish to import existing user database, you can input
data.frame with that table in this argument. It should contain columns:
username, password, email. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_hash_passwords">hash_passwords</code></td>
<td>
<p>If you are importing table of users upon tables creation,
you can also specify if the password should be hashed using <code>scrypt::hashPassword</code>.
Defaults to <code>FALSE</code>. If you have unhashed passwords in imported table, set
this option to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_gsheet_ss">gsheet_ss</code></td>
<td>
<p>ID of the googlesheet that you want to append created tables
to. Defaults to <code>NULL</code>, which means creating new googlesheet.</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_gsheet_name">gsheet_name</code></td>
<td>
<p>If <code>gsheet_ss = NULL</code> and new googlesheet will be generated,
you can choose choose its name. If left at default <code>NULL</code>, name will be
generated randomly.</p>
</td></tr>
<tr><td><code id="gsheet_tables_create_+3A_verbose">verbose</code></td>
<td>
<p>Boolean specific if the actions made by function should be
printed back to the console. Defaults to <code>TRUE</code>. Don't affect <code>googlesheets4</code>
generated messages. To silence them, use <code>options(googlesheets4_quiet = TRUE)</code>
in the script before.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Created spreadsheets will have following structure:
</p>

<ul>
<li><p> account (default name)
</p>

<ul>
<li><p> username: character
</p>
</li>
<li><p> password: character
</p>
</li>
<li><p> email: character
</p>
</li>
<li><p> create_time: character
</p>
</li>
<li><p> update_time: character
</p>
</li></ul>

</li>
<li><p> reset_code (default name)
</p>

<ul>
<li><p> user_id: numeric
</p>
</li>
<li><p> reset_code: character
</p>
</li>
<li><p> used: numeric
</p>
</li>
<li><p> create_time: character
</p>
</li>
<li><p> update_time: character
</p>
</li></ul>

</li>
<li><p> logs (default name, optional)
</p>

<ul>
<li><p> time: character
</p>
</li>
<li><p> session: character
</p>
</li>
<li><p> direction: character
</p>
</li>
<li><p> type: character
</p>
</li>
<li><p> note: character
</p>
</li></ul>

</li></ul>



<h3>Value</h3>

<p>ID of the googlesheet
</p>


<h3>See Also</h3>

<p>Other RegLog databases: 
<code><a href="#topic+DBI_tables_create">DBI_tables_create</a>()</code>,
<code><a href="#topic+mongo_tables_create">mongo_tables_create</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (googlesheets4::gs4_has_token()) {
  library(shiny.reglog)
  
  # mockup user data
  user_data &lt;- 
    data.frame(username = c("Whatever", "Hanuka", "Helsinki", "How_come"), 
               password = c("&amp;f5*MSYj^niDt=V'3.[dyEX.C/", "%}&amp;B[fs\\}5PKE@,*+V\\tx9\"at]", 
                            "35z*ofW\\'G_8,@vCC`]~?e$Jm%", "s:;r_eLn?-D6;oA-=\"^R(-Ew&lt;x"), 
               email = c("what@mil.com", "hehe@soso.so", "nider@what.no", "crazzz@simpsy.com"))
  
  # create the tables and input the data (hashing the passwords in the process)
  id &lt;- gsheet_tables_create(user_data = user_data,
                             hash_passwords = TRUE,
                             verbose = FALSE)
  
  # check generated googlesheet
  googlesheets4::gs4_get(id)
  
  # check the "account" sheet for credentials data
  googlesheets4::read_sheet(id, "account")
  
  # remove example googlesheets
  googledrive::drive_trash(id)
}
</code></pre>

<hr>
<h2 id='login_server'>Login server module</h2><span id='topic+login_server'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>This function has become deprecated. New RegLog system is based on <a href="#topic+RegLogServer">RegLogServer</a> R6 class.
</p>
<p>Shiny server module for the optional login/registration system
This function creates a server module to handle other modules of the system: <code>login_UI()</code>, <code>password_reset_UI()</code> and <code>register_UI</code>
It uses database contained in 'googlesheet' file on your 'gdrive' or 'SQLite' database locally to read and write data of the users. You need to create a 'googlesheet' or 'SQLite' using <code>create_gsheet_db()</code> or <code>create_sqlite_db()</code> respectively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>login_server(
  id = "login_system",
  db_method,
  mail_method,
  appname,
  appaddress,
  lang = "en",
  gsheet_file,
  sqlite_db,
  gmailr_user,
  emayili_user,
  emayili_password,
  emayili_host,
  emayili_port,
  custom_txts = NULL,
  use_login_modals = list(UserNotFound = T, WrongPass = T, Success = T)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="login_server_+3A_id">id</code></td>
<td>
<p>the id of the module. Defaults to &quot;login_system&quot; for all of the modules contained within the package. If you plan to use serveral login systems inside your app or for any other reason need to change it, remember to keep consistent id for all elements of module.</p>
</td></tr>
<tr><td><code id="login_server_+3A_db_method">db_method</code></td>
<td>
<p>the character string containing chosen database container, either: <code>"gsheet"</code> (needing installation of 'googlesheets4' package) or <code>"sqlite"</code> (needing installation of 'DBI' and 'RSQLite' packages)</p>
</td></tr>
<tr><td><code id="login_server_+3A_mail_method">mail_method</code></td>
<td>
<p>the character string containing chosen method of sending emails, either: <code>"gmailr"</code> (needing installation of 'gmailr' package) <code>"emayili"</code> (needing installation of 'emayili' package)</p>
</td></tr>
<tr><td><code id="login_server_+3A_appname">appname</code></td>
<td>
<p>the character string containing the name of your application (used in automatic e-mails for information purposes)</p>
</td></tr>
<tr><td><code id="login_server_+3A_appaddress">appaddress</code></td>
<td>
<p>the character value containing the web address of your application (used in automatic e-mails for information purposes)</p>
</td></tr>
<tr><td><code id="login_server_+3A_lang">lang</code></td>
<td>
<p>specifies the app used language. Accepts &quot;en&quot; or &quot;pl&quot;. Defaults to &quot;en&quot;</p>
</td></tr>
<tr><td><code id="login_server_+3A_gsheet_file">gsheet_file</code></td>
<td>
<p>the ID of your 'googlesheet' file holding the database. It is contained within URL address of your googlesheet (for: <code>db_method = "gsheet"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_sqlite_db">sqlite_db</code></td>
<td>
<p>the path to your 'SQLite' database (for: <code>db_method = "sqlite"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_gmailr_user">gmailr_user</code></td>
<td>
<p>your gmail address (for: <code>db_method = "gmailr"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_emayili_user">emayili_user</code></td>
<td>
<p>your email address, also used as login to your email account (for: <code>db_method = "emayili"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_emayili_password">emayili_password</code></td>
<td>
<p>password to your email account (for: <code>db_method = "emayili"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_emayili_host">emayili_host</code></td>
<td>
<p>host of your email box (for: <code>db_method = "emayili"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_emayili_port">emayili_port</code></td>
<td>
<p>port of your email box (for: <code>db_method = "emayili"</code>)</p>
</td></tr>
<tr><td><code id="login_server_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list containing customized texts. For more details,
see documentation for 'reglog_txt'. Provided list can contain only elements
used by this function, but it is recommended to provide the same list for
every 'shiny.reglog' function</p>
</td></tr>
<tr><td><code id="login_server_+3A_use_login_modals">use_login_modals</code></td>
<td>
<p>list of logicals indicating if the modalDialog after log-in should be shown. Defaults to named list of logicals:
</p>

<ul>
<li><p>UserNotFound = T
</p>
</li>
<li><p>WrongPass = T
</p>
</li>
<li><p>Success = T
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>The module logic creates a <code>reactiveValues()</code> object with loaded database of users and reset codes stored in <code>session$userData</code>. It allows to cut the reading from database to only one read per loading of the app - unfortunately it makes the app run slowly if the database of users gets very long.
</p>
<p>Registration of new account mails the confirmation e-mail to the end user on provided e-mail.
</p>
<p>Provided e-mail is needed for password reset: 10 digits code is generated and mailed to the user to confirm its identity. Reset code remains valid for 24 hours.
</p>


<h4>Authorization</h4>


<ul>
<li><p> When using db_method of &quot;gsheet&quot; you need to authorize access to your google drive outside of the functions (using <code>googlesheets4:gs_auth()</code> with default scopes: <code>"https://www.googleapis.com/auth/spreadsheets"</code>)
</p>
</li>
<li><p> When using mail_method of &quot;emayili&quot; you need to allow &quot;less secure apps&quot; to use your mailbox
</p>
</li>
<li><p> When using mail_method of &quot;gmailr&quot; you need to authorize access to your gmail box by creating Oauth2 App on 'Google Cloud Platform' and passing it to <code>gmailr::gm_auth_configure()</code> and allowing scopes: <code>"https://www.googleapis.com/auth/gmail.send"</code>
</p>
</li></ul>




<h4>Security</h4>


<ul>
<li><p> Both passwords and reset codes are hashed with the help of 'scrypt' package for the extra security
</p>
</li>
<li><p> gmailr mail_method seems to be more secure if you intend to use 'gmail' account to send emails. 'emayili' is suggested only when using other mailboxes.
</p>
</li></ul>




<h3>Value</h3>

<p>reactiveValues() object with three elements:
</p>
<p><code>is_logged</code>, containing boolean describing authorization status
</p>
<p><code>user_id</code>, containing the logged user identification name. When not logged, it contains the timestamp of session start
</p>
<p><code>user_mail</code>, containing the logged user mail. When not logged, it is empty character string of nchar() value 0: (&quot;&quot;)
</p>
<p><code>last_state_change</code>, containing string describing last change of login system state. Currently only supports state changes during login procedure
</p>


<h3>See Also</h3>

<p><code><a href="#topic+login_UI">login_UI()</a></code> for the login window in UI
</p>
<p><code><a href="#topic+password_reset_UI">password_reset_UI()</a></code> for the password reset window in UI
</p>
<p><code><a href="#topic+register_UI">register_UI()</a></code> for the registration window in UI
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Only run this example in interactive R sessions

if(interactive()){
  
  #### example of db_method = "sqlite" and mail_method = "emayili"
  
  library(shiny)
  library(shiny.reglog)
  
  # initializing sqlite
  
  sqlite.path &lt;- tempfile(fileext = "sqlite")
  create_sqlite_db(sqlite.path)
  database &lt;- sqlite_get_db(sqlite.path)
  
  # Define UI containing shiny.reglog modules
  ui &lt;- fluidPage(
    
    headerPanel(title = "shiny.reglog test"),
    
    tabsetPanel(
      tabPanel("Values", 
               # table of returned data for active user
               dataTableOutput("active_user_values"),
               # table of session$userData$reactive_db$user_db loaded at the start of session
               dataTableOutput("user_db"),
               # table of session$userData$reactive_db$reset_db loaded at the start of session
               dataTableOutput("reset_db")
      ),
      tabPanel("Login", login_UI()),
      tabPanel("Register", register_UI()),
      tabPanel("Reset Password", password_reset_UI()),
      tabPanel("Logout", logout_button())
      
    )
  )
  
  server &lt;- function(input, output, session) {
    
    # login server with specified methods for database and mailing
    # to run it you need to replace placeholders with your details and 
    # cofigure it for your needs
    
    auth &lt;- login_server(
      db_method = "sqlite",
      mail_method = "emayili",
      appname = "shiny.reglog example",
      appaddress = "not-on-net.com",
      sqlite_db = sqlite.path,
      # arguments below need configuration for your mailing account
      emayili_user = "your_email_address",
      emayili_password = "your_email_password",
      emayili_port = "your_email_box_port",
      emayili_host = "your_email_box_host"
    )
    
    # table of values returned by login_server
    
    output$active_user_values &lt;- renderDataTable({
      data.frame(is_logged = auth$is_logged,
                 user_id = auth$user_id,
                 user_mail = auth$user_mail
      )
    })
    
    # tibbles contained within session$userData$reactive_db
   
    output$user_db &lt;- renderDataTable(
      session$userData$reactive_db$user_db
    )
    
    output$reset_db &lt;- renderDataTable(
      session$userData$reactive_db$reset_db
    )
  }
  
  # Run the application 
  shinyApp(ui = ui, server = server)
  
}

</code></pre>

<hr>
<h2 id='login_UI'>Shiny UI module for login box</h2><span id='topic+login_UI'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>It need to be used in conjuction with <code><a href="#topic+login_server">login_server()</a></code> function and is suggested to be used alongside <code><a href="#topic+password_reset_UI">password_reset_UI()</a></code> and <code><a href="#topic+register_UI">register_UI()</a></code> for full potential.
</p>
<p>This function creates a UI div() element containing informations and input necessary for user to log-in.
As it outputs a div() element, you can put it inside container of your choosing (be it some tabItem, fluidPage, fluidRow etc.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>login_UI(id = "login_system", lang = "en", custom_txts = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="login_UI_+3A_id">id</code></td>
<td>
<p>the id of the module. Defaults to &quot;login_system&quot; for all of the modules contained within the package. If you plan to use serveral login systems inside your app or for any other reason need to change it, remember to keep consistent id for all elements of module.</p>
</td></tr>
<tr><td><code id="login_UI_+3A_lang">lang</code></td>
<td>
<p>specifies the app used language. Accepts &quot;en&quot; or &quot;pl&quot;. Defaults to &quot;en&quot;</p>
</td></tr>
<tr><td><code id="login_UI_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list containing customized texts. For more details,
see documentation for 'reglog_txt'. Provided list can contain only elements
used by this function, but it is recommended to provide the same list for
every 'shiny.reglog' function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'tags$div' containing all elements for login procedure
</p>


<h3>See Also</h3>

<p>login_server() for more details and example
</p>

<hr>
<h2 id='logout_button'>Action Button for logging out</h2><span id='topic+logout_button'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>To be used in conjuction with deprecated <code><a href="#topic+login_server">login_server()</a></code>
Simple action button - after pressing it, the user will be logged out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logout_button(id = "login_system", lang = "en", custom_txts = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logout_button_+3A_id">id</code></td>
<td>
<p>the id of the module. Defaults to &quot;login_system&quot; for all of the modules contained within the package. If you plan to use serveral login systems inside your app or for any other reason need to change it, remember to keep consistent id for all elements of module.</p>
</td></tr>
<tr><td><code id="logout_button_+3A_lang">lang</code></td>
<td>
<p>lang specifies the app used language. Accepts &quot;en&quot; or &quot;pl&quot;. Defaults to &quot;en&quot;</p>
</td></tr>
<tr><td><code id="logout_button_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list containing customized texts. For more details,
see documentation for 'reglog_txt'. Provided list can contain only elements
used by this function, but it is recommended to provide the same list for
every 'shiny.reglog' function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'actionButton' for logout
</p>

<hr>
<h2 id='mailMessageAttachment'>Mail attachment data to be handled by mailConnector via <code>custom_mail</code> RegLogConnectorMessage</h2><span id='topic+mailMessageAttachment'></span>

<h3>Description</h3>

<p>Mail attachment data to be handled by mailConnector via <code>custom_mail</code> RegLogConnectorMessage
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mailMessageAttachment(filepath, filename = NULL, cid = NULL, filetype = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mailMessageAttachment_+3A_filepath">filepath</code></td>
<td>
<p>path to the file to be attached</p>
</td></tr>
<tr><td><code id="mailMessageAttachment_+3A_filename">filename</code></td>
<td>
<p>name of the file to be used (supported by RegLogEmayiliConnector)</p>
</td></tr>
<tr><td><code id="mailMessageAttachment_+3A_cid">cid</code></td>
<td>
<p>content ID to be used to access in email body</p>
</td></tr>
<tr><td><code id="mailMessageAttachment_+3A_filetype">filetype</code></td>
<td>
<p>mime type of the attached file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>mailMessageAttachment object
</p>

<hr>
<h2 id='mongo_credsEdit_handler'>MongoDB edit to the database handler</h2><span id='topic+mongo_credsEdit_handler'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogMongoConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mongo_credsEdit_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mongo_credsEdit_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_credsEdit_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_credsEdit_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> account_id
</p>
</li>
<li><p> password
</p>
</li></ul>

<p>It can also contain elements for change:
</p>

<ul>
<li><p> new_username
</p>
</li>
<li><p> new_email
</p>
</li>
<li><p> new_password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other MongoDB handler functions: 
<code><a href="#topic+mongo_login_handler">mongo_login_handler</a>()</code>,
<code><a href="#topic+mongo_register_handler">mongo_register_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_confirmation_handler">mongo_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_generation_handler">mongo_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='mongo_login_handler'>MongoDB login handler</h2><span id='topic+mongo_login_handler'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Default handler function querying database to confirm login
procedure. Used within object of <code>RegLogMongoConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mongo_login_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mongo_login_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_login_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_login_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other MongoDB handler functions: 
<code><a href="#topic+mongo_credsEdit_handler">mongo_credsEdit_handler</a>()</code>,
<code><a href="#topic+mongo_register_handler">mongo_register_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_confirmation_handler">mongo_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_generation_handler">mongo_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='mongo_register_handler'>MongoDB register handler</h2><span id='topic+mongo_register_handler'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Default handler function querying database to confirm registration
validity and input new data. Used within object of <code>RegLogMongoConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mongo_register_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mongo_register_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_register_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_register_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which should contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> password
</p>
</li>
<li><p> email
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other MongoDB handler functions: 
<code><a href="#topic+mongo_credsEdit_handler">mongo_credsEdit_handler</a>()</code>,
<code><a href="#topic+mongo_login_handler">mongo_login_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_confirmation_handler">mongo_resetPass_confirmation_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_generation_handler">mongo_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='mongo_resetPass_confirmation_handler'>MongoDB resetpass code confirmation handler</h2><span id='topic+mongo_resetPass_confirmation_handler'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogMongoConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mongo_resetPass_confirmation_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mongo_resetPass_confirmation_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_resetPass_confirmation_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_resetPass_confirmation_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> username
</p>
</li>
<li><p> reset_code
</p>
</li>
<li><p> password
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other MongoDB handler functions: 
<code><a href="#topic+mongo_credsEdit_handler">mongo_credsEdit_handler</a>()</code>,
<code><a href="#topic+mongo_login_handler">mongo_login_handler</a>()</code>,
<code><a href="#topic+mongo_register_handler">mongo_register_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_generation_handler">mongo_resetPass_generation_handler</a>()</code>
</p>

<hr>
<h2 id='mongo_resetPass_generation_handler'>MongoDB resetpass code generation handler</h2><span id='topic+mongo_resetPass_generation_handler'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Default handler function querying database to confirm credentials
edit procedure and update values saved within database. Used within object of
<code>RegLogMongoConnector</code> class internally.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mongo_resetPass_generation_handler(self, private, message)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mongo_resetPass_generation_handler_+3A_self">self</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_resetPass_generation_handler_+3A_private">private</code></td>
<td>
<p>R6 object element</p>
</td></tr>
<tr><td><code id="mongo_resetPass_generation_handler_+3A_message">message</code></td>
<td>
<p>RegLogConnectorMessage which need to contain within its data:
</p>

<ul>
<li><p> username
</p>
</li></ul>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other MongoDB handler functions: 
<code><a href="#topic+mongo_credsEdit_handler">mongo_credsEdit_handler</a>()</code>,
<code><a href="#topic+mongo_login_handler">mongo_login_handler</a>()</code>,
<code><a href="#topic+mongo_register_handler">mongo_register_handler</a>()</code>,
<code><a href="#topic+mongo_resetPass_confirmation_handler">mongo_resetPass_confirmation_handler</a>()</code>
</p>

<hr>
<h2 id='mongo_tables_create'>Create RegLog-valid database collections for MongoDB</h2><span id='topic+mongo_tables_create'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>MongoDB database don't enforce a structure to the documents contained within.
Even though this is true, it's best to use this function explicitly,
as after creation of collections it also create appropriate indexes for quick
querying of the database by RegLogMongoConnector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mongo_tables_create(
  mongo_url,
  mongo_db,
  mongo_options = mongolite::ssl_options(),
  account_name = "account",
  reset_code_name = "reset_code",
  user_data = NULL,
  hash_passwords = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mongo_tables_create_+3A_mongo_url">mongo_url</code></td>
<td>
<p>URI to the MongoDB cluster</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_mongo_db">mongo_db</code></td>
<td>
<p>name of the MongoDB database</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_mongo_options">mongo_options</code></td>
<td>
<p>additional connection options such as SSL keys/certs</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_account_name">account_name</code></td>
<td>
<p>Name of the collection for storing user accounts credentials.
Defaults to 'account'. Mandatory collection.</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_reset_code_name">reset_code_name</code></td>
<td>
<p>Name of the collector for storing generated password reset
codes. Defaults to 'reset_code'. Mandatory collection.</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_user_data">user_data</code></td>
<td>
<p>If you wish to import existing user database, you can input
data.frame with that table in this argument. It should contain columns:
username, password, email (ond optionally: create_time). Defaults to NULL.</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_hash_passwords">hash_passwords</code></td>
<td>
<p>If you are importing table of users upon tables creation,
you can also specify if the password should be hashed using <code>scrypt::hashPassword</code>.
Defaults to <code>FALSE</code>. If you have unhashed passwords in imported table, set
this option to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="mongo_tables_create_+3A_verbose">verbose</code></td>
<td>
<p>Boolean specific if the actions made by function should be
printed back to the console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Every document in created collections will have following structure:
</p>

<ul>
<li><p> account (default name)
</p>

<ul>
<li><p> username: character <strong>(index)</strong>
</p>
</li>
<li><p> password: character
</p>
</li>
<li><p> email: character <strong>(index)</strong>
</p>
</li>
<li><p> create_time: timestamp
</p>
</li>
<li><p> update_time: timestamp
</p>
</li></ul>

</li>
<li><p> reset_code (default name)
</p>

<ul>
<li><p> user_id: character <strong>(index)</strong>
</p>
</li>
<li><p> reset_code: character
</p>
</li>
<li><p> used: numeric
</p>
</li>
<li><p> create_time: timestamp
</p>
</li>
<li><p> update_time: timestamp
</p>
</li></ul>

</li>
<li><p> logs (default name, optional) - this collection isn't created with this
function, as there is no need for that - MongoDB collections don't have a
set structure, and no additional index is created there.
</p>

<ul>
<li><p> time: timestamp
</p>
</li>
<li><p> session: character
</p>
</li>
<li><p> direction: character
</p>
</li>
<li><p> type: character
</p>
</li>
<li><p> note: character
</p>
</li></ul>

</li></ul>



<h3>See Also</h3>

<p>Other RegLog databases: 
<code><a href="#topic+DBI_tables_create">DBI_tables_create</a>()</code>,
<code><a href="#topic+gsheet_tables_create">gsheet_tables_create</a>()</code>
</p>

<hr>
<h2 id='password_reset_UI'>Shiny UI module for password reset</h2><span id='topic+password_reset_UI'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>It need to be used in conjuction with <code><a href="#topic+login_server">login_server()</a></code> function and is suggested to be used alongside <code><a href="#topic+login_UI">login_UI()</a></code> and <code><a href="#topic+register_UI">register_UI()</a></code> for full potential.
</p>
<p>This function creates a UI div() element containing informations and input necessary for user to reset password.
As it outputs a div() element, you can put it inside container of your choosing (be it some tabItem, fluidPage, fluidRow etc.). It is important to mention that password reset procedure invokes modalDialog(), so it should be avoided to contain this function inside one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>password_reset_UI(id = "login_system", lang = "en", custom_txts = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="password_reset_UI_+3A_id">id</code></td>
<td>
<p>the id of the module. Defaults to &quot;login_system&quot; for all of the modules contained within the package. If you plan to use serveral login systems inside your app or for any other reason need to change it, remember to keep consistent id for all elements of module.</p>
</td></tr>
<tr><td><code id="password_reset_UI_+3A_lang">lang</code></td>
<td>
<p>specifies the app used language. Accepts &quot;en&quot; or &quot;pl&quot;. Defaults to &quot;en&quot;</p>
</td></tr>
<tr><td><code id="password_reset_UI_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list containing customized texts. For more details,
see documentation for 'reglog_txt'. Provided list can contain only elements
used by this function, but it is recommended to provide the same list for
every 'shiny.reglog' function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'tags$div' containing all elements for password reset procedure
</p>


<h3>See Also</h3>

<p>login_server() for more details and example
</p>

<hr>
<h2 id='register_UI'>Shiny UI module for registration box</h2><span id='topic+register_UI'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>It need to be used in conjuction with <code><a href="#topic+login_server">login_server()</a></code> function and is suggested to be used alongside <code><a href="#topic+login_UI">login_UI()</a></code> and <code><a href="#topic+password_reset_UI">password_reset_UI()</a></code> for full potential.
</p>
<p>This function creates a UI div() element containing informations and input necessary for user to register new account.
As it outputs a div() element, you can put it inside container of your choosing (be it some tabItem, fluidPage, fluidRow etc.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_UI(id = "login_system", lang = "en", custom_txts = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_UI_+3A_id">id</code></td>
<td>
<p>the id of the module. Defaults to &quot;login_system&quot; for all of the modules contained within the package. If you plan to use serveral login systems inside your app or for any other reason need to change it, remember to keep consistent id for all elements of module.</p>
</td></tr>
<tr><td><code id="register_UI_+3A_lang">lang</code></td>
<td>
<p>specifies the app used language. Accepts &quot;en&quot; or &quot;pl&quot;. Defaults to &quot;en&quot;</p>
</td></tr>
<tr><td><code id="register_UI_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list containing customized texts. For more details,
see documentation for 'reglog_txt'. Provided list can contain only elements
used by this function, but it is recommended to provide the same list for
every 'shiny.reglog' function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'tags$div' containing all elements for registration procedure
</p>


<h3>See Also</h3>

<p>login_server() for more details and example
</p>

<hr>
<h2 id='RegLog_credsEdit_UI'>Generate Edit User Data UI for RegLog system</h2><span id='topic+RegLog_credsEdit_UI'></span>

<h3>Description</h3>

<p>Generate Edit User Data UI for RegLog system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLog_credsEdit_UI(module_id = "login_system")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLog_credsEdit_UI_+3A_module_id">module_id</code></td>
<td>
<p>Character declaring the id of the module. Defaults to 'login_system'.
Recommended to keep it that way, unless it would cause any namespace issues.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other RegLog UI: 
<code><a href="#topic+RegLog_login_UI">RegLog_login_UI</a>()</code>,
<code><a href="#topic+RegLog_register_UI">RegLog_register_UI</a>()</code>,
<code><a href="#topic+RegLog_resetPass_UI">RegLog_resetPass_UI</a>()</code>
</p>

<hr>
<h2 id='RegLog_login_UI'>Generate Login UI for RegLog system</h2><span id='topic+RegLog_login_UI'></span>

<h3>Description</h3>

<p>Generate Login UI for RegLog system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLog_login_UI(module_id = "login_system")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLog_login_UI_+3A_module_id">module_id</code></td>
<td>
<p>Character declaring the id of the module. Defaults to 'login_system'.
Recommended to keep it that way, unless it would cause any namespace issues.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other RegLog UI: 
<code><a href="#topic+RegLog_credsEdit_UI">RegLog_credsEdit_UI</a>()</code>,
<code><a href="#topic+RegLog_register_UI">RegLog_register_UI</a>()</code>,
<code><a href="#topic+RegLog_resetPass_UI">RegLog_resetPass_UI</a>()</code>
</p>

<hr>
<h2 id='RegLog_register_UI'>Generate Register UI for RegLog system</h2><span id='topic+RegLog_register_UI'></span>

<h3>Description</h3>

<p>Generate Register UI for RegLog system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLog_register_UI(module_id = "login_system")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLog_register_UI_+3A_module_id">module_id</code></td>
<td>
<p>Character declaring the id of the module. Defaults to 'login_system'.
Recommended to keep it that way, unless it would cause any namespace issues.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other RegLog UI: 
<code><a href="#topic+RegLog_credsEdit_UI">RegLog_credsEdit_UI</a>()</code>,
<code><a href="#topic+RegLog_login_UI">RegLog_login_UI</a>()</code>,
<code><a href="#topic+RegLog_resetPass_UI">RegLog_resetPass_UI</a>()</code>
</p>

<hr>
<h2 id='RegLog_resetPass_UI'>Generate ResetPass code UI for RegLog system</h2><span id='topic+RegLog_resetPass_UI'></span>

<h3>Description</h3>

<p>Generate ResetPass code UI for RegLog system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLog_resetPass_UI(module_id = "login_system")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLog_resetPass_UI_+3A_module_id">module_id</code></td>
<td>
<p>Character declaring the id of the module. Defaults to 'login_system'.
Recommended to keep it that way, unless it would cause any namespace issues.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other RegLog UI: 
<code><a href="#topic+RegLog_credsEdit_UI">RegLog_credsEdit_UI</a>()</code>,
<code><a href="#topic+RegLog_login_UI">RegLog_login_UI</a>()</code>,
<code><a href="#topic+RegLog_register_UI">RegLog_register_UI</a>()</code>
</p>

<hr>
<h2 id='reglog_txt'>Get texts for given language. Used within deprecated <code>login_server</code></h2><span id='topic+reglog_txt'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reglog_txt(lang, x = NULL, custom_txts = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reglog_txt_+3A_lang">lang</code></td>
<td>
<p>character to identify the language</p>
</td></tr>
<tr><td><code id="reglog_txt_+3A_x">x</code></td>
<td>
<p>character to identify the txt to get. If NULL, all labels are
recovered</p>
</td></tr>
<tr><td><code id="reglog_txt_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list providing custom messages to replace default for
specific languages.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'RegLog_txt' outside of internal usage should be used only for getting the
structure of all texts generated by 'shiny.reglog'.
</p>
<p>To customize texts used by RegLog objects, provide within their
call named list to the 'custom_txts' argument - it will be passed to 'custom_txts'
within this call. You can check validity of your list by providing the 'custom_txts'
and calling this function in console.
</p>
<p>Values of list provided should be named in the same way as the default text
you are willing to replace.
</p>

<hr>
<h2 id='RegLog_txt'>Getting texts for given language</h2><span id='topic+RegLog_txt'></span>

<h3>Description</h3>

<p>Getting texts for given language
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLog_txt(lang, x = NULL, custom_txts = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLog_txt_+3A_lang">lang</code></td>
<td>
<p>character to identify the language</p>
</td></tr>
<tr><td><code id="RegLog_txt_+3A_x">x</code></td>
<td>
<p>character to identify the txt to get. If NULL, all labels are
recovered</p>
</td></tr>
<tr><td><code id="RegLog_txt_+3A_custom_txts">custom_txts</code></td>
<td>
<p>named list providing custom messages to replace default for
specific languages.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'RegLog_txt' outside of internal usage should be used only for getting the
structure of all texts generated by 'shiny.reglog'.
</p>
<p>To customize texts used by RegLog objects, provide within their
call named list to the 'custom_txts' argument - it will be passed to 'custom_txts'
within this call. You can check validity of your list by providing the 'custom_txts'
and calling this function in console.
</p>
<p>Values of list provided should be named in the same way as the default text
you are willing to replace.
</p>

<hr>
<h2 id='RegLogConnector'>RegLog connector template</h2><span id='topic+RegLogConnector'></span>

<h3>Description</h3>

<p>Parent class for all RegLog connectors
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>module_id</code></dt><dd><p>character vector specifying the automatically-generated
module_id for listener server module</p>
</dd>
<dt><code>listener</code></dt><dd><p>reactiveVal that the object keeps listening of changes for</p>
</dd>
<dt><code>message</code></dt><dd><p>reactiveVal containing outward message</p>
</dd>
<dt><code>log</code></dt><dd><p>list containing data about received and sent messages by the object</p>
</dd>
<dt><code>handlers</code></dt><dd><p>named list containing functions used to handle different
types of <code>RegLogConnectorMessage</code>. Name of the element corresponds to
the 'type' that is should handle.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogConnector-get_logs"><code>RegLogConnector$get_logs()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogConnector-new"><code>RegLogConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogConnector-suspend"><code>RegLogConnector$suspend()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogConnector-resume"><code>RegLogConnector$resume()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogConnector-clone"><code>RegLogConnector$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-RegLogConnector-get_logs"></a>



<h4>Method <code>get_logs()</code></h4>

<p>Function to receive all saved logs from the object in the form
of single data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogConnector$get_logs()</pre></div>



<h5>Details</h5>

<p>You can specify custom handler functions as a named list passed
to <code>custom_handlers</code> arguments during object initialization. Every custom
handler should take arguments: <code>self</code> and <code>private</code> - relating to the R6
object and <code>message</code> of class <code>RegLogConnectorMessage</code>. It should return
<code>RegLogConnectorMessage</code> object.
</p>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-RegLogConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization of the object. Sets up listener reactiveVal
and initializes listening server module
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogConnector$new(custom_handlers = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>custom_handlers</code></dt><dd><p>named list of custom handler functions. Every
custom handler should take arguments: <code>self</code> and <code>private</code> - relating to
the R6 object and <code>message</code> of class <code>RegLogConnectorMessage</code>. It should
return <code>RegLogConnectorMessage</code> object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>object of <code>RegLogConnector</code> class
</p>


<hr>
<a id="method-RegLogConnector-suspend"></a>



<h4>Method <code>suspend()</code></h4>

<p>Suspend the listening to the changes
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogConnector$suspend()</pre></div>


<hr>
<a id="method-RegLogConnector-resume"></a>



<h4>Method <code>resume()</code></h4>

<p>Resume the listening to the changes
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogConnector$resume()</pre></div>


<hr>
<a id="method-RegLogConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='RegLogConnectorMessage'>create RegLogConnectorMessage object</h2><span id='topic+RegLogConnectorMessage'></span><span id='topic+is.RegLogConnectorMessage'></span>

<h3>Description</h3>

<p>Create an object of ReglogConnectorMessage class. It is used
to send data to objects that inherit their class from <code>RegLogConnector</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLogConnectorMessage(type, ..., logcontent = NULL)

is.RegLogConnectorMessage(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLogConnectorMessage_+3A_type">type</code></td>
<td>
<p>character string declaring the type of message</p>
</td></tr>
<tr><td><code id="RegLogConnectorMessage_+3A_...">...</code></td>
<td>
<p>named arguments that will be passed as data</p>
</td></tr>
<tr><td><code id="RegLogConnectorMessage_+3A_logcontent">logcontent</code></td>
<td>
<p>character string. Optional description to save into logs.</p>
</td></tr>
<tr><td><code id="RegLogConnectorMessage_+3A_x">x</code></td>
<td>
<p>Any R object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of <code>RegLogConnector</code> class, containing fields:
</p>

<ul>
<li> <p><em>time</em>: numeric representation of <code>Sys.time()</code>
</p>
</li>
<li> <p><em>type</em>: character specifying the type of message
</p>
</li>
<li> <p><em>data</em>: list of values that are to be sent alongside the message
</p>
</li>
<li> <p><em>logcontent</em>: Character string with information to be saved in logs. Optional.
</p>
</li></ul>


<hr>
<h2 id='RegLogDBIConnector'>Connector to DBI-valid databases</h2><span id='topic+RegLogDBIConnector'></span>

<h3>Description</h3>

<p>Object of this class handles all connections for the RegLogServer
object to the database. It is created to handle <code>DBI</code> compatible drivers.
Provides methods than will be used by RegLogServer to get and send data.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+RegLogConnector">shiny.reglog::RegLogConnector</a></code> -&gt; <code>RegLogDBIConnector</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogDBIConnector-new"><code>RegLogDBIConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogDBIConnector-clone"><code>RegLogDBIConnector$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="get_logs"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-get_logs'><code>shiny.reglog::RegLogConnector$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="resume"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-resume'><code>shiny.reglog::RegLogConnector$resume()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="suspend"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-suspend'><code>shiny.reglog::RegLogConnector$suspend()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-RegLogDBIConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization of the object. Creates initial connection
to the database.
</p>
<p>Requires <code>DBI</code> package to be installed.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogDBIConnector$new(
  driver,
  ...,
  table_names = c("account", "reset_code", "logs"),
  custom_handlers = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>driver</code></dt><dd><p>Call that specifies the driver to be used during all queries</p>
</dd>
<dt><code>...</code></dt><dd><p>other arguments used in <code>DBI::dbConnect()</code> call</p>
</dd>
<dt><code>table_names</code></dt><dd><p>character vector. Contains names of the tables in the
database: first containing user data, second - reset codes information,
third (optional) - logs from the object. For more info check documentation
of <code>DBI_database_create</code>.</p>
</dd>
<dt><code>custom_handlers</code></dt><dd><p>named list of custom handler functions. Every
custom handler should take arguments: <code>self</code> and <code>private</code> - relating to
the R6 object and <code>message</code> of class <code>RegLogConnectorMessage</code>. It should
return <code>RegLogConnectorMessage</code> object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>object of <code>RegLogDBIConnector</code> class
</p>


<hr>
<a id="method-RegLogDBIConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogDBIConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other dbConnectors: 
<code><a href="#topic+RegLogGsheetConnector">RegLogGsheetConnector</a></code>
</p>

<hr>
<h2 id='RegLogDemo'>Demonstration ShinyApp with basic RegLog system</h2><span id='topic+RegLogDemo'></span>

<h3>Description</h3>

<p>You can play a little with RegLogSever functionalities launching this ShinyApp.
This demo needs also an installation of 'RSQLite' package to create and
menage a temporary database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RegLogDemo(emayili_smtp = NULL, emayili_from = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RegLogDemo_+3A_emayili_smtp">emayili_smtp</code></td>
<td>
<p>defined emayili smtp server for you e-mail provider.
If kept as default NULL, the e-mail sending functionality won't
be used. If provided, it will require an installation of 'emayili' package.</p>
</td></tr>
<tr><td><code id="RegLogDemo_+3A_emayili_from">emayili_from</code></td>
<td>
<p>String containing e-mail from which thesending will take place.
Used only with 'emayili_smtp' defined.</p>
</td></tr>
</table>

<hr>
<h2 id='RegLogEmayiliConnector'>RegLogConnector for email sending via <code>emayili</code> package</h2><span id='topic+RegLogEmayiliConnector'></span>

<h3>Description</h3>

<p>With the use of this object, RegLogServer can send emails
confirming the registration and containing code for password reset procedure.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+RegLogConnector">shiny.reglog::RegLogConnector</a></code> -&gt; <code>RegLogEmayiliConnector</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>mails</code></dt><dd><p>List containing default mail templates to use by default
mail handlers for register and password reset</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogEmayiliConnector-new"><code>RegLogEmayiliConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogEmayiliConnector-clone"><code>RegLogEmayiliConnector$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="get_logs"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-get_logs'><code>shiny.reglog::RegLogConnector$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="resume"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-resume'><code>shiny.reglog::RegLogConnector$resume()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="suspend"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-suspend'><code>shiny.reglog::RegLogConnector$suspend()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-RegLogEmayiliConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization of the object. Creates smtp server for email
sending.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogEmayiliConnector$new(
  from,
  smtp,
  lang = "en",
  custom_txts = NULL,
  custom_handlers = NULL,
  custom_mails = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>from</code></dt><dd><p>Character containing content in <code>from</code> of the email.</p>
</dd>
<dt><code>smtp</code></dt><dd><p>Object created by <code>emayili::server</code> or all its similiar
functions.</p>
</dd>
<dt><code>lang</code></dt><dd><p>character specyfiyng which language to use for all texts
generated in the UI. Defaults to 'en' for English. Currently 'pl' for
Polish is also supported.</p>
</dd>
<dt><code>custom_txts</code></dt><dd><p>named list containing character strings with custom
messages. Defaults to NULL, so all built-in strings will be used.</p>
</dd>
<dt><code>custom_handlers</code></dt><dd><p>named list of custom handler functions. Custom handler
should take arguments: <code>self</code> and <code>private</code> - relating to the R6 object
and <code>message</code> of class <code>RegLogConnectorMessage</code>. It should return
return <code>RegLogConnectorMessage</code> object.</p>
</dd>
<dt><code>custom_mails</code></dt><dd><p>named list containing character strings of the same
structure as elements in the <code>mails</code> field. Not all elements need to be
present.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>default mails are used by <code>register_mail</code> and <code>reset_pass_mail</code>
handlers. To change the mail used by these handlers you can pass character
strings to the <code>custom_mail</code> argument during initialization or append them
directly into this list.
</p>
<p>They are stored (and should be passed accordingly) in a list of structure:
</p>

<ul>
<li><p> register
</p>

<ul>
<li><p> subject
</p>
</li>
<li><p> body
</p>
</li></ul>

</li>
<li><p> resetPass
</p>

<ul>
<li><p> subject
</p>
</li>
<li><p> body
</p>
</li></ul>

</li>
<li><p> credsEdit
</p>

<ul>
<li><p> subject
</p>
</li>
<li><p> body
</p>
</li></ul>

</li></ul>



<hr>
<a id="method-RegLogEmayiliConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogEmayiliConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other mailConnectors: 
<code><a href="#topic+RegLogGmailrConnector">RegLogGmailrConnector</a></code>
</p>

<hr>
<h2 id='RegLogGmailrConnector'>RegLogConnector for email sending via <code>emayili</code> package</h2><span id='topic+RegLogGmailrConnector'></span>

<h3>Description</h3>

<p>With the use of this object, RegLogServer can send emails
confirming the registration and containing code for password reset procedure.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+RegLogConnector">shiny.reglog::RegLogConnector</a></code> -&gt; <code>RegLogGmailrConnector</code>
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>mails</code></dt><dd><p>List containing default mail templates to use by default
mail handlers for register and password reset</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogGmailrConnector-new"><code>RegLogGmailrConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogGmailrConnector-clone"><code>RegLogGmailrConnector$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="get_logs"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-get_logs'><code>shiny.reglog::RegLogConnector$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="resume"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-resume'><code>shiny.reglog::RegLogConnector$resume()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="suspend"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-suspend'><code>shiny.reglog::RegLogConnector$suspend()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-RegLogGmailrConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization of the object. Creates smtp server for email
sending.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogGmailrConnector$new(
  from,
  lang = "en",
  custom_txts = NULL,
  custom_handlers = NULL,
  custom_mails = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>from</code></dt><dd><p>Character containing content in <code>from</code> of the email.</p>
</dd>
<dt><code>lang</code></dt><dd><p>character specyfiyng which language to use for all texts
generated in the UI. Defaults to 'en' for English. Currently 'pl' for
Polish is also supported.</p>
</dd>
<dt><code>custom_txts</code></dt><dd><p>named list containing character strings with custom
messages. Defaults to NULL, so all built-in strings will be used.</p>
</dd>
<dt><code>custom_handlers</code></dt><dd><p>named list of custom handler functions. Custom handler
should take arguments: <code>self</code> and <code>private</code> - relating to the R6 object
and <code>message</code> of class <code>RegLogConnectorMessage</code>. It should return
return <code>RegLogConnectorMessage</code> object.</p>
</dd>
<dt><code>custom_mails</code></dt><dd><p>named list containing character strings of the same
structure as elements in the <code>mails</code> field. Not all elements need to be
present.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>default mails are used by <code>register_mail</code> and <code>reset_pass_mail</code>
handlers. To change the mail used by these handlers you can pass character
strings to the <code>custom_mail</code> argument during initialization or append them
directly into this list.
</p>
<p>They are stored (and should be passed accordingly) in a list of structure:
</p>

<ul>
<li><p> register
</p>

<ul>
<li><p> subject
</p>
</li>
<li><p> body
</p>
</li></ul>

</li>
<li><p> resetPass
</p>

<ul>
<li><p> subject
</p>
</li>
<li><p> body
</p>
</li></ul>

</li>
<li><p> credsEdit
</p>

<ul>
<li><p> subject
</p>
</li>
<li><p> body
</p>
</li></ul>

</li></ul>



<hr>
<a id="method-RegLogGmailrConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogGmailrConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other mailConnectors: 
<code><a href="#topic+RegLogEmayiliConnector">RegLogEmayiliConnector</a></code>
</p>

<hr>
<h2 id='RegLogGsheetConnector'>Connector to googlesheet database</h2><span id='topic+RegLogGsheetConnector'></span>

<h3>Description</h3>

<p>Object of this class handles all connections for the RegLogServer
object to the database. It is created to handle googlesheet database.
Provides methods than will be used by RegLogServer to get and send data.
</p>
<p>Requires <code>googlesheets4</code> package to be installed.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+RegLogConnector">shiny.reglog::RegLogConnector</a></code> -&gt; <code>RegLogGsheetConnector</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogGsheetConnector-new"><code>RegLogGsheetConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogGsheetConnector-clone"><code>RegLogGsheetConnector$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="get_logs"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-get_logs'><code>shiny.reglog::RegLogConnector$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="resume"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-resume'><code>shiny.reglog::RegLogConnector$resume()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="suspend"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-suspend'><code>shiny.reglog::RegLogConnector$suspend()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-RegLogGsheetConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization of the object. Creates initial connection
to the database.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogGsheetConnector$new(
  gsheet_ss,
  gsheet_sheetnames = c("account", "reset_code", "logs"),
  custom_handlers = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>gsheet_ss</code></dt><dd><p>id of the googlesheet holding database</p>
</dd>
<dt><code>gsheet_sheetnames</code></dt><dd><p>character vector. Contains names of the sheets in the
googlesheet: first containing user data, second - reset codes information,
third (optional) - logs from the object. For more info check documentation
of <code>gsheet_database_create</code>.</p>
</dd>
<dt><code>custom_handlers</code></dt><dd><p>named list of custom handler functions. Every
custom handler should take arguments: <code>self</code> and <code>private</code> - relating
to the R6 object and <code>message</code> of class <code>RegLogConnectorMessage</code>. It
should return <code>RegLogConnectorMessage</code> object.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>object of <code>RegLogDBIConnector</code> class
</p>


<hr>
<a id="method-RegLogGsheetConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogGsheetConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p>Other dbConnectors: 
<code><a href="#topic+RegLogDBIConnector">RegLogDBIConnector</a></code>
</p>

<hr>
<h2 id='RegLogMongoConnector'>Connector to MongoDB database</h2><span id='topic+RegLogMongoConnector'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Object of this class handles all connections for the RegLogServer object to
the database. It is created to handle MongoDB database compatible drivers.
Provides methods than will be used by RegLogServer to get and send data.
</p>
<p>Requires <code>mongolite</code> package to be installed.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+RegLogConnector">shiny.reglog::RegLogConnector</a></code> -&gt; <code>RegLogMongoConnector</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogMongoConnector-new"><code>RegLogMongoConnector$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogMongoConnector-clone"><code>RegLogMongoConnector$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="get_logs"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-get_logs'><code>shiny.reglog::RegLogConnector$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="resume"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-resume'><code>shiny.reglog::RegLogConnector$resume()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shiny.reglog" data-topic="RegLogConnector" data-id="suspend"><a href='../../shiny.reglog/html/RegLogConnector.html#method-RegLogConnector-suspend'><code>shiny.reglog::RegLogConnector$suspend()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-RegLogMongoConnector-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialization of the object
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogMongoConnector$new(
  mongo_url,
  mongo_db,
  mongo_options = mongolite::ssl_options(),
  collections = c("account", "reset_code", "logs"),
  custom_handlers = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>mongo_url</code></dt><dd><p>URI to the MongoDB cluster</p>
</dd>
<dt><code>mongo_db</code></dt><dd><p>name of the MongoDB database</p>
</dd>
<dt><code>mongo_options</code></dt><dd><p>additional connection options such as SSL keys/certs</p>
</dd>
<dt><code>collections</code></dt><dd><p>names of the collections</p>
</dd>
<dt><code>custom_handlers</code></dt><dd><p>named list of custom handler functions. Every
custom handler should take arguments: <code>self</code> and <code>private</code> - relating to
the R6 object and <code>message</code> of class <code>RegLogConnectorMessage</code>. It should
return <code>RegLogConnectorMessage</code> object.</p>
</dd>
<dt><code>table_names</code></dt><dd><p>character vector. Contains names of the collections in the
database: first containing user data, second - reset codes information,
third (optional) - logs from the object. For more info check documentation
of <code>mongo_database_create</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Object of <code>RegLogMongoConnector</code> class
</p>


<hr>
<a id="method-RegLogMongoConnector-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogMongoConnector$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='RegLogServer'>Login and registration moduleServer</h2><span id='topic+RegLogServer'></span>

<h3>Description</h3>

<p>RegLogServer is an R6 class to use for handling the whole
backend of login and registration component of your shinyApp.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>is_logged</code></dt><dd><p>reactiveVal containing logical indicating if the user
is logged in</p>
</dd>
<dt><code>user_id</code></dt><dd><p>reactiveVal containing character specifying the logged
user name. If the user is not logged in, it will consist
of uuid generated with <code>uuid::UUIDgenerate</code></p>
</dd>
<dt><code>user_mail</code></dt><dd><p>reactiveVal cantaining character string specifying the
logged user mail. When not logged in, it contains NULL.</p>
</dd>
<dt><code>account_id</code></dt><dd><p>reactiveVal caintaining integer specifying the logged
user account's id number: for SQL database it is equal to the value
contained withing <code>id</code> variable. For googlesheets database it is equal to
the row number - 1 (the header). If not logged, it contains NULL.</p>
</dd>
<dt><code>mail_message</code></dt><dd><p>reactiveVal containing most recent RegLogConnectorMessage
received from mailConnector</p>
</dd>
<dt><code>message</code></dt><dd><p>reactiveVal containing most recent RegLogConnectorMessage
received from dbConnector or generated by RegLogServer itself.</p>
</dd>
<dt><code>module_id</code></dt><dd><p>character storing ID for reglog_system module.</p>
</dd>
<dt><code>dbConnector</code></dt><dd><p><code>RegLogConnector</code> object used for communication with the
database. Build-in children classes are <code>RegLogDBIConnector</code> and
<code>RegLogGsheetConnector</code>.</p>
</dd>
<dt><code>mailConnector</code></dt><dd><p><code>RegLogConnector</code> object used for sending emails.
Built-in children classes are <code>RegLogEmayiliConnector</code> and
<code>RegLogGmailrConnector</code>.</p>
</dd>
<dt><code>log</code></dt><dd><p>list containing all messages send and received.</p>
</dd>
<dt><code>UI_list_login</code></dt><dd><p>reactiveVal holding the tagList of whole login UI.</p>
</dd>
<dt><code>UI_list_resetPass</code></dt><dd><p>reactiveVal holding the tagList of whole resetPass UI.</p>
</dd>
<dt><code>UI_list_credsEdit</code></dt><dd><p>reactiveVal holding the tagList of whole credentioals
edit UI.</p>
</dd>
<dt><code>UI_list_register</code></dt><dd><p>reactiveVal holding the tagList of whole register UI.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-RegLogServer-new"><code>RegLogServer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogServer-logout"><code>RegLogServer$logout()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogServer-get_logs"><code>RegLogServer$get_logs()</code></a>
</p>
</li>
<li> <p><a href="#method-RegLogServer-clone"><code>RegLogServer$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-RegLogServer-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialize 'ReglogServer' moduleServer
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogServer$new(
  dbConnector,
  mailConnector,
  app_name = basename(getwd()),
  app_address = NULL,
  lang = "en",
  custom_txts = NULL,
  use_modals = TRUE,
  module_id = "login_system"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dbConnector</code></dt><dd><p>object of class <code>RegLogConnector</code> handling the reads
from and writes to database.
Two available in the package are <code>RegLogDBIConnector</code> and <code>RegLogGsheetsConnector</code>.
See their documentation for more information about usage and creation of
custom dbConnectors.</p>
</dd>
<dt><code>mailConnector</code></dt><dd><p>object of class <code>RegLogConnector</code> handling the email
sending to the user for register confirmation and password reset.
Two available in the package are <code>RegLogEmayiliConnector</code> and
<code>RegLogGmailrConnector</code>. See their documentation for more information
about usage and creation of custom mailConnectors.</p>
</dd>
<dt><code>app_name</code></dt><dd><p>Name of the app to refer during correspondence to users.
Defaults to the name of working directory.</p>
</dd>
<dt><code>app_address</code></dt><dd><p>URL to refer to during correspondence to users. If left
at NULL, the URL will be parsed from <code>session$clientData</code>.</p>
</dd>
<dt><code>lang</code></dt><dd><p>character specyfiyng which language to use for all texts
generated in the UI. Defaults to 'en' for English. Currently 'pl' for
Polish is also supported.</p>
</dd>
<dt><code>custom_txts</code></dt><dd><p>named list containing character strings with custom
messages. Defaults to NULL, so all built-in strings will be used.</p>
</dd>
<dt><code>use_modals</code></dt><dd><p>either logical indicating if all (<code>TRUE</code>) or none (<code>FALSE</code>)
modalDialogs should be shown or character vector indicating which modals
should be shown. For more information see details.</p>
</dd>
<dt><code>module_id</code></dt><dd><p>Character declaring the id of the module. Defaults to 'login_system'.
Recommended to keep it that way, unless it would cause any namespace issues.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-RegLogServer-logout"></a>



<h4>Method <code>logout()</code></h4>

<p>Method logging out logged user
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogServer$logout()</pre></div>


<hr>
<a id="method-RegLogServer-get_logs"></a>



<h4>Method <code>get_logs()</code></h4>

<p>Method to receive all saved logs from the object in the form
of single data.frame
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogServer$get_logs()</pre></div>



<h5>Returns</h5>

<p>data.frame
</p>


<hr>
<a id="method-RegLogServer-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>RegLogServer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'># Run only in interactive session #

if (interactive()) {
  
  library(shiny.reglog)
  
  # for exemplary setup temporary SQLite database will be created
  library("DBI")
  library("RSQLite")
  temp_sqlite &lt;- tempfile(fileext = ".sqlite")
  conn &lt;- DBI::dbConnect(RSQLite::SQLite(),
                         dbname = temp_sqlite)
  DBI_tables_create(conn)
  DBI::dbDisconnect(conn)
  
  # create minimalistic UI
  ui &lt;- navbarPage(
    title = "RegLog system",
    tabPanel("Register", RegLog_register_UI("custom_id")),
    tabPanel("Login", RegLog_login_UI("custom_id")),
    tabPanel("Credentials edit", RegLog_credsEdit_UI("custom_id")),
    tabPanel("Password reset", RegLog_resetPass_UI("custom_id"))
  )
  
  # create server logic
  server &lt;- function(input, output, session) {
    
    # create dbConnector with connection to the temporary SQLite database
    dbConnector &lt;- RegLogDBIConnector$new(
      driver = RSQLite::SQLite(),
      dbname = temp_sqlite)
    
    # create mockup mailConnector
    mailConnector &lt;- RegLogConnector$new()
    
    # create RegLogServer
    RegLog &lt;- RegLogServer$new(
      dbConnector = dbConnector,
      mailConnector = mailConnector,
      ## all arguments below are optional! ##
      app_name = "RegLog example",
      app_address = "https://reglogexample.com",
      lang = "en",
      # custom texts as a named list with strings
      custom_txts = list(
        user_id = "Name of the user",
        register_success_t= "Congratulations - you have been registered in 
                             successfully with RegLog system!"),
      # use modals as a named list of FALSE to inhibit specific modal
      use_modals = list(
        login_success = FALSE),
      # custom module id - provide the same to the UI elements!
      module_id = "custom_id")
  }
  
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='shiny.reglog-package'>shiny.reglog: Optional Login and Registration Module System for ShinyApps</h2><span id='topic+shiny.reglog'></span><span id='topic+shiny.reglog-package'></span>

<h3>Description</h3>

<p>RegLog system provides a set of shiny modules to handle register procedure for your users, alongside with login, edit credentials and password reset functionality. It provides support for popular SQL databases and optionally googlesheet-based database for easy setup. For email sending it provides support for 'emayili' and 'gmailr' backends. Architecture makes customizing usability pretty straightforward. The authentication system created with shiny.reglog is designed to be optional: user don't need to be logged-in to access your application, but when logged-in the user data can be used to read from and write to relational databases.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Michal Kosinski <a href="mailto:kosinski.mich@gmail.com">kosinski.mich@gmail.com</a> (<a href="https://orcid.org/0000-0002-8426-3654">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://statismike.github.io/shiny.reglog/">https://statismike.github.io/shiny.reglog/</a>
</p>
</li></ul>


<hr>
<h2 id='sqlite_get_db'>Function to read SQLite shiny.reglog database</h2><span id='topic+sqlite_get_db'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>As the new version of RegLog system allows for much more flexibility
old functionalities for reading data is deprecated. Please use functions
from adequate package: in this instance, 'DBI' package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sqlite_get_db(sqlite_db)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sqlite_get_db_+3A_sqlite_db">sqlite_db</code></td>
<td>
<p>path to your 'SQLite' database</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list containing <code>user_db</code> and <code>reset_db</code> dataframes
</p>


<h3>See Also</h3>

<p>create_sqlite_db
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

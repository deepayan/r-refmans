<!DOCTYPE html><html><head><title>Help for package reportRmd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {reportRmd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addspace'><p>Add spaces to strings in LaTeX</p></a></li>
<li><a href='#boxcoxfitRx'><p>fit box cox transformed linear model</p></a></li>
<li><a href='#cap'><p>Capitalize a string</p></a></li>
<li><a href='#clear_labels'><p>Clear variable labels from a data frame</p></a></li>
<li><a href='#covsum'><p>Get covariate summary dataframe</p></a></li>
<li><a href='#crrRx'><p>fit crr model</p></a></li>
<li><a href='#ctDNA'><p>Tumour size change over time</p>
</p>
<p>Longitudinal changes in tumour size since baseline for patients by changes in ctDNA status (clearance, decrease or increase) since baseline.</p></a></li>
<li><a href='#excelCol'><p>Retrieve columns number from spreadsheet columns specified as unquoted letters</p></a></li>
<li><a href='#excelColLetters'><p>Retrieve spreadsheet column letter-names from columns indices</p></a></li>
<li><a href='#extract_labels'><p>Extract variable labels from labelled data frame</p></a></li>
<li><a href='#forestplot2'><p>Create a forest plot using ggplot2</p></a></li>
<li><a href='#forestplotMV'><p>Create a multivariable forest plot using ggplot2</p></a></li>
<li><a href='#forestplotUV'><p>Create an univariable forest plot using ggplot2</p></a></li>
<li><a href='#forestplotUVMV'><p>Combine an univariable and multivariable forest plot using ggplot2</p></a></li>
<li><a href='#formatp'><p>Specific p-value formatting</p></a></li>
<li><a href='#geoR_boxcoxfit'><p>Parameter Estimation for the Box-Cox Transformation</p></a></li>
<li><a href='#ggkmcif'><p>Plot KM and CIF curves with ggplot</p></a></li>
<li><a href='#ggkmcif_paste'><p>Plot KM and CIF curves with ggplot</p></a></li>
<li><a href='#ggkmcif2'><p>Plot KM and CIF curves with ggplot</p></a></li>
<li><a href='#ggkmcif2Parameters'><p>Additional parameters passed to ggkmcif2</p></a></li>
<li><a href='#hbld'><p>Bold strings in HTML</p></a></li>
<li><a href='#lbld'><p>Bold strings in LaTeX</p></a></li>
<li><a href='#lpvalue'><p>Formats p-values for LaTeX</p></a></li>
<li><a href='#mvsum'><p>Get multivariate summary dataframe</p></a></li>
<li><a href='#nestTable'><p>Combine two table columns into a single column with levels of one nested</p>
within levels of the other.</a></li>
<li><a href='#nicename'><p>Lean strings for printing</p></a></li>
<li><a href='#niceNum'><p>Round retaining digits</p></a></li>
<li><a href='#outTable'><p>Print tables to PDF/Latex HTML or Word</p></a></li>
<li><a href='#pembrolizumab'><p>Survival data</p>
</p>
<p>Survival status and ctDNA levels for patients receiving pembrolizumab</p></a></li>
<li><a href='#plotuv'><p>Plot multiple bivariate relationships in a single plot</p></a></li>
<li><a href='#psthr'><p>Round and paste with parentheses</p></a></li>
<li><a href='#pstprn'><p>Paste with parentheses</p></a></li>
<li><a href='#pvalue'><p>Formats p-values</p></a></li>
<li><a href='#rm_cifsum'><p>Summarize cumulative incidence by group</p></a></li>
<li><a href='#rm_covsum'><p>Outputs a descriptive covariate table</p></a></li>
<li><a href='#rm_mvsum'><p>Format a regression model nicely for 'Rmarkdown'</p></a></li>
<li><a href='#rm_survdiff'><p>Display event counts, expected event counts and logrank test of differences</p></a></li>
<li><a href='#rm_survsum'><p>Summarise survival data by group</p></a></li>
<li><a href='#rm_survtime'><p>Display survival rates and events for specified times</p></a></li>
<li><a href='#rm_uv_mv'><p>Combine univariate and multivariable regression tables</p></a></li>
<li><a href='#rm_uvsum'><p>Output several univariate models nicely in a single table</p></a></li>
<li><a href='#rmds'><p>Replace dollar signs with html for proper HTML output</p></a></li>
<li><a href='#sanitizestr'><p>Sanitizes strings to not break LaTeX</p></a></li>
<li><a href='#set_labels'><p>Set variable labels</p></a></li>
<li><a href='#set_var_labels'><p>Set variable labels</p></a></li>
<li><a href='#testData'><p>Funky ctDNA data</p>
</p>
<p>There is a weird factor with all one level, the cohort variable contains a cohort level (and Cohort A) and for one cohort all the size changes are missing</p></a></li>
<li><a href='#uvsum'><p>Get univariate summary dataframe</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tidy Presentation of Clinical Reporting</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-10</td>
</tr>
<tr>
<td>Description:</td>
<td>Streamlined statistical reporting in 'Rmarkdown' environments. 
    Facilitates the automated reporting of descriptive statistics, multiple 
    univariate models, multivariable models and tables combining these outputs. 
    Plotting functions include customisable survival curves, forest plots from 
    logistic and ordinal regression and bivariate comparison plots.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>aod, cmprsk, cowplot, geepack, ggplot2, ggpubr, gridExtra,
kableExtra, knitr, lifecycle, MASS, pander, plyr, rlang,
rstatix, scales, survival</td>
</tr>
<tr>
<td>Collate:</td>
<td>'helper.R' 'main.R' 'globals.R' 'data.R' 'lblCode.R'</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.2)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-16 16:10:36 UTC; lavery</td>
</tr>
<tr>
<td>Author:</td>
<td>Lisa Avery <a href="https://orcid.org/0000-0002-8431-5143"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [cre,
    aut],
  Ryan Del Bel [aut],
  Osvaldo Espin-Garcia [aut],
  Katherine Lajkosz <a href="https://orcid.org/0000-0003-3760-5401"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Tyler Pittman <a href="https://orcid.org/0000-0002-5013-6980"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Anna Santiago <a href="https://orcid.org/0000-0002-0932-2386"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Yanning Wang [ctr],
  Jessica Weiss [aut],
  Wei Xu [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lisa Avery &lt;lisa.avery@uhn.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-16 17:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='addspace'>Add spaces to strings in LaTeX</h2><span id='topic+addspace'></span>

<h3>Description</h3>

<p>Add spaces to strings in LaTeX. Returns appends ~~~ before the string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addspace(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addspace_+3A_x">x</code></td>
<td>
<p>string</p>
</td></tr>
</table>

<hr>
<h2 id='boxcoxfitRx'>fit box cox transformed linear model</h2><span id='topic+boxcoxfitRx'></span>

<h3>Description</h3>

<p>Wrapper function to fit fine and gray competing risk model using function crr
from package cmprsk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boxcoxfitRx(f, data, lambda = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boxcoxfitRx_+3A_f">f</code></td>
<td>
<p>formula for the model. Currently the formula only works by using the
name of the column in a dataframe. It does not work by using $ or []
notation.</p>
</td></tr>
<tr><td><code id="boxcoxfitRx_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="boxcoxfitRx_+3A_lambda">lambda</code></td>
<td>
<p>boolean indicating if you want to output the lamda used in the
boxcox transformation. If so the function will return a list of length 2
with the model as the first element and a vector of length 2 as the second.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the linear model (lm) object and, if requested,
lambda
</p>

<hr>
<h2 id='cap'>Capitalize a string</h2><span id='topic+cap'></span>

<h3>Description</h3>

<p>Capitalize a string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cap_+3A_x">x</code></td>
<td>
<p>string</p>
</td></tr>
</table>

<hr>
<h2 id='clear_labels'>Clear variable labels from a data frame</h2><span id='topic+clear_labels'></span>

<h3>Description</h3>

<p>This function will remove all label attributes from variables in the data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_labels(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clear_labels_+3A_data">data</code></td>
<td>
<p>the data frame to remove labels from</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To change or remove individual labels use set_labels or set_var_labels
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set a few variable labels for ctDNA
ctDNA &lt;- ctDNA |&gt; set_var_labels(
   ctdna_status="detectable ctDNA",
  cohort="A cohort label")
# Clear all variable data frames and check
clear_labels(ctDNA)
</code></pre>

<hr>
<h2 id='covsum'>Get covariate summary dataframe</h2><span id='topic+covsum'></span>

<h3>Description</h3>

<p>Returns a dataframe corresponding to a descriptive table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>covsum(
  data,
  covs,
  maincov = NULL,
  digits = 1,
  numobs = NULL,
  markup = TRUE,
  sanitize = TRUE,
  nicenames = TRUE,
  IQR = FALSE,
  all.stats = FALSE,
  pvalue = TRUE,
  effSize = FALSE,
  show.tests = FALSE,
  dropLevels = TRUE,
  excludeLevels = NULL,
  full = TRUE,
  digits.cat = 0,
  testcont = c("rank-sum test", "ANOVA"),
  testcat = c("Chi-squared", "Fisher"),
  include_missing = FALSE,
  percentage = c("column", "row")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="covsum_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="covsum_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of columns to include in table</p>
</td></tr>
<tr><td><code id="covsum_+3A_maincov">maincov</code></td>
<td>
<p>covariate to stratify table by</p>
</td></tr>
<tr><td><code id="covsum_+3A_digits">digits</code></td>
<td>
<p>number of digits for summarizing mean data, does not affect
p-values</p>
</td></tr>
<tr><td><code id="covsum_+3A_numobs">numobs</code></td>
<td>
<p>named list overriding the number of people you expect to have
the covariate</p>
</td></tr>
<tr><td><code id="covsum_+3A_markup">markup</code></td>
<td>
<p>boolean indicating if you want latex markup</p>
</td></tr>
<tr><td><code id="covsum_+3A_sanitize">sanitize</code></td>
<td>
<p>boolean indicating if you want to sanitize all strings to not
break LaTeX</p>
</td></tr>
<tr><td><code id="covsum_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="covsum_+3A_iqr">IQR</code></td>
<td>
<p>boolean indicating if you want to display the inter quantile range
(Q1,Q3) as opposed to (min,max) in the summary for continuous variables</p>
</td></tr>
<tr><td><code id="covsum_+3A_all.stats">all.stats</code></td>
<td>
<p>boolean indicating if all summary statistics (Q1,Q3 +
min,max on a separate line) should be displayed. Overrides IQR.</p>
</td></tr>
<tr><td><code id="covsum_+3A_pvalue">pvalue</code></td>
<td>
<p>boolean indicating if you want p-values included in the table</p>
</td></tr>
<tr><td><code id="covsum_+3A_effsize">effSize</code></td>
<td>
<p>boolean indicating if you want effect sizes included in the
table. Can only be obtained if pvalue is also requested. Effect sizes
calculated include Cramer's V for categorical variables, Cohen's d,
Wilcoxon r, or Eta-squared for numeric/continuous variables.</p>
</td></tr>
<tr><td><code id="covsum_+3A_show.tests">show.tests</code></td>
<td>
<p>boolean indicating if the type of statistical test and
effect size used should be shown in a column beside the pvalues.
Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="covsum_+3A_droplevels">dropLevels</code></td>
<td>
<p>logical, indicating if empty factor levels be dropped from
the output, default is TRUE.</p>
</td></tr>
<tr><td><code id="covsum_+3A_excludelevels">excludeLevels</code></td>
<td>
<p>a named list of covariate levels to exclude from
statistical tests in the form list(varname =c('level1','level2')). These
levels will be excluded from association tests, but not the table. This can
be useful for levels where there is a logical skip (ie not missing, but not
presented). Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="covsum_+3A_full">full</code></td>
<td>
<p>boolean indicating if you want the full sample included in the
table, ignored if maincov is NULL</p>
</td></tr>
<tr><td><code id="covsum_+3A_digits.cat">digits.cat</code></td>
<td>
<p>number of digits for the proportions when summarizing
categorical data (default: 0)</p>
</td></tr>
<tr><td><code id="covsum_+3A_testcont">testcont</code></td>
<td>
<p>test of choice for continuous variables,one of
<em>rank-sum</em> (default) or <em>ANOVA</em></p>
</td></tr>
<tr><td><code id="covsum_+3A_testcat">testcat</code></td>
<td>
<p>test of choice for categorical variables,one of
<em>Chi-squared</em> (default) or <em>Fisher</em></p>
</td></tr>
<tr><td><code id="covsum_+3A_include_missing">include_missing</code></td>
<td>
<p>Option to include NA values of maincov. NAs will not
be included in statistical tests</p>
</td></tr>
<tr><td><code id="covsum_+3A_percentage">percentage</code></td>
<td>
<p>choice of how percentages are presented ,one of
<em>column</em> (default) or <em>row</em></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Comparisons for categorical variables default to chi-square tests, but if
there are counts of &lt;5 then the Fisher Exact test will be used and if this is
unsuccessful then a second attempt will be made computing p-values using MC
simulation. If testcont='ANOVA' then the t-test with unequal variance will be
used for two groups and an ANOVA will be used for three or more. The
statistical test used can be displayed by specifying show.tests=TRUE.
</p>
<p>The number of decimals places to display the statistics can be changed with
digits, but this will not change the display of p-values. If more significant
digits are required for p-values then use tableOnly=TRUE and format as
desired.
</p>


<h3>References</h3>

<p>Ellis, P.D. (2010) The essential guide to effect sizes:
statistical power, meta-analysis, and the interpretation of research
results. Cambridge: Cambridge University Press.<a href="https://doi.org/10.1017/CBO9780511761676">doi:10.1017/CBO9780511761676</a>
</p>
<p>Lakens, D. (2013)  Calculating and reporting effect sizes to
facilitate cumulative science: a practical primer for t-tests and ANOVAs.
Frontiers in Psychology, 4; 863:1-12. <a href="https://doi.org/10.3389/fpsyg.2013.00863">doi:10.3389/fpsyg.2013.00863</a>
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+fisher.test">fisher.test</a></code>,<code><a href="stats.html#topic+chisq.test">chisq.test</a></code>,
<code><a href="stats.html#topic+wilcox.test">wilcox.test</a></code>,<code><a href="stats.html#topic+kruskal.test">kruskal.test</a></code>,and
<code><a href="stats.html#topic+anova">anova</a></code>
</p>

<hr>
<h2 id='crrRx'>fit crr model</h2><span id='topic+crrRx'></span>

<h3>Description</h3>

<p>Wrapper function to fit fine and gray competing risk model using function crr
from package cmprsk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crrRx(f, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="crrRx_+3A_f">f</code></td>
<td>
<p>formula for the model. Currently the formula only works by using the
name of the column in a dataframe. It does not work by using $ or []
notation.</p>
</td></tr>
<tr><td><code id="crrRx_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a competing risk model with the call appended to the list
</p>


<h3>See Also</h3>

<p><code><a href="cmprsk.html#topic+crr">crr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># From the crr help file:
set.seed(10)
ftime &lt;- rexp(200)
fstatus &lt;- sample(0:2,200,replace=TRUE)
cov &lt;- matrix(runif(600),nrow=200)
dimnames(cov)[[2]] &lt;- c('x1','x2','x3')
df &lt;- data.frame(ftime,fstatus,cov)
m1 &lt;- crrRx(as.formula('ftime+fstatus~x1+x2+x3'),df)
# Nicely output to report:
rm_mvsum(m1,data=df,showN = TRUE,vif=TRUE)
</code></pre>

<hr>
<h2 id='ctDNA'>Tumour size change over time
Longitudinal changes in tumour size since baseline for patients by changes in ctDNA status (clearance, decrease or increase) since baseline.</h2><span id='topic+ctDNA'></span>

<h3>Description</h3>

<p>Tumour size change over time
</p>
<p>Longitudinal changes in tumour size since baseline for patients by changes in ctDNA status (clearance, decrease or increase) since baseline.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctDNA
</code></pre>


<h3>Format</h3>

<p>A data frame with 270 rows and 5 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient ID</p>
</dd>
<dt>cohort</dt><dd><p>Study Cohort: A = Squamous cell carcinoma of soft pallate, B = Triple negative breast cancer, C = Ovarian, high grade serous, D = Melanoma, E = Other Solid Tumor</p>
</dd>
<dt>ctdna_status</dt><dd><p>Change in ctDNA since baseline</p>
</dd>
<dt>time</dt><dd><p>Number of weeks on treatment</p>
</dd>
<dt>size_change</dt><dd><p>Percentage change in tumour measurement</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.nature.com/articles/s43018-020-0096-5">https://www.nature.com/articles/s43018-020-0096-5</a>
</p>

<hr>
<h2 id='excelCol'>Retrieve columns number from spreadsheet columns specified as unquoted letters</h2><span id='topic+excelCol'></span>

<h3>Description</h3>

<p>Retrieve columns number from spreadsheet columns specified as unquoted letters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>excelCol(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="excelCol_+3A_...">...</code></td>
<td>
<p>unquoted excel column headers (i.e. excelCol(A,CG,AA)) separated by commas</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a numeric vector corresponding to columns in a spreadsheet
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Find the column numbers for excel columns AB, CE and BB
excelCol(AB,CE,bb)
## Get the columns between A and K and Z
excelCol(A-K,Z)
</code></pre>

<hr>
<h2 id='excelColLetters'>Retrieve spreadsheet column letter-names from columns indices</h2><span id='topic+excelColLetters'></span>

<h3>Description</h3>

<p>Creates a vector of spreadsheet-style letter-names corresponding to column numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>excelColLetters(columnIndices)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="excelColLetters_+3A_columnindices">columnIndices</code></td>
<td>
<p>vector of integer column indices</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the inverse function of excelCol
</p>


<h3>Value</h3>

<p>a character vector corresponding to the spreadsheet column headings
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Find the column numbers for excel columns AB, CE and BB
colIndices &lt;- excelCol(AB,CE,bb)
## Go back to the column names
excelColLetters(colIndices)
</code></pre>

<hr>
<h2 id='extract_labels'>Extract variable labels from labelled data frame</h2><span id='topic+extract_labels'></span>

<h3>Description</h3>

<p>Extract variable labels from data and return a data frame with labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_labels(data, sep = "_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="extract_labels_+3A_data">data</code></td>
<td>
<p>the data frame to extract labels from</p>
</td></tr>
<tr><td><code id="extract_labels_+3A_sep">sep</code></td>
<td>
<p>character used to separate multiple labels, defaults to &quot;_&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All variable names will be returned, even those with no labels.
If the label attribute has length greater than one the values will be
concatenated and returned as a single string separated by sep
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set a few variable labels for ctDNA
ctDNA &lt;- ctDNA |&gt; set_var_labels(
   ctdna_status="detectable ctDNA",
  cohort="A cohort label")
# Extract labels
extract_labels(ctDNA)
</code></pre>

<hr>
<h2 id='forestplot2'>Create a forest plot using ggplot2</h2><span id='topic+forestplot2'></span>

<h3>Description</h3>

<p>This function will accept a log or logistic regression fit from glm or
geeglm, and display the OR or RR for each variable on the appropriate log
scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forestplot2(
  model,
  conf.level = 0.95,
  orderByRisk = TRUE,
  colours = "default",
  showEst = TRUE,
  rmRef = FALSE,
  logScale = getOption("reportRmd.logScale", TRUE),
  nxTicks = 5
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forestplot2_+3A_model">model</code></td>
<td>
<p>an object output from the glm or geeglm function, must be from a
logistic regression</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_conf.level">conf.level</code></td>
<td>
<p>controls the width of the confidence interval</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_orderbyrisk">orderByRisk</code></td>
<td>
<p>logical, should the plot be ordered by risk</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_colours">colours</code></td>
<td>
<p>can specify colours for risks less than, 1 and greater than
1.0. Default is red, black, green</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_showest">showEst</code></td>
<td>
<p>logical, should the risks be displayed on the plot in text</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_rmref">rmRef</code></td>
<td>
<p>logical, should the reference levels be removed for the plot?</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_logscale">logScale</code></td>
<td>
<p>logical, should OR/RR be shown on log scale, defaults to
TRUE, or reportRmd.logScale if set. See https://doi.org/10.1093/aje/kwr156
for why you may prefer a linear scale.</p>
</td></tr>
<tr><td><code id="forestplot2_+3A_nxticks">nxTicks</code></td>
<td>
<p>Number of tick marks supplied to the log_breaks function to
produce</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
glm_fit = glm(orr~change_ctdna_group+sex+age+l_size,
data=pembrolizumab,family = 'binomial')
forestplot2(glm_fit)
</code></pre>

<hr>
<h2 id='forestplotMV'>Create a multivariable forest plot using ggplot2</h2><span id='topic+forestplotMV'></span>

<h3>Description</h3>

<p>This function will send and take log or logistic regression fit from glm or geeglm
from mvsum function, and display the OR or RR for each variable on the appropriate log scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forestplotMV(
  model,
  data,
  conf.level = 0.95,
  orderByRisk = TRUE,
  colours = "default",
  showEst = TRUE,
  rmRef = FALSE,
  digits = getOption("reportRmd.digits", 2),
  logScale = getOption("reportRmd.logScale", TRUE),
  nxTicks = 5,
  showN = TRUE,
  showEvent = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forestplotMV_+3A_model">model</code></td>
<td>
<p>an object output from the glm or geeglm function, must be from a logistic
regression</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_data">data</code></td>
<td>
<p>dataframe containing your data</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_conf.level">conf.level</code></td>
<td>
<p>controls the width of the confidence interval</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_orderbyrisk">orderByRisk</code></td>
<td>
<p>logical, should the plot be ordered by risk</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_colours">colours</code></td>
<td>
<p>can specify colours for risks less than, 1 and greater than
1.0. Default is red, black, green</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_showest">showEst</code></td>
<td>
<p>logical, should the risks be displayed on the plot in text</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_rmref">rmRef</code></td>
<td>
<p>logical, should the reference levels be removed for the plot?</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_digits">digits</code></td>
<td>
<p>number of digits to use displaying estimates</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_logscale">logScale</code></td>
<td>
<p>logical, should OR/RR be shown on log scale, defaults to
TRUE, or reportRmd.logScale if set. See https://doi.org/10.1093/aje/kwr156 for why you may prefer a
linear scale.</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_nxticks">nxTicks</code></td>
<td>
<p>Number of tick marks supplied to the log_breaks function to
produce</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_shown">showN</code></td>
<td>
<p>Show number of observations per variable and category</p>
</td></tr>
<tr><td><code id="forestplotMV_+3A_showevent">showEvent</code></td>
<td>
<p>Show number of events per variable and category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
glm_fit = glm(orr~change_ctdna_group+sex+age+l_size,
data=pembrolizumab,family = 'binomial')
forestplotMV(glm_fit)
</code></pre>

<hr>
<h2 id='forestplotUV'>Create an univariable forest plot using ggplot2</h2><span id='topic+forestplotUV'></span>

<h3>Description</h3>

<p>This function will send and take log or logistic regression fit from glm or geeglm
from uvsum function, and display the OR or RR for each variable on the appropriate log scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forestplotUV(
  response,
  covs,
  data,
  id = NULL,
  corstr = NULL,
  model = "glm",
  family = NULL,
  digits = getOption("reportRmd.digits", 2),
  conf.level = 0.95,
  orderByRisk = TRUE,
  colours = "default",
  showEst = TRUE,
  rmRef = FALSE,
  logScale = getOption("reportRmd.logScale", TRUE),
  nxTicks = 5,
  showN = TRUE,
  showEvent = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forestplotUV_+3A_response">response</code></td>
<td>
<p>character vector with names of columns to use for response</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_covs">covs</code></td>
<td>
<p>character vector with names of columns to use for covariates</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_data">data</code></td>
<td>
<p>dataframe containing your data</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_id">id</code></td>
<td>
<p>character vector which identifies clusters. Only used for geeglm</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_corstr">corstr</code></td>
<td>
<p>character string specifying the correlation structure. Only
used for geeglm. The following are permitted: '&quot;independence&quot;',
'&quot;exchangeable&quot;', '&quot;ar1&quot;', '&quot;unstructured&quot;' and '&quot;userdefined&quot;'</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_model">model</code></td>
<td>
<p>fitted model object</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_family">family</code></td>
<td>
<p>description of the error distribution and link function to be
used in the model. Only used for geeglm</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_digits">digits</code></td>
<td>
<p>number of digits to round to</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_conf.level">conf.level</code></td>
<td>
<p>controls the width of the confidence interval</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_orderbyrisk">orderByRisk</code></td>
<td>
<p>logical, should the plot be ordered by risk</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_colours">colours</code></td>
<td>
<p>can specify colours for risks less than, 1 and greater than
1.0. Default is red, black, green</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_showest">showEst</code></td>
<td>
<p>logical, should the risks be displayed on the plot in text</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_rmref">rmRef</code></td>
<td>
<p>logical, should the reference levels be removed for the plot?</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_logscale">logScale</code></td>
<td>
<p>logical, should OR/RR be shown on log scale, defaults to
TRUE, or reportRmd.logScale if set. See https://doi.org/10.1093/aje/kwr156 for why you may prefer a
linear scale.</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_nxticks">nxTicks</code></td>
<td>
<p>Number of tick marks supplied to the log_breaks function to
produce</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_shown">showN</code></td>
<td>
<p>Show number of observations per variable and category</p>
</td></tr>
<tr><td><code id="forestplotUV_+3A_showevent">showEvent</code></td>
<td>
<p>Show number of events per variable and category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
forestplotUV(response="orr", covs=c("change_ctdna_group", "sex", "age", "l_size"),
data=pembrolizumab, family='binomial')
</code></pre>

<hr>
<h2 id='forestplotUVMV'>Combine an univariable and multivariable forest plot using ggplot2</h2><span id='topic+forestplotUVMV'></span>

<h3>Description</h3>

<p>This function will take log or logistic regression fit forest plot output
from forestplotUV and forestplotMV functions and display the combined
adjusted and unadjusted OR or RR for each variable on the appropriate
log scale. Please note that total N and reference-level N is taken from
unadjusted model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forestplotUVMV(
  UVmodel,
  MVmodel,
  model = "glm",
  family = NULL,
  digits = getOption("reportRmd.digits", 2),
  orderByRisk = TRUE,
  colours = "default",
  showEst = TRUE,
  rmRef = FALSE,
  logScale = FALSE,
  nxTicks = 5,
  showN = TRUE,
  showEvent = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forestplotUVMV_+3A_uvmodel">UVmodel</code></td>
<td>
<p>an UV model object output from the forestplotUV function</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_mvmodel">MVmodel</code></td>
<td>
<p>a MV model object output from the forestplotMV function</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_model">model</code></td>
<td>
<p>fitted model object</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_family">family</code></td>
<td>
<p>description of the error distribution and link function to be
used in the model. Only used for geeglm</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_digits">digits</code></td>
<td>
<p>number of digits to round to</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_orderbyrisk">orderByRisk</code></td>
<td>
<p>logical, should the plot be ordered by risk</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_colours">colours</code></td>
<td>
<p>can specify colours for risks less than, 1 and greater than
1.0. Default is red, black, green</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_showest">showEst</code></td>
<td>
<p>logical, should the risks be displayed on the plot in text</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_rmref">rmRef</code></td>
<td>
<p>logical, should the reference levels be removed for the plot?</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_logscale">logScale</code></td>
<td>
<p>logical, should OR/RR be shown on log scale, defaults to
TRUE. See https://doi.org/10.1093/aje/kwr156 for why you may prefer a
linear scale.</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_nxticks">nxTicks</code></td>
<td>
<p>Number of tick marks supplied to the log_breaks function to
produce</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_shown">showN</code></td>
<td>
<p>Show number of observations per variable and category</p>
</td></tr>
<tr><td><code id="forestplotUVMV_+3A_showevent">showEvent</code></td>
<td>
<p>Show number of events per variable and category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
UVp = forestplotUV(response="orr", covs=c("change_ctdna_group", "sex", "age",
"l_size"), data=pembrolizumab, family='binomial')
MVp = forestplotMV(glm(orr~change_ctdna_group+sex+age+l_size,
data=pembrolizumab,family = 'binomial'))
forestplotUVMV(UVp, MVp)
</code></pre>

<hr>
<h2 id='formatp'>Specific p-value formatting</h2><span id='topic+formatp'></span>

<h3>Description</h3>

<p>If p &lt; 0.001 returns &quot;&lt;0.001&quot;, if p &lt; 0.01 returns p to 3 decimal places
otherwise returns p to 2 decimal places
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatp(pvalues)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatp_+3A_pvalues">pvalues</code></td>
<td>
<p>a vector of p values</p>
</td></tr>
</table>

<hr>
<h2 id='geoR_boxcoxfit'>Parameter Estimation for the Box-Cox Transformation</h2><span id='topic+geoR_boxcoxfit'></span>

<h3>Description</h3>

<p>This function is copied from the geoR package which has been removed from the
CRAN repository.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geoR_boxcoxfit(object, xmat, lambda, lambda2 = NULL, add.to.data = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geoR_boxcoxfit_+3A_object">object</code></td>
<td>
<p>a vector with the data</p>
</td></tr>
<tr><td><code id="geoR_boxcoxfit_+3A_xmat">xmat</code></td>
<td>
<p>a matrix with covariates values. Defaults to rep(1, length(y)).</p>
</td></tr>
<tr><td><code id="geoR_boxcoxfit_+3A_lambda">lambda</code></td>
<td>
<p>numerical value(s) for the transformation parameter lambda.
Used as the initial value in the function for parameter estimation. If not
provided default values are assumed. If multiple values are passed the one
with highest likelihood is used as initial value.</p>
</td></tr>
<tr><td><code id="geoR_boxcoxfit_+3A_lambda2">lambda2</code></td>
<td>
<p>ogical or numerical value(s) of the additional transformation
(see DETAILS below). Defaults to NULL. If TRUE this parameter is also
estimated and the initial value is set to the absolute value of the minimum
data. A numerical value is provided it is used as the initial value.
Multiple values are allowed as for lambda.</p>
</td></tr>
<tr><td><code id="geoR_boxcoxfit_+3A_add.to.data">add.to.data</code></td>
<td>
<p>a constant value to be added to the data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For more information see:
https://cran.r-project.org/web/packages/geoR/index.html
</p>

<hr>
<h2 id='ggkmcif'>Plot KM and CIF curves with ggplot</h2><span id='topic+ggkmcif'></span>

<h3>Description</h3>

<p>This function will plot a KM or CIF curve with option to add the number at
risk. You can specify if you want confidence bands, the hazard ratio, and
pvalues, as well as the units of time used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggkmcif(
  response,
  cov = NULL,
  data,
  type = NULL,
  pval = TRUE,
  HR = FALSE,
  HR_pval = FALSE,
  conf.curves = FALSE,
  conf.type = "log",
  table = TRUE,
  times = NULL,
  xlab = "Time",
  ylab = NULL,
  main = NULL,
  stratalabs = NULL,
  strataname = nicename(cov),
  stratalabs.table = NULL,
  strataname.table = strataname,
  median.text = FALSE,
  median.lines = FALSE,
  median.CI = FALSE,
  set.time.text = NULL,
  set.time.line = FALSE,
  set.time = 5,
  set.time.CI = FALSE,
  censor.marks = TRUE,
  censor.size = 3,
  censor.stroke = 1.5,
  fsize = 10,
  nsize = 3,
  lsize = 1,
  psize = 3.5,
  median.size = 3,
  median.pos = NULL,
  median.lsize = 1,
  set.size = 3,
  set.pos = NULL,
  set.lsize = 1,
  ylim = c(0, 1),
  col = NULL,
  linetype = NULL,
  xlim = NULL,
  legend.pos = NULL,
  pval.pos = NULL,
  plot.event = 1,
  event = c("col", "linetype"),
  flip.CIF = FALSE,
  cut = NULL,
  eventlabs = NULL,
  event.name = NULL,
  Numbers_at_risk_text = "Numbers at risk",
  HR.digits = 2,
  HR.pval.digits = 3,
  pval.digits = 3,
  median.digits = 3,
  set.time.digits = 3,
  returns = FALSE,
  print.n.missing = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggkmcif_+3A_response">response</code></td>
<td>
<p>character vector with names of columns to use for response</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_cov">cov</code></td>
<td>
<p>String specifying the column name of stratification variable</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_data">data</code></td>
<td>
<p>dataframe containing your data</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_type">type</code></td>
<td>
<p>string indicating he type of univariate model to fit. The
function will try and guess what type you want based on your response. If
you want to override this you can manually specify the type. Options
include &quot;KM&quot;, and ,&quot;CIF&quot;</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_pval">pval</code></td>
<td>
<p>boolean to specify if you want p-values in the plot (Log Rank
test for KM and Gray's test for CIF)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_hr">HR</code></td>
<td>
<p>boolean to specify if you want hazard ratios included in the plot</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_hr_pval">HR_pval</code></td>
<td>
<p>boolean to specify if you want HR p-values in the plot</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_conf.curves">conf.curves</code></td>
<td>
<p>boolean to specify if you want confidence interval bands</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_conf.type">conf.type</code></td>
<td>
<p>One of &quot;none&quot;(the default), &quot;plain&quot;, &quot;log&quot; , &quot;log-log&quot; or
&quot;logit&quot;. Only enough of the string to uniquely identify it is necessary.
The first option causes confidence intervals not to be generated. The
second causes the standard intervals curve +- k *se(curve), where k is
determined from conf.int. The log option calculates intervals based on the
cumulative hazard or log(survival). The log-log option bases the intervals
on the log hazard or log(-log(survival)), and the logit option on
log(survival/(1-survival)).</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_table">table</code></td>
<td>
<p>Logical value. If TRUE, includes the number at risk table</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_times">times</code></td>
<td>
<p>Numeric vector of times for the x-axis</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_xlab">xlab</code></td>
<td>
<p>String corresponding to xlabel. By default is &quot;Time&quot;</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_ylab">ylab</code></td>
<td>
<p>String corresponding to ylabel. When NULL uses &quot;Survival
probability&quot; for KM cuves, and &quot;Probability of an event&quot; for CIF</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_main">main</code></td>
<td>
<p>String corresponding to main title. When NULL uses Kaplan-Meier
Plot s, and &quot;Cumulative Incidence Plot for CIF&quot;</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_stratalabs">stratalabs</code></td>
<td>
<p>string corresponding to the labels of the covariate, when
NULL will use the levels of the covariate</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_strataname">strataname</code></td>
<td>
<p>String of the covariate name default is  nicename(cov)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_stratalabs.table">stratalabs.table</code></td>
<td>
<p>String corresponding to the levels of the covariate
for the number at risk table, when NULL will use the levels of the
covariate. Can use a string of &quot;-&quot; when the labels are long</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_strataname.table">strataname.table</code></td>
<td>
<p>String of the covariate name for the number at risk
table default is  nicename(cov</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.text">median.text</code></td>
<td>
<p>boolean to specify if you want the median values added to
the legend (or as added text if there are no covariates), for KM only</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.lines">median.lines</code></td>
<td>
<p>boolean to specify if you want the median values added as
lines to the plot, for KM only</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.ci">median.CI</code></td>
<td>
<p>boolean to specify if you want the 95\
with the median text (Only for KM)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.time.text">set.time.text</code></td>
<td>
<p>string for the text to add survival at a specified time
(eg. year OS)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.time.line">set.time.line</code></td>
<td>
<p>boolean to specify if you want the survival added as
lines to the plot at a specified point</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.time">set.time</code></td>
<td>
<p>Numeric values of the specific time of interest, default is 5
(Multiple values can be entered)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.time.ci">set.time.CI</code></td>
<td>
<p>boolean to specify if you want the 95\
interval with the set time text</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_censor.marks">censor.marks</code></td>
<td>
<p>logical value. If TRUE, includes censor marks (only for
KM curves)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_censor.size">censor.size</code></td>
<td>
<p>size of censor marks, default is 3</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_censor.stroke">censor.stroke</code></td>
<td>
<p>stroke of censor marks, default is 1.5</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_fsize">fsize</code></td>
<td>
<p>font size</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_nsize">nsize</code></td>
<td>
<p>font size for numbers in the numbers at risk table</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_lsize">lsize</code></td>
<td>
<p>line size</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_psize">psize</code></td>
<td>
<p>size of the pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.size">median.size</code></td>
<td>
<p>size of the median text (Only when there are no
covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.pos">median.pos</code></td>
<td>
<p>vector of length 2 corresponding to the median position
(Only when there are no covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.lsize">median.lsize</code></td>
<td>
<p>line size of the median lines</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.size">set.size</code></td>
<td>
<p>size of the survival at a set time text (Only when there are
no covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.pos">set.pos</code></td>
<td>
<p>vector of length 2 corresponding to the survival at a set
point position (Only when there are no covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.lsize">set.lsize</code></td>
<td>
<p>line size of the survival at set points</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_ylim">ylim</code></td>
<td>
<p>vector of length 2 corresponding to limits of y-axis. Default to
NULL</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_col">col</code></td>
<td>
<p>vector of colours</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_linetype">linetype</code></td>
<td>
<p>vector of line types</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_xlim">xlim</code></td>
<td>
<p>vector of length 2 corresponding to limits of x-axis. Default to
NULL</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_legend.pos">legend.pos</code></td>
<td>
<p>Can be either a string corresponding to the legend position
(&quot;left&quot;,&quot;top&quot;, &quot;right&quot;, &quot;bottom&quot;, &quot;none&quot;) or a vector of length 2
corresponding to the legend position (uses normalized units (ie the
c(0.5,0.5) is the middle of the plot))</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_pval.pos">pval.pos</code></td>
<td>
<p>vector of length 2 corresponding to the p-value position</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_plot.event">plot.event</code></td>
<td>
<p>Which event(s) to plot (1,2, or c(1,2))</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_event">event</code></td>
<td>
<p>String specifying if the event should be mapped to the colour,
or linetype when plotting both events to colour = &quot;col&quot;, line type</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_flip.cif">flip.CIF</code></td>
<td>
<p>boolean to flip the CIF curve to start at 1</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_cut">cut</code></td>
<td>
<p>numeric value indicating where to divide a continuous covariate
(default is the median)</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_eventlabs">eventlabs</code></td>
<td>
<p>String corresponding to the event type names</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_event.name">event.name</code></td>
<td>
<p>String corresponding to the label of the event types</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_numbers_at_risk_text">Numbers_at_risk_text</code></td>
<td>
<p>String for the label of the number at risk</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_hr.digits">HR.digits</code></td>
<td>
<p>Number of digits printed of the  hazard ratio</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_hr.pval.digits">HR.pval.digits</code></td>
<td>
<p>Number of digits printed of the hazard ratio pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_pval.digits">pval.digits</code></td>
<td>
<p>Number of digits printed of the Gray's/log rank pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_median.digits">median.digits</code></td>
<td>
<p>Number of digits printed of the median pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_set.time.digits">set.time.digits</code></td>
<td>
<p>Number of digits printed of the probability at a
specified time</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_returns">returns</code></td>
<td>
<p>Logical value returns a list with all ggplot objects in a list</p>
</td></tr>
<tr><td><code id="ggkmcif_+3A_print.n.missing">print.n.missing</code></td>
<td>
<p>Logical, should the number of missing be shown !Needs
to be checked</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that for proper pdf output of special characters the following code
needs to be included in the first chunk of the rmd
knitr::opts_chunk$set(dev=&quot;cairo_pdf&quot;)
</p>


<h3>Value</h3>

<p>Nothing is returned unless returns = TRUE is used. With returns =
TRUE,  if table=TRUE (the default) a table style graphic with survival plot
and number at risk table is returned. Otherwise a plot with the survival
curves is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
# Simple plot without confidence intervals
ggkmcif(response = c('os_time','os_status'),
cov='cohort',
data=pembrolizumab)

# Plot with median survival time
ggkmcif(response = c('os_time','os_status'),
cov='sex',
data=pembrolizumab,
median.text = TRUE,median.lines=TRUE,conf.curves=TRUE)

# Plot with specified survival times and log-log CI
ggkmcif(response = c('os_time','os_status'),
cov='sex',
data=pembrolizumab,
median.text = FALSE,set.time.text = 'mo OS',
set.time = c(12,24),conf.type = 'log-log',conf.curves=TRUE)

# KM plot with 95% CI and censor marks
ggkmcif(c('os_time','os_status'),'sex',data = pembrolizumab, type = 'KM',
HR=TRUE, HR_pval = TRUE, conf.curves = TRUE,conf.type='log-log',
set.time.CI = TRUE, censor.marks=TRUE)
</code></pre>

<hr>
<h2 id='ggkmcif_paste'>Plot KM and CIF curves with ggplot</h2><span id='topic+ggkmcif_paste'></span>

<h3>Description</h3>

<p>This function puts together a survival curve, and a number at risk table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggkmcif_paste(list_gg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggkmcif_paste_+3A_list_gg">list_gg</code></td>
<td>
<p>list containing the results of ggkmcif</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gtable with three elements, the survival curve, a spacer and the
number at risk table
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
plot &lt;- ggkmcif(response=c('pfs_time','pfs_status'),
data=pembrolizumab,returns = TRUE)

# Highlighting a section of the curve
plot[[1]] &lt;- plot[[1]] +
ggplot2::geom_rect(xmin=4,xmax=8,ymin=0.15,ymax=0.4,alpha=0.01,fill='yellow')

# Putting the curve back together
ggkmcif_paste(plot)
</code></pre>

<hr>
<h2 id='ggkmcif2'>Plot KM and CIF curves with ggplot</h2><span id='topic+ggkmcif2'></span>

<h3>Description</h3>

<p>This function will plot a KM or CIF curve with option to add the number at
risk. You can specify if you want confidence bands, the hazard ratio, and
pvalues, as well as the units of time used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggkmcif2(
  response,
  cov = NULL,
  data,
  pval = TRUE,
  conf.curves = FALSE,
  table = TRUE,
  xlab = "Time",
  ylab = NULL,
  col = NULL,
  times = NULL,
  type = NULL,
  plot.event = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggkmcif2_+3A_response">response</code></td>
<td>
<p>character vector with names of columns to use for response</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_cov">cov</code></td>
<td>
<p>String specifying the column name of stratification variable</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_data">data</code></td>
<td>
<p>dataframe containing your data</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_pval">pval</code></td>
<td>
<p>boolean to specify if you want p-values in the plot (Log Rank
test for KM and Gray's test for CIF)</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_conf.curves">conf.curves</code></td>
<td>
<p>boolean to specify if you want confidence interval bands</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_table">table</code></td>
<td>
<p>Logical value. If TRUE, includes the number at risk table</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_xlab">xlab</code></td>
<td>
<p>String corresponding to xlabel. By default is &quot;Time&quot;</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_ylab">ylab</code></td>
<td>
<p>String corresponding to ylabel. When NULL uses &quot;Survival</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_col">col</code></td>
<td>
<p>vector of colours</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_times">times</code></td>
<td>
<p>Numeric vector of times for the x-axis
probability&quot; for KM cuves, and &quot;Probability of an event&quot; for CIF</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_type">type</code></td>
<td>
<p>string indicating he type of univariate model to fit. The
function will try and guess what type you want based on your response. If
you want to override this you can manually specify the type. Options
include &quot;KM&quot;, and ,&quot;CIF&quot;</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_plot.event">plot.event</code></td>
<td>
<p>Which event(s) to plot (1,2, or c(1,2))</p>
</td></tr>
<tr><td><code id="ggkmcif2_+3A_...">...</code></td>
<td>
<p>additional plotting arguments see <code><a href="#topic+ggkmcif2Parameters">ggkmcif2Parameters</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that for proper pdf output of special characters the following code
needs to be included in the first chunk of the rmd
knitr::opts_chunk$set(dev=&quot;cairo_pdf&quot;)
</p>


<h3>Value</h3>

<p>ggplot object; if table = F then only curves are output;
if table = T then curves and risk table are output together
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple plot without confidence intervals
data("pembrolizumab")
ggkmcif2(response = c('os_time','os_status'),
cov='cohort',
data=pembrolizumab)

# Plot with median survival time
ggkmcif2(response = c('os_time','os_status'),
cov='sex',
data=pembrolizumab,
median.text = TRUE,median.lines=TRUE,conf.curves=TRUE)

# Plot with specified survival times and log-log CI
ggkmcif2(response = c('os_time','os_status'),
cov='sex',
data=pembrolizumab,
median.text = FALSE,set.time.text = 'mo OS',
set.time = c(12,24),conf.type = 'log-log',conf.curves=TRUE)

# KM plot with 95% CI and censor marks
ggkmcif2(c('os_time','os_status'),'sex',data = pembrolizumab, type = 'KM',
HR=TRUE, HR_pval = TRUE, conf.curves = TRUE,conf.type='log-log',
set.time.CI = TRUE, censor.marks=TRUE)
</code></pre>

<hr>
<h2 id='ggkmcif2Parameters'>Additional parameters passed to ggkmcif2</h2><span id='topic+ggkmcif2Parameters'></span>

<h3>Description</h3>

<p>Additional parameters passed to ggkmcif2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggkmcif2Parameters(
  table.height = NULL,
  HR = FALSE,
  HR_pval = FALSE,
  conf.type = "log",
  main = NULL,
  stratalabs = NULL,
  strataname,
  stratalabs.table = NULL,
  strataname.table = strataname,
  median.text = FALSE,
  median.lines = FALSE,
  median.CI = FALSE,
  set.time.text = NULL,
  set.time.line = FALSE,
  set.time = 5,
  set.time.CI = FALSE,
  censor.marks = TRUE,
  censor.size = 3,
  censor.stroke = 1.5,
  fsize = 11,
  nsize = 3,
  lsize = 1,
  psize = 3.5,
  median.size = 3,
  median.pos = NULL,
  median.lsize = 1,
  set.size = 3,
  set.pos = NULL,
  set.lsize = 1,
  ylim = c(0, 1),
  linetype = NULL,
  xlim = NULL,
  legend.pos = NULL,
  pval.pos = NULL,
  event = c("col", "linetype"),
  flip.CIF = FALSE,
  cut = NULL,
  eventlabs = NULL,
  event.name = NULL,
  Numbers_at_risk_text = "Number at risk",
  HR.digits = 2,
  HR.pval.digits = 3,
  pval.digits = 3,
  median.digits = 3,
  set.time.digits = 3,
  print.n.missing = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggkmcif2Parameters_+3A_table.height">table.height</code></td>
<td>
<p>Relative height of risk table (0-1)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_hr">HR</code></td>
<td>
<p>boolean to specify if you want hazard ratios included in the plot</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_hr_pval">HR_pval</code></td>
<td>
<p>boolean to specify if you want HR p-values in the plot</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_conf.type">conf.type</code></td>
<td>
<p>One of &quot;none&quot;(the default), &quot;plain&quot;, &quot;log&quot; , &quot;log-log&quot; or
&quot;logit&quot;. Only enough of the string to uniquely identify it is necessary.
The first option causes confidence intervals not to be generated. The
second causes the standard intervals curve +- k *se(curve), where k is
determined from conf.int. The log option calculates intervals based on the
cumulative hazard or log(survival). The log-log option bases the intervals
on the log hazard or log(-log(survival)), and the logit option on
log(survival/(1-survival)).</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_main">main</code></td>
<td>
<p>String corresponding to main title. When NULL uses Kaplan-Meier
Plot s, and &quot;Cumulative Incidence Plot for CIF&quot;</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_stratalabs">stratalabs</code></td>
<td>
<p>string corresponding to the labels of the covariate, when
NULL will use the levels of the covariate</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_strataname">strataname</code></td>
<td>
<p>String of the covariate name default is  nicename(cov)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_stratalabs.table">stratalabs.table</code></td>
<td>
<p>String corresponding to the levels of the covariate
for the number at risk table, when NULL will use the levels of the
covariate. Can use a string of &quot;-&quot; when the labels are long</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_strataname.table">strataname.table</code></td>
<td>
<p>String of the covariate name for the number at risk
table default is  nicename(cov</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.text">median.text</code></td>
<td>
<p>boolean to specify if you want the median values added to
the legend (or as added text if there are no covariates), for KM only</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.lines">median.lines</code></td>
<td>
<p>boolean to specify if you want the median values added as
lines to the plot, for KM only</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.ci">median.CI</code></td>
<td>
<p>boolean to specify if you want the 95\
with the median text (Only for KM)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.time.text">set.time.text</code></td>
<td>
<p>string for the text to add survival at a specified time
(eg. year OS)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.time.line">set.time.line</code></td>
<td>
<p>boolean to specify if you want the survival added as
lines to the plot at a specified point</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.time">set.time</code></td>
<td>
<p>Numeric values of the specific time of interest, default is 5
(Multiple values can be entered)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.time.ci">set.time.CI</code></td>
<td>
<p>boolean to specify if you want the 95\
interval with the set time text</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_censor.marks">censor.marks</code></td>
<td>
<p>logical value. If TRUE, includes censor marks (only for
KM curves)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_censor.size">censor.size</code></td>
<td>
<p>size of censor marks, default is 3</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_censor.stroke">censor.stroke</code></td>
<td>
<p>stroke of censor marks, default is 1.5</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_fsize">fsize</code></td>
<td>
<p>font size</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_nsize">nsize</code></td>
<td>
<p>font size for numbers in the numbers at risk table</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_lsize">lsize</code></td>
<td>
<p>line size</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_psize">psize</code></td>
<td>
<p>size of the pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.size">median.size</code></td>
<td>
<p>size of the median text (Only when there are no
covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.pos">median.pos</code></td>
<td>
<p>vector of length 2 corresponding to the median position
(Only when there are no covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.lsize">median.lsize</code></td>
<td>
<p>line size of the median lines</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.size">set.size</code></td>
<td>
<p>size of the survival at a set time text (Only when there are
no covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.pos">set.pos</code></td>
<td>
<p>vector of length 2 corresponding to the survival at a set
point position (Only when there are no covariates)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.lsize">set.lsize</code></td>
<td>
<p>line size of the survival at set points</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_ylim">ylim</code></td>
<td>
<p>vector of length 2 corresponding to limits of y-axis. Default to
NULL</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_linetype">linetype</code></td>
<td>
<p>vector of line types; default is solid for all lines</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_xlim">xlim</code></td>
<td>
<p>vector of length 2 corresponding to limits of x-axis. Default to
NULL</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_legend.pos">legend.pos</code></td>
<td>
<p>Can be either a string corresponding to the legend position
(&quot;left&quot;,&quot;top&quot;, &quot;right&quot;, &quot;bottom&quot;, &quot;none&quot;) or a vector of length 2
corresponding to the legend position (uses normalized units (ie the
c(0.5,0.5) is the middle of the plot))</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_pval.pos">pval.pos</code></td>
<td>
<p>vector of length 2 corresponding to the p-value position</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_event">event</code></td>
<td>
<p>String specifying if the event should be mapped to the colour,
or linetype when plotting both events to colour = &quot;col&quot;, line type</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_flip.cif">flip.CIF</code></td>
<td>
<p>boolean to flip the CIF curve to start at 1</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_cut">cut</code></td>
<td>
<p>numeric value indicating where to divide a continuous covariate
(default is the median)</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_eventlabs">eventlabs</code></td>
<td>
<p>String corresponding to the event type names</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_event.name">event.name</code></td>
<td>
<p>String corresponding to the label of the event types</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_numbers_at_risk_text">Numbers_at_risk_text</code></td>
<td>
<p>String for the label of the number at risk</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_hr.digits">HR.digits</code></td>
<td>
<p>Number of digits printed of the  hazard ratio</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_hr.pval.digits">HR.pval.digits</code></td>
<td>
<p>Number of digits printed of the hazard ratio pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_pval.digits">pval.digits</code></td>
<td>
<p>Number of digits printed of the Gray's/log rank pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_median.digits">median.digits</code></td>
<td>
<p>Number of digits printed of the median pvalue</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_set.time.digits">set.time.digits</code></td>
<td>
<p>Number of digits printed of the probability at a
specified time</p>
</td></tr>
<tr><td><code id="ggkmcif2Parameters_+3A_print.n.missing">print.n.missing</code></td>
<td>
<p>Logical, should the number of missing be shown !Needs
to be checked</p>
</td></tr>
</table>

<hr>
<h2 id='hbld'>Bold strings in HTML</h2><span id='topic+hbld'></span>

<h3>Description</h3>

<p>Bold strings in HTML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hbld(strings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hbld_+3A_strings">strings</code></td>
<td>
<p>A vector of strings to bold.</p>
</td></tr>
</table>

<hr>
<h2 id='lbld'>Bold strings in LaTeX</h2><span id='topic+lbld'></span>

<h3>Description</h3>

<p>Bold strings in LaTeX
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lbld(strings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lbld_+3A_strings">strings</code></td>
<td>
<p>A vector of strings to bold.</p>
</td></tr>
</table>

<hr>
<h2 id='lpvalue'>Formats p-values for LaTeX</h2><span id='topic+lpvalue'></span>

<h3>Description</h3>

<p>Returns &lt;0.001 if pvalue is &lt;0.001. Else rounds the pvalue to specified significant digits. Will bold the p-value if it is &lt;= 0.05
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lpvalue(x, sigdigits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lpvalue_+3A_x">x</code></td>
<td>
<p>an integer</p>
</td></tr>
<tr><td><code id="lpvalue_+3A_sigdigits">sigdigits</code></td>
<td>
<p>number of significant digit to report</p>
</td></tr>
</table>

<hr>
<h2 id='mvsum'>Get multivariate summary dataframe</h2><span id='topic+mvsum'></span>

<h3>Description</h3>

<p>Returns a dataframe with the model summary and global p-value for multi-level
variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mvsum(
  model,
  data,
  digits = getOption("reportRmd.digits", 2),
  showN = TRUE,
  showEvent = TRUE,
  markup = TRUE,
  sanitize = TRUE,
  nicenames = TRUE,
  CIwidth = 0.95,
  vif = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mvsum_+3A_model">model</code></td>
<td>
<p>fitted model object</p>
</td></tr>
<tr><td><code id="mvsum_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="mvsum_+3A_digits">digits</code></td>
<td>
<p>number of digits to round to</p>
</td></tr>
<tr><td><code id="mvsum_+3A_shown">showN</code></td>
<td>
<p>boolean indicating sample sizes should be shown for each
comparison, can be useful for interactions</p>
</td></tr>
<tr><td><code id="mvsum_+3A_showevent">showEvent</code></td>
<td>
<p>boolean indicating if number of events should be shown. Only
available for logistic.</p>
</td></tr>
<tr><td><code id="mvsum_+3A_markup">markup</code></td>
<td>
<p>boolean indicating if you want latex markup</p>
</td></tr>
<tr><td><code id="mvsum_+3A_sanitize">sanitize</code></td>
<td>
<p>boolean indicating if you want to sanitize all strings to not
break LaTeX</p>
</td></tr>
<tr><td><code id="mvsum_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space.</p>
</td></tr>
<tr><td><code id="mvsum_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width for confidence intervals, defaults to 0.95</p>
</td></tr>
<tr><td><code id="mvsum_+3A_vif">vif</code></td>
<td>
<p>boolean indicating if the variance inflation factor should be
included. See details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Global p-values are likelihood ratio tests for lm, glm and polr models. For
lme models an attempt is made to re-fit the model using ML and if,successful
LRT is used to obtain a global p-value. For coxph models the model is re-run
without robust variances with and without each variable and a LRT is
presented. If unsuccessful a Wald p-value is returned. For GEE and CRR models
Wald global p-values are returned.
</p>
<p>If the variance inflation factor is requested (VIF=T) then a generalised VIF
will be calculated in the same manner as the car package.
</p>
<p>VIF for competing risk models is computed by fitting a linear model with a
dependent variable comprised of the sum of the model independent variables
and then calculating VIF from this linear model.
</p>


<h3>References</h3>

<p>John Fox &amp; Georges Monette (1992) Generalized Collinearity
Diagnostics, Journal of the American Statistical Association, 87:417,
178-183, DOI: 10.1080/01621459.1992.10475190
</p>
<p>John Fox and Sanford Weisberg (2019). An R Companion to
Applied Regression, Third Edition. Thousand Oaks CA: Sage.
</p>

<hr>
<h2 id='nestTable'>Combine two table columns into a single column with levels of one nested
within levels of the other.</h2><span id='topic+nestTable'></span>

<h3>Description</h3>

<p>This function accepts a data frame (via the data argument) and combines two
columns into a single column with values from the head_col serving as headers
and values of the to_col displayed underneath each header. The resulting
table is then passed to outTable for printing and output, to use the grouped
table as a data frame specify tableOnly=TRUE. By default the headers will be
bolded and the remaining values indented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nestTable(
  data,
  head_col,
  to_col,
  colHeader = "",
  caption = NULL,
  indent = TRUE,
  boldheaders = TRUE,
  hdr_prefix = "",
  hdr_suffix = "",
  digits = getOption("reportRmd.digits", 2),
  tableOnly = FALSE,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nestTable_+3A_data">data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="nestTable_+3A_head_col">head_col</code></td>
<td>
<p>character value specifying the column name with the headers</p>
</td></tr>
<tr><td><code id="nestTable_+3A_to_col">to_col</code></td>
<td>
<p>character value specifying the column name to add the headers
into</p>
</td></tr>
<tr><td><code id="nestTable_+3A_colheader">colHeader</code></td>
<td>
<p>character with the desired name of the first column.
The default is to leave this empty for output or, for table only output to
use the column name 'col1'.</p>
</td></tr>
<tr><td><code id="nestTable_+3A_caption">caption</code></td>
<td>
<p>table caption</p>
</td></tr>
<tr><td><code id="nestTable_+3A_indent">indent</code></td>
<td>
<p>Boolean should the original values in the to_col be indented</p>
</td></tr>
<tr><td><code id="nestTable_+3A_boldheaders">boldheaders</code></td>
<td>
<p>Boolean should the header column values be bolded</p>
</td></tr>
<tr><td><code id="nestTable_+3A_hdr_prefix">hdr_prefix</code></td>
<td>
<p>character value that will prefix headers</p>
</td></tr>
<tr><td><code id="nestTable_+3A_hdr_suffix">hdr_suffix</code></td>
<td>
<p>character value that will suffix headers</p>
</td></tr>
<tr><td><code id="nestTable_+3A_digits">digits</code></td>
<td>
<p>number of digits to round numeric columns to, wither a single
number or a vector corresponding to the number of numeric columns</p>
</td></tr>
<tr><td><code id="nestTable_+3A_tableonly">tableOnly</code></td>
<td>
<p>boolean indicating if the table should be formatted for
printing or returned as a data frame</p>
</td></tr>
<tr><td><code id="nestTable_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that it is possible to combine multiple tables (more than two) with this
function.
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Investigate models to predict baseline ctDNA and tumour size and display together
## (not clinically useful!)
data(pembrolizumab)
fit1 &lt;- lm(baseline_ctdna~age+l_size+pdl1,data=pembrolizumab)
m1 &lt;- rm_mvsum(fit1,tableOnly=TRUE)
m1$Response = 'ctDNA'
fit2 &lt;- lm(l_size~age+baseline_ctdna+pdl1,data=pembrolizumab)
m2 &lt;- rm_mvsum(fit2,tableOnly=TRUE)
m2$Response = 'Tumour Size'
nestTable(rbind(m1,m2),head_col='Response',to_col='Covariate')
</code></pre>

<hr>
<h2 id='nicename'>Lean strings for printing</h2><span id='topic+nicename'></span>

<h3>Description</h3>

<p>Returns strings with . and _ replaced by a space. This is nice when printing
column names of your dataframe in a report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nicename(strings, check_numbers = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nicename_+3A_strings">strings</code></td>
<td>
<p>vector of strings to give a nice name</p>
</td></tr>
<tr><td><code id="nicename_+3A_check_numbers">check_numbers</code></td>
<td>
<p>boolean indicating if numbers with decimals should be
checked for and retained.</p>
</td></tr>
</table>

<hr>
<h2 id='niceNum'>Round retaining digits</h2><span id='topic+niceNum'></span>

<h3>Description</h3>

<p>Round retaining digits
</p>


<h3>Usage</h3>

<pre><code class='language-R'>niceNum(x, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="niceNum_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
<tr><td><code id="niceNum_+3A_digits">digits</code></td>
<td>
<p>numeric</p>
</td></tr>
</table>

<hr>
<h2 id='outTable'>Print tables to PDF/Latex HTML or Word</h2><span id='topic+outTable'></span>

<h3>Description</h3>

<p>Output the table nicely to whatever format is appropriate. This is the output
function used by the rm_* printing functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outTable(
  tab,
  row.names = NULL,
  to_indent = numeric(0),
  bold_headers = TRUE,
  rows_bold = numeric(0),
  bold_cells = NULL,
  caption = NULL,
  digits = getOption("reportRmd.digits", 2),
  align,
  applyAttributes = TRUE,
  keep.rownames = FALSE,
  nicenames = TRUE,
  fontsize,
  chunk_label,
  format = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outTable_+3A_tab">tab</code></td>
<td>
<p>a table to format</p>
</td></tr>
<tr><td><code id="outTable_+3A_row.names">row.names</code></td>
<td>
<p>a string specifying the column name to assign to the
rownames. If NULL (the default) then rownames are removed.</p>
</td></tr>
<tr><td><code id="outTable_+3A_to_indent">to_indent</code></td>
<td>
<p>numeric vector indicating which rows to indent in the first
column.</p>
</td></tr>
<tr><td><code id="outTable_+3A_bold_headers">bold_headers</code></td>
<td>
<p>boolean indicating if the column headers should be
bolded</p>
</td></tr>
<tr><td><code id="outTable_+3A_rows_bold">rows_bold</code></td>
<td>
<p>numeric vector indicating which rows to bold</p>
</td></tr>
<tr><td><code id="outTable_+3A_bold_cells">bold_cells</code></td>
<td>
<p>array indices indicating which cells to bold. These will be
in addition to rows bolded by rows_bold.</p>
</td></tr>
<tr><td><code id="outTable_+3A_caption">caption</code></td>
<td>
<p>table caption</p>
</td></tr>
<tr><td><code id="outTable_+3A_digits">digits</code></td>
<td>
<p>number of digits to round numeric columns to, wither a single
number or a vector corresponding to the number of numeric columns in tab</p>
</td></tr>
<tr><td><code id="outTable_+3A_align">align</code></td>
<td>
<p>string specifying column alignment, defaults to left alignment
of the first column and right alignment of all other columns. The align
argument accepts a single string with 'l' for left, 'c' for centre and 'r'
for right, with no separations. For example, to set the left column to be
centred, the middle column right-aligned and the right column left aligned
use: align='crl'</p>
</td></tr>
<tr><td><code id="outTable_+3A_applyattributes">applyAttributes</code></td>
<td>
<p>boolean indicating if the function should use
to_indent and bold_cells formatting attributes. This will only work
properly if the dimensions of the table output from rm_covsum, rm_uvsum etc
haven't changed.</p>
</td></tr>
<tr><td><code id="outTable_+3A_keep.rownames">keep.rownames</code></td>
<td>
<p>should the row names be included in the output</p>
</td></tr>
<tr><td><code id="outTable_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="outTable_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
<tr><td><code id="outTable_+3A_chunk_label">chunk_label</code></td>
<td>
<p>only used knitting to Word docs to allow cross-referencing</p>
</td></tr>
<tr><td><code id="outTable_+3A_format">format</code></td>
<td>
<p>if specified ('html','latex') will override the
global pandoc setting</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Entire rows can be bolded, or specific cells. Currently indentation refers to
the first column only. By default, underscores in column names are converted
to spaces. To disable this set rm_ to FALSE
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'># To make custom changes or change the fontsize in PDF/HTML
data("pembrolizumab")
tab &lt;- rm_covsum(data=pembrolizumab,maincov = 'change_ctdna_group',
covs=c('age','sex','pdl1','tmb','l_size'),show.tests=TRUE,tableOnly = TRUE)
outTable(tab, fontsize=7)

# To bold columns with the variable names
rows_bold &lt;- c(1,4,7,10,13)
outTable(tab,rows_bold = rows_bold)

# To bold the estimates for male/female
bold_cells &lt;- as.matrix(expand.grid(5:6,1:ncol(tab)))
outTable(tab,bold_cells= bold_cells)

# Output the above table to HTML or LaTeX
#cat(outTable(tab=tab)) #Knits to specified global setting
#cat(outTable(tab, format="html"), file = "tab.html") #HTML output
#cat(outTable(tab, format="latex"), file = "tab.tex") #LaTeX output
</code></pre>

<hr>
<h2 id='pembrolizumab'>Survival data
Survival status and ctDNA levels for patients receiving pembrolizumab</h2><span id='topic+pembrolizumab'></span>

<h3>Description</h3>

<p>Survival data
</p>
<p>Survival status and ctDNA levels for patients receiving pembrolizumab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pembrolizumab
</code></pre>


<h3>Format</h3>

<p>A data frame with 94 rows and 15 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient ID</p>
</dd>
<dt>age</dt><dd><p>Age at study entry</p>
</dd>
<dt>sex</dt><dd><p>Patient Sex</p>
</dd>
<dt>cohort</dt><dd><p>Study Cohort: A = Squamous cell carcinoma of soft pallate, B = Triple negative breast cancer, C = Ovarian, high grade serous, D = Melanoma, E = Other Solid Tumor</p>
</dd>
<dt>l_size</dt><dd><p>Target lesion size at baseline</p>
</dd>
<dt>pdl1</dt><dd><p>PD L1 percent</p>
</dd>
<dt>tmb</dt><dd><p>log of TMB</p>
</dd>
<dt>baseline_ctdna</dt><dd><p>Baseline ctDNA</p>
</dd>
<dt>change_ctdna_group</dt><dd><p>Did ctDNA increase or decrease from baseline to cycle 3</p>
</dd>
<dt>orr</dt><dd><p>Objective Response</p>
</dd>
<dt>cbr</dt><dd><p>Clinical Beneficial Response</p>
</dd>
<dt>os_status</dt><dd><p>Overall survival status, 0 = alive, 1 = deceased</p>
</dd>
<dt>os_time</dt><dd><p>Overall survival time in months</p>
</dd>
<dt>pfs_status</dt><dd><p>Progression free survival status, 0 = progression free, 1 = progressed</p>
</dd>
<dt>pfs_time</dt><dd><p>Progression free survival time in months</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.nature.com/articles/s43018-020-0096-5">https://www.nature.com/articles/s43018-020-0096-5</a>
</p>

<hr>
<h2 id='plotuv'>Plot multiple bivariate relationships in a single plot</h2><span id='topic+plotuv'></span>

<h3>Description</h3>

<p>This function is designed to accompany <code><a href="#topic+uvsum">uvsum</a></code> as a means of
visualising the results, and uses similar syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotuv(
  response,
  covs,
  data,
  showN = FALSE,
  showPoints = TRUE,
  na.rm = TRUE,
  response_title = NULL,
  return_plotlist = FALSE,
  ncol = 2,
  p_margins = c(0, 0.2, 1, 0.2),
  bpThreshold = 20,
  mixed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotuv_+3A_response">response</code></td>
<td>
<p>character vector with names of columns to use for response</p>
</td></tr>
<tr><td><code id="plotuv_+3A_covs">covs</code></td>
<td>
<p>character vector with names of columns to use for covariates</p>
</td></tr>
<tr><td><code id="plotuv_+3A_data">data</code></td>
<td>
<p>dataframe containing your data</p>
</td></tr>
<tr><td><code id="plotuv_+3A_shown">showN</code></td>
<td>
<p>boolean indicating whether sample sizes should be shown on the
plots</p>
</td></tr>
<tr><td><code id="plotuv_+3A_showpoints">showPoints</code></td>
<td>
<p>boolean indicating whether individual data points should be
shown when n&gt;20 in a category</p>
</td></tr>
<tr><td><code id="plotuv_+3A_na.rm">na.rm</code></td>
<td>
<p>boolean indicating whether na values should be shown or removed</p>
</td></tr>
<tr><td><code id="plotuv_+3A_response_title">response_title</code></td>
<td>
<p>character value with title of the plot</p>
</td></tr>
<tr><td><code id="plotuv_+3A_return_plotlist">return_plotlist</code></td>
<td>
<p>boolean indicating that the list of plots should be
returned instead of a plot, useful for applying changes to the plot, see
details</p>
</td></tr>
<tr><td><code id="plotuv_+3A_ncol">ncol</code></td>
<td>
<p>the number of columns of plots to be display in the ggarrange
call, defaults to 2</p>
</td></tr>
<tr><td><code id="plotuv_+3A_p_margins">p_margins</code></td>
<td>
<p>sets the TRBL margins of the individual plots, defaults to
c(0,0.2,1,.2)</p>
</td></tr>
<tr><td><code id="plotuv_+3A_bpthreshold">bpThreshold</code></td>
<td>
<p>Default is 20, if there are fewer than 20 observations in
a category then dotplots, as opposed to boxplots are shown.</p>
</td></tr>
<tr><td><code id="plotuv_+3A_mixed">mixed</code></td>
<td>
<p>should a mix of dotplots and boxplots be shown based on sample
size? If false then all categories will be shown as either dotplots, or
boxplots according the bpThreshold and the smallest category size</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Plots are displayed as follows: If response is continuous For a numeric
predictor scatterplot For a categorical predictor: If 20+ observations
available boxplot, otherwise dotplot with median line If response is a factor
For a numeric predictor: If 20+ observations available boxplot, otherwise
dotplot with median line For a categorical predictor barplot Response
variables are shown on the ordinate (y-axis) and covariates on the abscissa
(x-axis)
</p>


<h3>Value</h3>

<p>a list containing plots for each variable in covs
</p>
<p>a plot object
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+ggplot">ggplot</a></code> and <code><a href="ggpubr.html#topic+ggarrange">ggarrange</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Run multiple univariate analyses on the pembrolizumab dataset to predict cbr and
## then visualise the relationships.
data("pembrolizumab")
rm_uvsum(data=pembrolizumab,
response='cbr',covs=c('age','sex','l_size','baseline_ctdna'))
plotuv(data=pembrolizumab,  response='cbr',
covs=c('age','sex','l_size','baseline_ctdna'),showN=TRUE)
</code></pre>

<hr>
<h2 id='psthr'>Round and paste with parentheses</h2><span id='topic+psthr'></span>

<h3>Description</h3>

<p>Round and paste with parentheses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psthr(x, y = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="psthr_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="psthr_+3A_y">y</code></td>
<td>
<p>integer corresponding to the number of digits to round by</p>
</td></tr>
</table>

<hr>
<h2 id='pstprn'>Paste with parentheses</h2><span id='topic+pstprn'></span>

<h3>Description</h3>

<p>Paste with parentheses
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pstprn(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pstprn_+3A_x">x</code></td>
<td>
<p>a vector</p>
</td></tr>
</table>

<hr>
<h2 id='pvalue'>Formats p-values</h2><span id='topic+pvalue'></span>

<h3>Description</h3>

<p>Returns &lt;0.001 if pvalue is &lt;0.001. Else rounds the pvalue to specified
significant digits
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pvalue(x, digits)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pvalue_+3A_x">x</code></td>
<td>
<p>an integer</p>
</td></tr>
<tr><td><code id="pvalue_+3A_digits">digits</code></td>
<td>
<p>the number of significant digits to return</p>
</td></tr>
</table>

<hr>
<h2 id='rm_cifsum'>Summarize cumulative incidence by group</h2><span id='topic+rm_cifsum'></span>

<h3>Description</h3>

<p>Displays event counts and event rates at specified time points for the entire
cohort and by group. Gray's test of differences in cumulative incidence is
displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_cifsum(
  data,
  time,
  status,
  group = NULL,
  eventcode = 1,
  cencode = 0,
  eventtimes,
  eventtimeunit,
  eventtimeLbls = NULL,
  CIwidth = 0.95,
  unformattedp = FALSE,
  na.action = "na.omit",
  showCounts = TRUE,
  showGraystest = TRUE,
  digits = 2,
  caption = NULL,
  tableOnly = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_cifsum_+3A_data">data</code></td>
<td>
<p>data frame containing survival data</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_time">time</code></td>
<td>
<p>string indicating survival time variable</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_status">status</code></td>
<td>
<p>string indicating event status variable; must have at least 3
levels, e.g. 0 = censor, 1 = event, 2 = competing risk</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_group">group</code></td>
<td>
<p>string or character vector indicating the variable to group
observations by</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_eventcode">eventcode</code></td>
<td>
<p>numerical variable indicating event, default is 1</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_cencode">cencode</code></td>
<td>
<p>numerical variable indicating censored observation, default is
0</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_eventtimes">eventtimes</code></td>
<td>
<p>numeric vector specifying when event probabilities should
be calculated</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_eventtimeunit">eventtimeunit</code></td>
<td>
<p>unit of time to suffix to the time column label if event
probabilities are requested, should be plural</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_eventtimelbls">eventtimeLbls</code></td>
<td>
<p>if supplied, a vector the same length as eventtimes with
descriptions (useful for displaying years with data provided in months)</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width of the event probabilities, default is 95%</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_unformattedp">unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Should be used
in conjunction with the digits argument.</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_na.action">na.action</code></td>
<td>
<p>default is to omit missing values, but can be set to throw
and error using na.action='na.fail'</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_showcounts">showCounts</code></td>
<td>
<p>boolean indicating if the at risk, events and censored
columns should be output, default is TRUE</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_showgraystest">showGraystest</code></td>
<td>
<p>boolean indicating Gray's test should be included in the
final table, default is TRUE</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_digits">digits</code></td>
<td>
<p>the number of digits to report in the event probabilities,
default is 2.</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_caption">caption</code></td>
<td>
<p>table caption for markdown output</p>
</td></tr>
<tr><td><code id="rm_cifsum_+3A_tableonly">tableOnly</code></td>
<td>
<p>should a dataframe or a formatted object be returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the event table source code, unless
tableOnly=TRUE in which case a data frame is returned
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(survival)
data(pbc)

# Event probabilities at various time points with replacement time labels
rm_cifsum(data=pbc,time='time',status='status',
eventtimes=c(1825,3650),eventtimeLbls=c(5,10),eventtimeunit='yr')

# Event probabilities by one group
rm_cifsum(data=pbc,time='time',status='status',group='trt',
eventtimes=c(1825,3650),eventtimeunit='day')


# Event probabilities by multiple groups
rm_cifsum(data=pbc,time='time',status='status',group=c('trt','sex'),
eventtimes=c(1825,3650),eventtimeunit='day')

</code></pre>

<hr>
<h2 id='rm_covsum'>Outputs a descriptive covariate table</h2><span id='topic+rm_covsum'></span>

<h3>Description</h3>

<p>Returns a data frame corresponding to a descriptive table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_covsum(
  data,
  covs,
  maincov = NULL,
  caption = NULL,
  tableOnly = FALSE,
  covTitle = "",
  digits = 1,
  digits.cat = 0,
  nicenames = TRUE,
  IQR = FALSE,
  all.stats = FALSE,
  pvalue = TRUE,
  effSize = FALSE,
  p.adjust = "none",
  unformattedp = FALSE,
  show.tests = FALSE,
  testcont = c("rank-sum test", "ANOVA"),
  testcat = c("Chi-squared", "Fisher"),
  full = TRUE,
  include_missing = FALSE,
  percentage = c("column", "row"),
  dropLevels = TRUE,
  excludeLevels = NULL,
  numobs = NULL,
  fontsize,
  chunk_label
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_covsum_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of columns to include in table</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_maincov">maincov</code></td>
<td>
<p>covariate to stratify table by</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_caption">caption</code></td>
<td>
<p>character containing table caption (default is no caption)</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_tableonly">tableOnly</code></td>
<td>
<p>Logical, if TRUE then a dataframe is returned, otherwise a
formatted printed object is returned (default).</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_covtitle">covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_digits">digits</code></td>
<td>
<p>number of digits for summarizing mean data</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_digits.cat">digits.cat</code></td>
<td>
<p>number of digits for the proportions when summarizing
categorical data (default: 0)</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_iqr">IQR</code></td>
<td>
<p>boolean indicating if you want to display the inter quantile range
(Q1,Q3) as opposed to (min,max) in the summary for continuous variables</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_all.stats">all.stats</code></td>
<td>
<p>boolean indicating if all summary statistics (Q1,Q3 +
min,max on a separate line) should be displayed. Overrides IQR.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_pvalue">pvalue</code></td>
<td>
<p>boolean indicating if you want p-values included in the table</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_effsize">effSize</code></td>
<td>
<p>boolean indicating if you want effect sizes included in the
table. Can only be obtained if pvalue is also requested. Effect sizes
calculated include Cramer's V for categorical variables, Cohen's d,
Wilcoxon r, or Eta-squared for numeric/continuous variables.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_p.adjust">p.adjust</code></td>
<td>
<p>p-adjustments to be performed</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_unformattedp">unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Best used with
tableOnly = T and outTable function. See examples.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_show.tests">show.tests</code></td>
<td>
<p>boolean indicating if the type of statistical test and
effect size used should be shown in a column beside the pvalues. Ignored if
pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_testcont">testcont</code></td>
<td>
<p>test of choice for continuous variables,one of
<em>rank-sum</em> (default) or <em>ANOVA</em></p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_testcat">testcat</code></td>
<td>
<p>test of choice for categorical variables,one of
<em>Chi-squared</em> (default) or <em>Fisher</em></p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_full">full</code></td>
<td>
<p>boolean indicating if you want the full sample included in the
table, ignored if maincov is NULL</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_include_missing">include_missing</code></td>
<td>
<p>Option to include NA values of maincov. NAs will not
be included in statistical tests</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_percentage">percentage</code></td>
<td>
<p>choice of how percentages are presented, one of
<em>column</em> (default) or <em>row</em></p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_droplevels">dropLevels</code></td>
<td>
<p>logical, indicating if empty factor levels be dropped from
the output, default is TRUE.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_excludelevels">excludeLevels</code></td>
<td>
<p>a named list of covariate levels to exclude from
statistical tests in the form list(varname =c('level1','level2')). These
levels will be excluded from association tests, but not the table. This can
be useful for levels where there is a logical skip (ie not missing, but not
presented). Ignored if pvalue=FALSE.</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_numobs">numobs</code></td>
<td>
<p>named list overriding the number of people you expect to have
the covariate</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
<tr><td><code id="rm_covsum_+3A_chunk_label">chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Comparisons for categorical variables default to chi-square tests, but if
there are counts of &lt;5 then the Fisher Exact test will be used and if this is
unsuccessful then a second attempt will be made computing p-values using MC
simulation. If testcont='ANOVA' then the t-test with unequal variance will be
used for two groups and an ANOVA will be used for three or more. The
statistical test used can be displayed by specifying show.tests=TRUE.
</p>
<p>Effect size can be obtained when p-value is requested.
</p>
<p>Further formatting options are available using tableOnly=TRUE and outputting
the table with a call to outTable.
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>References</h3>

<p>Ellis, P.D. (2010) The essential guide to effect sizes:
statistical power, meta-analysis, and the interpretation of research
results. Cambridge: Cambridge University Press.<a href="https://doi.org/10.1017/CBO9780511761676">doi:10.1017/CBO9780511761676</a>
</p>
<p>Lakens, D. (2013)  Calculating and reporting effect sizes to
facilitate cumulative science: a practical primer for t-tests and ANOVAs.
Frontiers in Psychology, 4; 863:1-12. <a href="https://doi.org/10.3389/fpsyg.2013.00863">doi:10.3389/fpsyg.2013.00863</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+covsum">covsum</a></code>,<code><a href="stats.html#topic+fisher.test">fisher.test</a></code>,
<code><a href="stats.html#topic+chisq.test">chisq.test</a></code>, <code><a href="stats.html#topic+wilcox.test">wilcox.test</a></code>,
<code><a href="stats.html#topic+kruskal.test">kruskal.test</a></code>, <code><a href="stats.html#topic+anova">anova</a></code>, <code><a href="rstatix.html#topic+cramer_v">cramer_v</a></code>,
<code><a href="rstatix.html#topic+eta_squared">eta_squared</a></code>, and <code><a href="#topic+outTable">outTable</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
rm_covsum(data=pembrolizumab, maincov = 'orr',
covs=c('age','sex','pdl1','tmb','l_size','change_ctdna_group'),
show.tests=TRUE)

# To Show Effect Sizes
rm_covsum(data=pembrolizumab, maincov = 'orr',
covs=c('age','sex'),
effSize=TRUE)

# To make custom changes or change the fontsize in PDF/HTML
tab &lt;- rm_covsum(data=pembrolizumab,maincov = 'change_ctdna_group',
covs=c('age','sex','pdl1','tmb','l_size'),show.tests=TRUE,tableOnly = TRUE)
outTable(tab, fontsize=7)

# To return unformatted p-values
tab &lt;- rm_covsum(data=pembrolizumab, maincov = 'orr',
covs=c('age','sex','pdl1','tmb','l_size','change_ctdna_group'),
show.tests=TRUE,unformattedp=TRUE,tableOnly=TRUE)
outTable(tab,digits=5)
outTable(tab,digits=5, applyAttributes=FALSE) # remove bold/indent
</code></pre>

<hr>
<h2 id='rm_mvsum'>Format a regression model nicely for 'Rmarkdown'</h2><span id='topic+rm_mvsum'></span>

<h3>Description</h3>

<p>Multivariable (or univariate) regression models are re-formatted for
reporting and a global p-value is added for the evaluation of factor
variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_mvsum(
  model,
  data,
  digits = getOption("reportRmd.digits", 2),
  covTitle = "",
  showN = TRUE,
  showEvent = TRUE,
  CIwidth = 0.95,
  vif = TRUE,
  caption = NULL,
  tableOnly = FALSE,
  p.adjust = "none",
  unformattedp = FALSE,
  nicenames = TRUE,
  chunk_label,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_mvsum_+3A_model">model</code></td>
<td>
<p>model fit</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_data">data</code></td>
<td>
<p>data that model was fit on (an attempt will be made to extract
this from the model)</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_digits">digits</code></td>
<td>
<p>number of digits to round estimates to, does not affect
p-values</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_covtitle">covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_shown">showN</code></td>
<td>
<p>boolean indicating sample sizes should be shown for each
comparison, can be useful for interactions</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_showevent">showEvent</code></td>
<td>
<p>boolean indicating if number of events should be shown. Only
available for logistic.</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width for confidence intervals, defaults to 0.95</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_vif">vif</code></td>
<td>
<p>boolean indicating if the variance inflation factor should be
included. See details</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_caption">caption</code></td>
<td>
<p>table caption</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_tableonly">tableOnly</code></td>
<td>
<p>boolean indicating if unformatted table should be returned</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_p.adjust">p.adjust</code></td>
<td>
<p>p-adjustments to be performed (Global p-values only)</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_unformattedp">unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Should be used
in conjuction with the digits argument.</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_chunk_label">chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td></tr>
<tr><td><code id="rm_mvsum_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Global p-values are likelihood ratio tests for lm, glm and polr models. For
lme models an attempt is made to re-fit the model using ML and if,successful
LRT is used to obtain a global p-value. For coxph models the model is re-run
without robust variances with and without each variable and a LRT is
presented. If unsuccessful a Wald p-value is returned. For GEE and CRR models
Wald global p-values are returned. For negative binomial models a deviance
test is used.
</p>
<p>If the variance inflation factor is requested (VIF=T) then a generalised VIF
will be calculated in the same manner as the car package.
</p>
<p>The number of decimals places to display the statistics can be changed with
digits, but this will not change the display of p-values. If more significant
digits are required for p-values then use tableOnly=TRUE and format as
desired.
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>References</h3>

<p>John Fox &amp; Georges Monette (1992) Generalized Collinearity
Diagnostics, Journal of the American Statistical Association, 87:417,
178-183, <a href="https://doi.org/10.1080/01621459.1992.10475190">doi:10.1080/01621459.1992.10475190</a>
</p>
<p>John Fox and Sanford Weisberg (2019). An R Companion to
Applied Regression, Third Edition. Thousand Oaks CA: Sage.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("pembrolizumab")
glm_fit = glm(change_ctdna_group~sex:age+baseline_ctdna+l_size,
data=pembrolizumab,family = 'binomial')
rm_mvsum(glm_fit)

#linear model with p-value adjustment
lm_fit=lm(baseline_ctdna~age+sex+l_size+tmb,data=pembrolizumab)
rm_mvsum(lm_fit,p.adjust = "bonferroni")
#Coxph
require(survival)
res.cox &lt;- coxph(Surv(os_time, os_status) ~ sex+age+l_size+tmb, data = pembrolizumab)
rm_mvsum(res.cox, vif=TRUE)
</code></pre>

<hr>
<h2 id='rm_survdiff'>Display event counts, expected event counts and logrank test of differences</h2><span id='topic+rm_survdiff'></span>

<h3>Description</h3>

<p>This is a wrapper function around the survdiff function to display overall
event rates and group-specific rates along with the log-rank test of a
difference in survival between groups in a single table suitable for markdown
output. Median survival times are included by default but can be removed
setting median=FALSE
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_survdiff(
  data,
  time,
  status,
  covs,
  strata,
  includeVarNames = FALSE,
  digits = 1,
  showCols = c("N", "Observed", "Expected"),
  CIwidth = 0.95,
  conf.type = "log",
  caption = NULL,
  tableOnly = FALSE,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_survdiff_+3A_data">data</code></td>
<td>
<p>data frame containing survival data</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_time">time</code></td>
<td>
<p>string indicating survival time variable</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_status">status</code></td>
<td>
<p>string indicating event status variable</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_covs">covs</code></td>
<td>
<p>character vector indicating variables to group observations by</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_strata">strata</code></td>
<td>
<p>string indicating the variable to stratify observations by</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_includevarnames">includeVarNames</code></td>
<td>
<p>boolean indicating if the variable names should be
included in the output table, default is FALSE</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_digits">digits</code></td>
<td>
<p>the number of digits in the survival rate</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_showcols">showCols</code></td>
<td>
<p>character vector indicating which of the optional columns to
display, defaults to c('N','Observed','Expected')</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width of the median survival estimates, default is 95%</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_conf.type">conf.type</code></td>
<td>
<p>type of confidence interval see <code><a href="survival.html#topic+survfit">survfit</a></code> for
details. Default is 'log'.</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_caption">caption</code></td>
<td>
<p>table caption</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_tableonly">tableOnly</code></td>
<td>
<p>should a dataframe or a formatted object be returned</p>
</td></tr>
<tr><td><code id="rm_survdiff_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the survival table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+survdiff">survdiff</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#' # Differences between sex
data("pembrolizumab")
rm_survdiff(data=pembrolizumab,time='os_time',status='os_status',
covs='sex',digits=1)

# Differences between sex, stratified by cohort
rm_survdiff(data=pembrolizumab,time='os_time',status='os_status',
covs='sex',strata='cohort',digits=1)
# Differences between sex/cohort groups
rm_survdiff(data=pembrolizumab,time='os_time',status='os_status',
covs=c('sex','cohort'),digits=1)
</code></pre>

<hr>
<h2 id='rm_survsum'>Summarise survival data by group</h2><span id='topic+rm_survsum'></span>

<h3>Description</h3>

<p>Displays event counts, median survival time and survival rates at specified
times points for the entire cohort and by group. The logrank test of
differences in survival curves is displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_survsum(
  data,
  time,
  status,
  group = NULL,
  survtimes = NULL,
  survtimeunit,
  survtimesLbls = NULL,
  CIwidth = 0.95,
  unformattedp = FALSE,
  conf.type = "log",
  na.action = "na.omit",
  showCounts = TRUE,
  showLogrank = TRUE,
  eventProb = FALSE,
  digits = getOption("reportRmd.digits", 2),
  caption = NULL,
  tableOnly = FALSE,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_survsum_+3A_data">data</code></td>
<td>
<p>data frame containing survival data</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_time">time</code></td>
<td>
<p>string indicating survival time variable</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_status">status</code></td>
<td>
<p>string indicating event status variable</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_group">group</code></td>
<td>
<p>string or character vector indicating the variable(s) to group
observations by. If this is left as NULL (the default) then summaries are
provided for the entire cohort.</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_survtimes">survtimes</code></td>
<td>
<p>numeric vector specifying when survival probabilities should
be calculated.</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_survtimeunit">survtimeunit</code></td>
<td>
<p>unit of time to suffix to the time column label if
survival probabilities are requested, should be plural</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_survtimeslbls">survtimesLbls</code></td>
<td>
<p>if supplied, a vector the same length as survtimes with
descriptions (useful for displaying years with data provided in months)</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width of the survival probabilities, default is 95%</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_unformattedp">unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Should be used
in conjunction with the digits argument.</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_conf.type">conf.type</code></td>
<td>
<p>type of confidence interval see <code><a href="survival.html#topic+survfit">survfit</a></code> for
details. Default is 'log'.</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_na.action">na.action</code></td>
<td>
<p>default is to omit missing values, but can be set to throw
and error using na.action='na.fail'</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_showcounts">showCounts</code></td>
<td>
<p>boolean indicating if the at risk, events and censored
columns should be output; default is TRUE</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_showlogrank">showLogrank</code></td>
<td>
<p>boolean indicating if the log-rank test statistic and
p-value should be output; default is TRUE</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_eventprob">eventProb</code></td>
<td>
<p>boolean indicating if event probabilities, rather than
survival probabilities, should be displayed; default is FALSE</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_digits">digits</code></td>
<td>
<p>the number of digits in the survival rate, default is 2, unless
the reportRmd.digits option is set</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_caption">caption</code></td>
<td>
<p>table caption for markdown output</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_tableonly">tableOnly</code></td>
<td>
<p>should a dataframe or a formatted object be returned</p>
</td></tr>
<tr><td><code id="rm_survsum_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This summary table is supplied for simple group comparisons only. To examine
differences in groups with stratification see <code><a href="#topic+rm_survdiff">rm_survdiff</a></code>. To
summarise differences in survival rates controlling for covariates see
<code><a href="#topic+rm_survtime">rm_survtime</a></code>.
</p>


<h3>Value</h3>

<p>A character vector of the survival table source code, unless
tableOnly=TRUE in which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+survfit">survfit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Simple median survival table
data("pembrolizumab")
rm_survsum(data=pembrolizumab,time='os_time',status='os_status')

# Survival table with yearly survival rates
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
survtimes=c(12,24),survtimesLbls=1:2, survtimeunit='yr')

#Median survival by group
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',group='sex')

# Survival Summary by cohort, displayed in years
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
group="cohort",survtimes=seq(12,72,12),
survtimesLbls=seq(1,6,1),
survtimeunit='years')

# Survival Summary by Sex and ctDNA group
rm_survsum(data=pembrolizumab,time='os_time',status='os_status',
group=c('sex','change_ctdna_group'),survtimes=c(12,24),survtimeunit='mo')

</code></pre>

<hr>
<h2 id='rm_survtime'>Display survival rates and events for specified times</h2><span id='topic+rm_survtime'></span>

<h3>Description</h3>

<p>This is a wrapper for the survfit function to output a tidy display for
reporting. Either Kaplan Meier or Cox Proportional Hazards models may be used
to estimate the survival probabilities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_survtime(
  data,
  time,
  status,
  covs = NULL,
  strata = NULL,
  type = "KM",
  survtimes,
  survtimeunit,
  strata.prefix = NULL,
  survtimesLbls = NULL,
  showCols = c("At Risk", "Events", "Censored"),
  CIwidth = 0.95,
  conf.type = "log",
  na.action = "na.omit",
  showCounts = TRUE,
  digits = getOption("reportRmd.digits", 2),
  caption = NULL,
  tableOnly = FALSE,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_survtime_+3A_data">data</code></td>
<td>
<p>data frame containing survival data</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_time">time</code></td>
<td>
<p>string indicating survival time variable</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_status">status</code></td>
<td>
<p>string indicating event status variable</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of variables to adjust for in
coxph fit</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_strata">strata</code></td>
<td>
<p>string indicating the variable to group observations by. If
this is left as NULL (the default) then event counts and survival rates are
provided for the entire cohort.</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_type">type</code></td>
<td>
<p>survival function, if no covs are specified defaults to
Kaplan-Meier, otherwise the Cox PH model is fit. Use type='PH' to fit a Cox
PH model with no covariates.</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_survtimes">survtimes</code></td>
<td>
<p>numeric vector specifying when survival probabilities should
be calculated.</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_survtimeunit">survtimeunit</code></td>
<td>
<p>unit of time to suffix to the time column label if
survival probabilities are requested, should be plural</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_strata.prefix">strata.prefix</code></td>
<td>
<p>character value describing the grouping variable</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_survtimeslbls">survtimesLbls</code></td>
<td>
<p>if supplied, a vector the same length as survtimes with
descriptions (useful for displaying years with data provided in months)</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_showcols">showCols</code></td>
<td>
<p>character vector specifying which of the optional columns to
display, defaults to c('At Risk','Events','Censored')</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width of the survival probabilities, default is 95%</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_conf.type">conf.type</code></td>
<td>
<p>type of confidence interval see <code><a href="survival.html#topic+survfit">survfit</a></code> for
details. Default is 'log'.</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_na.action">na.action</code></td>
<td>
<p>default is to omit missing values, but can be set to throw
and error using na.action='na.fail'</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_showcounts">showCounts</code></td>
<td>
<p>boolean indicating if the at risk, events and censored
columns should be output, default is TRUE</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_digits">digits</code></td>
<td>
<p>the number of digits in the survival rate, default is 2.</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_caption">caption</code></td>
<td>
<p>table caption for markdown output</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_tableonly">tableOnly</code></td>
<td>
<p>should a dataframe or a formatted object be returned</p>
</td></tr>
<tr><td><code id="rm_survtime_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If covariates are supplied then a Cox proportional hazards model is fit for
the entire cohort and each strata. Otherwise the default is for Kaplan-Meier
estimates. Setting type = 'PH' will force a proportional hazards model.
</p>


<h3>Value</h3>

<p>A character vector of the survival table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+survfit">survfit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Kaplan-Mieir survival probabilities with time displayed in years
data("pembrolizumab")
rm_survtime(data=pembrolizumab,time='os_time',status='os_status',
strata="cohort",type='KM',survtimes=seq(12,72,12),
survtimesLbls=seq(1,6,1),
survtimeunit='years')

# Cox Proportional Hazards survivial probabilities
rm_survtime(data=pembrolizumab,time='os_time',status='os_status',
strata="cohort",type='PH',survtimes=seq(12,72,12),survtimeunit='months')

# Cox Proportional Hazards survivial probabilities controlling for age
rm_survtime(data=pembrolizumab,time='os_time',status='os_status',
covs='age',strata="cohort",survtimes=seq(12,72,12),survtimeunit='months')

</code></pre>

<hr>
<h2 id='rm_uv_mv'>Combine univariate and multivariable regression tables</h2><span id='topic+rm_uv_mv'></span>

<h3>Description</h3>

<p>This function will combine rm_uvsum and rm_mvsum outputs into a single table.
The tableOnly argument must be set to TRUE when tables to be combined are
created. The resulting table will be in the same order as the uvsum table and
will contain the same columns as the uvsum and mvsum tables, but the p-values
will be combined into a single column. There must be a variable overlapping
between the uvsum and mvsum tables and all variables in the mvsum table must
also appear in the uvsum table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_uv_mv(
  uvsumTable,
  mvsumTable,
  covTitle = "",
  vif = FALSE,
  showN = FALSE,
  showEvent = FALSE,
  caption = NULL,
  tableOnly = FALSE,
  chunk_label,
  fontsize
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_uv_mv_+3A_uvsumtable">uvsumTable</code></td>
<td>
<p>Output from rm_uvsum, with tableOnly=TRUE</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_mvsumtable">mvsumTable</code></td>
<td>
<p>Output from rm_mvsum, with tableOnly=TRUE</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_covtitle">covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_vif">vif</code></td>
<td>
<p>boolean indicating if the variance inflation factor should be
shown if present in the mvsumTable. Default is FALSE.</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_shown">showN</code></td>
<td>
<p>boolean indicating if sample sizes should be displayed.</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_showevent">showEvent</code></td>
<td>
<p>boolean indicating if number of events (dichotomous
outcomes) should be displayed.</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_caption">caption</code></td>
<td>
<p>table caption</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_tableonly">tableOnly</code></td>
<td>
<p>boolean indicating if unformatted table should be returned</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_chunk_label">chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td></tr>
<tr><td><code id="rm_uv_mv_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rm_uvsum">rm_uvsum</a></code>,<code><a href="#topic+rm_mvsum">rm_mvsum</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(survival)
data("pembrolizumab")
uvTab &lt;- rm_uvsum(response = c('os_time','os_status'),
covs=c('age','sex','baseline_ctdna','l_size','change_ctdna_group'),
data=pembrolizumab,tableOnly=TRUE)
mv_surv_fit &lt;- coxph(Surv(os_time,os_status)~age+sex+
baseline_ctdna+l_size+change_ctdna_group, data=pembrolizumab)
uvTab &lt;- rm_mvsum(mv_surv_fit)

#linear model
uvtab&lt;-rm_uvsum(response = 'baseline_ctdna',
covs=c('age','sex','l_size','pdl1','tmb'),
data=pembrolizumab,tableOnly=TRUE)
lm_fit=lm(baseline_ctdna~age+sex+l_size+tmb,data=pembrolizumab)
mvtab&lt;-rm_mvsum(lm_fit,tableOnly = TRUE)
rm_uv_mv(uvtab,mvtab,tableOnly=TRUE)

#logistic model
uvtab&lt;-rm_uvsum(response = 'os_status',
covs=c('age','sex','l_size','pdl1','tmb'),
data=pembrolizumab,family = binomial,tableOnly=TRUE)
logis_fit&lt;-glm(os_status~age+sex+l_size+pdl1+tmb,data = pembrolizumab,family = 'binomial')
mvtab&lt;-rm_mvsum(logis_fit,tableOnly = TRUE)
rm_uv_mv(uvtab,mvtab,tableOnly=TRUE)
</code></pre>

<hr>
<h2 id='rm_uvsum'>Output several univariate models nicely in a single table</h2><span id='topic+rm_uvsum'></span>

<h3>Description</h3>

<p>A table with the model parameters from running separate univariate models on
each covariate. For factors with more than two levels a Global p-value is
returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_uvsum(
  response,
  covs,
  data,
  digits = getOption("reportRmd.digits", 2),
  covTitle = "",
  caption = NULL,
  tableOnly = FALSE,
  removeInf = FALSE,
  p.adjust = "none",
  unformattedp = FALSE,
  chunk_label,
  gee = FALSE,
  id = NULL,
  corstr = NULL,
  family = NULL,
  type = NULL,
  offset,
  strata = 1,
  nicenames = TRUE,
  showN = TRUE,
  showEvent = TRUE,
  CIwidth = 0.95,
  reflevel = NULL,
  returnModels = FALSE,
  fontsize,
  forceWald
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_uvsum_+3A_response">response</code></td>
<td>
<p>string vector with name of response</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of columns to fit univariate
models to</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_digits">digits</code></td>
<td>
<p>number of digits to round estimates and CI to. Does not affect
p-values.</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_covtitle">covTitle</code></td>
<td>
<p>character with the names of the covariate (predictor) column.
The default is to leave this empty for output or, for table only output to
use the column name 'Covariate'.</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_caption">caption</code></td>
<td>
<p>character containing table caption (default is no caption)</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_tableonly">tableOnly</code></td>
<td>
<p>boolean indicating if unformatted table should be returned</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_removeinf">removeInf</code></td>
<td>
<p>boolean indicating if infinite estimates should be removed
from the table</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_p.adjust">p.adjust</code></td>
<td>
<p>p-adjustments to be performed (Global p-values only)</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_unformattedp">unformattedp</code></td>
<td>
<p>boolean indicating if you would like the p-value to be
returned unformatted (ie not rounded or prefixed with '&lt;'). Should be used
in conjunction with the digits argument.</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_chunk_label">chunk_label</code></td>
<td>
<p>only used if output is to Word to allow cross-referencing</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_gee">gee</code></td>
<td>
<p>boolean indicating if gee models should be fit to account for
correlated observations. If TRUE then the id argument must specify the
column in the data which indicates the correlated clusters.</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_id">id</code></td>
<td>
<p>character vector which identifies clusters. Only used for geeglm</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_corstr">corstr</code></td>
<td>
<p>character string specifying the correlation structure. Only
used for geeglm. The following are permitted: '&quot;independence&quot;',
'&quot;exchangeable&quot;', '&quot;ar1&quot;', '&quot;unstructured&quot;' and '&quot;userdefined&quot;'</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_family">family</code></td>
<td>
<p>description of the error distribution and link function to be
used in the model. Only used for geeglm</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_type">type</code></td>
<td>
<p>string indicating the type of univariate model to fit. The
function will try and guess what type you want based on your response. If
you want to override this you can manually specify the type. Options
include &quot;linear&quot;, &quot;logistic&quot;, &quot;poisson&quot;,coxph&quot;, &quot;crr&quot;, &quot;boxcox&quot;, &quot;ordinal&quot;,
&quot;geeglm&quot;</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_offset">offset</code></td>
<td>
<p>string specifying the offset term to be used for Poisson or
negative binomial regression. Example: offset=&quot;log(follow_up)&quot;</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_strata">strata</code></td>
<td>
<p>character vector of covariates to stratify by. Only used for
coxph and crr</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_shown">showN</code></td>
<td>
<p>boolean indicating if you want to show sample sizes</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_showevent">showEvent</code></td>
<td>
<p>boolean indicating if you want to show number of events. Only
available for logistic.</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width of confidence interval, default is 0.95</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_reflevel">reflevel</code></td>
<td>
<p>manual specification of the reference level. Only used for
ordinal regression This will allow you to see which model is not fitting if
the function throws an error</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_returnmodels">returnModels</code></td>
<td>
<p>boolean indicating if a list of fitted models should be
returned. If this is TRUE then the models will be returned, but the output
will be suppressed. In addition to the model elements a data element will
be appended to each model so that the fitted data can be examined, if
necessary. See Details</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_fontsize">fontsize</code></td>
<td>
<p>PDF/HTML output only, manually set the table fontsize</p>
</td></tr>
<tr><td><code id="rm_uvsum_+3A_forcewald">forceWald</code></td>
<td>
<p>boolean indicating if Wald confidence intervals should be
used instead of profile likelihood. This is not recommended, but can speed
up computations. To use throughout a document use
options(reportRmd.forceWald=TRUE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Global p-values are likelihood ratio tests for lm, glm and polr models. For
lme models an attempt is made to re-fit the model using ML and if,successful
LRT is used to obtain a global p-value. For coxph models the model is re-run
without robust variances with and without each variable and a LRT is
presented. If unsuccessful a Wald p-value is returned. For GEE and CRR models
Wald global p-values are returned.
</p>
<p>The number of decimals places to display the statistics can be changed with
digits, but this will not change the display of p-values. If more significant
digits are required for p-values then use tableOnly=TRUE and format as
desired.
</p>


<h3>Value</h3>

<p>A character vector of the table source code, unless tableOnly=TRUE in
which case a data frame is returned
</p>


<h3>See Also</h3>

<p><code><a href="#topic+uvsum">uvsum</a></code>,<code><a href="stats.html#topic+lm">lm</a></code>,<code><a href="stats.html#topic+glm">glm</a></code>,<code><a href="cmprsk.html#topic+crr">crr</a></code>,
<code><a href="survival.html#topic+coxph">coxph</a></code>,
<code><a href="nlme.html#topic+lme">lme</a></code>,<code><a href="geepack.html#topic+geeglm">geeglm</a></code>,<code><a href="MASS.html#topic+polr">polr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Examples are for demonstration and are not meaningful
# Coxph model with 90% CI
data("pembrolizumab")
rm_uvsum(response = c('os_time','os_status'),
covs=c('age','sex','baseline_ctdna','l_size','change_ctdna_group'),
data=pembrolizumab,CIwidth=.9)

# Linear model with default 95% CI
rm_uvsum(response = 'baseline_ctdna',
covs=c('age','sex','l_size','pdl1','tmb'),
data=pembrolizumab)

# Logistic model with default 95% CI
rm_uvsum(response = 'os_status',
covs=c('age','sex','l_size','pdl1','tmb'),
data=pembrolizumab,family = binomial)
# Poisson models returned as model list
mList &lt;- rm_uvsum(response = 'baseline_ctdna',
covs=c('age','sex','l_size','pdl1','tmb'),
data=pembrolizumab, returnModels=TRUE)
#'
# GEE on correlated outcomes
data("ctDNA")
rm_uvsum(response = 'size_change',
covs=c('time','ctdna_status'),
gee=TRUE,
id='id', corstr="exchangeable",
family=gaussian("identity"),
data=ctDNA,showN=TRUE)
</code></pre>

<hr>
<h2 id='rmds'>Replace dollar signs with html for proper HTML output</h2><span id='topic+rmds'></span>

<h3>Description</h3>

<p>Replace dollar signs with html for proper HTML output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmds(s)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmds_+3A_s">s</code></td>
<td>
<p>a character vector</p>
</td></tr>
</table>

<hr>
<h2 id='sanitizestr'>Sanitizes strings to not break LaTeX</h2><span id='topic+sanitizestr'></span>

<h3>Description</h3>

<p>Strings with special charaters will break LaTeX if returned 'asis' by knitr.
This happens every time we use one of the main reportRx functions. We first
sanitize our strings with this function to stop LaTeX from breaking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sanitizestr(str)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sanitizestr_+3A_str">str</code></td>
<td>
<p>a vector of strings to sanitize</p>
</td></tr>
</table>

<hr>
<h2 id='set_labels'>Set variable labels</h2><span id='topic+set_labels'></span>

<h3>Description</h3>

<p>Assign variable labels to a data.frame from a lookup table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_labels(data, names_labels)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_labels_+3A_data">data</code></td>
<td>
<p>data frame to be labelled</p>
</td></tr>
<tr><td><code id="set_labels_+3A_names_labels">names_labels</code></td>
<td>
<p>data frame with column 1 containing variable names from
data and column 2 containing variable labels. Other columns will be
ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Useful if variable labels have been imported from a data dictionary. The
first column in names_labels must contain the variable name and the second
column the variable label. The column names are not used.
</p>
<p>If no label is provided then the existing label will not be changed. To
remove a label set the label to NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create data frame with labels
lbls &lt;- data.frame(c1=c('cohort','size_change'),
c2=c('Cancer cohort','Change in tumour size'))
# set labels and return labelled data frame
set_labels(ctDNA,lbls)
</code></pre>

<hr>
<h2 id='set_var_labels'>Set variable labels</h2><span id='topic+set_var_labels'></span>

<h3>Description</h3>

<p>Set variable labels for a data frame using name-label pairs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_var_labels(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_var_labels_+3A_data">data</code></td>
<td>
<p>data frame containing variables to be labelled</p>
</td></tr>
<tr><td><code id="set_var_labels_+3A_...">...</code></td>
<td>
<p>Name-label pairs the name gives the name of the column in the
output and the label is a character vector of length one.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no label is provided for a variable then the existing label will not be
changed. To remove a label set the label to NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># set labels using name-label pairs
# and return labelled data frame
ctDNA |&gt; set_var_labels(
   ctdna_status="detectable ctDNA",
  cohort="A cohort label")
</code></pre>

<hr>
<h2 id='testData'>Funky ctDNA data
There is a weird factor with all one level, the cohort variable contains a cohort level (and Cohort A) and for one cohort all the size changes are missing</h2><span id='topic+testData'></span>

<h3>Description</h3>

<p>Funky ctDNA data
</p>
<p>There is a weird factor with all one level, the cohort variable contains a cohort level (and Cohort A) and for one cohort all the size changes are missing
</p>


<h3>Usage</h3>

<pre><code class='language-R'>testData
</code></pre>


<h3>Format</h3>

<p>A data frame with 270 rows and 6 variables:
</p>

<dl>
<dt>id</dt><dd><p>Patient ID</p>
</dd>
<dt>cohort</dt><dd><p>Study Cohort: A = Squamous cell carcinoma of soft pallate, B = Triple negative breast cancer, C = Ovarian, high grade serous, D = Melanoma, E = Other Solid Tumor, cohort -for testing only</p>
</dd>
<dt>badfactor</dt><dd><p>for testing</p>
</dd>
<dt>ctdna_status</dt><dd><p>Change in ctDNA since baseline</p>
</dd>
<dt>time</dt><dd><p>Number of weeks on treatment</p>
</dd>
<dt>size_change</dt><dd><p>Percentage change in tumour measurement</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.nature.com/articles/s43018-020-0096-5">https://www.nature.com/articles/s43018-020-0096-5</a>
</p>

<hr>
<h2 id='uvsum'>Get univariate summary dataframe</h2><span id='topic+uvsum'></span>

<h3>Description</h3>

<p>Returns a dataframe corresponding to a univariate regression table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>uvsum(
  response,
  covs,
  data,
  digits = getOption("reportRmd.digits", 2),
  id = NULL,
  corstr = NULL,
  family = NULL,
  type = NULL,
  offset = NULL,
  gee = FALSE,
  strata = 1,
  markup = TRUE,
  sanitize = TRUE,
  nicenames = TRUE,
  showN = TRUE,
  showEvent = TRUE,
  CIwidth = 0.95,
  reflevel = NULL,
  returnModels = FALSE,
  forceWald
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="uvsum_+3A_response">response</code></td>
<td>
<p>string vector with name of response</p>
</td></tr>
<tr><td><code id="uvsum_+3A_covs">covs</code></td>
<td>
<p>character vector with the names of columns to fit univariate
models to</p>
</td></tr>
<tr><td><code id="uvsum_+3A_data">data</code></td>
<td>
<p>dataframe containing data</p>
</td></tr>
<tr><td><code id="uvsum_+3A_digits">digits</code></td>
<td>
<p>number of digits to round to</p>
</td></tr>
<tr><td><code id="uvsum_+3A_id">id</code></td>
<td>
<p>character vector which identifies clusters. Used for GEE and coxph
models.</p>
</td></tr>
<tr><td><code id="uvsum_+3A_corstr">corstr</code></td>
<td>
<p>character string specifying the correlation structure. Only used
for geeglm. The following are permitted: '&quot;independence&quot;', '&quot;exchangeable&quot;',
'&quot;ar1&quot;', '&quot;unstructured&quot;' and '&quot;userdefined&quot;'</p>
</td></tr>
<tr><td><code id="uvsum_+3A_family">family</code></td>
<td>
<p>specify details of the model used. This argument does not need
to be specified and should be used with caution. By default, gaussian errors
are used for linear models, the binomial family with logit link is used for
logistic regression and poisson with log link is used for poisson
regression. This can be specified with the type argument, or will be
inferred from the data type. See <code><a href="stats.html#topic+family">family</a></code>. Ignored for ordinal
and survival regression and if the type argument is not explicitly
specified.</p>
</td></tr>
<tr><td><code id="uvsum_+3A_type">type</code></td>
<td>
<p>string indicating he type of univariate model to fit. The function
will try and guess what type you want based on your response. If you want to
override this you can manually specify the type. Options include &quot;linear&quot;,
&quot;logistic&quot;, &quot;poisson&quot;, coxph&quot;, &quot;crr&quot;, &quot;boxcox&quot;, &quot;ordinal&quot; and &quot;negbin&quot;</p>
</td></tr>
<tr><td><code id="uvsum_+3A_offset">offset</code></td>
<td>
<p>string specifying the offset term to be used for Poisson or
negative binomial regression. Example: offset=&quot;log(follow_up)&quot;</p>
</td></tr>
<tr><td><code id="uvsum_+3A_gee">gee</code></td>
<td>
<p>boolean indicating if gee models should be fit to account for
correlated observations. If TRUE then the id argument must specify the
column in the data which indicates the correlated clusters.</p>
</td></tr>
<tr><td><code id="uvsum_+3A_strata">strata</code></td>
<td>
<p>character vector of covariates to stratify by. Only used for
coxph and crr</p>
</td></tr>
<tr><td><code id="uvsum_+3A_markup">markup</code></td>
<td>
<p>boolean indicating if you want latex markup</p>
</td></tr>
<tr><td><code id="uvsum_+3A_sanitize">sanitize</code></td>
<td>
<p>boolean indicating if you want to sanitize all strings to not
break LaTeX</p>
</td></tr>
<tr><td><code id="uvsum_+3A_nicenames">nicenames</code></td>
<td>
<p>boolean indicating if you want to replace . and _ in strings
with a space</p>
</td></tr>
<tr><td><code id="uvsum_+3A_shown">showN</code></td>
<td>
<p>boolean indicating if you want to show sample sizes</p>
</td></tr>
<tr><td><code id="uvsum_+3A_showevent">showEvent</code></td>
<td>
<p>boolean indicating if you want to show number of events. Only
available for logistic.</p>
</td></tr>
<tr><td><code id="uvsum_+3A_ciwidth">CIwidth</code></td>
<td>
<p>width of confidence interval, default is 0.95</p>
</td></tr>
<tr><td><code id="uvsum_+3A_reflevel">reflevel</code></td>
<td>
<p>manual specification of the reference level. Only used for
ordinal. This may allow you to debug if the function throws an error.</p>
</td></tr>
<tr><td><code id="uvsum_+3A_returnmodels">returnModels</code></td>
<td>
<p>boolean indicating if a list of fitted models should be
returned.</p>
</td></tr>
<tr><td><code id="uvsum_+3A_forcewald">forceWald</code></td>
<td>
<p>boolean indicating if Wald confidence intervals should be
used instead of profile likelihood. This is not recommended, but can speed
up computations. To use throughout a document use
options(reportRmd.forceWald=TRUE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Univariate summaries for a number of covariates, the type of model can be
specified. If unspecified the function will guess the appropriate model based
on the response variable.
</p>
<p>Confidence intervals are extracted using confint where possible. Otherwise
Student t distribution is used for linear models and the Normal distribution
is used for proportions.
</p>
<p>returnModels can be used to return a list of the univariate models, which will
be the same length as covs. The data used to run each model will include all
cases with observations on the response and covariate. For gee models the data
are re-ordered so that the ids appear sequentially and proper estimates are
given.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code>,<code><a href="stats.html#topic+glm">glm</a></code>,<code><a href="cmprsk.html#topic+crr">crr</a></code>,<code><a href="survival.html#topic+coxph">coxph</a></code>,
<code><a href="nlme.html#topic+lme">lme</a></code>,<code><a href="geepack.html#topic+geeglm">geeglm</a></code>,<code><a href="MASS.html#topic+polr">polr</a></code>,<code><a href="MASS.html#topic+glm.nb">glm.nb</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rjdqa</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rjdqa}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#plot.sc_dashboard'><p>Plot a Statistics Canada seasonal adjustment dashboard</p></a></li>
<li><a href='#plot.simple_dashboard'><p>Plot a simple seasonal adjustment dashboard</p></a></li>
<li><a href='#sc_dashboard'><p>Compute data for the Statistics Canada seasonal adjustment dashboard</p></a></li>
<li><a href='#simple_dashboard'><p>Compute data for a simple seasonal adjustment</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Quality Assessment for Seasonal Adjustment</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Add-in to the 'RJDemetra' package on seasonal adjustments.
    It allows to produce dashboards to summarise models and quickly check the quality of the seasonal adjustment.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://joinup.ec.europa.eu/software/page/eupl">EUPL</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Java (&gt;= 8)</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.1), RJDemetra (&ge; 0.2.5),</td>
</tr>
<tr>
<td>Imports:</td>
<td>plotrix, ggdemetra (&ge; 0.2.5), utils, graphics, stats</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://aqlt.github.io/rjdqa/">https://aqlt.github.io/rjdqa/</a>, <a href="https://github.com/AQLT/rjdqa">https://github.com/AQLT/rjdqa</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/AQLT/rjdqa/issues">https://github.com/AQLT/rjdqa/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-15 21:21:33 UTC; alainquartierlatente</td>
</tr>
<tr>
<td>Author:</td>
<td>Alain Quartier-la-Tente
    <a href="https://orcid.org/0000-0001-7890-3857"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alain Quartier-la-Tente &lt;alain.quartier@yahoo.fr&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-15 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='plot.sc_dashboard'>Plot a Statistics Canada seasonal adjustment dashboard</h2><span id='topic+plot.sc_dashboard'></span>

<h3>Description</h3>

<p>Function to plot Statistics Canada dashboard of a seasonal adjustment model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'sc_dashboard'
plot(
  x,
  main = "Seasonal Adjustment Dashboard",
  subtitle = "",
  reference_date = TRUE,
  raw_color = "#33A02C",
  sa_color = "#E31A1C",
  trend_color = "black",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.sc_dashboard_+3A_x">x</code></td>
<td>
<p>a <code>"sc_dashboard"</code> object.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_main">main</code></td>
<td>
<p>main title.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_subtitle">subtitle</code></td>
<td>
<p>subtitle.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_reference_date">reference_date</code></td>
<td>
<p>boolean indicating if the reference date should be printed.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_raw_color">raw_color</code></td>
<td>
<p>color for the raw series.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_sa_color">sa_color</code></td>
<td>
<p>color for the seasonal adjusted series.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_trend_color">trend_color</code></td>
<td>
<p>color for the trend.</p>
</td></tr>
<tr><td><code id="plot.sc_dashboard_+3A_...">...</code></td>
<td>
<p>other parameters (unused).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sa_model()</code> reproduces Statistics Canada dashboard used to provide a snapshot snapshot of an single seasonal adjustment model at a point in time and to point out some possible problems (see references). 
</p>
<p>The dashboard is divided into four sections:
</p>

<ul>
<li><p> Recent History (top left panel): plot of the raw series, the seasonal adjusted series and the trend for the most recent periods (<code>n_recent_obs</code> last observations: 24 by default).  It is intended to identify trendF direction, overall volatility and obvious outliers.
</p>
</li>
<li><p> Summary of Key Diagnostics (top right panel): 
</p>

<ul>
<li><p> Adjustability (only for X13 models): M7 statistic. Colors: red if M7 &gt; 1.75, yellow if 1.25 &lt; M7 &lt; 1.75 and green if M7 &lt; 1.25.
</p>
</li>
<li><p> Residual seasonality: qs (auto-correlations at seasonal lags) and f (Friedman) test on seasonal adjusted series. Colors: red if p-value &lt; 0.01, yellow if 0.01 &lt; p-value &lt; 0.05 and green if p-value &gt; 0.05.
</p>
</li>
<li><p> Residual trading-days effects: f (Friedman) test on seasonal adjusted serie.  Colors: red if p-value &lt; 0.01, yellow if 0.01 &lt; p-value &lt; 0.05 and green if p-value &gt; 0.05.
</p>
</li>
<li><p> Independence of RegARIMA residuals: Ljung-Box test. Colors: red if p-value &lt; 0.01, yellow if 0.01 &lt; p-value &lt; 0.05 and green if p-value &gt; 0.05.
</p>
</li>
<li><p> Recent outliers on last (t) and penultimate (t-1) observation. Colors: Red if there is an extreme value (only for X13: when table C17 equals to 0), yellow if there is an outlier in the RegARIMA model and green otherwise.
</p>
</li></ul>

</li>
<li><p> Estimated Patterns and Anticipated Movements (middle panel): estimated trading day, moving holiday and seasonal pattern.  It presents expected movement in unadjusted series based on the current and previous period.
</p>
</li>
<li><p> Net Effect of Seasonal Adjustment (bottom panel): movement in the raw series, compared to typical ranges centered around “neutral” value (when the seasonal adjusted series of the last period is equal to the penultimate period).  It also shows the movement in the seasonally adjusted series, compared to typical ranges.
</p>
</li></ul>



<h3>References</h3>

<p>KIRCHNER R., LADIRAY D., MAZZI G. L. (2018), &quot;Quality Measures and Reporting for Seasonal Adjustment&quot;, edited by G. L. Mazzi, co-edited by D. Ladiray, European Union, Luxembourg. <a href="https://ec.europa.eu/eurostat/web/products-manuals-and-guidelines/-/KS-GQ-18-001">https://ec.europa.eu/eurostat/web/products-manuals-and-guidelines/-/KS-GQ-18-001</a>
</p>
<p>MATTHEWS S. (2016), &quot;Quality Assurance of Seasonal Adjustment for a Large System of Time Series&quot;, 36th International Symposium on Forecasting Santander, Spain.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sc_dashboard">sc_dashboard</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- window(RJDemetra::ipi_c_eu[, "FR"], start = 2003)
sa_model &lt;- RJDemetra::x13(data, "RSA5c")
dashboard_data &lt;- sc_dashboard(sa_model)
plot(dashboard_data, main = "My first seasonal adjustment dashboard",
     subtitle = "SA with X13")

</code></pre>

<hr>
<h2 id='plot.simple_dashboard'>Plot a simple seasonal adjustment dashboard</h2><span id='topic+plot.simple_dashboard'></span><span id='topic+plot.simple_dashboard2'></span>

<h3>Description</h3>

<p>Functions to plot a simple dashboard of a seasonal adjustment model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'simple_dashboard'
plot(
  x,
  main = "Simple Dashboard",
  subtitle = NULL,
  color_series = c(y = "#F0B400", t = "#1E6C0B", sa = "#155692"),
  reference_date = TRUE,
  ...
)

## S3 method for class 'simple_dashboard2'
plot(
  x,
  main = "Simple Dashboard with outliers",
  subtitle = NULL,
  color_series = c(y = "#F0B400", t = "#1E6C0B", sa = "#155692"),
  reference_date = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.simple_dashboard_+3A_x">x</code></td>
<td>
<p>a <code>"sc_dashboard"</code> object.</p>
</td></tr>
<tr><td><code id="plot.simple_dashboard_+3A_main">main</code></td>
<td>
<p>main title.</p>
</td></tr>
<tr><td><code id="plot.simple_dashboard_+3A_subtitle">subtitle</code></td>
<td>
<p>subtitle.</p>
</td></tr>
<tr><td><code id="plot.simple_dashboard_+3A_color_series">color_series</code></td>
<td>
<p>Color of the raw time series, the trend and the seasonally adjusted component.</p>
</td></tr>
<tr><td><code id="plot.simple_dashboard_+3A_reference_date">reference_date</code></td>
<td>
<p>boolean indicating if the reference date should be printed.</p>
</td></tr>
<tr><td><code id="plot.simple_dashboard_+3A_...">...</code></td>
<td>
<p>other parameters (unused).</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+simple_dashboard">simple_dashboard</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- window(RJDemetra::ipi_c_eu[, "FR"], start = 2003)
sa_model &lt;- RJDemetra::jx13(data, "RSA5c")
dashboard_data &lt;- simple_dashboard(sa_model)
plot(dashboard_data, main = "Simple dashboard IPI - FR")
dashboard_data2 &lt;- simple_dashboard2(sa_model)
plot(dashboard_data2, main = "Simple dashboard with outliers IPI - FR")
</code></pre>

<hr>
<h2 id='sc_dashboard'>Compute data for the Statistics Canada seasonal adjustment dashboard</h2><span id='topic+sc_dashboard'></span>

<h3>Description</h3>

<p>Function to compute the data to produce the Statistics Canada seasonal adjustment dashboard
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sc_dashboard(x, n_recent_obs = 24)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sc_dashboard_+3A_x">x</code></td>
<td>
<p>a seasonal adjustment model made by 'RJDemetra' (object of class <code>"SA"</code>).</p>
</td></tr>
<tr><td><code id="sc_dashboard_+3A_n_recent_obs">n_recent_obs</code></td>
<td>
<p>number of observation in the recent history panel (see details). By default <code>n_recent_obs = 24</code> (last 2 years for monthly data).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sa_model()</code> reproduces Statistics Canada dashboard used to provide a snapshot snapshot of an single seasonal adjustment model at a point in time and to point out some possible problems (see references). 
</p>
<p>The dashboard is divided into four sections:
</p>

<ul>
<li><p> Recent History (top left panel): plot of the raw series, the seasonal adjusted series and the trend for the most recent periods (<code>n_recent_obs</code> last observations: 24 by default).  It is intended to identify trend direction, overall volatility and obvious outliers.
</p>
</li>
<li><p> Summary of Key Diagnostics (top right panel): 
</p>

<ul>
<li><p> Adjustability (only for X13 models): M7 statistic. Colors: red if M7 <code class="reqn">\ge</code> 1.75, yellow if 1.25 <code class="reqn">\le</code> M7 &lt; 1.75 and green if M7 &lt; 1.25.
</p>
</li>
<li><p> Residual seasonality: qs (auto-correlations at seasonal lags) and f (Friedman) test on seasonal adjusted series. Colors: red if p-value <code class="reqn">\le</code> 0.01, yellow if 0.01 &lt; p-value <code class="reqn">\le</code> 0.05 and green if p-value &gt; 0.05.
</p>
</li>
<li><p> Residual trading-days effects: f (Friedman) test on seasonal adjusted serie.  Colors: red if p-value <code class="reqn">\le</code> 0.01, yellow if 0.01 &lt; p-value <code class="reqn">\le</code> 0.05 and green if p-value &gt; 0.05.
</p>
</li>
<li><p> Independence of RegARIMA residuals: Ljung-Box test. Colors: red if p-value <code class="reqn">\le</code> 0.01, yellow if 0.01 &lt; p-value <code class="reqn">\le</code> 0.05 and green if p-value &gt; 0.05.
</p>
</li>
<li><p> Recent outliers on last (t) and penultimate (t-1) observation. Colors: Red if there is an extreme value (only for X13: when table C17 equals to 0), yellow if there is an outlier in the RegARIMA model and green otherwise.
</p>
</li></ul>

</li>
<li><p> Estimated Patterns and Anticipated Movements (middle panel): estimated trading day, moving holiday and seasonal pattern.  It presents expected movement in unadjusted series based on the current and previous period.
</p>
</li>
<li><p> Net Effect of Seasonal Adjustment (bottom panel): movement in the raw series, compared to typical ranges centered around “neutral” value (when the seasonal adjusted series of the last period is equal to the penultimate period).  It also shows the movement in the seasonally adjusted series, compared to typical ranges.
</p>
</li></ul>



<h3>References</h3>

<p>KIRCHNER R., LADIRAY D., MAZZI G. L. (2018), &quot;Quality Measures and Reporting for Seasonal Adjustment&quot;, edited by G. L. Mazzi, co-edited by D. Ladiray, European Union, Luxembourg. <a href="https://ec.europa.eu/eurostat/web/products-manuals-and-guidelines/-/KS-GQ-18-001">https://ec.europa.eu/eurostat/web/products-manuals-and-guidelines/-/KS-GQ-18-001</a>
</p>
<p>MATTHEWS S. (2016), &quot;Quality Assurance of Seasonal Adjustment for a Large System of Time Series&quot;, 36th International Symposium on Forecasting Santander, Spain.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.sc_dashboard">plot.sc_dashboard</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- window(RJDemetra::ipi_c_eu[, "FR"], start = 2003)
sa_model &lt;- RJDemetra::x13(data, "RSA5c")
sc_dashboard_data &lt;- sc_dashboard(sa_model)
plot(sc_dashboard_data, main = "My first seasonal adjustment dashboard",
     subtitle = "SA with X13")

</code></pre>

<hr>
<h2 id='simple_dashboard'>Compute data for a simple seasonal adjustment</h2><span id='topic+simple_dashboard'></span><span id='topic+simple_dashboard2'></span>

<h3>Description</h3>

<p>Functions to compute the data to produce a simple seasonal adjustment dashboard.
'simple_dashboard2()' is a slightly variation of 'simple_dashboard()' with smaller description
text to include a table with last outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_dashboard(
  x,
  digits = 2,
  scale_var_decomp = FALSE,
  remove_others_contrib = FALSE
)

simple_dashboard2(
  x,
  digits = 2,
  scale_var_decomp = FALSE,
  remove_others_contrib = FALSE,
  digits_outliers = digits,
  columns_outliers = c("Estimate", "T-stat"),
  n_last_outliers = 4,
  order_outliers = c("AO", "LS", "TC", "SO")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_dashboard_+3A_x">x</code></td>
<td>
<p>a seasonal adjustment model made by 'RJDemetra' (object of class <code>"SA"</code>).</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_digits">digits</code></td>
<td>
<p>number of digits used in the tables.</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_scale_var_decomp">scale_var_decomp</code></td>
<td>
<p>boolean indicating if the variance decomposition table should be rescaled to 100.</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_remove_others_contrib">remove_others_contrib</code></td>
<td>
<p>boolean indication if the &quot;Others&quot; contribution (i.e.: the pre-adjustment contribution)
should be removed from the variance decomposition table.</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_digits_outliers">digits_outliers</code></td>
<td>
<p>number of digits used in the table of outliers.</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_columns_outliers">columns_outliers</code></td>
<td>
<p>informations about outliers that should be printed in the summary table.
Can be either a vector of characters among 'c(&quot;Estimate&quot;, &quot;Std. Error&quot;, &quot;T-stat&quot;, &quot;Pr(&gt;|t|)&quot;)';
or an vector of integer: '1' corresponding to the estimate coefficient ('&quot;Estimate&quot;'),
'2' corresponding to the standard deviation error ('&quot;Std. Error&quot;'),
'3' corresponding to the t-statistic ('&quot;T-stat&quot;') or
'4' corresponding to the p-value ('&quot;Pr(&gt;|t|)&quot;').
By default only the estimate coefficients and the t-statistics are printed 
('columns_outliers = c(&quot;Estimate&quot;, &quot;T-stat&quot;)').</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_n_last_outliers">n_last_outliers</code></td>
<td>
<p>number of last outliers to be printed (by default 'n_last_outliers = 4').</p>
</td></tr>
<tr><td><code id="simple_dashboard_+3A_order_outliers">order_outliers</code></td>
<td>
<p>order of the outliers in case of several outliers at the same date.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+plot.sc_dashboard">plot.sc_dashboard</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- window(RJDemetra::ipi_c_eu[, "FR"], start = 2003)
sa_model &lt;- RJDemetra::jx13(data, "RSA5c")
dashboard_data &lt;- simple_dashboard(sa_model)
plot(dashboard_data, main = "Simple dashboard IPI - FR")
dashboard_data2 &lt;- simple_dashboard2(sa_model)
plot(dashboard_data2, main = "Simple dashboard with outliers IPI - FR")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

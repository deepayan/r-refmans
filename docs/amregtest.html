<!DOCTYPE html><html><head><title>Help for package amregtest</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {amregtest}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#amregtest-package'><p>amregtest: Runs Allelematch Regression Tests</p></a></li>
<li><a href='#amExample1'><p>Example 1 High quality data set</p></a></li>
<li><a href='#amExample2'><p>Example 2 Good quality data set</p></a></li>
<li><a href='#amExample3'><p>Example 3 Marginal quality data set</p></a></li>
<li><a href='#amExample4'><p>Example 4 Low quality data set</p></a></li>
<li><a href='#amExample5'><p>Example 5 Wildlife data set</p></a></li>
<li><a href='#amregtest'><p>Package Overview</p></a></li>
<li><a href='#artData'><p>Example data used by amregtest</p></a></li>
<li><a href='#artList'><p>Lists available tests in <code>amregtest</code> without running them</p></a></li>
<li><a href='#artRun'><p>Runs the regression test</p></a></li>
<li><a href='#artVersion'><p>Returns package version</p></a></li>
<li><a href='#ggSample'><p>Data sets originating from GG work</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Runs Allelematch Regression Tests</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Automates regression testing of package 'allelematch'. Over
    2500 tests covers all functions in 'allelematch', reproduces the
    examples from the documentation and includes negative tests. The
    implementation is based on 'testthat'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>allelematch, digest, remotes, testthat (&ge; 3.0.0), utils,
withr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-12 13:58:14 UTC; Torva</td>
</tr>
<tr>
<td>Author:</td>
<td>Department of Wildlife, Fish and Environmental Studies at Swedish
    University of Agricultural Sciences [cph],
  Göran Spong [cph] (Senior Lecturer at the Department of Wildlife, Fish
    and Environmental Studies),
  Paul Galpern [ctb] (Author of the excellent package 'allelematch' from
    which the five amExample data files have been copied under MIT
    license),
  Torvald Staxler [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Torvald Staxler &lt;torvald.staxler@telia.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-12 15:30:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='amregtest-package'>amregtest: Runs Allelematch Regression Tests</h2><span id='topic+amregtest-package'></span>

<h3>Description</h3>

<p>Automates regression testing of package 'allelematch'. Over 2500 tests covers all functions in 'allelematch', reproduces the examples from the documentation and includes negative tests. The implementation is based on 'testthat'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Torvald Staxler <a href="mailto:torvald.staxler@telia.com">torvald.staxler@telia.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Department of Wildlife, Fish and Environmental Studies at Swedish University of Agricultural Sciences [copyright holder]
</p>
</li>
<li><p> Göran Spong <a href="mailto:Goran.Spong@slu.se">Goran.Spong@slu.se</a> (Senior Lecturer at the Department of Wildlife, Fish and Environmental Studies) [copyright holder]
</p>
</li>
<li><p> Paul Galpern <a href="mailto:pgalpern@gmail.com">pgalpern@gmail.com</a> (Author of the excellent package 'allelematch' from which the five amExample data files have been copied under MIT license) [contributor]
</p>
</li></ul>


<hr>
<h2 id='amExample1'>Example 1 High quality data set</h2><span id='topic+amExample1'></span>

<h3>Description</h3>

<p>This is sample data copied from <a href="allelematch.html#topic+amExampleData">allelematch::amExampleData</a> in version 5.2.1
of package <a href="allelematch.html#topic+allelematch">allelematch</a>. We use this data to test allelematch backwards compatibility.
</p>


<h3>Format</h3>

<p>Data frame with samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>Details</h3>

<p>The data in this example is simulated to represent a high quality data set that might
result from a laboratory protocol where samples were run multiple times to confirm their
identity. It has no genotyping error, a near-zero missing data load, and approximately
60% of the individuals have been artificially resampled more than once.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>

<hr>
<h2 id='amExample2'>Example 2 Good quality data set</h2><span id='topic+amExample2'></span>

<h3>Description</h3>

<p>This is sample data copied from <a href="allelematch.html#topic+amExampleData">allelematch::amExampleData</a> in version 5.2.1
of package <a href="allelematch.html#topic+allelematch">allelematch</a>. We use this data to test allelematch backwards compatibility.
</p>


<h3>Format</h3>

<p>Data frame with samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>Details</h3>

<p>The data in this example have also been simulated, this time to reflect the qualities
of good quality data set, where genotyping error and missing data exist, but these can
be confidently handled by allelematch without manual intervention. At each locus a
random 4% of heterozygotes lost their second allele to simulate an allele dropout, and
a random 4% of samples at each locus had alleles set to missing.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>

<hr>
<h2 id='amExample3'>Example 3 Marginal quality data set</h2><span id='topic+amExample3'></span>

<h3>Description</h3>

<p>This is sample data copied from <a href="allelematch.html#topic+amExampleData">allelematch::amExampleData</a> in version 5.2.1
of package <a href="allelematch.html#topic+allelematch">allelematch</a>. We use this data to test allelematch backwards compatibility.
</p>


<h3>Format</h3>

<p>Data frame with samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>Details</h3>

<p>The data in this example have been simulated to represent a data set of marginal
quality where the use of allelematch combined with careful manual review of the
results is required to achieve a confident assessment of the unique genotypes. At each
locus a random 4% of heterozygotes lost their second allele to simulate an allele dropout,
and a random 10% of samples at each locus had alleles set to missing.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>

<hr>
<h2 id='amExample4'>Example 4 Low quality data set</h2><span id='topic+amExample4'></span>

<h3>Description</h3>

<p>This is sample data copied from <a href="allelematch.html#topic+amExampleData">allelematch::amExampleData</a> in version 5.2.1
of package <a href="allelematch.html#topic+allelematch">allelematch</a>. We use this data to test allelematch backwards compatibility.
</p>


<h3>Format</h3>

<p>Data frame with samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>Details</h3>

<p>For this example we have simulated a low quality data set where uncertainty created
by genotyping error and missing data, combined with a lack of information in the form
of allelic diversity across loci will result in a low confidence assessment of the unique
genotypes. At each locus a random 6% of heterozygotes lost their second allele to
simulate an allele dropout, and a random 20% of samples at each locus had alleles set
to missing.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>

<hr>
<h2 id='amExample5'>Example 5 Wildlife data set</h2><span id='topic+amExample5'></span>

<h3>Description</h3>

<p>This is sample data copied from <a href="allelematch.html#topic+amExampleData">allelematch::amExampleData</a> in version 5.2.1
of package <a href="allelematch.html#topic+allelematch">allelematch</a>. We use this data to test allelematch backwards compatibility.
</p>


<h3>Format</h3>

<p>Data frame with samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>Details</h3>

<p>In this final example we use real data from the non-invasive sampling of a wildlife
population. The data have been anonymized by changing sampling details. A single
column giving the gender is also available and we show how this can be used as an extra
locus. Missing data is also more common at some loci than at others, with a total load
of about 10%.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>

<hr>
<h2 id='amregtest'>Package Overview</h2><span id='topic+amregtest'></span>

<h3>Description</h3>

<p>Package 'amregtest' automates regression testing of package <a href="allelematch.html#topic+allelematch">allelematch</a>.
</p>
<p>The API is simple. There are only three functions:
</p>

<table>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+artRun">artRun</a><code style="white-space: pre;">&#8288;  &#8288;</code></td><td style="text-align: center;"> <code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> Executes the test, or a subset of the tests</td>
</tr>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+artList">artList</a></td><td style="text-align: center;"> </td><td style="text-align: left;"> Lists the available tests without running them</td>
</tr>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+artVersion">artVersion</a></td><td style="text-align: center;"> </td><td style="text-align: left;"> Shows the installed versions of <a href="allelematch.html#topic+allelematch">allelematch</a> and <a href="#topic+amregtest">amregtest</a></td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>

<p>The prefix &quot;art&quot; is short for &quot;Allelematch Regression Test&quot;.
</p>
<p>See <a href="#topic+artData">artData</a> for a description of data sets used as input.
</p>


<h3>References</h3>

<p><a href="#topic+amregtest-package">amregtest-package</a>
</p>
<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>
<p><a href="https://github.com/cran/allelematch/blob/2.5.1/inst/doc/allelematchSuppDoc.pdf">allelematchSuppDoc.pdf</a>
</p>

<hr>
<h2 id='artData'>Example data used by <a href="#topic+amregtest">amregtest</a></h2><span id='topic+artData'></span>

<h3>Description</h3>

<p>This example data is used when testing allelematch backwards compatibility
using <a href="#topic+artRun">artRun</a>. The tests load this data and passes it to <a href="allelematch.html#topic+amDataset">amDataset</a>.<br />
<br />
It includes data that was imported from version 5.2.1 of <a href="allelematch.html#topic+allelematch">allelematch</a>.
It was still unchanged in 5.2.4. <br />
</p>

<table>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+amExample1">amExample1</a><code style="white-space: pre;">&#8288;  &#8288;</code></td><td style="text-align: center;"> <code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> Example 1 High quality data set</td>
</tr>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+amExample2">amExample2</a></td><td style="text-align: center;"> </td><td style="text-align: left;"> Example 2 Good quality data set</td>
</tr>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+amExample3">amExample3</a></td><td style="text-align: center;"> </td><td style="text-align: left;"> Example 3 Marginal quality data set</td>
</tr>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+amExample4">amExample4</a></td><td style="text-align: center;"> </td><td style="text-align: left;"> Example 4 Low quality data set</td>
</tr>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+amExample5">amExample5</a></td><td style="text-align: center;"> </td><td style="text-align: left;"> Example 5 Wildlife data set</td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>

<p>See <a href="https://github.com/cran/allelematch/blob/2.5.1/inst/doc/allelematchSuppDoc.pdf">allelematchSuppDoc.pdf</a>
for a more detailed description. <br />
</p>
<p>It also includes a large data set gathered from field work:<br />
</p>

<table>
<tr>
 <td style="text-align: center;">
<code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> <a href="#topic+ggSample">ggSample</a><code style="white-space: pre;">&#8288;  &#8288;</code></td><td style="text-align: center;"> <code style="white-space: pre;">&#8288;  &#8288;</code> </td><td style="text-align: left;"> Very large wildlife data set</td>
</tr>
<tr>
 <td style="text-align: center;">
</td>
</tr>

</table>



<h3>Format</h3>

<p>Data frames with varying numbers of samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>
<p><a href="https://github.com/cran/allelematch/blob/2.5.1/inst/doc/allelematchSuppDoc.pdf">allelematchSuppDoc.pdf</a>
</p>

<hr>
<h2 id='artList'>Lists available tests in <code>amregtest</code> without running them</h2><span id='topic+artList'></span>

<h3>Description</h3>

<p>Use the output to select a value for parameter <code>filter</code> to <a href="#topic+artRun">artRun</a>.
Useful when debugging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>artList(verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="artList_+3A_verbose">verbose</code></td>
<td>
<p>logical. If TRUE, prints additional info to stdout</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector containing the names of all the tests
</p>


<h3>See Also</h3>

<p><a href="#topic+artVersion">artVersion</a> and <a href="#topic+artRun">artRun</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See what version of packages 'allelematch' and 'amregtest'
# are currently installed:
artVersion()

# List the available tests:
artList()

# Run all the tests:
# artRun()  # Takes several minutes

# Run the first of the available tests:
artRun(filter="allelematch_1-amDataset$")


</code></pre>

<hr>
<h2 id='artRun'>Runs the regression test</h2><span id='topic+artRun'></span>

<h3>Description</h3>

<p>Runs <a href="allelematch.html#topic+allelematch">allelematch</a> regression tests to make sure it is backwards compatible.<br />
<br />
The full set of tests will take a couple of minutes. <br />
<br />
Call <a href="#topic+artList">artList</a> to see the available tests with without running them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>artRun(filter = "", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="artRun_+3A_filter">filter</code></td>
<td>
<p>If specified, only tests with names matching this perl regular
expression will be executed. Character vector of length 1. See also <a href="#topic+artList">artList</a></p>
</td></tr>
<tr><td><code id="artRun_+3A_verbose">verbose</code></td>
<td>
<p>logical. If TRUE, prints version of tested allelematch to stdout</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If any of the test executed with <a href="#topic+artRun">artRun</a> should fail, then we want to be able
to run that specific test under the debugger. Character vector of length one.<br />
<br />
Set a breakpoint in <code>allelematch.R</code> and call <code>artRun(filter="&lt;the test that reproduces the problem&gt;")</code><br />
<br />
Note that it is the last installed version of <code>allelematch</code> that will be executed,
not the last edited. In RStudio, CTRL+SHIFT+B will build and install.
</p>


<h3>Value</h3>

<p>A list (invisibly) containing data about the test results as returned by <a href="testthat.html#topic+test_package">testthat::test_package</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+artVersion">artVersion</a> and <a href="#topic+artList">artList</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See what version of packages 'allelematch' and 'amregtest'
# are currently installed:
artVersion()

# List the available tests:
artList()

# Run all the tests:
# artRun()  # Takes several minutes

# Run the first of the available tests:
artRun(filter="allelematch_1-amDataset$")


</code></pre>

<hr>
<h2 id='artVersion'>Returns package version</h2><span id='topic+artVersion'></span>

<h3>Description</h3>

<p>Returns version of this package (<a href="#topic+amregtest">amregtest</a>).<br />
<br />
The version is specified in the file DESCRIPTION, tag &quot;Version: &quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>artVersion(verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="artVersion_+3A_verbose">verbose</code></td>
<td>
<p>logical. If TRUE, prints additional info to stdout, including version of <a href="allelematch.html#topic+allelematch-package">allelematch-package</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The installed version of this package (<a href="#topic+amregtest-package">amregtest-package</a>) in a character vector of length one
</p>


<h3>See Also</h3>

<p><a href="#topic+artList">artList</a>, <a href="#topic+artRun">artRun</a> and <a href="#topic+amregtest">amregtest</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See what version of packages 'allelematch' and 'amregtest'
# are currently installed:
artVersion()

# List the available tests:
artList()

# Run all the tests:
# artRun()  # Takes several minutes

# Run the first of the available tests:
artRun(filter="allelematch_1-amDataset$")



</code></pre>

<hr>
<h2 id='ggSample'>Data sets originating from GG work</h2><span id='topic+ggSample'></span>

<h3>Description</h3>

<p>Large data set gathered from field work in 2022. Here used to test <a href="allelematch.html#topic+allelematch">allelematch</a> for backwards compatibility.
Combines a reference db of known individuals with new samples to be analyzed.<br /><br />
</p>


<h3>Format</h3>

<p>This data is saved on semicolon (&quot;;&quot;) delimited .csv format, as described under 'Details' in <a href="utils.html#topic+data">utils::data</a>.<br />
Data samples in rows, and alleles in columns. Missing data is represented as &quot;-99&quot;.
</p>


<h3>References</h3>

<p><a href="https://github.com/cran/allelematch">https://github.com/cran/allelematch</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

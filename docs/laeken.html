<!DOCTYPE html><html><head><title>Help for package laeken</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {laeken}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#laeken-package'>
<p>Estimation of Indicators on Social Exclusion and Poverty</p></a></li>
<li><a href='#arpr'><p>At-risk-of-poverty rate</p></a></li>
<li><a href='#arpt'><p>At-risk-of-poverty threshold</p></a></li>
<li><a href='#bootVar'><p>Bootstrap variance and confidence intervals of indicators on social exclusion</p>
and poverty</a></li>
<li><a href='#calibVars'><p>Construct a matrix of binary variables for calibration</p></a></li>
<li><a href='#calibWeights'><p>Calibrate sample weights</p></a></li>
<li><a href='#eqInc'><p>Equivalized disposable income</p></a></li>
<li><a href='#eqSS'><p>Equivalized household size</p></a></li>
<li><a href='#eusilc'>
<p>Synthetic EU-SILC survey data</p></a></li>
<li><a href='#fitPareto'><p>Fit income distribution models with the Pareto distribution</p></a></li>
<li><a href='#gini'><p>Gini coefficient</p></a></li>
<li><a href='#gpg'><p>Gender pay (wage) gap.</p></a></li>
<li><a href='#incMean'><p>Weighted mean income</p></a></li>
<li><a href='#incMedian'><p>Weighted median income</p></a></li>
<li><a href='#incQuintile'><p>Weighted income quintile</p></a></li>
<li><a href='#meanExcessPlot'><p>Mean excess plot</p></a></li>
<li><a href='#minAMSE'><p>Weighted asymptotic mean squared error (AMSE) estimator</p></a></li>
<li><a href='#paretoQPlot'><p>Pareto quantile plot</p></a></li>
<li><a href='#paretoScale'><p>Estimate the scale parameter of a Pareto distribution</p></a></li>
<li><a href='#paretoTail'><p>Pareto tail modeling for income distributions</p></a></li>
<li><a href='#plot.paretoTail'><p>Diagnostic plot for the Pareto tail model</p></a></li>
<li><a href='#prop'><p>Proportion of an alternative distribution</p></a></li>
<li><a href='#qsr'><p>Quintile share ratio</p></a></li>
<li><a href='#replaceTail'><p>Replace observations under a Pareto model</p></a></li>
<li><a href='#reweightOut'><p>Reweight outliers in the Pareto model</p></a></li>
<li><a href='#rmpg'><p>Relative median at-risk-of-poverty gap</p></a></li>
<li><a href='#ses'>
<p>Synthetic SES survey data</p></a></li>
<li><a href='#shrinkOut'><p>Shrink outliers in the Pareto model</p></a></li>
<li><a href='#thetaHill'><p>Hill estimator</p></a></li>
<li><a href='#thetaISE'><p>Integrated squared error (ISE) estimator</p></a></li>
<li><a href='#thetaLS'><p>Least squares (LS) estimator</p></a></li>
<li><a href='#thetaMoment'><p>Moment estimator</p></a></li>
<li><a href='#thetaPDC'><p>Partial density component (PDC) estimator</p></a></li>
<li><a href='#thetaQQ'><p>QQ-estimator</p></a></li>
<li><a href='#thetaTM'><p>Trimmed mean estimator</p></a></li>
<li><a href='#thetaWML'><p>Weighted maximum likelihood estimator</p></a></li>
<li><a href='#utils'><p>Utility functions for indicators on social exclusion and poverty</p></a></li>
<li><a href='#variance'><p>Variance and confidence intervals of indicators on social exclusion and</p>
poverty</a></li>
<li><a href='#weightedMean'><p>Weighted mean</p></a></li>
<li><a href='#weightedMedian'><p>Weighted median</p></a></li>
<li><a href='#weightedQuantile'><p>Weighted quantiles</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Estimation of Indicators on Social Exclusion and Poverty</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-25</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, MASS</td>
</tr>
<tr>
<td>Description:</td>
<td>Estimation of indicators on social exclusion and poverty, as well
    as Pareto tail modeling for empirical income distributions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Alfons <a href="https://orcid.org/0000-0002-2513-3788"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Josef Holzer [aut],
  Matthias Templ [aut],
  Alexander Haider [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-25 11:07:36 UTC; andreas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-25 12:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='laeken-package'>
Estimation of Indicators on Social Exclusion and Poverty
</h2><span id='topic+laeken-package'></span><span id='topic+laeken'></span>

<h3>Description</h3>

<p>Estimation of indicators on social exclusion and poverty, as well
    as Pareto tail modeling for empirical income distributions.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> laeken</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Estimation of Indicators on Social Exclusion and Poverty</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.5.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-01-25</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.2.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> boot, MASS</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Estimation of indicators on social exclusion and poverty, as well
    as Pareto tail modeling for empirical income distributions.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> 
    c(person("Andreas", "Alfons", 
             email = "alfons@ese.eur.nl",
             role = c("aut", "cre"), 
             comment = c(ORCID = "0000-0002-2513-3788")), 
      person("Josef", "Holzer", role = "aut"),
      person("Matthias", "Templ", role = "aut"),
      person("Alexander", "Haider", role = "ctb"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Andreas Alfons [aut, cre] (&lt;https://orcid.org/0000-0002-2513-3788&gt;),
    Josef Holzer [aut],
    Matthias Templ [aut],
    Alexander Haider [ctb]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.2.3</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
arpr                    At-risk-of-poverty rate
arpt                    At-risk-of-poverty threshold
bootVar                 Bootstrap variance and confidence intervals of
                        indicators on social exclusion and poverty
calibVars               Construct a matrix of binary variables for
                        calibration
calibWeights            Calibrate sample weights
eqInc                   Equivalized disposable income
eqSS                    Equivalized household size
eusilc                  Synthetic EU-SILC survey data
fitPareto               Fit income distribution models with the Pareto
                        distribution
gini                    Gini coefficient
gpg                     Gender pay (wage) gap.
incMean                 Weighted mean income
incMedian               Weighted median income
incQuintile             Weighted income quintile
laeken-package          Estimation of Indicators on Social Exclusion
                        and Poverty
meanExcessPlot          Mean excess plot
minAMSE                 Weighted asymptotic mean squared error (AMSE)
                        estimator
paretoQPlot             Pareto quantile plot
paretoScale             Estimate the scale parameter of a Pareto
                        distribution
paretoTail              Pareto tail modeling for income distributions
plot.paretoTail         Diagnostic plot for the Pareto tail model
prop                    Proportion of an alternative distribution
qsr                     Quintile share ratio
replaceTail             Replace observations under a Pareto model
reweightOut             Reweight outliers in the Pareto model
rmpg                    Relative median at-risk-of-poverty gap
ses                     Synthetic SES survey data
shrinkOut               Shrink outliers in the Pareto model
thetaHill               Hill estimator
thetaISE                Integrated squared error (ISE) estimator
thetaLS                 Least squares (LS) estimator
thetaMoment             Moment estimator
thetaPDC                Partial density component (PDC) estimator
thetaQQ                 QQ-estimator
thetaTM                 Trimmed mean estimator
thetaWML                Weighted maximum likelihood estimator
utils                   Utility functions for indicators on social
                        exclusion and poverty
variance                Variance and confidence intervals of indicators
                        on social exclusion and poverty
weightedMean            Weighted mean
weightedMedian          Weighted median
weightedQuantile        Weighted quantiles
</pre>


<h3>Author(s)</h3>

<p>Andreas Alfons [aut, cre] (&lt;https://orcid.org/0000-0002-2513-3788&gt;),
    Josef Holzer [aut],
    Matthias Templ [aut],
    Alexander Haider [ctb]
</p>
<p>Maintainer: Andreas Alfons &lt;alfons@ese.eur.nl&gt;
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal of
the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>

<hr>
<h2 id='arpr'>At-risk-of-poverty rate</h2><span id='topic+arpr'></span>

<h3>Description</h3>

<p>Estimate the at-risk-of-poverty rate, which is defined as the proportion of
persons with equivalized disposable income below the at-risk-of-poverty
threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arpr(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  p = 0.6,
  var = NULL,
  alpha = 0.05,
  threshold = NULL,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arpr_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="arpr_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="arpr_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="arpr_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="arpr_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.  Note that the same (overall) threshold is used for all domains.</p>
</td></tr>
<tr><td><code id="arpr_+3A_design">design</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>; either
an integer vector or factor giving different strata for stratified sampling
designs, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="arpr_+3A_cluster">cluster</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>;
either an integer vector or factor giving different clusters for cluster
sampling designs, or (if <code>data</code> is not <code>NULL</code>) a character string,
an integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="arpr_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="arpr_+3A_p">p</code></td>
<td>
<p>a numeric vector of values in <code class="reqn">[0,1]</code> giving the percentages of
the weighted median to be used for the at-risk-of-poverty threshold (see
<code><a href="#topic+arpt">arpt</a></code>).</p>
</td></tr>
<tr><td><code id="arpr_+3A_var">var</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used, or <code>NULL</code> to omit variance estimation.  See
<code><a href="#topic+variance">variance</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="arpr_+3A_alpha">alpha</code></td>
<td>
<p>numeric; if <code>var</code> is not <code>NULL</code>, this gives the
significance level to be used for computing the confidence interval (i.e.,
the confidence level is <code class="reqn">1 - </code><code>alpha</code>).</p>
</td></tr>
<tr><td><code id="arpr_+3A_threshold">threshold</code></td>
<td>
<p>if 'NULL', the at-risk-at-poverty threshold is estimated from the data.</p>
</td></tr>
<tr><td><code id="arpr_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="arpr_+3A_...">...</code></td>
<td>
<p>if <code>var</code> is not <code>NULL</code>, additional arguments to be
passed to <code><a href="#topic+variance">variance</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A list of class <code>"arpr"</code> (which inherits from the class
<code>"indicator"</code>) with the following components:
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>a numeric vector containing the overall value(s).</p>
</td></tr>
<tr><td><code>valueByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the values by
domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>varMethod</code></td>
<td>
<p>a character string specifying the type of variance
estimation used, or <code>NULL</code> if variance estimation was omitted.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>a numeric vector containing the variance estimate(s), or
<code>NULL</code>.</p>
</td></tr>
<tr><td><code>varByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the variance
estimates by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>a numeric vector or matrix containing the lower and upper
endpoints of the confidence interval(s), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ciByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the lower and upper
endpoints of the confidence intervals by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>a numeric value giving the significance level used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>years</code></td>
<td>
<p>a numeric vector containing the different years of the
survey.</p>
</td></tr>
<tr><td><code>strata</code></td>
<td>
<p>a character vector containing the different domains of the
breakdown.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>a numeric giving the percentage of the weighted median used for
the at-risk-of-poverty threshold.</p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>a numeric vector containing the at-risk-of-poverty
threshold(s).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Working group on Statistics on Income and Living Conditions (2004)
Common cross-sectional EU indicators based on EU-SILC; the gender
pay gap.  <em>EU-SILC 131-rev/04</em>, Eurostat, Luxembourg.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arpt">arpt</a></code>, <code><a href="#topic+variance">variance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# overall value
arpr("eqIncome", weights = "rb050", data = eusilc)

# values by region
arpr("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)

</code></pre>

<hr>
<h2 id='arpt'>At-risk-of-poverty threshold</h2><span id='topic+arpt'></span>

<h3>Description</h3>

<p>Estimate the at-risk-of-poverty threshold.  The standard definition is to use
60% of the weighted median equivalized disposable income.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>arpt(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  data = NULL,
  p = 0.6,
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="arpt_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="arpt_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="arpt_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="arpt_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="arpt_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="arpt_+3A_p">p</code></td>
<td>
<p>a numeric vector of values in <code class="reqn">[0,1]</code> giving the percentages of
the weighted median to be used for the at-risk-of-poverty threshold.</p>
</td></tr>
<tr><td><code id="arpt_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A numeric vector containing the value(s) of the at-risk-of-poverty
threshold is returned.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arpr">arpr</a></code>, <code><a href="#topic+incMedian">incMedian</a></code>,
<code><a href="#topic+weightedMedian">weightedMedian</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
arpt("eqIncome", weights = "rb050", data = eusilc)

</code></pre>

<hr>
<h2 id='bootVar'>Bootstrap variance and confidence intervals of indicators on social exclusion
and poverty</h2><span id='topic+bootVar'></span>

<h3>Description</h3>

<p>Compute variance and confidence interval estimates of indicators on social
exclusion and poverty based on bootstrap resampling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bootVar(
  inc,
  weights = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  indicator,
  R = 100,
  bootType = c("calibrate", "naive"),
  X,
  totals = NULL,
  ciType = c("perc", "norm", "basic"),
  alpha = 0.05,
  seed = NULL,
  na.rm = FALSE,
  gender = NULL,
  method = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootVar_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_design">design</code></td>
<td>
<p>optional; either an integer vector or factor giving different
strata for stratified sampling designs, or (if <code>data</code> is not
<code>NULL</code>) a character string, an integer or a logical vector specifying
the corresponding column of <code>data</code>.  If supplied, this is used as
<code>strata</code> argument in the call to <code><a href="boot.html#topic+boot">boot</a></code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_cluster">cluster</code></td>
<td>
<p>optional; either an integer vector or factor giving different
clusters for cluster sampling designs, or (if <code>data</code> is not
<code>NULL</code>) a character string, an integer or a logical vector specifying
the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_indicator">indicator</code></td>
<td>
<p>an object inheriting from the class <code>"indicator"</code> that
contains the point estimates of the indicator (see <code><a href="#topic+arpr">arpr</a></code>,
<code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+rmpg">rmpg</a></code> or <code><a href="#topic+gini">gini</a></code>).</p>
</td></tr>
<tr><td><code id="bootVar_+3A_r">R</code></td>
<td>
<p>a numeric value giving the number of bootstrap replicates.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_boottype">bootType</code></td>
<td>
<p>a character string specifying the type of bootstap to be
performed.  Possible values are <code>"calibrate"</code> (for calibration of the
sample weights of the resampled observations in every iteration) and
<code>"naive"</code> (for a naive bootstrap without calibration of the sample
weights).</p>
</td></tr>
<tr><td><code id="bootVar_+3A_x">X</code></td>
<td>
<p>if <code>bootType</code> is <code>"calibrate"</code>, a matrix of calibration
variables.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_totals">totals</code></td>
<td>
<p>numeric; if <code>bootType</code> is <code>"calibrate"</code>, this gives
the population totals.  If <code>years</code> is <code>NULL</code>, a vector should be
supplied, otherwise a matrix in which each row contains the population totals
of the respective year.  If this is <code>NULL</code> (the default), the population
totals are computed from the sample weights using the Horvitz-Thompson
estimator.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_citype">ciType</code></td>
<td>
<p>a character string specifying the type of confidence
interval(s) to be computed.  Possible values are <code>"perc"</code>, <code>"norm"</code>
and <code>"basic"</code> (see <code><a href="boot.html#topic+boot.ci">boot.ci</a></code>).</p>
</td></tr>
<tr><td><code id="bootVar_+3A_alpha">alpha</code></td>
<td>
<p>a numeric value giving the significance level to be used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_seed">seed</code></td>
<td>
<p>optional; an integer value to be used as the seed of the random
number generator, or an integer vector containing the state of the random
number generator to be restored.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_gender">gender</code></td>
<td>
<p>either a numeric vector giving the gender, or (if <code>data</code>
is not <code>NULL</code>) a character string, an integer or a logical vector
specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_method">method</code></td>
<td>
<p>a character string specifying the method to be used (only for
<code><a href="#topic+gpg">gpg</a></code>).  Possible values are <code>"mean"</code> for the mean, and
<code>"median"</code> for the median.  If weights are provided, the weighted mean
or weighted median is estimated.</p>
</td></tr>
<tr><td><code id="bootVar_+3A_...">...</code></td>
<td>
<p>if <code>bootType</code> is <code>"calibrate"</code>, additional arguments
to be passed to <code><a href="#topic+calibWeights">calibWeights</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same class as <code>indicator</code> is returned.  See
<code><a href="#topic+arpr">arpr</a></code>, <code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+rmpg">rmpg</a></code> or
<code><a href="#topic+gini">gini</a></code> for details on the components.
</p>


<h3>Note</h3>

<p>This function gives reasonable variance estimates for basic sample
designs such as simple random sampling or stratified simple random sampling.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+variance">variance</a></code>, <code><a href="#topic+calibWeights">calibWeights</a></code>,
<code><a href="#topic+arpr">arpr</a></code>, <code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+rmpg">rmpg</a></code>, <code><a href="#topic+gini">gini</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
a &lt;- arpr("eqIncome", weights = "rb050", data = eusilc)

## naive bootstrap
bootVar("eqIncome", weights = "rb050", design = "db040",
    data = eusilc, indicator = a, R = 50,
    bootType = "naive", seed = 123)

## bootstrap with calibration
bootVar("eqIncome", weights = "rb050", design = "db040",
    data = eusilc, indicator = a, R = 50,
    X = calibVars(eusilc$db040), seed = 123)

</code></pre>

<hr>
<h2 id='calibVars'>Construct a matrix of binary variables for calibration</h2><span id='topic+calibVars'></span>

<h3>Description</h3>

<p>Construct a matrix of binary variables for calibration of sample weights
according to known marginal population totals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calibVars(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calibVars_+3A_x">x</code></td>
<td>
<p>a vector that can be interpreted as factor, or a matrix or
<code>data.frame</code> consisting of such variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of binary variables that indicate membership to the
corresponding factor levels.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calibWeights">calibWeights</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# default method
aux &lt;- calibVars(eusilc$rb090)
head(aux)
# data.frame method
aux &lt;- calibVars(eusilc[, c("db040", "rb090")])
head(aux)

</code></pre>

<hr>
<h2 id='calibWeights'>Calibrate sample weights</h2><span id='topic+calibWeights'></span>

<h3>Description</h3>

<p>Calibrate sample weights according to known marginal population totals.
Based on initial sample weights, the so-called <em>g</em>-weights are computed
by generalized raking procedures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calibWeights(
  X,
  d,
  totals,
  q = NULL,
  method = c("raking", "linear", "logit"),
  bounds = c(0, 10),
  maxit = 500,
  tol = 1e-06,
  eps = .Machine$double.eps
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calibWeights_+3A_x">X</code></td>
<td>
<p>a matrix of binary calibration variables (see
<code><a href="#topic+calibVars">calibVars</a></code>).</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_d">d</code></td>
<td>
<p>a numeric vector giving the initial sample weights.</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_totals">totals</code></td>
<td>
<p>a numeric vector of population totals corresponding to the
calibration variables in <code>X</code>.</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_q">q</code></td>
<td>
<p>a numeric vector of positive values accounting for
heteroscedasticity.  Small values reduce the variation of the
<em>g</em>-weights.</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_method">method</code></td>
<td>
<p>a character string specifying the calibration method to be
used.  Possible values are <code>"linear"</code> for the linear method,
<code>"raking"</code> for the multiplicative method known as raking and
<code>"logit"</code> for the logit method.</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_bounds">bounds</code></td>
<td>
<p>a numeric vector of length two giving bounds for the g-weights
to be used in the logit method.  The first value gives the lower bound (which
must be smaller than or equal to 1) and the second value gives the upper
bound (which must be larger than or equal to 1).</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_maxit">maxit</code></td>
<td>
<p>a numeric value giving the maximum number of iterations.</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_tol">tol</code></td>
<td>
<p>the desired accuracy for the iterative procedure.</p>
</td></tr>
<tr><td><code id="calibWeights_+3A_eps">eps</code></td>
<td>
<p>the desired accuracy for computing the Moore-Penrose generalized
inverse (see <code><a href="MASS.html#topic+ginv">ginv</a></code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The final sample weights need to be computed by multiplying the resulting
<em>g</em>-weights with the initial sample weights.
</p>


<h3>Value</h3>

<p>A numeric vector containing the <em>g</em>-weights.
</p>


<h3>Note</h3>

<p>This is a faster implementation of parts of <code>calib</code> from
package <code>sampling</code>.  Note that the default calibration method is
raking and that the truncated linear method is not yet implemented.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Deville, J.-C. and Särndal, C.-E. (1992)
Calibration estimators in survey sampling. <em>Journal of the American
Statistical Association</em>, <b>87</b>(418), 376&ndash;382.
</p>
<p>Deville, J.-C., Särndal, C.-E. and Sautory, O. (1993)
Generalized raking procedures in survey sampling. <em>Journal of the
American Statistical Association</em>, <b>88</b>(423), 1013&ndash;1020.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+calibVars">calibVars</a></code>, <code><a href="#topic+bootVar">bootVar</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# construct auxiliary 0/1 variables for genders
aux &lt;- calibVars(eusilc$rb090)
# population totals
totals &lt;- c(3990798, 4191431)
# compute g-weights
g &lt;- calibWeights(aux, eusilc$rb050, totals)
# compute final weights
weights &lt;- g * eusilc$rb050
summary(weights)

</code></pre>

<hr>
<h2 id='eqInc'>Equivalized disposable income</h2><span id='topic+eqInc'></span>

<h3>Description</h3>

<p>Compute the equivalized disposable income from household and personal income
variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eqInc(hid, hplus, hminus, pplus, pminus, eqSS, year = NULL, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eqInc_+3A_hid">hid</code></td>
<td>
<p>if <code>data=NULL</code>, a vector containing the household ID.
Otherwise a character string specifying the column of <code>data</code> that
contains the household ID.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_hplus">hplus</code></td>
<td>
<p>if <code>data=NULL</code>, a <code>data.frame</code> containing the
household income components that have to be added.  Otherwise a character
vector specifying the columns of <code>data</code> that contain these income
components.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_hminus">hminus</code></td>
<td>
<p>if <code>data=NULL</code>, a <code>data.frame</code> containing the
household income components that have to be subtracted.  Otherwise a
character vector specifying the columns of <code>data</code> that contain these
income components.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_pplus">pplus</code></td>
<td>
<p>if <code>data=NULL</code>, a <code>data.frame</code> containing the personal
income components that have to be added.  Otherwise a character vector
specifying the columns of <code>data</code> that contain these income components.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_pminus">pminus</code></td>
<td>
<p>if <code>data=NULL</code>, a <code>data.frame</code> containing the
personal income components that have to be subtracted.  Otherwise a character
vector specifying the columns of <code>data</code> that contain these income
components.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_eqss">eqSS</code></td>
<td>
<p>if <code>data=NULL</code>, a vector containing the equivalized
household size.  Otherwise a character string specifying the column of
<code>data</code> that contains the equivalized household size.  See
<code><a href="#topic+eqSS">eqSS</a></code> for more details.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_year">year</code></td>
<td>
<p>if <code>data=NULL</code>, a vector containing the year of the survey.
Otherwise a character string specifying the column of <code>data</code> that
contains the year.</p>
</td></tr>
<tr><td><code id="eqInc_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> containing EU-SILC survey data, or
<code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All income components should already be imputed, otherwise <code>NA</code>s are
simply removed before the calculations.
</p>


<h3>Value</h3>

<p>A numeric vector containing the equivalized disposable income for
every individual in <code>data</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+eqSS">eqSS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# compute a simplified version of the equivalized disposable income
# (not all income components are available in the synthetic data)
hplus &lt;- c("hy040n", "hy050n", "hy070n", "hy080n", "hy090n", "hy110n")
hminus &lt;- c("hy130n", "hy145n")
pplus &lt;- c("py010n", "py050n", "py090n", "py100n",
    "py110n", "py120n", "py130n", "py140n")
eqIncome &lt;- eqInc("db030", hplus, hminus,
    pplus, character(), "eqSS", data=eusilc)

# combine with household ID and equivalized household size
tmp &lt;- cbind(eusilc[, c("db030", "eqSS")], eqIncome)

# show the first 8 rows
head(tmp, 8)

</code></pre>

<hr>
<h2 id='eqSS'>Equivalized household size</h2><span id='topic+eqSS'></span>

<h3>Description</h3>

<p>Compute the equivalized household size according to the modified OECD scale
adopted in 1994.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eqSS(hid, age, year = NULL, data = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eqSS_+3A_hid">hid</code></td>
<td>
<p>if <code>data=NULL</code>, a vector containing the household ID.
Otherwise a character string specifying the column of <code>data</code> that
contains the household ID.</p>
</td></tr>
<tr><td><code id="eqSS_+3A_age">age</code></td>
<td>
<p>if <code>data=NULL</code>, a vector containing the age of the
individuals.  Otherwise a character string specifying the column of
<code>data</code> that contains the age.</p>
</td></tr>
<tr><td><code id="eqSS_+3A_year">year</code></td>
<td>
<p>if <code>data=NULL</code>, a vector containing the year of the survey.
Otherwise a character string specifying the column of <code>data</code> that
contains the year.</p>
</td></tr>
<tr><td><code id="eqSS_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> containing EU-SILC survey data, or
<code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector containing the equivalized household size for every
observation in <code>data</code>.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+eqInc">eqInc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# calculate equivalized household size
eqSS &lt;- eqSS("db030", "age", data=eusilc)

# combine with household ID and household size
tmp &lt;- cbind(eusilc[, c("db030", "hsize")], eqSS)

# show the first 8 rows
head(tmp, 8)

</code></pre>

<hr>
<h2 id='eusilc'>
Synthetic EU-SILC survey data
</h2><span id='topic+eusilc'></span>

<h3>Description</h3>

<p>This data set is synthetically generated from real Austrian EU-SILC (European
Union Statistics on Income and Living Conditions) data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(eusilc)</code></pre>


<h3>Format</h3>

<p>A data frame with 14827 observations on the following 28 variables.
</p>

<dl>
<dt><code>db030</code></dt><dd><p>integer; the household ID.</p>
</dd>
<dt><code>hsize</code></dt><dd><p>integer; the number of persons in the household.</p>
</dd>
<dt><code>db040</code></dt><dd><p>factor; the federal state in which the household is
located (levels <code>Burgenland</code>, <code>Carinthia</code>,
<code>Lower Austria</code>, <code>Salzburg</code>, <code>Styria</code>, <code>Tyrol</code>,
<code>Upper Austria</code>, <code>Vienna</code> and <code>Vorarlberg</code>).</p>
</dd>
<dt><code>rb030</code></dt><dd><p>integer; the personal ID.</p>
</dd>
<dt><code>age</code></dt><dd><p>integer; the person's age.</p>
</dd>
<dt><code>rb090</code></dt><dd><p>factor; the person's gender (levels <code>male</code> and
<code>female</code>).</p>
</dd>
<dt><code>pl030</code></dt><dd><p>factor; the person's economic status (levels
<code>1</code> = working full time, <code>2</code> = working part time, <code>3</code> =
unemployed, <code>4</code> = pupil, student, further training or unpaid work
experience or in compulsory military or community service, <code>5</code> = in
retirement or early retirement or has given up business, <code>6</code> =
permanently disabled or/and unfit to work or other inactive person,
<code>7</code> = fulfilling domestic tasks and care responsibilities).</p>
</dd>
<dt><code>pb220a</code></dt><dd><p>factor; the person's citizenship (levels <code>AT</code>,
<code>EU</code> and <code>Other</code>).</p>
</dd>
<dt><code>py010n</code></dt><dd><p>numeric; employee cash or near cash income (net).</p>
</dd>
<dt><code>py050n</code></dt><dd><p>numeric; cash benefits or losses from self-employment
(net).</p>
</dd>
<dt><code>py090n</code></dt><dd><p>numeric; unemployment benefits (net).</p>
</dd>
<dt><code>py100n</code></dt><dd><p>numeric; old-age benefits (net).</p>
</dd>
<dt><code>py110n</code></dt><dd><p>numeric; survivor's benefits (net).</p>
</dd>
<dt><code>py120n</code></dt><dd><p>numeric; sickness benefits (net).</p>
</dd>
<dt><code>py130n</code></dt><dd><p>numeric; disability benefits (net).</p>
</dd>
<dt><code>py140n</code></dt><dd><p>numeric; education-related allowances (net).</p>
</dd>
<dt><code>hy040n</code></dt><dd><p>numeric; income from rental of a property or land
(net).</p>
</dd>
<dt><code>hy050n</code></dt><dd><p>numeric; family/children related allowances (net).</p>
</dd>
<dt><code>hy070n</code></dt><dd><p>numeric; housing allowances (net).</p>
</dd>
<dt><code>hy080n</code></dt><dd><p>numeric; regular inter-household cash transfer
received (net).</p>
</dd>
<dt><code>hy090n</code></dt><dd><p>numeric; interest, dividends, profit from capital
investments in unincorporated business (net).</p>
</dd>
<dt><code>hy110n</code></dt><dd><p>numeric; income received by people aged under 16
(net).</p>
</dd>
<dt><code>hy130n</code></dt><dd><p>numeric; regular inter-household cash transfer paid
(net).</p>
</dd>
<dt><code>hy145n</code></dt><dd><p>numeric; repayments/receipts for tax adjustment (net).</p>
</dd>
<dt><code>eqSS</code></dt><dd><p>numeric; the equivalized household size according to the
modified OECD scale.</p>
</dd>
<dt><code>eqIncome</code></dt><dd><p>numeric; a slightly simplified version of the
equivalized household income.</p>
</dd>
<dt><code>db090</code></dt><dd><p>numeric; the household sample weights.</p>
</dd>
<dt><code>rb050</code></dt><dd><p>numeric; the personal sample weights.</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data set consists of 6000 households and is used in the examples of package
<code>laeken</code>.  Note that this is a synthetic data set based on original
EU-SILC survey data.
</p>
<p>Only a few of the large number of variables in the original survey are included
in this example data set.  The variable names are rather cryptic codes, but
these are the standardized names used by the statistical agencies.  Furthermore,
the variables <code>hsize</code>, <code>age</code>, <code>eqSS</code> and <code>eqIncome</code> are not
included in the standardized format of EU-SILC data, but have been derived from
other variables for convenience.  Moreover, some very sparse income components
were not included in the the generation of this synthetic data set. Thus the
equivalized household income is computed from the available income components.
</p>


<h3>Source</h3>

<p>This is a synthetic data set based on Austrian EU-SILC data from 2006.  The
original sample was provided by Statistics Austria.
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2011) Simulation of close-to-reality
population data for household surveys with application to EU-SILC.
<em>Statistical Methods and Applications</em>,
vol 20 (3), 383-407.
</p>
<p>Eurostat (2004) Description of target variables: Cross-sectional and
longitudinal. <em>EU-SILC 065/04</em>, Eurostat.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
summary(eusilc)
</code></pre>

<hr>
<h2 id='fitPareto'>Fit income distribution models with the Pareto distribution</h2><span id='topic+fitPareto'></span>

<h3>Description</h3>

<p>Fit a Pareto distribution to the upper tail of income data.  Since a
theoretical distribution is used for the upper tail, this is a semiparametric
approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fitPareto(
  x,
  k = NULL,
  x0 = NULL,
  method = "thetaPDC",
  groups = NULL,
  w = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fitPareto_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="fitPareto_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="fitPareto_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="fitPareto_+3A_method">method</code></td>
<td>
<p>either a function or a character string specifying the function
to be used to estimate the shape parameter of the Pareto distibution, such as
<code><a href="#topic+thetaPDC">thetaPDC</a></code> (the default).  See &ldquo;Details&rdquo; for requirements
for such a function and &ldquo;See also&rdquo; for available functions.</p>
</td></tr>
<tr><td><code id="fitPareto_+3A_groups">groups</code></td>
<td>
<p>an optional vector or factor specifying groups of elements of
<code>x</code> (e.g., households).  If supplied, each group of observations is
expected to have the same value in <code>x</code> (e.g., household income).  Only
the values of every first group member to appear are used for fitting the
Pareto distribution. For each group above the threshold, every group member
is assigned the same value.</p>
</td></tr>
<tr><td><code id="fitPareto_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="fitPareto_+3A_...">...</code></td>
<td>
<p>addtional arguments to be passed to the specified method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>
<p>The function supplied to <code>method</code> should take a numeric vector (the
observations) as its first argument.  If <code>k</code> is supplied, it will be
passed on (in this case, the function is required to have an argument called
<code>k</code>).  Similarly, if the threshold <code>x0</code> is supplied, it will be
passed on (in this case, the function is required to have an argument called
<code>x0</code>).  As above, only <code>k</code> is passed on if both are supplied.  If
the function specified by <code>method</code> can handle sample weights, the
corresponding argument should be called <code>w</code>.  Additional arguments are
passed via the ... argument.
</p>


<h3>Value</h3>

<p>A numeric vector with a Pareto distribution fit to the upper tail.
</p>


<h3>Note</h3>

<p>The arguments <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution and <code>w</code> for sample weights were introduced in
version 0.2.  This results in slightly different behavior regarding the
function calls to <code>method</code> compared to prior versions.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+replaceTail">replaceTail</a></code>
</p>
<p><code><a href="#topic+thetaPDC">thetaPDC</a></code>, <code><a href="#topic+thetaWML">thetaWML</a></code>, <code><a href="#topic+thetaHill">thetaHill</a></code>,
<code><a href="#topic+thetaISE">thetaISE</a></code>, <code><a href="#topic+thetaLS">thetaLS</a></code>, <code><a href="#topic+thetaMoment">thetaMoment</a></code>,
<code><a href="#topic+thetaQQ">thetaQQ</a></code>, <code><a href="#topic+thetaTM">thetaTM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)


## gini coefficient without Pareto tail modeling
gini("eqIncome", weights = "rb050", data = eusilc)


## gini coefficient with Pareto tail modeling

# using number of observations in tail
eqIncome &lt;- fitPareto(eusilc$eqIncome, k = 175,
    w = eusilc$db090, groups = eusilc$db030)
gini(eqIncome, weights = eusilc$rb050)

# using threshold
eqIncome &lt;- fitPareto(eusilc$eqIncome, x0 = 44150,
    w = eusilc$db090, groups = eusilc$db030)
gini(eqIncome, weights = eusilc$rb050)

</code></pre>

<hr>
<h2 id='gini'>Gini coefficient</h2><span id='topic+gini'></span>

<h3>Description</h3>

<p>Estimate the Gini coefficient, which is a measure for inequality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gini(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  var = NULL,
  alpha = 0.05,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gini_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="gini_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="gini_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="gini_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="gini_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.</p>
</td></tr>
<tr><td><code id="gini_+3A_design">design</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>; either
an integer vector or factor giving different domains for stratified sampling
designs, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="gini_+3A_cluster">cluster</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>;
either an integer vector or factor giving different clusters for cluster
sampling designs, or (if <code>data</code> is not <code>NULL</code>) a character string,
an integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="gini_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="gini_+3A_var">var</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used, or <code>NULL</code> to omit variance estimation.  See
<code><a href="#topic+variance">variance</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="gini_+3A_alpha">alpha</code></td>
<td>
<p>numeric; if <code>var</code> is not <code>NULL</code>, this gives the
significance level to be used for computing the confidence interval (i.e.,
the confidence level is <code class="reqn">1 - </code><code>alpha</code>).</p>
</td></tr>
<tr><td><code id="gini_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="gini_+3A_...">...</code></td>
<td>
<p>if <code>var</code> is not <code>NULL</code>, additional arguments to be
passed to <code><a href="#topic+variance">variance</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A list of class <code>"gini"</code> (which inherits from the class
<code>"indicator"</code>) with the following components:
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>a numeric vector containing the overall value(s).</p>
</td></tr>
<tr><td><code>valueByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the values by
domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>varMethod</code></td>
<td>
<p>a character string specifying the type of variance
estimation used, or <code>NULL</code> if variance estimation was omitted.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>a numeric vector containing the variance estimate(s), or
<code>NULL</code>.</p>
</td></tr>
<tr><td><code>varByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the variance
estimates by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>a numeric vector or matrix containing the lower and upper
endpoints of the confidence interval(s), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ciByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the lower and upper
endpoints of the confidence intervals by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>a numeric value giving the significance level used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>years</code></td>
<td>
<p>a numeric vector containing the different years of the
survey.</p>
</td></tr>
<tr><td><code>strata</code></td>
<td>
<p>a character vector containing the different domains of the
breakdown.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Working group on Statistics on Income and Living Conditions (2004)
Common cross-sectional EU indicators based on EU-SILC; the gender
pay gap.  <em>EU-SILC 131-rev/04</em>, Eurostat, Luxembourg.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+variance">variance</a></code>, <code><a href="#topic+qsr">qsr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# overall value
gini("eqIncome", weights = "rb050", data = eusilc)

# values by region
gini("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)

</code></pre>

<hr>
<h2 id='gpg'>Gender pay (wage) gap.</h2><span id='topic+gpg'></span>

<h3>Description</h3>

<p>Estimate the gender pay (wage) gap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gpg(
  inc,
  gender = NULL,
  method = c("mean", "median"),
  weights = NULL,
  sort = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  var = NULL,
  alpha = 0.05,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gpg_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_gender">gender</code></td>
<td>
<p>either a factor giving the gender, or (if <code>data</code> is not
<code>NULL</code>) a character string, an integer or a logical vector specifying
the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_method">method</code></td>
<td>
<p>a character string specifying the method to be used.  Possible
values are <code>"mean"</code> for the mean, and <code>"median"</code> for the median.
If weights are provided, the weighted mean or weighted median is estimated.</p>
</td></tr>
<tr><td><code id="gpg_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="gpg_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.</p>
</td></tr>
<tr><td><code id="gpg_+3A_design">design</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>; either
an integer vector or factor giving different strata for stratified sampling
designs, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_cluster">cluster</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>;
either an integer vector or factor giving different clusters for cluster
sampling designs, or (if <code>data</code> is not <code>NULL</code>) a character string,
an integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="gpg_+3A_var">var</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used, or <code>NULL</code> to omit variance estimation.  See
<code><a href="#topic+variance">variance</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="gpg_+3A_alpha">alpha</code></td>
<td>
<p>numeric; if <code>var</code> is not <code>NULL</code>, this gives the
significance level to be used for computing the confidence interval (i.e.,
the confidence level is <code class="reqn">1 - </code><code>alpha</code>).</p>
</td></tr>
<tr><td><code id="gpg_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="gpg_+3A_...">...</code></td>
<td>
<p>if <code>var</code> is not <code>NULL</code>, additional arguments to be
passed to <code><a href="#topic+variance">variance</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition (with default
method <code>"mean"</code> and alternative method <code>"median"</code>).  If weights are
provided, the weighted mean or weighted median is estimated.
</p>


<h3>Value</h3>

<p>A list of class <code>"gpg"</code> (which inherits from the class
<code>"indicator"</code>) with the following components:
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>a numeric vector containing the overall value(s).</p>
</td></tr>
<tr><td><code>valueByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the values by
domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>varMethod</code></td>
<td>
<p>a character string specifying the type of variance
estimation used, or <code>NULL</code> if variance estimation was omitted.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>a numeric vector containing the variance estimate(s), or
<code>NULL</code>.</p>
</td></tr>
<tr><td><code>varByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the variance
estimates by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>a numeric vector or matrix containing the lower and upper
endpoints of the confidence interval(s), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ciByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the lower and upper
endpoints of the confidence intervals by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>a numeric value giving the significance level used for
computing the confidence interv al(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>years</code></td>
<td>
<p>a numeric vector containing the different years of the
survey.</p>
</td></tr>
<tr><td><code>strata</code></td>
<td>
<p>a character vector containing the different domains of the
breakdown.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Matthias Templ and Alexander Haider, using code for breaking down
estimation by Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Working group on Statistics on Income and Living Conditions (2004)
Common cross-sectional EU indicators based on EU-SILC; the gender
pay gap.  <em>EU-SILC 131-rev/04</em>, Eurostat, Luxembourg.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+variance">variance</a></code>, <code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+gini">gini</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ses)

# overall value with mean
gpg("earningsHour", gender = "sex", weigths = "weights",
    data = ses)

# overall value with median
gpg("earningsHour", gender = "sex", weigths = "weights",
    data = ses, method = "median")

# values by education with mean
gpg("earningsHour", gender = "sex", weigths = "weights",
    breakdown = "education", data = ses)

# values by education with median
gpg("earningsHour", gender = "sex", weigths = "weights",
    breakdown = "education", data = ses, method = "median")

</code></pre>

<hr>
<h2 id='incMean'>Weighted mean income</h2><span id='topic+incMean'></span>

<h3>Description</h3>

<p>Compute the weighted mean income.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incMean(inc, weights = NULL, years = NULL, data = NULL, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incMean_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the (equivalized disposable)
income, or (if <code>data</code> is not <code>NULL</code>) a character string, an integer
or a logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="incMean_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="incMean_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="incMean_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="incMean_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector containing the value(s) of the weighted mean income
is returned.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>See Also</h3>

<p><code><a href="#topic+weightedMean">weightedMean</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
incMean("eqIncome", weights = "rb050", data = eusilc)

</code></pre>

<hr>
<h2 id='incMedian'>Weighted median income</h2><span id='topic+incMedian'></span>

<h3>Description</h3>

<p>Compute the weighted median income.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incMedian(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  data = NULL,
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incMedian_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the (equivalized disposable)
income, or (if <code>data</code> is not <code>NULL</code>) a character string, an integer
or a logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="incMedian_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="incMedian_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="incMedian_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="incMedian_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="incMedian_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A numeric vector containing the value(s) of the weighted median
income is returned.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arpt">arpt</a></code>, <code><a href="#topic+weightedMedian">weightedMedian</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
incMedian("eqIncome", weights = "rb050", data = eusilc)

</code></pre>

<hr>
<h2 id='incQuintile'>Weighted income quintile</h2><span id='topic+incQuintile'></span>

<h3>Description</h3>

<p>Compute weighted income quintiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>incQuintile(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  k = c(1, 4),
  data = NULL,
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="incQuintile_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the (equivalized disposable)
income, or (if <code>data</code> is not <code>NULL</code>) a character string, an integer
or a logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="incQuintile_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="incQuintile_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="incQuintile_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="incQuintile_+3A_k">k</code></td>
<td>
<p>a vector of integers between 0 and 5 specifying the quintiles to be
computed (0 gives the minimum, 5 the maximum).</p>
</td></tr>
<tr><td><code id="incQuintile_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="incQuintile_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A numeric vector (if <code>years</code> is <code>NULL</code>) or matrix (if
<code>years</code> is not <code>NULL</code>) containing the values of the weighted income
quintiles specified by <code>k</code> are returned.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+weightedQuantile">weightedQuantile</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
incQuintile("eqIncome", weights = "rb050", data = eusilc)

</code></pre>

<hr>
<h2 id='meanExcessPlot'>Mean excess plot</h2><span id='topic+meanExcessPlot'></span>

<h3>Description</h3>

<p>The Mean Excess plot is a graphical method for detecting the threshold (scale
parameter) of a Pareto distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanExcessPlot(
  x,
  w = NULL,
  probs = NULL,
  interactive = TRUE,
  pch = par("pch"),
  cex = par("cex"),
  col = par("col"),
  bg = "transparent",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanExcessPlot_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="meanExcessPlot_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="meanExcessPlot_+3A_probs">probs</code></td>
<td>
<p>an optional numeric vector of probabilities with values in
<code class="reqn">[0,1]</code>, defining the quantiles to be plotted.  This is useful for large
data sets, when it may not be desirable to plot every single point.</p>
</td></tr>
<tr><td><code id="meanExcessPlot_+3A_interactive">interactive</code></td>
<td>
<p>a logical indicating whether the threshold (scale
parameter) can be selected interactively by clicking on points.  Information
on the selected threshold is then printed on the console.</p>
</td></tr>
<tr><td><code id="meanExcessPlot_+3A_pch">pch</code>, <code id="meanExcessPlot_+3A_cex">cex</code>, <code id="meanExcessPlot_+3A_col">col</code>, <code id="meanExcessPlot_+3A_bg">bg</code></td>
<td>
<p>graphical parameters for the plot symbol of each data
point or quantile (see <code><a href="graphics.html#topic+points">points</a></code>).</p>
</td></tr>
<tr><td><code id="meanExcessPlot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="graphics.html#topic+plot.default">plot.default</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The corresponding mean excesses are plotted against the values of <code>x</code>
(if supplied, only those specified by <code>probs</code>).  If the tail of the data
follows a Pareto distribution, these observations show a positive linear
trend. The leftmost point of a fitted line can thus be used as an estimate of
the threshold (scale parameter).
</p>
<p>The interactive selection of the threshold (scale parameter) is implemented
using <code><a href="graphics.html#topic+identify">identify</a></code>.  For the usual <code>X11</code> device, the
selection process is thus terminated by pressing any mouse button other than
the first.  For the <code>quartz</code> device (on Mac OS X systems), the process
is terminated either by a secondary click (usually second mouse button or
<code>Ctrl</code>-click) or by pressing the <code>ESC</code> key.
</p>


<h3>Value</h3>

<p>If <code>interactive</code> is <code>TRUE</code>, the last selection for the
threshold is returned invisibly as an object of class <code>"paretoScale"</code>,
which consists of the following components:
</p>
<table>
<tr><td><code>x0</code></td>
<td>
<p>the selected threshold (scale parameter).</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>the number of observations in the tail (i.e., larger than the
threshold).</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The functionality to account for sample weights and to select the
threshold (scale parameter) interactively was introduced in version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoScale">paretoScale</a></code>, <code><a href="#topic+paretoTail">paretoTail</a></code>,
<code><a href="#topic+minAMSE">minAMSE</a></code>, <code><a href="#topic+paretoQPlot">paretoQPlot</a></code>,
<code><a href="graphics.html#topic+identify">identify</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# with sample weights
meanExcessPlot(eusilc$eqIncome, w = eusilc$db090)

# without sample weights
meanExcessPlot(eusilc$eqIncome)

</code></pre>

<hr>
<h2 id='minAMSE'>Weighted asymptotic mean squared error (AMSE) estimator</h2><span id='topic+minAMSE'></span><span id='topic+print.minAMSE'></span>

<h3>Description</h3>

<p>Estimate the scale and shape parameters of a Pareto distribution with an
iterative procedure based on minimizing the weighted asymptotic mean squared
error (AMSE) of the Hill estimator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>minAMSE(
  x,
  weight = c("Bernoulli", "JASA"),
  kmin,
  kmax,
  mmax,
  tol = 0,
  maxit = 100
)

## S3 method for class 'minAMSE'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="minAMSE_+3A_x">x</code></td>
<td>
<p>for <code>minAMSE</code>, a numeric vector.  The <code>print</code> method is
called by the generic function if an object of class <code>"minAMSE"</code> is
supplied.</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_weight">weight</code></td>
<td>
<p>a character vector specifying the weighting scheme to be used
in the procedure.  If <code>"Bernoulli"</code>, the weight functions as described
in the <em>Bernoulli</em> paper are applied.  If <code>"JASA"</code>, the weight
functions as described in the <em>Journal of the Americal Statistical
Association</em> are used.</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_kmin">kmin</code></td>
<td>
<p>An optional integer giving the lower bound for finding the
optimal number of observations in the tail.  It defaults to
<code class="reqn">[\frac{n}{100}]</code>, where <code class="reqn">n</code> denotes the number of
observations in <code>x</code> (see the references).</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_kmax">kmax</code></td>
<td>
<p>An optional integer giving the upper bound for finding the
optimal number of observations in the tail (see &ldquo;Details&rdquo;).</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_mmax">mmax</code></td>
<td>
<p>An optional integer giving the upper bound for finding the
optimal number of observations for computing the nuisance parameter
<code class="reqn">\rho</code> (see &ldquo;Details&rdquo; and the references).</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_tol">tol</code></td>
<td>
<p>an integer giving the desired tolerance level for finding the
optimal number of observations in the tail.</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_maxit">maxit</code></td>
<td>
<p>a positive integer giving the maximum number of iterations.</p>
</td></tr>
<tr><td><code id="minAMSE_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="base.html#topic+print.default">print.default</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The weights used in the weighted AMSE depend on a nuisance parameter
<code class="reqn">\rho</code>.  Both the optimal number of observations in the tail and the
nuisance parameter <code class="reqn">\rho</code> are estimated iteratively using nonlinear
integer minimization.  This is currently done by a brute force algorithm,
hence it is stronly recommended to supply upper bounds <code>kmax</code> and
<code>mmax</code>.
</p>
<p>See the references for more details on the iterative algorithm.
</p>


<h3>Value</h3>

<p>An object of class <code>"minAMSE"</code> with the following components:
</p>
<table>
<tr><td><code>kopt</code></td>
<td>
<p>the optimal number of observations in the tail.</p>
</td></tr>
<tr><td><code>x0</code></td>
<td>
<p>the corresponding threshold.</p>
</td></tr>
<tr><td><code>theta</code></td>
<td>
<p>the estimated shape parameter of the Pareto distribution.</p>
</td></tr>
<tr><td><code>MSEmin</code></td>
<td>
<p>the minimal MSE.</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>the estimated nuisance parameter.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>the examined range for the number of observations in the tail.</p>
</td></tr>
<tr><td><code>MSE</code></td>
<td>
<p>the corresponding MSEs.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Josef Holzer and Andreas Alfons
</p>


<h3>References</h3>

<p>Beirlant, J., Vynckier, P. and Teugels, J.L. (1996) Tail index
estimation, Pareto quantile plots, and regression diagnostics. <em>Journal
of the American Statistical Association</em>, <b>91</b>(436), 1659&ndash;1667.
</p>
<p>Beirlant, J., Vynckier, P. and Teugels, J.L. (1996) Excess functions and
estimation of the extreme-value index. <em>Bernoulli</em>, <b>2</b>(4),
293&ndash;318.
</p>
<p>Dupuis, D.J. and Victoria-Feser, M.-P. (2006) A robust prediction error
criterion for Pareto modelling of upper tails. <em>The Canadian Journal of
Statistics</em>, <b>34</b>(4), 639&ndash;658.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+thetaHill">thetaHill</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
minAMSE(eusilc$eqIncome[!duplicated(eusilc$db030)],
    kmin = 60, kmax = 150, mmax = 250)

</code></pre>

<hr>
<h2 id='paretoQPlot'>Pareto quantile plot</h2><span id='topic+paretoQPlot'></span>

<h3>Description</h3>

<p>The Pareto quantile plot is a graphical method for inspecting the parameters
of a Pareto distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paretoQPlot(
  x,
  w = NULL,
  xlab = NULL,
  ylab = NULL,
  interactive = TRUE,
  x0 = NULL,
  theta = NULL,
  pch = par("pch"),
  cex = par("cex"),
  col = par("col"),
  bg = "transparent",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paretoQPlot_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="paretoQPlot_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="paretoQPlot_+3A_xlab">xlab</code>, <code id="paretoQPlot_+3A_ylab">ylab</code></td>
<td>
<p>axis labels.</p>
</td></tr>
<tr><td><code id="paretoQPlot_+3A_interactive">interactive</code></td>
<td>
<p>a logical indicating whether the threshold (scale
parameter) can be selected interactively by clicking on points.  Information
on the selected threshold is then printed on the console.</p>
</td></tr>
<tr><td><code id="paretoQPlot_+3A_x0">x0</code>, <code id="paretoQPlot_+3A_theta">theta</code></td>
<td>
<p>optional; if estimates of the threshold (scale parameter)
and the shape parameter have already been obtained, they can be passed
through the corresponding argument (<code>x0</code> for the threshold,
<code>theta</code> for the shape parameter).  If both arguments are supplied and
<code>interactive</code> is not <code>TRUE</code>, reference lines are drawn to indicate
the parameter estimates.</p>
</td></tr>
<tr><td><code id="paretoQPlot_+3A_pch">pch</code>, <code id="paretoQPlot_+3A_cex">cex</code>, <code id="paretoQPlot_+3A_col">col</code>, <code id="paretoQPlot_+3A_bg">bg</code></td>
<td>
<p>graphical parameters for the plot symbol of each data
point (see <code><a href="graphics.html#topic+points">points</a></code>).</p>
</td></tr>
<tr><td><code id="paretoQPlot_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="graphics.html#topic+plot.default">plot.default</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the Pareto model holds, there exists a linear relationship between the
lograrithms of the observed values and the quantiles of the standard
exponential distribution, since the logarithm of a Pareto distributed random
variable follows an exponential distribution.  Hence the logarithms of the
observed values are plotted against the corresponding theoretical quantiles.
If the tail of the data follows a Pareto distribution, these observations
form almost a straight line.  The leftmost point of a fitted line can thus be
used as an estimate of the threshold (scale parameter). The slope of the
fitted line is in turn an estimate of <code class="reqn">\frac{1}{\theta}</code>, the
reciprocal of the shape parameter.
</p>
<p>The interactive selection of the threshold (scale parameter) is implemented
using <code><a href="graphics.html#topic+identify">identify</a></code>.  For the usual <code>X11</code> device, the
selection process is thus terminated by pressing any mouse button other than
the first.  For the <code>quartz</code> device (on Mac OS X systems), the process
is terminated either by a secondary click (usually second mouse button or
<code>Ctrl</code>-click) or by pressing the <code>ESC</code> key.
</p>


<h3>Value</h3>

<p>If <code>interactive</code> is <code>TRUE</code>, the last selection for the
threshold is returned invisibly as an object of class <code>"paretoScale"</code>,
which consists of the following components:
</p>
<table>
<tr><td><code>x0</code></td>
<td>
<p>the selected threshold (scale parameter).</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>the number of observations in the tail (i.e., larger than the
threshold).</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The functionality to account for sample weights and to select the
threshold (scale parameter) interactively was introduced in version 0.2.
Also starting with version 0.2, a logarithmic y-axis is now used to display
the axis labels in the scale of the original values.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal
of the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>
<p>Beirlant, J., Vynckier, P. and Teugels, J.L. (1996) Tail index estimation,
Pareto quantile plots, and regression diagnostics. <em>Journal of the
American Statistical Association</em>, <b>91</b>(436), 1659&ndash;1667.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoScale">paretoScale</a></code>, <code><a href="#topic+paretoTail">paretoTail</a></code>,
<code><a href="#topic+minAMSE">minAMSE</a></code>, <code><a href="#topic+meanExcessPlot">meanExcessPlot</a></code>,
<code><a href="graphics.html#topic+identify">identify</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# with sample weights
paretoQPlot(eusilc$eqIncome, w = eusilc$db090)

# without sample weights
paretoQPlot(eusilc$eqIncome)

</code></pre>

<hr>
<h2 id='paretoScale'>Estimate the scale parameter of a Pareto distribution</h2><span id='topic+paretoScale'></span><span id='topic+print.paretoScale'></span>

<h3>Description</h3>

<p>Estimate the scale parameter of a Pareto distribution, i.e., the threshold
for Pareto tail modeling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paretoScale(
  x,
  w = NULL,
  groups = NULL,
  method = "VanKerm",
  center = c("mean", "median"),
  probs = c(0.97, 0.98),
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paretoScale_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="paretoScale_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="paretoScale_+3A_groups">groups</code></td>
<td>
<p>an optional vector or factor specifying groups of elements of
<code>x</code> (e.g., households).  If supplied, each group of observations is
expected to have the same value in <code>x</code> (e.g., household income).  Only
the values of every first group member to appear are used for estimating the
threshold (scale parameter).</p>
</td></tr>
<tr><td><code id="paretoScale_+3A_method">method</code></td>
<td>
<p>a character string specifying the estimation method.  If
<code>"VanKerm"</code>, Van Kerm's method is used, which is a rule of thumb
specifically designed for the equivalized disposable income in EU-SILC data
(currently the only method implemented).</p>
</td></tr>
<tr><td><code id="paretoScale_+3A_center">center</code></td>
<td>
<p>a character string specifying the estimation method for the
center of the distribution.  Possible values are <code>"mean"</code> for the
weighted mean and <code>"median"</code> for the weighted median.  This is used if
<code>method</code> is <code>"VanKerm"</code> (currently the only method implemented).</p>
</td></tr>
<tr><td><code id="paretoScale_+3A_probs">probs</code></td>
<td>
<p>a numeric vector of length two giving probabilities to be used
for computing weighted quantiles of the distribution.  Values should be close
to 1 such that the quantiles correspond to the upper tail.  This is used if
<code>method</code> is <code>"VanKerm"</code> (currently the only method implemented).</p>
</td></tr>
<tr><td><code id="paretoScale_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values in <code>x</code> should
be omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Van Kerm's formula is given by </p>
<p style="text-align: center;"><code class="reqn">\min(\max(2.5 \bar{x}, q(0.98),
q(0.97))),</code>
</p>
<p> where <code class="reqn">\bar{x}</code>
denotes the weighted mean and <code class="reqn">q(.)</code> denotes weighted quantiles.  This
function allows to compute generalizations of Van Kerm's formula, where the
mean can be replaced by the median and different quantiles can be used.
</p>


<h3>Value</h3>

<p>An object of class <code>"paretoScale"</code> with the following
components:
</p>
<table>
<tr><td><code>x0</code></td>
<td>
<p>the threshold (scale parameter).</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>the number of observations in the tail (i.e., larger than the
threshold).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Van Kerm, P. (2007) Extreme incomes and the estimation of poverty and
inequality indicators from EU-SILC. IRISS Working Paper Series 2007-01,
CEPS/INSTEAD.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+minAMSE">minAMSE</a></code>, <code><a href="#topic+paretoQPlot">paretoQPlot</a></code>,
<code><a href="#topic+meanExcessPlot">meanExcessPlot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
paretoScale(eusilc$eqIncome, eusilc$db090, groups = eusilc$db030)

</code></pre>

<hr>
<h2 id='paretoTail'>Pareto tail modeling for income distributions</h2><span id='topic+paretoTail'></span><span id='topic+print.paretoTail'></span>

<h3>Description</h3>

<p>Fit a Pareto distribution to the upper tail of income data.  Since a
theoretical distribution is used for the upper tail, this is a semiparametric
approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paretoTail(
  x,
  k = NULL,
  x0 = NULL,
  method = "thetaPDC",
  groups = NULL,
  w = NULL,
  alpha = 0.01,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paretoTail_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_method">method</code></td>
<td>
<p>either a function or a character string specifying the function
to be used to estimate the shape parameter of the Pareto distibution, such as
<code><a href="#topic+thetaPDC">thetaPDC</a></code> (the default).  See &ldquo;Details&rdquo; for requirements
for such a function and &ldquo;See also&rdquo; for available functions.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_groups">groups</code></td>
<td>
<p>an optional vector or factor specifying groups of elements of
<code>x</code> (e.g., households).  If supplied, each group of observations is
expected to have the same value in <code>x</code> (e.g., household income).  Only
the values of every first group member to appear are used for fitting the
Pareto distribution.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_alpha">alpha</code></td>
<td>
<p>numeric; values above the theoretical <code class="reqn">1 - </code><code>alpha</code>
quantile of the fitted Pareto distribution will be flagged as outliers for
further treatment with <code><a href="#topic+reweightOut">reweightOut</a></code> or <code><a href="#topic+replaceOut">replaceOut</a></code>.</p>
</td></tr>
<tr><td><code id="paretoTail_+3A_...">...</code></td>
<td>
<p>addtional arguments to be passed to the specified method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used.
</p>
<p>The function supplied to <code>method</code> should take a numeric vector (the
observations) as its first argument.  If <code>k</code> is supplied, it will be
passed on (in this case, the function is required to have an argument called
<code>k</code>).  Similarly, if the threshold <code>x0</code> is supplied, it will be
passed on (in this case, the function is required to have an argument called
<code>x0</code>).  As above, only <code>k</code> is passed on if both are supplied.  If
the function specified by <code>method</code> can handle sample weights, the
corresponding argument should be called <code>w</code>.  Additional arguments are
passed via the ... argument.
</p>


<h3>Value</h3>

<p>An object of class <code>"paretoTail"</code> with the following
components:
</p>
<table>
<tr><td><code>x</code></td>
<td>
<p>the supplied numeric vector.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>the number of observations in the upper tail to which the
Pareto distribution has been fitted.</p>
</td></tr>
<tr><td><code>groups</code></td>
<td>
<p>if supplied, the vector or factor specifying groups of
elements.</p>
</td></tr>
<tr><td><code>w</code></td>
<td>
<p>if supplied, the numeric vector of sample weights.</p>
</td></tr>
<tr><td><code>method</code></td>
<td>
<p>the function used to estimate the shape parameter, or the
name of the function.</p>
</td></tr>
<tr><td><code>x0</code></td>
<td>
<p>the scale parameter.</p>
</td></tr>
<tr><td><code>theta</code></td>
<td>
<p>the estimated shape parameter.</p>
</td></tr>
<tr><td><code>tail</code></td>
<td>
<p>if <code>groups</code> is not <code>NULL</code>, this gives the groups
with values larger than the threshold (scale parameter), otherwise the
indices of observations in the upper tail.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>the tuning parameter <code>alpha</code> used for flagging
outliers.</p>
</td></tr>
<tr><td><code>out</code></td>
<td>
<p>if <code>groups</code> is not <code>NULL</code>, this gives the groups
that are flagged as outliers, otherwise the indices of the flagged
observations.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal
of the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+reweightOut">reweightOut</a></code>, <code><a href="#topic+shrinkOut">shrinkOut</a></code>,
<code><a href="#topic+replaceOut">replaceOut</a></code>, <code><a href="#topic+replaceTail">replaceTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>
</p>
<p><code><a href="#topic+thetaPDC">thetaPDC</a></code>, <code><a href="#topic+thetaWML">thetaWML</a></code>, <code><a href="#topic+thetaHill">thetaHill</a></code>,
<code><a href="#topic+thetaISE">thetaISE</a></code>, <code><a href="#topic+thetaLS">thetaLS</a></code>, <code><a href="#topic+thetaMoment">thetaMoment</a></code>,
<code><a href="#topic+thetaQQ">thetaQQ</a></code>, <code><a href="#topic+thetaTM">thetaTM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)


## gini coefficient without Pareto tail modeling
gini("eqIncome", weights = "rb050", data = eusilc)


## gini coefficient with Pareto tail modeling

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090,
    groups = eusilc$db030)

# estimate shape parameter
fit &lt;- paretoTail(eusilc$eqIncome, k = ts$k,
    w = eusilc$db090, groups = eusilc$db030)

# calibration of outliers
w &lt;- reweightOut(fit, calibVars(eusilc$db040))
gini(eusilc$eqIncome, w)

# winsorization of outliers
eqIncome &lt;- shrinkOut(fit)
gini(eqIncome, weights = eusilc$rb050)

# replacement of outliers
eqIncome &lt;- replaceOut(fit)
gini(eqIncome, weights = eusilc$rb050)

# replacement of whole tail
eqIncome &lt;- replaceTail(fit)
gini(eqIncome, weights = eusilc$rb050)

</code></pre>

<hr>
<h2 id='plot.paretoTail'>Diagnostic plot for the Pareto tail model</h2><span id='topic+plot.paretoTail'></span>

<h3>Description</h3>

<p>Produce a diagnostic Pareto quantile plot for evaluating the fitted Pareto
distribution.  Reference lines indicating the estimates of the threshold
(scale parameter) and the shape parameter are added to the plot, and any
detected outliers are highlighted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'paretoTail'
plot(
  x,
  pch = c(1, 3),
  cex = 1,
  col = c("black", "red"),
  bg = "transparent",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.paretoTail_+3A_x">x</code></td>
<td>
<p>an object of class <code>"paretoTail"</code> as returned by
<code><a href="#topic+paretoTail">paretoTail</a></code>.</p>
</td></tr>
<tr><td><code id="plot.paretoTail_+3A_pch">pch</code>, <code id="plot.paretoTail_+3A_cex">cex</code>, <code id="plot.paretoTail_+3A_col">col</code>, <code id="plot.paretoTail_+3A_bg">bg</code></td>
<td>
<p>graphical parameters.  Each can be a vector of length
two, with the first and second element giving the graphical parameter for
the good data points and the outliers, respectively.</p>
</td></tr>
<tr><td><code id="plot.paretoTail_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="#topic+paretoQPlot">paretoQPlot</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>While the first horizontal line indicates the estimated threshold (scale
parameter), the estimated shape parameter is indicated by a line whose slope
is given by the reciprocal of the estimate.  In addition, the second
horizontal line represents the theoretical quantile of the fitted
distribution that is used for outlier detection.  Thus all values above that
line are the detected outliers.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+paretoQPlot">paretoQPlot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090,
    groups = eusilc$db030)

# estimate shape parameter
fit &lt;- paretoTail(eusilc$eqIncome, k = ts$k,
    w = eusilc$db090, groups = eusilc$db030)

# produce plot
plot(fit)

</code></pre>

<hr>
<h2 id='prop'>Proportion of an alternative distribution</h2><span id='topic+prop'></span>

<h3>Description</h3>

<p>Estimate the proportion of an alternative distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop(
  bin,
  weights = NULL,
  sort = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  var = NULL,
  alpha = 0.05,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop_+3A_bin">bin</code></td>
<td>
<p>either a factor vector giving the values,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="prop_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="prop_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="prop_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="prop_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.</p>
</td></tr>
<tr><td><code id="prop_+3A_design">design</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>; either
an integer vector or factor giving different domains for stratified sampling
designs, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="prop_+3A_cluster">cluster</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>;
either an integer vector or factor giving different clusters for cluster
sampling designs, or (if <code>data</code> is not <code>NULL</code>) a character string,
an integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="prop_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="prop_+3A_var">var</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used, or <code>NULL</code> to omit variance estimation.  See
<code><a href="#topic+variance">variance</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="prop_+3A_alpha">alpha</code></td>
<td>
<p>numeric; if <code>var</code> is not <code>NULL</code>, this gives the
significance level to be used for computing the confidence interval (i.e.,
the confidence level is <code class="reqn">1 - </code><code>alpha</code>).</p>
</td></tr>
<tr><td><code id="prop_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="prop_+3A_...">...</code></td>
<td>
<p>if <code>var</code> is not <code>NULL</code>, additional arguments to be
passed to <code><a href="#topic+variance">variance</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If weights are provided, the weighted proportion is estimated.
</p>


<h3>Value</h3>

<p>A list of class <code>"prop"</code> (which inherits from the class
<code>"indicator"</code>) with the following components:
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>a numeric vector containing the overall value(s).</p>
</td></tr>
<tr><td><code>valueByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the values by
domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>varMethod</code></td>
<td>
<p>a character string specifying the type of variance
estimation used, or <code>NULL</code> if variance estimation was omitted.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>a numeric vector containing the variance estimate(s), or
<code>NULL</code>.</p>
</td></tr>
<tr><td><code>varByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the variance
estimates by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>a numeric vector or matrix containing the lower and upper
endpoints of the confidence interval(s), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ciByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the lower and upper
endpoints of the confidence intervals by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>a numeric value giving the significance level used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>years</code></td>
<td>
<p>a numeric vector containing the different years of the
survey.</p>
</td></tr>
<tr><td><code>strata</code></td>
<td>
<p>a character vector containing the different domains of the
breakdown.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Matthias Templ, using code for breaking down
estimation by Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Working group on Statistics on Income and Living Conditions (2004)
Common cross-sectional EU indicators based on EU-SILC; the gender
pay gap.  <em>EU-SILC 131-rev/04</em>, Eurostat, Luxembourg.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+variance">variance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# overall value
prop("rb090", weights = "rb050", data = eusilc)

# values by region
p1 &lt;- prop("rb090", weights = "rb050",
    breakdown = "db040",  cluster = "db030",
    data = eusilc)

p1

## Not run: 
variance("rb090", weights = "rb050",
    breakdown = "db040", data = eusilc, indicator=p1,
    cluster="db030", X = calibVars(eusilc$db040))

## End(Not run)


eusilc$agecut &lt;- cut(eusilc$age, 2)
p1 &lt;- prop("agecut", weights = "rb050",
           breakdown = "db040",
           cluster="db030", data = eusilc)
p1

## Not run: 
variance("agecut", weights = "rb050",
         breakdown = "db040", data = eusilc, indicator=p1,
         X = calibVars(eusilc$db040), cluster="db030")

## End(Not run)


eusilc$eqIncomeCat &lt;- factor(ifelse(eusilc$eqIncome &lt; quantile(eusilc$eqIncome,0.2), "one", "two"))
p1 &lt;- prop("eqIncomeCat", weights = "rb050",
           breakdown = "db040", data = eusilc, cluster="db030")
p1

## Not run: 
variance("eqIncomeCat", weights = "rb050",
         breakdown = "db040", data = eusilc, indicator=p1,
         X = calibVars(eusilc$db040), cluster="db030")

## End(Not run)


</code></pre>

<hr>
<h2 id='qsr'>Quintile share ratio</h2><span id='topic+qsr'></span>

<h3>Description</h3>

<p>Estimate the quintile share ratio, which is defined as the ratio of the sum
of equivalized disposable income received by the top 20% to the sum of
equivalized disposable income received by the bottom 20%.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qsr(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  var = NULL,
  alpha = 0.05,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qsr_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="qsr_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="qsr_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="qsr_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="qsr_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.</p>
</td></tr>
<tr><td><code id="qsr_+3A_design">design</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>; either
an integer vector or factor giving different strata for stratified sampling
designs, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="qsr_+3A_cluster">cluster</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>;
either an integer vector or factor giving different clusters for cluster
sampling designs, or (if <code>data</code> is not <code>NULL</code>) a character string,
an integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="qsr_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="qsr_+3A_var">var</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used, or <code>NULL</code> to omit variance estimation.  See
<code><a href="#topic+variance">variance</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="qsr_+3A_alpha">alpha</code></td>
<td>
<p>numeric; if <code>var</code> is not <code>NULL</code>, this gives the
significance level to be used for computing the confidence interval (i.e.,
the confidence level is <code class="reqn">1 - </code><code>alpha</code>).</p>
</td></tr>
<tr><td><code id="qsr_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="qsr_+3A_...">...</code></td>
<td>
<p>if <code>var</code> is not <code>NULL</code>, additional arguments to be
passed to <code><a href="#topic+variance">variance</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A list of class <code>"qsr"</code> (which inherits from the class
<code>"indicator"</code>) with the following components:
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>a numeric vector containing the overall value(s).</p>
</td></tr>
<tr><td><code>valueByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the values by
domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>varMethod</code></td>
<td>
<p>a character string specifying the type of variance
estimation used, or <code>NULL</code> if variance estimation was omitted.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>a numeric vector containing the variance estimate(s), or
<code>NULL</code>.</p>
</td></tr>
<tr><td><code>varByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the variance
estimates by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>a numeric vector or matrix containing the lower and upper
endpoints of the confidence interval(s), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ciByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the lower and upper
endpoints of the confidence intervals by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>a numeric value giving the significance level used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>years</code></td>
<td>
<p>a numeric vector containing the different years of the
survey.</p>
</td></tr>
<tr><td><code>strata</code></td>
<td>
<p>a character vector containing the different domains of the
breakdown.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Working group on Statistics on Income and Living Conditions (2004)
Common cross-sectional EU indicators based on EU-SILC; the gender
pay gap.  <em>EU-SILC 131-rev/04</em>, Eurostat, Luxembourg.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+incQuintile">incQuintile</a></code>, <code><a href="#topic+variance">variance</a></code>,
<code><a href="#topic+gini">gini</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# overall value
qsr("eqIncome", weights = "rb050", data = eusilc)

# values by region
qsr("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)

</code></pre>

<hr>
<h2 id='replaceTail'>Replace observations under a Pareto model</h2><span id='topic+replaceTail'></span><span id='topic+replaceTail.paretoTail'></span><span id='topic+replaceOut'></span>

<h3>Description</h3>

<p>Replace observations under a Pareto model for the upper tail with values
drawn from the fitted distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replaceTail(x, ...)

## S3 method for class 'paretoTail'
replaceTail(x, all = TRUE, ...)

replaceOut(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replaceTail_+3A_x">x</code></td>
<td>
<p>an object of class <code>"paretoTail"</code> (see
<code><a href="#topic+paretoTail">paretoTail</a></code>).</p>
</td></tr>
<tr><td><code id="replaceTail_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down.</p>
</td></tr>
<tr><td><code id="replaceTail_+3A_all">all</code></td>
<td>
<p>a logical indicating whether all observations in the upper tail
should be replaced or only those flagged as outliers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>replaceOut(x, ...{})</code> is a simple wrapper for <code>replaceTail(x,
all = FALSE, ...{})</code>.
</p>


<h3>Value</h3>

<p>A numeric vector consisting mostly of the original values, but with
observations in the upper tail replaced with values from the fitted Pareto
distribution.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal
of the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+reweightOut">reweightOut</a></code>,
<code><a href="#topic+shrinkOut">shrinkOut</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)


## gini coefficient without Pareto tail modeling
gini("eqIncome", weights = "rb050", data = eusilc)


## gini coefficient with Pareto tail modeling

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090,
    groups = eusilc$db030)

# estimate shape parameter
fit &lt;- paretoTail(eusilc$eqIncome, k = ts$k,
    w = eusilc$db090, groups = eusilc$db030)

# replacement of outliers
eqIncome &lt;- replaceOut(fit)
gini(eqIncome, weights = eusilc$rb050)

# replacement of whole tail
eqIncome &lt;- replaceTail(fit)
gini(eqIncome, weights = eusilc$rb050)

</code></pre>

<hr>
<h2 id='reweightOut'>Reweight outliers in the Pareto model</h2><span id='topic+reweightOut'></span><span id='topic+reweightOut.paretoTail'></span>

<h3>Description</h3>

<p>Reweight observations that are flagged as outliers in a Pareto model for the
upper tail of the distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reweightOut(x, ...)

## S3 method for class 'paretoTail'
reweightOut(x, X, w = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reweightOut_+3A_x">x</code></td>
<td>
<p>an object of class <code>"paretoTail"</code> (see
<code><a href="#topic+paretoTail">paretoTail</a></code>).</p>
</td></tr>
<tr><td><code id="reweightOut_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down.</p>
</td></tr>
<tr><td><code id="reweightOut_+3A_x">X</code></td>
<td>
<p>a matrix of binary calibration variables (see
<code><a href="#topic+calibVars">calibVars</a></code>).  This is only used if <code>x</code> contains sample
weights or if <code>w</code> is supplied.</p>
</td></tr>
<tr><td><code id="reweightOut_+3A_w">w</code></td>
<td>
<p>a numeric vector of sample weights. This is only used if <code>x</code>
does not contain sample weights, i.e., if sample weights were not considered
in estimating the shape parameter of the Pareto distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the data contain sample weights, the weights of the outlying observations
are set to <code class="reqn">1</code> and the weights of the remaining observations are
calibrated according to auxiliary variables.  Otherwise, weight <code class="reqn">0</code> is
assigned to outliers and weight <code class="reqn">1</code> to other observations.
</p>


<h3>Value</h3>

<p>If the data contain sample weights, a numeric containing the
recalibrated weights is returned, otherwise a numeric vector assigning weight
<code class="reqn">0</code> to outliers and weight <code class="reqn">1</code> to other observations.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal
of the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+shrinkOut">shrinkOut</a></code> ,
<code><a href="#topic+replaceOut">replaceOut</a></code>, <code><a href="#topic+replaceTail">replaceTail</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

## gini coefficient without Pareto tail modeling
gini("eqIncome", weights = "rb050", data = eusilc)

## gini coefficient with Pareto tail modeling
# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090,
    groups = eusilc$db030)
# estimate shape parameter
fit &lt;- paretoTail(eusilc$eqIncome, k = ts$k,
    w = eusilc$db090, groups = eusilc$db030)
# calibration of outliers
w &lt;- reweightOut(fit, calibVars(eusilc$db040))
gini(eusilc$eqIncome, w)

</code></pre>

<hr>
<h2 id='rmpg'>Relative median at-risk-of-poverty gap</h2><span id='topic+rmpg'></span>

<h3>Description</h3>

<p>Estimate the relative median at-risk-of-poverty gap, which is defined as the
relative difference between the median equivalized disposable income of
persons below the at-risk-of-poverty threshold and the at-risk-of-poverty
threshold itself (expressed as a percentage of the at-risk-of-poverty
threshold).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmpg(
  inc,
  weights = NULL,
  sort = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  var = NULL,
  alpha = 0.05,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmpg_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_sort">sort</code></td>
<td>
<p>optional; either a numeric vector giving the personal IDs to be
used as tie-breakers for sorting, or (if <code>data</code> is not <code>NULL</code>) a
character string, an integer or a logical vector specifying the corresponding
column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.  Note that the same (overall) threshold is used for all domains.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_design">design</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>; either
an integer vector or factor giving different strata for stratified sampling
designs, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_cluster">cluster</code></td>
<td>
<p>optional and only used if <code>var</code> is not <code>NULL</code>;
either an integer vector or factor giving different clusters for cluster
sampling designs, or (if <code>data</code> is not <code>NULL</code>) a character string,
an integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_var">var</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used, or <code>NULL</code> to omit variance estimation.  See
<code><a href="#topic+variance">variance</a></code> for possible values.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_alpha">alpha</code></td>
<td>
<p>numeric; if <code>var</code> is not <code>NULL</code>, this gives the
significance level to be used for computing the confidence interval (i.e.,
the confidence level is <code class="reqn">1 - </code><code>alpha</code>).</p>
</td></tr>
<tr><td><code id="rmpg_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="rmpg_+3A_...">...</code></td>
<td>
<p>if <code>var</code> is not <code>NULL</code>, additional arguments to be
passed to <code><a href="#topic+variance">variance</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A list of class <code>"rmpg"</code> (which inherits from the class
<code>"indicator"</code>) with the following components:
</p>
<table>
<tr><td><code>value</code></td>
<td>
<p>a numeric vector containing the overall value(s).</p>
</td></tr>
<tr><td><code>valueByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the values by
domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>varMethod</code></td>
<td>
<p>a character string specifying the type of variance
estimation used, or <code>NULL</code> if variance estimation was omitted.</p>
</td></tr>
<tr><td><code>var</code></td>
<td>
<p>a numeric vector containing the variance estimate(s), or
<code>NULL</code>.</p>
</td></tr>
<tr><td><code>varByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the variance
estimates by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ci</code></td>
<td>
<p>a numeric vector or matrix containing the lower and upper
endpoints of the confidence interval(s), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>ciByStratum</code></td>
<td>
<p>a <code>data.frame</code> containing the lower and upper
endpoints of the confidence intervals by domain, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>a numeric value giving the significance level used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code>years</code></td>
<td>
<p>a numeric vector containing the different years of the
survey.</p>
</td></tr>
<tr><td><code>strata</code></td>
<td>
<p>a character vector containing the different domains of the
breakdown.</p>
</td></tr>
<tr><td><code>threshold</code></td>
<td>
<p>a numeric vector containing the at-risk-of-poverty
threshold(s).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>Working group on Statistics on Income and Living Conditions (2004)
Common cross-sectional EU indicators based on EU-SILC; the gender
pay gap.  <em>EU-SILC 131-rev/04</em>, Eurostat, Luxembourg.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arpt">arpt</a></code>, <code><a href="#topic+variance">variance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# overall value
rmpg("eqIncome", weights = "rb050", data = eusilc)

# values by region
rmpg("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)

</code></pre>

<hr>
<h2 id='ses'>
Synthetic SES survey data
</h2><span id='topic+ses'></span>

<h3>Description</h3>

<p>This data set is a subset of synthetically generated real Austrian SES (Structural Earnings Survey) data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ses)</code></pre>


<h3>Format</h3>

<p>A data frame with 115691  observations on the following 28 variables.
</p>

<dl>
<dt><code>location</code></dt><dd><p>geographical location with levels <code>AT1</code>
(eastern Austria), <code>AT2</code> (southern Austria), and <code>AT3</code>
(western Austria).
</p>
</dd>
<dt><code>NACE1</code></dt><dd><p>economic branch given in NACE (C - O) 1-digit
classification.
</p>
</dd>
<dt><code>size</code></dt><dd><p>employment size range in 5 categories.</p>
</dd>
<dt><code>economicFinanc</code></dt><dd><p>form of economic and financial control (levels
<code>A</code> = public and financial control, <code>B</code> = private control).
</p>
</dd>
<dt><code>payAgreement</code></dt><dd><p>collective bargaining agreement with levels
<code>A</code> = national level pay agreement or interconfederal agreement,
<code>B</code> = industry agreement,
<code>C</code> = agreement of individual industries in individual regions,
<code>D</code> = enterprise or single employer agreement,
<code>E</code> = agreement applying only to workers in the local unit,
<code>F</code> = any other type of agreement,
<code>N</code> = no collective agreement exists
</p>
</dd>
<dt><code>IDunit</code></dt><dd><p>ID for place of employment.</p>
</dd>
<dt><code>sex</code></dt><dd><p>gender with levels <code>female</code> and <code>male</code>.</p>
</dd>
<dt><code>age</code></dt><dd><p>age in age classes.</p>
</dd>
<dt><code>education</code></dt><dd><p>highest education.</p>
</dd>
<dt><code>occupation</code></dt><dd><p>occupation with levels <code>11</code> = Legislators and
seniors officials,
<code>12</code> = Corporate managers,
<code>13</code> = Managers of small enterprises,
<code>21</code> = Physical, mathematical and engineering science professionals,
<code>22</code> = Life science and health professionals,
<code>23</code> = Teaching professionals,
<code>24</code> = Other professionals,
<code>31</code> = Physical and engineering science associate professionals,
<code>32</code> = Life science and health associate professionals,
<code>33</code> = Teaching associate professionals,
<code>34</code> = Other associate professionals,
<code>41</code> = Office clerks,
<code>42</code> = Customer services clerks,
<code>51</code> = Personal and protective services workers,
<code>52</code> = Models, salespersons and demonstrators,
<code>61</code> = Skilled agricultural and fishery workers,
<code>71</code> = Extraction and building trades workers,
<code>72</code> = Metal, machinery and related trades workers,
<code>73</code> = Precision, handicraft, craft printing and related trades workers,
<code>74</code> = Other craft and related trades workers,
<code>81</code> = Stationary plant and related operators,
<code>82</code> = Machine operators and assemblers,
<code>83</code> = Drivers and mobile plant operators,
<code>91</code> = Sales and services elementary occupations,
<code>92</code> = Agricultural, fishery and related labourers,
<code>93</code> = Labourers in mining, construction, manufacturing and transport
</p>
</dd>
<dt><code>contract</code></dt><dd><p>type of contract.  Levels <code>A</code> = indefinite
duration, employment contract, <code>B</code> = temporary fixed duration
<code>C</code> = apprentice.
</p>
</dd>
<dt><code>fullPart</code></dt><dd><p>full-time working time (FT) or part-time employee
(PT).
</p>
</dd>
<dt><code>lengthService</code></dt><dd><p>The total length of service in the enterprises
in the reference month is be based on the number of completed years of
service.</p>
</dd>
<dt><code>weeks</code></dt><dd><p>the number of weeks in the reference year to which
the gross annual earnings relate is mentioned.  That is the employee's
working time actually paid during the year and should correspond to the
actual gross annual earnings.
</p>
</dd>
<dt><code>hoursPaid</code></dt><dd><p>the number of hours paid in the reference month
which means these hours actually paid including all normal and overtime
hours worked and remunerated by the employee during the month.
</p>
</dd>
<dt><code>overtimeHours</code></dt><dd><p>the number of overtime hours paid in the
reference month.  Overtime hours are those worked in addition to those of
the normal working month.
</p>
</dd>
<dt><code>shareNormalHours</code></dt><dd><p>the share of a full timer's normal
hours.  The hours contractually worked of a part-time employee are
expressed as percentages of the number of normal hours worked by a
full-time employee in the local unit.
</p>
</dd>
<dt><code>holiday</code></dt><dd><p>the annual days of holiday leave (in full days).</p>
</dd>
<dt><code>notPaid</code></dt><dd><p>examples of annual bonuses and allowances are
Christmas and holiday bonuses, 13th and 14th month payments and
productivity bonuses, hence any periodic, irregular and exceptional
bonuses and other payments that do not feature every pay period.  Besides
the main difference between annual earnings and monthly earnings is the
inclusion of payments that do not regularly occur in each pay period.
</p>
</dd>
<dt><code>earningsOvertime</code></dt><dd><p>earnings related to overtime.</p>
</dd>
<dt><code>paymentsShiftWork</code></dt><dd><p>These special payments for shift work are
premium payments during the reference month for shirt work, night work or
weekend work where they are not treated as overtime.
</p>
</dd>
<dt><code>earningsMonth</code></dt><dd><p>the gross earnings in the reference month
covers remuneration in cash paid during the reference month before any
tax deductions and social security deductions and social security
contributions payable by wage earners and retained by the employer.
</p>
</dd>
<dt><code>earnings</code></dt><dd><p>gross annual earnings in the reference year.</p>
</dd>
<dt><code>earningsHour</code></dt><dd><p>hourly earnings, being the quotient of monthly
earnings and the number of hours paid in the reference month.
</p>
</dd>
<dt><code>weightsEmployers</code></dt><dd><p>sampling weights in the first stage at
employer level.
</p>
</dd>
<dt><code>weightsEmployees</code></dt><dd><p>sampling weights corresponding to the second
stage at employee level.
</p>
</dd>
<dt><code>weights</code></dt><dd><p>the final sampling weights, which is the product of
<code>weightsEmployers</code> and <code>weighsEmployees</code>.
</p>
</dd>
</dl>



<h3>Details</h3>

<p>The Structural Earnings Survey (SES) is conducted in almost all European
Countries, and the most important figures are reported to Eurostat.  SES is a
complex survey of enterprises and establishments with more than 10 employees,
NACE C-O, including a large sample of employees.  In many countries, a
two-stage design is used where in the first stage a stratified sample of
enterprises and establishments on NACE 1-digit level, NUTS 1 and employment
size range is used, and large enterprises have higher inclusion
probabilities.  In stage 2, systematic sampling is applied in each enterprise
using unequal inclusion probabilities regarding employment size range
categories.
</p>
<p>The data set in the package consists of enterprise and employees data from 500
places of work.  Note that this is a subset of synthetic data set that is
simulated from the original Austrian SES data.
</p>


<h3>Author(s)</h3>

<p>Matthias Templ, Karoline Geissler
</p>


<h3>Source</h3>

<p>This is a synthetic data set based on Austrian SES data from 2006.
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>T. Geissberger (2009) Verdienststrukturerhebung 2006, Struktur und Verteilung
der Verdienste in Oesterreich, Statistik Austria, ISBN 978-3-902587-97-8.
</p>
<p>M. Templ (2012) Comparison of perturbation methods based on pre-defined quality
indicators, <em>UNECE Work Session on Statistical Data Editing</em>, Tarragona,
Spain.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ses)
summary(ses)
</code></pre>

<hr>
<h2 id='shrinkOut'>Shrink outliers in the Pareto model</h2><span id='topic+shrinkOut'></span><span id='topic+shrinkOut.paretoTail'></span>

<h3>Description</h3>

<p>Shrink observations that are flagged as outliers in a Pareto model for the
upper tail of the distribution to the theoretical quantile used for outlier
detection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shrinkOut(x, ...)

## S3 method for class 'paretoTail'
shrinkOut(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shrinkOut_+3A_x">x</code></td>
<td>
<p>an object of class <code>"paretoTail"</code> (see
<code><a href="#topic+paretoTail">paretoTail</a></code>).</p>
</td></tr>
<tr><td><code id="shrinkOut_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed down (currently ignored as
there are no additional arguments in the only method implemented).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector consisting mostly of the original values, but with
outlying observations in the upper tail shrunken to the corresponding
theoretical quantile of the fitted Pareto distribution.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+reweightOut">reweightOut</a></code>,
<code><a href="#topic+replaceOut">replaceOut</a></code>, <code><a href="#topic+replaceTail">replaceTail</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

## gini coefficient without Pareto tail modeling
gini("eqIncome", weights = "rb050", data = eusilc)

## gini coefficient with Pareto tail modeling
# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090,
    groups = eusilc$db030)
# estimate shape parameter
fit &lt;- paretoTail(eusilc$eqIncome, k = ts$k,
    w = eusilc$db090, groups = eusilc$db030)
# shrink outliers
eqIncome &lt;- shrinkOut(fit)
gini(eqIncome, weights = eusilc$rb050)

</code></pre>

<hr>
<h2 id='thetaHill'>Hill estimator</h2><span id='topic+thetaHill'></span>

<h3>Description</h3>

<p>The Hill estimator uses the maximum likelihood principle to estimate the
shape parameter of a Pareto distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaHill(x, k = NULL, x0 = NULL, w = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaHill_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaHill_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaHill_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="thetaHill_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The arguments <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution and <code>w</code> for sample weights were introduced in
version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>Hill, B.M. (1975) A simple general approach to inference about
the tail of a distribution. <em>The Annals of Statistics</em>, <b>3</b>(5),
1163&ndash;1174.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>,
<code><a href="#topic+thetaPDC">thetaPDC</a></code>, <code><a href="#topic+thetaWML">thetaWML</a></code>, <code><a href="#topic+thetaISE">thetaISE</a></code>,
<code><a href="#topic+minAMSE">minAMSE</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaHill(eusilc$eqIncome, k = ts$k, w = eusilc$db090)

# using threshold
thetaHill(eusilc$eqIncome, x0 = ts$x0, w = eusilc$db090)

</code></pre>

<hr>
<h2 id='thetaISE'>Integrated squared error (ISE) estimator</h2><span id='topic+thetaISE'></span>

<h3>Description</h3>

<p>The integrated squared error (ISE) estimator estimates the shape parameter of
a Pareto distribution based on the relative excesses of observations above a
certain threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaISE(x, k = NULL, x0 = NULL, w = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaISE_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaISE_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaISE_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="thetaISE_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="thetaISE_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="stats.html#topic+optimize">optimize</a></code> (see &ldquo;Details&rdquo;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>
<p>The ISE estimator minimizes the integrated squared error (ISE) criterion with
a complete density model.  The minimization is carried out using 
<code><a href="stats.html#topic+nlm">nlm</a></code>.  By default, the starting value is obtained 
the Hill estimator (see <code><a href="#topic+thetaHill">thetaHill</a></code>).
<code><a href="stats.html#topic+optimize">optimize</a></code>.
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The arguments <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution and <code>w</code> for sample weights were introduced in
version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal
of the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>
<p>Vandewalle, B., Beirlant, J., Christmann, A., and Hubert, M.
(2007) A robust estimator for the tail index of Pareto-type
distributions.  <em>Computational Statistics &amp; Data Analysis</em>,
<b>51</b>(12), 6252&ndash;6268.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>,
<code><a href="#topic+thetaPDC">thetaPDC</a></code>, <code><a href="#topic+thetaHill">thetaHill</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaISE(eusilc$eqIncome, k = ts$k, w = eusilc$db090)

# using threshold
thetaISE(eusilc$eqIncome, x0 = ts$x0, w = eusilc$db090)

</code></pre>

<hr>
<h2 id='thetaLS'>Least squares (LS) estimator</h2><span id='topic+thetaLS'></span>

<h3>Description</h3>

<p>Estimate the shape parameter of a Pareto distribution using a least squares
(LS) approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaLS(x, k = NULL, x0 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaLS_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaLS_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaLS_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The argument <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution was introduced in version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>Brazauskas, V. and Serfling, R. (2000) Robust estimation of tail
parameters for two-parameter Pareto and exponential models via generalized
quantile statistics. <em>Extremes</em>, <b>3</b>(3), 231&ndash;249.
</p>
<p>Brazauskas, V. and Serfling, R. (2000) Robust and efficient estimation of the
tail index of a single-parameter Pareto distribution. <em>North American
Actuarial Journal</em>, <b>4</b>(4), 12&ndash;27.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaLS(eusilc$eqIncome, k = ts$k)

# using threshold
thetaLS(eusilc$eqIncome, x0 = ts$x0)

</code></pre>

<hr>
<h2 id='thetaMoment'>Moment estimator</h2><span id='topic+thetaMoment'></span>

<h3>Description</h3>

<p>Estimate the shape parameter of a Pareto distribution based on moments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaMoment(x, k = NULL, x0 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaMoment_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaMoment_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaMoment_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The argument <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution was introduced in version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>Dekkers, A.L.M., Einmahl, J.H.J. and de Haan, L. (1989) A moment
estimator for the index of an extreme-value distribution. <em>The Annals of
Statistics</em>, <b>17</b>(4), 1833&ndash;1855.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaMoment(eusilc$eqIncome, k = ts$k)

# using threshold
thetaMoment(eusilc$eqIncome, x0 = ts$x0)

</code></pre>

<hr>
<h2 id='thetaPDC'>Partial density component (PDC) estimator</h2><span id='topic+thetaPDC'></span>

<h3>Description</h3>

<p>The partial density component (PDC) estimator estimates the shape parameter
of a Pareto distribution based on the relative excesses of observations above
a certain threshold.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaPDC(x, k = NULL, x0 = NULL, w = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaPDC_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaPDC_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaPDC_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="thetaPDC_+3A_w">w</code></td>
<td>
<p>an optional numeric vector giving sample weights.</p>
</td></tr>
<tr><td><code id="thetaPDC_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="stats.html#topic+optimize">optimize</a></code> (see &ldquo;Details&rdquo;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>
<p>The PDC estimator minimizes the integrated squared error (ISE) criterion with
an incomplete density mixture model.  The minimization is carried out using 
<code><a href="stats.html#topic+nlm">nlm</a></code>.  By default, the starting value is obtained with 
the Hill estimator (see <code><a href="#topic+thetaHill">thetaHill</a></code>).
<code><a href="stats.html#topic+optimize">optimize</a></code>.
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The arguments <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution and <code>w</code> for sample weights were introduced in
version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>
<p>A. Alfons, M. Templ, P. Filzmoser (2013) Robust estimation of economic
indicators from survey samples based on Pareto tail modeling. <em>Journal
of the Royal Statistical Society, Series C</em>, <b>62</b>(2), 271&ndash;286.
</p>
<p>Vandewalle, B., Beirlant, J., Christmann, A., and Hubert, M.
(2007) A robust estimator for the tail index of Pareto-type
distributions.  <em>Computational Statistics &amp; Data Analysis</em>,
<b>51</b>(12), 6252&ndash;6268.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>,
<code><a href="#topic+thetaISE">thetaISE</a></code>, <code><a href="#topic+thetaHill">thetaHill</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaPDC(eusilc$eqIncome, k = ts$k, w = eusilc$db090)

# using threshold
thetaPDC(eusilc$eqIncome, x0 = ts$x0, w = eusilc$db090)

</code></pre>

<hr>
<h2 id='thetaQQ'>QQ-estimator</h2><span id='topic+thetaQQ'></span>

<h3>Description</h3>

<p>Estimate the shape parameter of a Pareto distribution using a
quantile-quantile approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaQQ(x, k = NULL, x0 = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaQQ_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaQQ_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaQQ_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The argument <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution was introduced in version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>Kratz, M.F. and Resnick, S.I. (1996) The QQ-estimator and heavy
tails.  <em>Stochastic Models</em>, <b>12</b>(4), 699&ndash;724.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaQQ(eusilc$eqIncome, k = ts$k)

# using threshold
thetaQQ(eusilc$eqIncome, x0 = ts$x0)

</code></pre>

<hr>
<h2 id='thetaTM'>Trimmed mean estimator</h2><span id='topic+thetaTM'></span>

<h3>Description</h3>

<p>Estimate the shape parameter of a Pareto distribution using a trimmed mean
approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaTM(x, k = NULL, x0 = NULL, beta = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaTM_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaTM_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaTM_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="thetaTM_+3A_beta">beta</code></td>
<td>
<p>A numeric vector of length two giving the trimming proportions
for the lower and upper end of the tail, respectively.  If a single numeric
value is supplied, it is recycled.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The argument <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution was introduced in version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>Brazauskas, V. and Serfling, R. (2000) Robust estimation of tail
parameters for two-parameter Pareto and exponential models via generalized
quantile statistics. <em>Extremes</em>, <b>3</b>(3), 231&ndash;249.
</p>
<p>Brazauskas, V. and Serfling, R. (2000) Robust and efficient estimation of the
tail index of a single-parameter Pareto distribution. <em>North American
Actuarial Journal</em>, <b>4</b>(4), 12&ndash;27.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaTM(eusilc$eqIncome, k = ts$k)

# using threshold
thetaTM(eusilc$eqIncome, x0 = ts$x0)

</code></pre>

<hr>
<h2 id='thetaWML'>Weighted maximum likelihood estimator</h2><span id='topic+thetaWML'></span>

<h3>Description</h3>

<p>Estimate the shape parameter of a Pareto distribution using a weighted
maximum likelihood approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thetaWML(
  x,
  k = NULL,
  x0 = NULL,
  weight = c("residuals", "probability"),
  const,
  bias = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thetaWML_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="thetaWML_+3A_k">k</code></td>
<td>
<p>the number of observations in the upper tail to which the Pareto
distribution is fitted.</p>
</td></tr>
<tr><td><code id="thetaWML_+3A_x0">x0</code></td>
<td>
<p>the threshold (scale parameter) above which the Pareto distribution
is fitted.</p>
</td></tr>
<tr><td><code id="thetaWML_+3A_weight">weight</code></td>
<td>
<p>a character string specifying the weight function to be used.
If <code>"residuals"</code> (the default), the weight function is based on
standardized residuals.  If <code>"probability"</code>, probability based weighting
is used.  Partial string matching allows these names to be abbreviated.</p>
</td></tr>
<tr><td><code id="thetaWML_+3A_const">const</code></td>
<td>
<p>Tuning constant(s) that control the robustness of the method.
If <code>weight="residuals"</code>, a single numeric value is required (the default
is 2.5).  If <code>weight="probability"</code>, a numeric vector of length two must
be supplied (a single numeric value is recycled; the default is 0.005 for
both tuning parameters).  See the references for more details.</p>
</td></tr>
<tr><td><code id="thetaWML_+3A_bias">bias</code></td>
<td>
<p>a logical indicating whether bias correction should be applied.</p>
</td></tr>
<tr><td><code id="thetaWML_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to
<code><a href="stats.html#topic+uniroot">uniroot</a></code> (see &ldquo;Details&rdquo;).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The arguments <code>k</code> and <code>x0</code> of course correspond with each other.
If <code>k</code> is supplied, the threshold <code>x0</code> is estimated with the <code class="reqn">n
- k</code> largest value in <code>x</code>, where <code class="reqn">n</code> is the number of observations.
On the other hand, if the threshold <code>x0</code> is supplied, <code>k</code> is given
by the number of observations in <code>x</code> larger than <code>x0</code>.  Therefore,
either <code>k</code> or <code>x0</code> needs to be supplied.  If both are supplied,
only <code>k</code> is used (mainly for back compatibility).
</p>
<p>The weighted maximum likelihood estimator belongs to the class of
M-estimators.  In order to obtain the estimate, the root of a certain
function needs to be found, which is implemented using
<code><a href="stats.html#topic+uniroot">uniroot</a></code>.
</p>


<h3>Value</h3>

<p>The estimated shape parameter.
</p>


<h3>Note</h3>

<p>The argument <code>x0</code> for the threshold (scale parameter) of the
Pareto distribution was introduced in version 0.2.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Josef Holzer
</p>


<h3>References</h3>

<p>Dupuis, D.J. and Morgenthaler, S. (2002) Robust weighted
likelihood estimators with an application to bivariate extreme value
problems. <em>The Canadian Journal of Statistics</em>, <b>30</b>(1), 17&ndash;36.
</p>
<p>Dupuis, D.J. and Victoria-Feser, M.-P. (2006) A robust prediction error
criterion for Pareto modelling of upper tails. <em>The Canadian Journal of
Statistics</em>, <b>34</b>(4), 639&ndash;658.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+paretoTail">paretoTail</a></code>, <code><a href="#topic+fitPareto">fitPareto</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
# equivalized disposable income is equal for each household
# member, therefore only one household member is taken
eusilc &lt;- eusilc[!duplicated(eusilc$db030),]

# estimate threshold
ts &lt;- paretoScale(eusilc$eqIncome, w = eusilc$db090)

# using number of observations in tail
thetaWML(eusilc$eqIncome, k = ts$k)

# using threshold
thetaWML(eusilc$eqIncome, x0 = ts$x0)

</code></pre>

<hr>
<h2 id='utils'>Utility functions for indicators on social exclusion and poverty</h2><span id='topic+utils'></span><span id='topic+is.indicator'></span><span id='topic+is.arpr'></span><span id='topic+is.qsr'></span><span id='topic+is.rmpg'></span><span id='topic+is.gini'></span><span id='topic+is.prop'></span><span id='topic+is.gpg'></span><span id='topic+print.indicator'></span><span id='topic+print.arpr'></span><span id='topic+print.rmpg'></span><span id='topic+subset.indicator'></span><span id='topic+subset.arpr'></span><span id='topic+subset.rmpg'></span>

<h3>Description</h3>

<p>Test for class, print and take subsets of indicators on social exclusion and
poverty.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.indicator(x)

is.arpr(x)

is.qsr(x)

is.rmpg(x)

is.gini(x)

is.prop(x)

is.gpg(x)

## S3 method for class 'indicator'
print(x, ...)

## S3 method for class 'arpr'
print(x, ...)

## S3 method for class 'rmpg'
print(x, ...)

## S3 method for class 'indicator'
subset(x, years = NULL, strata = NULL, ...)

## S3 method for class 'arpr'
subset(x, years = NULL, strata = NULL, ...)

## S3 method for class 'rmpg'
subset(x, years = NULL, strata = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_+3A_x">x</code></td>
<td>
<p>for <code>is.xyz</code>, any object to be tested.  The <code>print</code> and
<code>subset</code> methods are called by the generic functions if an object of the
respective class is supplied.</p>
</td></tr>
<tr><td><code id="utils_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to and from methods.</p>
</td></tr>
<tr><td><code id="utils_+3A_years">years</code></td>
<td>
<p>an optional numeric vector giving the years to be extracted.</p>
</td></tr>
<tr><td><code id="utils_+3A_strata">strata</code></td>
<td>
<p>an optional vector giving the domains of the breakdown to be
extracted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>is.indicator</code> returns <code>TRUE</code> if <code>x</code> inherits from
class <code>"indicator"</code> and <code>FALSE</code> otherwise.
</p>
<p><code>is.arpr</code> returns <code>TRUE</code> if <code>x</code> inherits from class
<code>"arpr"</code> and <code>FALSE</code> otherwise.
</p>
<p><code>is.qsr</code> returns <code>TRUE</code> if <code>x</code> inherits from class
<code>"qsr"</code> and <code>FALSE</code> otherwise.
</p>
<p><code>is.rmpg</code> returns <code>TRUE</code> if <code>x</code> inherits from class
<code>"rmpg"</code> and <code>FALSE</code> otherwise.
</p>
<p><code>is.gini</code> returns <code>TRUE</code> if <code>x</code> inherits from class
<code>"gini"</code> and <code>FALSE</code> otherwise.
</p>
<p><code>is.gini</code> returns <code>TRUE</code> if <code>x</code> inherits from class
<code>"gini"</code> and <code>FALSE</code> otherwise.
</p>
<p><code>print.indicator</code>, <code>print.arpr</code> and <code>print.rmpg</code> return
<code>x</code> invisibly.
</p>
<p><code>subset.indicator</code>, <code>subset.arpr</code> and <code>subset.rmpg</code> return a
subset of <code>x</code> of the same class.
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arpr">arpr</a></code>, <code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+rmpg">rmpg</a></code>,
<code><a href="#topic+gini">gini</a></code>, <code><a href="#topic+gpg">gpg</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)

# at-risk-of-poverty rate
a &lt;- arpr("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)
print(a)
is.arpr(a)
is.indicator(a)
subset(a, strata = c("Lower Austria", "Vienna"))

# quintile share ratio
q &lt;- qsr("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)
print(q)
is.qsr(q)
is.indicator(q)
subset(q, strata = c("Lower Austria", "Vienna"))

# relative median at-risk-of-poverty gap
r &lt;- rmpg("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)
print(r)
is.rmpg(r)
is.indicator(r)
subset(r, strata = c("Lower Austria", "Vienna"))

# Gini coefficient
g &lt;- gini("eqIncome", weights = "rb050",
    breakdown = "db040", data = eusilc)
print(g)
is.gini(g)
is.indicator(g)
subset(g, strata = c("Lower Austria", "Vienna"))

</code></pre>

<hr>
<h2 id='variance'>Variance and confidence intervals of indicators on social exclusion and
poverty</h2><span id='topic+variance'></span>

<h3>Description</h3>

<p>Compute variance and confidence interval estimates of indicators on social
exclusion and poverty.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variance(
  inc,
  weights = NULL,
  years = NULL,
  breakdown = NULL,
  design = NULL,
  cluster = NULL,
  data = NULL,
  indicator,
  alpha = 0.05,
  na.rm = FALSE,
  type = "bootstrap",
  gender = NULL,
  method = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variance_+3A_inc">inc</code></td>
<td>
<p>either a numeric vector giving the equivalized disposable income,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_weights">weights</code></td>
<td>
<p>optional; either a numeric vector giving the personal sample
weights, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_years">years</code></td>
<td>
<p>optional; either a numeric vector giving the different years of
the survey, or (if <code>data</code> is not <code>NULL</code>) a character string, an
integer or a logical vector specifying the corresponding column of
<code>data</code>.  If supplied, values are computed for each year.</p>
</td></tr>
<tr><td><code id="variance_+3A_breakdown">breakdown</code></td>
<td>
<p>optional; either a numeric vector giving different domains,
or (if <code>data</code> is not <code>NULL</code>) a character string, an integer or a
logical vector specifying the corresponding column of <code>data</code>.  If
supplied, the values for each domain are computed in addition to the overall
value.</p>
</td></tr>
<tr><td><code id="variance_+3A_design">design</code></td>
<td>
<p>optional; either an integer vector or factor giving different
strata for stratified sampling designs, or (if <code>data</code> is not
<code>NULL</code>) a character string, an integer or a logical vector specifying
the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_cluster">cluster</code></td>
<td>
<p>optional; either an integer vector or factor giving different
clusters for cluster sampling designs, or (if <code>data</code> is not
<code>NULL</code>) a character string, an integer or a logical vector specifying
the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_data">data</code></td>
<td>
<p>an optional <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_indicator">indicator</code></td>
<td>
<p>an object inheriting from the class <code>"indicator"</code> that
contains the point estimates of the indicator (see <code><a href="#topic+arpr">arpr</a></code>,
<code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+rmpg">rmpg</a></code> or <code><a href="#topic+gini">gini</a></code>).</p>
</td></tr>
<tr><td><code id="variance_+3A_alpha">alpha</code></td>
<td>
<p>a numeric value giving the significance level to be used for
computing the confidence interval(s) (i.e., the confidence level is <code class="reqn">1 -
</code><code>alpha</code>), or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values should be removed.</p>
</td></tr>
<tr><td><code id="variance_+3A_type">type</code></td>
<td>
<p>a character string specifying the type of variance estimation to
be used.  Currently, only <code>"bootstrap"</code> is implemented for variance
estimation based on bootstrap resampling (see <code><a href="#topic+bootVar">bootVar</a></code>).</p>
</td></tr>
<tr><td><code id="variance_+3A_gender">gender</code></td>
<td>
<p>either a numeric vector giving the gender, or (if <code>data</code>
is not <code>NULL</code>) a character string, an integer or a logical vector
specifying the corresponding column of <code>data</code>.</p>
</td></tr>
<tr><td><code id="variance_+3A_method">method</code></td>
<td>
<p>a character string specifying the method to be used (only for
<code><a href="#topic+gpg">gpg</a></code>).  Possible values are <code>"mean"</code> for the mean, and
<code>"median"</code> for the median.  If weights are provided, the weighted mean
or weighted median is estimated.</p>
</td></tr>
<tr><td><code id="variance_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to <code><a href="#topic+bootVar">bootVar</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a wrapper function for computing variance and confidence interval
estimates of indicators on social exclusion and poverty.
</p>


<h3>Value</h3>

<p>An object of the same class as <code>indicator</code> is returned.  See
<code><a href="#topic+arpr">arpr</a></code>, <code><a href="#topic+qsr">qsr</a></code>, <code><a href="#topic+rmpg">rmpg</a></code> or
<code><a href="#topic+gini">gini</a></code> for details on the components.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>A. Alfons and M. Templ (2013) Estimation of Social Exclusion Indicators
from Complex Surveys: The <span class="rlang"><b>R</b></span> Package <span class="pkg">laeken</span>.  <em>Journal of
Statistical Software</em>, <b>54</b>(15), 1&ndash;25.  <a href="https://doi.org/10.18637/jss.v054.i15">doi:10.18637/jss.v054.i15</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bootVar">bootVar</a></code>, <code><a href="#topic+arpr">arpr</a></code>, <code><a href="#topic+qsr">qsr</a></code>,
<code><a href="#topic+rmpg">rmpg</a></code>, <code><a href="#topic+gini">gini</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
a &lt;- arpr("eqIncome", weights = "rb050", data = eusilc)

## naive bootstrap
variance("eqIncome", weights = "rb050", design = "db040",
    data = eusilc, indicator = a, R = 50,
    bootType = "naive", seed = 123)

## bootstrap with calibration
variance("eqIncome", weights = "rb050", design = "db040",
    data = eusilc, indicator = a, R = 50,
    X = calibVars(eusilc$db040), seed = 123)

</code></pre>

<hr>
<h2 id='weightedMean'>Weighted mean</h2><span id='topic+weightedMean'></span>

<h3>Description</h3>

<p>Compute the weighted mean.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weightedMean(x, weights = NULL, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weightedMean_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="weightedMean_+3A_weights">weights</code></td>
<td>
<p>an optional numeric vector giving the sample weights.</p>
</td></tr>
<tr><td><code id="weightedMean_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values in <code>x</code> should
be omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a simple wrapper function calling <code><a href="stats.html#topic+weighted.mean">weighted.mean</a></code>
if sample weights are supplied and <code><a href="base.html#topic+mean">mean</a></code> otherwise.
</p>


<h3>Value</h3>

<p>The weighted mean of values in <code>x</code> is returned.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>See Also</h3>

<p><code><a href="#topic+incMean">incMean</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
weightedMean(eusilc$eqIncome, eusilc$rb050)

</code></pre>

<hr>
<h2 id='weightedMedian'>Weighted median</h2><span id='topic+weightedMedian'></span>

<h3>Description</h3>

<p>Compute the weighted median (Eurostat definition).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weightedMedian(x, weights = NULL, sorted = FALSE, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weightedMedian_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="weightedMedian_+3A_weights">weights</code></td>
<td>
<p>an optional numeric vector giving the sample weights.</p>
</td></tr>
<tr><td><code id="weightedMedian_+3A_sorted">sorted</code></td>
<td>
<p>a logical indicating whether the observations in <code>x</code> are
already sorted.</p>
</td></tr>
<tr><td><code id="weightedMedian_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values in <code>x</code> should
be omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>The weighted median of values in <code>x</code> is returned.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Matthias Templ
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+arpt">arpt</a></code>, <code><a href="#topic+incMedian">incMedian</a></code>,
<code><a href="#topic+weightedQuantile">weightedQuantile</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
weightedMedian(eusilc$eqIncome, eusilc$rb050)

</code></pre>

<hr>
<h2 id='weightedQuantile'>Weighted quantiles</h2><span id='topic+weightedQuantile'></span>

<h3>Description</h3>

<p>Compute weighted quantiles (Eurostat definition).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weightedQuantile(
  x,
  weights = NULL,
  probs = seq(0, 1, 0.25),
  sorted = FALSE,
  na.rm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weightedQuantile_+3A_x">x</code></td>
<td>
<p>a numeric vector.</p>
</td></tr>
<tr><td><code id="weightedQuantile_+3A_weights">weights</code></td>
<td>
<p>an optional numeric vector giving the sample weights.</p>
</td></tr>
<tr><td><code id="weightedQuantile_+3A_probs">probs</code></td>
<td>
<p>numeric vector of probabilities with values in <code class="reqn">[0,1]</code>.</p>
</td></tr>
<tr><td><code id="weightedQuantile_+3A_sorted">sorted</code></td>
<td>
<p>a logical indicating whether the observations in <code>x</code> are
already sorted.</p>
</td></tr>
<tr><td><code id="weightedQuantile_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical indicating whether missing values in <code>x</code> should
be omitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The implementation strictly follows the Eurostat definition.
</p>


<h3>Value</h3>

<p>A numeric vector containing the weighted quantiles of values in
<code>x</code> at probabilities <code>probs</code> is returned.  Unlike
<code><a href="stats.html#topic+quantile">quantile</a></code>, this returns an unnamed vector.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons and Matthias Templ
</p>


<h3>References</h3>

<p>Working group on Statistics on Income and Living Conditions
(2004) Common cross-sectional EU indicators based on EU-SILC; the gender pay
gap.  <em>EU-SILC 131-rev/04</em>, Eurostat.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+incQuintile">incQuintile</a></code>, <code><a href="#topic+weightedMedian">weightedMedian</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(eusilc)
weightedQuantile(eusilc$eqIncome, eusilc$rb050)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en-US"><head><title>Help for package rerddap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rerddap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rerddap'><p>rerddap</p></a></li>
<li><a href='#browse'><p>Browse a dataset webpage.</p></a></li>
<li><a href='#cache_delete'><p>Delete cached files</p></a></li>
<li><a href='#cache_details'><p>Get details of cached files</p></a></li>
<li><a href='#cache_list'><p>List cached files</p></a></li>
<li><a href='#cache_setup'><p>Setup cache path</p></a></li>
<li><a href='#colors'><p>cmocean colors</p>
The cmocean color palette by Kristen Thyng as implemented in the R package &quot;oce&quot;</a></li>
<li><a href='#convert_time'><p>Convert a UDUNITS compatible time to ISO time</p></a></li>
<li><a href='#convert_units'><p>Convert a CF Standard Name to/from a GCMD Science Keyword</p></a></li>
<li><a href='#disk'><p>Options for saving ERDDAP™ datasets.</p></a></li>
<li><a href='#ed_search'><p>Search for ERDDAP™ tabledep or griddap datasets</p></a></li>
<li><a href='#ed_search_adv'><p>Advanced search for ERDDAP™ tabledep or griddap datasets</p></a></li>
<li><a href='#eurl'><p>Default ERDDAP™ server URL</p></a></li>
<li><a href='#fipscounty'><p>Convert a FIPS County Code to/from a County Name</p></a></li>
<li><a href='#global_search'><p>global_search</p></a></li>
<li><a href='#griddap'><p>Get ERDDAP™ gridded data</p></a></li>
<li><a href='#info'><p>Get information on an ERDDAP™ dataset.</p></a></li>
<li><a href='#institutions'><p>institutions</p></a></li>
<li><a href='#ioos_categories'><p>ioos_categories</p></a></li>
<li><a href='#key_words'><p>Convert a CF Standard Name to/from a GCMD Science Keyword</p></a></li>
<li><a href='#keywords'><p>keywords</p></a></li>
<li><a href='#longnames'><p>longnames</p></a></li>
<li><a href='#servers'><p>ERDDAP™ server URLS and other info</p></a></li>
<li><a href='#standardnames'><p>standardnames</p></a></li>
<li><a href='#tabledap'><p>Get ERDDAP™ tabledap data.</p></a></li>
<li><a href='#variablenames'><p>variablenames</p></a></li>
<li><a href='#version'><p>Get ERDDAP™ version</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>General Purpose Client for 'ERDDAP™' Servers</td>
</tr>
<tr>
<td>Description:</td>
<td>General purpose R client for 'ERDDAP™' servers. Includes
    functions to search for 'datasets', get summary information on
    'datasets', and fetch 'datasets', in either 'csv' or 'netCDF' format.
    'ERDDAP™' information: 
    <a href="https://upwell.pfeg.noaa.gov/erddap/information.html">https://upwell.pfeg.noaa.gov/erddap/information.html</a>.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-03-19</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/rerddap/">https://docs.ropensci.org/rerddap/</a>,
<a href="https://github.com/ropensci/rerddap">https://github.com/ropensci/rerddap</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/rerddap/issues">https://github.com/ropensci/rerddap/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.00)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Imports:</td>
<td>crul (&ge; 0.7.4), dplyr (&ge; 0.5.0), data.table (&ge; 1.12.0),
digest, hoardr (&ge; 0.5.2), jsonlite (&ge; 1.6), lubridate,
methods, nanoparquet, ncdf4 (&ge; 1.16), tibble, utils, xml2 (&ge;
1.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>Climate</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>earth, science, climate, precipitation,
temperature, storm, buoy, NOAA</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>https://ropensci.org</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-19 15:33:48 UTC; rmendels</td>
</tr>
<tr>
<td>Author:</td>
<td>Scott Chamberlain [aut],
  Ben Tupper [ctb],
  Salvador Jesús Fernández Bejarano [ctb],
  Roy Mendelssohn [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Roy Mendelssohn &lt;roy.mendelssohn@noaa.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-19 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rerddap'>rerddap</h2><span id='topic+rerddap-package'></span><span id='topic+rerddap'></span>

<h3>Description</h3>

<p>General purpose R client for ERDDAP™ servers
</p>


<h3>ERDDAP™ info</h3>

<p>NOAA's ERDDAP™ service holds many datasets of interest. It's built on top of
OPenDAP. You can search for datasets via
<code><a href="#topic+ed_search">ed_search()</a></code>, list datasets via <code><a href="#topic+ed_datasets">ed_datasets()</a></code>,
get information on a single dataset via <code><a href="#topic+info">info()</a></code>, then get
data you want for either tabledap type via <code><a href="#topic+tabledap">tabledap()</a></code>, or
for griddap type via <code><a href="#topic+griddap">griddap()</a></code>
</p>


<h3>tabledap/griddap</h3>

<p>tabledap and griddap have different interfaces to query for data, so
<code><a href="#topic+tabledap">tabledap()</a></code> and <code><a href="#topic+griddap">griddap()</a></code> are separated out as
separate functions even though some of the internals are the same. In
particular, with tabledap you can query on/subset all variables, whereas
with gridddap, you can only query on/subset the dimension varibles (e.g.,
latitude, longitude, altitude).
</p>


<h3>Data size</h3>

<p>With griddap data via <code><a href="#topic+griddap">griddap()</a></code> you can get a lot of
data quickly. Try small searches of a dataset to start to get a sense for
the data, then you can increase the amount of data you get. See
<code><a href="#topic+griddap">griddap()</a></code> for more details.
</p>


<h3>Caching</h3>

<p><span class="pkg">rerddap</span> by default caches the requests you make, so that if you happen to
make the same request again, the data is restored from the cache, rather than
having to go out and retrieve it remotely.  For most applications, this is good,
as it can speed things up when doing a lot of request in a script, and works
because in most cases an ERDDAP™ request is &quot;idempotent&quot;.  This means that the
the request will always return the same thing no matter what requests came
before - it doesn't depend on state. However this is not true if the
script uses either &quot;last&quot; in <code><a href="#topic+griddap">griddap()</a></code> or &quot;now&quot; in <code><a href="#topic+tabledap">tabledap()</a></code> as these
will return different values as time elapses and data are added to the
datasets.  While it is desirable to have ERDDAP™ purely idempotent,  the
&quot;last&quot; and &quot;now&quot; constructs are very helpful for people using ERDDAP
in dashboards, webpages, regular input to models and the like, and the
benefits far outweigh the problems.  However, if you are using either &quot;last&quot;
or &quot;now&quot; in an <span class="pkg">rerddap</span> based script, you want to be very careful to
clear the <span class="pkg">rerddap</span> cache, otherwise the request will be viewed as the
same,  and the data from the last request, rather than the latest data,
will be returned.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Roy Mendelssohn <a href="mailto:roy.mendelssohn@noaa.gov">roy.mendelssohn@noaa.gov</a> [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Scott Chamberlain
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Ben Tupper [contributor]
</p>
</li>
<li><p> Salvador Jesús Fernández Bejarano [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/rerddap/">https://docs.ropensci.org/rerddap/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/rerddap">https://github.com/ropensci/rerddap</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/rerddap/issues">https://github.com/ropensci/rerddap/issues</a>
</p>
</li></ul>


<hr>
<h2 id='browse'>Browse a dataset webpage.</h2><span id='topic+browse'></span>

<h3>Description</h3>

<p>Browse a dataset webpage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browse(x, url = eurl(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="browse_+3A_x">x</code></td>
<td>
<p>datasetid or an object associated with a datasetid such
<code><a href="#topic+info">info()</a></code>, <code><a href="#topic+griddap">griddap()</a></code> or <code><a href="#topic+tabledap">tabledap()</a></code></p>
</td></tr>
<tr><td><code id="browse_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="browse_+3A_...">...</code></td>
<td>
<p>Further args passed on to <code>utils::browseURL</code>
(must be a named parameter)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>if in interactive mode, opens a URL in your default browser;
if not, then prints the URL in the console
</p>


<h3>Author(s)</h3>

<p>Ben Tupper <a href="mailto:btupper@bigelow.org">btupper@bigelow.org</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (interactive()) {
# browse by dataset_id
browse('erdATastnhday')

# browse info class
my_info &lt;- info('erdATastnhday')
browse(my_info)

# browse tabledap class
my_tabledap &lt;- tabledap('erdCalCOFIlrvsiz', fields=c('latitude','longitude','larvae_size',
   'itis_tsn'), 'time&gt;=2011-10-25', 'time&lt;=2011-10-31')
browse(my_tabledap)
}
## End(Not run)
</code></pre>

<hr>
<h2 id='cache_delete'>Delete cached files</h2><span id='topic+cache_delete'></span><span id='topic+cache_delete_all'></span>

<h3>Description</h3>

<p>Delete cached files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_delete(x, force = FALSE)

cache_delete_all(force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cache_delete_+3A_x">x</code></td>
<td>
<p>File names</p>
</td></tr>
<tr><td><code id="cache_delete_+3A_force">force</code></td>
<td>
<p>(logical) Should files be force deleted? Default: <code>FALSE</code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other cache: 
<code><a href="#topic+cache_details">cache_details</a>()</code>,
<code><a href="#topic+cache_list">cache_list</a>()</code>,
<code><a href="#topic+cache_setup">cache_setup</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# delete files by name in cache
# cache_delete('9911750294a039b8b517c8bf288978ea.csv')
# cache_delete(c('9911750294a039b8b517c8bf288978ea.csv',
#                'b26825b6737da13d6a52c28c8dfe690f.csv'))

# You can delete from the output of griddap or tabledap fxns
## tabledap
(table_res &lt;- tabledap('erdCinpKfmBT'))
cache_delete(table_res)

## griddap
(out &lt;- info('erdQMekm14day'))
(grid_res &lt;- griddap(out,
 time = c('2015-12-28','2016-01-01'),
 latitude = c(24, 23),
 longitude = c(88, 90)
))
cache_delete(grid_res)

## End(Not run)
</code></pre>

<hr>
<h2 id='cache_details'>Get details of cached files</h2><span id='topic+cache_details'></span>

<h3>Description</h3>

<p>Get details of cached files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_details(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cache_details_+3A_x">x</code></td>
<td>
<p>File names</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Can be used to list details for all files, both .nc and .csv
types, or details for just individual files of class <code>tabledap</code>,
<code>griddap_nc</code>, and <code>griddap_csv</code>
</p>


<h3>See Also</h3>

<p>Other cache: 
<code><a href="#topic+cache_delete">cache_delete</a>()</code>,
<code><a href="#topic+cache_list">cache_list</a>()</code>,
<code><a href="#topic+cache_setup">cache_setup</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# List details for all cached files
cache_details()

## End(Not run)
</code></pre>

<hr>
<h2 id='cache_list'>List cached files</h2><span id='topic+cache_list'></span>

<h3>Description</h3>

<p>List cached files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_list()
</code></pre>


<h3>See Also</h3>

<p>Other cache: 
<code><a href="#topic+cache_delete">cache_delete</a>()</code>,
<code><a href="#topic+cache_details">cache_details</a>()</code>,
<code><a href="#topic+cache_setup">cache_setup</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# list files in cache
cache_list()

# List info for files
## download some data first
tabledap('erdCinpKfmBT')
griddap('erdVHNchlamday',
 time = c('2015-04-01','2015-04-10'),
 latitude = c(18, 21),
 longitude = c(-120, -119)
)

(x &lt;- cache_list())
cache_details(x$nc[1])
cache_details(x$csv[1])
cache_details()

# delete files by name in cache
# cache_delete(x$nc[1])
# cache_delete(x$nc[2:3])

## End(Not run)
</code></pre>

<hr>
<h2 id='cache_setup'>Setup cache path</h2><span id='topic+cache_setup'></span><span id='topic+cache_info'></span>

<h3>Description</h3>

<p>Setup cache path
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cache_setup(full_path = NULL, temp_dir = FALSE)

cache_info()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cache_setup_+3A_full_path">full_path</code></td>
<td>
<p>(character) the full path to use for storing cached
files.</p>
</td></tr>
<tr><td><code id="cache_setup_+3A_temp_dir">temp_dir</code></td>
<td>
<p>(logical) if <code>TRUE</code> use a randomly assigned
<code>tempdir</code> (and <code>full_path</code> is ignored), if <code>FALSE</code>, you
can use <code>full_path</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>On opening,  by default a temporary directory is created for caching
files.  To have files cached elsewhere,  give the full path of where to
cache files.  Adding <code>temp_dir = TRUE</code> will again use a temporary
dirctory for cacheing.
</p>


<h3>Value</h3>

<p>the full cache path, a directory (character)
</p>


<h3>See Also</h3>

<p>Other cache: 
<code><a href="#topic+cache_delete">cache_delete</a>()</code>,
<code><a href="#topic+cache_details">cache_details</a>()</code>,
<code><a href="#topic+cache_list">cache_list</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# default path
cache_setup()

# you can define your own path
cache_setup(path = "foobar")

# set a tempdir - better for programming with to avoid prompt
cache_setup(temp_dir = TRUE)

# cache info
cache_info()

## End(Not run)
</code></pre>

<hr>
<h2 id='colors'>cmocean colors
The cmocean color palette by Kristen Thyng as implemented in the R package &quot;oce&quot;</h2><span id='topic+colors'></span>

<h3>Description</h3>

<p>str(colors)
List of 13
$ viridis
$ cdom
$ chlorophyll
$ density
$ freesurface
$ oxygen
$ par
$ phase
$ salinity
$ temperature
$ turbidity
$ velocity
$ vorticity
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colors
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 13.
</p>

<hr>
<h2 id='convert_time'>Convert a UDUNITS compatible time to ISO time</h2><span id='topic+convert_time'></span>

<h3>Description</h3>

<p>Convert a UDUNITS compatible time to ISO time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_time(
  n = NULL,
  isoTime = NULL,
  units = "seconds since 1970-01-01T00:00:00Z",
  url = eurl(),
  method = "local",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_time_+3A_n">n</code></td>
<td>
<p>numeric; A unix time number.</p>
</td></tr>
<tr><td><code id="convert_time_+3A_isotime">isoTime</code></td>
<td>
<p>character; A string time representation.</p>
</td></tr>
<tr><td><code id="convert_time_+3A_units">units</code></td>
<td>
<p>character; Units to return. Default:
&quot;seconds since 1970-01-01T00:00:00Z&quot;</p>
</td></tr>
<tr><td><code id="convert_time_+3A_url">url</code></td>
<td>
<p>Base URL of the ERDDAP™ server. See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="convert_time_+3A_method">method</code></td>
<td>
<p>(character) One of local or web. Local simply uses
<code><a href="base.html#topic+as.POSIXct">as.POSIXct()</a></code>, while web method uses the ERDDAP™ time conversion service
<code style="white-space: pre;">&#8288;/erddap/convert/time.txt&#8288;</code></p>
</td></tr>
<tr><td><code id="convert_time_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>method = "web"</code> time zone is GMT/UTC
</p>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
# local conversions
convert_time(n = 473472000)
convert_time(isoTime = "1985-01-02T00:00:00Z")

# using an ERDDAP™ web service
convert_time(n = 473472000, method = "web")
convert_time(isoTime = "1985-01-02T00:00:00Z", method = "web")

## End(Not run)
</code></pre>

<hr>
<h2 id='convert_units'>Convert a CF Standard Name to/from a GCMD Science Keyword</h2><span id='topic+convert_units'></span>

<h3>Description</h3>

<p>Convert a CF Standard Name to/from a GCMD Science Keyword
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_units(udunits = NULL, ucum = NULL, url = eurl(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convert_units_+3A_udunits">udunits</code></td>
<td>
<p>character; A UDUNITS character string
https://www.unidata.ucar.edu/software/udunits/</p>
</td></tr>
<tr><td><code id="convert_units_+3A_ucum">ucum</code></td>
<td>
<p>character; A UCUM character string
https://ucum.org/ucum.html</p>
</td></tr>
<tr><td><code id="convert_units_+3A_url">url</code></td>
<td>
<p>Base URL of the ERDDAP server. See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="convert_units_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
convert_units(udunits = "degree_C meter-1")
convert_units(ucum = "Cel.m-1")

## End(Not run)
</code></pre>

<hr>
<h2 id='disk'>Options for saving ERDDAP™ datasets.</h2><span id='topic+disk'></span><span id='topic+memory'></span>

<h3>Description</h3>

<p>Options for saving ERDDAP™ datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disk(path = NULL, overwrite = TRUE)

memory()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="disk_+3A_path">path</code></td>
<td>
<p>Path to store files in. A directory, not a file.
Default: the root cache path, see <code><a href="#topic+cache_setup">cache_setup</a></code></p>
</td></tr>
<tr><td><code id="disk_+3A_overwrite">overwrite</code></td>
<td>
<p>(logical) Overwrite an existing file of the same name?
Default: <code>TRUE</code></p>
</td></tr>
</table>

<hr>
<h2 id='ed_search'>Search for ERDDAP™ tabledep or griddap datasets</h2><span id='topic+ed_search'></span><span id='topic+ed_datasets'></span>

<h3>Description</h3>

<p>Search for ERDDAP™ tabledep or griddap datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ed_search(
  query,
  page = NULL,
  page_size = NULL,
  which = "griddap",
  url = eurl(),
  ...
)

ed_datasets(which = "tabledap", url = eurl())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ed_search_+3A_query">query</code></td>
<td>
<p>(character) Search terms</p>
</td></tr>
<tr><td><code id="ed_search_+3A_page">page</code></td>
<td>
<p>(integer) Page number</p>
</td></tr>
<tr><td><code id="ed_search_+3A_page_size">page_size</code></td>
<td>
<p>(integer) Results per page</p>
</td></tr>
<tr><td><code id="ed_search_+3A_which">which</code></td>
<td>
<p>(character) One of tabledep or griddap.</p>
</td></tr>
<tr><td><code id="ed_search_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="ed_search_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a> (must be
named parameters)</p>
</td></tr>
</table>


<h3>References</h3>

<p>https://upwell.pfeg.noaa.gov/erddap/index.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
(out &lt;- ed_search(query='temperature'))
out$alldata[[1]]
(out &lt;- ed_search(query='size'))
out$info

# List datasets
ed_datasets('table')
ed_datasets('grid')

# use a different ERDDAP™ server
## Marine Institute (Ireland)
ed_search("temperature", url = "http://erddap.marine.ie/erddap/")

## End(Not run)
</code></pre>

<hr>
<h2 id='ed_search_adv'>Advanced search for ERDDAP™ tabledep or griddap datasets</h2><span id='topic+ed_search_adv'></span>

<h3>Description</h3>

<p>Advanced search for ERDDAP™ tabledep or griddap datasets
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ed_search_adv(
  query = NULL,
  page = 1,
  page_size = 1000,
  protocol = NULL,
  cdm_data_type = NULL,
  institution = NULL,
  ioos_category = NULL,
  keywords = NULL,
  long_name = NULL,
  standard_name = NULL,
  variableName = NULL,
  maxLat = NULL,
  minLon = NULL,
  maxLon = NULL,
  minLat = NULL,
  minTime = NULL,
  maxTime = NULL,
  url = eurl(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ed_search_adv_+3A_query">query</code></td>
<td>
<p>(character) Search terms</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_page">page</code></td>
<td>
<p>(integer) Page number. Default: 1</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_page_size">page_size</code></td>
<td>
<p>(integer) Results per page: Default: 1000</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_protocol">protocol</code></td>
<td>
<p>(character) One of any (default), tabledep or griddap</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_cdm_data_type">cdm_data_type</code></td>
<td>
<p>(character) One of grid, other, point, profile,
timeseries, timeseriesprofile, trajectory, trajectoryprofile</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_institution">institution</code></td>
<td>
<p>(character) An institution. See the dataset
<code>institutions</code></p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_ioos_category">ioos_category</code></td>
<td>
<p>(character) An ioos category See the dataset
<code>ioos_categories</code></p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_keywords">keywords</code></td>
<td>
<p>(character) A keywords. See the dataset <code>keywords</code></p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_long_name">long_name</code></td>
<td>
<p>(character) A long name. See the dataset <code>longnames</code></p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_standard_name">standard_name</code></td>
<td>
<p>(character) A standar dname. See the dataset
<code>standardnames</code></p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_variablename">variableName</code></td>
<td>
<p>(character) A variable name. See the dataset
<code>variablenames</code></p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_minlon">minLon</code>, <code id="ed_search_adv_+3A_maxlon">maxLon</code></td>
<td>
<p>(numeric) Minimum and maximum longitude. Some datasets
have longitude values within -180 to 180, others use 0 to 360. If you
specify min and max Longitude within -180 to 180 (or 0 to 360), ERDDAP will
only find datasets that match the values you specify. Consider doing one
search: longitude -180 to 360, or two searches: longitude -180 to 180,
and 0 to 360.</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_minlat">minLat</code>, <code id="ed_search_adv_+3A_maxlat">maxLat</code></td>
<td>
<p>(numeric) Minimum and maximum latitude, between -90
and 90</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_mintime">minTime</code>, <code id="ed_search_adv_+3A_maxtime">maxTime</code></td>
<td>
<p>(numeric/character) Minimum and maximum time. Time
string with the format &quot;yyyy-MM-ddTHH:mm:ssZ, (e.g., 2009-01-21T23:00:00Z).
If you specify something, you must include at least yyyy-MM-dd; you can
omit Z, :ss, :mm, :HH, and T. Always use UTC (GMT/Zulu) time. Or specify
the number of seconds since 1970-01-01T00:00:00Z.</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="ed_search_adv_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a> (must be
named parameters)</p>
</td></tr>
</table>


<h3>References</h3>

<p>https://upwell.pfeg.noaa.gov/erddap/index.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ed_search_adv(query = 'temperature')
ed_search_adv(query = 'temperature', protocol = "griddap")
ed_search_adv(query = 'temperature', protocol = "tabledap")
ed_search_adv(maxLat = 63, minLon = -107, maxLon = -87, minLat = 50,
  protocol = "griddap")
ed_search_adv(maxLat = 63, minLon = -107, maxLon = -87, minLat = 50,
  protocol = "tabledap")
ed_search_adv(minTime = "2010-01-01T00:00:00Z",
  maxTime="2010-02-01T00:00:00Z")
(out &lt;- ed_search_adv(maxLat = 63, minLon = -107, maxLon = -87, minLat = 50,
             minTime = "2010-01-01T00:00:00Z",
             maxTime="2010-02-01T00:00:00Z"))
out$alldata[[1]]
ed_search_adv(variableName = 'upwelling')
ed_search_adv(query = 'upwelling', protocol = "tabledap")

# use a different URL
ed_search_adv(query = 'temperature', url = servers()$url[6])

## End(Not run)
</code></pre>

<hr>
<h2 id='eurl'>Default ERDDAP™ server URL</h2><span id='topic+eurl'></span>

<h3>Description</h3>

<p>Default ERDDAP™ server URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eurl()
</code></pre>


<h3>Details</h3>

<p>default url is https://upwell.pfeg.noaa.gov/erddap/
</p>
<p>You can set a default using an environment variable so you
don't have to pass anything to the URL parameter in your
function calls.
</p>
<p>In your .Renviron file or similar set a URL for the environment
variable <code>RERDDAP_DEFAULT_URL</code>, like
<code style="white-space: pre;">&#8288;RERDDAP_DEFAULT_URL=https://upwell.pfeg.noaa.gov/erddap/&#8288;</code>
</p>
<p>It's important that you include a trailing slash in your URL
</p>


<h3>Examples</h3>

<pre><code class='language-R'>eurl()
Sys.setenv(RERDDAP_DEFAULT_URL = "https://google.com")
Sys.getenv("RERDDAP_DEFAULT_URL")
eurl()
Sys.unsetenv("RERDDAP_DEFAULT_URL")
eurl()
</code></pre>

<hr>
<h2 id='fipscounty'>Convert a FIPS County Code to/from a County Name</h2><span id='topic+fipscounty'></span>

<h3>Description</h3>

<p>Convert a FIPS County Code to/from a County Name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fipscounty(county = NULL, code = NULL, url = eurl(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fipscounty_+3A_county">county</code></td>
<td>
<p>character; A county name.</p>
</td></tr>
<tr><td><code id="fipscounty_+3A_code">code</code></td>
<td>
<p>numeric; A FIPS code.</p>
</td></tr>
<tr><td><code id="fipscounty_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="fipscounty_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
fipscounty(code = "06053")
fipscounty(county = "CA, Monterey")
fipscounty(county = "OR, Multnomah")

## End(Not run)
</code></pre>

<hr>
<h2 id='global_search'>global_search</h2><span id='topic+global_search'></span>

<h3>Description</h3>

<p>Search for ERDDAP™ tabledap or griddap datasets from a list
of ERDDAP™ servers based on search terms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>global_search(query, server_list, which_service)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="global_search_+3A_query">query</code></td>
<td>
<p>(character) Search terms</p>
</td></tr>
<tr><td><code id="global_search_+3A_server_list">server_list</code></td>
<td>
<p>(list of character) List of ERDDAP™ servers to search</p>
</td></tr>
<tr><td><code id="global_search_+3A_which_service">which_service</code></td>
<td>
<p>(character) One of tabledep or griddap.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses the 'reddap' function ed_search() to search over
the list of servers
</p>


<h3>Value</h3>

<p>If successful a dataframe wih columns:
</p>

<ul>
<li><p> title - the dataset title
</p>
</li>
<li><p> dataset_id - the datasetid on that ERDDAP server
</p>
</li>
<li><p> url - base url of dataset ERDDAP server
</p>
</li></ul>

<p>if urls are valid,  no match is found,  will return no match found
else returns error message
</p>


<h3>See Also</h3>

<p><code><a href="crul.html#topic+HttpClient">HttpClient</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get list of servers know by
# https://irishmarineinstitute.github.io/awesome-erddap
# e_servers &lt;- servers()$url
# select a couple to search
# e_servers &lt;- e_servers[c(1, 40)]
# to meet CRAN time limits will only search 1 place
e_servers &lt;- "https://coastwatch.pfeg.noaa.gov/erddap/"
test_query &lt;- 'NOAA/NCDC Blended Monthly'
query_results &lt;- global_search(test_query, e_servers, "griddap")
</code></pre>

<hr>
<h2 id='griddap'>Get ERDDAP™ gridded data</h2><span id='topic+griddap'></span>

<h3>Description</h3>

<p>Get ERDDAP™ gridded data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>griddap(
  datasetx,
  ...,
  fields = "all",
  stride = 1,
  fmt = "nc",
  url = eurl(),
  store = disk(),
  read = TRUE,
  callopts = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="griddap_+3A_datasetx">datasetx</code></td>
<td>
<p>Anything coercable to an object of class info. So the output of a
call to <code><a href="#topic+info">info</a></code>, or a datasetid, which will internally be passed
through <code><a href="#topic+info">info</a></code></p>
</td></tr>
<tr><td><code id="griddap_+3A_...">...</code></td>
<td>
<p>Dimension arguments. See examples. Can be any 1 or more of the
dimensions for the particular dataset - and the dimensions vary by dataset.
For each dimension, pass in a vector of length two, with min and max value
desired. at least 1 required.</p>
</td></tr>
<tr><td><code id="griddap_+3A_fields">fields</code></td>
<td>
<p>(character) Fields to return, in a character vector.</p>
</td></tr>
<tr><td><code id="griddap_+3A_stride">stride</code></td>
<td>
<p>(integer) How many values to get. 1 = get every value, 2 = get
every other value, etc. Default: 1 (i.e., get every value)</p>
</td></tr>
<tr><td><code id="griddap_+3A_fmt">fmt</code></td>
<td>
<p>(character) One of csv or nc (for netcdf). Default: nc</p>
</td></tr>
<tr><td><code id="griddap_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="griddap_+3A_store">store</code></td>
<td>
<p>One of <code><a href="#topic+disk">disk</a></code> (default) or <code><a href="#topic+memory">memory</a></code>. You
can pass options to <code><a href="#topic+disk">disk</a></code>. Beware: if you choose <code>fmt="nc"</code>,
we force <code>store=disk()</code> because nc files have to be written to disk.</p>
</td></tr>
<tr><td><code id="griddap_+3A_read">read</code></td>
<td>
<p>(logical) Read data into memory or not. Does not apply when
<code>store</code> parameter is set to memory (which reads data into memory).
For large csv, or especially netcdf files, you may want to set this to
<code>FALSE</code>, which simply returns a summary of the dataset - and you can
read in data piecemeal later. Default: <code>TRUE</code></p>
</td></tr>
<tr><td><code id="griddap_+3A_callopts">callopts</code></td>
<td>
<p>Curl options passed on to <code><a href="crul.html#topic+verb-GET">verb-GET</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Details:
</p>
<p>If you run into an error like &quot;HTTP Status 500 - There was a (temporary?)
problem. Wait a minute, then try again.&quot;. it's likely they are hitting
up against a size limit, and they should reduce the amount of data they
are requesting either via space, time, or variables. Pass in
<code>config = verbose()</code> to the request, and paste the URL into your
browser to see if the output is garbled to examine if there's a problem
with servers or this package
</p>


<h3>Value</h3>

<p>An object of class <code>griddap_csv</code> if csv chosen or
<code>griddap_nc</code> if nc file format chosen.
</p>

<ul>
<li> <p><code>griddap_csv</code>: a data.frame created from the downloaded csv
data
</p>
</li>
<li> <p><code>griddap_nc</code>: a list, with slots &quot;summary&quot; and &quot;data&quot;. &quot;summary&quot;
is the unclassed output from <code>ncdf4::nc_open</code>, from which you can
do any netcdf operations you like. &quot;data&quot; is a data.frame created
from the netcdf data. the data.frame may be empty if there were problems
parsing the netcdf data
</p>
</li></ul>

<p>Both have the attributes: datasetid (the dataset id), path (the path on file
for the csv or nc file), url (the url requested to the ERDDAP server)
</p>
<p>If <code>read=FALSE</code>, the data.frame for <code>griddap_csv</code>
and the data.frame in the &quot;data&quot; slot is empty for <code>griddap_nc</code>
</p>


<h3>Dimensions and Variables</h3>

<p>ERDDAP grid dap data has this concept of dimenions vs. variables. Dimensions
are things like time, latitude, longitude, altitude, and depth. Whereas
variables are the measured variables, e.g., temperature, salinity, air.
</p>
<p>You can't separately adjust values for dimensions for different variables.
So, here's how it's gonna work:
</p>
<p>Pass in lower and upper limits you want for each dimension as a vector
(e.g., <code>c(1,2)</code>), or leave to defaults (i.e., don't pass anything to
a dimension). Then pick which variables you want returned via the
<code>fields</code> parameter. If you don't pass in options to the <code>fields</code>
parameter, you get all variables back.
</p>
<p>To get the dimensions and variables, along with other metadata for a
dataset, run <code><a href="#topic+info">info</a></code>, and each will be shown, with their min
and max values, and some other metadata.
</p>


<h3>Where does the data go?</h3>

<p>You can choose where data is stored. Be careful though. You can easily get a
single file of hundreds of MB's (upper limit: 2 GB) in size with a single
request. To the <code>store</code> parameter, pass <code><a href="#topic+memory">memory</a></code> if you
want to store the data in memory (saved as a data.frame), or pass
<code><a href="#topic+disk">disk</a></code> if you want to store on disk in a file. Note that
<code><a href="#topic+memory">memory</a></code> and <code><a href="#topic+disk">disk</a></code> are not character strings, but
function calls. <code><a href="#topic+memory">memory</a></code> does not accept any inputs, while
<code><a href="#topic+disk">disk</a></code> does. Possibly will add other options, like
&ldquo;sql&rdquo; for storing in a SQL database.
</p>


<h3>Non-lat/lon grid data</h3>

<p>Some gridded datasets have latitude/longitude components, but some do not.
When nc format gridded datasets have latitude and longitude we &quot;melt&quot; them into a
data.frame for easy downstream consumption. When nc format gridded datasets do
not have latitude and longitude components, we do not read in the data, throw
a warning saying so. You can readin the nc file yourself with the file path.
CSV format is not affected by this issue as CSV data is easily turned into
a data.frame regardless of whether latitude/longitude data are present.
</p>


<h3>References</h3>

<p>https://upwell.pfeg.noaa.gov/erddap/rest.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# single variable dataset
## You can pass in the outpu of a call to info
(out &lt;- info('erdVHNchlamday'))
## Or, pass in a dataset id
(res &lt;- griddap('erdVHNchlamday',
 time = c('2015-04-01','2015-04-10'),
 latitude = c(18, 21),
 longitude = c(-120, -119)
))

# multi-variable dataset
(out &lt;- info('erdQMekm14day'))
(res &lt;- griddap(out,
 time = c('2015-12-28','2016-01-01'),
 latitude = c(24, 23),
 longitude = c(88, 90)
))
(res &lt;- griddap(out, time = c('2015-12-28','2016-01-01'),
   latitude = c(24, 23), longitude = c(88, 90), fields = 'mod_current'))
(res &lt;- griddap(out, time = c('2015-12-28','2016-01-01'),
   latitude = c(24, 23), longitude = c(88, 90), fields = 'mod_current',
   stride = c(1,2,1,2)))
(res &lt;- griddap(out, time = c('2015-12-28','2016-01-01'),
   latitude = c(24, 23), longitude = c(88, 90),
   fields = c('mod_current','u_current')))


# Write to memory (within R), or to disk
(out &lt;- info('erdQSwindmday'))
## disk, by default (to prevent bogging down system w/ large datasets)
## you can also pass in path and overwrite options to disk()
(res &lt;- griddap(out,
 time = c('2006-07-11','2006-07-20'),
 longitude = c(166, 170),
 store = disk()
))
## the 2nd call is much faster as it's mostly just the time of reading in
## the table from disk
system.time( griddap(out,
 time = c('2006-07-11','2006-07-15'),
 longitude = c(10, 15),
 store = disk()
) )
system.time( griddap(out,
 time = c('2006-07-11','2006-07-15'),
 longitude = c(10, 15),
 store = disk()
) )

## memory - you have to choose fmt="csv" if you use memory
(res &lt;- griddap("erdMBchla1day",
 time = c('2015-01-01','2015-01-03'),
 latitude = c(14, 15),
 longitude = c(125, 126),
 fmt = "csv", store = memory()
))

## Use ncdf4 package to parse data
info("erdMBchla1day")
(res &lt;- griddap("erdMBchla1day",
 time = c('2015-01-01','2015-01-03'),
 latitude = c(14, 15),
 longitude = c(125, 126)
))

# Get data in csv format
## by default, we get netcdf format data
(res &lt;- griddap('erdMBchla1day',
 time = c('2015-01-01','2015-01-03'),
 latitude = c(14, 15),
 longitude = c(125, 126),
 fmt = "csv"
))

# Use a different ERDDAP server url
## NOAA IOOS PacIOOS
url = "https://cwcgom.aoml.noaa.gov/erddap/"
out &lt;- info("miamiacidification", url = url)
(res &lt;- griddap(out,
 time = c('2019-11-01','2019-11-03'),
 latitude = c(15, 16),
 longitude = c(-90, -88)
))
## pass directly into griddap() - if you pass a datasetid string directly
## you must pass in the url or you'll be querying the default ERDDAP url,
## which isn't the one you want if you're not using the default ERDDAP url
griddap("miamiacidification", url = url,
 time = c('2019-11-01','2019-11-03'),
 latitude = c(15, 16),
 longitude = c(-90, -88)
)

# Using 'last'
## with time
griddap('erdVHNchlamday',
 time = c('last-5','last'),
 latitude = c(18, 21),
 longitude = c(-120, -119)
)
## with latitude
griddap('erdVHNchlamday',
  time = c('2015-04-01','2015-04-10'),
  latitude = c('last', 'last'),
  longitude = c(-120, -119)
)
## with longitude
griddap('erdVHNchlamday',
  time = c('2015-04-01','2015-04-10'),
  latitude = c(18, 21),
  longitude = c('last', 'last')
)

# datasets without lat/lon grid and with fmt=nc
# FIXME: this dataset is gone
# (x &lt;- info('glos_tds_5912_ca66_3f41'))
# res &lt;- griddap(x,
#   time = c('2018-04-01','2018-04-10'),
#   ny = c(1, 2),
#   nx = c(3, 5)
# )
## data.frame is empty
# res$data
## read in from the nc file path
# ncdf4::nc_open(res$summary$filename)

## End(Not run)
</code></pre>

<hr>
<h2 id='info'>Get information on an ERDDAP™ dataset.</h2><span id='topic+info'></span><span id='topic+as.info'></span>

<h3>Description</h3>

<p>Get information on an ERDDAP™ dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>info(datasetid, url = eurl(), ...)

as.info(x, url)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="info_+3A_datasetid">datasetid</code></td>
<td>
<p>Dataset id</p>
</td></tr>
<tr><td><code id="info_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="info_+3A_...">...</code></td>
<td>
<p>Further args passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a> (must be a
named parameter)</p>
</td></tr>
<tr><td><code id="info_+3A_x">x</code></td>
<td>
<p>A datasetid or the output of <code>info</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints a summary of the data on return, but you can index to
various information.
</p>
<p>The data is a list of length two with:
</p>

<ul>
<li><p> variables - Data.frame of variables and their types
</p>
</li>
<li><p> alldata - List of data variables and their full attributes
</p>
</li></ul>

<p>Where <code>alldata</code> element has many data.frame's, one for each variable,
with metadata for that variable. E.g., for griddap dataset
<code>noaa_pfeg_696e_ec99_6fa6</code>, <code>alldata</code> has:
</p>

<ul>
<li><p> NC_GLOBAL
</p>
</li>
<li><p> time
</p>
</li>
<li><p> latitude
</p>
</li>
<li><p> longitude
</p>
</li>
<li><p> sss
</p>
</li></ul>



<h3>References</h3>

<p>https://upwell.pfeg.noaa.gov/erddap/index.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# grid dap datasets
info('erdATastnhday')

(out &lt;- ed_search(query='temperature'))
info(out$info$dataset_id[5])
info(out$info$dataset_id[15])
info(out$info$dataset_id[25])
info(out$info$dataset_id[150])
info(out$info$dataset_id[400])
info(out$info$dataset_id[678])

out &lt;- info(datasetid='erdMBchla1day')
## See brief overview of the variables and range of possible values, if given
out$variables
## all information on longitude
out$alldata$longitude
## all information on chlorophyll
out$alldata$chlorophyll

# table dap datasets
(out &lt;- ed_search(query='temperature', which = "table"))
info(out$info$dataset_id[1])
info(out$info$dataset_id[2])
info(out$info$dataset_id[3])
info(out$info$dataset_id[4])

info('erdCinpKfmBT')
out &lt;- info('erdCinpKfmBT')
## See brief overview of the variables and range of possible values, if given
out$variables
## all information on longitude
out$alldata$longitude
## all information on Haliotis_corrugata_Mean_Density
out$alldata$Haliotis_corrugata_Mean_Density

# use a different ERDDAP™ server
## Marine Institute (Ireland)
info("IMI_CONN_2D", url = "http://erddap.marine.ie/erddap/")

## End(Not run)
</code></pre>

<hr>
<h2 id='institutions'>institutions</h2><span id='topic+institutions'></span>

<h3>Description</h3>

<p>institutions
</p>


<h3>Format</h3>

<p>A character vector
</p>

<hr>
<h2 id='ioos_categories'>ioos_categories</h2><span id='topic+ioos_categories'></span>

<h3>Description</h3>

<p>ioos_categories
</p>


<h3>Format</h3>

<p>A character vector
</p>

<hr>
<h2 id='key_words'>Convert a CF Standard Name to/from a GCMD Science Keyword</h2><span id='topic+key_words'></span>

<h3>Description</h3>

<p>Convert a CF Standard Name to/from a GCMD Science Keyword
</p>


<h3>Usage</h3>

<pre><code class='language-R'>key_words(cf = NULL, gcmd = NULL, url = eurl(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="key_words_+3A_cf">cf</code></td>
<td>
<p>character; A cf standard name
http://cfconventions.org/Data/cf-standard-names/27/build/cf-standard-name-table.html</p>
</td></tr>
<tr><td><code id="key_words_+3A_gcmd">gcmd</code></td>
<td>
<p>character; A GCMD science keyword
http://gcmd.gsfc.nasa.gov/learn/keyword_list.html</p>
</td></tr>
<tr><td><code id="key_words_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/. See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="key_words_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'> ## Not run: 
key_words(cf = "air_pressure")
cat(key_words(cf = "air_pressure"))

# a different ERDDAP™ server
# key_words(cf = "air_pressure", url = servers()$url[6])

## End(Not run)
</code></pre>

<hr>
<h2 id='keywords'>keywords</h2><span id='topic+keywords'></span>

<h3>Description</h3>

<p>keywords
</p>


<h3>Format</h3>

<p>A character vector
</p>

<hr>
<h2 id='longnames'>longnames</h2><span id='topic+longnames'></span>

<h3>Description</h3>

<p>longnames
</p>


<h3>Format</h3>

<p>A character vector
</p>

<hr>
<h2 id='servers'>ERDDAP™ server URLS and other info</h2><span id='topic+servers'></span>

<h3>Description</h3>

<p>ERDDAP™ server URLS and other info
</p>


<h3>Usage</h3>

<pre><code class='language-R'>servers(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="servers_+3A_...">...</code></td>
<td>
<p>curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame with 3 columns:
</p>

<ul>
<li><p> name (character): ERDDAP™ name
</p>
</li>
<li><p> url (character): ERDDAP™ url
</p>
</li>
<li><p> public (logical): whether it's public or not
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
servers()

## End(Not run)
</code></pre>

<hr>
<h2 id='standardnames'>standardnames</h2><span id='topic+standardnames'></span>

<h3>Description</h3>

<p>standardnames
</p>


<h3>Format</h3>

<p>A character vector
</p>

<hr>
<h2 id='tabledap'>Get ERDDAP™ tabledap data.</h2><span id='topic+tabledap'></span>

<h3>Description</h3>

<p>Get ERDDAP™ tabledap data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tabledap(
  x,
  ...,
  fields = NULL,
  distinct = FALSE,
  orderby = NULL,
  orderbymax = NULL,
  orderbymin = NULL,
  orderbyminmax = NULL,
  units = NULL,
  fmt = "csv",
  url = eurl(),
  store = disk(),
  callopts = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tabledap_+3A_x">x</code></td>
<td>
<p>Anything coercable to an object of class info. So the output of
a call to <code><a href="#topic+info">info()</a></code>, or a datasetid, which will internally be passed
through <code><a href="#topic+info">info()</a></code></p>
</td></tr>
<tr><td><code id="tabledap_+3A_...">...</code></td>
<td>
<p>Any number of key-value pairs in quotes as query constraints.
See Details &amp; examples</p>
</td></tr>
<tr><td><code id="tabledap_+3A_fields">fields</code></td>
<td>
<p>Columns to return, as a character vector</p>
</td></tr>
<tr><td><code id="tabledap_+3A_distinct">distinct</code></td>
<td>
<p>If <code>TRUE</code> ERDDAP™ will sort all of the rows in the results
table (starting with the first requested variable, then using the second
requested variable if the first variable has a tie, ...), then remove all
non-unique rows of data. In many situations, ERDDAP™ can return distinct
values quickly and efficiently. But in some cases, ERDDAP™ must look through
all rows of the source dataset.</p>
</td></tr>
<tr><td><code id="tabledap_+3A_orderby">orderby</code></td>
<td>
<p>If used, ERDDAP™ will sort all of the rows in the results
table (starting with the first variable, then using the second variable
if the first variable has a tie, ...). Normally, the rows of data in the
response table are in the order they arrived from the data source. orderBy
allows you to request that the results table be sorted in a specific way.
For example, use <code>orderby=c("stationID,time")</code> to get the results
sorted by stationID, then time. The orderby variables MUST be included in
the list of requested variables in the fields parameter.</p>
</td></tr>
<tr><td><code id="tabledap_+3A_orderbymax">orderbymax</code></td>
<td>
<p>Give a vector of one or more fields, that must be included
in the fields parameter as well. Gives back data given constraints. ERDDAP™
will sort all of the rows in the results table (starting with the first
variable, then using the second variable if the first variable has a
tie, ...) and then just keeps the rows where the value of the last sort
variable is highest (for each combination of other values).</p>
</td></tr>
<tr><td><code id="tabledap_+3A_orderbymin">orderbymin</code></td>
<td>
<p>Same as <code>orderbymax</code> parameter, except returns
minimum value.</p>
</td></tr>
<tr><td><code id="tabledap_+3A_orderbyminmax">orderbyminmax</code></td>
<td>
<p>Same as <code>orderbymax</code> parameter, except returns
two rows for every combination of the n-1 variables: one row with the
minimum value, and one row with the maximum value.</p>
</td></tr>
<tr><td><code id="tabledap_+3A_units">units</code></td>
<td>
<p>One of 'udunits' (units will be described via the UDUNITS
standard (e.g.,degrees_C)) or 'ucum' (units will be described via the
UCUM standard (e.g., Cel)).</p>
</td></tr>
<tr><td><code id="tabledap_+3A_fmt">fmt</code></td>
<td>
<p>whether download should be as '.csv' (default) or '.parquet'</p>
</td></tr>
<tr><td><code id="tabledap_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server.
Default: https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="tabledap_+3A_store">store</code></td>
<td>
<p>One of <code>disk</code> (default) or <code>memory</code>. You can pass
options to <code>disk</code></p>
</td></tr>
<tr><td><code id="tabledap_+3A_callopts">callopts</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a> (must be
named parameters)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For key-value pair query constraints, the valid operators are =,
!= (not equals), =~ (a regular expression test), &lt;, &lt;=, &gt;, and &gt;= . For
regular expressions you need to add a regular expression. For others, nothing
more is needed. Construct the entry like <code>'time&gt;=2001-07-07'</code> with the
parameter on the left, value on the right, and the operator in the middle,
all within a set of quotes. Since ERDDAP accepts values other than <code>=</code>,
we can't simply do <code>time = '2001-07-07'</code> as we normally would.
</p>
<p>Server-side functionality: Some tasks are done server side. You don't have
to worry about what that means. They are provided via parameters in this
function. See <code>distinct</code>, <code>orderby</code>, <code>orderbymax</code>,
<code>orderbymin</code>, <code>orderbyminmax</code>, and <code>units</code>.
</p>
<p>Data is cached based on all parameters you use to get a dataset, including
base url, query parameters. If you make the same exact call in the same or
a different R session, as long you don't clear the cache, the function only
reads data from disk, and does not have to request the data from the web
again.
</p>
<p>If you run into an error like &quot;HTTP Status 500 - There was a (temporary?)
problem. Wait a minute, then try again.&quot;. it's likely they are hitting
up against a size limit, and they should reduce the amount of data they
are requesting either via space, time, or variables. Pass in
<code>config = verbose()</code> to the request, and paste the URL into your
browser to see if the output is garbled to examine if there's a problem
with servers or this package
</p>


<h3>Value</h3>

<p>An object of class <code>tabledap</code>. This class is a thin wrapper
around a data.frame, so the data you get back is a data.frame with metadata
attached as attributes (datasetid, path (path where the csv is stored on
your machine), url (url for the request))
</p>


<h3>References</h3>

<p>https://upwell.pfeg.noaa.gov/erddap/index.html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Just passing the datasetid without fields gives all columns back
tabledap('erdCinpKfmBT')

# Pass time constraints
tabledap('erdCinpKfmBT', 'time&gt;=2006-08-24')

# Pass in fields (i.e., columns to retrieve) &amp; time constraints
tabledap('erdCinpKfmBT',
  fields = c('longitude', 'latitude', 'Aplysia_californica_Mean_Density'),
  'time&gt;=2006-08-24'
)

# Get info on a datasetid, then get data given information learned
info('erdCalCOFIlrvsiz')$variables
tabledap('erdCalCOFIlrvsiz', fields=c('latitude','longitude','larvae_size',
   'itis_tsn'), 'time&gt;=2011-10-25', 'time&lt;=2011-10-31')

# An example workflow
## Search for data
(out &lt;- ed_search(query='fish', which = 'table'))
## Using a datasetid, search for information on a datasetid
id &lt;- out$alldata[[1]]$dataset_id
vars &lt;- info(id)$variables
## Get data from the dataset
vars$variable_name[1:3]
tabledap(id, fields = vars$variable_name[1:3])

# Time constraint
## Limit by time with date only
(info &lt;- info('erdCinpKfmBT'))
tabledap(info, fields = c(
  'latitude','longitude','Haliotis_fulgens_Mean_Density'),
  'time&gt;=2001-07-14')

# Use distinct parameter - compare to distinct = FALSE
tabledap('sg114_3',
   fields=c('longitude','latitude','trajectory'),
   'time&gt;=2008-12-05', distinct = TRUE)

# Use units parameter
## In this example, values are the same, but sometimes they can be different
## given the units value passed
tabledap('erdCinpKfmT', fields=c('longitude','latitude','time','temperature'),
   'time&gt;=2007-09-19', 'time&lt;=2007-09-21', units='udunits')
tabledap('erdCinpKfmT', fields=c('longitude','latitude','time','temperature'),
   'time&gt;=2007-09-19', 'time&lt;=2007-09-21', units='ucum')

# Use orderby parameter
tabledap('erdCinpKfmT', fields=c('longitude','latitude','time','temperature'),
   'time&gt;=2007-09-19', 'time&lt;=2007-09-21', orderby='temperature')
# Use orderbymax parameter
tabledap('erdCinpKfmT', fields=c('longitude','latitude','time','temperature'),
   'time&gt;=2007-09-19', 'time&lt;=2007-09-21', orderbymax='temperature')
# Use orderbymin parameter
tabledap('erdCinpKfmT', fields=c('longitude','latitude','time','temperature'),
   'time&gt;=2007-09-19', 'time&lt;=2007-09-21', orderbymin='temperature')
# Use orderbyminmax parameter
tabledap('erdCinpKfmT', fields=c('longitude','latitude','time','temperature'),
   'time&gt;=2007-09-19', 'time&lt;=2007-09-21', orderbyminmax='temperature')
# Use orderbymin parameter with multiple values
tabledap('erdCinpKfmT',
   fields=c('longitude','latitude','time','depth','temperature'),
   'time&gt;=2007-06-10', 'time&lt;=2007-09-21',
   orderbymax=c('depth','temperature')
)

# Integrate with taxize
out &lt;- tabledap('erdCalCOFIlrvcntHBtoHI',
   fields = c('latitude','longitude','scientific_name','itis_tsn'),
   'time&gt;=2007-06-10', 'time&lt;=2007-09-21'
)
tsns &lt;- unique(out$itis_tsn[1:100])
library("taxize")
classif &lt;- classification(tsns, db = "itis")
head(rbind(classif)); tail(rbind(classif))

# Write to memory (within R), or to disk
(out &lt;- info('erdCinpKfmBT'))
## disk, by default (to prevent bogging down system w/ large datasets)
## the 2nd call is much faster as it's mostly just the time of reading
## in the table from disk
system.time( tabledap('erdCinpKfmBT', store = disk()) )
system.time( tabledap('erdCinpKfmBT', store = disk()) )
## memory
tabledap('erdCinpKfmBT', store = memory())

# use a different ERDDAP™ server
## NOAA IOOS NERACOOS
url &lt;- "http://www.neracoos.org/erddap/"
tabledap("E01_optics_hist", url = url)

## End(Not run)
</code></pre>

<hr>
<h2 id='variablenames'>variablenames</h2><span id='topic+variablenames'></span>

<h3>Description</h3>

<p>variablenames
</p>


<h3>Format</h3>

<p>A character vector
</p>

<hr>
<h2 id='version'>Get ERDDAP™ version</h2><span id='topic+version'></span>

<h3>Description</h3>

<p>Get ERDDAP™ version
</p>


<h3>Usage</h3>

<pre><code class='language-R'>version(url = eurl(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="version_+3A_url">url</code></td>
<td>
<p>A URL for an ERDDAP™ server. Default:
https://upwell.pfeg.noaa.gov/erddap/ - See <code><a href="#topic+eurl">eurl()</a></code> for
more information</p>
</td></tr>
<tr><td><code id="version_+3A_...">...</code></td>
<td>
<p>Curl options passed on to <a href="crul.html#topic+verb-GET">crul::verb-GET</a></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
version()
ss &lt;- servers()
version(ss$url[2])
version(ss$url[3])

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package easydb</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {easydb}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#assert_config_file_appropriate'><p>Check config filepath is appropriate</p></a></li>
<li><a href='#easydb_available_databases'><p>Available Databases</p></a></li>
<li><a href='#easydb_connect'><p>Easy Database Connection</p></a></li>
<li><a href='#easydb_disconnect'><p>Disconnect from database</p></a></li>
<li><a href='#easydb_init'><p>Initialise Configuration Store</p></a></li>
<li><a href='#supported_drivers'><p>List supported drivers</p></a></li>
<li><a href='#utils_database_already_in_yaml'><p>Database Utils</p></a></li>
<li><a href='#utils_database_get_or_set_config'><p>Interactive getting/setting database configurations</p></a></li>
<li><a href='#utils_database_get_or_set_creds'><p>Create/Retrieve database credentials</p></a></li>
<li><a href='#utils_database_read_yaml'><p>Read the database config</p></a></li>
<li><a href='#utils_database_remove_entry_from_yaml'><p>Delete database config entries from yaml</p></a></li>
<li><a href='#utils_database_write_yaml'><p>Write database yaml</p></a></li>
<li><a href='#utils_user_input_retrieve_free_text'><p>get user input</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Easily Connect to Common Types of Databases</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>A unified interface for connecting to databases ('SQLite', 'MySQL', 'PostgreSQL').
    Just provide the database name and the package will ask you questions
    to help you configure the connection and setup your credentials.  Once
    database configuration and connection has been set up once, you won't
    have to do it ever again.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/selkamand/easydb">https://github.com/selkamand/easydb</a>,
<a href="https://selkamand.github.io/easydb/">https://selkamand.github.io/easydb/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/selkamand/easydb/issues">https://github.com/selkamand/easydb/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>askpass, assertthat, cli, DBI, keyring, rlang, utils, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, RMariaDB, rmarkdown, RPostgres, RSQLite, testthat (&ge;
3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-06 10:05:00 UTC; selkamand</td>
</tr>
<tr>
<td>Author:</td>
<td>Sam El-Kamand <a href="https://orcid.org/0000-0003-2270-8088"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sam El-Kamand &lt;sam.elkamand@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-06 10:20:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='assert_config_file_appropriate'>Check config filepath is appropriate</h2><span id='topic+assert_config_file_appropriate'></span>

<h3>Description</h3>

<p>Ensures file is hidden, in a folder that exists, and that has read and write permissions.
The file itself doesn't already have to exist
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_config_file_appropriate(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_config_file_appropriate_+3A_file">file</code></td>
<td>
<p>path to config file (string)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly returns TRUE
</p>

<hr>
<h2 id='easydb_available_databases'>Available Databases</h2><span id='topic+easydb_available_databases'></span>

<h3>Description</h3>

<p>List databases with configuration details stored in a configuration file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>easydb_available_databases(config_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="easydb_available_databases_+3A_config_file">config_file</code></td>
<td>
<p>path to yaml file containing configuration information about databases (port, host, etc. ) (string)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>database names (character vector)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path_to_config = tempfile()
easydb_available_databases(path_to_config)
</code></pre>

<hr>
<h2 id='easydb_connect'>Easy Database Connection</h2><span id='topic+easydb_connect'></span>

<h3>Description</h3>

<p>Easily connect to a database.
When connecting to a database for the first time, you will be prompted for connection details.
Configuration details will be stored in the user-specified 'configuration file'.
The next time you run the same command, config details will be automatically retreived from the config file.
Any usernames and passwords are stored in your system credential manager (not on-disk)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>easydb_connect(dbname, config_file, from_scratch = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="easydb_connect_+3A_dbname">dbname</code></td>
<td>
<p>name of database (string)</p>
</td></tr>
<tr><td><code id="easydb_connect_+3A_config_file">config_file</code></td>
<td>
<p>path to yaml file containing configuration information about databases (port, host, etc. ) (string)</p>
</td></tr>
<tr><td><code id="easydb_connect_+3A_from_scratch">from_scratch</code></td>
<td>
<p>should we delete any current config / credentials for databases with the supplied name and start again? (logical)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>connection to database (connection)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

  # Choose config file path
  # Do NOT use tempfile in practice.
  # Instead, choose a fixed location such as '~/.easydb'
  config &lt;- tempfile('.example_config')

  # Initialise config file
  easydb_init(config)

  # Connect to SQLite database
  path_to_db &lt;- system.file(package = 'easydb', 'testdbs/mtcars.sqlite')
  con &lt;- easydb_connect(dbname = path_to_db, config_file = config)

  # Disconnect from database when finished
  easydb_disconnect(con)
}
</code></pre>

<hr>
<h2 id='easydb_disconnect'>Disconnect from database</h2><span id='topic+easydb_disconnect'></span>

<h3>Description</h3>

<p>Simple wrapper around [DBI::dbDisconnect()]
</p>


<h3>Usage</h3>

<pre><code class='language-R'>easydb_disconnect(connection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="easydb_disconnect_+3A_connection">connection</code></td>
<td>
<p>coneection generated by [easydb_connect]</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns TRUE
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {

  # Choose config file path
  # Do NOT use tempfile in practice.
  # Instead, choose a fixed location such as '~/.easydb'
  config &lt;- tempfile('.example_config')

  # Initialise config file
  easydb_init(config)

  # Connect to SQLite database
  path_to_db &lt;- system.file(package = 'easydb', 'testdbs/mtcars.sqlite')
  con &lt;- easydb_connect(dbname = path_to_db, config_file = config)

  # Disconnect from database when finished
  easydb_disconnect(con)
}
</code></pre>

<hr>
<h2 id='easydb_init'>Initialise Configuration Store</h2><span id='topic+easydb_init'></span>

<h3>Description</h3>

<p>Create a file to store your database configurations in.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>easydb_init(config_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="easydb_init_+3A_config_file">config_file</code></td>
<td>
<p>path to create a new config file to store database configurations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisibly returns path to config file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Choose config file path
# Do NOT use tempfile in practice.
# Choose a fixed location such as '~/.easydb'
config &lt;- tempfile('.example_config')

# Initialise Configuration File
easydb_init(config)

</code></pre>

<hr>
<h2 id='supported_drivers'>List supported drivers</h2><span id='topic+supported_drivers'></span>

<h3>Description</h3>

<p>List supported drivers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>supported_drivers()
</code></pre>


<h3>Value</h3>

<p>returns a vector of supported database drivers (character).
Names relate to the R packages containing the relevant driver function
</p>

<hr>
<h2 id='utils_database_already_in_yaml'>Database Utils</h2><span id='topic+utils_database_already_in_yaml'></span>

<h3>Description</h3>

<p>Check if a yaml contains an entry describing a given database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_database_already_in_yaml(dbname, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_database_already_in_yaml_+3A_dbname">dbname</code></td>
<td>
<p>database name (character)</p>
</td></tr>
<tr><td><code id="utils_database_already_in_yaml_+3A_file">file</code></td>
<td>
<p>file (string)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>true if yaml entry for dbname found, otherwise false (logical)
</p>

<hr>
<h2 id='utils_database_get_or_set_config'>Interactive getting/setting database configurations</h2><span id='topic+utils_database_get_or_set_config'></span>

<h3>Description</h3>

<p>Interactive getting/setting database configurations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_database_get_or_set_config(dbname, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_database_get_or_set_config_+3A_dbname">dbname</code></td>
<td>
<p>nane of database (string)</p>
</td></tr>
<tr><td><code id="utils_database_get_or_set_config_+3A_file">file</code></td>
<td>
<p>yaml file to store database configuration information</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list describing database configuration
</p>

<hr>
<h2 id='utils_database_get_or_set_creds'>Create/Retrieve database credentials</h2><span id='topic+utils_database_get_or_set_creds'></span>

<h3>Description</h3>

<p>Retrieves credentials (username and password) from os credential store using keyring package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_database_get_or_set_creds(dbname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_database_get_or_set_creds_+3A_dbname">dbname</code></td>
<td>
<p>Name of database to store/retrieve credentials for (string)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns list of username and password
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
creds &lt;- easydb::util_get_database_creds(
  service = "R-keyring-test-service",
  username = "donaldduck"
)
creds$username
creds$password

## End(Not run)
</code></pre>

<hr>
<h2 id='utils_database_read_yaml'>Read the database config</h2><span id='topic+utils_database_read_yaml'></span>

<h3>Description</h3>

<p>Read the database config
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_database_read_yaml(dbname, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_database_read_yaml_+3A_dbname">dbname</code></td>
<td>
<p>name of database whose config you want to read</p>
</td></tr>
<tr><td><code id="utils_database_read_yaml_+3A_file">file</code></td>
<td>
<p>path to config yaml</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with config
</p>

<hr>
<h2 id='utils_database_remove_entry_from_yaml'>Delete database config entries from yaml</h2><span id='topic+utils_database_remove_entry_from_yaml'></span>

<h3>Description</h3>

<p>Delete database config entries from yaml
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_database_remove_entry_from_yaml(dbnames, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_database_remove_entry_from_yaml_+3A_dbnames">dbnames</code></td>
<td>
<p>names of databases to delete from yaml (character)</p>
</td></tr>
<tr><td><code id="utils_database_remove_entry_from_yaml_+3A_file">file</code></td>
<td>
<p>path to config yaml (string)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Run for its side effects
</p>

<hr>
<h2 id='utils_database_write_yaml'>Write database yaml</h2><span id='topic+utils_database_write_yaml'></span>

<h3>Description</h3>

<p>Writes database config details into a yaml. Usernames and passwords are never saved in this yaml file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_database_write_yaml(
  dbname,
  driver,
  creds_required = FALSE,
  port = NULL,
  host = NULL,
  ssl_cert = NULL,
  ssl_key = NULL,
  ssl_ca = NULL,
  file,
  append = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_database_write_yaml_+3A_dbname">dbname</code></td>
<td>
<p>name of database</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_driver">driver</code></td>
<td>
<p>name of driver</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_creds_required">creds_required</code></td>
<td>
<p>are credentials (username/password) required for this database (flag)</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_port">port</code></td>
<td>
<p>database port</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_host">host</code></td>
<td>
<p>database host</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_ssl_cert">ssl_cert</code></td>
<td>
<p>path to ssl certificate (string)</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_ssl_key">ssl_key</code></td>
<td>
<p>path to ssl key (string)</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_ssl_ca">ssl_ca</code></td>
<td>
<p>path to ssl CA certificate (string)</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_file">file</code></td>
<td>
<p>where config file should be located (will be produced if it doesn't already exist)</p>
</td></tr>
<tr><td><code id="utils_database_write_yaml_+3A_append">append</code></td>
<td>
<p>should config file be appended or overwritten? Defualts to append. Don't change unless you know what you're doing</p>
</td></tr>
</table>


<h3>Value</h3>

<p>path to config yaml containing the new database info (string)
</p>

<hr>
<h2 id='utils_user_input_retrieve_free_text'>get user input</h2><span id='topic+utils_user_input_retrieve_free_text'></span>

<h3>Description</h3>

<p>get user input
</p>


<h3>Usage</h3>

<pre><code class='language-R'>utils_user_input_retrieve_free_text(
  message,
  default = NULL,
  type = c("string", "number")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="utils_user_input_retrieve_free_text_+3A_message">message</code></td>
<td>
<p>message - tell user what information to input</p>
</td></tr>
<tr><td><code id="utils_user_input_retrieve_free_text_+3A_default">default</code></td>
<td>
<p>if user enters no data, this value will be returned (NULL)</p>
</td></tr>
<tr><td><code id="utils_user_input_retrieve_free_text_+3A_type">type</code></td>
<td>
<p>return type</p>
</td></tr>
</table>


<h3>Value</h3>

<p>user input formatted according to type. If user does not enter anything will return value of <code>default</code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

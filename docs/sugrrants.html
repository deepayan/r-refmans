<!DOCTYPE html><html lang="en-GB"><head><title>Help for package sugrrants</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sugrrants}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sugrrants-package'><p>sugrrants: supporting graphs for analysing time series</p></a></li>
<li><a href='#draw-key'><p>Key drawing functions</p></a></li>
<li><a href='#facet_calendar'><p>Lay out panels in a calendar format</p></a></li>
<li><a href='#frame_calendar'><p>Rearrange a temporal data frame to a calendar-based data format using linear algebra</p></a></li>
<li><a href='#geom_acf'><p>Autocorrelation for temporal data</p></a></li>
<li><a href='#hourly_peds'><p>Pedestrian counts in Melbourne city</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#stat_acf'><p>Autocorrelation for temporal data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Supporting Graphs for Analysing Time Series</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.9</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides 'ggplot2' graphics for analysing time
    series data. It aims to fit into the 'tidyverse' and grammar of
    graphics framework for handling temporal data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://pkg.earo.me/sugrrants/">https://pkg.earo.me/sugrrants/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/earowang/sugrrants/issues">https://github.com/earowang/sugrrants/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 2.2.0), R (&ge; 3.1.3)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.0), grid, gtable, lubridate (&ge; 1.7.1), rlang
(&ge; 0.2.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, plotly, readr, rmarkdown, testthat, tidyr,
tsibble (&ge; 0.8.0), viridis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-12 00:50:48 UTC; earo</td>
</tr>
<tr>
<td>Author:</td>
<td>Earo Wang <a href="https://orcid.org/0000-0001-6448-5260"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Di Cook <a href="https://orcid.org/0000-0002-3813-7155"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ths],
  Rob Hyndman <a href="https://orcid.org/0000-0002-2140-5352"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Earo Wang &lt;earo.wang@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-12 05:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='sugrrants-package'>sugrrants: supporting graphs for analysing time series</h2><span id='topic+sugrrants-package'></span>

<h3>Description</h3>

<p>Provides 'ggplot2' graphics for analysing time series data. It aims to fit
into the 'tidyverse' and grammar of graphics framework for handling temporal
data.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Earo Wang <a href="mailto:earo.wang@gmail.com">earo.wang@gmail.com</a> (<a href="https://orcid.org/0000-0001-6448-5260">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Di Cook (<a href="https://orcid.org/0000-0002-3813-7155">ORCID</a>) [thesis advisor]
</p>
</li>
<li><p> Rob Hyndman (<a href="https://orcid.org/0000-0002-2140-5352">ORCID</a>) [thesis advisor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://pkg.earo.me/sugrrants/">https://pkg.earo.me/sugrrants/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/earowang/sugrrants/issues">https://github.com/earowang/sugrrants/issues</a>
</p>
</li></ul>


<hr>
<h2 id='draw-key'>Key drawing functions</h2><span id='topic+draw-key'></span><span id='topic+draw_key_acf'></span>

<h3>Description</h3>

<p>Key drawing functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_key_acf(data, params, size)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw-key_+3A_data">data</code></td>
<td>
<p>A single row data frame containing the scaled aesthetics to
display in this key</p>
</td></tr>
<tr><td><code id="draw-key_+3A_params">params</code></td>
<td>
<p>A list of additional parameters supplied to the geom.</p>
</td></tr>
<tr><td><code id="draw-key_+3A_size">size</code></td>
<td>
<p>Width and height of key in mm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grid grob
</p>

<hr>
<h2 id='facet_calendar'>Lay out panels in a calendar format</h2><span id='topic+facet_calendar'></span><span id='topic+FacetCalendar'></span>

<h3>Description</h3>

<p>Lay out panels in a calendar format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>facet_calendar(
  date,
  format = "%b %d",
  week_start = getOption("lubridate.week.start", 1),
  nrow = NULL,
  ncol = NULL,
  scales = "fixed",
  shrink = TRUE,
  dir = "h",
  labeller = "label_value",
  strip.position = "top"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="facet_calendar_+3A_date">date</code></td>
<td>
<p>A variable that contains dates or an expression that generates
dates will be mapped in the calendar.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_format">format</code></td>
<td>
<p>A character string, such as <code style="white-space: pre;">&#8288;%Y-%b-%d&#8288;</code> and <code style="white-space: pre;">&#8288;%a (%d)&#8288;</code>, formatting
the display of facet strips. See <code>?strptime</code> for details.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_week_start">week_start</code></td>
<td>
<p>Day on which week starts following ISO conventions -
1 means Monday (default), 7 means Sunday. You can set <code>lubridate.week.start</code>
option to control this parameter globally.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_nrow">nrow</code>, <code id="facet_calendar_+3A_ncol">ncol</code></td>
<td>
<p>Number of rows and columns defined for &quot;monthly&quot; calendar
layout. If <code>NULL</code>, it computes a sensible layout.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_scales">scales</code></td>
<td>
<p>Should scales be fixed (<code>"fixed"</code>, the default),
free (<code>"free"</code>), or free in one dimension (<code>"free_x"</code>,
<code>"free_y"</code>)?</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_shrink">shrink</code></td>
<td>
<p>If <code>TRUE</code>, will shrink scales to fit output of
statistics, not raw data. If <code>FALSE</code>, will be range of raw data
before statistical summary.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_dir">dir</code></td>
<td>
<p>Direction of calendar: &quot;h&quot; for horizontal (the default) or &quot;v&quot; for
vertical.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_labeller">labeller</code></td>
<td>
<p>A function that takes one data frame of labels and
returns a list or data frame of character vectors. Each input
column corresponds to one factor. Thus there will be more than
one with <code>vars(cyl, am)</code>. Each output
column gets displayed as one separate line in the strip
label. This function should inherit from the &quot;labeller&quot; S3 class
for compatibility with <code><a href="ggplot2.html#topic+labeller">labeller()</a></code>. You can use different labeling
functions for different kind of labels, for example use <code><a href="ggplot2.html#topic+label_parsed">label_parsed()</a></code> for
formatting facet labels. <code><a href="ggplot2.html#topic+label_value">label_value()</a></code> is used by default,
check it for more details and pointers to other options.</p>
</td></tr>
<tr><td><code id="facet_calendar_+3A_strip.position">strip.position</code></td>
<td>
<p>By default, the labels are displayed on the top of
the plot. Using <code>strip.position</code> it is possible to place the labels on
either of the four sides by setting <code>strip.position = c("top",
  "bottom", "left", "right")</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A monthly calendar is set up as a 5 by 7 layout matrix. Each month could
extend over six weeks but in these months is to wrap the last few days up
to the top row of the block.
</p>


<h3>See Also</h3>

<p><a href="#topic+frame_calendar">frame_calendar</a> for a compact calendar display, by quickly transforming
the data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
fs &lt;- hourly_peds %&gt;%
  dplyr::filter(Date &lt; as.Date("2016-05-01"))

fs %&gt;%
  ggplot(aes(x = Time, y = Hourly_Counts)) +
  geom_line(aes(colour = Sensor_Name)) +
  facet_calendar(~ Date, nrow = 2) + # or ~ as.Date(Date_Time)
  theme(legend.position = "bottom")

</code></pre>

<hr>
<h2 id='frame_calendar'>Rearrange a temporal data frame to a calendar-based data format using linear algebra</h2><span id='topic+frame_calendar'></span><span id='topic+prettify'></span>

<h3>Description</h3>

<p>Temporal data of daily intervals or higher frequency levels can be organised
into a calendar-based format, which is useful for visually presenting
calendar-related activities or multiple seasonality (such as time of day,
day of week, day of month). The function only returns a rearranged data frame,
and <code>ggplot2</code> takes care of the plotting afterwards. It allows more
flexibility for users to visualise the data in various ways.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>frame_calendar(
  data,
  x,
  y,
  date,
  calendar = "monthly",
  dir = "h",
  week_start = getOption("lubridate.week.start", 1),
  nrow = NULL,
  ncol = NULL,
  polar = FALSE,
  scale = "fixed",
  width = 0.95,
  height = 0.95,
  margin = NULL,
  ...
)

prettify(plot, label = c("label", "text"), locale, abbr = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="frame_calendar_+3A_data">data</code></td>
<td>
<p>A data frame or a grouped data frame including a <code>Date</code> variable.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_x">x</code></td>
<td>
<p>A bare (or unquoted) variable mapping to x axis, for example time of
day. If integer 1 is specified, it simply returns calendar grids on x
without transformation.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_y">y</code></td>
<td>
<p>A bare (or unquoted) variable or more mapping to y axis. More than
one variable need putting to <code>vars()</code>. If integer 1 is specified, it returns
calendar grids on y without transformation.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_date">date</code></td>
<td>
<p>A <code>Date</code> variable mapping to dates in the calendar.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_calendar">calendar</code></td>
<td>
<p>Type of calendar. (1) &quot;monthly&quot; calendar (the default) organises
the <code>data</code> to a common format comprised of day of week in the column and
week of month in the row. A monthly calendar is set up as a 5 by 7 layout
matrix. Each month could extend over six weeks but in these months is to
wrap the last few days up to the top row of the block. (2) &quot;weekly&quot;
calendar consists of day of week and week of year. (3) &quot;daily&quot; calendar
refers to day of month and month of year.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_dir">dir</code></td>
<td>
<p>Direction of calendar: &quot;h&quot; for horizontal (the default) or &quot;v&quot; for
vertical.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_week_start">week_start</code></td>
<td>
<p>Day on which week starts following ISO conventions -
1 means Monday (default), 7 means Sunday. You can set <code>lubridate.week.start</code>
option to control this parameter globally.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_nrow">nrow</code>, <code id="frame_calendar_+3A_ncol">ncol</code></td>
<td>
<p>Number of rows and columns defined for &quot;monthly&quot; calendar
layout. If <code>NULL</code>, it computes a sensible layout.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_polar">polar</code></td>
<td>
<p>FALSE (the default) for Cartesian or TRUE for polar coordinates.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_scale">scale</code></td>
<td>
<p>&quot;fixed&quot; (the default) for fixed scale. &quot;free&quot; for scaling
conditional on each daily cell, &quot;free_wday&quot; for scaling on weekdays,
&quot;free_mday&quot; for scaling on day of month.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_width">width</code>, <code id="frame_calendar_+3A_height">height</code></td>
<td>
<p>Numerics between 0 and 1 to specify the width/height for
each glyph.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_margin">margin</code></td>
<td>
<p>Numerics of length two between 0 and 1 to specify the horizontal
and vertical margins between month panels.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_...">...</code></td>
<td>
<p>Extra arguments passed to <code>geom_label()</code> and <code>geom_text()</code></p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_plot">plot</code></td>
<td>
<p>A &quot;ggplot&quot; object or &quot;plotly&quot;.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_label">label</code></td>
<td>
<p>If &quot;label&quot; is specified, it will add month/week text on the
<code>ggplot</code> object, which is actually passed to <code>geom_label()</code>. If &quot;text&quot; is
specified, it will add weekday/day of month text on the <code>ggplot</code> object,
which is actually passed to <code>geom_text()</code>. By default, both &quot;label&quot; and
&quot;text&quot; are used. If &quot;text2&quot; is specified for the &quot;monthly&quot; calendar only,
it will add day of month to the <code>ggplot</code> object.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_locale">locale</code></td>
<td>
<p>ISO 639 language code. The default is &quot;en&quot; (i.e. US English).
For other languages support, package <strong>readr</strong> needs to be installed.
See <a href="readr.html#topic+locale">readr::locale</a> for more details.</p>
</td></tr>
<tr><td><code id="frame_calendar_+3A_abbr">abbr</code></td>
<td>
<p>Logical to specify if the abbreviated version of label should be
used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The calendar-based graphic can be considered as small multiples
of sub-series arranged into many daily cells. For every multiple (or
facet), it requires the <code>x</code> variable mapped to be time of day and <code>y</code> to
value. New <code>x</code> and <code>y</code> are computed and named with a <code>.</code> prefixed to variable
according to <code>x</code> and <code>y</code> respectively, and get ready for <code>ggplot2</code> aesthetic
mappings. In conjunction with <code>group_by()</code>, it allows the grouped variable
to have their individual scales. For more details, see <code>vignette("frame-calendar", package = "sugrrants")</code>
</p>


<h3>Value</h3>

<p>A data frame or a dplyr::tibble with newly added columns of <code>.x</code>, <code>.y</code>. <code>.x</code>
and <code>.y</code> together give new coordinates computed for different types of
calendars. <code>date</code> groups the same dates in a chronological order, which is
useful for <code>geom_line</code> or <code>geom_path</code>. The basic use is <code style="white-space: pre;">&#8288;ggplot(aes(x = .x, y = .y, group = date)) + geom_*&#8288;</code>. The variable names <code>.x</code> and <code>.y</code> reflect
the actual <code>x</code> and <code>y</code> with a prefix <code>.</code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+facet_calendar">facet_calendar</a> for a fully-fledged faceting calendar with formal
labels and axes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr, warn.conflicts = FALSE)
# compute the calendar layout for the data frame
calendar_df &lt;- hourly_peds %&gt;%
  filter(Sensor_ID == 13, Year == 2016) %&gt;%
  frame_calendar(x = Time, y = Hourly_Counts, date = Date, nrow = 4)

# ggplot
p1 &lt;- calendar_df %&gt;%
  ggplot(aes(x = .Time, y = .Hourly_Counts, group = Date)) +
  geom_line()
prettify(p1, size = 3, label.padding = unit(0.15, "lines"))

# use in conjunction with group_by()
grped_calendar &lt;- hourly_peds %&gt;%
  filter(Year == "2017", Month == "March") %&gt;%
  group_by(Sensor_Name) %&gt;%
  frame_calendar(x = Time, y = Hourly_Counts, date = Date, week_start = 7)

p2 &lt;- grped_calendar %&gt;%
  ggplot(aes(x = .Time, y = .Hourly_Counts, group = Date)) +
  geom_line() +
  facet_wrap(~ Sensor_Name, nrow = 2)
prettify(p2)
## Not run: 
# allow for different languages
# below gives simplied Chinese labels with STKaiti font family,
# assuming this font installed in user's local system
prettify(p2, locale = "zh", family = "STKaiti")

# plotly example
if (!requireNamespace("plotly", quietly = TRUE)) {
  stop("Please install the 'plotly' package to run these following examples.")
}
library(plotly)
pp &lt;- calendar_df %&gt;%
  group_by(Date) %&gt;%
  plot_ly(x = ~ .Time, y = ~ .Hourly_Counts) %&gt;%
  add_lines(text = ~ paste("Count: ", Hourly_Counts, "&lt;br&gt; Time: ", Time))
prettify(pp)

## End(Not run)

</code></pre>

<hr>
<h2 id='geom_acf'>Autocorrelation for temporal data</h2><span id='topic+geom_acf'></span><span id='topic+GeomAcf'></span>

<h3>Description</h3>

<p>Since the data input is <code>data.frame</code>, it's better to sort the date-times
from early to recent and make implicit missing values explicit before using
<code>geom_acf</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_acf(
  mapping = NULL,
  data = NULL,
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  lag.max = NULL,
  type = "correlation",
  level = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_acf_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. If <code>TRUE</code>, missing values are removed.  default is the
&quot;correlation&quot; and other options are &quot;covariance&quot; and &quot;partial&quot;.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_lag.max">lag.max</code></td>
<td>
<p>An integer indicating the maximum lag at which to calculate the
acf.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_type">type</code></td>
<td>
<p>A character string giving the type of the acf to be computed. The</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_level">level</code></td>
<td>
<p>A numeric defining the confidence level. If <code>NULL</code>, no significant
line to be drawn.</p>
</td></tr>
<tr><td><code id="geom_acf_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
fstaff &lt;- hourly_peds %&gt;%
  filter(Sensor_ID == 13)

# use ggplot2 
fstaff %&gt;%
  ggplot(aes(x = ..lag.., y = Hourly_Counts)) +
  geom_acf()

</code></pre>

<hr>
<h2 id='hourly_peds'>Pedestrian counts in Melbourne city</h2><span id='topic+hourly_peds'></span>

<h3>Description</h3>

<p>A dataset containing the pedestrian counts at hourly intervals from 2016-01-01
to 2017-04-20 at 7 sensors in the city of Melbourne. The variables are as follows:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hourly_peds
</code></pre>


<h3>Format</h3>

<p>A tibble with 78755 rows and 9 variables:
</p>

<dl>
<dt>Date_Time</dt><dd><p>Date time when the pedestrian counts are recorded</p>
</dd>
<dt>Year</dt><dd><p>Year associated with Date_Time</p>
</dd>
<dt>Month</dt><dd><p>Month associated with Date_Time</p>
</dd>
<dt>Mdate</dt><dd><p>Day of month associated with Date_Time</p>
</dd>
<dt>Day</dt><dd><p>Weekday associated with Date_Time</p>
</dd>
<dt>Time</dt><dd><p>Hour associated with Date_Time</p>
</dd>
<dt>Sensor_ID</dt><dd><p>Sensor identifiers</p>
</dd>
<dt>Sensor_Name</dt><dd><p>Sensor names</p>
</dd>
<dt>Hourly_Counts</dt><dd><p>Hourly pedestrian counts</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>hourly_peds
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic++25+3E+25'></span><span id='topic+vars'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code>, <code><a href="dplyr.html#topic+vars">vars</a></code></p>
</dd>
</dl>

<hr>
<h2 id='stat_acf'>Autocorrelation for temporal data</h2><span id='topic+stat_acf'></span>

<h3>Description</h3>

<p>Since the data input is <code>data.frame</code>, it's better to sort the date-times
from early to recent and make implicit missing values explicit before using
<code>stat_acf</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_acf(
  mapping = NULL,
  data = NULL,
  geom = "bar",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  lag.max = NULL,
  type = "correlation",
  level = 0.95,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stat_acf_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. If <code>TRUE</code>, missing values are removed.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_lag.max">lag.max</code></td>
<td>
<p>An integer indicating the maximum lag at which to calculate the acf.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_type">type</code></td>
<td>
<p>A character string giving the type of the acf to be computed. The
default is the &quot;correlation&quot; and other options are &quot;covariance&quot; and &quot;partial&quot;.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_level">level</code></td>
<td>
<p>A numeric defining the confidence level. If <code>NULL</code>, no significant
line to be drawn.</p>
</td></tr>
<tr><td><code id="stat_acf_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
fstaff &lt;- hourly_peds %&gt;%
  filter(Sensor_ID == 13)

# use ggplot2 
fstaff %&gt;%
  ggplot(aes(x = ..lag.., y = Hourly_Counts)) +
  stat_acf(geom = "bar")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

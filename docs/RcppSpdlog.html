<!DOCTYPE html><html><head><title>Help for package RcppSpdlog</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcppSpdlog}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#RcppSpdlog-package'><p>R and C++ Interfaces to 'spdlog' C++ Header Library for Logging</p></a></li>
<li><a href='#exampleRsink'><p>spdlog Example using a sink for R</p></a></li>
<li><a href='#formatter'><p>Simple Pass-Through Formatter to <code>fmt::format()</code></p></a></li>
<li><a href='#get_stopwatch'><p>R Accessor Functions for spdlog Stopwatch</p></a></li>
<li><a href='#log_setup'><p>R Accessor Functions for spdlog Logger</p></a></li>
<li><a href='#setLogLevel'><p>spdlog Logging Lever Setter</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R and C++ Interfaces to 'spdlog' C++ Header Library for Logging</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.16</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-12</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Author:</td>
<td>Dirk Eddelbuettel</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The mature and widely-used C++ logging library 'spdlog' by Gabi Melman provides
 many desirable features. This package bundles these header files for easy use by R packages
 from both their R and C or C++ code. Explicit use via 'LinkingTo:' is also supported. Also
 see the 'spdl' package which enhanced this package with a consistent R and C++ interface.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/eddelbuettel/rcppspdlog">https://github.com/eddelbuettel/rcppspdlog</a>,
<a href="https://dirk.eddelbuettel.com/code/rcpp.spdlog.html">https://dirk.eddelbuettel.com/code/rcpp.spdlog.html</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/eddelbuettel/rcppspdlog/issues">https://github.com/eddelbuettel/rcppspdlog/issues</a></td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Suggests:</td>
<td>simplermarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>simplermarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-12 13:09:20 UTC; edd</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-12 13:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='RcppSpdlog-package'>R and C++ Interfaces to 'spdlog' C++ Header Library for Logging</h2><span id='topic+RcppSpdlog-package'></span><span id='topic+RcppSpdlog'></span>

<h3>Description</h3>

<p>The mature and widely-used C++ logging library 'spdlog' by Gabi Melman provides
 many desirable features. This package bundles these header files for easy use by R packages
 from both their R and C or C++ code. Explicit use via 'LinkingTo:' is also supported. Also
 see the 'spdl' package which enhanced this package with a consistent R and C++ interface.</p>


<h3>Details</h3>

<p>The DESCRIPTION file: </p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> RcppSpdlog</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> R and C++ Interfaces to 'spdlog' C++ Header Library for Logging</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.0.16</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2024-01-12</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Dirk Eddelbuettel</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Dirk Eddelbuettel &lt;edd@debian.org&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> The mature and widely-used C++ logging library 'spdlog' by Gabi Melman provides
 many desirable features. This package bundles these header files for easy use by R packages
 from both their R and C or C++ code. Explicit use via 'LinkingTo:' is also supported. Also
 see the 'spdl' package which enhanced this package with a consistent R and C++ interface.</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/eddelbuettel/rcppspdlog, https://dirk.eddelbuettel.com/code/rcpp.spdlog.html</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/eddelbuettel/rcppspdlog/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
LinkingTo: </td><td style="text-align: left;"> Rcpp</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> Rcpp</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> simplermarkdown</td>
</tr>
<tr>
 <td style="text-align: left;">
VignetteBuilder: </td><td style="text-align: left;"> simplermarkdown</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 6.0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
RcppSpdlog-package      R and C++ Interfaces to 'spdlog' C++ Header
                        Library for Logging
exampleRsink            spdlog Example using a sink for R
formatter               Simple Pass-Through Formatter to
                        'fmt::format()'
get_stopwatch           R Accessor Functions for spdlog Stopwatch
log_setup               R Accessor Functions for spdlog Logger
setLogLevel             spdlog Logging Lever Setter
</pre>
<p>This section should provide a more detailed overview of how to use the
package, including the most important functions.
</p>


<h3>Author(s)</h3>

<p>Dirk Eddelbuettel
</p>
<p>Maintainer: Dirk Eddelbuettel &lt;edd@debian.org&gt;
</p>

<hr>
<h2 id='exampleRsink'>spdlog Example using a sink for R</h2><span id='topic+exampleRsink'></span>

<h3>Description</h3>

<p>A simple example invoking a derived R/Rcpp logger. Also demonstrates the
stopwatch feature. For more features see the 'spdlog' documnetation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exampleRsink()
</code></pre>


<h3>Details</h3>

<p>Note that this no longer triggers R warnings thanks to excellent help by
Gabi Melman.
</p>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exampleRsink()
</code></pre>

<hr>
<h2 id='formatter'>Simple Pass-Through Formatter to <code>fmt::format()</code></h2><span id='topic+formatter'></span>

<h3>Description</h3>

<p>The C-level interface of R does not make it easy to pass <code>...</code>  arguments.
This helper function assumes it has already been called with <code>format()</code>
on each argument (as a wrapper can do) so it just spreads out the class to
<code>fmt::format{}</code> which, being C++, uses variadic templates to receive the
arguments. The main motivation for this function to able to format string as
use by the &lsquo;fmtlib::fmt&rsquo; library included in &lsquo;spdlog&rsquo; to write
similar debug strings in both R and C++. This function permits R calls with
multiple arguments of different types which (by being formatted on the R side)
are handled as strings (whereas C++ logging has access to the templating logic).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatter(s, v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatter_+3A_s">s</code></td>
<td>
<p>A character variable with a format string for &lsquo;fmtlib::fmt&rsquo;</p>
</td></tr>
<tr><td><code id="formatter_+3A_v">v</code></td>
<td>
<p>A character vector with the logging string arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A single (formatted) string
</p>


<h3>See Also</h3>

<p>https://github.com/fmtlib/fmt
</p>

<hr>
<h2 id='get_stopwatch'>R Accessor Functions for spdlog Stopwatch</h2><span id='topic+get_stopwatch'></span><span id='topic+elapsed_stopwatch'></span><span id='topic+format_stopwatch'></span><span id='topic+print.stopwatch'></span><span id='topic+format.stopwatch'></span>

<h3>Description</h3>

<p>A set of functions provides access to the <code>spdlog</code> stopwatch facilty. As <code>stopwatch</code>
object is a simple container around a C++ <code>std::chrono</code> object which (essentially) reports
elapsed-time since creation. The object is exported to R via an external pointer permitting use
from both R and C++.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_stopwatch()

elapsed_stopwatch(sw)

format_stopwatch(sw)

## S3 method for class 'stopwatch'
print(x, ...)

## S3 method for class 'stopwatch'
format(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_stopwatch_+3A_sw">sw</code></td>
<td>
<p>An S3 object of type <code>stopwatch</code>.</p>
</td></tr>
<tr><td><code id="get_stopwatch_+3A_x">x</code></td>
<td>
<p>An S3 object of type <code>stopwatch</code>.</p>
</td></tr>
<tr><td><code id="get_stopwatch_+3A_...">...</code></td>
<td>
<p>Dotted argument required by generic, unused here.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Several functions are provided:
</p>

<dl>
<dt><code>get_stopwatch</code></dt><dd><p>Returns a stopwatch object (as an S3 object).</p>
</dd>
<dt><code>elapsed_stopwatch</code></dt><dd><p>Returns elapsed time for stopwatch in seconds.</p>
</dd>
<dt><code>format_stopwatch</code></dt><dd><p>Returns elapsed time for stopwatch as character variable.</p>
</dd>
</dl>

<p>The <code>stopwatch</code> object has <code>print</code> and <code>format</code> methods.
</p>


<h3>Value</h3>

<p>The desired object is returned: respectively, a stopwatch object as an external pointer
in an S3 class, the elapsed time in seconds as a double, or formatted as a character variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>w &lt;- get_stopwatch()
Sys.sleep(0.2)
elapsed_stopwatch(w)
format_stopwatch(w)
</code></pre>

<hr>
<h2 id='log_setup'>R Accessor Functions for spdlog Logger</h2><span id='topic+log_setup'></span><span id='topic+log_init'></span><span id='topic+log_filesetup'></span><span id='topic+log_drop'></span><span id='topic+log_set_pattern'></span><span id='topic+log_set_level'></span><span id='topic+log_trace'></span><span id='topic+log_debug'></span><span id='topic+log_info'></span><span id='topic+log_warn'></span><span id='topic+log_error'></span><span id='topic+log_critical'></span>

<h3>Description</h3>

<p>Several R-level functions can access the <code>spdlog</code> logging facilties. As <code>spdlog</code>
is a C++-level logging library, these are R function permit concurrent logging from both
R and C++.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>log_setup(name = "default", level = "warn")

log_init(level = "warn")

log_filesetup(filename, name = "default", level = "warn")

log_drop(name)

log_set_pattern(s)

log_set_level(s)

log_trace(s)

log_debug(s)

log_info(s)

log_warn(s)

log_error(s)

log_critical(s)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="log_setup_+3A_name">name</code></td>
<td>
<p>A character variable with the logging instance name, default value is &lsquo;default&rsquo;.</p>
</td></tr>
<tr><td><code id="log_setup_+3A_level">level</code></td>
<td>
<p>A character variable with the default logging level, default value is &lsquo;warn&rsquo;.</p>
</td></tr>
<tr><td><code id="log_setup_+3A_filename">filename</code></td>
<td>
<p>A character variable with the logging filename if a file-based logger is
instantiated.</p>
</td></tr>
<tr><td><code id="log_setup_+3A_s">s</code></td>
<td>
<p>A character variable with the logging pattern, level or message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Several functions are provided:
</p>

<dl>
<dt><code>log_setup</code></dt><dd><p>Initializes a logger (which becomes the default logger).</p>
</dd>
<dt><code>log_filesetup</code></dt><dd><p>Initializes a file-based logger (which becomes the default).</p>
</dd>
<dt><code>log_drop</code></dt><dd><p>Removes logger (which in general should not be needed).</p>
</dd>
<dt><code>log_set_pattern</code></dt><dd><p>Changes the default logging message pattern.</p>
</dd>
<dt><code>log_set_level</code></dt><dd><p>Sets the logging level threshold.</p>
</dd>
<dt><code>log_trace</code></dt><dd><p>Logs a trace-level message.</p>
</dd>
<dt><code>log_debug</code></dt><dd><p>Logs a debug-level message.</p>
</dd>
<dt><code>log_info</code></dt><dd><p>Logs a info-level message.</p>
</dd>
<dt><code>log_warn</code></dt><dd><p>Logs a warn-level message.</p>
</dd>
<dt><code>log_error</code></dt><dd><p>Logs a error-level message.</p>
</dd>
<dt><code>log_critical</code></dt><dd><p>Logs a critical-level message.</p>
</dd>
</dl>

<p>Supported logging levels are, in order of increasing threshold values, &lsquo;trace&rsquo;,
&lsquo;debug&rsquo;, &lsquo;warn&rsquo;, &lsquo;info&rsquo;, &lsquo;warn&rsquo;, &lsquo;error&rsquo;, and
&lsquo;critical&rsquo;.  A message issued below the current threshold is not displayed whereas
a message at or above the current threshold is displayed.  The default level is &lsquo;warn&rsquo;.
</p>


<h3>Value</h3>

<p>Nothing is returned from these functions as they are invoked for their side-effects.
</p>


<h3>See Also</h3>

<p>The logging pattern format is described in at the repo in the page
<a href="https://github.com/gabime/spdlog/wiki/3.-Custom-formatting">https://github.com/gabime/spdlog/wiki/3.-Custom-formatting</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>log_setup("demo")  # at default level 'warn'
log_info("this message is NOT seen")
log_set_level("debug")
log_info("this message is seen")
log_warn("as is this message")

</code></pre>

<hr>
<h2 id='setLogLevel'>spdlog Logging Lever Setter</h2><span id='topic+setLogLevel'></span>

<h3>Description</h3>

<p>A helper function to turn a logging level given as string
into the current logging level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setLogLevel(name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setLogLevel_+3A_name">name</code></td>
<td>
<p>A string with the logging level. Value understood are,
in decreasing verbosity &lsquo;trace&rsquo;, &lsquo;debug&rsquo;, &lsquo;info&rsquo;,
&lsquo;warning&rsquo;, &lsquo;error&rsquo;, &lsquo;critical&rsquo;, and &lsquo;off&rsquo;.
Unrecognised names are equivalent to &lsquo;off&rsquo;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing is returned.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

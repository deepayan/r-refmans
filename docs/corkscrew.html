<!DOCTYPE html><html><head><title>Help for package corkscrew</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {corkscrew}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#corkscrew-package'>
<p>Preprocessor for Data Modeling</p></a></li>
<li><a href='#apply.ctoc'>
<p>Applying Categorical to Continuous conversion to a new dataframe</p></a></li>
<li><a href='#apply.tbin'>
<p>Extrapolate t-test based binning to a new data</p></a></li>
<li><a href='#ctoc'>
<p>Categorical variables into Continuous features</p></a></li>
<li><a href='#tbin'>
<p>t-test based binning</p></a></li>
<li><a href='#transformation'>
<p>Relationship between the response variables and predictors</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Preprocessor for Data Modeling</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-10-30</td>
</tr>
<tr>
<td>Author:</td>
<td>Navin Loganathan [aut], 
	Mohan Manivannan [aut], 
	Santhosh Sasanapuri [aut, cre], 
	LatentView Analytics [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Santhosh Sasanapuri &lt;santhosh458@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1), ggplot2, gplots, RColorBrewer, igraph, stats,
grDevices</td>
</tr>
<tr>
<td>Suggests:</td>
<td>datasets</td>
</tr>
<tr>
<td>Description:</td>
<td>Includes binning categorical variables into lesser number of categories based on t-test, converting categorical variables into continuous features 
	using the mean of the response variable for the respective categories, understanding the relationship between the response variable and predictor variables 
	using data transformations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-10-30 14:20:19 UTC; santhoshkumar.sasana</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-10-31 00:56:46</td>
</tr>
</table>
<hr>
<h2 id='corkscrew-package'>
Preprocessor for Data Modeling
</h2><span id='topic+corkscrew-package'></span><span id='topic+corkscrew'></span>

<h3>Description</h3>

<p>Includes binning categorical variables into lesser number of categories based on t-test, 
converting categorical variables into continuous features using the mean of the response variable for the respective categories, 
understanding the relationship between the response variable and predictor variables using data transformations.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> corkscrew</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2015-10-30</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.0.1), ggplot2, gplots, RColorBrewer, igraph, stats, grDevices</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (version 2 or newer)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p> Navin Loganathan, Mohan Manivannan, Santhosh Sasanapuri, LatentView Analytics</p>


<h3>Examples</h3>

<pre><code class='language-R'># using transformation 
data(airquality)
transformation(names(airquality)[2:4],"Ozone",airquality)

# using ctoc
data(ChickWeight)
# Converting the "Chick" variable into factor from ord.factor for demonstration purposes.
ChickWeight$Chick &lt;- as.factor(as.numeric(ChickWeight$Chick))
# Returns a dataframe with two added columns for "Chick" and "Diet"
head(ctoc(y = "weight", x = c("Chick","Diet"), data = ChickWeight, min.obs = 12))

# using tbin
train = as.data.frame(cbind(runif(1000, 10, 1000),sample(1:40, 1000,TRUE)))
colnames(train) = c("response","state")
train$state = as.factor(train$state)
train.output = tbin(dv = "response",idv = c("state"),train,25,TRUE)
</code></pre>

<hr>
<h2 id='apply.ctoc'>
Applying Categorical to Continuous conversion to a new dataframe
</h2><span id='topic+apply.ctoc'></span>

<h3>Description</h3>

<p>Extrapolating the categorical to continuous conversion that is calculated from one dataframe to another dataframe. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply.ctoc(y, x, data, newdata, min.obs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply.ctoc_+3A_y">y</code></td>
<td>
<p>Response variable (categorical or continuous).</p>
</td></tr>
<tr><td><code id="apply.ctoc_+3A_x">x</code></td>
<td>
<p>Predictor variables in the dataframe which are categorical and need to be converted into continuous.</p>
</td></tr>
<tr><td><code id="apply.ctoc_+3A_data">data</code></td>
<td>
<p>Name of the dataframe from which the values of the categories have to be calculated.</p>
</td></tr>
<tr><td><code id="apply.ctoc_+3A_newdata">newdata</code></td>
<td>
<p>Name of the dataframe to which the values of the categories have to be applied.</p>
</td></tr>
<tr><td><code id="apply.ctoc_+3A_min.obs">min.obs</code></td>
<td>
<p>The minimum number of observations within a category in a categorical variable to get converted into a continuous feature. 
All the categories which have observations less than the min.obs will form a different category.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is only for categorical variables. The min.obs refers to the minimum number of observations in the &quot;data&quot;.
</p>


<h3>Value</h3>

<p>Returns a dataframe with converted features without replacing the original ones.
</p>


<h3>Author(s)</h3>

<p>Santhosh Sasanapuri
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ctoc">ctoc</a></code>, <code><a href="#topic+tbin">tbin</a></code>, <code><a href="#topic+apply.tbin">apply.tbin</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ChickWeight)
set.seed(2)
sample_ex &lt;- sample(nrow(ChickWeight), size = 289, replace = FALSE, prob = NULL)
train &lt;- ChickWeight[sample_ex,]
test &lt;- ChickWeight[-sample_ex,colnames(ChickWeight) != "weight"]
# Returns the test dataframe with an added column "Diet_cont" by extrapolating it from train
head(apply.ctoc(y = "weight", "Diet", data = train, newdata = test, min.obs = 60))
</code></pre>

<hr>
<h2 id='apply.tbin'>
Extrapolate t-test based binning to a new data
</h2><span id='topic+apply.tbin'></span>

<h3>Description</h3>

<p>Extrapolates the binning of categorical variables to the new datasets.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply.tbin(idv, train.output, test)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="apply.tbin_+3A_idv">idv</code></td>
<td>
<p>Predictor variables in the dataframe which are categorical and need to be binned.</p>
</td></tr>
<tr><td><code id="apply.tbin_+3A_train.output">train.output</code></td>
<td>
<p>The output object of the tbin function.</p>
</td></tr>
<tr><td><code id="apply.tbin_+3A_test">test</code></td>
<td>
<p>A new data set on which binning has to be extrapolated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function performs binning on the new dataset based on the output object from the tbin function.
</p>


<h3>Value</h3>

<p>Returns a dataframe which contains the extrapolated variables of the output object from tbin function appended to the new dataset.
</p>


<h3>Warning</h3>

<p>New level error is thrown if the new dataset contains new levels other than what is present in the old dataset.
</p>


<h3>Author(s)</h3>

<p>Mohan Manivannan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+tbin">tbin</a></code>, <code><a href="#topic+ctoc">ctoc</a></code>, <code><a href="#topic+apply.ctoc">apply.ctoc</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>train = as.data.frame(cbind(runif(1000, 10, 1000),sample(1:40, 1000,TRUE)))
colnames(train) = c("response","state")
train$state = as.factor(train$state)
train.output = tbin(dv = "response",idv = c("state"),train,25,TRUE)

# extrapolating the tbin function to a new dataset using apply.tbin
test = as.data.frame(sample(1:40, 100,TRUE))
colnames(test) = c("state")
test$state = as.factor(test$state)
test.output = apply.tbin(idv = c("state"), train.output, test)
</code></pre>

<hr>
<h2 id='ctoc'>
Categorical variables into Continuous features
</h2><span id='topic+ctoc'></span>

<h3>Description</h3>

<p>Converting categorical variables into continuous features using the mean of the response variable for the respective categories without using the index record.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ctoc(y, x, data, min.obs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ctoc_+3A_y">y</code></td>
<td>
<p>Response variable (categorical or continuous).</p>
</td></tr>
<tr><td><code id="ctoc_+3A_x">x</code></td>
<td>
<p>Predictor variables in the dataframe which are categorical and need to be converted into continuous.</p>
</td></tr>
<tr><td><code id="ctoc_+3A_data">data</code></td>
<td>
<p>Name of the dataframe.</p>
</td></tr>
<tr><td><code id="ctoc_+3A_min.obs">min.obs</code></td>
<td>
<p>The minimum number of observations within a category in a categorical variable to get converted into a continuous feature. 
All the categories which have observations less than the min.obs will form a different category.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is only for categorical variables.
</p>


<h3>Value</h3>

<p>Returns a dataframe with converted features without replacing the original ones.
</p>


<h3>Author(s)</h3>

<p>Santhosh Sasanapuri
</p>


<h3>See Also</h3>

<p><code><a href="#topic+apply.ctoc">apply.ctoc</a></code>, <code><a href="#topic+tbin">tbin</a></code>, <code><a href="#topic+apply.tbin">apply.tbin</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ChickWeight)
# Converting the "Chick" variable into factor from ord.factor for demonstration purposes.
ChickWeight$Chick &lt;- as.factor(as.numeric(ChickWeight$Chick))
# Returns a dataframe with two added columns for "Chick" and "Diet"
head(ctoc(y = "weight", x = c("Chick","Diet"), data = ChickWeight, min.obs = 12))
</code></pre>

<hr>
<h2 id='tbin'>
t-test based binning
</h2><span id='topic+tbin'></span>

<h3>Description</h3>

<p>Bins the different levels of a categorical variable based on the similarity of the response.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tbin(dv, idv, train, min.obs, plot.bin = c(TRUE, FALSE), method = c(1, 2, 3))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tbin_+3A_dv">dv</code></td>
<td>
<p>The response variable and it must be continuous.</p>
</td></tr>
<tr><td><code id="tbin_+3A_idv">idv</code></td>
<td>
<p>Predictor variables in the dataframe which are categorical and need to be binned.</p>
</td></tr>
<tr><td><code id="tbin_+3A_train">train</code></td>
<td>
<p>Name of the dataframe.</p>
</td></tr>
<tr><td><code id="tbin_+3A_min.obs">min.obs</code></td>
<td>
<p>All the levels with the count of observations less than min.obs are binned into one category, by default the min.obs is set at 30.</p>
</td></tr>
<tr><td><code id="tbin_+3A_plot.bin">plot.bin</code></td>
<td>
<p>If TRUE, then a heat map comparing the binned levels and original levels is plotted, by default the plot.bin is set as FALSE.</p>
</td></tr>
<tr><td><code id="tbin_+3A_method">method</code></td>
<td>
<p>Three types of community detection is used for binning the levels, the methods are 1.Fastgreedy, 2.Walktrap, 3.edge.betweenness choose the method that suits the needs,
by default the method is set at 1.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The levels of a categorical variable are compared with each other and those levels which are having same response levels are binned together as a category.Before 
comparing the levels, the levels which has less than the minimum observation cut-off are binned to form a small category. Every pair of levels are compared using 
either a parametric or non-parametric test depending on the normality of the response data. A pairwise comparison matrix is created for each level of a 
categorical variables which is further processed to form a graph. Then the levels which should be combined together are identified using a community detection 
algorithm, a community is a collection of levels which have statistically same response level. The newly created variables in the new data set are created by 
extrapolating the values from the original data set(training).
</p>


<h3>Value</h3>

<p>The tbin output contains the newly created binned categorical variables appended to the original data(training) set. The names of the new variables are sufficed
with &quot;_cat&quot; to their corresponding original variables. 
</p>


<h3>Note</h3>

<p>The minimum observation cut-off is set to 30, so that the statistical significance of the parametric and non-parametric tests are applicable.
</p>


<h3>Author(s)</h3>

<p>Mohan Manivannan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+apply.tbin">apply.tbin</a></code>, <code><a href="#topic+ctoc">ctoc</a></code>, <code><a href="#topic+apply.ctoc">apply.ctoc</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>train = as.data.frame(cbind(runif(1000, 10, 1000),sample(1:40, 1000,TRUE)))
colnames(train) = c("response","state")
train$state = as.factor(train$state)
train.output = tbin(dv = "response",idv = c("state"),train,25,TRUE)
</code></pre>

<hr>
<h2 id='transformation'>
Relationship between the response variables and predictors
</h2><span id='topic+transformation'></span>

<h3>Description</h3>

<p>Transformation is used to study the relationship between the two variables. The relationships that are studied include linear, power, log and arctangent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transformation(x, y, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transformation_+3A_x">x</code></td>
<td>
<p>Predictor variables in the dataframe that are to be transformed.</p>
</td></tr>
<tr><td><code id="transformation_+3A_y">y</code></td>
<td>
<p>Response variable in the dataframe.</p>
</td></tr>
<tr><td><code id="transformation_+3A_data">data</code></td>
<td>
<p>Name of the dataframe.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Applies only when both the response variable and the predictor variables are continuous.
</p>


<h3>Value</h3>

<p>Returns a list
</p>
<table>
<tr><td><code>[[1]]</code></td>
<td>
<p>Summary of the predictor variables' best transformation, correlation and influence studied against the y variable</p>
</td></tr>
<tr><td><code>[[2]]</code></td>
<td>
<p>Summary of the predictor variables' correlation and influence for all the transformations studied against the y variable</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Navin Loganathan
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(airquality)
transformation(names(airquality)[2:4],"Ozone",airquality)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package epanet2toolkit</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {epanet2toolkit}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#epanet2toolkit'><p>epanet2toolkit</p></a></li>
<li><a href='#ENaddcontrol'><p>Add a new simple control</p></a></li>
<li><a href='#ENaddcurve'><p>Adds a new data curve to a project.</p></a></li>
<li><a href='#ENadddemand'><p>Appends a new demand to a junction node demands list.</p></a></li>
<li><a href='#ENaddlink'><p>Add a link to the network</p></a></li>
<li><a href='#ENaddnode'><p>Adds a new node</p></a></li>
<li><a href='#ENaddpattern'><p>Add a new time pattern</p></a></li>
<li><a href='#ENaddrule'><p>Adds a new rule-based control to a project</p></a></li>
<li><a href='#ENclearreport'><p>Clears the contents of a project's report file.</p></a></li>
<li><a href='#ENclose'><p>Close down the EPANET Toolkit system.</p></a></li>
<li><a href='#ENcloseH'><p>close hydraulics engine</p></a></li>
<li><a href='#ENcloseQ'><p>Close water quality analysis and free allocated memory</p></a></li>
<li><a href='#ENcopyreport'><p>Copies the current contents of a project's report file to another file</p></a></li>
<li><a href='#ENdeletecontrol'><p>Deletes an existing simple control</p></a></li>
<li><a href='#ENdeletecurve'><p>Deletes a data curve from a project</p></a></li>
<li><a href='#ENdeletedemand'><p>Delete a demand from a junction node</p></a></li>
<li><a href='#ENdeletelink'><p>Delete a link from the project.</p></a></li>
<li><a href='#ENdeletenode'><p>Deletes a node</p></a></li>
<li><a href='#ENdeletepattern'><p>Delete a new time pattern</p></a></li>
<li><a href='#ENdeleterule'><p>Deletes an existing rule-based control</p></a></li>
<li><a href='#ENepanet'><p>ENepanet</p></a></li>
<li><a href='#ENgetaveragepatternvalue'><p>Get average of all time factors in a pattern</p></a></li>
<li><a href='#ENgetbasedemand'><p>Gets the base demand for one of a node's demand categories.</p></a></li>
<li><a href='#ENgetcontrol'><p>ENgetcontrol</p></a></li>
<li><a href='#ENgetcoord'><p>Get coordinates for a node</p></a></li>
<li><a href='#ENgetcount'><p>Get number of network elements.</p></a></li>
<li><a href='#ENgetcurveid'><p>Retrieves the ID name of a curve given its index.</p></a></li>
<li><a href='#ENgetcurveindex'><p>Retrieves the index of a curve given its ID name.</p></a></li>
<li><a href='#ENgetcurvelen'><p>Retrieves the number of points in a curve.</p></a></li>
<li><a href='#ENgetcurvetype'><p>Retrieves a curve's type</p></a></li>
<li><a href='#ENgetcurvevalue'><p>Retrieves the value of a single data point for a curve.</p></a></li>
<li><a href='#ENgetdemandindex'><p>Retrieves the index of a node's named demand category</p></a></li>
<li><a href='#ENgetdemandmodel'><p>Get type of demand model in use and its parameters</p></a></li>
<li><a href='#ENgetdemandname'><p>Retrieves the name of a node's demand category.</p></a></li>
<li><a href='#ENgetdemandpattern'><p>Gets the base demand for one of a node's demand categories.</p></a></li>
<li><a href='#ENgetelseaction'><p>Gets the properties of an ELSE action in a rule-based control.</p></a></li>
<li><a href='#ENgeterror'><p>Returns the text of an error message generated by an error code</p></a></li>
<li><a href='#ENgetflowunits'><p>Retrieve a code number indicating the units used to express all flow rates.</p></a></li>
<li><a href='#ENgetheadcurveindex'><p>Retrieves index of head curve used by a pump</p></a></li>
<li><a href='#ENgetlinkid'><p>Retrieve the ID label of a link</p></a></li>
<li><a href='#ENgetlinkindex'><p>Retrieve the index of a link</p></a></li>
<li><a href='#ENgetlinknodes'><p>Retrieve the index of the end nodes of a link</p></a></li>
<li><a href='#ENgetlinktype'><p>Retrieve the type code for a link</p></a></li>
<li><a href='#ENgetlinkvalue'><p>Retrieve parameter value for a link</p></a></li>
<li><a href='#ENgetnodeid'><p>Retrieve the ID label a node.</p></a></li>
<li><a href='#ENgetnodeindex'><p>Retrieve the index of a node</p></a></li>
<li><a href='#ENgetnodetype'><p>Retrieve the node-type code</p></a></li>
<li><a href='#ENgetnodevalue'><p>Retrieve node parameter value.</p></a></li>
<li><a href='#ENgetnumdemands'><p>Get number of demands for a junction node</p></a></li>
<li><a href='#ENgetoption'><p>Retrieve the value of an analysis option.</p></a></li>
<li><a href='#ENgetpatternid'><p>Retrieve the ID label a time pattern</p></a></li>
<li><a href='#ENgetpatternindex'><p>Retrieve the index a time pattern.</p></a></li>
<li><a href='#ENgetpatternlen'><p>Retrieve the number of time periods in a time pattern.</p></a></li>
<li><a href='#ENgetpatternvalue'><p>Retrieve the multiplier factor for a specific time period</p></a></li>
<li><a href='#ENgetpremise'><p>Gets the properties of a premise in a rule-based control.</p></a></li>
<li><a href='#ENgetpumptype'><p>Retrieves type of head curve used by a pump</p></a></li>
<li><a href='#ENgetqualinfo'><p>Get quality analysis information</p></a></li>
<li><a href='#ENgetqualtype'><p>Retrieve the type of water quality analysis called for.</p></a></li>
<li><a href='#ENgetresultindex'><p>Retrieves the order in which a node or link appears in an output file.</p></a></li>
<li><a href='#ENgetrule'><p>Retrieves summary information about a rule-based control.</p></a></li>
<li><a href='#ENgetruleID'><p>Gets the ID name of a rule-based control given its index.</p></a></li>
<li><a href='#ENgetstatistic'><p>Analysis convergence statistics.</p></a></li>
<li><a href='#ENgetthenaction'><p>Gets properties of THEN action in rule-based control</p></a></li>
<li><a href='#ENgettimeparam'><p>Get the value of one or more specific analysis time parameters.</p></a></li>
<li><a href='#ENgettitle'><p>ENgettitle</p></a></li>
<li><a href='#ENgetversion'><p>Retrieve the current version number of the EPANET Toolkit.</p></a></li>
<li><a href='#ENgetvertex'><p>Get vertex coordinates</p></a></li>
<li><a href='#ENgetvertexcount'><p>Get number of vertices for a link</p></a></li>
<li><a href='#ENinit'><p>ENinit</p></a></li>
<li><a href='#ENinitH'><p>Initialize hydraulic engine</p></a></li>
<li><a href='#ENinitQ'><p>Initialize water quality analysis</p></a></li>
<li><a href='#ENnextH'><p>determine the next hydraulic step</p></a></li>
<li><a href='#ENnextQ'><p>Advances WQ simulation to start of the next hydraulic time period.</p></a></li>
<li><a href='#ENopen'><p>Open the EPANET Toolkit.</p></a></li>
<li><a href='#ENopenH'><p>Open hydraulics analysis system.</p></a></li>
<li><a href='#ENopenQ'><p>Sets up for Water Quality analysis</p></a></li>
<li><a href='#ENreport'><p>Write simulation report to the report file</p></a></li>
<li><a href='#ENresetreport'><p>Resets a project's report options to their default values.</p></a></li>
<li><a href='#ENrunH'><p>run hydraulics engine</p></a></li>
<li><a href='#ENrunQ'><p>Computs WQ results at current time .</p></a></li>
<li><a href='#ENsaveH'><p>ENsaveH</p>
</p>
<p>Saves hydraulic results to binary file</p></a></li>
<li><a href='#ENsavehydfile'><p>Saves temporary hydraulics file to disk</p></a></li>
<li><a href='#ENsaveinpfile'><p>ENaveinpfile</p>
</p>
<p>Saves current data to &quot;INP&quot; formatted text file.</p></a></li>
<li><a href='#ENsetbasedemand'><p>Sets the base demand for one of a node's demand categories.</p></a></li>
<li><a href='#ENsetcontrol'><p>Set the parameters of a simple control statement</p></a></li>
<li><a href='#ENsetcoord'><p>Set coordinates for a node</p></a></li>
<li><a href='#ENsetcurveid'><p>Changes the ID name of a data curve given its index.</p></a></li>
<li><a href='#ENsetcurvevalue'><p>Sets the value of a single data point for a curve.</p></a></li>
<li><a href='#ENsetdemandmodel'><p>Sets the type of demand model to use and its parameters.</p></a></li>
<li><a href='#ENsetdemandname'><p>Sets the name of a node's demand category.</p></a></li>
<li><a href='#ENsetdemandpattern'><p>Sets the index of a time pattern used for one of a node's demand categories.</p></a></li>
<li><a href='#ENsetelseaction'><p>Set properties of an ELSE action in a rule-based control</p></a></li>
<li><a href='#ENsetflowunits'><p>Sets flow units.</p></a></li>
<li><a href='#ENsetheadcurveindex'><p>Sets index of head curve used by a pump</p></a></li>
<li><a href='#ENsetjuncdata'><p>Sets properties for a junction</p></a></li>
<li><a href='#ENsetlinkid'><p>Change the ID of a link</p></a></li>
<li><a href='#ENsetlinknodes'><p>Set the indexes of a link's start- and end-nodes</p></a></li>
<li><a href='#ENsetlinktype'><p>Change a link's type</p></a></li>
<li><a href='#ENsetlinkvalue'><p>Set a parameter value for a link</p></a></li>
<li><a href='#ENsetnodeid'><p>Changes the ID name of a node</p></a></li>
<li><a href='#ENsetnodevalue'><p>Set the parameter value for a node.</p></a></li>
<li><a href='#ENsetoption'><p>Set the value of a particular analysis option.</p></a></li>
<li><a href='#ENsetpattern'><p>Set all of the multiplier factors for a specific time pattern.</p></a></li>
<li><a href='#ENsetpatternid'><p>Change the ID name of a time pattern given its index.</p></a></li>
<li><a href='#ENsetpatternvalue'><p>set pattern value</p></a></li>
<li><a href='#ENsetpremise'><p>Sets the properties of a premise in a rule-based control.</p></a></li>
<li><a href='#ENsetpremiseindex'><p>Sets the index of an object in a premise of a rule-based control</p></a></li>
<li><a href='#ENsetpremisestatus'><p>Sets the status being compared to in a premise of a rule-based control</p></a></li>
<li><a href='#ENsetpremisevalue'><p>Sets the value in a premise of a rule-based control</p></a></li>
<li><a href='#ENsetqualtype'><p>Set the type of water quality analysis called for.</p></a></li>
<li><a href='#ENsetreport'><p>Processes a reporting format command.</p></a></li>
<li><a href='#ENsetrulepriority'><p>Sets the priority of a rule-based control.</p></a></li>
<li><a href='#ENsetstatusreport'><p>Sets the level of hydraulic status reporting.</p></a></li>
<li><a href='#ENsettankdata'><p>Sets properties for a tank</p></a></li>
<li><a href='#ENsetthenaction'><p>Set properties of THEN action in a rule-based control</p></a></li>
<li><a href='#ENsettimeparam'><p>Set the value of a time parameter.</p></a></li>
<li><a href='#ENsetvertices'><p>Set a link's vertices</p></a></li>
<li><a href='#ENsolveH'><p>ENsolveH</p></a></li>
<li><a href='#ENsolveQ'><p>Solve network water quality for all time periods</p></a></li>
<li><a href='#ENstepQ'><p>Advances WQ simulation one water quality time step.</p></a></li>
<li><a href='#ENusehydfile'><p>Uses previously saved binary hydraulics file to supply a project's hydraulics.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Call 'EPANET' Functions to Simulate Pipe Networks</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-27</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bradley Eck &lt;brad@bradeck.net&gt;</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, epanetReader</td>
</tr>
<tr>
<td>Description:</td>
<td>Enables simulation of water piping networks using 'EPANET'.
    The package provides functions from the 'EPANET' programmer's toolkit as R
    functions so that basic or customized simulations can be carried out from R.
    The package uses 'EPANET' version 2.2 from Open Water Analytics
    <a href="https://github.com/OpenWaterAnalytics/EPANET/releases/tag/v2.2">https://github.com/OpenWaterAnalytics/EPANET/releases/tag/v2.2</a>.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Copyright:</td>
<td>COPYRIGHTS</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bradleyjeck/epanet2toolkit">https://github.com/bradleyjeck/epanet2toolkit</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-26 17:30:10 UTC; brad</td>
</tr>
<tr>
<td>Author:</td>
<td>Ernesto Arandia [aut],
  Bradley Eck [aut, cre],
  Lew Rossman [aut],
  Michael Tryby [ctb],
  Sam Hatchett [ctb],
  Feng Shang [ctb],
  James Uber [ctb],
  Tom Taxon [ctb],
  Hyoungmin Woo [ctb],
  Jinduan Chen [ctb],
  Yunier Soad [ctb],
  Mike Kane [ctb],
  Demetrios Eliades [ctb],
  Will Furnass [ctb],
  Steffen Macke [ctb],
  Marios Kyriakou [ctb],
  Elad Salomons [ctb],
  Maurizio Cingi [ctb],
  Bryant McDonnell [ctb],
  Angela Marchi [ctb],
  Markus Sunela [ctb],
  Milad Ghiami [ctb],
  IBM Corp. [cph],
  Open Water Analytics [cph]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-26 23:10:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='epanet2toolkit'>epanet2toolkit</h2><span id='topic+epanet2toolkit'></span><span id='topic+epanet2toolkit-package'></span>

<h3>Description</h3>

<p>Package for using EPANET 2 from R.  Run a full EPANET simulation
using <code><a href="#topic+ENepanet">ENepanet</a></code> or build a custom simulation starting with toolkit
functions like <code><a href="#topic+ENopen">ENopen</a></code>.
</p>


<h3>Author(s)</h3>

<p>Ernesto Arandia &amp; Bradley J. Eck
</p>

<hr>
<h2 id='ENaddcontrol'>Add a new simple control</h2><span id='topic+ENaddcontrol'></span>

<h3>Description</h3>

<p>Add a new simple control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENaddcontrol(type, linkIndex, setting, nodeIndex, level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENaddcontrol_+3A_type">type</code></td>
<td>
<p>the type of control to add (see details)</p>
</td></tr>
<tr><td><code id="ENaddcontrol_+3A_linkindex">linkIndex</code></td>
<td>
<p>the index of a link to control (starting from 1)</p>
</td></tr>
<tr><td><code id="ENaddcontrol_+3A_setting">setting</code></td>
<td>
<p>control setting applied to the link</p>
</td></tr>
<tr><td><code id="ENaddcontrol_+3A_nodeindex">nodeIndex</code></td>
<td>
<p>index of the node used to control the link
(0 for EN_TIMER and EN_TIMEOFDAY controls).</p>
</td></tr>
<tr><td><code id="ENaddcontrol_+3A_level">level</code></td>
<td>
<p>action level (tank level, junction pressure, or time in seconds)
that triggers the control.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>index index of the new control.
</p>

<hr>
<h2 id='ENaddcurve'>Adds a new data curve to a project.</h2><span id='topic+ENaddcurve'></span>

<h3>Description</h3>

<p>Adds a new data curve to a project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENaddcurve(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENaddcurve_+3A_id">id</code></td>
<td>
<p>The ID name of the curve to be added.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The new curve contains a single data point (1.0, 1.0).
</p>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENadddemand'>Appends a new demand to a junction node demands list.</h2><span id='topic+ENadddemand'></span>

<h3>Description</h3>

<p>Appends a new demand to a junction node demands list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENadddemand(nodeindex, base_demand, demand_pattern, demand_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENadddemand_+3A_nodeindex">nodeindex</code></td>
<td>
<p>the index of a node (starting from 1).</p>
</td></tr>
<tr><td><code id="ENadddemand_+3A_base_demand">base_demand</code></td>
<td>
<p>the demand's base value.</p>
</td></tr>
<tr><td><code id="ENadddemand_+3A_demand_pattern">demand_pattern</code></td>
<td>
<p>the name of a time pattern used by the demand</p>
</td></tr>
<tr><td><code id="ENadddemand_+3A_demand_name">demand_name</code></td>
<td>
<p>the name of the demand's category</p>
</td></tr>
</table>

<hr>
<h2 id='ENaddlink'>Add a link to the network</h2><span id='topic+ENaddlink'></span>

<h3>Description</h3>

<p>Add a link to the network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENaddlink(id, type, from_node, to_node)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENaddlink_+3A_id">id</code></td>
<td>
<p>name of new link</p>
</td></tr>
<tr><td><code id="ENaddlink_+3A_type">type</code></td>
<td>
<p>of new link, see details</p>
</td></tr>
<tr><td><code id="ENaddlink_+3A_from_node">from_node</code></td>
<td>
<p>id of source node for this link</p>
</td></tr>
<tr><td><code id="ENaddlink_+3A_to_node">to_node</code></td>
<td>
<p>id of target node for this link</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A new pipe is assigned a diameter of 10 inches (254 mm) and a length of 330
feet (~ 100 meters). Its roughness coefficient depends on the head loss formula in effect as follows:
- Hazen-Williams formula: 130
- Darcy-Weisbach formula: 0.5 millifeet (0.15 mm)
- Chezy-Manning formula: 0.01
</p>
<p>All other pipe properties are set to 0.
</p>
<p>A new pump has a status of EN_OPEN, a speed setting of 1, and has no pump
curve or power rating assigned to it.
</p>
<p>A new valve has a diameter of 10 inches (254 mm) and all other properties set to 0.
</p>
<p>Type must be one of: EN_CVPIPE, EN_PIPE, EN_PUMP, EN_PRV, EN_PSV, EN_PBV, EN_FCV, EN_TCV, EN_GPV
</p>


<h3>Value</h3>

<p>index of new link
</p>

<hr>
<h2 id='ENaddnode'>Adds a new node</h2><span id='topic+ENaddnode'></span>

<h3>Description</h3>

<p>Adds a new node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENaddnode(nodeid, nodetype)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENaddnode_+3A_nodeid">nodeid</code></td>
<td>
<p>name of the node to be added</p>
</td></tr>
<tr><td><code id="ENaddnode_+3A_nodetype">nodetype</code></td>
<td>
<p>the type of node being added. One of: EN_JUNCTION, EN_RESERVOIR, EN_TANK</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When a new node is created all of its properties are set to 0.
</p>


<h3>Value</h3>

<p>index the index of the newly added node
</p>

<hr>
<h2 id='ENaddpattern'>Add a new time pattern</h2><span id='topic+ENaddpattern'></span>

<h3>Description</h3>

<p>Add a new time pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENaddpattern(patternid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENaddpattern_+3A_patternid">patternid</code></td>
<td>
<p>the ID name of the pattern to add.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The new pattern contains a single time period whose factor is 1.0.
</p>


<h3>Value</h3>

<p>invisible NULL
</p>

<hr>
<h2 id='ENaddrule'>Adds a new rule-based control to a project</h2><span id='topic+ENaddrule'></span>

<h3>Description</h3>

<p>Adds a new rule-based control to a project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENaddrule(rule)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENaddrule_+3A_rule">rule</code></td>
<td>
<p>text of the rule following the format used in an EPANET input file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENclearreport'>Clears the contents of a project's report file.</h2><span id='topic+ENclearreport'></span>

<h3>Description</h3>

<p>Clears the contents of a project's report file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENclearreport()
</code></pre>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENclose'>Close down the EPANET Toolkit system.</h2><span id='topic+ENclose'></span>

<h3>Description</h3>

<p><code>ENclose</code> closes the EPANET Toolkit system (including all files being processed).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENclose()
</code></pre>


<h3>Value</h3>

<p>Returns NULL invisibly; called for the side effect of closing EPANET.
</p>


<h3>Note</h3>

<p><code>ENclose</code> must be called when all processing has been completed, even if an error
condition was encountered.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ENopen">ENopen</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENclose()
</code></pre>

<hr>
<h2 id='ENcloseH'>close hydraulics engine</h2><span id='topic+ENcloseH'></span>

<h3>Description</h3>

<p><code>ENcloseH</code> closes the hydraulic analysis system, freeing all 
allocated memory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENcloseH()
</code></pre>


<h3>Details</h3>

<p>Call <code>ENcloseH</code> after all hydraulics analyses have been made using 
<code>ENinitH-ENrunH-ENnextH</code>. Do not call this function if <code>ENsolveH</code> is being used.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>See Also</h3>

<p><code>ENopenH</code>, <code>ENinitH</code>, <code>ENrunH</code>, <code>ENnextH</code>
</p>

<hr>
<h2 id='ENcloseQ'>Close water quality analysis and free allocated memory</h2><span id='topic+ENcloseQ'></span>

<h3>Description</h3>

<p>Close water quality analysis and free allocated memory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENcloseQ()
</code></pre>


<h3>Details</h3>

<p>Do not call this function if ENsolveQ is being used.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENcopyreport'>Copies the current contents of a project's report file to another file</h2><span id='topic+ENcopyreport'></span>

<h3>Description</h3>

<p>Copies the current contents of a project's report file to another file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENcopyreport(rptFile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENcopyreport_+3A_rptfile">rptFile</code></td>
<td>
<p>destination file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows toolkit clients to retrieve the contents of a project's
report file while the project is still open.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>
<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENdeletecontrol'>Deletes an existing simple control</h2><span id='topic+ENdeletecontrol'></span>

<h3>Description</h3>

<p>Deletes an existing simple control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeletecontrol(controlIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeletecontrol_+3A_controlindex">controlIndex</code></td>
<td>
<p>the index of the control to delete (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENdeletecurve'>Deletes a data curve from a project</h2><span id='topic+ENdeletecurve'></span>

<h3>Description</h3>

<p>Deletes a data curve from a project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeletecurve(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeletecurve_+3A_index">index</code></td>
<td>
<p>the data curve's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENdeletedemand'>Delete a demand from a junction node</h2><span id='topic+ENdeletedemand'></span>

<h3>Description</h3>

<p>Delete a demand from a junction node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeletedemand(nodeindex, demandindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeletedemand_+3A_nodeindex">nodeindex</code></td>
<td>
<p>the index of a node (starting from 1).</p>
</td></tr>
<tr><td><code id="ENdeletedemand_+3A_demandindex">demandindex</code></td>
<td>
<p>the position of the demand in the node's demands list (starting from 1).</p>
</td></tr>
</table>

<hr>
<h2 id='ENdeletelink'>Delete a link from the project.</h2><span id='topic+ENdeletelink'></span>

<h3>Description</h3>

<p>Delete a link from the project.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeletelink(index, action = "EN_UNCONDITIONAL")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeletelink_+3A_index">index</code></td>
<td>
<p>the index of the link to be deleted.</p>
</td></tr>
<tr><td><code id="ENdeletelink_+3A_action">action</code></td>
<td>
<p>The action taken if any control contains the link.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If actionCode is EN_UNCONDITIONAL then the link and all simple and rule-based
controls that contain it are deleted. If set to EN_CONDITIONAL then the link
is not deleted if it appears in any control and error 261 is returned.
</p>

<hr>
<h2 id='ENdeletenode'>Deletes a node</h2><span id='topic+ENdeletenode'></span>

<h3>Description</h3>

<p>Deletes a node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeletenode(nodeindex, actionCode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeletenode_+3A_nodeindex">nodeindex</code></td>
<td>
<p>the index of the node to be deleted.</p>
</td></tr>
<tr><td><code id="ENdeletenode_+3A_actioncode">actionCode</code></td>
<td>
<p>the action taken if any control contains the node and its links: EN_UNCONDITIONAL or EN_CONDITIONAL.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If 'actionCode' is EN_UNCONDITIONAL then the node, its incident links and all
simple and rule-based controls that contain them are deleted. If set to
EN_CONDITIONAL then the node is not deleted if it or its incident links appear
in any controls and error code 261 is returned.
</p>

<hr>
<h2 id='ENdeletepattern'>Delete a new time pattern</h2><span id='topic+ENdeletepattern'></span>

<h3>Description</h3>

<p>Delete a new time pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeletepattern(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeletepattern_+3A_index">index</code></td>
<td>
<p>of the pattern to delete</p>
</td></tr>
</table>


<h3>Value</h3>

<p>invisible NULL
</p>

<hr>
<h2 id='ENdeleterule'>Deletes an existing rule-based control</h2><span id='topic+ENdeleterule'></span>

<h3>Description</h3>

<p>Deletes an existing rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENdeleterule(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENdeleterule_+3A_index">index</code></td>
<td>
<p>the index of the rule to be deleted (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENepanet'>ENepanet</h2><span id='topic+ENepanet'></span>

<h3>Description</h3>

<p>runs a complete EPANET simulation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENepanet(inpFile, rptFile, binOutFile = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENepanet_+3A_inpfile">inpFile</code></td>
<td>
<p>name of input file</p>
</td></tr>
<tr><td><code id="ENepanet_+3A_rptfile">rptFile</code></td>
<td>
<p>name of report file (to be created)</p>
</td></tr>
<tr><td><code id="ENepanet_+3A_binoutfile">binOutFile</code></td>
<td>
<p>name of optional binary output file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp") 
print(inp)
ENepanet( inp, "Net1.rpt") 
# try opening Net1.rpt in a text editor or reading it back
# into R with the read.rpt() function in package epanetReader
myRpt &lt;- epanetReader::read.rpt("Net1.rpt")
summary(myRpt)
# clean-up the created file 
file.remove("Net1.rpt")
</code></pre>

<hr>
<h2 id='ENgetaveragepatternvalue'>Get average of all time factors in a pattern</h2><span id='topic+ENgetaveragepatternvalue'></span>

<h3>Description</h3>

<p>Get average of all time factors in a pattern
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetaveragepatternvalue(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetaveragepatternvalue_+3A_index">index</code></td>
<td>
<p>a time pattern index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the average value
</p>

<hr>
<h2 id='ENgetbasedemand'>Gets the base demand for one of a node's demand categories.</h2><span id='topic+ENgetbasedemand'></span>

<h3>Description</h3>

<p>Gets the base demand for one of a node's demand categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetbasedemand(nodeindex, demand_index = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetbasedemand_+3A_nodeindex">nodeindex</code></td>
<td>
<p>a node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetbasedemand_+3A_demand_index">demand_index</code></td>
<td>
<p>the index of a demand category for the node (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the category's base demand.
</p>

<hr>
<h2 id='ENgetcontrol'>ENgetcontrol</h2><span id='topic+ENgetcontrol'></span>

<h3>Description</h3>

<p>Retrieve the parameters of a simple control statement.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcontrol(controlindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcontrol_+3A_controlindex">controlindex</code></td>
<td>
<p>An integer specifying the control statement index.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of parameters of the control statement: ctype, lindex, setting, nindex, level
</p>


<h3>Note</h3>

<p>Controls are indexed starting from 1 in the order in which they were entered into the
<code>[CONTROLS]</code> section of the EPANET input file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ENsetcontrol">ENsetcontrol</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetcontrol(1)
ENclose() 
</code></pre>

<hr>
<h2 id='ENgetcoord'>Get coordinates for a node</h2><span id='topic+ENgetcoord'></span>

<h3>Description</h3>

<p>Get coordinates for a node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcoord(nodeindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcoord_+3A_nodeindex">nodeindex</code></td>
<td>
<p>of node</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of x,y coordinate
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetcoord(3)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetcount'>Get number of network elements.</h2><span id='topic+ENgetcount'></span>

<h3>Description</h3>

<p><code>ENgetcount</code> retrieves the number of network components of a specific type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcount(compcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcount_+3A_compcode">compcode</code></td>
<td>
<p>A character string, integer or numeric specifying the component code(s) 
(see below).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Component codes consist of the following:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_NODECOUNT</code>    </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> Nodes</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TANKCOUNT</code>    </td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> Reservoirs and tank nodes</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_LINKCOUNT</code>    </td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> Links</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATCOUNT</code>     </td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> Time patterns</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_CURVECOUNT</code>   </td><td style="text-align: left;"> 4 </td><td style="text-align: left;"> Curves</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_CONTROLCOUNT</code> </td><td style="text-align: left;"> 5 </td><td style="text-align: left;"> Simple controls</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_RULECOUNT</code> </td><td style="text-align: left;"> 5 </td><td style="text-align: left;"> Simple controls
  </td>
</tr>

</table>

<p>The number of junctions in a network equals the number of nodes minus the number of tanks and reservoirs.
</p>


<h3>Value</h3>

<p>The number of network components.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetcount(0)
ENgetcount("EN_NODECOUNT")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetcurveid'>Retrieves the ID name of a curve given its index.</h2><span id='topic+ENgetcurveid'></span>

<h3>Description</h3>

<p>Retrieves the ID name of a curve given its index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcurveid(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcurveid_+3A_index">index</code></td>
<td>
<p>a curve's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the curve's ID name.
</p>

<hr>
<h2 id='ENgetcurveindex'>Retrieves the index of a curve given its ID name.</h2><span id='topic+ENgetcurveindex'></span>

<h3>Description</h3>

<p>Retrieves the index of a curve given its ID name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcurveindex(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcurveindex_+3A_id">id</code></td>
<td>
<p>the ID name of a curve.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The curve's index (starting from 1).
</p>

<hr>
<h2 id='ENgetcurvelen'>Retrieves the number of points in a curve.</h2><span id='topic+ENgetcurvelen'></span>

<h3>Description</h3>

<p>Retrieves the number of points in a curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcurvelen(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcurvelen_+3A_index">index</code></td>
<td>
<p>a curve's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of data points assigned to the curve.
</p>

<hr>
<h2 id='ENgetcurvetype'>Retrieves a curve's type</h2><span id='topic+ENgetcurvetype'></span>

<h3>Description</h3>

<p>Retrieves a curve's type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcurvetype(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcurvetype_+3A_index">index</code></td>
<td>
<p>a curve's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the curve's type
</p>

<hr>
<h2 id='ENgetcurvevalue'>Retrieves the value of a single data point for a curve.</h2><span id='topic+ENgetcurvevalue'></span>

<h3>Description</h3>

<p>Retrieves the value of a single data point for a curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetcurvevalue(curveIndex, pointIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetcurvevalue_+3A_curveindex">curveIndex</code></td>
<td>
<p>a curve's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetcurvevalue_+3A_pointindex">pointIndex</code></td>
<td>
<p>the index of a point on the curve (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with the point's x-value and y-value
</p>

<hr>
<h2 id='ENgetdemandindex'>Retrieves the index of a node's named demand category</h2><span id='topic+ENgetdemandindex'></span>

<h3>Description</h3>

<p>Retrieves the index of a node's named demand category
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetdemandindex(nodeindex, demand_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetdemandindex_+3A_nodeindex">nodeindex</code></td>
<td>
<p>the index of a node (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetdemandindex_+3A_demand_name">demand_name</code></td>
<td>
<p>the name of the demand's category</p>
</td></tr>
</table>


<h3>Value</h3>

<p>demand category index
</p>

<hr>
<h2 id='ENgetdemandmodel'>Get type of demand model in use and its parameters</h2><span id='topic+ENgetdemandmodel'></span>

<h3>Description</h3>

<p>Get type of demand model in use and its parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetdemandmodel()
</code></pre>


<h3>Value</h3>

<p>named list with parameters of the demand model
</p>

<hr>
<h2 id='ENgetdemandname'>Retrieves the name of a node's demand category.</h2><span id='topic+ENgetdemandname'></span>

<h3>Description</h3>

<p>Retrieves the name of a node's demand category.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetdemandname(nodeindex, demand_index = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetdemandname_+3A_nodeindex">nodeindex</code></td>
<td>
<p>a node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetdemandname_+3A_demand_index">demand_index</code></td>
<td>
<p>the index of one of the node's demand categories (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The name of the selected category.
</p>

<hr>
<h2 id='ENgetdemandpattern'>Gets the base demand for one of a node's demand categories.</h2><span id='topic+ENgetdemandpattern'></span>

<h3>Description</h3>

<p>Gets the base demand for one of a node's demand categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetdemandpattern(nodeindex, demand_index = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetdemandpattern_+3A_nodeindex">nodeindex</code></td>
<td>
<p>the node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetdemandpattern_+3A_demand_index">demand_index</code></td>
<td>
<p>the index of a demand category for the node (starting from 1).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A returned pattern index of 0 indicates that no time pattern has been assigned to the
demand category.
</p>


<h3>Value</h3>

<p>the category's base demand.
</p>
<p>Retrieves index of a time pattern assigned to one of a node's demand categories.
</p>
<p>patIndex the index of the category's time pattern.
</p>

<hr>
<h2 id='ENgetelseaction'>Gets the properties of an ELSE action in a rule-based control.</h2><span id='topic+ENgetelseaction'></span>

<h3>Description</h3>

<p>Gets the properties of an ELSE action in a rule-based control.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetelseaction(ruleIndex, actionIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetelseaction_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetelseaction_+3A_actionindex">actionIndex</code></td>
<td>
<p>the index of the ELSE action to retrieve (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with the following components:
</p>

<dl>
<dt>linkIndex</dt><dd><p> the index of the link in the action</p>
</dd>
<dt>status</dt><dd><p>the status assigned to the link</p>
</dd>
<dt>setting</dt><dd><p>the value assigned to the link's setting</p>
</dd>
</dl>


<hr>
<h2 id='ENgeterror'>Returns the text of an error message generated by an error code</h2><span id='topic+ENgeterror'></span>

<h3>Description</h3>

<p>Returns the text of an error message generated by an error code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgeterror(errcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgeterror_+3A_errcode">errcode</code></td>
<td>
<p>an error code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>error message
</p>

<hr>
<h2 id='ENgetflowunits'>Retrieve a code number indicating the units used to express all flow rates.</h2><span id='topic+ENgetflowunits'></span>

<h3>Description</h3>

<p><code>ENgetflowunits</code> retrieves a code number indicating the units used to express all flow rates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetflowunits()
</code></pre>


<h3>Value</h3>

<p>An integer, the code numnber indicating the flow units.
</p>


<h3>Note</h3>

<p>Flow units codes are as follows:
</p>

<table>
<tr>
 <td style="text-align: left;">
		0	</td><td style="text-align: left;"> = <code>EN_CFS</code> </td><td style="text-align: left;">	cubic feet per second</td>
</tr>
<tr>
 <td style="text-align: left;">
		1	</td><td style="text-align: left;"> = <code>EN_GPM</code> </td><td style="text-align: left;">	gallons per minute</td>
</tr>
<tr>
 <td style="text-align: left;">
		2	</td><td style="text-align: left;"> = <code>EN_MGD</code> </td><td style="text-align: left;">	million gallons per day</td>
</tr>
<tr>
 <td style="text-align: left;">
		3 	</td><td style="text-align: left;"> = <code>EN_IMGD</code> </td><td style="text-align: left;">	Imperial mgd</td>
</tr>
<tr>
 <td style="text-align: left;">
		4	</td><td style="text-align: left;"> = <code>EN_AFD</code> </td><td style="text-align: left;">	acre-feet per day</td>
</tr>
<tr>
 <td style="text-align: left;">
		5	</td><td style="text-align: left;"> = <code>EN_LPS</code> </td><td style="text-align: left;">	liters per second</td>
</tr>
<tr>
 <td style="text-align: left;">
		6	</td><td style="text-align: left;"> = <code>EN_LPM</code> </td><td style="text-align: left;">	liters per minute</td>
</tr>
<tr>
 <td style="text-align: left;">
		7	</td><td style="text-align: left;"> = <code>EN_MLD</code> </td><td style="text-align: left;">	million liters per day</td>
</tr>
<tr>
 <td style="text-align: left;">
		8	</td><td style="text-align: left;"> = <code>EN_CMH</code> </td><td style="text-align: left;">	cubic meters per hour</td>
</tr>
<tr>
 <td style="text-align: left;">
		9	</td><td style="text-align: left;"> = <code>EN_CMD</code> </td><td style="text-align: left;">	cubic meters per day
  </td>
</tr>

</table>

<p>Flow units are specified in the <code>[OPTIONS]</code> section of the EPANET Input file.
</p>
<p>Flow units in liters or cubic meters implies that metric units are used for all other quantities in 
addition to flow. Otherwise US units are employed. (See Units of Measurement).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetflowunits()
ENclose()
</code></pre>

<hr>
<h2 id='ENgetheadcurveindex'>Retrieves index of head curve used by a pump</h2><span id='topic+ENgetheadcurveindex'></span>

<h3>Description</h3>

<p>Retrieves index of head curve used by a pump
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetheadcurveindex(linkindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetheadcurveindex_+3A_linkindex">linkindex</code></td>
<td>
<p>index of the pump</p>
</td></tr>
</table>


<h3>Value</h3>

<p>index of head curve
</p>

<hr>
<h2 id='ENgetlinkid'>Retrieve the ID label of a link</h2><span id='topic+ENgetlinkid'></span>

<h3>Description</h3>

<p><code>ENgetlinkid</code> retrieves the ID label of the link given its index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetlinkid(linkindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetlinkid_+3A_linkindex">linkindex</code></td>
<td>
<p>integer specifying the link index.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character ID
</p>


<h3>Note</h3>

<p>Link indexes are consecutive integers starting from 1.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ENgetlinkindex">ENgetlinkindex</a> </code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetlinkid(1)
ENgetlinkid(12)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetlinkindex'>Retrieve the index of a link</h2><span id='topic+ENgetlinkindex'></span>

<h3>Description</h3>

<p><code>ENgetlinkindex</code> retrieves the index of a link with specified ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetlinkindex(linkid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetlinkindex_+3A_linkid">linkid</code></td>
<td>
<p>character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer index of requested link
</p>


<h3>Note</h3>

<p>Link indexes are consecutive integers starting from 1.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ENgetlinkid">ENgetlinkid</a> </code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetlinkindex("22")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetlinknodes'>Retrieve the index of the end nodes of a link</h2><span id='topic+ENgetlinknodes'></span>

<h3>Description</h3>

<p>Retrieve the index of the end nodes of a link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetlinknodes(linkindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetlinknodes_+3A_linkindex">linkindex</code></td>
<td>
<p>integer specifying the link index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer vector of node indices for this link
</p>


<h3>Note</h3>

<p>Node and link indexes are consecutive integers starting from 1.
</p>
<p>The From and To nodes are as defined for the link in the EPANET input file. The actual direction of
flow in the link is not considered.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ENgetlinkindex">ENgetlinkindex</a> </code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetlinknodes(1)
ENgetlinknodes(11)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetlinktype'>Retrieve the type code for a link</h2><span id='topic+ENgetlinktype'></span>

<h3>Description</h3>

<p>Retrieve the type code for a link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetlinktype(linkindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetlinktype_+3A_linkindex">linkindex</code></td>
<td>
<p>for which type code is requested</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer type-code of the link
</p>


<h3>Note</h3>

<p>Link indexes are consecutive integers starting from 1. Link type codes
consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_CVPIPE</code> </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> Pipe with Check Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PIPE</code>	  </td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> Pipe</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PUMP</code>	  </td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> Pump</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PRV</code>	  </td><td style="text-align: left;"> 3 </td><td style="text-align: left;"> Pressure Reducing Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PSV</code>	  </td><td style="text-align: left;"> 4 </td><td style="text-align: left;"> Pressure Sustaining Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PBV</code>	  </td><td style="text-align: left;"> 5 </td><td style="text-align: left;"> Pressure Breaker Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_FCV</code>	  </td><td style="text-align: left;"> 6 </td><td style="text-align: left;"> Flow Control Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TCV</code>	  </td><td style="text-align: left;"> 7 </td><td style="text-align: left;"> Throttle Control Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_GPV</code>	  </td><td style="text-align: left;"> 8 </td><td style="text-align: left;"> General Purpose Valve</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+ENgetlinkindex">ENgetlinkindex</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetlinktype(1)
ENgetlinktype(12)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetlinkvalue'>Retrieve parameter value for a link</h2><span id='topic+ENgetlinkvalue'></span>

<h3>Description</h3>

<p><code>ENgetlinkvalue</code> retrieves the value of a specific link parameter for a link.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetlinkvalue(linkindex, paramcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetlinkvalue_+3A_linkindex">linkindex</code></td>
<td>
<p>index of the link</p>
</td></tr>
<tr><td><code id="ENgetlinkvalue_+3A_paramcode">paramcode</code></td>
<td>
<p>requested parameter type either as name or number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The parameter value of a specified link.
</p>


<h3>Note</h3>

<p>Link indexes are consecutive integers starting from 1.
Link parameter codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_DIAMETER</code>		</td><td style="text-align: right;"> 	0	</td><td style="text-align: left;"> Diameter</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_LENGTH</code>		</td><td style="text-align: right;">	1	</td><td style="text-align: left;"> Length</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_ROUGHNESS</code>	</td><td style="text-align: right;">	2	</td><td style="text-align: left;"> Roughness coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_MINORLOSS</code>	</td><td style="text-align: right;">	3	</td><td style="text-align: left;"> Minor loss coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_INITSTATUS</code>	</td><td style="text-align: right;">	4	</td><td style="text-align: left;"> Initial link status (0 = closed, 1 = open)</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_INITSETTING</code>	</td><td style="text-align: right;">	5	</td><td style="text-align: left;"> Initial pipe roughness</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;"> 		</td><td style="text-align: left;"> Initial pump speed</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;"> 		</td><td style="text-align: left;"> Initial valve setting</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_KBULK</code>		</td><td style="text-align: right;"> 	6	</td><td style="text-align: left;"> Bulk reaction coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_KWALL</code>		</td><td style="text-align: right;">	7	</td><td style="text-align: left;"> Wall reaction coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_FLOW</code>			</td><td style="text-align: right;">    8	</td><td style="text-align: left;"> Flow rate</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_VELOCITY</code>		</td><td style="text-align: right;">    9	</td><td style="text-align: left;"> Flow velocity</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_HEADLOSS</code>	    </td><td style="text-align: right;">   10	</td><td style="text-align: left;"> Head loss</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_STATUS</code>		</td><td style="text-align: right;">   11	</td><td style="text-align: left;"> Actual link status (0 = closed, 1 = open)</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SETTING</code>		</td><td style="text-align: right;">   12	</td><td style="text-align: left;"> Pipe roughness</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">  		</td><td style="text-align: left;"> Actual pump speed</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">  		</td><td style="text-align: left;"> Actal valve setting</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_ENERGY</code>		</td><td style="text-align: right;">   13	</td><td style="text-align: left;"> Energy expended in kwatts
  </td>
</tr>

</table>

<p>Parameters 8 - 13 (<code>EN_FLOW</code> through <code>EN_ENERGY</code>) are computed values. The others
are design parameters.
</p>
<p>Flow rate is positive if the direction of flow is from the designated start node of the link to
its designated end node, and negative otherwise.
</p>
<p>Values are returned in units which depend on the units used for flow rate in the EPANET
input file.
</p>


<h3>See Also</h3>

<p><code>ENgetlinkindex</code> <code><a href="#topic+ENgetflowunits">ENgetflowunits</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen(inp, "Net1.rpt")
ENgetlinkvalue(1, "EN_DIAMETER")
ENgetlinkvalue(1, "EN_LENGTH")
ENgetlinkvalue(8, "EN_DIAMETER")
ENgetlinkvalue(8, "EN_LENGTH")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetnodeid'>Retrieve the ID label a node.</h2><span id='topic+ENgetnodeid'></span>

<h3>Description</h3>

<p><code>ENgetnodeid</code> retrieves the ID label a node from its index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetnodeid(nodeindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetnodeid_+3A_nodeindex">nodeindex</code></td>
<td>
<p>An integer node index</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string, the ID label of the specified node.
</p>


<h3>Note</h3>

<p>Node indexes are consecutive integers starting from 1.
</p>


<h3>See Also</h3>

<p><code>ENgetnodeindex</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetnodeid(1)
ENgetnodeid(5)
ENgetnodeid(9)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetnodeindex'>Retrieve the index of a node</h2><span id='topic+ENgetnodeindex'></span>

<h3>Description</h3>

<p>Retrieve the index of a node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetnodeindex(nodeid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetnodeindex_+3A_nodeid">nodeid</code></td>
<td>
<p>A character string specifying the node ID.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer index of the specified node.
</p>


<h3>Note</h3>

<p>Node indexes are consecutive integers starting from 1.
</p>


<h3>See Also</h3>

<p><code>ENgetnodeid</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetnodeindex("10")
ENgetnodeindex("23")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetnodetype'>Retrieve the node-type code</h2><span id='topic+ENgetnodetype'></span>

<h3>Description</h3>

<p><code>ENgetnodetype</code> retrieves the node-type code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetnodetype(nodeindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetnodetype_+3A_nodeindex">nodeindex</code></td>
<td>
<p>An integer specifying the node index.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>integer type-code of the node.
</p>


<h3>Note</h3>

<p>Node indexes are consecutive integers starting from 1. 
</p>
<p>Node type codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_JUNCTION</code>  </td><td style="text-align: left;"> 0 </td><td style="text-align: left;"> Junction node</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_RESERVOIR</code> </td><td style="text-align: left;"> 1 </td><td style="text-align: left;"> Reservoir node</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TANK</code>      </td><td style="text-align: left;"> 2 </td><td style="text-align: left;"> Tank node
  </td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetnodetype(1)
ENgetnodetype(10)
ENgetnodetype(11)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetnodevalue'>Retrieve node parameter value.</h2><span id='topic+ENgetnodevalue'></span>

<h3>Description</h3>

<p><code>ENgetnodevalue</code> retrieves the values of specific node parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetnodevalue(nodeindex, paramcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetnodevalue_+3A_nodeindex">nodeindex</code></td>
<td>
<p>An integer vector specifying the node index.</p>
</td></tr>
<tr><td><code id="ENgetnodevalue_+3A_paramcode">paramcode</code></td>
<td>
<p>An integer or character string, the parameter codes (see below).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>parameter value
</p>


<h3>Note</h3>

<p>Node indexes are consecutive integers starting from 1.
</p>
<p>Node parameter codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_ELEVATION</code>  </td><td style="text-align: right;"> 0  </td><td style="text-align: left;"> Elevation</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_BASEDEMAND</code> </td><td style="text-align: right;"> 1  </td><td style="text-align: left;"> Base demand</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATTERN</code>    </td><td style="text-align: right;"> 2  </td><td style="text-align: left;"> Demand pattern index</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_EMITTER</code>    </td><td style="text-align: right;"> 3  </td><td style="text-align: left;"> Emitter coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_INITQUAL</code>   </td><td style="text-align: right;"> 4  </td><td style="text-align: left;"> Initial quality</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCEQUAL</code> </td><td style="text-align: right;"> 5  </td><td style="text-align: left;"> Source quality</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCEPAT</code>  </td><td style="text-align: right;"> 6  </td><td style="text-align: left;"> Source pattern index</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCETYPE</code> </td><td style="text-align: right;"> 7  </td><td style="text-align: left;"> Source type (see note below)</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TANKLEVEL</code>  </td><td style="text-align: right;"> 8  </td><td style="text-align: left;"> Initial water level in tank</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_DEMAND</code>     </td><td style="text-align: right;"> 9  </td><td style="text-align: left;"> Actual demand</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_HEAD</code>       </td><td style="text-align: right;"> 10 </td><td style="text-align: left;"> Hydraulic head</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PRESSURE</code>   </td><td style="text-align: right;"> 11 </td><td style="text-align: left;"> Pressure</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_QUALITY</code>    </td><td style="text-align: right;"> 12 </td><td style="text-align: left;"> Actual quality</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCEMASS</code> </td><td style="text-align: right;"> 13 </td><td style="text-align: left;"> Mass flow rate per minute of a chemical source
  </td>
</tr>

</table>

<p>Parameters 9 - 13 (<code>EN_DEMAND</code> through <code>EN_SOURCEMASS</code>) are computed values. The
others are input design parameters.
</p>
<p>Source types are identified with the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
   <code>EN_CONCEN</code>    </td><td style="text-align: left;"> 0</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>EN_MASS</code>      </td><td style="text-align: left;"> 1</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>EN_SETPOINT</code>  </td><td style="text-align: left;"> 2</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>EN_FLOWPACED</code> </td><td style="text-align: left;"> 3
  </td>
</tr>

</table>

<p>See <code>[SOURCES]</code> for a description of these source types.
</p>
<p>Values are returned in units which depend on the units used for flow rate in the EPANET
input file (see Units of Measurement).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetnodevalue(1, "EN_ELEVATION")
ENgetnodevalue(5, "EN_BASEDEMAND")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetnumdemands'>Get number of demands for a junction node</h2><span id='topic+ENgetnumdemands'></span>

<h3>Description</h3>

<p>Get number of demands for a junction node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetnumdemands(nodeindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetnumdemands_+3A_nodeindex">nodeindex</code></td>
<td>
<p>the index of a node (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>number of demands
</p>

<hr>
<h2 id='ENgetoption'>Retrieve the value of an analysis option.</h2><span id='topic+ENgetoption'></span>

<h3>Description</h3>

<p><code>ENgetoption</code> retrieves the value of one or more particular analysis options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetoption(optioncode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetoption_+3A_optioncode">optioncode</code></td>
<td>
<p>A character or integer specifying the option code 
(see below).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Option codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_TRIALS</code>     </td><td style="text-align: left;">   0  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_ACCURACY</code>   </td><td style="text-align: left;">   1  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TOLERANCE</code>  </td><td style="text-align: left;">   2  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_EMITEXPON</code>  </td><td style="text-align: left;">   3  </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_DEMANDMULT</code> </td><td style="text-align: left;">   4  
  </td>
</tr>

</table>



<h3>Value</h3>

<p>numeric value of the specified analysis option(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetoption(0)
ENgetoption("EN_TRIALS")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetpatternid'>Retrieve the ID label a time pattern</h2><span id='topic+ENgetpatternid'></span>

<h3>Description</h3>

<p><code>ENgetpatternid</code> retrieves the ID label of a particular time pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetpatternid(patternindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetpatternid_+3A_patternindex">patternindex</code></td>
<td>
<p>An integer specifying the time pattern index.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string, the pattern ID label of the specified time pattern.
</p>


<h3>Note</h3>

<p>Pattern indexes are consecutive integers starting from 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetpatternid(1)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetpatternindex'>Retrieve the index a time pattern.</h2><span id='topic+ENgetpatternindex'></span>

<h3>Description</h3>

<p><code>ENgetpatternindex</code> retrieves the index of a time pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetpatternindex(patternid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetpatternindex_+3A_patternid">patternid</code></td>
<td>
<p>A character string specifying the pattern ID</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer, the index of the specified time pattern.
</p>


<h3>Note</h3>

<p>Pattern indexes are consecutive integers starting from 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetpatternindex("1")
ENclose()
</code></pre>

<hr>
<h2 id='ENgetpatternlen'>Retrieve the number of time periods in a time pattern.</h2><span id='topic+ENgetpatternlen'></span>

<h3>Description</h3>

<p><code>ENgetpatternlen</code> retrieves the number of time periods in a specific time pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetpatternlen(patternindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetpatternlen_+3A_patternindex">patternindex</code></td>
<td>
<p>An integer specifying a time pattern index.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer, the time pattern length.
</p>


<h3>Note</h3>

<p>Pattern indexes are consecutive integers starting from 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetpatternlen(1)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetpatternvalue'>Retrieve the multiplier factor for a specific time period</h2><span id='topic+ENgetpatternvalue'></span>

<h3>Description</h3>

<p><code>ENgetpatternvalue</code> retrieves the multiplier factor for specific time periods in a pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetpatternvalue(index, period)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetpatternvalue_+3A_index">index</code></td>
<td>
<p>An integer specifying the time pattern index.</p>
</td></tr>
<tr><td><code id="ENgetpatternvalue_+3A_period">period</code></td>
<td>
<p>An integer or integer vector of the periods within the time pattern.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric or numeric vector, the multiplier factor for the specific time pattern and period.
</p>


<h3>Note</h3>

<p>Pattern indexes and periods are consecutive integers starting from 1.
</p>


<h3>See Also</h3>

<p><code>ENgetpatternindex</code>, <code>ENgetpatternlen</code>, <code>ENsetpatternvalue</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetpatternvalue(1,1)
ENgetpatternvalue(1,2)
ENgetpatternvalue(1,3)
ENclose()
</code></pre>

<hr>
<h2 id='ENgetpremise'>Gets the properties of a premise in a rule-based control.</h2><span id='topic+ENgetpremise'></span>

<h3>Description</h3>

<p>Gets the properties of a premise in a rule-based control.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetpremise(ruleIndex, premiseIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetpremise_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetpremise_+3A_premiseindex">premiseIndex</code></td>
<td>
<p>the position of the premise in the rule's list of premises  (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with components:
</p>

<dl>
<dt>logop</dt><dd><p>the premise's logical operator ( IF = 1, AND = 2, OR = 3 )</p>
</dd>
<dt>object</dt><dd><p>the type of object the premise refers to</p>
</dd>
<dt>objIndex</dt><dd><p>the index of the object (e.g. the index of a tank)</p>
</dd>
<dt>variable</dt><dd><p>the object's variable being compared</p>
</dd>
<dt>relop</dt><dd><p>the premise's comparison operator</p>
</dd>
<dt>status</dt><dd><p>the status that the object's status is compared to</p>
</dd>
<dt>value</dt><dd><p>the value that the object's variable is compared to</p>
</dd>
</dl>


<hr>
<h2 id='ENgetpumptype'>Retrieves type of head curve used by a pump</h2><span id='topic+ENgetpumptype'></span>

<h3>Description</h3>

<p>Retrieves type of head curve used by a pump
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetpumptype(linkindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetpumptype_+3A_linkindex">linkindex</code></td>
<td>
<p>index of the pump</p>
</td></tr>
</table>


<h3>Value</h3>

<p>type of head curve
</p>

<hr>
<h2 id='ENgetqualinfo'>Get quality analysis information</h2><span id='topic+ENgetqualinfo'></span>

<h3>Description</h3>

<p>Get quality analysis information
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetqualinfo()
</code></pre>


<h3>Value</h3>

<p>list with elements: qualcode,  chemname, 
chemunits, tracenode
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetqualinfo()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENgetqualtype'>Retrieve the type of water quality analysis called for.</h2><span id='topic+ENgetqualtype'></span>

<h3>Description</h3>

<p><code>ENgetqualtype</code> retrieves the type of water quality analysis called for.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetqualtype()

ENgetqualtype()
</code></pre>


<h3>Value</h3>

<p>A named integer vector, the water quality analysis code (see below) and
the index of node traced in a source tracing analysis.
</p>
<p>list of qualcode and trace node
</p>


<h3>Note</h3>

<p>Water quality analysis codes are as follows: 
</p>

<table>
<tr>
 <td style="text-align: left;">
		<code>EN_NONE</code>  </td><td style="text-align: left;">  0  </td><td style="text-align: left;">  No quality analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
		<code>EN_CHEM</code>  </td><td style="text-align: left;">  1  </td><td style="text-align: left;">  Chemical analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
		<code>EN_AGE</code>   </td><td style="text-align: left;">  2  </td><td style="text-align: left;">  Water age analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
		<code>EN_TRACE</code> </td><td style="text-align: left;">  3  </td><td style="text-align: left;">  Source tracing
  </td>
</tr>

</table>

<p>The tracenode value will be 0 when the quality code is not <code>EN_TRACE</code>.
</p>


<h3>See Also</h3>

<p><code>ENsetqualtype</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetqualtype()
ENclose()
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetqualtype()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENgetresultindex'>Retrieves the order in which a node or link appears in an output file.</h2><span id='topic+ENgetresultindex'></span>

<h3>Description</h3>

<p>Retrieves the order in which a node or link appears in an output file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetresultindex(type, index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetresultindex_+3A_type">type</code></td>
<td>
<p>a type of element (either EN_NODE or EN_LINK).</p>
</td></tr>
<tr><td><code id="ENgetresultindex_+3A_index">index</code></td>
<td>
<p>the element's current index (starting from 1).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the element does not appear in the file then its result index is 0.
</p>
<p>This function can be used to correctly retrieve results from an EPANET binary output file
after the order of nodes or links in a network's database has been changed due to editing
operations.
</p>


<h3>Value</h3>

<p>the order in which the element's results were written to file.
</p>

<hr>
<h2 id='ENgetrule'>Retrieves summary information about a rule-based control.</h2><span id='topic+ENgetrule'></span>

<h3>Description</h3>

<p>Retrieves summary information about a rule-based control.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetrule(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetrule_+3A_index">index</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with components:
nPremises number of premises in the rule's IF section;
nThenActions number of actions in the rule's THEN section;
nElseActions number of actions in the rule's ELSE section;
priority the rule's priority value.
</p>

<hr>
<h2 id='ENgetruleID'>Gets the ID name of a rule-based control given its index.</h2><span id='topic+ENgetruleID'></span>

<h3>Description</h3>

<p>Gets the ID name of a rule-based control given its index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetruleID(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetruleID_+3A_index">index</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>rule's ID name.
</p>

<hr>
<h2 id='ENgetstatistic'>Analysis convergence statistics.</h2><span id='topic+ENgetstatistic'></span>

<h3>Description</h3>

<p>Analysis convergence statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetstatistic(stat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetstatistic_+3A_stat">stat</code></td>
<td>
<p>one of the statistics tabulated below</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These statistics report the convergence criteria for the most current
hydraulic analysis and the cumulative water quality mass balance error at the
current simulation time. 
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_ITERATIONS</code> </td><td style="text-align: left;"> Number of hydraulic iterations taken. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_RELATIVEERROR</code> </td><td style="text-align: left;"> Sum of link flow changes / sum of link flows. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_MAXHEADERROR</code> </td><td style="text-align: left;"> Largest head loss error for links. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_MAXFLOWCHANGE</code> </td><td style="text-align: left;"> Largest flow change in links. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_MASSBALANCE</code> </td><td style="text-align: left;"> Cumulative water quality mass balance ratio. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_DEFICIENTNODES</code> </td><td style="text-align: left;"> Number of pressure deficient nodes. </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_DEMANDREDUCTION</code> </td><td style="text-align: left;"> 
</td>
</tr>

</table>



<h3>Value</h3>

<p>value of the stat
</p>

<hr>
<h2 id='ENgetthenaction'>Gets properties of THEN action in rule-based control</h2><span id='topic+ENgetthenaction'></span>

<h3>Description</h3>

<p>Gets properties of THEN action in rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetthenaction(ruleIndex, actionIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetthenaction_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetthenaction_+3A_actionindex">actionIndex</code></td>
<td>
<p>the index of the THEN action to retrieve (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with components:
* linkIndex the index of the link in the action (starting from 1)
* status the status assigned to the link
* setting the value assigned to the link's setting
</p>

<hr>
<h2 id='ENgettimeparam'>Get the value of one or more specific analysis time parameters.</h2><span id='topic+ENgettimeparam'></span>

<h3>Description</h3>

<p><code>ENgettimeparam</code> retrieves the value of one or more specific analysis time parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgettimeparam(paramcode)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgettimeparam_+3A_paramcode">paramcode</code></td>
<td>
<p>A character string or integer specifying the parameter code
(see below).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Time parameter codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_DURATION</code>     </td><td style="text-align: left;">   0  </td><td style="text-align: left;">    Simulation duration</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_HYDSTEP</code>      </td><td style="text-align: left;">   1  </td><td style="text-align: left;">    Hydraulic time step</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_QUALSTEP</code>     </td><td style="text-align: left;">   2  </td><td style="text-align: left;">    Water quality time step</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATTERNSTEP</code>  </td><td style="text-align: left;">   3  </td><td style="text-align: left;">    Time pattern time step</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATTERNSTART</code> </td><td style="text-align: left;">   4  </td><td style="text-align: left;">    Time pattern start time</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_REPORTSTEP</code>   </td><td style="text-align: left;">   5  </td><td style="text-align: left;">    Reporting time step</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_REPORTSTART</code>  </td><td style="text-align: left;">   6  </td><td style="text-align: left;">    Report starting time</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_RULESTEP</code>     </td><td style="text-align: left;">   7  </td><td style="text-align: left;">    Time step for evaluating rule-based controls</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_STATISTIC</code>    </td><td style="text-align: left;">   8  </td><td style="text-align: left;">    Type of time series post-processing used:</td>
</tr>
<tr>
 <td style="text-align: left;">
                         </td><td style="text-align: left;">  	  </td><td style="text-align: left;">    0 = none</td>
</tr>
<tr>
 <td style="text-align: left;">
                         </td><td style="text-align: left;">  	  </td><td style="text-align: left;"> 	  1 = averaged</td>
</tr>
<tr>
 <td style="text-align: left;">
                         </td><td style="text-align: left;">  	  </td><td style="text-align: left;"> 	  2 = minimums</td>
</tr>
<tr>
 <td style="text-align: left;">
                         </td><td style="text-align: left;">  	  </td><td style="text-align: left;"> 	  3 = maximums</td>
</tr>
<tr>
 <td style="text-align: left;">
                         </td><td style="text-align: left;">  	  </td><td style="text-align: left;"> 	  4 = ranges</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PERIODS</code>      </td><td style="text-align: left;">   9  </td><td style="text-align: left;">    Number of reporting periods saved to binary output file
  </td>
</tr>

</table>



<h3>Value</h3>

<p>A named integer with the value of the specified time parameter.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package 
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp") 
ENopen(inp, "Net1.rpt")
ENgettimeparam("EN_DURATION")
ENgettimeparam("EN_HYDSTEP")
ENclose()
</code></pre>

<hr>
<h2 id='ENgettitle'>ENgettitle</h2><span id='topic+ENgettitle'></span>

<h3>Description</h3>

<p>Retrieves the title lines of the project
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgettitle()
</code></pre>


<h3>Value</h3>

<p>character vector of title lines
</p>

<hr>
<h2 id='ENgetversion'>Retrieve the current version number of the EPANET Toolkit.</h2><span id='topic+ENgetversion'></span>

<h3>Description</h3>

<p><code>ENgetversion</code> retrieves the current version number of the EPANET Toolkit.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetversion()
</code></pre>


<h3>Value</h3>

<p>An integer, the Toolkit version number.
</p>


<h3>Note</h3>

<p>The version number is a 5-digit integer that increases sequentially from
20001 with each new update of the Toolkit.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ENgetversion()
</code></pre>

<hr>
<h2 id='ENgetvertex'>Get vertex coordinates</h2><span id='topic+ENgetvertex'></span>

<h3>Description</h3>

<p>Get vertex coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetvertex(index, vertex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetvertex_+3A_index">index</code></td>
<td>
<p>a link's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENgetvertex_+3A_vertex">vertex</code></td>
<td>
<p>index of vertex for getting coords</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with elements x and y
</p>

<hr>
<h2 id='ENgetvertexcount'>Get number of vertices for a link</h2><span id='topic+ENgetvertexcount'></span>

<h3>Description</h3>

<p>Get number of vertices for a link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENgetvertexcount(index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENgetvertexcount_+3A_index">index</code></td>
<td>
<p>a link's index (starting from 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>number of indices
</p>

<hr>
<h2 id='ENinit'>ENinit</h2><span id='topic+ENinit'></span>

<h3>Description</h3>

<p>Initializes an empty EPANET network
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENinit(rptFile, outFile, unitsType, headLossType)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENinit_+3A_rptfile">rptFile</code></td>
<td>
<p>the name of a report file to be created (or &quot;&quot; if not needed).</p>
</td></tr>
<tr><td><code id="ENinit_+3A_outfile">outFile</code></td>
<td>
<p>the name of a binary output file to be created (or &quot;&quot; if not needed).</p>
</td></tr>
<tr><td><code id="ENinit_+3A_unitstype">unitsType</code></td>
<td>
<p>the choice of flow units. One of: &quot;EN_CFS&quot;, &quot;EN_GPM&quot;, &quot;EN_MGD&quot;,
&quot;EN_IMGD&quot;, &quot;EN_AFD&quot;, &quot;EN_LPS&quot;, &quot;EN_LPM&quot;, &quot;EN_MLD&quot;, &quot;EN_CMH&quot;, &quot;EN_CMD&quot;</p>
</td></tr>
<tr><td><code id="ENinit_+3A_headlosstype">headLossType</code></td>
<td>
<p>the choice of head loss formula . One of: EN_HW, EN_DW, EN_CM</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function should be called to create an empty EPANET project without 
an EPANET-formatted input file.  If the
project receives it's network data from an input file then there is no need to
call this function; use ENopen instead.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENinitH'>Initialize hydraulic engine</h2><span id='topic+ENinitH'></span>

<h3>Description</h3>

<p><code>ENinitH</code> Initializes storage tank levels, link status and settings, and the simulation clock 
time prior to running a hydraulic analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENinitH(flag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENinitH_+3A_flag">flag</code></td>
<td>
<p>A two-digit flag indicating if hydraulic results will be saved to the
hydraulics file (rightmost digit) and if link flows should be re-initialized.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Call <code>ENinitH</code> prior to running a hydraulic analysis using <code>ENrunH</code> and
<code>ENnextH</code>.<code>ENopenH</code> must have been called prior to calling <code>ENinitH</code>. Do not call 
<code>ENinitH</code> if a complete hydraulic analysis is being made with a call to <code>ENsolveH</code>.
Values of flag have the following meanings:
</p>

<table>
<tr>
 <td style="text-align: left;">
   00   </td><td style="text-align: left;">  do not re-initialize flows, do not save results to file</td>
</tr>
<tr>
 <td style="text-align: left;">
   01   </td><td style="text-align: left;">  do not re-initialize flows, save results to file</td>
</tr>
<tr>
 <td style="text-align: left;">
   10   </td><td style="text-align: left;">  re-initialize flows, do not save results to file</td>
</tr>
<tr>
 <td style="text-align: left;">
   11   </td><td style="text-align: left;">  re-initialize flows, save results to file
   </td>
</tr>

</table>
 
<p>Set <code>flag</code> to 1 (or 11) if you will be making a subsequent water quality run, using 
<code>ENreport</code> to generate a report, or using <code>ENsavehydfile</code> to save the binary 
hydraulics file.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>See Also</h3>

<p><code>ENopenH</code>, <code>ENrunH</code>, <code>ENnextH</code>, <code>ENcloseH</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENopenH()
ENinitH(0)
ENrunH()
ENcloseH()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENinitQ'>Initialize water quality analysis</h2><span id='topic+ENinitQ'></span>

<h3>Description</h3>

<p>Initialize water quality analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENinitQ(saveFlag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENinitQ_+3A_saveflag">saveFlag</code></td>
<td>
<p>boolean or integer indicating whether to save quality results to a file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Call ENinitQ before running quality analysis using ENrunQ with ENnextQ or ENstepQ.  
ENopenQ must have been called prior to calling ENinitQ.  
Do not call ENinitQ with ENsolveQ.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly on success or throws an error or warning
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENsolveH()
ENsetqualtype("EN_CHEM", "Chlorine", "mg/L", "")
ENopenQ()
ENinitQ(0)
ENrunQ()
ENcloseQ()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENnextH'>determine the next hydraulic step</h2><span id='topic+ENnextH'></span>

<h3>Description</h3>

<p><code>ENnextH</code> determines the length of time until the next 
hydraulic event occurs in an extended period simulation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENnextH()
</code></pre>


<h3>Details</h3>

<p>This function is used in conjunction with <code>ENrunH</code> to 
perform an extended period hydraulic analysis (see example below).
</p>
<p>The return value is automatically computed as the smaller of:
</p>

<ul>
<li><p> the time interval until the next hydraulic time step begins
</p>
</li>
<li><p> the time interval until the next reporting time step begins
</p>
</li>
<li><p> the time interval until the next change in demands occurs
</p>
</li>
<li><p> the time interval until a tank becomes full or empty
</p>
</li>
<li><p> the time interval until a control or rule fires
</p>
</li></ul>



<h3>Value</h3>

<p>An integer, the time (in seconds) until next hydraulic event 
occurs or 0 if at the end of the simulation period.
</p>


<h3>See Also</h3>

<p><code>ENopenH</code>, <code>ENinitH</code>, <code>ENrunH</code>, <code>ENcloseH</code>, <code>ENsettimeparam</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
  # store simulation times
  t = NULL
  ENopenH()
  ENinitH(11)
  repeat {
    t &lt;- c(t, ENrunH())
    tstep &lt;- ENnextH()
    if (tstep == 0) {
      break
    }
  }
  ENcloseH()
  ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
  
</code></pre>

<hr>
<h2 id='ENnextQ'>Advances WQ simulation to start of the next hydraulic time period.</h2><span id='topic+ENnextQ'></span>

<h3>Description</h3>

<p>Advances WQ simulation to start of the next hydraulic time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENnextQ()
</code></pre>


<h3>Value</h3>

<p>seconds until next hydraulic event occurs or
0 if at the end of the simulation period.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENsolveH()
ENsetqualtype("EN_CHEM", "Chlorine", "mg/L", "")
ENopenQ()
ENinitQ(0)
ENrunQ()
ENnextQ()
ENrunQ()
ENcloseQ()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENopen'>Open the EPANET Toolkit.</h2><span id='topic+ENopen'></span>

<h3>Description</h3>

<p><code>ENopen</code> opens the EPANET Toolkit to analyze a particular water distribution system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENopen(inpFileName, rptFileName, outFileName)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENopen_+3A_inpfilename">inpFileName</code></td>
<td>
<p>A string, the name of the EPANET Input file.</p>
</td></tr>
<tr><td><code id="ENopen_+3A_rptfilename">rptFileName</code></td>
<td>
<p>A string, the name of the EPANET Report file.</p>
</td></tr>
<tr><td><code id="ENopen_+3A_outfilename">outFileName</code></td>
<td>
<p>A string, the name of an optional binary Output file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns NULL invisibly on success or raises an error or warning.
</p>


<h3>Note</h3>

<p>If there is no need to save an EPANET's binary Output file, then <code>outFileName</code>
can be an empty string (&quot;&quot;).
</p>
<p>If <code>rptFileName</code> is an empty string, reporting will be made to the operating system 
<code>stdout</code> device (which is usually the console/terminal).
</p>
<p><code>enOpen</code> must be called before any of the other toolkit functions are used. The only
exception is <code>enEpanet</code>.
</p>


<h3>See Also</h3>

<p><code>ENclose</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENclose()
</code></pre>

<hr>
<h2 id='ENopenH'>Open hydraulics analysis system.</h2><span id='topic+ENopenH'></span>

<h3>Description</h3>

<p><code>ENopenH</code> opens the EPANET hydraulics analysis system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENopenH()
</code></pre>


<h3>Details</h3>

<p>Call <code>ENopenH</code> prior to running the first hydraulic analysis using the 
<code>ENinitH-ENrunH-ENnextH</code> sequence. Multiple analyses can be made before calling 
<code>ENcloseH</code> to close the hydraulic analysis system.
</p>
<p>Do not call this function if <code>ENsolveH</code> is being used to run a complete hydraulic analysis.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>See Also</h3>

<p><code>ENinitH</code>, <code>ENrunH</code>, <code>ENnextH</code>, <code>ENcloseH</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENopenH()
ENinitH(0)
ENrunH()
ENcloseH()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENopenQ'>Sets up for Water Quality analysis</h2><span id='topic+ENopenQ'></span>

<h3>Description</h3>

<p>Sets up for Water Quality analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENopenQ()
</code></pre>


<h3>Value</h3>

<p>Returns NULL invisibly on success or throws an error or warning
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENsolveH()
ENsetqualtype("EN_CHEM", "Chlorine", "mg/L", "")
ENopenQ()
ENinitQ(0)
ENrunQ()
ENcloseQ()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENreport'>Write simulation report to the report file</h2><span id='topic+ENreport'></span>

<h3>Description</h3>

<p>Write simulation report to the report file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENreport()
</code></pre>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt", "Net1.bin")
ENsolveH()
ENsolveQ()
ENreport()
ENclose()
# clean up the created files 
file.remove("Net1.rpt") 
file.remove("Net1.bin") 
</code></pre>

<hr>
<h2 id='ENresetreport'>Resets a project's report options to their default values.</h2><span id='topic+ENresetreport'></span>

<h3>Description</h3>

<p>Resets a project's report options to their default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENresetreport()
</code></pre>


<h3>Details</h3>

<p>After calling this function the default reporting options are in effect. These are:
</p>

<ul>
<li><p> no status report
</p>
</li>
<li><p> no energy report
</p>
</li>
<li><p> no nodes reported on
</p>
</li>
<li><p> no links reported on
</p>
</li>
<li><p> node variables reported to 2 decimal places
</p>
</li>
<li><p> link variables reported to 2 decimal places (3 for friction factor)
</p>
</li>
<li><p> node variables reported are elevation, head, pressure, and quality
</p>
</li>
<li><p> link variables reported are flow, velocity, and head loss.
</p>
</li></ul>



<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENrunH'>run hydraulics engine</h2><span id='topic+ENrunH'></span>

<h3>Description</h3>

<p><code>ENrunH</code> Runs a single period hydraulic analysis, retrieving the 
current simulation clock time <code>t</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENrunH()
</code></pre>


<h3>Details</h3>

<p>Use <code>ENrunH</code> along with <code>ENnextH</code> in a while loop to 
analyze hydraulics in each period of an extended period simulation. 
This process automatically updates the simulation clock time so treat 
<code>t</code> as a read-only variable.
</p>
<p><code>ENinitH</code> must have been called prior to running the 
<code>ENrunH-ENnextH</code> loop.
</p>
<p>See <code>ENnextH</code> for an example of using this function.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>See Also</h3>

<p><code>ENopenH</code>, <code>ENinitH</code>, <code>ENnextH</code>, <code>ENcloseH</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENopenH()
ENinitH(0)
ENrunH()
ENcloseH()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENrunQ'>Computs WQ results at current time .</h2><span id='topic+ENrunQ'></span>

<h3>Description</h3>

<p>Computs WQ results at current time .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENrunQ()
</code></pre>


<h3>Details</h3>

<p>used in a loop with ENnextQ() to run
an extended period WQ simulation.
</p>


<h3>Value</h3>

<p>current simulation time in seconds
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENsolveH()
ENsetqualtype("EN_CHEM", "Chlorine", "mg/L", "")
ENopenQ()
ENinitQ(0)
ENrunQ()
ENcloseQ()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENsaveH'>ENsaveH
Saves hydraulic results to binary file</h2><span id='topic+ENsaveH'></span>

<h3>Description</h3>

<p>ENsaveH
</p>
<p>Saves hydraulic results to binary file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsaveH()
</code></pre>


<h3>Details</h3>

<p>Must be called before ENreport() if no WQ simulation has been made.
Should not be called if ENsolveQ() will be used.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENsavehydfile'>Saves temporary hydraulics file to disk</h2><span id='topic+ENsavehydfile'></span>

<h3>Description</h3>

<p>Saves temporary hydraulics file to disk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsavehydfile(hydfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsavehydfile_+3A_hydfile">hydfile</code></td>
<td>
<p>the name of the file to be created.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use this function to save the current set of hydraulics results to a file, either for
post-processing or to be used at a later time by calling <code>ENusehydfile</code>.
</p>
<p>The hydraulics file contains nodal demands and heads and link flows, status, and settings
for all hydraulic time steps, even intermediate ones.
</p>
<p>Before calling this function hydraulic results must have been generated and saved by having
called <code>ENsolveH</code> or the <code>ENinitH</code> - <code>ENrunH</code> - <code>ENnextH</code> sequence with the initflag
argument of <code>ENinitH</code> set to EN_SAVE or EN_SAVE_AND_INIT.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENsaveinpfile'>ENaveinpfile
Saves current data to &quot;INP&quot; formatted text file.</h2><span id='topic+ENsaveinpfile'></span>

<h3>Description</h3>

<p>ENaveinpfile
</p>
<p>Saves current data to &quot;INP&quot; formatted text file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsaveinpfile(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsaveinpfile_+3A_filename">filename</code></td>
<td>
<p>The file path to create</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>

<hr>
<h2 id='ENsetbasedemand'>Sets the base demand for one of a node's demand categories.</h2><span id='topic+ENsetbasedemand'></span>

<h3>Description</h3>

<p>Sets the base demand for one of a node's demand categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetbasedemand(nodeindex, demand_index = 1, base_demand)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetbasedemand_+3A_nodeindex">nodeindex</code></td>
<td>
<p>a node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetbasedemand_+3A_demand_index">demand_index</code></td>
<td>
<p>the index of a demand category for the node (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetbasedemand_+3A_base_demand">base_demand</code></td>
<td>
<p>the category's base demand.</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetcontrol'>Set the parameters of a simple control statement</h2><span id='topic+ENsetcontrol'></span>

<h3>Description</h3>

<p><code>ENsetcontrol</code> sets the parameters of a simple control statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetcontrol(
  cindex,
  ctype = NULL,
  lindex = NULL,
  setting = NULL,
  nindex = NULL,
  level = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetcontrol_+3A_cindex">cindex</code></td>
<td>
<p>Integer, control statement index</p>
</td></tr>
<tr><td><code id="ENsetcontrol_+3A_ctype">ctype</code></td>
<td>
<p>Integer or character string, the control type code (see Details below).</p>
</td></tr>
<tr><td><code id="ENsetcontrol_+3A_lindex">lindex</code></td>
<td>
<p>Integer, index of the link being controlled.</p>
</td></tr>
<tr><td><code id="ENsetcontrol_+3A_setting">setting</code></td>
<td>
<p>Numeric, value of the control setting.</p>
</td></tr>
<tr><td><code id="ENsetcontrol_+3A_nindex">nindex</code></td>
<td>
<p>Integer, the index of the controlling node.</p>
</td></tr>
<tr><td><code id="ENsetcontrol_+3A_level">level</code></td>
<td>
<p>value of controlling water level or pressure for level controls or of
time of control action (in seconds) for time-based controls</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Controls are indexed starting from 1 in the order in which they were entered into the
<code>[CONTROLS]</code> section of the EPANET input file.
Control type codes consist of the following:
</p>

<table>
<tr>
 <td style="text-align: left;">
		<code>EN_LOWLEVEL</code>  </td><td style="text-align: left;">  0  </td><td style="text-align: left;">  Control applied when tank level or node pressure</td>
</tr>
<tr>
 <td style="text-align: left;">
       					</td><td style="text-align: left;">  	 </td><td style="text-align: left;">    drops below specified level</td>
</tr>
<tr>
 <td style="text-align: left;">
		<code>EN_HILEVEL</code>   </td><td style="text-align: left;">  1  </td><td style="text-align: left;">  Control applied when tank level or node pressure</td>
</tr>
<tr>
 <td style="text-align: left;">
						</td><td style="text-align: left;">	 </td><td style="text-align: left;">  rises above specified level</td>
</tr>
<tr>
 <td style="text-align: left;">
		<code>EN_TIMER</code>     </td><td style="text-align: left;">  2  </td><td style="text-align: left;">  Control applied at specific time into simulation</td>
</tr>
<tr>
 <td style="text-align: left;">
		<code>EN_TIMEOFDAY</code> </td><td style="text-align: left;">  3  </td><td style="text-align: left;">  Control applied at specific time of day
  </td>
</tr>

</table>

<p>For pipes, a <code>setting</code> of 0 means the pipe is closed and 1 means it is open. For a
pump, the <code>setting</code> contains the pump's speed, with 0 meaning the pump is closed and
1 meaning it is open at its normal speed. For a valve, the <code>setting</code> refers to the valve's
pressure, flow, or loss coefficient, depending on valve type.
</p>
<p>For Timer or Time-of-Day controls set the <code>nindex</code> parameter to 0.
</p>
<p>For level controls, if the controlling node <code>nindex</code> is a tank then the level parameter
should be a water level above the tank bottom (not an elevation). Otherwise <code>level</code>
should be a junction pressure.
</p>
<p>To remove a control on a particular link, set the <code>lindex</code> parameter to 0. Values for the
other parameters in the function will be ignored.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly on success or raises an error or warning.
</p>


<h3>See Also</h3>

<p><code>ENsetcontrol</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetcontrol(1)
ENsetcontrol(1, ctype=2, lindex=3, setting=1, nindex=0, level=54)		
ENgetcontrol(1)
ENclose() 
</code></pre>

<hr>
<h2 id='ENsetcoord'>Set coordinates for a node</h2><span id='topic+ENsetcoord'></span>

<h3>Description</h3>

<p>Set coordinates for a node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetcoord(nodeindex, x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetcoord_+3A_nodeindex">nodeindex</code></td>
<td>
<p>index of nodes for which to set coords</p>
</td></tr>
<tr><td><code id="ENsetcoord_+3A_x">x</code></td>
<td>
<p>coordinate</p>
</td></tr>
<tr><td><code id="ENsetcoord_+3A_y">y</code></td>
<td>
<p>coordinate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns NULL invisibily on success or raises an error or warning
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetcoord(3)
ENsetcoord(3,33,44)
ENgetcoord(3)
ENclose()
</code></pre>

<hr>
<h2 id='ENsetcurveid'>Changes the ID name of a data curve given its index.</h2><span id='topic+ENsetcurveid'></span>

<h3>Description</h3>

<p>Changes the ID name of a data curve given its index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetcurveid(index, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetcurveid_+3A_index">index</code></td>
<td>
<p>a data curve index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetcurveid_+3A_id">id</code></td>
<td>
<p>the data curve's new ID name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENsetcurvevalue'>Sets the value of a single data point for a curve.</h2><span id='topic+ENsetcurvevalue'></span>

<h3>Description</h3>

<p>Sets the value of a single data point for a curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetcurvevalue(curveIndex, pointIndex, x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetcurvevalue_+3A_curveindex">curveIndex</code></td>
<td>
<p>a curve's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetcurvevalue_+3A_pointindex">pointIndex</code></td>
<td>
<p>the index of a point on the curve (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetcurvevalue_+3A_x">x</code></td>
<td>
<p>the point's new x-value.</p>
</td></tr>
<tr><td><code id="ENsetcurvevalue_+3A_y">y</code></td>
<td>
<p>the point's new y-value.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENsetdemandmodel'>Sets the type of demand model to use and its parameters.</h2><span id='topic+ENsetdemandmodel'></span>

<h3>Description</h3>

<p>Sets the type of demand model to use and its parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetdemandmodel(model, pmin, preq, pexp)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetdemandmodel_+3A_model">model</code></td>
<td>
<p>Type of demand model. EN_DDA for demand driven analysis or EN_PDA for pressure driven analysis</p>
</td></tr>
<tr><td><code id="ENsetdemandmodel_+3A_pmin">pmin</code></td>
<td>
<p>Pressure below which there is no demand</p>
</td></tr>
<tr><td><code id="ENsetdemandmodel_+3A_preq">preq</code></td>
<td>
<p>Pressure required to deliver full demand</p>
</td></tr>
<tr><td><code id="ENsetdemandmodel_+3A_pexp">pexp</code></td>
<td>
<p>Pressure exponent in demand function</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetdemandname'>Sets the name of a node's demand category.</h2><span id='topic+ENsetdemandname'></span>

<h3>Description</h3>

<p>Sets the name of a node's demand category.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetdemandname(nodeindex, demand_index, demand_name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetdemandname_+3A_nodeindex">nodeindex</code></td>
<td>
<p>a node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetdemandname_+3A_demand_index">demand_index</code></td>
<td>
<p>the index of one of the node's demand categories (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetdemandname_+3A_demand_name">demand_name</code></td>
<td>
<p>The name of the selected category. No more than 30 characters</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetdemandpattern'>Sets the index of a time pattern used for one of a node's demand categories.</h2><span id='topic+ENsetdemandpattern'></span>

<h3>Description</h3>

<p>Sets the index of a time pattern used for one of a node's demand categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetdemandpattern(nodeindex, demand_index, pattern_index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetdemandpattern_+3A_nodeindex">nodeindex</code></td>
<td>
<p>a node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetdemandpattern_+3A_demand_index">demand_index</code></td>
<td>
<p>the index of one of the node's demand categories (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetdemandpattern_+3A_pattern_index">pattern_index</code></td>
<td>
<p>the index of the time pattern assigned to the category.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specifying a pattern index of 0 indicates that no time pattern is assigned to the 
demand category.
</p>

<hr>
<h2 id='ENsetelseaction'>Set properties of an ELSE action in a rule-based control</h2><span id='topic+ENsetelseaction'></span>

<h3>Description</h3>

<p>Set properties of an ELSE action in a rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetelseaction(ruleIndex, actionIndex, linkIndex, status, setting)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetelseaction_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetelseaction_+3A_actionindex">actionIndex</code></td>
<td>
<p>the index of the ELSE action being modified (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetelseaction_+3A_linkindex">linkIndex</code></td>
<td>
<p>the index of the link in the action (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetelseaction_+3A_status">status</code></td>
<td>
<p>the new status assigned to the link</p>
</td></tr>
<tr><td><code id="ENsetelseaction_+3A_setting">setting</code></td>
<td>
<p>the new value assigned to the link's setting.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENsetflowunits'>Sets flow units.</h2><span id='topic+ENsetflowunits'></span>

<h3>Description</h3>

<p>Sets flow units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetflowunits(units)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetflowunits_+3A_units">units</code></td>
<td>
<p>the choice of flow units. One of: &quot;EN_CFS&quot;, &quot;EN_GPM&quot;, &quot;EN_MGD&quot;,
&quot;EN_IMGD&quot;, &quot;EN_AFD&quot;, &quot;EN_LPS&quot;, &quot;EN_LPM&quot;, &quot;EN_MLD&quot;, &quot;EN_CMH&quot;, &quot;EN_CMD&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Flow units in liters or cubic meters implies that SI metric units
are used for all other quantities in addition to flow. Otherwise US Customary
units are employed.
</p>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENsetheadcurveindex'>Sets index of head curve used by a pump</h2><span id='topic+ENsetheadcurveindex'></span>

<h3>Description</h3>

<p>Sets index of head curve used by a pump
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetheadcurveindex(linkindex, curveindex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetheadcurveindex_+3A_linkindex">linkindex</code></td>
<td>
<p>index of the pump</p>
</td></tr>
<tr><td><code id="ENsetheadcurveindex_+3A_curveindex">curveindex</code></td>
<td>
<p>index of head curve to assign</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null invisibly
</p>

<hr>
<h2 id='ENsetjuncdata'>Sets properties for a junction</h2><span id='topic+ENsetjuncdata'></span>

<h3>Description</h3>

<p>Sets properties for a junction
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetjuncdata(nodeindex, elevation, demand, demand_pattern = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetjuncdata_+3A_nodeindex">nodeindex</code></td>
<td>
<p>a junction node's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetjuncdata_+3A_elevation">elevation</code></td>
<td>
<p>the value of the junction's elevation.</p>
</td></tr>
<tr><td><code id="ENsetjuncdata_+3A_demand">demand</code></td>
<td>
<p>the value of the junction's primary base demand.</p>
</td></tr>
<tr><td><code id="ENsetjuncdata_+3A_demand_pattern">demand_pattern</code></td>
<td>
<p>the ID name of the demand's time pattern (&quot;&quot; for no pattern)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These properties have units that depend on the units used for flow rate.
</p>

<hr>
<h2 id='ENsetlinkid'>Change the ID of a link</h2><span id='topic+ENsetlinkid'></span>

<h3>Description</h3>

<p>Change the ID of a link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetlinkid(index, newid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetlinkid_+3A_index">index</code></td>
<td>
<p>of the target link</p>
</td></tr>
<tr><td><code id="ENsetlinkid_+3A_newid">newid</code></td>
<td>
<p>new name for the link (no more than 30 characters)</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetlinknodes'>Set the indexes of a link's start- and end-nodes</h2><span id='topic+ENsetlinknodes'></span>

<h3>Description</h3>

<p>Set the indexes of a link's start- and end-nodes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetlinknodes(index, node1_index, node2_index)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetlinknodes_+3A_index">index</code></td>
<td>
<p>a link's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetlinknodes_+3A_node1_index">node1_index</code></td>
<td>
<p>The index of the link's start node (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetlinknodes_+3A_node2_index">node2_index</code></td>
<td>
<p>The index of the link's end node (starting from 1).</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetlinktype'>Change a link's type</h2><span id='topic+ENsetlinktype'></span>

<h3>Description</h3>

<p>Change a link's type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetlinktype(index, type, action = "EN_UNCONDITIONAL")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetlinktype_+3A_index">index</code></td>
<td>
<p>of link before type change</p>
</td></tr>
<tr><td><code id="ENsetlinktype_+3A_type">type</code></td>
<td>
<p>the new type to change the link to (see details)</p>
</td></tr>
<tr><td><code id="ENsetlinktype_+3A_action">action</code></td>
<td>
<p>the action taken if any controls contain the link (see details)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Link type is one of: EN_CVPIPE, EN_PIPE, EN_PUMP, EN_PRV, EN_PSV, EN_PBV, EN_FCV, EN_TCV, EN_GPV
</p>
<p>If actionCode is EN_UNCONDITIONAL then all simple and rule-based controls that
contain the link are deleted when the link's type is changed. If set to
EN_CONDITIONAL then the type change is cancelled if the link appears in any
control and error 261 is returned.
</p>


<h3>Value</h3>

<p>link index after the type change
</p>

<hr>
<h2 id='ENsetlinkvalue'>Set a parameter value for a link</h2><span id='topic+ENsetlinkvalue'></span>

<h3>Description</h3>

<p>Set a parameter value for a link
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetlinkvalue(index, paramcode, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetlinkvalue_+3A_index">index</code></td>
<td>
<p>of the link</p>
</td></tr>
<tr><td><code id="ENsetlinkvalue_+3A_paramcode">paramcode</code></td>
<td>
<p>number or name of parameter code, see details</p>
</td></tr>
<tr><td><code id="ENsetlinkvalue_+3A_value">value</code></td>
<td>
<p>new value of the parameter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Links are indexed starting from 1.
</p>
<p>Link parameter codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_DIAMETER</code>		</td><td style="text-align: right;"> 	0	</td><td style="text-align: left;"> Diameter</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_LENGTH</code>		</td><td style="text-align: right;">	1	</td><td style="text-align: left;"> Length</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_ROUGHNESS</code>	</td><td style="text-align: right;">	2	</td><td style="text-align: left;"> Roughness coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_MINORLOSS</code>	</td><td style="text-align: right;">	3	</td><td style="text-align: left;"> Minor loss coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_INITSTATUS</code>	</td><td style="text-align: right;">	4	</td><td style="text-align: left;"> Initial link status (0 = closed, 1 = open)</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_INITSETTING</code>	</td><td style="text-align: right;">	5	</td><td style="text-align: left;"> Pipe roughness</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;"> 		</td><td style="text-align: left;"> Initial pump speed</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;"> 		</td><td style="text-align: left;"> Initial valve setting</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_KBULK</code>		</td><td style="text-align: right;"> 	6	</td><td style="text-align: left;"> Bulk reaction coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_KWALL</code>		</td><td style="text-align: right;">	7	</td><td style="text-align: left;"> Wall reaction coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_STATUS</code>		</td><td style="text-align: right;">   11	</td><td style="text-align: left;"> Current pump or valve status (0 = closed, 1 = open)</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SETTING</code>		</td><td style="text-align: right;">   12	</td><td style="text-align: left;"> Current pump speed of valve setting.
  </td>
</tr>

</table>

<p>Values are supplied in units which depend on the units used for flow rate in the EPANET input file 
(see Units of Measurement). Use <code>EN_INITSTATUS</code> and <code>EN_INITSETTING</code> to set the design value 
for a link's status or setting that exists prior to the start of a simulation. Use <code>EN_STATUS</code> and
<code>EN_SETTING</code> to change these values while a simulation is being run (within the 
<code>ENrunH</code> - <code>ENnextH</code> loop).
</p>
<p>If a control valve has its status explicitly set to <code>OPEN</code> or <code>CLOSED</code>, then to make it active again 
during a simulation you must provide a new valve setting value using the <code>EN_SETTING</code> parameter.
</p>
<p>For pipes, either <code>EN_ROUGHNESS</code> or <code>EN_INITSETTING</code> can be used to change roughness.
</p>


<h3>Value</h3>

<p>Returns NULL invisibly on success or raises a warning or error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen(inp, "Net1.rpt")
ENgetlinkvalue(8, "EN_LENGTH")
ENsetlinkvalue(8, "EN_LENGTH", 3333)
ENgetlinkvalue(8, "EN_DIAMETER")
ENclose()
</code></pre>

<hr>
<h2 id='ENsetnodeid'>Changes the ID name of a node</h2><span id='topic+ENsetnodeid'></span>

<h3>Description</h3>

<p>Changes the ID name of a node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetnodeid(nodeindex, newid)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetnodeid_+3A_nodeindex">nodeindex</code></td>
<td>
<p>index of the node</p>
</td></tr>
<tr><td><code id="ENsetnodeid_+3A_newid">newid</code></td>
<td>
<p>new ID name of the node</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetnodevalue'>Set the parameter value for a node.</h2><span id='topic+ENsetnodevalue'></span>

<h3>Description</h3>

<p><code>ENsetnodevalue</code> sets parameter value for one node.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetnodevalue(index, paramcode = NULL, value = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetnodevalue_+3A_index">index</code></td>
<td>
<p>An integer vector, the node index.</p>
</td></tr>
<tr><td><code id="ENsetnodevalue_+3A_paramcode">paramcode</code></td>
<td>
<p>An integer vector, the parameter code (see Details below).</p>
</td></tr>
<tr><td><code id="ENsetnodevalue_+3A_value">value</code></td>
<td>
<p>A numeric vector, the new value of the parameter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Nodes are indexed starting from 1 in the order in which they were entered into the
<code>[NODES]</code> section of the EPANET input file.
</p>
<p>Node parameter codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_ELEVATION</code>  </td><td style="text-align: right;"> 0  </td><td style="text-align: left;"> Elevation</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_BASEDEMAND</code> </td><td style="text-align: right;"> 1  </td><td style="text-align: left;"> Base demand</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATTERN</code>    </td><td style="text-align: right;"> 2  </td><td style="text-align: left;"> Demand pattern index</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_EMITTER</code>    </td><td style="text-align: right;"> 3  </td><td style="text-align: left;"> Emitter coeff.</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_INITQUAL</code>   </td><td style="text-align: right;"> 4  </td><td style="text-align: left;"> Initial quality</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCEQUAL</code> </td><td style="text-align: right;"> 5  </td><td style="text-align: left;"> Source quality</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCEPAT</code>  </td><td style="text-align: right;"> 6  </td><td style="text-align: left;"> Source pattern index</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_SOURCETYPE</code> </td><td style="text-align: right;"> 7  </td><td style="text-align: left;"> Source type (see note below)</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TANKLEVEL</code>  </td><td style="text-align: right;"> 8  </td><td style="text-align: left;"> Initial water level in tank</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>Source types are identified with the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
   <code>EN_CONCEN</code>    </td><td style="text-align: left;"> 0</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>EN_MASS</code>      </td><td style="text-align: left;"> 1</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>EN_SETPOINT</code>  </td><td style="text-align: left;"> 2</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>EN_FLOWPACED</code> </td><td style="text-align: left;"> 3
  </td>
</tr>

</table>

<p>See <code>[SOURCES]</code> for a description of these source types.
</p>
<p>Values are supplied in units which depend on the units used for flow rate in the EPANET
input file (see Units of Measurement).
</p>


<h3>Value</h3>

<p>returns NULL invisibly on success or raises an error or warning.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetnodevalue(3, "EN_ELEVATION")
ENsetnodevalue(3, "EN_ELEVATION", 777)
ENgetnodevalue(3, "EN_ELEVATION")
ENclose()
</code></pre>

<hr>
<h2 id='ENsetoption'>Set the value of a particular analysis option.</h2><span id='topic+ENsetoption'></span>

<h3>Description</h3>

<p><code>ENsetoption</code> sets the value of a particular analysis option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetoption(optioncode, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetoption_+3A_optioncode">optioncode</code></td>
<td>
<p>An integer or character vector specifying  the option</p>
</td></tr>
<tr><td><code id="ENsetoption_+3A_value">value</code></td>
<td>
<p>numeric</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Option codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
	 <code>EN_TRIALS</code>		</td><td style="text-align: right;">	0</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_ACCURACY</code>  	</td><td style="text-align: right;">	1</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_TOLERANCE</code>	</td><td style="text-align: right;">	2</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_EMITEXPON</code>	</td><td style="text-align: right;">	3</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_DEMANDMULT</code>	</td><td style="text-align: right;">	4	
	 </td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetoption("EN_TRIALS")
ENsetoption("EN_TRIALS", 22)
ENgetoption("EN_TRIALS")
ENclose()
</code></pre>

<hr>
<h2 id='ENsetpattern'>Set all of the multiplier factors for a specific time pattern.</h2><span id='topic+ENsetpattern'></span>

<h3>Description</h3>

<p><code>ENsetpattern</code> sets all of the multiplier factors for a specific time pattern.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpattern(index, factors)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpattern_+3A_index">index</code></td>
<td>
<p>An integer, the pattern index.</p>
</td></tr>
<tr><td><code id="ENsetpattern_+3A_factors">factors</code></td>
<td>
<p>A numeric vector, the multiplier factors for the entire pattern.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Pattern indexes are consecutive integers starting from 1.
</p>
<p>Use this function to redefine (and resize) a time pattern all at once; use 
<code>ENsetpatternvalue</code> to revise pattern factors in specific time periods of a pattern.
</p>


<h3>See Also</h3>

<p><code>ENgetpatternindex</code>, <code>ENgetpatternlen</code>, 
<code>ENgetpatternvalue</code>, <code>ENsetpatternvalue</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENsetpattern(1, 1:10)		
ENgetpatternvalue(1,1)
ENgetpatternvalue(1,10)
ENclose()
</code></pre>

<hr>
<h2 id='ENsetpatternid'>Change the ID name of a time pattern given its index.</h2><span id='topic+ENsetpatternid'></span>

<h3>Description</h3>

<p>Change the ID name of a time pattern given its index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpatternid(index, id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpatternid_+3A_index">index</code></td>
<td>
<p>a time pattern index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpatternid_+3A_id">id</code></td>
<td>
<p>the time pattern's new ID name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL invisibly
</p>

<hr>
<h2 id='ENsetpatternvalue'>set pattern value</h2><span id='topic+ENsetpatternvalue'></span>

<h3>Description</h3>

<p>set pattern value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpatternvalue(index, period, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpatternvalue_+3A_index">index</code></td>
<td>
<p>index of pattern</p>
</td></tr>
<tr><td><code id="ENsetpatternvalue_+3A_period">period</code></td>
<td>
<p>time period for setting the value</p>
</td></tr>
<tr><td><code id="ENsetpatternvalue_+3A_value">value</code></td>
<td>
<p>value to set</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns NULL inivisbly on success
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetpatternvalue(1,3)
ENsetpatternvalue(1,3, 9.876)
ENgetpatternvalue(1,3)
ENclose()
</code></pre>

<hr>
<h2 id='ENsetpremise'>Sets the properties of a premise in a rule-based control.</h2><span id='topic+ENsetpremise'></span>

<h3>Description</h3>

<p>Sets the properties of a premise in a rule-based control.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpremise(
  ruleIndex,
  premiseIndex,
  logop,
  object,
  objIndex,
  variable,
  relop,
  status,
  value
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpremise_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_premiseindex">premiseIndex</code></td>
<td>
<p>the position of the premise in the rule's list of premises.</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_logop">logop</code></td>
<td>
<p>the premise's logical operator ( IF = 1, AND = 2, OR = 3 ).</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_object">object</code></td>
<td>
<p>the type of object the premise refers to</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_objindex">objIndex</code></td>
<td>
<p>the index of the object (e.g. the index of a tank)</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_variable">variable</code></td>
<td>
<p>the object's variable being compared</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_relop">relop</code></td>
<td>
<p>the premise's comparison operator</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_status">status</code></td>
<td>
<p>the status that the object's status is compared to</p>
</td></tr>
<tr><td><code id="ENsetpremise_+3A_value">value</code></td>
<td>
<p>the value that the object's variable is compared to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENsetpremiseindex'>Sets the index of an object in a premise of a rule-based control</h2><span id='topic+ENsetpremiseindex'></span>

<h3>Description</h3>

<p>Sets the index of an object in a premise of a rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpremiseindex(ruleIndex, premiseIndex, objIndex)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpremiseindex_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremiseindex_+3A_premiseindex">premiseIndex</code></td>
<td>
<p>the premise's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremiseindex_+3A_objindex">objIndex</code></td>
<td>
<p>the index of the premise's object (e.g. the index of a tank).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENsetpremisestatus'>Sets the status being compared to in a premise of a rule-based control</h2><span id='topic+ENsetpremisestatus'></span>

<h3>Description</h3>

<p>Sets the status being compared to in a premise of a rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpremisestatus(ruleIndex, premiseIndex, status)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpremisestatus_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremisestatus_+3A_premiseindex">premiseIndex</code></td>
<td>
<p>the premise's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremisestatus_+3A_status">status</code></td>
<td>
<p>the status that the premise's object status is compared to (see @ref EN_RuleStatus).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENsetpremisevalue'>Sets the value in a premise of a rule-based control</h2><span id='topic+ENsetpremisevalue'></span>

<h3>Description</h3>

<p>Sets the value in a premise of a rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetpremisevalue(ruleIndex, premiseIndex, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetpremisevalue_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (staring from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremisevalue_+3A_premiseindex">premiseIndex</code></td>
<td>
<p>the premise's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetpremisevalue_+3A_value">value</code></td>
<td>
<p>The value that the premise's variable is compared to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENsetqualtype'>Set the type of water quality analysis called for.</h2><span id='topic+ENsetqualtype'></span>

<h3>Description</h3>

<p><code>ENsetqualtype</code> sets the type of water quality analysis called for.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetqualtype(qualcode, chemname = "", chemunits = "", tracenode = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetqualtype_+3A_qualcode">qualcode</code></td>
<td>
<p>An integer or a character string, the water quality analysis code (see below).</p>
</td></tr>
<tr><td><code id="ENsetqualtype_+3A_chemname">chemname</code></td>
<td>
<p>A character string, the name of the chemical being analyzed.</p>
</td></tr>
<tr><td><code id="ENsetqualtype_+3A_chemunits">chemunits</code></td>
<td>
<p>A character string, units that the chemical is measured in.</p>
</td></tr>
<tr><td><code id="ENsetqualtype_+3A_tracenode">tracenode</code></td>
<td>
<p>A character string, ID of node traced in a source tracing analysis.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Water quality analysis codes are as follows:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>EN_NONE</code>			</td><td style="text-align: right;"> 	0	</td><td style="text-align: left;"> No quality analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_CHEM</code>			</td><td style="text-align: right;">	1	</td><td style="text-align: left;"> Chemical analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_AGE</code>			</td><td style="text-align: right;">	2	</td><td style="text-align: left;"> Water age analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_TRACE</code>		</td><td style="text-align: right;">	3	</td><td style="text-align: left;"> Source tracing
  </td>
</tr>

</table>

<p>Chemical name and units can be an empty string if the analysis is not for a chemical.   
The same holds for the trace node if the analysis is not for source tracing. 
Note that the trace node is specified by ID and not by index.
</p>


<h3>Value</h3>

<p>returns NULL invisibly on success
</p>


<h3>See Also</h3>

<p><code>ENgetqualtype</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt")
ENgetqualtype()
ENsetqualtype("EN_CHEM", "Chlorine", "mg/L", "")
ENgetqualtype()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
</code></pre>

<hr>
<h2 id='ENsetreport'>Processes a reporting format command.</h2><span id='topic+ENsetreport'></span>

<h3>Description</h3>

<p>Processes a reporting format command.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetreport(format)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetreport_+3A_format">format</code></td>
<td>
<p>report formatting command:  one line from the [REPORT] section of an inp file</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetrulepriority'>Sets the priority of a rule-based control.</h2><span id='topic+ENsetrulepriority'></span>

<h3>Description</h3>

<p>Sets the priority of a rule-based control.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetrulepriority(index, priority)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetrulepriority_+3A_index">index</code></td>
<td>
<p>the rule's index (starting from 1).</p>
</td></tr>
<tr><td><code id="ENsetrulepriority_+3A_priority">priority</code></td>
<td>
<p>the priority value assigned to the rule.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENsetstatusreport'>Sets the level of hydraulic status reporting.</h2><span id='topic+ENsetstatusreport'></span>

<h3>Description</h3>

<p>Sets the level of hydraulic status reporting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetstatusreport(level)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetstatusreport_+3A_level">level</code></td>
<td>
<p>one of: EN_NO_REPORT, EN_NORMAL_REPORT, EN_FULL_REPORT</p>
</td></tr>
</table>

<hr>
<h2 id='ENsettankdata'>Sets properties for a tank</h2><span id='topic+ENsettankdata'></span>

<h3>Description</h3>

<p>Sets properties for a tank
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsettankdata(
  nodeindex,
  elevation,
  init_level,
  min_level,
  max_level,
  diameter,
  min_volume,
  volume_curve = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsettankdata_+3A_nodeindex">nodeindex</code></td>
<td>
<p>tank's node index (starting from 1)</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_elevation">elevation</code></td>
<td>
<p>the tank's bottom elevation.</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_init_level">init_level</code></td>
<td>
<p>the initial water level in the tank.</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_min_level">min_level</code></td>
<td>
<p>the minimum water level for the tank.</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_max_level">max_level</code></td>
<td>
<p>the maximum water level for the tank.</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_diameter">diameter</code></td>
<td>
<p>the tank's diameter (0 if a volume curve is supplied).</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_min_volume">min_volume</code></td>
<td>
<p>the volume of the tank at its minimum water level.</p>
</td></tr>
<tr><td><code id="ENsettankdata_+3A_volume_curve">volume_curve</code></td>
<td>
<p>the name of the tank's volume curve (&quot;&quot; for no curve)</p>
</td></tr>
</table>

<hr>
<h2 id='ENsetthenaction'>Set properties of THEN action in a rule-based control</h2><span id='topic+ENsetthenaction'></span>

<h3>Description</h3>

<p>Set properties of THEN action in a rule-based control
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetthenaction(ruleIndex, actionIndex, linkIndex, status, setting)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetthenaction_+3A_ruleindex">ruleIndex</code></td>
<td>
<p>the rule's index (starting from 1)</p>
</td></tr>
<tr><td><code id="ENsetthenaction_+3A_actionindex">actionIndex</code></td>
<td>
<p>the index of the THEN action to modify (starting from 1)</p>
</td></tr>
<tr><td><code id="ENsetthenaction_+3A_linkindex">linkIndex</code></td>
<td>
<p>the index of the link in the action</p>
</td></tr>
<tr><td><code id="ENsetthenaction_+3A_status">status</code></td>
<td>
<p>the new status assigned to the link</p>
</td></tr>
<tr><td><code id="ENsetthenaction_+3A_setting">setting</code></td>
<td>
<p>the new value assigned to the link's setting</p>
</td></tr>
</table>


<h3>Value</h3>

<p>null
</p>

<hr>
<h2 id='ENsettimeparam'>Set the value of a time parameter.</h2><span id='topic+ENsettimeparam'></span>

<h3>Description</h3>

<p><code>ENsettimeparam</code> sets the value of a time parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsettimeparam(paramcode, timevalue)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsettimeparam_+3A_paramcode">paramcode</code></td>
<td>
<p>An integer or character</p>
</td></tr>
<tr><td><code id="ENsettimeparam_+3A_timevalue">timevalue</code></td>
<td>
<p>An integer or character value of the time parameters in seconds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Time parameter codes consist of the following constants:
</p>

<table>
<tr>
 <td style="text-align: left;">
	 <code>EN_DURATION</code>		</td><td style="text-align: right;">	0	</td><td style="text-align: left;">	Simulation duration</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_HYDSTEP</code>  	</td><td style="text-align: right;">	1	</td><td style="text-align: left;">	Hydraulic time step</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_QUALSTEP</code>		</td><td style="text-align: right;">	2	</td><td style="text-align: left;">	Water quality time step</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATTERNSTEP</code>	</td><td style="text-align: right;">	3	</td><td style="text-align: left;">	Time pattern time step</td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>EN_PATTERNSTART</code>	</td><td style="text-align: right;">	4	</td><td style="text-align: left;">	Time pattern start time</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_REPORTSTEP</code>	</td><td style="text-align: right;">	5	</td><td style="text-align: left;">	Reporting time step</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_REPORTSTART</code>	</td><td style="text-align: right;">	6	</td><td style="text-align: left;">	Reporting starting time</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_RULESTEP</code>		</td><td style="text-align: right;">	7	</td><td style="text-align: left;">	Time step for evaluating rule-based controls</td>
</tr>
<tr>
 <td style="text-align: left;">
	 <code>EN_STATISTIC</code>	</td><td style="text-align: right;">	8	</td><td style="text-align: left;">	Type of time series post-processing to use:</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">		</td><td style="text-align: left;">	<code>EN_NONE</code> (0) = none</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">		</td><td style="text-align: left;">	<code>EN_AVERAGE</code> (1) = averaged</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">		</td><td style="text-align: left;">	<code>EN_MINIMUM</code> (2) = minimums</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">		</td><td style="text-align: left;">	<code>EN_MAXIMUM</code> (3) = maximums</td>
</tr>
<tr>
 <td style="text-align: left;">
							</td><td style="text-align: right;">		</td><td style="text-align: left;">	<code>EN_RANGE</code> (4) = ranges
  </td>
</tr>

</table>

<p>Do not change time parameters after calling ENinitH in a hydraulic analysis or 
<code>ENinitQ</code> in a water quality analysis
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package 
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp") 
ENopen(inp, "Net1.rpt")
ENgettimeparam("EN_HYDSTEP")
ENsettimeparam("EN_HYDSTEP", 600)
ENgettimeparam("EN_HYDSTEP")
ENclose()
</code></pre>

<hr>
<h2 id='ENsetvertices'>Set a link's vertices</h2><span id='topic+ENsetvertices'></span>

<h3>Description</h3>

<p>Set a link's vertices
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsetvertices(index, x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENsetvertices_+3A_index">index</code></td>
<td>
<p>a link's index</p>
</td></tr>
<tr><td><code id="ENsetvertices_+3A_x">x</code></td>
<td>
<p>numeric vector of x-coordinates</p>
</td></tr>
<tr><td><code id="ENsetvertices_+3A_y">y</code></td>
<td>
<p>numeric vector of y-coordinates</p>
</td></tr>
</table>

<hr>
<h2 id='ENsolveH'>ENsolveH</h2><span id='topic+ENsolveH'></span>

<h3>Description</h3>

<p>Solves the network hydraulics for all time periods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsolveH()
</code></pre>


<h3>Value</h3>

<p>Returns NULL invisibly; called for side effect
</p>


<h3>Examples</h3>

<pre><code class='language-R'># path to Net1.inp example file included with this package
inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt","Net1.bin")
ENsolveH()
ENsolveQ()
ENgetnodevalue(2, "EN_PRESSURE")
ENclose() 
# clean-up the created files
file.remove("Net1.rpt") 
file.remove("Net1.bin") 
</code></pre>

<hr>
<h2 id='ENsolveQ'>Solve network water quality for all time periods</h2><span id='topic+ENsolveQ'></span>

<h3>Description</h3>

<p>Solve network water quality for all time periods
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENsolveQ()
</code></pre>


<h3>Value</h3>

<p>Returns NULL invisibly on success or throws an error or warning
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inp &lt;- file.path( find.package("epanet2toolkit"), "extdata","Net1.inp")  
ENopen( inp, "Net1.rpt","Net1.bin")
ENsolveH()
ENsetqualtype("EN_CHEM", "Chlorine", "mg/L", "")
ENsolveQ()
ENclose()
# clean-up the created files
file.remove("Net1.rpt") 
file.remove("Net1.bin") 
</code></pre>

<hr>
<h2 id='ENstepQ'>Advances WQ simulation one water quality time step.</h2><span id='topic+ENstepQ'></span>

<h3>Description</h3>

<p>Advances WQ simulation one water quality time step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENstepQ()
</code></pre>


<h3>Value</h3>

<p>time remaining in the overall simulation
</p>

<hr>
<h2 id='ENusehydfile'>Uses previously saved binary hydraulics file to supply a project's hydraulics.</h2><span id='topic+ENusehydfile'></span>

<h3>Description</h3>

<p>Uses previously saved binary hydraulics file to supply a project's hydraulics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ENusehydfile(hydfile)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ENusehydfile_+3A_hydfile">hydfile</code></td>
<td>
<p>name of file containing hydraulic results</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Call this function to re-use a set of hydraulic analysis results saved previously. This
can save computational time if water quality analyses are being made under the same set
of hydraulic conditions.
</p>
<p>Do not call this function while the hydraulics solver is open.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

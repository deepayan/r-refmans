<!DOCTYPE html><html><head><title>Help for package GISSB</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {GISSB}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#address_to_coords'><p>Convert addresses to coordinates</p></a></li>
<li><a href='#coords_to_google'><p>Convert coordinates to Google Maps</p></a></li>
<li><a href='#coords_to_node'><p>Connect coordinates to the nearest nodes in the road network</p></a></li>
<li><a href='#edges_sampledata'><p>Sample data (edges)</p></a></li>
<li><a href='#graph_cppRouting_meters_sampledata'><p>Sample data (graph_cppRouting_meters)</p></a></li>
<li><a href='#graph_cppRouting_minutes_sampledata'><p>Sample data (graph_cppRouting_minutes)</p></a></li>
<li><a href='#graph_sampledata'><p>Sample data (graph)</p></a></li>
<li><a href='#nodes_sampledata'><p>Sample data (nodes)</p></a></li>
<li><a href='#path_leaflet'><p>Visualize the shortest path with Leaflet</p></a></li>
<li><a href='#shortest_path_cppRouting'><p>Shortest path (cppRouting)</p></a></li>
<li><a href='#shortest_path_igraph'><p>Shortest path (igraph)</p></a></li>
<li><a href='#vegnett_sampledata'><p>Sample data (vegnett)</p></a></li>
<li><a href='#vegnett_to_R'><p>Convert the Norwegian road network (NVDB Ruteplan nettverksdatasett) into network graphs in R</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Network Analysis on the Norwegian Road Network</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of GIS (Geographic Information System) functions in R, created for use in Statistics Norway. The functions are primarily related to network analysis on the Norwegian road network. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Imports:</td>
<td>cppRouting, dplyr, here, httr, igraph, leaflet, magrittr,
nabor, purrr, RCurl, reshape2, rlang, sf, stringr, tibble,
tidygraph, tidyselect</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://statisticsnorway.github.io/GISSB/">https://statisticsnorway.github.io/GISSB/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-01-09 13:58:32 UTC; rdn</td>
</tr>
<tr>
<td>Author:</td>
<td>Sindre Mikael Haugen [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sindre Mikael Haugen &lt;sindre.haugen@ssb.no&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-01-10 18:33:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='address_to_coords'>Convert addresses to coordinates</h2><span id='topic+address_to_coords'></span>

<h3>Description</h3>

<p>The function <code>address_to_coords</code> can be used to find coordinates to supplied Norwegian addresses. Internet access is required as the function utilizes <a href="https://ws.geonorge.no/adresser/v1/">the Norwegian Mapping Authority’s address API</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>address_to_coords(zip_code, address, format = "sf", crs_out = 25833)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="address_to_coords_+3A_zip_code">zip_code</code></td>
<td>
<p>Character vector with zip codes.</p>
</td></tr>
<tr><td><code id="address_to_coords_+3A_address">address</code></td>
<td>
<p>Character vector with addresses (street name and house number).</p>
</td></tr>
<tr><td><code id="address_to_coords_+3A_format">format</code></td>
<td>
<p>Format of the returned object. Default value is set to “sf” (which returns an <code>sf</code> object). It is also possible set the format to “tibble” or “data.frame”.</p>
</td></tr>
<tr><td><code id="address_to_coords_+3A_crs_out">crs_out</code></td>
<td>
<p>Numeric vector with the chosen coordinate reference system (CRS). Default value is set to <code style="white-space: pre;">&#8288;CRS 25833&#8288;</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If there are no coordinates found for the supplied address it means that it does not exist in <a href="https://www.kartverket.no/eiendom/eiendomsgrenser/matrikkelen-norgeseiendomsregister">Matrikkelen</a> - Norway's official property register. See <a href="https://www.rettikartet.no/app/veger">www.rettikartet.no</a> to search for existing addresses.
</p>


<h3>Value</h3>

<p>Object with coordinates to the supplied addresses.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>address_to_coords(zip_code = "0185", address = "Schweigaards gate 10")

</code></pre>

<hr>
<h2 id='coords_to_google'>Convert coordinates to Google Maps</h2><span id='topic+coords_to_google'></span>

<h3>Description</h3>

<p>The function <code>coords_to_google</code> can be used to convert coordinates of an <code>sf</code> object to a format that is easy to copy and paste into Google Maps.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coords_to_google(coords, crs_out = 25833)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coords_to_google_+3A_coords">coords</code></td>
<td>
<p>An <code>sf</code> object with a geometry column that will be converted to <code style="white-space: pre;">&#8288;CRS 4326&#8288;</code>.</p>
</td></tr>
<tr><td><code id="coords_to_google_+3A_crs_out">crs_out</code></td>
<td>
<p>Chosen coordinate reference system (CRS) for the geometry column of the returned <code>sf</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> object with a new column added (<code>coords_google</code>), and an addtional <code>sf</code> geometry column with the chosen CRS.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>address_to_coords(zip_code = "0185", address = "Schweigaards gate 10") %&gt;%
  coords_to_google()

</code></pre>

<hr>
<h2 id='coords_to_node'>Connect coordinates to the nearest nodes in the road network</h2><span id='topic+coords_to_node'></span>

<h3>Description</h3>

<p>The function <code>coords_to_node</code> can be used to find the nearest nodes in the Norwegian road network (in meters) for chosen coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coords_to_node(
  coords,
  nodes_object = nodes,
  edges_object = edges,
  direction = "from",
  ID_col = "ID",
  crs_out = 25833,
  knn = 1,
  membership = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coords_to_node_+3A_coords">coords</code></td>
<td>
<p>An <code>sf</code> object with the coordinates that should be connected to the road network.</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_nodes_object">nodes_object</code></td>
<td>
<p>An <code>sf</code> object with the nodes of the road network. This can be created with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_edges_object">edges_object</code></td>
<td>
<p>A data frame with the edges of the road network. This can be created with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_direction">direction</code></td>
<td>
<p>Character vector with <code>from</code> if the points should be from nodes or <code>to</code> if the points should be to nodes.</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_id_col">ID_col</code></td>
<td>
<p>Character vector with the name of the ID column. Default value is set to “ID”.</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_crs_out">crs_out</code></td>
<td>
<p>Numeric vector for the chosen coordinate reference system (CRS).</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_knn">knn</code></td>
<td>
<p>Numeric vector with the chosen number of nodes that should be returned for each of the coordinates. If <code>knn = 1</code> only the nearest nodes to the chosen coordinates will be returned. If <code>knn = 2</code> the two nearest nodes will be returned etc.</p>
</td></tr>
<tr><td><code id="coords_to_node_+3A_membership">membership</code></td>
<td>
<p>Logical. If <code>TRUE</code> the search for nodes is limited to nodes that belong to a road network that is connected either to the from or to nodes (only possible for either from or to). E.g. if you only want to search for from nodes that belong to the same road network as the to nodes, membership is set to <code>FALSE</code> in the search for to nodes and <code>membership = TRUE</code> for the from nodes (in that order).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Before the function can be used, the nodes of the road network must be converted to an <code>sf</code> object that is called <code>nodes</code> (or another name supplied to the <code>nodes_object</code> argument). This can be done with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.
</p>


<h3>Value</h3>

<p>An object (<code>data.frame</code>) with the following columns; <code>from_nodeID</code>/<code>to_nodeID</code>, <code>membership_from_node</code>/<code>membership_to_node</code>, <code>coords_google_from_node</code>/<code>coords_google_to_node</code>, <code>knn_from_node</code>/<code>knn_to_node</code>, and <code>ID</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>coords &lt;- address_to_coords(zip_code = "0185", address = "Schweigaards gate 10")
coords_to_node(coords = coords,
               direction = "from",
               nodes_object = nodes_sampledata,
               edges_object = edges_sampledata)

</code></pre>

<hr>
<h2 id='edges_sampledata'>Sample data (edges)</h2><span id='topic+edges_sampledata'></span>

<h3>Description</h3>

<p>Sample of the Norwegian Road Network (<code>vegnettRuteplan_FGDB_20210528.gdb</code>) downloaded from Geonorge. Only the first 1000 rows from Oslo county are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(edges_sampledata)
</code></pre>


<h3>Format</h3>

<p>A data frame
</p>


<h3>Source</h3>

<p><a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/">National roads database - road network for routing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(edges_sampledata)
class(edges_sampledata)
head(edges_sampledata)
</code></pre>

<hr>
<h2 id='graph_cppRouting_meters_sampledata'>Sample data (graph_cppRouting_meters)</h2><span id='topic+graph_cppRouting_meters_sampledata'></span>

<h3>Description</h3>

<p>Sample of the Norwegian Road Network (<code>vegnettRuteplan_FGDB_20210528.gdb</code>) downloaded from Geonorge. Only the first 1000 rows from Oslo county are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(graph_cppRouting_meters_sampledata)
</code></pre>


<h3>Format</h3>

<p>A <code>cppRouting</code> object
</p>


<h3>Source</h3>

<p><a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/">National roads database - road network for routing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(graph_cppRouting_meters_sampledata)
class(graph_cppRouting_meters_sampledata)
</code></pre>

<hr>
<h2 id='graph_cppRouting_minutes_sampledata'>Sample data (graph_cppRouting_minutes)</h2><span id='topic+graph_cppRouting_minutes_sampledata'></span>

<h3>Description</h3>

<p>Sample of the Norwegian Road Network (<code>vegnettRuteplan_FGDB_20210528.gdb</code>) downloaded from Geonorge. Only the first 1000 rows from Oslo county are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(graph_cppRouting_minutes_sampledata)
</code></pre>


<h3>Format</h3>

<p>A <code>cppRouting</code> object
</p>


<h3>Source</h3>

<p><a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/">National roads database - road network for routing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(graph_cppRouting_minutes_sampledata)
class(graph_cppRouting_minutes_sampledata)
</code></pre>

<hr>
<h2 id='graph_sampledata'>Sample data (graph)</h2><span id='topic+graph_sampledata'></span>

<h3>Description</h3>

<p>Sample of the Norwegian Road Network (<code>vegnettRuteplan_FGDB_20210528.gdb</code>) downloaded from Geonorge. Only the first 1000 rows from Oslo county are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(graph_sampledata)
</code></pre>


<h3>Format</h3>

<p>An <code>igraph</code> object.
</p>


<h3>Source</h3>

<p><a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/">National roads database - road network for routing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(graph_sampledata)
class(graph_sampledata)
</code></pre>

<hr>
<h2 id='nodes_sampledata'>Sample data (nodes)</h2><span id='topic+nodes_sampledata'></span>

<h3>Description</h3>

<p>Sample of the Norwegian Road Network (<code>vegnettRuteplan_FGDB_20210528.gdb</code>) downloaded from Geonorge. Only the first 1000 rows from Oslo county are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(nodes_sampledata)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>sf</code>.
</p>


<h3>Source</h3>

<p><a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/">National roads database - road network for routing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(nodes_sampledata)
class(nodes_sampledata)
head(nodes_sampledata)
</code></pre>

<hr>
<h2 id='path_leaflet'>Visualize the shortest path with Leaflet</h2><span id='topic+path_leaflet'></span>

<h3>Description</h3>

<p>The function <code>path_leaflet</code> visualizes the shortest path (in minutes or meters) that has been calculated with the function <code><a href="#topic+shortest_path_igraph">shortest_path_igraph()</a></code> (where <code>path = TRUE</code>).
Internet connection is required to load the background tiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>path_leaflet(path, graph_object = graph)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="path_leaflet_+3A_path">path</code></td>
<td>
<p>Object (<code>list</code>) that has been created with the function <code><a href="#topic+shortest_path_igraph">shortest_path_igraph()</a></code>, where <code>path = TRUE</code>.</p>
</td></tr>
<tr><td><code id="path_leaflet_+3A_graph_object">graph_object</code></td>
<td>
<p>The road network structured as a tidy graph (<code>tbl_graph</code> object). This can be done with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Interactive Leaflet map that shows the shortest path (in minutes or meters) between a chosen from and to node in the road network.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
shortest_path_igraph(from_node_ID = 25,
                             to_node_ID = 33,
                             unit = "minutes",
                             path = TRUE,
                             graph_object = graph_sampledata) %&gt;%
                             path_leaflet(graph_object = graph_sampledata)

</code></pre>

<hr>
<h2 id='shortest_path_cppRouting'>Shortest path (cppRouting)</h2><span id='topic+shortest_path_cppRouting'></span>

<h3>Description</h3>

<p>The function <code>shortest_path_cppRouting</code> can be used to calculate the shortest path (either in minutes or meters) between two or more nodes in the Norwegian road network. The function also works with vectors with multiple from and to node ID’s.
Before the function can be used, the road network must be converted to a <code>cppRouting</code> object that is called <code>graph_cppRouting_minutes</code> or <code>graph_cppRouting_meters</code> (or other with other names supplied to the <code>graph_cppRouting_object</code> argument). This can be done with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shortest_path_cppRouting(
  from_node_ID,
  to_node_ID,
  unit = "minutes",
  dist = "all",
  graph_cppRouting_object = graph_cppRouting_minutes
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shortest_path_cppRouting_+3A_from_node_id">from_node_ID</code></td>
<td>
<p>Numeric vector with one or more from node ID’s.</p>
</td></tr>
<tr><td><code id="shortest_path_cppRouting_+3A_to_node_id">to_node_ID</code></td>
<td>
<p>Numeric vector with one or more to node ID’s.</p>
</td></tr>
<tr><td><code id="shortest_path_cppRouting_+3A_unit">unit</code></td>
<td>
<p>Character vector with <code>minutes</code> to calculate the shortest path in minutes or <code>meters</code> for the shortest path in meters.</p>
</td></tr>
<tr><td><code id="shortest_path_cppRouting_+3A_dist">dist</code></td>
<td>
<p>Character vector that specifies if all the shortest paths between all the supplied from and to nodes are returned (<code>all</code>), or if only the minimum (<code>min</code>) or maximum (<code>max</code>) value for each from node ID is returned.</p>
</td></tr>
<tr><td><code id="shortest_path_cppRouting_+3A_graph_cpprouting_object">graph_cppRouting_object</code></td>
<td>
<p>The road network structured as a <code>cppRouting</code> graph object. This can be created with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object (<code>data.frame</code>) with how many minutes or meters the shortest path is between the supplied from and to node ID’s.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>shortest_path_cppRouting(from = 25,
                         to = 33,
                         unit = "minutes",
                         graph_cppRouting_object = graph_cppRouting_minutes_sampledata)

shortest_path_cppRouting(from = 25,
                         to = 33,
                         unit = "meters",
                         graph_cppRouting_object = graph_cppRouting_meters_sampledata)

shortest_path_cppRouting(from = 25,
                         to = c(32, 33),
                         unit = "minutes",
                         dist = "min",
                         graph_cppRouting_object = graph_cppRouting_minutes_sampledata)

</code></pre>

<hr>
<h2 id='shortest_path_igraph'>Shortest path (igraph)</h2><span id='topic+shortest_path_igraph'></span>

<h3>Description</h3>

<p>The function <code>shortest_path_igraph</code> can be used to calculate the shortest path (either in minutes or meters) between nodes in the Norwegian road network. The function can also return the node link, i.e. path, that the shortest path consists of.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shortest_path_igraph(
  from_node_ID,
  to_node_ID,
  graph_object = graph,
  unit = "minutes",
  path = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="shortest_path_igraph_+3A_from_node_id">from_node_ID</code></td>
<td>
<p>Numeric value with the from node ID (if multiple node ID’s are to be used, see the function <code><a href="#topic+shortest_path_cppRouting">shortest_path_cppRouting()</a></code>).</p>
</td></tr>
<tr><td><code id="shortest_path_igraph_+3A_to_node_id">to_node_ID</code></td>
<td>
<p>Numeric value with the to node ID (if multiple node ID’s are to be used, see the function <code><a href="#topic+shortest_path_cppRouting">shortest_path_cppRouting()</a></code>).</p>
</td></tr>
<tr><td><code id="shortest_path_igraph_+3A_graph_object">graph_object</code></td>
<td>
<p>The road network structured as a tidy graph (<code>tbl_graph</code> object). This can be created with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>.</p>
</td></tr>
<tr><td><code id="shortest_path_igraph_+3A_unit">unit</code></td>
<td>
<p>Character vector with <code>minutes</code> to calculate the shortest path in minutes or <code>meters</code> for the shortest path in meters.</p>
</td></tr>
<tr><td><code id="shortest_path_igraph_+3A_path">path</code></td>
<td>
<p>Logical. If <code>TRUE</code> the node link with the shortest path is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Before the function can be used, the road network must be converted to a <code>tbl_graph</code> object. This can be done with the function <code><a href="#topic+vegnett_to_R">vegnett_to_R()</a></code>). There objects <code>graph</code> and <code>edges</code> needs to be loaded.
</p>


<h3>Value</h3>

<p>Vector with the shortest path in minutes or meters. If <code>path = TRUE</code> the node link that the shortest path consists of is returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>shortest_path_igraph(from_node_ID = 25,
                     to_node_ID = 33,
                     unit = "minutes",
                     graph_object = graph_sampledata)

shortest_path_igraph(from_node_ID = 25,
                     to_node_ID = 33,
                     unit = "meters",
                     graph_object = graph_sampledata)

shortest_path_igraph(from_node_ID = 25,
                     to_node_ID = 33,
                     unit = "minutes",
                     path = TRUE,
                     graph_object = graph_sampledata)

</code></pre>

<hr>
<h2 id='vegnett_sampledata'>Sample data (vegnett)</h2><span id='topic+vegnett_sampledata'></span>

<h3>Description</h3>

<p>Sample of the Norwegian Road Network (<code>vegnettRuteplan_FGDB_20210528.gdb</code>) downloaded from Geonorge. Only the first 1000 rows from Oslo county are included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(vegnett_sampledata)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>sf</code>.
</p>


<h3>Source</h3>

<p><a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313/">National roads database - road network for routing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(vegnett_sampledata)
class(vegnett_sampledata)
head(vegnett_sampledata)
</code></pre>

<hr>
<h2 id='vegnett_to_R'>Convert the Norwegian road network (NVDB Ruteplan nettverksdatasett) into network graphs in R</h2><span id='topic+vegnett_to_R'></span>

<h3>Description</h3>

<p>The function <code>vegnett_to_R</code> can be used to convert the Norwegian road network, downloaded from <a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313">Geonorge</a>, to formats that enable network analysis in R (<code>tbl_graph</code> and <code>cppRouting</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vegnett_to_R(
  vegnett,
  crs_out = 25833,
  year = 2022,
  fromnodeID = "FROMNODE",
  tonodeID = "TONODE",
  FT_minutes = "DRIVETIME_FW",
  TF_minutes = "DRIVETIME_BW",
  meters = "SHAPE_LENGTH",
  turn_restrictions = FALSE,
  ferry = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vegnett_to_R_+3A_vegnett">vegnett</code></td>
<td>
<p>The Norwegian road network as an <code>sf</code> object, downloaded from <a href="https://kartkatalog.geonorge.no/metadata/nvdb-ruteplan-nettverksdatasett/8d0f9066-34f9-4423-be12-8e8523089313">Geonorge</a>.</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_crs_out">crs_out</code></td>
<td>
<p>Numeric vector with the chosen coordinate reference system (CRS). The default value is set to <code style="white-space: pre;">&#8288;CRS 25833&#8288;</code>.</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_year">year</code></td>
<td>
<p>Numeric vector with the year the road network is from. Due to changes in the format of the files between 2021 and 2022, the most important thing is to choose between the &quot;old&quot; format (-2021) or the new format (2022-). The default value is set to 2022. Please see the example for the column names for 2021 and earlier.</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_fromnodeid">fromnodeID</code></td>
<td>
<p>Character vector with the name of the column indicating the from node ID. Default value is set to <code>FROMNODE</code> (column name in 2022).</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_tonodeid">tonodeID</code></td>
<td>
<p>Character vector with the name of the column indicating the to node ID. Default value is set to <code>TONODE</code> (column name in 2022).</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_ft_minutes">FT_minutes</code></td>
<td>
<p>Character vector with the name of the column that contains the cost in minutes from <code>fromnodeID</code> to <code>tonodeID</code> (FT). Default value is set to <code>DRIVETIME_FW</code> (column name in 2022).</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_tf_minutes">TF_minutes</code></td>
<td>
<p>Character vector with the name of the column that contains the cost in minutes from <code>tonodeID</code> to <code>fromnodeID</code> (TF). Default value is set to <code>DRIVETIME_BW</code> (column name in 2022).</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_meters">meters</code></td>
<td>
<p>Character vector with the name of the column that contains the cost in meters (equal for FT and TF). Default value is set to <code>SHAPE_LENGTH</code> (column name in 2022).</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_turn_restrictions">turn_restrictions</code></td>
<td>
<p>Logical. Default value is <code>FALSE</code>. If <code>TRUE</code> turn restrictions will be added to the road network. The turn restrictions layer from the road network file has to be loaded before this can be used (and the object has to be called <code>turnrestrictions_geom</code>). Due to errors in the turn restrictions file for 2022 it is not recommended to use this feature for now.</p>
</td></tr>
<tr><td><code id="vegnett_to_R_+3A_ferry">ferry</code></td>
<td>
<p>Logical/numeric vector. Default value is <code>TRUE</code> which means that all edges that involve ferries are given their original drive time (somewhere between 10 and 13 km/h). If a numeric value is supplied, the cost for all edges involving ferries will be converted to the supplied value in km/h.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing the following elements:
</p>
<p><code style="white-space: pre;">&#8288;[1] graph&#8288;</code>: the road network structured as a tidy graph (<code>tbl_graph</code> object).
</p>
<p><code style="white-space: pre;">&#8288;[2] nodes&#8288;</code>: the road network's nodes (<code>sf</code> object).
</p>
<p><code style="white-space: pre;">&#8288;[3] edges&#8288;</code>: road network's edges/node links (<code>data.frame</code>).
</p>
<p><code style="white-space: pre;">&#8288;[4] graph_cppRouting_minutes&#8288;</code>: the road network structured as a <code>cppRouting</code> graph with the cost of travel in minutes (<code>cppRouting</code> object).
</p>
<p><code style="white-space: pre;">&#8288;[5] graph_cppRouting_meters&#8288;</code>: the road network structured as a <code>cppRouting</code> graph with the cost of travel in meters (<code>cppRouting</code> object).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vegnett_sampledata
vegnett_list &lt;- vegnett_to_R(vegnett = vegnett_sampledata,
                             year = 2021,
                             fromnodeID = "FROMNODEID",
                             tonodeID = "TONODEID",
                             FT_minutes = "FT_MINUTES",
                             TF_minutes = "TF_MINUTES",
                             meters = "SHAPE_LENGTH")

graph &lt;- vegnett_list[[1]]
nodes &lt;- vegnett_list[[2]]
edges &lt;- vegnett_list[[3]]
graph_cppRouting_minutes &lt;- vegnett_list[[4]]
graph_cppRouting_meters &lt;- vegnett_list[[5]]

graph
nodes
head(edges)
head(graph_cppRouting_minutes$data)
head(graph_cppRouting_minutes$coords)
head(graph_cppRouting_minutes$dict)
graph_cppRouting_minutes$nbnode

head(graph_cppRouting_meters$data)
head(graph_cppRouting_meters$coords)
head(graph_cppRouting_meters$dict)
graph_cppRouting_meters$nbnode

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

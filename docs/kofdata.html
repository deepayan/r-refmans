<!DOCTYPE html><html><head><title>Help for package kofdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {kofdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cantons'><p>Vector of Swiss cantons</p></a></li>
<li><a href='#download_cached_file'><p>get_dataset</p></a></li>
<li><a href='#get_collection'><p>Download Pre-Defined collection</p></a></li>
<li><a href='#get_dataset'><p>Download Pre-Defined Dataset</p></a></li>
<li><a href='#get_legacy_key'><p>Get a Former Time Series Identifier from KOF Database</p></a></li>
<li><a href='#get_metadata'><p>Get Localized Meta Information</p></a></li>
<li><a href='#get_remaining_quota'><p>Check Remaining Quota</p></a></li>
<li><a href='#get_time_series'><p>Get Time Series form KOF Datenservice API</p></a></li>
<li><a href='#list_available_collections'><p>List Available collection Names and Their Description</p></a></li>
<li><a href='#list_available_sets'><p>List Available Set Names and Their Description</p></a></li>
<li><a href='#list_cached_files'><p>Show Cached Files of Specific User</p></a></li>
<li><a href='#list_keys_in_collection'><p>List All Keys in a Collection</p></a></li>
<li><a href='#list_keys_in_set'><p>List All Keys in a Set</p></a></li>
<li><a href='#list_public_keys'><p>List Keys for All Publicly Available Time Series</p></a></li>
<li><a href='#param_defs'><p>Common parameters</p></a></li>
<li><a href='#translate_legacy_keys'><p>translate_legacy_keys</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Title:</td>
<td>Get Data from the 'KOF Datenservice' API</td>
</tr>
<tr>
<td>Description:</td>
<td>Read Swiss time series data from the 'KOF Data' API, <a href="https://datenservice.kof.ethz.ch">https://datenservice.kof.ethz.ch</a>. The API provides macro economic time series data mostly about Switzerland. The package itself is a set of wrappers around the 'KOF Datenservice' API. The 'kofdata' package is able to consume public information as well as data that requires an API token. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), jsonlite (&ge; 1.1), httr</td>
</tr>
<tr>
<td>Imports:</td>
<td>xts, zoo,</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tstools, rmarkdown, testthat</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/KOF-ch/kofdata">https://github.com/KOF-ch/kofdata</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/KOF-ch/kofdata/issues">https://github.com/KOF-ch/kofdata/issues</a></td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-05</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-02 21:09:48 UTC; mbannert</td>
</tr>
<tr>
<td>Author:</td>
<td>Matthias Bannert [aut, cre],
  Oliver MÃ¼ller [aut],
  Severin Thoeni [aut],
  Diana Diaz [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matthias Bannert &lt;bannert@kof.ethz.ch&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-03 13:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cantons'>Vector of Swiss cantons</h2><span id='topic+cantons'></span>

<h3>Description</h3>

<p>Vector of Swiss cantons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cantons(full = F)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cantons_+3A_full">full</code></td>
<td>
<p>logical full names or two letter classification. defaults to FALSE.</p>
</td></tr>
</table>

<hr>
<h2 id='download_cached_file'>get_dataset</h2><span id='topic+download_cached_file'></span>

<h3>Description</h3>

<p>Download a predefined set of time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>download_cached_file(username, api_key, file_to_download, target = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="download_cached_file_+3A_username">username</code></td>
<td>
<p>Your dataservice user name</p>
</td></tr>
<tr><td><code id="download_cached_file_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
<tr><td><code id="download_cached_file_+3A_file_to_download">file_to_download</code></td>
<td>
<p>The name of the file to retrieve.</p>
</td></tr>
<tr><td><code id="download_cached_file_+3A_target">target</code></td>
<td>
<p>Path to the location, at which to store the file. If NULL, the file will be
saved to the working directory.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;-  download_cached_file("kofdatapkg", "313984fcd9f343d3961891319b0ed321",
"empty.txt",file.path(tempdir(),"empty.txt"))
</code></pre>

<hr>
<h2 id='get_collection'>Download Pre-Defined collection</h2><span id='topic+get_collection'></span>

<h3>Description</h3>

<p>Download a predefined collection of time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_collection(collection_name, api_key = NULL, show_progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_collection_+3A_collection_name">collection_name</code></td>
<td>
<p>The name of the collection you wish to download. For a list of available collections, go to [&quot;list_available_collections&quot;]</p>
</td></tr>
<tr><td><code id="get_collection_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
<tr><td><code id="get_collection_+3A_show_progress">show_progress</code></td>
<td>
<p>If collection to true, shows a progress bar of the data being downloaded.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>get_collection("ds_kmi_mixed_freq",show_progress = TRUE)
</code></pre>

<hr>
<h2 id='get_dataset'>Download Pre-Defined Dataset</h2><span id='topic+get_dataset'></span>

<h3>Description</h3>

<p>This function is deprecated. Use <code><a href="#topic+get_collection">get_collection</a></code> instead.
Download a predefined set of time series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dataset(set_name, api_key = NULL, show_progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dataset_+3A_set_name">set_name</code></td>
<td>
<p>The name of the set you wish to download. For a list of available sets, go to [&quot;list_available_sets&quot;]</p>
</td></tr>
<tr><td><code id="get_dataset_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
<tr><td><code id="get_dataset_+3A_show_progress">show_progress</code></td>
<td>
<p>If set to true, shows a progress bar of the data being downloaded.</p>
</td></tr>
</table>

<hr>
<h2 id='get_legacy_key'>Get a Former Time Series Identifier from KOF Database</h2><span id='topic+get_legacy_key'></span>

<h3>Description</h3>

<p>Get legacy keys given new time series keys. Note that not all records need to have 
a legacy key because there are more new keys than old keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_legacy_key(ts_keys)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_legacy_key_+3A_ts_keys">ts_keys</code></td>
<td>
<p>A vector of time series keys</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of legacy keys
</p>

<hr>
<h2 id='get_metadata'>Get Localized Meta Information</h2><span id='topic+get_metadata'></span>

<h3>Description</h3>

<p>Download metadata given a time series key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_metadata(ts_keys, locale = c("en", "de", "fr", "it"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_metadata_+3A_ts_keys">ts_keys</code></td>
<td>
<p>A vector of time series keys.</p>
</td></tr>
<tr><td><code id="get_metadata_+3A_locale">locale</code></td>
<td>
<p>character ISO-2-digit language of requested metadata. Meta data
are for survey related typically available in English, German, French and Italian.
Non survey data are not provided with meta information, yet.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named list of lists containing metadata.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_metadata("kofbarometer","en")
</code></pre>

<hr>
<h2 id='get_remaining_quota'>Check Remaining Quota</h2><span id='topic+get_remaining_quota'></span>

<h3>Description</h3>

<p>Query the API for the number of time series downloads remaining in the current month.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_remaining_quota(api_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_remaining_quota_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>get_remaining_quota("313984fcd9f343d3961891319b0ed321")
</code></pre>

<hr>
<h2 id='get_time_series'>Get Time Series form KOF Datenservice API</h2><span id='topic+get_time_series'></span>

<h3>Description</h3>

<p>Download time series data from the KOF web API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_time_series(ts_keys, api_key = NULL, show_progress = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_time_series_+3A_ts_keys">ts_keys</code></td>
<td>
<p>A vector of timeseries keys</p>
</td></tr>
<tr><td><code id="get_time_series_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
<tr><td><code id="get_time_series_+3A_show_progress">show_progress</code></td>
<td>
<p>If set to true, shows a progress bar of the data being downloaded.
year-month-day, otherwise only year and month.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>get_time_series("kofbarometer")
</code></pre>

<hr>
<h2 id='list_available_collections'>List Available collection Names and Their Description</h2><span id='topic+list_available_collections'></span>

<h3>Description</h3>

<p>collections are pre-defined lists of time series. collections are the convenient alternative to concatenating many series in an URL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_available_collections(api_key = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_available_collections_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the names, descriptions and public availability of collections. These collections can be downloaded via get_collection.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>list_available_collections()
</code></pre>

<hr>
<h2 id='list_available_sets'>List Available Set Names and Their Description</h2><span id='topic+list_available_sets'></span>

<h3>Description</h3>

<p>This function is deprecated. Use <code><a href="#topic+list_available_collections">list_available_collections</a></code> instead.
Sets are pre-defined lists of time series. Sets are the convenient alternative to concatenating many series in an URL.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_available_sets(api_key = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_available_sets_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the names, descriptions and public availability of datasets. These sets can be downloaded via get_dataset.
</p>

<hr>
<h2 id='list_cached_files'>Show Cached Files of Specific User</h2><span id='topic+list_cached_files'></span>

<h3>Description</h3>

<p>Some users get individually composed, cached files. If you ordered such 
a service you can list all files available to you.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_cached_files(username, api_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_cached_files_+3A_username">username</code></td>
<td>
<p>Your dataservice user name</p>
</td></tr>
<tr><td><code id="list_cached_files_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>available_files &lt;- list_cached_files("kofdatapkg",
"313984fcd9f343d3961891319b0ed321")
available_files
</code></pre>

<hr>
<h2 id='list_keys_in_collection'>List All Keys in a Collection</h2><span id='topic+list_keys_in_collection'></span>

<h3>Description</h3>

<p>List the keys of all time series in a collection. To learn more about specific keys, use get_metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_keys_in_collection(collectionname, api_key = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_keys_in_collection_+3A_collectionname">collectionname</code></td>
<td>
<p>The name of the collection</p>
</td></tr>
<tr><td><code id="list_keys_in_collection_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If a single collection name is provided, a vector of time series keys.
If multiple collection names are provided, a list of vectors of time series keys.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>list_keys_in_collection("ds_kmi_mixed_freq")
</code></pre>

<hr>
<h2 id='list_keys_in_set'>List All Keys in a Set</h2><span id='topic+list_keys_in_set'></span>

<h3>Description</h3>

<p>List the keys of all time series in a set. To learn more about specific keys, use get_metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_keys_in_set(setname, api_key = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_keys_in_set_+3A_setname">setname</code></td>
<td>
<p>The name of the set</p>
</td></tr>
<tr><td><code id="list_keys_in_set_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If a single set name is provided, a vector of time series keys.
If multiple set names are provided, a list of vectors of time series keys.
</p>

<hr>
<h2 id='list_public_keys'>List Keys for All Publicly Available Time Series</h2><span id='topic+list_public_keys'></span>

<h3>Description</h3>

<p>This function will be removed from future versions of kofdata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_public_keys()
</code></pre>


<h3>Value</h3>

<p>An array of all public time series keys.
</p>

<hr>
<h2 id='param_defs'>Common parameters</h2><span id='topic+param_defs'></span>

<h3>Description</h3>

<p>Common parameters
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="param_defs_+3A_api_key">api_key</code></td>
<td>
<p><strong>character</strong> Your API key. An API key is needed if accessing non-public timeseries. 
If downloading public timeseries parameter can be omitted.</p>
</td></tr>
</table>

<hr>
<h2 id='translate_legacy_keys'>translate_legacy_keys</h2><span id='topic+translate_legacy_keys'></span>

<h3>Description</h3>

<p>Gives ts_keys for the given legacy keys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translate_legacy_keys(legacy_keys, chunksize = 100)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="translate_legacy_keys_+3A_legacy_keys">legacy_keys</code></td>
<td>
<p>A vector of legacy keys for which to find new keys</p>
</td></tr>
<tr><td><code id="translate_legacy_keys_+3A_chunksize">chunksize</code></td>
<td>
<p>integer to set chunksize in order to avoid URLs that are too long.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of vectors of new ts_keys
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package survAUC</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {survAUC}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#AUC.cd'><p>AUC estimator proposed by Chambless and Diao</p></a></li>
<li><a href='#AUC.hc'><p>AUC estimator proposed by Hung and Chiang</p></a></li>
<li><a href='#AUC.sh'><p>AUC estimator proposed by Song and Zhou</p></a></li>
<li><a href='#AUC.uno'><p>AUC estimator proposed by Uno et al.</p></a></li>
<li><a href='#BeggC'><p>C-statistic by Begg et al.</p></a></li>
<li><a href='#GHCI'><p>Gonen and Heller's Concordance Index for Cox models</p></a></li>
<li><a href='#IntAUC'><p>Integration of time-dependent AUC curves</p></a></li>
<li><a href='#OXS'><p>R2-type coefficients for Cox proportional hazards models</p></a></li>
<li><a href='#plot.survAUC'><p>Plot method for survAUC and survErr Objects</p></a></li>
<li><a href='#predErr'><p>Distance-based estimators of survival predictive accuracy</p></a></li>
<li><a href='#schemper'><p>Distance-based estimator of survival predictive accuracy proposed</p>
by Schemper and Henderson</a></li>
<li><a href='#UnoC'><p>C-statistic by Uno et al.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.2-0</td>
</tr>
<tr>
<td>Title:</td>
<td>Estimators of Prediction Accuracy for Time-to-Event Data</td>
</tr>
<tr>
<td>Author:</td>
<td>Sergej Potapov, Werner Adler and Matthias Schmid.</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a variety of functions to estimate
        time-dependent true/false positive rates and AUC curves from a
        set of censored survival data.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Frederic Bertrand &lt;frederic.bertrand@utt.fr&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.6.0),</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival, rms</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-03-21</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-21 17:26:01 UTC; fbertran</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-21 18:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='AUC.cd'>AUC estimator proposed by Chambless and Diao</h2><span id='topic+AUC.cd'></span>

<h3>Description</h3>

<p>Chambless and Diao's estimator of cumulative/dynamic AUC for right-censored
time-to-event data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AUC.cd(Surv.rsp, Surv.rsp.new = NULL, lp, lpnew, times)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AUC.cd_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="AUC.cd_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="AUC.cd_+3A_lp">lp</code></td>
<td>
<p>The vector of predictors estimated from the training data.</p>
</td></tr>
<tr><td><code id="AUC.cd_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
<tr><td><code id="AUC.cd_+3A_times">times</code></td>
<td>
<p>A vector of time points at which to evaluate AUC.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the estimator of cumulative/dynamic AUC proposed in
Section 3.3 of Chambless and Diao (2006). In contrast to the general form of
Chambless and Diao's estimator, <code>AUC.cd</code> is restricted to Cox regression.
Specifically, it is assumed that <code>lp</code> and <code>lpnew</code> are the predictors of
a Cox proportional hazards model. Estimates obtained from
<code>AUC.cd</code> are valid as long as the Cox model is specified correctly.
The <code>iauc</code> summary measure is given by the integral of AUC on
[0, max(<code>times</code>)] (weighted by the estimated probability density of
the time-to-event outcome).
</p>
<p>Note that the recursive estimators proposed in Sections 3.1 and 3.2 of 
Chambless and Diao (2006) are not implemented in the <b>survAUC</b> package.
</p>


<h3>Value</h3>

<p><code>AUC.cd</code> returns an object of class <code>survAUC</code>. Specifically,
<code>AUC.cd</code> returns a list with the following components:
</p>
<table>
<tr><td><code>auc</code></td>
<td>
<p>The cumulative/dynamic AUC estimates (evaluated at <code>times</code>).</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>The vector of time points at which AUC is evaluated.</p>
</td></tr>
<tr><td><code>iauc</code></td>
<td>
<p>The summary measure of AUC.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Chambless, L. E. and G. Diao (2006). <br /> Estimation of time-dependent area under
the ROC curve for long-term risk prediction.<br /> <em>Statistics in Medicine</em>
<b>25</b>, 3474&ndash;3486.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.uno">AUC.uno</a></code>, <code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+AUC.hc">AUC.hc</a></code>,
<code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- seq(10, 1000, 10)                  

AUC_CD &lt;- AUC.cd(Surv.rsp, Surv.rsp.new, lp, lpnew, times)

</code></pre>

<hr>
<h2 id='AUC.hc'>AUC estimator proposed by Hung and Chiang</h2><span id='topic+AUC.hc'></span>

<h3>Description</h3>

<p>Hung and Chiang's estimator of cumulative/dynamic AUC for right-censored
time-to-event data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AUC.hc(Surv.rsp, Surv.rsp.new, lpnew, times)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AUC.hc_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="AUC.hc_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="AUC.hc_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
<tr><td><code id="AUC.hc_+3A_times">times</code></td>
<td>
<p>A vector of time points at which to evaluate AUC.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the estimator of cumulative/dynamic AUC proposed by
Hung and Chiang (2010). The estimator is based on inverse-probability-of-censoring
weights and does not assume a specific working model for deriving the predictor
<code>lpnew</code>. It is assumed, however, that there is a one-to-one
relationship between the predictor and the expected survival times conditional
on the predictor. The <code>iauc</code> summary measure is given by the integral of AUC on
[0, max(<code>times</code>)] (weighted by the estimated probability density of
the time-to-event outcome).
</p>
<p>Note that the estimator implemented in <code>AUC.hc</code> is restricted to situations
where the random censoring assumption holds (formula (4) in Hung and Chiang 2010).
</p>


<h3>Value</h3>

<p><code>AUC.hc</code> returns an object of class <code>survAUC</code>. Specifically,
<code>AUC.hc</code> returns a list with the following components:
</p>
<table>
<tr><td><code>auc</code></td>
<td>
<p>The cumulative/dynamic AUC estimates (evaluated at <code>times</code>).</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>The vector of time points at which AUC is evaluated.</p>
</td></tr>
<tr><td><code>iauc</code></td>
<td>
<p>The summary measure of AUC.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Hung, H. and C.-T. Chiang (2010). <br /> Estimation methods for time-dependent
AUC models with survival data.<br /> <em>Canadian Journal of Statistics</em>
<b>38</b>, 8&ndash;26.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.uno">AUC.uno</a></code>, <code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+AUC.cd">AUC.cd</a></code>,
<code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- seq(10, 1000, 10)                  

AUC_hc &lt;- AUC.hc(Surv.rsp, Surv.rsp.new, lpnew, times)
AUC_hc

</code></pre>

<hr>
<h2 id='AUC.sh'>AUC estimator proposed by Song and Zhou</h2><span id='topic+AUC.sh'></span><span id='topic+spec.sh'></span><span id='topic+sens.sh'></span>

<h3>Description</h3>

<p>Song and Zhou's estimators of AUC for right-censored time-to-event data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AUC.sh(Surv.rsp, Surv.rsp.new=NULL, lp, lpnew, times, 
		type="incident", savesensspec=FALSE)
sens.sh(Surv.rsp, lp, lpnew, times, type="incident")
spec.sh(Surv.rsp, lp, lpnew, times)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AUC.sh_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="AUC.sh_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="AUC.sh_+3A_lp">lp</code></td>
<td>
<p>The vector of predictors estimated from the training data.</p>
</td></tr>
<tr><td><code id="AUC.sh_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
<tr><td><code id="AUC.sh_+3A_times">times</code></td>
<td>
<p>A vector of time points at which to evaluate AUC.</p>
</td></tr>
<tr><td><code id="AUC.sh_+3A_type">type</code></td>
<td>
<p>A string defining the type of true positive rate (TPR):
<code>"incident"</code> refers to incident TPR ,
<code>"cumulative"</code> refers to cumulative TPR.</p>
</td></tr>
<tr><td><code id="AUC.sh_+3A_savesensspec">savesensspec</code></td>
<td>
<p>A logical specifying whether sensitivities and specificities
should be saved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>sens.sh</code> and <code>spec.sh</code> functions implement the estimators of
time-dependent true and false positive rates proposed by Song and Zhou (2008).
</p>
<p>The <code>AUC.sh</code> function implements the estimators of cumulative/dynamic and
incident/dynamic AUC proposed by Song and Zhou (2008). These estimators are given
by the areas under the time-dependent ROC curves estimated by
<code>sens.sh</code> and <code>spec.sh</code>. In case of cumulative/dynamic
AUC, the <code>iauc</code> summary measure is given by the integral of AUC on
[0, max(<code>times</code>)] (weighted by the estimated probability density of
the time-to-event outcome). In case of incident/dynamic AUC, <code>iauc</code> is
given by the integral of AUC on [0, max(<code>times</code>)] (weighted by 2 times
the product of the estimated probability density and the estimated survival
function of the time-to-event outcome).
</p>
<p>The results obtained from <code>spec.sh</code>, <code>spec.sh</code> and <code>AUC.sh</code>
are valid as long as <code>lp</code> and <code>lpnew</code> are the predictors of
a correctly specified Cox proportional hazards model. In this case, the
estimators remain valid even if the censoring times depend on the values of
the predictors.
</p>


<h3>Value</h3>

<p><code>AUC.sh</code> returns an object of class <code>survAUC</code>. Specifically,
<code>AUC.sh</code> returns a list with the following components:
</p>
<table>
<tr><td><code>auc</code></td>
<td>
<p>The cumulative/dynamic or incident/dynamic AUC estimates
(evaluated at <code>times</code>).</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>The vector of time points at which AUC is evaluated.</p>
</td></tr>
<tr><td><code>iauc</code></td>
<td>
<p>The summary measure of AUC.</p>
</td></tr>
</table>
<p><code>sens.sh</code> and <code>spec.sh</code> return matrices of dimensions <code>times</code> x
<code>lpnew + 1</code>. The elements of these matrices are the sensitivity and
specificity estimates for each threshold of <code>lpnew</code> and for each time point
specified in <code>times</code>.
</p>


<h3>References</h3>

<p>Song, X. and X.-H. Zhou (2008).<br /> A semiparametric approach for the covariate
specific ROC curve with survival outcome.<br /> <em>Statistica Sinica</em>
<b>18</b>, 947&ndash;965.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.uno">AUC.uno</a></code>, <code><a href="#topic+AUC.cd">AUC.cd</a></code>, <code><a href="#topic+AUC.hc">AUC.hc</a></code>,
<code><a href="#topic+GHCI">GHCI</a></code>, <code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- seq(10, 1000, 10)                  

AUC_sh &lt;- AUC.sh(Surv.rsp, Surv.rsp.new, lp, lpnew, times)
names(AUC_sh)
AUC_sh$iauc

</code></pre>

<hr>
<h2 id='AUC.uno'>AUC estimator proposed by Uno et al.</h2><span id='topic+AUC.uno'></span><span id='topic+spec.uno'></span><span id='topic+sens.uno'></span>

<h3>Description</h3>

<p>Uno's estimator of cumulative/dynamic AUC for right-censored time-to-event data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>AUC.uno(Surv.rsp, Surv.rsp.new, lpnew, times, savesensspec=FALSE)
sens.uno(Surv.rsp, Surv.rsp.new, lpnew, times)
spec.uno(Surv.rsp.new, lpnew, times)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AUC.uno_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="AUC.uno_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="AUC.uno_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
<tr><td><code id="AUC.uno_+3A_times">times</code></td>
<td>
<p>A vector of time points at which to evaluate AUC.</p>
</td></tr>
<tr><td><code id="AUC.uno_+3A_savesensspec">savesensspec</code></td>
<td>
<p>A logical specifying whether sensitivities and specificities
should be saved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>sens.uno</code> and <code>spec.uno</code> functions implement the estimators of
time-dependent true and false positive rates proposed in Section 5.1 of Uno et
al. (2007).
</p>
<p>The <code>AUC.uno</code> function implements the estimator of cumulative/dynamic AUC
that is based on the TPR and FPR estimators proposed by
Uno et al. (2007). It is given by the area(s) under the time-dependent
ROC curve(s) estimated by <code>sens.sh</code> and <code>spec.sh</code>. The <code>iauc</code>
summary measure is given by the integral of AUC on
[0, max(<code>times</code>)] (weighted by the estimated probability density of
the time-to-event outcome).
</p>
<p>Uno's estimators are based on inverse-probability-of-censoring
weights and do not assume a specific working model for deriving the predictor
<code>lpnew</code>. It is assumed, however, that there is a one-to-one
relationship between the predictor and the expected survival times conditional
on the predictor. Note that the estimators implemented in <code>sens.uno</code>,
<code>spec.uno</code> and <code>AUC.uno</code> are restricted to situations
where the random censoring assumption holds.
</p>


<h3>Value</h3>

<p><code>AUC.uno</code> returns an object of class <code>survAUC</code>. Specifically,
<code>AUC.uno</code> returns a list with the following components:
</p>
<table>
<tr><td><code>auc</code></td>
<td>
<p>The cumulative/dynamic AUC estimates (evaluated at <code>times</code>).</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>The vector of time points at which AUC is evaluated.</p>
</td></tr>
<tr><td><code>iauc</code></td>
<td>
<p>The summary measure of AUC.</p>
</td></tr>
</table>
<p><code>sens.uno</code> and <code>spec.uno</code> return matrices of dimensions <code>times</code> x
<code>(lpnew + 1)</code>. The elements of these matrices are the sensitivity and
specificity estimates for each threshold of <code>lpnew</code> and for each time point
specified in <code>times</code>.
</p>


<h3>References</h3>

<p>Uno, H., T. Cai, L. Tian, and L. J. Wei (2007).<br /> Evaluating prediction rules for
t-year survivors with censored regression models.<br /> <em>Journal of the American
Statistical Association</em> <b>102</b>, 527&ndash;537.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.cd">AUC.cd</a></code>, <code><a href="#topic+AUC.sh">AUC.sh</a></code>,  <code><a href="#topic+AUC.hc">AUC.hc</a></code>,
<code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- seq(10, 1000, 10)                  

AUC_Uno &lt;- AUC.uno(Surv.rsp, Surv.rsp.new, lpnew, times)
names(AUC_Uno)
AUC_Uno$iauc

</code></pre>

<hr>
<h2 id='BeggC'>C-statistic by Begg et al.</h2><span id='topic+BeggC'></span>

<h3>Description</h3>

<p>C-statistic by Begg et al.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BeggC(Surv.rsp, Surv.rsp.new, lp, lpnew)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BeggC_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="BeggC_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="BeggC_+3A_lp">lp</code></td>
<td>
<p>The vector of predictors estimated from the training data.</p>
</td></tr>
<tr><td><code id="BeggC_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the C-statistic proposed by
Begg et al. (2000). It has the same interpretation as Harrell's C for
survival data (implemented in the <code>rcorr.cens</code> function of the <b>Hmisc</b>
package).  <code>BeggC</code> is restricted to Cox regression.
Specifically, it is assumed that <code>lp</code> and <code>lpnew</code> are the predictors of
a Cox proportional hazards model. Estimates obtained from
<code>BeggC</code> are valid as long as the Cox model is specified correctly.
</p>


<h3>Value</h3>

<p>The estimated C-statistic.
</p>


<h3>References</h3>

<p>Begg, B. C., L. D. Craemer, E. S. Venkatraman and J. Rosai (2000). <br /> Comparing tumor
staging and grading systems: a case study and a review of the issues, using thymoma as a model.<br />
<em>Statistics in Medicine</em> <b>19</b>, 1997&ndash;2014.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+UnoC">UnoC</a></code>, <code><a href="#topic+GHCI">GHCI</a></code>, <code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)              

Cstat &lt;- BeggC(Surv.rsp, Surv.rsp.new, lp, lpnew)
Cstat

</code></pre>

<hr>
<h2 id='GHCI'>Gonen and Heller's Concordance Index for Cox models</h2><span id='topic+GHCI'></span>

<h3>Description</h3>

<p>Gonen and Heller's Concordance Index for Cox proportional hazards models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GHCI(lpnew)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="GHCI_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the concordance probability estimator proposed by
Gonen and Heller (2005). It has the same interpretation as Harrell's C for
survival data (implemented in the <code>rcorr.cens</code> function of the <b>Hmisc</b>
package).
</p>
<p>The results obtained from <code>GHCI</code> are valid as long as <code>lpnew</code> is the
predictor of a correctly specified Cox proportional hazards model. In this case, the
estimator remains valid even if the censoring times depend on the values of
the predictor.
</p>
<p>Note that the smoothed version of <code>GHCI</code>, which is proposed in Section 3 of
Gonen and Heller (2005), is not implemented in R package <b>survAUC</b>.
</p>


<h3>Value</h3>

<p>A length-one numeric vector containing the concordance probability estimate.
</p>


<h3>References</h3>

<p>Harrell, F. E., R. M. Califf, D. B. Pryor, K. L. Lee and R. A. Rosati (1982). <br /> Evaluating
the yield of medical tests.<br /> <em>Journal of the American Medical Association</em>
<b>247</b>, 2543&ndash;2546.<br />
</p>
<p>Harrell, F. E., K. L. Lee, R. M. Califf, D. B. Pryor and R. A. Rosati (1984). <br /> Regression
modeling strategies for improved prognostic prediction.<br /> <em>Statistics in Medicine</em>
<b>3</b>, 143&ndash;152.<br />
</p>
<p>Gonen, M. and G. Heller (2005). <br /> Concordance probability and discriminatory
power in proportional hazards regression.<br /> <em>Biometrika</em>
<b>92</b>, 965&ndash;970.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lpnew &lt;- predict(train.fit, newdata=TE)
                 
GHCI(lpnew)

</code></pre>

<hr>
<h2 id='IntAUC'>Integration of time-dependent AUC curves</h2><span id='topic+IntAUC'></span>

<h3>Description</h3>

<p>Compute summary measures of a time-dependent AUC curve
</p>


<h3>Usage</h3>

<pre><code class='language-R'>IntAUC(AUC, times, S, tmax, auc.type="cumulative")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IntAUC_+3A_auc">AUC</code></td>
<td>
<p>A vector of AUCs.</p>
</td></tr>
<tr><td><code id="IntAUC_+3A_times">times</code></td>
<td>
<p>The vector of time points corresponding to <code>AUC</code>.</p>
</td></tr>
<tr><td><code id="IntAUC_+3A_s">S</code></td>
<td>
<p>A vector of survival probabilities corresponding to <code>times</code>.</p>
</td></tr>
<tr><td><code id="IntAUC_+3A_tmax">tmax</code></td>
<td>
<p>A number specifying the upper limit of the time
range for which to compute the summary measure.</p>
</td></tr>
<tr><td><code id="IntAUC_+3A_auc.type">auc.type</code></td>
<td>
<p>A string defining the type of AUC. 'cumulative' refers
to cumulative/dynamic AUC, 'incident' refers to incident/dynamic
AUC.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the integral under a time-dependent AUC curve (&ldquo;IAUC&rdquo;
measure) using the integration limits [0, <code>tmax</code>]. The values of the AUC curve are
specified via the <code>AUC</code> argument.
</p>
<p>In case <code>auc.type = "cumulative"</code> (cumulative/dynamic IAUC), the values of
<code>AUC</code> are weighted by the estimated probability density of
the time-to-event outcome. In case <code>auc.type = "incident"</code> (incident/dynamic
IAUC), the values of <code>AUC</code> are weighted by 2 times the product of the estimated
probability density and the (estimated) survival function of the time-to-event outcome.
The survival function has to be specified via the <code>S</code> argument.
</p>
<p>As shown by Heagerty and Zheng (2005), the incident/dynamic version of IAUC
can be interpreted as a global concordance index measuring the probability
that observations with a large predictor value have a shorter survival time than
observations with a small predictor value. The incident/dynamic version of IAUC
has the same interpretation as Harrell's C for survival data.
</p>


<h3>Value</h3>

<p>A scalar number corresponding to the summary measure of interest.
</p>


<h3>References</h3>

<p>Harrell, F. E., R. M. Califf, D. B. Pryor, K. L. Lee and R. A. Rosati (1982). <br /> Evaluating
the yield of medical tests.<br /> <em>Journal of the American Medical Association</em>
<b>247</b>, 2543&ndash;2546.<br />
</p>
<p>Harrell, F. E., K. L. Lee, R. M. Califf, D. B. Pryor and R. A. Rosati (1984). <br /> Regression
modeling strategies for improved prognostic prediction.<br /> <em>Statistics in Medicine</em>
<b>3</b>, 143&ndash;152.<br />
</p>
<p>Heagerty, P. J. and Y. Zheng (2005). <br /> Survival model predictive accuracy and
ROC curves.<br /> <em>Biometrics</em> <b>61</b>, 92&ndash;105.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.cd">AUC.cd</a></code>, <code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+AUC.uno">AUC.uno</a></code>,
<code><a href="#topic+AUC.hc">AUC.hc</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                              x=TRUE, y=TRUE, method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- seq(10, 1000, 10)                  


AUC_CD &lt;- AUC.cd(Surv.rsp, Surv.rsp.new, lp, lpnew, times)
IntAUC(AUC_CD$auc, AUC_CD$times, runif(length(times),0,1), median(times), auc.type="cumulative")
</code></pre>

<hr>
<h2 id='OXS'>R2-type coefficients for Cox proportional hazards models</h2><span id='topic+OXS'></span><span id='topic+Nagelk'></span><span id='topic+XO'></span>

<h3>Description</h3>

<p>R2-type Coefficients for Cox proportional hazards models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OXS(Surv.rsp, lp, lp0)
Nagelk(Surv.rsp, lp, lp0)
XO(Surv.rsp, lp, lp0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OXS_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the test data.</p>
</td></tr>
<tr><td><code id="OXS_+3A_lp">lp</code></td>
<td>
<p>The vector of predictors.</p>
</td></tr>
<tr><td><code id="OXS_+3A_lp0">lp0</code></td>
<td>
<p>The vector of predictors obtained from the covariate-free null model.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>OXS</code>, <code>Nagelk</code> and <code>XO</code> functions implement three types of R2 coefficients for right-censored
time-to-event data: (a) The coefficient proposed by O'Quigley et al. (2005) (<code>OXS</code>), (b)
the coefficient proposed by Nagelkerke (1991) (<code>Nagelk</code>) and (c) the
coefficient proposed by Xu and O'Quigley (1999) (<code>XO</code>).
</p>
<p>Because the <code>OXS</code>, <code>Nagelk</code> and <code>XO</code> functions assume that <code>lp</code> and <code>lpnew</code> were
derived from a correctly specified Cox proportional hazards model, estimates obtained from these functions are only
valid if the Cox model holds.
</p>


<h3>Value</h3>

<p>The estimated R2 coefficient.
</p>


<h3>References</h3>

<p>Nagelkerke, N. J. D. (1991).<br /> A note on a general definition of the coefficient of
determination.<br /> <em>Biometrika</em> <b>78</b>, 691&ndash;692.<br />
</p>
<p>O'Quigley, J., R. Xu, and J. Stare (2005).<br /> Explained randomness in proportional
hazards models.<br /> <em>Statistics in Medicine</em> <b>24</b>, 479&ndash;489.<br />
</p>
<p>Xu, R. and J. O'Quigley (1999).<br /> A measure of dependence for proportional
hazards models.<br /> <em>Journal of Nonparametric Statistics</em> <b>12</b>, 83&ndash;107.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+predErr">predErr</a></code>, <code><a href="#topic+schemper">schemper</a></code>, <code><a href="#topic+GHCI">GHCI</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

model0 &lt;- survival::coxph(survival::Surv(futime, fustat)~1, data=TR)
model1 &lt;- survival::coxph(survival::Surv(futime, fustat)~age, data=TR)
f0 &lt;- rep(0,nrow(TE))
f1 &lt;- predict(model1, newdata=TE)               
Surv.res &lt;- survival::Surv(TE$futime, TE$fustat)

OXS(Surv.res, f1, f0)
Nagelk(Surv.res, f1, f0)
XO(Surv.res, f1, f0)

</code></pre>

<hr>
<h2 id='plot.survAUC'>Plot method for survAUC and survErr Objects</h2><span id='topic+plot.survAUC'></span><span id='topic+plot.survErr'></span>

<h3>Description</h3>

<p>Plot a <code>survAUC</code> object generated by the functions <code><a href="#topic+AUC.uno">AUC.uno</a></code>,
<code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+AUC.cd">AUC.cd</a></code>, <code><a href="#topic+AUC.hc">AUC.hc</a></code> and
<code><a href="#topic+predErr">predErr</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survAUC'
plot(x, col="red", type="l", ylim=c(0,1),
        xlab="Time",ylab="AUC", 
        main="Time-dependent AUC", add=FALSE, ...)

## S3 method for class 'survErr'
plot(x, col="red", type="l", ylim=c(0,1),
        xlab="Time",ylab="Prediction error", 
        main="Time-dependent Prediction Error", add=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.survAUC_+3A_x">x</code></td>
<td>
<p>An object of class <code>survAUC</code>.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_col">col</code></td>
<td>
<p>The color used to draw the AUC curve.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_type">type</code></td>
<td>
<p>The type of plot to be drawn. See 
argument 'type' of the <code><a href="graphics.html#topic+plot">plot</a></code> function.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_ylim">ylim</code></td>
<td>
<p>The y limits of the plot.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_xlab">xlab</code></td>
<td>
<p>The title of the x axis. See <code><a href="graphics.html#topic+title">title</a></code>.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_ylab">ylab</code></td>
<td>
<p>The title of the y axis. See <code><a href="graphics.html#topic+title">title</a></code>.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_main">main</code></td>
<td>
<p>The main title of the plot. See <code><a href="graphics.html#topic+title">title</a></code>.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_add">add</code></td>
<td>
<p>A logical specifying whether the AUC-Curve should be added to an
already existing plot.</p>
</td></tr>
<tr><td><code id="plot.survAUC_+3A_...">...</code></td>
<td>
<p>Graphics parameters that can be passed to 'plot'.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+AUC.cd">AUC.cd</a></code>, <code><a href="#topic+AUC.hc">AUC.hc</a></code>, <code><a href="#topic+AUC.uno">AUC.uno</a></code>, <code><a href="#topic+predErr">predErr</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- seq(10, 600, 10)                  

AUC_sh &lt;- AUC.sh(Surv.rsp, Surv.rsp.new, lp, lpnew, times)
plot(AUC_sh)
abline(h = 0.5)

BrierScore &lt;- predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
                      type = "brier", int.type = "weighted")
plot(BrierScore)
abline(h = 0.25)

</code></pre>

<hr>
<h2 id='predErr'>Distance-based estimators of survival predictive accuracy</h2><span id='topic+predErr'></span>

<h3>Description</h3>

<p>Inverse-probability-of-censoring weighted estimators of absolute and squared
deviations between survival functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "brier", int.type = "unweighted")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predErr_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="predErr_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="predErr_+3A_lp">lp</code></td>
<td>
<p>The vector of predictors estimated from the training data.</p>
</td></tr>
<tr><td><code id="predErr_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
<tr><td><code id="predErr_+3A_times">times</code></td>
<td>
<p>A vector of time points at which to evaluate the prediction error curve.</p>
</td></tr>
<tr><td><code id="predErr_+3A_type">type</code></td>
<td>
<p>A string specifying the type of prediction error curve: 'brier' refers
to the squared deviation between predicted and observed survival (Brier score), 'robust'
refers to the absolute deviation between predicted and observed survival.</p>
</td></tr>
<tr><td><code id="predErr_+3A_int.type">int.type</code></td>
<td>
<p>A string specifying the type of integration method for the prediction
error curves. Either 'unweighted' or 'weighted'.</p>
</td></tr>  
</table>


<h3>Details</h3>

<p>This function implements two types of prediction error curves for right-censored
time-to-event data: The Brier Score (<code>type = "brier"</code>, Gerds and Schumacher 2006) estimates the <em>squared</em>
deviation between predicted and observed survival whereas the method proposed
by Schmid et al. (2011) estimates the <em>absolute</em> deviation between predicted and
observed survival (<code>type = "robust"</code>).
</p>
<p>Both methods are based on inverse-probability-of-censoring
weights and do not assume a specific working model for survival prediction.
Note, however, that the estimators implemented in <code>predErr</code>,
are restricted to situations where the random censoring assumption holds.
</p>
<p>Time-independent summary measures of prediction error are given by the
the areas under the prediction error curves. If <code>int.type = "weighted"</code>,
prediction errors are weighted by the estimated probability density of
the time-to-event outcome.
</p>


<h3>Value</h3>

<p><code>predErr</code> returns an object of class <code>survErr</code>. Specifically,
<code>predErr</code> returns a list containing the following components:
</p>
<table>
<tr><td><code>error</code></td>
<td>
<p>The prediction error estimates (evaluated at <code>times</code>).</p>
</td></tr>
<tr><td><code>times</code></td>
<td>
<p>The vector of time points at which prediction errors are evaluated.</p>
</td></tr>
<tr><td><code>ierror</code></td>
<td>
<p>The integrated prediction error.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Gerds, T. A. and M. Schumacher (2006).<br /> Consistent estimation of the expected
Brier score in general survival models with right-censored event times.<br />
<em>Biometrical Journal</em> <b>48</b>, 1029&ndash;1040.<br />
</p>
<p>Schmid, M., T. Hielscher, T. Augustin, and O. Gefeller (2011).<br /> A robust alter-
native to the Schemper-Henderson estimator of prediction error.<br /> <em>Biometrics</em>
<b>67</b>, 524&ndash;535.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+IntAUC">IntAUC</a></code>, <code><a href="#topic+OXS">OXS</a></code>, <code><a href="#topic+schemper">schemper</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age, x=TRUE, y=TRUE, 
                    method="breslow", data=TR)

lp &lt;- predict(train.fit)
lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)
times &lt;- 1:500                  

predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "brier", int.type = "unweighted")

predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "robust", int.type = "unweighted")

predErr(Surv.rsp, Surv.rsp.new, lp, lpnew, times, 
        type = "brier", int.type = "weighted")

</code></pre>

<hr>
<h2 id='schemper'>Distance-based estimator of survival predictive accuracy proposed
by Schemper and Henderson</h2><span id='topic+schemper'></span>

<h3>Description</h3>

<p>Schemper and Henderson's estimator of the absolute
deviation between survival functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>schemper(train.fit, traindata, newdata)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="schemper_+3A_train.fit">train.fit</code></td>
<td>
<p>A <code>cph</code> object containing the fit of a Cox proportional hazards model.</p>
</td></tr>
<tr><td><code id="schemper_+3A_traindata">traindata</code></td>
<td>
<p>A data frame containing the set of training data.</p>
</td></tr>
<tr><td><code id="schemper_+3A_newdata">newdata</code></td>
<td>
<p>A data frame containing the set of test data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This code has been adapted from Lusa et al. (2007). Schemper and Henderson's estimator
(as implemented by Lusa et al. 2007) assumes that predictions of the time-to-event outcome
were obtained from a Cox proportional hazards model. The estimator is valid as long as the Cox
model is specified correctly.
</p>
<p>Technical details:
</p>

<ul>
<li><p> The Cox model has to be estimated via the <code>cph</code> function of the
<b>Design</b> package.
</p>
</li>
<li><p> The survival times and the censoring indicators have to be
labelled &ldquo;time&rdquo; and &ldquo;status&rdquo;, respectively (see example below).
</p>
</li>
<li><p> In contrast to the other estimators implemented in the <b>survAUC</b> package,
<code>schemper</code> does not estimate the survival function of the censoring distribution
from the training data but from the test data.
</p>
</li></ul>

<p>For details on the estimator and its implementation, we refer to
Schemper and Henderson (2000) and Lusa et al. (2007).
</p>


<h3>Value</h3>

<p><code>schemper</code> returns a list with the following components:
</p>
<table>
<tr><td><code>Model</code></td>
<td>
<p>The call to <code>cph</code>.</p>
</td></tr>
<tr><td><code>D</code></td>
<td>
<p>The estimator of predictive accuracy obtained from the
covariate-free null model.</p>
</td></tr>
<tr><td><code>Dx</code></td>
<td>
<p>The estimator of predictive accuracy obtained from the
Cox model.</p>
</td></tr>
<tr><td><code>V</code></td>
<td>
<p>The estimator of relative gains in predictive accuracy.</p>
</td></tr>
<tr><td><code>Mhat</code></td>
<td>
<p>The absolute distance estimator obtained from the
Cox model (evaluated at the event times of the test data).</p>
</td></tr>
<tr><td><code>Mhat.0</code></td>
<td>
<p>The absolute distance estimator obtained from the
covariate-free null model (evaluated at the event times of
the test data).</p>
</td></tr>
<tr><td><code>timep</code></td>
<td>
<p>The event times of the test data.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Schemper, M. and R. Henderson (2000).<br /> Predictive accuracy and explained
variation in Cox regression.<br /> <em>Biometrics</em> <b>56</b>, 249&ndash;255.<br />
</p>
<p>Lusa, L., R. Miceli and L. Mariani (2007).<br /> Estimation of predictive accuracy in 
survival analysis using R and S-PLUS.<br /> 
<em>Computer Methods and Programms in Biomedicine</em> <b>87</b>, 132&ndash;137.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+IntAUC">IntAUC</a></code>, <code><a href="#topic+predErr">predErr</a></code>, <code><a href="#topic+OXS">OXS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
ovarian$time &lt;- ovarian$futime
ovarian$status &lt;- ovarian$fustat
set.seed(2011)
trobs &lt;- sample(1:26,16)
TR &lt;- ovarian[trobs,]
TE &lt;- ovarian[-trobs,]
train.fit  &lt;- rms::cph(survival::Surv(time, status) ~ age,
                  x=TRUE, y=TRUE, method="breslow", data=TR)

schemper(train.fit, TR, TE)

</code></pre>

<hr>
<h2 id='UnoC'>C-statistic by Uno et al.</h2><span id='topic+UnoC'></span>

<h3>Description</h3>

<p>Censoring-adjusted C-statistic by Uno et al.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>UnoC(Surv.rsp, Surv.rsp.new, lpnew, time = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="UnoC_+3A_surv.rsp">Surv.rsp</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing to the outcome of the training data.</p>
</td></tr>
<tr><td><code id="UnoC_+3A_surv.rsp.new">Surv.rsp.new</code></td>
<td>
<p>A <code>Surv(.,.)</code> object containing the outcome of the test data.</p>
</td></tr>
<tr><td><code id="UnoC_+3A_lpnew">lpnew</code></td>
<td>
<p>The vector of predictors obtained from the test data.</p>
</td></tr>
<tr><td><code id="UnoC_+3A_time">time</code></td>
<td>
<p>A positive number restricting the upper limit of the time range under consideration.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function implements the censoring-adjusted C-statistic proposed by
Uno et al. (2011). It has the same interpretation as Harrell's C for
survival data (implemented in the <code>rcorr.cens</code> function of the <b>Hmisc</b>
package).
</p>
<p>Uno's estimator is based on inverse-probability-of-censoring
weights and does not assume a specific working model for deriving the predictor
<code>lpnew</code>. It is assumed, however, that there is a one-to-one
relationship between the predictor and the expected survival times conditional
on the predictor. Note that the estimator implemented in <code>UnoC</code>
is restricted to situations where the random censoring assumption holds.
</p>


<h3>Value</h3>

<p>The estimated C-statistic.
</p>


<h3>References</h3>

<p>Harrell, F. E., R. M. Califf, D. B. Pryor, K. L. Lee and R. A. Rosati (1982). <br /> Evaluating
the yield of medical tests.<br /> <em>Journal of the American Medical Association</em>
<b>247</b>, 2543&ndash;2546.<br />
</p>
<p>Harrell, F. E., K. L. Lee, R. M. Califf, D. B. Pryor and R. A. Rosati (1984). <br /> Regression
modeling strategies for improved prognostic prediction.<br /> <em>Statistics in Medicine</em>
<b>3</b>, 143&ndash;152.<br />
</p>
<p>Uno, H., T. Cai T, M. J. Pencina, R. B. D'Agostino and W. L. Wei (2011). <br /> On the
C-statistics for evaluating overall adequacy of risk prediction procedures with censored
survival data.<br /> <em>Statistics in Medicine</em> <b>30</b>, 1105&ndash;1117.<br />
</p>


<h3>See Also</h3>

<p><code><a href="#topic+GHCI">GHCI</a></code>, <code><a href="#topic+AUC.sh">AUC.sh</a></code>, <code><a href="#topic+IntAUC">IntAUC</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(cancer,package="survival")
TR &lt;- ovarian[1:16,]
TE &lt;- ovarian[17:26,]
train.fit  &lt;- survival::coxph(survival::Surv(futime, fustat) ~ age,
                    x=TRUE, y=TRUE, method="breslow", data=TR)

lpnew &lt;- predict(train.fit, newdata=TE)
Surv.rsp &lt;- survival::Surv(TR$futime, TR$fustat)
Surv.rsp.new &lt;- survival::Surv(TE$futime, TE$fustat)              

Cstat &lt;- UnoC(Surv.rsp, Surv.rsp.new, lpnew)
Cstat

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package sass</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sass}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_sass'><p>Convert an R object into Sass code</p></a></li>
<li><a href='#as_sass_layer'><p>Sass Bundle to Single Sass Layer</p></a></li>
<li><a href='#FileCache'><p>Create a file cache object</p></a></li>
<li><a href='#font_google'><p>Helpers for importing web fonts</p></a></li>
<li><a href='#output_template'><p>An intelligent (temporary) output file</p></a></li>
<li><a href='#sass'><p>Compile Sass to CSS</p></a></li>
<li><a href='#sass_cache_context_dir'><p>Return the cache directory for the current context.</p></a></li>
<li><a href='#sass_cache_get'><p>Retrieve the default file cache</p></a></li>
<li><a href='#sass_cache_get_dir'><p>Get and set the cache object registered for a specific directory</p></a></li>
<li><a href='#sass_cache_options'><p>Caching Options for Sass (defunct)</p></a></li>
<li><a href='#sass_file_cache'><p>Create a file cache object</p></a></li>
<li><a href='#sass_import'><p>Sass Import</p></a></li>
<li><a href='#sass_layer'><p>Bundling Sass layers</p></a></li>
<li><a href='#sass_options'><p>Compiler Options for Sass</p></a></li>
<li><a href='#sass_partial'><p>Compile rules against a Sass Bundle or Sass Layer object</p></a></li>
<li><a href='#sass-deprecated'><p>Deprecated</p></a></li>
<li><a href='#write_file_attachments'><p>Write file attachments from a sass theme object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.9</td>
</tr>
<tr>
<td>Title:</td>
<td>Syntactically Awesome Style Sheets ('Sass')</td>
</tr>
<tr>
<td>Description:</td>
<td>An 'SCSS' compiler, powered by the 'LibSass' library. With this,
    R developers can use variables, inheritance, and functions to generate
    dynamic style sheets. The package uses the 'Sass CSS' extension language,
    which is stable, powerful, and CSS compatible.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rstudio.github.io/sass/">https://rstudio.github.io/sass/</a>, <a href="https://github.com/rstudio/sass">https://github.com/rstudio/sass</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/sass/issues">https://github.com/rstudio/sass/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>GNU make</td>
</tr>
<tr>
<td>Imports:</td>
<td>fs (&ge; 1.2.4), rlang (&ge; 0.4.10), htmltools (&ge; 0.5.1), R6,
rappdirs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown, withr, shiny, curl</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-15 21:58:01 UTC; cpsievert</td>
</tr>
<tr>
<td>Author:</td>
<td>Joe Cheng [aut],
  Timothy Mastny [aut],
  Richard Iannone <a href="https://orcid.org/0000-0003-3925-190X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Barret Schloerke <a href="https://orcid.org/0000-0001-9986-114X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Carson Sievert <a href="https://orcid.org/0000-0002-4958-2844"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Christophe Dervieux
    <a href="https://orcid.org/0000-0003-4474-2498"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  RStudio [cph, fnd],
  Sass Open Source Foundation [ctb, cph] (LibSass library),
  Greter Marcel [ctb, cph] (LibSass library),
  Mifsud Michael [ctb, cph] (LibSass library),
  Hampton Catlin [ctb, cph] (LibSass library),
  Natalie Weizenbaum [ctb, cph] (LibSass library),
  Chris Eppstein [ctb, cph] (LibSass library),
  Adams Joseph [ctb, cph] (json.cpp),
  Trifunovic Nemanja [ctb, cph] (utf8.h)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carson Sievert &lt;carson@rstudio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-15 22:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_sass'>Convert an R object into Sass code</h2><span id='topic+as_sass'></span>

<h3>Description</h3>

<p>Converts multiple types of inputs to a single Sass input string for
<code><a href="#topic+sass">sass()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_sass(input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_sass_+3A_input">input</code></td>
<td>
<p>Any of the following:
</p>

<ul>
<li><p> A character vector containing Sass code.
</p>
</li>
<li><p> A named list containing variable names and values.
</p>
</li>
<li><p> A <code><a href="#topic+sass_file">sass_file()</a></code>, <code><a href="#topic+sass_layer">sass_layer()</a></code>, and/or <code><a href="#topic+sass_bundle">sass_bundle()</a></code>.
</p>
</li>
<li><p> A <code><a href="base.html#topic+list">list()</a></code> containing any of the above.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>a single character value to be supplied to <code><a href="#topic+sass">sass()</a></code>.
</p>


<h3>References</h3>

<p><a href="https://sass-lang.com/documentation/at-rules/import">https://sass-lang.com/documentation/at-rules/import</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example of regular Sass input
as_sass("body { color: \"blue\"; }")

# There is support for adding variables
as_sass(
  list(
    list(color = "blue"),
   "body { color: $color; }"
   )
)


# Add a file name
someFile &lt;- tempfile("variables")

# Overwrite color to red
write("$color: \"red\";", someFile)

input &lt;-
  as_sass(
    list(
      list(color = "blue"),
      sass_file(someFile),
      "body { color: $color; }"
      )
   )

input

# The final body color is red
sass(input)

</code></pre>

<hr>
<h2 id='as_sass_layer'>Sass Bundle to Single Sass Layer</h2><span id='topic+as_sass_layer'></span>

<h3>Description</h3>

<p>Converts a <code><a href="#topic+sass_bundle">sass_bundle()</a></code> to a single Sass layer object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_sass_layer(x)
</code></pre>


<h3>Details</h3>

<p>This is exported for internal use between packages and should not be used.
Instead, please use <code><a href="#topic+sass_layer">sass_layer()</a></code> or <code><a href="#topic+sass_bundle">sass_bundle()</a></code> to construct and manage your sass objects
and <code><a href="#topic+sass">sass()</a></code> and <code><a href="#topic+as_sass">as_sass()</a></code> to convert your objects.
</p>

<hr>
<h2 id='FileCache'>Create a file cache object</h2><span id='topic+FileCache'></span>

<h3>Description</h3>

<p>Create a file cache object
</p>
<p>Create a file cache object
</p>


<h3>Details</h3>

<p>A file cache object is a key-file store that saves the values as files in a
directory on disk. The objects are files on disk. They are stored and
retrieved using the <code>get_file()</code>, <code>get_content()</code>, <code>set_file()</code>, and
<code>set_content()</code> methods. Objects are automatically pruned from the cache
according to the parameters <code>max_size</code>, <code>max_age</code>, <code>max_n</code>, and <code>evict</code>.
</p>


<h3>Cache pruning</h3>

<p>Cache pruning occurs when <code>set_file()</code> or <code>set_content()</code> is called, or it
can be invoked manually by calling <code>prune()</code>.
</p>
<p>The disk cache will throttle the pruning so that it does not happen on
every call to <code>set_file()</code> or <code>set_content()</code>, because the filesystem
operations for checking the status of files can be slow. Instead, it will
prune once in every 20 calls to <code>set_file()</code> or <code>set_content()</code>, or if at
least 5 seconds have elapsed since the last prune occurred, whichever is
first. These parameters are currently not customizable, but may be in the
future.
</p>
<p>When a pruning occurs, if there are any objects that are older than
<code>max_age</code>, they will be removed.
</p>
<p>The <code>max_size</code> and <code>max_n</code> parameters are applied to the cache as a whole,
in contrast to <code>max_age</code>, which is applied to each object individually.
</p>
<p>If the number of objects in the cache exceeds <code>max_n</code>, then objects will be
removed from the cache according to the eviction policy, which is set with
the <code>evict</code> parameter. Objects will be removed so that the number of items
is <code>max_n</code>.
</p>
<p>If the size of the objects in the cache exceeds <code>max_size</code>, then objects
will be removed from the cache. Objects will be removed from the cache so
that the total size remains under <code>max_size</code>. Note that the size is
calculated using the size of the files, not the size of disk space used by
the files &mdash; these two values can differ because of files are stored in
blocks on disk. For example, if the block size is 4096 bytes, then a file
that is one byte in size will take 4096 bytes on disk.
</p>
<p>Another time that objects can be removed from the cache is when
<code>get_file()</code> or <code>get_content()</code> is called. If the target object is older
than <code>max_age</code>, it will be removed and the cache will report it as a
missing value.
</p>


<h3>Eviction policies</h3>

<p>If <code>max_n</code> or <code>max_size</code> are used, then objects will be removed from the
cache according to an eviction policy. The available eviction policies are:
</p>
 <dl>
<dt><code>"lru"</code></dt><dd><p> Least Recently Used. The least recently used
objects will be removed. This uses the filesystem's mtime property. When
&quot;lru&quot; is used, each time <code>get_file()</code> or <code>get_content()</code> is called, it will
update the file's mtime. </p>
</dd> <dt><code>"fifo"</code></dt><dd><p> First-in-first-out. The oldest
objects will be removed. </p>
</dd> </dl>

<p>Both of these policies use files' mtime. Note that some filesystems
(notably FAT) have poor mtime resolution. (atime is not used because
support for atime is worse than mtime.)
</p>


<h3>Sharing among multiple processes</h3>

<p>The directory for a FileCache can be shared among multiple R processes. To
do this, each R process should have a FileCache object that uses the same
directory. Each FileCache will do pruning independently of the others, so
if they have different pruning parameters, then one FileCache may remove
cached objects before another FileCache would do so.
</p>
<p>Even though it is possible for multiple processes to share a FileCache
directory, this should not be done on networked file systems, because of
slow performance of networked file systems can cause problems. If you need
a high-performance shared cache, you can use one built on a database like
Redis, SQLite, mySQL, or similar.
</p>
<p>When multiple processes share a cache directory, there are some potential
race conditions. For example, if your code calls <code>exists(key)</code> to check if
an object is in the cache, and then call <code>get_file(key)</code>, the object may be
removed from the cache in between those two calls, and <code>get_file(key)</code> will
throw an error. Instead of calling the two functions, it is better to
simply call <code>get_file(key)</code>, and use <code>tryCatch()</code> to handle the error that
is thrown if the object is not in the cache. This effectively tests for
existence and gets the object in one operation.
</p>
<p>It is also possible for one processes to prune objects at the same time
that another processes is trying to prune objects. If this happens, you may
see a warning from <code>file.remove()</code> failing to remove a file that has
already been deleted.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-FileCache-new"><code>FileCache$new()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-get_file"><code>FileCache$get_file()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-get_content"><code>FileCache$get_content()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-set_file"><code>FileCache$set_file()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-set_content"><code>FileCache$set_content()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-exists"><code>FileCache$exists()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-keys"><code>FileCache$keys()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-remove"><code>FileCache$remove()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-reset"><code>FileCache$reset()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-dir"><code>FileCache$dir()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-prune"><code>FileCache$prune()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-size"><code>FileCache$size()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-destroy"><code>FileCache$destroy()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-is_destroyed"><code>FileCache$is_destroyed()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-finalize"><code>FileCache$finalize()</code></a>
</p>
</li>
<li> <p><a href="#method-FileCache-clone"><code>FileCache$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-FileCache-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a FileCache object.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$new(
  dir = NULL,
  max_size = 40 * 1024^2,
  max_age = Inf,
  max_n = Inf,
  evict = c("lru", "fifo"),
  destroy_on_finalize = FALSE,
  logfile = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dir</code></dt><dd><p>Directory to store files for the cache. If <code>NULL</code> (the default) it
will create and use a temporary directory.</p>
</dd>
<dt><code>max_size</code></dt><dd><p>Maximum size of the cache, in bytes. If the cache exceeds
this size, cached objects will be removed according to the value of the
<code>evict</code>. Use <code>Inf</code> for no size limit.</p>
</dd>
<dt><code>max_age</code></dt><dd><p>Maximum age of files in cache before they are evicted, in
seconds. Use <code>Inf</code> for no age limit.</p>
</dd>
<dt><code>max_n</code></dt><dd><p>Maximum number of objects in the cache. If the number of objects
exceeds this value, then cached objects will be removed according to the
value of <code>evict</code>. Use <code>Inf</code> for no limit of number of items.</p>
</dd>
<dt><code>evict</code></dt><dd><p>The eviction policy to use to decide which objects are removed
when a cache pruning occurs. Currently, <code>"lru"</code> and <code>"fifo"</code> are supported.</p>
</dd>
<dt><code>destroy_on_finalize</code></dt><dd><p>If <code>TRUE</code>, then when the FileCache object is
garbage collected, the cache directory and all objects inside of it will be
deleted from disk. If <code>FALSE</code> (the default), it will do nothing when
finalized.</p>
</dd>
<dt><code>logfile</code></dt><dd><p>An optional filename or connection object to where logging
information will be written. To log to the console, use <code>stdout()</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-FileCache-get_file"></a>



<h4>Method <code>get_file()</code></h4>

<p>Get the content associated with <code>key</code>, and save in a file
named <code>outfile</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$get_file(key, outfile, overwrite = TRUE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Key. Must be lowercase numbers and letters.</p>
</dd>
<dt><code>outfile</code></dt><dd><p>Name of output file. If <code>NULL</code>, return the content as</p>
</dd>
<dt><code>overwrite</code></dt><dd><p>If the output file already exists, should it be
overwritten?</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>TRUE</code> if the object is found in the cache and copying succeeds,
<code>FALSE</code> otherwise.
</p>


<hr>
<a id="method-FileCache-get_content"></a>



<h4>Method <code>get_content()</code></h4>

<p>Get the content associated with <code>key</code>, and return as either
string or a raw vector.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$get_content(key, mode = c("text", "raw"))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Key. Must be lowercase numbers and letters.</p>
</dd>
<dt><code>mode</code></dt><dd><p>If <code>"text"</code>, return the content as a UTF-8-encoded text
string (a one element char vector). If <code>"raw"</code>, return the content as a
raw vector.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A character or raw vector if the object is found in the cache,
<code>NULL</code> otherwise.
</p>


<hr>
<a id="method-FileCache-set_file"></a>



<h4>Method <code>set_file()</code></h4>

<p>Sets content associated with <code>key</code>, from a file named
<code>infile</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$set_file(key, infile)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Key. Must be lowercase numbers and letters.</p>
</dd>
<dt><code>infile</code></dt><dd><p>Name of input file.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>TRUE</code> if copying the file into the cache succeeds, <code>FALSE</code>
otherwise.
</p>


<hr>
<a id="method-FileCache-set_content"></a>



<h4>Method <code>set_content()</code></h4>

<p>Sets content associated with <code>key</code>, from a single-element
vector.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$set_content(key, content)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Key. Must be lowercase numbers and letters.</p>
</dd>
<dt><code>content</code></dt><dd><p>A character or raw vector. If it is a character vector,
it will be written with UTF-8 encoding, with with elements collapsed
with <code style="white-space: pre;">&#8288;\\n&#8288;</code> (consistent across platforms).</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>TRUE</code> if setting the content in the cache succeeds, <code>FALSE</code>
otherwise.
</p>


<hr>
<a id="method-FileCache-exists"></a>



<h4>Method <code>exists()</code></h4>

<p>Check if content associated with <code>key</code> exists in cache
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$exists(key)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Key. Must be lowercase numbers and letters.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>TRUE</code> if the object is in the cache, <code>FALSE</code> otherwise.
</p>


<hr>
<a id="method-FileCache-keys"></a>



<h4>Method <code>keys()</code></h4>

<p>Get all keys
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$keys()</pre></div>



<h5>Returns</h5>

<p>A character vector of all keys currently in the cache.
</p>


<hr>
<a id="method-FileCache-remove"></a>



<h4>Method <code>remove()</code></h4>

<p>Remove an object
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$remove(key)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Key. Must be lowercase numbers and letters.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>TRUE</code> if the object was found and successfully removed, <code>FALSE</code>
otherwise.
</p>


<hr>
<a id="method-FileCache-reset"></a>



<h4>Method <code>reset()</code></h4>

<p>Clear all objects from the cache.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$reset()</pre></div>


<hr>
<a id="method-FileCache-dir"></a>



<h4>Method <code>dir()</code></h4>

<p>Returns the directory used for the cache.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$dir()</pre></div>


<hr>
<a id="method-FileCache-prune"></a>



<h4>Method <code>prune()</code></h4>

<p>Prune the cache, using the parameters specified by
<code>max_size</code>,   <code>max_age</code>, <code>max_n</code>, and <code>evict</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$prune()</pre></div>


<hr>
<a id="method-FileCache-size"></a>



<h4>Method <code>size()</code></h4>

<p>Return the number of items currently in the cache.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$size()</pre></div>


<hr>
<a id="method-FileCache-destroy"></a>



<h4>Method <code>destroy()</code></h4>

<p>Clears all objects in the cache, and removes the cache
directory from disk.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$destroy()</pre></div>


<hr>
<a id="method-FileCache-is_destroyed"></a>



<h4>Method <code>is_destroyed()</code></h4>

<p>Reports whether the cache has been destroyed.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$is_destroyed(throw = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>throw</code></dt><dd><p>Should this function throw an error if the cache has been
destroyed?</p>
</dd>
</dl>

</div>


<hr>
<a id="method-FileCache-finalize"></a>



<h4>Method <code>finalize()</code></h4>

<p>A finalizer for the cache.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$finalize()</pre></div>


<hr>
<a id="method-FileCache-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>FileCache$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='font_google'>Helpers for importing web fonts</h2><span id='topic+font_google'></span><span id='topic+font_link'></span><span id='topic+font_face'></span><span id='topic+font_collection'></span><span id='topic+is_font_collection'></span>

<h3>Description</h3>

<p>Include font file(s) when defining a Sass variable that represents a CSS
<code>font-family</code> property.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_google(
  family,
  local = TRUE,
  cache = sass_file_cache(sass_cache_context_dir()),
  wght = NULL,
  ital = NULL,
  display = c("swap", "auto", "block", "fallback", "optional")
)

font_link(family, href)

font_face(
  family,
  src,
  weight = NULL,
  style = NULL,
  display = c("swap", "auto", "block", "fallback", "optional"),
  stretch = NULL,
  variant = NULL,
  unicode_range = NULL
)

font_collection(..., default_flag = TRUE, quote = TRUE)

is_font_collection(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_google_+3A_family">family</code></td>
<td>
<p>A character string with a <em>single</em> font family name.</p>
</td></tr>
<tr><td><code id="font_google_+3A_local">local</code></td>
<td>
<p>Whether or not download and bundle local (woff2) font files.</p>
</td></tr>
<tr><td><code id="font_google_+3A_cache">cache</code></td>
<td>
<p>A <code><a href="#topic+sass_file_cache">sass_file_cache()</a></code> object (or, more generally, a file
caching class with <code style="white-space: pre;">&#8288;$get_file()&#8288;</code> and <code style="white-space: pre;">&#8288;$set_file()&#8288;</code> methods). Set this
argument to <code>FALSE</code> or <code>NULL</code> to disable caching.</p>
</td></tr>
<tr><td><code id="font_google_+3A_wght">wght</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li> <p><code>NULL</code>, the default weight for the <code>family</code>.
</p>
</li>
<li><p> A character string defining an <a href="https://developers.google.com/fonts/docs/css2#axis_ranges">axis range</a>
</p>
</li>
<li><p> A numeric vector of desired font weight(s).
</p>
</li></ul>
</td></tr>
<tr><td><code id="font_google_+3A_ital">ital</code></td>
<td>
<p>One of the following:
</p>

<ul>
<li> <p><code>NULL</code>, the default <code>font-style</code> for the <code>family</code>.
</p>
</li>
<li> <p><code>0</code>, meaning <code>font-style: normal</code>
</p>
</li>
<li> <p><code>1</code>, meaning <code>font-style: italic</code>
</p>
</li>
<li> <p><code>c(0, 1)</code>, meaning both <code>normal</code> and <code>italic</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="font_google_+3A_display">display</code></td>
<td>
<p>A character vector for the <code>font-display</code> <code style="white-space: pre;">&#8288;@font-face&#8288;</code>
property.</p>
</td></tr>
<tr><td><code id="font_google_+3A_href">href</code></td>
<td>
<p>A URL resource pointing to the font data.</p>
</td></tr>
<tr><td><code id="font_google_+3A_src">src</code></td>
<td>
<p>A character vector for the <code>src</code> <code style="white-space: pre;">&#8288;@font-face&#8288;</code> property. Beware
that is character strings are taken verbatim, so careful quoting and/or URL
encoding may be required.</p>
</td></tr>
<tr><td><code id="font_google_+3A_weight">weight</code></td>
<td>
<p>A character (or numeric) vector for the <code>font-weight</code>
<code style="white-space: pre;">&#8288;@font-face&#8288;</code> property.</p>
</td></tr>
<tr><td><code id="font_google_+3A_style">style</code></td>
<td>
<p>A character vector for the <code>font-style</code> <code style="white-space: pre;">&#8288;@font-face&#8288;</code> property.</p>
</td></tr>
<tr><td><code id="font_google_+3A_stretch">stretch</code></td>
<td>
<p>A character vector for the <code>font-stretch</code> <code style="white-space: pre;">&#8288;@font-face&#8288;</code>
property.</p>
</td></tr>
<tr><td><code id="font_google_+3A_variant">variant</code></td>
<td>
<p>A character vector for the <code>font-variant</code> <code style="white-space: pre;">&#8288;@font-face&#8288;</code>
property.</p>
</td></tr>
<tr><td><code id="font_google_+3A_unicode_range">unicode_range</code></td>
<td>
<p>A character vector for <code>unicode-range</code> <code style="white-space: pre;">&#8288;@font-face&#8288;</code>
property.</p>
</td></tr>
<tr><td><code id="font_google_+3A_...">...</code></td>
<td>
<p>a collection of <code>font_google()</code>, <code>font_link()</code>, <code>font_face()</code>, and/or character vector(s) (i.e., family names to include in the CSS <code>font-family</code> properly). Family names are automatically quoted as necessary.</p>
</td></tr>
<tr><td><code id="font_google_+3A_default_flag">default_flag</code></td>
<td>
<p>whether or not to include a <code>!default</code> when converted to a Sass variable with <code><a href="#topic+as_sass">as_sass()</a></code>.</p>
</td></tr>
<tr><td><code id="font_google_+3A_quote">quote</code></td>
<td>
<p>whether or not to attempt automatic quoting of family names.</p>
</td></tr>
<tr><td><code id="font_google_+3A_x">x</code></td>
<td>
<p>test whether <code>x</code> is a <code>font_collection()</code>, <code>font_google()</code>, <code>font_link()</code>, or <code>font_face()</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These helpers <strong>must be used the named list approach to variable
definitions</strong>, for example:
</p>
<div class="sourceCode"><pre>list(
  list("font-variable" = font_google("Pacifico")),
  list("body{font-family: $font-variable}")
)
</pre></div>


<h3>Value</h3>

<p>a <code><a href="#topic+sass_layer">sass_layer()</a></code> holding an <code><a href="htmltools.html#topic+htmlDependency">htmltools::htmlDependency()</a></code> which points
to the font files.
</p>


<h3>Font fallbacks</h3>

<p>By default, <code>font_google()</code> downloads, caches, and serves the relevant font
file(s) locally. By locally serving files, there's a guarantee that the font
can render in any client browser, even when the client doesn't have internet
access. However, when importing font files remotely (i.e., <code>font_google(..., local = FALSE)</code> or <code>font_link()</code>), it's a good idea to provide fallback
font(s) in case the remote link isn't working (e.g., maybe the end user
doesn't have an internet connection). To provide fallback fonts, use
<code><a href="#topic+font_collection">font_collection()</a></code>, for example:
</p>
<div class="sourceCode"><pre>pacifico &lt;- font_google("Pacifico", local = FALSE)
as_sass(list(
  list("font-variable" = font_collection(pacifico, "system-ui")),
  list("body{font-family: $font-variable}")
))
</pre></div>


<h3>Default flags</h3>

<p>These font helpers encourage best practice of adding a <code>!default</code> to Sass
variable definitions, but the flag may be removed via <code>font_collection()</code> if
desired.
</p>
<div class="sourceCode"><pre>as_sass(list("font-variable" = pacifico))
#&gt; $font-variable: Pacifico !default;
as_sass(list("font-variable" = font_collection(pacifico, default_flag = F)))
#&gt; $font-variable: Pacifico;
</pre></div>


<h3>Serving non-Google fonts locally</h3>

<p>Non-Google fonts may also be served locally with <code>font_face()</code>, but it
requires downloading font file(s) and pointing <code>src</code> to the right location
on disk. If you want <code>src</code> to be a relative file path (you almost certainly
do), then you'll need to mount that resource path using something like
<code><a href="shiny.html#topic+resourcePaths">shiny::addResourcePath()</a></code> (for a shiny app) or <code>servr::httd()</code> (for static
HTML).
</p>


<h3>References</h3>

<p><a href="https://developers.google.com/fonts/docs/css2">https://developers.google.com/fonts/docs/css2</a>
</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face">https://developer.mozilla.org/en-US/docs/Web/CSS/@font-face</a>
</p>
<p><a href="https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Web_fonts">https://developer.mozilla.org/en-US/docs/Learn/CSS/Styling_text/Web_fonts</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(htmltools)

my_font &lt;- list("my-font" = font_google("Pacifico"))
hello &lt;- tags$body(
  "Hello",
  tags$style(
    sass(
      list(
        my_font,
        list("body {font-family: $my-font}")
      )
    )
  )
)

if (interactive()) {
  browsable(hello)
}

# Three different yet equivalent ways of importing a remotely-hosted Google Font
a &lt;- font_google("Crimson Pro", wght = "200..900", local = FALSE)
b &lt;- font_link(
  "Crimson Pro",
  href = "https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@200..900"
)
url &lt;- "https://fonts.gstatic.com/s/crimsonpro/v13/q5uDsoa5M_tv7IihmnkabARboYF6CsKj.woff2"
c &lt;- font_face(
  family = "Crimson Pro",
  style = "normal",
  weight = "200 900",
  src = paste0("url(", url, ") format('woff2')")
)
</code></pre>

<hr>
<h2 id='output_template'>An intelligent (temporary) output file</h2><span id='topic+output_template'></span>

<h3>Description</h3>

<p>Intended for use with <code><a href="#topic+sass">sass()</a></code>'s <code>output</code> argument for temporary file
generation that is <code>cache</code> and <code>options</code> aware. In particular, this ensures
that new redundant file(s) aren't generated on a <code><a href="#topic+sass">sass()</a></code> cache hit, and that
the file's extension is suitable for the <code><a href="#topic+sass_options">sass_options()</a></code>'s <code>output_style</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>output_template(
  basename = "sass",
  dirname = basename,
  fileext = NULL,
  path = tempdir()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="output_template_+3A_basename">basename</code></td>
<td>
<p>a non-empty character string giving the outfile name (without
the extension).</p>
</td></tr>
<tr><td><code id="output_template_+3A_dirname">dirname</code></td>
<td>
<p>a non-empty character string giving the initial part of the
directory name.</p>
</td></tr>
<tr><td><code id="output_template_+3A_fileext">fileext</code></td>
<td>
<p>the output file extension. The default is <code>".min.css"</code> for
compressed and compact output styles; otherwise, its <code>".css"</code>.</p>
</td></tr>
<tr><td><code id="output_template_+3A_path">path</code></td>
<td>
<p>the output file's root directory path.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function with two arguments: <code>options</code> and <code>suffix</code>. When called inside
<code><a href="#topic+sass">sass()</a></code> with caching enabled, the caching key is supplied to <code>suffix</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sass("body {color: red}", output = output_template())

func &lt;- output_template(basename = "foo", dirname = "bar-")
func(suffix = "baz")

</code></pre>

<hr>
<h2 id='sass'>Compile Sass to CSS</h2><span id='topic+sass'></span>

<h3>Description</h3>

<p>Compile Sass to CSS using LibSass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass(
  input = NULL,
  options = sass_options_get(),
  output = NULL,
  write_attachments = NA,
  cache = sass_cache_get(),
  cache_key_extra = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_+3A_input">input</code></td>
<td>
<p>Any of the following:
</p>

<ul>
<li><p> A character vector containing Sass code.
</p>
</li>
<li><p> A named list containing variable names and values.
</p>
</li>
<li><p> A <code><a href="#topic+sass_file">sass_file()</a></code>, <code><a href="#topic+sass_layer">sass_layer()</a></code>, and/or <code><a href="#topic+sass_bundle">sass_bundle()</a></code>.
</p>
</li>
<li><p> A <code><a href="base.html#topic+list">list()</a></code> containing any of the above.
</p>
</li></ul>
</td></tr>
<tr><td><code id="sass_+3A_options">options</code></td>
<td>
<p>Compiler <code><a href="#topic+sass_options">sass_options()</a></code>.</p>
</td></tr>
<tr><td><code id="sass_+3A_output">output</code></td>
<td>
<p>Specifies path to output file for compiled CSS. May be a
character string or <code><a href="#topic+output_template">output_template()</a></code></p>
</td></tr>
<tr><td><code id="sass_+3A_write_attachments">write_attachments</code></td>
<td>
<p>If the input contains <code><a href="#topic+sass_layer">sass_layer()</a></code> objects that
have file attachments, and <code>output</code> is not <code>NULL</code>, then copy the file
attachments to the directory of <code>output</code>. (Defaults to <code>NA</code>, which merely
emits a warning if file attachments are present, but does not write them to
disk; the side-effect of writing extra files is subtle and potentially
destructive, as files may be overwritten.)</p>
</td></tr>
<tr><td><code id="sass_+3A_cache">cache</code></td>
<td>
<p>This can be a directory to use for the cache, a <a href="#topic+FileCache">FileCache</a>
object created by <code><a href="#topic+sass_file_cache">sass_file_cache()</a></code>, or <code>FALSE</code> or <code>NULL</code> for no caching.</p>
</td></tr>
<tr><td><code id="sass_+3A_cache_key_extra">cache_key_extra</code></td>
<td>
<p>additional information to considering when computing
the cache key. This should include any information that could possibly
influence the resulting CSS that isn't already captured by <code>input</code>. For
example, if <code>input</code> contains something like <code>"@import sass_file.scss"</code> you
may want to include the <code><a href="base.html#topic+file.mtime">file.mtime()</a></code> of <code>sass_file.scss</code> (or, perhaps, a
<code><a href="utils.html#topic+packageVersion">packageVersion()</a></code> if <code>sass_file.scss</code> is bundled with an R package).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>output = NULL</code>, the function returns a string value of the
compiled CSS. If <code>output</code> is specified, the compiled CSS is written to a
file and the filename is returned.
</p>


<h3>Caching</h3>

<p>By default, caching is enabled, meaning that <code>sass()</code> avoids the possibly
expensive re-compilation of CSS whenever the same <code>options</code> and <code>input</code> are
requested. Unfortunately, in some cases, <code>options</code> and <code>input</code> alone aren't
enough to determine whether new CSS output must be generated. For example,
changes in local file
<a href="https://sass-lang.com/documentation/at-rules/import">imports</a> that aren't
captured through <code><a href="#topic+sass_file">sass_file()</a></code>/<code><a href="#topic+sass_import">sass_import()</a></code>, may lead to a
false-positive cache hit. For this reason, developers are encouraged to
capture such information in <code>cache_key_extra</code> (possibly with
<code>packageVersion('myPackage')</code> if shipping Sass with a package), and users
may want to disable caching altogether during local development by calling
<code>options(sass.cache=FALSE)</code>.
</p>
<p>In some cases when developing and modifying .scss files, <code><a href="#topic+sass">sass()</a></code> might not
detect changes, and keep using cached .css files instead of rebuilding
them. To be safe, if you are developing a theme with sass, it's best to
turn off caching by calling <code>options(sass.cache=FALSE)</code>.
</p>
<p>If caching is enabled, <code><a href="#topic+sass">sass()</a></code> will attempt to bypass the compilation
process by reusing output from previous <code><a href="#topic+sass">sass()</a></code> calls that used equivalent
inputs. This mechanism works by computing a <em>cache key</em> from each <code><a href="#topic+sass">sass()</a></code>
call's <code>input</code>, <code>option</code>, and <code>cache_key_extra</code> arguments. If an object
with that hash already exists within the cache directory, its contents are
used instead of performing the compilation. If it does not exist, then
compilation is performed and usual and the results are stored in the cache.
</p>
<p>If a file that is included using <code><a href="#topic+sass_file">sass_file()</a></code> changes on disk (i.e. its
last-modified time changes), its previous cache entries will effectively be
invalidated (not removed from disk, but they'll no longer be matched).
However, if a file imported using <code><a href="#topic+sass_file">sass_file()</a></code> itself imports other sass
files using <code style="white-space: pre;">&#8288;@import&#8288;</code>, changes to those files are invisible to the
cache and you can end up with stale results. To avoid this problem when
developing sass code, it's best to disable caching with
<code>options(sass.cache=FALSE)</code>.
</p>
<p>By default, the maximum size of the cache is 40 MB. If it grows past that
size, the least-recently-used objects will be evicted from the cache to
keep it under that size. Also by default, the maximum age of objects in the
cache is one week. Older objects will be evicted from the cache.
</p>
<p>To clear the default cache, call <code>sass_cache_get()$reset()</code>.
</p>


<h3>See Also</h3>

<p><a href="https://sass-lang.com/guide">https://sass-lang.com/guide</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Raw Sass input
sass("foo { margin: 122px * .3; }")

# List of inputs, including named variables
sass(list(
  list(width = "122px"),
  "foo { margin: $width * .3; }"
))

# Compile a .scss file
example_file &lt;- system.file("examples/example-full.scss", package = "sass")
sass(sass_file(example_file))

# Import a file
tmp_file &lt;- tempfile()
writeLines("foo { margin: $width * .3; }", tmp_file)
sass(list(
  list(width = "122px"),
  sass_file(tmp_file)
))

## Not run: 
# ======================
# Caching examples
# ======================
# Very slow to compile
fib_sass &lt;- "@function fib($x) {
  @if $x &lt;= 1 {
    @return $x
  }
  @return fib($x - 2) + fib($x - 1);
}

body {
  width: fib(27);
}"

# The first time this runs it will be very slow
system.time(sass(fib_sass))

# But on subsequent calls, it should be very fast
system.time(sass(fib_sass))

# sass() can be called with cache=NULL; it will be slow
system.time(sass(fib_sass, cache = NULL))

# Clear the cache
sass_cache_get()$reset()

## End(Not run)

## Not run: 
# Example of disabling cache by setting the default cache to NULL.

# Disable the default cache (save the original one first, so we can restore)
old_cache &lt;- sass_cache_get()
sass_cache_set(NULL)
# Will be slow, because no cache
system.time(sass(fib_sass))

# Restore the original cache
sass_cache_set(old_cache)

## End(Not run)
</code></pre>

<hr>
<h2 id='sass_cache_context_dir'>Return the cache directory for the current context.</h2><span id='topic+sass_cache_context_dir'></span>

<h3>Description</h3>

<p>Return the cache directory for the current context.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_cache_context_dir()
</code></pre>


<h3>Details</h3>

<p>In most cases, this function returns the user's cache directory, by calling
<code>tools::R_user_dir("sass", which = "cache")</code> (for R 4.0 and above) or
<code>rappdirs::user_cache_dir("R-sass")</code> (for older versions of R).
</p>
<p>If this function is called from a Shiny application, it will also look for a
subdirectory named <code style="white-space: pre;">&#8288;app_cache/&#8288;</code>. If it exists, it will use a directory named
<code style="white-space: pre;">&#8288;app_cache/sass/&#8288;</code> to store the cache.
</p>
<p>When running a Shiny application in a typical R session, it will not create
the <code style="white-space: pre;">&#8288;app_cache/&#8288;</code> subdirectory, but it will use it if present. This scopes the
cache to the application.
</p>
<p>With Shiny applications hosted on Shiny Server and Connect, it <em>will</em> create
a <code style="white-space: pre;">&#8288;app_cache/sass/&#8288;</code> subdirectory, so that the cache is scoped to the
application and will not interfere with another application's cache.
</p>

<hr>
<h2 id='sass_cache_get'>Retrieve the default file cache</h2><span id='topic+sass_cache_get'></span>

<h3>Description</h3>

<p>When caching is enabled, this function returns a <code><a href="#topic+sass_file_cache">sass_file_cache()</a></code> object
that <code><a href="#topic+sass">sass()</a></code>'s <code>cache</code> argument uses (by default) for caching Sass
compilation. When caching is disabled (either by setting the <code>sass.cache</code>
option to <code>FALSE</code>, <code>NULL</code>, or via <code><a href="shiny.html#topic+devmode">shiny::devmode()</a></code>), this function returns
<code>NULL</code> (effectively telling <code><a href="#topic+sass">sass()</a></code> to not <code>cache</code> by default).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_cache_get()
</code></pre>


<h3>Details</h3>

<p>When caching is enabled, then this function returns a <code>sass_file_cache()</code>
object that (by default) uses <code><a href="#topic+sass_cache_context_dir">sass_cache_context_dir()</a></code> for its directory.
The directory can also be customized by providing the <code>sass.cache</code> option
with either a filepath (as a string) or a full-blown <code>sass_file_cache()</code>
object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sass_cache_get_dir">sass_cache_get_dir()</a></code>, <code><a href="#topic+sass">sass()</a></code>
</p>

<hr>
<h2 id='sass_cache_get_dir'>Get and set the cache object registered for a specific directory</h2><span id='topic+sass_cache_get_dir'></span><span id='topic+sass_cache_set_dir'></span>

<h3>Description</h3>

<p>Get and set the cache object registered for a specific directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_cache_get_dir(dir, create = FALSE)

sass_cache_set_dir(dir, cache)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_cache_get_dir_+3A_dir">dir</code></td>
<td>
<p>A directory. An error will be thrown if the directory does not
exist.</p>
</td></tr>
<tr><td><code id="sass_cache_get_dir_+3A_create">create</code></td>
<td>
<p>If <code>TRUE</code>, then if the cache directory doesn't exist, or if
there is not a registered cache object for the directory, create them as
needed.</p>
</td></tr>
<tr><td><code id="sass_cache_get_dir_+3A_cache">cache</code></td>
<td>
<p>A <code><a href="#topic+sass_file_cache">sass_file_cache()</a></code> object, or <code>NULL</code> if you don't want to
unset the cache for a directory.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>sass_cache_get_dir()</code> is called for a given directory, before
<code>sass_cache_set_dir()</code> has been called for that directory, then it will
return <code>NULL</code>.
</p>
<p>After <code>sass_cache_set_dir()</code> is called for a directory, any future calls to
<code>sass_cache_get_dir()</code> with that directory will return that specific cache
object. This can be useful if you customize parameters for the cache object,
like maximum size or age.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sass_cache_get">sass_cache_get()</a></code>, <code><a href="#topic+sass_file_cache">sass_file_cache()</a></code>, <code><a href="#topic+sass">sass()</a></code>
</p>

<hr>
<h2 id='sass_cache_options'>Caching Options for Sass (defunct)</h2><span id='topic+sass_cache_options'></span>

<h3>Description</h3>

<p>This function is no longer used. Please see <code><a href="#topic+sass_cache_get">sass_cache_get()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_cache_options(cache, cache_dir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_cache_options_+3A_cache">cache</code></td>
<td>
<p>No longer used.</p>
</td></tr>
<tr><td><code id="sass_cache_options_+3A_cache_dir">cache_dir</code></td>
<td>
<p>No longer used.</p>
</td></tr>
</table>

<hr>
<h2 id='sass_file_cache'>Create a file cache object</h2><span id='topic+sass_file_cache'></span>

<h3>Description</h3>

<p>This creates a file cache which is to be used by sass for caching generated
.css files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_file_cache(dir, max_size = 40 * 1024^2, max_age = Inf)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_file_cache_+3A_dir">dir</code></td>
<td>
<p>The directory in which to store the cached files.</p>
</td></tr>
<tr><td><code id="sass_file_cache_+3A_max_size">max_size</code></td>
<td>
<p>The maximum size of the cache, in bytes. If the cache grows
past this size, the least-recently-used objects will be removed until it
fits within this size.</p>
</td></tr>
<tr><td><code id="sass_file_cache_+3A_max_age">max_age</code></td>
<td>
<p>The maximum age of objects in the cache, in seconds. The
default is one week.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="#topic+FileCache">FileCache</a> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sass_cache_get">sass_cache_get()</a></code>, <code><a href="#topic+sass_cache_context_dir">sass_cache_context_dir()</a></code>, <a href="#topic+FileCache">FileCache</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Create a cache with the default settings
cache &lt;- sass_file_cache(sass_cache_context_dir())

# Clear the cache
cache$reset()

## End(Not run)

</code></pre>

<hr>
<h2 id='sass_import'>Sass Import</h2><span id='topic+sass_import'></span><span id='topic+sass_file'></span>

<h3>Description</h3>

<p>Create an import statement to be used within your Sass file. See
<a href="https://sass-lang.com/documentation/at-rules/import">https://sass-lang.com/documentation/at-rules/import</a> for
more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_import(input, quote = TRUE)

sass_file(input)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_import_+3A_input">input</code></td>
<td>
<p>Character string to be placed in an import statement.</p>
</td></tr>
<tr><td><code id="sass_import_+3A_quote">quote</code></td>
<td>
<p>Logical that determines if a double quote is added to the import
value. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sass_file()</code> adds extra checks to make sure an appropriate file path
exists given the input value.
</p>
<p>Note that the LibSass compiler expects .sass files to use the Sass Indented
Syntax.
</p>


<h3>Value</h3>

<p>Fully defined Sass import string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sass_import("foo")
sass_import("$foo", FALSE)

tmp_scss_file &lt;- tempfile(fileext = ".scss")
writeLines("$color: red; body{ color: $color; }", tmp_scss_file)
sass_file(tmp_scss_file)
sass(sass_file(tmp_scss_file))

</code></pre>

<hr>
<h2 id='sass_layer'>Bundling Sass layers</h2><span id='topic+sass_layer'></span><span id='topic+sass_layer_file'></span><span id='topic+sass_bundle'></span><span id='topic+sass_bundle_remove'></span><span id='topic+is_sass_bundle'></span>

<h3>Description</h3>

<p>Sass layers provide a way to package Sass variables, rules, functions, and
mixins in a structured and composable way that follows best Sass practices.
Most importantly, when multiple <code>sass_layer()</code> are combined into a
<code>sass_bundle()</code>, variable <code>defaults</code> for later layers are placed <em>before</em>
earlier layers, effectively 'new' defaults through all the 'old' defaults.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_layer(
  functions = NULL,
  defaults = NULL,
  mixins = NULL,
  rules = NULL,
  html_deps = NULL,
  file_attachments = character(0),
  declarations = NULL,
  tags = NULL
)

sass_layer_file(file)

sass_bundle(...)

sass_bundle_remove(bundle, name)

is_sass_bundle(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_layer_+3A_functions">functions</code></td>
<td>
<p><code><a href="#topic+as_sass">as_sass()</a></code> <code>input</code> intended for <a href="https://rstudio.github.io/sass/articles/sass.html#functions-1">Sass functions</a>.
Functions are placed before <code>defaults</code> so that variable definitions may make
use of functions.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_defaults">defaults</code></td>
<td>
<p><code><a href="#topic+as_sass">as_sass()</a></code> <code>input</code> intended for <a href="https://rstudio.github.io/sass/articles/sass.html#variables-1">variable defaults</a>.
These variable defaults after placed after <code>functions</code> but before <code>mixins</code>.
When multiple layers are combined in a <code>sass_bundle()</code>, defaults are merged
in reverse order; that is, <code>sass_bundle(layer1, layer2)</code> will include
<code>layer2$defaults</code> before <code>layer1$defaults</code>.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_mixins">mixins</code></td>
<td>
<p><code><a href="#topic+as_sass">as_sass()</a></code> <code>input</code> intended for <a href="https://rstudio.github.io/sass/articles/sass.html#mixins-1">Sass mixins</a>. Mixins
are placed after <code>defaults</code>, but before <code>rules</code>.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_rules">rules</code></td>
<td>
<p><code><a href="#topic+as_sass">as_sass()</a></code> <code>input</code> intended for <a href="https://sass-lang.com/documentation/style-rules">Sass rules</a>. Rules are placed last
(i.e., after <code>functions</code>, <code>defaults</code>, and <code>mixins</code>).</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_html_deps">html_deps</code></td>
<td>
<p>An HTML dependency (or a list of them). This dependency
gets attached to the return value of <code><a href="#topic+sass">sass()</a></code>/<code><a href="#topic+as_sass">as_sass()</a></code>.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_file_attachments">file_attachments</code></td>
<td>
<p>A named character vector, representing file assets
that are referenced (using relative paths) from the sass in this layer. The
vector names should be a relative path, and the corresponding vector values
should be absolute paths to files or directories that exist; at render
time, each value will be copied to the relative path indicated by its name.
(For directories, the <em>contents</em> of the source directory will be copied
into the destination directory; the directory itself will not be copied.)
You can also omit the name, in which case that file or directory will be
copied directly into the output directory.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_declarations">declarations</code></td>
<td>
<p>Deprecated, use <code>functions</code> or <code>mixins</code> instead.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_tags">tags</code></td>
<td>
<p>Deprecated. Preserve meta information using a key in <code>sass_bundle(KEY = val)</code>.
preserve simple metadata as layers are merged.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_file">file</code></td>
<td>
<p>file path to a <code>.scss</code> file.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_...">...</code></td>
<td>
<p>A collection of <code>sass_layer()</code>s and/or objects that <code><a href="#topic+as_sass">as_sass()</a></code>
understands. Arguments should be provided in reverse priority order:
defaults, declarations, and rules in later layers will take precedence over
those of previous layers. Non-layer values will be converted to layers by
calling <code>sass_layer(rules = ...)</code>.</p>
</td></tr>
<tr><td><code id="sass_layer_+3A_bundle">bundle</code></td>
<td>
<p>Output value from <code>sass_layer()</code> or <code>sass_bundle()</code></p>
</td></tr>
<tr><td><code id="sass_layer_+3A_name">name</code></td>
<td>
<p>If a Sass layer name is contained in <code>name</code>, the matching Sass layer will be removed from the <code>bundle</code></p>
</td></tr>
<tr><td><code id="sass_layer_+3A_x">x</code></td>
<td>
<p>object to inspect</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>sass_layer()</code>: Compose the parts of a single Sass layer. Object returned is a <code>sass_bundle()</code> with a single Sass layer
</p>
</li>
<li> <p><code>sass_layer_file()</code>: Read in a <code>.scss</code> file with parse special <code style="white-space: pre;">&#8288;/*-- scss:(functions|defaults|rules|mixins) --*/&#8288;</code> comments as relevant sections of a <code>sass_layer()</code>.
</p>
</li>
<li> <p><code>sass_bundle()</code>: Collect <code>sass_bundle()</code> and/or <code>sass_layer()</code> objects. Unnamed Sass bundles will be concatenated together, preserving their internal name structures. Named Sass bundles will be condensed into a single Sass layer for easier removal from the returned Sass bundle.
</p>
</li>
<li> <p><code>sass_bundle_remove()</code>: Remove a whole <code>sass_layer()</code> from a <code>sass_bundle()</code> object.
</p>
</li>
<li> <p><code>is_sass_bundle()</code>: Check if <code>x</code> is a Sass bundle object
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>blue &lt;- list(color = "blue !default")
red &lt;- list(color = "red !default")
green &lt;- list(color = "green !default")

# a sass_layer() by itself is not very useful, it just defines some
# SASS to place before (defaults) and after (rules)
core &lt;- sass_layer(defaults = blue, rules = "body { color: $color; }")
core
sass(core)

# However, by stacking sass_layer()s, we have ability to place
# SASS both before and after some other sass (e.g., core)
# Here we place a red default _before_ the blue default and export the
# color SASS variable as a CSS variable _after_ the core
red_layer &lt;- sass_layer(red, rules = ":root{ --color: #{$color}; }")
sass(sass_bundle(core, red_layer))
sass(sass_bundle(core, red_layer, sass_layer(green)))

# Example of merging layers and removing a layer
# Remember to name the layers that are removable
core_layers &lt;- sass_bundle(core, red = red_layer, green = sass_layer(green))
core_layers # pretty printed for console
core_slim &lt;- sass_bundle_remove(core_layers, "red")
sass(core_slim)


# File attachment example: Create a checkboard pattern .png, then
# use it from a sass layer

tmp_png &lt;- tempfile(fileext = ".png")
grDevices::png(filename = tmp_png, width = 20, height = 20,
  bg = "transparent", antialias = "none")
par(mar = rep_len(0,4), xaxs = "i", yaxs = "i")
plot.new()
rect(c(0,0.5), c(0,0.5), c(0.5,1), c(0.5,1), col = "#00000044", border=NA)
dev.off()

layer &lt;- sass_layer(
  rules = ".bg-check { background-image: url(images/demo_checkboard_bg.png) }",
  file_attachments = c("images/demo_checkboard_bg.png" = tmp_png)
)

output_path &lt;- tempfile(fileext = ".css")
sass(layer, output = output_path, write_attachments = TRUE)
</code></pre>

<hr>
<h2 id='sass_options'>Compiler Options for Sass</h2><span id='topic+sass_options'></span><span id='topic+sass_options_get'></span><span id='topic+sass_options_set'></span>

<h3>Description</h3>

<p>Specify compiler <code>options</code> for <code><a href="#topic+sass">sass()</a></code>. To customize options, either provide
<code>sass_options()</code> directly to a <code><a href="#topic+sass">sass()</a></code> call or set options globally via
<code>sass_options_set()</code>. When <code>shiny::devmode()</code> is enabled,
<code>sass_options_get()</code> defaults <code>source_map_embed</code> and <code>source_map_contents</code> to
<code>TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_options(
  precision = 5,
  output_style = "expanded",
  indented_syntax = FALSE,
  include_path = "",
  source_comments = FALSE,
  indent_type = "space",
  indent_width = 2,
  linefeed = "lf",
  output_path = "",
  source_map_file = "",
  source_map_root = "",
  source_map_embed = FALSE,
  source_map_contents = FALSE,
  omit_source_map_url = FALSE
)

sass_options_get(...)

sass_options_set(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_options_+3A_precision">precision</code></td>
<td>
<p>Number of decimal places.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_output_style">output_style</code></td>
<td>
<p>Bracketing and formatting style of the CSS output.
Possible styles: <code>"nested"</code>, <code>"expanded"</code>, <code>"compact"</code>, and
<code>"compressed"</code>.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_indented_syntax">indented_syntax</code></td>
<td>
<p>Enables the compiler to parse Sass Indented Syntax in
strings. Note that the compiler automatically overrides this option to
<code>TRUE</code> or <code>FALSE</code> for files with .sass and .scss file extensions
respectively.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_include_path">include_path</code></td>
<td>
<p>Vector of paths used to resolve <code style="white-space: pre;">&#8288;@import&#8288;</code>. Multiple
paths are possible using a character vector of paths.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_source_comments">source_comments</code></td>
<td>
<p>Annotates CSS output with line and file comments from
Sass file for debugging.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_indent_type">indent_type</code></td>
<td>
<p>Specifies the indent type as <code>"space"</code> or
<code>"tab"</code>.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_indent_width">indent_width</code></td>
<td>
<p>Number of tabs or spaces used for indentation. Maximum
10.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_linefeed">linefeed</code></td>
<td>
<p>Specifies how new lines should be delimited. Possible values:
<code>"lf"</code>, <code>"cr"</code>, <code>"lfcr"</code>, and <code>"crlf"</code>.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_output_path">output_path</code></td>
<td>
<p>Specifies the location of the output file. Note: this
option will not write the file on disk. It is only for internal reference
with the source map.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_source_map_file">source_map_file</code></td>
<td>
<p>Specifies the location for Sass to write the source
map.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_source_map_root">source_map_root</code></td>
<td>
<p>Value will be included as source root in the source
map information.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_source_map_embed">source_map_embed</code></td>
<td>
<p>Embeds the source map as a data URI.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_source_map_contents">source_map_contents</code></td>
<td>
<p>Includes the contents in the source map
information.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_omit_source_map_url">omit_source_map_url</code></td>
<td>
<p>Disable the inclusion of source map information in
the output file. Note: must specify <code>output_path</code> when <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sass_options_+3A_...">...</code></td>
<td>
<p>arguments to <code><a href="#topic+sass_options">sass_options()</a></code>. For <code>sass_options_set()</code>, the
following values are also acceptable:
</p>

<ul>
<li> <p><code>NULL</code>, clearing the global options.
</p>
</li>
<li><p> Return value of <code>sass_options_get()</code>.
</p>
</li>
<li><p> Return value of <code>sass_options_set()</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>List of Sass compiler options to be used with <code><a href="#topic+sass">sass()</a></code>. For
<code>sass_options_set()</code>, any previously set global options are returned.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- "foo { margin: 122px * .001; }"
sass(x)

# Provide options directly to sass()
sass(x, options = sass_options(precision = 1, output_style = "compact"))

# Or set some option(s) globally
old_options &lt;- sass_options_set(precision = 1)
sass(x)

# Specify local options  while also respecting global options
sass(x, options = sass_options_get(output_style = "compact"))

# Restore original state
sass_options_set(old_options)

</code></pre>

<hr>
<h2 id='sass_partial'>Compile rules against a Sass Bundle or Sass Layer object</h2><span id='topic+sass_partial'></span>

<h3>Description</h3>

<p>Replaces the rules for a <code><a href="#topic+sass_layer">sass_layer()</a></code> object with new rules, and compile it.
This is useful when (for example) you want to compile a set of rules using
variables derived from a theme, but you do not want the resulting CSS for the
entire theme &ndash; just the CSS for the specific rules passed in.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_partial(
  rules,
  bundle,
  options = sass_options_get(),
  output = NULL,
  write_attachments = NA,
  cache = sass_cache_get(),
  cache_key_extra = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sass_partial_+3A_rules">rules</code></td>
<td>
<p>A set of sass rules, which will be used instead of the rules
from <code>layer</code>.</p>
</td></tr>
<tr><td><code id="sass_partial_+3A_bundle">bundle</code></td>
<td>
<p>A <code><a href="#topic+sass_bundle">sass_bundle()</a></code> or <code><a href="#topic+sass_layer">sass_layer()</a></code> object.</p>
</td></tr>
<tr><td><code id="sass_partial_+3A_options">options</code></td>
<td>
<p>Compiler <code><a href="#topic+sass_options">sass_options()</a></code>.</p>
</td></tr>
<tr><td><code id="sass_partial_+3A_output">output</code></td>
<td>
<p>Specifies path to output file for compiled CSS. May be a
character string or <code><a href="#topic+output_template">output_template()</a></code></p>
</td></tr>
<tr><td><code id="sass_partial_+3A_write_attachments">write_attachments</code></td>
<td>
<p>If the input contains <code><a href="#topic+sass_layer">sass_layer()</a></code> objects that
have file attachments, and <code>output</code> is not <code>NULL</code>, then copy the file
attachments to the directory of <code>output</code>. (Defaults to <code>NA</code>, which merely
emits a warning if file attachments are present, but does not write them to
disk; the side-effect of writing extra files is subtle and potentially
destructive, as files may be overwritten.)</p>
</td></tr>
<tr><td><code id="sass_partial_+3A_cache">cache</code></td>
<td>
<p>This can be a directory to use for the cache, a <a href="#topic+FileCache">FileCache</a>
object created by <code><a href="#topic+sass_file_cache">sass_file_cache()</a></code>, or <code>FALSE</code> or <code>NULL</code> for no caching.</p>
</td></tr>
<tr><td><code id="sass_partial_+3A_cache_key_extra">cache_key_extra</code></td>
<td>
<p>additional information to considering when computing
the cache key. This should include any information that could possibly
influence the resulting CSS that isn't already captured by <code>input</code>. For
example, if <code>input</code> contains something like <code>"@import sass_file.scss"</code> you
may want to include the <code><a href="base.html#topic+file.mtime">file.mtime()</a></code> of <code>sass_file.scss</code> (or, perhaps, a
<code><a href="utils.html#topic+packageVersion">packageVersion()</a></code> if <code>sass_file.scss</code> is bundled with an R package).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>theme &lt;- sass_layer(
  defaults = sass_file(system.file("examples/variables.scss", package = "sass")),
  rules = sass_file(system.file("examples/rules.scss", package = "sass"))
)

# Compile the theme
sass(theme)

# Sometimes we want to use the variables from the theme to compile other sass
my_rules &lt;- ".someclass { background-color: $bg; color: $fg; }"
sass_partial(my_rules, theme)

</code></pre>

<hr>
<h2 id='sass-deprecated'>Deprecated</h2><span id='topic+sass-deprecated'></span><span id='topic+sass_layer_merge'></span>

<h3>Description</h3>

<p>Deprecated Sass functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sass_layer_merge(...)
</code></pre>


<h3>Functions</h3>


<ul>
<li> <p><code>sass_layer_merge()</code>: Please use <code>sass_bundle(...)</code>
</p>
</li></ul>

<hr>
<h2 id='write_file_attachments'>Write file attachments from a sass theme object</h2><span id='topic+write_file_attachments'></span>

<h3>Description</h3>

<p>Write file attachments from a sass theme object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_file_attachments(file_attachments, output_path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_file_attachments_+3A_file_attachments">file_attachments</code></td>
<td>
<p>A character vector of files or directories.</p>
</td></tr>
<tr><td><code id="write_file_attachments_+3A_output_path">output_path</code></td>
<td>
<p>A directory to copy the attachments to.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

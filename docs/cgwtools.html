<!DOCTYPE html><html lang="en"><head><title>Help for package cgwtools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cgwtools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cgwtools-package'><p> A collection of tools that the author finds handy</p></a></li>
<li><a href='#approxeq'>
<p>Do &quot;fuzzy&quot; equality and return a logical vector.</p></a></li>
<li><a href='#ascarr'><p>Banner Versions of Characters</p></a></li>
<li><a href='#askrm'>
<p>Interactive application of selected function  a  list of objects.</p></a></li>
<li><a href='#banvax'>
<p>Function print a text banner in the style of the original DEC VAX &quot;banner&quot; function.</p></a></li>
<li><a href='#base2base'>
<p>Function to convert any base to any other base (up to 36).</p></a></li>
<li><a href='#binit'>
<p>Create histogram bins for each unique value in a sample.</p></a></li>
<li><a href='#cumfun'>
<p>Function calculate the cumulative result of any function along an input vector.</p></a></li>
<li><a href='#dim'>
<p>Function to return dimensions of arguments, or lengths if dim==NULL.</p></a></li>
<li><a href='#dirdir'>
<p>Wrapper function around dir() which returns only directories found in the specified location(s).</p></a></li>
<li><a href='#findpat'>
<p>Function to locate patterns ( sequences of strings or numerical values) in data vectors.</p></a></li>
<li><a href='#getstack'>
<p>Returns the current directory stack that pushd and popd manipulate</p></a></li>
<li><a href='#inverse.seqle'>
<p>Inverse of <code>seqle</code></p></a></li>
<li><a href='#lsclass'>
<p>Q&amp;D function to list all objects with the specified <code>class attribute</code> .</p></a></li>
<li><a href='#lsdata'>
<p>List all objects in an <code>.Rdata</code> file.</p></a></li>
<li><a href='#lssize'>
<p>List the sizes of all selected objects.</p></a></li>
<li><a href='#lstype'>
<p>List all objects of the specified type.</p></a></li>
<li><a href='#maxn'>
<p>Functions to find the n-th maximum or minimum of a vector or array.</p></a></li>
<li><a href='#minRow'>
<p>Functions which mimic <code>max.col</code> to find for minimum or maximum of rows or columns.</p></a></li>
<li><a href='#mystat'>
<p>Calculate and display basic statistics for an object.</p></a></li>
<li><a href='#polyInt'>
<p>Function to find intersection points of two polygons.</p></a></li>
<li><a href='#popd'>
<p>Performs equivalent of <code>bash</code> command with same name</p></a></li>
<li><a href='#pushd'>
<p>Performs equivalent of <code>bash</code> command with same name</p></a></li>
<li><a href='#ratRoot'>
<p>Function to find the rational roots of any polynomial (when they exist).</p></a></li>
<li><a href='#resave'>
<p>Add some objects to an existing <code>.Rdata</code> - type file.</p></a></li>
<li><a href='#segSegInt'>
<p>Function to find intersection point between two line segments (NOT lines).</p></a></li>
<li><a href='#seqle'>
<p>Extends <code>rle</code> to find and encode linear sequences.</p></a></li>
<li><a href='#short'>
<p>Returns a small sample of the specified data set.</p></a></li>
<li><a href='#splatnd'>
<p>Execute simple zero-argument functions</p></a></li>
<li><a href='#thekurt'>
<p>Calculates the kurtosis of the input data set.</p></a></li>
<li><a href='#theskew'>
<p>Calculates the skew of a dataset.</p>
</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Miscellaneous Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>4.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-10-20</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Witthoft</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Witthoft &lt;cellocgw@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for performing quick observations or evaluations of data, including a variety of ways to list objects by size, class, etc.  The functions 'seqle' and 'reverse.seqle' mimic the base 'rle' but can search for linear sequences. The function 'splatnd' allows the user to generate zero-argument commands without the need for 'makeActiveBinding' .  Functions provided to convert from any base to any other base, and to find the n-th greatest max or n-th least min.  In addition, functions which mimic Unix shell commands, including 'head', 'tail' ,'pushd' ,and 'popd'. Various other goodies included as well. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, gmp</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-20 17:30:12 UTC; cgw</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-20 21:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='cgwtools-package'> A collection of tools that the author finds handy</h2><span id='topic+cgwtools-package'></span><span id='topic+cgwtools'></span>

<h3>Description</h3>

<p>Most of these tools are small functions to do simple tasks or provide filtered views of the current environment.  In addition the function <code>splatnd</code> is provided primarily as a piece of example code to show how to write zero-argument operators. It's based on the code in the package  <code>sos</code> , and avoids the need to use <code>makeActiveBinding</code> (as in ,e.g., <code>pracma::ans</code>  ) 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft, with attributions as noted in the individual help pages
</p>
<p>Maintainer:Carl Witthoft carl@witthoft.com
</p>

<hr>
<h2 id='approxeq'>
Do &quot;fuzzy&quot; equality and return a logical vector. 
</h2><span id='topic+approxeq'></span>

<h3>Description</h3>

<p>This function  compares two vectors (or arrays) of values and returns the near-equality status of corresponding elements.  As with <code>all.equal()</code> , the intent is primarily to get around machine limits of representation of floating-point numbers.  For integer comparison, just use the base <code>==</code> operator. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>approxeq(x, y, tolerance = .Machine$double.eps^0.5, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="approxeq_+3A_x">x</code>, <code id="approxeq_+3A_y">y</code></td>
<td>

<p>The two input items, typically vectors or arrays of data.
</p>
</td></tr>
<tr><td><code id="approxeq_+3A_tolerance">tolerance</code></td>
<td>

<p>Set the precision to which <code>abs(x[j] - y[j])</code> will be compared. The  default argument provided is the R-standard value for floats. 
</p>
</td></tr>
<tr><td><code id="approxeq_+3A_...">...</code></td>
<td>

<p>Not used at this time.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> and <code>y</code> are of different lengths, the shorter one is recycled and a warning issued.
</p>


<h3>Value</h3>

<p>A vector of the same length as the longer of <code>x</code> or <code>y</code>, consisting of <code>TRUE</code> and <code>FALSE</code> elements, depending on whether the corresponding elements of <code>x</code> and <code>y</code> are within the approximate equality precision desired. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+all.equal">all.equal</a></code>, <code><a href="base.html#topic+Comparison">Comparison</a></code>, <code><a href="base.html#topic+identical">identical</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x&lt;-1:10
y&lt;-x+runif(10)*1e-6
approxeq(x,y) #all FALSE
approxeq(x,y,tolerance=1e-5) #mostly TRUE, probably
</code></pre>

<hr>
<h2 id='ascarr'>Banner Versions of Characters</h2><span id='topic+ascarr'></span>

<h3>Description</h3>

<p>This data set contains the &quot;banner&quot; arrays of characters to be used by the function <code><a href="#topic+banvax">banvax</a></code>.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ascarr</code></pre>


<h3>Format</h3>

<p>The array must be of dimension [6,8,N] for N characters. The <code>dimnames</code> for the third dimension must be the character matching each such layer.</p>

<hr>
<h2 id='askrm'>
Interactive application of selected function  a  list of objects.
</h2><span id='topic+askrm'></span>

<h3>Description</h3>

<p>This function was originally written to do the same as the unix <code>rm -i</code> command.  The user supplies a list of items and the name of a function which is optionally  applied to each item in turn. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>askrm(items = ls(parent.frame()), fn = "rm", ask = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="askrm_+3A_items">items</code></td>
<td>
<p>A character vector of names of the objects to be acted upon (such as <code>ls()</code> returns).  The default is all objects in the parent working environment. 
</p>
</td></tr>
<tr><td><code id="askrm_+3A_fn">fn</code></td>
<td>
<p>The name of the function to be applied, supplied as a character string.  Possible future upgrades may allow function names to be entered without quotes.
</p>
</td></tr>
<tr><td><code id="askrm_+3A_ask">ask</code></td>
<td>
<p>If <code>TRUE</code> , the user is prompted for &quot;y/n&quot; before performing the function on each object in the list.  Be cautious about setting to <code>FALSE</code> for obvious reasons. Note that the only accepted positive response is <b>exactly</b> &quot;y&quot; so, e.g. &quot;yes&quot; will be treated as &quot;no.&quot; </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with three elements.
</p>
<table role = "presentation">
<tr><td><code>func</code></td>
<td>
<p>Echo back the input function, for archival reference.</p>
</td></tr>
<tr><td><code>selected</code></td>
<td>
<p>All the items from the input list to which the function <code>fn</code> was applied.  In the default case, these are the items deleted from the environment.</p>
</td></tr>
<tr><td><code>evout</code></td>
<td>
<p>A list of the value(s) returned by the function, if any, each time it was executed.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p>When interactive prompting is not desired,  <code><a href="base.html#topic+sapply">sapply</a></code> or its brethren are recommended.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get rid of junky objects left around from testing
foo&lt;-1
afoo&lt;-c(foo,2)
foob &lt;- c('a','b','d')
askrm(ls(pattern="foo") )

x&lt;- rep(1,10)
y&lt;- runif(10)
askrm(c('x','y'),'sd',ask=FALSE)
</code></pre>

<hr>
<h2 id='banvax'>
Function print a text banner in the style of the original DEC VAX &quot;banner&quot; function.  
</h2><span id='topic+banvax'></span>

<h3>Description</h3>

<p>This function takes a character string and writes the same characters as large block-letters into a text file.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'> 
banvax(msg, file = 'banner.txt',  linewid = 80, bandat = cgwtools::ascarr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="banvax_+3A_msg">msg</code></td>
<td>

<p>A character string. See the Details section for the behavior for nonmatching characters. 
</p>
</td></tr>
<tr><td><code id="banvax_+3A_file">file</code></td>
<td>

<p>A character string identifying an output file, or a <code><a href="base.html#topic+connection">connection</a> </code> as described in the help page for <code><a href="base.html#topic+cat">cat</a></code> .
</p>
</td></tr>
<tr><td><code id="banvax_+3A_linewid">linewid</code></td>
<td>

<p>Defines the max number of characters per line. Change from the default value of 80 depending on the display or paper size in use. 
</p>
</td></tr>
<tr><td><code id="banvax_+3A_bandat">bandat</code></td>
<td>

<p>The data array to use for the banner elements. In general, must be a 3-dimensional array with dimensions [x,y,N] where each n-th layer contains the banner form of one character. See the Details section.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The  supplied data file <code>ascarr</code> contains all letters and numerals and a bunch of punctuation marks such as &quot; ;&quot; , &quot;,&quot; &quot;\&quot; , etc. If a character in the input is not found in the file, a &quot;box&quot; is used in its place.  If a user-supplied file is specified, note that each layer of the [x,y,N] array must have a name equal to the character to be invoked. Here <code>x</code> specifies the number of columns and <code>y</code> the number of rows in each banner-element. 
</p>
<p>The function <code><a href="base.html#topic+cat">cat</a></code> generates the output, so setting the argument <code>file</code> to &quot;&quot; will direct the output to the console.  Quoting from the help page for <code><a href="base.html#topic+cat">cat</a></code>, ' If &quot;&quot; (the default), cat prints to the standard output connection, the console unless redirected by <code><a href="base.html#topic+sink">sink</a></code>. If it is &quot;|cmd&quot;, the output is piped to the command given by  cmd , by opening a pipe connection. '
</p>


<h3>Value</h3>

<p>Nothing is returned from the function. The output is a file or whatever <code><a href="base.html#topic+connection">connection</a> </code> is specified by the <code>file</code> argument. 
</p>


<h3>Author(s)</h3>

<p>Author and Maintainer:Carl Witthoft <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>References</h3>

<p><a href="https://www0.mi.infn.it/~calcolo/OpenVMS/ssb71/6015/6017p041.htm#index_x_2757">https://www0.mi.infn.it/~calcolo/OpenVMS/ssb71/6015/6017p041.htm#index_x_2757</a>
</p>

<hr>
<h2 id='base2base'>
Function to convert any base to any other base (up to 36). 
</h2><span id='topic+base2base'></span>

<h3>Description</h3>

<p>This function now resides in the package <code><a href="bigBits.html#topic+base2base">base2base</a></code>  
</p>

<hr>
<h2 id='binit'>
Create histogram bins for each unique value in a sample. 
</h2><span id='topic+binit'></span>

<h3>Description</h3>

<p>This is a Q&amp;D way to create Pareto / histogram bins of a dataset when you want a separate bin for each value and don't want to deal with the 'breaks' or equivalent arguments in <code><a href="graphics.html#topic+hist">hist</a></code> or other histogram functions in R packages. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binit(samps,roundPrec=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="binit_+3A_samps">samps</code></td>
<td>

<p>A vector or array of data to be binned.
</p>
</td></tr>
<tr><td><code id="binit_+3A_roundprec">roundPrec</code></td>
<td>

<p>The number of digits to round <code>samps</code> to. Highly recommended when the data are floats
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>binit</code> sorts the input data and feeds the result to <code><a href="base.html#topic+rle">rle</a></code>.  This effectively produces histogram-like results. If you want a strict Pareto order (most common first), just sort the list elements <code>lengths</code> and <code>values</code> by the magnitudes in <code>lengths</code>.
</p>


<h3>Value</h3>

<p>A list containing two elements
lengths: the number of items in each bin
values: the data value associated with each bin
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+rle">rle</a></code> , <code><a href="graphics.html#topic+hist">hist</a></code>, 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- sample(1:100, 1000, rep=TRUE)
xbin &lt;- binit(x)
plot(xbin$values,xbin$lengths, type = 'h')
# without rounding, will just be grass
x &lt;- rnorm(1000)
 xbin &lt;- binit(x,2)
plot(xbin$values,xbin$lengths, type = 'h')
</code></pre>

<hr>
<h2 id='cumfun'>
Function calculate the cumulative result of any function along an input vector.  
</h2><span id='topic+cumfun'></span>

<h3>Description</h3>

<p>Calculates the cumulative value of almost any function in the same manner as <code><a href="base.html#topic+cumsum">cumsum</a> </code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cumfun(frist, FUN = sum, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cumfun_+3A_frist">frist</code></td>
<td>

<p>A vector of numerical or string values
</p>
</td></tr>
<tr><td><code id="cumfun_+3A_fun">FUN</code></td>
<td>
	
<p>The function to use. Can be either the function name (as is usually done) or a single character string naming the function.  Default is <code>sum</code>. 
</p>
</td></tr>
<tr><td><code id="cumfun_+3A_...">...</code></td>
<td>

<p>Additional arguments, if any, required for the chosen FUN function. See Details.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If additional arguments are of length one, they are applied to each value in <code>frist</code>. If they are longer but not equal in length to <code>length(frist)</code> they will either be truncated or recycled to match. 
The builtin functions <code>cumsum</code> and <code>cumprod</code> generally are much faster than applying <code>sum</code> or <code>prod</code> to this function. 
</p>


<h3>Value</h3>

<p>A list of the cumulative calculations generated.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+cumsum">cumsum</a></code> , <code><a href="dplyr.html#topic+cumall">cumall</a></code>, <code><a href="matrixStats.html#topic+rowCumsums">rowCumsums</a></code> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foo &lt;- 'abcdefcghicklmno'
grepfoo &lt;-function(x,y) grep(y,x)
cumfoo &lt;- cumfun(unlist(strsplit(foo,'')), FUN=grepfoo, y = 'c')
bar &lt;- rnorm(1000,1)
cumsd &lt;- cumfun(bar,FUN=sd)
plot(unlist(cumsd),type='l')
# compare with input std dev
lines(c(0,1000),c(1,1),lty=2,col='red')
</code></pre>

<hr>
<h2 id='dim'>
Function to return dimensions of arguments, or lengths if dim==NULL.
</h2><span id='topic+dim'></span>

<h3>Description</h3>

<p>Simple overload to return <code><a href="#topic+dim">dim</a></code> when it's sensible and <code><a href="base.html#topic+length">length</a></code> otherwise
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dim(item)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dim_+3A_item">item</code></td>
<td>

<p>The object whose dimensions are to be determined
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a single value as returned by <code><a href="base.html#topic+length">length</a></code>  or  a vector of integers indicating the magnitude of each dimension as returned by <code><a href="#topic+dim">dim</a></code>
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dim">dim</a></code> , <code><a href="base.html#topic+length">length</a></code>, 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1&lt;-1:10
x2&lt;-matrix(1,3,4)
dim(x1)
dim(x2)
</code></pre>

<hr>
<h2 id='dirdir'>
Wrapper function around dir() which returns only directories found in the specified location(s).
</h2><span id='topic+dirdir'></span>

<h3>Description</h3>

<p>For those times when you only want to know the local directories available, use this instead of struggling through myriad arguments to <code><a href="base.html#topic+dir">dir</a> </code>.  All arguments are the same as for plain old &quot;dir&quot; and are passed to <code><a href="base.html#topic+dir">dir</a> </code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dirdir(path = ".", pattern = NULL, all.files = FALSE, full.names = FALSE,
 recursive = FALSE, ignore.case = FALSE, include.dirs = FALSE, no.. = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dirdir_+3A_path">path</code></td>
<td>
	
<p>a character vector of full path names; the default corresponds to the working directory, getwd(). Tilde expansion (see path.expand) is performed. Missing values will be ignored. Elements with a marked encoding will be converted to the native encoding (and if that fails, considered non-existent).
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_pattern">pattern</code></td>
<td>

<p>an optional regular expression. Only file names which match the regular expression will be returned.
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_all.files">all.files</code></td>
<td>
	
<p>a logical value. If FALSE, only the names of visible files are returned (following Unix-style visibility, that is files whose name does not start with a dot). If TRUE, all file names will be returned.
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_full.names">full.names</code></td>
<td>

<p>a logical value. If TRUE, the directory path is prepended to the file names to give a relative file path. If FALSE, the file names (rather than paths) are returned.
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_recursive">recursive</code></td>
<td>

<p>logical. Should the listing recurse into directories?
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_ignore.case">ignore.case</code></td>
<td>

<p>logical. Should pattern-matching be case-insensitive?
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_include.dirs">include.dirs</code></td>
<td>

<p>logical. Should subdirectory names be included in recursive listings? (They always are in non-recursive ones).
</p>
</td></tr>
<tr><td><code id="dirdir_+3A_no..">no..</code></td>
<td>
	
<p>logical. Should both &quot;.&quot; and &quot;..&quot; be excluded also from non-recursive listings?
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Note: this is directly quoted from the man page for <code>dir</code>.
A character vector containing the names of the files in the specified directories (empty if there were no files). If a path does not exist or is not a directory or is unreadable it is skipped.
</p>
<p>The files are sorted in alphabetical order, on the full path if full.names = TRUE.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+dir">dir</a></code> 
</p>

<hr>
<h2 id='findpat'>
Function to locate patterns ( sequences of strings or numerical values) in data vectors. 
</h2><span id='topic+findpat'></span>

<h3>Description</h3>

<p>Finds the location of a specified sequence either of numbers or strings in the source data item.  If desired, for numerical data, both the source and the named pattern can be rounded to specified number of digits. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findpat(datavec, pattern, roundit = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="findpat_+3A_datavec">datavec</code></td>
<td>

<p>A vector of numerical or string values
</p>
</td></tr>
<tr><td><code id="findpat_+3A_pattern">pattern</code></td>
<td>
	
<p>A vector containing the sequence to search for
</p>
</td></tr>
<tr><td><code id="findpat_+3A_roundit">roundit</code></td>
<td>

<p>If not NULL, sets the precision for rounding numbers.  Ignored if <code>datavec</code> are strings
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>datavec</code>  and <code>pattern</code> are of different types, R will automagically convert to a common type and then compare the values. This is a result of the coercion rules identified in the man page for <code><a href="base.html#topic+Comparison">Comparison</a></code>, &quot;If the two arguments are atomic vectors of different types, one is coerced to the type of the other, the (decreasing) order of precedence being character, complex, numeric, integer, logical and raw.&quot;  
Use of the <code>roundit</code> argument is recommended whenever working with  doubles (floats) to avoid the well-known and often overlooked pain of binary precision errors. 
</p>


<h3>Value</h3>

<p>If the first element of <code>pattern</code> isn't found, a message is posted and an empty integer vector is returned.
Otherwise, a vector of the indices of datavec where the desired pattern is located is returned.  These are the indices of the start of the pattern. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+which">which</a></code> , <code><a href="filesstrings.html#topic+nth_number_after_mth">nth_number_after_mth</a></code>, <code><a href="pracma.html#topic+strfind">strfind</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>fooc &lt;- letters[c(1:15,4:9,12:26)]
 findpat(fooc,c('d','e','f'))
# 4 16
fooi &lt;- c(1:50,5:9,60:80)
findpat(fooi,6:8)
# 6 52
findpat(fooi,c('6','7','8'))
# also 6 52
</code></pre>

<hr>
<h2 id='getstack'>
Returns the current directory stack that pushd and popd manipulate
</h2><span id='topic+getstack'></span>

<h3>Description</h3>

<p><code>getstack</code>  goes into the separate environment where <code>pushd</code> and 
<code>popd</code> operate and returns the current stack of directories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getstack()
</code></pre>


<h3>Arguments</h3>

<p>none
</p>


<h3>Details</h3>

<p>Allowing a function to modify an object in the GlobalEnvironment is frowned upon by CRAN (and most programmers), so to maintain a directory stack a separate environment is established by <code>pushd</code>. Since this environment is not visible at the console level,  <code>getstack</code> allows the user to check on the current status of the stack.
</p>


<h3>Value</h3>

<p>The current directory stack is returned as a vector of strings.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft   <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+popd">popd</a></code> , <code><a href="#topic+pushd">pushd</a></code>, <code><a href="base.html#topic+setwd">setwd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## depends on your local directory structure and permissions
getwd()
getstack() #empty, probably
pushd('..')
getstack()
pushd('.')
getstack()
popd()
getstack()
popd()
getstack()
getwd() #back where we started
</code></pre>

<hr>
<h2 id='inverse.seqle'>
Inverse of <code><a href="#topic+seqle">seqle</a></code>
</h2><span id='topic+inverse.seqle'></span>

<h3>Description</h3>

<p>As with <code>inverse.rle</code>, this function reverses the compression performed with <code>seqle</code> so long as you know the <code>incr</code> value used to generate the compressed data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inverse.seqle(x, incr = 1L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inverse.seqle_+3A_x">x</code></td>
<td>

<p>An object of class <code>rle</code> 
</p>
</td></tr>
<tr><td><code id="inverse.seqle_+3A_incr">incr</code></td>
<td>

<p>The  increment between elements used to generate the compressed data object.  Note that this can be either integer or float.  For floating-point sequences, the reconstruction of the original series may differ at the level of floating-point precision used to generate the input object.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p> a vector of values identical (or nearly so, for floats) to the original sequence.
Note: Since the concept of &quot;increment&quot; has no reliable meaning when dealing with characters or char strings,  when <code>x</code> is non-numeric the argument <code>incr</code> is ignored and the function reverts to <code>base::inverse.rle</code>....
</p>


<h3>Note</h3>

<p>The bulk of the code is taken directly from <code>base::inverse.rle</code> . Thanks to &quot;flodel&quot;  on StackOverflow for suggesting code to handle floating-point increments.  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+seqle">seqle</a></code> , <code><a href="base.html#topic+inverse.rle">inverse.rle</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x&lt;- c(2,2,2,3:8,8,8,4,4,4,5,5.5,6)
y&lt;-seqle(x,incr=0)
inverse.seqle(y,0)
y &lt;- seqle(x,incr=1)
inverse.seqle(y)
inverse.seqle(y,2) # not what you wanted
</code></pre>

<hr>
<h2 id='lsclass'>
Q&amp;D function to list all objects with the specified <code>class attribute</code> .
</h2><span id='topic+lsclass'></span>

<h3>Description</h3>

<p>This is one of the author's collection of <code>ls*</code> Q&amp;D functions.  Since anyone can define a new class at any time, there is no predefined set of legal or illegal class names.  Remember that an <code>object</code> can have multiple <code>class</code>es.  This function only allows searching for a single class name in a given call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lsclass(type = "numeric")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lsclass_+3A_type">type</code></td>
<td>

<p>The name of the class you're looking for.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of character strings containing the names of matching objects (as would be returned by the base function <code>ls</code> ) .
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft  carl@witthoft.com
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+typeof">typeof</a></code>, <code><a href="base.html#topic+class">class</a></code> , <code><a href="#topic+lstype">lstype</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xyzzy&lt;-structure(vector(),class='grue')
lsclass('integer')
lsclass('grue') 
</code></pre>

<hr>
<h2 id='lsdata'>
List all objects in an <code>.Rdata</code> file.
</h2><span id='topic+lsdata'></span>

<h3>Description</h3>

<p>This function opens an <code>.Rdata</code> file, lists the contents, and cleans up after itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lsdata(fnam = ".Rdata")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lsdata_+3A_fnam">fnam</code></td>
<td>

<p>the name of the datafile to be examined.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of <code>ls</code> applied to the objects loaded from the specified data file.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft  carl@witthoft.com
</p>


<h3>References</h3>

<p>Various people have published similar code on Stack Overflow.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+load">load</a></code>, <code><a href="#topic+resave">resave</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##not run because of complaints about detritus
# xblue&lt;-1
# yblue&lt;-2
# save(xblue,yblue,file='blue.Rdata')
# lsdata('blue.Rdata')
</code></pre>

<hr>
<h2 id='lssize'>
List the sizes of all selected objects.
</h2><span id='topic+lssize'></span>

<h3>Description</h3>

<p>Just a toy to list the number of elements  or optionally the bytesize as produced with <code>object.size</code> of a specified selection of objects.  I find it handy when I want to rid an environment of large (or empty) objects.  In the default case, <code>byte=FALSE</code> , lists and S4 objects are &quot;taken apart&quot; down to the lowest level so all individual elements are counted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lssize(items, byte = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lssize_+3A_items">items</code></td>
<td>

<p>A vector of character strings identifying the objects of interest as would be returned by, e.g. <code>ls(pattern="foo")</code> or <code>lstype("double")</code> .
</p>
</td></tr>
<tr><td><code id="lssize_+3A_byte">byte</code></td>
<td>

<p>If TRUE, calculate the number of bytes taken up by an object.  If FALSE, calculate the total number of elements of an object. 
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the object sizes, with the object names as names for the elements
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p>Many thanks to Martin Morgan of bioconductor.org who provided the recursive function for deconstructing an S4 Object. See <a href="http://stackoverflow.com/questions/14803237/">http://stackoverflow.com/questions/14803237/</a> for the original question and answer. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lstype">lstype</a></code> , <code><a href="utils.html#topic+object.size">object.size</a></code>, <code><a href="base.html#topic+length">length</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x1&lt;-runif(100)
x2&lt;-runif(1000)
x3&lt;-runif(2000)
lssize(ls(pattern='x[1-3]'))
lssize(ls(pattern='x[1-3]'),byte=TRUE) 
#depending on what you have in your environment:
lssize(lstype('integer'))
</code></pre>

<hr>
<h2 id='lstype'>
List all objects of the specified type.
</h2><span id='topic+lstype'></span>

<h3>Description</h3>

<p>This is a Q&amp;D tool to list all objects in the current environment of a specified type.  As discussed in the base R documentation, these types are  the vector types &quot;logical&quot;, &quot;integer&quot;, &quot;double&quot;, &quot;complex&quot;, &quot;character&quot;, &quot;raw&quot; and &quot;list&quot;, &quot;NULL&quot;, &quot;closure&quot; (function), &quot;special&quot; and &quot;builtin&quot; (basic functions and operators), &quot;environment&quot;, &quot;S4&quot; (some S4 objects).  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lstype(type = "closure")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lstype_+3A_type">type</code></td>
<td>

<p>Any valid variable type, or &quot;function,&quot; which is redirected to &quot;closure.&quot; 
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of character strings as is returned by the base function <code>ls</code> .
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft  carl@witthoft.com
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+ls">ls</a></code> , <code><a href="#topic+lssize">lssize</a></code>, <code><a href="#topic+lsclass">lsclass</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>lstype('integer') #if you have any such in your environment.
</code></pre>

<hr>
<h2 id='maxn'>
Functions to find the n-th maximum or minimum of a vector or array. 
</h2><span id='topic+maxn'></span><span id='topic+minn'></span><span id='topic+which.maxn'></span><span id='topic+which.minn'></span>

<h3>Description</h3>

<p>These functions behave similarly to <code>min, max</code> and <code>which(x == max/min (x)</code> to find  the n-th greatest max or min of a dataset. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxn(x,nth=1)
minn(x,nth=1)
which.maxn(x, nth = 1, arr.ind = FALSE, useNames = TRUE)
which.minn(x, nth = 1, arr.ind = FALSE, useNames = TRUE) 
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxn_+3A_x">x</code></td>
<td>

<p>A vector or array of numerical or string values.  Note: ordering of string values may not be what is expected. See Details.
</p>
</td></tr>
<tr><td><code id="maxn_+3A_nth">nth</code></td>
<td>
	
<p>Which lesser(greater, for min functions) to find, with default nth==1 being identical to <code>max, min</code>. 
</p>
</td></tr>
<tr><td><code id="maxn_+3A_arr.ind">arr.ind</code></td>
<td>

<p>Same meaning as for <code>which</code>, a logical value indicating whether to return the array indices if <code>x</code> is an array. 
</p>
</td></tr>
<tr><td><code id="maxn_+3A_usenames">useNames</code></td>
<td>

<p>Same meaning as for <code>which</code>, a logical value indicating if the value of arrayInd() should have (non-null) dimnames at all
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Quoting the help page for <code>max</code> :
Character versions are sorted lexicographically, and this depends on the collating sequence of the locale in use: the help for Comparison gives details. The max/min of an empty character vector is defined to be character NA. (One could argue that as &quot;&quot; is the smallest character element, the maximum should be &quot;&quot;, but there is no obvious candidate for the minimum.) 
</p>


<h3>Value</h3>

<p>For <code>maxn, minn</code>, a single value which is the nth- max or min. 
</p>
<p>For the <code>which.min,max</code> functions, quoting from <code>which</code>:
If arr.ind == FALSE (the default), an integer vector, or a double vector if x is a long vector, with length equal to sum(x), i.e., to the number of TRUEs in x. 
If arr.ind == TRUE and x is an array (has a dim attribute), the result is arrayInd(which(x), dim(x), dimnames(x)), namely a matrix whose rows each are the indices of one element of x
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+which">which</a></code> , <code><a href="base.html#topic+max">max</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(17) # for repeatability
foo &lt;- matrix(sample(1:10,20,replace=TRUE),5,4)
maxn(foo,3)
which.minn(foo,4)
</code></pre>

<hr>
<h2 id='minRow'>
Functions which mimic <code><a href="base.html#topic+max.col">max.col</a></code> to find for minimum or maximum of rows or columns. 
</h2><span id='topic+minRow'></span><span id='topic+maxRow'></span><span id='topic+minCol'></span><span id='topic+maxCol'></span>

<h3>Description</h3>

<p>These are Q&amp;D wrappers around <code>max.col</code> to make it easy to get the positions of  max or the min of either rows or columns of an array. The description of the base function is, for comparison, &quot;Find the maximum position for each row of a matrix&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxRow(mat,ties.method = c("random", "first", "last") )
minRow(mat,ties.method = c("random", "first", "last") )
minCol(mat,ties.method = c("random", "first", "last") )
maxCol(mat,ties.method = c("random", "first", "last") )
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="minRow_+3A_mat">mat</code></td>
<td>

<p>A 2-D matrix, same rules as for <code>max.col</code>
</p>
</td></tr>
<tr><td><code id="minRow_+3A_ties.method">ties.method</code></td>
<td>

<p>Specify how to deal with ties, using same internal rules as <code>max.col</code>
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For each of these functions, same as for <code><a href="base.html#topic+max.col">max.col</a> </code>:
index of a max or min value for each row or column, an integer vector of length nrow(mat) or  ncol(mat).
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+max.col">max.col</a></code> 
</p>

<hr>
<h2 id='mystat'>
Calculate and display basic statistics for an object. 
</h2><span id='topic+mystat'></span>

<h3>Description</h3>

<p>This function calculates the <code>min, max, median, mean, standard deviation, skew</code> and <code>kurtosis</code> for the specified object and displays the results in a semi-tabular form.  An option is provided to set the number of digits displayed for the returned values.
Note: see the help pages in this package for <code>theskew</code> and <code>thekurt</code> for information on those implementations. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mystat(x, numdig = 3, na.rm = TRUE, printit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mystat_+3A_x">x</code></td>
<td>

<p>A vector or vectorizable object.
</p>
</td></tr>
<tr><td><code id="mystat_+3A_numdig">numdig</code></td>
<td>

<p>How many digits to the right of the decimal point to display (when <code>printit</code> is TRUE.
</p>
</td></tr>
<tr><td><code id="mystat_+3A_na.rm">na.rm</code></td>
<td>

<p>Does the user desire NA values to be removed.  Rare is the need to set this to FALSE.
</p>
</td></tr>
<tr><td><code id="mystat_+3A_printit">printit</code></td>
<td>

<p>Set to TRUE to see the results, nicely formatted, in the console.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with scalar elements matching their names:
</p>
<table role = "presentation">
<tr><td><code>min</code></td>
<td>
<p>minimum</p>
</td></tr>
<tr><td><code>max</code></td>
<td>
<p>maximum</p>
</td></tr>
<tr><td><code>mean</code></td>
<td>
<p>mean value</p>
</td></tr>
<tr><td><code>median</code></td>
<td>
<p>median</p>
</td></tr>
<tr><td><code>sdev</code></td>
<td>
<p>standard deviation</p>
</td></tr>
<tr><td><code>skew</code></td>
<td>
<p>skew</p>
</td></tr>
<tr><td><code>kurtosis</code></td>
<td>
<p>kurtosis</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+theskew">theskew</a> </code> , <code><a href="#topic+thekurt">thekurt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- runif(100)
mystat(x)
mystat(x,numdig=6)
</code></pre>

<hr>
<h2 id='polyInt'>
Function to find intersection points of two polygons. 
</h2><span id='topic+polyInt'></span>

<h3>Description</h3>

<p>This is a Q&amp;D tool to find the locations where two polygons, in a plane only (not 3D space), intersect.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>polyInt(poly1,poly2, stopAtFirst = FALSE, plotit = FALSE, roundPrecision = 10, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="polyInt_+3A_poly1">poly1</code></td>
<td>

<p>An Nx2 or 2xN matrix with X-values in the first row/column and Y-values in the second.
</p>
</td></tr>
<tr><td><code id="polyInt_+3A_poly2">poly2</code></td>
<td>

<p>An Nx2 or 2xN matrix with X-values in the first row/column and Y-values in the second.
</p>
</td></tr>
<tr><td><code id="polyInt_+3A_stopatfirst">stopAtFirst</code></td>
<td>
	
<p>Boolean: if TRUE, then just return the first intersection point found. Useful time-saver when the user only needs to know if the polygons intersect. 
</p>
</td></tr>
<tr><td><code id="polyInt_+3A_plotit">plotit</code></td>
<td>

<p>Boolean: if TRUE, (and stopAtFirst is FALSE), the two polygons are plotted and the intersection points marked on the graph. 
</p>
</td></tr>
<tr><td><code id="polyInt_+3A_roundprecision">roundPrecision</code></td>
<td>

<p>Number of digits that data should be rounded to.  This is necessary to avoid the usual floating-point precision problems when checking for possible duplicated intersection points. 
</p>
</td></tr>
<tr><td><code id="polyInt_+3A_...">...</code></td>
<td>

<p>Arguments to be passed along to the internal <code>line</code> call when <code>plotit</code> is TRUE.  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function loops over all pairs of segments (one from <code>poly1</code> and one from <code>poly2</code>), calling <code><a href="#topic+segSegInt">segSegInt</a> </code> to see if they intersect. After all pair-combinations are tested, the collected intersection points, if any, are reduced to the unique collection. This avoids repetition when an intersection point is a vertex of one (or both) of the polygons. 
It is not necessary to &quot;close&quot; the supplied set of vertices, i.e. repeat the initial vertex at the end of the array as is needed to generate a complete line-plot of a polygon. The function will add that repeated vertex if it's not present in the input polygon(s). 
</p>
<p>Note: The supporting function <code><a href="#topic+segSegInt">segSegInt</a> </code> returns NA when two segments are parallel. However, when two polygons in fact have an overlapping (and thus parallel) couple of  edges, the adjoining edges of one or both polygons will not be parallel to these parallel edges and will intersect one or both, so the vertex which lies on the other polygon's edge will be reported. 
</p>


<h3>Value</h3>

<p>A matrix of the x and y coordinates of all intersection points, or, if <code>stopAtFirst</code> is TRUE, the first intersection point found.  If no intersections exist, NULL is returned.  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

  
<p>There are many tools which are far faster and more flexible. I wrote this one because it uses only base functions and doesn't require converting polygon vertices into a special class variable. Here are two common packages.  <code><a href="base.html#topic+intersect">intersect</a></code> , <code><a href="sf.html#topic+st_intersection">st_intersection</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>sqone &lt;- cbind(c(0,1,1,0),c(0,0,1,1))
sqtwo &lt;- sqone + 0.5 
foo &lt;- polyInt(sqone, sqtwo, plotit = TRUE)

</code></pre>

<hr>
<h2 id='popd'>
Performs equivalent of <code>bash</code> command with same name 
</h2><span id='topic+popd'></span>

<h3>Description</h3>

<p><code>popd</code>  is based on the <code>cygwin</code>  <code>bash</code> manpages' description of these commands. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>popd(dn=FALSE, pull=0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="popd_+3A_dn">dn</code></td>
<td>

<p>Determines whether a stack &quot;pop&quot; is to be performed. This is the equivalent of the first argument in <code>bash:popd</code> . If <code>dn</code> is <code>FALSE</code> and <code>pull</code> is zero,  then set the new directory to the value at the top of the stack.  If <code>dn</code> is <code>TRUE</code> then do not change directory, and look to <code>pull</code> for modifying the stack.  See details for why the conditions are set this way.  
</p>
</td></tr>
<tr><td><code id="popd_+3A_pull">pull</code></td>
<td>

<p>Equivalent of the latter <code>n</code> arguments in <code>bash</code>.  Removes the stack entry corresponding to the  <code>pull</code>'s value ; can be positive or negative.  Note that there may be some inconsistency in how this is handled in different implementations of <code>bash</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Recommend reading <code>man bash</code> for full details of the operations. This implementation will not change the working directory if <code>dn</code> is <code>TRUE</code> The directory history is stored  in a file in the function's environment (not console environment)<code>.dirhist</code>, typically first created with <code><a href="#topic+pushd">pushd</a></code> . 
</p>


<h3>Value</h3>

<p>A status value: <code>0</code> for success or <code>1</code> if there is no stack file (<code>.dirhist</code>).  Future upgrades may include other codes for other failure mechanisms, but for now error messages will have to suffice.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft   <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pushd">pushd</a></code> , <code><a href="base.html#topic+setwd">setwd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## depends on your local directory structure and permissions
getwd()
pushd("~/..")
getwd()
popd()
getwd()
</code></pre>

<hr>
<h2 id='pushd'>
Performs equivalent of <code>bash</code> command with same name 
</h2><span id='topic+pushd'></span>

<h3>Description</h3>

<p><code>pushd</code>  is based on the <code>cygwin</code> <code>bash</code> manpages' description of these commands. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pushd(path, dn=FALSE,rot=0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pushd_+3A_path">path</code></td>
<td>

<p>The directory to move into.
</p>
</td></tr>
<tr><td><code id="pushd_+3A_dn">dn</code></td>
<td>

<p>Equivalent of the <code>dir</code> argument in <code>bash</code> . When TRUE, adds the current directory to the stack.
</p>
</td></tr>
<tr><td><code id="pushd_+3A_rot">rot</code></td>
<td>

<p>Equivalent of the <code>n</code> argument in <code>bash</code>.  Rotates the existing stack by the value of <code>rot</code> ; can be positive or negative.  Note that there may be some inconsistency in how this is handled in different implementations of <code>bash</code> . 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Recommend reading <code>man bash</code> for full details of the operations. This implementation should do nothing more than change the working directory (and store directory history in a file in the function's environment (not console environment) <code>.dirhist</code> ). 
</p>


<h3>Value</h3>

<p>A status value, which is always <code>0</code> for success.  A future upgrade may implement a <code>trycatch</code> for conditions such as an inaccessible directory, but for now error messages will have to suffice.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft   <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+popd">popd</a></code> , <code><a href="base.html#topic+setwd">setwd</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## depends on your local directory structure and permissions
getwd()
pushd("~/..")
getwd()
popd()
getwd()
</code></pre>

<hr>
<h2 id='ratRoot'>
Function to find the rational roots of any polynomial (when they exist).  
</h2><span id='topic+ratRoot'></span>

<h3>Description</h3>

<p>.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ratRoot(Anum, Adenom = rep(1,times=length(Anum)) )

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ratRoot_+3A_anum">Anum</code></td>
<td>

<p>A vector of the polynomial coefficients' numerators, starting with the highest power.  Values can be numeric or bigz.
</p>
</td></tr>
<tr><td><code id="ratRoot_+3A_adenom">Adenom</code></td>
<td>

<p>A vector of the polynomial coefficients' denominators, starting with the highest power.  Values can be numeric or bigz. Default is all ones, indicating that all input coefficients are integers. 
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The code makes use of the 'Rational Root Theorem,' which states that all real, rational roots p/q meet two criteria. Given a polynomial of the form <code>An *x^n + A_(n-1) * x^(n-1) + ... + A0 = 0</code>, all coefficients adjusted to be integers,  'p' must be a factor of the zero-power polynomial coefficient A0, and 'q' must be a factor of the maximum-power polynomial coefficient An. 
If any of the input <code>Adenom</code> are not '1', the function will make this adjustment.  
</p>


<h3>Value</h3>

<p>A vector of <code>bigq</code> fractions representing all real rational roots found.  If empty, all roots are irrational (or perhaps complex). 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>References</h3>

<p><a href="https://en.wikipedia.org/wiki/Rational_root_theorem">https://en.wikipedia.org/wiki/Rational_root_theorem</a> 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ratRoot(c(6, -15, 261), c(1,1,49))
ratRoot(c(1,0,0,0,-1))
ratRoot(c(1,-2,1))

</code></pre>

<hr>
<h2 id='resave'>
Add some objects to an existing <code>.Rdata</code> - type file.
</h2><span id='topic+resave'></span>

<h3>Description</h3>

<p>Take an existing <code>myfile.Rdata</code> data file and add the specified objects to it.  This is achieved by opening the data file in a local environment, &quot;dumping&quot; the new objects into that environment, and re-saving everything to the same file name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resave(..., list = character(), file, overwrite = TRUE, loadverbose = FALSE )
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="resave_+3A_...">...</code></td>
<td>

<p>Names of objects to save. Same usage as in <code>base::save</code>
</p>
</td></tr>
<tr><td><code id="resave_+3A_list">list</code></td>
<td>

<p>A list of names of the objects to save.  Can be used with or without any named arguments in <code>...</code> . Same usage as in <code>base::save</code>
</p>
</td></tr>
<tr><td><code id="resave_+3A_file">file</code></td>
<td>

<p>The name of the file to open and add items to.
</p>
</td></tr>
<tr><td><code id="resave_+3A_overwrite">overwrite</code></td>
<td>

<p>If TRUE (the default), items currently in the selected file will be overwritten with items of the same name in the console environment.  If FALSE, they will not be overwritten; a warning message will be issued. 
</p>
</td></tr>
<tr><td><code id="resave_+3A_loadverbose">loadverbose</code></td>
<td>

<p>Default is FALSE. If TRUE, then the names of all objects currently in the file are echoed to the console
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing is returned. This function is used solely to put objects into the file.
</p>


<h3>Note</h3>

<p>Code is essentially the same as that provided by  &quot;flodel&quot; on StackOverflow, with some enhancements based on  &quot;save_append&quot; by &quot;nehartj&quot; on GitHub  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+lsdata">lsdata</a></code> , <code><a href="base.html#topic+save">save</a></code>, <code><a href="base.html#topic+load">load</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## not run to avoid creating detritus
# foo&lt;-1:4
# bar&lt;-5:8
# save(foo,file='foo.Rdata')
# resave(bar,file='foo.Rdata')
# #check your work
# lsdata('foo.Rdata')
</code></pre>

<hr>
<h2 id='segSegInt'>
Function to find intersection point between two line segments (NOT lines). 
</h2><span id='topic+segSegInt'></span>

<h3>Description</h3>

<p>This function finds the intersection of the two lines containing the provided line segments, then checks whether the intersection is contained within both segments.  
This is an implementation of the equations presented, among many other sources, at   <a href="https://paulbourke.net/geometry/pointlineplane/">https://paulbourke.net/geometry/pointlineplane/</a> .  Bourke comments there, that  &quot;The equations apply to lines, if the intersection of line segments is required then it is only necessary to test if ua and ub lie between 0 and 1. Whichever one lies within that range then the corresponding line segment contains the intersection point. If both lie within the range of 0 to 1 then the intersection point is within both line segments.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>segSegInt(seg1, seg2=NULL, plotit=FALSE, probParallel = 1e-10,  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="segSegInt_+3A_seg1">seg1</code></td>
<td>

<p>An 2x2 or 4x2 matrix with X-values in the first column and Y-values in the second column. If 4x2, the lower 2 rows are assigned to <code>seg2</code> and the input argument <code>seg2</code> is ignored. 
</p>
</td></tr>
<tr><td><code id="segSegInt_+3A_seg2">seg2</code></td>
<td>

<p>An 2x2 or matrix with X-values in the first column and Y-values in the second column.  Ignored if <code>seg1</code> is 4x2.
</p>
</td></tr>
<tr><td><code id="segSegInt_+3A_plotit">plotit</code></td>
<td>

<p>Boolean: if TRUE, (and stopAtFirst is FALSE), the two line segments are plotted and, if one exists, the intersection point marked. 
</p>
</td></tr>
<tr><td><code id="segSegInt_+3A_probparallel">probParallel</code></td>
<td>

<p>A numeric value, typically quite small, used to identify line segments which probably are parallel. This basically is checking for identical slopes. 
</p>
</td></tr>
<tr><td><code id="segSegInt_+3A_...">...</code></td>
<td>

<p>Not used at present
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function runs a check for parallelism so as not to return an infinity of intersection points, then basically checks for intersection of the lines to which the line segments belong, and finally verifies said intersection belongs to both line segments. This is an implementation of the equations presented at, among many other sources, <a href="https://paulbourke.net/geometry/pointlineplane/">https://paulbourke.net/geometry/pointlineplane/</a> .  Bourke comments there, that  &quot;The equations apply to lines, if the intersection of line segments is required then it is only necessary to test if ua and ub lie between 0 and 1. Whichever one lies within that range then the corresponding line segment contains the intersection point. If both lie within the range of 0 to 1 then the intersection point is within both line segments.&quot;
</p>


<h3>Value</h3>

<p>A matrix of the x and y coordinates of the intersection points. If no intersection exists, <code>c(NA,NA)</code> is returned.  This is done so the return value is always a 2-element vector. 
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a> 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+polyInt">polyInt</a></code>  
</p>

<hr>
<h2 id='seqle'>
Extends <code>rle</code> to find and encode linear sequences.
</h2><span id='topic+seqle'></span>

<h3>Description</h3>

<p>The function <code>rle</code>, or &quot;run-length encoder,&quot; is a simple compression scheme which identifies sequences of repeating values in a vector.  <code>seqle</code> extends this scheme by allowing the user to specify a sequence of values with a common &quot;slope,&quot; or delta value, between adjacent elements. <code>seqle</code> with an increment of zero is the same as <code>rle</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seqle(x, incr = 1L, prec = .Machine$double.eps^0.5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seqle_+3A_x">x</code></td>
<td>

<p>The input vector of values.
</p>
</td></tr>
<tr><td><code id="seqle_+3A_incr">incr</code></td>
<td>

<p>The desired increment between elements which specifies the sequences to search for.  Note that this can be either integer or float.  For floating-point sequences, see the <code>prec</code> argument for determining what level of precision is used to determine whether elements continue a sequence or not.
</p>
</td></tr>
<tr><td><code id="seqle_+3A_prec">prec</code></td>
<td>
<p>Defines the required precision to which elements are compared when determining whether they are part of a sequence.  Note that for integer inputs, this value is more or less meaningless.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: the returned value is assigned the class <code>"rle"</code>. So far as I can tell, this class has only a <code>print</code> method, i.e. defining what is returned to the console when the user types the name of the returned object.  
Since the concept of &quot;increment&quot; has no reliable meaning when dealing with characters or char strings,  when <code>x</code> is non-numeric the argument <code>incr</code> is ignored and the function reverts to <code>base::rle</code>.  
</p>


<h3>Value</h3>

<table role = "presentation">
<tr><td><code>lengths</code></td>
<td>
<p>a vector of the lengths (1 or greater) of all sequences found.</p>
</td></tr>
<tr><td><code>values</code></td>
<td>
<p>a vector of the initial value for each sequence. For example, if <code>incr ==1</code> a <code>values</code>  of 5 associated with a <code>lengths</code> of 3 represents the sequence <code>5,6,7</code>.</p>
</td></tr> 
</table>


<h3>Note</h3>

<p>The bulk of the code is taken directly from <code>base::rle</code> . Thanks to &quot;flodel&quot;  on StackOverflow for suggesting code to handle floating-point increments.  
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+rle">rle</a></code> <code><a href="#topic+inverse.seqle">inverse.seqle</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x&lt;- c(2,2,2,3:8,8,8,4,4,4,5,5.5,6)
seqle(x,incr=0)
seqle(x,incr=1)
seqle(x,incr=1.5)
</code></pre>

<hr>
<h2 id='short'>
Returns a small sample of the specified data set. 
</h2><span id='topic+short'></span>

<h3>Description</h3>

<p>The user specifies both the number of elements to display and the number of elements at the start and end of the vector to ignore ('skip') when selecting elements.  The results are displayed in a nice tabular form.  There are options to set the value of N as well as the number of values to &quot;skip&quot; before selecting the values.  <code>short</code>  is similar to a combination of the unix <code>head</code>  and <code>tail</code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>short(x = seq(1, 20), numel = 4, skipel = 0, ynam = deparse(substitute(x)), dorows=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="short_+3A_x">x</code></td>
<td>

<p>The data vector to be examined.
</p>
</td></tr>
<tr><td><code id="short_+3A_numel">numel</code></td>
<td>

<p>How many elements to display.  Note that <code>numel</code> elements of the beginning and of the end of the vector are returned.
</p>
</td></tr>
<tr><td><code id="short_+3A_skipel">skipel</code></td>
<td>

<p>If desired, skip the first <code>skipel</code> elements before returning <code>numel</code> elements.
</p>
</td></tr>
<tr><td><code id="short_+3A_ynam">ynam</code></td>
<td>
  
<p>Not normally changed by the user.  <code>ynam</code> retrieves the name of the object in question, to be used in the output table formatting.
</p>
</td></tr>
<tr><td><code id="short_+3A_dorows">dorows</code></td>
<td>

<p>For matrices only, return the &quot;numel&quot; number of rows rather than elements. <code>dorows</code> is ignored with a warning if the input <code>x</code> has higher dimensionality.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the argument <code>x</code> happens to be a list, <code>short</code> unlists everything, so the first <code>numel</code> values will be taken from the first list element, going on to the second element as needed, etc.</p>


<h3>Value</h3>

<p>Nothing is returned of interest.  The function is called to provide what is printed directly to the console, which is a formatted table of the lead and tail values selected, with column labels identifying their location in the input vector object.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft   <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+head">head</a></code> , <code><a href="utils.html#topic+tail">tail</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>foo&lt;-matrix(runif(100),nrow=20)
short(foo)
short(foo,numel=6,skipel=10)
short(foo,numel=6,skipel=10,dorows=TRUE)
</code></pre>

<hr>
<h2 id='splatnd'>
Execute simple zero-argument functions
</h2><span id='topic+splatnd'></span><span id='topic++21'></span>

<h3>Description</h3>

<p>Execute simple zero-argument functions without having to type the &quot;()&quot; , and without having to go through the bother of <code>makeActiveBinding</code>. 
This code is provided primarily to allow the user to build his own set of command &quot;shortcuts&quot; by modifying the set of arguments to the <code>switch</code> function in the function body.  The bulk of the code is copied from the excellent package <code>sos</code> .
The name <code>splatnd</code> cannot be called directly, and doesn't even exist after being sourced.  It serves to define a variety of operators <code>![your_string_here]</code> .  If the string after <code>!</code> is not in the switch-list, the function defaults to the normal splat operator, i.e. NOT[your_string_here] .
</p>


<h3>Arguments</h3>

<p>none
</p>


<h3>Details</h3>

<p>The strings supported, with their associated functions,  as delivered are:
'newdev' = dev.new(width=4.5, height= 4.5, restoreConsole=T),
'qapla' = cat('batlh tIn chav'),
'quitn' = quit('no'),
'quity' = quit('yes'),
There's an obvious risk of undesired results should there exist an object in the environment with the same name as one of the items in the <code>switch</code> options.  The workaround is to enclose the object name in parentheses.  See the example. 
</p>


<h3>Value</h3>

<p>The returned value is the result of whatever function or operator was invoked.
</p>


<h3>Note</h3>

<p>The bulk of the code is taken directly from the <code>sos</code> package.   
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>


<h3>See Also</h3>

<p>The R manuals on creating operators,  <code>findFn</code> in the package <code>sos</code> , normally invoked as <code>???</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># based on the default items in splatnd.R
qapla &lt;- 1:5
!qapla
!(qapla)
</code></pre>

<hr>
<h2 id='thekurt'>
Calculates the kurtosis of the input data set. 
</h2><span id='topic+thekurt'></span>

<h3>Description</h3>

<p>Kurtosis is the next moment after skew (which is the moment after the variance). This function is provided primarily to support the function <code>mystat</code> . It uses the algorithm provided in the R package <code>e1071</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thekurt(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="thekurt_+3A_x">x</code></td>
<td>

<p>A vector or vectorizable data set.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p> A single scalar, the kurtosis of the data provided.
</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>

<hr>
<h2 id='theskew'>
Calculates the skew of a dataset. 
</h2><span id='topic+theskew'></span>

<h3>Description</h3>

<p>This function is included primarily to support <code>mystat</code> .  Skew is the next moment after the variance.  The algorithm used here is taken from the R package <code> e1071</code> .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>theskew(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="theskew_+3A_x">x</code></td>
<td>
<p>A vector of data to be evaluated
</p>
</td></tr>
</table>


<h3>Value</h3>

<p> A single scalar, the skew of the dataset</p>


<h3>Author(s)</h3>

<p>Carl Witthoft,  <a href="mailto:carl@witthoft.com">carl@witthoft.com</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

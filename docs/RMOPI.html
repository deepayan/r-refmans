<!DOCTYPE html><html><head><title>Help for package RMOPI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RMOPI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#CosPdfMulti'><p>Distribution Recovery with the COS method for Different parameters</p></a></li>
<li><a href='#CosPdfRecovery'><p>Distribution Recovery with the COS method</p></a></li>
<li><a href='#CosValueOption'><p>Approximate the Option Price with the COS Method</p></a></li>
<li><a href='#Describe'><p>Summary Statistics</p></a></li>
<li><a href='#DescribeVector'><p>Summary Statistics of Vector</p></a></li>
<li><a href='#EuroCallOption'><p>The Value Function of European Call Option</p></a></li>
<li><a href='#F_k'><p>F_k Coefficients</p></a></li>
<li><a href='#FixBacktest'><p>Buy and Hold Backtest</p></a></li>
<li><a href='#ggacf'><p>Plot the Acf Figure</p></a></li>
<li><a href='#ggboxplot'><p>Plot the Box Figure</p></a></li>
<li><a href='#gghistplot'><p>Plot the Histogram Figure</p></a></li>
<li><a href='#gglineplot'><p>Plot the Time Series</p></a></li>
<li><a href='#ggpacf'><p>Plot the Pacf Figure</p></a></li>
<li><a href='#InvestmentPortfolio'><p>Construct Portfolio</p></a></li>
<li><a href='#LogErrorCosPdf'><p>Calculate the Absolute Error of the COS Method</p></a></li>
<li><a href='#NormChf'><p>The Characteristic Function of Normal Distribution</p></a></li>
<li><a href='#PdfMultiPlot'><p>Plot the Probability Density Functions</p></a></li>
<li><a href='#PdfSinglePlot'><p>Plot the Probability Density Function</p></a></li>
<li><a href='#rGarch'><p>Simulate a Garch Series</p></a></li>
<li><a href='#rGarcha'><p>Simulate a Garch Series</p></a></li>
<li><a href='#rGbm'><p>Simulate prices series of stocks</p></a></li>
<li><a href='#rGbms'><p>Simulate Multivariate Stocks Prices Data</p></a></li>
<li><a href='#rGbmSingle'><p>Simulate a single stock price series</p></a></li>
<li><a href='#RiskIndicators'><p>Calculate Useful Indicators for returns</p></a></li>
<li><a href='#rMvReturnSim'><p>Simulate Stocks Prices</p></a></li>
<li><a href='#rTrade'><p>Simulate stock trade data</p></a></li>
<li><a href='#rTrades'><p>Simulate Multivariate Stock Trade Data</p></a></li>
<li><a href='#Sharp'><p>Calculate Sharp Ratio with stock prices</p></a></li>
<li><a href='#StackForPlot'><p>Rearrange the data from <code>LogErrorCosPdf</code> for plot</p></a></li>
<li><a href='#StackRet'><p>Stack Rets for ggplot</p></a></li>
<li><a href='#StNormChf'><p>The Characteristic Function of Standard Normal Distribution</p></a></li>
<li><a href='#V_k'><p>V_k Series</p></a></li>
<li><a href='#VaRSimTest'><p>VaR Calculation and Coverage Test</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Risk Management and Optimization for Portfolio Investment</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides functions for risk management and portfolio investment of securities with practical tools for data processing and plotting. Moreover, it contains functions which perform the COS Method, an option pricing method based on the Fourier-cosine series (Fang, F. (2008) &lt;<a href="https://doi.org/10.1137%2F080718061">doi:10.1137/080718061</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2, tibble, lubridate, timeSeries, xts</td>
</tr>
<tr>
<td>Imports:</td>
<td>MASS, PerformanceAnalytics, TTR, fPortfolio, rugarch, timeDate</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-22 10:37:03 UTC; Lenovo</td>
</tr>
<tr>
<td>Author:</td>
<td>Wei Ling [aut, cre],
  Yang Liu [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Wei Ling &lt;lingwei3418@163.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-22 12:50:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='CosPdfMulti'>Distribution Recovery with the COS method for Different parameters</h2><span id='topic+CosPdfMulti'></span>

<h3>Description</h3>

<p>Restore the distribution with the COS method under different parameters settings for error analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CosPdfMulti(x, Chf, N, a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CosPdfMulti_+3A_x">x</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="CosPdfMulti_+3A_chf">Chf</code></td>
<td>
<p>the characteristic function</p>
</td></tr>
<tr><td><code id="CosPdfMulti_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
<tr><td><code id="CosPdfMulti_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="CosPdfMulti_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix that contains restored p.d.f. with different parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- 2**(1:6)
x &lt;- seq(-5, 5, by = 10 / (32 - 1))
a &lt;- -10.0
b &lt;- 10.0
CosPdfMulti(x, StNormChf, N, a, b)
</code></pre>

<hr>
<h2 id='CosPdfRecovery'>Distribution Recovery with the COS method</h2><span id='topic+CosPdfRecovery'></span>

<h3>Description</h3>

<p>Restore the distribution with the characteristic function through the COS method, an option pricing method based on the Fourier-cosine series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CosPdfRecovery(x, Chf, N, a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CosPdfRecovery_+3A_x">x</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="CosPdfRecovery_+3A_chf">Chf</code></td>
<td>
<p>the characteristic function</p>
</td></tr>
<tr><td><code id="CosPdfRecovery_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
<tr><td><code id="CosPdfRecovery_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="CosPdfRecovery_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The approximated probability density of x
</p>


<h3>References</h3>

<p>Fang F. and Oosterlee C.W. 2008. &quot;A Novel Pricing Method for European Options Based on Fourier-Cosine Series Expansions&quot;, Siam Journal on Scientific Computing. 31(2): 826-848. doi: 10.1137/080718061.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- 32
x &lt;- seq(-5, 5, by = 10 / (32 - 1))
a &lt;- -6.0
b &lt;- 6.0
CosPdfRecovery(x, StNormChf, N, a, b)
</code></pre>

<hr>
<h2 id='CosValueOption'>Approximate the Option Price with the COS Method</h2><span id='topic+CosValueOption'></span>

<h3>Description</h3>

<p>Approximate the standard European call option price with the COS method, an option pricing method based on the Fourier-cosine series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CosValueOption(ValueOption, GBMChf, r, tau, N, a, b, method = "integrate")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CosValueOption_+3A_valueoption">ValueOption</code></td>
<td>
<p>the value function of the option</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_gbmchf">GBMChf</code></td>
<td>
<p>the characteristic function for GBM</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_r">r</code></td>
<td>
<p>the <code>r</code> parameter of GBM</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_tau">tau</code></td>
<td>
<p>the <code>tau</code> parameter of GBM</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
<tr><td><code id="CosValueOption_+3A_method">method</code></td>
<td>
<p>how to calculate the integral, one of &quot;integrate&quot; and &quot;jiahe&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The approximated euro call option price
</p>


<h3>References</h3>

<p>Fang F. and Oosterlee C.W. 2008. &quot;A Novel Pricing Method for European Options Based on Fourier-Cosine Series Expansions&quot;, Siam Journal on Scientific Computing. 31(2): 826-848. doi: 10.1137/080718061.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- 0.1
sigmaS0 &lt;- 0.2
tau &lt;- 10
S0 &lt;- 1
K &lt;- 1
mu &lt;- log(S0) + (r - 0.5 * sigmaS0^2) * tau
sigma &lt;- sigmaS0 * sqrt(tau)
a &lt;- -10
b &lt;- 10
N &lt;- 64
GBMChf &lt;- function(u){NormChf(u,mu,sigma)}
ValueOption &lt;- function(x){EuroCallOption(x,K)}
CosValueOption(ValueOption, GBMChf,r,tau, N, a, b)
</code></pre>

<hr>
<h2 id='Describe'>Summary Statistics</h2><span id='topic+Describe'></span>

<h3>Description</h3>

<p>Calculate useful statistics for an multivariate data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Describe(data, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Describe_+3A_data">data</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="Describe_+3A_digits">digits</code></td>
<td>
<p>integer deciding the number of decimal places</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of statistics, including min, max, mean, sd, Q25, Q50, Q75, kurt, Skew, n, na
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swan &lt;- rGarch(len = 180)
Describe(tibble(a1 = swan, a2 = swan + 1), 2)
</code></pre>

<hr>
<h2 id='DescribeVector'>Summary Statistics of Vector</h2><span id='topic+DescribeVector'></span>

<h3>Description</h3>

<p>Calculate useful statistics for an univariate data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DescribeVector(data, digits = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DescribeVector_+3A_data">data</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="DescribeVector_+3A_digits">digits</code></td>
<td>
<p>integer deciding the number of decimal places</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of statistics, including min, max, mean, sd, Q25, Q50, Q75, kurt, Skew, n, na
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swan &lt;- rGarch(len = 180)
DescribeVector(swan)
</code></pre>

<hr>
<h2 id='EuroCallOption'>The Value Function of European Call Option</h2><span id='topic+EuroCallOption'></span>

<h3>Description</h3>

<p>With global variable K, the strike price, calculate the value of European call option.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EuroCallOption(x, K)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="EuroCallOption_+3A_x">x</code></td>
<td>
<p>the stock price</p>
</td></tr>
<tr><td><code id="EuroCallOption_+3A_k">K</code></td>
<td>
<p>the strike price</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of European call option
</p>


<h3>Examples</h3>

<pre><code class='language-R'>EuroCallOption(x = 2,K = 1)
</code></pre>

<hr>
<h2 id='F_k'>F_k Coefficients</h2><span id='topic+F_k'></span>

<h3>Description</h3>

<p>Calculate the F_k coefficients for the COS method, an option pricing method based on the Fourier-cosine series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_k(Chf, N, a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F_k_+3A_chf">Chf</code></td>
<td>
<p>the characteristic function</p>
</td></tr>
<tr><td><code id="F_k_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
<tr><td><code id="F_k_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="F_k_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of F_k coefficients
</p>


<h3>References</h3>

<p>Fang F. and Oosterlee C.W. 2008. &quot;A Novel Pricing Method for European Options Based on Fourier-Cosine Series Expansions&quot;, Siam Journal on Scientific Computing. 31(2): 826-848. doi: 10.1137/080718061.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- 32
a &lt;- -6.0
b &lt;- 6.0
F_k(StNormChf, N, a, b)
</code></pre>

<hr>
<h2 id='FixBacktest'>Buy and Hold Backtest</h2><span id='topic+FixBacktest'></span>

<h3>Description</h3>

<p>Backtest for the buy and hold with a fixed weights strategy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>FixBacktest(rets, weights)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="FixBacktest_+3A_rets">rets</code></td>
<td>
<p>historic multivariate returns</p>
</td></tr>
<tr><td><code id="FixBacktest_+3A_weights">weights</code></td>
<td>
<p>holding weights of stock</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A backtest return series
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names &lt;- c("swan", "bear", "tiger")
date &lt;- as.Date("2015-01-01") + days(0:179)
mu &lt;- c(0.2, 0.08, 0.1)
sigma &lt;- matrix(c(1, 0.25, -0.3, 0.25, 0.25, 0, -0.3, 0, 0.36), 3, 3)
allret &lt;- rMvReturnSim(names, date, mu, sigma)
tsret &lt;- as.timeSeries(allret)
FixBacktest(tsret, rep(1 / 3, 3))
</code></pre>

<hr>
<h2 id='ggacf'>Plot the Acf Figure</h2><span id='topic+ggacf'></span>

<h3>Description</h3>

<p>Plot the Acf figure with observations of a single variable beautifully.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggacf(data, lag = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggacf_+3A_data">data</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="ggacf_+3A_lag">lag</code></td>
<td>
<p>the maximum lag to calculate the acf</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot figure of the acf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swan &lt;- rGarch(len = 180)
ggacf(swan^2, 20)
</code></pre>

<hr>
<h2 id='ggboxplot'>Plot the Box Figure</h2><span id='topic+ggboxplot'></span>

<h3>Description</h3>

<p>Plot the box figure beautifully with ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggboxplot(data, mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggboxplot_+3A_data">data</code></td>
<td>
<p>a tibble</p>
</td></tr>
<tr><td><code id="ggboxplot_+3A_mapping">mapping</code></td>
<td>
<p>the mapping parameter of ggplot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A box figure by ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names &lt;- c("swan", "bear", "tiger")
date &lt;- as.Date("2015-01-01") + days(0:179)
mu &lt;- c(0.2, 0.08, 0.1)
sigma &lt;- matrix(c(1, 0.25, -0.3, 0.25, 0.25, 0, -0.3, 0, 0.36), 3, 3)
allret &lt;- rMvReturnSim(names, date, mu, sigma)
totret &lt;- StackRet(allret, date)
ggboxplot(totret, aes(x = stock, y = ret))
</code></pre>

<hr>
<h2 id='gghistplot'>Plot the Histogram Figure</h2><span id='topic+gghistplot'></span>

<h3>Description</h3>

<p>Plot the histgram figure beautifully with ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gghistplot(data, mapping, bins = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gghistplot_+3A_data">data</code></td>
<td>
<p>a tibble</p>
</td></tr>
<tr><td><code id="gghistplot_+3A_mapping">mapping</code></td>
<td>
<p>the mapping parameter</p>
</td></tr>
<tr><td><code id="gghistplot_+3A_bins">bins</code></td>
<td>
<p>the number of bins</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A histogram figure by ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:180)
thero &lt;- returns(rGbm("thero", date))[-1]
tthero &lt;- tibble(x = date[-1], y = thero)
gghistplot(tthero, aes(x = thero, y = stat(density)), bins = 20)
</code></pre>

<hr>
<h2 id='gglineplot'>Plot the Time Series</h2><span id='topic+gglineplot'></span>

<h3>Description</h3>

<p>Plot the time series data beautifully with ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gglineplot(data, mapping, date_labels = "%Y/%m/%d", date_breaks = "2 weeks")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gglineplot_+3A_data">data</code></td>
<td>
<p>a tibble</p>
</td></tr>
<tr><td><code id="gglineplot_+3A_mapping">mapping</code></td>
<td>
<p>the mapping parameter</p>
</td></tr>
<tr><td><code id="gglineplot_+3A_date_labels">date_labels</code></td>
<td>
<p>the x label</p>
</td></tr>
<tr><td><code id="gglineplot_+3A_date_breaks">date_breaks</code></td>
<td>
<p>the period of the x label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot figure of the time series
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:180)
thero &lt;- returns(rGbm("thero", date))[-1]
tthero &lt;- tibble(x = date[-1], y = thero)
gglineplot(tthero, aes(x, y), "%Y/%m", "1 months")
</code></pre>

<hr>
<h2 id='ggpacf'>Plot the Pacf Figure</h2><span id='topic+ggpacf'></span>

<h3>Description</h3>

<p>Plot the Pacf figure with observations of a single variable beautifully.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggpacf(data, lag = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggpacf_+3A_data">data</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="ggpacf_+3A_lag">lag</code></td>
<td>
<p>the maximum lag to calculate the pacf</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot figure of the pacf
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swan &lt;- rGarch(len = 180)
ggpacf(swan^2, 20)
</code></pre>

<hr>
<h2 id='InvestmentPortfolio'>Construct Portfolio</h2><span id='topic+InvestmentPortfolio'></span>

<h3>Description</h3>

<p>Construct four types portfolio with specificition and constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>InvestmentPortfolio(data, method, spec, constraints = "LongOnly")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="InvestmentPortfolio_+3A_data">data</code></td>
<td>
<p>multivariate returns, must be &quot;timeSeries&quot; type</p>
</td></tr>
<tr><td><code id="InvestmentPortfolio_+3A_method">method</code></td>
<td>
<p>porofolio type, one of &quot;fea&quot;, &quot;minrisk&quot;, &quot;globalminrisk&quot; and &quot;sharp&quot;</p>
</td></tr>
<tr><td><code id="InvestmentPortfolio_+3A_spec">spec</code></td>
<td>
<p>specificition of portfolio</p>
</td></tr>
<tr><td><code id="InvestmentPortfolio_+3A_constraints">constraints</code></td>
<td>
<p>constraints of trade</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A portfolio
</p>


<h3>References</h3>

<p>Markowitz H. 1952. &quot;Portfolio Selection&quot;, The Journal of Finance, 7(1), 77–91. doi: 10.2307/2975974.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(fPortfolio)
names &lt;- c("swan", "bear", "tiger")
date &lt;- as.Date("2015-01-01") + days(0:179)
mu &lt;- c(0.2, 0.08, 0.1)
sigma &lt;- matrix(c(1, 0.25, -0.3, 0.25, 0.25, 0, -0.3, 0, 0.36), 3, 3)
allret &lt;- rMvReturnSim(names, date, mu, sigma)
tsret &lt;- as.timeSeries(allret)
feaSpec &lt;- portfolioSpec()
setWeights(feaSpec) &lt;- rep(1 / 3, times = 3)
InvestmentPortfolio(tsret, "fea", feaSpec)
</code></pre>

<hr>
<h2 id='LogErrorCosPdf'>Calculate the Absolute Error of the COS Method</h2><span id='topic+LogErrorCosPdf'></span>

<h3>Description</h3>

<p>Calculate the max absolute error of the cos method for different parameters given a vector of x.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LogErrorCosPdf(x, f, Chf, a, b, N)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LogErrorCosPdf_+3A_x">x</code></td>
<td>
<p>vector of observations</p>
</td></tr>
<tr><td><code id="LogErrorCosPdf_+3A_f">f</code></td>
<td>
<p>the true p.d.f.</p>
</td></tr>
<tr><td><code id="LogErrorCosPdf_+3A_chf">Chf</code></td>
<td>
<p>the characteristic function</p>
</td></tr>
<tr><td><code id="LogErrorCosPdf_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="LogErrorCosPdf_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
<tr><td><code id="LogErrorCosPdf_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix that contains the log max error for different parameters
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- c(1:200)
L &lt;- c(10, 20, 60, 100, 1000)
a &lt;- -L / 2
b &lt;- L / 2
x &lt;- seq(-5, 5, by = 10 / (32 - 1))
LogErrorCosPdf(x, dnorm, NormChf, a, b, N)
</code></pre>

<hr>
<h2 id='NormChf'>The Characteristic Function of Normal Distribution</h2><span id='topic+NormChf'></span>

<h3>Description</h3>

<p>The Characteristic Function of Normal Distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NormChf(u, mu = 0, sigma = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NormChf_+3A_u">u</code></td>
<td>
<p>observation</p>
</td></tr>
<tr><td><code id="NormChf_+3A_mu">mu</code></td>
<td>
<p>the <code>mu</code> parameter</p>
</td></tr>
<tr><td><code id="NormChf_+3A_sigma">sigma</code></td>
<td>
<p>the <code>sigma</code> parameter</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of Characteristic Function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NormChf(1)
</code></pre>

<hr>
<h2 id='PdfMultiPlot'>Plot the Probability Density Functions</h2><span id='topic+PdfMultiPlot'></span>

<h3>Description</h3>

<p>Plot the p.d.f functions for the univariate distribution with data processed by StackRet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PdfMultiPlot(data, x, y, Variable)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PdfMultiPlot_+3A_data">data</code></td>
<td>
<p>a tibble contains x, y and Variable and the last one is the group variable</p>
</td></tr>
<tr><td><code id="PdfMultiPlot_+3A_x">x</code></td>
<td>
<p>x</p>
</td></tr>
<tr><td><code id="PdfMultiPlot_+3A_y">y</code></td>
<td>
<p>y</p>
</td></tr>
<tr><td><code id="PdfMultiPlot_+3A_variable">Variable</code></td>
<td>
<p>the group label</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot figure of the probability density functions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- 2**(1:6)
x &lt;- seq(-5, 5, by = 10 / (32 - 1))
a &lt;- -10.0
b &lt;- 10.0
f_x1 &lt;- CosPdfMulti(x, StNormChf, N, a, b)
colnames(f_x1) &lt;- paste("N = 2 ^ ", c(1:6), sep = "")
mt1 &lt;- StackRet(f_x1, x)
colnames(mt1) &lt;- c("x", "y", "Variable")
PdfMultiPlot(mt1, x, y, Variable)
</code></pre>

<hr>
<h2 id='PdfSinglePlot'>Plot the Probability Density Function</h2><span id='topic+PdfSinglePlot'></span>

<h3>Description</h3>

<p>Plot the p.d.f function for the univariate distribution with x and y.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PdfSinglePlot(data, x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PdfSinglePlot_+3A_data">data</code></td>
<td>
<p>a tiible contains x and y</p>
</td></tr>
<tr><td><code id="PdfSinglePlot_+3A_x">x</code></td>
<td>
<p>x</p>
</td></tr>
<tr><td><code id="PdfSinglePlot_+3A_y">y</code></td>
<td>
<p>y</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot figure of the probability density function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- 32
x &lt;- seq(-5, 5, by = 10 / (32 - 1))
a &lt;- -6.0
b &lt;- 6.0
f_x &lt;- CosPdfRecovery(x, StNormChf, N, a, b)
tnorm &lt;- tibble(x = x, y = f_x)
PdfSinglePlot(tnorm, x, y)
</code></pre>

<hr>
<h2 id='rGarch'>Simulate a Garch Series</h2><span id='topic+rGarch'></span>

<h3>Description</h3>

<p>Simulate a Garch series given its data generate process with mean part.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rGarch(
  u = 0,
  a0 = rnorm(1, 0, 1),
  sigma20 = rnorm(1, 0, 1)^2,
  alpha = c(0.5, 0.5),
  beta = 0.25,
  len = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rGarch_+3A_u">u</code></td>
<td>
<p>the mean series</p>
</td></tr>
<tr><td><code id="rGarch_+3A_a0">a0</code></td>
<td>
<p>vector of the start part</p>
</td></tr>
<tr><td><code id="rGarch_+3A_sigma20">sigma20</code></td>
<td>
<p>vector of the initial variance <code>sigma2</code></p>
</td></tr>
<tr><td><code id="rGarch_+3A_alpha">alpha</code></td>
<td>
<p>the <code>alpha</code> parameter</p>
</td></tr>
<tr><td><code id="rGarch_+3A_beta">beta</code></td>
<td>
<p>the <code>beta</code> parameter</p>
</td></tr>
<tr><td><code id="rGarch_+3A_len">len</code></td>
<td>
<p>the length, include defined <code>a0</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A simulated garch series
</p>


<h3>References</h3>

<p>Bollerslev T. 1986. &quot;Generalized autoregressive conditional heteroskedasticity&quot;, Journal of Econometrics, 31(3): 307-327. doi: 10.1016/0304-4076(86)90063-1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rGarch()
</code></pre>

<hr>
<h2 id='rGarcha'>Simulate a Garch Series</h2><span id='topic+rGarcha'></span>

<h3>Description</h3>

<p>Simulate a Garch series given its data generate process without mean part.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rGarcha(
  a0 = rnorm(1, 0, 1),
  sigma20 = rnorm(1, 0, 1)^2,
  alpha = c(0.5, 0.5),
  beta = 0.25,
  len = 10
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rGarcha_+3A_a0">a0</code></td>
<td>
<p>vector of the start part</p>
</td></tr>
<tr><td><code id="rGarcha_+3A_sigma20">sigma20</code></td>
<td>
<p>vector of the initial variance <code>sigma2</code></p>
</td></tr>
<tr><td><code id="rGarcha_+3A_alpha">alpha</code></td>
<td>
<p>the <code>alpha</code> parameter</p>
</td></tr>
<tr><td><code id="rGarcha_+3A_beta">beta</code></td>
<td>
<p>the <code>beta</code> parameter</p>
</td></tr>
<tr><td><code id="rGarcha_+3A_len">len</code></td>
<td>
<p>the length, include defined <code>a0</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A simulated garch series
</p>


<h3>References</h3>

<p>Bollerslev T. 1986. &quot;Generalized autoregressive conditional heteroskedasticity&quot;, Journal of Econometrics, 31(3): 307-327. doi: 10.1016/0304-4076(86)90063-1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rGarcha()
</code></pre>

<hr>
<h2 id='rGbm'>Simulate prices series of stocks</h2><span id='topic+rGbm'></span>

<h3>Description</h3>

<p>Simulate an multivariate series following Geometric Brownian Motion (GBM)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rGbm(name, time, start = 100, mu = 0.01, sigma = 0.02)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rGbm_+3A_name">name</code></td>
<td>
<p>vector of series names</p>
</td></tr>
<tr><td><code id="rGbm_+3A_time">time</code></td>
<td>
<p>vector of time, must be a &quot;Date&quot; type variable</p>
</td></tr>
<tr><td><code id="rGbm_+3A_start">start</code></td>
<td>
<p>vector of start positions</p>
</td></tr>
<tr><td><code id="rGbm_+3A_mu">mu</code></td>
<td>
<p>vector of <code>mu</code></p>
</td></tr>
<tr><td><code id="rGbm_+3A_sigma">sigma</code></td>
<td>
<p>vector of <code>sigma</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a simulated multivariate GBM series
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:29)
rGbm(c("bear", "tiger", "swan"), date)
</code></pre>

<hr>
<h2 id='rGbms'>Simulate Multivariate Stocks Prices Data</h2><span id='topic+rGbms'></span>

<h3>Description</h3>

<p>Simulate multivariate prices for interconnected stocks with each price series following Geometric Brownian Motion (GBM).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rGbms(
  name,
  len,
  start = c(1000, 1000),
  mu = rep(1e-04, 2),
  sigma = matrix(c(2e-04, 1e-04, 1e-04, 2e-04), 2, 2),
  digits = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rGbms_+3A_name">name</code></td>
<td>
<p>vector of series names</p>
</td></tr>
<tr><td><code id="rGbms_+3A_len">len</code></td>
<td>
<p>the length</p>
</td></tr>
<tr><td><code id="rGbms_+3A_start">start</code></td>
<td>
<p>vector of start positions</p>
</td></tr>
<tr><td><code id="rGbms_+3A_mu">mu</code></td>
<td>
<p>vector of <code>mu</code></p>
</td></tr>
<tr><td><code id="rGbms_+3A_sigma">sigma</code></td>
<td>
<p>vector of <code>sigma</code></p>
</td></tr>
<tr><td><code id="rGbms_+3A_digits">digits</code></td>
<td>
<p>integer deciding the number of decimal places</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A simulated multivariate GBM series with each series interconnected
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rGbms(c("bear", "tiger"), len = 36)
</code></pre>

<hr>
<h2 id='rGbmSingle'>Simulate a single stock price series</h2><span id='topic+rGbmSingle'></span>

<h3>Description</h3>

<p>Simulate an univariate series following Geometric Brownian Motion (GBM).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rGbmSingle(len, start = 100, mu = 0.01, sigma = 0.02)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rGbmSingle_+3A_len">len</code></td>
<td>
<p>the length</p>
</td></tr>
<tr><td><code id="rGbmSingle_+3A_start">start</code></td>
<td>
<p>the start position</p>
</td></tr>
<tr><td><code id="rGbmSingle_+3A_mu">mu</code></td>
<td>
<p>the <code>mu</code> parameter of GBM</p>
</td></tr>
<tr><td><code id="rGbmSingle_+3A_sigma">sigma</code></td>
<td>
<p>the <code>sigma</code> parameter of GBM</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a simulated univariate GBM series
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rGbmSingle(100)
</code></pre>

<hr>
<h2 id='RiskIndicators'>Calculate Useful Indicators for returns</h2><span id='topic+RiskIndicators'></span>

<h3>Description</h3>

<p>Calculate cumulative return, annualized return, max drawdown, annualized sharp ratio, calmar ratio, sortino ratio, alpha, beta and information ratio with returns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RiskIndicators(ret, rb, rf = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RiskIndicators_+3A_ret">ret</code></td>
<td>
<p>vector of return</p>
</td></tr>
<tr><td><code id="RiskIndicators_+3A_rb">rb</code></td>
<td>
<p>return of market portfolio</p>
</td></tr>
<tr><td><code id="RiskIndicators_+3A_rf">rf</code></td>
<td>
<p>risk free rate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of return and risk indicators
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:249)
ret &lt;- as.xts(rnorm(250), date)
rb &lt;- as.xts(rep(0, 250), date)
RiskIndicators(ret, rb = rb, rf = 0)
</code></pre>

<hr>
<h2 id='rMvReturnSim'>Simulate Stocks Prices</h2><span id='topic+rMvReturnSim'></span>

<h3>Description</h3>

<p>Simulate stocks prices following multivariate normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rMvReturnSim(
  names,
  date,
  mu = rep(0, 2),
  sigma = matrix(c(1, 0.5, 0.5, 1), 2, 2)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rMvReturnSim_+3A_names">names</code></td>
<td>
<p>vector of names</p>
</td></tr>
<tr><td><code id="rMvReturnSim_+3A_date">date</code></td>
<td>
<p>vector of time, must be &quot;Date&quot; type</p>
</td></tr>
<tr><td><code id="rMvReturnSim_+3A_mu">mu</code></td>
<td>
<p>vector of <code>mu</code></p>
</td></tr>
<tr><td><code id="rMvReturnSim_+3A_sigma">sigma</code></td>
<td>
<p>vector of <code>sigma</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Multivariate stock prices
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names &lt;- c("swan", "bear")
date &lt;- as.Date("2015-01-01") + days(0:29)
rMvReturnSim(names, date)
</code></pre>

<hr>
<h2 id='rTrade'>Simulate stock trade data</h2><span id='topic+rTrade'></span>

<h3>Description</h3>

<p>Simulate stock trade data with assumption that the stock price following Geometric Brownian Motion (GBM).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rTrade(time, start = 100, mu = 1e-04, sigma = 2e-04)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rTrade_+3A_time">time</code></td>
<td>
<p>time vector of time, must be a &quot;Date&quot; type variable</p>
</td></tr>
<tr><td><code id="rTrade_+3A_start">start</code></td>
<td>
<p>the start position</p>
</td></tr>
<tr><td><code id="rTrade_+3A_mu">mu</code></td>
<td>
<p>the <code>mu</code> parameter of GBM</p>
</td></tr>
<tr><td><code id="rTrade_+3A_sigma">sigma</code></td>
<td>
<p>the <code>sigma</code> parameter of GBM</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Stock trade data with Open, High, Low and Close
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:29)
rTrade(date)
</code></pre>

<hr>
<h2 id='rTrades'>Simulate Multivariate Stock Trade Data</h2><span id='topic+rTrades'></span>

<h3>Description</h3>

<p>Simulate multivariate stock trade data with assumption that each stock price following Geometric Brownian Motion (GBM). And these prices are interconnected.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rTrades(
  name,
  time,
  start = c(1000, 1000),
  mu = rep(1e-04, 2),
  sigma = matrix(c(2e-04, 1e-04, 1e-04, 2e-04), 2, 2),
  digits = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rTrades_+3A_name">name</code></td>
<td>
<p>vector of names</p>
</td></tr>
<tr><td><code id="rTrades_+3A_time">time</code></td>
<td>
<p>time vector of time, must be &quot;Date&quot; type</p>
</td></tr>
<tr><td><code id="rTrades_+3A_start">start</code></td>
<td>
<p>vector of start positions</p>
</td></tr>
<tr><td><code id="rTrades_+3A_mu">mu</code></td>
<td>
<p>vector of <code>mu</code></p>
</td></tr>
<tr><td><code id="rTrades_+3A_sigma">sigma</code></td>
<td>
<p>vector of <code>sigma</code></p>
</td></tr>
<tr><td><code id="rTrades_+3A_digits">digits</code></td>
<td>
<p>integer deciding the number of deciamal places</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of stock trade data with Open, High, Low and Close
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:29)
rTrades(c("swan", "bear"), date)
</code></pre>

<hr>
<h2 id='Sharp'>Calculate Sharp Ratio with stock prices</h2><span id='topic+Sharp'></span>

<h3>Description</h3>

<p>Calculate sharp ratio of stock with running window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Sharp(x, rf = 0, n = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Sharp_+3A_x">x</code></td>
<td>
<p>vector of price</p>
</td></tr>
<tr><td><code id="Sharp_+3A_rf">rf</code></td>
<td>
<p>risk free rate</p>
</td></tr>
<tr><td><code id="Sharp_+3A_n">n</code></td>
<td>
<p>the length of running window</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The sharp ratio series with length the same as x
</p>


<h3>Examples</h3>

<pre><code class='language-R'>date &lt;- as.Date("2015-01-01") + days(0:29)
trade &lt;- rTrade(date)
x &lt;- trade$Close
Sharp(x)
</code></pre>

<hr>
<h2 id='StackForPlot'>Rearrange the data from <code>LogErrorCosPdf</code> for plot</h2><span id='topic+StackForPlot'></span>

<h3>Description</h3>

<p>Rearrange the data from <code>LogErrorCosPdf</code> for plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StackForPlot(error, a, b, N)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="StackForPlot_+3A_error">error</code></td>
<td>
<p>return of <code>LogErrorCosPdf</code></p>
</td></tr>
<tr><td><code id="StackForPlot_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="StackForPlot_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
<tr><td><code id="StackForPlot_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Suitable tibble data for plot by group in ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>N &lt;- c(1:200)
L &lt;- c(10, 20, 60, 100, 1000)
a &lt;- -L / 2
b &lt;- L / 2
x &lt;- seq(-5, 5, by = 10 / (32 - 1))
el &lt;- LogErrorCosPdf(x, dnorm, NormChf, a, b, N)
StackForPlot(el, a, b, N)
</code></pre>

<hr>
<h2 id='StackRet'>Stack Rets for ggplot</h2><span id='topic+StackRet'></span>

<h3>Description</h3>

<p>Change the arrangement of multivariate data to generate suitable data for ggplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StackRet(rets, date)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="StackRet_+3A_rets">rets</code></td>
<td>
<p>multivariate data, arranged by column</p>
</td></tr>
<tr><td><code id="StackRet_+3A_date">date</code></td>
<td>
<p>vector of common information for variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Suitable tibble data for plot by group in ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names &lt;- c("swan", "bear", "tiger")
date &lt;- as.Date("2015-01-01") + days(0:179)
mu &lt;- c(0.2, 0.08, 0.1)
sigma &lt;- matrix(c(1, 0.25, -0.3, 0.25, 0.25, 0, -0.3, 0, 0.36), 3, 3)
allret &lt;- rMvReturnSim(names, date, mu, sigma)
StackRet(allret, date)
</code></pre>

<hr>
<h2 id='StNormChf'>The Characteristic Function of Standard Normal Distribution</h2><span id='topic+StNormChf'></span>

<h3>Description</h3>

<p>The Characteristic Function of Standard Normal Distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StNormChf(u)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="StNormChf_+3A_u">u</code></td>
<td>
<p>observation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The value of Characteristic Function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>StNormChf(1)
</code></pre>

<hr>
<h2 id='V_k'>V_k Series</h2><span id='topic+V_k'></span>

<h3>Description</h3>

<p>Calculate the V_k Series for Option Pricing with the COS Method, an option pricing method based on the Fourier-cosine series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>V_k(ValueOption, N, a, b, method = "integrate")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="V_k_+3A_valueoption">ValueOption</code></td>
<td>
<p>the value function of the option</p>
</td></tr>
<tr><td><code id="V_k_+3A_n">N</code></td>
<td>
<p>the number of cos term for summation</p>
</td></tr>
<tr><td><code id="V_k_+3A_a">a</code></td>
<td>
<p>the lower limit of the truncation interval</p>
</td></tr>
<tr><td><code id="V_k_+3A_b">b</code></td>
<td>
<p>the upper limit of the truncation interval</p>
</td></tr>
<tr><td><code id="V_k_+3A_method">method</code></td>
<td>
<p>how to calculate the integral, one of &quot;integrate&quot; and &quot;jiahe&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The V_k series
</p>


<h3>References</h3>

<p>Fang F. and Oosterlee C.W. 2008. &quot;A Novel Pricing Method for European Options Based on Fourier-Cosine Series Expansions&quot;, Siam Journal on Scientific Computing. 31(2): 826-848. doi: 10.1137/080718061.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>r &lt;- 0.1
sigmaS0 &lt;- 0.2
tau &lt;- 10
S0 &lt;- 1
K &lt;- 1
mu &lt;- log(S0) + (r - 0.5 * sigmaS0^2) * tau
sigma &lt;- sigmaS0 * sqrt(tau)
a &lt;- -10
b &lt;- 10
N &lt;- 64
ValueOption &lt;- function(x){EuroCallOption(x,K)}
V_k(ValueOption, N, a, b)
</code></pre>

<hr>
<h2 id='VaRSimTest'>VaR Calculation and Coverage Test</h2><span id='topic+VaRSimTest'></span>

<h3>Description</h3>

<p>Calculate VaR with three method and implement unconditional and conditional coverage test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VaRSimTest(data, method, alpha, fun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VaRSimTest_+3A_data">data</code></td>
<td>
<p>vector of returns</p>
</td></tr>
<tr><td><code id="VaRSimTest_+3A_method">method</code></td>
<td>
<p>the VaR method, one of &quot;param&quot;, &quot;hist&quot; and &quot;mc&quot;</p>
</td></tr>
<tr><td><code id="VaRSimTest_+3A_alpha">alpha</code></td>
<td>
<p>the VaR confidence level</p>
</td></tr>
<tr><td><code id="VaRSimTest_+3A_fun">fun</code></td>
<td>
<p>function calculating VaR, limited by <code>method</code></p>
</td></tr>
<tr><td><code id="VaRSimTest_+3A_...">...</code></td>
<td>
<p>the extra parameters of <code>fun</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of VaR and coverage test outcome
</p>


<h3>References</h3>

<p>Christoffersen P. F. 1998. &quot;Evaluating Interval Forecasts&quot;, International Economic Review, 841-862. doi: 10.2307/2527341.
</p>
<p>Kupiec PH. 1995. &quot;Techniques for Verifying the Accuracy of Risk Measurement Models&quot;, The Journal of Derivatives, 3(2), 73-84. doi: 10.3905/jod.1995.407942.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swan &lt;- rGarch(len = 30)
date &lt;- as.Date("2015-01-01") + days(0:(length(swan) - 1))
tswan &lt;- tibble(garch = swan, date = date)
tsswan &lt;- as.xts(swan, date)
alpha = 0.05
num = 100000
mu = mean(tsswan)
sd = sd(tsswan)
VaRSimTest(tsswan, "mc", alpha , rnorm, 100000, mu, sd)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

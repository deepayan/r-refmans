<!DOCTYPE html><html><head><title>Help for package reprex</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {reprex}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#reprex-package'><p>reprex: Prepare Reproducible Example Code via the Clipboard</p></a></li>
<li><a href='#reprex'><p>Render a reprex</p></a></li>
<li><a href='#reprex_addin'><p>Render a reprex, conveniently</p></a></li>
<li><a href='#reprex_document'><p>reprex output format</p></a></li>
<li><a href='#reprex_locale'><p>Render a reprex in a specific locale</p></a></li>
<li><a href='#reprex_options'><p>reprex options</p></a></li>
<li><a href='#reprex_render'><p>Render a document in a new R session</p></a></li>
<li><a href='#reprex_venue'><p>Venue-specific shortcuts</p></a></li>
<li><a href='#un-reprex'><p>Un-render a reprex</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Prepare Reproducible Example Code via the Clipboard</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Convenience wrapper that uses the 'rmarkdown' package to
    render small snippets of code to target formats that include both code
    and output.  The goal is to encourage the sharing of small,
    reproducible, and runnable examples on code-oriented websites, such as
    <a href="https://stackoverflow.com">https://stackoverflow.com</a> and <a href="https://github.com">https://github.com</a>, or in email. The
    user's clipboard is the default source of input code and the default
    target for rendered output. 'reprex' also extracts clean, runnable R
    code from various common formats, such as copy/paste from an R
    session.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://reprex.tidyverse.org">https://reprex.tidyverse.org</a>, <a href="https://github.com/tidyverse/reprex">https://github.com/tidyverse/reprex</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/tidyverse/reprex/issues">https://github.com/tidyverse/reprex/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>callr (&ge; 3.6.0), cli (&ge; 3.2.0), clipr (&ge; 0.4.0), fs, glue,
knitr (&ge; 1.23), lifecycle, rlang (&ge; 1.0.0), rmarkdown,
rstudioapi, utils, withr (&ge; 2.3.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, fortunes, miniUI, rprojroot, sessioninfo, shiny,
spelling, styler (&ge; 1.2.0), testthat (&ge; 3.0.2)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>dplyr, tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Config/testthat/start-first:</td>
<td>knitr-options, venues, reprex</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3.9000</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>pandoc (&gt;= 2.0) - http://pandoc.org</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-11 03:02:48 UTC; jenny</td>
</tr>
<tr>
<td>Author:</td>
<td>Jennifer Bryan <a href="https://orcid.org/0000-0002-6983-2759"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Jim Hester <a href="https://orcid.org/0000-0002-2739-7082"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  David Robinson [aut],
  Hadley Wickham <a href="https://orcid.org/0000-0003-4757-117X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Christophe Dervieux
    <a href="https://orcid.org/0000-0003-4474-2498"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jennifer Bryan &lt;jenny@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-11 08:30:04 UTC</td>
</tr>
</table>
<hr>
<h2 id='reprex-package'>reprex: Prepare Reproducible Example Code via the Clipboard</h2><span id='topic+reprex-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Convenience wrapper that uses the 'rmarkdown' package to render small snippets of code to target formats that include both code and output. The goal is to encourage the sharing of small, reproducible, and runnable examples on code-oriented websites, such as <a href="https://stackoverflow.com">https://stackoverflow.com</a> and <a href="https://github.com">https://github.com</a>, or in email. The user's clipboard is the default source of input code and the default target for rendered output. 'reprex' also extracts clean, runnable R code from various common formats, such as copy/paste from an R session.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jennifer Bryan <a href="mailto:jenny@posit.co">jenny@posit.co</a> (<a href="https://orcid.org/0000-0002-6983-2759">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Jim Hester (<a href="https://orcid.org/0000-0002-2739-7082">ORCID</a>)
</p>
</li>
<li><p> David Robinson <a href="mailto:admiral.david@gmail.com">admiral.david@gmail.com</a>
</p>
</li>
<li><p> Hadley Wickham <a href="mailto:hadley@posit.co">hadley@posit.co</a> (<a href="https://orcid.org/0000-0003-4757-117X">ORCID</a>)
</p>
</li>
<li><p> Christophe Dervieux <a href="mailto:cderv@posit.co">cderv@posit.co</a> (<a href="https://orcid.org/0000-0003-4474-2498">ORCID</a>)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://reprex.tidyverse.org">https://reprex.tidyverse.org</a>
</p>
</li>
<li> <p><a href="https://github.com/tidyverse/reprex">https://github.com/tidyverse/reprex</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/tidyverse/reprex/issues">https://github.com/tidyverse/reprex/issues</a>
</p>
</li></ul>


<hr>
<h2 id='reprex'>Render a reprex</h2><span id='topic+reprex'></span>

<h3>Description</h3>

<p>Run a bit of R code using <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code> and write the rendered result
to user's clipboard. If the clipboard is unavailable, the file containing
the rendered result is opened for manual copy. The goal is to make it easy to
share a small reproducible example (&quot;reprex&quot;), e.g., in a GitHub issue.
Reprex source can be
</p>

<ul>
<li><p> read from clipboard
</p>
</li>
<li><p> provided directly as expression, character vector, or string
</p>
</li>
<li><p> read from file
</p>
</li>
<li><p> read from current selection or active document in RStudio
</p>
</li></ul>

<p>reprex can also be used for syntax highlighting (with or without rendering);
see below for more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reprex(
  x = NULL,
  input = NULL,
  wd = NULL,
  venue = c("gh", "r", "rtf", "html", "slack", "so", "ds"),
  render = TRUE,
  advertise = NULL,
  session_info = opt(FALSE),
  style = opt(FALSE),
  comment = opt("#&gt;"),
  tidyverse_quiet = opt(TRUE),
  std_out_err = opt(FALSE),
  html_preview = opt(TRUE),
  outfile = deprecated(),
  show = deprecated(),
  si = deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reprex_+3A_x">x</code></td>
<td>
<p>An expression. If not given, <code>reprex()</code> looks for code in
<code>input</code>. If <code>input</code> is not provided, <code>reprex()</code> looks on the clipboard.
</p>
<p>When the clipboard is structurally unavailable, e.g., on RStudio Server or
RStudio Cloud, <code>reprex()</code> consults the current selection instead of the
clipboard.</p>
</td></tr>
<tr><td><code id="reprex_+3A_input">input</code></td>
<td>
<p>Character. If has length one and lacks a terminating newline,
interpreted as the path to a file containing reprex code. Otherwise,
assumed to hold reprex code as character vector. When <code>input</code> specifies a
filepath, it also determines the reprex working directory and the location
of all resulting files.</p>
</td></tr>
<tr><td><code id="reprex_+3A_wd">wd</code></td>
<td>
<p>An optional filepath that is consulted when <code>input</code> is not a
filepath. (By default, all work is done, quietly, in a subdirectory of the
session temp directory.)
</p>
<p>The most common use of <code>wd</code> is to set <code>wd = "."</code>, which means &quot;reprex right
HERE in the current working directory&quot;. Do this if you really must
demonstrate something with local files.</p>
</td></tr>
<tr><td><code id="reprex_+3A_venue">venue</code></td>
<td>
<p>Character. Must be one of the following (case insensitive):
</p>

<ul>
<li><p> &quot;gh&quot; for <a href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a>, the
default
</p>
</li>
<li><p> &quot;r&quot; for a runnable R script, with commented output interleaved. Also useful
for <a href="https://slack.com/intl/en-ca/slack-tips/share-code-snippets">Slack code snippets</a>;
select &quot;R&quot; from the &quot;Type&quot; drop-down menu to enjoy nice syntax
highlighting.
</p>
</li>
<li><p> &quot;rtf&quot; for
<a href="https://en.wikipedia.org/wiki/Rich_Text_Format">Rich Text Format</a>
(not supported for un-reprexing)
</p>
</li>
<li><p> &quot;html&quot; for an HTML fragment suitable for inclusion in a larger HTML
document (not supported for un-reprexing)
</p>
</li>
<li><p> &quot;slack&quot; for pasting into a Slack message. Optimized for people who opt out
of Slack's WYSIWYG interface. Go to
<strong>Preferences &gt; Advanced &gt; Input options</strong> and select &quot;Format messages with
markup&quot;. (If there is demand for a second Slack venue optimized for use
with WYSIWYG, please open an issue to discuss.)
</p>
</li>
<li><p> &quot;so&quot; for
<a href="https://stackoverflow.com/editing-help#syntax-highlighting">Stack Overflow Markdown</a>.
Note: this is just an alias for &quot;gh&quot;, since Stack Overflow started to
support CommonMark-style fenced code blocks in January 2019.
</p>
</li>
<li><p> &quot;ds&quot; for Discourse, e.g.,
<a href="https://community.rstudio.com">community.rstudio.com</a>. Note: this is
currently just an alias for &quot;gh&quot;.
</p>
</li></ul>
</td></tr>
<tr><td><code id="reprex_+3A_render">render</code></td>
<td>
<p>Logical. Whether to call <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code> on the templated
reprex, i.e. whether to actually run the code. Defaults to <code>TRUE</code>. Exists
primarily for the sake of internal testing.</p>
</td></tr>
<tr><td><code id="reprex_+3A_advertise">advertise</code></td>
<td>
<p>Logical. Whether to include a footer that describes when and
how the reprex was created. If unspecified, the option <code>reprex.advertise</code>
is consulted and, if that is not defined, default is <code>TRUE</code> for venues
<code>"gh"</code>, <code>"html"</code>, <code>"so"</code>, <code>"ds"</code> and <code>FALSE</code> for <code>"r"</code>, <code>"rtf"</code>, <code>"slack"</code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_session_info">session_info</code></td>
<td>
<p>Logical. Whether to include
<code><a href="sessioninfo.html#topic+session_info">sessioninfo::session_info()</a></code>, if available, or <code><a href="utils.html#topic+sessionInfo">sessionInfo()</a></code> at the end
of the reprex. When <code>venue</code> is &quot;gh&quot;, the session info is wrapped in a
collapsible details tag. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_style">style</code></td>
<td>
<p>Logical. Whether to set the knitr chunk option <code>tidy = "styler"</code>, which re-styles code with the <a href="https://styler.r-lib.org">styler package</a>. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_comment">comment</code></td>
<td>
<p>Character. Prefix with which to comment out output, defaults
to <code>"#&gt;"</code>. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_tidyverse_quiet">tidyverse_quiet</code></td>
<td>
<p>Logical. Sets the options <code>tidyverse.quiet</code> and
<code>tidymodels.quiet</code>, which suppress (<code>TRUE</code>, the default) or include
(<code>FALSE</code>) the startup messages for the tidyverse and tidymodels packages.
Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_std_out_err">std_out_err</code></td>
<td>
<p>Logical. Whether to append a section for output sent to
stdout and stderr by the reprex rendering process. This can be necessary to
reveal output if the reprex spawns child processes or <code>system()</code> calls.
Note this cannot be properly interleaved with output from the main R
process, nor is there any guarantee that the lines from standard output and
standard error are in correct chronological order. See <code><a href="callr.html#topic+r">callr::r()</a></code> for
more. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_html_preview">html_preview</code></td>
<td>
<p>Logical. Whether to show rendered output in a viewer
(RStudio or browser). Always <code>FALSE</code> in a noninteractive session. Read more
about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_outfile">outfile</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> in favor of <code>wd</code> or
providing a filepath to <code>input</code>. To reprex in current working directory,
use <code>wd = "."</code> now, instead of <code>outfile = NA</code>.</p>
</td></tr>
<tr><td><code id="reprex_+3A_show">show</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> in favor of <code>html_preview</code>,
for greater consistency with other R Markdown output formats.</p>
</td></tr>
<tr><td><code id="reprex_+3A_si">si</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> in favor of <code>session_info</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of rendered reprex, invisibly.
</p>


<h3>Details</h3>

<p>The usual &quot;code + commented output&quot; is returned invisibly, written to file,
and, whenever possible, put on the clipboard. An HTML preview displays in
RStudio's Viewer pane, if available, or in the default browser, otherwise.
Leading <code>"&gt; "</code> prompts, are stripped from the input code. Read more at
<a href="https://reprex.tidyverse.org/">https://reprex.tidyverse.org/</a>.
</p>
<p>reprex sets specific <a href="https://yihui.org/knitr/options/">knitr options</a>:
</p>

<ul>
<li><p> Chunk options default to <code>collapse = TRUE</code>, <code>comment = "#&gt;"</code>,
<code>error = TRUE</code>. Note that <code>error = TRUE</code>, because a common use case is bug
reporting.
</p>
</li>
<li><p> reprex also sets knitr's <code>upload.fun</code>. It defaults to
<code><a href="knitr.html#topic+imgur_upload">knitr::imgur_upload()</a></code> so figures produced by the reprex appear properly
on GitHub, Stack Overflow, Discourse, and Slack. Note that <code>imgur_upload()</code>
requires the packages httr and xml2. When <code>venue = "r"</code>, <code>upload.fun</code> is
set to <code>identity()</code>, so that figures remain local. In that case, you may
also want to provide a filepath to <code>input</code> or set <code>wd</code>, to control where
the reprex files are written.
You can supplement or override these options with special comments in your
code (see examples).
</p>
</li></ul>



<h3>Error backtraces</h3>

<p>To use <code><a href="rlang.html#topic+last_error">rlang::last_error()</a></code> or <code><a href="rlang.html#topic+last_error">rlang::last_trace()</a></code> within a reprex,
you must place them in a different &quot;chunk&quot; to the code that generates an
error. The easiest way to do is to insert a line containing the special
comment <code style="white-space: pre;">&#8288;#'&#8288;</code> after error-causing code:
</p>
<div class="sourceCode r"><pre>f &lt;- function() rlang::abort('foo')
f()
#'
rlang::last_error()
rlang::last_trace()
</pre></div>
<p>Read more in rlang's documentation: <a href="https://rlang.r-lib.org/reference/rlang_backtrace_on_error.html#errors-in-rmarkdown">Errors in RMarkdown</a>.
</p>


<h3>Syntax highlighting</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>A secondary use case for reprex is to produce syntax highlighted code
snippets, with or without rendering, to paste into applications like
Microsoft Word, PowerPoint, or Keynote. Use <code>venue = "rtf"</code> for this.
</p>
<p>This feature is experimental and requires the installation of the
<a href="http://www.andre-simon.de/doku/highlight/en/highlight.php">highlight</a>
command line tool. The <code>"rtf"</code> venue is documented in <a href="https://reprex.tidyverse.org/articles/articles/rtf.html">its own article</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# put some code like this on the clipboard
# (y &lt;- 1:4)
# mean(y)
reprex()

# provide code as an expression
reprex(rbinom(3, size = 10, prob = 0.5))
reprex({y &lt;- 1:4; mean(y)})
reprex({y &lt;- 1:4; mean(y)}, style = TRUE)

# note that you can include newlines in those brackets
# in fact, that is often a good idea
reprex({
  x &lt;- 1:4
  y &lt;- 2:5
  x + y
})

## provide code via character vector
reprex(input = c("x &lt;- 1:4", "y &lt;- 2:5", "x + y"))

## if just one line, terminate with '\n'
reprex(input = "rnorm(3)\n")

## customize the output comment prefix
reprex(rbinom(3, size = 10, prob = 0.5), comment = "#;-)")

# override a default chunk option
reprex({
  #+ setup, include = FALSE
  knitr::opts_chunk$set(collapse = FALSE)

  #+ actual-reprex-code
  (y &lt;- 1:4)
  median(y)
})

# add prose, use general markdown formatting
reprex({
  #' # A Big Heading
  #'
  #' Look at my cute example. I love the
  #' [reprex](https://github.com/tidyverse/reprex#readme) package!
  y &lt;- 1:4
  mean(y)
}, advertise = FALSE)

# read reprex from file and write resulting files to that location
tmp &lt;- file.path(tempdir(), "foofy.R")
writeLines(c("x &lt;- 1:4", "mean(x)"), tmp)
reprex(input = tmp)
list.files(dirname(tmp), pattern = "foofy")

# clean up
file.remove(list.files(dirname(tmp), pattern = "foofy", full.names = TRUE))

# write reprex to file AND keep figure local too, i.e. don't post to imgur
tmp &lt;- file.path(tempdir(), "foofy")
dir.create(tmp)
reprex({
  #+ setup, include = FALSE
  knitr::opts_knit$set(upload.fun = identity)

  #+ actual-reprex-code
  #' Some prose
  ## regular comment
  (x &lt;- 1:4)
  median(x)
  plot(x)
  }, wd = tmp)
list.files(dirname(tmp), pattern = "foofy")

# clean up
unlink(tmp, recursive = TRUE)

## target venue = R, also good for email or Slack snippets
ret &lt;- reprex({
  x &lt;- 1:4
  y &lt;- 2:5
  x + y
}, venue = "R")
ret

## target venue = html
ret &lt;- reprex({
  x &lt;- 1:4
  y &lt;- 2:5
  x + y
}, venue = "html")
ret

## include prompt and don't comment the output
## use this when you want to make your code hard to execute :)
reprex({
  #+ setup, include = FALSE
  knitr::opts_chunk$set(comment = NA, prompt = TRUE)

  #+ actual-reprex-code
  x &lt;- 1:4
  y &lt;- 2:5
  x + y
})

## leading prompts are stripped from source
reprex(input = c("&gt; x &lt;- 1:3", "&gt; median(x)"))

## End(Not run)
</code></pre>

<hr>
<h2 id='reprex_addin'>Render a reprex, conveniently</h2><span id='topic+reprex_addin'></span><span id='topic+reprex_selection'></span>

<h3>Description</h3>

<p><code>reprex_addin()</code> opens an <a href="https://shiny.rstudio.com/articles/gadgets.html">RStudio gadget</a> and
<a href="http://rstudio.github.io/rstudioaddins/">addin</a> that allows you to say
where the reprex source is (clipboard? current selection? active file?
other file?) and to control a few other arguments. Appears as &quot;Render
reprex&quot; in the RStudio Addins menu.
</p>
<p><code>reprex_selection()</code> is an
<a href="http://rstudio.github.io/rstudioaddins/">addin</a> that reprexes the current
selection, optionally customised by options. Appears as &quot;Reprex selection&quot;
in the RStudio Addins menu. Heavy users might want to create a keyboard
shortcut (<code style="white-space: pre;">&#8288;https://support.posit.co/hc/en-us/articles/206382178-Customizing-Keyboard-Shortcuts&#8288;</code>).
Suggested shortcut: Cmd + Shift + R (macOS) or Ctrl + Shift + R (Windows).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reprex_addin()

reprex_selection(venue = getOption("reprex.venue", "gh"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reprex_addin_+3A_venue">venue</code></td>
<td>
<p>Character. Must be one of the following (case insensitive):
</p>

<ul>
<li><p> &quot;gh&quot; for <a href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a>, the
default
</p>
</li>
<li><p> &quot;r&quot; for a runnable R script, with commented output interleaved. Also useful
for <a href="https://slack.com/intl/en-ca/slack-tips/share-code-snippets">Slack code snippets</a>;
select &quot;R&quot; from the &quot;Type&quot; drop-down menu to enjoy nice syntax
highlighting.
</p>
</li>
<li><p> &quot;rtf&quot; for
<a href="https://en.wikipedia.org/wiki/Rich_Text_Format">Rich Text Format</a>
(not supported for un-reprexing)
</p>
</li>
<li><p> &quot;html&quot; for an HTML fragment suitable for inclusion in a larger HTML
document (not supported for un-reprexing)
</p>
</li>
<li><p> &quot;slack&quot; for pasting into a Slack message. Optimized for people who opt out
of Slack's WYSIWYG interface. Go to
<strong>Preferences &gt; Advanced &gt; Input options</strong> and select &quot;Format messages with
markup&quot;. (If there is demand for a second Slack venue optimized for use
with WYSIWYG, please open an issue to discuss.)
</p>
</li>
<li><p> &quot;so&quot; for
<a href="https://stackoverflow.com/editing-help#syntax-highlighting">Stack Overflow Markdown</a>.
Note: this is just an alias for &quot;gh&quot;, since Stack Overflow started to
support CommonMark-style fenced code blocks in January 2019.
</p>
</li>
<li><p> &quot;ds&quot; for Discourse, e.g.,
<a href="https://community.rstudio.com">community.rstudio.com</a>. Note: this is
currently just an alias for &quot;gh&quot;.
</p>
</li></ul>
</td></tr>
</table>

<hr>
<h2 id='reprex_document'>reprex output format</h2><span id='topic+reprex_document'></span>

<h3>Description</h3>

<p>This is an R Markdown output format designed specifically for making
&quot;reprexes&quot;, typically created via the <code><a href="#topic+reprex">reprex()</a></code> function, which ultimately
renders the document with <code><a href="#topic+reprex_render">reprex_render()</a></code>. It is a heavily modified version
of <code><a href="rmarkdown.html#topic+md_document">rmarkdown::md_document()</a></code>. The arguments have different spheres of
influence:
</p>

<ul>
<li> <p><code>venue</code> potentially affects input preparation and <code><a href="#topic+reprex_render">reprex_render()</a></code>.
</p>
</li>
<li><p> Add content to the primary input, prior to rendering:
</p>

<ul>
<li> <p><code>advertise</code>
</p>
</li>
<li> <p><code>session_info</code>
</p>
</li>
<li> <p><code>std_out_err</code> (also consulted by <code><a href="#topic+reprex_render">reprex_render()</a></code>)
</p>
</li></ul>

</li>
<li><p> Influence knitr package or chunk options:
</p>

<ul>
<li> <p><code>style</code>
</p>
</li>
<li> <p><code>comment</code>
</p>
</li>
<li> <p><code>tidyverse_quiet</code>
</p>
</li></ul>

</li></ul>

<p>RStudio users can create new R Markdown documents with the
<code>reprex_document()</code> format using built-in templates. Do
<em>File &gt; New File &gt; R Markdown ... &gt; From Template</em> and choose one of:
</p>

<ul>
<li><p> reprex (minimal)
</p>
</li>
<li><p> reprex (lots of features)
</p>
</li></ul>

<p>Both include <code>knit: reprex::reprex_render</code> in the YAML, which causes the
RStudio &quot;Knit&quot; button to use <code>reprex_render()</code>. If you render these documents
yourself, you should do same.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reprex_document(
  venue = c("gh", "r", "rtf", "html", "slack", "so", "ds"),
  advertise = NULL,
  session_info = opt(FALSE),
  style = opt(FALSE),
  comment = opt("#&gt;"),
  tidyverse_quiet = opt(TRUE),
  std_out_err = opt(FALSE),
  pandoc_args = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reprex_document_+3A_venue">venue</code></td>
<td>
<p>Character. Must be one of the following (case insensitive):
</p>

<ul>
<li><p> &quot;gh&quot; for <a href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a>, the
default
</p>
</li>
<li><p> &quot;r&quot; for a runnable R script, with commented output interleaved. Also useful
for <a href="https://slack.com/intl/en-ca/slack-tips/share-code-snippets">Slack code snippets</a>;
select &quot;R&quot; from the &quot;Type&quot; drop-down menu to enjoy nice syntax
highlighting.
</p>
</li>
<li><p> &quot;rtf&quot; for
<a href="https://en.wikipedia.org/wiki/Rich_Text_Format">Rich Text Format</a>
(not supported for un-reprexing)
</p>
</li>
<li><p> &quot;html&quot; for an HTML fragment suitable for inclusion in a larger HTML
document (not supported for un-reprexing)
</p>
</li>
<li><p> &quot;slack&quot; for pasting into a Slack message. Optimized for people who opt out
of Slack's WYSIWYG interface. Go to
<strong>Preferences &gt; Advanced &gt; Input options</strong> and select &quot;Format messages with
markup&quot;. (If there is demand for a second Slack venue optimized for use
with WYSIWYG, please open an issue to discuss.)
</p>
</li>
<li><p> &quot;so&quot; for
<a href="https://stackoverflow.com/editing-help#syntax-highlighting">Stack Overflow Markdown</a>.
Note: this is just an alias for &quot;gh&quot;, since Stack Overflow started to
support CommonMark-style fenced code blocks in January 2019.
</p>
</li>
<li><p> &quot;ds&quot; for Discourse, e.g.,
<a href="https://community.rstudio.com">community.rstudio.com</a>. Note: this is
currently just an alias for &quot;gh&quot;.
</p>
</li></ul>
</td></tr>
<tr><td><code id="reprex_document_+3A_advertise">advertise</code></td>
<td>
<p>Logical. Whether to include a footer that describes when and
how the reprex was created. If unspecified, the option <code>reprex.advertise</code>
is consulted and, if that is not defined, default is <code>TRUE</code> for venues
<code>"gh"</code>, <code>"html"</code>, <code>"so"</code>, <code>"ds"</code> and <code>FALSE</code> for <code>"r"</code>, <code>"rtf"</code>, <code>"slack"</code>.</p>
</td></tr>
<tr><td><code id="reprex_document_+3A_session_info">session_info</code></td>
<td>
<p>Logical. Whether to include
<code><a href="sessioninfo.html#topic+session_info">sessioninfo::session_info()</a></code>, if available, or <code><a href="utils.html#topic+sessionInfo">sessionInfo()</a></code> at the end
of the reprex. When <code>venue</code> is &quot;gh&quot;, the session info is wrapped in a
collapsible details tag. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_document_+3A_style">style</code></td>
<td>
<p>Logical. Whether to set the knitr chunk option <code>tidy = "styler"</code>, which re-styles code with the <a href="https://styler.r-lib.org">styler package</a>. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_document_+3A_comment">comment</code></td>
<td>
<p>Character. Prefix with which to comment out output, defaults
to <code>"#&gt;"</code>. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_document_+3A_tidyverse_quiet">tidyverse_quiet</code></td>
<td>
<p>Logical. Sets the options <code>tidyverse.quiet</code> and
<code>tidymodels.quiet</code>, which suppress (<code>TRUE</code>, the default) or include
(<code>FALSE</code>) the startup messages for the tidyverse and tidymodels packages.
Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_document_+3A_std_out_err">std_out_err</code></td>
<td>
<p>Logical. Whether to append a section for output sent to
stdout and stderr by the reprex rendering process. This can be necessary to
reveal output if the reprex spawns child processes or <code>system()</code> calls.
Note this cannot be properly interleaved with output from the main R
process, nor is there any guarantee that the lines from standard output and
standard error are in correct chronological order. See <code><a href="callr.html#topic+r">callr::r()</a></code> for
more. Read more about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_document_+3A_pandoc_args">pandoc_args</code></td>
<td>
<p>Additional command line options to pass to pandoc</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An R Markdown output format to pass to <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>reprex_document()
</code></pre>

<hr>
<h2 id='reprex_locale'>Render a reprex in a specific locale</h2><span id='topic+reprex_locale'></span>

<h3>Description</h3>

<p>Render a <code><a href="#topic+reprex">reprex()</a></code>, with control over the localization of error messages and
aspects of the locale. Note that these are related but distinct issues!
Typical usage is for someone on a Spanish system to create a reprex that is
easier for an English-speaking audience to follow.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reprex_locale(..., language = "en", locale = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reprex_locale_+3A_...">...</code></td>
<td>
<p>Inputs passed through to <code><a href="#topic+reprex">reprex()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_locale_+3A_language">language</code></td>
<td>
<p>A string specifying the preferred language for messages. It
is enacted via the <code>LANGUAGE</code> environment variable, for the duration of the
<code>reprex()</code> call. Examples: <code>"en"</code> for English and <code>"fr"</code> for French. See
Details for more.</p>
</td></tr>
<tr><td><code id="reprex_locale_+3A_locale">locale</code></td>
<td>
<p>A named character vector, specifying aspects of the locale, in
the <code><a href="base.html#topic+Sys.setlocale">Sys.setlocale()</a></code> sense. It is enacted by setting one or more
environment variables, for the duration of the <code>reprex()</code> call. See Details
for more.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of rendered reprex, invisibly.
</p>


<h3><code>language</code></h3>

<p>Use the <code>language</code> argument to express the preferred language of error
messages. The output of <code>dir(system.file(package = "translations"))</code> may
provide some helpful ideas. The <code>language</code> should generally follow &quot;XPG
syntax&quot;: a two-letter language code, optionally followed by other modifiers.
</p>
<p>Examples: <code>"en"</code>, <code>"de"</code>, <code>"en_GB"</code>, <code>"pt_BR"</code>.
</p>


<h3><code>locale</code></h3>

<p>Use the <code>locale</code> argument only if you want to affect something like how
day-of-the-week or month is converted to character. You are less likely to
need to set this than the <code>language</code> argument. You may have more success
setting specific categories, such as <code>"LC_TIME"</code>, than multi-category
shortcuts like <code>"LC_ALL"</code> or <code>"LANG"</code>. The <code>locale</code> values must follow the
format dictated by your operating system and the requested locale must be
installed. On *nix systems, <code>locale -a</code> is a good way to see which locales
are installed. Note that the format for <code>locale</code> and <code>language</code> are different
from each other on Windows.
</p>
<p>Examples: <code>"en_CA.UTF-8"</code> (macOS), <code>"French_France.1252"</code> (Windows).
</p>


<h3>See Also</h3>


<ul>
<li><p> The <a href="https://www.gnu.org/software/libc/manual/html_node/Locale-Names.html">Locale Names</a>
section of the GNU C docs, for more about XPG syntax
</p>
</li>
<li><p> The <a href="https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Internationalization">Internationalization and Localization</a>
section of the R Installation and Administration manual
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# if all you want to do is make sure messages are in English
reprex_locale("a" / 2)

# change messages to a specific language
reprex_locale(
  {
    "a" / 2
  },
  language = "it"
)

reprex_locale(
  {
    "a" / 2
  },
  language = "fr_CA"
)

reprex_locale(
  {
    "a" / 2
  },
  language = "pt_BR"
)

# get day-of-week and month to print in French (not Windows)
reprex_locale(
  {
    format(as.Date(c("2019-01-01", "2019-02-01")), "%a %b %d")
  },
  locale = c(LC_TIME = "fr_FR")
)

# get day-of-week and month to print in French (Windows)
# assumes that the relevant language is installed on the system
# LC_TIME can also be specified as "French" or "French_France" here
reprex_locale(
  {
    format(as.Date(c("2019-01-01", "2019-02-01")), "%a %b %d")
  },
  locale = c(LC_TIME = "French_France.1252")
)

## End(Not run)
</code></pre>

<hr>
<h2 id='reprex_options'>reprex options</h2><span id='topic+reprex_options'></span><span id='topic+opt'></span>

<h3>Description</h3>

<p>Some <code><a href="#topic+reprex">reprex()</a></code> behaviour can be controlled via an option, providing a way
for the user to set personal defaults. The pattern for such option names is
<code style="white-space: pre;">&#8288;reprex.&lt;arg&gt;&#8288;</code>, where <code style="white-space: pre;">&#8288;&lt;arg&gt;&#8288;</code> is an argument of <code><a href="#topic+reprex">reprex()</a></code>. Here are the main
ones:
</p>

<ul>
<li> <p><code>reprex.advertise</code>
</p>
</li>
<li> <p><code>reprex.session_info</code> (previously, <code>reprex.si</code>)
</p>
</li>
<li> <p><code>reprex.style</code>
</p>
</li>
<li> <p><code>reprex.html_preview</code> (previously, <code>reprex.show</code>)
</p>
</li>
<li> <p><code>reprex.comment</code>
</p>
</li>
<li> <p><code>reprex.tidyverse_quiet</code>
</p>
</li>
<li> <p><code>reprex.std_out_err</code>
</p>
</li></ul>

<p>A few more options exist, but are only relevant to specific situations:
</p>

<ul>
<li> <p><code>reprex.venue</code>: Can be used to control the <code>venue</code> used by the
<code><a href="#topic+reprex_selection">reprex_selection()</a></code> addin.
</p>
</li>
<li> <p><code>reprex.current_venue</code>: Read-only option that is set during
<code><a href="#topic+reprex_render">reprex_render()</a></code>. Other packages that want to generate reprex-compatible
output can consult it via <code>getOption("reprex.current_venue")</code>, if they want
to tailor their output to the <code>venue</code>.
</p>
</li>
<li> <p><code>reprex.clipboard</code>: When <code>FALSE</code>, reprex makes no attempt to access the
user's clipboard, ever. This exists mostly for internal use, i.e. we set it
to <code>FALSE</code> when we detect use from RStudio Server. But a user could set
this to <code>FALSE</code> to explicitly opt-out of clipboard functionality. A Linux
user with no intention of installing <code>xclip</code> or <code>xsel</code> might also do this.
</p>
</li>
<li> <p><code>reprex.highlight.hl_style</code>: Only relevant to <code style="white-space: pre;">&#8288;venue = "rtf&#8288;</code>. Details are
in the article
<a href="https://reprex.tidyverse.org/articles/articles/rtf.html">reprex venue RTF</a>.
</p>
</li>
<li> <p><code>reprex.highlight.font</code>: See above.
</p>
</li>
<li> <p><code>reprex.highlight.font_size</code>: See above.
</p>
</li>
<li> <p><code>reprex.highlight.other</code>: See above.
</p>
</li></ul>

<p>Here's code you could put in <code>.Rprofile</code> to set reprex options. It would be
rare to want non-default behaviour for all of these! We only do so here for
the sake of exposition:
</p>
<div class="sourceCode"><pre>options(
  reprex.advertise       = FALSE,
  reprex.session_info    = TRUE,
  reprex.style           = TRUE,
  reprex.html_preview    = FALSE,
  reprex.comment         = "#;-)",
  reprex.tidyverse_quiet = FALSE,
  reprex.std_out_err     = TRUE,
  reprex.venue           = "html", # NOTE: only affects reprex_selection()!
  reprex.highlight.hl_style  = "acid", # NOTE: only affects RTF venue
  reprex.highlight.font      = "Andale Mono Regular",
  reprex.highlight.font_size = 35,
  reprex.highlight.other     = "--line-numbers"
)
</pre></div>
<p>The function <code>usethis::edit_r_profile()</code> is handy for creating and/or opening
your <code>.Rprofile</code>.
</p>


<h3>Explaining the <code>opt()</code> helper</h3>

<p>Arguments that appear like so in <code><a href="#topic+reprex">reprex()</a></code>:
</p>
<div class="sourceCode"><pre>reprex(..., arg = opt(DEFAULT), ...)
</pre></div>
<p>get their value according to this logic:
</p>
<div class="sourceCode"><pre>user-specified value or, if not given,
  getOption("reprex.arg") or, if does not exist,
    DEFAULT
</pre></div>
<p>It's shorthand for:
</p>
<div class="sourceCode"><pre>f(..., arg = getOption("reprex.arg", DEFAULT), ...)
</pre></div>
<p>This is not an exported function and should not be called directly.
</p>

<hr>
<h2 id='reprex_render'>Render a document in a new R session</h2><span id='topic+reprex_render'></span>

<h3>Description</h3>

<p>This is a wrapper around <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code> that enforces the &quot;reprex&quot;
mentality. Here's a simplified version of what happens:
</p>
<div class="sourceCode"><pre>callr::r(
  function(input) {
    rmarkdown::render(input, envir = globalenv(), encoding = "UTF-8")
  },
  args = list(input = input),
  spinner = is_interactive(),
  stdout = std_file, stderr = std_file
)
</pre></div>
<p>Key features to note
</p>

<ul>
<li> <p><code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code> is executed in a new R session, by using
<code><a href="callr.html#topic+r">callr::r()</a></code>. The goal is to eliminate the leakage of objects, attached
packages, and other aspects of session state from the current session into
the rendering session. Also, the system and user-level <code>.Rprofile</code>s are
ignored.
</p>
</li>
<li><p> Code is evaluated in the <code>globalenv()</code> of this new R session, which means
that method dispatch works the way most people expect it to.
</p>
</li>
<li><p> The input file is assumed to be UTF-8, which is a knitr requirement as of
v1.24.
</p>
</li>
<li><p> If the YAML frontmatter includes <code>std_err_out: TRUE</code>, standard output and
error of the rendering R session are captured in <code>std_file</code>, which is
then injected into the rendered result.
</p>
</li></ul>

<p><code>reprex_render()</code> is designed to work with the <code><a href="#topic+reprex_document">reprex_document()</a></code> output
format, typically through a call to <code><a href="#topic+reprex">reprex()</a></code>. <code>reprex_render()</code> may work
with other R Markdown output formats, but it is not well-tested.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reprex_render(input, html_preview = NULL, encoding = "UTF-8")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reprex_render_+3A_input">input</code></td>
<td>
<p>The input file to be rendered. This can be a <code>.R</code> script or a
<code>.Rmd</code> R Markdown document.</p>
</td></tr>
<tr><td><code id="reprex_render_+3A_html_preview">html_preview</code></td>
<td>
<p>Logical. Whether to show rendered output in a viewer
(RStudio or browser). Always <code>FALSE</code> in a noninteractive session. Read more
about <code><a href="#topic+opt">opt()</a></code>.</p>
</td></tr>
<tr><td><code id="reprex_render_+3A_encoding">encoding</code></td>
<td>
<p>The encoding of the input file. Note that the only acceptable
value is &quot;UTF-8&quot;, which is required by knitr as of v1.24. This is exposed
as an argument purely for technical convenience, relating to the &quot;Knit&quot;
button in the RStudio IDE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The output of <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code> is passed through, i.e. the path
of the output file.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
reprex_render("input.Rmd")

## End(Not run)
</code></pre>

<hr>
<h2 id='reprex_venue'>Venue-specific shortcuts</h2><span id='topic+reprex_venue'></span><span id='topic+reprex_html'></span><span id='topic+reprex_r'></span><span id='topic+reprex_rtf'></span><span id='topic+reprex_slack'></span>

<h3>Description</h3>

<p>These are thin wrappers around <code>reprex()</code> that incorporate the target <code>venue</code>
as a suffix in the function name, for easier access via auto-completion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reprex_html(...)

reprex_r(...)

reprex_rtf(...)

reprex_slack(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reprex_venue_+3A_...">...</code></td>
<td>
<p>Passed along to <code><a href="#topic+reprex">reprex()</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='un-reprex'>Un-render a reprex</h2><span id='topic+un-reprex'></span><span id='topic+reprex_invert'></span><span id='topic+reprex_clean'></span><span id='topic+reprex_rescue'></span>

<h3>Description</h3>

<p>Recover clean, runnable code from a reprex captured in the wild and write it
to user's clipboard. The code is also returned invisibly and optionally
written to file. Three different functions address various forms of
wild-caught reprex:
</p>

<ul>
<li> <p><code>reprex_invert()</code> attempts to reverse the effect of <code><a href="#topic+reprex">reprex()</a></code>. When
<code>venue = "r"</code>, this just calls <code>reprex_clean()</code>.
</p>
</li>
<li> <p><code>reprex_clean()</code> removes commented output. This assumes that R code is
top-level, possibly interleaved with commented output, e.g., a displayed
reprex copied from GitHub or the output of <code>reprex(..., venue = "R")</code>.
</p>
</li>
<li> <p><code>reprex_rescue()</code> removes lines of output and strips prompts from lines
holding R commands. This assumes that R code lines start with a prompt and
that printed output is top-level, e.g., what you'd if you've copied from
the R Console.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>reprex_invert(
  input = NULL,
  wd = NULL,
  venue = c("gh", "r"),
  comment = opt("#&gt;"),
  outfile = deprecated()
)

reprex_clean(
  input = NULL,
  wd = NULL,
  comment = opt("#&gt;"),
  outfile = deprecated()
)

reprex_rescue(
  input = NULL,
  wd = NULL,
  prompt = getOption("prompt"),
  continue = getOption("continue"),
  outfile = deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="un-reprex_+3A_input">input</code></td>
<td>
<p>Character. If has length one and lacks a terminating newline,
interpreted as the path to a file containing the reprex. Otherwise,
assumed to hold the reprex as a character vector. If not provided, the
clipboard is consulted for input. If the clipboard is unavailable and
we're in RStudio, the current selection is used.</p>
</td></tr>
<tr><td><code id="un-reprex_+3A_wd">wd</code></td>
<td>
<p>An optional filepath that is consulted when <code>input</code> is not a
filepath. (By default, all work is done, quietly, in a subdirectory of the
session temp directory.)
</p>
<p>The most common use of <code>wd</code> is to set <code>wd = "."</code>, which means &quot;reprex right
HERE in the current working directory&quot;. Do this if you really must
demonstrate something with local files.</p>
</td></tr>
<tr><td><code id="un-reprex_+3A_venue">venue</code></td>
<td>
<p>Character. Must be one of the following (case insensitive):
</p>

<ul>
<li><p> &quot;gh&quot; for <a href="https://github.github.com/gfm/">GitHub-Flavored Markdown</a>, the
default
</p>
</li>
<li><p> &quot;r&quot; for a runnable R script, with commented output interleaved. Also useful
for <a href="https://slack.com/intl/en-ca/slack-tips/share-code-snippets">Slack code snippets</a>;
select &quot;R&quot; from the &quot;Type&quot; drop-down menu to enjoy nice syntax
highlighting.
</p>
</li>
<li><p> &quot;rtf&quot; for
<a href="https://en.wikipedia.org/wiki/Rich_Text_Format">Rich Text Format</a>
(not supported for un-reprexing)
</p>
</li>
<li><p> &quot;html&quot; for an HTML fragment suitable for inclusion in a larger HTML
document (not supported for un-reprexing)
</p>
</li>
<li><p> &quot;slack&quot; for pasting into a Slack message. Optimized for people who opt out
of Slack's WYSIWYG interface. Go to
<strong>Preferences &gt; Advanced &gt; Input options</strong> and select &quot;Format messages with
markup&quot;. (If there is demand for a second Slack venue optimized for use
with WYSIWYG, please open an issue to discuss.)
</p>
</li>
<li><p> &quot;so&quot; for
<a href="https://stackoverflow.com/editing-help#syntax-highlighting">Stack Overflow Markdown</a>.
Note: this is just an alias for &quot;gh&quot;, since Stack Overflow started to
support CommonMark-style fenced code blocks in January 2019.
</p>
</li>
<li><p> &quot;ds&quot; for Discourse, e.g.,
<a href="https://community.rstudio.com">community.rstudio.com</a>. Note: this is
currently just an alias for &quot;gh&quot;.
</p>
</li></ul>
</td></tr>
<tr><td><code id="un-reprex_+3A_comment">comment</code></td>
<td>
<p>regular expression that matches commented output lines</p>
</td></tr>
<tr><td><code id="un-reprex_+3A_outfile">outfile</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> in favor of <code>wd</code> or
providing a filepath to <code>input</code>. To reprex in current working directory,
use <code>wd = "."</code> now, instead of <code>outfile = NA</code>.</p>
</td></tr>
<tr><td><code id="un-reprex_+3A_prompt">prompt</code></td>
<td>
<p>character, the prompt at the start of R commands</p>
</td></tr>
<tr><td><code id="un-reprex_+3A_continue">continue</code></td>
<td>
<p>character, the prompt for continuation lines</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector holding just the clean R code, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# a roundtrip: R code --&gt; rendered reprex, as gfm --&gt; R code
original &lt;- file.path(tempdir(), "original.R")
writeLines(glue::glue("
  #' Some text
  #+ chunk-label-and-options-cannot-be-recovered, message = TRUE
  (x &lt;- 1:4)
  #' More text
  y &lt;- 2:5
  x + y"), con = original)
reprex(input = original, html_preview = FALSE, advertise = FALSE)
reprexed &lt;- sub("[.]R$", "_reprex.md", original)
writeLines(readLines(reprexed))
unreprexed &lt;- reprex_invert(input = reprexed)
writeLines(unreprexed)

# clean up
file.remove(
  list.files(dirname(original), pattern = "original", full.names = TRUE)
)

## End(Not run)
## Not run: 
# a roundtrip: R code --&gt; rendered reprex, as R code --&gt; original R code
code_in &lt;- c(
  "# a regular comment, which is retained",
  "(x &lt;- 1:4)",
  "median(x)"
)
reprexed &lt;- reprex(input = code_in, venue = "r", advertise = FALSE)
writeLines(reprexed)
code_out &lt;- reprex_clean(input = reprexed)
writeLines(code_out)
identical(code_in, code_out)

## End(Not run)
## Not run: 
# rescue a reprex that was copied from a live R session
from_r_console &lt;- c(
  "&gt; # a regular comment, which is retained",
  "&gt; (x &lt;- 1:4)",
  "[1] 1 2 3 4",
  "&gt; median(x)",
  "[1] 2.5"
)
rescued &lt;- reprex_rescue(input = from_r_console)
writeLines(rescued)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

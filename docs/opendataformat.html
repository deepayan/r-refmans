<!DOCTYPE html><html lang="en"><head><title>Help for package opendataformat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {opendataformat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#opendataformat-package'><p>Open Data Format</p></a></li>
<li><a href='#as_odf_tbl'><p>Converts a data frame to odf_tbl</p></a></li>
<li><a href='#data_odf'><p>data_odf</p></a></li>
<li><a href='#docu_odf'><p>Get documentation from R data frame.</p></a></li>
<li><a href='#getmetadata_odf'><p>Get variable labels or other metadata from a data frame in</p>
opendataformat.</a></li>
<li><a href='#merge.odf_tbl'><p>Merge method for odf tibbles.</p></a></li>
<li><a href='#read_odf'><p>Read data specified as Open Data Format.</p></a></li>
<li><a href='#setlanguage_odf'><p>Change language of dataframe metadata</p></a></li>
<li><a href='#write_odf'><p>Write R data frame to the Open Data Format.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Reading and Writing Open Data Format Files</td>
</tr>
<tr>
<td>Version:</td>
<td>2.2.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tom Hartl &lt;thartl@diw.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>The Open Data Format (ODF) is a new, non-proprietary, multilingual, metadata enriched, and zip-compressed data format with metadata structured in the Data Documentation Initiative (DDI) Codebook standard. This package allows reading and writing of data files in the Open Data Format (ODF) in R, and displaying metadata in different languages. For further information on the Open Data Format, see <a href="https://opendataformat.github.io/">https://opendataformat.github.io/</a>.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/opendataformat/r-package-opendataformat">https://github.com/opendataformat/r-package-opendataformat</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/opendataformat/r-package-opendataformat/issues">https://github.com/opendataformat/r-package-opendataformat/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, zip, magrittr, xml2, data.table, tibble, jsonlite</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), knitr, rmarkdown, devtools, ISLR, dplyr,
haven</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-10 10:16:30 UTC; thartl</td>
</tr>
<tr>
<td>Author:</td>
<td>Tom Hartl <a href="https://orcid.org/0009-0006-4226-9835"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Claudia Saalbach [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-11 15:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='opendataformat-package'>Open Data Format</h2><span id='topic+opendataformat-package'></span><span id='topic+opendataformat'></span>

<h3>Description</h3>

<p>The package is designed to support the use of the open data format.
For this purpose, three main functions have been developed:
</p>


<h4>read_odf()</h4>

<p>Import data from the Open Data Format to an R data frame.
</p>



<h4>write_odf()</h4>

<p>Export data from an R data frame to the open data format.
</p>



<h4>docu_odf()</h4>

<p>Get access to information about the dataset
and variables via the R-Studio Viewer or the web browser.
</p>



<h4>setlanguage_odf()</h4>

<p>Set the default language for displaying the metadata for docu_odf
and getmetadata_odf
</p>



<h4>getmetadata_odf()</h4>

<p>Retrieve specific metadata like variable labels, or value labels.
</p>



<h4>as_odf_tbl()</h4>

<p>Convert data frame (data.frame object or any subclass) to an ODF
tibble (odf_tbl class object).
</p>



<h3>Author(s)</h3>

<p>Tom Hartl (<a href="mailto:thartl@diw.de">thartl@diw.de</a>),
Claudia Saalbach (<a href="mailto:csaalbach@diw.de">csaalbach@diw.de</a>)
</p>
<p>Other Contributors: KonsortSWD/NFDI, DIW Berlin
</p>


<h3>See Also</h3>

<p>More information about the Open Data Format specification and
data examples are available here:
<a href="https://opendataformat.github.io/">https://opendataformat.github.io/</a>
</p>

<hr>
<h2 id='as_odf_tbl'>Converts a data frame to odf_tbl</h2><span id='topic+as_odf_tbl'></span>

<h3>Description</h3>

<p>Converts a data.frame (or any subclass) object to an odf_tbl
(Open Data Format tibble).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_odf_tbl(x, active_language = "en", language_of_metadata = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_odf_tbl_+3A_x">x</code></td>
<td>
<p>a data.frame that should be converted to an odf_tbl.
(<code>languages = "all"</code>).</p>
</td></tr>
<tr><td><code id="as_odf_tbl_+3A_active_language">active_language</code></td>
<td>
<p>Select the language that should be the active metadata language.
Default is 'en', or the first language occurring.</p>
</td></tr>
<tr><td><code id="as_odf_tbl_+3A_language_of_metadata">language_of_metadata</code></td>
<td>
<p>Language of metadata, where language tag is missing, which is metadata in
attributes label, description and labels. Default is NA.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>odf_tbl with attributes including dataset and variable
information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a dataframe with 4 variables id, name, age, and diagnosis
exampledata &lt;- data.frame(id = 1:5,
                          name = c("Klaus", "Anna", "Rebecca",
                                   "Kevin", "Janina"),
                          age = c(55, 40, 19, 25, 60), 
                          diagnosis = c(1,3,3,2,1))
# Add metadata for dataset
attr(exampledata, "name") &lt;- "patientdata"
attr(exampledata, "label_en") &lt;- "Patient Data"
attr(exampledata, "description_en") &lt;- "Patient database of the practice Dr. Sommer"
attr(exampledata, "url") &lt;- "www.example.url.en"

# Add metadata for diagnosis variable with label, description and value labels.
attr(exampledata$id, "name") &lt;- "id"
attr(exampledata$id, "label_en") &lt;- "Patiend ID"
attr(exampledata$id, "description_en") &lt;- "Practice Patiend ID"
attr(exampledata$diagnosis, "name") &lt;- "diagnose"
attr(exampledata$diagnosis, "label_en") &lt;- "Diagnosis"
attr(exampledata$diagnosis, "description_en") &lt;- "Diagnosis patient last visit"
valuelabels_diagnosis &lt;- 1:4
names(valuelabels_diagnosis) &lt;- c("Covid", "Influenza", "Common cold", "Tonsillitis")
attr(exampledata$diagnosis, "labels_en") &lt;- valuelabels_diagnosis
# use as_odf_tbl() to transform dataframe to odf_tibble
example_odf  &lt;-  as_odf_tbl(exampledata)

# Display metadata using docu_odf
docu_odf(example_odf, style = "print")

# Display metadata of diagnosis Variable
docu_odf(example_odf$diagnosis, style = "print")


</code></pre>

<hr>
<h2 id='data_odf'>data_odf</h2><span id='topic+data_odf'></span>

<h3>Description</h3>

<p>example data with attributes specified for the Open Data Format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_odf
</code></pre>


<h3>Format</h3>

<p>A data frame with 20 rows and 7 variables:
</p>

<dl>
<dt>bap87</dt><dd><p>Current Health.</p>
</dd>
<dt>bap9201</dt><dd><p>Hours of sleep, normal workday.</p>
</dd>
<dt>bap9001</dt><dd><p>Pressed For Time Last 4 Weeks.</p>
</dd>
<dt>bap9002</dt><dd><p>Run-down, Melancholy Last 4 Weeks.</p>
</dd>
<dt>bap9003</dt><dd><p>Well-balanced Last 4 Weeks.</p>
</dd>
<dt>bap96</dt><dd><p>Height.</p>
</dd>
<dt>name</dt><dd><p>Firstname.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://github.com/opendataformat/Specification/tree/main/Example">https://github.com/opendataformat/Specification/tree/main/Example</a>
</p>

<hr>
<h2 id='docu_odf'>Get documentation from R data frame.</h2><span id='topic+docu_odf'></span>

<h3>Description</h3>

<p>Get access to information about the dataset
and variables via the R-Studio Viewer or the web browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>docu_odf(
  input,
  languages = "current",
  style = "viewer",
  replace_missing_language = FALSE,
  variables = "yes"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="docu_odf_+3A_input">input</code></td>
<td>
<p>R data frame (df) or variable from an R data frame (df$var).</p>
</td></tr>
<tr><td><code id="docu_odf_+3A_languages">languages</code></td>
<td>
<p>Select the language in which the descriptions and labels of
the data will be displayed.
</p>

<ul>
<li><p> By default the language that is set to current is displayed
(<code>languages = "current"</code>).
</p>
</li>
<li><p> The default-option chooses either the default language(if labels and
</p>
</li>
<li><p> descriptions without a language tag exist)Otherwise the current language
</p>
</li>
<li><p> is displayed.
(<code>languages = "default"</code>).
</p>
</li>
<li><p> You can choose to view all available language variants by selecting
(<code>languages = "all"</code>),
</p>
</li>
<li><p> or you can select the language by language code, e.g.
<code>languages = "en"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="docu_odf_+3A_style">style</code></td>
<td>
<p>Selects where the output should be displayed (console ore
viewer).By default the metadata information is displayed in the viewer if the
viewer is available.
(<code>style = "console"</code>)
(<code>style = "print"</code>)
</p>

<ul>
<li><p> You can choose to display the code in both the console and the viewer
(<code>style = "both"</code>)
(<code>style = "all"</code>)
</p>
</li>
<li><p> You can choose to display the code only in the viewer
(<code>style = "viewer"</code>)
(<code>style = "html"</code>)
</p>
</li></ul>
</td></tr>
<tr><td><code id="docu_odf_+3A_replace_missing_language">replace_missing_language</code></td>
<td>
<p>If only one language is specified in
languages and replace_missing_language is set to TRUE. In case of a
missing label or description, the default or english label/description
is displayed additionally (if one of these is available).</p>
</td></tr>
<tr><td><code id="docu_odf_+3A_variables">variables</code></td>
<td>
<p>Indicate whether a list with all the variables should be
displayed with the dataset metadata.
If the input is a variable/column, the variables-argument will be ignored.
Set (<code>variables = "yes"</code>) to display the list of variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Documentation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get example data from the opendataformat package
df &lt;- get(data("data_odf"))

# view documentation about the dataset in the language that is currently set
docu_odf(df)

# view information from a selected variable in language "en"
docu_odf(df$bap87, languages = "en")

# view dataset information for all available languages
docu_odf(df, languages = "all")

# print information to the R console
docu_odf(df$bap87, style = "print")

# print information to the R viewer
docu_odf(df$bap87, style = "viewer")

# Since the label for language de is missing, in this case the
# english label will be displayed additionally.
attributes(df$bap87)["label_de"] &lt;- ""
docu_odf(df$bap87, languages = "de", replace_missing_language = TRUE)

</code></pre>

<hr>
<h2 id='getmetadata_odf'>Get variable labels or other metadata from a data frame in
opendataformat.</h2><span id='topic+getmetadata_odf'></span>

<h3>Description</h3>

<p>Get access to information about the dataset
and variables via the R-Studio Viewer or the web browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getmetadata_odf(input, type, language = "active")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getmetadata_odf_+3A_input">input</code></td>
<td>
<p>R data frame (df) or variable from an R data frame (df$var).</p>
</td></tr>
<tr><td><code id="getmetadata_odf_+3A_type">type</code></td>
<td>
<p>The metadata type you want to retrieve.Possible options are
&quot;label&quot;, &quot;description&quot;, &quot;url&quot;, &quot;type&quot;, &quot;valuelabels&quot;,
or &quot;languages&quot;.</p>
</td></tr>
<tr><td><code id="getmetadata_odf_+3A_language">language</code></td>
<td>
<p>Select the language in which the labels of the variables
will be displayed. If no language is selected, the current/active language
of the data frame will be used.
</p>

<ul>
<li><p> By default the language that is set to current is displayed
(<code>language = "current"</code>). </p>
</li>
<li><p> You can select the language
by language code, e.g. <code>language = "en"</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Documentation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get example data from the opendataformat package
df &lt;- get(data("data_odf"))
# view the variable labels for all variables in English
getmetadata_odf(input = df, type = "label", language = "en")

# view the value labels for variable bap87 in English
getmetadata_odf(input = df$bap87, type = "valuelabel", language = "en")

# view the description for variable bap87 in English
getmetadata_odf(input = df$bap87, type = "description", language = "en")

</code></pre>

<hr>
<h2 id='merge.odf_tbl'>Merge method for odf tibbles.</h2><span id='topic+merge.odf_tbl'></span>

<h3>Description</h3>

<p>Merge two odf tibbles in R while keeping
attributes with metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'odf_tbl'
merge(
  x,
  y,
  by = NULL,
  by.x = NULL,
  by.y = NULL,
  all = FALSE,
  all.x = all,
  all.y = all,
  sort = TRUE,
  suffixes = c(".x", ".y"),
  no.dups = TRUE,
  allow.cartesian = getOption("datatable.allow.cartesian"),
  incomparables = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="merge.odf_tbl_+3A_x">x</code>, <code id="merge.odf_tbl_+3A_y">y</code></td>
<td>
<p>odf tibbles, or objects to be coerced to one</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_by">by</code></td>
<td>
<p>A vector of shared column names in x and y to merge on. This defaults to the
shared key columns between the two tables. If y has no key columns, this
defaults to the key of x.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_by.x">by.x</code>, <code id="merge.odf_tbl_+3A_by.y">by.y</code></td>
<td>
<p>Vectors of column names in x and y to merge on.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_all">all</code></td>
<td>
<p>logical; all = TRUE is shorthand to save setting both all.x = TRUE and
all.y = TRUE.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_all.x">all.x</code></td>
<td>
<p>logical; if TRUE, rows from x which have no matching row in y are included.
These rows will have 'NA's in the columns that are usually filled with values
from y. The default is FALSE so that only rows with data from both x and y
are included in the output.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_all.y">all.y</code></td>
<td>
<p>logical; analogous to all.x above.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_sort">sort</code></td>
<td>
<p>logical. If TRUE (default), the rows of the merged data.table are sorted by
setting the key to the by / by.x columns. If FALSE, unlike base R's merge for
which row order is unspecified, the row order in x is retained (including
retaining the position of missings when all.x=TRUE), followed by y rows that
don't match x (when all.y=TRUE) retaining the order those appear in y.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_suffixes">suffixes</code></td>
<td>
<p>A character(2) specifying the suffixes to be used for making non-by column
names unique. The suffix behaviour works in a similar fashion as the
merge.data.frame method does.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_no.dups">no.dups</code></td>
<td>
<p>logical indicating that suffixes are also appended to non-by.y column names
in y when they have the same column name as any by.x.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_allow.cartesian">allow.cartesian</code></td>
<td>
<p>See allow.cartesian in <code><a href="data.table.html#topic+data.table">data.table</a></code>.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_incomparables">incomparables</code></td>
<td>
<p>values which cannot be matched and therefore are excluded from by columns.</p>
</td></tr>
<tr><td><code id="merge.odf_tbl_+3A_...">...</code></td>
<td>
<p>Not used at this time.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code><a href="base.html#topic+merge">merge</a></code> is a generic function in base R. It dispatches
to either the merge.data.frame method, merge.odf_tbl or merge.data.table method
depending on the class of its first argument. merge.odf_tbl uses the
merge.data.table to join data.frame and adds the attributes containing
metadata from the two original odf data.frames.
Note that, unlike SQL join, NA is matched against NA (and NaN against NaN)
while merging.
For a more data.table-centric way of merging two data.tables, see
<code><a href="data.table.html#topic+data.table">data.table</a></code>. See FAQ 1.11 for a detailed comparison of
merge.
</p>


<h3>Value</h3>

<p>A new odf tibble build from the two input data.frames with the
variable attributes from the original data.frames. Sorted by the columns set
(or inferred for) the by argument if argument sort is set to TRUE.
For variables/columns occurring in both x and y, attributes are taken from x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get path to example data from the opendataformat package (data.zip)
path  &lt;-  system.file("extdata", "data.odf.zip", package = "opendataformat")

# read four columns of example data specified as ODF from ZIP file
df  &lt;-  read_odf(file = path, select = 1:4)

# read other columns of example data specified as ODF from ZIP file
df2  &lt;-  read_odf(file = path, select = 4:7)

# generate a variable for joining both datasets:
df$id&lt;-1:20
df2$id&lt;-1:20

# merge both datasets by id column
merged_df&lt;-merge(df, df2)

#merge both datasets by shared key columns between the two tables
merged_df2&lt;-merge(df, df2)

</code></pre>

<hr>
<h2 id='read_odf'>Read data specified as Open Data Format.</h2><span id='topic+read_odf'></span>

<h3>Description</h3>

<p>Import data from the Open Data Format to an R data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_odf(
  file,
  languages = "all",
  nrows = Inf,
  skip = 0,
  select = NULL,
  na.strings = getOption("datatable.na.strings", "NA")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_odf_+3A_file">file</code></td>
<td>
<p>the name of the file which the data are to be read from.
By default all available language variants are imported
(<code>languages = "all"</code>).</p>
</td></tr>
<tr><td><code id="read_odf_+3A_languages">languages</code></td>
<td>
<p>integer: the maximum number of rows to read in. Negative and other invalid
values are ignored.</p>
</td></tr>
<tr><td><code id="read_odf_+3A_nrows">nrows</code></td>
<td>
<p>Maximum number of lines to read.</p>
</td></tr>
<tr><td><code id="read_odf_+3A_skip">skip</code></td>
<td>
<p>Select the number of rows to be skipped (without the column names).</p>
</td></tr>
<tr><td><code id="read_odf_+3A_select">select</code></td>
<td>
<p>A vector of column names or numbers to keep, drop the rest. In all forms of
select, order that the columns are specified determines the order of the
columns in the result.</p>
</td></tr>
<tr><td><code id="read_odf_+3A_na.strings">na.strings</code></td>
<td>
<p>A character vector of strings which are to be interpreted as NA values. By
default, &quot;,,&quot; for columns of all types, including type character is read as
NA for consistency. ,&quot;&quot;, is unambiguous and read as an empty string. To
read ,NA, as NA, set na.strings=&quot;NA&quot;. To read ,, as blank string &quot;&quot;, set
na.strings=NULL. When they occur in the file, the strings in na.strings
should not appear quoted since that is how the string literal ,&quot;NA&quot;, is
distinguished from NA, for example, when na.strings=&quot;NA&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>R dataframe with attributes including dataset and variable
information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get path to example data from the opendataformat package (data.zip)
path  &lt;-  system.file("extdata", "data.odf.zip", package = "opendataformat")
path

# read example data specified as Open Data Format from ZIP file
df  &lt;-  read_odf(file = path)
attributes(df)
attributes(df$bap87)

# read example data with language selection
df  &lt;-  read_odf(file = path, languages = "de")
attributes(df$bap87)

</code></pre>

<hr>
<h2 id='setlanguage_odf'>Change language of dataframe metadata</h2><span id='topic+setlanguage_odf'></span>

<h3>Description</h3>

<p>Changes the active language of a dataframe with metadata for the
docu_odf function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setlanguage_odf(dataframe, language)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setlanguage_odf_+3A_dataframe">dataframe</code></td>
<td>
<p>R data frame (df) enriched with metadata in the
odf-format.</p>
</td></tr>
<tr><td><code id="setlanguage_odf_+3A_language">language</code></td>
<td>
<p>Select the language to which you want to switch the metadata.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get example data from the opendataformat package
df  &lt;-  get(data("data_odf"))

# Switch dataset df to language "en"
df  &lt;-  setlanguage_odf(df, language = "en")

# Display dataset information for dataset df in language "en"
docu_odf(df)

</code></pre>

<hr>
<h2 id='write_odf'>Write R data frame to the Open Data Format.</h2><span id='topic+write_odf'></span>

<h3>Description</h3>

<p>Export data from an R data frame to a ZIP file that stores
the data as Open Data Format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_odf(
  x,
  file,
  languages = "all",
  export_data = TRUE,
  verbose = TRUE,
  compression_level = 5,
  odf_version = "1.1.0"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_odf_+3A_x">x</code></td>
<td>
<p>R data frame (df) to be writtem.</p>
</td></tr>
<tr><td><code id="write_odf_+3A_file">file</code></td>
<td>
<p>Path to ZIP file or name of zip file to save the odf-dataset
in the working directory.</p>
</td></tr>
<tr><td><code id="write_odf_+3A_languages">languages</code></td>
<td>
<p>Select the language in which the descriptions and labels of the data will be
exported
</p>

<ul>
<li><p> By default all available language variants are exported
(<code>languages = "all"</code>).
</p>
</li>
<li><p> You can also choose to export only the default language
(<code>languages = "default"</code>),
</p>
</li>
<li><p> Or only the current language
(<code>languages = "current"</code>),
</p>
</li>
<li><p> or you can select the language by language code, e.g.
<code>languages = "en"</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="write_odf_+3A_export_data">export_data</code></td>
<td>
<p>Choose, if you want to export the file that holds the
data (data.csv).Default is TRUE.</p>
</td></tr>
<tr><td><code id="write_odf_+3A_verbose">verbose</code></td>
<td>
<p>Display more messages.</p>
</td></tr>
<tr><td><code id="write_odf_+3A_compression_level">compression_level</code></td>
<td>
<p>A number between 1 and 9. 9 compresses best, but it also takes the longest.</p>
</td></tr>
<tr><td><code id="write_odf_+3A_odf_version">odf_version</code></td>
<td>
<p>The ODF version of the output file. Default is the actual/most recent version.
</p>

<ul>
<li><p> By default the data and metadata are exported (<code>export_data = TRUE</code>).
</p>
</li>
<li><p> To export only metadata and no data, select <code>export_data = FALSE</code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>ZIP file and unzipped directory containing the data as CSV file and
the metadata as XML file (DDI Codebook 2.5.).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get example data from the opendataformat package
df  &lt;-  get(data("data_odf"))

# write R data frame with attributes to the file my_data.zip specified
# as Open Data Format.
write_odf(x = df, paste0(tempdir(), "/my_data.zip"))

# write R data frame with attributes to the file my_data.zip
# with selected language.
write_odf(x = df,  paste0(tempdir(), "/my_data.zip"), languages = "en")

# write R data frame with attributes to the file my_data.zip but only
# metadata, no data.
write_odf(x = df,  file = paste0(tempdir(), "/my_data.zip"), export_data = FALSE)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package safetyGraphics</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {safetyGraphics}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#app_startup'><p>Startup code for shiny app</p></a></li>
<li><a href='#chartsNav'><p>Adds a navbar tab that initializes the Chart Module UI</p></a></li>
<li><a href='#chartsTab'><p>Server for chart module, designed to be re-used for each chart generated.</p></a></li>
<li><a href='#chartsTabUI'><p>UI for chart module, designed to be re-used for each chart generated.</p></a></li>
<li><a href='#detectStandard'><p>Detect the data standard used for a data set</p></a></li>
<li><a href='#evaluateStandard'><p>Evaluate a data set against a data standard</p></a></li>
<li><a href='#filterTab'><p>Server for the filter module in datamods::filter_data_ui</p></a></li>
<li><a href='#filterTabChecks'><p>Checks for whether the current data and settings support a filter tab</p></a></li>
<li><a href='#filterTabUI'><p>UI for the filter module in datamods::filter_data_ui</p></a></li>
<li><a href='#generateMappingList'><p>Convert mapping data.frame to a list</p></a></li>
<li><a href='#hasColumn'><p>Check whether a column is found in a data set</p></a></li>
<li><a href='#hasField'><p>Check whether a specified field value is found in a data set</p></a></li>
<li><a href='#homeTab'><p>Server for the filter module in datamods::filter_data_ui</p></a></li>
<li><a href='#homeTabUI'><p>UI for the home module</p></a></li>
<li><a href='#loadCharts'><p>Server for the chart loading module used in safetyGraphicsInit()</p></a></li>
<li><a href='#loadChartsUI'><p>UI for the chart loading module used in safetyGraphicsInit()</p></a></li>
<li><a href='#loadData'><p>Server for the data loading module used in safetyGraphicsInit()</p></a></li>
<li><a href='#loadDataUI'><p>UI for the data loading module used in safetyGraphicsInit()</p></a></li>
<li><a href='#makeChartConfig'><p>Make Chart Config</p></a></li>
<li><a href='#makeChartExport'><p>Make Chart Export</p></a></li>
<li><a href='#makeChartParams'><p>Make Chart Parameters</p></a></li>
<li><a href='#makeChartSummary'><p>html chart summary</p></a></li>
<li><a href='#makeMapping'><p>Create data mapping based on data standards and user input</p></a></li>
<li><a href='#makeMeta'><p>Create a metadata object table for a set of charts</p></a></li>
<li><a href='#mappingColumn'><p>Server that facilitates the mapping of a column data (and any associated fields)</p></a></li>
<li><a href='#mappingColumnUI'><p>UI that facilitates the mapping of a column data (and any associated fields)</p></a></li>
<li><a href='#mappingDomain'><p>Server that facilitates the mapping of a full data domain</p></a></li>
<li><a href='#mappingDomainUI'><p>UI that facilitates the mapping of a full data domain</p></a></li>
<li><a href='#mappingSelect'><p>Server that facilitates the mapping of a single data element (column or field) with a simple select UI</p></a></li>
<li><a href='#mappingSelectUI'><p>UI that facilitates the mapping of a single data element (column or field) with a simple select UI</p></a></li>
<li><a href='#mappingTab'><p>Server for mapping tab covering of all data domains</p></a></li>
<li><a href='#mappingTabUI'><p>UI for mapping tab covering of all data domains</p></a></li>
<li><a href='#prepareChart'><p>Prepare a chart object for safetyGraphics</p></a></li>
<li><a href='#SafetyGraphics'><p><code>safetyGraphics</code> package</p></a></li>
<li><a href='#safetyGraphicsApp'><p>Run the core safetyGraphics App</p></a></li>
<li><a href='#safetyGraphicsInit'><p>App to select charts, load data and then initialize the core safetyGraphics app</p></a></li>
<li><a href='#safetyGraphicsServer'><p>Server for core safetyGraphics app including Home, Mapping, Filter, Charts and Settings modules.</p></a></li>
<li><a href='#safetyGraphicsUI'><p>UI for the core safetyGraphics app including Home, Mapping, Filter, Charts and Settings modules.</p></a></li>
<li><a href='#setMappingListValue'><p>Set the value for a given named parameter</p></a></li>
<li><a href='#settingsCharts'><p>Server for settings tab showing details for the charts loaded in the app</p></a></li>
<li><a href='#settingsChartsUI'><p>UI for settings tab showing details for the charts loaded in the app</p></a></li>
<li><a href='#settingsCode'><p>Server for settings tab providing code to re-start the app with current data/settings</p></a></li>
<li><a href='#settingsCodeUI'><p>UI for settings tab providing code to re-start the app with current data/settings</p></a></li>
<li><a href='#settingsData'><p>Server for settings tab showing current data</p></a></li>
<li><a href='#settingsDataUI'><p>UI for settings tab showing current data</p></a></li>
<li><a href='#settingsMapping'><p>Server for settings tab showing current mapping</p></a></li>
<li><a href='#settingsMappingUI'><p>UI for settings tab showing current mapping</p></a></li>
<li><a href='#settingsTab'><p>Server for the setting page</p></a></li>
<li><a href='#settingsTabUI'><p>UI for the settings tab</p></a></li>
<li><a href='#textKeysToList'><p>Helper function to convert keys from text to nested lists</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interactive Graphics for Monitoring Clinical Trial Safety</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jeremy Wildfire &lt;jwildfire@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>A framework for evaluation of clinical trial safety. Users can interactively explore their data using the included 'Shiny' application. </td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/SafetyGraphics/safetyGraphics">https://github.com/SafetyGraphics/safetyGraphics</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SafetyGraphics/safetyGraphics/issues">https://github.com/SafetyGraphics/safetyGraphics/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2 (&ge; 3.3.0), knitr (&ge; 1.34), rmarkdown (&ge; 2.10),
shinydashboard (&ge; 0.7.1), shinytest (&ge; 1.5.0), testthat (&ge;
3.0.4), usethis (&ge; 2.0.1), listviewer (&ge; 3.0.0), shinybusy
(&ge; 0.2.2), shinyWidgets (&ge; 0.6.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), DT (&ge; 0.19), datamods (&ge; 1.1.5),
htmlwidgets (&ge; 1.5.0), jsonlite (&ge; 1.7.0), magrittr (&ge;
2.0.0), purrr (&ge; 0.3.0), rclipboard (&ge; 0.1.3), rlang (&ge;
0.4.11), safetyData (&ge; 1.0.0), safetyCharts (&ge; 0.3), shiny
(&ge; 1.6.0), shinyjs (&ge; 2.0.0), sortable (&ge; 0.4.4), stringr
(&ge; 1.4.0), tidyr (&ge; 1.2.0), yaml (&ge; 2.2.1)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-14 21:34:13 UTC; jwildfire</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeremy Wildfire [cre, aut],
  Becca Krouse [aut],
  Preston Burns [aut],
  Xiao Ni [aut],
  James Buchanan [aut],
  Susan Duke [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-14 22:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='app_startup'>Startup code for shiny app</h2><span id='topic+app_startup'></span>

<h3>Description</h3>

<p>Prepare inputs for safetyGraphics app - run before app is initialized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>app_startup(
  domainData = NULL,
  meta = NULL,
  charts = NULL,
  mapping = NULL,
  autoMapping = NULL,
  filterDomain = NULL,
  chartSettingsPaths = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="app_startup_+3A_domaindata">domainData</code></td>
<td>
<p>named list of data.frames to be loaded in to the app. Sample AdAM data from the safetyData package used by default</p>
</td></tr>
<tr><td><code id="app_startup_+3A_meta">meta</code></td>
<td>
<p>data frame containing the metadata for use in the app. If no metadata is provided (default value is NULL), metatdata is generated by <code>makeMeta()</code>.</p>
</td></tr>
<tr><td><code id="app_startup_+3A_charts">charts</code></td>
<td>
<p>list of charts in the format produced by safetyGraphics::makeChartConfig()</p>
</td></tr>
<tr><td><code id="app_startup_+3A_mapping">mapping</code></td>
<td>
<p>list specifying the initial mapping values for each data mapping for each domain (e.g. list(aes= list(id_col='USUBJID', seq_col='AESEQ')).</p>
</td></tr>
<tr><td><code id="app_startup_+3A_automapping">autoMapping</code></td>
<td>
<p>boolean indicating whether the app should attempt to automatically detect data standards and generate mappings for the data provided. Values specified in the <code>mapping</code> parameter overwrite automatically generated mappings when both are found. Defaults to true.</p>
</td></tr>
<tr><td><code id="app_startup_+3A_filterdomain">filterDomain</code></td>
<td>
<p>domain used for the data/filter tab. Demographics (&quot;<code>dm</code>&quot;) is used by default. Using a domain that is not one record per participant is not recommended.</p>
</td></tr>
<tr><td><code id="app_startup_+3A_chartsettingspaths">chartSettingsPaths</code></td>
<td>
<p>path(s) where customization functions are saved relative to your working directory. All charts can have initialization (e.g. myChart_Init.R) and static charts can have charting functions (e.g. myGraphic_Chart.R).   All R files in this folder are sourced and files with the correct naming convention are linked to the chart. See the Custom Charts vignette for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of elements for used to initialize the shiny app with the following parameters
</p>

<ul>
<li><p>&quot;meta&quot; List of configuration metadata 
</p>
</li>
<li><p>&quot;charts&quot; List of charts 
</p>
</li>
<li><p>&quot;domainData&quot; List of domain level data sets 
</p>
</li>
<li><p>&quot;mapping&quot; Initial Data Mapping  
</p>
</li>
<li><p>&quot;standards&quot; List of domain level data standards 
</p>
</li></ul>


<hr>
<h2 id='chartsNav'>Adds a navbar tab that initializes the Chart Module UI</h2><span id='topic+chartsNav'></span>

<h3>Description</h3>

<p>Adds a navbar tab that initializes the Chart Module UI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chartsNav(chart, ns)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chartsNav_+3A_chart">chart</code></td>
<td>
<p>chart metadata</p>
</td></tr>
<tr><td><code id="chartsNav_+3A_ns">ns</code></td>
<td>
<p>namespace</p>
</td></tr>
</table>

<hr>
<h2 id='chartsTab'>Server for chart module, designed to be re-used for each chart generated.</h2><span id='topic+chartsTab'></span>

<h3>Description</h3>

<p>Server for chart module, designed to be re-used for each chart generated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chartsTab(input, output, session, chart, data, mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chartsTab_+3A_input">input</code></td>
<td>
<p>Input objects from module namespace</p>
</td></tr>
<tr><td><code id="chartsTab_+3A_output">output</code></td>
<td>
<p>Output objects from module namespace</p>
</td></tr>
<tr><td><code id="chartsTab_+3A_session">session</code></td>
<td>
<p>An environment that can be used to access information and functionality relating to the session</p>
</td></tr>
<tr><td><code id="chartsTab_+3A_chart">chart</code></td>
<td>
<p>list containing a safetyGraphics chart object like those returned by <a href="#topic+makeChartConfig">makeChartConfig</a>.</p>
</td></tr>
<tr><td><code id="chartsTab_+3A_data">data</code></td>
<td>
<p>named list of current data sets (Reactive).</p>
</td></tr>
<tr><td><code id="chartsTab_+3A_mapping">mapping</code></td>
<td>
<p>tibble capturing the current data mappings (Reactive).</p>
</td></tr>
</table>

<hr>
<h2 id='chartsTabUI'>UI for chart module, designed to be re-used for each chart generated.</h2><span id='topic+chartsTabUI'></span>

<h3>Description</h3>

<p>UI for chart module, designed to be re-used for each chart generated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chartsTabUI(id, chart)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="chartsTabUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
<tr><td><code id="chartsTabUI_+3A_chart">chart</code></td>
<td>
<p>list containing chart specifications like those returned by <a href="#topic+makeChartConfig">makeChartConfig</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='detectStandard'>Detect the data standard used for a data set</h2><span id='topic+detectStandard'></span>

<h3>Description</h3>

<p>This function attempts to detect the clinical data standard used in a given R data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>detectStandard(data, domain = NULL, meta = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="detectStandard_+3A_data">data</code></td>
<td>
<p>A data frame in which to detect the data standard - required.</p>
</td></tr>
<tr><td><code id="detectStandard_+3A_domain">domain</code></td>
<td>
<p>the domain to evaluate - should match a value of <code>meta$domain</code>. Uses the first value in <code>meta$domain</code> if no value is provided.</p>
</td></tr>
<tr><td><code id="detectStandard_+3A_meta">meta</code></td>
<td>
<p>the metadata containing the data standards.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function compares the columns in the provided <code>"data"</code> with the required columns for a given data standard/domain combination. The function is designed to work with the SDTM and ADaM CDISC(<a href="https://www.cdisc.org/">https://www.cdisc.org/</a>) standards for clinical trial data by default. Additional standards can be added by modifying the <code>"meta"</code> data set included as part of this package.
</p>


<h3>Value</h3>

<p>A data frame describing the detected standard for each <code>"text_key"</code> in the provided metadata. Columns are <code>"domain"</code>, <code>"text_key"</code>, <code>"column"</code> and <code>"standard"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>detectStandard(data=safetyData::adam_adae, meta=safetyCharts::meta_aes) 
detectStandard(data=safetyData::adam_adlbc,meta=safetyCharts::meta_labs, domain="labs" ) 

</code></pre>

<hr>
<h2 id='evaluateStandard'>Evaluate a data set against a data standard</h2><span id='topic+evaluateStandard'></span>

<h3>Description</h3>

<p>Determines whether the required data elements in a data standard are found in a given data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>evaluateStandard(data, meta, domain, standard)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="evaluateStandard_+3A_data">data</code></td>
<td>
<p>A data frame in which to detect the data standard</p>
</td></tr>
<tr><td><code id="evaluateStandard_+3A_meta">meta</code></td>
<td>
<p>the metadata containing the data standards.</p>
</td></tr>
<tr><td><code id="evaluateStandard_+3A_domain">domain</code></td>
<td>
<p>the domain to evaluate - should match a value of <code>meta$domain</code></p>
</td></tr>
<tr><td><code id="evaluateStandard_+3A_standard">standard</code></td>
<td>
<p>standard to evaluate</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list describing to what degree the data set matches the data standard. The &quot;match&quot; property describes compliance with the standard as &quot;full&quot;, &quot;partial&quot; or &quot;none&quot;. The &quot;checks&quot; property is a list of the data elements expected for the standard and whether they are &quot;valid&quot; in the given data set. &quot;total_checks&quot;, &quot;valid_checks&quot; and &quot;invalid_checks&quot; provide counts of the specified checks. &quot;match_percent&quot; is calculated as valid_checks/total_checks.  &quot;mapping&quot; is a data frame describing the detected standard for each <code>"text_key"</code> in the provided metadata. Columns are <code>"text_key"</code>, <code>"current"</code> containing the name of the matched column or field value in the data and <code>"match"</code> a boolean indicating whether the data matches the standard.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Match is TRUE
evaluateStandard(
 data=safetyData::adam_adlbc, 
 meta=safetyCharts::meta_labs, 
 domain="labs", 
 standard="adam"
) 

# Match is FALSE
evaluateStandard(
 data=safetyData::adam_adlbc, 
 meta=safetyCharts::meta_labs, 
 domain="labs", 
 standard="sdtm"
) 

</code></pre>

<hr>
<h2 id='filterTab'>Server for the filter module in datamods::filter_data_ui</h2><span id='topic+filterTab'></span>

<h3>Description</h3>

<p>Server for the filter module in datamods::filter_data_ui
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterTab(
  input,
  output,
  session,
  domainData,
  filterDomain,
  current_mapping,
  tabID = "Filtering",
  filterVars = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterTab_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="filterTab_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="filterTab_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="filterTab_+3A_domaindata">domainData</code></td>
<td>
<p>list of data files for each domain</p>
</td></tr>
<tr><td><code id="filterTab_+3A_filterdomain">filterDomain</code></td>
<td>
<p>domain to use for filtering (typically &quot;dm&quot;)</p>
</td></tr>
<tr><td><code id="filterTab_+3A_current_mapping">current_mapping</code></td>
<td>
<p>current data mapping</p>
</td></tr>
<tr><td><code id="filterTab_+3A_tabid">tabID</code></td>
<td>
<p>ID for the tab containing the filter UI (used for testing)</p>
</td></tr>
<tr><td><code id="filterTab_+3A_filtervars">filterVars</code></td>
<td>
<p>Variables to use for filtering (used for testing)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>filtered data set
</p>

<hr>
<h2 id='filterTabChecks'>Checks for whether the current data and settings support a filter tab</h2><span id='topic+filterTabChecks'></span>

<h3>Description</h3>

<p>Checks for whether the current data and settings support a filter tab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterTabChecks(domainData, filterDomain, current_mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterTabChecks_+3A_domaindata">domainData</code></td>
<td>
<p>list of data files for each domain</p>
</td></tr>
<tr><td><code id="filterTabChecks_+3A_filterdomain">filterDomain</code></td>
<td>
<p>domain to use for filtering (typically &quot;dm&quot;)</p>
</td></tr>
<tr><td><code id="filterTabChecks_+3A_current_mapping">current_mapping</code></td>
<td>
<p>current data mapping (REACTIVE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>reactive that returns a boolean indicating whether the checks passed and filtering can be initialized
</p>

<hr>
<h2 id='filterTabUI'>UI for the filter module in datamods::filter_data_ui</h2><span id='topic+filterTabUI'></span>

<h3>Description</h3>

<p>UI for the filter module in datamods::filter_data_ui
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filterTabUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filterTabUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
</table>

<hr>
<h2 id='generateMappingList'>Convert mapping data.frame to a list</h2><span id='topic+generateMappingList'></span>

<h3>Description</h3>

<p>Convert mapping data.frame to a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateMappingList(settingsDF, domain = NULL, pull = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generateMappingList_+3A_settingsdf">settingsDF</code></td>
<td>
<p>data frame containing current mapping</p>
</td></tr>
<tr><td><code id="generateMappingList_+3A_domain">domain</code></td>
<td>
<p>mapping domain to return (returns all domains as a named list by default)</p>
</td></tr>
<tr><td><code id="generateMappingList_+3A_pull">pull</code></td>
<td>
<p>call pull() the value for each parameter - needed for testing only. default: FALSE</p>
</td></tr>
</table>

<hr>
<h2 id='hasColumn'>Check whether a column is found in a data set</h2><span id='topic+hasColumn'></span>

<h3>Description</h3>

<p>Checks whether a specified column is found in a specified data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasColumn(columnName, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hasColumn_+3A_columnname">columnName</code></td>
<td>
<p>The column to look for.</p>
</td></tr>
<tr><td><code id="hasColumn_+3A_data">data</code></td>
<td>
<p>the data.frame to search.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical scalar. TRUE if the column is found. FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>safetyGraphics:::hasColumn(columnName="PARAM",data=safetyData::adam_adlbc) #TRUE
safetyGraphics:::hasColumn(columnName="Not_a_column",data=safetyData::adam_adlbc) #FALSE

</code></pre>

<hr>
<h2 id='hasField'>Check whether a specified field value is found in a data set</h2><span id='topic+hasField'></span>

<h3>Description</h3>

<p>This checks whether a specific value is found in a specified column in a specified data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hasField(fieldValue, columnName, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hasField_+3A_fieldvalue">fieldValue</code></td>
<td>
<p>A value to check for.</p>
</td></tr>
<tr><td><code id="hasField_+3A_columnname">columnName</code></td>
<td>
<p>The column to check.</p>
</td></tr>
<tr><td><code id="hasField_+3A_data">data</code></td>
<td>
<p>the data.frame to search.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical scalar. TRUE if field_value is found. FALSE otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#TRUE
safetyGraphics:::hasField(
 fieldValue="Bilirubin (umol/L)",
 columnName="PARAM",
 data=safetyData::adam_adlbc
)

#FALSE
safetyGraphics:::hasField(
 fieldValue="Not_a_real_value",
 columnName="",
 data=safetyData::adam_adlbc
)

</code></pre>

<hr>
<h2 id='homeTab'>Server for the filter module in datamods::filter_data_ui</h2><span id='topic+homeTab'></span>

<h3>Description</h3>

<p>Server for the filter module in datamods::filter_data_ui
</p>


<h3>Usage</h3>

<pre><code class='language-R'>homeTab(input, output, session)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="homeTab_+3A_input">input</code></td>
<td>
<p>mod input</p>
</td></tr>
<tr><td><code id="homeTab_+3A_output">output</code></td>
<td>
<p>mod output</p>
</td></tr>
<tr><td><code id="homeTab_+3A_session">session</code></td>
<td>
<p>mod session</p>
</td></tr>
</table>

<hr>
<h2 id='homeTabUI'>UI for the home module</h2><span id='topic+homeTabUI'></span>

<h3>Description</h3>

<p>UI for the home module
</p>


<h3>Usage</h3>

<pre><code class='language-R'>homeTabUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="homeTabUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
</table>

<hr>
<h2 id='loadCharts'>Server for the chart loading module used in safetyGraphicsInit()</h2><span id='topic+loadCharts'></span>

<h3>Description</h3>

<p>Server for the chart loading module used in safetyGraphicsInit()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadCharts(input, output, session, charts = makeChartConfig())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadCharts_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="loadCharts_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="loadCharts_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="loadCharts_+3A_charts">charts</code></td>
<td>
<p>list containing chart specifications like those returned by <a href="#topic+makeChartConfig">makeChartConfig</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='loadChartsUI'>UI for the chart loading module used in safetyGraphicsInit()</h2><span id='topic+loadChartsUI'></span>

<h3>Description</h3>

<p>UI for the chart loading module used in safetyGraphicsInit()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadChartsUI(id, charts = makeChartConfig())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadChartsUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
<tr><td><code id="loadChartsUI_+3A_charts">charts</code></td>
<td>
<p>list containing chart specifications like those returned by <a href="#topic+makeChartConfig">makeChartConfig</a>.</p>
</td></tr>
</table>

<hr>
<h2 id='loadData'>Server for the data loading module used in safetyGraphicsInit()</h2><span id='topic+loadData'></span>

<h3>Description</h3>

<p>Server for the data loading module used in safetyGraphicsInit()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadData(input, output, session, domain)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadData_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="loadData_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="loadData_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="loadData_+3A_domain">domain</code></td>
<td>
<p>data domain to be loaded</p>
</td></tr>
</table>

<hr>
<h2 id='loadDataUI'>UI for the data loading module used in safetyGraphicsInit()</h2><span id='topic+loadDataUI'></span>

<h3>Description</h3>

<p>UI for the data loading module used in safetyGraphicsInit()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loadDataUI(id, domain = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="loadDataUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
<tr><td><code id="loadDataUI_+3A_domain">domain</code></td>
<td>
<p>character vector with domains to be loaded</p>
</td></tr>
</table>

<hr>
<h2 id='makeChartConfig'>Make Chart Config</h2><span id='topic+makeChartConfig'></span>

<h3>Description</h3>

<p>Converts YAML chart configuration files to an R list and binds workflow functions. See the vignette about creating custom charts for more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeChartConfig(
  dirs,
  packages = "safetyCharts",
  packageLocation = "config",
  sourceFiles = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeChartConfig_+3A_dirs">dirs</code></td>
<td>
<p>path to one or more directories containing yaml config files (relative to working directory)</p>
</td></tr>
<tr><td><code id="makeChartConfig_+3A_packages">packages</code></td>
<td>
<p>installed packages names containing yaml config files in the /inst/packageLocation folder</p>
</td></tr>
<tr><td><code id="makeChartConfig_+3A_packagelocation">packageLocation</code></td>
<td>
<p>inst folder where yaml config files (and possibly R functions referenced in yaml workflow) are located in <code>packages</code></p>
</td></tr>
<tr><td><code id="makeChartConfig_+3A_sourcefiles">sourceFiles</code></td>
<td>
<p>boolean indicating whether to source all R files found in dirs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a named list of charts derived from YAML files. Each element of the list contains information about a single chart, and has the following parameters:
</p>

<ul>
<li><p>&quot;env&quot; Environment for the chart. Must be set to &quot;safetyGraphics&quot; or the chart is dropped.
</p>
</li>
<li><p>&quot;name&quot; Name of the chart. Also the name of the element in the list - e.g. charts$aeExplorer$name is &quot;aeExplorer&quot;
</p>
</li>
<li><p>&quot;label&quot; Short description of the chart 
</p>
</li>
<li><p>&quot;type&quot; Type of chart; options are: 'htmlwidget', 'module', 'plot', 'table', 'html' or 'plotly'.
</p>
</li>
<li><p>&quot;domain&quot; Data domain. Should correspond to one or more domains in <code>meta</code> 
</p>
</li>
<li><p>&quot;package&quot; Primary package (if any). Other packages can be loaded directly in workflow functions. 
</p>
</li>
<li><p>&quot;order&quot; Integer order in which to display the chart. If order is a negative number, the chart is dropped. 
</p>
</li>
<li><p>&quot;export&quot; Logical flag indicating whether the chart can be exported to an html report. True by default, except for when type is module. 
</p>
</li>
<li><p>&quot;path&quot; Path to YAML file
</p>
</li>
<li><p>&quot;links&quot; Named list of link names/urls to be shown in the chart header. 
</p>
</li>
<li><p>&quot;workflow&quot; List of functions names used to render chart. See vignette for details. 
</p>
</li>
<li><p>&quot;functions&quot; List of functions for use in chart renderering. These functions must be located in the global environment or <code>package</code> field of the YAML config. Function names must include either the <code>name</code> or <code>workflow</code> fields of the YAML config. 
</p>
</li></ul>


<hr>
<h2 id='makeChartExport'>Make Chart Export</h2><span id='topic+makeChartExport'></span>

<h3>Description</h3>

<p>Creates R code that allows chart to be exported
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeChartExport(chart, mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeChartExport_+3A_chart">chart</code></td>
<td>
<p>chart object like the one generated by makeChartConfig().</p>
</td></tr>
<tr><td><code id="makeChartExport_+3A_mapping">mapping</code></td>
<td>
<p>mapping object like the one generated by makeMapping().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a character vector that can be saved as R code.
</p>

<hr>
<h2 id='makeChartParams'>Make Chart Parameters</h2><span id='topic+makeChartParams'></span>

<h3>Description</h3>

<p>Updates raw data and mapping for use with a specific chart
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeChartParams(data, chart, mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeChartParams_+3A_data">data</code></td>
<td>
<p>list of domain-level data</p>
</td></tr>
<tr><td><code id="makeChartParams_+3A_chart">chart</code></td>
<td>
<p>list containing chart specifications</p>
</td></tr>
<tr><td><code id="makeChartParams_+3A_mapping">mapping</code></td>
<td>
<p>data frame with current mapping</p>
</td></tr>
</table>

<hr>
<h2 id='makeChartSummary'>html chart summary</h2><span id='topic+makeChartSummary'></span>

<h3>Description</h3>

<p>makes a nicely formatted html summary for a chart object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeChartSummary(chart, showLinks = TRUE, class = "chart-header")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeChartSummary_+3A_chart">chart</code></td>
<td>
<p>list containing chart specifications</p>
</td></tr>
<tr><td><code id="makeChartSummary_+3A_showlinks">showLinks</code></td>
<td>
<p>boolean indicating whether to include links</p>
</td></tr>
<tr><td><code id="makeChartSummary_+3A_class">class</code></td>
<td>
<p>character to include as class</p>
</td></tr>
</table>

<hr>
<h2 id='makeMapping'>Create data mapping based on data standards and user input</h2><span id='topic+makeMapping'></span>

<h3>Description</h3>

<p>Create data mapping based on data standards and user input
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeMapping(domainData, meta, autoMapping, customMapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeMapping_+3A_domaindata">domainData</code></td>
<td>
<p>named list of data.frames to be loaded in to the app. Sample AdAM data from the safetyData package used by default</p>
</td></tr>
<tr><td><code id="makeMapping_+3A_meta">meta</code></td>
<td>
<p>data frame containing the metadata for use in the app.</p>
</td></tr>
<tr><td><code id="makeMapping_+3A_automapping">autoMapping</code></td>
<td>
<p>boolean indicating whether the app should use <code>safetyGraphics::detectStandard()</code> to detect data standards and automatically generate mappings for the data provided. Values specified in the <code>customMapping</code> parameter overwrite auto-generated mappings when both are found. Defaults to true.</p>
</td></tr>
<tr><td><code id="makeMapping_+3A_custommapping">customMapping</code></td>
<td>
<p>optional list specifying initial mapping values within each data mapping (e.g. list(aes= list(id_col='USUBJID', seq_col='AESEQ')).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing data standard information and mapping
</p>

<ul>
<li><p>&quot;mapping&quot; Initial Data Mapping 
</p>
</li>
<li><p>&quot;standards&quot; List of domain level data standards (or NULL if autoMapping is false) 
</p>
</li></ul>


<hr>
<h2 id='makeMeta'>Create a metadata object table for a set of charts</h2><span id='topic+makeMeta'></span>

<h3>Description</h3>

<p>Generates metadata object for a list of charts. <code>makeMeta()</code> looks for metadata in 3 locations for each <code>chart</code> object:
</p>

<ul>
<li><p> Domain-level metadata saved as meta_chart$name in the chart$package namespace
</p>
</li>
<li><p> Chart-specific metadata saved as meta_chart$domain in the chart$package namespace
</p>
</li>
<li><p> Chart-specific metadata saved directly to the chart object as chart$meta
After checking all charts, all metadata files are stacked in to a single dataframe and returned. If duplicate metadata rows (domain + text_key) are found, an error is thrown.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>makeMeta(charts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makeMeta_+3A_charts">charts</code></td>
<td>
<p>list of safetyGraphics chart objects for which to create metadata</p>
</td></tr>
</table>


<h3>Value</h3>

<p>tibble of metadata with the following columns:
</p>

<dl>
<dt>domain</dt><dd><p>Data domain</p>
</dd>
<dt>text_key</dt><dd><p>Text key indicating the setting name. <code>'--'</code> delimiter indicates a field level data mapping</p>
</dd>
<dt>col_key</dt><dd><p>Key for the column mapping</p>
</dd>
<dt>field_key</dt><dd><p>Key for the field mapping (if any)</p>
</dd>
<dt>type</dt><dd><p>type of mapping - &quot;field&quot; or &quot;column&quot;</p>
</dd>
<dt>label</dt><dd><p>Label</p>
</dd>
<dt>description</dt><dd><p>Description</p>
</dd>
<dt>multiple</dt><dd><p>Mapping supports multiple columns/fields </p>
</dd>
<dt>standard_adam</dt><dd><p>Default values for the ADaM data standard</p>
</dd>
<dt>standard_sdtm</dt><dd><p>Default values for the SDTM data standard</p>
</dd>
</dl>


<hr>
<h2 id='mappingColumn'>Server that facilitates the mapping of a column data (and any associated fields)</h2><span id='topic+mappingColumn'></span>

<h3>Description</h3>

<p>Server that facilitates the mapping of a column data (and any associated fields)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingColumn(input, output, session, meta, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingColumn_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="mappingColumn_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="mappingColumn_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="mappingColumn_+3A_meta">meta</code></td>
<td>
<p>metadata data frame for the object</p>
</td></tr>
<tr><td><code id="mappingColumn_+3A_data">data</code></td>
<td>
<p>current data file for the domain</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A reactive data.frame providing the current value for text_key associated with the selected column
</p>

<hr>
<h2 id='mappingColumnUI'>UI that facilitates the mapping of a column data (and any associated fields)</h2><span id='topic+mappingColumnUI'></span>

<h3>Description</h3>

<p>UI that facilitates the mapping of a column data (and any associated fields)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingColumnUI(id, meta, data, mapping = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingColumnUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
<tr><td><code id="mappingColumnUI_+3A_meta">meta</code></td>
<td>
<p>metadata for the column (and related fields)</p>
</td></tr>
<tr><td><code id="mappingColumnUI_+3A_data">data</code></td>
<td>
<p>current data file for the domain</p>
</td></tr>
<tr><td><code id="mappingColumnUI_+3A_mapping">mapping</code></td>
<td>
<p>current data mapping for the column (and related fields)</p>
</td></tr>
</table>

<hr>
<h2 id='mappingDomain'>Server that facilitates the mapping of a full data domain</h2><span id='topic+mappingDomain'></span>

<h3>Description</h3>

<p>Server that facilitates the mapping of a full data domain
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingDomain(input, output, session, meta, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingDomain_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="mappingDomain_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="mappingDomain_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="mappingDomain_+3A_meta">meta</code></td>
<td>
<p>metadata for the domain</p>
</td></tr>
<tr><td><code id="mappingDomain_+3A_data">data</code></td>
<td>
<p>clinical data for the domain</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A reactive data frame containing the mapping for the domain
</p>

<hr>
<h2 id='mappingDomainUI'>UI that facilitates the mapping of a full data domain</h2><span id='topic+mappingDomainUI'></span>

<h3>Description</h3>

<p>UI that facilitates the mapping of a full data domain
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingDomainUI(id, meta, data, mapping = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingDomainUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
<tr><td><code id="mappingDomainUI_+3A_meta">meta</code></td>
<td>
<p>metadata for the domain</p>
</td></tr>
<tr><td><code id="mappingDomainUI_+3A_data">data</code></td>
<td>
<p>data file for the domain</p>
</td></tr>
<tr><td><code id="mappingDomainUI_+3A_mapping">mapping</code></td>
<td>
<p>current data mapping</p>
</td></tr>
</table>

<hr>
<h2 id='mappingSelect'>Server that facilitates the mapping of a single data element (column or field) with a simple select UI</h2><span id='topic+mappingSelect'></span>

<h3>Description</h3>

<p>Server that facilitates the mapping of a single data element (column or field) with a simple select UI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingSelect(input, output, session)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingSelect_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="mappingSelect_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="mappingSelect_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A reactive containing the selected column
</p>

<hr>
<h2 id='mappingSelectUI'>UI that facilitates the mapping of a single data element (column or field) with a simple select UI</h2><span id='topic+mappingSelectUI'></span>

<h3>Description</h3>

<p>UI that facilitates the mapping of a single data element (column or field) with a simple select UI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingSelectUI(id, label, choices = NULL, default = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingSelectUI_+3A_id">id</code></td>
<td>
<p>unique id for the UI</p>
</td></tr>
<tr><td><code id="mappingSelectUI_+3A_label">label</code></td>
<td>
<p>label associated with the control</p>
</td></tr>
<tr><td><code id="mappingSelectUI_+3A_choices">choices</code></td>
<td>
<p>a list of options for the control</p>
</td></tr>
<tr><td><code id="mappingSelectUI_+3A_default">default</code></td>
<td>
<p>default value for the control</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the selected value wrapped in a <code>reactive()</code>.
</p>

<hr>
<h2 id='mappingTab'>Server for mapping tab covering of all data domains</h2><span id='topic+mappingTab'></span>

<h3>Description</h3>

<p>Server for mapping tab covering of all data domains
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingTab(input, output, session, meta, domainData)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingTab_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="mappingTab_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="mappingTab_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="mappingTab_+3A_meta">meta</code></td>
<td>
<p>metadata for all domains</p>
</td></tr>
<tr><td><code id="mappingTab_+3A_domaindata">domainData</code></td>
<td>
<p>clinical data for all domains</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of mappings for all domains
</p>

<hr>
<h2 id='mappingTabUI'>UI for mapping tab covering of all data domains</h2><span id='topic+mappingTabUI'></span>

<h3>Description</h3>

<p>UI for mapping tab covering of all data domains
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mappingTabUI(id, meta, domainData, mappings = NULL, standards = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mappingTabUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
<tr><td><code id="mappingTabUI_+3A_meta">meta</code></td>
<td>
<p>metadata for all domains</p>
</td></tr>
<tr><td><code id="mappingTabUI_+3A_domaindata">domainData</code></td>
<td>
<p>list of data files for each domain</p>
</td></tr>
<tr><td><code id="mappingTabUI_+3A_mappings">mappings</code></td>
<td>
<p>optional data frame containing stacked mappings for all domains</p>
</td></tr>
<tr><td><code id="mappingTabUI_+3A_standards">standards</code></td>
<td>
<p>optional list of data standards like the ones generated by <code>detectStandard()</code></p>
</td></tr>
</table>

<hr>
<h2 id='prepareChart'>Prepare a chart object for safetyGraphics</h2><span id='topic+prepareChart'></span>

<h3>Description</h3>

<p>Sets default values and binds needed functions to a chart object based on chart type.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepareChart(chart)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepareChart_+3A_chart">chart</code></td>
<td>
<p>chart object like the one generated by makeChartConfig().</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the chart object with a new functions object added.
</p>

<hr>
<h2 id='SafetyGraphics'><code>safetyGraphics</code> package</h2><span id='topic+SafetyGraphics'></span>

<h3>Description</h3>

<p>Create Interactive Graphics Related to Clinical Trial Safety
</p>


<h3>Details</h3>

<p>Learn more on
<a href="https://CRAN.R-project.org/package=safetyGraphics">CRAN</a>
or <a href="https://github.com/SafetyGraphics/safetyGraphics">GitHub</a>
</p>

<hr>
<h2 id='safetyGraphicsApp'>Run the core safetyGraphics App</h2><span id='topic+safetyGraphicsApp'></span>

<h3>Description</h3>

<p>Run the core safetyGraphics App
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safetyGraphicsApp(
  domainData = list(labs = safetyData::adam_adlbc, aes = safetyData::adam_adae, dm =
    safetyData::adam_adsl),
  meta = NULL,
  charts = NULL,
  mapping = NULL,
  autoMapping = TRUE,
  filterDomain = "dm",
  chartSettingsPaths = NULL,
  runNow = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safetyGraphicsApp_+3A_domaindata">domainData</code></td>
<td>
<p>named list of data.frames to be loaded in to the app. Sample AdAM data from the safetyData package used by default</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_meta">meta</code></td>
<td>
<p>data frame containing the metadata for use in the app. If no metadata is provided, metatdata is generated by <code>makeMeta()</code>.</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_charts">charts</code></td>
<td>
<p>list of charts in the format produced by safetyGraphics::makeChartConfig()</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_mapping">mapping</code></td>
<td>
<p>list specifying the initial mapping values for each data mapping for each domain (e.g. list(aes= list(id_col='USUBJID', seq_col='AESEQ')).</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_automapping">autoMapping</code></td>
<td>
<p>boolean indicating whether the app should attempt to automatically detect data standards and generate mappings for the data provided. Values specified in the <code>mapping</code> parameter overwrite automatically generated mappings when both are found. Defaults to true.</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_filterdomain">filterDomain</code></td>
<td>
<p>domain used for the data/filter tab. Demographics (&quot;<code>dm</code>&quot;) is used by default. Using a domain that is not one record per participant is not recommended.</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_chartsettingspaths">chartSettingsPaths</code></td>
<td>
<p>path(s) where customization functions are saved relative to your working directory. All charts can have initialization (e.g. myChart_Init.R) and static charts can have charting functions (e.g. myGraphic_Chart.R).   All R files in this folder are sourced and files with the correct naming convention are linked to the chart. See the Custom Charts vignette for more details.</p>
</td></tr>
<tr><td><code id="safetyGraphicsApp_+3A_runnow">runNow</code></td>
<td>
<p>Should the shiny app object created be run directly? Helpful when writing  functions to dispatch to shinyapps, rsconnect, or shinyproxy.</p>
</td></tr>
</table>

<hr>
<h2 id='safetyGraphicsInit'>App to select charts, load data and then initialize the core safetyGraphics app</h2><span id='topic+safetyGraphicsInit'></span>

<h3>Description</h3>

<p>App to select charts, load data and then initialize the core safetyGraphics app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safetyGraphicsInit(
  charts = makeChartConfig(),
  delayTime = 1000,
  maxFileSize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safetyGraphicsInit_+3A_charts">charts</code></td>
<td>
<p>chart object</p>
</td></tr>
<tr><td><code id="safetyGraphicsInit_+3A_delaytime">delayTime</code></td>
<td>
<p>time (in ms) between drawing app UI and starting server. Default set to 1000 (1 second), but could need to be higher on slow machine.</p>
</td></tr>
<tr><td><code id="safetyGraphicsInit_+3A_maxfilesize">maxFileSize</code></td>
<td>
<p>maximum file size in MB allowed for file upload</p>
</td></tr>
</table>

<hr>
<h2 id='safetyGraphicsServer'>Server for core safetyGraphics app including Home, Mapping, Filter, Charts and Settings modules.</h2><span id='topic+safetyGraphicsServer'></span>

<h3>Description</h3>

<p>This function returns a server function suitable for use in shiny::runApp()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safetyGraphicsServer(
  input,
  output,
  session,
  meta,
  mapping,
  domainData,
  charts,
  filterDomain
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safetyGraphicsServer_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_meta">meta</code></td>
<td>
<p>data frame containing the metadata for use in the app.</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_mapping">mapping</code></td>
<td>
<p>current mapping</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_domaindata">domainData</code></td>
<td>
<p>named list of data.frames to be loaded in to the app.</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_charts">charts</code></td>
<td>
<p>list of charts to include in the app</p>
</td></tr>
<tr><td><code id="safetyGraphicsServer_+3A_filterdomain">filterDomain</code></td>
<td>
<p>domain used for the data/filter tab. Demographics (&quot;<code>dm</code>&quot;) is used by default. Using a domain that is not one record per participant is not recommended.</p>
</td></tr>
</table>

<hr>
<h2 id='safetyGraphicsUI'>UI for the core safetyGraphics app including Home, Mapping, Filter, Charts and Settings modules.</h2><span id='topic+safetyGraphicsUI'></span>

<h3>Description</h3>

<p>UI for the core safetyGraphics app including Home, Mapping, Filter, Charts and Settings modules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>safetyGraphicsUI(id, meta, domainData, mapping, standards)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="safetyGraphicsUI_+3A_id">id</code></td>
<td>
<p>module ID</p>
</td></tr>
<tr><td><code id="safetyGraphicsUI_+3A_meta">meta</code></td>
<td>
<p>data frame containing the metadata for use in the app.</p>
</td></tr>
<tr><td><code id="safetyGraphicsUI_+3A_domaindata">domainData</code></td>
<td>
<p>named list of data.frames to be loaded in to the app.</p>
</td></tr>
<tr><td><code id="safetyGraphicsUI_+3A_mapping">mapping</code></td>
<td>
<p>data.frame specifying the initial values for each data mapping. If no mapping is provided, the app will attempt to generate one via <code>detectStandard()</code></p>
</td></tr>
<tr><td><code id="safetyGraphicsUI_+3A_standards">standards</code></td>
<td>
<p>a list of information regarding data standards. Each list item should use the format returned by safetyGraphics::detectStandard.</p>
</td></tr>
</table>

<hr>
<h2 id='setMappingListValue'>Set the value for a given named parameter</h2><span id='topic+setMappingListValue'></span>

<h3>Description</h3>

<p>Sets the value for a named parameter (<code>key</code>) to given <code>value</code> in a list (<code>settings</code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setMappingListValue(key, value, settings, forceCreate = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setMappingListValue_+3A_key">key</code></td>
<td>
<p>a list defining the position of parameter in the settings object.</p>
</td></tr>
<tr><td><code id="setMappingListValue_+3A_value">value</code></td>
<td>
<p>the value to set</p>
</td></tr>
<tr><td><code id="setMappingListValue_+3A_settings">settings</code></td>
<td>
<p>The settings list used to generate a chart like <code>eDISH()</code></p>
</td></tr>
<tr><td><code id="setMappingListValue_+3A_forcecreate">forceCreate</code></td>
<td>
<p>Specifies whether the function should create a new list() when none exisits. This most commonly occurs when deeply nested objects.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the updated settings object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>testSet&lt;-list(a=list(b="myValue"))
safetyGraphics:::setMappingListValue(key=list("a","b"), value="notMyValue", settings=testSet) 
#returns list(a=list(b="notMyValue")))

</code></pre>

<hr>
<h2 id='settingsCharts'>Server for settings tab showing details for the charts loaded in the app</h2><span id='topic+settingsCharts'></span>

<h3>Description</h3>

<p>Server for settings tab showing details for the charts loaded in the app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsCharts(input, output, session, charts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsCharts_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="settingsCharts_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="settingsCharts_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="settingsCharts_+3A_charts">charts</code></td>
<td>
<p>list data frame summarizing the charts</p>
</td></tr>
</table>

<hr>
<h2 id='settingsChartsUI'>UI for settings tab showing details for the charts loaded in the app</h2><span id='topic+settingsChartsUI'></span>

<h3>Description</h3>

<p>UI for settings tab showing details for the charts loaded in the app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsChartsUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsChartsUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
</table>

<hr>
<h2 id='settingsCode'>Server for settings tab providing code to re-start the app with current data/settings</h2><span id='topic+settingsCode'></span>

<h3>Description</h3>

<p>Server for settings tab providing code to re-start the app with current data/settings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsCode(input, output, session, mapping, charts, domainData)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsCode_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="settingsCode_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="settingsCode_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="settingsCode_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="settingsCode_+3A_charts">charts</code></td>
<td>
<p>charts</p>
</td></tr>
<tr><td><code id="settingsCode_+3A_domaindata">domainData</code></td>
<td>
<p>data list</p>
</td></tr>
</table>

<hr>
<h2 id='settingsCodeUI'>UI for settings tab providing code to re-start the app with current data/settings</h2><span id='topic+settingsCodeUI'></span>

<h3>Description</h3>

<p>UI for settings tab providing code to re-start the app with current data/settings
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsCodeUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsCodeUI_+3A_id">id</code></td>
<td>
<p>module ID</p>
</td></tr>
</table>

<hr>
<h2 id='settingsData'>Server for settings tab showing current data</h2><span id='topic+settingsData'></span>

<h3>Description</h3>

<p>Server for settings tab showing current data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsData(input, output, session, domains)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsData_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="settingsData_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="settingsData_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="settingsData_+3A_domains">domains</code></td>
<td>
<p>named list of the data.frames for each domain</p>
</td></tr>
</table>

<hr>
<h2 id='settingsDataUI'>UI for settings tab showing current data</h2><span id='topic+settingsDataUI'></span>

<h3>Description</h3>

<p>UI for settings tab showing current data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsDataUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsDataUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
</table>

<hr>
<h2 id='settingsMapping'>Server for settings tab showing current mapping</h2><span id='topic+settingsMapping'></span>

<h3>Description</h3>

<p>Server for settings tab showing current mapping
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsMapping(input, output, session, metadata, mapping)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsMapping_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="settingsMapping_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="settingsMapping_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="settingsMapping_+3A_metadata">metadata</code></td>
<td>
<p>Data mapping metadata used for initial loading of app</p>
</td></tr>
<tr><td><code id="settingsMapping_+3A_mapping">mapping</code></td>
<td>
<p>reactive data frame representing the current metadata mapping. columns = &quot;domain&quot;, &quot;text_id&quot; and &quot;current&quot;</p>
</td></tr>
</table>

<hr>
<h2 id='settingsMappingUI'>UI for settings tab showing current mapping</h2><span id='topic+settingsMappingUI'></span>

<h3>Description</h3>

<p>UI for settings tab showing current mapping
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsMappingUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsMappingUI_+3A_id">id</code></td>
<td>
<p>module id</p>
</td></tr>
</table>

<hr>
<h2 id='settingsTab'>Server for the setting page</h2><span id='topic+settingsTab'></span>

<h3>Description</h3>

<p>Server for the setting page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsTab(input, output, session, domains, metadata, mapping, charts)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsTab_+3A_input">input</code></td>
<td>
<p>Shiny input object</p>
</td></tr>
<tr><td><code id="settingsTab_+3A_output">output</code></td>
<td>
<p>Shiny output object</p>
</td></tr>
<tr><td><code id="settingsTab_+3A_session">session</code></td>
<td>
<p>Shiny session object</p>
</td></tr>
<tr><td><code id="settingsTab_+3A_domains">domains</code></td>
<td>
<p>domains</p>
</td></tr>
<tr><td><code id="settingsTab_+3A_metadata">metadata</code></td>
<td>
<p>metadata</p>
</td></tr>
<tr><td><code id="settingsTab_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="settingsTab_+3A_charts">charts</code></td>
<td>
<p>charts</p>
</td></tr>
</table>

<hr>
<h2 id='settingsTabUI'>UI for the settings tab</h2><span id='topic+settingsTabUI'></span>

<h3>Description</h3>

<p>UI for the settings tab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settingsTabUI(id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settingsTabUI_+3A_id">id</code></td>
<td>
<p>module ID</p>
</td></tr>
</table>

<hr>
<h2 id='textKeysToList'>Helper function to convert keys from text to nested lists</h2><span id='topic+textKeysToList'></span>

<h3>Description</h3>

<p>Convert settings keys from text vectors (using the &quot;&ndash;&quot; delimiter) to a list of lists
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textKeysToList(textKeys)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textKeysToList_+3A_textkeys">textKeys</code></td>
<td>
<p>a list (or vector) of character keys using the &quot;&ndash;&quot; delimiter to indicate hierarchy</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of unnamed lists, with position in the nested list indicating hierarchy
</p>


<h3>Examples</h3>

<pre><code class='language-R'>safetyGraphics:::textKeysToList("id_col") 
#list(list("id_col"))

#list(list("id_col"),list("measure_col","label"))
safetyGraphics:::textKeysToList(c("id_col","measure_col--label")) 

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

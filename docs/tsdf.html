<!DOCTYPE html><html><head><title>Help for package tsdf</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tsdf}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#adj.two'><p>Zhong's 2-/3- stage Phase II design</p></a></li>
<li><a href='#dec.sim'><p>run dose-finding simulations</p></a></li>
<li><a href='#dec.table'><p>generate three-stage dose-finding decision table</p></a></li>
<li><a href='#opt.design'><p>Zhong's 2-/3- stage Phase II design</p></a></li>
<li><a href='#plot.dec.sim'><p>plot simulation results from a dec.sim object</p></a></li>
<li><a href='#plot.dec.table'><p>plot decision table from a &quot;dec.table&quot; object.</p></a></li>
<li><a href='#print.dec.table'><p>print decision table from a &quot;dec.table&quot; object.</p></a></li>
<li><a href='#print.opt.design'><p>print Zhong's design from a &quot;opt.design&quot; object.</p></a></li>
<li><a href='#sl.sim'><p>Dose-finding simulations for a list of scenarios</p></a></li>
<li><a href='#summary.dec.sim'><p>Summarizing simulation results from a dec.sim object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Two-/Three-Stage Designs for Phase 1&amp;2 Clinical Trials</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1-8</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-05-09</td>
</tr>
<tr>
<td>Author:</td>
<td>Wenchuan Guo, Jianan Hui, Bob Zhong</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Wenchuan Guo &lt;wguo1017@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate optimal Zhong's two-/three-stage Phase II designs (see Zhong (2012) &lt;<a href="https://doi.org/10.1016%2Fj.cct.2012.07.006">doi:10.1016/j.cct.2012.07.006</a>&gt;). Generate Target Toxicity decision table for Phase I dose-finding (two-/three-stage). This package also allows users to run dose-finding simulations based on customized decision table. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-05-09 15:12:21 UTC; guow8</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-05-09 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='adj.two'>Zhong's 2-/3- stage Phase II design</h2><span id='topic+adj.two'></span>

<h3>Description</h3>

<p>adjust Zhong's 2-/3-stage design for over-/under-running
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adj.two(n1, r1, s1, n2, alpha1, alpha2, beta, pc, pe, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="adj.two_+3A_n1">n1</code></td>
<td>
<p>sample size at stage 1.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_r1">r1</code></td>
<td>
<p>inefficacy boundary at stage 1.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_s1">s1</code></td>
<td>
<p>efficacy boundary at stage 1. if no early stopping for efficacy, <code>s1</code> should equal to <code>n1</code>.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_n2">n2</code></td>
<td>
<p>sample size at stage 2.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_alpha1">alpha1</code></td>
<td>
<p>left-side overall type I error.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_alpha2">alpha2</code></td>
<td>
<p>right-side overall type I error.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_beta">beta</code></td>
<td>
<p>type II error.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_pc">pc</code></td>
<td>
<p>a numeric vector of response rate. should be a vector with length 1 or 2.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_pe">pe</code></td>
<td>
<p>alternative hypothesis.</p>
</td></tr>
<tr><td><code id="adj.two_+3A_...">...</code></td>
<td>
<p>not used argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To be added
</p>


<h3>Value</h3>

<p>An object of class &quot;opt.design&quot; is a list containing:
</p>
<table>
<tr><td><code>bdry</code></td>
<td>
<p>rejection regions</p>
</td></tr>
<tr><td><code>error</code></td>
<td>
<p>true type 1/2 errors</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>sample size at each stage</p>
</td></tr> 
<tr><td><code>complete</code></td>
<td>
<p>complete list of feasible designs</p>
</td></tr>
<tr><td><code>alpha1</code></td>
<td>
<p>input; left-side type 1 error</p>
</td></tr>
<tr><td><code>alpha2</code></td>
<td>
<p>input; right-side type 1 error</p>
</td></tr>
<tr><td><code>beta</code></td>
<td>
<p>input; type 2 error</p>
</td></tr>
<tr><td><code>pc</code></td>
<td>
<p>input; a vector of response rate.</p>
</td></tr>
<tr><td><code>pe</code></td>
<td>
<p>input; a vector of alternative response rate</p>
</td></tr>
<tr><td><code>sf</code></td>
<td>
<p>input; the alpha-spending function used</p>
</td></tr>
<tr><td><code>stage</code></td>
<td>
<p>input; two- or three- stage design is used</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Wenchuan Guo &lt;wguo1017@gmail.com&gt;, Jianan Hui &lt;jiananhuistat@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'> n1 &lt;- 22
 r1 &lt;- 6
 s1 &lt;- 22
 n2 &lt;- 24
 pc &lt;- 0.4
 pe &lt;- pc + 0.15
 alpha1 &lt;- 0.3
 alpha2 &lt;- 0.1
 beta &lt;- 0.2
 out &lt;- adj.two(n1, r1, s1, n2, alpha1, alpha2, beta, pc, pe)
</code></pre>

<hr>
<h2 id='dec.sim'>run dose-finding simulations</h2><span id='topic+dec.sim'></span>

<h3>Description</h3>

<p>Run dose-finding simulations based on a customized decision table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dec.sim(truep, decTable, start.level = 1, nsim = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dec.sim_+3A_truep">truep</code></td>
<td>
<p>a vector of length k (the number of doses being considered in the trial), with values equal to the true probabilities of toxicity at the dose levels.</p>
</td></tr>
<tr><td><code id="dec.sim_+3A_dectable">decTable</code></td>
<td>
<p>a customized decision table. (same format as output of <code><a href="#topic+dec.table">dec.table</a></code>)</p>
</td></tr>
<tr><td><code id="dec.sim_+3A_start.level">start.level</code></td>
<td>
<p>starting dose level. Defaults to 1, i.e. the lowest dose level.</p>
</td></tr>
<tr><td><code id="dec.sim_+3A_nsim">nsim</code></td>
<td>
<p>the number of simulation trials. Defaults to 1000.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assume there are $d$ dose levels to be studied. Denote the cumulative number of patients treated and cumulative number of DLTs at the current dose level are $n_i$ and $m_i$, respectively. $n_max$ is the maximum number of patients permitted to be treated at each dose level. The procedure is as follows
</p>

<ul>
<li><p>Step 1 : Update cumulative number of DLTs $m_i$ and total number of patients $n_i$ treated at the current dose and use the decision table to make a decision: if decision is &ldquo;S&quot; &ndash;&gt; step 2; if decision is &ldquo;D&quot; or &ldquo;DU&rdquo; &ndash;&gt; step 3; if decision is &ldquo;E&rdquo; &ndash;&gt; step 4
</p>
</li>
<li><p>Step 2 : If $n_i = n_max$, declare dose i as the MTD; otherwise, update $m_i$ and $n_i$ with additional cohort of patients and go to Step 1.
</p>
</li>
<li><p>Step 3 : If the current dose level is the highest dose level, then: if n_i &lt; n_max, update $m_i$ and $n_i$ with additional cohort of patients and go to Step 1; otherwise, stop the trial and declare that the MTD is higher than the highest dose level (inconclusive); If the current dose is not the lowest dose, then: if $n_i-1 &lt; n_max$, update $m_i-1$ and $n_i-1$ with additional cohort of patients and set the current dose level to be the next lower dose level, and go to Step 1; otherwise, stop the trial and declare the next lower dose level is the MTD; Additionally, if the decision is &ldquo;DU&rdquo;, record this dose level as DU and never treat additional patients at the current dose level again.
</p>
</li>
<li><p>Step 4 : If the current dose level is the highest dose level, then: if $n_i &lt; n_max$, update $m_i$ and $n_i$ with additional cohort of patients and go to Step 1; otherwise, stop the trial and declare that the MTD is higher than the highest dose level (inconclusive); If the next higher dose level is of status DU, then: if $n_i &lt; n_max$, update $m_i$ and $n_i$ with additional cohort of patients and go to step 1; otherwise stop, the current dose level is MTD; Otherwise: if $n_i+1 &lt; n_max$, update $m_i+1$ and  $n_i+1$ with additional cohort of patients, set the current dose level to be next higher dose level, and go to step 1; else, the current dose level is the MTD. 
</p>
</li></ul>



<h3>Value</h3>

<p>the functions <code><a href="#topic+summary.dec.sim">summary.dec.sim</a></code> is used to obtain and print a summary table of the results (recommended). An object of class <code>"dec.sim"</code> is a list containing:
</p>
<table>
<tr><td><code>mtd</code></td>
<td>
<p>a vector of dose levels giving the recommended maximum tolerated dose (MTD) at the end of the trial.</p>
</td></tr>
<tr><td><code>mtd.prob</code></td>
<td>
<p>a vector of length <code>k</code> giving the average proportions of selected as MTD at each dose level.</p>
</td></tr>
<tr><td><code>over.prob</code></td>
<td>
<p>a vector of length <code>k</code> giving the average proportions of selected as over the MTD at each dose level.</p>
</td></tr>
<tr><td><code>n.patients</code></td>
<td>
<p>the average number of patients dosed at each level.</p>
</td></tr>
<tr><td><code>dlt</code></td>
<td>
<p>the average number of DLTs experienced at each dose level.</p>
</td></tr>
<tr><td><code>truep</code></td>
<td>
<p>input; true probabilities of toxicity.</p>
</td></tr>
<tr><td><code>start.level</code></td>
<td>
<p>input; starting dose level.</p>
</td></tr>
<tr><td><code>nsim</code></td>
<td>
<p>input; number of simulated trails.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Wenchuan Guo &lt;wguo1017@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>truep &lt;- c(0.3, 0.45, 0.5, 0.6)
res &lt;- dec.table(0.6,0.4,0.2,0.3,c(3,3,3))
out &lt;- dec.sim(truep, res$table, start.level = 2, nsim = 1000)
summary(out, pt = 0.3)
</code></pre>

<hr>
<h2 id='dec.table'>generate three-stage dose-finding decision table</h2><span id='topic+dec.table'></span>

<h3>Description</h3>

<p>Generate three stage dose finding decision table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dec.table(alpha.l, alpha.r, alpha.u, pt, n, sf.param = 4, pe.par = 0.25, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dec.table_+3A_alpha.l">alpha.l</code></td>
<td>
<p>left-side overall type 1 error. Control the upper bound of dose escalation.</p>
</td></tr>
<tr><td><code id="dec.table_+3A_alpha.r">alpha.r</code></td>
<td>
<p>right-side overall type 1 error. Control the lower bound of dose de-escalatition.</p>
</td></tr>
<tr><td><code id="dec.table_+3A_alpha.u">alpha.u</code></td>
<td>
<p>right-side overall type 1 error. This also controls the lower bound of dose de-escalatition, but it is used to find lower bound for &quot;DU&quot;.</p>
</td></tr>
<tr><td><code id="dec.table_+3A_pt">pt</code></td>
<td>
<p>a numeric vector of target toxicity. Should be a vector with 1 or 2(when the target is an interval).</p>
</td></tr>
<tr><td><code id="dec.table_+3A_n">n</code></td>
<td>
<p>a vector of sample size at each stage. <code>sum(n)</code> is the total sample size. For A+B designs, <code>n</code> is a vector with length 2; for A+B+C designs, <code>n</code> has length 3.</p>
</td></tr>
<tr><td><code id="dec.table_+3A_sf.param">sf.param</code></td>
<td>
<p>a single real value specifying the gamma parameter for which Hwang-Shih-DeCani spending is to be computed; allowable range is [-40, 40]. Increasing this parameter implies that more error is spent early stage and less is available in late stage. Default to 4.</p>
</td></tr>
<tr><td><code id="dec.table_+3A_pe.par">pe.par</code></td>
<td>
<p>alternative hypothesis that used to calculate power/type 2 error. The alternative is set to be <code>pe = pt + pe.par</code>. Default to 0.25.</p>
</td></tr>
<tr><td><code id="dec.table_+3A_...">...</code></td>
<td>
<p>not used argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Alpha-spending method is added to two-/three-stage designs. <code>dec.table</code> supports Hwang-Shih-DeCani spending function.
</p>


<h3>Value</h3>

<p>An object of class &quot;dec.table&quot; is a list containing:
</p>
<table>
<tr><td><code>table</code></td>
<td>
<p>the generated decision table.</p>
</td></tr>
<tr><td><code>alpha.two</code></td>
<td>
<p>a vector of true type 1 error for two-tailed test.</p>
</td></tr>
<tr><td><code>alpha.one</code></td>
<td>
<p>a vector of true type 1 error for right-tailed test.</p>
</td></tr>
<tr><td><code>beta</code></td>
<td>
<p>a single value of true type 2 error(depends on alternative).</p>
</td></tr>
<tr><td><code>E</code></td>
<td>
<p>a vector of &quot;E&quot; bound.</p>
</td></tr>
<tr><td><code>D</code></td>
<td>
<p>a vector of &quot;D&quot; bound.</p>
</td></tr>
<tr><td><code>DU</code></td>
<td>
<p>a vector of &quot;DU&quot; bound.</p>
</td></tr>
<tr><td><code>pt</code></td>
<td>
<p>input; a vector of target toxicity</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>input; a vector with sample size at each stage.</p>
</td></tr>
<tr><td><code>sf.param</code></td>
<td>
<p>input; the alpha-spending function parameter used.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Wenchuan Guo &lt;wguo007@ucr.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>alpha.l &lt;- 0.6
alpha.r &lt;- 0.4
alpha.u &lt;- 0.1
pt &lt;- 0.3
# print out decision table for a 3+3+3 design 
n &lt;- rep(3, 3)
dec.table(alpha.l, alpha.r, alpha.u, pt, n)$table
# 3+3 design
n &lt;- rep(3, 2)
dec.table(alpha.l, alpha.r, alpha.u, pt, n)$table
</code></pre>

<hr>
<h2 id='opt.design'>Zhong's 2-/3- stage Phase II design</h2><span id='topic+opt.design'></span>

<h3>Description</h3>

<p>calculate optimal 2-/3-stage design given by Bob Zhong
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opt.design(
  alpha1,
  alpha2,
  beta,
  pc,
  pe,
  stage = 2,
  stop.eff = FALSE,
  frac_n1 = NULL,
  frac_n2 = NULL,
  sf.param = NULL,
  show = FALSE,
  nmax = 100,
  n.choice = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opt.design_+3A_alpha1">alpha1</code></td>
<td>
<p>left-side overall type I error.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_alpha2">alpha2</code></td>
<td>
<p>right-side overall type I error.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_beta">beta</code></td>
<td>
<p>type II error</p>
</td></tr>
<tr><td><code id="opt.design_+3A_pc">pc</code></td>
<td>
<p>a numeric vector of response rate. should be a vector with length 1 or 2.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_pe">pe</code></td>
<td>
<p>alternative hypothesis.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_stage">stage</code></td>
<td>
<p>2 or 3. default to 2 (2-stage design).</p>
</td></tr>
<tr><td><code id="opt.design_+3A_stop.eff">stop.eff</code></td>
<td>
<p>logical flag. default to <code>FALSE</code>. if <code>stop.eff = TRUE</code>, the trial may stop for efficacy at interim.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_frac_n1">frac_n1</code></td>
<td>
<p>proportion of n1. for 2-stage design, default to <code>c(0.3, 0.6)</code>, i.e. the range of <code>n1</code> is <code>0.2*n</code> to <code>0.5*n</code>. for 3-stage design, default to <code>c(0.2, 0.3)</code>, i.e. the range of <code>n1</code> is <code>0.2*n</code> to <code>0.3*n</code></p>
</td></tr>
<tr><td><code id="opt.design_+3A_frac_n2">frac_n2</code></td>
<td>
<p>proportion of n2. Used for 3-stage design. default to <code>c(0.2, 0.4)</code>.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_sf.param">sf.param</code></td>
<td>
<p>a single real value specifying the gamma parameter for which Hwang-Shih-DeCani spending is to be computed; allowable range is [-40, 40]. Increasing this parameter implies that more error is spent early stage and less is available in late stage. For two-stage designs, default to <code>NULL</code>(alpha-spending is not used); for three-stage designs, default to 4.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_show">show</code></td>
<td>
<p>logical. If <code>TRUE</code>, current sample size is shown as total sample size increase.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_nmax">nmax</code></td>
<td>
<p>maximum sample size. default to 100.</p>
</td></tr>
<tr><td><code id="opt.design_+3A_n.choice">n.choice</code></td>
<td>
<p>stop criterion for the search of feasible designs. stop if number of designs is more than <code>n.choice</code></p>
</td></tr>
<tr><td><code id="opt.design_+3A_...">...</code></td>
<td>
<p>not used argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The two-stage design setup is: n1 patients are treated in the first stage. At the end of the first stage, either the trial continues to the second stage or inefficacy is concluded and the trial is stopped (early termination), depending on the number of responses observed at the first stage. If the trial does continue to the second stage, additional n2 patients are treated. Three-stage design is an extension of two-stage design where one stage is added between Stage 1 and 2. The left-side rejection region is response &lt;= r_i for i = 1, 2, or 3 and right-side rejection region is  response &gt; s. Alpha-spending method is added to two-/three-stage designs. <code>opt.design</code> supports Hwang-Shih-DeCani spending function. You can change the definition of <code>HSD</code> function to use a different spending function.
</p>


<h3>Value</h3>

<p>An object of class &quot;opt.design&quot; is a list containing:
</p>
<table>
<tr><td><code>bdry</code></td>
<td>
<p>rejection regions</p>
</td></tr>
<tr><td><code>error</code></td>
<td>
<p>true type 1/2 errors</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>sample size at each stage</p>
</td></tr> 
<tr><td><code>complete</code></td>
<td>
<p>complete list of feasible designs</p>
</td></tr>
<tr><td><code>alpha1</code></td>
<td>
<p>input; left-side type 1 error</p>
</td></tr>
<tr><td><code>alpha2</code></td>
<td>
<p>input; right-side type 1 error</p>
</td></tr>
<tr><td><code>beta</code></td>
<td>
<p>input; type 2 error</p>
</td></tr>
<tr><td><code>pc</code></td>
<td>
<p>input; a vector of response rate.</p>
</td></tr>
<tr><td><code>pe</code></td>
<td>
<p>input; a vector of alternative response rate</p>
</td></tr>
<tr><td><code>sf</code></td>
<td>
<p>input; the alpha-spending function used</p>
</td></tr>
<tr><td><code>stage</code></td>
<td>
<p>input; two- or three- stage design is used</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Wenchuan Guo &lt;wguo1017@gmail.com&gt;, Jianan Hui &lt;jiananhuistat@gmail.com&gt;
</p>


<h3>References</h3>

<p>Zhong. (2012) Single-arm Phase IIA clinical trials with go/no-go decisions. <em>Contemporary Clinical Trials</em>, <b>33</b>, 1272&ndash;1279.
</p>


<h3>Examples</h3>

<pre><code class='language-R'> alpha1 &lt;- 0.15
 alpha2 &lt;- 0.10
 beta &lt;- 0.15
 pc &lt;- 0.25
 pe &lt;- pc + 0.20
 # calculate optimal two-stage design without using alpha-spending
 opt.design(alpha1, alpha2, beta, pc, pe, stage=2)
 ## Not run: 
 # calculate optimal two-stage design with Pocock-like spending function 
 opt.design(alpha1, alpha2, beta, pc, pt, stage = 2, sf.param = 1)
 
 # calculate optimal three-stage design with =Oâ€™Brien-Fleming like spending function
 opt.design(alpha1, alpha2, beta, pc, pt, stage = 3, sf.param = -4)
 
## End(Not run)
</code></pre>

<hr>
<h2 id='plot.dec.sim'>plot simulation results from a dec.sim object</h2><span id='topic+plot.dec.sim'></span>

<h3>Description</h3>

<p>Three plots are currently available: a plot of true toxicity at each dose level (<code>type = "s"</code>); a bar plot of the probability of selecting as the MTD for each dose level (<code>type = "prob"</code>); a bar plot of the average number of patients treated at each dose level (<code>type = "np"</code>); a bar plot of the average number of patients experienced DLT at each dose level (<code>type = "dlt"</code>) and <code>type = "all"</code> generates all above plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dec.sim'
plot(
  x,
  pt,
  s = 1,
  type = c("all", "s", "prob", "np", "dlt"),
  label = TRUE,
  col = "cornflowerblue",
  text.col = "darkblue",
  cex = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.dec.sim_+3A_x">x</code></td>
<td>
<p>an object of class <code>"dec.sim"</code> or <code>"sl.sim"</code>, a result of a call to <code>dec.sim</code> or <code>sl.sim</code>.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_pt">pt</code></td>
<td>
<p>a vector with target toxicity for each scenario.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_s">s</code></td>
<td>
<p>scenario to be plotted. Defaults to 1.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_type">type</code></td>
<td>
<p>plot type. See descriptions above.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_label">label</code></td>
<td>
<p>a logical value indicating if values are shown on plot.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_col">col</code></td>
<td>
<p>graphical parameter <code>col</code>; see details <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_text.col">text.col</code></td>
<td>
<p>plotting color of text shown.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_cex">cex</code></td>
<td>
<p>graphical parameter <code>col</code>; see details <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="plot.dec.sim_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code><a href="base.html#topic+plot">plot</a></code> methods.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># generate decision table
dt &lt;- dec.table(0.6,0.4,0.2,0.3,c(3,3,3))
# simulate trials from test data 
test.file &lt;- system.file("extdata", "testS.csv", package = "tsdf")
out &lt;- sl.sim(dt$table, test.file)
plot(out, pt=rep(0.3,2), s=1, type="all")
plot(out, pt=rep(0.3,2), s=2, type="prob")
plot(out, pt=rep(0.3,2), s=1, type="np")
plot(out, pt=rep(0.3,2), s=2, type="dlt")
</code></pre>

<hr>
<h2 id='plot.dec.table'>plot decision table from a &quot;dec.table&quot; object.</h2><span id='topic+plot.dec.table'></span>

<h3>Description</h3>

<p><code>plot</code> method for class &quot;<code>dec.table</code>&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dec.table'
plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.dec.table_+3A_x">x</code></td>
<td>
<p>an object of class <code>"dec.table"</code>, a result of a call to <code>dec.table</code>.</p>
</td></tr>
<tr><td><code id="plot.dec.table_+3A_...">...</code></td>
<td>
<p>Not used argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>plot.dec.table</code> prints the decision boundarys.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>truep &lt;- c(0.3, 0.45, 0.5, 0.6)
out &lt;- dec.table(0.6,0.4,0.2,0.3,c(3,3,3))
plot(out)
</code></pre>

<hr>
<h2 id='print.dec.table'>print decision table from a &quot;dec.table&quot; object.</h2><span id='topic+print.dec.table'></span>

<h3>Description</h3>

<p><code>print</code> method for class &quot;<code>dec.table</code>&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dec.table'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.dec.table_+3A_x">x</code></td>
<td>
<p>an object of class <code>"dec.table"</code>, a result of a call to <code>dec.table</code>.</p>
</td></tr>
<tr><td><code id="print.dec.table_+3A_...">...</code></td>
<td>
<p>Not used argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>print.dec.table</code> prints the decision table with legend keys.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(dec.table(0.6,0.4,0.2,0.3,c(3,3,3)))
</code></pre>

<hr>
<h2 id='print.opt.design'>print Zhong's design from a &quot;opt.design&quot; object.</h2><span id='topic+print.opt.design'></span>

<h3>Description</h3>

<p><code>print</code> method for class &quot;<code>opt.design</code>&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'opt.design'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.opt.design_+3A_x">x</code></td>
<td>
<p>an object of class <code>"opt.design"</code>, a result of a call to <code>opt.design</code>.</p>
</td></tr>
<tr><td><code id="print.opt.design_+3A_...">...</code></td>
<td>
<p>not used argument.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>alpha1 &lt;- 0.20
alpha2 &lt;- 0.1
beta &lt;- 0.20
pc &lt;- 0.5
pt &lt;- pc + 0.2
out &lt;- opt.design(alpha1, alpha2, beta, pc, pt, stage = 2, sf.param = 1)
print(out)
</code></pre>

<hr>
<h2 id='sl.sim'>Dose-finding simulations for a list of scenarios</h2><span id='topic+sl.sim'></span>

<h3>Description</h3>

<p>Run dose-finding simulations based on a customized decision table for a list of scenarios.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sl.sim(decTable, file, header = TRUE, sep = ",", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sl.sim_+3A_dectable">decTable</code></td>
<td>
<p>A customized decision table. (same format as output of <code>dec.table</code>)</p>
</td></tr>
<tr><td><code id="sl.sim_+3A_file">file</code></td>
<td>
<p>The name of the file which the data are to be read from. See details in <code><a href="utils.html#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="sl.sim_+3A_header">header</code></td>
<td>
<p>A logical value indicating whether the file contains the names of the variables as its first line. Default is <code>FALSE</code>. See details in <code><a href="utils.html#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="sl.sim_+3A_sep">sep</code></td>
<td>
<p>The field separator character. Default is <code>","</code>. See details in <code><a href="utils.html#topic+read.table">read.table</a></code>.</p>
</td></tr>
<tr><td><code id="sl.sim_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code><a href="utils.html#topic+read.table">read.table</a></code> methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In each line of the input file, the parameters must be ordered in accordance as follows: <code>pt</code>, <code>start.level</code>, <code>nsim</code>, <code>truep</code>. See details in <code><a href="utils.html#topic+read.table">read.table</a></code>. The algorithm for dose-finding is described in <code><a href="#topic+dec.sim">dec.sim</a></code>.
</p>


<h3>Value</h3>

<p>The function <code><a href="base.html#topic+summary">summary</a></code> is used to obtain and print a summary table of the results. An object of class <code>"dec.sim"</code> (1 scenario) or <code>"sl.sim"</code> (more than 1 scenarios)is a list containing:
</p>
<table>
<tr><td><code>MTD</code></td>
<td>
<p>A vector of dose levels giving the recommended maximum tolerated dose (MTD) at the end of the trial.</p>
</td></tr>
<tr><td><code>n.patients</code></td>
<td>
<p>The average number of patients dosed at each level.</p>
</td></tr>
<tr><td><code>truep</code></td>
<td>
<p>input; true probabilities of toxicity.</p>
</td></tr>
<tr><td><code>start.level</code></td>
<td>
<p>input; starting dose level.</p>
</td></tr>
<tr><td><code>nsim</code></td>
<td>
<p>input; number of simulated trails.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Wenchuan Guo &lt;wguo007@ucr.edu&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dt &lt;- dec.table(0.6,0.4,0.2,0.3,c(3,3,3))
test.file &lt;- system.file("extdata", "testS.csv", package = "tsdf")
# use a customized decision table
table.file &lt;- system.file("extdata", "decTable.csv", package = "tsdf")
dec &lt;- read.table(table.file, sep=",", col.names=c(3,4,8,10), row.names = 1, check.names = FALSE)
out1 &lt;- sl.sim(dt$table, test.file)
out2 &lt;- sl.sim(dec, test.file)
</code></pre>

<hr>
<h2 id='summary.dec.sim'>Summarizing simulation results from a dec.sim object</h2><span id='topic+summary.dec.sim'></span>

<h3>Description</h3>

<p><code>summary</code> method for class <code>"dec.sim"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dec.sim'
summary(object, pt, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.dec.sim_+3A_object">object</code></td>
<td>
<p>an object of class <code>"dec.sim"</code>, a result of a call to <code>dec.sim</code> or <code>sl.sim</code>.</p>
</td></tr>
<tr><td><code id="summary.dec.sim_+3A_pt">pt</code></td>
<td>
<p>target toxicity for each scenario.</p>
</td></tr>
<tr><td><code id="summary.dec.sim_+3A_...">...</code></td>
<td>
<p>Not used argument.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>summary</code> is used for formating important statistics for dose-finding simulation. Giving the target toxicity, it returns the probability of selecting current dose level as the MTD and over the MTD, probability of selecting the true MTD, probability of subjects treated at or below the true MTD, etc. The MTD is defined as the highest dose level such that the toxicity probability is less than target toxicity probability, if target is less than the smallest probability, then the lowest dose level is set as MTD. For example, if target is 0.3 and true toxicity for five doses are 0.1, 0.25, 0.35, 0.40, then MTD is dose 2.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test.file &lt;- system.file("extdata", "testS.csv", package = "tsdf")
dt &lt;- dec.table(0.6,0.4,0.2,0.3,c(3,3,3))
out &lt;- sl.sim(dt$table, test.file)
pt &lt;- c(0.3, 0.4)
summary(out, pt)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ggpage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggpage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#break_help'><p>Repeating of indexes</p></a></li>
<li><a href='#ggpage_build'><p>Creates a data frame for further analysis and plotting</p></a></li>
<li><a href='#ggpage_plot'><p>Creates a visualization from the ggpage_build output</p></a></li>
<li><a href='#ggpage_quick'><p>Creates a quick visualization of the page layout</p></a></li>
<li><a href='#line_align'><p>Adjust lines</p></a></li>
<li><a href='#nest_paragraphs'><p>converts paragraph tokens into line tokens</p></a></li>
<li><a href='#page_liner'><p>Add line number within pages</p></a></li>
<li><a href='#paper_shape'><p>Identify the edges of the paper of each page</p></a></li>
<li><a href='#para_index'><p>paragraph split</p></a></li>
<li><a href='#tinderbox'><p>The tinder-box by H.C. Andersen</p></a></li>
<li><a href='#tinderbox_paragraph'><p>The tinder-box by H.C. Andersen</p></a></li>
<li><a href='#word_to_line'><p>Internal function for converting words to lines</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Creates Page Layout Visualizations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Facilitates the creation of page layout
    visualizations in which words are represented as rectangles with sizes
    relating to the length of the words. Which then is divided in lines
    and pages for easy overview of up to quite large texts.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/EmilHvitfeldt/ggpage">https://github.com/EmilHvitfeldt/ggpage</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/EmilHvitfeldt/ggpage/issues">https://github.com/EmilHvitfeldt/ggpage/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2 (&ge; 2.0.0), magrittr, purrr, rlang, stringr,
tidytext (&ge; 0.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-06-13 20:08:54 UTC; emilhvitfeldthansen</td>
</tr>
<tr>
<td>Author:</td>
<td>Emil Hvitfeldt [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Emil Hvitfeldt &lt;emilhhvitfeldt@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-06-13 20:30:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='break_help'>Repeating of indexes</h2><span id='topic+break_help'></span>

<h3>Description</h3>

<p>Repeating of indexes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>break_help(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="break_help_+3A_x">x</code></td>
<td>
<p>Numerical, vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numerical.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>break_help(c(1, 2, 3))
break_help(c(6, 8, 23, 50))
</code></pre>

<hr>
<h2 id='ggpage_build'>Creates a data frame for further analysis and plotting</h2><span id='topic+ggpage_build'></span>

<h3>Description</h3>

<p>This function can be used in combination with <code>ggpage_plot</code> to get the
same result as <code>ggpage_quick</code>. However by splitting the data.frame
construction and plotting we are able to do intermediate analysis which
can be included in the visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggpage_build(book, lpp = 25, character_height = 3,
  vertical_space = 1, x_space_pages = 10, y_space_pages = 10,
  nrow = NULL, ncol = NULL, bycol = TRUE, wtl = NULL,
  para.fun = NULL, page.col = NULL, align = "left", line.max = 80,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggpage_build_+3A_book">book</code></td>
<td>
<p>Character or data.frame. Can either have each element be a
separate line or having each element being separate words.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_lpp">lpp</code></td>
<td>
<p>Numeric. Lines Per Page. Number of lines allocated for each page.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_character_height">character_height</code></td>
<td>
<p>Numeric. Relative size of the height of each letter
compared to its width.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_vertical_space">vertical_space</code></td>
<td>
<p>Numeric. Distance between each lines vertically.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_x_space_pages">x_space_pages</code></td>
<td>
<p>Numeric. Distance between pages along the x-axis.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_y_space_pages">y_space_pages</code></td>
<td>
<p>Numeric. Distance between pages along the y-axis.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_nrow">nrow</code></td>
<td>
<p>Numeric. Number of rows of pages, if omitted defaults to square
layout.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_ncol">ncol</code></td>
<td>
<p>Numeric. Number of columns of pages, if omitted defaults to
square layout.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_bycol">bycol</code></td>
<td>
<p>Logical. If TRUE (the default) the matrix is filled by
columns, otherwise the matrix is filled by rows.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_wtl">wtl</code></td>
<td>
<p>logical. If TRUE will convert single word vector into a vector
with full lines. (defaults to FALSE).</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_para.fun">para.fun</code></td>
<td>
<p>Function that generates random numbers to determine number
of word in each paragraph.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_page.col">page.col</code></td>
<td>
<p>column to split the pages by.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_align">align</code></td>
<td>
<p>Type of line alignment. Must be one of &quot;left&quot;, &quot;right&quot; or &quot;both&quot;.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_line.max">line.max</code></td>
<td>
<p>Maximal number of characters per line. Defaults to 80.</p>
</td></tr>
<tr><td><code id="ggpage_build_+3A_...">...</code></td>
<td>
<p>Extra arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The text MUST be presented in a column named text.
</p>


<h3>Value</h3>

<p>'data.frame' containing the following columns:
</p>

<ul>
<li><p> 'word': Character. The words of the text.
</p>
</li>
<li><p> 'page': Integer. Page number.
</p>
</li>
<li><p> 'line': Integer. Line number within the page.
</p>
</li>
<li><p> 'xmin': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
<li><p> 'xmax': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
<li><p> 'ymin': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li>
<li><p> 'ymax': Numeric. Border of rectangle, used by <code>ggpage_plot</code> do not
alter.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr)
library(stringr)
library(ggplot2)
library(tidytext)
library(ggpage)
# build and plot
## data.frame with full lines
ggpage_build(tinderbox) %&gt;%
  ggpage_plot()
## vector with full lines
ggpage_build(book = tinderbox %&gt;%
  pull(text)) %&gt;%
  ggpage_plot()
## data.frame with single words
ggpage_build(tinderbox) %&gt;%
  unnest_tokens(text, word) %&gt;%
  ggpage_plot()
## vector with single words
ggpage_build(tinderbox %&gt;%
  unnest_tokens(text, text) %&gt;%
  pull(text)) %&gt;%
  ggpage_plot()

# nrow and ncol
ggpage_build(tinderbox, nrow = 2) %&gt;%
  ggpage_plot()
ggpage_build(tinderbox, ncol = 2) %&gt;%
  ggpage_plot()

# Include analysis within
ggpage_build(tinderbox) %&gt;%
  mutate(word_length = str_length(word)) %&gt;%
  ggpage_plot(aes(fill = word_length))

</code></pre>

<hr>
<h2 id='ggpage_plot'>Creates a visualization from the ggpage_build output</h2><span id='topic+ggpage_plot'></span>

<h3>Description</h3>

<p>Creates a visualization from the ggpage_build output
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggpage_plot(data, mapping = ggplot2::aes(), paper.show = FALSE,
  paper.color = "grey90", paper.alpha = 1, paper.limits = 3,
  page.number = character(1), page.number.x = 3, page.number.y = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggpage_plot_+3A_data">data</code></td>
<td>
<p>data.frame. Expects output from <code>ggpage_build</code> with
optional intermediate analysis.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_mapping">mapping</code></td>
<td>
<p>Default list of aesthetic mappings to use for plot to be
handed to internal <code>ggplot</code> call.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_paper.show">paper.show</code></td>
<td>
<p>Shows the paper underneath the text.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_paper.color">paper.color</code></td>
<td>
<p>Color of the pages. Needs to be of length 1 or the same
as the number of pages.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_paper.alpha">paper.alpha</code></td>
<td>
<p>Alpha of the pages. Needs to be of length 1 or the same
as the number of pages.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_paper.limits">paper.limits</code></td>
<td>
<p>Numerical. Extends the edges of the paper in all
directions.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_page.number">page.number</code></td>
<td>
<p>Position of the page number. Defaults to none.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_page.number.x">page.number.x</code></td>
<td>
<p>Distance the page number is pushed away from the text
along the x-axis.</p>
</td></tr>
<tr><td><code id="ggpage_plot_+3A_page.number.y">page.number.y</code></td>
<td>
<p>Distance the page number is pushed away from the text
along the y-axis.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object with the given visualization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr)
library(stringr)
library(ggplot2)
library(tidytext)
library(ggpage)
# build and plot
## data.frame with full lines
ggpage_build(tinderbox) %&gt;%
  ggpage_plot()
## vector with full lines
ggpage_build(book = tinderbox %&gt;%
  pull(text)) %&gt;%
  ggpage_plot()
## data.frame with single words
ggpage_build(tinderbox) %&gt;%
  unnest_tokens(text, word) %&gt;%
  ggpage_plot()
## vector with single words
ggpage_build(tinderbox %&gt;%
  unnest_tokens(text, text) %&gt;%
  pull(text)) %&gt;%
  ggpage_plot()

# nrow and ncol
ggpage_build(tinderbox, nrow = 2) %&gt;%
  ggpage_plot()
ggpage_build(tinderbox, ncol = 2) %&gt;%
  ggpage_plot()

# Include analysis within
ggpage_build(tinderbox) %&gt;%
  mutate(word_length = str_length(word)) %&gt;%
  ggpage_plot(aes(fill = word_length))

</code></pre>

<hr>
<h2 id='ggpage_quick'>Creates a quick visualization of the page layout</h2><span id='topic+ggpage_quick'></span>

<h3>Description</h3>

<p>Creates a quick visualization of the page layout
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggpage_quick(book, lpp = 25, character_height = 3,
  vertical_space = 1, x_space_pages = 10, y_space_pages = 10,
  nrow = NULL, ncol = NULL, bycol = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggpage_quick_+3A_book">book</code></td>
<td>
<p>Character or data.frame. Can either have each element be a
separate line or having each element being separate words.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_lpp">lpp</code></td>
<td>
<p>Numeric. Lines Per Page. Number of lines allocated for each page.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_character_height">character_height</code></td>
<td>
<p>Numeric. Relative size of the height of each letter
compared to its width.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_vertical_space">vertical_space</code></td>
<td>
<p>Numeric. Distance between each lines vertically.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_x_space_pages">x_space_pages</code></td>
<td>
<p>Numeric. Distance between pages along the x-axis.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_y_space_pages">y_space_pages</code></td>
<td>
<p>Numeric. Distance between pages along the y-axis.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_nrow">nrow</code></td>
<td>
<p>Numeric. Number of rows of pages, if omitted defaults to square
layout.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_ncol">ncol</code></td>
<td>
<p>Numeric. Number of columns of pages, if omitted defaults to
square layout.</p>
</td></tr>
<tr><td><code id="ggpage_quick_+3A_bycol">bycol</code></td>
<td>
<p>Logical.  If TRUE (the default) the matrix is filled by
columns, otherwise the matrix is filled by rows.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object with the given visualization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(dplyr)
library(stringr)
library(ggplot2)
library(tidytext)
library(ggpage)
# quick
## data.frame with full lines
ggpage_quick(tinderbox)
## vector with full lines
ggpage_quick(tinderbox %&gt;%
               pull(text))
## data.frame with single words
ggpage_quick(tinderbox %&gt;%
               unnest_tokens(text, text))
## vector with single words
ggpage_quick(tinderbox %&gt;%
               unnest_tokens(text, text) %&gt;%
               pull(text))

# nrow and ncol
ggpage_quick(tinderbox, nrow = 2)
ggpage_quick(tinderbox, ncol = 2)

</code></pre>

<hr>
<h2 id='line_align'>Adjust lines</h2><span id='topic+line_align'></span>

<h3>Description</h3>

<p>Adjust lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>line_align(line, max_length, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="line_align_+3A_line">line</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="line_align_+3A_max_length">max_length</code></td>
<td>
<p>numerical. number of letters allowed on a line.</p>
</td></tr>
<tr><td><code id="line_align_+3A_type">type</code></td>
<td>
<p>Type of line alignment. Must be one of &quot;left&quot;, &quot;right&quot; or &quot;both&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='nest_paragraphs'>converts paragraph tokens into line tokens</h2><span id='topic+nest_paragraphs'></span>

<h3>Description</h3>

<p>extents the str_wrap() function from the stringr package to work with longer
strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nest_paragraphs(data, input, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nest_paragraphs_+3A_data">data</code></td>
<td>
<p>data.frame. With one paragraph per row.</p>
</td></tr>
<tr><td><code id="nest_paragraphs_+3A_input">input</code></td>
<td>
<p>column that gets split as string or symbol.</p>
</td></tr>
<tr><td><code id="nest_paragraphs_+3A_...">...</code></td>
<td>
<p>Extra arguments passed to str_wrap.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame.
</p>

<hr>
<h2 id='page_liner'>Add line number within pages</h2><span id='topic+page_liner'></span>

<h3>Description</h3>

<p>Add line number within pages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>page_liner(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="page_liner_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame
</p>

<hr>
<h2 id='paper_shape'>Identify the edges of the paper of each page</h2><span id='topic+paper_shape'></span>

<h3>Description</h3>

<p>Identify the edges of the paper of each page
</p>


<h3>Usage</h3>

<pre><code class='language-R'>paper_shape(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="paper_shape_+3A_data">data</code></td>
<td>
<p>data.frame created by ggpage_build.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>paper_shape(ggpage_build(tinderbox))
</code></pre>

<hr>
<h2 id='para_index'>paragraph split</h2><span id='topic+para_index'></span>

<h3>Description</h3>

<p>Converts a word vector into a line vector with variable paragraph lengths.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>para_index(n, FUN, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="para_index_+3A_n">n</code></td>
<td>
<p>Numeric. Numbers of words.</p>
</td></tr>
<tr><td><code id="para_index_+3A_fun">FUN</code></td>
<td>
<p>Numeric. how many words to split whole string by.</p>
</td></tr>
<tr><td><code id="para_index_+3A_...">...</code></td>
<td>
<p>Extra arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>FUN most be a function that takes in a number n and returns a vector of
natural numbers.
</p>


<h3>Value</h3>

<p>Numeric. paragraph indicator.
</p>

<hr>
<h2 id='tinderbox'>The tinder-box by H.C. Andersen</h2><span id='topic+tinderbox'></span>

<h3>Description</h3>

<p>A tidy data.frame containing the entire story of The tinder-box by H.C.
Andersen with two columns: <code>text</code> which contains the text of the
fairy tale divided into elements of up to about 80 characters each and
<code>book</code> giving the name of the fairy tale in question.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinderbox
</code></pre>


<h3>Format</h3>

<p>A data frame with 211 rows and 2 variables:
</p>

<dl>
<dt>text</dt><dd><p>character string up to 80 characters each</p>
</dd>
<dt>book</dt><dd><p>name of the fairy tale</p>
</dd>
</dl>
<p>...
</p>

<hr>
<h2 id='tinderbox_paragraph'>The tinder-box by H.C. Andersen</h2><span id='topic+tinderbox_paragraph'></span>

<h3>Description</h3>

<p>A tidy data.frame containing the entire story of The tinder-box by H.C.
Andersen with two columns: <code>text</code> which contains the text of the
fairy tale divided into paragraphs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tinderbox_paragraph
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 rows and 1 variables:
</p>

<dl>
<dt>text</dt><dd><p>character string up to 80 characters each</p>
</dd>
</dl>
<p>...
</p>

<hr>
<h2 id='word_to_line'>Internal function for converting words to lines</h2><span id='topic+word_to_line'></span>

<h3>Description</h3>

<p>extents the str_wrap() function from the stringr package to work with longer
strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>word_to_line(words, wot_number = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="word_to_line_+3A_words">words</code></td>
<td>
<p>data.frame. Where each row is a separate word words with the
column name text.</p>
</td></tr>
<tr><td><code id="word_to_line_+3A_wot_number">wot_number</code></td>
<td>
<p>Numeric. how many words to split whole string by.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character. have each element be a separate line.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

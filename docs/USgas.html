<!DOCTYPE html><html lang="en"><head><title>Help for package USgas</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {USgas}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#us_monthly'><p>US Monthly Total Natural Gas Consumption</p></a></li>
<li><a href='#us_residential'><p>US Monthly Natural Gas Residential Consumption</p></a></li>
<li><a href='#us_total'><p>US Annual Total Natural Gas Consumption</p></a></li>
<li><a href='#usgas'><p>US Monthly Consumption of Natural Gas by End Use</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>The Demand for Natural Gas in the US</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rami Krispin &lt;rami.krispin@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an overview of the demand for natural gas in the US by state and country level. Data source: US Energy Information Administration <a href="https://www.eia.gov/">https://www.eia.gov/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/RamiKrispin/USgas">https://github.com/RamiKrispin/USgas</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/RamiKrispin/USgas/issues">https://github.com/RamiKrispin/USgas/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, plotly</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-16 06:30:45 UTC; ramikrispin</td>
</tr>
<tr>
<td>Author:</td>
<td>Rami Krispin [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-16 07:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='us_monthly'>US Monthly Total Natural Gas Consumption</h2><span id='topic+us_monthly'></span>

<h3>Description</h3>

<p>The dataset provides information about the total monthly natural gas consumption in the US between 2001 and 2020
</p>
<p>Units: Million Cubic Feet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_monthly
</code></pre>


<h3>Format</h3>

<p>A data.frame with 2 variables.
</p>

<dl>
<dt>date</dt><dd><p>A Date, the month and year of the observation (the day set by default to 1st of the month)</p>
</dd>
<dt>y</dt><dd><p>A numeric, the US monthly total natural gas consumption in a million cubic feet</p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset contains monthly summary of the total demand for natural gas in the US between 2001 and 2020.
</p>


<h3>Source</h3>

<p>US Energy Information Administration (EIA) <a href="https://www.eia.gov/">website</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("us_monthly")

head(us_monthly)

at_x &lt;- seq.Date(from = as.Date("2000-01-01"),
                 to = as.Date("2020-01-01"),
                 by = "5 years")

at_y &lt;- pretty(us_monthly$y)[c(2, 4, 6)]

plot(us_monthly$date, us_monthly$y,
     col = "#1f77b4",
     type = "l",
     frame.plot = FALSE,
     axes = FALSE,
     panel.first = abline(h = at_y, col = "grey80"),
     main = "US Total Natural Gas Consumption",
     xlab = "Source: https://www.eia.gov/",
     ylab = "Million Cubic Feet")



mtext(side =1, text = format(at_x, format = "%Y"), at = at_x,
      col = "grey20", line = 1, cex = 0.8)

mtext(side =2, text = format(at_y, scientific = FALSE), at = at_y,
      col = "grey20", line = 1, cex = 0.8)

</code></pre>

<hr>
<h2 id='us_residential'>US Monthly Natural Gas Residential Consumption</h2><span id='topic+us_residential'></span>

<h3>Description</h3>

<p>The US monthly consumption of natural gas by residential consumers by state and aggregate level between 1989 and 2020
</p>
<p>Units: Million Cubic Feet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_residential
</code></pre>


<h3>Format</h3>

<p>A data.frame with 3 variables.
</p>

<dl>
<dt>date</dt><dd><p>A Date, the month and year of the observation (the day set by default to 1st of the month)</p>
</dd>
<dt>state</dt><dd><p>A character, the US state indicator</p>
</dd>
<dt>y</dt><dd><p>A numeric, the monthly natural gas residential consumption in a million cubic feet</p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset contains monthly summary of the demand for natural gas by residential consumers in the US by state and total aggregate level. The data is available for the state level between January 1989 and September 2020, and for the US level between January 1973 and September 2020.
</p>


<h3>Source</h3>

<p>US Energy Information Administration (EIA) <a href="https://www.eia.gov/">website</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("us_residential")

# Subsetting the total consumption in the US

us_res_total &lt;- us_residential[which(us_residential$state == "U.S."),]

us_res_total &lt;- us_res_total[order(us_res_total$date), ]

head(us_res_total)

at_x &lt;- seq.Date(from = as.Date("1980-01-01"),
                 to = as.Date("2020-01-01"),
                 length.out = 5)

at_y &lt;- pretty(us_res_total$y)[c(2, 4, 6)]

plot(us_res_total$date, us_res_total$y,
     col = "#1f77b4",
     type = "l",
     frame.plot = FALSE,
     axes = FALSE,
     panel.first = abline(h = at_y, col = "grey80"),
     main = "US Natural Gas Residential Consumption",
     xlab = "Source: https://www.eia.gov/",
     ylab = "Million Cubic Feet")



mtext(side =1, text = format(at_x, format = "%Y %b"), at = at_x,
      col = "grey20", line = 1, cex = 0.8)

mtext(side =2, text = format(at_y, scientific = FALSE), at = at_y,
      col = "grey20", line = 1, cex = 0.8)

### Plotting the west cost consumption
# Subsetting the west cost states
wc_gas &lt;- us_residential[which(us_residential$state %in%
                             c("Alaska", "California",
                               "Oregon", "Washington")),]

# Reshape to wide
wc_wide &lt;- reshape(wc_gas, v.names = "y", idvar = "date",
                   timevar = "state", direction = "wide")

names(wc_wide) &lt;- c("date","Alaska", "California",
                    "Oregon", "Washington")
# Reorder the data
wc_wide &lt;- wc_wide[order(wc_wide$date), ]

# Set the plot y and x axis ticks
at_x &lt;- seq.Date(from = as.Date("1990-01-01"),
                 to = as.Date("2020-01-01"),
                 length.out = 4)

at_y &lt;- pretty(wc_gas$y)[c(2, 4, 6)]

# plot the first series
plot(wc_wide$date, wc_wide$Alaska,
     type = "l",
     frame.plot = FALSE,
     axes = FALSE,
     panel.first = abline(h = c(at_y), col = "grey80"),
     main = "West Cost Natural Gas Residential Consumption",
     cex.main = 1, font.main = 1, col.main = "black",
     xlab = "Source: https://www.eia.gov/",
     font.axis = 1, cex.lab= 0.7,
     ylab = "Million Cubic Feet",
     ylim = c(min(wc_gas$y, na.rm = TRUE), max(wc_gas$y, na.rm = TRUE)))

# Add the 3 other series
lines(wc_wide$date, wc_wide$California, col = "#1f77b4")
lines(wc_wide$date, wc_wide$Oregon, col = "#457b9d")
lines(wc_wide$date, wc_wide$Washington, col = "#ef476f")

# Add the y and x axis ticks
mtext(side =1, text = format(at_x, format = "%Y %b"), at = at_x,
      col = "grey20", line = 1, cex = 0.8)

mtext(side =2, text = format(at_y, scientific = FALSE), at = at_y,
      col = "grey20", line = 1, cex = 0.8)

text(tail(wc_wide$date, 10)[1],
     max(wc_gas$y, na.rm = TRUE),
     "California",
     col = "#1f77b4",
     cex = 0.6)

text(tail(wc_wide$date, 10)[1],
     max(wc_gas$y, na.rm = TRUE) - 5000,
     "Washington",
     col = "#ef476f",
     cex = 0.6)

text(tail(wc_wide$date, 10)[1],
     max(wc_gas$y, na.rm = TRUE) - 10000,
     "Oregon",
     col = "#457b9d",
     cex = 0.6)

text(tail(wc_wide$date, 10)[1],
     max(wc_gas$y, na.rm = TRUE) - 15000,
     "Alaska",
     col = "black",
     cex = 0.6)
</code></pre>

<hr>
<h2 id='us_total'>US Annual Total Natural Gas Consumption</h2><span id='topic+us_total'></span>

<h3>Description</h3>

<p>The dataset provides information on the US annual natural gas consumption by state level between 1997 and 2019, and aggregate level between 1949 and 2019
</p>
<p>Units: Million Cubic Feet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_total
</code></pre>


<h3>Format</h3>

<p>A data.frame with 3 variables.
</p>

<dl>
<dt>year</dt><dd><p>An integer, the year of the observation</p>
</dd>
<dt>state</dt><dd><p>A character, the US state indicator</p>
</dd>
<dt>y</dt><dd><p>A numeric, the yearly total natural gas consumption in a million cubic feet by state or US aggregate</p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset contains a summary of the total annual demand for natural gas in the US by state and total aggregate level. The data is available for the state level between 1997 and 2019, and for the US level between 1949 and 2019.
</p>


<h3>Source</h3>

<p>US Energy Information Administration (EIA) <a href="https://www.eia.gov/">website</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("us_total")

# Subsetting the total consumption in the US
us_agg &lt;- us_total[which(us_total$state == "U.S."),]

us_agg &lt;- us_agg[order(us_agg$year), ]

head(us_agg)

at_x &lt;- seq(from = 1950,
            to = 2020,
            by = 10)

at_y &lt;- pretty(us_agg$y)[c(3, 5, 7)]

plot(us_agg$year, us_agg$y,
     col = "#1f77b4",
     type = "l",
     frame.plot = FALSE,
     axes = FALSE,
     panel.first = abline(h = at_y, col = "grey80"),
     main = "US Total Natural Gas Consumption",
     xlab = "Source: https://www.eia.gov/",
     ylab = "Million Cubic Feet")



mtext(side =1, text = format(at_x,  nsmall=0), at = at_x,
      col = "grey20", line = 1, cex = 0.8)

mtext(side =2, text = format(at_y, scientific = FALSE), at = at_y,
      col = "grey20", line = 1, cex = 0.8)

### Plotting the annual consumption in New England states
# Subsetting the New England states
ne &lt;- c("Connecticut", "Maine", "Massachusetts",
        "New Hampshire", "Rhode Island", "Vermont")
ne_gas &lt;-  us_total[which(us_total$state %in% ne),]

# Reshape to wide
ne_wide &lt;- reshape(ne_gas, v.names = "y", idvar = "year",
                   timevar = "state", direction = "wide")

names(ne_wide) &lt;- c("year",ne)
# Reorder the data
ne_wide &lt;- ne_wide[order(ne_wide$year), ]

# Set the plot y and x axis ticks
at_x &lt;- seq(from = 2000,
            to = 2020,
            by = 5)

at_y &lt;- pretty(ne_gas$y)[c(2, 4, 6)]

# plot the first series
plot(ne_wide$year, ne_wide$Connecticut,
     type = "l",
     col = "#073b4c",
     frame.plot = FALSE,
     axes = FALSE,
     panel.first = abline(h = c(at_y), col = "grey80"),
     main = "New England Annual Natural Gas Consumption by State",
     cex.main = 1, font.main = 1, col.main = "black",
     xlab = "Source: https://www.eia.gov/",
     font.axis = 1, cex.lab= 0.7,
     ylab = "Million Cubic Feet",
     ylim = c(min(ne_gas$y, na.rm = TRUE), max(ne_gas$y, na.rm = TRUE)),
     xlim = c(min(ne_gas$year), max(ne_gas$year) + 3))

# Add the 5 other series
lines(ne_wide$year, ne_wide$Maine, col = "#1f77b4")
lines(ne_wide$year, ne_wide$Massachusetts, col = "#118ab2")
lines(ne_wide$year, ne_wide$`New Hampshire`, col = "#06d6a0")
lines(ne_wide$year, ne_wide$`Rhode Island`, col = "#ffd166")
lines(ne_wide$year, ne_wide$Vermont, col = "#ef476f")

# Add the y and x axis ticks
mtext(side =1, text = format(at_x, nsmall=0), at = at_x,
      col = "grey20", line = 1, cex = 0.8)

mtext(side =2, text = format(at_y, scientific = FALSE), at = at_y,
      col = "grey20", line = 1, cex = 0.8)


text(max(ne_wide$year) + 2,
     tail(ne_wide$Connecticut,1),
     "Connecticut",
     col = "#073b4c",
     cex = 0.7)

text(max(ne_wide$year) + 2,
     tail(ne_wide$Maine,1) * 0.95,
     "Maine",
     col = "#1f77b4",
     cex = 0.7)

text(max(ne_wide$year) + 2,
     tail(ne_wide$Massachusetts,1),
     "Massachusetts",
     col = "#118ab2",
     cex = 0.7)

text(max(ne_wide$year) + 2,
     tail(ne_wide$`New Hampshire`,1) * 1.1,
     "New Hampshire",
     col = "#06d6a0",
     cex = 0.7)

text(max(ne_wide$year) + 2,
     tail(ne_wide$`Rhode Island`,1) * 1.05,
     "Rhode Island",
     col = "#ffd166",
     cex = 0.7)

text(max(ne_wide$year) + 2,
     tail(ne_wide$Vermont,1),
     "Vermont",
     col = "#ef476f",
     cex = 0.7)
</code></pre>

<hr>
<h2 id='usgas'>US Monthly Consumption of Natural Gas by End Use</h2><span id='topic+usgas'></span>

<h3>Description</h3>

<p>The US monthly consumption of natural gas by end-use and state between 1973 (US aggregate, state level since 1989) and 2022.
</p>
<p>Units: Million Cubic Feet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>usgas
</code></pre>


<h3>Format</h3>

<p>A data.frame with 6 variables.
</p>

<dl>
<dt>date</dt><dd><p>A Date, the month and year of the observation (the day set by default to 1st of the month)</p>
</dd>
<dt>process</dt><dd><p>The process type description</p>
</dd>
<dt>state</dt><dd><p>The US state name</p>
</dd>
<dt>state_abb</dt><dd><p>the US state abbreviation</p>
</dd>
<dt>y</dt><dd><p>A numeric, the monthly natural gas residential consumption in a million cubic feet</p>
</dd>
</dl>



<h3>Details</h3>

<p>The dataset contains monthly summary of the consumption of natural gas
by end-use in the US by state and total aggregate level. The data is available
for the state level between January 1989 and December 2022, and for the US level
between January 1973 and Dec 2022. It includes the following end-use categories:
</p>
<p>- Commercial Consumption
- Delivered to Consumers
- Electric Power Consumption
- Industrial Consumption
- Lease and Plant Fuel Consumption
- Pipeline Fuel Consumption
- Residential Consumption
- Vehicle Fuel Consumption
</p>


<h3>Source</h3>

<p>US Energy Information Administration (EIA) <a href="https://www.eia.gov/">website</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(plotly)

data("usgas")

head(usgas)

# Plot the US consumption

us_df &lt;- usgas[which(usgas$state == "U.S."), ]

plot_ly(data = us_df,
        x = ~ date,
        y = ~ y,
        color = ~ process,
        type = "scatter",
        mode = "line") |&gt;
  layout(title = "US Monthly Consumption by End Use",
         yaxis = list(title = "MMCF"),
         xaxis = list(title = "Source: EIA Website"),
         legend = list(x = 0, y = 1.05),
         margin = list(l = 50, r = 50, b = 70, t = 60))


# Plot the California consumption

ca_df &lt;- usgas[which(usgas$state == "California"), ]

plot_ly(data = ca_df,
        x = ~ date,
        y = ~ y,
        color = ~ process,
        type = "scatter",
        mode = "line") |&gt;
  layout(title = "California Monthly Consumption by End Use",
         yaxis = list(title = "MMCF"),
         xaxis = list(title = "Source: EIA Website"),
         legend = list(x = 0, y = 1.05),
         margin = list(l = 50, r = 50, b = 70, t = 60))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

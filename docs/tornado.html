<!DOCTYPE html><html><head><title>Help for package tornado</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tornado}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#importance'><p>Generic Importance Plot</p></a></li>
<li><a href='#importance.cv.glmnet'><p>Plot Variable Importance for a GLMNET model</p></a></li>
<li><a href='#importance.glm'><p>GLM variable importance plot</p></a></li>
<li><a href='#importance.lm'><p>Linear Model variable importance plot</p></a></li>
<li><a href='#importance.survreg'><p>Create a variable importance plot for a survreg model</p></a></li>
<li><a href='#importance.train'><p>Importance Plot for the caret::train objects</p></a></li>
<li><a href='#plot.importance_plot'><p>Plot an Importance Plot object</p></a></li>
<li><a href='#plot.tornado_plot'><p>Plot a Tornado Plot object</p></a></li>
<li><a href='#print.importance_plot'><p>print data in an <code>importance_plot</code></p></a></li>
<li><a href='#print.tornado_plot'><p>print data in a <code>tornado_plot</code></p></a></li>
<li><a href='#quantile.ordered'><p>Quantile for Ordered Factors</p></a></li>
<li><a href='#tornado'><p>Generic tornado plotting method</p></a></li>
<li><a href='#tornado.coxph'><p>Cox Proportional Hazards Tornado Diagram</p></a></li>
<li><a href='#tornado.cv.glmnet'><p>GLMNET Tornado Diagram</p></a></li>
<li><a href='#tornado.glm'><p>GLM Tornado Diagram</p></a></li>
<li><a href='#tornado.lm'><p>Linear Model Tornado Diagram</p></a></li>
<li><a href='#tornado.survreg'><p>Survreg Tornado Diagram</p></a></li>
<li><a href='#tornado.train'><p>Caret Tornado Diagram</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Plots for Model Sensitivity and Variable Importance</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Draws tornado plots for model sensitivity to univariate changes.  Implements methods for many modeling methods including linear models, generalized linear models, survival regression models, and arbitrary machine learning models in the caret package.  Also draws variable importance plots.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, caret, glmnet, randomForest, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>Imports:</td>
<td>survival, assertthat, ggplot2, scales, grid, gridExtra, rlang</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/bertcarnell/tornado">https://github.com/bertcarnell/tornado</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bertcarnell/tornado/issues">https://github.com/bertcarnell/tornado/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-20 02:33:21 UTC; bertc</td>
</tr>
<tr>
<td>Author:</td>
<td>Rob Carnell [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rob Carnell &lt;bertcarnell@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-21 17:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='importance'>Generic Importance Plot</h2><span id='topic+importance'></span>

<h3>Description</h3>

<p>Generic Importance Plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>importance(model_final, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importance_+3A_model_final">model_final</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="importance_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of type <code>importance_plot</code>
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of importance plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the importance data required for the plot</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+importance.glm">importance.glm</a></code> <code><a href="#topic+importance.lm">importance.lm</a></code> <code><a href="#topic+importance.cv.glmnet">importance.cv.glmnet</a></code> <code><a href="#topic+importance.survreg">importance.survreg</a></code>
</p>

<hr>
<h2 id='importance.cv.glmnet'>Plot Variable Importance for a GLMNET model</h2><span id='topic+importance.cv.glmnet'></span>

<h3>Description</h3>

<p>Plot Variable Importance for a GLMNET model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.glmnet'
importance(model_final, model_data, form, dict = NA, nperm = 500, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importance.cv.glmnet_+3A_model_final">model_final</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="importance.cv.glmnet_+3A_model_data">model_data</code></td>
<td>
<p>the data used to fit the model</p>
</td></tr>
<tr><td><code id="importance.cv.glmnet_+3A_form">form</code></td>
<td>
<p>the model formula</p>
</td></tr>
<tr><td><code id="importance.cv.glmnet_+3A_dict">dict</code></td>
<td>
<p>a variable dictionary for plotting</p>
</td></tr>
<tr><td><code id="importance.cv.glmnet_+3A_nperm">nperm</code></td>
<td>
<p>the number of permutations used to calculate the importance</p>
</td></tr>
<tr><td><code id="importance.cv.glmnet_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of type <code>importance_plot</code>
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of importance plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the importance data required for the plot</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+importance">importance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("glmnet", quietly = TRUE))
{
  form &lt;- formula(mpg ~ cyl*wt*hp)
  mf &lt;- model.frame(form, data = mtcars)
  mm &lt;- model.matrix(mf, mf)
  gtest &lt;- glmnet::cv.glmnet(x = mm, y = mtcars$mpg, family = "gaussian")
  imp &lt;- importance(gtest, mtcars, form, nperm = 50)
  plot(imp)
}
</code></pre>

<hr>
<h2 id='importance.glm'>GLM variable importance plot</h2><span id='topic+importance.glm'></span>

<h3>Description</h3>

<p>GLM variable importance plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glm'
importance(model_final, model_null, dict = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importance.glm_+3A_model_final">model_final</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="importance.glm_+3A_model_null">model_null</code></td>
<td>
<p>a glm object for the null model</p>
</td></tr>
<tr><td><code id="importance.glm_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate the model variables to plotting variables</p>
</td></tr>
<tr><td><code id="importance.glm_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of type <code>importance_plot</code>
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of importance plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the importance data required for the plot</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+importance">importance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- glm(mpg ~ cyl*wt*hp + gear + carb, data=mtcars, family=gaussian)
gtestreduced &lt;- glm(mpg ~ 1, data=mtcars, family=gaussian)
imp &lt;- importance(gtest, gtestreduced)
plot(imp)

gtest &lt;- glm(mpg ~ cyl + wt + hp + gear + carb, data=mtcars, family=gaussian)
gtestreduced &lt;- glm(mpg ~ 1, data=mtcars, family=gaussian)
imp &lt;- importance(gtest, gtestreduced)
plot(imp)

gtest &lt;- glm(vs ~ wt + disp + gear, data=mtcars, family=binomial(link="logit"))
gtestreduced &lt;- glm(vs ~ 1, data=mtcars, family=binomial(link="logit"))
imp &lt;- importance(gtest, gtestreduced)
plot(imp)
</code></pre>

<hr>
<h2 id='importance.lm'>Linear Model variable importance plot</h2><span id='topic+importance.lm'></span>

<h3>Description</h3>

<p>Linear Model variable importance plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm'
importance(model_final, model_null, dict = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importance.lm_+3A_model_final">model_final</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="importance.lm_+3A_model_null">model_null</code></td>
<td>
<p>a <code>lm</code> object for the null model</p>
</td></tr>
<tr><td><code id="importance.lm_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate the model variables to plotting variables</p>
</td></tr>
<tr><td><code id="importance.lm_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of type <code>importance_plot</code>
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of importance plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the importance data required for the plot</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+importance">importance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- lm(mpg ~ cyl*wt*hp + gear + carb, data=mtcars)
gtestreduced &lt;- lm(mpg ~ 1, data=mtcars)
imp &lt;- importance(gtest, gtestreduced)
plot(imp)

gtest &lt;- lm(mpg ~ cyl + wt + hp + gear + carb, data=mtcars)
gtestreduced &lt;- lm(mpg ~ 1, data=mtcars)
imp &lt;- importance(gtest, gtestreduced)
plot(imp)
</code></pre>

<hr>
<h2 id='importance.survreg'>Create a variable importance plot for a survreg model</h2><span id='topic+importance.survreg'></span>

<h3>Description</h3>

<p>Create a variable importance plot for a survreg model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survreg'
importance(model_final, model_data, dict = NA, nperm = 500, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importance.survreg_+3A_model_final">model_final</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="importance.survreg_+3A_model_data">model_data</code></td>
<td>
<p>the data used to fit the model</p>
</td></tr>
<tr><td><code id="importance.survreg_+3A_dict">dict</code></td>
<td>
<p>a plotting dictionary for models terms</p>
</td></tr>
<tr><td><code id="importance.survreg_+3A_nperm">nperm</code></td>
<td>
<p>the number of permutations used to calculate the importance</p>
</td></tr>
<tr><td><code id="importance.survreg_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of type <code>importance_plot</code>
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of importance plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the importance data required for the plot</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+importance">importance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>model_final &lt;- survival::survreg(survival::Surv(futime, fustat) ~ ecog.ps*rx + age,
                       data = survival::ovarian,
                       dist = "weibull")
imp &lt;- importance(model_final, survival::ovarian, nperm = 50)
plot(imp)
</code></pre>

<hr>
<h2 id='importance.train'>Importance Plot for the caret::train objects</h2><span id='topic+importance.train'></span>

<h3>Description</h3>

<p>Importance Plot for the caret::train objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'train'
importance(model_final, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="importance.train_+3A_model_final">model_final</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="importance.train_+3A_...">...</code></td>
<td>
<p>arguments passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of type <code>importance_plot</code>
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of importance plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the importance data required for the plot</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+importance">importance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("caret", quietly = TRUE) &amp;
    requireNamespace("randomForest", quietly = TRUE))
{
  model_final &lt;- caret::train(x = subset(mtcars, select = -mpg), y = mtcars$mpg, method = "rf")
  imp &lt;- importance(model_final)
  plot(imp)
}
</code></pre>

<hr>
<h2 id='plot.importance_plot'>Plot an Importance Plot object</h2><span id='topic+plot.importance_plot'></span>

<h3>Description</h3>

<p>Plot an Importance Plot object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'importance_plot'
plot(
  x,
  plot = TRUE,
  nvar = NA,
  col_imp_alone = "#69BE28",
  col_imp_cumulative = "#427730",
  geom_bar_control = list(fill = "#69BE28"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.importance_plot_+3A_x">x</code></td>
<td>
<p>a <code>importance_plot</code> object</p>
</td></tr>
<tr><td><code id="plot.importance_plot_+3A_plot">plot</code></td>
<td>
<p>boolean to determine if the plot is displayed, or just returned</p>
</td></tr>
<tr><td><code id="plot.importance_plot_+3A_nvar">nvar</code></td>
<td>
<p>the number of variables to plot in order of importance</p>
</td></tr>
<tr><td><code id="plot.importance_plot_+3A_col_imp_alone">col_imp_alone</code></td>
<td>
<p>the color used for the variance explained by each variable
alone</p>
</td></tr>
<tr><td><code id="plot.importance_plot_+3A_col_imp_cumulative">col_imp_cumulative</code></td>
<td>
<p>the color used for the cumulative variance explained</p>
</td></tr>
<tr><td><code id="plot.importance_plot_+3A_geom_bar_control">geom_bar_control</code></td>
<td>
<p>list of arguments to control the plotting of <code>ggplot2::geom_bar</code></p>
</td></tr>
<tr><td><code id="plot.importance_plot_+3A_...">...</code></td>
<td>
<p>future arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- lm(mpg ~ cyl + wt + hp + gear + carb, data = mtcars)
gtestreduced &lt;- lm(mpg ~ 1, data = mtcars)
imp &lt;- importance(gtest, gtestreduced)
plot(imp)

gtest &lt;- survival::survreg(survival::Surv(futime, fustat) ~ ecog.ps*rx + age,
                           data = survival::ovarian,
                           dist = "weibull")
imp &lt;- importance(gtest, survival::ovarian, nperm = 50)
plot(imp)
</code></pre>

<hr>
<h2 id='plot.tornado_plot'>Plot a Tornado Plot object</h2><span id='topic+plot.tornado_plot'></span>

<h3>Description</h3>

<p>Plot a Tornado Plot object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tornado_plot'
plot(
  x,
  plot = TRUE,
  nvar = NA,
  xlabel = "Model Response",
  sensitivity_colors = c("grey", "#69BE28"),
  geom_bar_control = list(width = NULL),
  geom_point_control = list(fill = "black", col = "black"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.tornado_plot_+3A_x">x</code></td>
<td>
<p>a <code>tornado_plot</code> object</p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_plot">plot</code></td>
<td>
<p>boolean to determine if the plot is displayed, or just returned</p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_nvar">nvar</code></td>
<td>
<p>the number of variables to plot</p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_xlabel">xlabel</code></td>
<td>
<p>a label for the x-axis</p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_sensitivity_colors">sensitivity_colors</code></td>
<td>
<p>a two element character vector of the bar colors for a
lower value and upper value</p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_geom_bar_control">geom_bar_control</code></td>
<td>
<p>a list of <code>ggplot2::geom_bar</code> options</p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_geom_point_control">geom_point_control</code></td>
<td>
<p>a list of <code>ggplot2::geom_point</code></p>
</td></tr>
<tr><td><code id="plot.tornado_plot_+3A_...">...</code></td>
<td>
<p>future arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- lm(mpg ~ cyl*wt*hp, data = mtcars)
tp &lt;- tornado(gtest, type = "PercentChange", alpha = 0.10, xlabel = "MPG")
plot(tp)
</code></pre>

<hr>
<h2 id='print.importance_plot'>print data in an <code>importance_plot</code></h2><span id='topic+print.importance_plot'></span>

<h3>Description</h3>

<p>print data in an <code>importance_plot</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'importance_plot'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.importance_plot_+3A_x">x</code></td>
<td>
<p>the object to be printed</p>
</td></tr>
<tr><td><code id="print.importance_plot_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code>print.data.frame</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- glm(vs ~ wt + disp + gear, data=mtcars, family=binomial(link="logit"))
gtestreduced &lt;- glm(vs ~ 1, data=mtcars, family=binomial(link="logit"))
g &lt;- importance(gtest, gtestreduced)
print(g)
</code></pre>

<hr>
<h2 id='print.tornado_plot'>print data in a <code>tornado_plot</code></h2><span id='topic+print.tornado_plot'></span>

<h3>Description</h3>

<p>print data in a <code>tornado_plot</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tornado_plot'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.tornado_plot_+3A_x">x</code></td>
<td>
<p>the object to be printed</p>
</td></tr>
<tr><td><code id="print.tornado_plot_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code>print.data.frame</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- lm(mpg ~ cyl*wt*hp, data = mtcars)
tp &lt;- tornado(gtest, type = "PercentChange", alpha = 0.10, xlabel = "MPG")
print(tp)
</code></pre>

<hr>
<h2 id='quantile.ordered'>Quantile for Ordered Factors</h2><span id='topic+quantile.ordered'></span>

<h3>Description</h3>

<p>Quantile for Ordered Factors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ordered'
quantile(x, probs = seq(0, 1, 0.25), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="quantile.ordered_+3A_x">x</code></td>
<td>
<p>an ordered factor</p>
</td></tr>
<tr><td><code id="quantile.ordered_+3A_probs">probs</code></td>
<td>
<p>the desired quatiles</p>
</td></tr>
<tr><td><code id="quantile.ordered_+3A_...">...</code></td>
<td>
<p>arugments passed on</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ordered factor levels at the desired quantiles
</p>


<h3>Examples</h3>

<pre><code class='language-R'>quantile(ordered(rep(c("C","B","A"), each=30), levels=c("C","B","A")),
         probs &lt;- seq(0, 1, 0.25))
</code></pre>

<hr>
<h2 id='tornado'>Generic tornado plotting method</h2><span id='topic+tornado'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tornado(model, type, alpha, dict, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tornado.lm">tornado.lm</a></code>, <code><a href="#topic+tornado.glm">tornado.glm</a></code>, <code><a href="#topic+tornado.cv.glmnet">tornado.cv.glmnet</a></code>, <code><a href="#topic+tornado.survreg">tornado.survreg</a></code>, <code><a href="#topic+tornado.coxph">tornado.coxph</a></code>, <code><a href="#topic+tornado.train">tornado.train</a></code>
</p>

<hr>
<h2 id='tornado.coxph'>Cox Proportional Hazards Tornado Diagram</h2><span id='topic+tornado.coxph'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'coxph'
tornado(model, type = "PercentChange", alpha = 0.1, dict = NA, modeldata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado.coxph_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado.coxph_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado.coxph_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado.coxph_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado.coxph_+3A_modeldata">modeldata</code></td>
<td>
<p>the data used to fit the model</p>
</td></tr>
<tr><td><code id="tornado.coxph_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- survival::coxph(survival::Surv(stop, event) ~ rx + size + number,
                           survival::bladder)
torn &lt;- tornado(gtest, modeldata = survival::bladder, type = "PercentChange",
             alpha = 0.10)
plot(torn, xlabel = "Risk")
</code></pre>

<hr>
<h2 id='tornado.cv.glmnet'>GLMNET Tornado Diagram</h2><span id='topic+tornado.cv.glmnet'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'cv.glmnet'
tornado(
  model,
  type = "PercentChange",
  alpha = 0.1,
  dict = NA,
  modeldata,
  form,
  s = "lambda.1se",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado.cv.glmnet_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_modeldata">modeldata</code></td>
<td>
<p>the raw data used to fit the glmnet model</p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_form">form</code></td>
<td>
<p>the model formula</p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_s">s</code></td>
<td>
<p>Value(s) of the penalty parameter <code>lambda</code> at which predictions are required. Default is the value <code>s="lambda.1se"</code> stored on the CV object. Alternatively <code>s="lambda.min"</code> can be used. If s is numeric, it is taken as the value(s) of <code>lambda</code> to be used.</p>
</td></tr>
<tr><td><code id="tornado.cv.glmnet_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tornado">tornado</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("glmnet", quietly = TRUE))
{
  form &lt;- formula(mpg ~ cyl*wt*hp)
  mf &lt;- model.frame(form, data = mtcars)
  mm &lt;- model.matrix(form, data = mf)
  gtest &lt;- glmnet::cv.glmnet(x = mm, y= mtcars$mpg, family = "gaussian")
  torn &lt;- tornado(gtest, modeldata = mtcars, form = formula(mpg ~ cyl*wt*hp), s = "lambda.1se",
                  type = "PercentChange", alpha = 0.10)
  plot(torn, xlabel = "MPG")
}
</code></pre>

<hr>
<h2 id='tornado.glm'>GLM Tornado Diagram</h2><span id='topic+tornado.glm'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'glm'
tornado(model, type = "PercentChange", alpha = 0.1, dict = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado.glm_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado.glm_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado.glm_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado.glm_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado.glm_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tornado">tornado</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- glm(mpg ~ cyl*wt*hp, data = mtcars, family = gaussian)
torn &lt;- tornado(gtest, type = "PercentChange", alpha = 0.10)
plot(torn, xlabel = "MPG")
</code></pre>

<hr>
<h2 id='tornado.lm'>Linear Model Tornado Diagram</h2><span id='topic+tornado.lm'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm'
tornado(model, type = "PercentChange", alpha = 0.1, dict = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado.lm_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado.lm_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado.lm_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado.lm_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado.lm_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tornado">tornado</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- lm(mpg ~ cyl*wt*hp, data = mtcars)
torn &lt;- tornado(gtest, type = "PercentChange", alpha = 0.10)
plot(torn, xlabel = "MPG")
</code></pre>

<hr>
<h2 id='tornado.survreg'>Survreg Tornado Diagram</h2><span id='topic+tornado.survreg'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'survreg'
tornado(model, type = "PercentChange", alpha = 0.1, dict = NA, modeldata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado.survreg_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado.survreg_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado.survreg_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado.survreg_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado.survreg_+3A_modeldata">modeldata</code></td>
<td>
<p>the data used to fit the model</p>
</td></tr>
<tr><td><code id="tornado.survreg_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tornado">tornado</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gtest &lt;- survival::survreg(survival::Surv(futime, fustat) ~ ecog.ps + rx,
                           survival::ovarian,
                           dist='weibull', scale=1)
torn &lt;- tornado(gtest, modeldata = survival::ovarian, type = "PercentChange",
             alpha = 0.10, xlabel = "futime")
plot(torn, xlabel = "Survival Time")
</code></pre>

<hr>
<h2 id='tornado.train'>Caret Tornado Diagram</h2><span id='topic+tornado.train'></span>

<h3>Description</h3>

<p>A tornado plot is a visualization of the range of outputs expected
from a variety of inputs, or alternatively, the sensitivity of the output to the
range of inputs.  The center of the tornado is plotted at the response
expected from the mean of each input variable.  For a given variable, the width
of the tornado is determined by the range of the variable, a multiplicative factor
of the variable, or a quantile of the variable.  Variables are ordered vertically
with the widest bar at the top and narrowest at the bottom.  Only one variable
is moved from its mean value at a time.  Factors or categorical variables have also
been added to these plots by plotting dots at the resulting output as each
factor is varied through all of its levels.  The base factor level is chosen
as the input variable for the center of the tornado.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'train'
tornado(
  model,
  type = "PercentChange",
  alpha = 0.1,
  dict = NA,
  class_number = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tornado.train_+3A_model">model</code></td>
<td>
<p>a model object</p>
</td></tr>
<tr><td><code id="tornado.train_+3A_type">type</code></td>
<td>
<p><code>PercentChange</code>, <code>percentiles</code>, <code>ranges</code>, or <code>StdDev</code></p>
</td></tr>
<tr><td><code id="tornado.train_+3A_alpha">alpha</code></td>
<td>
<p>the level of change, the percentile level, or the number of standard deviations</p>
</td></tr>
<tr><td><code id="tornado.train_+3A_dict">dict</code></td>
<td>
<p>a dictionary to translate variables for the plot.  The dictionary
must be a list or data.frame with elements <code>old</code> and <code>new</code>.  The
<code>old</code> element must contain each variable in the model.</p>
</td></tr>
<tr><td><code id="tornado.train_+3A_class_number">class_number</code></td>
<td>
<p>for classification models, which number of the class that
will be plotted</p>
</td></tr>
<tr><td><code id="tornado.train_+3A_...">...</code></td>
<td>
<p>further arguments, not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>tornado_plot</code> object
</p>
<table>
<tr><td><code>type</code></td>
<td>
<p>the type of tornado plot</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the data required for the plot</p>
</td></tr>
<tr><td><code>family</code></td>
<td>
<p>the model family if available</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+tornado">tornado</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("caret", quietly = TRUE) &amp;
    requireNamespace("randomForest", quietly = TRUE))
{
  gtest &lt;- caret::train(x = subset(mtcars, select = -mpg), y = mtcars$mpg, method = "rf")
  torn &lt;- tornado(gtest, type = "PercentChange", alpha = 0.10)
  plot(torn, xlabel = "MPG")
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

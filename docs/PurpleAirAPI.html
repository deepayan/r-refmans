<!DOCTYPE html><html lang="en"><head><title>Help for package PurpleAirAPI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PurpleAirAPI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#getPurpleairSensors'><p>getPurpleairSensors</p></a></li>
<li><a href='#getSensorHistory'><p>getSensorHistory</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Historical Data Retrieval from 'PurpleAir' Sensors via API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for retrieving and analyzing air quality data
    from 'PurpleAir' sensors through their API. Functions enable downloading
    historical measurements, accessing sensor metadata, and managing API
    request limitations through chunked data retrieval. For more information 
    about the 'PurpleAir' API, see <a href="https://api.purpleair.com/">https://api.purpleair.com/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/heba-razzak/PurpleAirAPI">https://github.com/heba-razzak/PurpleAirAPI</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>httr, jsonlite</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-25 05:10:58 UTC; heba</td>
</tr>
<tr>
<td>Author:</td>
<td>Heba Abdelrazzak [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Heba Abdelrazzak &lt;hebaarazzak@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-26 12:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='getPurpleairSensors'>getPurpleairSensors</h2><span id='topic+getPurpleairSensors'></span>

<h3>Description</h3>

<p>Retrieves data from PurpleAir sensors based on specified fields.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getPurpleairSensors(
  apiReadKey = NULL,
  fields = c("latitude", "longitude", "date_created", "last_seen")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getPurpleairSensors_+3A_apireadkey">apiReadKey</code></td>
<td>
<p>API key for accessing the PurpleAir API.</p>
</td></tr>
<tr><td><code id="getPurpleairSensors_+3A_fields">fields</code></td>
<td>
<p>Vector specifying the fields to retrieve from PurpleAir API.
</p>
<p>Default: c(&quot;latitude&quot;, &quot;longitude&quot;, &quot;date_created&quot;, &quot;last_seen&quot;)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available fields:</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>Station Information and Status</code> </td><td style="text-align: left;"> name, icon, model,
   hardware, location_type, private, latitude, longitude, altitude,
    position_rating, led_brightness, firmware_version, firmware_upgrade,
     rssi, uptime, pa_latency, memory, last_seen, last_modified, 
     date_created, channel_state, channel_flags, channel_flags_manual,
      channel_flags_auto, confidence, confidence_manual, confidence_auto </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Environmental</code> </td><td style="text-align: left;"> humidity, humidity_a, humidity_b,
   temperature, temperature_a, temperature_b, pressure, pressure_a,
    pressure_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Miscellaneous</code> </td><td style="text-align: left;"> voc, voc_a, voc_b, ozone1,
   analog_input </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>PM1.0</code> </td><td style="text-align: left;"> pm1.0, pm1.0_a, pm1.0_b, pm1.0_atm, 
  pm1.0_atm_a, pm1.0_atm_b, pm1.0_cf_1, pm1.0_cf_1_a, pm1.0_cf_1_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>PM2.5</code> </td><td style="text-align: left;"> pm2.5_alt, pm2.5_alt_a, pm2.5_alt_b,
   pm2.5, pm2.5_a, pm2.5_b, pm2.5_atm, pm2.5_atm_a, pm2.5_atm_b,
    pm2.5_cf_1, pm2.5_cf_1_a, pm2.5_cf_1_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Visibility</code> </td><td style="text-align: left;"> scattering_coefficient,
   scattering_coefficient_a, scattering_coefficient_b, deciviews, 
   deciviews_a, deciviews_b, visual_range, visual_range_a, visual_range_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Particle Count</code> </td><td style="text-align: left;"> 0.3_um_count, 0.3_um_count_a,
   0.3_um_count_b, 0.5_um_count, 0.5_um_count_a, 0.5_um_count_b,
    1.0_um_count, 1.0_um_count_a, 1.0_um_count_b, 2.5_um_count,
     2.5_um_count_a, 2.5_um_count_b, 5.0_um_count, 5.0_um_count_a,
      5.0_um_count_b, 10.0_um_count, 10.0_um_count_a, 10.0_um_count_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>ThingSpeak</code> </td><td style="text-align: left;"> primary_id_a, primary_key_a,
   secondary_id_a, secondary_key_a, primary_id_b, primary_key_b,
    secondary_id_b, secondary_key_b </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>A data frame containing the required fields for all PurpleAir sensors
</p>


<h3>References</h3>

<p>For more details on the available fields, see the PurpleAir API 
documentation:
<a href="https://api.purpleair.com/#api-sensors-get-sensors-data">https://api.purpleair.com/#api-sensors-get-sensors-data</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Get sensor data with default fields
sensors &lt;- getPurpleairSensors(apiReadKey = "YOUR_API_KEY")

# Get sensor data with custom fields
sensors &lt;- getPurpleairSensors(
  apiReadKey = "YOUR_API_KEY",
  fields = c("latitude", "longitude", "date_created", "last_seen",
   "location_type")
)

## End(Not run)

</code></pre>

<hr>
<h2 id='getSensorHistory'>getSensorHistory</h2><span id='topic+getSensorHistory'></span>

<h3>Description</h3>

<p>Download historical data for PurpleAir sensors using API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSensorHistory(
  sensorIndex = NULL,
  apiReadKey = NULL,
  startDate = NULL,
  endDate = NULL,
  average = NULL,
  fields = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSensorHistory_+3A_sensorindex">sensorIndex</code></td>
<td>
<p>PurpleAir sensor's index.</p>
</td></tr>
<tr><td><code id="getSensorHistory_+3A_apireadkey">apiReadKey</code></td>
<td>
<p>PurpleAir API read key.</p>
</td></tr>
<tr><td><code id="getSensorHistory_+3A_startdate">startDate</code></td>
<td>
<p>Date of the first required history entry.</p>
</td></tr>
<tr><td><code id="getSensorHistory_+3A_enddate">endDate</code></td>
<td>
<p>Date of the history to return. Uses end of date specified.</p>
</td></tr>
<tr><td><code id="getSensorHistory_+3A_average">average</code></td>
<td>
<p>The desired average in minutes: 0, 10, 30, 60, 360, 1440, 
10080, 43200, 525600</p>
</td></tr>
<tr><td><code id="getSensorHistory_+3A_fields">fields</code></td>
<td>
<p>The 'sensor data fields' to include in the response.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available fields:</p>

<table>
<tr>
 <td style="text-align: left;">
  <code>Station Information and Status</code> </td><td style="text-align: left;"> hardware*, latitude*, 
  longitude*, altitude*, firmware_version*, private, rssi, uptime,
   pa_latency, memory </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Environmental</code> </td><td style="text-align: left;"> humidity, humidity_a, humidity_b, temperature,
   temperature_a, temperature_b, pressure, pressure_a, pressure_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Miscellaneous</code> </td><td style="text-align: left;"> voc, voc_a, voc_b, analog_input </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>PM1.0</code> </td><td style="text-align: left;"> pm1.0_atm, pm1.0_atm_a, pm1.0_atm_b, pm1.0_cf_1,
   pm1.0_cf_1_a, pm1.0_cf_1_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>PM2.5</code> </td><td style="text-align: left;"> pm2.5_alt, pm2.5_alt_a, pm2.5_alt_b, pm2.5_atm, 
  pm2.5_atm_a, pm2.5_atm_b, pm2.5_cf_1, pm2.5_cf_1_a, pm2.5_cf_1_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>PM10.0</code> </td><td style="text-align: left;"> pm10.0_atm, pm10.0_atm_a, pm10.0_atm_b, pm10.0_cf_1, 
  pm10.0_cf_1_a, pm10.0_cf_1_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Visibility</code> </td><td style="text-align: left;"> scattering_coefficient, scattering_coefficient_a, 
  scattering_coefficient_b, deciviews, deciviews_a, deciviews_b, 
  visual_range, visual_range_a, visual_range_b </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  <code>Particle Count</code> </td><td style="text-align: left;"> 0.3_um_count, 0.3_um_count_a, 0.3_um_count_b, 
  0.5_um_count, 0.5_um_count_a, 0.5_um_count_b, 1.0_um_count, 1.0_um_count_a,
   1.0_um_count_b, 2.5_um_count, 2.5_um_count_a, 2.5_um_count_b, 
   5.0_um_count, 5.0_um_count_a, 5.0_um_count_b, 10.0_um_count, 
   10.0_um_count_a, 10.0_um_count_b </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Value</h3>

<p>Dataframe of PurpleAir history data of one or multiple sensors.
</p>


<h3>References</h3>

<p>For more details on the available fields, see the PurpleAir API 
documentation:
<a href="https://api.purpleair.com/#api-sensors-get-sensor-history-csv">https://api.purpleair.com/#api-sensors-get-sensor-history-csv</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Download hourly PM2.5 data for one month
history &lt;- getSensorHistory(
  sensorIndex = c(6127, 9014, 3124),
  apiReadKey = "YOUR_API_KEY",
  startDate = "2024-01-01",
  endDate = "2024-01-31",
  average = 60,
  fields = c("pm2.5_alt", "temperature", "humidity")
)

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package simIReff</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {simIReff}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#simIReff-package'><p><code>simIReff</code>: Stochastic Simulation for Information Retrieval Evaluation: Effectiveness Scores</p></a></li>
<li><a href='#eff'><p>Effectiveness Distributions</p></a></li>
<li><a href='#eff.cont-class'><p>Class <code>eff.cont</code></p></a></li>
<li><a href='#eff.disc-class'><p>Class <code>eff.disc</code></p></a></li>
<li><a href='#effCont'><p>Continuous Effectiveness Distributions</p></a></li>
<li><a href='#effCont_beta'><p>Continuous Effectiveness as Beta Distribution.</p></a></li>
<li><a href='#effCont_bks'><p>Continuous Effectiveness as Beta Kernel-smoothed Distribution.</p></a></li>
<li><a href='#effCont_nks'><p>Continuous Effectiveness as Truncated Gaussian Kernel-smoothed Distribution.</p></a></li>
<li><a href='#effCont_norm'><p>Continuous Effectiveness as Truncated Normal Distribution.</p></a></li>
<li><a href='#effCont-helper'><p>Helper functions for continuous effectiveness distributions</p></a></li>
<li><a href='#effcop'><p>Fit Vine copula models to matrices of effectiveness scores</p></a></li>
<li><a href='#effDisc'><p>Discrete Effectiveness Distributions</p></a></li>
<li><a href='#effDisc_bbinom'><p>Discrete Effectiveness as Beta-Binomial Distribution.</p></a></li>
<li><a href='#effDisc_dks'><p>Discrete Effectiveness as Discrete Kernel-smoothed Distribution.</p></a></li>
<li><a href='#effDisc-helper'><p>Helper functions for discrete effectiveness distributions</p></a></li>
<li><a href='#effFit'><p>Fit Effectiveness Distributions</p></a></li>
<li><a href='#effFitAndSelect'><p>Automatic Fitting and Selection of Effectiveness Distributions</p></a></li>
<li><a href='#effSelect'><p>Model Selection for Effectiveness Distributions</p></a></li>
<li><a href='#effTransform'><p>Transform effectiveness distributions towards a expected value</p></a></li>
<li><a href='#plot.eff'><p>Plotting tools for effectiveness distributions</p></a></li>
<li><a href='#plot.eff.cont'><p>Plotting tools for Continuous effectiveness distributions</p></a></li>
<li><a href='#plot.eff.disc'><p>Plotting tools for Discrete effectiveness distributions</p></a></li>
<li><a href='#web2010ap'><p>TREC 2010 Web Ad hoc track.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Stochastic Simulation for Information Retrieval Evaluation:
Effectiveness Scores</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for the stochastic simulation of effectiveness scores to mitigate
  data-related limitations of Information Retrieval evaluation research, as described in Urbano and
  Nagler (2018) &lt;<a href="https://doi.org/10.1145%2F3209978.3210043">doi:10.1145/3209978.3210043</a>&gt;. These tools include: fitting, selection and plotting
  distributions to model system effectiveness, transformation towards a prespecified expected value,
  proxy to fitting of copula models based on these distributions, and simulation of new evaluation
  data from these distributions and copula models.</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/julian-urbano/simIReff/issues">https://github.com/julian-urbano/simIReff/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/julian-urbano/simIReff/">https://github.com/julian-urbano/simIReff/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, graphics, MASS, rvinecopulib (&ge; 0.2.8.1.0), truncnorm,
bde, ks, np, extraDistr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-06-15 14:53:35 UTC; jurbano</td>
</tr>
<tr>
<td>Author:</td>
<td>Julián Urbano [aut, cre],
  Thomas Nagler [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Julián Urbano &lt;urbano.julian@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-06-15 15:26:32 UTC</td>
</tr>
</table>
<hr>
<h2 id='simIReff-package'><code>simIReff</code>: Stochastic Simulation for Information Retrieval Evaluation: Effectiveness Scores</h2><span id='topic+simIReff'></span><span id='topic+simIReff-package'></span>

<h3>Description</h3>

<p>Provides tools for the stochastic simulation of effectiveness scores to mitigate data-related
limitations of Information Retrieval evaluation research. These tools include:
</p>

<ul>
<li><p> Fitting of continuous and discrete distributions to model system effectiveness.
</p>
</li>
<li><p> Plotting of effectiveness distributions.
</p>
</li>
<li><p> Selection of distributions best fitting to given data.
</p>
</li>
<li><p> Transformation of distributions towards a prespecified expected value.
</p>
</li>
<li><p> Proxy to fitting of copula models based on these distributions.
</p>
</li>
<li><p> Simulation of new evaluation data from these distributions and copula models.
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Julián Urbano <a href="mailto:urbano.julian@gmail.com">urbano.julian@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Thomas Nagler <a href="mailto:thomas.nagler@tum.de">thomas.nagler@tum.de</a> [contributor]
</p>
</li></ul>



<h3>References</h3>

<p>J. Urbano and T. Nagler. (2018). Stochastic Simulation of Test Collections:
Evaluation Scores. ACM SIGIR.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/julian-urbano/simIReff/">https://github.com/julian-urbano/simIReff/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/julian-urbano/simIReff/issues">https://github.com/julian-urbano/simIReff/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
## Fit a marginal AP distribution and simulate new data
x &lt;- web2010ap[,10] # sample AP scores of a system
e &lt;- effContFitAndSelect(x, method = "BIC") # fit and select based on log-likelihood
plot(e) # plot pdf, cdf and quantile function
e$mean # expected value
y &lt;- reff(50, e) # simulation of 50 new topics

## Transform the distribution to have a pre-specified expected value
e2 &lt;- effTransform(e, mean = .14) # transform for expected value of .14
plot(e2)
e2$mean # check the result

## Build a copula model of two systems
d &lt;- web2010ap[,2:3] # sample AP scores
e1 &lt;- effCont_norm(d[,1]) # force the first margin to follow a truncated gaussian
e2 &lt;- effCont_bks(d[,2]) # force the second margin to follow a beta kernel-smoothed
cop &lt;- effcopFit(d, list(e1, e2)) # copula
y &lt;- reffcop(1000, cop) # simulation of 1000 new topics
c(e1$mean, e2$mean) # expected means
colMeans(y) # observed means

## Modify the model to both systems have the same distribution
cop2 &lt;- cop # copy the model
cop2$margins[[2]] &lt;- e1 # modify 2nd margin
y &lt;- reffcop(1000, cop2) # simulation of 1000 new topics
colMeans(y) # observed means

## Automatically build a gaussian copula to many systems
d &lt;- web2010p20[,1:20] # sample P@20 data from 20 systems
effs &lt;- effDiscFitAndSelect(d, support("p20")) # fit and select margins
cop &lt;- effcopFit(d, effs, family_set = "gaussian") # fit copula
y &lt;- reffcop(1000, cop) # simulate new 1000 topics

# compare observed vs. expected mean
E &lt;- sapply(effs, function(e) e$mean)
E.hat &lt;- colMeans(y)
plot(E, E.hat)
abline(0:1)

# compare observed vs. expected variance
Var &lt;- sapply(effs, function(e) e$var)
Var.hat &lt;- apply(y, 2, var)
plot(Var, Var.hat)
abline(0:1)

# compare distributions
o &lt;- order(colMeans(d))
boxplot(d[,o])
points(colMeans(d)[o], col = "red", pch = 4) # plot means
boxplot(y[,o])
points(colMeans(y)[o], col = "red", pch = 4) # plot means

</code></pre>

<hr>
<h2 id='eff'>Effectiveness Distributions</h2><span id='topic+eff'></span><span id='topic+deff'></span><span id='topic+peff'></span><span id='topic+qeff'></span><span id='topic+reff'></span>

<h3>Description</h3>

<p>Density, distribution function, quantile function and random generation for an effectiveness
distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deff(x, .eff)

peff(q, .eff)

qeff(p, .eff)

reff(n, .eff)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eff_+3A_x">x</code>, <code id="eff_+3A_q">q</code></td>
<td>
<p>vector of quantiles.</p>
</td></tr>
<tr><td><code id="eff_+3A_.eff">.eff</code></td>
<td>
<p>the <code>eff</code> object representing the effectiveness distribution.</p>
</td></tr>
<tr><td><code id="eff_+3A_p">p</code></td>
<td>
<p>vector of probabilities.</p>
</td></tr>
<tr><td><code id="eff_+3A_n">n</code></td>
<td>
<p>number of observations.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>deff</code> gives the density, <code>peff</code> gives the distribution function, <code>qeff</code>
gives the quantile function, and <code>reff</code> generates random variates.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+effCont">effCont</a></code> for continuous distributions, and <code><a href="#topic+effDisc">effDisc</a></code> for
discrete distributions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># sample distribution from AP scores
e &lt;- effCont_beta(web2010ap[,1])
# pdf integrates to 1
integrate(deff, lower = 0, upper = 1, .eff = e)
# qeff (quantile) is the inverse of peff (cumulative)
qeff(peff(.2, e), e)
# random generation of 100 scores
r &lt;- reff(100, e)
</code></pre>

<hr>
<h2 id='eff.cont-class'>Class <code>eff.cont</code></h2><span id='topic+eff.cont-class'></span><span id='topic+effCont_new'></span>

<h3>Description</h3>

<p>This is the base S3 class for all continuous effectiveness distributions, which is itself a
subclass of <code>eff</code>. Function <code>effCont_new</code> is the constructor of the class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effCont_new(mean, var, df, x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eff.cont-class_+3A_mean">mean</code></td>
<td>
<p>the expected value of the distibution.</p>
</td></tr>
<tr><td><code id="eff.cont-class_+3A_var">var</code></td>
<td>
<p>the variance of the distribution.</p>
</td></tr>
<tr><td><code id="eff.cont-class_+3A_df">df</code></td>
<td>
<p>the effective degrees of freedom of the distribution.</p>
</td></tr>
<tr><td><code id="eff.cont-class_+3A_x">x</code></td>
<td>
<p>the sample of effectiveness scores used to fit the distribution. Defaults to
<code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A new distribution family is expected to build new objects through this constructor, and they
must implement methods <code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and
<code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Value</h3>

<p>an object of class <code>eff.cont</code>, with the following components:
</p>

<table>
<tr>
 <td style="text-align: right;">
  <code>mean</code> </td><td style="text-align: left;"> the expected value. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>var</code> </td><td style="text-align: left;"> the variance. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>df</code> </td><td style="text-align: left;"> the degrees of freedom (effective number of parameters) for
    <a href="#topic+effSelect">model selection</a>. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>data</code> </td><td style="text-align: left;"> the sample data used to fit the distribution, or <code>NULL</code> if none. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>model</code> </td><td style="text-align: left;"> a list with the family-specific data. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+effCont">effCont</a></code> for a list of currently implemented distribution families,
<code><a href="#topic+effContFit">effContFit</a></code> to fit distributions, and <code><a href="#topic+effCont-helper">effCont-helper</a></code> for helper
functions.
</p>
<p>For discrete distributions, see <code><a href="#topic+eff.disc-class">eff.disc</a></code>.
</p>

<hr>
<h2 id='eff.disc-class'>Class <code>eff.disc</code></h2><span id='topic+eff.disc-class'></span><span id='topic+effDisc_new'></span>

<h3>Description</h3>

<p>This is the base S3 class for all discrete effectiveness distributions, which is itself a
subclass of <code>eff</code>. Function <code>effDisc_new</code> is the constructor of the class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effDisc_new(p, support, df, x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eff.disc-class_+3A_p">p</code></td>
<td>
<p>the values of the distribution function at the support points.</p>
</td></tr>
<tr><td><code id="eff.disc-class_+3A_support">support</code></td>
<td>
<p>the support of the distribution.</p>
</td></tr>
<tr><td><code id="eff.disc-class_+3A_df">df</code></td>
<td>
<p>the effective degrees of freedom of the distribution.</p>
</td></tr>
<tr><td><code id="eff.disc-class_+3A_x">x</code></td>
<td>
<p>the sample of effectiveness scores used to fit the distribution. Defaults to
<code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A new distribution family is expected to build new objects through this constructor. Default
implementations are readily available for methods <code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>,
<code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Value</h3>

<p>an object of class <code>eff.disc</code>, with the following components:
</p>

<table>
<tr>
 <td style="text-align: right;">
  <code>mean</code> </td><td style="text-align: left;"> the expected value. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>var</code> </td><td style="text-align: left;"> the variance. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>df</code> </td><td style="text-align: left;"> the degrees of freedom (effective number of parameters) for
    <a href="#topic+effSelect">model selection</a>. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>support</code> </td><td style="text-align: left;"> the support of the distribution. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>data</code> </td><td style="text-align: left;"> the sample data used to fit the distribution, or <code>NULL</code> if none. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code>model</code> </td><td style="text-align: left;"> a list with the family-specific data. </td>
</tr>
<tr>
 <td style="text-align: right;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+effDisc">effDisc</a></code> for a list of currently implemented distribution families,
<code><a href="#topic+effDiscFit">effDiscFit</a></code> to fit distributions, and <code><a href="#topic+effDisc-helper">effDisc-helper</a></code> for helper
functions.
</p>
<p>For continuous distributions, see <code><a href="#topic+eff.cont-class">eff.cont</a></code>.
</p>

<hr>
<h2 id='effCont'>Continuous Effectiveness Distributions</h2><span id='topic+effCont'></span>

<h3>Description</h3>

<p>Families to model effectiveness distributions with continuous support. Currently implemented
families are:
</p>

<table>
<tr>
 <td style="text-align: right;">
  <code><a href="#topic+effCont_norm">effCont_norm</a></code> </td><td style="text-align: left;"> Truncated Normal. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code><a href="#topic+effCont_beta">effCont_beta</a></code> </td><td style="text-align: left;"> Beta. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code><a href="#topic+effCont_nks">effCont_nks</a></code> </td><td style="text-align: left;"> Truncated Kernel-smoothed with Gaussian kernel. </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code><a href="#topic+effCont_bks">effCont_bks</a></code> </td><td style="text-align: left;"> Kernel-smoothed with Beta kernel.
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+effContFit">effContFit</a></code> to fit continuous distributions, and
<code><a href="#topic+eff.cont-class">eff.cont</a></code> for the S3 class.
</p>
<p>For discrete distributions, see <code><a href="#topic+effDisc">effDisc</a></code>.
</p>

<hr>
<h2 id='effCont_beta'>Continuous Effectiveness as Beta Distribution.</h2><span id='topic+effCont_beta'></span>

<h3>Description</h3>

<p>Fits a Beta distribution to the given sample of scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effCont_beta(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effCont_beta_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>eff.cont.beta</code>, which inherits from
<code><a href="#topic+eff.cont-class">eff.cont</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effCont_beta(web2010ap[,1])
c(e$mean, e$var)
plot(e, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effCont_bks'>Continuous Effectiveness as Beta Kernel-smoothed Distribution.</h2><span id='topic+effCont_bks'></span>

<h3>Description</h3>

<p>Fits a bounded kernel-smoothed distribution to the given sample of scores. In particular, the
beta kernel by Chen (1999) is used, as in <code><a href="bde.html#topic+Chen99Kernel">Chen99Kernel</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effCont_bks(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effCont_bks_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>eff.cont.bks</code>, which inherits from
<code><a href="#topic+eff.cont-class">eff.cont</a></code>.
</p>


<h3>References</h3>

<p>S.X. Chen (1999). Beta kernel estimators for density functions. Computational
Statistics &amp; Data Analysis, 31, 131-145.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effCont_bks(web2010ap[,1])
c(e$mean, e$var)
plot(e, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effCont_nks'>Continuous Effectiveness as Truncated Gaussian Kernel-smoothed Distribution.</h2><span id='topic+effCont_nks'></span>

<h3>Description</h3>

<p>Fits a kernel-smoothed distribution to the given sample of scores, truncated between 0 and 1, and
using a gaussian kernel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effCont_nks(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effCont_nks_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>eff.cont.nks</code>, which inherits from
<code><a href="#topic+eff.cont-class">eff.cont</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effCont_nks(web2010ap[,1])
c(e$mean, e$var)
plot(e, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effCont_norm'>Continuous Effectiveness as Truncated Normal Distribution.</h2><span id='topic+effCont_norm'></span>

<h3>Description</h3>

<p>Fits a Normal distribution, truncated between 0 and 1, to the given sample of scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effCont_norm(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effCont_norm_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>eff.cont.norm</code>, which inherits from
<code><a href="#topic+eff.cont-class">eff.cont</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effCont_norm(web2010ap[,1])
c(e$mean, e$var)
plot(e, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effCont-helper'>Helper functions for continuous effectiveness distributions</h2><span id='topic+effCont-helper'></span><span id='topic+cap'></span><span id='topic+effContMean'></span><span id='topic+effContVar'></span><span id='topic+effContTrunc'></span>

<h3>Description</h3>

<p>These are functions to help in the creation and use of continuous effectiveness distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cap(x, xmin = 1e-06, xmax = 1 - xmin)

effContMean(qfun, abs.tol = 1e-06, subdivisions = 500)

effContVar(qfun, mu, abs.tol = 1e-06, subdivisions = 500)

effContTrunc(dfun, pfun, qfun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effCont-helper_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_xmin">xmin</code></td>
<td>
<p>lowest value to cap scores.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_xmax">xmax</code></td>
<td>
<p>highest value to cap scores.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_qfun">qfun</code></td>
<td>
<p>a quantile function.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_abs.tol">abs.tol</code></td>
<td>
<p>absolute accuracy requested, passed to <code><a href="stats.html#topic+integrate">integrate</a></code>.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_subdivisions">subdivisions</code></td>
<td>
<p>the maximum number of subintervals, passed to <code><a href="stats.html#topic+integrate">integrate</a></code>.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_mu">mu</code></td>
<td>
<p>the expected value of the distribution (see <code>effContMean</code>).</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_dfun">dfun</code></td>
<td>
<p>a density function.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_pfun">pfun</code></td>
<td>
<p>a distribution function.</p>
</td></tr>
<tr><td><code id="effCont-helper_+3A_...">...</code></td>
<td>
<p>additional arguments passed to other functions, if any.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cap</code> caps (censor) a variable from below and above.
</p>
<p><code>effContMean</code> computes the expected value of a distribution by numerical integration of the
given quantile function.
</p>
<p><code>effContVar</code> computes the variance of a distribution by numerical integration of the given
quantile function.
</p>
<p><code>effContTrun</code> computes the density, distribution and quantile functions of the distribution
resulting from truncating a given distribution between 0 and 1.
</p>


<h3>Value</h3>

<p><code>cap</code>: the original vector, but censored.
</p>
<p><code>effContMean</code>: the estimate of the expected value.
</p>
<p><code>effContVar</code>: the estimate of the variance.
</p>
<p><code>effContTrunc</code>: a list with components:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>td</code> </td><td style="text-align: left;"> the truncated density function. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>tp</code> </td><td style="text-align: left;"> the truncated distribution function. </td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>tq</code> </td><td style="text-align: left;"> the truncated quantile function.
  </td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+eff.cont-class">eff.cont</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cap(c(0, .5, 1))

effContMean(function(p) qnorm(p, mean = 4))
effContMean(function(p) qbeta(p, 1, 2))

effContVar(function(p) qnorm(p, mean = 2, sd = 4), 2)
effContVar(function(p) qbeta(p, 1, 2), 1/3)

tr &lt;- effContTrunc(dnorm, pnorm, qnorm, mean = .8, sd = .3)
x01 &lt;- seq(0, 1, .01)
plot(x01, tr$d(x01), type = "l")
plot(x01, tr$p(x01), type = "l")
plot(x01, tr$q(x01), type = "l")
</code></pre>

<hr>
<h2 id='effcop'>Fit Vine copula models to matrices of effectiveness scores</h2><span id='topic+effcop'></span><span id='topic+effcopFit'></span><span id='topic+reffcop'></span>

<h3>Description</h3>

<p>Fitting of and simulation from a copula model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effcopFit(x, eff, ...)

reffcop(n, .effcop)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effcop_+3A_x">x</code></td>
<td>
<p>a matrix or data frame of effectiveness scores to estimate dependence.</p>
</td></tr>
<tr><td><code id="effcop_+3A_eff">eff</code></td>
<td>
<p>a list of effectiveness distributions to use for the margins.</p>
</td></tr>
<tr><td><code id="effcop_+3A_...">...</code></td>
<td>
<p>other parameters for <code><a href="rvinecopulib.html#topic+vinecop">vinecop</a></code>, such as <code>family_set</code>,
<code>selcrit</code>, <code>trunc_lvl</code> and <code>cores</code>.</p>
</td></tr>
<tr><td><code id="effcop_+3A_n">n</code></td>
<td>
<p>number of observations to simulate.</p>
</td></tr>
<tr><td><code id="effcop_+3A_.effcop">.effcop</code></td>
<td>
<p>the <code>effcop</code> object representing the copula model (see <code>effcopFit</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>effcopFit</code>: an object of class <code>effcop</code>, with the following components:
</p>

<table>
<tr>
 <td style="text-align: right;">
    <code>data</code> </td><td style="text-align: left;"> the matrix of effectiveness scores used to fit the copula. </td>
</tr>
<tr>
 <td style="text-align: right;">
    <code>pobs</code> </td><td style="text-align: left;"> the matrix of pseudo-observations computed from <code>data</code>. This is stored
      because pseudo-observations are calculated breaking ties randomly
      (see <code><a href="rvinecopulib.html#topic+pseudo_obs">pseudo_obs</a></code>). </td>
</tr>
<tr>
 <td style="text-align: right;">
    <code>margins</code> </td><td style="text-align: left;"> the list of marginal effectiveness distributions. </td>
</tr>
<tr>
 <td style="text-align: right;">
    <code>cop</code> </td><td style="text-align: left;"> the underlying copulas fitted with <code><a href="rvinecopulib.html#topic+vinecop">vinecop</a></code>.
  </td>
</tr>

</table>

<p>These components may be altered to gain specific simulation capacity, such as
<a href="#topic+effTransform">systems with the same expected value</a>.
</p>
<p><code>reffcop</code>: a matrix of random scores.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+effCont">effCont</a></code> and <code><a href="#topic+effDisc">effDisc</a></code> for available distributions for the
margins. See package <code><a href="rvinecopulib.html#topic+rvinecopulib">rvinecopulib</a></code> for details on fitting
the copulas.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Automatically build a gaussian copula to many systems
d &lt;- web2010p20[,1:20] # sample P@20 data from 20 systems
effs &lt;- effDiscFitAndSelect(d, support("p20")) # fit and select margins
cop &lt;- effcopFit(d, effs, family_set = "gaussian") # fit copula
y &lt;- reffcop(1000, cop) # simulate new 1000 topics

# compare observed vs. expected mean
E &lt;- sapply(effs, function(e) e$mean)
E.hat &lt;- colMeans(y)
plot(E, E.hat)
abline(0:1)

# compare observed vs. expected variance
Var &lt;- sapply(effs, function(e) e$var)
Var.hat &lt;- apply(y, 2, var)
plot(Var, Var.hat)
abline(0:1)

</code></pre>

<hr>
<h2 id='effDisc'>Discrete Effectiveness Distributions</h2><span id='topic+effDisc'></span>

<h3>Description</h3>

<p>Families to model effectiveness distributions with discrete support. Currently implemented
families are:
</p>

<table>
<tr>
 <td style="text-align: right;">
  <code><a href="#topic+effDisc_bbinom">effDisc_bbinom</a></code> </td><td style="text-align: left;"> Beta-Binomial </td>
</tr>
<tr>
 <td style="text-align: right;">
  <code><a href="#topic+effDisc_dks">effDisc_dks</a></code> </td><td style="text-align: left;"> Kernel-smoothed with Discrete kernel.
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+effDiscFit">effDiscFit</a></code> to fit discrete distributions, and
<code><a href="#topic+eff.disc-class">eff.disc</a></code> for the S3 class. For continuous distributions, see
<code><a href="#topic+effCont">effCont</a></code>.
</p>

<hr>
<h2 id='effDisc_bbinom'>Discrete Effectiveness as Beta-Binomial Distribution.</h2><span id='topic+effDisc_bbinom'></span>

<h3>Description</h3>

<p>Fits a discrete kernel-smoothed distribution, to the given sample of scores and support points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effDisc_bbinom(x, support)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effDisc_bbinom_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
<tr><td><code id="effDisc_bbinom_+3A_support">support</code></td>
<td>
<p>the support of the distribution.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>eff.disc.bbinom</code>, which inherits from
<code><a href="#topic+eff.disc-class">eff.disc</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effDisc_bbinom(web2010p20[,1], seq(0,1,.05))
c(e$mean, e$var)
plot(e, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effDisc_dks'>Discrete Effectiveness as Discrete Kernel-smoothed Distribution.</h2><span id='topic+effDisc_dks'></span>

<h3>Description</h3>

<p>Fits a Beta-Binomial distribution, to the given sample of scores and support points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effDisc_dks(x, support, mult = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effDisc_dks_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
<tr><td><code id="effDisc_dks_+3A_support">support</code></td>
<td>
<p>the support of the distribution.</p>
</td></tr>
<tr><td><code id="effDisc_dks_+3A_mult">mult</code></td>
<td>
<p>a constant to multiply the initially selected bandwidth.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>eff.disc.dks</code>, which inherits from
<code><a href="#topic+eff.disc-class">eff.disc</a></code>.
</p>


<h3>References</h3>

<p>M.C. Wang and J.V. Ryzing (1981). A Class of Smooth Estimators for Discrete
Distributions. Biometrika, 68, 301-309.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+deff">deff</a></code>, <code><a href="#topic+peff">peff</a></code>, <code><a href="#topic+qeff">qeff</a></code> and <code><a href="#topic+reff">reff</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effDisc_dks(web2010p20[,1], seq(0,1,.05))
c(e$mean, e$var)
plot(e, plot.data = TRUE)
e2 &lt;- effDisc_dks(web2010p20[,1], seq(0,1,.05), mult = 2)
c(e2$mean, e2$var)
plot(e2, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effDisc-helper'>Helper functions for discrete effectiveness distributions</h2><span id='topic+effDisc-helper'></span><span id='topic+matchTol'></span><span id='topic+support'></span>

<h3>Description</h3>

<p>These are functions to help in the creation and use of discrete effectiveness distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matchTol(x, support, tol = 1e-04)

support(measure, runLength = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effDisc-helper_+3A_x">x</code></td>
<td>
<p>a vector of effectiveness scores.</p>
</td></tr>
<tr><td><code id="effDisc-helper_+3A_support">support</code></td>
<td>
<p>the support of the distribution.</p>
</td></tr>
<tr><td><code id="effDisc-helper_+3A_tol">tol</code></td>
<td>
<p>tolerance for matching.</p>
</td></tr>
<tr><td><code id="effDisc-helper_+3A_measure">measure</code></td>
<td>
<p>the case insensitive name of the effectiveness measure. See Details.</p>
</td></tr>
<tr><td><code id="effDisc-helper_+3A_runlength">runLength</code></td>
<td>
<p>the maximum number of documents retrieved for a query (defautls to 1000).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>matchTol</code> returns a vector of the positions of matches of <code>x</code> in the vector of
possible support values, within tolerance (see <code><a href="base.html#topic+match">match</a></code>). This is helpful when
data are loaded from disk and possibly rounded or truncated.
</p>
<p><code>support</code> obtains the discrete support defined by an effectiveness measure given its name.
Current measures are Reciprocal Rank (<code>"RR"</code>), and Precision at k (<code>"P@k"</code> or
<code>"Pk"</code>, where <code>k</code> is the cutoff, eg. <code>"P@10"</code> or <code>"P10"</code>).
</p>


<h3>Value</h3>

<p><code>matchTol</code>: an integer vector giving the position in the support of the match if
there is a match, otherwise <code>NA</code>.
</p>
<p><code>support</code>: the support of the distribution of scores defined by the measure.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+eff.disc-class">eff.disc</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>support("rr")
support("rr", runLength = 10)
support("p@10")
support("p20")

(i &lt;- matchTol(c(.1, .4, .41, .40001), support("p10")))
support("p10")[i]
</code></pre>

<hr>
<h2 id='effFit'>Fit Effectiveness Distributions</h2><span id='topic+effFit'></span><span id='topic+effContFit'></span><span id='topic+effDiscFit'></span>

<h3>Description</h3>

<p>Attempts to fit the distribution families listed in <code><a href="#topic+effCont">effCont</a></code> or
<code><a href="#topic+effDisc">effDisc</a></code>. In the discrete case, the <code><a href="#topic+effDisc_dks">dks</a></code> distribution is
fitted with multipliers 1, 2, 5 and 10. Failure to fit any distribution family results in an
error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effContFit(x, silent = TRUE)

effDiscFit(x, support, silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effFit_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1.</p>
</td></tr>
<tr><td><code id="effFit_+3A_silent">silent</code></td>
<td>
<p>logical: should the report of error messages be suppressed?</p>
</td></tr>
<tr><td><code id="effFit_+3A_support">support</code></td>
<td>
<p>the support of the distribution (see <code><a href="#topic+support">support</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of <code><a href="#topic+eff.cont-class">eff.cont</a></code> objects fitted to the given data.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+effCont">effCont</a></code> and <code><a href="#topic+effDisc">effDisc</a></code> for the available distribution families.
</p>
<p>See <code><a href="#topic+effSelect">effSelect</a></code> for model selection, and <code><a href="#topic+effFitAndSelect">effFitAndSelect</a></code> to fit and
select automatically.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effContFit(web2010ap[,1])
str(e, 1)
sapply(e, plot, plot.data = TRUE)

e &lt;- effDiscFit(web2010p20[,1], seq(0,1,.05))
str(e, 1)
sapply(e, plot, plot.data = TRUE)
</code></pre>

<hr>
<h2 id='effFitAndSelect'>Automatic Fitting and Selection of Effectiveness Distributions</h2><span id='topic+effFitAndSelect'></span><span id='topic+effContFitAndSelect'></span><span id='topic+effDiscFitAndSelect'></span>

<h3>Description</h3>

<p>Automatic Fitting and Selection of Effectiveness Distributions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effContFitAndSelect(x, method = "AIC", silent = TRUE)

effDiscFitAndSelect(x, support, method = "AIC", silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effFitAndSelect_+3A_x">x</code></td>
<td>
<p>a sample of effectiveness scores between 0 and 1, or a matrix or data frame of
topic-by-system scores.</p>
</td></tr>
<tr><td><code id="effFitAndSelect_+3A_method">method</code></td>
<td>
<p>selection method. See <code><a href="#topic+effSelect">effSelect</a></code>.</p>
</td></tr>
<tr><td><code id="effFitAndSelect_+3A_silent">silent</code></td>
<td>
<p>logical: should the report of error messages be suppressed?</p>
</td></tr>
<tr><td><code id="effFitAndSelect_+3A_support">support</code></td>
<td>
<p>the support of the distribution (see <code><a href="#topic+support">support</a></code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>if <code>x</code> is a vector, the selected disttribution. If <code>x</code> is a matrix or data
frame, a list of the selected distributions.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+effFit">effFit</a></code> and <code><a href="#topic+effSelect">effSelect</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effContFitAndSelect(web2010ap[,1], method = "logLik")
c(e$mean, e$var)
e2 &lt;- effContFitAndSelect(web2010ap[,2], method = "logLik")
c(e2$mean, e2$var)

ee &lt;- effContFitAndSelect(web2010ap[,1:2], method = "logLik")
sapply(ee, function(e) c(e$mean, e$var)) # same as above
</code></pre>

<hr>
<h2 id='effSelect'>Model Selection for Effectiveness Distributions</h2><span id='topic+effSelect'></span><span id='topic+which.effSelect'></span><span id='topic+logLik.eff'></span>

<h3>Description</h3>

<p>Functions to compute the log-likelihood, the Akaike Information Criterion, and the Bayesian
Information Criterion for an effectiveness distribution. <code>effSelect</code> and
<code>which.effSelect</code> are helper function for automatic selection from a given list of
candidates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effSelect(effs, method = "AIC", ...)

which.effSelect(effs, method = "AIC", ...)

## S3 method for class 'eff'
logLik(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effSelect_+3A_effs">effs</code></td>
<td>
<p>the list of candidate distributions to select from.</p>
</td></tr>
<tr><td><code id="effSelect_+3A_method">method</code></td>
<td>
<p>selection method. One of <code>"AIC"</code> (default), <code>"BIC"</code>, or <code>"logLik"</code>.</p>
</td></tr>
<tr><td><code id="effSelect_+3A_...">...</code></td>
<td>
<p>other parameters to the selection function.</p>
</td></tr>
<tr><td><code id="effSelect_+3A_object">object</code></td>
<td>
<p>an effectiveness distribution.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the selected disttribution (<code>effSelect</code>), or its index within <code>effs</code>
(<code>which.effSelect</code>).
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+logLik">logLik</a></code>, <code><a href="stats.html#topic+AIC">AIC</a></code>, <code><a href="stats.html#topic+BIC">BIC</a></code> for details on model
selection.
</p>
<p>See <code><a href="#topic+effFitAndSelect">effFitAndSelect</a></code> to fit and select automatically.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ee &lt;- effContFit(web2010ap[,5])
e &lt;- effSelect(ee, method = "BIC")
e2 &lt;- ee[[which.effSelect(ee, method = "BIC")]] # same as e

logLik(e)
AIC(e, k=4)
BIC(e)
</code></pre>

<hr>
<h2 id='effTransform'>Transform effectiveness distributions towards a expected value</h2><span id='topic+effTransform'></span><span id='topic+effTransformAll'></span>

<h3>Description</h3>

<p>Transforms the given effectiveness distribution such that its expected value matches a predefined
value. For details, please refer to section 3.4 of (Urbano and Nagler, 2018).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>effTransform(eff, mean, abs.tol = 1e-05)

effTransformAll(effs, means, abs.tol = 1e-05, silent = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="effTransform_+3A_eff">eff</code></td>
<td>
<p>the distribution to transform.</p>
</td></tr>
<tr><td><code id="effTransform_+3A_mean">mean</code></td>
<td>
<p>the target expected value to transform to. If missing, defaults to the mean in the
data used to fit <code>eff</code>, if any.</p>
</td></tr>
<tr><td><code id="effTransform_+3A_abs.tol">abs.tol</code></td>
<td>
<p>the absolute tolerance of the transformation.</p>
</td></tr>
<tr><td><code id="effTransform_+3A_effs">effs</code></td>
<td>
<p>the list of distributions to transform.</p>
</td></tr>
<tr><td><code id="effTransform_+3A_means">means</code></td>
<td>
<p>the vector of target expected values to transform to. If missing, defaults to the
means in the data used to fit <code>effs</code>, if any.</p>
</td></tr>
<tr><td><code id="effTransform_+3A_silent">silent</code></td>
<td>
<p>logical: should the report of error messages be suppressed?</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>effTransformAll</code> does the same but for a list of distributions and target means.
</p>


<h3>Value</h3>

<p>an effectiveness distribution of class <code>eff.cont.trans</code> or <code>eff.disc.trans</code>,
depending on the type of distribution.
</p>


<h3>References</h3>

<p>J. Urbano and T. Nagler. (2018). Stochastic Simulation of Test Collections:
Evaluation Scores. ACM SIGIR.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e &lt;- effCont_beta(web2010ap[,1])
e2 &lt;- effTransform(e, 0.12)
c(e$mean, e2$mean)
plot(e)
plot(e2)


# transform a list of distributions to the observed means
ee &lt;- effContFitAndSelect(web2010ap[,1:5])
ee2 &lt;- effTransformAll(ee)
obsmeans &lt;- colMeans(web2010ap[,1:5])
sapply(ee, function(e)e$mean) - obsmeans
sapply(ee2, function(e)e$mean) - obsmeans

</code></pre>

<hr>
<h2 id='plot.eff'>Plotting tools for effectiveness distributions</h2><span id='topic+plot.eff'></span><span id='topic+dplot'></span><span id='topic+pplot'></span><span id='topic+qplot'></span>

<h3>Description</h3>

<p>Plot the density, distribution and quantile functions of an effectiveness distribution. Function
<code>plot</code> plots all three functions in the same graphics device.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eff'
plot(x, ..., plot.data = TRUE)

dplot(x, ..., plot.data = TRUE)

pplot(x, ..., plot.data = TRUE)

qplot(x, ..., plot.data = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.eff_+3A_x">x</code></td>
<td>
<p>the effectiveness distribution to plot.</p>
</td></tr>
<tr><td><code id="plot.eff_+3A_...">...</code></td>
<td>
<p>other arguments to be passed to graphical functions.</p>
</td></tr>
<tr><td><code id="plot.eff_+3A_plot.data">plot.data</code></td>
<td>
<p>logical: whether to plot the data used to fit the distribution, if any.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+plot.eff.cont">plot.eff.cont</a></code> and <code><a href="#topic+plot.eff.disc">plot.eff.disc</a></code> for more details.
</p>

<hr>
<h2 id='plot.eff.cont'>Plotting tools for Continuous effectiveness distributions</h2><span id='topic+plot.eff.cont'></span><span id='topic+dplot.eff.cont'></span><span id='topic+pplot.eff.cont'></span><span id='topic+qplot.eff.cont'></span>

<h3>Description</h3>

<p>Plot the density, distribution and quantile functions of a continuous effectiveness distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eff.cont'
dplot(x, ..., plot.data = TRUE, subdivisions = 200,
  xlab = "x", ylab = "f(x)", main = "density")

## S3 method for class 'eff.cont'
pplot(x, ..., plot.data = TRUE, subdivisions = 200,
  xlab = "q", ylab = "F(q)", main = "distribution")

## S3 method for class 'eff.cont'
qplot(x, ..., plot.data = TRUE, subdivisions = 200,
  xlab = "p", ylab = expression(F^-1 * (p)), main = "quantile")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.eff.cont_+3A_x">x</code></td>
<td>
<p>the effectiveness distribution to plot.</p>
</td></tr>
<tr><td><code id="plot.eff.cont_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code><a href="graphics.html#topic+lines">lines</a></code>.</p>
</td></tr>
<tr><td><code id="plot.eff.cont_+3A_plot.data">plot.data</code></td>
<td>
<p>logical: whether to plot the data used to fit the distribution, if any.</p>
</td></tr>
<tr><td><code id="plot.eff.cont_+3A_subdivisions">subdivisions</code></td>
<td>
<p>number of equidistant points at which to evaluate the distribution to plot.</p>
</td></tr>
<tr><td><code id="plot.eff.cont_+3A_xlab">xlab</code></td>
<td>
<p>the title for the x axis.</p>
</td></tr>
<tr><td><code id="plot.eff.cont_+3A_ylab">ylab</code></td>
<td>
<p>the title for the y axis.</p>
</td></tr>
<tr><td><code id="plot.eff.cont_+3A_main">main</code></td>
<td>
<p>the overall title for the plot.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+plot.eff.disc">plot.eff.disc</a></code> for discrete distributions.
</p>

<hr>
<h2 id='plot.eff.disc'>Plotting tools for Discrete effectiveness distributions</h2><span id='topic+plot.eff.disc'></span><span id='topic+dplot.eff.disc'></span><span id='topic+pplot.eff.disc'></span><span id='topic+qplot.eff.disc'></span>

<h3>Description</h3>

<p>Plot the density, distribution and quantile functions of a discrete effectiveness distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'eff.disc'
dplot(x, ..., plot.data = TRUE, xlab = "x",
  ylab = "f(x)", main = "mass")

## S3 method for class 'eff.disc'
pplot(x, ..., plot.data = TRUE, xlab = "q",
  ylab = "F(q)", main = "distribution")

## S3 method for class 'eff.disc'
qplot(x, ..., plot.data = TRUE, xlab = "p",
  ylab = expression(F^-1 * (p)), main = "quantile")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.eff.disc_+3A_x">x</code></td>
<td>
<p>the effectiveness distribution to plot.</p>
</td></tr>
<tr><td><code id="plot.eff.disc_+3A_...">...</code></td>
<td>
<p>arguments to be passed to <code><a href="graphics.html#topic+lines">lines</a></code>.</p>
</td></tr>
<tr><td><code id="plot.eff.disc_+3A_plot.data">plot.data</code></td>
<td>
<p>logical: whether to plot the data used to fit the distribution, if any.</p>
</td></tr>
<tr><td><code id="plot.eff.disc_+3A_xlab">xlab</code></td>
<td>
<p>the title for the x axis.</p>
</td></tr>
<tr><td><code id="plot.eff.disc_+3A_ylab">ylab</code></td>
<td>
<p>the title for the y axis.</p>
</td></tr>
<tr><td><code id="plot.eff.disc_+3A_main">main</code></td>
<td>
<p>the overall title for the plot.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+plot.eff.cont">plot.eff.cont</a></code> for continuous distributions.
</p>

<hr>
<h2 id='web2010ap'>TREC 2010 Web Ad hoc track.</h2><span id='topic+web2010ap'></span><span id='topic+web2010p20'></span><span id='topic+web2010rr'></span>

<h3>Description</h3>

<p>These are the topic-by-system effectiveness matrices for the 88 systems submitted to the TREC
2010 Web Ad hoc track, evaluated over 48 topics. <code>web2010ap</code> contains Average Precision
scores, <code>web2010p20</code> contains Precision at 20 scores, and <code>web2010rr</code> contains
Reciprocal Rank scores.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>web2010ap

web2010p20

web2010rr
</code></pre>


<h3>Format</h3>

<p>A data frame with 88 columns (systems) and 48 rows (queries).</p>


<h3>References</h3>

<p>C.L.A. Clarke, N. Craswell, I. Soboroff, G.V. Cormack (2010). Overview of the TREC
2010 Web Track. Text REtrieval Conference.
</p>


<h3>See Also</h3>

<p><a href="https://trec.nist.gov">https://trec.nist.gov</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

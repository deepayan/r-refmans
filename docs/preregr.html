<!DOCTYPE html><html><head><title>Help for package preregr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {preregr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bipiped_value_to_vector'><p>Convert a &quot;bipiped&quot; value (or vector of values) to a vector</p></a></li>
<li><a href='#cat0'><p>Concatenate to screen without spaces</p></a></li>
<li><a href='#examplePrereg_1'><p>An example (pre)registration specification using the Inclusive</p>
General-Purpose Registration Form</a></li>
<li><a href='#first_valid_value'><p>Select the first valid value</p></a></li>
<li><a href='#form_add_instruction'><p>Add an instruction, section, or item to a (pre)registration form</p></a></li>
<li><a href='#form_almostEmptyForm'><p>A mostly empty example form specification</p></a></li>
<li><a href='#form_create'><p>Create a new (pre)registration form</p></a></li>
<li><a href='#form_fromSpreadsheet'><p>Import a (pre)registration form specification from a spreadsheet</p></a></li>
<li><a href='#form_generalPurpose_v1_1'><p>Inclusive General-Purpose Registration Form</p></a></li>
<li><a href='#form_genSysRev_v1'><p>Generalized Systematic Review Registration Form</p></a></li>
<li><a href='#form_inclDivAddon_v0_1'><p>Inclusivity &amp; Diversity Add-on for preregistration forms</p></a></li>
<li><a href='#form_inclSysRev_v0_92'><p>Inclusive Systematic Review Registration Form</p></a></li>
<li><a href='#form_knit'><p>Knit a (pre)registration form into an Rmd file</p></a></li>
<li><a href='#form_OSFprereg_v1'><p>OSF Prereg form</p></a></li>
<li><a href='#form_OSFqual1_v1'><p>Qualitative Preregistration Template</p></a></li>
<li><a href='#form_prereg2D_v1'><p>Preregistration Template for Secondary Data Analysis</p></a></li>
<li><a href='#form_preregQE_v0_95'><p>Preregistration Template for Qualitative and Quantitative Ethnographic Studies</p></a></li>
<li><a href='#form_prpQuant_v1'><p>Psychological Research Preregistration-Quantitative (aka PRP-QUANT) Template</p></a></li>
<li><a href='#form_show'><p>Show a (pre)registration form</p></a></li>
<li><a href='#form_to_html'><p>Convert a (pre)registration form to html</p></a></li>
<li><a href='#form_to_json'><p>Convert a (pre)registration specification to YAML or JSON</p></a></li>
<li><a href='#form_to_rmd_template'><p>Convert a (pre)registration form to an R Markdown template</p></a></li>
<li><a href='#form_to_xlsx'><p>Export a (pre)registration form to an Excel spreadsheet</p></a></li>
<li><a href='#forms'><p>Included (pre)registration forms</p></a></li>
<li><a href='#heading'><p>Print a heading</p></a></li>
<li><a href='#import_from_html'><p>Import a (pre)registration specification from JSON embedded in HTML</p></a></li>
<li><a href='#number_as_xl_date'><p>Convert a number to a date using Excel's system</p></a></li>
<li><a href='#opts'><p>Options for the preregr package</p></a></li>
<li><a href='#prereg_initialize'><p>Initialize a (pre)registration</p></a></li>
<li><a href='#prereg_justify'><p>Justify (and optionally specify) the content for one or more (pre)registration items</p></a></li>
<li><a href='#prereg_knit_item_content'><p>Knit the specified content for the items in a (pre)registration into an Rmd file</p></a></li>
<li><a href='#prereg_next_item'><p>Show the next item to specify content for</p></a></li>
<li><a href='#prereg_show_item_completion'><p>Show which items in a (pre)registration have been completed</p></a></li>
<li><a href='#prereg_show_item_content'><p>Show the specified content for the items in a (pre)registration</p></a></li>
<li><a href='#prereg_spec_to_html'><p>Convert a (pre)registration specification to html</p></a></li>
<li><a href='#prereg_spec_to_pdf'><p>Convert a (pre)registration specification to PDF</p></a></li>
<li><a href='#prereg_specify'><p>Specify the content for one or more (pre)registration items</p></a></li>
<li><a href='#preregr-package'><p>preregr: Specify (Pre)Registrations and Export Them Human- And Machine-Readably</p></a></li>
<li><a href='#randomSlug'><p>Generate a random slug</p></a></li>
<li><a href='#rbind_df_list'><p>Bind lots of dataframes together rowwise</p></a></li>
<li><a href='#rbind_dfs'><p>Simple alternative for rbind.fill or bind_rows</p></a></li>
<li><a href='#read_spreadsheet'><p>Convenience function to read spreadsheet-like files</p></a></li>
<li><a href='#repeatStr'><p>Repeat a string a number of times</p></a></li>
<li><a href='#serialize_df'><p>&quot;Serialize&quot; a data frame or (pre)registration specification</p></a></li>
<li><a href='#serialized_data_to_dfs'><p>In an object imported from YAML or JSON, convert some elements to dataframes</p></a></li>
<li><a href='#source'><p>Programmatically constructing justifier elements</p></a></li>
<li><a href='#validate_value'><p>Validate a value</p></a></li>
<li><a href='#vecTxt'><p>Easily parse a vector into a character value</p></a></li>
<li><a href='#wrapVector'><p>Wrap all elements in a vector</p></a></li>
<li><a href='#yaml_to_prereg_spec'><p>Convert a (pre)registration specification from YAML or JSON</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Specify (Pre)Registrations and Export Them Human- And
Machine-Readably</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.9</td>
</tr>
<tr>
<td>Description:</td>
<td>Preregistrations, or more generally, registrations, enable
    explicit timestamped and (often but not necessarily publicly) frozen
    documentation of plans and expectations as well as decisions and
    justifications. In research, preregistrations are commonly used to
    clearly document plans and facilitate justifications of deviations from
    those plans, as well as decreasing the effects of publication bias by
    enabling identification of research that was conducted but not published.
    Like reporting guidelines, (pre)registration forms often have specific
    structures that facilitate systematic reporting of important items. The
    'preregr' package facilitates specifying (pre)registrations in R and
    exporting them to a human-readable format (using R Markdown partials or
    exporting to an 'HTML' file) as well as human-readable embedded data
    (using 'JSON'), as well as importing such exported (pre)registration
    specifications from such embedded 'JSON'.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://preregr.opens.science">https://preregr.opens.science</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://gitlab.com/r-packages/preregr/-/issues">https://gitlab.com/r-packages/preregr/-/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.0), jsonlite (&ge; 1.7), rmdpartials (&ge; 0.5.8), yaml
(&ge; 2.2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>googlesheets4 (&ge; 1.0), haven (&ge; 2.4.3), justifier (&ge;
0.2.2), knitr (&ge; 1.34), openxlsx (&ge; 4.2), markdown, readxl
(&ge; 1.3), rvest (&ge; 1.0), testthat (&ge; 3.0), writexl (&ge; 1.4),
XLConnect (&ge; 1.0), rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-04 18:15:16 UTC; gjalt</td>
</tr>
<tr>
<td>Author:</td>
<td>Gjalt-Jorn Peters <a href="https://orcid.org/0000-0002-0336-9589"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Szilvia Zörgő <a href="https://orcid.org/0000-0002-6916-2097"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Olmo den Akker <a href="https://orcid.org/0000-0002-0712-3746"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Aleksandra Lazić <a href="https://orcid.org/0000-0002-0433-0483"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Thomas Gültzow <a href="https://orcid.org/0000-0002-9268-1880"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Gjalt-Jorn Peters &lt;preregr@opens.science&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-05 07:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bipiped_value_to_vector'>Convert a &quot;bipiped&quot; value (or vector of values) to a vector</h2><span id='topic+bipiped_value_to_vector'></span><span id='topic+bipiped_values_to_vector'></span>

<h3>Description</h3>

<p>&quot;Bipiped&quot; means that different values are separated by a pair of
pipes (<code>||</code>), like the logical OR operator in R. Use
<code>bipiped_value_to_vector()</code> for single values, and
<code>bipiped_values_to_vector()</code> for a vector of values, in which case a list
is returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bipiped_value_to_vector(x)

bipiped_values_to_vector(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bipiped_value_to_vector_+3A_x">x</code></td>
<td>
<p>The value or vector of values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector or list of vectors.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exampleValue &lt;-
  paste0('"Purposefully select" || "Aselect" || ',
         '"Likely self-selected" || "Ameliorated self-selection"');
bipiped_value_to_vector(exampleValue);
</code></pre>

<hr>
<h2 id='cat0'>Concatenate to screen without spaces</h2><span id='topic+cat0'></span>

<h3>Description</h3>

<p>The cat0 function is to cat what paste0 is to paste; it
simply makes concatenating many strings without a separator easier.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cat0(..., sep = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cat0_+3A_...">...</code></td>
<td>
<p>The character vector(s) to print; passed to <a href="base.html#topic+cat">cat</a>.</p>
</td></tr>
<tr><td><code id="cat0_+3A_sep">sep</code></td>
<td>
<p>The separator to pass to <a href="base.html#topic+cat">cat</a>, of course, <code>""</code> by default.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Nothing (invisible <code>NULL</code>, like <a href="base.html#topic+cat">cat</a>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cat0("The first variable is '", names(mtcars)[1], "'.");
</code></pre>

<hr>
<h2 id='examplePrereg_1'>An example (pre)registration specification using the Inclusive
General-Purpose Registration Form</h2><span id='topic+examplePrereg_1'></span>

<h3>Description</h3>

<p>This is a simple and relatively short partially completed (pre)registration
specification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>examplePrereg_1
</code></pre>


<h3>Format</h3>

<p>An example of a (pre)registration specification
</p>

<hr>
<h2 id='first_valid_value'>Select the first valid value</h2><span id='topic+first_valid_value'></span>

<h3>Description</h3>

<p>From a vector or list of values, select the first valid value, valid being
defined as a value that is not NULL or NA and has, after being trimmed of
whitespace, a nonzero length. Optionally, only look at the element with a
given name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>first_valid_value(x, selectName = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="first_valid_value_+3A_x">x</code></td>
<td>
<p>The vector or list.</p>
</td></tr>
<tr><td><code id="first_valid_value_+3A_selectname">selectName</code></td>
<td>
<p>Optionally, the name to look at.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The first valid value (or NULL).
</p>

<hr>
<h2 id='form_add_instruction'>Add an instruction, section, or item to a (pre)registration form</h2><span id='topic+form_add_instruction'></span><span id='topic+form_add_section'></span><span id='topic+form_add_item'></span>

<h3>Description</h3>

<p>Add an instruction, section, or item to a (pre)registration form
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_add_instruction(x, heading, description, overwrite = TRUE)

form_add_section(x, id, label, description, overwrite = TRUE)

form_add_item(
  x,
  id,
  label,
  description,
  section_id,
  valueTemplate = "string",
  validValues = NA,
  validation = NA,
  overwrite = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_add_instruction_+3A_x">x</code></td>
<td>
<p>The (pre)registration form as created by <code><a href="#topic+form_create">form_create()</a></code>.</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_heading">heading</code></td>
<td>
<p>The instruction's heading</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_description">description</code></td>
<td>
<p>The description of the instruction, section, or item</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_overwrite">overwrite</code></td>
<td>
<p>Whether to overwrite existing content or append the
new content</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_id">id</code></td>
<td>
<p>The identifier of the section or item</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_label">label</code></td>
<td>
<p>The label (i.e. title) of the section or item</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_section_id">section_id</code></td>
<td>
<p>The section identifier of the section the item should
be placed in</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_valuetemplate">valueTemplate</code></td>
<td>
<p>The name of the value template of the item</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_validvalues">validValues</code></td>
<td>
<p>The valid values (for categorical items)</p>
</td></tr>
<tr><td><code id="form_add_instruction_+3A_validation">validation</code></td>
<td>
<p>The validation statement (an R expression)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The modified (pre)registration form
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Create an empty example form
exampleForm &lt;-
  preregr::form_create(
    title = "Example form",
    version = "0.1.0"
  ) |&gt;
  preregr::form_show();

### Add some stuff;
exampleForm &lt;-
  exampleForm |&gt;
  preregr::form_add_instruction(
    heading = "First Real Instruction",
    description = "Which normally also contains real instructions here"
  ) |&gt;
  preregr::form_add_section(
    id = "first_section",
    label = "First Real Section",
    description = "This section is very, very important."
  ) |&gt;
  preregr::form_add_section(
    id = "second_section",
    label = "Second Real Section",
    description = "This section is even more important then the first one."
  ) |&gt;
  preregr::form_add_item(
    id = "study_title",
    label = "Study Title",
    section_id = "first_section",
    description = paste0(
      "Think of a catching title, preferably with a colon in ",
      "the middle. Bonus points for pop culture references."
    )
  ) |&gt;
  preregr::form_add_item(
    id = "study_authors",
    label = "Authors",
    section_id = "first_section",
    description = "Maybe list the authors, too."
  ) |&gt;
  preregr::form_add_item(
    id = "registration_type",
    label = "Registration type",
    section_id = "second_section",
    description = paste0(
      "Describe briefly why you are (pre)registering this ",
      "study. For example, this might be a preregistration ",
      "to allow others to know you're doing this study; or to ",
      "make it clear you value transparency in science; or to ",
      "remember your original plans later on. Or this might be ",
      "a registration to update your plans after the data came ",
      "in; or to document pragmatic changes in plans."
    )
  );

### Show the result of our hard labour
preregr::form_show(exampleForm);

</code></pre>

<hr>
<h2 id='form_almostEmptyForm'>A mostly empty example form specification</h2><span id='topic+form_almostEmptyForm'></span>

<h3>Description</h3>

<p>This form specification is mostly empty, so it can be a
useful start if you want to create your own form. The accompanying
Google Sheet, which you can also copy, is
<a href="https://docs.google.com/spreadsheets/d/14Qbak7JbBhTqmJaMgJ4tU9ZROaBbUfq37_UzkoHnM60">https://docs.google.com/spreadsheets/d/14Qbak7JbBhTqmJaMgJ4tU9ZROaBbUfq37_UzkoHnM60</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_almostEmptyForm
</code></pre>


<h3>Format</h3>

<p>A (pre)registration specification
</p>

<hr>
<h2 id='form_create'>Create a new (pre)registration form</h2><span id='topic+form_create'></span>

<h3>Description</h3>

<p>You can use this function to create a new (pre)registration form.
The &quot;Creating a (pre)registration form&quot; vignette explains how this works.
That is available at
<a href="https://preregr.opens.science/articles/creating_prereg_form.html">https://preregr.opens.science/articles/creating_prereg_form.html</a>
or can be shown by running <code>vignette("creating_prereg_form",
package = "preregr")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_create(
  title,
  version,
  author = NA,
  date = format(Sys.Date(), "%Y-%m-%d"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_create_+3A_title">title</code></td>
<td>
<p>The form's title</p>
</td></tr>
<tr><td><code id="form_create_+3A_version">version</code></td>
<td>
<p>The form's version. If there is only one version and the
creators do not plan to release future version, the recommendation is to
set the version to <code>1</code>. If the creators have no clear idea about how to
version the form (i.e. there may be improvements in the future), the
recommendation is to set the first version to <code style="white-space: pre;">&#8288;0.0.1&#8288;</code>, and roughly adopt
the system common for software: increment the first number when the form
is substantially updated (e.g. such that preregistrations that used the
previous version of the form may no longer be valid given the new version,
for example becaue sections were added or removed, or value templates
changed, etc), the third number for very small changes (e.g. typos,
spelling corrections, clarification or extra explanations, bug fixes in
regular expressions in value templates, etc), and the second number for
changes in between (e.g. changing the order of items or moving an item
to another section, or changing value templates to be more permissive (and
so, retaining compatibility with (pre)registrations that used the previous
version of the form)). In that case, use version <code style="white-space: pre;">&#8288;1.0.0&#8288;</code> to signal that the
form has reached maturity.</p>
</td></tr>
<tr><td><code id="form_create_+3A_author">author</code></td>
<td>
<p>The authors of the form</p>
</td></tr>
<tr><td><code id="form_create_+3A_date">date</code></td>
<td>
<p>The date the form was created</p>
</td></tr>
<tr><td><code id="form_create_+3A_...">...</code></td>
<td>
<p>Additional field-content pairs to specify arbitrary metadata.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>preregr</code> form object prefilled with some examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>exampleForm &lt;-
  preregr::form_create(
    title = "Example form",
    version = "0.1.0"
  );

### Show the form summary
exampleForm;
</code></pre>

<hr>
<h2 id='form_fromSpreadsheet'>Import a (pre)registration form specification from a spreadsheet</h2><span id='topic+form_fromSpreadsheet'></span>

<h3>Description</h3>

<p>With this function, you can import a (pre) registration from a
spreadsheet. See the &quot;Creating a form from a spreadsheet&quot; vignette
for more information. That is available at
<a href="https://preregr.opens.science/articles/creating_form_from_spreadsheet.html">https://preregr.opens.science/articles/creating_form_from_spreadsheet.html</a>
or can be shown by running <code>vignette("creating_form_from_spreadsheet",
package = "preregr")</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_fromSpreadsheet(
  x,
  localBackup = NULL,
  exportGoogleSheet = TRUE,
  xlsxPkg = c("rw_xl", "openxlsx", "XLConnect"),
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_fromSpreadsheet_+3A_x">x</code></td>
<td>
<p>The URL or path to a file.</p>
</td></tr>
<tr><td><code id="form_fromSpreadsheet_+3A_localbackup">localBackup</code></td>
<td>
<p>If not <code>NULL</code>, a valid filename to write a local
backup to.</p>
</td></tr>
<tr><td><code id="form_fromSpreadsheet_+3A_exportgooglesheet">exportGoogleSheet</code></td>
<td>
<p>If <code>x</code> is a URL to a Google Sheet, instead of using
thr <code>googlesheets4</code> package to download the data, by passing
<code>exportGoogleSheet=TRUE</code>, an export link will be produced and the data
will be downloaded as Excel spreadsheet.</p>
</td></tr>
<tr><td><code id="form_fromSpreadsheet_+3A_xlsxpkg">xlsxPkg</code></td>
<td>
<p>Which package to use to work with Excel spreadsheets.</p>
</td></tr>
<tr><td><code id="form_fromSpreadsheet_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An empty simple
example spreadsheet is available at
<a href="https://docs.google.com/spreadsheets/d/14Qbak7JbBhTqmJaMgJ4tU9ZROaBbUfq37_UzkoHnM60">https://docs.google.com/spreadsheets/d/14Qbak7JbBhTqmJaMgJ4tU9ZROaBbUfq37_UzkoHnM60</a>
and can be initialized as the <code>almostEmptyForm</code> form
with <code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>
</p>


<h3>Value</h3>

<p>The preregr form specification
</p>

<hr>
<h2 id='form_generalPurpose_v1_1'>Inclusive General-Purpose Registration Form</h2><span id='topic+form_generalPurpose_v1_1'></span><span id='topic+form_generalPurpose_v1'></span><span id='topic+generalPurpose_v1'></span><span id='topic+generalPurpose_v1_1'></span>

<h3>Description</h3>

<p>This Inclusive General-Purpose Registration Form is designed to be applicable
across disciplines (i.e., psychology, economics, law, physics, or any other
field) and across study types (i.e., qualitative studies, quantitative
studies, experiments, systematic reviews, case studies, archive studies,
comparative legal studies, or any other type of study). This form,
therefore, is a fall-back for more specialized forms and can be used if
no specialized form or registration platform is available. If at all
possible, it is recommended to use a specialized form, since this
inclusive general-purpose registration form achieves that inclusiveness
and general-purposeness at the cost of specificity and comprehensiveness.
Still, if specialized forms don't fit for your study, this form may be a
good backup.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_generalPurpose_v1_1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration form specification
</p>

<hr>
<h2 id='form_genSysRev_v1'>Generalized Systematic Review Registration Form</h2><span id='topic+form_genSysRev_v1'></span>

<h3>Description</h3>

<p>This paper presents a generalized registration form for systematic reviews
that can be used when currently available forms are not adequate. The form
is designed to be applicable across disciplines (i.e., psychology,
economics, law, physics, or any other field) and across review types
(i.e., scoping review, review of qualitative studies, meta-analysis, or
any other type of review). That means that the reviewed records may include
research reports as well as archive documents, case law, books, poems, etc.
Items were selected and formulated to optimize broad applicability instead
of specificity, forgoing some benefits afforded by a tighter focus. This
PRISMA 2020 compliant form is a fallback for more specialized forms and
can be used if no specialized form or registration platform is available.
When accessing this form on the Open Science Framework website, users will
therefore first be guided to specialized forms when they exist. In addition
to this use case, the form can also serve as a starting point for creating
registration forms that cater to specific fields or review types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_genSysRev_v1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration form specification
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.31222/osf.io/3nbea">doi:10.31222/osf.io/3nbea</a>
</p>

<hr>
<h2 id='form_inclDivAddon_v0_1'>Inclusivity &amp; Diversity Add-on for preregistration forms</h2><span id='topic+form_inclDivAddon_v0_1'></span><span id='topic+inclDivAddon_v0_1'></span>

<h3>Description</h3>

<p>This form is meant as a generic add-on that can be added to any
preregistration form to ensure that researchers are mindful about
issues related to inclusivity and diversity. With inclusivity we mean
&quot;The fact or quality of being inclusive; (now) esp. the practice or
policy of not excluding any person on the grounds of race, gender,
religion, age, disability, etc.; inclusiveness.&quot;
(Oxford University Press, n.d.-b).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_inclDivAddon_v0_1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration specification
</p>


<h3>Details</h3>

<p>With diversity we refer to &quot;The fact, condition, or practice of
including or involving people from a range of different social and
ethnic backgrounds, and (more recently) of different genders, sexual
orientations, etc.&quot; (Oxford University Press, n.d.-a).
</p>
<p>Oxford University Press. (n.d.-a). Diversity, n. In OED Online. Oxford
University Press. Retrieved November 29, 2022, from
https://www.oed.com/view/Entry/56064
</p>
<p>Oxford University Press. (n.d.-b). Inclusivity, n. In OED Online. Oxford
University Press. Retrieved November 29, 2022,
from https://www.oed.com/view/Entry/93584&quot;
</p>

<hr>
<h2 id='form_inclSysRev_v0_92'>Inclusive Systematic Review Registration Form</h2><span id='topic+form_inclSysRev_v0_92'></span><span id='topic+inclSysRev_v0_92'></span>

<h3>Description</h3>

<p>This Systematic Review Registration Form is intended as a general-purpose
registration form. The form is designed to be applicable to reviews across
disciplines (i.e., psychology, economics, law, physics, or any other field)
and across review types (i.e., scoping review, review of qualitative
studies, meta-analysis, or any other type of review). That means that the
reviewed records may include research reports as well as archive documents,
case law, books, poems, etc. This form, therefore, is a fall-back for more
specialized forms and can be used if no specialized form or registration
platform is available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_inclSysRev_v0_92
</code></pre>


<h3>Format</h3>

<p>A (pre)registration form specification
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.31222/osf.io/3nbea">doi:10.31222/osf.io/3nbea</a>
</p>

<hr>
<h2 id='form_knit'>Knit a (pre)registration form into an Rmd file</h2><span id='topic+form_knit'></span>

<h3>Description</h3>

<p>This function inserts a (pre)registration form, or one or more
sections, into an R Markdown file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_knit(x, section = NULL, headingLevel = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_knit_+3A_x">x</code></td>
<td>
<p>The (pre)registration form (as produced by a call
to <code><a href="#topic+form_create">form_create()</a></code>) or initialized <code>preregr</code> object
(as produced by a call to <code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="form_knit_+3A_section">section</code></td>
<td>
<p>The section(s) to show; pass <code>NULL</code> (the default) to show
everything.</p>
</td></tr>
<tr><td><code id="form_knit_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level to use for the top-most heading.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>preregr::form_create(
  title = "Example form",
  version = "0.1.0"
) |&gt;
  preregr::form_knit();
</code></pre>

<hr>
<h2 id='form_OSFprereg_v1'>OSF Prereg form</h2><span id='topic+form_OSFprereg_v1'></span><span id='topic+OSFprereg_v1'></span>

<h3>Description</h3>

<p>Preregistration is the act of submitting a study plan, ideally also
with analytical plan, to a registry prior to conducting the work.
Preregistration increases the discoverability of research even if it
does not get published further. Adding specific analysis plans can
clarify the distinction between planned, confirmatory tests and
unplanned, exploratory research.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_OSFprereg_v1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration form specification
</p>


<h3>Details</h3>

<p>This preprint contains a template for the &quot;OSF Prereg&quot; form available
from the OSF Registry. An earlier version was originally developed for
the Preregistration Challenge, an education campaign designed to
initiate preregistration as a habit prior to data collection in basic
research, funded by the Laura and John Arnold Foundation (now Arnold
Ventures) and conducted by the Center for Open Science. More information
is available at https://www.cos.io/initiatives/prereg/, and other templates
are available at: https://osf.io/zab38/&quot;
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.31222/osf.io/epgjd">doi:10.31222/osf.io/epgjd</a>
</p>

<hr>
<h2 id='form_OSFqual1_v1'>Qualitative Preregistration Template</h2><span id='topic+form_OSFqual1_v1'></span><span id='topic+OSFqual1_v1'></span>

<h3>Description</h3>

<p>The Qualitative Preregistration Template was created by researchers from
the qualitative community for registration of primarily qualitative work.
It is available as a registration option on the Open Science
Framework (OSF).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_OSFqual1_v1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration specification
</p>


<h3>Details</h3>

<p>This form was added to <code>preregr</code> by Aleksandra Lazic.
</p>

<hr>
<h2 id='form_prereg2D_v1'>Preregistration Template for Secondary Data Analysis</h2><span id='topic+form_prereg2D_v1'></span><span id='topic+prereg2D_v1'></span>

<h3>Description</h3>

<p>Please cite the associated paper when using this preregistration
template (see https://doi.org/10.15626/MP.2020.2625).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_prereg2D_v1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration specification
</p>

<hr>
<h2 id='form_preregQE_v0_95'>Preregistration Template for Qualitative and Quantitative Ethnographic Studies</h2><span id='topic+form_preregQE_v0_95'></span><span id='topic+form_preregQE_v0_93'></span><span id='topic+preregQE_v0_93'></span><span id='topic+form_preregQE_v0_94'></span><span id='topic+preregQE_v0_94'></span><span id='topic+preregQE_v0_95'></span>

<h3>Description</h3>

<p>A preregistration is a way to design your research project before you
begin and to document your decisions, rationale. A template such as
this one can be employed to think about what you want to do and how,
and subsequently, if you wish, you can submit the finished preregistration
to a registry, such as OSF's (https://osf.io/registries/). This template
was developed to aid the preregistration of quantitative ethnographic
studies, but due to its modular nature, it can be employed for qualitative
studies as well.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_preregQE_v0_95
</code></pre>


<h3>Format</h3>

<p>A (pre)registration form specification
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.23668/psycharchives.4584">doi:10.23668/psycharchives.4584</a>
</p>

<hr>
<h2 id='form_prpQuant_v1'>Psychological Research Preregistration-Quantitative (aka PRP-QUANT) Template</h2><span id='topic+form_prpQuant_v1'></span><span id='topic+prpQuant_v1'></span>

<h3>Description</h3>

<p>As an international effort toward increasing psychology’s commitment to
creating a stronger culture and practice of preregistration, a
multi-society Preregistration Task Force* was formed, following the
2018 meeting of the German Psychological Society in Frankfurt, Germany.
The Task Force created a detailed preregistration template that benefited
from the APA JARS Quantitative Research guidelines, as well as a
comprehensive review of many other preregistration templates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_prpQuant_v1
</code></pre>


<h3>Format</h3>

<p>A (pre)registration form specification
</p>


<h3>Source</h3>

<p><a href="https://doi.org/10.23668/psycharchives.4584">doi:10.23668/psycharchives.4584</a>
</p>

<hr>
<h2 id='form_show'>Show a (pre)registration form</h2><span id='topic+form_show'></span>

<h3>Description</h3>

<p>This function shows (parts of) a (pre)registration form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_show(x, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_show_+3A_x">x</code></td>
<td>
<p>The (pre)registration form (as produced by a call to
<code><a href="#topic+form_create">form_create()</a></code>).</p>
</td></tr>
<tr><td><code id="form_show_+3A_section">section</code></td>
<td>
<p>The section(s) to show; pass <code>NULL</code> (the default) to show
everything.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### An empty form
preregr::form_create(
  "Example form",
  version = "1"
) |&gt;
  preregr::form_show();

### A complete form
preregr::prereg_initialize("inclSysRev_v0_92") |&gt;
  preregr::form_show();
</code></pre>

<hr>
<h2 id='form_to_html'>Convert a (pre)registration form to html</h2><span id='topic+form_to_html'></span>

<h3>Description</h3>

<p>Convert a (pre)registration form to html
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_to_html(
  x,
  file = NULL,
  section = NULL,
  headingLevel = 1,
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_to_html_+3A_x">x</code></td>
<td>
<p>The (pre)registration form (as produced by a call
to <code><a href="#topic+form_create">form_create()</a></code>) or initialized <code>preregr</code> object
(as produced by a call to <code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="form_to_html_+3A_file">file</code></td>
<td>
<p>Optionally, a file to save the html to.</p>
</td></tr>
<tr><td><code id="form_to_html_+3A_section">section</code></td>
<td>
<p>Optionally, one or multiple sections to include (if <code>NULL</code>,
all sections are included).</p>
</td></tr>
<tr><td><code id="form_to_html_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the top-most headings.</p>
</td></tr>
<tr><td><code id="form_to_html_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Extract the form and show it as HTML
preregr::form_to_html(
  examplePrereg_1
);
</code></pre>

<hr>
<h2 id='form_to_json'>Convert a (pre)registration specification to YAML or JSON</h2><span id='topic+form_to_json'></span><span id='topic+prereg_spec_to_json'></span><span id='topic+print.preregr_json'></span><span id='topic+prereg_spec_to_yaml'></span><span id='topic+print.preregr_yaml'></span>

<h3>Description</h3>

<p>Convert a (pre)registration specification to YAML or JSON
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_to_json(x, file = NULL)

prereg_spec_to_json(x, includeFormSpec = TRUE, file = NULL)

## S3 method for class 'preregr_json'
print(x, ...)

prereg_spec_to_yaml(x, includeFormSpec = TRUE, file = NULL)

## S3 method for class 'preregr_yaml'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_to_json_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>), or, for the print method, the produced
YAML or JSON.</p>
</td></tr>
<tr><td><code id="form_to_json_+3A_file">file</code></td>
<td>
<p>Optionally, a file to save the YAML or JSON to.</p>
</td></tr>
<tr><td><code id="form_to_json_+3A_includeformspec">includeFormSpec</code></td>
<td>
<p>Whether to include the (pre)registration form
specification. Note that this includes metadata about the form fields
such as their labels and descriptions - without the form specification,
only the item identifiers are stored.</p>
</td></tr>
<tr><td><code id="form_to_json_+3A_...">...</code></td>
<td>
<p>Any additional arguments are ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If a file is specified to write, to, <code>x</code> will be returned invisibly
to allow building a pipe chain; if <code>file=NULL</code>, the resulting YAML/JSON
will be returned as a character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Export to YAML
preregr::prereg_spec_to_json(
  examplePrereg_1
);
### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Export to YAML
preregr::prereg_spec_to_yaml(
  examplePrereg_1
);
</code></pre>

<hr>
<h2 id='form_to_rmd_template'>Convert a (pre)registration form to an R Markdown template</h2><span id='topic+form_to_rmd_template'></span><span id='topic+print.preregr_rmd_template'></span>

<h3>Description</h3>

<p>This function creates an R Markdown template from a preregr
(pre)registrations form specification. Pass it the URL to a Google
Sheet holding the (pre)registration form specification (in preregr
format), see the
&quot;<a href="https://preregr.opens.science/articles/creating_form_from_spreadsheet.html">Creating a form from a spreadsheet</a>&quot;
vignette), the path to a file with a spreadsheet holding such a
specification, or a loaded or imported preregr (pre)registration form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_to_rmd_template(
  x,
  file = NULL,
  title = NULL,
  author = NULL,
  date = "`r format(Sys.time(), '%Y-%m-%d at %H:%M:%S %Z (UTC%z)')`",
  output = "html_document",
  yaml = list(title = title, author = author, date = date, output = output),
  includeYAML = TRUE,
  chunkOpts = "echo=FALSE, results='hide'",
  justify = FALSE,
  headingLevel = 2,
  showSpecification = FALSE,
  preventOverwriting = preregr::opts$get("preventOverwriting"),
  silent = preregr::opts$get("silent")
)

## S3 method for class 'preregr_rmd_template'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_to_rmd_template_+3A_x">x</code></td>
<td>
<p>The (pre)registration form (as produced by a call
to <code><a href="#topic+form_create">form_create()</a></code> or <code><a href="#topic+import_from_html">import_from_html()</a></code>) or
initialized <code>preregr</code> object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code> or <code><a href="#topic+import_from_html">import_from_html()</a></code>); or, for
the printing method, the R Markdown template produced by a call to
<code><a href="#topic+form_to_rmd_template">form_to_rmd_template()</a></code>.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_file">file</code></td>
<td>
<p>Optionally, a file to save the html to.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_title">title</code></td>
<td>
<p>The title to specify in the template's YAML front matter.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_author">author</code></td>
<td>
<p>The author to specify in the template's YAML front matter.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_date">date</code></td>
<td>
<p>The date to specify in the template's YAML front matter.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_output">output</code></td>
<td>
<p>The output format to specify in the template's YAML
front matter.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_yaml">yaml</code></td>
<td>
<p>It is also possible to specify the YAML front matter directly
using this argument. If used, it overrides anything specified in <code>title</code>,
<code>author</code>, <code>date</code> and <code>output</code>.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_includeyaml">includeYAML</code></td>
<td>
<p>Whether to include the YAML front matter or omit it.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_chunkopts">chunkOpts</code></td>
<td>
<p>The chunk options to set for the chunks in the template.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_justify">justify</code></td>
<td>
<p>Whether to use <code><a href="#topic+prereg_specify">prereg_specify()</a></code> as function for
specifying the (pre)registration content (if <code>FALSE</code>), or
<code><a href="#topic+prereg_justify">prereg_justify()</a></code> (if <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the top-most heading to use (the
title of the (pre)registration form).</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_showspecification">showSpecification</code></td>
<td>
<p>Whether to show the specification in the Rmd
output. When <code>FALSE</code>, the <code>preregr</code> option <code>silent</code> is set to <code>TRUE</code> at
the start of the Rmd template; otherwise, it is set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_preventoverwriting">preventOverwriting</code></td>
<td>
<p>Set to <code>FALSE</code> to override overwrite prevention.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
<tr><td><code id="form_to_rmd_template_+3A_...">...</code></td>
<td>
<p>Additional argument are ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>preregr::form_create(
  title = "Example form",
  version = "0.1.0"
) |&gt;
  preregr::form_to_rmd_template();
</code></pre>

<hr>
<h2 id='form_to_xlsx'>Export a (pre)registration form to an Excel spreadsheet</h2><span id='topic+form_to_xlsx'></span>

<h3>Description</h3>

<p>Export a (pre)registration form to an Excel spreadsheet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>form_to_xlsx(x, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="form_to_xlsx_+3A_x">x</code></td>
<td>
<p>The (pre)registration form (as produced by a call
to <code><a href="#topic+form_create">form_create()</a></code>) or initialized <code>preregr</code> object
(as produced by a call to <code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="form_to_xlsx_+3A_file">file</code></td>
<td>
<p>The file to write the spreadsheet to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>

<hr>
<h2 id='forms'>Included (pre)registration forms</h2><span id='topic+forms'></span>

<h3>Description</h3>

<p>Show an overview of all included (pre)registration forms.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forms()
</code></pre>


<h3>Value</h3>

<p>Invisibly, a list of form identifiers of the available forms.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>forms();
</code></pre>

<hr>
<h2 id='heading'>Print a heading</h2><span id='topic+heading'></span>

<h3>Description</h3>

<p>This is just a convenience function to print a markdown or HTML heading at
a given 'depth'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>heading(
  ...,
  headingLevel = preregr::opts$get("defaultHeadingLevel"),
  output = "markdown",
  cat = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="heading_+3A_...">...</code></td>
<td>
<p>The heading text: pasted together with no separator.</p>
</td></tr>
<tr><td><code id="heading_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the heading; the default can be set
with e.g. <code>preregr::opts$set(defaultHeadingLevel=1)</code>.</p>
</td></tr>
<tr><td><code id="heading_+3A_output">output</code></td>
<td>
<p>Whether to output to HTML (&quot;<code>html</code>&quot;) or markdown (anything
else).</p>
</td></tr>
<tr><td><code id="heading_+3A_cat">cat</code></td>
<td>
<p>Whether to cat (print) the heading or just invisibly return it.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The heading, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>heading("Hello ", "World", headingLevel=5);
### This produces: "\n\n##### Hello World\n\n"
</code></pre>

<hr>
<h2 id='import_from_html'>Import a (pre)registration specification from JSON embedded in HTML</h2><span id='topic+import_from_html'></span>

<h3>Description</h3>

<p>Import a (pre)registration specification from JSON embedded in HTML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import_from_html(x, select = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="import_from_html_+3A_x">x</code></td>
<td>
<p>The HTML as URL, path to a file, or HTML that has already
been imported to a character vector.</p>
</td></tr>
<tr><td><code id="import_from_html_+3A_select">select</code></td>
<td>
<p>If multiple <code>preregr</code> specifications are present in <code>x</code>,
the <code>select</code> argument can be used to select which one to import. <code>select</code>
is a number corresponding to the order of the encountered <code>preregr</code>
specifications (e.g., pass <code>2</code> to import the second specification, etc).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The (pre)registration specification.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Note that this example writes to a local file!

### Temporary file to save to
tmpFile &lt;- tempfile(fileext = ".html");

### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Save it to an HTML file
preregr::prereg_spec_to_html(
  examplePrereg_1,
  file = tmpFile
);

### Import the example again
importedPreregr &lt;-
  preregr::import_from_html(
    tmpFile
  );

### Show the result
preregr::prereg_show_item_completion(
  importedPreregr,
  section="metadata"
);

</code></pre>

<hr>
<h2 id='number_as_xl_date'>Convert a number to a date using Excel's system</h2><span id='topic+number_as_xl_date'></span>

<h3>Description</h3>

<p>Convert a number to a date using Excel's system
</p>


<h3>Usage</h3>

<pre><code class='language-R'>number_as_xl_date(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="number_as_xl_date_+3A_x">x</code></td>
<td>
<p>The number(s)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The date(s)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>preregr::number_as_xl_date(44113);
</code></pre>

<hr>
<h2 id='opts'>Options for the preregr package</h2><span id='topic+opts'></span><span id='topic+set'></span><span id='topic+get'></span><span id='topic+reset'></span>

<h3>Description</h3>

<p>The <code>preregr::opts</code> object contains three functions to set, get, and reset
options used by the preregr package. Use <code>preregr::opts$set</code> to set options,
<code>preregr::opts$get</code> to get options, or <code>preregr::opts$reset</code> to reset specific or
all options to their default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opts
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 4.
</p>


<h3>Details</h3>

<p>It is normally not necessary to get or set <code>preregr</code> options.
</p>
<p>The following arguments can be passed:
</p>

<dl>
<dt>...</dt><dd><p>For <code>preregr::opts$set</code>, the dots can be used to specify the options
to set, in the format <code>option = value</code>, for example, <code>utteranceMarker = "\n"</code>. For
<code>preregr::opts$reset</code>, a list of options to be reset can be passed.</p>
</dd>
<dt>option</dt><dd><p>For <code>preregr::opts$set</code>, the name of the option to set.</p>
</dd>
<dt>default</dt><dd><p>For <code>preregr::opts$get</code>, the default value to return if the
option has not been manually specified.</p>
</dd>
</dl>

<p>The following options can be set:
</p>

<dl>
<dt>quridPrefix</dt><dd><p>The prefix for quasi-unique record identifiers (QURIDs).</p>
</dd>
<dt>Two</dt><dd><p>Second item</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>### Get the default "silence versus chattiness" setting
preregr::opts$get(silent);

### Set it to show all messages
preregr::opts$set(silent = FALSE);

### Check that it worked
preregr::opts$get(silent);

### Reset this option to its default value
preregr::opts$reset(silent);

### Check that the reset worked, too
preregr::opts$get(silent);

</code></pre>

<hr>
<h2 id='prereg_initialize'>Initialize a (pre)registration</h2><span id='topic+prereg_initialize'></span>

<h3>Description</h3>

<p>To initialize a (pre)registration, pass the URL to a Google Sheet holding
the (pre)registration form specification (in preregr format), see the
&quot;<a href="https://preregr.opens.science/articles/creating_form_from_spreadsheet.html">Creating a form from a spreadsheet</a>&quot;
vignette), the path to a file with a spreadsheet holding such a
specification, or a loaded or imported preregr (pre)registration form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_initialize(x, initialText = "Unspecified")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_initialize_+3A_x">x</code></td>
<td>
<p>The (pre)registration form specification, as a URL to a Google
Sheet or online file or as the path to a locally stored file.</p>
</td></tr>
<tr><td><code id="prereg_initialize_+3A_initialtext">initialText</code></td>
<td>
<p>The text to initialize every field with.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For an introduction to working with preregr (pre)registrations,
see the
&quot;<a href="https://preregr.opens.science/articles/specifying_prereg_content.html">Specifying preregistration content</a>&quot;
vignette.
</p>


<h3>Value</h3>

<p>The empty (pre)registration specification.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>preregr::prereg_initialize(
  "inclSysRev_v0_92"
);
</code></pre>

<hr>
<h2 id='prereg_justify'>Justify (and optionally specify) the content for one or more (pre)registration items</h2><span id='topic+prereg_justify'></span>

<h3>Description</h3>

<p>Justify (and optionally specify) the content for one or more (pre)registration items
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_justify(
  x,
  item,
  decision = NULL,
  justification = NULL,
  assertion = NULL,
  source = NULL,
  content = NULL,
  append = TRUE,
  validate = TRUE,
  requireValidContent = TRUE,
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_justify_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_item">item</code></td>
<td>
<p>The identifier of the item for which to specify the justification
of the (pre)registration content.</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_decision">decision</code>, <code id="prereg_justify_+3A_justification">justification</code>, <code id="prereg_justify_+3A_assertion">assertion</code>, <code id="prereg_justify_+3A_source">source</code></td>
<td>
<p>The decision(s) (with
optionally nested within it, one or more justifications), justification(s)
(with optionally nested within it, one or more assertions), assertion(s)
(with optionally nested within it, one or more sources), or source(s).</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_content">content</code></td>
<td>
<p>Optionally, content to specify or append for this item.</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_append">append</code></td>
<td>
<p>Whether to replace (<code>append=FALSE</code>) or append (<code>append=TRUE</code>)
the content if an item already contains some content.</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_validate">validate</code></td>
<td>
<p>Whether to validate the specified content for each item
using the validation rules in the (pre)registration form.</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_requirevalidcontent">requireValidContent</code></td>
<td>
<p>Whether to only store new content if it passes
validation. Note that this is ignored if <code>validate=FALSE</code>.</p>
</td></tr>
<tr><td><code id="prereg_justify_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Start with an empty form, then specify and justify
### content for an item.
preregExampl &lt;-
  preregr::prereg_initialize(
    "inclSysRev_v0_92"
  ) |&gt;
    preregr::prereg_justify(
      item = "title",
      content = "Example title",
      decision = "We decide to call this study 'Example title'.",
      justification = "It seems a fitting title for an example."
    ) |&gt;
    preregr::prereg_show_item_completion(
      section="metadata"
    );
</code></pre>

<hr>
<h2 id='prereg_knit_item_content'>Knit the specified content for the items in a (pre)registration into an Rmd file</h2><span id='topic+prereg_knit_item_content'></span>

<h3>Description</h3>

<p>This function inserts the specified content for the items in a
(pre)registration, or in one or more sections, into an R Markdown file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_knit_item_content(x, section = NULL, headingLevel = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_knit_item_content_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_knit_item_content_+3A_section">section</code></td>
<td>
<p>The section(s) to show; pass <code>NULL</code> (the default) to show
everything.</p>
</td></tr>
<tr><td><code id="prereg_knit_item_content_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level to use for the top-most heading.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Knit the contents of the "metadata" section
### as an R Markdown partial
examplePrereg_1 |&gt;
  preregr::prereg_knit_item_content(
    section="metadata"
  );
</code></pre>

<hr>
<h2 id='prereg_next_item'>Show the next item to specify content for</h2><span id='topic+prereg_next_item'></span>

<h3>Description</h3>

<p>This function shows the next item (or items) in a (pre)registration
for which to specify content (searching through all sections or through
a selection of sections).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_next_item(x, nrOfItems = 1, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_next_item_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_next_item_+3A_nrofitems">nrOfItems</code></td>
<td>
<p>The number of items to complete to show.</p>
</td></tr>
<tr><td><code id="prereg_next_item_+3A_section">section</code></td>
<td>
<p>The section(s) to search; pass <code>NULL</code> (the default) to show
everything.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Check next item
examplePrereg_1 |&gt;
  preregr::prereg_next_item();

### Specify content for this item
examplePrereg_1 &lt;-
  preregr::prereg_specify(
    examplePrereg_1,
    funding = paste0(
      "No funding. There's never any ",
      "funding for this kind of stuff."
    )
  );

### Get the next three items
preregr::prereg_next_item(
  examplePrereg_1,
  nrOfItems = 3
);

</code></pre>

<hr>
<h2 id='prereg_show_item_completion'>Show which items in a (pre)registration have been completed</h2><span id='topic+prereg_show_item_completion'></span>

<h3>Description</h3>

<p>This function shows which items in a (pre)registration, or in one or more
sections, have been completed - or, more accurately, contain at least some
content that is different from the default content.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_show_item_completion(x, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_show_item_completion_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_show_item_completion_+3A_section">section</code></td>
<td>
<p>The section(s) to show; pass <code>NULL</code> (the default) to show
everything.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Show which items were completed
examplePrereg_1 |&gt;
  preregr::prereg_show_item_completion(
    section="metadata"
  );
</code></pre>

<hr>
<h2 id='prereg_show_item_content'>Show the specified content for the items in a (pre)registration</h2><span id='topic+prereg_show_item_content'></span>

<h3>Description</h3>

<p>This function shows the specified content for the items in a
(pre)registration, or in one or more sections.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_show_item_content(x, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_show_item_content_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_show_item_content_+3A_section">section</code></td>
<td>
<p>The section(s) to show; pass <code>NULL</code> (the default) to show
everything.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Show the item content for the "metadata" section
examplePrereg_1 |&gt;
  preregr::prereg_show_item_content(
    section="metadata"
  );
</code></pre>

<hr>
<h2 id='prereg_spec_to_html'>Convert a (pre)registration specification to html</h2><span id='topic+prereg_spec_to_html'></span>

<h3>Description</h3>

<p>Use this function to export your (pre)registration specification to an
HTML file. To instead embed it in an R Markdown file, use
<code><a href="#topic+prereg_knit_item_content">prereg_knit_item_content()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_spec_to_html(
  x,
  file = NULL,
  section = NULL,
  headingLevel = 1,
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_spec_to_html_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_spec_to_html_+3A_file">file</code></td>
<td>
<p>Optionally, a file to save the html to.</p>
</td></tr>
<tr><td><code id="prereg_spec_to_html_+3A_section">section</code></td>
<td>
<p>Optionally, one or multiple sections to include (if <code>NULL</code>,
all sections are included).</p>
</td></tr>
<tr><td><code id="prereg_spec_to_html_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the top-most headings.</p>
</td></tr>
<tr><td><code id="prereg_spec_to_html_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The produced HTML, which will print in the viewer in RStudio.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Convert it to HTML and show the result
preregr::prereg_spec_to_html(
  examplePrereg_1
);
</code></pre>

<hr>
<h2 id='prereg_spec_to_pdf'>Convert a (pre)registration specification to PDF</h2><span id='topic+prereg_spec_to_pdf'></span>

<h3>Description</h3>

<p>Use this function to export your (pre)registration specification to a PDF
file. To embed it in an R Markdown file, use
<code><a href="#topic+prereg_knit_item_content">prereg_knit_item_content()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_spec_to_pdf(
  x,
  file,
  author = NULL,
  section = NULL,
  headingLevel = 1,
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_spec_to_pdf_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_spec_to_pdf_+3A_file">file</code></td>
<td>
<p>The filename to save the (pre)registration to.</p>
</td></tr>
<tr><td><code id="prereg_spec_to_pdf_+3A_author">author</code></td>
<td>
<p>The author to specify in the PDF.</p>
</td></tr>
<tr><td><code id="prereg_spec_to_pdf_+3A_section">section</code></td>
<td>
<p>Optionally, one or multiple sections to include (if <code>NULL</code>,
all sections are included).</p>
</td></tr>
<tr><td><code id="prereg_spec_to_pdf_+3A_headinglevel">headingLevel</code></td>
<td>
<p>The level of the top-most headings.</p>
</td></tr>
<tr><td><code id="prereg_spec_to_pdf_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Use a temporary file to write to
tmpFile &lt;- tempfile(fileext = ".pdf");

### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Only run this if you have a functional LaTeX installation
if (FALSE) {
  preregr::prereg_spec_to_pdf(
    examplePrereg_1,
    file = tmpFile
  );
}
</code></pre>

<hr>
<h2 id='prereg_specify'>Specify the content for one or more (pre)registration items</h2><span id='topic+prereg_specify'></span>

<h3>Description</h3>

<p>Specify the content for one or more (pre)registration items
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prereg_specify(
  x,
  ...,
  append = TRUE,
  validate = TRUE,
  requireValidContent = TRUE,
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prereg_specify_+3A_x">x</code></td>
<td>
<p>The (pre)registration object (as produced by a call to
<code><a href="#topic+prereg_initialize">prereg_initialize()</a></code>).</p>
</td></tr>
<tr><td><code id="prereg_specify_+3A_...">...</code></td>
<td>
<p>Item-content pairings.</p>
</td></tr>
<tr><td><code id="prereg_specify_+3A_append">append</code></td>
<td>
<p>Whether to replace (<code>append=FALSE</code>) or append (<code>append=TRUE</code>)
the content if an item already contains some content.</p>
</td></tr>
<tr><td><code id="prereg_specify_+3A_validate">validate</code></td>
<td>
<p>Whether to validate the specified content for each item
using the validation rules in the (pre)registration form.</p>
</td></tr>
<tr><td><code id="prereg_specify_+3A_requirevalidcontent">requireValidContent</code></td>
<td>
<p>Whether to only store new content if it passes
validation. Note that this is ignored if <code>validate=FALSE</code>.</p>
</td></tr>
<tr><td><code id="prereg_specify_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x, invisibly
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Load an example (pre)registration specification
data("examplePrereg_1", package = "preregr");

### Specify some fields and show the results
examplePrereg_1 |&gt;
  preregr::prereg_specify(
    tasks_and_roles = "All authors contributed equally",
    nonExistent_item = "This can't be stored anywhere",
    start_date = "2021-9-01"
  ) |&gt;
  preregr::prereg_show_item_completion(
    section="metadata"
  );
</code></pre>

<hr>
<h2 id='preregr-package'>preregr: Specify (Pre)Registrations and Export Them Human- And Machine-Readably</h2><span id='topic+preregr'></span><span id='topic+preregr-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Preregistrations, or more generally, registrations, enable explicit timestamped and (often but not necessarily publicly) frozen documentation of plans and expectations as well as decisions and justifications. In research, preregistrations are commonly used to clearly document plans and facilitate justifications of deviations from those plans, as well as decreasing the effects of publication bias by enabling identification of research that was conducted but not published. Like reporting guidelines, (pre)registration forms often have specific structures that facilitate systematic reporting of important items. The 'preregr' package facilitates specifying (pre)registrations in R and exporting them to a human-readable format (using R Markdown partials or exporting to an 'HTML' file) as well as human-readable embedded data (using 'JSON'), as well as importing such exported (pre)registration specifications from such embedded 'JSON'.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Gjalt-Jorn Peters <a href="mailto:preregr@opens.science">preregr@opens.science</a> (<a href="https://orcid.org/0000-0002-0336-9589">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Szilvia Zörgő (<a href="https://orcid.org/0000-0002-6916-2097">ORCID</a>) [contributor]
</p>
</li>
<li><p> Olmo den Akker (<a href="https://orcid.org/0000-0002-0712-3746">ORCID</a>) [contributor]
</p>
</li>
<li><p> Aleksandra Lazić (<a href="https://orcid.org/0000-0002-0433-0483">ORCID</a>) [contributor]
</p>
</li>
<li><p> Thomas Gültzow (<a href="https://orcid.org/0000-0002-9268-1880">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://preregr.opens.science">https://preregr.opens.science</a>
</p>
</li>
<li><p> Report bugs at <a href="https://gitlab.com/r-packages/preregr/-/issues">https://gitlab.com/r-packages/preregr/-/issues</a>
</p>
</li></ul>


<hr>
<h2 id='randomSlug'>Generate a random slug</h2><span id='topic+randomSlug'></span><span id='topic+idSlug'></span>

<h3>Description</h3>

<p>idSlug is a convenience function with swapped argument order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randomSlug(x = 10, id = NULL, chars = c(letters, LETTERS, 0:9))

idSlug(id = NULL, x = 10, chars = c(letters, LETTERS, 0:9))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="randomSlug_+3A_x">x</code></td>
<td>
<p>Length of slug</p>
</td></tr>
<tr><td><code id="randomSlug_+3A_id">id</code></td>
<td>
<p>If not NULL, prepended to slug (separated with a dash) as id; in
that case, it's also braces and a hash is added.</p>
</td></tr>
<tr><td><code id="randomSlug_+3A_chars">chars</code></td>
<td>
<p>Characters to sample from</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>randomSlug();
idSlug("identifier");
</code></pre>

<hr>
<h2 id='rbind_df_list'>Bind lots of dataframes together rowwise</h2><span id='topic+rbind_df_list'></span>

<h3>Description</h3>

<p>Bind lots of dataframes together rowwise
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbind_df_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rbind_df_list_+3A_x">x</code></td>
<td>
<p>A list of dataframes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rbind_df_list(list(Orange, mtcars, ChickWeight));
</code></pre>

<hr>
<h2 id='rbind_dfs'>Simple alternative for rbind.fill or bind_rows</h2><span id='topic+rbind_dfs'></span>

<h3>Description</h3>

<p>Simple alternative for rbind.fill or bind_rows
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rbind_dfs(x, y, clearRowNames = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rbind_dfs_+3A_x">x</code></td>
<td>
<p>One dataframe</p>
</td></tr>
<tr><td><code id="rbind_dfs_+3A_y">y</code></td>
<td>
<p>Another dataframe</p>
</td></tr>
<tr><td><code id="rbind_dfs_+3A_clearrownames">clearRowNames</code></td>
<td>
<p>Whether to clear row names (to avoid duplication)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The merged dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rbind_dfs(Orange, mtcars);
</code></pre>

<hr>
<h2 id='read_spreadsheet'>Convenience function to read spreadsheet-like files</h2><span id='topic+read_spreadsheet'></span>

<h3>Description</h3>

<p>Currently reads spreadsheets from Google Sheets or from <code>xlsx</code>, <code>csv</code>,
or <code>sav</code> files. Normally, you don't use this, but instead you
use <code><a href="#topic+form_fromSpreadsheet">form_fromSpreadsheet()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_spreadsheet(
  x,
  sheet = NULL,
  columnDictionary = NULL,
  localBackup = NULL,
  exportGoogleSheet = FALSE,
  flattenSingleDf = FALSE,
  xlsxPkg = c("rw_xl", "openxlsx", "XLConnect"),
  failQuietly = FALSE,
  silent = preregr::opts$get("silent")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_spreadsheet_+3A_x">x</code></td>
<td>
<p>The URL or path to a file.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_sheet">sheet</code></td>
<td>
<p>Optionally, the name(s) of the worksheet(s) to select.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_columndictionary">columnDictionary</code></td>
<td>
<p>Optionally, a dictionary with column names to
check for presence. A named list of vectors.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_localbackup">localBackup</code></td>
<td>
<p>If not <code>NULL</code>, a valid filename to write a local
backup to.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_exportgooglesheet">exportGoogleSheet</code></td>
<td>
<p>If <code>x</code> is a URL to a Google Sheet, instead of using
thr <code>googlesheets4</code> package to download the data, by passing
<code>exportGoogleSheet=TRUE</code>, an export link will be produced and the data
will be downloaded as Excel spreadsheet.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_flattensingledf">flattenSingleDf</code></td>
<td>
<p>Whether to return the result as a data frame if
only one data frame is returned as a result.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_xlsxpkg">xlsxPkg</code></td>
<td>
<p>Which package to use to work with Excel spreadsheets.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_failquietly">failQuietly</code></td>
<td>
<p>Whether to give an error when <code>x</code> is not a valid URL
or existing file, or just return <code>NULL</code> invisibly.</p>
</td></tr>
<tr><td><code id="read_spreadsheet_+3A_silent">silent</code></td>
<td>
<p>Whether to be silent or chatty.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of dataframes, or, if only one data frame was loaded and
<code>flattenSingleDf</code> is <code>TRUE</code>, a data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Note that this example requires an internet connection!
read_spreadsheet(
  paste0(
    "https://docs.google.com/",
    "spreadsheets/d/",
    "1bHDzpCu4CwEa5_3_q_9vH2691XPhCS3e4Aj_HLhw_U8"
  )
);

</code></pre>

<hr>
<h2 id='repeatStr'>Repeat a string a number of times</h2><span id='topic+repeatStr'></span><span id='topic+repStr'></span>

<h3>Description</h3>

<p>Repeat a string a number of times
</p>


<h3>Usage</h3>

<pre><code class='language-R'>repeatStr(n = 1, str = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="repeatStr_+3A_n">n</code>, <code id="repeatStr_+3A_str">str</code></td>
<td>
<p>Normally, respectively the frequency with which to
repeat the string and the string to repeat; but the order of the
inputs can be switched as well.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### 10 spaces:
repStr(10);

### Three euro symbols:
repStr("\u20ac", 3);
</code></pre>

<hr>
<h2 id='serialize_df'>&quot;Serialize&quot; a data frame or (pre)registration specification</h2><span id='topic+serialize_df'></span><span id='topic+structure_for_serialization'></span>

<h3>Description</h3>

<p>When exporting a (pre)registration specification to YAML or JSON, the most
human-readable format differs from the way data frames are comprised of
lists. Data frames are lists that are bound together as columns; and so,
when saving a data frame to YAML or JSON, the data in each column is
combined (e.g. first all item identifiers, then all item labels, then all
item descriptions, etc). However, for humans, it makes more sense to
have all data belonging to the same item close together. These functions
do that processing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>serialize_df(x, idCol = NULL)

structure_for_serialization(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="serialize_df_+3A_x">x</code></td>
<td>
<p>For <code>serialize_df</code>, a data frame; for
<code>structure_for_serialization</code>, the (pre)registration specification</p>
</td></tr>
<tr><td><code id="serialize_df_+3A_idcol">idCol</code></td>
<td>
<p>If not <code>NULL</code>, the name of a column in the data frame to use
as names for the lists.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The restructured list
</p>

<hr>
<h2 id='serialized_data_to_dfs'>In an object imported from YAML or JSON, convert some elements to dataframes</h2><span id='topic+serialized_data_to_dfs'></span>

<h3>Description</h3>

<p>In an object imported from YAML or JSON, convert some elements to dataframes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>serialized_data_to_dfs(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="serialized_data_to_dfs_+3A_x">x</code></td>
<td>
<p>The just imported (pre)registration specification</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The restructured object
</p>

<hr>
<h2 id='source'>Programmatically constructing justifier elements</h2><span id='topic+source'></span><span id='topic+dcsn'></span><span id='topic+jstf'></span><span id='topic+asrt'></span><span id='topic+srce'></span><span id='topic+decide'></span><span id='topic+decision'></span><span id='topic+assert'></span><span id='topic+justify'></span>

<h3>Description</h3>

<p>These functions can be used to programmatically construct decision,
justifications, assertions, and sources using the <code>justifier</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>source(label, description = NULL, type = NULL, id = NULL, xdoi = NULL, ...)

assert(label, description = "", type = NULL, id = NULL, source = NULL, ...)

justify(label, description = "", type = NULL, id = NULL, assertion = NULL, ...)

decide(
  label,
  description = NULL,
  type = NULL,
  id = NULL,
  alternatives = NULL,
  justification = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="source_+3A_label">label</code></td>
<td>
<p>A human-readable label for the <code>decision</code>, <code>justification</code>,
<code>assertion</code>, or <code>source</code>. Labels are brief summaries of the core of the
decision, justification, assertion, or source. More details, background
information, context, and other comments can be placed in the description.</p>
</td></tr>
<tr><td><code id="source_+3A_description">description</code></td>
<td>
<p>A human-readable description. This can be used to
elaborate on the label. Note that the label should be reader-friendly and
self-contained; but because they also have to be as short as possible,
descriptions can be used to provide definitions, context, background
information, or add any other metadata or comments.</p>
</td></tr>
<tr><td><code id="source_+3A_type">type</code></td>
<td>
<p>Types are used when working with a framework. Frameworks define
type identifiers, consisting of letters, digits, and underscores. By
specifying these identifiers the type of a decision, justification,
assertion, or source. Source types can be, for example, types of documents
or other data providers, such as &quot;empirical evidence', 'expert consensus',
'personal opinion', or 'that one meeting that we had in May'. Assertion
types can be, for example, data types or types of facts, such as 'number',
'prevalence', 'causal relationship', or 'contact information'.
Justification types can be, for example, types of reasoning or logical
expressions, such as 'deduction', 'induction', or 'intersection'. Decision
types are the most framework-specific, heavily depend on the specific
context of the decision, and are used by frameworks to organise the
decisions in a project. Examples of decision types are the decision to
recruit a certain number of participants in a scientific study; the decision
to target a certain belief in a behavior change intervention; the decision
to merge two codes in a qualitative study; the decision to hire a staff
member; or the decision to make a certain purchase.</p>
</td></tr>
<tr><td><code id="source_+3A_id">id</code></td>
<td>
<p>The identifier (randomly generated if omitted).</p>
</td></tr>
<tr><td><code id="source_+3A_xdoi">xdoi</code></td>
<td>
<p>For <code>source</code>s, XDOI identifier (a DOI, or, if that does not
exist, ISBN or other unique identifier of the source).</p>
</td></tr>
<tr><td><code id="source_+3A_...">...</code></td>
<td>
<p>Additional fields and values to store in the element.</p>
</td></tr>
<tr><td><code id="source_+3A_source">source</code></td>
<td>
<p>In assertions, the source (or sources) that the assertion
is based on can be specified using <code>srce()</code>.</p>
</td></tr>
<tr><td><code id="source_+3A_assertion">assertion</code></td>
<td>
<p>In justifications, the assertion (or assertions) that
the justification is based on can be specified using <code>asrt()</code>.</p>
</td></tr>
<tr><td><code id="source_+3A_alternatives">alternatives</code></td>
<td>
<p>The alternatives that were considered in a decision.</p>
</td></tr>
<tr><td><code id="source_+3A_justification">justification</code></td>
<td>
<p>In decisions, the justification (or justifications)
that the decision is based on can be specified using <code>jstf()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The generated object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Programmatically create a partial justification object
exampleAssertion &lt;-
  preregr::assert(
    "This is an assertion",
    source = c(
      preregr::source('This is a first source'),
      preregr::source('This is a second source')));

### Programmatically create a justification with two assertions
### but without sources
exampleJustification &lt;-
  preregr::justify(
    "Icecream will make me feel less fit",
    assertion = c(
      preregr::assert('Icecream is rich in energy'),
      preregr::assert('Consuming high-energy foods makes me feel less fit')
    ),
    weight = -.5
  );

### Show it
exampleJustification;

### Programmatically create a simple decision
simpleDecision &lt;-
  preregr::decide(
    "decision",
    justification = preregr::jstf(
      "justification",
      assertion = exampleAssertion
    )
  );

### Programmatically create a justification object for a full decision
fullJustifierObject &lt;-
  preregr::decide(
    "I decide to go get an icecream",
    justification = c(
      preregr::justify(
        "Having an icecream now would make me happy",
        assertion = c(
          preregr::assert(
            "Decreasing hunger increases happiness",
            source = preregr::source(
              "My past experiences"
            )
          ),
          preregr::assert(
            "I feel hungry",
            source = preregr::source(
              "Bodily sensations"
            )
          )
        ),
        weight = 1
      ),
      exampleJustification,
      preregr::justify(
        "I can afford to buy an icecream.",
        assertion = c(
          preregr::assert(
            "My bank account balance is over 300 euro.",
            source = preregr::source(
              "My bank app"
            )
          ),
          preregr::assert(
            "I need to keep at least 100 euro in my bank account.",
            source = preregr::source(
              "Parental advice"
            )
          )
        ),
        weight = .3
      )
    )
  );

### Show the full object
fullJustifierObject;

### Combine both into a list of decisions
twoDecisions &lt;-
  c(simpleDecision,
    fullJustifierObject);

### Show the combination
twoDecisions;

</code></pre>

<hr>
<h2 id='validate_value'>Validate a value</h2><span id='topic+validate_value'></span>

<h3>Description</h3>

<p>This function validates a value. Before validation, it checks
the validation expression and optionally performs replacements, where the
replacement strings (delimited by the validation replacement delimiters,
by default, <code style="white-space: pre;">&#8288;{{&#8288;</code> and <code style="white-space: pre;">&#8288;}}&#8288;</code>) are
replaced by the first valid corresponding value from the
<code>replacementSources</code> (working through those sources consecutively, i.e.
only looking in the second one of the first one doesn't contain a valid
value for the relevant replacement string, valid being defined as a value
that is not NULL or NA and has, after being trimmed of whitespace, a
nonzero length).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_value(
  VALUE,
  validations,
  replacementSources,
  errorMessages,
  convert_bipiped = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_value_+3A_value">VALUE</code></td>
<td>
<p>The value to validate.</p>
</td></tr>
<tr><td><code id="validate_value_+3A_validations">validations</code></td>
<td>
<p>The validations, a vector or list that will be
consecutively searched for the first valid value (valid being defined as
a value that is not NULL or NA and has, after being trimmed of whitespace,
a nonzero length). That value has to be either as an R expression, or a
character value (i.e. a length 1 character vector) that is a valid R
expression, optionally after having performed the specified replacements.</p>
</td></tr>
<tr><td><code id="validate_value_+3A_replacementsources">replacementSources</code></td>
<td>
<p>A list of named lists (or 1-row data frames) that
will be searched, consecutively, for values to replace the replacement
strings with.</p>
</td></tr>
<tr><td><code id="validate_value_+3A_errormessages">errorMessages</code></td>
<td>
<p>The errormessage to return if validation fails, of which
the first valid one will be returned (valid being defined as a value that is
not NULL or NA and has, after being trimmed of whitespace, a nonzero length).</p>
</td></tr>
<tr><td><code id="validate_value_+3A_convert_bipiped">convert_bipiped</code></td>
<td>
<p>Whether to first run <code><a href="#topic+bipiped_value_to_vector">bipiped_value_to_vector()</a></code> on
the replacment values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To change the validation replacement delimiters, use
<code>preregr::opts$set(validation_replacementDelimiters = c("{{", "}}"));</code>.
</p>


<h3>Value</h3>

<p>The message resulting from the validation (i.e. an error or &quot;&quot;).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Set some validation variables
validationStatement &lt;-
  paste(
    "is.na(VALUE) ||",
    "(VALUE %in% {{validValues}}) ||",
    "(VALUE %in% {{testField}})"
  );
replacementSources &lt;-
  list(
    list(validValues = '"testValue" || "anotherValue"'),
    list(testField = "Yet another testvalue")
  );
errorMessages &lt;-
  "No valid test value passed!";

### Run a passing validation
preregr::validate_value(
  "testValue",
  validations = validationStatement,
  replacementSources = replacementSources,
  errorMessages = errorMessages
);


### Run a failing validation
preregr::validate_value(
  "A testvalue that won't pass",
  validations = validationStatement,
  replacementSources = replacementSources,
  errorMessages = errorMessages
);
</code></pre>

<hr>
<h2 id='vecTxt'>Easily parse a vector into a character value</h2><span id='topic+vecTxt'></span><span id='topic+vecTxtQ'></span>

<h3>Description</h3>

<p>Easily parse a vector into a character value
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vecTxt(
  vector,
  delimiter = ", ",
  useQuote = "",
  firstDelimiter = NULL,
  lastDelimiter = " &amp; ",
  firstElements = 0,
  lastElements = 1,
  lastHasPrecedence = TRUE,
  colFun = NULL
)

vecTxtQ(vector, useQuote = "'", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vecTxt_+3A_vector">vector</code></td>
<td>
<p>The vector to process.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_delimiter">delimiter</code>, <code id="vecTxt_+3A_firstdelimiter">firstDelimiter</code>, <code id="vecTxt_+3A_lastdelimiter">lastDelimiter</code></td>
<td>
<p>The delimiters
to use for respectively the middle, first
<code>firstElements</code>, and last <code>lastElements</code> elements.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_usequote">useQuote</code></td>
<td>
<p>This character string is pre- and appended to all elements;
so use this to quote all elements (<code>useQuote="'"</code>), doublequote all
elements (<code>useQuote='"'</code>), or anything else (e.g. <code>useQuote='|'</code>).
The only difference between <code>vecTxt</code> and <code>vecTxtQ</code> is that the
latter by default quotes the elements.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_firstelements">firstElements</code>, <code id="vecTxt_+3A_lastelements">lastElements</code></td>
<td>
<p>The number of elements for which to use
the first respective last delimiters</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_lasthasprecedence">lastHasPrecedence</code></td>
<td>
<p>If the vector is very short, it's possible that the
sum of firstElements and lastElements is larger than the vector length. In
that case, downwardly adjust the number of elements to separate with the
first delimiter (<code>TRUE</code>) or the number of elements to separate with the
last delimiter (<code>FALSE</code>)?</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_colfun">colFun</code></td>
<td>
<p>A function to use for coloring.</p>
</td></tr>
<tr><td><code id="vecTxt_+3A_...">...</code></td>
<td>
<p>Any addition arguments to <code>vecTxtQ</code> are passed on to
<code>vecTxt</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vecTxtQ(names(mtcars));
</code></pre>

<hr>
<h2 id='wrapVector'>Wrap all elements in a vector</h2><span id='topic+wrapVector'></span>

<h3>Description</h3>

<p>Wrap all elements in a vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrapVector(x, width = 0.9 * getOption("width"), sep = "\n", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="wrapVector_+3A_x">x</code></td>
<td>
<p>The character vector</p>
</td></tr>
<tr><td><code id="wrapVector_+3A_width">width</code></td>
<td>
<p>The number of</p>
</td></tr>
<tr><td><code id="wrapVector_+3A_sep">sep</code></td>
<td>
<p>The glue with which to combine the new lines</p>
</td></tr>
<tr><td><code id="wrapVector_+3A_...">...</code></td>
<td>
<p>Other arguments are passed to <code><a href="base.html#topic+strwrap">strwrap()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>res &lt;- wrapVector(
  c(
    "This is a sentence ready for wrapping",
    "So is this one, although it's a bit longer"
  ),
  width = 10
);

print(res);
cat(res, sep="\n");
</code></pre>

<hr>
<h2 id='yaml_to_prereg_spec'>Convert a (pre)registration specification from YAML or JSON</h2><span id='topic+yaml_to_prereg_spec'></span>

<h3>Description</h3>

<p>Convert a (pre)registration specification from YAML or JSON
</p>


<h3>Usage</h3>

<pre><code class='language-R'>yaml_to_prereg_spec(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="yaml_to_prereg_spec_+3A_x">x</code></td>
<td>
<p>The YAML or JSON as character vector, or a path to a file
containing the YAML or JSON.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The imported object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>### Get path to example file
examplePreregFile &lt;-
  system.file(
    "extdata",
    "preregr-spec-example1.yml",
    package = "preregr"
  );

### Load it and show which items are completed
preregr::yaml_to_prereg_spec(
  examplePreregFile
) |&gt;
  preregr::prereg_show_item_completion();
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

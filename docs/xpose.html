<!DOCTYPE html><html><head><title>Help for package xpose</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {xpose}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#xpose-package'><p>xpose: graphical diagnostics for pharmacometric models</p></a></li>
<li><a href='#add_facet_var'><p>Add faceting variable</p></a></li>
<li><a href='#aes_c'><p>Set new default value for ggplot2 aesthetics</p></a></li>
<li><a href='#aes_filter'><p>Convenience function to easily filter ggplot2 aesthetics</p></a></li>
<li><a href='#aes_rename'><p>Convenience function to easily rename ggplot2 aesthetics</p></a></li>
<li><a href='#all_data_problem'><p>Get all data problems</p></a></li>
<li><a href='#all_file_problem'><p>Get all file problems</p></a></li>
<li><a href='#amt_vs_idv'><p>Compartment kinetics</p></a></li>
<li><a href='#append_suffix'><p>Append suffix contained in the 'xp_theme' to titles</p></a></li>
<li><a href='#as.ctime'><p>Time converter</p></a></li>
<li><a href='#as.nm.table.list'><p>Convert an object to 'nm_table_list' class</p></a></li>
<li><a href='#as.xpdb'><p>Convert an object to 'xpose_data' class</p></a></li>
<li><a href='#as.xpose.plot'><p>Convert an object to 'xpose_plot' class</p></a></li>
<li><a href='#as.xpose.theme'><p>Convert an object to 'xpose_theme' class</p></a></li>
<li><a href='#check_plot_type'><p>Check plot 'type'</p></a></li>
<li><a href='#check_problem'><p>Check .problem, .subprob and .method</p></a></li>
<li><a href='#check_quo_vars'><p>Check quoted variables</p></a></li>
<li><a href='#check_scales'><p>Check plot scales</p></a></li>
<li><a href='#check_xpdb'><p>Check xpdb</p></a></li>
<li><a href='#combine_tables'><p>Combine tables</p></a></li>
<li><a href='#data_opt'><p>Create options for data import</p></a></li>
<li><a href='#default_plot_problem'><p>Get the default data problem to be plotted</p></a></li>
<li><a href='#distrib_plot'><p>Distribution plots of ETA and parameters</p></a></li>
<li><a href='#drop_fixed_cols'><p>Return names of columns having several unique values</p></a></li>
<li><a href='#dv_vs_pred'><p>Observations plotted against model predictions</p></a></li>
<li><a href='#edit_xpose_data'><p>Master xpdb editing function</p></a></li>
<li><a href='#fetch_data'><p>Fetch data</p></a></li>
<li><a href='#file_path'><p>Generate clean file paths</p></a></li>
<li><a href='#filter_xp_theme'><p>Subset an 'xp_theme'</p></a></li>
<li><a href='#get_code'><p>Access model code</p></a></li>
<li><a href='#get_data'><p>Access model output table data</p></a></li>
<li><a href='#get_extension'><p>Get file extension</p></a></li>
<li><a href='#get_file'><p>Access model output file data</p></a></li>
<li><a href='#get_prm'><p>Access model parameters</p></a></li>
<li><a href='#get_prm_transformation_formulas'><p>Generate default transformation formulas for parameters</p></a></li>
<li><a href='#get_special'><p>Access special model data</p></a></li>
<li><a href='#get_summary'><p>Access model summary data</p></a></li>
<li><a href='#gg_themes'><p>An additional set of themes for ggplot2</p></a></li>
<li><a href='#grab_iter'><p>Grab parameter for a given iteration number</p></a></li>
<li><a href='#ind_plots'><p>Observations, individual predictions and population predictions plotted against</p>
the independent variable for every individual</a></li>
<li><a href='#index_table'><p>Index table columns</p></a></li>
<li><a href='#irep'><p>Add simulation counter</p></a></li>
<li><a href='#is.formula'><p>Test for formula class</p></a></li>
<li><a href='#is.nm.model'><p>Test for nm_model class</p></a></li>
<li><a href='#is.nm.table.list'><p>Test for nm_table_list class</p></a></li>
<li><a href='#is.xpdb'><p>Test for xpose_data class</p></a></li>
<li><a href='#is.xpose.plot'><p>Test for xpose_plot class</p></a></li>
<li><a href='#is.xpose.theme'><p>Test for xpose_theme class</p></a></li>
<li><a href='#last_data_problem'><p>Get last data problem</p></a></li>
<li><a href='#last_file_method'><p>Get last file estimation method</p></a></li>
<li><a href='#last_file_problem'><p>Get last file problem</p></a></li>
<li><a href='#last_file_subprob'><p>Get last file subproblem</p></a></li>
<li><a href='#list_nm_tables'><p>List NONMEM output tables</p></a></li>
<li><a href='#list_nm_tables_manual'><p>Creates an nm_table_list from manually defined table name patterns</p></a></li>
<li><a href='#list_vars'><p>List available variables</p></a></li>
<li><a href='#list_xpdb'><p>List available datasets</p></a></li>
<li><a href='#make_extension'><p>Generate extension string</p></a></li>
<li><a href='#manual_nm_import'><p>Manually define nonmem tables to be imported</p></a></li>
<li><a href='#merge_firstonly'><p>Merge firstonly table with full length tables</p></a></li>
<li><a href='#minimization_plots'><p>Parameter value or gradient vs. iterations</p></a></li>
<li><a href='#modify_xpdb'><p>Add, remove or rename variables in an xpdb</p></a></li>
<li><a href='#msg'><p>Message function</p></a></li>
<li><a href='#only_distinct'><p>Create functions for data deduplication</p></a></li>
<li><a href='#only_obs'><p>Create functions to drop non observation records</p></a></li>
<li><a href='#parse_arg'><p>Parse arguments from xpose to ggplot2 format</p></a></li>
<li><a href='#parse_nm_files'><p>Parse NONMEM output files</p></a></li>
<li><a href='#parse_title'><p>Parse keywords in string based on values contained in an xpdb</p></a></li>
<li><a href='#pred_vs_idv'><p>Observations and model predictions plotted against the independent variable</p></a></li>
<li><a href='#print.ggplot'><p>Import print ggplot method</p></a></li>
<li><a href='#print.xpose_data'><p>Print an xpose_data object</p></a></li>
<li><a href='#print.xpose_plot'><p>Draw an xpose_plot object</p></a></li>
<li><a href='#prm_table'><p>Display a parameter estimates to the console</p></a></li>
<li><a href='#qq_plot'><p>QQ plots of ETA and residuals</p></a></li>
<li><a href='#raw_to_tibble'><p>Convert raw strings to tibble</p></a></li>
<li><a href='#read_args'><p>Define data import arguments</p></a></li>
<li><a href='#read_funs'><p>Define data import functions</p></a></li>
<li><a href='#read_nm_files'><p>NONMEM output file import function</p></a></li>
<li><a href='#read_nm_model'><p>NONMEM model file parser</p></a></li>
<li><a href='#read_nm_tables'><p>NONMEM output table import function</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#reorder_factors'><p>Reorder factors by numerical order</p></a></li>
<li><a href='#res_vs_idv'><p>Residuals plotted against the independent variable</p></a></li>
<li><a href='#res_vs_pred'><p>Residuals plotted against population predictions</p></a></li>
<li><a href='#set_vars'><p>Set variable type, label or units</p></a></li>
<li><a href='#software'><p>Get software from the xpdb</p></a></li>
<li><a href='#subset_xpdb'><p>Subset datasets in an xpdb</p></a></li>
<li><a href='#summarise_xpdb'><p>Group/ungroup and summarize variables in an xpdb</p></a></li>
<li><a href='#summary.xpose_data'><p>Summarizing xpose_data</p></a></li>
<li><a href='#template_titles'><p>Template titles</p></a></li>
<li><a href='#tidyr_new_interface'><p>Check tidyr version</p></a></li>
<li><a href='#transform_prm'><p>Mean and variance of tranformed parameters</p></a></li>
<li><a href='#update_args'><p>Update 'xpose_geoms' arguments</p></a></li>
<li><a href='#update_extension'><p>Update file extension</p></a></li>
<li><a href='#update_themes'><p>Create xpose theme</p></a></li>
<li><a href='#vpc'><p>Visual predictive checks</p></a></li>
<li><a href='#vpc_data'><p>Visual predictive checks data</p></a></li>
<li><a href='#vpc_opt'><p>Generate a list of options for VPC data generation</p></a></li>
<li><a href='#xp_geoms'><p>Generic ggplot2 layer for 'xpose_plots'</p></a></li>
<li><a href='#xp_map'><p>ggplot2 layer call</p></a></li>
<li><a href='#xp_themes'><p>A set of xpose themes</p></a></li>
<li><a href='#xp_var'><p>Access xpdb index information for a given variable or variable type</p></a></li>
<li><a href='#xpdb_ex_pk'><p><code>xpose_data</code> examples</p></a></li>
<li><a href='#xpdb_index_update'><p>Update data index</p></a></li>
<li><a href='#xplot_distrib'><p>Default xpose distribution plot function</p></a></li>
<li><a href='#xplot_qq'><p>Default xpose QQ plot function</p></a></li>
<li><a href='#xplot_scatter'><p>Default xpose scatter plot function</p></a></li>
<li><a href='#xpose_data'><p>Import NONMEM output into R</p></a></li>
<li><a href='#xpose_panels'><p>Generic panel function for 'xpose_plots'</p></a></li>
<li><a href='#xpose_save'><p>Save xpose plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Diagnostics for Pharmacometric Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.18</td>
</tr>
<tr>
<td>Description:</td>
<td>Diagnostics for non-linear mixed-effects (population) 
    models from 'NONMEM' <a href="https://www.iconplc.com/solutions/technologies/nonmem/">https://www.iconplc.com/solutions/technologies/nonmem/</a>. 
    'xpose' facilitates data import, creation of numerical run summary 
    and provide 'ggplot2'-based graphics for data exploration and model 
    diagnostics.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), ggplot2 (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 0.8.0), ggforce (&ge; 0.2.0), grDevices, purrr (&ge;
0.3.0), readr (&ge; 2.1.0), rlang (&ge; 0.3.0), stringr (&ge; 1.4.0),
tibble (&ge; 2.1.0), tidyr (&ge; 0.8.0), utils, stats, vpc (&ge;
1.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>here, gridExtra, rmarkdown, knitr, testthat, plotly, webshot,
mvtnorm</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/LGPL-3">LGPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://uupharmacometrics.github.io/xpose/">https://uupharmacometrics.github.io/xpose/</a>,
<a href="https://github.com/UUPharmacometrics/xpose/">https://github.com/UUPharmacometrics/xpose/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/UUPharmacometrics/xpose/issues/">https://github.com/UUPharmacometrics/xpose/issues/</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-01 15:43:40 UTC; bguiastr</td>
</tr>
<tr>
<td>Author:</td>
<td>Benjamin Guiastrennec [aut, cre, cph],
  Andrew C. Hooker [aut, cph],
  Sebastian Ueckert [aut, cph],
  Mike K. Smith [ctb],
  Mats O. Karlsson [aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Benjamin Guiastrennec &lt;guiastrennec@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-01 16:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='xpose-package'>xpose: graphical diagnostics for pharmacometric models</h2><span id='topic+xpose'></span><span id='topic+xpose-package'></span>

<h3>Description</h3>

<p>xpose was designed as a ggplot2-based alternative to xpose4. This package aims to reduce the post 
processing burden and improve diagnostics commonly associated the development of non-linear mixed effect models.
</p>
<p>To learn more about xpose, visit our website: <a href="https://uupharmacometrics.github.io/xpose/">https://uupharmacometrics.github.io/xpose/</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Benjamin Guiastrennec <a href="mailto:guiastrennec@gmail.com">guiastrennec@gmail.com</a> [copyright holder]
</p>
<p>Authors:
</p>

<ul>
<li><p> Andrew C. Hooker <a href="mailto:andrew.hooker@farmaci.uu.se">andrew.hooker@farmaci.uu.se</a> [copyright holder]
</p>
</li>
<li><p> Sebastian Ueckert <a href="mailto:sebastian.ueckert@farmaci.uu.se">sebastian.ueckert@farmaci.uu.se</a> [copyright holder]
</p>
</li>
<li><p> Mats O. Karlsson <a href="mailto:mats.karlsson@farmaci.uu.se">mats.karlsson@farmaci.uu.se</a> [copyright holder]
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Mike K. Smith <a href="mailto:mike.k.smith@pfizer.com">mike.k.smith@pfizer.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://uupharmacometrics.github.io/xpose/">https://uupharmacometrics.github.io/xpose/</a>
</p>
</li>
<li> <p><a href="https://github.com/UUPharmacometrics/xpose/">https://github.com/UUPharmacometrics/xpose/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/UUPharmacometrics/xpose/issues/">https://github.com/UUPharmacometrics/xpose/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='add_facet_var'>Add faceting variable</h2><span id='topic+add_facet_var'></span>

<h3>Description</h3>

<p>Convenience function to add default faceting variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_facet_var(facets, variable = "variable")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_facet_var_+3A_facets">facets</code></td>
<td>
<p>User input faceting variable as a character or formula.</p>
</td></tr>
<tr><td><code id="add_facet_var_+3A_variable">variable</code></td>
<td>
<p>Default variable to be appended to variables in facets.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>facets as formula or character string.
</p>

<hr>
<h2 id='aes_c'>Set new default value for ggplot2 aesthetics</h2><span id='topic+aes_c'></span>

<h3>Description</h3>

<p>Set new default value for ggplot2 aesthetics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aes_c(fun_aes, user_aes)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aes_c_+3A_fun_aes">fun_aes</code></td>
<td>
<p>Default ggplot2 aesthetics mapping defined for the function</p>
</td></tr>
<tr><td><code id="aes_c_+3A_user_aes">user_aes</code></td>
<td>
<p>ggplot2 aesthetics mapping inputted by the user. These 
aesthetics will overwrite matching elements in 'fun_aes'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 aesthetics mapping
</p>

<hr>
<h2 id='aes_filter'>Convenience function to easily filter ggplot2 aesthetics</h2><span id='topic+aes_filter'></span>

<h3>Description</h3>

<p>Convenience function to easily filter ggplot2 aesthetics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aes_filter(mapping, drop = NULL, keep_only = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aes_filter_+3A_mapping">mapping</code></td>
<td>
<p>ggplot2 aesthetics</p>
</td></tr>
<tr><td><code id="aes_filter_+3A_drop">drop</code></td>
<td>
<p>names of ggplot2 aesthetics to be removed from the 'mapping'. 
Alternative to the 'keep_only' argument.</p>
</td></tr>
<tr><td><code id="aes_filter_+3A_keep_only">keep_only</code></td>
<td>
<p>names of the only ggplot2 aesthetics to be kept in the 
'mapping'. Alternative to the 'drop' argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 aesthetics mapping
</p>

<hr>
<h2 id='aes_rename'>Convenience function to easily rename ggplot2 aesthetics</h2><span id='topic+aes_rename'></span>

<h3>Description</h3>

<p>Convenience function to easily rename ggplot2 aesthetics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aes_rename(mapping, from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aes_rename_+3A_mapping">mapping</code></td>
<td>
<p>ggplot2 aesthetics</p>
</td></tr>
<tr><td><code id="aes_rename_+3A_from">from</code></td>
<td>
<p>names of ggplot2 aesthetics to be renamed. Note: should match the 
order of arg 'to'.</p>
</td></tr>
<tr><td><code id="aes_rename_+3A_to">to</code></td>
<td>
<p>new names to be set for ggplot2 aesthetics. Note: should match the 
order of arg 'from'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 aesthetics mapping
</p>

<hr>
<h2 id='all_data_problem'>Get all data problems</h2><span id='topic+all_data_problem'></span>

<h3>Description</h3>

<p>Get all data problems
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_data_problem(xpdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="all_data_problem_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of the all data problems as an integer 
vector.
</p>

<hr>
<h2 id='all_file_problem'>Get all file problems</h2><span id='topic+all_file_problem'></span>

<h3>Description</h3>

<p>Get all file problems
</p>


<h3>Usage</h3>

<pre><code class='language-R'>all_file_problem(xpdb, ext)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="all_file_problem_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="all_file_problem_+3A_ext">ext</code></td>
<td>
<p>The file extension to be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of the all file problems as an integer 
vector for the given file 'ext'.
</p>

<hr>
<h2 id='amt_vs_idv'>Compartment kinetics</h2><span id='topic+amt_vs_idv'></span>

<h3>Description</h3>

<p>Plot of the change in compartment amounts over the independent variable
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amt_vs_idv(
  xpdb,
  mapping = NULL,
  group = "ID",
  drop_fixed = TRUE,
  type = "l",
  title = "Compartments amount vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  facets,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amt_vs_idv_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_drop_fixed">drop_fixed</code></td>
<td>
<p>Should columns that only have a single unique value 
(i.e. fixed) be dropped.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="amt_vs_idv_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>amt_vs_idv(xpdb_ex_pk, nrow = 2, ncol = 1)

</code></pre>

<hr>
<h2 id='append_suffix'>Append suffix contained in the 'xp_theme' to titles</h2><span id='topic+append_suffix'></span>

<h3>Description</h3>

<p>Append suffix contained in the 'xp_theme' to titles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>append_suffix(xpdb, string = NULL, type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="append_suffix_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="append_suffix_+3A_string">string</code></td>
<td>
<p>A string to which the suffix will be appended.</p>
</td></tr>
<tr><td><code id="append_suffix_+3A_type">type</code></td>
<td>
<p>A string determining what suffix type should be used 
in the 'xp_theme'. Can be one of 'title', 'subtitle', 'caption' or 'tag'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The modified 'string'.
</p>

<hr>
<h2 id='as.ctime'>Time converter</h2><span id='topic+as.ctime'></span>

<h3>Description</h3>

<p>Convert seconds to hh:mm:ss
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.ctime(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.ctime_+3A_x">x</code></td>
<td>
<p>A string ('character' or 'numeric') of time in seconds.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string of time in 'hh:mm:ss'.
</p>

<hr>
<h2 id='as.nm.table.list'>Convert an object to 'nm_table_list' class</h2><span id='topic+as.nm.table.list'></span>

<h3>Description</h3>

<p>Adds 'nm_table_list' attribute to an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.nm.table.list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.nm.table.list_+3A_x">x</code></td>
<td>
<p>An object to be modified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x with 'nm_table_list' class.
</p>

<hr>
<h2 id='as.xpdb'>Convert an object to 'xpose_data' class</h2><span id='topic+as.xpdb'></span>

<h3>Description</h3>

<p>Adds 'xpose_data' attribute to an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.xpdb(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.xpdb_+3A_x">x</code></td>
<td>
<p>An object to be modified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x with 'xpose_data' class.
</p>

<hr>
<h2 id='as.xpose.plot'>Convert an object to 'xpose_plot' class</h2><span id='topic+as.xpose.plot'></span>

<h3>Description</h3>

<p>Adds 'xpose_plot' attribute to an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.xpose.plot(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.xpose.plot_+3A_x">x</code></td>
<td>
<p>An object to be modified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x with 'xpose_plot' class.
</p>

<hr>
<h2 id='as.xpose.theme'>Convert an object to 'xpose_theme' class</h2><span id='topic+as.xpose.theme'></span>

<h3>Description</h3>

<p>Adds 'xpose_theme' attribute to an object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.xpose.theme(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.xpose.theme_+3A_x">x</code></td>
<td>
<p>An object to be modified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x with 'xpose_theme' class.
</p>

<hr>
<h2 id='check_plot_type'>Check plot 'type'</h2><span id='topic+check_plot_type'></span>

<h3>Description</h3>

<p>Check plot 'type'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_plot_type(type, allowed)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_plot_type_+3A_type">type</code></td>
<td>
<p>A character string guiding the plot type.</p>
</td></tr>
<tr><td><code id="check_plot_type_+3A_allowed">allowed</code></td>
<td>
<p>A character vector of all allowed types e.g. &lsquo;c(&rsquo;p', 'l')'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silent if proper user input else warns for unrecognized 'type'.
</p>

<hr>
<h2 id='check_problem'>Check .problem, .subprob and .method</h2><span id='topic+check_problem'></span>

<h3>Description</h3>

<p>Check .problem, .subprob and .method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_problem(.problem, .subprob, .method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_problem_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be checked.</p>
</td></tr>
<tr><td><code id="check_problem_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be checked.</p>
</td></tr>
<tr><td><code id="check_problem_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be checked.</p>
</td></tr>
</table>

<hr>
<h2 id='check_quo_vars'>Check quoted variables</h2><span id='topic+check_quo_vars'></span>

<h3>Description</h3>

<p>Ensure that variables used in quos are present in the 
data and return informative error messages otherwise.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_quo_vars(xpdb, ..., .source, .problem)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_quo_vars_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="check_quo_vars_+3A_...">...</code></td>
<td>
<p>Name-value pairs of expressions.</p>
</td></tr>
<tr><td><code id="check_quo_vars_+3A_.source">.source</code></td>
<td>
<p>The source of the data in the xpdb. Can either be 'data' or an output 
file extension e.g. 'phi'.</p>
</td></tr>
<tr><td><code id="check_quo_vars_+3A_.problem">.problem</code></td>
<td>
<p>The problem from which the data will be modified</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silent if checks are successful, returns errors otherwise.
</p>

<hr>
<h2 id='check_scales'>Check plot scales</h2><span id='topic+check_scales'></span>

<h3>Description</h3>

<p>Check plot scales
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_scales(scale, log)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_scales_+3A_scale">scale</code></td>
<td>
<p>The axis to be checked. Can be 'x' or 'y'.</p>
</td></tr>
<tr><td><code id="check_scales_+3A_log">log</code></td>
<td>
<p>A string to guide which axis (e.g. 'x', 'y' or 'xy') should be 
plotted on log scale.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string taking 'continuous' or 'log10' as value.
</p>

<hr>
<h2 id='check_xpdb'>Check xpdb</h2><span id='topic+check_xpdb'></span>

<h3>Description</h3>

<p>Check xpdb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_xpdb(xpdb, check = "data")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_xpdb_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="check_xpdb_+3A_check">check</code></td>
<td>
<p>The 'xpdb' slot to be checked, can be 'data', 'files', 
'summary', 'special', 'code', a file name, or 'FALSE'. IF 'FALSE' the slot 
test will be skipped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silent if successful check, else returns error.
</p>

<hr>
<h2 id='combine_tables'>Combine tables</h2><span id='topic+combine_tables'></span>

<h3>Description</h3>

<p>Combine tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine_tables(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="combine_tables_+3A_x">x</code></td>
<td>
<p>A list containing the tables ('x$data') to be 
combined, their names ('x$name'), their number of rows ('x$nrow') 
and their respective index ('x$index').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing 'data' and 'index' of the combined table.
</p>

<hr>
<h2 id='data_opt'>Create options for data import</h2><span id='topic+data_opt'></span>

<h3>Description</h3>

<p>Provide a list of options to the general plotting functions such as 
<code>xplot_scatter</code> in order to create appropriate data input for ggplot2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_opt(
  .problem = NULL,
  .subprob = NULL,
  .method = NULL,
  .source = "data",
  simtab = FALSE,
  filter = NULL,
  tidy = FALSE,
  index_col = NULL,
  value_col = NULL,
  post_processing = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_opt_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_.source">.source</code></td>
<td>
<p>Define the location of the data in the xpdb. Should be either 'data' 
to use the output tables or the name of an output file attached to the xpdb.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_simtab">simtab</code></td>
<td>
<p>Only used when 'data' is defined as the source and '.problem' is default. Should the data be coming 
from an estimation or a simulation table.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_filter">filter</code></td>
<td>
<p>A function used to filter the data e.g. filter = function(x) x[x$TIME &gt; 20, ] where x is the data.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_tidy">tidy</code></td>
<td>
<p>Logical, whether the data should be transformed to tidy data.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_index_col">index_col</code></td>
<td>
<p>Only used when 'tidy' is defined a <code>TRUE</code> and <code>value_col</code> is <code>NULL</code>. 
Column names to use as index when tidying the data.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_value_col">value_col</code></td>
<td>
<p>Only used when 'tidy' is defined a <code>TRUE</code> and <code>index_col</code> is <code>NULL</code>. 
Column names to be stacked when tidying the data.</p>
</td></tr>
<tr><td><code id="data_opt_+3A_post_processing">post_processing</code></td>
<td>
<p>A function used to modify the data after it has been tidied up e.g. post_processing = function(x) 
dplyr::mutate(.data = x, variable = as.factor(.$variable)) where x is the tidy data.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_distrib">xplot_distrib</a></code> <code><a href="#topic+xplot_qq">xplot_qq</a></code> <code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data_opt(.problem = 1, .source = 'data', simtab = TRUE)

</code></pre>

<hr>
<h2 id='default_plot_problem'>Get the default data problem to be plotted</h2><span id='topic+default_plot_problem'></span>

<h3>Description</h3>

<p>Used by plot functions when the problem argument has not 
been supplied by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default_plot_problem(xpdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default_plot_problem_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The last estimation problem when at least one estimation problem is present, 
else the last simulation problem as an integer.
</p>

<hr>
<h2 id='distrib_plot'>Distribution plots of ETA and parameters</h2><span id='topic+distrib_plot'></span><span id='topic+prm_distrib'></span><span id='topic+eta_distrib'></span><span id='topic+res_distrib'></span><span id='topic+cov_distrib'></span>

<h3>Description</h3>

<p>Histograms and density plots of the ETA and parameter values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prm_distrib(
  xpdb,
  mapping = NULL,
  drop_fixed = TRUE,
  type = "hr",
  title = "Parameter distribution | @run",
  subtitle = "Based on @nind individuals",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  quiet,
  ...
)

eta_distrib(
  xpdb,
  mapping = NULL,
  drop_fixed = TRUE,
  type = "hr",
  title = "Eta distribution | @run",
  subtitle = "Based on @nind individuals, Eta shrink: @etashk",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  quiet,
  ...
)

res_distrib(
  xpdb,
  mapping = NULL,
  res = "CWRES",
  type = "hr",
  title = "@x distribution | @run",
  subtitle = "Based on @nobs observations",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  quiet,
  ...
)

cov_distrib(
  xpdb,
  mapping = NULL,
  drop_fixed = TRUE,
  type = "hr",
  title = "Continuous covariates distribution | @run",
  subtitle = "Based on @nind individuals",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distrib_plot_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_drop_fixed">drop_fixed</code></td>
<td>
<p>Should columns that only have a single unique value 
(i.e. fixed) be dropped.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be histogram 'h',
density 'd', rug 'r' or any combination of the three.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_guide">guide</code></td>
<td>
<p>Should the guide (e.g. reference distribution) be displayed.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
<tr><td><code id="distrib_plot_+3A_res">res</code></td>
<td>
<p>Only used for <code>res_distrib</code>. Defines the type of residual to be used. Default is &quot;CWRES&quot;.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. histogram_fill = 'blue', rug_sides = 'b', etc.
</p>

<ul>
<li><p> histogram: options to <code>geom_histogram</code>
</p>
</li>
<li><p> density: options to <code>geom_density</code>
</p>
</li>
<li><p> rug: options to <code>geom_rug</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_distrib">xplot_distrib</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Histogram of parameters
prm_distrib(xpdb_ex_pk, type = 'h')

# Density plot of etas with a rug
eta_distrib(xpdb_ex_pk, type = 'dr')

# Histogram of different residuals
res_distrib(xpdb_ex_pk, type = 'hr', res = c('IWRES', 'CWRES'))

# Density plot of continuous covariates
cov_distrib(xpdb_ex_pk, type = 'd')
</code></pre>

<hr>
<h2 id='drop_fixed_cols'>Return names of columns having several unique values</h2><span id='topic+drop_fixed_cols'></span>

<h3>Description</h3>

<p>Return names of columns having several unique values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_fixed_cols(xpdb, .problem, cols, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_fixed_cols_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="drop_fixed_cols_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
<tr><td><code id="drop_fixed_cols_+3A_cols">cols</code></td>
<td>
<p>A vector of column names to be checked.</p>
</td></tr>
<tr><td><code id="drop_fixed_cols_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A subset of 'col' for which more than one single 
value was found in the data.
</p>

<hr>
<h2 id='dv_vs_pred'>Observations plotted against model predictions</h2><span id='topic+dv_vs_pred'></span><span id='topic+dv_vs_ipred'></span>

<h3>Description</h3>

<p>Plot of observations (DV) vs population predictions (PRED), 
individual predictions (IPRED) or conditional population predictions (CPRED).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dv_vs_ipred(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv, Eps shrink: @epsshk",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)

dv_vs_pred(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dv_vs_pred_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_guide">guide</code></td>
<td>
<p>Enable guide display (e.g. unity line).</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="dv_vs_pred_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dv_vs_pred(xpdb_ex_pk)

dv_vs_ipred(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='edit_xpose_data'>Master xpdb editing function</h2><span id='topic+edit_xpose_data'></span>

<h3>Description</h3>

<p>Generic function used to build dedicated editing functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>edit_xpose_data(.fun, .fname, .data, ..., .problem, .source, .where)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="edit_xpose_data_+3A_.fun">.fun</code></td>
<td>
<p>An editing function to be applied to the data.</p>
</td></tr>
<tr><td><code id="edit_xpose_data_+3A_.fname">.fname</code></td>
<td>
<p>The name of the editing function.</p>
</td></tr>
<tr><td><code id="edit_xpose_data_+3A_.data">.data</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="edit_xpose_data_+3A_...">...</code></td>
<td>
<p>Name-value pairs of expressions. Use <code>NULL</code> to drop a variable.
</p>
<p>These arguments are automatically quoted and evaluated in the 
context of the data frame. They support unquoting and splicing. 
See the dplyr vignette(&quot;programming&quot;) for an introduction to these concepts.</p>
</td></tr>
<tr><td><code id="edit_xpose_data_+3A_.problem">.problem</code></td>
<td>
<p>The problem from which the data will be modified</p>
</td></tr>
<tr><td><code id="edit_xpose_data_+3A_.source">.source</code></td>
<td>
<p>The source of the data in the xpdb. Can either be 'data' or an output 
file extension e.g. 'phi'.</p>
</td></tr>
<tr><td><code id="edit_xpose_data_+3A_.where">.where</code></td>
<td>
<p>A vector of element names to be edited in special (e.g. 
<code>.where = c('vpc_dat', 'aggr_obs')</code> with vpc).</p>
</td></tr>
</table>

<hr>
<h2 id='fetch_data'>Fetch data</h2><span id='topic+fetch_data'></span>

<h3>Description</h3>

<p>Main internal function to get the data from different source and 
prepare it for plotting. Arguments are usually provided by 'data_opt()'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fetch_data(
  xpdb,
  .problem = NULL,
  .subprob = NULL,
  .method = NULL,
  .source = "data",
  simtab = FALSE,
  filter = NULL,
  tidy = FALSE,
  index_col = NULL,
  value_col = NULL,
  post_processing = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fetch_data_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_.source">.source</code></td>
<td>
<p>Define the location of the data in the xpdb. Should be either 'data' 
to use the output tables or the name of an output file attached to the xpdb.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_simtab">simtab</code></td>
<td>
<p>Only used when 'data' is defined as the source and '.problem' is default. Should the data be coming 
from an estimation or a simulation table.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_filter">filter</code></td>
<td>
<p>A function used to filter the data e.g. filter = function(x) x[x$TIME &gt; 20, ] where x is the data.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_tidy">tidy</code></td>
<td>
<p>Logical, whether the data should be transformed to tidy data.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_index_col">index_col</code></td>
<td>
<p>Only used when 'tidy' is defined a <code>TRUE</code> and <code>value_col</code> is <code>NULL</code>. 
Column names to use as index when tidying the data.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_value_col">value_col</code></td>
<td>
<p>Only used when 'tidy' is defined a <code>TRUE</code> and <code>index_col</code> is <code>NULL</code>. 
Column names to be stacked when tidying the data.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_post_processing">post_processing</code></td>
<td>
<p>A function used to modify the data after it has been tidied up e.g. post_processing = function(x) 
dplyr::mutate(.data = x, variable = as.factor(.$variable)) where x is the tidy data.</p>
</td></tr>
<tr><td><code id="fetch_data_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble
</p>

<hr>
<h2 id='file_path'>Generate clean file paths</h2><span id='topic+file_path'></span>

<h3>Description</h3>

<p>Wrapper around 'file.path' that cleans trailing forward 
slash and missing 'dir'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_path(dir, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_path_+3A_dir">dir</code></td>
<td>
<p>A string or vector of strings containing the directory path.</p>
</td></tr>
<tr><td><code id="file_path_+3A_file">file</code></td>
<td>
<p>A file name or vector containing the file names.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string or vector of string of the full file path.
</p>

<hr>
<h2 id='filter_xp_theme'>Subset an 'xp_theme'</h2><span id='topic+filter_xp_theme'></span>

<h3>Description</h3>

<p>Subset an 'xp_theme'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_xp_theme(xp_theme, regex = NULL, action = "keep")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_xp_theme_+3A_xp_theme">xp_theme</code></td>
<td>
<p>An xpose theme list.</p>
</td></tr>
<tr><td><code id="filter_xp_theme_+3A_regex">regex</code></td>
<td>
<p>A string used to find matching names in the 'xp_theme'</p>
</td></tr>
<tr><td><code id="filter_xp_theme_+3A_action">action</code></td>
<td>
<p>A string used to determine the action of on the xp_theme.
'keep' will subset the 'xp_theme' to only the names matching the 'regex', 
while 'drop' will drop the matches.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified 'xp_theme'
</p>

<hr>
<h2 id='get_code'>Access model code</h2><span id='topic+get_code'></span>

<h3>Description</h3>

<p>Access model code from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_code(xpdb, .problem = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_code_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the model code will be extracted.</p>
</td></tr>
<tr><td><code id="get_code_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, in addition, problem 0 is attributed to 
general output (e.g. NM-TRAN warnings in NONMEM). By default returns the 
entire code.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of the parsed model.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xpose_data">xpose_data</a></code>, <code><a href="#topic+read_nm_model">read_nm_model</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parsed_model &lt;- get_code(xpdb_ex_pk)
parsed_model

</code></pre>

<hr>
<h2 id='get_data'>Access model output table data</h2><span id='topic+get_data'></span>

<h3>Description</h3>

<p>Access model output table data from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data(xpdb, table = NULL, .problem = NULL, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_data_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the model output file data will be extracted.</p>
</td></tr>
<tr><td><code id="get_data_+3A_table">table</code></td>
<td>
<p>Name of the output table to be extracted from the xpdb e.g. 'sdtab001'. Alternative to 
the '.problem' argument.</p>
</td></tr>
<tr><td><code id="get_data_+3A_.problem">.problem</code></td>
<td>
<p>Accesses all tables from the specified problem. Alternative to the 'table' argument.</p>
</td></tr>
<tr><td><code id="get_data_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>By default returns data from the last estimation problem. If only simulation problems are present 
then the data from last simulation will be returned instead. Object returned as tibble for single 
tables/problems or a named list for multiple tables/problems.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list_data">list_data</a></code>, <code><a href="#topic+xpose_data">xpose_data</a></code>, <code><a href="#topic+read_nm_tables">read_nm_tables</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># By table name
sdtab &lt;- get_data(xpdb_ex_pk, 'sdtab001')
sdtab

# By problem
tables &lt;- get_data(xpdb_ex_pk, .problem = 1)
tables

# Tip to list available tables in the xpdb
print(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='get_extension'>Get file extension</h2><span id='topic+get_extension'></span>

<h3>Description</h3>

<p>Extract file extension from the filename string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_extension(x, dot = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_extension_+3A_x">x</code></td>
<td>
<p>A string or vector of strings containing the filenames with the extension.</p>
</td></tr>
<tr><td><code id="get_extension_+3A_dot">dot</code></td>
<td>
<p>Logical, if 'TRUE' the returned value will contain the 
dot (e.g '.mod') else only the extension itself will be returned (e.g. 'mod').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string or vector of string of the file(s) extension.
</p>

<hr>
<h2 id='get_file'>Access model output file data</h2><span id='topic+get_file'></span>

<h3>Description</h3>

<p>Access model output file data from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_file(
  xpdb,
  file = NULL,
  ext = NULL,
  .problem = NULL,
  .subprob = NULL,
  .method = NULL,
  quiet
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_file_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the model output file data will be extracted.</p>
</td></tr>
<tr><td><code id="get_file_+3A_file">file</code></td>
<td>
<p>Full name of the file to be extracted from the xpdb e.g. 'run001.phi'. Alternative to the 'ext' argument.</p>
</td></tr>
<tr><td><code id="get_file_+3A_ext">ext</code></td>
<td>
<p>Extension of the file to be extracted from the xpdb e.g. 'phi'. Alternative to the 'file' argument.</p>
</td></tr>
<tr><td><code id="get_file_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one for each file.</p>
</td></tr>
<tr><td><code id="get_file_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be used, by default returns the last one for each file.</p>
</td></tr>
<tr><td><code id="get_file_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be used (e.g. 'foce', 'imp', 'saem'), by default returns the 
last one for each file.</p>
</td></tr>
<tr><td><code id="get_file_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble for single file or a named list for multiple files.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list_files">list_files</a></code>, <code><a href="#topic+xpose_data">xpose_data</a></code>, <code><a href="#topic+read_nm_files">read_nm_files</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Single file (returns a tibble)
ext_file &lt;- get_file(xpdb_ex_pk, file = 'run001.ext')
ext_file

# Multiple files (returns a list)
files &lt;- get_file(xpdb_ex_pk, file = c('run001.ext', 'run001.phi'))
files

# Tip to list available files in the xpdb
print(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='get_prm'>Access model parameters</h2><span id='topic+get_prm'></span>

<h3>Description</h3>

<p>Access model parameter estimates from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_prm(
  xpdb,
  .problem = NULL,
  .subprob = NULL,
  .method = NULL,
  digits = 4,
  transform = TRUE,
  show_all = FALSE,
  quiet
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_prm_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the model output file data will be extracted.</p>
</td></tr>
<tr><td><code id="get_prm_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one for each file.</p>
</td></tr>
<tr><td><code id="get_prm_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be used, by default returns the last one for each file.</p>
</td></tr>
<tr><td><code id="get_prm_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be used, by default returns the last one for each file</p>
</td></tr>
<tr><td><code id="get_prm_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits to be displayed.</p>
</td></tr>
<tr><td><code id="get_prm_+3A_transform">transform</code></td>
<td>
<p>Should diagonal OMEGA and SIGMA elements be transformed to standard deviation and 
off diagonal elements be transformed to correlations.</p>
</td></tr>
<tr><td><code id="get_prm_+3A_show_all">show_all</code></td>
<td>
<p>Logical, whether the 0 fixed off-diagonal elements should be removed from the output.</p>
</td></tr>
<tr><td><code id="get_prm_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble for single problem/subprob or a named list for multiple problem|subprob.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prm_table">prm_table</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Store the parameter table
prm &lt;- get_prm(xpdb_ex_pk, .problem = 1)

# Display parameters to the console
prm_table(xpdb_ex_pk, .problem = 1)

</code></pre>

<hr>
<h2 id='get_prm_transformation_formulas'>Generate default transformation formulas for parameters</h2><span id='topic+get_prm_transformation_formulas'></span>

<h3>Description</h3>

<p>Generate default transformation formulas for parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_prm_transformation_formulas(prm_names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_prm_transformation_formulas_+3A_prm_names">prm_names</code></td>
<td>
<p>Vector of parameter names as found in .ext</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of formulas decribing the transformation
</p>

<hr>
<h2 id='get_special'>Access special model data</h2><span id='topic+get_special'></span>

<h3>Description</h3>

<p>Access special model data from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_special(xpdb, .problem = NULL, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_special_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the special data will be extracted.</p>
</td></tr>
<tr><td><code id="get_special_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one.</p>
</td></tr>
<tr><td><code id="get_special_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+list_special">list_special</a></code>, <code><a href="#topic+xpose_data">xpose_data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>special &lt;- get_summary(xpdb_ex_pk)
special

</code></pre>

<hr>
<h2 id='get_summary'>Access model summary data</h2><span id='topic+get_summary'></span>

<h3>Description</h3>

<p>Access model summary data from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_summary(xpdb, .problem = NULL, .subprob = NULL, only_last = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_summary_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the summary data will be extracted.</p>
</td></tr>
<tr><td><code id="get_summary_+3A_.problem">.problem</code></td>
<td>
<p>The .problem to be used, by default returns the last one for each label.</p>
</td></tr>
<tr><td><code id="get_summary_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be used, by default returns the last one for each label.</p>
</td></tr>
<tr><td><code id="get_summary_+3A_only_last">only_last</code></td>
<td>
<p>Logical, if <code>TRUE</code> only the last record for each label is returned in case 
of multiple problem and/or subproblem. If <code>FALSE</code> all values are returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of model summary.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xpose_data">xpose_data</a></code>, <code><a href="#topic+template_titles">template_titles</a></code>, <code><a href="#topic+summary.xpose_data">summary.xpose_data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>run_summary &lt;- get_summary(xpdb_ex_pk)
run_summary

</code></pre>

<hr>
<h2 id='gg_themes'>An additional set of themes for ggplot2</h2><span id='topic+gg_themes'></span><span id='topic+theme_bw2'></span><span id='topic+theme_readable'></span>

<h3>Description</h3>

<p>An additional set of complete ggplot2 themes intended to make ggplot2 more readable 
when used in presentation or publications. These themes also bring the <code>legend_position</code> option
without having to call the ggplot2 theme() function to modify a complete theme.
</p>

<ul>
<li> <p><code>theme_bw2</code>: Black and white theme inspired by a theme from Gunnar Yngman.
</p>
</li>
<li> <p><code>theme_readable</code>: Light grey theme, with dimmed background and grid lines 
intended to bring the focus on the data.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>theme_bw2(base_size = 11, base_family = "", legend_position = "right")

theme_readable(base_size = 11, base_family = "", legend_position = "right")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gg_themes_+3A_base_size">base_size</code></td>
<td>
<p>Base font size.</p>
</td></tr>
<tr><td><code id="gg_themes_+3A_base_family">base_family</code></td>
<td>
<p>Base font family.</p>
</td></tr>
<tr><td><code id="gg_themes_+3A_legend_position">legend_position</code></td>
<td>
<p>The position of legends defined as 'none', 'left', 
'right', 'bottom', 'top', or a two-element numeric vector.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># With the gg_theme theme_readable() (default)
dv_vs_ipred(xpdb_ex_pk, facets = 'SEX')

# With the gg_theme theme_bw2()
xpdb_ex_pk %&gt;% 
 update_themes(gg_theme = theme_bw2()) %&gt;% 
 dv_vs_ipred(facets = 'SEX')
 
</code></pre>

<hr>
<h2 id='grab_iter'>Grab parameter for a given iteration number</h2><span id='topic+grab_iter'></span>

<h3>Description</h3>

<p>Grab parameter for a given iteration number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grab_iter(ext, iter)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grab_iter_+3A_ext">ext</code></td>
<td>
<p>parameter vs. iteration table</p>
</td></tr>
<tr><td><code id="grab_iter_+3A_iter">iter</code></td>
<td>
<p>iteration number</p>
</td></tr>
</table>

<hr>
<h2 id='ind_plots'>Observations, individual predictions and population predictions plotted against 
the independent variable for every individual</h2><span id='topic+ind_plots'></span>

<h3>Description</h3>

<p>Observations (DV), individual predictions (IPRED) and population predictions 
(PRED) plotted against the independent variable for every individual
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ind_plots(
  xpdb,
  mapping = NULL,
  group = "variable",
  type = "lp",
  title = "Individual plots | @run",
  subtitle = "Ofv: @ofv, Eps shrink: @epsshk",
  caption = "@dir | Page @page of @lastpage",
  tag = NULL,
  log = NULL,
  facets,
  .problem,
  quiet,
  color = c("grey60", "deepskyblue4", "deepskyblue3"),
  point_alpha = c(0.8, 0, 0),
  line_linetype = c("blank", "solid", "55"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ind_plots_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_color">color</code></td>
<td>
<p>Changes the **lines, points and text** color. Should be a vector of 3 values 
(i.e. DV, IPRED, PRED). This <code>color</code> argument is a special case in xpose as it applies 
to three different layers (<code>geom_line</code>, <code>geom_point</code> and <code>geom_text</code>). This 
special case is due to the fact that in ggplot2 it is not possible to have two different 
color scales for different layers.</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_point_alpha">point_alpha</code></td>
<td>
<p>Points alpha, should be a vector of 3 values (i.e. DV, IPRED, PRED).</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_line_linetype">line_linetype</code></td>
<td>
<p>Lines linetype, should be a vector of 3 values (i.e. DV, IPRED, PRED).</p>
</td></tr>
<tr><td><code id="ind_plots_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Basic example
ind_plots(xpdb_ex_pk, page = 1,
          ncol = 2, nrow = 2)

## End(Not run)
</code></pre>

<hr>
<h2 id='index_table'>Index table columns</h2><span id='topic+index_table'></span>

<h3>Description</h3>

<p>Index table columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index_table(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="index_table_+3A_x">x</code></td>
<td>
<p>A list containing the tables ('x$data') to be 
combined along with their respective names ('x$name').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble of the index.
</p>

<hr>
<h2 id='irep'>Add simulation counter</h2><span id='topic+irep'></span>

<h3>Description</h3>

<p>Add a column containing a simulation counter (irep). A new simulation is counted everytime
a value in x is lower than its previous value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>irep(x, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="irep_+3A_x">x</code></td>
<td>
<p>The column to be used for computing simulation number, usually the ID column.</p>
</td></tr>
<tr><td><code id="irep_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>xpdb_ex_pk_2 &lt;- xpdb_ex_pk %&gt;% 
 mutate(sim_id = irep(ID), .problem = 2)

</code></pre>

<hr>
<h2 id='is.formula'>Test for formula class</h2><span id='topic+is.formula'></span>

<h3>Description</h3>

<p>Reports whether x is a 'formula' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.formula(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.formula_+3A_x">x</code></td>
<td>
<p>An object to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value, 'TRUE' for 'formula' class 
and 'FALSE' otherwise.
</p>

<hr>
<h2 id='is.nm.model'>Test for nm_model class</h2><span id='topic+is.nm.model'></span>

<h3>Description</h3>

<p>Reports whether x is a 'nm_model' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.nm.model(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.nm.model_+3A_x">x</code></td>
<td>
<p>An object to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value, 'TRUE' for 'nm_model' class 
and 'FALSE' otherwise.
</p>

<hr>
<h2 id='is.nm.table.list'>Test for nm_table_list class</h2><span id='topic+is.nm.table.list'></span>

<h3>Description</h3>

<p>Reports whether x is a 'nm_table_list' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.nm.table.list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.nm.table.list_+3A_x">x</code></td>
<td>
<p>An object to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value, 'TRUE' for 'nm_table_list' class 
and 'FALSE' otherwise.
</p>

<hr>
<h2 id='is.xpdb'>Test for xpose_data class</h2><span id='topic+is.xpdb'></span>

<h3>Description</h3>

<p>Reports whether x is an 'xpose_data' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.xpdb(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.xpdb_+3A_x">x</code></td>
<td>
<p>An object to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value, 'TRUE' for 'xpose_data' class 
and 'FALSE' otherwise.
</p>

<hr>
<h2 id='is.xpose.plot'>Test for xpose_plot class</h2><span id='topic+is.xpose.plot'></span>

<h3>Description</h3>

<p>Reports whether x is a 'xpose_plot' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.xpose.plot(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.xpose.plot_+3A_x">x</code></td>
<td>
<p>An object to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value, 'TRUE' for 'xpose_plot' class 
and 'FALSE' otherwise.
</p>

<hr>
<h2 id='is.xpose.theme'>Test for xpose_theme class</h2><span id='topic+is.xpose.theme'></span>

<h3>Description</h3>

<p>Reports whether x is an 'xpose_theme' object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.xpose.theme(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.xpose.theme_+3A_x">x</code></td>
<td>
<p>An object to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical value, 'TRUE' for 'xpose_theme' class 
and 'FALSE' otherwise.
</p>

<hr>
<h2 id='last_data_problem'>Get last data problem</h2><span id='topic+last_data_problem'></span>

<h3>Description</h3>

<p>Used by several internal functions when the problem argument has not 
been supplied by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_data_problem(xpdb, simtab = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="last_data_problem_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="last_data_problem_+3A_simtab">simtab</code></td>
<td>
<p>Logical if 'TRUE' the last simulation problem is returned. If 'FALSE' 
the last estimation problem is returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The last estimation problem when 'simtab = FALSE', 
else the last simulation problem as an integer.
</p>

<hr>
<h2 id='last_file_method'>Get last file estimation method</h2><span id='topic+last_file_method'></span>

<h3>Description</h3>

<p>Get last file estimation method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_file_method(xpdb, ext, .problem, .subprob)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="last_file_method_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="last_file_method_+3A_ext">ext</code></td>
<td>
<p>The file extension to be used.</p>
</td></tr>
<tr><td><code id="last_file_method_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
<tr><td><code id="last_file_method_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem number to be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of the last file method as character 
for the given '.problem' and file 'ext'.
</p>

<hr>
<h2 id='last_file_problem'>Get last file problem</h2><span id='topic+last_file_problem'></span>

<h3>Description</h3>

<p>Get last file problem
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_file_problem(xpdb, ext)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="last_file_problem_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="last_file_problem_+3A_ext">ext</code></td>
<td>
<p>The file extension to be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of the last file problem as an integer 
for the given file 'ext'.
</p>

<hr>
<h2 id='last_file_subprob'>Get last file subproblem</h2><span id='topic+last_file_subprob'></span>

<h3>Description</h3>

<p>Get last file subproblem
</p>


<h3>Usage</h3>

<pre><code class='language-R'>last_file_subprob(xpdb, ext, .problem)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="last_file_subprob_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="last_file_subprob_+3A_ext">ext</code></td>
<td>
<p>The file extension to be used.</p>
</td></tr>
<tr><td><code id="last_file_subprob_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of the last file subproblem as an integer 
for the given '.problem' and file 'ext'.
</p>

<hr>
<h2 id='list_nm_tables'>List NONMEM output tables</h2><span id='topic+list_nm_tables'></span>

<h3>Description</h3>

<p>List NONMEM output tables file names from a <code>nm_model</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_nm_tables(nm_model = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_nm_tables_+3A_nm_model">nm_model</code></td>
<td>
<p>An xpose nm_model object generated with <code><a href="#topic+read_nm_model">read_nm_model</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+read_nm_model">read_nm_model</a></code>, <code><a href="#topic+read_nm_tables">read_nm_tables</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
read_nm_model(file = 'run001.lst') %&gt;% 
  list_nm_tables()

## End(Not run)

</code></pre>

<hr>
<h2 id='list_nm_tables_manual'>Creates an nm_table_list from manually defined table name patterns</h2><span id='topic+list_nm_tables_manual'></span>

<h3>Description</h3>

<p>Creates an nm_table_list from manually defined table name patterns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_nm_tables_manual(runno = NULL, file = NULL, dir = NULL, tab_list)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_nm_tables_manual_+3A_runno">runno</code></td>
<td>
<p>Run number to be used to generate model file name.</p>
</td></tr>
<tr><td><code id="list_nm_tables_manual_+3A_file">file</code></td>
<td>
<p>Model file name containing the file extension.</p>
</td></tr>
<tr><td><code id="list_nm_tables_manual_+3A_dir">dir</code></td>
<td>
<p>Location of the model files.</p>
</td></tr>
<tr><td><code id="list_nm_tables_manual_+3A_tab_list">tab_list</code></td>
<td>
<p>A list of table definition generated by 'manual_nm_import'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'nm_table_list'
</p>

<hr>
<h2 id='list_vars'>List available variables</h2><span id='topic+list_vars'></span>

<h3>Description</h3>

<p>Function listing all available variables in an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_vars(xpdb, .problem = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_vars_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the model code will be extracted.</p>
</td></tr>
<tr><td><code id="list_vars_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by lists all available problems.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+set_var_types">set_var_types</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>list_vars(xpdb_ex_pk)
</code></pre>

<hr>
<h2 id='list_xpdb'>List available datasets</h2><span id='topic+list_xpdb'></span><span id='topic+list_data'></span><span id='topic+list_files'></span><span id='topic+list_special'></span>

<h3>Description</h3>

<p>Function providing a detailed listing of all available datasets in an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_data(xpdb)

list_files(xpdb)

list_special(xpdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_xpdb_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object to be evaluated</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+get_data">get_data</a></code>, <code><a href="#topic+get_file">get_file</a></code>, <code><a href="#topic+get_special">get_special</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># List output tables data
list_data(xpdb_ex_pk)

# List output files data
list_files(xpdb_ex_pk)

# List special data
xpdb_ex_pk %&gt;% 
vpc_data(quiet = TRUE) %&gt;% 
list_special()

</code></pre>

<hr>
<h2 id='make_extension'>Generate extension string</h2><span id='topic+make_extension'></span>

<h3>Description</h3>

<p>Generate consistent extension strings by adding dot 
prefix whenever necessary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_extension(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_extension_+3A_x">x</code></td>
<td>
<p>A string or vector of strings containing the extension to be standardized.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string or vector of strings of extension(s).
</p>

<hr>
<h2 id='manual_nm_import'>Manually define nonmem tables to be imported</h2><span id='topic+manual_nm_import'></span>

<h3>Description</h3>

<p>Manually provide names of the table files to be imported by <code>xpose_data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manual_nm_import(
  tab_names = c("sdtab", "mutab", "patab", "catab", "cotab", "mytab", "extra", "xptab",
    "cwtab"),
  tab_suffix = "",
  sim_suffix = "sim"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="manual_nm_import_+3A_tab_names">tab_names</code></td>
<td>
<p>Provide the name of the tables to import e.g. 'sdtab', 'patab', 'cotab', 
'catab' for NONMEM.</p>
</td></tr>
<tr><td><code id="manual_nm_import_+3A_tab_suffix">tab_suffix</code></td>
<td>
<p>Default is &rdquo;, but can be changed to any character string to be used as 
suffix in the table names.</p>
</td></tr>
<tr><td><code id="manual_nm_import_+3A_sim_suffix">sim_suffix</code></td>
<td>
<p>Default is 'sim', but can be changed to any character string to be used as 
suffix in the simulation table names e.g. sdtab001sim.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In order to be imported manually, table names must follow the following convention: 
<code>&lt;tab_names&gt;&lt;runno&gt;&lt;tab/sim_suffix&gt;</code> e.g. sdtab001sim. When the argument 'file' is used in 
<code>xpose_data</code>, the <code>&lt;runno&gt;</code> part is guessed by taking the portion of the string starting 
by any digit and ending at the file extension e.g. <code>file = run001a.mod</code> will guess &lt;runno&gt; as
'001a'. If no valid &lt;runno&gt; can be guessed, xpose will return an error. In this case it is advised 
to use the <code>xpose_data</code> argument 'runno' directly rather than 'file' hence preventing xpose 
from having to guess &lt;runno&gt;.
</p>
<p>Note that with manual table import xpose still reads in the NONMEM model file in order to generate
the run summary.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xpose_data">xpose_data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Import all names specified by default as in xpose4
xpose_data(runno = '001', manual_import = manual_nm_import())

# Import a specific table name
xpose_data(runno = '001', manual_import = manual_nm_import(tab_names = 'mytab'))

## End(Not run)
</code></pre>

<hr>
<h2 id='merge_firstonly'>Merge firstonly table with full length tables</h2><span id='topic+merge_firstonly'></span>

<h3>Description</h3>

<p>Merge firstonly table with full length tables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_firstonly(x, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="merge_firstonly_+3A_x">x</code></td>
<td>
<p>A list containing the tables ('x$data') to be 
merged, the firstonly flag ('x$firstonly') and the 
indexes ('x$index').</p>
</td></tr>
<tr><td><code id="merge_firstonly_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing 'data' and 'index' of the merged table.
</p>

<hr>
<h2 id='minimization_plots'>Parameter value or gradient vs. iterations</h2><span id='topic+minimization_plots'></span><span id='topic+prm_vs_iteration'></span><span id='topic+grd_vs_iteration'></span>

<h3>Description</h3>

<p>Change of parameter value or gradient vs. iterations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prm_vs_iteration(
  xpdb,
  mapping = NULL,
  group = "variable",
  type = "l",
  title = "Parameter @y vs. @x | @run",
  subtitle = "Method: @method, minimization time: @runtime\nTermination message: @term",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  .subprob,
  .method,
  quiet,
  ...
)

grd_vs_iteration(
  xpdb,
  mapping = NULL,
  group = "variable",
  type = "l",
  title = "Gradient @y vs. @x | @run",
  subtitle = "Method: @method, minimization time: @runtime\nTermination message: @term",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  .subprob,
  .method,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="minimization_plots_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_guide">guide</code></td>
<td>
<p>Enable guide display (e.g. unity line).</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_.subprob">.subprob</code></td>
<td>
<p>The sub-problem number to be used. By default returns 
the last sub-problem associated with the selected problem.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be used, by default returns the last one for each file</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="minimization_plots_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>prm_vs_iteration(xpdb_ex_pk)

grd_vs_iteration(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='modify_xpdb'>Add, remove or rename variables in an xpdb</h2><span id='topic+modify_xpdb'></span><span id='topic+mutate.xpose_data'></span><span id='topic+select.xpose_data'></span><span id='topic+rename.xpose_data'></span>

<h3>Description</h3>

<p><code>mutate()</code> adds new variables and preserves existing ones. 
<code>select()</code> keeps only the listed variables; <code>rename()</code> keeps all variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xpose_data'
mutate(.data, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
select(.data, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
rename(.data, ..., .problem, .source, .where)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="modify_xpdb_+3A_.data">.data</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="modify_xpdb_+3A_...">...</code></td>
<td>
<p>Name-value pairs of expressions. Use <code>NULL</code> to drop a variable.
</p>
<p>These arguments are automatically quoted and evaluated in the 
context of the data frame. They support unquoting and splicing. 
See the dplyr vignette(&quot;programming&quot;) for an introduction to these concepts.</p>
</td></tr>
<tr><td><code id="modify_xpdb_+3A_.problem">.problem</code></td>
<td>
<p>The problem from which the data will be modified</p>
</td></tr>
<tr><td><code id="modify_xpdb_+3A_.source">.source</code></td>
<td>
<p>The source of the data in the xpdb. Can either be 'data' or an output 
file extension e.g. 'phi'.</p>
</td></tr>
<tr><td><code id="modify_xpdb_+3A_.where">.where</code></td>
<td>
<p>A vector of element names to be edited in special (e.g. 
<code>.where = c('vpc_dat', 'aggr_obs')</code> with vpc).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Mutate columns
xpdb_ex_pk %&gt;% 
 mutate(lnDV = log(DV), 
        sim_count = irep(ID), 
        .problem = 1) %&gt;% 
 dv_vs_idv(aes(y = lnDV))
 
# Rename/select columns
xpdb_ex_pk %&gt;% 
 select(ID:TAD, DV, EVID) %&gt;% 
 rename(TSLD = TAD) %&gt;% 
 dv_vs_idv(aes(x = TSLD))
</code></pre>

<hr>
<h2 id='msg'>Message function</h2><span id='topic+msg'></span>

<h3>Description</h3>

<p>Message function with quiet option inspired from 'ronkeizer/vpc'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msg(txt, quiet = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msg_+3A_txt">txt</code></td>
<td>
<p>A string for the message.</p>
</td></tr>
<tr><td><code id="msg_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Silent when quiet is 'TRUE' or a message is quiet is 'FALSE'.
</p>

<hr>
<h2 id='only_distinct'>Create functions for data deduplication</h2><span id='topic+only_distinct'></span>

<h3>Description</h3>

<p>Create shortcut functions on the fly to remove duplicated records in data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>only_distinct(xpdb, .problem, facets, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="only_distinct_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="only_distinct_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
<tr><td><code id="only_distinct_+3A_facets">facets</code></td>
<td>
<p>The plot faceting variable. The 'facets' variables along with the 'id' column 
type will be as grouping factors during data deduplication process.</p>
</td></tr>
<tr><td><code id="only_distinct_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function
</p>

<hr>
<h2 id='only_obs'>Create functions to drop non observation records</h2><span id='topic+only_obs'></span>

<h3>Description</h3>

<p>Create shortcut functions on the fly to remove records 
not associated with an observation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>only_obs(xpdb, .problem, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="only_obs_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="only_obs_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
<tr><td><code id="only_obs_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function
</p>

<hr>
<h2 id='parse_arg'>Parse arguments from xpose to ggplot2 format</h2><span id='topic+parse_arg'></span>

<h3>Description</h3>

<p>Transform arguments from xpose (e.g. point_color) 
to ggplot2 (e.g. color) format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_arg(x = NULL, name)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_arg_+3A_x">x</code></td>
<td>
<p>A list of xpose plot aesthetics.</p>
</td></tr>
<tr><td><code id="parse_arg_+3A_name">name</code></td>
<td>
<p>Name of the destination layer for the argument 
parsing (e.g. point).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>ggplot2 aesthetics for the layer defined in 'name'.
</p>

<hr>
<h2 id='parse_nm_files'>Parse NONMEM output files</h2><span id='topic+parse_nm_files'></span>

<h3>Description</h3>

<p>Function parsing NONMEM output files from their 
raw input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_nm_files(dat, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_nm_files_+3A_dat">dat</code></td>
<td>
<p>A list containing the raw data as vector of strings ('dat$raw')
and their respective file names ('dat$name').</p>
</td></tr>
<tr><td><code id="parse_nm_files_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble containing the parsed 'data' along with 'name', 'problem', 
'subprob', and 'method'.
</p>

<hr>
<h2 id='parse_title'>Parse keywords in string based on values contained in an xpdb</h2><span id='topic+parse_title'></span>

<h3>Description</h3>

<p>Parse keywords in string based on values contained in an xpdb
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_title(
  string,
  xpdb,
  problem,
  quiet,
  extra_key = NULL,
  extra_value = NULL,
  ignore_key = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="parse_title_+3A_string">string</code></td>
<td>
<p>A string containing keywords (e.g. '@nobs') to be parsed 
(e.g. title, label, etc.) using values stored in the 'xpdb$summary'.</p>
</td></tr>
<tr><td><code id="parse_title_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="parse_title_+3A_problem">problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
<tr><td><code id="parse_title_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
<tr><td><code id="parse_title_+3A_extra_key">extra_key</code></td>
<td>
<p>A vector of additional keywords not available in the 'xpdb$summary'.</p>
</td></tr>
<tr><td><code id="parse_title_+3A_extra_value">extra_value</code></td>
<td>
<p>A vector of values matching the order of 'extra_key'.</p>
</td></tr>
<tr><td><code id="parse_title_+3A_ignore_key">ignore_key</code></td>
<td>
<p>A vector of keywords to be ignored i.e. warnings will not be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The parsed 'string'.
</p>

<hr>
<h2 id='pred_vs_idv'>Observations and model predictions plotted against the independent variable</h2><span id='topic+pred_vs_idv'></span><span id='topic+dv_vs_idv'></span><span id='topic+ipred_vs_idv'></span><span id='topic+dv_preds_vs_idv'></span>

<h3>Description</h3>

<p>Plot of observations (DV), individual model predictions (IPRED) 
and/or population predictions (PRED) plotted against the independent variable (IDV).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dv_vs_idv(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  facets,
  .problem,
  quiet,
  ...
)

ipred_vs_idv(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  facets,
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv, Eps shrink: @epsshk",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  .problem,
  quiet,
  ...
)

pred_vs_idv(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  facets,
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  .problem,
  quiet,
  ...
)

dv_preds_vs_idv(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  facets,
  title = "Observations, Individual and Population Predictions vs. @x | @run",
  subtitle = "Ofv: @ofv, Eps shrink: @epsshk",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pred_vs_idv_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="pred_vs_idv_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dv_vs_idv(xpdb_ex_pk)

ipred_vs_idv(xpdb_ex_pk)

pred_vs_idv(xpdb_ex_pk)

dv_preds_vs_idv(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='print.ggplot'>Import print ggplot method</h2><span id='topic+print.ggplot'></span>

<h3>Description</h3>

<p>Import print ggplot method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ggplot'
print(x, newpage = is.null(vp), vp = NULL, ...)
</code></pre>

<hr>
<h2 id='print.xpose_data'>Print an xpose_data object</h2><span id='topic+print.xpose_data'></span>

<h3>Description</h3>

<p>This function returns to the console a list of the files and options 
attached to an <code><a href="#topic+xpose_data">xpose_data</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xpose_data'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.xpose_data_+3A_x">x</code></td>
<td>
<p>An <code>xpose_data</code> object generated with <code><a href="#topic+xpose_data">xpose_data</a></code>.</p>
</td></tr>
<tr><td><code id="print.xpose_data_+3A_...">...</code></td>
<td>
<p>Ignored in this function</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Using the print function
print(xpdb_ex_pk)

# Or simply by writing the xpdb name
xpdb_ex_pk

</code></pre>

<hr>
<h2 id='print.xpose_plot'>Draw an xpose_plot object</h2><span id='topic+print.xpose_plot'></span>

<h3>Description</h3>

<p>This function explicitly draw an xpose_plot and interprets keywords 
contained in labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xpose_plot'
print(x, page, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.xpose_plot_+3A_x">x</code></td>
<td>
<p>An <code>xpose_plot</code> object.</p>
</td></tr>
<tr><td><code id="print.xpose_plot_+3A_page">page</code></td>
<td>
<p>The page number to be drawn. Can be specified as vector or range 
of integer values.</p>
</td></tr>
<tr><td><code id="print.xpose_plot_+3A_...">...</code></td>
<td>
<p>Options to be passed on to the ggplot2 print method.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>my_plot &lt;- dv_vs_ipred(xpdb_ex_pk) +
            labs(title = 'A label with keywords: @nind individuals &amp; @nobs observations')
# Using the print function
print(my_plot)

# Or simply by writting the plot object name
my_plot

</code></pre>

<hr>
<h2 id='prm_table'>Display a parameter estimates to the console</h2><span id='topic+prm_table'></span>

<h3>Description</h3>

<p>Display parameter estimates from an xpdb object to the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prm_table(
  xpdb,
  .problem = NULL,
  .subprob = NULL,
  .method = NULL,
  digits = 4,
  transform = TRUE,
  show_all = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prm_table_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object from which the model output file data will be extracted.</p>
</td></tr>
<tr><td><code id="prm_table_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one for each file.</p>
</td></tr>
<tr><td><code id="prm_table_+3A_.subprob">.subprob</code></td>
<td>
<p>The subproblem to be used, by default returns the last one for each file.</p>
</td></tr>
<tr><td><code id="prm_table_+3A_.method">.method</code></td>
<td>
<p>The estimation method to be used, by default returns the last one for each file</p>
</td></tr>
<tr><td><code id="prm_table_+3A_digits">digits</code></td>
<td>
<p>The number of significant digits to be displayed.</p>
</td></tr>
<tr><td><code id="prm_table_+3A_transform">transform</code></td>
<td>
<p>Should diagonal OMEGA and SIGMA elements be transformed to standard deviation and 
off diagonal elements be transformed to correlations.</p>
</td></tr>
<tr><td><code id="prm_table_+3A_show_all">show_all</code></td>
<td>
<p>Logical, whether the 0 fixed off-diagonal elements should be removed from the output.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+get_prm">get_prm</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Store the parameter table
prm &lt;- get_prm(xpdb_ex_pk, .problem = 1)

# Display parameters to the console
prm_table(xpdb_ex_pk, .problem = 1)

## End(Not run)
</code></pre>

<hr>
<h2 id='qq_plot'>QQ plots of ETA and residuals</h2><span id='topic+qq_plot'></span><span id='topic+prm_qq'></span><span id='topic+eta_qq'></span><span id='topic+res_qq'></span><span id='topic+cov_qq'></span>

<h3>Description</h3>

<p>QQ plots of the ETA and model residuals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prm_qq(
  xpdb,
  mapping = NULL,
  drop_fixed = TRUE,
  type = "p",
  title = "QQ plot of parameters | @run",
  subtitle = "Based on @nind individuals",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)

eta_qq(
  xpdb,
  mapping = NULL,
  drop_fixed = TRUE,
  type = "p",
  title = "QQ plot of etas | @run",
  subtitle = "Based on @nind individuals, Eta shrink: @etashk",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)

res_qq(
  xpdb,
  mapping = NULL,
  res = "CWRES",
  type = "p",
  title = "QQ plot of @sample | @run",
  subtitle = "Based on @nobs observations",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)

cov_qq(
  xpdb,
  mapping = NULL,
  drop_fixed = TRUE,
  type = "p",
  title = "QQ plot of continuous covariates | @run",
  subtitle = "Based on @nind individuals",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="qq_plot_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_drop_fixed">drop_fixed</code></td>
<td>
<p>Should columns that only have a single unique value 
(i.e. fixed) be dropped.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_type">type</code></td>
<td>
<p>String setting the type of plot. Can only be points 'p'.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_guide">guide</code></td>
<td>
<p>Should the guide (e.g. reference line) be displayed.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
<tr><td><code id="qq_plot_+3A_res">res</code></td>
<td>
<p>Only used for <code>res_qq</code>. Defines the type of residual to be used. Default is &quot;CWRES&quot;.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_distrib">xplot_distrib</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># QQ plot of parameters
prm_qq(xpdb_ex_pk)

# QQ plot of eta
eta_qq(xpdb_ex_pk)

# QQ plot of residuals
res_qq(xpdb_ex_pk, res = c('IWRES', 'CWRES'))

# QQ plot of continuous covariates
cov_qq(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='raw_to_tibble'>Convert raw strings to tibble</h2><span id='topic+raw_to_tibble'></span>

<h3>Description</h3>

<p>Convert raw data strings to a tibble format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raw_to_tibble(x, sep, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="raw_to_tibble_+3A_x">x</code></td>
<td>
<p>A list containing the raw data as vector of strings ('x$raw').</p>
</td></tr>
<tr><td><code id="raw_to_tibble_+3A_sep">sep</code></td>
<td>
<p>A separator which will be used to create columns.</p>
</td></tr>
<tr><td><code id="raw_to_tibble_+3A_file">file</code></td>
<td>
<p>The name of the file to be parsed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>

<hr>
<h2 id='read_args'>Define data import arguments</h2><span id='topic+read_args'></span>

<h3>Description</h3>

<p>Define data import arguments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_args(
  x,
  quiet,
  col_types = readr::cols(.default = "d"),
  na = "NA",
  comment = "TABLE",
  skip = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_args_+3A_x">x</code></td>
<td>
<p>A list containing a the 3 first records of a 
dataset under '[[1]]'.</p>
</td></tr>
<tr><td><code id="read_args_+3A_quiet">quiet</code></td>
<td>
<p>Should messages be displayed to the console.</p>
</td></tr>
<tr><td><code id="read_args_+3A_col_types">col_types</code></td>
<td>
<p>Defines the type of each column to be passed to 
the 'readr' import function.</p>
</td></tr>
<tr><td><code id="read_args_+3A_na">na</code></td>
<td>
<p>Character string defining the values to be treated as 'NA'.</p>
</td></tr>
<tr><td><code id="read_args_+3A_comment">comment</code></td>
<td>
<p>Character string defining the value to mark comments.</p>
</td></tr>
<tr><td><code id="read_args_+3A_skip">skip</code></td>
<td>
<p>Number of rows to be skipped before reading the data.</p>
</td></tr>
<tr><td><code id="read_args_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the 'readr' function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of 2 levels fun (the import function) and params (a list 
of arguments to be used when calling fun).
</p>

<hr>
<h2 id='read_funs'>Define data import functions</h2><span id='topic+read_funs'></span>

<h3>Description</h3>

<p>Define data import functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_funs(fun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_funs_+3A_fun">fun</code></td>
<td>
<p>Abbreviated 'readr' data import function. 
Can be 'csv', 'csv2' or 'table'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data import function.
</p>

<hr>
<h2 id='read_nm_files'>NONMEM output file import function</h2><span id='topic+read_nm_files'></span>

<h3>Description</h3>

<p>Quickly import NONMEM output files into R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_nm_files(
  runno = NULL,
  prefix = "run",
  ext = c(".ext", ".cor", ".cov", ".phi", ".grd", ".shk"),
  file = NULL,
  dir = NULL,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_nm_files_+3A_runno">runno</code></td>
<td>
<p>Run number to be evaluated.</p>
</td></tr>
<tr><td><code id="read_nm_files_+3A_prefix">prefix</code></td>
<td>
<p>Prefix of the model file names.</p>
</td></tr>
<tr><td><code id="read_nm_files_+3A_ext">ext</code></td>
<td>
<p>A vector of the file extension to import. By default '.ext', '.cor', '.cov', '.phi', '.grd', '.shk'
files are listed.</p>
</td></tr>
<tr><td><code id="read_nm_files_+3A_file">file</code></td>
<td>
<p>Names of the model output file to be imported. Alternative argument to <code>prefix</code>,
<code>runno</code> and <code>ext</code>.</p>
</td></tr>
<tr><td><code id="read_nm_files_+3A_dir">dir</code></td>
<td>
<p>Location of the model files.</p>
</td></tr>
<tr><td><code id="read_nm_files_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>File path generation</h3>

<p>The rules for model file names generation are
as follow: </p>

<ul>
<li><p> with <code>runno</code>: the full path is generated as
<code>&lt;dir&gt;/&lt;prefix&gt;&lt;runno&gt;.&lt;ext&gt;</code> e.g. with <code>dir = 'model/pk'</code>,
<code>prefix = 'run'</code>, <code>runno = '001'</code>, <code>ext = '.lst'</code> the
resulting path would be <code>model/pk/run001.lst</code>
</p>
</li>
<li><p> with <code>file</code>:
the full path is generated as <code>&lt;dir&gt;/&lt;file&gt;</code> e.g. with <code>dir =
  'model/pk'</code>, <code>file = 'run001.lst'</code> the resulting path would also be
<code>model/pk/run001.lst</code>. Note: in this case the file extension should be
provided as part of the 'file' argument.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+xpose_data">xpose_data</a></code>, <code><a href="#topic+read_nm_tables">read_nm_tables</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Using the `file` argument to import a model file:
ext_file &lt;- read_nm_files(file = 'run001.ext', dir = 'models')

# Using the `runno` argument to import a model file:
ext_file &lt;- read_nm_files(runno = '001', ext = '.ext', dir = 'models')

## End(Not run)
</code></pre>

<hr>
<h2 id='read_nm_model'>NONMEM model file parser</h2><span id='topic+read_nm_model'></span>

<h3>Description</h3>

<p>Parse NONMEM model files in R format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_nm_model(
  runno = NULL,
  prefix = "run",
  ext = ".lst",
  file = NULL,
  dir = NULL,
  check_ext = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_nm_model_+3A_runno">runno</code></td>
<td>
<p>Run number to be used to generate model file name. Used in
combination with <code>prefix</code> and <code>ext</code>.</p>
</td></tr>
<tr><td><code id="read_nm_model_+3A_prefix">prefix</code></td>
<td>
<p>Prefix to be used to generate model file name. Used in
combination with <code>runno</code> and <code>ext</code>.</p>
</td></tr>
<tr><td><code id="read_nm_model_+3A_ext">ext</code></td>
<td>
<p>Extension to be used to generate model file name. Should be one of
'.lst' (default), '.out', '.res', '.mod' or '.ctl' for NONMEM.</p>
</td></tr>
<tr><td><code id="read_nm_model_+3A_file">file</code></td>
<td>
<p>Model file name (preferably a '.lst' file) containing the file
extension. Alternative to <code>prefix</code>, <code>runno</code> and <code>ext</code>
arguments.</p>
</td></tr>
<tr><td><code id="read_nm_model_+3A_dir">dir</code></td>
<td>
<p>Location of the model files.</p>
</td></tr>
<tr><td><code id="read_nm_model_+3A_check_ext">check_ext</code></td>
<td>
<p>Logical, if <code>TRUE</code> will provide an error message if the
extension of the NONMEM input file is not one of '.lst', '.out', '.res',
'.mod' or '.ctl' for NONMEM. If <code>FALSE</code> any file extension can be
used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A NONMEM model output file (i.e. .lst, .out or .res) should preferably be provided to <code>read_nm_model</code> to allow for a more extensive xpose 
summary. However in some cases these output files may not contain the model code, thus preventing xpose from identifying the associated output 
tables names. In such cases xpose will attempt to read the associated model file (i.e. .mod or .ctl) instead to find the model code. Note: it 
is important that between the naming convention between the NONMEM output and the model file remains consistent e.g. run001.lst should be 
associated with run001.mod.
</p>


<h3>Value</h3>

<p>A <code><a href="dplyr.html#topic+tibble">tibble</a></code> of class <code>model</code> containing the following columns: 
</p>

<ul>
<li><p> problem: a numeric identifier for the $PROBLEM associated with the code.
</p>
</li>
<li><p> level: a unique numeric identifier to each subroutine block associated with the code.
</p>
</li>
<li><p> subroutine: a character identifier named after the 3 first letters of the subroutine name e.g. '$THETA' and 
'$TABLE' will become 'the' and 'tab' respectively. In addition all output from the .lst is labeled 'lst', the general nonmem 
output e.g. NM-TRAN messages are labelled 'oth'. With priors thp, tpv, omp, opd, sip, spd abbreviations are given to the THETAP, 
THETAPV, OMEGAP, etc.
</p>
</li>
<li><p> code: the code without comments or subroutine names e.g. '$THETA 0.5 ; TVCL' will return '0.5'.
</p>
</li>
<li><p> comment: the last comment of a record e.g. '0.5 ; Clearance (L/h) ; TVCL' will return 'TVCL'.
</p>
</li></ul>



<h3>File path generation</h3>

<p>The rules for model file names generation are
as follow: </p>

<ul>
<li><p> with <code>runno</code>: the full path is generated as
<code>&lt;dir&gt;/&lt;prefix&gt;&lt;runno&gt;.&lt;ext&gt;</code> e.g. with <code>dir = 'model/pk'</code>,
<code>prefix = 'run'</code>, <code>runno = '001'</code>, <code>ext = '.lst'</code> the
resulting path would be <code>model/pk/run001.lst</code>
</p>
</li>
<li><p> with <code>file</code>:
the full path is generated as <code>&lt;dir&gt;/&lt;file&gt;</code> e.g. with <code>dir =
  'model/pk'</code>, <code>file = 'run001.lst'</code> the resulting path would also be
<code>model/pk/run001.lst</code>. Note: in this case the file extension should be
provided as part of the 'file' argument.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+xpose_data">xpose_data</a></code>, <code><a href="#topic+read_nm_tables">read_nm_tables</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Using the `file` argument to import a model file:
nm_model &lt;- read_nm_model(file = 'run001.lst', dir = 'models')

# Using the `runno` argument to import a model file:
nm_model &lt;- read_nm_model(runno = '001', ext = '.lst', dir = 'models')

## End(Not run)

</code></pre>

<hr>
<h2 id='read_nm_tables'>NONMEM output table import function</h2><span id='topic+read_nm_tables'></span>

<h3>Description</h3>

<p>Quickly import NONMEM output tables into R. This function automatically 
detects the optimal settings to import the tables from nonmem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_nm_tables(
  file = NULL,
  dir = NULL,
  combined = TRUE,
  rm_duplicates = TRUE,
  quiet = FALSE,
  simtab = NULL,
  ziptab = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_nm_tables_+3A_file">file</code></td>
<td>
<p>A character vector of path to the files or a <code>nm_table_list</code> object created with <code>list_nm_tables</code>.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_dir">dir</code></td>
<td>
<p>Location of the model files.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_combined">combined</code></td>
<td>
<p>Logical value indicating whether multiple tables should be combined into a single one. If the number of rows 
does not match an error will be returned.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_rm_duplicates">rm_duplicates</code></td>
<td>
<p>Logical value indicating whether duplicated columns should be removed.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_simtab">simtab</code></td>
<td>
<p>If <code>TRUE</code> only reads in simulation tables, if <code>FALSE</code> only reads estimation tables. 
Default <code>NULL</code> reads all tables.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_ziptab">ziptab</code></td>
<td>
<p>If <code>TRUE</code> search for the tables that have been compressed and renamed &lt;file&gt;.zip'.</p>
</td></tr>
<tr><td><code id="read_nm_tables_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the <code><a href="readr.html#topic+read_table">read_table</a></code> or <code><a href="readr.html#topic+read_csv">read_csv</a></code> functions.</p>
</td></tr>
</table>


<h3>Table format requirement</h3>

<p>When using <code>read_nm_tables</code> with the <code>combined</code> argument set to <code>FALSE</code> an <code>ID</code> column 
must be present in all data tables. When <code>combined</code> is set to <code>TRUE</code> instead an <code>ID</code> column must be 
present in at least one table for each problem and for each 'firstonly' category. <code>ID</code> columns are required 
to properly combine/merge tables and removing <code>NA</code> records. If the <code>ID</code> column is missing from a table and 
<code>combined = FALSE</code> <code>read_nm_tables</code> will return the following warning: <code>Unknown variables: `ID`</code>. While
the data is returned beware that <code>NA</code> records might be left in the data and the output should be checked carefully.
If <code>combined = TRUE</code> <code>read_nm_tables</code> xpose is more strict and will return the following warning instead: 
<code>Dropped `&lt;tablenames&gt;` due to missing required `ID` column.</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Import tables manually and return them as a list of individual tables
nm_tables &lt;- read_nm_tables(file = c('sdtab001', 'patab001'), 
                            dir = 'models', combined = FALSE)

# Import tables manually and return them as a single merged table
nm_tables &lt;- read_nm_tables(file = c('sdtab001', 'patab001'), 
                            dir = 'models', combined = TRUE)

# Import tables automatically (used internally by xpose_data())
nm_tables &lt;- read_nm_model(file = 'run001.lst', dir = 'models') %&gt;% 
              list_nm_tables() %&gt;% 
              read_nm_tables()

# Passing arguments to readr via `...` 
# (e.g. import columns as character and only first 10 rows)
nm_tables &lt;- read_nm_tables(file = 'sdtab001', dir = 'models', 
                            col_type = readr::cols(.default = 'c'), 
                            n_max = 10)


## End(Not run)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+filter'></span><span id='topic+slice'></span><span id='topic+distinct'></span><span id='topic+mutate'></span><span id='topic+select'></span><span id='topic+rename'></span><span id='topic+group_by'></span><span id='topic+ungroup'></span><span id='topic+summarize'></span><span id='topic+summarise'></span><span id='topic++25+3E+25'></span><span id='topic+facet_wrap_paginate'></span><span id='topic+facet_grid_paginate'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+distinct">distinct</a></code>, <code><a href="dplyr.html#topic+filter">filter</a></code>, <code><a href="dplyr.html#topic+group_by">group_by</a></code>, <code><a href="dplyr.html#topic+mutate">mutate</a></code>, <code><a href="dplyr.html#topic+rename">rename</a></code>, <code><a href="dplyr.html#topic+select">select</a></code>, <code><a href="dplyr.html#topic+slice">slice</a></code>, <code><a href="dplyr.html#topic+summarise">summarise</a></code>, <code><a href="dplyr.html#topic+summarise">summarize</a></code>, <code><a href="dplyr.html#topic+group_by">ungroup</a></code></p>
</dd>
<dt>ggforce</dt><dd><p><code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>, <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code></p>
</dd>
<dt>purrr</dt><dd><p><code><a href="purrr.html#topic+pipe">%&gt;%</a></code></p>
</dd>
</dl>

<hr>
<h2 id='reorder_factors'>Reorder factors by numerical order</h2><span id='topic+reorder_factors'></span>

<h3>Description</h3>

<p>Will for example convert 'ETA(1)' to 1 create factors then generate labels
by wrapping the digits with prefix and suffix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reorder_factors(prefix, suffix = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reorder_factors_+3A_prefix">prefix</code></td>
<td>
<p>A prefix to be added in front of the factor digits.</p>
</td></tr>
<tr><td><code id="reorder_factors_+3A_suffix">suffix</code></td>
<td>
<p>A suffix to be added after the factor digits.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A modified tibble
</p>

<hr>
<h2 id='res_vs_idv'>Residuals plotted against the independent variable</h2><span id='topic+res_vs_idv'></span><span id='topic+absval_res_vs_idv'></span>

<h3>Description</h3>

<p>Model residuals plotted against the independent variable (IDV).
</p>
<p>The residuals can be one of:
</p>

<ul>
<li><p> RES: model residuals
</p>
</li>
<li><p> WRES: weighted model residuals
</p>
</li>
<li><p> CWRES: conditional weighted model residuals
</p>
</li>
<li><p> EWRES/ECWRES: Monte Carlo based model residuals
</p>
</li>
<li><p> NPDE: Normalized prediction distribution error 
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>res_vs_idv(
  xpdb,
  mapping = NULL,
  res = "CWRES",
  group = "ID",
  type = "pls",
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)

absval_res_vs_idv(
  xpdb,
  mapping = NULL,
  res = "CWRES",
  group = "ID",
  type = "pls",
  title = "@y vs. @x  | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_vs_idv_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_res">res</code></td>
<td>
<p>Type of residual to be used. Default is &quot;CWRES&quot;.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_guide">guide</code></td>
<td>
<p>Enable guide display (e.g. unity line).</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="res_vs_idv_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Standard residual
res_vs_idv(xpdb_ex_pk, res = c('IWRES', 'CWRES'))

# Absolute value of the residuals
absval_res_vs_idv(xpdb_ex_pk, res = 'CWRES')

</code></pre>

<hr>
<h2 id='res_vs_pred'>Residuals plotted against population predictions</h2><span id='topic+res_vs_pred'></span><span id='topic+absval_res_vs_pred'></span>

<h3>Description</h3>

<p>Model residuals plotted against population predictions (PRED). 
</p>
<p>The residuals can be one of:
</p>

<ul>
<li><p> RES: model residuals
</p>
</li>
<li><p> WRES: weighted model residuals
</p>
</li>
<li><p> CWRES: conditional weighted model residuals
</p>
</li>
<li><p> EWRES/ECWRES: Monte Carlo based model residuals
</p>
</li>
<li><p> NPDE: Normalized prediction distribution error 
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>res_vs_pred(
  xpdb,
  mapping = NULL,
  res = "CWRES",
  group = "ID",
  type = "pls",
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  facets,
  .problem,
  quiet,
  ...
)

absval_res_vs_pred(
  xpdb,
  mapping = NULL,
  res = "CWRES",
  group = "ID",
  type = "pls",
  title = "@y vs. @x | @run",
  subtitle = "Ofv: @ofv",
  caption = "@dir",
  tag = NULL,
  log = NULL,
  guide = FALSE,
  facets,
  .problem,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="res_vs_pred_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_res">res</code></td>
<td>
<p>Type of residual to be used. Default is &quot;CWRES&quot;.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_guide">guide</code></td>
<td>
<p>Enable guide display (e.g. unity line).</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code>
or a formula to use <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code>.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used. By default returns 
the last estimation problem.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="res_vs_pred_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics to be passed on <code>xplot_scatter</code>.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Standard residual
res_vs_pred(xpdb_ex_pk, res = c('IWRES', 'CWRES'))

# Absolute value of the residuals
absval_res_vs_pred(xpdb_ex_pk, res = 'CWRES')

</code></pre>

<hr>
<h2 id='set_vars'>Set variable type, label or units</h2><span id='topic+set_vars'></span><span id='topic+set_var_types'></span><span id='topic+set_var_labels'></span><span id='topic+set_var_units'></span>

<h3>Description</h3>

<p>Function designed to change the type, label or unit associated with variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_var_types(xpdb, .problem = NULL, ..., auto_factor = TRUE, quiet)

set_var_labels(xpdb, .problem = NULL, ..., quiet)

set_var_units(xpdb, .problem = NULL, ..., quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_vars_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object.</p>
</td></tr>
<tr><td><code id="set_vars_+3A_.problem">.problem</code></td>
<td>
<p>The problem number to which the edits will be applied.</p>
</td></tr>
<tr><td><code id="set_vars_+3A_...">...</code></td>
<td>
<p>Specifications of the edits to be made to the xpdb index. Edits are made as 
type and variable pairs e.g. idv = 'TAD' will assign TAD to the type idv (independent variable).</p>
</td></tr>
<tr><td><code id="set_vars_+3A_auto_factor">auto_factor</code></td>
<td>
<p>With <code>set_var_types</code> only. If <code>TRUE</code> new columns assigned to the type 'catcov' will be converted to
factor.</p>
</td></tr>
<tr><td><code id="set_vars_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An xpose_data object
</p>


<h3>Recognized variable types</h3>


<ul>
<li><p> a: Compartments' amount
</p>
</li>
<li><p> amt: Dose amount
</p>
</li>
<li><p> catcov: Categorical covariate
</p>
</li>
<li><p> contcov: Continuous covariate
</p>
</li>
<li><p> dv: Dependent variable
</p>
</li>
<li><p> dvid: DV identifier
</p>
</li>
<li><p> eta: Eta
</p>
</li>
<li><p> evid: Event identifier
</p>
</li>
<li><p> id: Subject identifier
</p>
</li>
<li><p> idv: Independent variable
</p>
</li>
<li><p> ipred: Individual model predictions
</p>
</li>
<li><p> mdv: Missing dependent variable
</p>
</li>
<li><p> na: Not attributed
</p>
</li>
<li><p> occ: Occasion flag
</p>
</li>
<li><p> param: Model parameter
</p>
</li>
<li><p> pred: Typical model predictions
</p>
</li>
<li><p> res: Residuals
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+list_vars">list_vars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Change variable type
xpdb_2 &lt;- set_var_types(xpdb_ex_pk, .problem = 1, idv = 'TAD')

# Change labels
xpdb_2 &lt;- set_var_labels(xpdb_2, .problem = 1, ALAG1 = 'Lag time', CL = 'Clearance', V = 'Volume')

# Change units
xpdb_2 &lt;- set_var_units(xpdb_2, .problem = 1, ALAG1 = 'h', CL = 'L/h', V = 'L')

</code></pre>

<hr>
<h2 id='software'>Get software from the xpdb</h2><span id='topic+software'></span>

<h3>Description</h3>

<p>Get the name of the modeling softwre on which the xpdb was created
</p>


<h3>Usage</h3>

<pre><code class='language-R'>software(xpdb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="software_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The name of a modeling tool.
</p>

<hr>
<h2 id='subset_xpdb'>Subset datasets in an xpdb</h2><span id='topic+subset_xpdb'></span><span id='topic+filter.xpose_data'></span><span id='topic+slice.xpose_data'></span><span id='topic+distinct.xpose_data'></span>

<h3>Description</h3>

<p>Use <code>filter()</code> to select rows/cases where conditions are true. 
Unlike base subsetting, rows where the condition evaluates to NA are dropped.
Use <code>slice()</code> to select row/cases by their position
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xpose_data'
filter(.data, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
slice(.data, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
distinct(.data, ..., .problem, .source, .where)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset_xpdb_+3A_.data">.data</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="subset_xpdb_+3A_...">...</code></td>
<td>
<p>Name-value pairs of expressions. Use <code>NULL</code> to drop a variable.
</p>
<p>These arguments are automatically quoted and evaluated in the 
context of the data frame. They support unquoting and splicing. 
See the dplyr vignette(&quot;programming&quot;) for an introduction to these concepts.</p>
</td></tr>
<tr><td><code id="subset_xpdb_+3A_.problem">.problem</code></td>
<td>
<p>The problem from which the data will be modified</p>
</td></tr>
<tr><td><code id="subset_xpdb_+3A_.source">.source</code></td>
<td>
<p>The source of the data in the xpdb. Can either be 'data' or an output 
file extension e.g. 'phi'.</p>
</td></tr>
<tr><td><code id="subset_xpdb_+3A_.where">.where</code></td>
<td>
<p>A vector of element names to be edited in special (e.g. 
<code>.where = c('vpc_dat', 'aggr_obs')</code> with vpc).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Subset by condition
xpdb_ex_pk %&gt;% 
 filter(DV &lt; 1, .problem = 1) %&gt;% 
 dv_vs_ipred()
  
# Subset by positions
xpdb_ex_pk %&gt;% 
 slice(1:100, .problem = 1) %&gt;% 
 dv_vs_ipred()
 
# Deduplicate rows
xpdb_ex_pk %&gt;% 
 distinct(TIME, .problem = 1) %&gt;% 
 dv_vs_ipred()
</code></pre>

<hr>
<h2 id='summarise_xpdb'>Group/ungroup and summarize variables in an xpdb</h2><span id='topic+summarise_xpdb'></span><span id='topic+group_by.xpose_data'></span><span id='topic+ungroup.xpose_data'></span><span id='topic+summarise.xpose_data'></span><span id='topic+summarize.xpose_data'></span>

<h3>Description</h3>

<p><code>group_by()</code> takes an existing table and converts it into a 
grouped table where operations are performed &quot;by group&quot;. <code>ungroup()</code> removes grouping.
<code>summarize()</code> reduces multiple values down to a single value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xpose_data'
group_by(.data, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
ungroup(x, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
summarise(.data, ..., .problem, .source, .where)

## S3 method for class 'xpose_data'
summarize(.data, ..., .problem, .source, .where)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summarise_xpdb_+3A_.data">.data</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="summarise_xpdb_+3A_...">...</code></td>
<td>
<p>Name-value pairs of expressions. Use <code>NULL</code> to drop a variable.
</p>
<p>These arguments are automatically quoted and evaluated in the 
context of the data frame. They support unquoting and splicing. 
See the dplyr vignette(&quot;programming&quot;) for an introduction to these concepts.</p>
</td></tr>
<tr><td><code id="summarise_xpdb_+3A_.problem">.problem</code></td>
<td>
<p>The problem from which the data will be modified</p>
</td></tr>
<tr><td><code id="summarise_xpdb_+3A_.source">.source</code></td>
<td>
<p>The source of the data in the xpdb. Can either be 'data' or an output 
file extension e.g. 'phi'.</p>
</td></tr>
<tr><td><code id="summarise_xpdb_+3A_.where">.where</code></td>
<td>
<p>A vector of element names to be edited in special (e.g. 
<code>.where = c('vpc_dat', 'aggr_obs')</code> with vpc).</p>
</td></tr>
<tr><td><code id="summarise_xpdb_+3A_x">x</code></td>
<td>
<p>Same as .data (used for consistency with dplyr functions).</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Create a distribution plot of Cmax
xpdb_ex_pk %&gt;% 
 group_by(ID, SEX, .problem = 1) %&gt;% 
 summarize(CMAX = max(DV), .problem = 1) %&gt;% 
 ungroup(.problem = 1) %&gt;% 
 xplot_distrib(aes(x = CMAX, density_fill = SEX), type = 'dr')
 
</code></pre>

<hr>
<h2 id='summary.xpose_data'>Summarizing xpose_data</h2><span id='topic+summary.xpose_data'></span>

<h3>Description</h3>

<p>This function returns a summary of an <code><a href="#topic+xpose_data">xpose_data</a></code> 
to the console.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'xpose_data'
summary(object, .problem = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.xpose_data_+3A_object">object</code></td>
<td>
<p>An <code>xpose_data</code> object generated with <code><a href="#topic+xpose_data">xpose_data</a></code>.</p>
</td></tr>
<tr><td><code id="summary.xpose_data_+3A_.problem">.problem</code></td>
<td>
<p>The problem to be used, by default returns the last one for each label.</p>
</td></tr>
<tr><td><code id="summary.xpose_data_+3A_...">...</code></td>
<td>
<p>Ignored in this function</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>summary(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='template_titles'>Template titles</h2><span id='topic+template_titles'></span>

<h3>Description</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and the filename when saving 
with the <code><a href="#topic+xpose_save">xpose_save</a></code> function. 
</p>
<p>Template titles are defined via a single string containing key variables staring 
with a @ (e.g. @ofv) which will be replaced by their actual value when rendering the plot.
For example '@run, @nobs observations in @nind subjects' would become 'run001, 
1022 observations in 74 subjects'
</p>
<p>Many key variables are available:
</p>

<dl>
<dt>@condn</dt><dd><p>Condition number</p>
</dd>
<dt>@covtime</dt><dd><p>Covariance matrix runtime</p>
</dd>
<dt>@data</dt><dd><p>Model input data used</p>
</dd>
<dt>@descr</dt><dd><p>Model description</p>
</dd>
<dt>@dir</dt><dd><p>Model directory</p>
</dd>
<dt>@epsshk</dt><dd><p>Epsilon shrinkage</p>
</dd>
<dt>@errors</dt><dd><p>Run errors (e.g termination error)</p>
</dd>
<dt>@esampleseed</dt><dd><p>ESAMPLE seed number (used in NPDE)</p>
</dd>
<dt>@etashk</dt><dd><p>Eta shrinkage</p>
</dd>
<dt>@file</dt><dd><p>Model file name</p>
</dd>
<dt>@label</dt><dd><p>Model label</p>
</dd>
<dt>@method</dt><dd><p>Estimation method or sim</p>
</dd>
<dt>@nesample</dt><dd><p>Number of ESAMPLE (used in NPDE)</p>
</dd>
<dt>@nind</dt><dd><p>Number of individuals</p>
</dd>
<dt>@nobs</dt><dd><p>Number of observations</p>
</dd>
<dt>@nsig</dt><dd><p>Number of significant digits</p>
</dd>
<dt>@nsim</dt><dd><p>Number of simulations</p>
</dd>
<dt>@ofv</dt><dd><p>Objective function value</p>
</dd>
<dt>@page and @lastpage</dt><dd><p>Are respectively the page number and the number 
of the last page when faceting on multiple pages</p>
</dd>
<dt>@probn</dt><dd><p>Problem number</p>
</dd>
<dt>@plotfun</dt><dd><p>Name of the plot function</p>
</dd>
<dt>@ref</dt><dd><p>Reference model</p>
</dd>
<dt>@run</dt><dd><p>Model run name</p>
</dd>
<dt>@runtime</dt><dd><p>Estimation/Sim runtime</p>
</dd>
<dt>@software</dt><dd><p>Software used (e.g. NONMEM)</p>
</dd>
<dt>@simseed</dt><dd><p>Simulation seed</p>
</dd>
<dt>@subroutine</dt><dd><p>Differential equation solver</p>
</dd>
<dt>@timestart</dt><dd><p>Run start time</p>
</dd>
<dt>@timestop</dt><dd><p>Run stop time</p>
</dd>
<dt>@timeplot</dt><dd><p>Time of the plot rendering</p>
</dd>
<dt>@term</dt><dd><p>Termination message</p>
</dd>
<dt>@version</dt><dd><p>Software version (e.g. 7.3)</p>
</dd>
<dt>@vpcci</dt><dd><p>VPC confidence interval</p>
</dd>
<dt>@vpcdir</dt><dd><p>VPC data directory</p>
</dd>
<dt>@vpclloq</dt><dd><p>VPC lower limit of quantification</p>
</dd>
<dt>@vpcnsim</dt><dd><p>Number of simulations for VPC</p>
</dd>
<dt>@vpcpi</dt><dd><p>VPC prediction interval</p>
</dd>  
<dt>@vpculoq</dt><dd><p>VPC upper limit of quantification</p>
</dd>
<dt>@warnings</dt><dd><p>Run warnings (e.g. boundary)</p>
</dd>
<dt>@x @y etc.</dt><dd><p>Name of any ggplot2 variable used for mapping in an <code>aes()</code> type function</p>
</dd>
</dl>



<h3>See Also</h3>

<p><a href="#topic+xpose_save">xpose_save</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Defined when creating a plot
dv_vs_ipred(xpdb_ex_pk, 
            title = '@x vs. @y',
            subtitle = '@ofv, @nind subjects, @nobs obs.',
            caption = '@run, @descr')
            
# Any label can be modified later on
dv_vs_ipred(xpdb_ex_pk, aes(point_color = SEX, 
                            line_color = SEX)) + 
 labs(title = 'This runs is: @descr', 
      color = 'Color scale for @run',
      x     = 'IPRED for @nind subjects',
      subtitle = NULL)

</code></pre>

<hr>
<h2 id='tidyr_new_interface'>Check tidyr version</h2><span id='topic+tidyr_new_interface'></span>

<h3>Description</h3>

<p>Check the version of tidyr to handle the gap between v0.8.3 and v1.0.0
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tidyr_new_interface()
</code></pre>


<h3>Value</h3>

<p>the package version of tidyr
</p>

<hr>
<h2 id='transform_prm'>Mean and variance of tranformed parameters</h2><span id='topic+transform_prm'></span>

<h3>Description</h3>

<p>The function calculates the mean and variance of function of parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_prm(formula, mu, sigma, method = "delta", samples = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_prm_+3A_formula">formula</code></td>
<td>
<p>A formula describing the transformation.</p>
</td></tr>
<tr><td><code id="transform_prm_+3A_mu">mu</code></td>
<td>
<p>Vector of mean values for the variables in formula.</p>
</td></tr>
<tr><td><code id="transform_prm_+3A_sigma">sigma</code></td>
<td>
<p>Covariance matrix for the variables in formula.</p>
</td></tr>
<tr><td><code id="transform_prm_+3A_method">method</code></td>
<td>
<p>A string indicating which method to use for the calculation.</p>
</td></tr>
<tr><td><code id="transform_prm_+3A_samples">samples</code></td>
<td>
<p>Number of Monte-Carlo samples for method &quot;mc&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with entries 'mean', 'variance' and 'rse'
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mean, variance and rse for sqrt of variable with mean 1 and variance 0.01
transform_prm(~sqrt(a), mu = c(a = 1), sigma = c(a = 0.01))

</code></pre>

<hr>
<h2 id='update_args'>Update 'xpose_geoms' arguments</h2><span id='topic+update_args'></span>

<h3>Description</h3>

<p>Combine the arguments from the user and the 'xp_theme'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_args(thm_arg, name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_args_+3A_thm_arg">thm_arg</code></td>
<td>
<p>A subset of 'xp_theme' used to test defaults.</p>
</td></tr>
<tr><td><code id="update_args_+3A_name">name</code></td>
<td>
<p>Name of the destination layer for the argument 
parsing (e.g. point).</p>
</td></tr>
<tr><td><code id="update_args_+3A_...">...</code></td>
<td>
<p>User arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of arguments for the layer defined in 'name'.
</p>

<hr>
<h2 id='update_extension'>Update file extension</h2><span id='topic+update_extension'></span>

<h3>Description</h3>

<p>Change the extension of a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_extension(x, ext)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_extension_+3A_x">x</code></td>
<td>
<p>A string or vector of strings containing the file name to be modified.</p>
</td></tr>
<tr><td><code id="update_extension_+3A_ext">ext</code></td>
<td>
<p>A string or vector of strings containing the name of the new extension(s).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string or vector of strings of file name(s).
</p>

<hr>
<h2 id='update_themes'>Create xpose theme</h2><span id='topic+update_themes'></span>

<h3>Description</h3>

<p>Create an xpose theme. This function will update the theme of an
xpdb object. All plots generated with this xpdb will automatically use the
defined xpose (<code>xp_theme</code>) and ggplot2 (<code>gg_theme</code>) themes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_themes(xpdb = NULL, gg_theme = NULL, xp_theme = NULL, quiet)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_themes_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object generated with
<code><a href="#topic+xpose_data">xpose_data</a></code>.</p>
</td></tr>
<tr><td><code id="update_themes_+3A_gg_theme">gg_theme</code></td>
<td>
<p>A complete ggplot2 theme object (e.g.
<code><a href="ggplot2.html#topic+theme_classic">theme_classic</a></code>), a function returning a complete
ggplot2 theme, or a change to the current <code>gg_theme</code>.</p>
</td></tr>
<tr><td><code id="update_themes_+3A_xp_theme">xp_theme</code></td>
<td>
<p>A complete xpose theme object (e.g.
<code><a href="#topic+theme_xp_default">theme_xp_default</a></code>) or a list of modifications to the current
<code>xp_theme</code> (e.g. <code>list(point_color = 'red', line_linetype =
'dashed')</code>).</p>
</td></tr>
<tr><td><code id="update_themes_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Before default theme
dv_vs_ipred(xpdb_ex_pk, facets = 'SEX')

# Updating the gg_theme and xp_theme
xpdb_ex_pk %&gt;%
  update_themes(gg_theme = theme(legend.position = 'top'),
                xp_theme = list(point_color = 'blue',
                                line_color  = 'blue')) %&gt;%
  dv_vs_ipred(facets = 'SEX')

</code></pre>

<hr>
<h2 id='vpc'>Visual predictive checks</h2><span id='topic+vpc'></span>

<h3>Description</h3>

<p>Generate visual predictive checks (VPC)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vpc(
  xpdb,
  vpc_type = NULL,
  mapping = NULL,
  smooth = TRUE,
  type = "alpr",
  title = "Visual predictive checks | @run",
  subtitle = "Number of simulations: @vpcnsim, confidence interval: @vpcci%",
  caption = "@vpcdir",
  tag = NULL,
  log = NULL,
  guide = TRUE,
  gg_theme,
  xp_theme,
  facets,
  quiet,
  area_fill = c("steelblue3", "grey60", "steelblue3"),
  line_linetype = c("93", "solid", "93"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vpc_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="vpc_+3A_vpc_type">vpc_type</code></td>
<td>
<p>Only used when multiple vpc data are present in the same xpdb. The type of 
vpc to be created. Can be one of can be one of: 'continuous', 'categorical', 
'censored' or 'time-to-event'.</p>
</td></tr>
<tr><td><code id="vpc_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="vpc_+3A_smooth">smooth</code></td>
<td>
<p>Should the bins be smoothed (connect bin midpoints, default) or shown as rectangular boxes.</p>
</td></tr>
<tr><td><code id="vpc_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be points 'p',
line 'l', area 'a', rug 'r' and text 't' or any combination of the five.</p>
</td></tr>
<tr><td><code id="vpc_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="vpc_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="vpc_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="vpc_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="vpc_+3A_log">log</code></td>
<td>
<p>String assigning logarithmic scale to axes, can be either &rdquo;, 
'x', y' or 'xy'.</p>
</td></tr>
<tr><td><code id="vpc_+3A_guide">guide</code></td>
<td>
<p>Enable guide display in vpc continuous (e.g. lloq and uloq lines).</p>
</td></tr>
<tr><td><code id="vpc_+3A_gg_theme">gg_theme</code></td>
<td>
<p>A complete ggplot2 theme object (e.g.
<code><a href="ggplot2.html#topic+theme_classic">theme_classic</a></code>), a function returning a complete
ggplot2 theme, or a change to the current <code>gg_theme</code>.</p>
</td></tr>
<tr><td><code id="vpc_+3A_xp_theme">xp_theme</code></td>
<td>
<p>A complete xpose theme object (e.g.
<code><a href="#topic+theme_xp_default">theme_xp_default</a></code>) or a list of modifications to the current
<code>xp_theme</code> (e.g. <code>list(point_color = 'red', line_linetype =
'dashed')</code>).</p>
</td></tr>
<tr><td><code id="vpc_+3A_facets">facets</code></td>
<td>
<p>Either a character string to use <a href="ggplot2.html#topic+facet_wrap">facet_wrap</a> 
or a formula to use <a href="ggplot2.html#topic+facet_grid">facet_grid</a>.</p>
</td></tr>
<tr><td><code id="vpc_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="vpc_+3A_area_fill">area_fill</code></td>
<td>
<p>Shaded areas filling color, should be a vector of 3 values (i.e. low, med, high).</p>
</td></tr>
<tr><td><code id="vpc_+3A_line_linetype">line_linetype</code></td>
<td>
<p>Lines linetype, should be a vector of 3 values (i.e. low, med, high).</p>
</td></tr>
<tr><td><code id="vpc_+3A_...">...</code></td>
<td>
<p>any additional aesthetics.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', area_fill = 'green', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> area: options to <code>geom_ribbon</code> (smooth = TRUE) or <code>geom_rect</code> (smooth = FALSE)
</p>
</li>
<li><p> rug: options to <code>geom_rug</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> guide: options to <code>geom_hline</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+vpc_data">vpc_data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xpdb_ex_pk %&gt;% 
 vpc_data(opt = vpc_opt(n_bins = 7)) %&gt;% 
 vpc()
</code></pre>

<hr>
<h2 id='vpc_data'>Visual predictive checks data</h2><span id='topic+vpc_data'></span>

<h3>Description</h3>

<p>Generate visual predictive checks (VPC) data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vpc_data(
  xpdb,
  opt,
  stratify,
  vpc_type = c("continuous", "categorical", "censored", "time-to-event"),
  psn_folder = NULL,
  psn_bins = FALSE,
  obs_problem = NULL,
  sim_problem = NULL,
  quiet
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vpc_data_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_opt">opt</code></td>
<td>
<p>A list of options regarding binning, pi and ci computation. 
For more information see <code><a href="#topic+vpc_opt">vpc_opt</a></code>.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_stratify">stratify</code></td>
<td>
<p>Either a character string or a formula to stratify the data. For 'categorical' vpcs the 
stratification fixed to the different categories.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_vpc_type">vpc_type</code></td>
<td>
<p>A string specifying the type of VPC to be created, can be one of: 
'continuous', 'categorical', 'censored' or 'time-to-event'.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_psn_folder">psn_folder</code></td>
<td>
<p>Specify a PsN-generated VPC-folder.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_psn_bins">psn_bins</code></td>
<td>
<p>Only used with argument <code>psn_folder</code>. If <code>TRUE</code> bins will be inputed from the 
PsN vpc_bins.txt file. If <code>FALSE</code> (default) bins will be re-calculated in R. Note that when 
<code>psn_bins = TRUE</code> only the first bin array will be used and applied to all panels as it is not 
currently possible to define per panel binning in xpose. In addition when <code>psn_bins = TRUE</code> is 
used along with <code>vpc(smooth = FALSE)</code> the observations lines may not be centered in the bins. 
Check the output carefully.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_obs_problem">obs_problem</code></td>
<td>
<p>Alternative to the option 'psn_folder'. The $problem number to 
be used for observations. By default returns the last estimation problem.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_sim_problem">sim_problem</code></td>
<td>
<p>Alternative to the option 'psn_folder'. The $problem number to 
be used for simulations. By default returns the last simulation problem.</p>
</td></tr>
<tr><td><code id="vpc_data_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+vpc">vpc</a></code> <code><a href="#topic+vpc_opt">vpc_opt</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
xpdb_ex_pk %&gt;% 
 vpc_data() %&gt;% 
 vpc()

## End(Not run)
</code></pre>

<hr>
<h2 id='vpc_opt'>Generate a list of options for VPC data generation</h2><span id='topic+vpc_opt'></span>

<h3>Description</h3>

<p>Provide a list of options to <code>vpc_data</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vpc_opt(
  bins = "jenks",
  n_bins = "auto",
  bin_mid = "mean",
  pred_corr = FALSE,
  pred_corr_lower_bnd = 0,
  pi = c(0.025, 0.975),
  ci = c(0.025, 0.975),
  lloq = NULL,
  uloq = NULL,
  rtte = FALSE,
  rtte_calc_diff = TRUE,
  events = NULL,
  kmmc = NULL,
  reverse_prob = FALSE,
  as_percentage = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vpc_opt_+3A_bins">bins</code></td>
<td>
<p>Binning method, can be one of 'density', 'time', 'data', 'none', or one of the approaches 
available in <code>classInterval()</code> such as 'jenks' (default), 'pretty', or a numeric vector specifying 
the bin separators.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_n_bins">n_bins</code></td>
<td>
<p>When using the 'auto' binning method, what number of bins to aim for.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_bin_mid">bin_mid</code></td>
<td>
<p>Specify how to is the mid bin value calculated, can be either 'mean' for the mean of all 
timepoints (default) or 'middle' to use the average of the bin boundaries.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_pred_corr">pred_corr</code></td>
<td>
<p>Option reserved to continuous VPC. Logical, should a prediction correction (pcVPC) of the data be used.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_pred_corr_lower_bnd">pred_corr_lower_bnd</code></td>
<td>
<p>Option reserved to continuous VPC. Lower bound for the prediction-correction.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_pi">pi</code></td>
<td>
<p>Option reserved to continuous VPC. Simulated prediction interval to plot. Default is c(0.05, 0.95).</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_ci">ci</code></td>
<td>
<p>Confidence interval around the percentiles to plot. Default is c(0.05, 0.95)</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_lloq">lloq</code></td>
<td>
<p>Number or NULL indicating lower limit of quantification. Default is NULL.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_uloq">uloq</code></td>
<td>
<p>Number or NULL indicating upper limit of quantification. Default is NULL.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_rtte">rtte</code></td>
<td>
<p>Option reserved to time-to-event VPC. Is the data repeated time-to-event (RTTE) <code>TRUE</code> or 
single time-to-event (TTE) <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_rtte_calc_diff">rtte_calc_diff</code></td>
<td>
<p>Option reserved to time-to-event VPC. Should the time be recalculated? When simulating in NONMEM, 
you will probably need to set this to <code>TRUE</code> to recalculate the TIME to the relative time between events (unless you 
output the time difference between events and specify that as independent variable in the index.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_events">events</code></td>
<td>
<p>Option reserved to time-to-event VPC. Numeric vector describing which events to show a VPC for when 
repeated TTE data, e.g. c(1:4). Default is <code>NULL</code>, which shows all events.</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_kmmc">kmmc</code></td>
<td>
<p>Option reserved to time-to-event VPC. Either NULL for regular TTE VPC (default), or a variable name 
for a KMMC plot (e.g. 'WT').</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_reverse_prob">reverse_prob</code></td>
<td>
<p>Option reserved to time-to-event VPC. Should the probability be reversed (i.e. plot 1-probability).</p>
</td></tr>
<tr><td><code id="vpc_opt_+3A_as_percentage">as_percentage</code></td>
<td>
<p>Should the Y-scale be in percent (0-100) <code>TRUE</code> (default), or standard (0-1) <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+vpc">vpc</a></code> <code><a href="#topic+vpc_data">vpc_data</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vpc_opt()

</code></pre>

<hr>
<h2 id='xp_geoms'>Generic ggplot2 layer for 'xpose_plots'</h2><span id='topic+xp_geoms'></span>

<h3>Description</h3>

<p>Generic wrapper around ggplot2 layer functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xp_geoms(mapping = NULL, xp_theme, name, ggfun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xp_geoms_+3A_mapping">mapping</code></td>
<td>
<p>ggplot2 aesthetics for the target layer.</p>
</td></tr>
<tr><td><code id="xp_geoms_+3A_xp_theme">xp_theme</code></td>
<td>
<p>An 'xpose_theme' object.</p>
</td></tr>
<tr><td><code id="xp_geoms_+3A_name">name</code></td>
<td>
<p>Name of the destination layer for the argument 
parsing (e.g. point).</p>
</td></tr>
<tr><td><code id="xp_geoms_+3A_ggfun">ggfun</code></td>
<td>
<p>Name of the ggplot2 layer function to be called.</p>
</td></tr>
<tr><td><code id="xp_geoms_+3A_...">...</code></td>
<td>
<p>Additional arguments to be parsed and passed to the 
destination layer.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output of the 'ggfun' call.
</p>

<hr>
<h2 id='xp_map'>ggplot2 layer call</h2><span id='topic+xp_map'></span>

<h3>Description</h3>

<p>Function calling the ggplot2 layer function 
with its parsed arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xp_map(arg, mapping, ggfun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xp_map_+3A_arg">arg</code></td>
<td>
<p>A list of arguments for the target layer.</p>
</td></tr>
<tr><td><code id="xp_map_+3A_mapping">mapping</code></td>
<td>
<p>ggplot2 aesthetics for the target layer.</p>
</td></tr>
<tr><td><code id="xp_map_+3A_ggfun">ggfun</code></td>
<td>
<p>Name of the ggplot2 layer function to be called.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output of the 'ggfun' call.
</p>

<hr>
<h2 id='xp_themes'>A set of xpose themes</h2><span id='topic+xp_themes'></span><span id='topic+theme_xp_default'></span><span id='topic+theme_xp_xpose4'></span>

<h3>Description</h3>

<p>xpose themes are used to consistently apply a set of preference for the plot geoms 
(e.g. color scales, point size, etc.) whereas ggplot2 theme focus on the plot background, axes, 
titles etc.
</p>

<ul>
<li> <p><code>theme_xp_default</code>: The default xp_theme in xpose
</p>
</li>
<li> <p><code>theme_xp_xpose4</code>: An xp_theme that makes xpose look like xpose4.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>theme_xp_default()

theme_xp_xpose4()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'># With the xp_theme theme_xp_default() (default)
dv_vs_ipred(xpdb_ex_pk, facets = 'SEX')

# With the xp_theme theme_xp_xpose4()
xpdb_ex_pk %&gt;%
  update_themes(xp_theme = theme_xp_xpose4()) %&gt;%
  dv_vs_ipred(facets = 'SEX')
  
</code></pre>

<hr>
<h2 id='xp_var'>Access xpdb index information for a given variable or variable type</h2><span id='topic+xp_var'></span>

<h3>Description</h3>

<p>Access xpdb index information for a given variable or variable type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xp_var(xpdb, .problem, col = NULL, type = NULL, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xp_var_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object.</p>
</td></tr>
<tr><td><code id="xp_var_+3A_.problem">.problem</code></td>
<td>
<p>The $problem number to be used.</p>
</td></tr>
<tr><td><code id="xp_var_+3A_col">col</code></td>
<td>
<p>The column name to be searched in the index. Alternative to arg 'type'.</p>
</td></tr>
<tr><td><code id="xp_var_+3A_type">type</code></td>
<td>
<p>The type of column to searched in the index. Alternative to 'col'.</p>
</td></tr>
<tr><td><code id="xp_var_+3A_silent">silent</code></td>
<td>
<p>Should the function be silent or return errors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A subset of the xpdb index as tibble with columns: 
col (column name), type (column type in the index), 
label (label associated with the column) and units 
(units associated with the column)
</p>

<hr>
<h2 id='xpdb_ex_pk'><code>xpose_data</code> examples</h2><span id='topic+xpdb_ex_pk'></span>

<h3>Description</h3>

<p>Moxonidine <code>xpose_data</code> example.
</p>


<h3>Format</h3>

<p>An <code>xpose_data</code> object
</p>


<h3>Source</h3>

<p><a href="https://link.springer.com/article/10.1023/A:1020561807903">Moxonidine model</a>: 
Assumption Testing in Population Pharmacokinetic Models: Illustrated with an Analysis of 
Moxonidine Data from Congestive Heart Failure Patients. Journal of Pharmacokinetics and 
Biopharmaceutics. 26(2):207246 (1998).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>print(xpdb_ex_pk)

</code></pre>

<hr>
<h2 id='xpdb_index_update'>Update data index</h2><span id='topic+xpdb_index_update'></span>

<h3>Description</h3>

<p>Function dedicated to update the data index after modifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xpdb_index_update(xpdb, .problem)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xpdb_index_update_+3A_xpdb">xpdb</code></td>
<td>
<p>An xpose database object from which the index will be updated.</p>
</td></tr>
<tr><td><code id="xpdb_index_update_+3A_.problem">.problem</code></td>
<td>
<p>The problem from which the index will be updated.</p>
</td></tr>
</table>

<hr>
<h2 id='xplot_distrib'>Default xpose distribution plot function</h2><span id='topic+xplot_distrib'></span>

<h3>Description</h3>

<p>Manually generate distribution plots from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xplot_distrib(
  xpdb,
  mapping = NULL,
  type = "hr",
  guide = FALSE,
  xscale = "continuous",
  yscale = "continuous",
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  tag = NULL,
  plot_name = "density_plot",
  gg_theme,
  xp_theme,
  opt,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xplot_distrib_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object generated with <code><a href="#topic+xpose_data">xpose_data</a></code>.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be histogram 'h',
density 'd', rug 'r' or any combination of the three.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_guide">guide</code></td>
<td>
<p>Should the guide (e.g. reference distribution) be displayed.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_xscale">xscale</code></td>
<td>
<p>Scale type for x axis (e.g. 'continuous', 'discrete', 'log10').</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_yscale">yscale</code></td>
<td>
<p>Scale type for y axis (e.g. 'continuous', 'discrete', 'log10').</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_plot_name">plot_name</code></td>
<td>
<p>Name to be used by <code>xpose_save()</code> when saving the plot.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_gg_theme">gg_theme</code></td>
<td>
<p>A complete ggplot2 theme object (e.g.
<code><a href="ggplot2.html#topic+theme_classic">theme_classic</a></code>), a function returning a complete
ggplot2 theme, or a change to the current <code>gg_theme</code>.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_xp_theme">xp_theme</code></td>
<td>
<p>A complete xpose theme object (e.g.
<code><a href="#topic+theme_xp_default">theme_xp_default</a></code>) or a list of modifications to the current
<code>xp_theme</code> (e.g. <code>list(point_color = 'red', line_linetype =
'dashed')</code>).</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_opt">opt</code></td>
<td>
<p>A list of options in order to create appropriate data input for 
ggplot2. For more information see <code><a href="#topic+data_opt">data_opt</a></code>.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="xplot_distrib_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. histogram_fill = 'blue', rug_sides = 'b', etc.
</p>

<ul>
<li><p> histogram: options to <code>geom_histogram</code>
</p>
</li>
<li><p> density: options to <code>geom_density</code>
</p>
</li>
<li><p> rug: options to <code>geom_rug</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code> <code><a href="#topic+xplot_qq">xplot_qq</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A simple histogram
xplot_distrib(xpdb_ex_pk, aes(x = WT), type = 'hr')

# A simple density plot
xplot_distrib(xpdb_ex_pk, aes(x = CWRES), type = 'dr')

</code></pre>

<hr>
<h2 id='xplot_qq'>Default xpose QQ plot function</h2><span id='topic+xplot_qq'></span>

<h3>Description</h3>

<p>Manually generate QQ plots from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xplot_qq(
  xpdb,
  mapping = NULL,
  type = "p",
  guide = FALSE,
  xscale = "continuous",
  yscale = "continuous",
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  tag = NULL,
  plot_name = "qq_plot",
  gg_theme,
  xp_theme,
  opt,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xplot_qq_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object generated with <code><a href="#topic+xpose_data">xpose_data</a></code>.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can only be points 'p'.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_guide">guide</code></td>
<td>
<p>Should the guide (e.g. reference line) be displayed.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_xscale">xscale</code></td>
<td>
<p>Scale type for x axis (e.g. 'continuous', 'discrete', 'log10').</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_yscale">yscale</code></td>
<td>
<p>Scale type for y axis (e.g. 'continuous', 'discrete', 'log10').</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_plot_name">plot_name</code></td>
<td>
<p>Name to be used by <code>xpose_save()</code> when saving the plot.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_gg_theme">gg_theme</code></td>
<td>
<p>A complete ggplot2 theme object (e.g.
<code><a href="ggplot2.html#topic+theme_classic">theme_classic</a></code>), a function returning a complete
ggplot2 theme, or a change to the current <code>gg_theme</code>.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_xp_theme">xp_theme</code></td>
<td>
<p>A complete xpose theme object (e.g.
<code><a href="#topic+theme_xp_default">theme_xp_default</a></code>) or a list of modifications to the current
<code>xp_theme</code> (e.g. <code>list(point_color = 'red', line_linetype =
'dashed')</code>).</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_opt">opt</code></td>
<td>
<p>A list of options in order to create appropriate data input for 
ggplot2. For more information see <code><a href="#topic+data_opt">data_opt</a></code>.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="xplot_qq_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_scatter">xplot_scatter</a></code> <code><a href="#topic+xplot_distrib">xplot_distrib</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xplot_qq(xpdb_ex_pk, aes(sample = CWRES), guide = TRUE)

</code></pre>

<hr>
<h2 id='xplot_scatter'>Default xpose scatter plot function</h2><span id='topic+xplot_scatter'></span>

<h3>Description</h3>

<p>Manually generate scatter plots from an xpdb object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xplot_scatter(
  xpdb,
  mapping = NULL,
  group = "ID",
  type = "pls",
  guide = FALSE,
  xscale = "continuous",
  yscale = "continuous",
  title = NULL,
  subtitle = NULL,
  caption = NULL,
  tag = NULL,
  plot_name = "scatter_plot",
  gg_theme,
  xp_theme,
  opt,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xplot_scatter_+3A_xpdb">xpdb</code></td>
<td>
<p>An <code>xpose_data</code> object generated with <code><a href="#topic+xpose_data">xpose_data</a></code>.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_mapping">mapping</code></td>
<td>
<p>List of aesthetics mappings to be used for the xpose plot 
(e.g. <code>point_color</code>).</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_group">group</code></td>
<td>
<p>Grouping variable to be used for lines.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_type">type</code></td>
<td>
<p>String setting the type of plot to be used. Can be line 'l', 
point 'p', smooth 's' and text 't' or any combination of the four.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_guide">guide</code></td>
<td>
<p>Should the guide (e.g. unity line) be displayed.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_xscale">xscale</code></td>
<td>
<p>Scale type for x axis (e.g. 'continuous', 'discrete', 'log10').</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_yscale">yscale</code></td>
<td>
<p>Scale type for y axis (e.g. 'continuous', 'discrete', 'log10').</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_title">title</code></td>
<td>
<p>Plot title. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_caption">caption</code></td>
<td>
<p>Page caption. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_tag">tag</code></td>
<td>
<p>Plot identification tag. Use <code>NULL</code> to remove.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_plot_name">plot_name</code></td>
<td>
<p>Name to be used by <code>xpose_save()</code> when saving the plot.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_gg_theme">gg_theme</code></td>
<td>
<p>A complete ggplot2 theme object (e.g.
<code><a href="ggplot2.html#topic+theme_classic">theme_classic</a></code>), a function returning a complete
ggplot2 theme, or a change to the current <code>gg_theme</code>.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_xp_theme">xp_theme</code></td>
<td>
<p>A complete xpose theme object (e.g.
<code><a href="#topic+theme_xp_default">theme_xp_default</a></code>) or a list of modifications to the current
<code>xp_theme</code> (e.g. <code>list(point_color = 'red', line_linetype =
'dashed')</code>).</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_opt">opt</code></td>
<td>
<p>A list of options in order to create appropriate data input for 
ggplot2. For more information see <code><a href="#topic+data_opt">data_opt</a></code>.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="xplot_scatter_+3A_...">...</code></td>
<td>
<p>Any additional aesthetics.</p>
</td></tr>
</table>


<h3>Layers mapping</h3>

<p>Plots can be customized by mapping arguments to specific layers. The naming convention is 
layer_option where layer is one of the names defined in the list below and option is 
any option supported by this layer e.g. point_color = 'blue', smooth_method = 'lm', etc.
</p>

<ul>
<li><p> point: options to <code>geom_point</code>
</p>
</li>
<li><p> line: options to <code>geom_line</code>
</p>
</li>
<li><p> guide: options to <code>geom_abline</code>
</p>
</li>
<li><p> smooth: options to <code>geom_smooth</code>
</p>
</li>
<li><p> text: options to <code>geom_text</code>
</p>
</li>
<li><p> xscale: options to <code>scale_x_continuous</code> or <code>scale_x_log10</code>
</p>
</li>
<li><p> yscale: options to <code>scale_y_continuous</code> or <code>scale_y_log10</code>
</p>
</li></ul>



<h3>Faceting</h3>

<p>Every xpose plot function has built-in faceting functionalities. Faceting arguments 
are passed to the functions <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> when the <code>facets</code> 
argument is a character string (e.g. <code>facets = c('SEX', 'MED1')</code>) or 
<code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> when facets is a formula (e.g. <code>facets = SEX~MED1</code>).
All xpose plot functions accept all the arguments for the <code><a href="ggforce.html#topic+facet_wrap_paginate">facet_wrap_paginate</a></code> 
and <code><a href="ggforce.html#topic+facet_grid_paginate">facet_grid_paginate</a></code> functions e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = SEX~MED1, ncol = 3, nrow = 3, page = 1, margins = TRUE, labeller = 'label_both')</code>.
</p>
<p>Faceting options can either be defined in plot functions (e.g. <code>dv_vs_ipred(xpdb_ex_pk, 
facets = 'SEX')</code>) or assigned globally to an xpdb object via the <code>xp_theme</code> (e.g. <code>xpdb 
&lt;- update_themes(xpdb_ex_pk, xp_theme = list(facets = 'SEX'))</code>). In the latter example all plots 
generate from this xpdb will automatically be stratified by 'SEX'.
</p>
<p>By default, some plot functions use a custom stratifying variable named 'variable', e.g. 
<code>eta_distrib()</code>. When using the <code>facets</code> argument, 'variable' needs to be added manually 
e.g. <code>facets = c('SEX', 'variable')</code> or <code>facets = c('SEX', 'variable')</code>, but is optional, 
when using the <code>facets</code> argument in <code>xp_theme</code> variable is automatically added whenever needed.
</p>


<h3>Template titles</h3>

<p>Template titles can be used to create highly informative diagnostics plots. 
They can be applied to any plot title, subtitle, caption and tag. Template titles 
are defined via a single string containing key variables staring with a '@' (e.g. '@ofv')
which will be replaced by their actual value when rendering the plot.
For example ''@run, @nobs observations in @nind subjects'' would become 
''run001, 1022 observations in 74 subjects''. The available key variables 
are listed under <code><a href="#topic+template_titles">template_titles</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+xplot_distrib">xplot_distrib</a></code> <code><a href="#topic+xplot_qq">xplot_qq</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>xplot_scatter(xpdb_ex_pk, aes(x = IPRED, y = DV))

</code></pre>

<hr>
<h2 id='xpose_data'>Import NONMEM output into R</h2><span id='topic+xpose_data'></span>

<h3>Description</h3>

<p>Gather model outputs into a R database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xpose_data(
  runno = NULL,
  prefix = "run",
  ext = ".lst",
  file = NULL,
  dir = NULL,
  gg_theme = theme_readable,
  xp_theme = theme_xp_default(),
  simtab = NULL,
  manual_import = NULL,
  ignore = NULL,
  check_ext = TRUE,
  extra_files,
  quiet,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xpose_data_+3A_runno">runno</code></td>
<td>
<p>Run number to be used to generate model file name. Used in
combination with <code>prefix</code> and <code>ext</code>.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_prefix">prefix</code></td>
<td>
<p>Prefix to be used to generate model file name. Used in
combination with <code>runno</code> and <code>ext</code>.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_ext">ext</code></td>
<td>
<p>Extension to be used to generate model file name. Should be one of
'.lst' (default), '.out', '.res', '.mod' or '.ctl' for NONMEM.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_file">file</code></td>
<td>
<p>Model file name (preferably a '.lst' file) containing the file
extension. Alternative to <code>prefix</code>, <code>runno</code> and <code>ext</code>
arguments.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_dir">dir</code></td>
<td>
<p>Location of the model files.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_gg_theme">gg_theme</code></td>
<td>
<p>A complete ggplot2 theme object (e.g.
<code><a href="ggplot2.html#topic+theme_classic">theme_classic</a></code>), or a function returning a complete
ggplot2 theme.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_xp_theme">xp_theme</code></td>
<td>
<p>A complete xpose theme object (e.g.
<code><a href="#topic+theme_xp_default">theme_xp_default</a></code>).</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_simtab">simtab</code></td>
<td>
<p>If <code>TRUE</code> only reads in simulation tables, if <code>FALSE</code>
only reads estimation tables. Default <code>NULL</code> reads all tables. Option
not compatible with manual_import.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_manual_import">manual_import</code></td>
<td>
<p>If <code>NULL</code> (default) the names of the output tables
to import will be obtained from the model file. To manually import files as
in previous versions of xpose, the check the function
<code><a href="#topic+manual_nm_import">manual_nm_import</a></code>.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_ignore">ignore</code></td>
<td>
<p>Character vector be used to ignore the import/generation of:
'data', 'files', 'summary' or any combination of the three.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_check_ext">check_ext</code></td>
<td>
<p>Logical, if <code>TRUE</code> will provide an error message if the
extension of the NONMEM input file is not one of '.lst', '.out', '.res',
'.mod' or '.ctl' for NONMEM. If <code>FALSE</code> any file extension can be
used.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_extra_files">extra_files</code></td>
<td>
<p>A vector of additional output file extensions to be
imported. Default is '.ext', '.cov', '.cor', '.phi', '.grd' for NONMEM.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_quiet">quiet</code></td>
<td>
<p>Logical, if <code>FALSE</code> messages are printed to the console.</p>
</td></tr>
<tr><td><code id="xpose_data_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the
<code><a href="#topic+read_nm_tables">read_nm_tables</a></code> functions.</p>
</td></tr>
</table>


<h3>File path generation</h3>

<p>The rules for model file names generation are
as follow: </p>

<ul>
<li><p> with <code>runno</code>: the full path is generated as
<code>&lt;dir&gt;/&lt;prefix&gt;&lt;runno&gt;.&lt;ext&gt;</code> e.g. with <code>dir = 'model/pk'</code>,
<code>prefix = 'run'</code>, <code>runno = '001'</code>, <code>ext = '.lst'</code> the
resulting path would be <code>model/pk/run001.lst</code>
</p>
</li>
<li><p> with <code>file</code>:
the full path is generated as <code>&lt;dir&gt;/&lt;file&gt;</code> e.g. with <code>dir =
  'model/pk'</code>, <code>file = 'run001.lst'</code> the resulting path would also be
<code>model/pk/run001.lst</code>. Note: in this case the file extension should be
provided as part of the 'file' argument.
</p>
</li></ul>



<h3>Table format requirement</h3>

<p>When importing data, an <code>ID</code> column
must be present in at least one table for each problem and for each
'firstonly' category. <code>ID</code> columns are required to properly
combine/merge tables and removing <code>NA</code> records. If <code>ID</code> columns
are missing xpose will return the following warning: <code>Dropped
  `&lt;tablenames&gt;` due to missing required `ID` column.</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Using the `file` argument to point to the model file:
xpdb &lt;- xpose_data(file = 'run001.lst', dir = 'models')

# Using the `runno` argument to point to the model file:
xpdb &lt;- xpose_data(runno = '001', ext = '.lst', dir = 'models')

# Using the `extra_files` argument to import specific output files only:
xpdb &lt;- xpose_data(file = 'run001.lst', dir = 'models', extra_files = c('.ext', '.phi'))

# Using `ignore` to disable import of tables and output files:
xpdb &lt;- xpose_data(file = 'run001.lst', dir = 'models', ignore = c('data', 'files'))

# Using `simtab` to disable import of simulation tables
xpdb &lt;- xpose_data(file = 'run001.lst', dir = 'models', simtab = FALSE)


## End(Not run)

</code></pre>

<hr>
<h2 id='xpose_panels'>Generic panel function for 'xpose_plots'</h2><span id='topic+xpose_panels'></span>

<h3>Description</h3>

<p>Convenience wrapper around ggforce faceting functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xpose_panels(xp_theme, extra_args)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xpose_panels_+3A_xp_theme">xp_theme</code></td>
<td>
<p>An 'xpose_theme' object.</p>
</td></tr>
<tr><td><code id="xpose_panels_+3A_extra_args">extra_args</code></td>
<td>
<p>User arguments to be passed to the 
faceting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output a 'facet' layer. Layer will be 'facet_wrap_paginate' if 
'facets' is a string, and 'facet_grid_paginate' if 'facets' is a formula.
</p>

<hr>
<h2 id='xpose_save'>Save xpose plot</h2><span id='topic+xpose_save'></span>

<h3>Description</h3>

<p>Built as a wrapper around <a href="ggplot2.html#topic+ggsave">ggsave</a>, this function
facilitates the export of xpose plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xpose_save(
  plot = last_plot(),
  file = NULL,
  dir = NULL,
  device = NULL,
  scale = 1,
  width = 7,
  height = 6,
  units = c("in", "cm", "mm", "px"),
  dpi = 200,
  limitsize = TRUE,
  bg = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xpose_save_+3A_plot">plot</code></td>
<td>
<p>A xpose plot object.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_file">file</code></td>
<td>
<p>A name with file extension (if device is <code>NULL</code>) to be given
to the output file. Template variables such as <code>@run</code> (run number) and
<code>@plotfun</code> (plot function) can be used to automatically name files
e.g. <code>file = '@run_@plotfun.pdf'</code>.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_dir">dir</code></td>
<td>
<p>Directory under which the xpose plots will be saved. Template
variables such as <code>@dir</code> can be used to generate template names.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_device">device</code></td>
<td>
<p>Graphical device to use. Can be either be a device function
(e.g. <code><a href="grDevices.html#topic+png">png</a></code>), or one of 'eps', 'ps', 'tex' (pictex), 'pdf',
'jpeg', 'tiff', 'png', 'bmp', 'svg' or 'wmf' (windows only).</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_scale">scale</code></td>
<td>
<p>Multiplicative scaling factor.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_width">width</code>, <code id="xpose_save_+3A_height">height</code>, <code id="xpose_save_+3A_units">units</code></td>
<td>
<p>Plot size in in <code>units</code> (&quot;in&quot;, &quot;cm&quot;, &quot;mm&quot;, or
&quot;px&quot;). If not supplied, uses the size of current graphics device.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_dpi">dpi</code></td>
<td>
<p>Plot resolution. Also accepts a string input: &quot;retina&quot; (320),
&quot;print&quot; (300), or &quot;screen&quot; (72). Applies only to raster output types.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_limitsize">limitsize</code></td>
<td>
<p>When <code>TRUE</code> (the default), <code>xpose_save()</code> will not
save images larger than 50x50 inches, to prevent the common error of
specifying dimensions in pixels.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_bg">bg</code></td>
<td>
<p>Background color. If <code>NULL</code>, uses the <code>plot.background</code>
fill value from the plot theme.</p>
</td></tr>
<tr><td><code id="xpose_save_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to the graphics device function, as
specified by <code>device</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
xpdb_ex_pk %&gt;%
 dv_vs_ipred() %&gt;%
 xpose_save(file = file.path(tempdir(), "dv_vs_ipred_example.pdf"))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

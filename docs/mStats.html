<!DOCTYPE html><html><head><title>Help for package mStats</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mStats}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#append'><p>Append datasets</p></a></li>
<li><a href='#codebook'><p>Describe the data</p></a></li>
<li><a href='#duplicates'><p>Report, tag or drop the duplicate observations</p></a></li>
<li><a href='#egen'><p>Categorize a numerical variable</p></a></li>
<li><a href='#expand2'><p>Duplicate observations within a dataframe</p></a></li>
<li><a href='#expandtbl'><p>Expand <code>2x2 table</code> into <code>data.frame</code></p></a></li>
<li><a href='#formatDate'><p>Format Dates</p></a></li>
<li><a href='#generate'><p>Create a new variable</p></a></li>
<li><a href='#helpers'><p>Helper functions</p></a></li>
<li><a href='#histogram'><p>Histograms with overlay normal curve</p></a></li>
<li><a href='#ilog'><p>Create a copy of your output in a text format</p></a></li>
<li><a href='#label'><p>Attach labels to data and variables</p></a></li>
<li><a href='#lag.data.frame'><p>Lag a variable</p></a></li>
<li><a href='#logit'><p>Logistic Regression Model</p></a></li>
<li><a href='#mhor'><p>Calculating Odds Ratios</p></a></li>
<li><a href='#mhrr'><p>Calculating Risk Ratios</p></a></li>
<li><a href='#n_'><p>Count from <code>n_</code> to <code>N_</code></p></a></li>
<li><a href='#recode'><p>Recode a variable</p></a></li>
<li><a href='#regress'><p>Linear Regression Model</p></a></li>
<li><a href='#replace'><p>Change contents of an existing variable</p></a></li>
<li><a href='#scatterPlotMatrix'><p>Scatter plot matrices with histogram and</p>
correlation coefficients</a></li>
<li><a href='#strate'><p>Calculate Incidence Rates from time-to-event data</p></a></li>
<li><a href='#summ'><p>Summary statistics</p></a></li>
<li><a href='#summary'><p>Table Format for Publication</p></a></li>
<li><a href='#tab'><p>Tabulation</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Epidemiological Data Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>3.4.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Myo Minn Oo &lt;dr.myominnoo@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>This is a tool for epidemiologist, medical data analyst, 
    medical or public health professionals. It contains three domains of functions:
    1) data management, 2) statistical analysis and 3) calculating 
    epidemiological measures.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/myominnoo/mStats/issues">https://github.com/myominnoo/mStats/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-11-23 00:30:24 UTC; drmyo</td>
</tr>
<tr>
<td>Author:</td>
<td>Myo Minn Oo <a href="https://orcid.org/0000-0003-4089-016X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-23 05:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='append'>Append datasets</h2><span id='topic+append'></span>

<h3>Description</h3>

<p><code>append()</code> row-combines multiple datasets of the same column names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>append(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="append_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="append_+3A_...">...</code></td>
<td>
<p>one or multiple data.frame</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A single or multiple datasets can be appended.
</p>
<p>The appending datasets must have at least one variable name
which is there in the master dataset.
</p>
<p>The order of variables of the appending datasets is automatically
set based on the variable arrangement of the master dataset.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- append(infert[, -c(3,4)], infert[, -5], infert[, -6])
## codebook(x)

## Not run: 
## if no variables are matched, ERROR
append(infert, iris)

## End(Not run)

</code></pre>

<hr>
<h2 id='codebook'>Describe the data</h2><span id='topic+codebook'></span>

<h3>Description</h3>

<p><code>codebook()</code> examines the variable names, labels, and data
to produce a codebook for describing the dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>codebook(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="codebook_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It reports a description of the data with the following information.
</p>
<p><strong>ANNOTATIONS</strong>:
</p>
<p><code>No</code> = serial number
</p>
<p><code>Variable</code> = variable name
</p>
<p><code>Label</code> = variable label
</p>
<p><code>Type</code> = type of variable
</p>
<p><code>Obs</code> = number of valid observations
</p>
<p><code>NA</code> = number of observations with missing value <code>NA</code>
</p>


<h3>Value</h3>

<p>a data.frame containing the codebook
</p>


<h3>Note</h3>

<p>For <code>haven_labelled</code> data.frame, data types are generated
using <code>typeof()</code>.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
codebook(infert)
codebook(iris)
codebook(mtcars)

</code></pre>

<hr>
<h2 id='duplicates'>Report, tag or drop the duplicate observations</h2><span id='topic+duplicates'></span>

<h3>Description</h3>

<p><code>duplicates()</code> generates a table showing the
duplicate <code>Observations</code> as one or more copies as well as
their <code>Surplus</code> indicating the second, third, <code>...</code> copy of
the first of each group of duplicates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>duplicates(data, ..., drop = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="duplicates_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="duplicates_+3A_...">...</code></td>
<td>
<p>variables to find the duplicate observations</p>
</td></tr>
<tr><td><code id="duplicates_+3A_drop">drop</code></td>
<td>
<p><code>TRUE</code> deletes all the duplicate observations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no variable is specified in <code>...</code>, all variables are used
to find the duplicate observations.
</p>
<p>If <code>drop</code> is set to <code>TRUE</code>, all occurrences of each group
of observations except the first are deleted from the
dataset.
</p>


<h3>Value</h3>

<p>data.frame with a column <code>dup_num</code>, indicating the number of duplicate
observations of each group of observations
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- duplicates(iris, Species)
x &lt;- duplicates(iris)

</code></pre>

<hr>
<h2 id='egen'>Categorize a numerical variable</h2><span id='topic+egen'></span>

<h3>Description</h3>

<p><code>egen()</code> transforms a numeric vector to a factor vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>egen(data, var, cut = NULL, lbl = NULL, new_var = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="egen_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="egen_+3A_var">var</code></td>
<td>
<p>existing variable</p>
</td></tr>
<tr><td><code id="egen_+3A_cut">cut</code></td>
<td>
<p>either a number or a numeric vector</p>
</td></tr>
<tr><td><code id="egen_+3A_lbl">lbl</code></td>
<td>
<p>labels to specify</p>
</td></tr>
<tr><td><code id="egen_+3A_new_var">new_var</code></td>
<td>
<p>name of new variable to be created</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>egen</code> allows easy conversion of a numerical variable to a categorical
variable.
</p>
<p>If only a number is specified in <code>cut</code>, it categorizes
into equal intervals based on that number. If no value is set
for <code>cut</code>, the default interval is <code>10</code>.
</p>
<p><strong>Automatic naming new variable</strong>
</p>
<p>If <code>new_var</code> is not specified, new names will be automatically
created by appending <code style="white-space: pre;">&#8288;_cat&#8288;</code> as suffix.
<code>VARNAME`_cat`</code>
</p>
<p><strong>Automatic Labelling</strong>
</p>
<p>If <code>lbl</code> is not specified, labels are constructed in
<code>`##-##`</code>.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- egen(infert, age)
tab(x, age_cat)

## Not run: 
## Set cut-off points
x &lt;- egen(infert, age, c(26, 31, 36, 41))
tab(x, age_cat)

## Add labels and give a new name
x &lt;- egen(infert, age, c(26, 31, 36, 41),
         lbl = c("&lt;= 25", "26 - 30", "31 - 35",
           "36 - 40", "41+"),
         new_var = age_grp)
tab(x, age_grp)

## End(Not run)

</code></pre>

<hr>
<h2 id='expand2'>Duplicate observations within a dataframe</h2><span id='topic+expand2'></span>

<h3>Description</h3>

<p><code>expand2</code> generates duplicated observations within a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand2(data, n_n = NULL, copies = 2, original = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand2_+3A_data">data</code></td>
<td>
<p>a data frame object</p>
</td></tr>
<tr><td><code id="expand2_+3A_n_n">n_n</code></td>
<td>
<p>index or indexes specifying row numbers</p>
</td></tr>
<tr><td><code id="expand2_+3A_copies">copies</code></td>
<td>
<p>desired number of copies</p>
</td></tr>
<tr><td><code id="expand2_+3A_original">original</code></td>
<td>
<p>a logical indicating whether to keep the original dataframe</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>expand2</code> appends observations from the dataframe
with n copies of the observations with
specified indexes of observations or all data.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## create duplicates
x &lt;- expand2(infert, 1:5, copies = 2)

## check duplicates report and rmeove dup
duplicates(x, drop = TRUE)

</code></pre>

<hr>
<h2 id='expandtbl'>Expand <code>2x2 table</code> into <code>data.frame</code></h2><span id='topic+expandtbl'></span><span id='topic+expandfreq'></span>

<h3>Description</h3>

<p><code>expandtbl()</code> generates a data.frame based on vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expandtbl(
  ...,
  exp_name = "exp",
  exp_lvl = c("exposed", "unexposed"),
  case_name = "case",
  case_lvl = c("case", "control"),
  strata_name = "strata"
)

expandfreq(data, freq)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expandtbl_+3A_...">...</code></td>
<td>
<p>vectors</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_exp_name">exp_name</code></td>
<td>
<p>Name of <code>exp</code> Variable</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_exp_lvl">exp_lvl</code></td>
<td>
<p>Names of two categories in the order of
Exposed and non-exposed</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_case_name">case_name</code></td>
<td>
<p>Name of <code>Case</code> variable</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_case_lvl">case_lvl</code></td>
<td>
<p>names of two categories in the order of</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_strata_name">strata_name</code></td>
<td>
<p>Name of stratified variable</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_data">data</code></td>
<td>
<p>frequency table in data.frame</p>
</td></tr>
<tr><td><code id="expandtbl_+3A_freq">freq</code></td>
<td>
<p>name of variable for the weighted frequency</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>expandtbl</strong>
</p>
<p>uses the vectors of <code>2x2</code> tables and
generates a data frame of at least two columns:
exp and case.
</p>
<pre>expandtbl(c(100, 200, 100, 200))</pre>
<p><code>Strata</code>
</p>
<p>Multiple tables can be used to construct a dataset by specifying
<code>strata_name</code> as follow. Strata can be included
using multiple named vectors.
</p>
<pre>
expandtbl(
             strata1 = c(100, 200, 100, 200),
             strata2 = c(100, 200, 100, 200),
             strata3 = c(100, 200, 100, 200),
             exp_name = "exp",
             exp_lvl = c("exposed", "unexposed"),
             case_name = "case",
             case_lvl = c("case", "control"),
             strata_name = "Strata"
)
</pre>
<p><code>Labels for variables</code>
</p>
<p>If names or levels of variables are not specified, the followings are
applied.
</p>

<ol>
<li><p> exp Name: <code>exp</code>
</p>
</li>
<li><p> exp levels: <code>exposed</code> and <code>unexposed</code>
</p>
</li>
<li><p> case Name: <code>case</code>
</p>
</li>
<li><p> case levels: <code>case</code> and <code>control</code>
</p>
</li>
<li><p> Strata Name: <code>strata</code>
</p>
</li>
<li><p> Note: Strata levels are not considered as vectors must
be named.
</p>
</li></ol>

<p><strong>expandfreq()</strong> uses the weighted frequencies in
data.frame format and construct another data.frame
based on the frequency weight.
The name of the frequency weighted variable can be
specified by <code>freq</code> argument.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>expandfreq</code>: <code>expandfreq()</code> expands a frequency-weighted table
into a data.frame.
</p>
</li></ul>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Asthma Example from Essential Medical Statistics
## page 160
asthma &lt;- expandtbl(c(81, 995, 57, 867),
              exp_name = "sex",
              exp_lvl = c("woman", "man"),
              case_name = "asthma",
              case_lvl = c("yes", "no"))

## Not run: 
## label variable and dataset
asthma &lt;- label(asthma, "Hypothetical Data of Asthma Prevalence")
asthma &lt;- label(asthma, sex = "Man or Woman",
                           asthma = "Asthma or No Asthma")

## Checking codebook
codebook(asthma)


## simple tabulation
tab(asthma)

## cross-tabulation
tab(asthma, sex, by = asthma)

## End(Not run)


## Example for expanding frequency weighted data

## Example from UCLA website
## you can download the dataset here:
## https://stats.idre.ucla.edu/stat/stata/examples/icda/afterlife.dta

x &lt;- data.frame(gender = c(1, 1, 0, 0),
                 aftlife = c(1, 0, 1, 0),
                 freq = c(435, 147, 375, 134))
y &lt;- expandfreq(x, freq)

## check the numbers by tabulation
## tab(y, gender, by = aftlife)

</code></pre>

<hr>
<h2 id='formatDate'>Format Dates</h2><span id='topic+formatDate'></span><span id='topic+is.Date'></span><span id='topic+year'></span><span id='topic+month'></span><span id='topic+day'></span>

<h3>Description</h3>

<p><code>formatDate</code> converts characters or numbers to dates.
<code>is.Date</code> indicates which elements are Dates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formatDate(x, format = "dmY", sep = "/", century = NULL)

is.Date(x)

year(x)

month(x)

day(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="formatDate_+3A_x">x</code></td>
<td>
<p>a character or numeric object</p>
</td></tr>
<tr><td><code id="formatDate_+3A_format">format</code></td>
<td>
<p>only for character vectors:</p>
</td></tr>
<tr><td><code id="formatDate_+3A_sep">sep</code></td>
<td>
<p>separator character for date components</p>
</td></tr>
<tr><td><code id="formatDate_+3A_century">century</code></td>
<td>
<p>specify either 2000 or 1900 for two-digit years</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>dmy</code> represents <code>dd mm YYYY</code> format.
In combination with separators from <code>sep</code>, this can change to
several date formats.
For example, <code>dmy</code> + <code>-</code> convert to
<code>dd-mm-yyyy</code> format.
</p>
<p><strong>Possible conversions</strong>
</p>

<ol>
<li> <p><code>dmy</code> + <code>-</code> &gt;&gt;&gt; <code>dd-mm-yyyy</code>
</p>
</li>
<li> <p><code>dmy</code> + <code>/</code> &gt;&gt;&gt; <code>dd/mm/yyyy</code>
</p>
</li>
<li> <p><code>mdy</code> + <code>/</code> &gt;&gt;&gt; <code>mm/dd/yyyy</code>
</p>
</li>
<li> <p><code>ymd</code> + <code>/</code> &gt;&gt;&gt; <code>yyyy/mm/dd</code>
</p>
</li>
<li> <p><code>dby</code> + <code>-</code> &gt;&gt;&gt; <code>dd-JAN-yy</code>
</p>
</li>
<li> <p><code>dby</code> + <code>/</code> &gt;&gt;&gt; <code>dd/JAN/yy</code>
</p>
</li></ol>

<p><strong>Numeric conversions</strong>
Origin is set at <code>1899-12-30</code>.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## convert strings to dates
x &lt;- c("2019-01-15", "2019-01-20", "2019-01-21", "2019-01-22")

# check if it is a Date format
is.Date(x)

## Not run: 
y &lt;- formatDate(x, "Ymd", "-")

# check if it is a Date format
is.Date(y)
y


## another format
x &lt;- c("22-JAN-19", "24-MAR-20")
y &lt;- formatDate(x, "dby", "-")
is.Date(y)
y


## convert numbers to dates
x &lt;- 42705:42710
y &lt;- formatDate(x)
is.Date(y)
y


## get day, month or year
day(y)
month(y)
year(y)

## End(Not run)

</code></pre>

<hr>
<h2 id='generate'>Create a new variable</h2><span id='topic+generate'></span>

<h3>Description</h3>

<p><code>generate()</code> creates a new variable either by
deriving from existing variables or with a constant value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate(data, var, expr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="generate_+3A_var">var</code></td>
<td>
<p>name for the new variable</p>
</td></tr>
<tr><td><code id="generate_+3A_expr">expr</code></td>
<td>
<p>a constant value, name of an existing variable or
an expression for simple arithmetic or logical operations:</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The values of the variable are specified by <code>expr</code>.
</p>
<p><strong>Label</strong>
</p>
<p>The newly created variable is automatically labeled with
the expression specified.
</p>


<h3>Value</h3>

<p>data.frame with the new variable
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## generate variable with a constant value
generate(mtcars, new_var, NA)
generate(mtcars, new_var, 99)

## generate variable from an existing variable
generate(mtcars, new_var, mpg)

## generate variable with arithmetic operations
generate(iris, Length, Sepal.Length + Petal.Length)

</code></pre>

<hr>
<h2 id='helpers'>Helper functions</h2><span id='topic+helpers'></span><span id='topic+clear'></span>

<h3>Description</h3>

<p>These are helper functions for <code>mStats</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>helpers(...)

clear()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="helpers_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to or from methods</p>
</td></tr>
</table>

<hr>
<h2 id='histogram'>Histograms with overlay normal curve</h2><span id='topic+histogram'></span>

<h3>Description</h3>

<p><code>histogram()</code> draws a histogram with formatted texts and
adds a normal curve over the histogram.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>histogram(
  data,
  var,
  breaks = NULL,
  xlab = NULL,
  main = NULL,
  sub = NULL,
  labels = TRUE,
  freq = TRUE,
  curve = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="histogram_+3A_data">data</code></td>
<td>
<p>Dataset</p>
</td></tr>
<tr><td><code id="histogram_+3A_var">var</code></td>
<td>
<p>variable</p>
</td></tr>
<tr><td><code id="histogram_+3A_breaks">breaks</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
<tr><td><code id="histogram_+3A_xlab">xlab</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
<tr><td><code id="histogram_+3A_main">main</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
<tr><td><code id="histogram_+3A_sub">sub</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
<tr><td><code id="histogram_+3A_labels">labels</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
<tr><td><code id="histogram_+3A_freq">freq</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
<tr><td><code id="histogram_+3A_curve">curve</code></td>
<td>
<p>logical. If <code>TRUE</code> (default), a normal curve is
overlaid over the histogram.</p>
</td></tr>
<tr><td><code id="histogram_+3A_...">...</code></td>
<td>
<p><a href="graphics.html#topic+hist">hist</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>freq</code> is set to <code>FALSE</code>, probability densities,
component density, are plotted (so that the histogram has
a total area of one). In this case, normal curve will not be
generated.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# histogram(infert, age)
# histogram(infert, age, labels = FALSE)
# histogram(infert, age, freq = FALSE)

</code></pre>

<hr>
<h2 id='ilog'>Create a copy of your output in a text format</h2><span id='topic+ilog'></span><span id='topic+ilog.close'></span><span id='topic+ilog.clear'></span>

<h3>Description</h3>

<p><code>ilog()</code> creates a text copy of your output.
<code>ilog.close()</code> closes the <code>ilog()</code> function.
<code>ilog.clear()</code> clears for the prompt error caused
when the environment is removed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ilog(logfile = "log.txt", append = FALSE)

ilog.close()

ilog.clear()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ilog_+3A_logfile">logfile</code></td>
<td>
<p>Name of desired log file in <code>.txt</code> format</p>
</td></tr>
<tr><td><code id="ilog_+3A_append">append</code></td>
<td>
<p>logical value</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ilog</code> is a two-step function that allows you a record of your console.
A log is a file containing what you type and console output. If a name is not
specified, then <code>ilog</code> will use the name <code>&lt;unnamed&gt;.txt</code>.
</p>
<p><code>ilog</code> opens a log file and <code>ilog.close</code> close the file.
</p>
<p><strong>Warnings</strong>:
</p>
<p>However, clearing objects from the workspace along with hidden objects
removes <code>ilog</code>'s <code>.logenv</code> environment, hence throwing an error
when it's attempted to be closed. An error message
<code>Error in (function (cmd, res, s, vis)  : object '.logenv' not found</code>
will be thrown.
</p>
<p>In that case, console prompt is stuck at <code>log&gt; </code>. If
this error occurs, use <code>ilog.clear()</code> function to revert back to
normal.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## my first log
ilog("../myFirstLog.tx")
str(infert)
str(iris)
ilog.close()

## in case of error: ".logenv" not found
# ilog.clear()

## End(Not run)
</code></pre>

<hr>
<h2 id='label'>Attach labels to data and variables</h2><span id='topic+label'></span>

<h3>Description</h3>

<p><code>label()</code> manipulates labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="label_+3A_...">...</code></td>
<td>
<p>For variable label, <code>Var = "Var Label"</code>:
For data label, <code>"Example data lable"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Attach labels</strong>
</p>
<p>It has two inputs. If only one label is specified, that
label is attached to the data. Otherwise, the pattern
<code>Var = "Var Label"</code> are used to attach labels to variables.
</p>
<p><strong>Remove labels</strong>
</p>
<p><code>NA</code> or <code>NULL</code> is used to remove labels.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Variable label
x &lt;- label(infert,
           education = "Education levels",
           age = "Age in years of case",
           parity = "count",
           stratum = "1-83",
           pooled.stratum = "1-63")

## Data label
x &lt;- label(x, "Infertility and Abortion Dataset")
codebook(x)

</code></pre>

<hr>
<h2 id='lag.data.frame'>Lag a variable</h2><span id='topic+lag.data.frame'></span>

<h3>Description</h3>

<p>creates lagged version of an existing variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'data.frame'
lag(x, var, by = NULL, new_var = NULL, last_obs = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lag.data.frame_+3A_x">x</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="lag.data.frame_+3A_var">var</code></td>
<td>
<p>variable to be lagged</p>
</td></tr>
<tr><td><code id="lag.data.frame_+3A_by">by</code></td>
<td>
<p>variable for grouped lagged version</p>
</td></tr>
<tr><td><code id="lag.data.frame_+3A_new_var">new_var</code></td>
<td>
<p>name of new lagged variable</p>
</td></tr>
<tr><td><code id="lag.data.frame_+3A_last_obs">last_obs</code></td>
<td>
<p><code>TRUE</code>retrieves the last observation per group.</p>
</td></tr>
<tr><td><code id="lag.data.frame_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is often encountered in time-related analysis.
In a lagged variable, values from earlier points in time are placed in later
rows of dataset.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Note</h3>

<p>Before using <code>lagRows</code>, the dataset needs to be sorted by a id variable
or similar variable.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
set.seed(100)
## create a dataset with dates
x &lt;- data.frame(
    hospid = 1:100,
    docid = round(runif(100, 1, 10)),
    dis_date = formatDate(runif(100, 42700, 42800))
)

## lagged dis_date, not specifed "by"
lag(x, dis_date)

## Not run: 
## lagged dis_date by docid
## first we need to sort
y &lt;- x[order(x$docid), ]
y

## lag dates within groups
lag(y, dis_date, by = docid, new_var = lag_date)
lag(y, dis_date, by = docid, lag_date, TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='logit'>Logistic Regression Model</h2><span id='topic+logit'></span>

<h3>Description</h3>

<p><code>logit()</code> produces summary of the model with
coefficients or odds ratios (<code>OR</code>) and 95% Confident Intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(model, or = TRUE, digits = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="logit_+3A_model">model</code></td>
<td>
<p>glm or lm model</p>
</td></tr>
<tr><td><code id="logit_+3A_or">or</code></td>
<td>
<p><code>TRUE</code>reports odds ratios instead of coefficients</p>
</td></tr>
<tr><td><code id="logit_+3A_digits">digits</code></td>
<td>
<p>specify rounding of numbers. See <code><a href="base.html#topic+round">round</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>logit()</code> is based on <code><a href="stats.html#topic+glm">glm</a></code> with <code>binomial</code> family.
All statistics presented in the function's output are derivatives of
<code><a href="stats.html#topic+glm">glm</a></code>,
except AIC value which is obtained from <code><a href="stats.html#topic+AIC">AIC</a></code>.
</p>
<p><strong>Outputs</strong>
</p>
<p>Outputs can be divided into three parts.
</p>

<ol>
<li> <p><code style="white-space: pre;">&#8288;Info of the model&#8288;</code>:
Here provides number of observations (Obs.), chi value from Likelihood Ratio
test (LR chi2) and its degree of freedom, p-value from LR test,
Pseudo R Squared, log likelihood and AIC values.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Regression Output&#8288;</code>:
Coefficients from summary of model are tabulated here along with 95\
confidence interval.
</p>
</li></ol>



<h3>Value</h3>

<p>a list containing
</p>

<ol>
<li> <p><code>info</code> - info and error tables
</p>
</li>
<li> <p><code>reg</code> - regression table
</p>
</li>
<li> <p><code>model</code> - raw model output from <code>lm()</code>
</p>
</li>
<li> <p><code>fit</code> - formula for fitting the model
</p>
</li>
<li> <p><code>lbl</code> - variable labels for further processing in <code>summary</code>.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
mylogit &lt;- glm(case ~ education + age + parity, family = binomial,
           data = infert)
logit(mylogit)

## Not run: 
## Example from UCLA website:
## LOGIT REGRESSION | R DATA ANALYSIS EXAMPLES
## https://stats.idre.ucla.edu/r/dae/logit-regression/

mydata &lt;- read.csv("https://stats.idre.ucla.edu/stat/data/binary.csv")
mydata &lt;- replace(mydata, rank, factor(rank))
mydata &lt;- label(mydata, gre = "GRE", gpa = "GPA score", rank = "Ranking")
mylogit &lt;- glm(admit ~ gre + gpa + rank, data = mydata, family = "binomial")

## Showing Odds Ratios
logit(mylogit)

## Showing coefficients
logit(mylogit, or = FALSE)

## End(Not run)

</code></pre>

<hr>
<h2 id='mhor'>Calculating Odds Ratios</h2><span id='topic+mhor'></span>

<h3>Description</h3>

<p><code>mhor()</code> calculates odds ratios, Mantel Haenszel pooled estimates and
95% CI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mhor(
  data,
  exp,
  case,
  strata = NULL,
  exp_value = NULL,
  case_value = NULL,
  digits = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mhor_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="mhor_+3A_exp">exp</code></td>
<td>
<p>exposure or independent variables</p>
</td></tr>
<tr><td><code id="mhor_+3A_case">case</code></td>
<td>
<p>case or dependent variables (outcomes)</p>
</td></tr>
<tr><td><code id="mhor_+3A_strata">strata</code></td>
<td>
<p>if specified, MH OR is calculated.</p>
</td></tr>
<tr><td><code id="mhor_+3A_exp_value">exp_value</code></td>
<td>
<p>value for exposure as reference</p>
</td></tr>
<tr><td><code id="mhor_+3A_case_value">case_value</code></td>
<td>
<p>value for outcome as reference</p>
</td></tr>
<tr><td><code id="mhor_+3A_digits">digits</code></td>
<td>
<p>specify rounding of numbers. See <code><a href="base.html#topic+round">round</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Rows and Columns can be rearranged by specifying
<code>exp_value</code> and <code>case_value</code>. This is used
when the exposed and case values are not at the right place in 2x2 tables.
</p>
<p>Reference row value can be specified in <code>exp_value</code>.
</p>
<p>Attributable fractions, <code>Attr. Frac. Exp</code> and  <code>Attr. Frac. Pop</code>
among exposed and population are calculated when OR is greater than or
equal to 1.
If OR is less than 1, preventable fractions,  <code>Prev. Frac. Exp</code>
and  <code>Attr. Frac. Pop</code> are calculated.
</p>
<p>It produces a table with Odds Ratio, 95% CI as well as
p-value. If <code>strata</code> is specified, <code>Mantel-Haenzsel</code> Pooled
estimates of <code style="white-space: pre;">&#8288;Odds Ratio&#8288;</code> is generated along with Chi-squared test for
homogeneity.
</p>
<p><strong>Odds Ratio, OR</strong>
</p>
<p style="text-align: center;"><code class="reqn">OR = (D1 x H0) / (D0 x H1)</code>
</p>

<p><strong>Error Factor, EF using Woolf's formula</strong>
</p>
<p style="text-align: center;"><code class="reqn">95\% CI = OR / EF or OR x EF</code>
</p>

<p style="text-align: center;"><code class="reqn">EF = exp(1.96 x SE(log(OR)))</code>
</p>

<p style="text-align: center;"><code class="reqn">SE(log(OR)) = \sqrt{1/D1 + 1/H1 + 1/D0 + 1/H0}</code>
</p>

<p><strong>Calculating p-value from Wald's z test</strong>
</p>
<p style="text-align: center;"><code class="reqn">z = log OR / SE (log OR)</code>
</p>

<p><strong>Mantel-Haenszel's OR</strong>
</p>
<p style="text-align: center;"><code class="reqn">ORMH = Q / R</code>
</p>

<p style="text-align: center;"><code class="reqn">Q = \sum{(D1i x H0i) / ni}</code>
</p>

<p style="text-align: center;"><code class="reqn">R = \sum{(D0i x H1i) / ni}</code>
</p>

<p><strong>Calculating CI for MH-OR</strong>
</p>
<p style="text-align: center;"><code class="reqn">95\% CI = OR / EF or OR x EF</code>
</p>

<p style="text-align: center;"><code class="reqn">SE(ORMH) = \sqrt{V / (Q x R)}</code>
</p>

<p style="text-align: center;"><code class="reqn">V = \sum{(Di x Hi x n0i x n1i) / ( (ni)^2 x (ni - 1))}</code>
</p>

<p><strong>Chi-square test for MHOR, df = 1</strong>
</p>
<p style="text-align: center;"><code class="reqn">X^2 (MH), Chi-square value = U^2 / V</code>
</p>

<p style="text-align: center;"><code class="reqn">U = O - E</code>
</p>

<p style="text-align: center;"><code class="reqn">O = \sum{D1i}</code>
</p>

<p style="text-align: center;"><code class="reqn">E = \sum{Di x n1i / ni}</code>
</p>

<p><strong>Chi-square test for Heterogeneity</strong>
</p>
<p style="text-align: center;"><code class="reqn">X^2 = \sum{(D1i x H0i - ORMH x D0i x H1i)^2 / ORMH x Vi x ni^2}</code>
</p>



<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>References</h3>


<ol>
<li><p> Betty R. Kirkwood, Jonathan A.C. Sterne (2006, ISBN:978–0–86542–871–3)
</p>
</li>
<li><p> B. Burt Gerstman (2013, ISBN:978-1-4443-3608-5)
</p>
</li>
<li><p> Douglas G Altman (2005, ISBN:0 7279 1375 1)
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>

### Example from Essential Medical Statistics
# Page 178, Chapter 18: Controlling for confounding: Stratification
lepto &lt;- expandtbl(
    male = c(36, 14, 50, 50), female = c(24, 126, 10, 90),
    exp_name = "area", exp_lvl = c("Rural", "Urban"),
    case_name = "ab", case_lvl = c("Yes", "No"),
    strata_name = "gender"
)

## label variables and data
lepto &lt;- label(lepto, "Prevalence survey of leptospirosis in West Indies")
lepto &lt;- label(lepto, area="Type of area", ab = "Leptospirosis Antibodies",
                  gender="Gener: Male or Female")

## Calculate OR
mhor(lepto, area, ab)

## Calculate MHOR
mhor(lepto, area, ab, gender)


</code></pre>

<hr>
<h2 id='mhrr'>Calculating Risk Ratios</h2><span id='topic+mhrr'></span>

<h3>Description</h3>

<p><code>mhrr()</code> calculates different measures of risk including risk
ratios (RR) as well as
Mantel-Haenszel pooled estimates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mhrr(
  data,
  exp,
  case,
  strata = NULL,
  exp_value = NULL,
  case_value = NULL,
  digits = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mhrr_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="mhrr_+3A_exp">exp</code></td>
<td>
<p>exposure or independent variables</p>
</td></tr>
<tr><td><code id="mhrr_+3A_case">case</code></td>
<td>
<p>case or dependent variables (outcomes)</p>
</td></tr>
<tr><td><code id="mhrr_+3A_strata">strata</code></td>
<td>
<p>if specified, MH OR is calculated.</p>
</td></tr>
<tr><td><code id="mhrr_+3A_exp_value">exp_value</code></td>
<td>
<p>value for exposure as reference</p>
</td></tr>
<tr><td><code id="mhrr_+3A_case_value">case_value</code></td>
<td>
<p>value for outcome as reference</p>
</td></tr>
<tr><td><code id="mhrr_+3A_digits">digits</code></td>
<td>
<p>specify rounding of numbers. See <code><a href="base.html#topic+round">round</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Rows and Columns can be rearranged by specifying
<code>exp_value</code> and <code>case_value</code>. This is used
when the exposed and case values are not at the right place in 2x2 tables.
</p>
<p>Reference row value can be specified in <code>exp_value</code>.
</p>
<p>Attributable fractions, <code>Attr. Frac. Exp</code> and  <code>Attr. Frac. Pop</code>
among exposed and population are calculated when RR is greated than or
equal to 1.
If RR is less than 1, preventable fractions,  <code>Prev. Frac. Exp</code>
and  <code>Attr. Frac. Pop</code> are calculated.
</p>
<p>It produces a table with Risk Ratio, 95% CI as well as
p-value. If <code>strata</code> is specified, <code>Mantel-Haenzsel</code> Pooled
estimates of <code style="white-space: pre;">&#8288;Risk Ratio&#8288;</code> is generated along with Chi-squared test for
homogeneity.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>References</h3>


<ol>
<li><p>  Betty R. Kirkwood, Jonathan A.C. Sterne (2006, ISBN:978–0–86542–871–3)
</p>
</li>
<li><p> B. Burt Gerstman (2013, ISBN:978-1-4443-3608-5)
</p>
</li>
<li><p> Douglas G Altman (2005, ISBN:0 7279 1375 1)
</p>
</li></ol>



<h3>Examples</h3>

<pre><code class='language-R'>

### Example from Essential Medical Statistics
# Page 178, Chapter 18: Controlling for confounding: Stratification
lepto &lt;- expandtbl(
    male = c(36, 14, 50, 50), female = c(24, 126, 10, 90),
    exp_name = "area", exp_lvl = c("Rural", "Urban"),
    case_name = "ab", case_lvl = c("Yes", "No"),
    strata_name = "gender"
)

## label variables and data
lepto &lt;- label(lepto, "Prevalence survey of leptospirosis in West Indies")
lepto &lt;- label(lepto, area="Type of area", ab = "Leptospirosis Antibodies",
                  gender="Gener: Male or Female")

## Calculate RR
mhrr(lepto, area, ab)

## Calculate MHRR
mhrr(lepto, area, ab, gender)


## Not run: 
### Demonstration: Calculating Risk Ratios

## Essential Medical Statistics, Betty R. Kirkwood, Second Edition
## Chapter 16, Table 16.4, Page 154
## For Risk Ratio
lung &lt;- expandtbl(
    c(39, 29961, 6, 59994),
    exp_name = "smoking",
    exp_lvl = c("Smokers", "Non-smokers"),
    case_name = "cancer",
    case_lvl = c("Yes", "No")
)

## label variable and dataset
lung &lt;- labelVar(lung, smoking="Yes or No", cancer="Yes or no")
lung &lt;- labelData(lung, "Follow up lung cancer study")

## check dataset
codebook(lung)

## calculate RR
mhrr(lung, smoking, cancer, exp_value = "Smokers", case_value = "Yes")



## Simpson's paradox
## Burt Gerstman's Epidemiology, page 326, table 14.1
simpson &lt;- expandtbl("1" = c(1000, 9000, 50, 950),
                        "2" = c(95, 5, 5000, 5000),
                        exp_name = "trt",
                        exp_lvl = c("new", "standard"),
                        case_name = "case",
                        case_lvl = c("alive", "dead"),
                        strata_name = "clinic")

## calculate RR
mhrr(simpson, trt, case, exp_value = "new", case_value = "alive")

## calculate MH RR
mhrr(simpson, trt, case, clinic)


## End(Not run)

</code></pre>

<hr>
<h2 id='n_'>Count from <code>n_</code> to <code>N_</code></h2><span id='topic+n_'></span><span id='topic+N_'></span>

<h3>Description</h3>

<p><code>n_()</code> generates the current observation number
per specified group. It is
regarded as grouped serial numbers.
</p>
<p><code>N_()</code> generates total number of observation per group.
It is regarded as grouped total number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_(data, ...)

N_(data, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n__+3A_data">data</code></td>
<td>
<p>data.farme</p>
</td></tr>
<tr><td><code id="n__+3A_...">...</code></td>
<td>
<p>variables for grouping</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If no variable is set in <code>...</code>, all variables in the datset
is used for grouping.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- n_(iris, Species)
## Not run: 
x
codebook(x)

x &lt;- N_(iris, Species)
x
codebook(x)

## End(Not run)

</code></pre>

<hr>
<h2 id='recode'>Recode a variable</h2><span id='topic+recode'></span>

<h3>Description</h3>

<p><code>recode()</code> changes the values of a variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode(data, var, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recode_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="recode_+3A_var">var</code></td>
<td>
<p>variable name</p>
</td></tr>
<tr><td><code id="recode_+3A_...">...</code></td>
<td>
<p>specify in pattern: <code style="white-space: pre;">&#8288;old value&#8288;</code> / <code style="white-space: pre;">&#8288;new value&#8288;</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It changes the values of a variable according to the old values
specified. Values that does not meet any of the conditions,
they are left unchanged.
</p>
<p><strong>Using colon <code>:</code> to indicate a range of numeric numbers</strong>
</p>
<p>A numeric vector can be indicated by using <code>:</code> in <code style="white-space: pre;">&#8288;old value&#8288;</code>.
The function automatically filters the values that meet the
range and assigns a specified new value to these.
</p>


<h3>Value</h3>

<p>a data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- recode(infert, case, 0/"No", 1/"Yes")
tab(x, case)

## Not run: 
## recode a factor
x &lt;- recode(infert, education, "0-5yrs"/1, "6-11yrs"/2, "12+ yrs"/3)
tab(x, education)

## recode numeric vectors
x &lt;- recode(infert, age, 21:28.9/1, 29:34.9/2, 35:44/3)
tab(x, age)

## recode NA
infert[4:20, "case"] &lt;- NA
x &lt;- recode(infert, case, NA/"Missing value")
tab(infert, case)

## End(Not run)

</code></pre>

<hr>
<h2 id='regress'>Linear Regression Model</h2><span id='topic+regress'></span><span id='topic+predict.regress'></span><span id='topic+plot.regress'></span><span id='topic+ladder'></span><span id='topic+hettest'></span><span id='topic+linkTest'></span>

<h3>Description</h3>

<p><code>regress()</code> produces summary of the model
with coefficients and 95% Confident Intervals.
</p>
<p><code>`predict.regress`</code> a S3 method for <code>predict</code> to generate
statistics related to the prediction of the linear model using the output
from the <code>regress</code> function of the <code>mStats</code>.
</p>
<p><code>`plot.regress`</code> is a S3 method for <code>plot()</code> to create
graphs for checking diagnostics of linear model using the output from
the <code>regress</code> function of the <code>mStats</code>.
</p>
<p><code>`ladder`</code> converts a variable into a normally
distributed one.
</p>
<p><code>`hettest`</code> performs the Breusch-Pagan test
for heteroskedasticity.
It presents evidence against the
null hypothesis that t=0 in Var(e)=sigma^2 exp(zt).
The formula are based on the <code>bptest</code> function
in <code>lmtest</code> package.
</p>
<p><code>`linkTest`</code> determines whether a model in R is
'well specified' using the <code>STATA</code>'s <code>linkTest</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regress(model, vce = FALSE, digits = 5)

## S3 method for class 'regress'
predict(object, ...)

## S3 method for class 'regress'
plot(x, ...)

ladder(data, var)

hettest(regress, studentize = FALSE)

linkTest(model, vce = FALSE, digits = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regress_+3A_model">model</code></td>
<td>
<p>glm or lm model</p>
</td></tr>
<tr><td><code id="regress_+3A_vce">vce</code></td>
<td>
<p>if <code>TRUE</code>, robust standard errors are calculated.</p>
</td></tr>
<tr><td><code id="regress_+3A_digits">digits</code></td>
<td>
<p>specify rounding of numbers. See <code><a href="base.html#topic+round">round</a></code>.</p>
</td></tr>
<tr><td><code id="regress_+3A_object">object</code></td>
<td>
<p>a model object for which prediction is desired.</p>
</td></tr>
<tr><td><code id="regress_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the predictions produced.</p>
</td></tr>
<tr><td><code id="regress_+3A_x">x</code></td>
<td>
<p>the coordinates of points in the plot. Alternatively, a
single plotting structure, function or <em>any <span class="rlang"><b>R</b></span> object with a
<code>plot</code> method</em> can be provided.</p>
</td></tr>
<tr><td><code id="regress_+3A_data">data</code></td>
<td>
<p>dataset</p>
</td></tr>
<tr><td><code id="regress_+3A_var">var</code></td>
<td>
<p>variable name</p>
</td></tr>
<tr><td><code id="regress_+3A_regress">regress</code></td>
<td>
<p>output from <code>regress</code></p>
</td></tr>
<tr><td><code id="regress_+3A_studentize">studentize</code></td>
<td>
<p>logical.
If set to <code>TRUE</code> Koenker's studentized version
of the test statistic will be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>regress</code> is based on <code><a href="stats.html#topic+lm">lm</a></code>. All statistics presented
in the function's output are derivatives of <code><a href="stats.html#topic+lm">lm</a></code>,
except AIC value which is obtained from <code><a href="stats.html#topic+AIC">AIC</a></code>.
It uses <code>lm()</code> function to run the model.
</p>
<p><strong>Outputs</strong>
</p>
<p>Outputs can be divided into three parts.
</p>

<ol>
<li> <p><code style="white-space: pre;">&#8288;Info of the model&#8288;</code>:
Here provides number of observations (Obs.), F value, p-value
from F test,
R Squared value, Adjusted R Squared value, square root of mean square
error
(Root MSE) and AIC value.
</p>
</li>
<li> <p><code>Errors</code>:
Outputs from <code>anova(model)</code> is tabulated here. SS, DF and MS indicate
sum of square of errors, degree of freedom and mean of square of errors.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Regression Output&#8288;</code>:
Coefficients from summary of model are tabulated here along with 95\
confidence interval.
</p>
</li></ol>

<p><strong>using Robust Standard Errors</strong>
</p>
<p>if heteroskedasticity is present in our data sample,
the ordinary least square (OLS) estimator will remain unbiased
and consistent,
but not efficient. The estimated OLS standard errors
will be biased and cannot be solved with a larger sample size.
To remedy this, robust standard errors can be used to adjusted
standard errors.
</p>
<p>The <code>regress</code> uses sandwich estimator to estimate Huber-White's standard
errors. The calculation is based on the tutorial by Kevin Goulding.
</p>
<p style="text-align: center;"><code class="reqn">Variance of Robust = (N / N - K) (X'X)^(-1)
 \sum{Xi X'i ei^2} (X'X)^(-1)</code>
</p>

<p>where N =  number of observations, and K =  the number of regressors
(including the intercept). This returns a Variance-covariance (VCV)
matrix
where the diagonal elements are the estimated heteroskedasticity-robust
coefficient
variances — the ones of interest. Estimated coefficient standard errors
are the square root of these diagonal elements.
</p>
<p><code>`predict.regress`</code> generates an original data with statistics for model
diagnostics:
</p>

<ol>
<li> <p><code>fitted</code> (Fitted values)
</p>
</li>
<li> <p><code>resid</code> (Residuals)
</p>
</li>
<li> <p><code>std.resid</code> (Studentized Residuals)
</p>
</li>
<li> <p><code>hat</code> (leverage)
</p>
</li>
<li> <p><code>sigma</code>
</p>
</li>
<li> <p><code>cooksd</code> (Cook's Distance)
</p>
</li></ol>

<p>The <code style="white-space: pre;">&#8288;Breusch-Pagan test&#8288;</code> fits a linear regression model
to the residuals of a linear regression model
(by default the same explanatory variables are taken as
in the main regression model) and rejects if too
much of the variance is explained by the additional
explanatory variables. Under <code class="reqn">H_0</code> the test statistic
of the Breusch-Pagan test follows a chi-squared distribution
with <code>parameter</code> (the number of regressors without
the constant in the model) degrees of freedom.
</p>
<p>The code for <code>`linkTest`</code> has been modified from Keith Chamberlain's linktext.
www.ChamberlainStatistics.com
https://gist.github.com/KeithChamberlain/8d9da515e73a27393effa3c9fe571c3f
</p>


<h3>Value</h3>

<p>a list containing
</p>

<ol>
<li> <p><code>info</code> - info and error tables
</p>
</li>
<li> <p><code>reg</code> - regression table
</p>
</li>
<li> <p><code>model</code> - raw model output from <code>lm()</code>
</p>
</li>
<li> <p><code>fit</code> - formula for fitting the model
</p>
</li>
<li> <p><code>lbl</code> - variable labels for further processing in <code>summary</code>.
</p>
</li></ol>



<h3>Note</h3>

<p>Credits to Kevin Goulding, The Tarzan Blog.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>References</h3>

<p>T.S. Breusch &amp; A.R. Pagan (1979),
A Simple Test for Heteroscedasticity and Random
Coefficient Variation.
<em>Econometrica</em> <b>47</b>, 1287&ndash;1294
</p>
<p>R. Koenker (1981), A Note on Studentizing a Test for
Heteroscedasticity. <em>Journal of Econometrics</em>
<b>17</b>, 107&ndash;112.
</p>
<p>W. Krämer &amp; H. Sonnberger (1986),
<em>The Linear Regression Model under Test</em>.
Heidelberg: Physics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
fit &lt;- lm(Ozone ~ Wind, data = airquality)
regress(fit)

## Not run: 
## labelling variables
airquality2 &lt;- label(airquality, Ozone = "Ozone level", Wind = "Wind Speed")
fit2 &lt;- lm(Ozone ~ Wind, data = airquality2)
reg &lt;- regress(fit2)
str(reg)

## End(Not run)


## Not run: 
predict(reg)

## End(Not run)


## Not run: 
plot(reg)

## End(Not run)


ladder(airquality, Ozone)


## Not run: 
hettest(reg)

## End(Not run)


## Not run: 
linkTest(fit)

## End(Not run)

</code></pre>

<hr>
<h2 id='replace'>Change contents of an existing variable</h2><span id='topic+replace'></span>

<h3>Description</h3>

<p><code>replace()</code> alters the contents of a variable when specified
conditions are met.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>replace(data, var, value, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="replace_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="replace_+3A_var">var</code></td>
<td>
<p>variable</p>
</td></tr>
<tr><td><code id="replace_+3A_value">value</code></td>
<td>
<p>value for replacement</p>
</td></tr>
<tr><td><code id="replace_+3A_...">...</code></td>
<td>
<p><code>if</code> conditions or expressions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If only <code>value</code> is specified, the whole variable is assigned
with the <code>value</code>. Multiple conditions can be specified within
the three dots.
</p>


<h3>Value</h3>

<p>data.frame
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- replace(infert, case, 2, case == 0)
tab(x, case)

x &lt;- replace(infert, parity, 4, parity &gt; 4)
tab(x, parity)

## Not run: 
## More examples
## replacing mpg with standardized values of mpg
replace(mtcars, mpg, mpg / mean(mpg))

## replacing mpg with NA if &lt; 10 or &gt; 20
replace(mtcars, mpg, NA, mpg &lt; 10 | mpg &gt; 20)

## replacing education levels with one value
replace(infert, education, "6+yrs",
        education == "6-11yrs" | education == "12+ yrs")

## replacing mpg with NA if mpg is from 10 and 20.
replace(mtcars, mpg, NA, mpg &gt;= 10, mpg &lt;= 20)

## End(Not run)

</code></pre>

<hr>
<h2 id='scatterPlotMatrix'>Scatter plot matrices with histogram and
correlation coefficients</h2><span id='topic+scatterPlotMatrix'></span>

<h3>Description</h3>

<p>A matrix of scatter plots is produced with
Scatter plots with smooth regression line in lower panel,
histograms in diagonal panel and Pearson's correlation
coefficients in upper panel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scatterPlotMatrix(data, main = NULL, pch = 21, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scatterPlotMatrix_+3A_data">data</code></td>
<td>
<p>data.frame.</p>
</td></tr>
<tr><td><code id="scatterPlotMatrix_+3A_main">main</code></td>
<td>
<p>The main title (on top) using font, size (character
expansion) and color <code>par(c("font.main", "cex.main", "col.main"))</code>.</p>
</td></tr>
<tr><td><code id="scatterPlotMatrix_+3A_pch">pch</code></td>
<td>
<p>numeric: point symbol</p>
</td></tr>
<tr><td><code id="scatterPlotMatrix_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to or from methods</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## iris data
# scatterPlotMatrix(iris)

</code></pre>

<hr>
<h2 id='strate'>Calculate Incidence Rates from time-to-event data</h2><span id='topic+strate'></span>

<h3>Description</h3>

<p><code>strate()</code> calculates incidence rates and Corresponding 95\
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strate(data, time, var, ..., fail = NULL, per = 1, digits = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strate_+3A_data">data</code></td>
<td>
<p>Dataset</p>
</td></tr>
<tr><td><code id="strate_+3A_time">time</code></td>
<td>
<p>person-time variable</p>
</td></tr>
<tr><td><code id="strate_+3A_var">var</code></td>
<td>
<p>outcome variable: preferably 1 for event, 0 for censored</p>
</td></tr>
<tr><td><code id="strate_+3A_...">...</code></td>
<td>
<p>variables for stratified analysis</p>
</td></tr>
<tr><td><code id="strate_+3A_fail">fail</code></td>
<td>
<p>a value or values to specify failure event</p>
</td></tr>
<tr><td><code id="strate_+3A_per">per</code></td>
<td>
<p>units to be used in reported rates</p>
</td></tr>
<tr><td><code id="strate_+3A_digits">digits</code></td>
<td>
<p>Rounding of numbers</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Rates of event occurrences, known as incidence rates are outcome measures in
longitudinal studies. In most longitudinal studies, follow-up times vary due
to logistic reasons, different periods of recruitment, delay enrollment into
the study, lost-to-follow-up, immigration or emigration and death.
</p>
<p><strong>Follow-up time in longitudinal studies</strong>
</p>
<p>Period of observation (called as follow-up time) starts when individuals join
the study and ends when they either have an outcome of interest, are lost-to-
follow-up or the follow-up period ends, whichever happens first. This period is
called <strong>person-year-at-risk</strong>. This is denoted by <em>PY</em> in <code>strate</code>
function's output and number of event by <em>D</em>.
</p>
<p><strong>Rate</strong>
</p>
<p>is calculated using the following formula:
</p>
<p style="text-align: center;"><code class="reqn">\lambda = D / PY</code>
</p>

<p><strong>Confidence interval of rate</strong>
</p>
<p>is derived using the following formula:
</p>
<p style="text-align: center;"><code class="reqn">95\% CI (rate) = rate x Error Factor</code>
</p>

<p style="text-align: center;"><code class="reqn">Error Factor (rate) = exp(1.96 / \sqrt{D})</code>
</p>

<p><code>plot</code>, if <code>TRUE</code>, produces a graph of the rates against
the numerical code used for categories of <code>by</code>.
</p>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>References</h3>

<p>Betty R. Kirkwood, Jonathan A.C. Sterne (2006, ISBN:978–0–86542–871–3)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

## Using the diet data (Clayton and Hills 1993) described in STATA manual
import diet data: require haven package to read dta format.
magrittr package for piping operation
diet &lt;- haven::read_dta("https://www.stata-press.com/data/r16/diet.dta")

diet &lt;- generate(diet, time, (dox - doe) / 365.25)
diet &lt;- replace(diet, time, as.numeric(time))
diet &lt;- generate(diet, age, as.numeric(doe - dob) / 365.25)
diet &lt;- egen(diet, age, c(41, 51, 61, 71), new_var = ageband)
diet &lt;- egen(diet, month, c(3, 6, 8), new_var = monthgrp)

## calculate overall rates and 95% Confidence intervals
strate(diet, time, fail, fail = c(1, 3, 13))

## per 100 unit
strate(diet, time, fail, fail = c(1, 3, 13), per = 100)

## calculate Stratified rates and 95% Confidence Intervals
strate(diet, time, fail, job, fail = c(1, 3, 13))
strate(diet, time, fail, job, ageband, monthgrp, fail = c(1, 3, 13))

## per 100 unit
strate(diet, time, fail, job, ageband, monthgrp, fail = c(1, 3, 13), per = 100)

## End(Not run)

</code></pre>

<hr>
<h2 id='summ'>Summary statistics</h2><span id='topic+summ'></span>

<h3>Description</h3>

<p><code>summ()</code> calculates and displays a variety of summary statistics.
If no variables are specified, summary statistics are calculated
for all the variables in the dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summ(data, ..., by = NULL, na.rm = FALSE, digits = 1, detail = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summ_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="summ_+3A_...">...</code></td>
<td>
<p>variable name or names of multiple variables</p>
</td></tr>
<tr><td><code id="summ_+3A_by">by</code></td>
<td>
<p>variable name for bivariate analysis</p>
</td></tr>
<tr><td><code id="summ_+3A_na.rm">na.rm</code></td>
<td>
<p>logical: if <code>TRUE</code>, it removes observations with missing values.</p>
</td></tr>
<tr><td><code id="summ_+3A_digits">digits</code></td>
<td>
<p>specify rounding of numbers.</p>
</td></tr>
<tr><td><code id="summ_+3A_detail">detail</code></td>
<td>
<p>logical: if <code>TRUE</code>, it displays a full spectrum of
summary statistics such as inter-quartile range, and p-value from normality
test.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It calculates seven number summary statistics, and p-values from relevant
statistical tests of association.
</p>
<p><strong>ANNOTATIONS</strong>
</p>
<p><code>Obs</code> = Number of observations
</p>
<p><code>NA</code> = Number of observations with missing value
</p>
<p><code>Mean</code> = Mean
</p>
<p><code>Std.Dev</code> = Standard deviation
</p>
<p><code>Median</code> = Median value
</p>
<p><code>25%</code> = First quartile or percentile
</p>
<p><code>75%</code> = Third quartile or percentile
</p>
<p><code>Min</code> = Minimum value
</p>
<p><code>Max</code> = Maximum value
</p>
<p><code>Normal</code> = p-value from Shapiro-Wilk Normality Test
</p>
<p><strong>Grouped summary statistics</strong>
</p>
<p>If a strata variable <code>by</code> is specified, grouped summary statistics
are calculated. In addition, based on the levels of <code>by</code>,
relevant statistical tests of association such as Student's t-test
and Wilcoxon, ANOVA and Kruskal-Wallis tests are calculated and their
associated p-values are displayed.
</p>
<p><strong>Tabulating the whole dataset</strong>
</p>
<p>This is helpful when the dataset has been processed and finalized.
The final dataset can be fed into the function without
inputting any variables. This automatically filters and generates
tables on variables with possible data types for summary statistics. These
data types include <code>numeric</code>, <code>double</code>, <code>integer</code>, and <code>logical</code>.
</p>
<p><strong>Using colon <code>:</code> to summarize multiple variables</strong>
</p>
<p>A colon separator <code>:</code> can be used to summarize variables more efficiently.
</p>
<p><strong>Labels</strong>
</p>
<p>Labels for corresponding variables are displayed below the
table.
</p>


<h3>Value</h3>

<p>A list with <code>summ</code> class containing three sets of data.frame type:
</p>

<ol>
<li><p> summary result,
</p>
</li>
<li><p> summary result without any format,
</p>
</li>
<li><p> labels for corresponding variables.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Univariate summary statistics
summ(iris, Sepal.Length)
summ(iris, Sepal.Length:Petal.Width)

## Bivariate summary statistics
summ(iris, Sepal.Length:Petal.Width, by = Species)

## Not run: 
## Using the whole dataset
summ(iris)
summ(iris, by = Species)

## Detailed summary statistics
summ(iris, detail = TRUE)
summ(iris, by = Species, detail = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='summary'>Table Format for Publication</h2><span id='topic+summary'></span><span id='topic+summary.tab'></span><span id='topic+summary.summ'></span>

<h3>Description</h3>

<p><code>summary()</code> organizes the output and print
a favorable format
to the console, which is used with rmarkdown package
to produce publication-ready tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'tab'
summary(object, ...)

## S3 method for class 'summ'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_+3A_object">object</code></td>
<td>
<p>an object for which a summary is desired.</p>
</td></tr>
<tr><td><code id="summary_+3A_...">...</code></td>
<td>
<p>additional arguments affecting the summary produced.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Summary for tabulation
x &lt;- tab(infert, education, parity:spontaneous)
summary(x)

x &lt;- tab(infert, education, parity:spontaneous, by = case)
summary(x)

## Summary for summary statistics
x &lt;- summ(iris)
summary(x)

x &lt;- summ(iris, by = Species)
summary(x)

x &lt;- summ(iris, by = Species, detail = TRUE)
summary(x)

## End(Not run)


</code></pre>

<hr>
<h2 id='tab'>Tabulation</h2><span id='topic+tab'></span>

<h3>Description</h3>

<p><code>tab()</code> generates one-way or two-way tabulation of variables.
If no variables are specified, tabulations for all the variables
in the dataset are generated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tab(data, ..., by = NULL, row.pct = TRUE, na.rm = FALSE, digits = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tab_+3A_data">data</code></td>
<td>
<p>data.frame</p>
</td></tr>
<tr><td><code id="tab_+3A_...">...</code></td>
<td>
<p>variable name or names of multiple variables</p>
</td></tr>
<tr><td><code id="tab_+3A_by">by</code></td>
<td>
<p>variable name for bivariate analysis</p>
</td></tr>
<tr><td><code id="tab_+3A_row.pct">row.pct</code></td>
<td>
<p><code>TRUE</code>, <code>FALSE</code> or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="tab_+3A_na.rm">na.rm</code></td>
<td>
<p>logical: if <code>TRUE</code>, it removes observations with missing values.</p>
</td></tr>
<tr><td><code id="tab_+3A_digits">digits</code></td>
<td>
<p>specify rounding of numbers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>One-way tabulation</strong>
</p>
<p>If <code>by</code> is not specified, <code>tab</code> generates one-way tabulation of
a variable or multiple variables. The table is displayed
in <code>Freq.</code> (frequency), <code>Percent</code>
(Relative Frequency) and <code>Cum.</code> (Cumulative Relative frequency).
</p>
<p><strong>Two-way tabulation</strong>
</p>
<p>Specifying <code>by</code> leads to two-way tabulation. By default,
row percentages are displayed along with count data. If <code>row.pct</code>
is set to <code>NULL</code>, it shows a count table without percentages. If set to
<code>FALSE</code>, a table with column percentages is generated. P-values from
<code>Chi-squared</code> and Fisher's <code>Exact</code> tests are also shown, regardless
of displaying percentages.
</p>
<p><strong>Tabulating the whole dataset</strong>
</p>
<p>This is helpful when the dataset has been processed and finalized.
The final dataset can be fed into the function without
inputting any variables. This automatically filters and generates
tables on variables with possible data types for tabulation. These
data types include <code>character</code>, <code>factor</code>, <code style="white-space: pre;">&#8288;order factor&#8288;</code>, and <code>logical</code>.
</p>
<p><strong>Using colon <code>:</code> to tabulate multiple variables</strong>
</p>
<p>A colon separator <code>:</code> can be used to generate one-way or two-way
tables efficiently.
</p>
<p><strong>Labels</strong>
</p>
<p>Labels for corresponding variables are displayed below the
table.
</p>


<h3>Value</h3>

<p>A list with <code>tab</code> class containing three sets of data.frame type:
</p>

<ol>
<li><p> tabulation result,
</p>
</li>
<li><p> tabulation result without any format,
</p>
</li>
<li><p> labels for corresponding variables.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Email: <a href="mailto:dr.myominnoo@gmail.com">dr.myominnoo@gmail.com</a>
</p>
<p>Website: <a href="https://myominnoo.github.io/">https://myominnoo.github.io/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## One-way tabulation
tab(infert, education)
tab(infert, education, parity:spontaneous)
tab(infert)

## Two-way tabulation
tab(infert, education, by = case)
tab(infert, education, parity:spontaneous, by = case)
tab(infert, by = case)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package sos</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sos}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#back2ForwardSlash'>
<p>Replace backslash with forward slash in a character string</p></a></li>
<li><a href='#CRAN'>
<p>Test if running as CRAN</p></a></li>
<li><a href='#Extract.findFn'><p>Subset a findFn object</p></a></li>
<li><a href='#findFn'>
<p>Search Help Pages</p></a></li>
<li><a href='#grepFn'>
<p>Match pattern in a column of a matrix or data.frame</p></a></li>
<li><a href='#hits'>
<p>matches attribute of a findFn object</p></a></li>
<li><a href='#installPackages'>
<p>install packages with minimum count</p></a></li>
<li><a href='#packageSum'>
<p>Add Info from Installed Packages to PackageSummary</p></a></li>
<li><a href='#PackageSum2'>
<p>Add Info from Installed Packages to PackageSummary</p></a></li>
<li><a href='#PackageSummary'><p>Summarize findFn Results by Package</p></a></li>
<li><a href='#print.findFn'>
<p>print a findFn object</p></a></li>
<li><a href='#print.packageSum'>
<p>print a packageSum object</p></a></li>
<li><a href='#sortFindFn'><p>Sort a findFn Object</p></a></li>
<li><a href='#summary.findFn'><p>Summary Method for findFn</p></a></li>
<li><a href='#unionFindFn'>
<p>Combine findFn Objects</p></a></li>
<li><a href='#writeFindFn2xls'>
<p>Write a findFn object to an Excel file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Search Contributed R Packages, Sort by Package</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1-8</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-06-28</td>
</tr>
<tr>
<td>Author:</td>
<td>Spencer Graves [cre, aut, cph], 
    Sundar Dorai-Raj [aut], and Romain Francois [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Spencer Graves &lt;spencer.graves@prodsyse.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Search contributed R packages, sort by package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), brew</td>
</tr>
<tr>
<td>Suggests:</td>
<td>RODBC, WriteXLS, testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>Language:</td>
<td>en-us</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sbgraves237/sos">https://github.com/sbgraves237/sos</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sbgraves237/sos/issues">https://github.com/sbgraves237/sos/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-29 17:27:35 UTC; sg</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-29 18:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='back2ForwardSlash'>
Replace backslash with forward slash in a character string
</h2><span id='topic+back2ForwardSlash'></span>

<h3>Description</h3>

<p>scan a character string with backslash as the 
quote character and return it with backslashes
replaced by forward slash.
</p>
<p>NOTE:  'c:\User' cannot be assigned to a 
character variable, because '\U' must be followed
by a hexadecimal number, and 's' is not a legal
hexadecimal digit.  Therefore, we read the 
character string of interest using scan rather 
than assigning it to a function argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>back2ForwardSlash(nmax=1, what=character(), 
      sep='\n', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="back2ForwardSlash_+3A_nmax">nmax</code>, <code id="back2ForwardSlash_+3A_what">what</code>, <code id="back2ForwardSlash_+3A_sep">sep</code>, <code id="back2ForwardSlash_+3A_...">...</code></td>
<td>

<p>arguments passed to <code><a href="base.html#topic+scan">scan</a></code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It's not easy to turn a back slash into a forward
slash, because R interprets the back slash as an
escape character.
<code>back2ForwardSlash</code> tells R to read the next 
<code>nmax</code> lines, replacing '\' with '/'.
</p>


<h3>Value</h3>

<p>character vector with backslashes replaced by
forward slashes.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves with help from Richard Cotton and
Garrett See.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+scan">scan</a></code>
<code><a href="base.html#topic+gsub">gsub</a></code>
<code><a href="base.html#topic+Quotes">Quotes</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
(x &lt;- back2ForwardSlash())
#c:\users\

#NOTE:  The "#" in this example is not needed.
# It is included here to suppress a spurious warning
# in the automated testing of the package via "R CMD check".


all.equal(x, '#c:/users/')


(x2. &lt;- back2ForwardSlash(2))
#c:\u\a b\n o
#d:\pqr\


all.equal(x2., c('#c:/u/a b/n o', '#d:/pqr/'))



</code></pre>

<hr>
<h2 id='CRAN'>
Test if running as CRAN
</h2><span id='topic+CRAN'></span>

<h3>Description</h3>

<p>This function allows package developers to run tests 
themselves that should not run on CRAN or with 
<code>"R CMD check --as-cran"</code> because of compute 
time constraints with <code>CRAN</code> tests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CRAN(CRAN_pattern, n_R_CHECK4CRAN)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CRAN_+3A_cran_pattern">CRAN_pattern</code></td>
<td>

<p>a regular expressions to apply to the names of 
<code>Sys.getenv()</code> to identify possible 
<code>CRAN</code> parameters.  Defaults to 
<code>Sys.getenv('_CRAN_pattern_')</code> if available 
and <code>'^_R_'</code> if not.
</p>
</td></tr>
<tr><td><code id="CRAN_+3A_n_r_check4cran">n_R_CHECK4CRAN</code></td>
<td>

<p>Assume this is <code>CRAN</code> if at least 
<code>n_R_CHECK4CRAN</code> elements of 
<code>Sys.getenv()</code> have names matching 
x.  Defaults to
<code>Sys.getenv('_n_R_CHECK4CRAN_')</code> if 
available and 5 if not.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The &quot;Writing R Extensions&quot; manual says that 
<code>"R CMD check"</code> can be customized 
&quot;by setting environment variables 
<code>_R_CHECK_*_:</code>, as described in&quot; the 
Tools section of the &quot;R Internals&quot; manual.
</p>
<p><code>'R CMD check'</code> was tested with 
R 3.0.1 under Fedora 18 Linux and with
<code>Rtools 3.0</code> from April 16, 2013 under 
Windows 7.  With the <code>'--as-cran'</code>
option, 7 matches were found;  without it, 
only 3 were found.  These numbers were 
unaffected by the presence or absence of the 
'&ndash;timings' parameter.  On this basis, the 
default value of <code>n_R_CHECK4CRAN</code> was 
set at 5.
</p>
<p>1.  <code>x. &lt;- Sys.getenv()</code>
</p>
<p>2.  Fix <code>CRAN_pattern</code> and 
<code>n_R_CHECK4CRAN</code> if missing.
</p>
<p>3.  Let <code>i</code> be the indices of 
<code>x.</code> whose names match all the patterns 
in the vector <code>x.</code>
</p>
<p>4.  Assume this is <code>CRAN</code> if 
<code>length(i) &gt;= n_R_CHECK4CRAN</code>.
</p>


<h3>Value</h3>

<p>a logical scalar with attributes 
<code>'Sys.getenv'</code> containing the 
results of <code>Sys.getenv()</code> and 
'matches' containing <code>i</code> per step 
3 above.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves (copied from the 
<code>fda</code> package)
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Sys.getenv">Sys.getenv</a></code>
<code><a href="testthat.html#topic+skip_on_cran">skip_on_cran</a></code>, which uses 
[&quot;the NOT_CRAN env var set by devtools and friends&quot;](https://testthat.r-lib.org/reference/skip.html).  This 
<code>CRAN</code> function does NOT require a user to 
set any environment variable. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cran &lt;- CRAN()
str(cran)
gete &lt;- attr(cran, 'Sys.getenv')
(ngete &lt;- names(gete))

iget &lt;- grep('^_', names(gete))
gete[iget]

#\dontrun is sometimes run on CRAN.  See
#https://github.com/ThinkR-open/prepare-for-cran
#accessed 2021-06-14
if (interactive()) {
if(CRAN()){
  stop('CRAN')
} else {
  stop('NOT CRAN')
}
}
</code></pre>

<hr>
<h2 id='Extract.findFn'>Subset a findFn object</h2><span id='topic+Extract.findFn'></span><span id='topic++5B.findFn'></span>

<h3>Description</h3>

<p>Extract rows from a <code><a href="#topic+findFn">findFn</a></code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'findFn'
x[i, j,
    drop = 
    if (missing(i)) TRUE else length(j) == 1]
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Extract.findFn_+3A_x">x</code></td>
<td>
<p>An object of class <code>findFn</code></p>
</td></tr>
<tr><td><code id="Extract.findFn_+3A_i">i</code></td>
<td>

<p>a valid object to select rows of <code>x</code>, e.g., 
a vector of all positive integers or all 
negative integers between 1 and <code>nrow(x)</code> 
or a logical vector of length <code>nrow(x)</code>.
</p>
</td></tr>
<tr><td><code id="Extract.findFn_+3A_j">j</code></td>
<td>

<p>If not missing, the extraction function returns 
an object of class <code>data.frame</code> rather than
<code>findFn</code>.
</p>
</td></tr>
<tr><td><code id="Extract.findFn_+3A_drop">drop</code></td>
<td>

<p>logical:  if <code>FALSE</code> and <code>j</code> selects
only one column, return that column as a vector; 
else return a <code>data.frame</code> if <code>j</code> is
present or a <code>findFn</code> object otherwise.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  <code>if(missing(j))</code> extract the subset with
the <code>PackageSummary</code> attribute recomputed on
the subset.
</p>
<p>2.  else 
<code>return(Extract.data.frame(x, i, j, drop))</code>
</p>


<h3>Value</h3>

<p>If <code>j</code> is missing, return an object of class 
<code>c('findFn', 'data.frame')</code> else return
whatever is returned by <code>Extract.data.frame</code>.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>,
<code><a href="base.html#topic+data.frame">data.frame</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  z &lt;- try(findFn("spline", maxPages = 2))
  
  if(!inherits(z, "try-error")){
# one row
  z1 &lt;- z[1,]

# one column 
  z.2 &lt;- z[, 2]
# 
  z.2a &lt;- z[2]
  
    all.equal(z.2, z.2a)
  
# data.frame with one column
  z.2d &lt;- z[, 2, drop=FALSE]
  }
</code></pre>

<hr>
<h2 id='findFn'>
Search Help Pages
</h2><span id='topic+findFn'></span><span id='topic++3F'></span><span id='topic++3F+3F+3F'></span>

<h3>Description</h3>

<p>Returns a data.frame from
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a>(string, "function")</code> 
which can be sorted and subsetted by user
specifications and viewed in an <code>HTML</code> table.  
The default sort puts first packages with the most
matches (<code>Count</code>), with ties broken using 
the sum of the match scores for all the hits in
that package (<code>TotalScore</code>), etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findFn(string, maxPages = 100, sortby = NULL, 
        verbose = 1, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findFn_+3A_string">string</code></td>
<td>

<p>A character string. See
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code>.
</p>
</td></tr>
<tr><td><code id="findFn_+3A_maxpages">maxPages</code></td>
<td>

<p>The maximum number of pages to download 
assuming 20 links per page.
</p>
</td></tr>
<tr><td><code id="findFn_+3A_sortby">sortby</code></td>
<td>

<p>a character vector specifying how the 
<code>data.frame</code> returned should be sorted. 
Default = 
<code>c('Count', 'MaxScore', 'TotalScore', 'Package', 'Score', 'Function')</code>
to sort descending on numerics and
ascending on alphanumerics.  Specifying 
<code>sortby</code> = <code>c('c', 't', 'm')</code> is
equivalent to 
<code>c('Count', 'TotalScore', 'MaxScore', 'Package', 'Score', 'Function')</code>.
</p>
</td></tr>
<tr><td><code id="findFn_+3A_verbose">verbose</code></td>
<td>

<p>an integer:  if 0, no output is printed to the
console.  The default 1 displays an initial 
line with the number of pages to be retrieved 
and the number of matches obtained;  if the
number of matches to be downloaded is less, 
this also is displayed on the initial line.  
This is followed by a second line counting the
pages downloaded.
</p>
<p>If greater than 1, additional information is
provided on the download process.
</p>
</td></tr>
<tr><td><code id="findFn_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>findFn</code> searches the help pages of packages
covered by the <code>RSiteSearch</code> archives.  To
restrict the search to only packages installed
locally, use <code><a href="utils.html#topic+help.search">help.search</a></code>.
</p>
<p>1.  Access the <code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code> engine 
with <code>string</code>, restricting to &quot;functions&quot;,
storing <code>Score</code>, <code>Package</code>, 
<code>Function</code>, <code>Date</code>, <code>Description</code>,
and <code>Link</code> in a <code>data.frame</code>.
</p>
<p>2.  Compute <code>Count</code>, <code>MaxScore</code> and
<code>TotalScore</code> for each <code>Package</code> 
accessed.  Combine them in a matrix
<code>PackageSummary</code>.
</p>
<p>3.  Sort <code>PackageSummary</code> in the order 
defined by the occurrence of 
<code>c('Count', 'MaxScore', 'TotalScore', 'Package')</code>
in <code>sortby</code>.
</p>
<p>4.  Merge <code>PackageSummary</code> with the 
<code>data.frame</code> of search matches.
</p>
<p>5.  Sort the combined <code>data.frame</code> as 
defined by <code>sort.</code>.
</p>
<p>6.  Make the result have class 
<code>c("findFn", "data.frame")</code> and add
attributes <code>matches</code>, 
<code>PackageSummary</code>, <code>string</code>, and
<code>call</code>.
</p>
<p>7.  Done.
</p>


<h3>Value</h3>

<p>an object of class 
<code>c('findFn', 'data.frame')</code> with columns 
and attributes as follows:
</p>
<table>
<tr><td><code>Columns</code></td>
<td>


<ul>
<li> <p><code>Count</code> Total number of matches 
downloaded in this package
</p>
</li>
<li> <p><code>MaxScore</code>
maximum of the <code>Score</code> over all help
pages selected within each <code>Package</code>. 
See <code>Score</code> below or the Namazu
website (link below) for more information 
on how the score is determined.
</p>
</li>
<li> <p><code>TotalScore</code>
sum of the <code>Score</code> over all help 
pages selected within each <code>Package</code>. 
See <code>Score</code> below or the Namazu
website (link below) for more information 
on how the score is determined.
</p>
</li>
<li> <p><code>Package</code>
Name of the package containing a help 
page meeting the search criteria
</p>
</li>
<li> <p><code>Function</code>
Name of the help page found that meets 
the indicated search criterion.
</p>
</li>
<li> <p><code>Date</code> Date of the help page
</p>
</li>
<li> <p><code>Score</code>
Score returned by <code>RSiteSearch</code>,
discussed in the Namazu	website (link 
below).
</p>
</li>
<li> <p><code>Description</code> 
Title of the help page
</p>
</li>
<li> <p><code>Link</code> 
Universal Resource Locator (URL) for the 
help page
</p>
</li></ul>

</td></tr>
<tr><td><code>Attributes</code></td>
<td>


<ul>
<li><p><code>matches</code>
an integer = total number of matches found 
by the search.  This typically will exceed
the number of rows found, because the
search algorithm sometimes finds things 
that are not help pages for packages.
</p>
</li>
<li> <p><code>PackageSummary</code>
a <code>data.frame</code> with one row for each 
package and columns <code>Package</code>,
<code>Count</code>, <code>MaxScore</code>, 
<code>TotalScore</code>, and <code>Date</code>, sorted 
as in the <code>sort.</code> argument.
</p>
</li>
<li> <p><code>string</code>
the <code>string</code> argument in the 
<code>call</code>.
</p>
</li>
<li> <p><code>call</code> the matched call
</p>
</li></ul>

</td></tr>
</table>


<h3>Author(s)</h3>

<p>Spencer Graves, Sundar Dorai-Raj, Romain Francois.
Duncan Murdoch suggested the &quot;???&quot; alias for
<code>findFn</code> and contributed the code for it.
</p>
<p>Special thanks to Gennadiy Starostin, 
Vienna University of Economics and Business
(Wirtschaftsuniversitaet Wien), who in early 
2021 took over maintenance of the 
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code> data base, updated 
its structure, and rewrote 
<code>findFn</code> to match.  
</p>
<p>Special thanks to Jonathan Baron, and Andy 
Liaw. Baron maintained the 
<code>RSiteSearch</code> data base for many years.  
Liaw and Baron created the <code>RSiteSearch</code> 
function in the <code>utils</code> package. 
Thanks also to Patrice Kiener of 'InModelia'
in Paris, France, who helped me fix some syntax 
problems stemming from changes in how an 
itemized list is described in a *.Rd file. 
</p>


<h3>References</h3>

<p><a href="http://www.namazu.org/doc/tips.html.en#weight">http://www.namazu.org/doc/tips.html.en#weight</a>
- reference on determining <code>Score</code>
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+help.search">help.search</a></code> to search only 
installed packages.
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code>,
<code><a href="utils.html#topic+download.file">download.file</a></code>
<code>findFn</code> searches only &quot;Target:  Functions&quot;
from that site, ignoring the R-help archives.
</p>
<p>For alternative R search capabilities, see:  
</p>
<p>* <a href="https://en.wikiversity.org/wiki/Searching_R_Packages">&quot;Searching R Packages&quot; on Wikiversity</a>
</p>
<p>* <a href="https://journal.r-project.org/archive/2018/RJ-2018-058/index.html">Julia Silge, John C. Nash, and Spencer Graves (2018) Navigating the R Package Universe, The R Journal, 10(2) 558-563.</a>
</p>
<p>* <a href="https://search.r-project.org">https://search.r-project.org</a> for 
a list of alternative R search capabilities, 
each of which may be best for different types 
of inquiries.
</p>
<p>* <code><a href="methods.html#topic+findFunction">findFunction</a></code> for a completely
different function with a similar name.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Skip these tests on CRAN,
# because they take more than 5 seconds
if(!CRAN()){

z &lt;- try(findFn("spline", maxPages = 2))
# alternative
zq &lt;- try(???spline(2))

# Confirm z == zq except for 'call' 
  attr(z, 'call') &lt;- NULL
  attr(zq, 'call') &lt;- NULL

if(!(inherits(z, "try-error") ||
     inherits(zq, "try-error"))){


all.equal(z, zq)


# To search for 2 terms, not necessarily together:
RSS &lt;- try(findFn('RSiteSearch function', 1))
matches(RSS)

# To search for an exact string, use braces:
RSS. &lt;- try(findFn('{RSiteSearch function}', 1))
matches(RSS.) # list(nrow = 0, matches = 0)

# example in which resulting page has some unicode characters
Lambert &lt;- try(findFn("Lambert"))
Lambert

# Example that "found  2  link(s) without dates" on 2021-06-26
webScr &lt;- try(findFn('web scraping'))

# Example that "found 0 matches" on 2021-09-06
try(findFn('{open history map}'))
}
}
</code></pre>

<hr>
<h2 id='grepFn'>
Match pattern in a column of a matrix or data.frame
</h2><span id='topic+grepFn'></span>

<h3>Description</h3>

<p>Search for <code>pattern</code> in a <code>column</code> of a matrix or
data.frame using <code>grep</code>.  If <code>value</code> = TRUE (the 
default), return the selected subset of <code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>grepFn(pattern, x, column='Function', ignore.case=FALSE,
       perl=FALSE, value=TRUE, fixed=FALSE,
       useBytes=FALSE, invert=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="grepFn_+3A_x">x</code></td>
<td>

<p>a matrix or data.frame containing a column named <code>column</code>.
</p>
</td></tr>
<tr><td><code id="grepFn_+3A_pattern">pattern</code>, <code id="grepFn_+3A_ignore.case">ignore.case</code>, <code id="grepFn_+3A_perl">perl</code>, <code id="grepFn_+3A_fixed">fixed</code>, <code id="grepFn_+3A_usebytes">useBytes</code>, <code id="grepFn_+3A_invert">invert</code></td>
<td>

<p>as for <code>grep</code>
</p>
</td></tr>
<tr><td><code id="grepFn_+3A_column">column</code></td>
<td>

<p>character string giving the column of <code>x</code> in which to search
for <code>pattern</code>.
</p>
</td></tr>
<tr><td><code id="grepFn_+3A_value">value</code></td>
<td>

<p>logical:  If TRUE, return the selected subset of <code>x</code>.  If
FALSE, return the row numbers returned by <code>grep</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  g &lt;- grep(pattern, x[, column])
</p>
<p>2.  if(value)return(x[g, ]) else return(g)
</p>


<h3>Value</h3>

<p>If(value) return an object of the same class as <code>x</code> containing
those rows of <code>x</code> with <code>x[, column]</code> matching
<code>pattern</code>.
</p>
<p>Else, return an integer vector identifying the rows of <code>x</code> with
<code>x[, column]</code> matching <code>pattern</code>.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves, Sundar Dorai-Raj
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>
<code><a href="base.html#topic+grep">grep</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>z &lt;- cbind(a=1:2, Function=c('s', 'spline'))
z. &lt;- grepFn("spline", z)


all.equal(z., z[2,,drop=FALSE])

</code></pre>

<hr>
<h2 id='hits'>
matches attribute of a findFn object
</h2><span id='topic+hits'></span><span id='topic+matches'></span>

<h3>Description</h3>

<p>Returns the <code>matches</code> attribute of a
<code><a href="#topic+findFn">findFn</a></code> object.  For the output of
<code>findFn</code>, this is the number of  matches
for the search term.  For a <code>findFn</code> 
object returned by <code><a href="#topic+unionFindFn">unionFindFn</a></code> or
<code><a href="#topic+intersectFindFn">intersectFindFn</a></code>, this is a
numeric vector if the <code>matches</code> attributes of
the arguments to
<code>unionFindFn</code> or <code>intersectFindFn</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matches(x)
hits(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hits_+3A_x">x</code></td>
<td>

<p>object of class <code>findFn</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>nrow(x)</code>
<code>attr(x, 'matches')</code>
</p>


<h3>Value</h3>

<p>a list with components <code>nrows</code> and 
<code>matches</code>
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>
<code><a href="#topic+unionFindFn">unionFindFn</a></code>
<code><a href="#topic+intersectFindFn">intersectFindFn</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>des1 &lt;- try(findFn('differential equations', 1))

if(inherits(des1, 'try-error')){
des1. &lt;- matches(des1)
des. &lt;- list(nrow=nrow(des1), matches=attr(des1, 'matches'))

all.equal(des1., des.)

}
</code></pre>

<hr>
<h2 id='installPackages'>
install packages with minimum count
</h2><span id='topic+installPackages'></span><span id='topic+installPackages.findFn'></span><span id='topic+installPackages.packageSum'></span>

<h3>Description</h3>

<p>Ensure that the most important packages 
in <code>x</code> are installed.  &quot;Importance&quot; here is 
defined in the description of the <code>minCount</code>
argument below.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>
installPackages(x, minCount, ...)
## S3 method for class 'findFn'
installPackages(x, minCount, ...) 
## S3 method for class 'packageSum'
installPackages(x, minCount, 
              repos = getOption("repos"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="installPackages_+3A_x">x</code></td>
<td>

<p>either a character vector to be passed to
<code><a href="utils.html#topic+install.packages">install.packages</a></code> or a <code>findFn</code> 
or a <code>packageSum</code> object
</p>
</td></tr>
<tr><td><code id="installPackages_+3A_mincount">minCount</code></td>
<td>

<p>Controls how many of the packages identified in 
<code>x</code> to pass to <code><a href="utils.html#topic+install.packages">install.packages</a></code>.  
</p>
<p>If <code>x</code> is a <code>findFn</code> or 
<code>packageSum</code> object, install every 
<code>x[, 'Package']</code> with <code>x[, 'Count']</code> &gt;= 
<code>minCount</code>.  By default, <code>minCount</code> = 
<code>sqrt(x[1, 'Count'])</code>.  
</p>
</td></tr>
<tr><td><code id="installPackages_+3A_repos">repos</code></td>
<td>

<p>argument passed to 
<code><a href="utils.html#topic+install.packages">install.packages</a></code>
</p>
</td></tr>
<tr><td><code id="installPackages_+3A_...">...</code></td>
<td>

<p>optional arguments passed to 
<code><a href="utils.html#topic+install.packages">install.packages</a></code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code><a href="#topic+PackageSum2">PackageSum2</a></code> and 
<code><a href="#topic+packageSum">packageSum</a></code> obtain some of the information 
displayed from installed packages.  To get more 
information in those summaries, run 
<code>installPackages</code> on a <code><a href="#topic+findFn">findFn</a></code> or
<code><a href="#topic+packageSum">packageSum</a></code> object to install more 
of the packages found.  
</p>


<h3>Value</h3>

<p>none
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+install.packages">install.packages</a></code>
<code><a href="#topic+PackageSum2">PackageSum2</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## 1.  findFn object
##
spl &lt;- try(findFn("spline", maxPages = 2))

if(!inherits(spl, "try-error")){
# check the code but do not install anything:
installPackages(spl, minCount=spl[1, 'Count']+1)

# default: install packages with 
# Count&gt;=minCount
#\dontrun is sometimes run on CRAN.  See
#https://github.com/ThinkR-open/prepare-for-cran
#accessed 2021-06-14
if (interactive()) {
installPackages(spl)
}

##
## 2.  packageSum object
##

splS &lt;- packageSum(spl)
# check the code but do not install anything:
installPackages(splS, splS[1, 'Count']+1)

# install ALL packages
if (interactive()) {
installPackages(splS, 1)
}
}
</code></pre>

<hr>
<h2 id='packageSum'>
Add Info from Installed Packages to PackageSummary
</h2><span id='topic+packageSum'></span><span id='topic+packageSum.findFn'></span><span id='topic+packageSum.data.frame'></span><span id='topic+packageSum.list'></span>

<h3>Description</h3>

<p>Obtain a summary by package of a 
<code><a href="#topic+findFn">findFn</a></code> object give it class
<code>packageSum</code>.  
</p>
<p>This is a simple function, first calling 
<code><a href="#topic+PackageSum2">PackageSum2</a></code>, than assigning 
class <code>packagesum</code> to it.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>packageSum(x,
    fields=c("Title", "Version", "Author",
      "Maintainer", "Packaged", 'helpPages',
      'vignette', 'URL'), 
    lib.loc=NULL, ...)
## S3 method for class 'findFn'
packageSum(x,
    fields=c("Title", "Version", "Author",
      "Maintainer", "Packaged", 'helpPages',
      'vignette', 'URL'), 
    lib.loc=NULL, ...)
## S3 method for class 'data.frame'
packageSum(x,
    fields=c("Title", "Version", "Author",
      "Maintainer", "Packaged", 'helpPages',
      'vignette', 'URL'), 
    lib.loc=NULL, ...)
## S3 method for class 'list'
packageSum(x,
    fields=c("Title", "Version", "Author",
      "Maintainer", "Packaged", 'helpPages',
      'vignette', 'URL'), 
    lib.loc=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="packageSum_+3A_x">x</code></td>
<td>

<p>a data.frame with columns <code>Package</code> and
<code>Score</code>.
</p>
</td></tr>
<tr><td><code id="packageSum_+3A_fields">fields</code></td>
<td>

<p>character vector of names of columns to add 
to <code>x</code>. The function first looks  in the
components of
<code>packageDescription(x$Package[i])</code>. 
<code>vignette</code> is obtained via the function 
of that name.
</p>
<p>Component <code>Packaged</code> receives special
treatment.  If present, only the portion
preceding ';' will be retained.  This seems to 
be a time stamp automatically generated by
something like <code>R CMD build</code>.  It is 
absent for packages automatically loaded when 
R is started.  In such cases, the third 
component of 
<code>strsplit(packageDescription( x$Package[i])$Built, ..., ';')</code> 
will be stored as <code>Packaged</code>.  This seems 
to be a time stamp automatically generated by
something like 
<code>R CMD INSTALL --build</code>.
</p>
</td></tr>
<tr><td><code id="packageSum_+3A_lib.loc">lib.loc</code></td>
<td>

<p>an optional <code>lib.loc</code> argument passed to
<code>packageDescription</code>.
</p>
</td></tr>
<tr><td><code id="packageSum_+3A_...">...</code></td>
<td>

<p>additional arguments (currently unused)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With an object of class <code>findFn</code>, call 
<code><a href="#topic+PackageSum2">PackageSum2</a></code>, then make it class 
<code>packageSum</code>.  
</p>
<p>If less than half of the package reference are 
installed, it prints a note suggesting the 
user call <code><a href="#topic+installPackages">installPackages</a></code>, because
much of the information is obtained from 
the packages' <code>DESCRIPTION</code> file.  
</p>


<h3>Value</h3>

<p>a <code>data.frame</code> of class 
<code>c('packageSum', 'data.frame')</code>.  
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>
<code><a href="#topic+PackageSum2">PackageSum2</a></code>
<code><a href="#topic+PackageSummary">PackageSummary</a></code>
<code><a href="#topic+installPackages">installPackages</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## data.frame method
##
tstdf &lt;- data.frame(Package=c('grid', 'base'), 
            stringsAsFactors=FALSE)
tst2 &lt;- packageSum(tstdf)

##
## list method
##
tstList &lt;- list(PackageSummary=tstdf)


all.equal(tst2, packageSum(tstList))

##
## findFn method
##
tst.findFn &lt;- data.frame(
    Package=c('grid', 'base')[c(1,1,2)], 
    Score=2:4, Date=LETTERS[1:3], stringsAsFactors=FALSE)
attr(tst.findFn, 'PackageSummary') &lt;- 
    PackageSummary(tst.findFn)
class(tst.findFn) &lt;- c('findFn', 'data.frame')
tst2. &lt;- packageSum(tst.findFn)


all.equal(tst2, tst2.[names(tst2)])

##
## spline example 
##
splineHelp &lt;- findFn("spline", maxPages = 2)
splinePkgs &lt;- packageSum(splineHelp)
</code></pre>

<hr>
<h2 id='PackageSum2'>
Add Info from Installed Packages to PackageSummary
</h2><span id='topic+PackageSum2'></span><span id='topic+PackageSum2.findFn'></span><span id='topic+PackageSum2.data.frame'></span><span id='topic+PackageSum2.list'></span>

<h3>Description</h3>

<p>Add information on installed packages to the 
<code>PackageSummary</code> of a <code>findFn</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer", 
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
## S3 method for class 'findFn'
PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer",
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
## S3 method for class 'data.frame'
PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer",
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
## S3 method for class 'list'
PackageSum2(x,
    fields=c("Title", "Version", "Author", "Maintainer",
      "Packaged", 'helpPages', 'vignette', 'URL'), 
        lib.loc=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PackageSum2_+3A_x">x</code></td>
<td>

<p>a data.frame with columns <code>Package</code> and 
<code>Score</code>.
</p>
</td></tr>
<tr><td><code id="PackageSum2_+3A_fields">fields</code></td>
<td>

<p>character vector of names of columns to add to
<code>x</code>. The function first looks  in the components
of <code>packageDescription(x$Package[i])</code>.  
'vignette' is obtained via the function of that name.
</p>
<p>Component 'Packaged' receives special treatment.  If
present, only the portion preceding ';' will be 
retained.  This seems to be a time stamp automatically
generated by something like <code>R CMD build</code>.  It is
absent for packages automatically loaded when R is
started.  In such cases, the third component of 
<code>strsplit(packageDescription( 
    x$Package[i])$Built, ..., ';')</code> will be stored as
'Packaged'.  This seems to be a time stamp 
automatically generated by something like 
<code>R CMD INSTALL --build</code>.
</p>
</td></tr>
<tr><td><code id="PackageSum2_+3A_lib.loc">lib.loc</code></td>
<td>

<p>an optional <code>lib.loc</code> argument passed to
<code>packageDescription</code>.
</p>
</td></tr>
<tr><td><code id="PackageSum2_+3A_...">...</code></td>
<td>

<p>additional arguments (currently unused)
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With an object of class <code>findFn</code>, extract the
<code>PackageSummary</code> attribute and pass it to the 
<code>data.frame</code> method.
</p>
<p>With an object of class <code>list</code>, extract the 
<code>PackageSummary</code> component and pass it to the 
<code>data.frame</code> method.
</p>
<p>For a <code>data.frame</code> that is not an <code>findFn</code> 
object, add other columns from <code>attributes</code> of 
<code>packageDescription</code> for installed packages named
in the column <code>Package</code>.  Also, for any packages
that are installed, replace the <code>Date</code> with the
<code>Packaged</code> date.  The <code>Date</code> in Baron's
<code>RSiteSearch</code> database is the date of
acquisition, which will typically be more recent
than the <code>Packaged</code>
date provided the locally installed package has 
the same version as that in Baron's database.  To
get the best information from <code>PackageSum2</code>,
it is wise to first run both
<code><a href="#topic+installPackages">installPackages</a></code> to ensure that
the packages of greatest interest are installed
locally and <code>update.packages()</code> to make sure
you have the latest versions installed locally. 
Similarly, if <code>PackageSum2</code> does not contain
complete interest on a package of interest, this
can be fixed by installing the package and
rerunning <code>PackageSum2</code>.
</p>


<h3>Value</h3>

<p>a data.frame with additional <code>fields</code> columns
appended to a <code><a href="#topic+PackageSummary">PackageSummary</a></code>
<code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code><a href="#topic+packageSum">packageSum</a></code>, which does essentially the
same thing but returns an object of class 
<code>packageSum</code>.  
<code><a href="#topic+findFn">findFn</a></code>
<code><a href="#topic+PackageSummary">PackageSummary</a></code>
<code><a href="#topic+installPackages">installPackages</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##
## data.frame method
##
Tstdf &lt;- data.frame(Package=c('grid', 'base'), 
            stringsAsFactors=FALSE)
Tst2 &lt;- PackageSum2(Tstdf)

##
## list method
##
TstList &lt;- list(PackageSummary=Tstdf)

all.equal(Tst2, PackageSum2(TstList))


##
## findFn method
##
Tst.findFn &lt;- data.frame(
    Package=c('grid', 'base')[c(1,1,2)], 
    Score=2:4, Date=LETTERS[1:3], stringsAsFactors=FALSE)
attr(Tst.findFn, 'PackageSummary') &lt;- PackageSummary(
    Tst.findFn)
class(Tst.findFn) &lt;- c('findFn', 'data.frame')
Tst2. &lt;- PackageSum2(Tst.findFn)


all.equal(Tst2, Tst2.[names(Tst2)])


</code></pre>

<hr>
<h2 id='PackageSummary'>Summarize findFn Results by Package</h2><span id='topic+PackageSummary'></span>

<h3>Description</h3>

<p>Returns a <code><a href="base.html#topic+data.frame">data.frame</a></code> with one row 
for each package and columns <code>Count</code> = number
of rows in the search results for that package,
<code>maxScore</code> and <code>totalScore</code> = max and
total score for help pages found from that 
package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PackageSummary(x, sortby=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PackageSummary_+3A_x">x</code></td>
<td>

<p>a <code>data.frame</code> with columns 
<code>Package</code>, <code>Score</code>, and <code>Date</code>.
</p>
</td></tr>
<tr><td><code id="PackageSummary_+3A_sortby">sortby</code></td>
<td>

<p>a character vector specifying how the 
<code>data.frame</code> returned should be sorted. 
Default = 
<code>c('Count', 'MaxScore', 'TotalScore', 'Package')</code>
to sort descending on numerics and ascending on
alphanumerics.  Specifying <code>sortby</code> = 
<code>c('c', 't', 'm')</code> is equivalent to 
<code>c('Count', 'TotalScore', 'MaxScore', 'Package')</code>.
</p>
<p>Components of <code>sortby</code> must match either 
this list or 
<code>c('Score', 'Function', 'Date', 'Description', 'Link')</code>.  
Any on this latter list are ignored without a
warning.  This allows the same <code>sortby</code> 
used for <code>findFn</code> to be used here.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  Convert <code>x['Package']</code> to character to
automatically drop any unused levels of a 
<code>factor</code>.  
</p>
<p>2.  Compute <code>Count, TotalScore, and MaxScore</code>. 
</p>
<p>3.  Find the first occurrence of each Package, and 
use that to convert the Link to the first help 
page to <code>pkgLink</code> = a link for the package. 
For example, the Link to 'html' for help('c') is 
<code>'http://finzi.psych.upenn.edu/R/library/base/html/c.html'</code>, 
and <code>pkgLink</code> to the 'html' overview for 
'base' is 
<code>'http://finzi.psych.upenn.edu/R/library/base/html/00Index.html'</code>.  
</p>
<p>4.  Assemble into a <code><a href="base.html#topic+data.frame">data.frame</a></code>, 
sort and return.  
</p>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> with one row for each
package and columns <code>Package</code>, <code>Count</code>,
<code>MaxScore</code>, <code>TotalScore</code>, <code>Date</code>, 
and <code>pkgLink</code>, sorted as specified by
<code>sortby</code>.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code>,
<code><a href="#topic+findFn">findFn</a></code>
<code><a href="#topic+PackageSum2">PackageSum2</a></code>, 
<code><a href="#topic+packageSum">packageSum</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tstdf &lt;- data.frame(Package=letters[c(1,1,2)], Score=2:4,
                    Date=LETTERS[1:3], stringsAsFactors=FALSE)
tstdf$Link &lt;- paste0('http://finzi.psych.upenn.edu/R/library/', 
    tstdf$Package, '/html/', letters[4:6], '.html')
    
tstSum &lt;- PackageSummary(tstdf)
# The answer:
tstSm &lt;- data.frame(Package=letters[1:2], Count=c(a=2, b=1),
    MaxScore=c(3, 4), TotalScore=c(5, 4), 
    Date=LETTERS[c(1, 3)], stringsAsFactors=FALSE)
tstSm$pkgLink &lt;- paste0('http://finzi.psych.upenn.edu/R/library/', 
    tstdf$Package[2:3], '/html/00Index.html')    
row.names(tstSm) &lt;- 1:2

all.equal(tstSum, tstSm)

</code></pre>

<hr>
<h2 id='print.findFn'>
print a findFn object
</h2><span id='topic+print.findFn'></span>

<h3>Description</h3>

<p>Print a <code>findFn</code> object to a file and pass 
it to a web browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'findFn'
print(x, where, title, 
  openBrowser = TRUE, template, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.findFn_+3A_x">x</code></td>
<td>

<p>An object of class <code>findFn</code>
</p>
</td></tr>
<tr><td><code id="print.findFn_+3A_where">where</code></td>
<td>

<p>a character vector interpreted as follows:
</p>
<p>If <code>length(where)==1</code>, it must be 
either 'HTML' or 'console' or the name of a 
column of <code>x</code> or the name of a file to 
hold the file created to be displayed in a web
browser.
</p>
<p>If <code>length(where)&gt;1</code>, it must be the names 
of columns of
<code>x</code> to be displayed on the console.  If 
<code>where</code> is a vector of names of columns of 
<code>x</code>, those columns will be printed to the 
console, and there will be no display in a web 
browser.  If <code>where</code> == 'console', the
following columns of <code>x</code> are displayed:  
<code>c('Count', 'Package', 'Function', 'Score', 'Date')</code>.
</p>
</td></tr>
<tr><td><code id="print.findFn_+3A_title">title</code></td>
<td>

<p>An optional title to give the HTML file. 
Default is to use the original query string.
</p>
</td></tr>
<tr><td><code id="print.findFn_+3A_openbrowser">openBrowser</code></td>
<td>

<p>logical; if <code>TRUE</code> and <code>where</code> is
missing or 'HTML', launch default browser after
building table
</p>
</td></tr>
<tr><td><code id="print.findFn_+3A_template">template</code></td>
<td>

<p>Template file used by <code>brew</code>
</p>
</td></tr>
<tr><td><code id="print.findFn_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The full path and name of the file created is
returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Sundar Dorai-Raj, Spencer Graves, Romain Francois,
Uwe Ligges
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>,
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code>,
<code><a href="utils.html#topic+browseURL">browseURL</a></code>
<code><a href="brew.html#topic+brew">brew</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>splineSearch &lt;- try(findFn("spline", maxPages = 2))

if(!inherits(splineSearch, 'try-error')){
if(!CRAN()){
  print(splineSearch, 'console')
  splineSearch # all columns in a browser
}
webScr &lt;- try(findFn('web scraping'))
if(!inherits(webScr, 'try-error')){
if(!CRAN()){
  print(webScr)
}
}
}
</code></pre>

<hr>
<h2 id='print.packageSum'>
print a packageSum object
</h2><span id='topic+print.packageSum'></span>

<h3>Description</h3>

<p>Print a <code>packageSum</code> object to a file and 
pass it to a web browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'packageSum'
print(x, where, title, 
    openBrowser = TRUE, template, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.packageSum_+3A_x">x</code></td>
<td>

<p>An object of class <code>packageSum</code>
</p>
</td></tr>
<tr><td><code id="print.packageSum_+3A_where">where</code></td>
<td>

<p>a character vector interpreted as follows:
</p>
<p>If <code>length(where)==1</code>, it must be either
'HTML' or 'console' or the name of a column of
<code>x</code> or the name of a file to hold the file
created to be displayed in a web browser.
</p>
<p>If <code>length(where)&gt;1</code>, it must be the names 
of columns of 
<code>x</code> to be displayed on the console.  If 
<code>where</code> is a vector of names of columns of 
<code>x</code>, those columns will be printed to the 
console, and there will be no display in a web
browser.
If <code>where</code> == 'console', the following
columns of
<code>x</code> are displayed:  
<code>c('Count', 'maxScore', 'totalScore', 'Package', 'Date')</code>.
</p>
</td></tr>
<tr><td><code id="print.packageSum_+3A_title">title</code></td>
<td>

<p>An optional title to give the HTML file. 
Default is to use the original query string.
</p>
</td></tr>
<tr><td><code id="print.packageSum_+3A_openbrowser">openBrowser</code></td>
<td>

<p>logical; if <code>TRUE</code> and <code>where</code> is 
missing or 'HTML', launch default browser 
after building table
</p>
</td></tr>
<tr><td><code id="print.packageSum_+3A_template">template</code></td>
<td>

<p>Template file used by <code>brew</code>
</p>
</td></tr>
<tr><td><code id="print.packageSum_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The full path and name of the file created is
returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code><a href="#topic+print.findFn">print.findFn</a></code>
<code><a href="#topic+packageSum">packageSum</a></code>
<code><a href="#topic+findFn">findFn</a></code>,
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code>,
<code><a href="utils.html#topic+browseURL">browseURL</a></code>
<code><a href="brew.html#topic+brew">brew</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>splineHelp &lt;- try(findFn("spline", maxPages = 2))

if(!inherits(splineHelp, 'try-error')){
splinePkgs &lt;- packageSum(splineHelp)
if(!CRAN()){
  print(splinePkgs, 'console')
  splinePkgs # all columns in a browser

  des1 &lt;- try(findFn('differential equations', 1))
  de1 &lt;- try(findFn('differential equation', 1))
# each retrieves 1 page of 20 hits
# but not the same 20

  if(!(inherits(des1, 'try-error') ||
       inherits(de1, 'try-error'))){
  de.s &lt;- unionFindFn(des1, de1)
  de.s
# Other example:  
  webScr &lt;- try(findFn('web scraping'))
  if(!inherits(webScr, 'try-error')){
  pS &lt;- packageSum(webScr)
  print(pS)
}
}
}
}
</code></pre>

<hr>
<h2 id='sortFindFn'>Sort a findFn Object</h2><span id='topic+sortFindFn'></span>

<h3>Description</h3>

<p>Sort a <code><a href="base.html#topic+data.frame">data.frame</a></code> as a 
<code><a href="#topic+findFn">findFn</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sortFindFn(x, sortby=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sortFindFn_+3A_x">x</code></td>
<td>

<p>a <code>data.frame</code> to sort and convert to an
object of class <code><a href="#topic+findFn">findFn</a></code> (if it 
does not already have this class).
</p>
</td></tr>
<tr><td><code id="sortFindFn_+3A_sortby">sortby</code></td>
<td>

<p>sort information as for function 
<code>findFn</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  <code>pkgSum &lt;- PackageSummary(x, sortby)</code>
</p>
<p>2.  Order <code>x</code> as required for <code>findFn</code>
</p>
<p>3.  class = <code>c("findFn", "data.frame")</code>
</p>


<h3>Value</h3>

<p>An object of class 
<code>c('findFn', 'data.frame')</code> with a
<code>"PackageSummary"</code> attribute.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>
<code><a href="base.html#topic+sort">sort</a></code>
<code><a href="base.html#topic+order">order</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tstdf &lt;- data.frame(Package=letters[c(1,1,2)],
                    Function=c('a1', 'a2', 'b3'), Score=2:4,
                    Date=11:13, Description=c('D1', 'D2', 'D3'),
                    Link=c('L1', 'L2', 'L3'), stringsAsFactors=FALSE)
rss &lt;- sortFindFn(tstdf)
</code></pre>

<hr>
<h2 id='summary.findFn'>Summary Method for findFn</h2><span id='topic+summary.findFn'></span><span id='topic+print.summary.findFn'></span>

<h3>Description</h3>

<p>Summary Method for objects of class 
<code><a href="#topic+findFn">findFn</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'findFn'
summary(object, minPackages = 12,
                         minCount = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.findFn_+3A_object">object</code></td>
<td>
<p>An object of class <code>findFn</code></p>
</td></tr>
<tr><td><code id="summary.findFn_+3A_minpackages">minPackages</code></td>
<td>

<p>the minimum number of packages to include in the
summary.  Other packages with the same count 
will also appear in the summary, but packages
with a smaller count will not.
</p>
<p>The number of packages displayed will be less 
than <code>minPackages</code> only when there are 
fewer than that number of packages containing 
the search term in its help pages.
</p>
</td></tr>
<tr><td><code id="summary.findFn_+3A_mincount">minCount</code></td>
<td>

<p>the minimum count for a package to display.  
<code>minCount</code> = 1 displays all packages.  
The default is the minimum of the input
<code>minCount</code> and the count for
package number <code>minPackages</code>.
</p>
</td></tr>
<tr><td><code id="summary.findFn_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Return an object of class 
<code>c('summary.findFn', 'list')</code> with 
summary information on only packages satisfying 
the <code>minPackages</code> and <code>minCount</code> 
criteria.  The <code>minPackages</code> and
<code>minCount</code> components of the summary 
output list will be adjusted as necessary to 
match characteristics of <code>object</code>.  The 
<code>print</code> method for a <code>summary.findFn</code>
object will display the <code>minCount</code>, but
<code>minPackages</code> will be a component of the
returned object without being printed.
</p>


<h3>Value</h3>

<p>An object of class 
<code>c('summary.findFn', 'list')</code> with the 
following elements:
</p>
<table>
<tr><td><code>PackageSummary</code></td>
<td>

<p>a data.frame with one row for each package and
columns <code>Package</code>, <code>Count</code>, 
<code>MaxScore</code>, <code>TotalScore</code>, <code>Date</code>,
and <code>pgLink</code>. This summary is sorted per 
the <code>sortby</code> argument in the call to
<code>findFn</code>.
</p>
</td></tr>
<tr><td><code>minPackages</code>, <code>minCount</code></td>
<td>

<p>the <code>minPackages</code> and <code>minCount</code>
arguments in this call to 
<code>summary.findFn</code>.
</p>
</td></tr>
<tr><td><code>matches</code></td>
<td>

<p>the total number of matches returned by
<code>findFn</code>.  This is an attribute of a
<code>findFn</code> object;  the number of rows of
<code>object</code> will either be <code>matches</code> or
<code>maxPages*matchesPerPage</code>, whichever is
smaller.
</p>
</td></tr>
<tr><td><code>nrow</code></td>
<td>

<p>the number of matches in this <code>findFn</code> 
object
</p>
</td></tr>
<tr><td><code>nPackages</code></td>
<td>

<p>the number of packages in this <code>findFn</code>
object
</p>
</td></tr>
<tr><td><code>call</code></td>
<td>

<p>the matched call to <code>findFn</code>.
</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Spencer Graves
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>,
<code><a href="utils.html#topic+RSiteSearch">RSiteSearch</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  z &lt;- try(findFn("spline", maxPages = 2))
  if(!inherits(z, 'try-error'))summary(z, 2)
</code></pre>

<hr>
<h2 id='unionFindFn'>
Combine findFn Objects
</h2><span id='topic+unionFindFn'></span><span id='topic+intersectFindFn'></span><span id='topic+Ops.findFn'></span>

<h3>Description</h3>

<p>Combines to <code><a href="#topic+findFn">findFn</a></code> objects into a 
new <code>findFn</code> object with only one row for 
any help page duplicated between the two. 
<code>unionFindFn</code> removes duplicate entries.
<code>intersectFindFn</code> keeps only the 
duplicates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unionFindFn(e1, e2, sortby=NULL)
intersectFindFn(e1, e2, sortby=NULL)

## S3 method for class 'findFn'
Ops(e1,e2)
# This supports "|" for "unionFindFn"
# and "&amp;" for "intersectFindFn".
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unionFindFn_+3A_e1">e1</code>, <code id="unionFindFn_+3A_e2">e2</code></td>
<td>

<p>objects of class <code>findFn</code>.
</p>
</td></tr>
<tr><td><code id="unionFindFn_+3A_sortby">sortby</code></td>
<td>

<p>Optional <code>sortby</code> argument used by
<code>sortFindFn</code> and <code>findFn</code>.  Default 
is the <code>sortby</code> argument in 
<code>attr(e1, 'call')</code>.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>1.  <code>e12 &lt;- rbind(e1, e2)</code>
</p>
<p>2.  For any (<code>Package</code>, <code>Function</code>)
appearing in both <code>e1</code> and <code>e2</code>, the 
row with the largest <code>Score</code> is retained 
and the other is deleted.
</p>
<p>3.  Apply <code>sortFindFn</code> to the rebuild the
summary and sort the result as desired.
</p>
<p>4.  <code>attr(e12, 'matches')</code> &lt;- 
<code>c(attr(e1, 'matches'), attr(e2,
  'matches'))</code>
</p>


<h3>Value</h3>

<p>an object with class 
<code>c('findFn', 'data.frame')</code> as returned 
by <code>sortFindFn</code> and <code>findFn</code>.
</p>


<h3>Note</h3>

<p>Binary operators &lsquo;<span class="samp">&#8288;&amp;&#8288;</span>&rsquo; and &lsquo;<span class="samp">&#8288;|&#8288;</span>&rsquo; are
implemented for the S3 class &lsquo;<span class="samp">&#8288;findFn&#8288;</span>&rsquo;
</p>


<h3>Author(s)</h3>

<p>Spencer Graves and Romain Francois
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>
<code><a href="#topic+sortFindFn">sortFindFn</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>des1 &lt;- findFn('differential equations', 1)
de1 &lt;- findFn('differential equation', 1)
# each retrieves 1 page of 20 hits
# but not the same 20

de.s &lt;- unionFindFn(des1, de1)
# combines the two, eliminating duplicates.

# or the sorter version:
de.s. &lt;- des1 | de1

all.equal(de.s, de.s.)




# Keep only the common entries.
de2 &lt;- intersectFindFn(des1, de1)
de2. &lt;- des1 &amp; de1

all.equal(de2, de2.)


# summary and print still work with the combined object.
summary(de.s)
if(!CRAN()){
  de.s
}

summary(de2)
if(!CRAN()){
  de2
}


</code></pre>

<hr>
<h2 id='writeFindFn2xls'>
Write a findFn object to an Excel file
</h2><span id='topic+writeFindFn2xls'></span><span id='topic+findFn2xls'></span>

<h3>Description</h3>

<p>Write a <code><a href="#topic+findFn">findFn</a></code> object to an Excel 
file with sheets for <code><a href="#topic+PackageSum2">PackageSum2</a></code>, 
the <code>findFn</code> table, and the <code>call</code>
attribute of the <code>findFn</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>writeFindFn2xls(x,
       file.=paste(deparse(substitute(x)), 'xls', 
       sep='.'), csv, ...)
findFn2xls(x,
       file.=paste(deparse(substitute(x)), 'xls', 
       sep='.'), csv, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="writeFindFn2xls_+3A_x">x</code></td>
<td>

<p>An object of class <code>findFn</code>
</p>
</td></tr>
<tr><td><code id="writeFindFn2xls_+3A_file.">file.</code></td>
<td>

<p>Name of Excel file to create.  If a file of this
name already exists, it will be overwritten.
</p>
</td></tr>
<tr><td><code id="writeFindFn2xls_+3A_csv">csv</code></td>
<td>

<p>logical:  if <code>TRUE</code>, write three 
<code>*.csv</code> files rather than one <code>*.xls</code>
file.  Default is <code>FALSE</code> if software is
available to write a <code>*.xls</code> file and 
<code>TRUE</code> otherwise.
</p>
</td></tr>
<tr><td><code id="writeFindFn2xls_+3A_...">...</code></td>
<td>

<p>optional arguments to <code>write.csv</code> used if
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>findFn2xls</code> is an alias for
<code>writeFindFn2xls</code>;  both
functions do the same thing.
</p>


<h3>Value</h3>

<p>The name of the file created is returned invisibly.
</p>


<h3>Author(s)</h3>

<p>Spencer Graves with help from Dirk Eddelbuettel,
Gabor Grothendiek, and Marc Schwartz.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findFn">findFn</a></code>,
<code><a href="RODBC.html#topic+odbcConnect">odbcConnect</a></code>,
<code><a href="RODBC.html#topic+sqlSave">sqlSave</a></code>,
<code><a href="RODBC.html#topic+odbcClose">odbcClose</a></code>
<code><a href="WriteXLS.html#topic+WriteXLS">WriteXLS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>splineSearch &lt;- try(findFn("spline", maxPages = 1))
if(!inherits(splineSearch, 'try-error')){
  writeFindFn2xls(splineSearch)

  findFn2xls(splineSearch, csv=TRUE)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package rim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rim-package'><p>rim</p></a></li>
<li><a href='#maxima.engine'><p><code>knitr</code> maxima engine</p></a></li>
<li><a href='#maxima.options'><p>maxima.options</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface to 'Maxima', Enabling Symbolic Computation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.7.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-10-8</td>
</tr>
<tr>
<td>Description:</td>
<td>An interface to the powerful and fairly complete computer algebra system 'Maxima'.
    It can be used to start and control 'Maxima' from within R by entering 'Maxima' commands. 
    Results from 'Maxima' can be parsed and evaluated in R. 
    It facilitates outputting results from 'Maxima' in 'LaTeX' and 'MathML'. 
    2D and 3D plots can be displayed directly. 
    This package also registers a 'knitr'-engine enabling 'Maxima' code chunks 
    to be written in 'RMarkdown' documents.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rcst.github.io/rim/">https://rcst.github.io/rim/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rcst/rim/issues">https://github.com/rcst/rim/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Maxima (https://sourceforge.net/projects/maxima/,
tested with versions 5.42.0 - 5.46.0), needs to be on PATH</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, Rcpp, R6, knitr, GlobalOptions</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), rmarkdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-18 08:12:25 UTC; eric</td>
</tr>
<tr>
<td>Author:</td>
<td>Eric Stemmler [aut, cre],
  Kseniia Shumelchyk [aut],
  Hans W. Borchers [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Eric Stemmler &lt;stemmler.eric@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-18 10:50:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='rim-package'>rim</h2><span id='topic+rim'></span><span id='topic+rim-package'></span><span id='topic+maxima.start'></span><span id='topic+maxima.stop'></span><span id='topic+maxima.get'></span><span id='topic+maxima.load'></span><span id='topic+maxima.apropos'></span><span id='topic+maxima.version'></span><span id='topic+maxima.isInstalled'></span><span id='topic+iprint'></span><span id='topic+print.maxima'></span><span id='topic+maxima.eval'></span>

<h3>Description</h3>

<p>Provides an interface to Maxima, a computer algebra system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxima.start(restart = FALSE)

maxima.stop(engine = FALSE)

maxima.get(command)

maxima.load(module)

maxima.apropos(keystring)

maxima.version()

maxima.isInstalled()

iprint(x)

## S3 method for class 'maxima'
print(x, ...)

maxima.eval(x, code = FALSE, envir = globalenv())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rim-package_+3A_restart">restart</code></td>
<td>
<p>if FALSE (default), then Maxima is started provided it is not running already. If TRUE starts or restarts Maxima.</p>
</td></tr>
<tr><td><code id="rim-package_+3A_engine">engine</code></td>
<td>
<p>if FALSE (default), quits the (running) maxima instance and closes the connection, otherwise quits and closes the (running) maxima instance used for the knitr engine.</p>
</td></tr>
<tr><td><code id="rim-package_+3A_command">command</code></td>
<td>
<p>character string containing the Maxima command.</p>
</td></tr>
<tr><td><code id="rim-package_+3A_module">module</code></td>
<td>
<p>character vector naming the Maxima module (typically a *.mac or *.lisp file) to be loaded.</p>
</td></tr>
<tr><td><code id="rim-package_+3A_keystring">keystring</code></td>
<td>
<p>character vector containing a search term.</p>
</td></tr>
<tr><td><code id="rim-package_+3A_x">x</code></td>
<td>
<p>Either a character vector of length 1L or an S3 object of class &quot;maxima&quot;</p>
</td></tr>
<tr><td><code id="rim-package_+3A_...">...</code></td>
<td>
<p>other arguments (ignored).</p>
</td></tr>
<tr><td><code id="rim-package_+3A_code">code</code></td>
<td>
<p>A logical vector of length 1L, whether to attach the original expression (TRUE) or not (FALSE, default)</p>
</td></tr>
<tr><td><code id="rim-package_+3A_envir">envir</code></td>
<td>
<p>A environment object. <code>globalenv()</code> (default), is passed to eval().</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: You need to install the Maxima software separately in order to make use of this package. 
</p>
<p>Maxima is set up automatically on attachment via <code>library(rim)</code> and automatically started when a command is send (if it isn't running already) using <code><a href="#topic+maxima.get">maxima.get</a>()</code>. If environment variable RIM_MAXIMA_PATH is not set, rim will search for the Maxima executable, or use the former otherwise. Using <code><a href="#topic+maxima.start">maxima.start</a>()</code> and <code><a href="#topic+maxima.stop">maxima.stop</a>()</code>, one can stop and (re-)start the current Maxima session if needed, e.g. to clear Maxima command and output history.
</p>
<p>To send a single command to Maxima and receive the corresponding output use <code><a href="#topic+maxima.get">maxima.get</a>()</code>. This function returns a S3 object of class &quot;maxima&quot;. The output is printed by printing the object and will be printed in a format currently set by <code><a href="#topic+maxima.options">maxima.options</a>(format)</code>. The output format can be changed by setting it, e.g. <code><a href="#topic+maxima.options">maxima.options</a>(format = "ascii")</code>. Output labels are printed according to option <code><a href="#topic+maxima.options">maxima.options</a>(label)</code>.
</p>


<h3>Value</h3>

<p>invisibly returns NULL.
</p>
<p>Character vector of length 1 of the input command. Depending on whether option &quot;label&quot; is set to TRUE, the corresponding input reference label is printed preceding the input command.
</p>
<p>The evaluated R-object
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>maxima.start()</code>: (re-)starts Maxima.
</p>
</li>
<li> <p><code>maxima.stop()</code>: Quits Maxima.
</p>
</li>
<li> <p><code>maxima.get()</code>: Executes a single Maxima command provided by <code>command</code>. If no command ending character (<code>;</code> or <code>$</code> is provided, <code>;</code> is appended.
</p>
</li>
<li> <p><code>maxima.load()</code>: A wrapper to load a Maxima module named by <code>module</code>
</p>
</li>
<li> <p><code>maxima.apropos()</code>: A wrapper to the Maxima helper function <code>apropos</code> to lookup existing Maxima functions that match <code>keystring</code>.
</p>
</li>
<li> <p><code>maxima.version()</code>: Returns the version number of Maxima that is used
</p>
</li>
<li> <p><code>maxima.isInstalled()</code>: Returns TRUE when an installation of Maxima has been detected, otherwise FALSE
</p>
</li>
<li> <p><code>iprint()</code>: Prints the input command of an maxima S3-object returned by <code><a href="#topic+maxima.get">maxima.get</a>()</code>
</p>
</li>
<li> <p><code>print(maxima)</code>: Prints the maxima output part of an S3 object returned by <code><a href="#topic+maxima.get">maxima.get</a>()</code>
</p>
</li>
<li> <p><code>maxima.eval()</code>: Evaluates the parsed and quoted R-expression which is part of an S3 object returned by <code><a href="#topic+maxima.get">maxima.get</a>()</code>
</p>
</li></ul>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Eric Stemmler <a href="mailto:stemmler.eric@gmail.com">stemmler.eric@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Kseniia Shumelchyk <a href="mailto:shumelchyk@gmail.com">shumelchyk@gmail.com</a>
</p>
</li>
<li><p> Hans W. Borchers <a href="mailto:hwborchers@googlemail.com">hwborchers@googlemail.com</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rcst.github.io/rim/">https://rcst.github.io/rim/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rcst/rim/issues">https://github.com/rcst/rim/issues</a>
</p>
</li></ul>

<p><code><a href="#topic+maxima.engine">maxima.engine</a></code>, <code><a href="#topic+maxima.options">maxima.options</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(maxima.isInstalled()) maxima.start(restart = TRUE)
if(maxima.isInstalled()) {
  maxima.start(restart = TRUE)
  maxima.stop()
}
if(maxima.isInstalled()) maxima.get("2+2;")
if(maxima.isInstalled()) maxima.load("abs_integrate")
if(maxima.isInstalled()) maxima.apropos("integrate")
maxima.version()
maxima.isInstalled()
if(maxima.isInstalled()) {
  a &lt;- maxima.get("2+2;")
  iprint(a)
}
if(maxima.isInstalled()) {
  a &lt;- maxima.get("2+2;")
  print(a)
}
if(maxima.isInstalled()) {
  a &lt;- maxima.get("2+2;")
  maxima.eval(a)
  # same
  maxima.eval("2+2;")
  # evaluate with data.frame
  df &lt;- data.frame(x = seq(0, 1, by = 0.1))
  maxima.eval("integrate(1 / (1 + x^4), x);", code = TRUE, envir = df)
  maxima.stop()
}
</code></pre>

<hr>
<h2 id='maxima.engine'><code>knitr</code> maxima engine</h2><span id='topic+maxima.engine'></span><span id='topic+maxima.inline'></span>

<h3>Description</h3>

<p>Functions to process Maxima code chunks by <code>knitr</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxima.engine(options)

maxima.inline(command)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxima.engine_+3A_options">options</code></td>
<td>
<p>named <code>list</code> of <code>knitr</code> options. Supported options are <code>echo</code>, <code>eval</code>, <code>include</code> and <code>output.var</code>. To change the output format of the Maxima engine set the option <code>maxima.options(engine.format)</code> to either <code>"linear"</code> (default), <code>"ascii"</code>, <code>"latex"</code> or <code>"mathml"</code>.</p>
</td></tr>
<tr><td><code id="maxima.engine_+3A_command">command</code></td>
<td>
<p>character string containing the Maxima command to be executed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Upon attachment, i.e. <code>library(rim)</code> function <code>maxima.engine</code> is registered as a <code>knitr</code> engine. Thus, <code>maxima.engine()</code> is called by <code>knit()</code> to evaluate Maxima code chunks. When called upon the first code chunk of a document it starts Maxima in a separate process in server mode. This means that a single Maxima session is used for all Maxima code chunks of an <code>RMarkdown</code> document. Inputs and outputs can thus be used across chunks (e.g. by using Maxima reference labels). <code>maxima.options(engine.format = ..., engine.label = ...)</code> configures the output format and whether or not output reference labels should be printed.
</p>
<p>The purpose of <code>maxima.inline</code> is to insert Maxima results as inline text, i.e. on the same line of the preceding text, if it is actually written on the same line of the <code>RMarkdown</code> file. It uses the same running Maxima process as <code>maxima.engine</code>. The output format for inline results can be configured separately from the settings of <code>maxima.engine</code>, i.e. <code>maxima.options(inline.format = ..., inline.label = ...)</code>.
</p>


<h3>Value</h3>

<p>This functions prints the resulting output from maxima together with it's cod
</p>
<p>character string containing the maxima result printed according options set by <code>maxima.options(inline.format = ..., inline.label = ...)</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>maxima.inline()</code>: This function can be used to insert maxima outputs as inline.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>if (maxima.isInstalled()) {
  maxima.inline("2+2;")
  maxima.stop(engine = TRUE)
}
</code></pre>

<hr>
<h2 id='maxima.options'>maxima.options</h2><span id='topic+maxima.options'></span>

<h3>Description</h3>

<p>Function for globally setting and retrieving options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maxima.options(
  ...,
  RESET = FALSE,
  READ.ONLY = NULL,
  LOCAL = FALSE,
  ADD = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="maxima.options_+3A_...">...</code></td>
<td>
<p>options to be accessed by using <code>name = value</code>. Options can be added by setting <code>ADD = TRUE</code>, but only those mentioned below will be used my rim.</p>
</td></tr>
<tr><td><code id="maxima.options_+3A_reset">RESET</code></td>
<td>
<p>logical of length 1, whether to reset all options to default values.</p>
</td></tr>
<tr><td><code id="maxima.options_+3A_read.only">READ.ONLY</code></td>
<td>
<p>logical of length 1, can be used to output all options that are read-only.</p>
</td></tr>
<tr><td><code id="maxima.options_+3A_local">LOCAL</code></td>
<td>
<p>logical of length 1, to output all options that are defined locally.</p>
</td></tr>
<tr><td><code id="maxima.options_+3A_add">ADD</code></td>
<td>
<p>logical of length 1, whether to add the specified option in <code>...</code> (TRUE), default is FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt><code>format</code>: </dt><dd><p>character vector of length 1 setting the output format for <code>maxima.get()</code>. Can be one of <code>"linear",</code> <code>"ascii",</code> <code>"latex"</code> or <code>"mathml"</code>.</p>
</dd>
<dt><code>engine.format</code>: </dt><dd><p>same as option <code>format</code>, but for outputs in <code>RMarkdown</code> documents.</p>
</dd>
<dt><code>inline.format</code>: </dt><dd><p>character string setting the output format for <code>maxima.inline()</code>, for knitting outputs inline into <code>RMarkdown</code> documents. Can be one of <code>"linear"</code>, <code>"latex"</code> or <code>"mathml"</code>, but <em>not</em> <code>"ascii"</code>.</p>
</dd>
<dt><code>label</code>: </dt><dd><p>logical of length 1, whether reference labels should be printed for returned S3 objects from <code><a href="#topic+maxima.get">maxima.get</a>()</code> (TRUE, default), or not (FALSE). This also applies to printing of input commands using <code><a href="#topic+iprint">iprint</a>()</code>.</p>
</dd>
<dt><code>engine.label</code>: </dt><dd><p>same as <code>label</code>, but for outputs in <code>RMarkdown</code> documents.</p>
</dd>
<dt><code>inline.label</code>: </dt><dd><p>same as <code>label</code>, but for inline outputs in <code>RMarkdown</code> documents.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>maxima.options(format = "latex")
maxima.options(label = FALSE)
maxima.options(label = TRUE, format = "ascii")
# reset to default
maxima.options(label = TRUE, format = "linear")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

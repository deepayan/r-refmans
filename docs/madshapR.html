<!DOCTYPE html><html><head><title>Help for package madshapR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {madshapR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#madshapR-package'><p>madshapR: Support Technical Processes Following 'Maelstrom Research' Standards</p></a></li>
<li><a href='#as_category'><p>Validate and coerce any object as a categorical variable.</p></a></li>
<li><a href='#as_data_dict'><p>Validate and coerce any object as a data dictionary</p></a></li>
<li><a href='#as_data_dict_mlstr'><p>Validate and coerce any object as an Opal data dictionary format</p></a></li>
<li><a href='#as_data_dict_shape'><p>Validate and coerce any object as a workable data dictionary structure</p></a></li>
<li><a href='#as_dataset'><p>Validate and coerce any object as a dataset</p></a></li>
<li><a href='#as_dossier'><p>Validate and coerce any object as a dossier (list of dataset(s))</p></a></li>
<li><a href='#as_taxonomy'><p>Validate and coerce any object as a taxonomy</p></a></li>
<li><a href='#as_valueType'><p>Validate and coerce any object according to a given valueType</p></a></li>
<li><a href='#bookdown_open'><p>Objects exported from other packages</p></a></li>
<li><a href='#bookdown_render'><p>Objects exported from other packages</p></a></li>
<li><a href='#bookdown_template'><p>Objects exported from other packages</p></a></li>
<li><a href='#check_data_dict_categories'><p>Assess a data dictionary for potential issues in categories</p></a></li>
<li><a href='#check_data_dict_missing_categories'><p>Assess categorical variables for non-Boolean values in 'missing' column</p></a></li>
<li><a href='#check_data_dict_valueType'><p>Assess a data dictionary for non-valid valueType values</p></a></li>
<li><a href='#check_data_dict_variables'><p>Assess a data dictionary for potential issues in variables</p></a></li>
<li><a href='#check_dataset_categories'><p>Assess a data dictionary and associated dataset for category differences</p></a></li>
<li><a href='#check_dataset_valueType'><p>Assess a data dictionary and associated dataset for valueType differences</p></a></li>
<li><a href='#check_dataset_variables'><p>Assess a data dictionary and associated dataset for undeclared variables</p></a></li>
<li><a href='#check_name_standards'><p>Assess variable names in a data dictionary for non-standard formats</p></a></li>
<li><a href='#col_id'><p>Return the id column names(s) of a dataset</p></a></li>
<li><a href='#data_dict_apply'><p>Apply a data dictionary to a dataset</p></a></li>
<li><a href='#data_dict_collapse'><p>Transform multi-row category column(s) to single rows and join to &quot;Variables&quot;</p></a></li>
<li><a href='#data_dict_evaluate'><p>Generate an assessment report for a data dictionary</p></a></li>
<li><a href='#data_dict_expand'><p>Transform single-row category information to multiple rows as element</p></a></li>
<li><a href='#data_dict_extract'><p>Generate a data dictionary from a dataset</p></a></li>
<li><a href='#data_dict_filter'><p>Subset data dictionary by row values</p></a></li>
<li><a href='#data_dict_group_by'><p>Group listed data dictionaries by specified column names</p></a></li>
<li><a href='#data_dict_group_split'><p>Split grouped data dictionaries into a named list</p></a></li>
<li><a href='#data_dict_list_nest'><p>Bind listed data dictionaries</p></a></li>
<li><a href='#data_dict_match_dataset'><p>Inner join between a dataset and its associated data dictionary</p></a></li>
<li><a href='#data_dict_pivot_longer'><p>Transform column(s) of a data dictionary from wide format to long format</p></a></li>
<li><a href='#data_dict_pivot_wider'><p>Transform column(s) of a data dictionary from long format to wide format</p></a></li>
<li><a href='#data_dict_ungroup'><p>Ungroup data dictionary</p></a></li>
<li><a href='#data_extract'><p>Create an empty dataset from a data dictionary</p></a></li>
<li><a href='#dataset_cat_as_labels'><p>Apply data dictionary category labels to the associated dataset variables</p></a></li>
<li><a href='#dataset_evaluate'><p>Generate an assessment report for a dataset</p></a></li>
<li><a href='#dataset_preprocess'><p>Generate an evaluation of all variable values in a dataset</p></a></li>
<li><a href='#dataset_summarize'><p>Generate an assessment report and summary of a dataset</p></a></li>
<li><a href='#dataset_visualize'><p>Generate a web-based visual report for a dataset</p></a></li>
<li><a href='#dataset_zap_data_dict'><p>Remove labels (attributes) from a data frame, leaving its unlabelled columns</p></a></li>
<li><a href='#deprecated'><p>Deprecated functions</p></a></li>
<li><a href='#dossier_create'><p>Generate a dossier from a list of one or more datasets</p></a></li>
<li><a href='#dossier_evaluate'><p>Generate an assessment report of a dossier</p></a></li>
<li><a href='#dossier_summarize'><p>Generate an assessment report and summary of a dossier</p></a></li>
<li><a href='#drop_category'><p>Validate and coerce any object as a non-categorical variable.</p></a></li>
<li><a href='#is_category'><p>Test if an object is a valid dataset</p></a></li>
<li><a href='#is_data_dict'><p>Test if an object is a valid data dictionary</p></a></li>
<li><a href='#is_data_dict_mlstr'><p>Test if an object is a valid Maelstrom data dictionary</p></a></li>
<li><a href='#is_data_dict_shape'><p>Test if an object is a workable data dictionary structure</p></a></li>
<li><a href='#is_dataset'><p>Test if an object is a valid dataset</p></a></li>
<li><a href='#is_dossier'><p>Test if an object is a valid dossier (list of dataset(s))</p></a></li>
<li><a href='#is_taxonomy'><p>Test if an object is a valid taxonomy</p></a></li>
<li><a href='#is_valueType'><p>Test if a character object is one of the valid valueType values</p></a></li>
<li><a href='#madshapR_DEMO'><p>Built-in material allowing the user to test the package with demo data</p></a></li>
<li><a href='#madshapR_help'><p>Call to online documentation</p></a></li>
<li><a href='#summary_variables'><p>Provide descriptive statistics for variables in a dataset</p></a></li>
<li><a href='#summary_variables_categorical'><p>Provide descriptive statistics for variables of categorical in a dataset</p></a></li>
<li><a href='#summary_variables_date'><p>Provide descriptive statistics for variables of type 'date' in a dataset</p></a></li>
<li><a href='#summary_variables_datetime'><p>Provide descriptive statistics for variables of type 'datetime' in a dataset</p></a></li>
<li><a href='#summary_variables_numeric'><p>Provide descriptive statistics for variables of type 'numeric' in a dataset</p></a></li>
<li><a href='#summary_variables_text'><p>Provide descriptive statistics for variables of type 'text' in a dataset</p></a></li>
<li><a href='#valueType_adjust'><p>Attribute the valueType from a data dictionary to a dataset, or vice versa</p></a></li>
<li><a href='#valueType_guess'><p>Guess the first possible valueType of an object (Can be a vector)</p></a></li>
<li><a href='#valueType_list'><p>Built-in data frame of allowed valueType values</p></a></li>
<li><a href='#valueType_of'><p>Return the valueType of an object</p></a></li>
<li><a href='#valueType_self_adjust'><p>Guess and attribute the valueType of a data dictionary or dataset variable</p></a></li>
<li><a href='#variable_visualize'><p>Generate a list of charts, figures and summary tables of a variable</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Support Technical Processes Following 'Maelstrom Research'
Standards</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to support rigorous processes in data cleaning, 
     evaluation, and documentation across datasets from different studies based 
     on Maelstrom Research guidelines. The package includes the core functions 
     to evaluate and format the main inputs that define the process, diagnose 
     errors, and summarize and evaluate datasets and their associated 
     data dictionaries. The main outputs are clean datasets and associated 
     metadata, and tabular and visual summary reports. As described in 
     Maelstrom Research guidelines for rigorous retrospective data 
     harmonization (Fortier I and al. (2017) &lt;<a href="https://doi.org/10.1093%2Fije%2Fdyw075">doi:10.1093/ije/dyw075</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.1.0), rlang, stringr, crayon, ggplot2, tidytext,
grDevices, graphics, lubridate, janitor, forcats, knitr, haven,
bookdown, stats, DT, readr, tidyr, fs, utils, fabR (&ge; 2.0.0),
lifecycle</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/maelstrom-research/madshapR">https://github.com/maelstrom-research/madshapR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/maelstrom-research/madshapR/issues">https://github.com/maelstrom-research/madshapR/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-12-19 18:35:00 UTC; guill</td>
</tr>
<tr>
<td>Author:</td>
<td>Guillaume Fabre <a href="https://orcid.org/0000-0002-0124-9970"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Maelstrom-research group [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Guillaume Fabre &lt;guijoseph.fabre@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-12-19 19:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='madshapR-package'>madshapR: Support Technical Processes Following 'Maelstrom Research' Standards</h2><span id='topic+madshapR'></span><span id='topic+madshapR-package'></span>

<h3>Description</h3>

<p>Functions to support rigorous processes in data cleaning, evaluation, and documentation across datasets from different studies based on Maelstrom Research guidelines. The package includes the core functions to evaluate and format the main inputs that define the process, diagnose errors, and summarize and evaluate datasets and their associated data dictionaries. The main outputs are clean datasets and associated metadata, and tabular and visual summary reports. As described in Maelstrom Research guidelines for rigorous retrospective data harmonization (Fortier I and al. (2017) <a href="https://doi.org/10.1093/ije/dyw075">doi:10.1093/ije/dyw075</a>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Guillaume Fabre <a href="mailto:guijoseph.fabre@gmail.com">guijoseph.fabre@gmail.com</a> (<a href="https://orcid.org/0000-0002-0124-9970">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Maelstrom-research group [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/maelstrom-research/madshapR">https://github.com/maelstrom-research/madshapR</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/maelstrom-research/madshapR/issues">https://github.com/maelstrom-research/madshapR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_category'>Validate and coerce any object as a categorical variable.</h2><span id='topic+as_category'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Converts a vector object to a categorical object, typically a column in a
data frame. The categories come from non-missing values present in the
object and are added to an associated data dictionary (when present).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_category(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_category_+3A_x">x</code></td>
<td>
<p>A vector object to be coerced to categorical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector with class haven_labelled.
</p>


<h3>See Also</h3>

<p><code><a href="haven.html#topic+labelled">haven::labelled()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

library(dplyr)
mtcars &lt;- tibble(mtcars)
as_category(mtcars[['cyl']])

head(mtcars %&gt;% mutate(cyl = as_category(cyl)))


}

</code></pre>

<hr>
<h2 id='as_data_dict'>Validate and coerce any object as a data dictionary</h2><span id='topic+as_data_dict'></span>

<h3>Description</h3>

<p>Checks if an object is a valid data dictionary and returns it with the
appropriate <code>madshapR::class</code> attribute. This function mainly helps validate
inputs within other functions of the package but could be used to check if
an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_data_dict(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_data_dict_+3A_object">object</code></td>
<td>
<p>A potential data dictionary object to be coerced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) with <code>madshapR::class</code> 'data_dict'.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+data_dict_evaluate">data_dict_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_PARIS
as_data_dict(data_dict)

}

</code></pre>

<hr>
<h2 id='as_data_dict_mlstr'>Validate and coerce any object as an Opal data dictionary format</h2><span id='topic+as_data_dict_mlstr'></span>

<h3>Description</h3>

<p>Validates the input object as a valid data dictionary compliant with formats
used in Maelstrom Research ecosystem, including Opal, and returns it with
the appropriate <code>madshapR::class</code> attribute. This function mainly helps
validate input within other functions of the package but could be used to
check if an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_data_dict_mlstr(object, as_data_dict = FALSE, name_standard = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_data_dict_mlstr_+3A_object">object</code></td>
<td>
<p>A potential valid data dictionary to be coerced.</p>
</td></tr>
<tr><td><code id="as_data_dict_mlstr_+3A_as_data_dict">as_data_dict</code></td>
<td>
<p>Whether the input data dictionary should not be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. FALSE by default.</p>
</td></tr>
<tr><td><code id="as_data_dict_mlstr_+3A_name_standard">name_standard</code></td>
<td>
<p>Whether the input data dictionary has variable names
compatible with Maelstrom Research ecosystem, including Opal)or not.
FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) with <code>madshapR::class</code> 'data_dict_mlstr'.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+data_dict_evaluate">data_dict_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
as_data_dict_mlstr(madshapR_DEMO$data_dict_MELBOURNE)

}

</code></pre>

<hr>
<h2 id='as_data_dict_shape'>Validate and coerce any object as a workable data dictionary structure</h2><span id='topic+as_data_dict_shape'></span>

<h3>Description</h3>

<p>Validates the input object as a workable data dictionary structure and
returns it with the appropriate <code>madshapR::class</code> attribute. This function
mainly helps validate input within other functions of the package but could
be used to check if a data dictionary is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_data_dict_shape(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_data_dict_shape_+3A_object">object</code></td>
<td>
<p>A potential valid data dictionary to be coerced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) with <code>madshapR::class</code> 'data_dict_shape'.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+data_dict_evaluate">data_dict_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_PARIS
as_data_dict_shape(data_dict)

}

</code></pre>

<hr>
<h2 id='as_dataset'>Validate and coerce any object as a dataset</h2><span id='topic+as_dataset'></span>

<h3>Description</h3>

<p>Checks if an object is a valid dataset and returns it with the appropriate
<code>madshapR::class</code> attribute. This function mainly helps validate inputs
within other functions of the package but could be used separately to check
if a dataset is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_dataset(object, col_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_dataset_+3A_object">object</code></td>
<td>
<p>A potential dataset object to be coerced.</p>
</td></tr>
<tr><td><code id="as_dataset_+3A_col_id">col_id</code></td>
<td>
<p>An optional character string specifying the name(s) or
position(s) of the column(s) used as identifiers.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame with <code>madshapR::class</code> 'dataset'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

###### Example 1: A dataset can have an id column specified as an attribute. 
dataset &lt;- as_dataset(madshapR_DEMO$dataset_MELBOURNE, col_id = "id")
glimpse(dataset)

###### Example 2: Any data frame can be a dataset by definition.
glimpse(as_dataset(iris, col_id = "Species"))

}

</code></pre>

<hr>
<h2 id='as_dossier'>Validate and coerce any object as a dossier (list of dataset(s))</h2><span id='topic+as_dossier'></span>

<h3>Description</h3>

<p>Checks if an object is a valid dossier (list of datasets) and returns it
with the appropriate <code>madshapR::class</code> attribute. This function mainly helps
validate inputs within other functions of the package but could be used to
check if a dossier is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_dossier(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_dossier_+3A_object">object</code></td>
<td>
<p>A potential dossier object to be coerced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dossier is a named list containing at least one data frame or more,
each of them being datasets. The name of each tibble will be use as the
reference name of the dataset.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A list of data frame(s) with <code>madshapR::class</code> 'dossier'.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+dataset_evaluate">dataset_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)
library(stringr)

###### Example 1: a dataset list is a dossier by definition.
dossier &lt;- 
  as_dossier(madshapR_DEMO[str_detect(names(madshapR_DEMO),"dataset_TOKYO")])
  
glimpse(dossier)
   
###### Example 2: any list of data frame can be a dossier by 
# definition.
glimpse(as_dossier(list(dataset_1 = iris, dataset_2 = mtcars)))

}

</code></pre>

<hr>
<h2 id='as_taxonomy'>Validate and coerce any object as a taxonomy</h2><span id='topic+as_taxonomy'></span>

<h3>Description</h3>

<p>Confirms that the input object is a valid taxonomy and returns it as a
taxonomy with the appropriate <code>madshapR::class</code> attribute. This function
mainly helps validate input within other functions of the package but could
be used to check if a taxonomy is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_taxonomy(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_taxonomy_+3A_object">object</code></td>
<td>
<p>A potential taxonomy to be coerced.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) with <code>madshapR::class</code> 'taxonomy'.
</p>


<h3>See Also</h3>

<p><a href="https://opaldoc.obiba.org/en/dev/magma-user-guide/value/type.html">Opal documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

###### Example
as_taxonomy(madshapR_DEMO$taxonomy_PARIS)

}

</code></pre>

<hr>
<h2 id='as_valueType'>Validate and coerce any object according to a given valueType</h2><span id='topic+as_valueType'></span>

<h3>Description</h3>

<p>Attributes a valueType to an object, that can be a vector, or in a data frame
using <a href="dplyr.html#topic+mutate">dplyr::mutate</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_valueType(x, valueType = "text")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_valueType_+3A_x">x</code></td>
<td>
<p>Object to be coerced. Can be a vector.</p>
</td></tr>
<tr><td><code id="as_valueType_+3A_valuetype">valueType</code></td>
<td>
<p>A character string of the valueType used to coerce x.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>The object coerced accordingly to the input valueType.
</p>


<h3>See Also</h3>

<p><a href="https://opaldoc.obiba.org/en/dev/magma-user-guide/value/type.html">Opal documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

dataset &lt;- madshapR_DEMO$dataset_TOKYO
as_valueType(head(dataset$dob),'date')

# as_valueType is compatible with tidyverse philosophy
library(dplyr)
mtcars %&gt;% mutate(cyl = as_valueType(cyl,'integer')) %&gt;% head()

}

</code></pre>

<hr>
<h2 id='bookdown_open'>Objects exported from other packages</h2><span id='topic+bookdown_open'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>fabR</dt><dd><p><code><a href="fabR.html#topic+bookdown_open">bookdown_open</a></code></p>
</dd>
</dl>

<hr>
<h2 id='bookdown_render'>Objects exported from other packages</h2><span id='topic+bookdown_render'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>fabR</dt><dd><p><code><a href="fabR.html#topic+bookdown_render">bookdown_render</a></code></p>
</dd>
</dl>

<hr>
<h2 id='bookdown_template'>Objects exported from other packages</h2><span id='topic+bookdown_template'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>fabR</dt><dd><p><code><a href="fabR.html#topic+bookdown_template">bookdown_template</a></code></p>
</dd>
</dl>

<hr>
<h2 id='check_data_dict_categories'>Assess a data dictionary for potential issues in categories</h2><span id='topic+check_data_dict_categories'></span>

<h3>Description</h3>

<p>Generates a data frame report of any categorical variable name present in the
'Categories' element but not present in 'Variables'. The data frame also
reports any non-unique combinations of 'variable' and 'name' in the
'Categories' element.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_data_dict_categories(data_dict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_data_dict_categories_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A data frame providing categorical variables that has issues within a
data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors`
check_data_dict_categories(data_dict)

}

</code></pre>

<hr>
<h2 id='check_data_dict_missing_categories'>Assess categorical variables for non-Boolean values in 'missing' column</h2><span id='topic+check_data_dict_missing_categories'></span>

<h3>Description</h3>

<p>Generates a data frame report of any categorical variables with non-Boolean
(or compatible with boolean) values in the 'missing' column of the
'Categories' element.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_data_dict_missing_categories(data_dict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_data_dict_missing_categories_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A data frame providing categorical values which 'missing' column is not a
boolean.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors`
check_data_dict_missing_categories(data_dict)

}

</code></pre>

<hr>
<h2 id='check_data_dict_valueType'>Assess a data dictionary for non-valid valueType values</h2><span id='topic+check_data_dict_valueType'></span>

<h3>Description</h3>

<p>Generates a data frame report of any variable with a valueType that is not in
the list of allowed valueType values. This function also assesses if the
valueType is compatible with any associated categorical values declared.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_data_dict_valueType(data_dict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_data_dict_valueType_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A data frame providing non-standard valueType declared in a data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors`
check_data_dict_valueType(data_dict)

}

</code></pre>

<hr>
<h2 id='check_data_dict_variables'>Assess a data dictionary for potential issues in variables</h2><span id='topic+check_data_dict_variables'></span>

<h3>Description</h3>

<p>Generates a data frame report of any non-unique variable names in the
'Variables' element.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_data_dict_variables(data_dict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_data_dict_variables_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A data frame providing non unique variables across a data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors`
check_data_dict_variables(data_dict)

}

</code></pre>

<hr>
<h2 id='check_dataset_categories'>Assess a data dictionary and associated dataset for category differences</h2><span id='topic+check_dataset_categories'></span>

<h3>Description</h3>

<p>Generates a data frame report of any categorical value options (the
combination of 'variable' and 'name' in 'Categories') in a data dictionary
that are not in the associated dataset and any categorical variable values
in a dataset that are not declared in the associated data dictionary.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_dataset_categories(dataset, data_dict = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_dataset_categories_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="check_dataset_categories_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing categorical values which differ between dataset and
their data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors with data`
dataset      &lt;- madshapR_DEMO$`dataset_TOKYO - errors with data`
check_dataset_categories(dataset, data_dict)

}

</code></pre>

<hr>
<h2 id='check_dataset_valueType'>Assess a data dictionary and associated dataset for valueType differences</h2><span id='topic+check_dataset_valueType'></span>

<h3>Description</h3>

<p>Generates a data frame report of any incompatibility between variable values
in a dataset and the declared valueType in the associated data dictionary.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_dataset_valueType(dataset, data_dict = NULL, valueType_guess = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_dataset_valueType_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="check_dataset_valueType_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
<tr><td><code id="check_dataset_valueType_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A data frame providing values which valueType differs between dataset and
their data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

check_dataset_valueType(mtcars[2], valueType_guess = TRUE)

}

</code></pre>

<hr>
<h2 id='check_dataset_variables'>Assess a data dictionary and associated dataset for undeclared variables</h2><span id='topic+check_dataset_variables'></span>

<h3>Description</h3>

<p>Generates a data frame report of any variable that is present in a dataset
but not in the associated data dictionary or present in a data dictionary but
not in the associated dataset.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_dataset_variables(dataset, data_dict = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_dataset_variables_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="check_dataset_variables_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing undeclared variables across a data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

dataset &lt;- madshapR_DEMO$`dataset_TOKYO - errors with data`
data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors`
check_dataset_variables(dataset,data_dict)

}

</code></pre>

<hr>
<h2 id='check_name_standards'>Assess variable names in a data dictionary for non-standard formats</h2><span id='topic+check_name_standards'></span>

<h3>Description</h3>

<p>Generates a data frame report of any variable names that are not compatible
in Maelstrom Research ecosystem, including Opal.
This report can be used to help assess data structure, presence of fields,
coherence across elements, and taxonomy or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_name_standards(var_names)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_name_standards_+3A_var_names">var_names</code></td>
<td>
<p>A character vector of names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A data frame providing non-standard names across a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

check_name_standards(c("coucou", "cou cou", "$coucou",NA))
check_name_standards(
 madshapR_DEMO$`data_dict_TOKYO - errors`$Variables$name)

}

</code></pre>

<hr>
<h2 id='col_id'>Return the id column names(s) of a dataset</h2><span id='topic+col_id'></span>

<h3>Description</h3>

<p>Return the id column names(s) of a dataset if any. If not, the function
returns a NULL object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>col_id(dataset)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="col_id_+3A_dataset">dataset</code></td>
<td>
<p>A data frame object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>Name(s) of identifier column(s). NULL if not.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

col_id(iris)

library(fabR)
iris &lt;- add_index(iris)
iris &lt;- as_dataset(iris, col_id = 'index')
col_id(iris)

}

</code></pre>

<hr>
<h2 id='data_dict_apply'>Apply a data dictionary to a dataset</h2><span id='topic+data_dict_apply'></span>

<h3>Description</h3>

<p>Applies a data dictionary to a dataset, creating a labelled dataset with
variable attributes. Any previous attributes will be preserved. For
variables that are factors, variables will be transformed into
haven-labelled variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_apply(dataset, data_dict = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_apply_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="data_dict_apply_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A labelled data frame with metadata as attributes, specified for each
variable from the input data dictionary.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+attributes">attributes()</a></code>, <code><a href="haven.html#topic+labelled">haven::labelled()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

dataset &lt;- madshapR_DEMO$dataset_MELBOURNE
data_dict &lt;- as_data_dict_mlstr(madshapR_DEMO$data_dict_MELBOURNE)
head(data_dict_apply(dataset, data_dict))

}

</code></pre>

<hr>
<h2 id='data_dict_collapse'>Transform multi-row category column(s) to single rows and join to &quot;Variables&quot;</h2><span id='topic+data_dict_collapse'></span>

<h3>Description</h3>

<p>Collapses a data dictionary element (the parameter 'from'),
into column(s) in another element (the parameter 'to')
If the element 'to' exists, and contains any column 'xx' or 'yy', these
columns will be added to the element 'from' under the names 'to:xx'
and 'to:yy'. (unique names will be generated if necessary). Each element
of these column will gather all information to process the reverse operation.
Separator of each element is the following structure :
'name = xx1 ; name = xx2'.
This function is mainly used to collapse the 'Categories' element into
columns in 'Variables'.
This function is the reversed operation of <code><a href="#topic+data_dict_expand">data_dict_expand()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_collapse(
  data_dict,
  from = "Categories",
  to = "Variables",
  name_prefix = "Categories::"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_collapse_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_collapse_+3A_from">from</code></td>
<td>
<p>A symbol identifying the name of the element (data frame) to take
column(s) from. Default is 'Categories'.</p>
</td></tr>
<tr><td><code id="data_dict_collapse_+3A_to">to</code></td>
<td>
<p>A symbol identifying the name of the element (data frame) to create
column(s) to. Default is 'Variables'.</p>
</td></tr>
<tr><td><code id="data_dict_collapse_+3A_name_prefix">name_prefix</code></td>
<td>
<p>A character string of the prefix of columns of interest.
This prefix will be used to select columns, and to rename them in the 'to'
element. Default is 'Categories::'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a data dictionary.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+data_dict_expand">data_dict_expand()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
data_dict_collapse(data_dict)

}

</code></pre>

<hr>
<h2 id='data_dict_evaluate'>Generate an assessment report for a data dictionary</h2><span id='topic+data_dict_evaluate'></span>

<h3>Description</h3>

<p>Assesses the content and structure of a data dictionary and generates reports
of the results. The report can be used to help assess data dictionary
structure, presence of fields, coherence across elements, and taxonomy
or data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_evaluate(data_dict, taxonomy = NULL, as_data_dict_mlstr = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_evaluate_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be evaluated.</p>
</td></tr>
<tr><td><code id="data_dict_evaluate_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="data_dict_evaluate_+3A_as_data_dict_mlstr">as_data_dict_mlstr</code></td>
<td>
<p>Whether the input data dictionary should be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. TRUE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frames containing assessment reports.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

data_dict &lt;- madshapR_DEMO$`data_dict_TOKYO - errors`
glimpse(data_dict_evaluate(data_dict))

}

</code></pre>

<hr>
<h2 id='data_dict_expand'>Transform single-row category information to multiple rows as element</h2><span id='topic+data_dict_expand'></span>

<h3>Description</h3>

<p>Expands data dictionary column(s) in a element (the parameter 'from'),
into another element (the parameter 'to').
If the element <code>from</code> contains any column starting with 'prefix', (xx,yy),
these columns will be added as 'xx' and 'yy' in the element identified by
<code>to</code>. This data frame will be created if necessary, and columns will be
added, from left to right. (unique names will be generated if necessary).
Separator of each element is the following structure :
'name = xx1 ; name = xx2'.
This function is mainly used to expand the column(s) 'Categories::xx' in
&quot;Variables&quot; to &quot;Categories&quot; element with column(s) xx.
This function is the reversed operation of <code><a href="#topic+data_dict_collapse">data_dict_collapse()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_expand(
  data_dict,
  from = "Variables",
  name_prefix = "Categories::",
  to = "Categories"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_expand_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_expand_+3A_from">from</code></td>
<td>
<p>A symbol identifying the name of the element (data frame) to take
column(s) from. Default is 'Variables'.</p>
</td></tr>
<tr><td><code id="data_dict_expand_+3A_name_prefix">name_prefix</code></td>
<td>
<p>Character string of the prefix of columns of interest.
This prefix will be used to select columns, and to rename them in the 'to'
element. Default is 'Categories::'.</p>
</td></tr>
<tr><td><code id="data_dict_expand_+3A_to">to</code></td>
<td>
<p>A symbol identifying the name of the element (data frame) to create
column(s) to. Default is 'Categories'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a data dictionary.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+data_dict_collapse">data_dict_collapse()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_PARIS - collapsed`
data_dict_expand(data_dict)

}

</code></pre>

<hr>
<h2 id='data_dict_extract'>Generate a data dictionary from a dataset</h2><span id='topic+data_dict_extract'></span>

<h3>Description</h3>

<p>Generates a data dictionary from a dataset. If the dataset variables have no
associated metadata, a minimum data dictionary is created by using variable
attributes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_extract(dataset, as_data_dict_mlstr = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_extract_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="data_dict_extract_+3A_as_data_dict_mlstr">as_data_dict_mlstr</code></td>
<td>
<p>Whether the input data dictionary should be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. TRUE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) representing metadata of the dataset variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

###### Example 2: extract data dictionary from any dataset (the 
# data dictionary will be created upon attributes of the dataset. Factors 
# will be considered as categorical variables)
data_dict_extract(iris)

}

</code></pre>

<hr>
<h2 id='data_dict_filter'>Subset data dictionary by row values</h2><span id='topic+data_dict_filter'></span>

<h3>Description</h3>

<p>Subsets either or both the 'Variables' and 'Categories' elements of a data
dictionary. Rows are conserved if their values satisfy the condition.
This is a wrapper function analogous to <code><a href="dplyr.html#topic+filter">dplyr::filter()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_filter(
  data_dict,
  filter_var = NULL,
  filter_cat = NULL,
  filter_all = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_filter_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
filtered.</p>
</td></tr>
<tr><td><code id="data_dict_filter_+3A_filter_var">filter_var</code></td>
<td>
<p>Expressions that are defined in the element 'Variables' in
the data dictionary.</p>
</td></tr>
<tr><td><code id="data_dict_filter_+3A_filter_cat">filter_cat</code></td>
<td>
<p>Expressions that are defined in the element 'Categories' in
the data dictionary.</p>
</td></tr>
<tr><td><code id="data_dict_filter_+3A_filter_all">filter_all</code></td>
<td>
<p>Expressions that are defined both in the 'Categories' and
'Variables' in the data dictionary.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a workable data dictionary structure.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+filter">dplyr::filter()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

# Create a list of data dictionaries where the column 'table' is added to 
# refer to the associated dataset. The object created is not a 
# data dictionary per say, but can be used as a structure which can be 
# shaped into a data dictionary.
library(dplyr)

data_dict_list &lt;- list(
  data_dict_1 &lt;- madshapR_DEMO$data_dict_TOKYO ,
  data_dict_2 &lt;- madshapR_DEMO$data_dict_MELBOURNE)
names(data_dict_list) = c("dataset_TOKYO","dataset_MELBOURNE")

data_dict_nest &lt;- data_dict_list_nest(data_dict_list, name_group = 'table')

###### Example 1 search and filter through a column in 'Variables' element
data_dict_filter(data_dict_nest,filter_var = "valueType == 'text'")

###### Example 2 search and filter through a column in 'Categories' element
data_dict_filter(data_dict_nest,filter_cat = "missing == TRUE")

###### Example 3 search and filter through* a column in 'Variables' element.
# The column must exist in both 'Variables' and 'Categories' and have the
# same meaning
data_dict_filter(data_dict_nest,filter_all = "table == 'dataset_TOKYO'")

}

</code></pre>

<hr>
<h2 id='data_dict_group_by'>Group listed data dictionaries by specified column names</h2><span id='topic+data_dict_group_by'></span>

<h3>Description</h3>

<p>Groups the data dictionary element(s) by the groups defined by the query.
This function groups both the 'Variables' and 'Categories' elements (if
the group exists under the same definition in in both). This function is
analogous to running <code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code>. Each element is named using the
group values. <code><a href="#topic+data_dict_ungroup">data_dict_ungroup()</a></code> reverses the effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_group_by(data_dict, col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_group_by_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_group_by_+3A_col">col</code></td>
<td>
<p>variable to group by.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a workable data dictionary structure.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code>, <code><a href="#topic+data_dict_ungroup">data_dict_ungroup()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
# Create a list of data dictionaries where the column 'table' is added to 
# refer to the associated dataset. The object created is not a 
# data dictionary per say, but can be used as a structure which can be 
# shaped into a data dictionary.

data_dict_list &lt;- list(
  data_dict_1 &lt;- madshapR_DEMO$data_dict_TOKYO ,
  data_dict_2 &lt;- madshapR_DEMO$data_dict_MELBOURNE)
names(data_dict_list) = c("dataset_TOKYO","dataset_MELBOURNE")

data_dict_nest &lt;- data_dict_list_nest(data_dict_list, name_group = 'table')

data_dict_group_by(data_dict_nest, col = "table")

}

</code></pre>

<hr>
<h2 id='data_dict_group_split'>Split grouped data dictionaries into a named list</h2><span id='topic+data_dict_group_split'></span>

<h3>Description</h3>

<p>Divides data dictionary element(s) into the groups defined by the query.
This function divides both the 'Variables' and 'Categories' elements (if
the group exists under the same definition in in both) into a list of
data dictionaries, each with the rows of the associated group and all the
original columns, including grouping variables. This function is analogous
to running <code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code> and <code><a href="dplyr.html#topic+group_split">dplyr::group_split()</a></code>. Each element is
named using the group values. <code><a href="#topic+data_dict_list_nest">data_dict_list_nest()</a></code> reverses the effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_group_split(data_dict, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_group_split_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_group_split_+3A_...">...</code></td>
<td>
<p>Column in the data dictionary to split it by. If not provided, the
splitting will be done on the grouping element of a grouped data dictionary.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a list of workable data dictionary structure.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+group_by">dplyr::group_by()</a></code>, <code><a href="dplyr.html#topic+group_split">dplyr::group_split()</a></code> ,
<code><a href="#topic+data_dict_group_by">data_dict_group_by()</a></code>, <code><a href="#topic+data_dict_list_nest">data_dict_list_nest()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

# Create a list of data dictionaries where the column 'table' is added to 
# refer to the associated dataset. The object created is not a 
# data dictionary per say, but can be used as a structure which can be 
# shaped into a data dictionary.

data_dict_list &lt;- list(
  data_dict_1 &lt;- madshapR_DEMO$data_dict_TOKYO ,
  data_dict_2 &lt;- madshapR_DEMO$data_dict_MELBOURNE)
names(data_dict_list) = c("dataset_TOKYO","dataset_MELBOURNE")

data_dict_nest &lt;- 
  data_dict_list_nest(data_dict_list, name_group = 'table') %&gt;%
  data_dict_group_by(col = "table")

glimpse(data_dict_group_split(data_dict_nest,col = "table"))
 
}

</code></pre>

<hr>
<h2 id='data_dict_list_nest'>Bind listed data dictionaries</h2><span id='topic+data_dict_list_nest'></span>

<h3>Description</h3>

<p>Binds a list of data dictionaries into one data dictionary.
This is a wrapper function analogous to <code><a href="dplyr.html#topic+bind_rows">dplyr::bind_rows()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_list_nest(data_dict_list, name_group = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_list_nest_+3A_data_dict_list">data_dict_list</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_list_nest_+3A_name_group">name_group</code></td>
<td>
<p>A character string of one column in the dataset that can be
taken as a grouping column.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a workable data dictionary structure.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+bind_rows">dplyr::bind_rows()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

# Create a list of data dictionaries where the column 'table' is added to 
# refer to the associated dataset. The object created is not a 
# data dictionary per say, but can be used as a structure which can be 
# shaped into a data dictionary.

data_dict_list &lt;- list(
  data_dict_1 &lt;- madshapR_DEMO$data_dict_TOKYO ,
  data_dict_2 &lt;- madshapR_DEMO$data_dict_MELBOURNE)
names(data_dict_list) = c("dataset_TOKYO","dataset_MELBOURNE")

glimpse(data_dict_list_nest(data_dict_list, name_group = 'table'))

}

</code></pre>

<hr>
<h2 id='data_dict_match_dataset'>Inner join between a dataset and its associated data dictionary</h2><span id='topic+data_dict_match_dataset'></span>

<h3>Description</h3>

<p>Performs an inner join between a dataset and its associated data dictionary,
keeping only variables present in both. This function returns the matched
dataset rows, the matched data dictionary rows, or both, in a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_match_dataset(
  dataset,
  data_dict,
  data_dict_apply = FALSE,
  output = c("dataset", "data_dict")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_match_dataset_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="data_dict_match_dataset_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset.</p>
</td></tr>
<tr><td><code id="data_dict_match_dataset_+3A_data_dict_apply">data_dict_apply</code></td>
<td>
<p>Whether data dictionary(ies) should be applied to
associated dataset(s), creating labelled dataset(s) with variable attributes.
Any previous attributes will be preserved. FALSE by default.</p>
</td></tr>
<tr><td><code id="data_dict_match_dataset_+3A_output">output</code></td>
<td>
<p>A vector of character string which indicates if the function
returns a dataset ('dataset'), data dictionary ('data_dict') of both.
Default is c('dataset','data_dict').</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>Either a data frame, identifying the dataset, or a list of data frame(s)
identifying a data dictionary. Returns both in a list by default.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

dataset &lt;- madshapR_DEMO$dataset_MELBOURNE %&gt;% select(-1)
data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
head(data_dict_match_dataset(dataset, data_dict, out = 'dataset'))
glimpse(data_dict_match_dataset(dataset, data_dict, out = 'data_dict'))

}

</code></pre>

<hr>
<h2 id='data_dict_pivot_longer'>Transform column(s) of a data dictionary from wide format to long format</h2><span id='topic+data_dict_pivot_longer'></span>

<h3>Description</h3>

<p>Transforms column(s) of a data dictionary from wide format to long format.
If a taxonomy is provided, the corresponding columns in the data
dictionary will be converted to a standardized format with fewer columns.
This operation is equivalent to performing a <code><a href="tidyr.html#topic+pivot_longer">tidyr::pivot_longer()</a></code> on
these columns following the taxonomy structure provided. Variable names in
the data dictionary must be unique.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_pivot_longer(data_dict, taxonomy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_pivot_longer_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_pivot_longer_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a data dictionary.
</p>


<h3>See Also</h3>

<p><code><a href="tidyr.html#topic+pivot_longer">tidyr::pivot_longer()</a></code>, <code><a href="#topic+as_data_dict">as_data_dict()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_PARIS - collapsed`
taxonomy &lt;- madshapR_DEMO$taxonomy_PARIS
data_dict_pivot_longer(data_dict,taxonomy)

}

</code></pre>

<hr>
<h2 id='data_dict_pivot_wider'>Transform column(s) of a data dictionary from long format to wide format</h2><span id='topic+data_dict_pivot_wider'></span>

<h3>Description</h3>

<p>Transforms column(s) of a data dictionary from long format to wide format.
If a taxonomy is provided, the corresponding columns in the data
dictionary will be converted to a format with the taxonomy expanded.
This operation is equivalent to performing a <code><a href="tidyr.html#topic+pivot_wider">tidyr::pivot_wider()</a></code> on these
columns following the taxonomy structure provided. Variable names in the
data dictionary must be unique.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_pivot_wider(data_dict, taxonomy = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_pivot_wider_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
<tr><td><code id="data_dict_pivot_wider_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a data dictionary.
</p>


<h3>See Also</h3>

<p><code><a href="tidyr.html#topic+pivot_wider">tidyr::pivot_wider()</a></code>, <code><a href="#topic+as_data_dict">as_data_dict()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$`data_dict_PARIS - collapsed`
taxonomy  &lt;- madshapR_DEMO$taxonomy_PARIS
data_dict_pivot_wider(data_dict, taxonomy)

}

</code></pre>

<hr>
<h2 id='data_dict_ungroup'>Ungroup data dictionary</h2><span id='topic+data_dict_ungroup'></span>

<h3>Description</h3>

<p>Ungroups the data dictionary element(s). This function ungroups both the
'Variables' and 'Categories' elements (if both are grouped data frames).
This function is analogous to running <code><a href="dplyr.html#topic+group_by">dplyr::ungroup()</a></code>.
<code><a href="#topic+data_dict_group_by">data_dict_group_by()</a></code> allows to group a data dictionary and this function
reverses the effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_dict_ungroup(data_dict)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_dict_ungroup_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata to be
transformed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A list of data frame(s) identifying a workable data dictionary structure.
</p>


<h3>See Also</h3>

<p><code><a href="dplyr.html#topic+group_by">dplyr::ungroup()</a></code>
<code><a href="#topic+data_dict_group_by">data_dict_group_by()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
# Create a list of data dictionaries where the column 'table' is added to 
# refer to the associated dataset. The object created is not a 
# data dictionary per say, but can be used as a structure which can be 
# shaped into a data dictionary.

library(dplyr)

data_dict_list &lt;- list(
  data_dict_1 &lt;- madshapR_DEMO$data_dict_TOKYO ,
  data_dict_2 &lt;- madshapR_DEMO$data_dict_MELBOURNE)
names(data_dict_list) = c("dataset_TOKYO","dataset_MELBOURNE")

data_dict_nest &lt;-
  data_dict_list_nest(data_dict_list, name_group = 'table') %&gt;%
  data_dict_group_by(col = "table")

 data_dict_ungroup(data_dict_nest)
}

</code></pre>

<hr>
<h2 id='data_extract'>Create an empty dataset from a data dictionary</h2><span id='topic+data_extract'></span>

<h3>Description</h3>

<p>Creates an empty dataset using information contained in a data dictionary.
The column names are taken from 'name' in the 'Variables' element of the
data dictionary. If a 'valueType' or alternatively 'typeof' column is
provided, the class of each column is set accordingly (default is text).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_extract(data_dict, data_dict_apply = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="data_extract_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata.</p>
</td></tr>
<tr><td><code id="data_extract_+3A_data_dict_apply">data_dict_apply</code></td>
<td>
<p>Whether data dictionary(ies) should be applied to
associated dataset(s), creating labelled dataset(s) with variable attributes.
Any previous attributes will be preserved. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A data frame identifying the dataset created from the variable names list in
'Variables' element of the data dictionary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
data_extract(data_dict)

}

</code></pre>

<hr>
<h2 id='dataset_cat_as_labels'>Apply data dictionary category labels to the associated dataset variables</h2><span id='topic+dataset_cat_as_labels'></span>

<h3>Description</h3>

<p>Applies category labels declared in a data dictionary to the associated
columns (variables) in the dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_cat_as_labels(dataset, data_dict = NULL, col_names = names(dataset))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataset_cat_as_labels_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="dataset_cat_as_labels_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="dataset_cat_as_labels_+3A_col_names">col_names</code></td>
<td>
<p>A character string specifying the name(s) of the column(s)
which refer to existing column(s) in the dataset. The column(s) can be named
or indicated by position.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A data frame identifying a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

dataset = madshapR_DEMO$dataset_PARIS
data_dict = as_data_dict_mlstr(madshapR_DEMO$data_dict_PARIS)
dataset_cat_as_labels(dataset, data_dict, col_names = 'SEX')

}

</code></pre>

<hr>
<h2 id='dataset_evaluate'>Generate an assessment report for a dataset</h2><span id='topic+dataset_evaluate'></span>

<h3>Description</h3>

<p>Assesses the content and structure of a dataset object and generates reports
of the results. This function can be used to evaluate data structure,
presence of specific fields, coherence across elements, and data dictionary
formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_evaluate(
  dataset,
  data_dict = NULL,
  taxonomy = NULL,
  dataset_name = .dataset_name,
  as_data_dict_mlstr = TRUE,
  .dataset_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataset_evaluate_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="dataset_evaluate_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="dataset_evaluate_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="dataset_evaluate_+3A_dataset_name">dataset_name</code></td>
<td>
<p>A character string specifying the name of the dataset
(used internally in the function <code><a href="#topic+dossier_evaluate">dossier_evaluate()</a></code>).</p>
</td></tr>
<tr><td><code id="dataset_evaluate_+3A_as_data_dict_mlstr">as_data_dict_mlstr</code></td>
<td>
<p>Whether the input data dictionary should be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. TRUE by default.</p>
</td></tr>
<tr><td><code id="dataset_evaluate_+3A_.dataset_name">.dataset_name</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frames containing assessment reports.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dossier_evaluate">dossier_evaluate()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

###### Example : Any data frame can be summarized
dataset &lt;- as_dataset(
  madshapR_DEMO$`dataset_TOKYO - errors with data`,
  col_id = 'part_id')
 
glimpse(dataset_evaluate(dataset,as_data_dict_mlstr = FALSE))

}

</code></pre>

<hr>
<h2 id='dataset_preprocess'>Generate an evaluation of all variable values in a dataset</h2><span id='topic+dataset_preprocess'></span>

<h3>Description</h3>

<p>Analyses the content of a dataset and its data dictionary (if any),
identifies variable(s) data type and values accordingly and preprocess the
variables. The elements of the data frame generated are evaluation of
valid/non valid/missing values (based on the data dictionary information if
provided). This function can be used to personalize report parameters and is
internally used in the function <code><a href="#topic+dataset_summarize">dataset_summarize()</a></code>.
</p>
<p>Generates a data frame that evaluates and aggregates all columns
in a dataset with (if any) its data dictionary. The data dictionary (if
present) separates observations between open values, missing values,
categorical values , and categorical missing values (which corresponds to the
'missing' column in the 'Categories' sheet).
This internal function is mainly used inside summary functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_preprocess(dataset, data_dict = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataset_preprocess_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="dataset_preprocess_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing summary elements of a dataset, including its values
and data dictionary elements.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+summary_variables">summary_variables()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
 
###### Example : Any data frame can be a dataset by definition.
head(dataset_preprocess(iris))

}

</code></pre>

<hr>
<h2 id='dataset_summarize'>Generate an assessment report and summary of a dataset</h2><span id='topic+dataset_summarize'></span>

<h3>Description</h3>

<p>Assesses and summarizes the content and structure of a dataset and generates
reports of the results. This function can be used to evaluate data structure,
presence of specific fields, coherence across elements, and data dictionary
formats, and to summarize additional information about variable distributions
and descriptive statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_summarize(
  dataset,
  data_dict = data_dict_extract(dataset),
  group_by = NULL,
  taxonomy = NULL,
  dataset_name = .dataset_name,
  valueType_guess = FALSE,
  .dataset_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataset_summarize_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="dataset_summarize_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="dataset_summarize_+3A_group_by">group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td></tr>
<tr><td><code id="dataset_summarize_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="dataset_summarize_+3A_dataset_name">dataset_name</code></td>
<td>
<p>A character string specifying the name of the dataset
(internally used in the function <code><a href="#topic+dossier_evaluate">dossier_evaluate()</a></code>).</p>
</td></tr>
<tr><td><code id="dataset_summarize_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
<tr><td><code id="dataset_summarize_+3A_.dataset_name">.dataset_name</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A list of data frames containing assessment reports and summaries.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dossier_evaluate">dossier_evaluate()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

#' ###### Example : Any data frame can be summarized
dataset &lt;- iris['Sepal.Width']
glimpse(dataset_summarize(dataset))
 
}

</code></pre>

<hr>
<h2 id='dataset_visualize'>Generate a web-based visual report for a dataset</h2><span id='topic+dataset_visualize'></span>

<h3>Description</h3>

<p>Generates a visual report of a dataset in an HTML bookdown
document, with summary figures and statistics for each variable. The report
outputs can be grouped by a categorical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_visualize(
  dataset = tibble(id = as.character()),
  bookdown_path,
  data_dict = data_dict_extract(dataset),
  group_by = NULL,
  taxonomy = NULL,
  valueType_guess = FALSE,
  dataset_name = .dataset_name,
  dataset_summary = .summary_var,
  .summary_var = NULL,
  .dataset_name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataset_visualize_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_bookdown_path">bookdown_path</code></td>
<td>
<p>A character string identifying the folder path where
the bookdown report files will be saved.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_group_by">group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_dataset_name">dataset_name</code></td>
<td>
<p>A character string specifying the name of the dataset
(used internally in the function <code><a href="#topic+dossier_evaluate">dossier_evaluate()</a></code>).</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_dataset_summary">dataset_summary</code></td>
<td>
<p>A list which identifies an existing
summary produced by <code><a href="#topic+dataset_summarize">dataset_summarize()</a></code> of the dataset.
Using this parameter can save time in generating the visual report.</p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_.summary_var">.summary_var</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
<tr><td><code id="dataset_visualize_+3A_.dataset_name">.dataset_name</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A folder containing files for the bookdown site. To open the bookdown site
in a browser, open 'docs/index.html', or use <code><a href="#topic+bookdown_open">bookdown_open()</a></code> with the
folder path.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+bookdown_open">bookdown_open()</a></code>
<code><a href="#topic+as_category">as_category()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# You can use our demonstration files to run examples

library(fs)
library(dplyr)

dataset &lt;- madshapR_DEMO$dataset_TOKYO['height'] %&gt;% slice(0)
dataset_summary &lt;- madshapR_DEMO$`dataset_summary`

if(dir_exists(tempdir())) dir_delete(tempdir())
bookdown_path &lt;- tempdir()

dataset_visualize(
  dataset,
  dataset_summary = dataset_summary,
  bookdown_path = bookdown_path)
  
# To open the file in browser, open 'bookdown_path/docs/index.html'. 
# Or use bookdown_open(bookdown_path) function.

}

</code></pre>

<hr>
<h2 id='dataset_zap_data_dict'>Remove labels (attributes) from a data frame, leaving its unlabelled columns</h2><span id='topic+dataset_zap_data_dict'></span>

<h3>Description</h3>

<p>Removes any attributes attached to a data frame. Any value in columns will be
preserved. Any 'Date' (typeof) column will be recast as character to
preserve information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataset_zap_data_dict(dataset)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataset_zap_data_dict_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame identifying a dataset.
</p>


<h3>See Also</h3>

<p><code><a href="haven.html#topic+zap_labels">haven::zap_labels()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

dataset &lt;- madshapR_DEMO$dataset_TOKYO
data_dict &lt;- as_data_dict_mlstr(madshapR_DEMO$data_dict_TOKYO)
dataset &lt;- data_dict_apply(dataset,data_dict)
head(dataset_zap_data_dict(dataset))

}

</code></pre>

<hr>
<h2 id='deprecated'>Deprecated functions</h2><span id='topic+deprecated'></span><span id='topic+open_visual_report'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Use <code><a href="#topic+bookdown_open">bookdown_open()</a></code> instead of <code>open_visual_report()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>open_visual_report(...)
</code></pre>

<hr>
<h2 id='dossier_create'>Generate a dossier from a list of one or more datasets</h2><span id='topic+dossier_create'></span>

<h3>Description</h3>

<p>Generates a dossier object (list of one or more datasets).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dossier_create(dataset_list, data_dict_apply = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dossier_create_+3A_dataset_list">dataset_list</code></td>
<td>
<p>A list of data frame, each of them being dataset object.</p>
</td></tr>
<tr><td><code id="dossier_create_+3A_data_dict_apply">data_dict_apply</code></td>
<td>
<p>Whether data dictionary(ies) should be applied to
associated dataset(s), creating labelled dataset(s) with variable attributes.
Any previous attributes will be preserved. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A list of data frame(s), containing input dataset(s).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

###### Example 1: datasets can be gathered into a dossier which is a list.
dossier &lt;- dossier_create(
 dataset_list = list(
   dataset_MELBOURNE = madshapR_DEMO$dataset_MELBOURNE,
   dataset_PARIS = madshapR_DEMO$dataset_PARIS ))

glimpse(dossier)
    
###### Example 2: Any data frame can be gathered into a dossier
glimpse(dossier_create(list(iris, mtcars)))
   
}

</code></pre>

<hr>
<h2 id='dossier_evaluate'>Generate an assessment report of a dossier</h2><span id='topic+dossier_evaluate'></span>

<h3>Description</h3>

<p>Assesses the content and structure of a dossier object (list of datasets)
and generates reports of the results. This function can be used to evaluate
data structure, presence of specific fields, coherence across elements, and
data dictionary formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dossier_evaluate(dossier, taxonomy = NULL, as_data_dict_mlstr = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dossier_evaluate_+3A_dossier">dossier</code></td>
<td>
<p>List of data frame, each of them being datasets.</p>
</td></tr>
<tr><td><code id="dossier_evaluate_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="dossier_evaluate_+3A_as_data_dict_mlstr">as_data_dict_mlstr</code></td>
<td>
<p>Whether the input data dictionary should be coerced
with specific format restrictions for compatibility with other
Maelstrom Research software. TRUE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dossier is a named list containing at least one data frame or more,
each of them being datasets. The name of each data frame will be use as the
reference name of the dataset.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The object may be specifically formatted to be compatible with additional
<a href="https://maelstrom-research.org/page/software">Maelstrom Research software</a>,
in particular <a href="https://www.obiba.org/pages/products/opal/">Opal environments</a>.
</p>


<h3>Value</h3>

<p>A list of data frames containing assessment reports.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

###### Example : a dataset list is a dossier by definition.
   
 dataset &lt;- as_dataset(
   madshapR_DEMO$`dataset_TOKYO - errors with data`,
   col_id = 'part_id')
 
 dossier &lt;- as_dossier(list(dataset = dataset))
 
 glimpse(dossier_evaluate(dossier,as_data_dict_mlstr = FALSE))

}

</code></pre>

<hr>
<h2 id='dossier_summarize'>Generate an assessment report and summary of a dossier</h2><span id='topic+dossier_summarize'></span>

<h3>Description</h3>

<p>Assesses and summarizes the content and structure of a dossier
(list of datasets) and generates reports of the results. This function can
be used to evaluate data structure, presence of specific fields, coherence
across elements, and data dictionary formats, and to summarize additional
information about variable distributions and descriptive statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dossier_summarize(
  dossier,
  group_by = NULL,
  taxonomy = NULL,
  valueType_guess = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dossier_summarize_+3A_dossier">dossier</code></td>
<td>
<p>List of data frame(s), each of them being datasets.</p>
</td></tr>
<tr><td><code id="dossier_summarize_+3A_group_by">group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td></tr>
<tr><td><code id="dossier_summarize_+3A_taxonomy">taxonomy</code></td>
<td>
<p>An optional data frame identifying a variable classification
schema.</p>
</td></tr>
<tr><td><code id="dossier_summarize_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dossier is a named list containing at least one data frame or more,
each of them being datasets. The name of each data frame will be use as the
reference name of the dataset.
</p>
<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A list of data frames containing overall assessment reports and summaries grouped by dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

###### Example 1: Combine functions and summarize datasets.
dossier &lt;- list(iris = tibble())

dossier_summary &lt;- dossier_summarize(dossier)
glimpse(dossier_summary)

}

</code></pre>

<hr>
<h2 id='drop_category'>Validate and coerce any object as a non-categorical variable.</h2><span id='topic+drop_category'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Converts a vector object to a non-categorical object, typically a column in a
data frame. The categories come from non-missing values present in the
object and are suppressed from an associated data dictionary (when present).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_category(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_category_+3A_x">x</code></td>
<td>
<p>object to be coerced.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A R object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

head(iris[['Species']])
head(drop_category(iris[['Species']]))

}

</code></pre>

<hr>
<h2 id='is_category'>Test if an object is a valid dataset</h2><span id='topic+is_category'></span>

<h3>Description</h3>

<p>Tests if the input object is a valid dataset. This function mainly helps
validate input within other functions of the package but could be used
to check if a dataset is valid.
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Test if vector object is a categorical variable, typically a column in a
data frame. This function mainly helps validate input within other functions
of the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_category(x, threshold = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_category_+3A_x">x</code></td>
<td>
<p>object to be coerced.</p>
</td></tr>
<tr><td><code id="is_category_+3A_threshold">threshold</code></td>
<td>
<p>Optional. The function returns TRUE if the number of unique
values in the input vector is lower.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

library(dplyr)
iris %&gt;% summarise(across(everything(), is_category))
is_category(iris[['Species']])

}

</code></pre>

<hr>
<h2 id='is_data_dict'>Test if an object is a valid data dictionary</h2><span id='topic+is_data_dict'></span>

<h3>Description</h3>

<p>Tests if the input object is a valid data dictionary. This function mainly
helps validate input within other functions of the package but could be used
to check if an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_data_dict(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_data_dict_+3A_object">object</code></td>
<td>
<p>A potential data dictionary to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+data_dict_evaluate">data_dict_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
is_data_dict(data_dict)
is_data_dict(iris)

}

</code></pre>

<hr>
<h2 id='is_data_dict_mlstr'>Test if an object is a valid Maelstrom data dictionary</h2><span id='topic+is_data_dict_mlstr'></span>

<h3>Description</h3>

<p>Tests if the input object is a valid data dictionary compliant with formats
used in Maelstrom Research ecosystem, including Opal. This function mainly
helps validate input within other functions of the package but could be used
to check if an object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_data_dict_mlstr(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_data_dict_mlstr_+3A_object">object</code></td>
<td>
<p>A potential Maelstrom formatted data dictionary to be
evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+data_dict_evaluate">data_dict_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
is_data_dict_mlstr(data_dict)
is_data_dict_mlstr(iris)

}

</code></pre>

<hr>
<h2 id='is_data_dict_shape'>Test if an object is a workable data dictionary structure</h2><span id='topic+is_data_dict_shape'></span>

<h3>Description</h3>

<p>Tests if the input object has adequate structure to work with functions
involving data dictionary shaping. This function mainly helps validate input
within other functions of the package but could be used to check if an
object is valid for use in a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_data_dict_shape(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_data_dict_shape_+3A_object">object</code></td>
<td>
<p>A potential data dictionary structure to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+data_dict_evaluate">data_dict_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

data_dict &lt;- madshapR_DEMO$data_dict_MELBOURNE
is_data_dict_shape(data_dict)
is_data_dict_shape(iris)

}

</code></pre>

<hr>
<h2 id='is_dataset'>Test if an object is a valid dataset</h2><span id='topic+is_dataset'></span>

<h3>Description</h3>

<p>Tests if the input object is a valid dataset. This function mainly helps
validate input within other functions of the package but could be used
to check if a dataset is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dataset(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dataset_+3A_object">object</code></td>
<td>
<p>A potential dataset to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p>For a better assessment, please use <code><a href="#topic+dataset_evaluate">dataset_evaluate()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
# any data frame can be a dataset by definition.

is_dataset(madshapR_DEMO$dataset_MELBOURNE)
is_dataset(iris)
is_dataset(AirPassengers)

}

</code></pre>

<hr>
<h2 id='is_dossier'>Test if an object is a valid dossier (list of dataset(s))</h2><span id='topic+is_dossier'></span>

<h3>Description</h3>

<p>Tests if the input object is a valid dossier. This function mainly helps
validate input within other functions of the package but could be used to
check if a dossier is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dossier(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_dossier_+3A_object">object</code></td>
<td>
<p>A potential dossier to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dossier is a named list containing at least one data frame or more,
each of them being datasets. The name of each tibble will be use as the
reference name of the dataset.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
# Any list of data frame can be a dossier by definition.
library(stringr)

is_dossier(madshapR_DEMO[str_detect(names(madshapR_DEMO),"dataset")])
is_dossier(list(dataset_1 = iris, dataset_2 = mtcars))
is_dossier(iris)

}

</code></pre>

<hr>
<h2 id='is_taxonomy'>Test if an object is a valid taxonomy</h2><span id='topic+is_taxonomy'></span>

<h3>Description</h3>

<p>Confirms whether the input object is a valid taxonomy. This function mainly
helps validate input within other functions of the  package but could be
used to check if a taxonomy is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_taxonomy(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_taxonomy_+3A_object">object</code></td>
<td>
<p>A potential taxonomy to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A taxonomy is a classification schema that can be defined for variable
attributes. A taxonomy is usually extracted from an
<a href="https://www.obiba.org/pages/products/opal/">Opal environment</a>, and a
taxonomy object is a data frame that must contain at least the columns
<code>taxonomy</code>, <code>vocabulary</code>, and <code>terms</code>. Additional details about Opal
taxonomies are
<a href="https://opaldoc.obiba.org/en/latest/web-user-guide/administration/taxonomies.html">available online</a>.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

is_taxonomy(madshapR_DEMO$taxonomy_PARIS)

}

</code></pre>

<hr>
<h2 id='is_valueType'>Test if a character object is one of the valid valueType values</h2><span id='topic+is_valueType'></span>

<h3>Description</h3>

<p>Confirms whether the input object is a valid valueType. This function mainly
helps validate input within other functions of the package but could be used
to check if a valueType is valid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valueType(object)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_valueType_+3A_object">object</code></td>
<td>
<p>A potential valueType name to be evaluated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A logical.
</p>


<h3>See Also</h3>

<p><a href="https://opaldoc.obiba.org/en/dev/magma-user-guide/value/type.html">Opal documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

is_valueType('integer')
is_valueType('integre')

}

</code></pre>

<hr>
<h2 id='madshapR_DEMO'>Built-in material allowing the user to test the package with demo data</h2><span id='topic+madshapR_DEMO'></span>

<h3>Description</h3>

<p>Demo datasets and data dictionaries, and taxonomy, to provide illustrative
examples of objects used by madshapR.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>madshapR_DEMO
</code></pre>


<h3>Format</h3>



<h4><code>list</code></h4>

<p>A list with 12 elements (data frames and lists) providing example objects
for testing the package:
</p>

<dl>
<dt>data_dict_MELBOURNE</dt><dd><p>Example Data dictionary for Melbourne dataset</p>
</dd>
<dt>data_dict_PARIS</dt><dd><p>Example Data dictionary for Paris dataset</p>
</dd>
<dt>data_dict_PARIS - collapsed</dt><dd><p>Example Data dictionary for Paris
with collapsed categories</p>
</dd>
<dt>data_dict_TOKYO</dt><dd><p>Example Data dictionary for Tokyo dataset</p>
</dd>
<dt>data_dict_TOKYO - errors</dt><dd><p>Data dictionary for Tokyo dataset
with errors</p>
</dd>
<dt>data_dict_TOKYO - errors with data</dt><dd><p>Example Data Dictionary for Tokyo
dataset with errors with Tokyo dataset</p>
</dd>
<dt>dataset_MELBOURNE</dt><dd><p>Example Dataset for MELBOURNE dataset</p>
</dd>
<dt>dataset_PARIS</dt><dd><p>Example Dataset for PARIS dataset</p>
</dd>
<dt>dataset_TOKYO</dt><dd><p>Example Dataset for TOKYO dataset</p>
</dd>
<dt>dataset_TOKYO - errors with data</dt><dd><p>Example dataset of Tokyo
with errors with Tokyo data dictionary</p>
</dd>
<dt>taxonomy_PARIS</dt><dd><p>Example Taxonomy for Paris dataset</p>
</dd>
<dt>dataset_summary</dt><dd><p>Example of dataset summary</p>
</dd>
</dl>
<p>...

</p>



<h3>Examples</h3>

<pre><code class='language-R'>{

 print(madshapR_DEMO$dataset_TOKYO)

}
</code></pre>

<hr>
<h2 id='madshapR_help'>Call to online documentation</h2><span id='topic+madshapR_help'></span>

<h3>Description</h3>

<p>Direct call to the online documentation for the package, which includes a
description of the latest version of the package, vignettes, user guides,
and a reference list of functions and help pages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>madshapR_help()
</code></pre>


<h3>Value</h3>

<p>Nothing to be returned. The function opens a web page.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

madshapR_help()

}

</code></pre>

<hr>
<h2 id='summary_variables'>Provide descriptive statistics for variables in a dataset</h2><span id='topic+summary_variables'></span>

<h3>Description</h3>

<p>Summarizes (in a data frame) the columns in a dataset and its data dictionary
(if any). The summary provides information about quality, type, composition,
and descriptive statistics of variables. Statistics are generated by
valueType.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_variables(
  dataset = NULL,
  data_dict = NULL,
  dataset_preprocess = .dataset_preprocess,
  .dataset_preprocess = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_variables_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="summary_variables_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="summary_variables_+3A_dataset_preprocess">dataset_preprocess</code></td>
<td>
<p>A data frame which provides summary of the
variables (used for internal processes and programming).</p>
</td></tr>
<tr><td><code id="summary_variables_+3A_.dataset_preprocess">.dataset_preprocess</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing statistical description of variables present in
a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

library(dplyr)

###### Example : Any data frame can be a dataset by definition.
dataset_preprocess &lt;- dataset_preprocess(iris)
glimpse(summary_variables(dataset_preprocess = dataset_preprocess))

}

</code></pre>

<hr>
<h2 id='summary_variables_categorical'>Provide descriptive statistics for variables of categorical in a dataset</h2><span id='topic+summary_variables_categorical'></span>

<h3>Description</h3>

<p>Summarizes (in a data frame) the columns of type 'categorical' in a dataset and
its data dictionary (if any). The summary provides information about
quality, type, composition, and descriptive statistics of variables.
Statistics are generated by valueType.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_variables_categorical(
  dataset = NULL,
  data_dict = NULL,
  dataset_preprocess = .dataset_preprocess,
  .dataset_preprocess = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_variables_categorical_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="summary_variables_categorical_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="summary_variables_categorical_+3A_dataset_preprocess">dataset_preprocess</code></td>
<td>
<p>A data frame which provides summary of the variables
(for internal processes and programming).</p>
</td></tr>
<tr><td><code id="summary_variables_categorical_+3A_.dataset_preprocess">.dataset_preprocess</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A data frame providing statistical description of 'categorical' variables
present in a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

library(dplyr)

###### Example : Any data frame can be a dataset by definition.
dataset_preprocess &lt;- dataset_preprocess(iris['Species'])
glimpse(summary_variables_categorical(dataset_preprocess = dataset_preprocess))

}

</code></pre>

<hr>
<h2 id='summary_variables_date'>Provide descriptive statistics for variables of type 'date' in a dataset</h2><span id='topic+summary_variables_date'></span>

<h3>Description</h3>

<p>Summarizes (in a data frame) the columns of type 'date' in a dataset and its
data dictionary (if any). The summary provides information about quality,
type, composition, and descriptive statistics of variables. Statistics are
generated by valueType.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_variables_date(
  dataset = NULL,
  data_dict = NULL,
  dataset_preprocess = .dataset_preprocess,
  .dataset_preprocess = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_variables_date_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="summary_variables_date_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="summary_variables_date_+3A_dataset_preprocess">dataset_preprocess</code></td>
<td>
<p>A data frame which provides summary of the
variables (for internal processes and programming).</p>
</td></tr>
<tr><td><code id="summary_variables_date_+3A_.dataset_preprocess">.dataset_preprocess</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing statistical description of 'date' variables present
in a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
   
# use madshapR_DEMO provided by the package
library(dplyr)
library(fabR)

dataset_preprocess &lt;- 
  madshapR_DEMO$dataset_TOKYO %&gt;%
    mutate(dob = as_any_date(dob)) %&gt;%
    select(dob) %&gt;%
    head() %&gt;%
    dataset_preprocess

glimpse(summary_variables_date(dataset_preprocess = dataset_preprocess))

}

</code></pre>

<hr>
<h2 id='summary_variables_datetime'>Provide descriptive statistics for variables of type 'datetime' in a dataset</h2><span id='topic+summary_variables_datetime'></span>

<h3>Description</h3>

<p>Summarizes (in a data frame) the columns of type 'datetime' in a dataset and
its data dictionary (if any). The summary provides information about quality,
type, composition, and descriptive statistics of variables. Statistics are
generated by valueType.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_variables_datetime(
  dataset = NULL,
  data_dict = NULL,
  dataset_preprocess = .dataset_preprocess,
  .dataset_preprocess = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_variables_datetime_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="summary_variables_datetime_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="summary_variables_datetime_+3A_dataset_preprocess">dataset_preprocess</code></td>
<td>
<p>A data frame which provides summary of the
variables (for internal processes and programming).</p>
</td></tr>
<tr><td><code id="summary_variables_datetime_+3A_.dataset_preprocess">.dataset_preprocess</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing statistical description of 'datetime' variables present
in a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
   
# use madshapR_DEMO provided by the package
library(dplyr)
library(lubridate)
library(fabR)

dataset_preprocess &lt;-
  madshapR_DEMO$dataset_TOKYO %&gt;%
  mutate(dob = as_datetime(as_any_date(dob))) %&gt;%
  select(dob) %&gt;%
  head() %&gt;%
  dataset_preprocess

glimpse(summary_variables_datetime(dataset_preprocess = dataset_preprocess))

}

</code></pre>

<hr>
<h2 id='summary_variables_numeric'>Provide descriptive statistics for variables of type 'numeric' in a dataset</h2><span id='topic+summary_variables_numeric'></span>

<h3>Description</h3>

<p>Summarizes (in a data frame) the columns of type 'numeric' in a dataset and
its data dictionary (if any). The summary provides information about quality,
type, composition, and descriptive statistics of variables. Statistics are
generated by valueType.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_variables_numeric(
  dataset = NULL,
  data_dict = NULL,
  dataset_preprocess = .dataset_preprocess,
  .dataset_preprocess = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_variables_numeric_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="summary_variables_numeric_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="summary_variables_numeric_+3A_dataset_preprocess">dataset_preprocess</code></td>
<td>
<p>A data frame which provides summary of the
variables (for internal processes and programming).</p>
</td></tr>
<tr><td><code id="summary_variables_numeric_+3A_.dataset_preprocess">.dataset_preprocess</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing statistical description of 'numerical' variables
present in a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

library(dplyr)

###### Example : Any data frame can be a dataset by definition.
dataset_preprocess &lt;- dataset_preprocess(iris)
glimpse(summary_variables_numeric(dataset_preprocess = dataset_preprocess))

}

</code></pre>

<hr>
<h2 id='summary_variables_text'>Provide descriptive statistics for variables of type 'text' in a dataset</h2><span id='topic+summary_variables_text'></span>

<h3>Description</h3>

<p>Summarizes (in a data frame) the columns of type 'text' in a dataset and its
data dictionary (if any). The summary provides information about quality,
type, composition, and descriptive statistics of variables. Statistics are
generated by valueType.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>summary_variables_text(
  dataset = NULL,
  data_dict = NULL,
  dataset_preprocess = .dataset_preprocess,
  .dataset_preprocess = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary_variables_text_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="summary_variables_text_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="summary_variables_text_+3A_dataset_preprocess">dataset_preprocess</code></td>
<td>
<p>A data frame which provides summary of the variables
(for internal processes and programming).</p>
</td></tr>
<tr><td><code id="summary_variables_text_+3A_.dataset_preprocess">.dataset_preprocess</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>


<h3>Value</h3>

<p>A data frame providing statistical description of 'text' variables present
in a dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
   
###### Example : Any data frame can be a dataset by definition.
library(dplyr)

dataset_preprocess &lt;- dataset_preprocess(starwars['homeworld'])
glimpse(summary_variables_text(dataset_preprocess = dataset_preprocess))

}

</code></pre>

<hr>
<h2 id='valueType_adjust'>Attribute the valueType from a data dictionary to a dataset, or vice versa</h2><span id='topic+valueType_adjust'></span>

<h3>Description</h3>

<p>Takes the valueType of the input (from) and attributes it to the output (to).
The parameters 'from' and 'to' can be either a dataset or a data dictionary.
Depending on the input provided, the valueType replaced is either in the
'valueType' column of a data dictionary or cast to a column in a dataset.
If 'to' is not provided, the function calls <code><a href="#topic+valueType_self_adjust">valueType_self_adjust()</a></code>
instead. The possible values returned are 'date', 'boolean', 'integer',
'decimal', and text'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valueType_adjust(from, to = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valueType_adjust_+3A_from">from</code></td>
<td>
<p>Object to be adjusted. Can be either a dataset or a data
dictionary.</p>
</td></tr>
<tr><td><code id="valueType_adjust_+3A_to">to</code></td>
<td>
<p>Object to be adjusted. Can be either a dataset or a data
dictionary. NULL by default.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>Either a data frame, identifying the dataset, or a list of data frame(s)
identifying a data dictionary, depending which is 'to'.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+valueType_self_adjust">valueType_self_adjust()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package
library(dplyr)

dataset &lt;- madshapR_DEMO$dataset_TOKYO[c(1:4),'prg_ever']
data_dict &lt;-
  madshapR_DEMO$data_dict_TOKYO %&gt;%
  data_dict_filter(filter_var = 'name == "prg_ever"') %&gt;%
  as_data_dict_mlstr()

head(valueType_adjust(from = data_dict,to = dataset))

}

</code></pre>

<hr>
<h2 id='valueType_guess'>Guess the first possible valueType of an object (Can be a vector)</h2><span id='topic+valueType_guess'></span>

<h3>Description</h3>

<p>Provides the first possible valueType of a variable. The function tries to
assign the valueType of the object first to 'boolean', then 'integer', then
'decimal', then 'date'. If all others fail, the default valueType is 'text'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valueType_guess(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valueType_guess_+3A_x">x</code></td>
<td>
<p>Object. Can be a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A character string which is the first possible valueType of the input object.
</p>


<h3>See Also</h3>

<p><a href="https://opaldoc.obiba.org/en/dev/magma-user-guide/value/type.html">Opal documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

dataset &lt;- madshapR_DEMO$dataset_TOKYO
valueType_guess(dataset$dob)

valueType_guess(mtcars$cyl)

}

</code></pre>

<hr>
<h2 id='valueType_list'>Built-in data frame of allowed valueType values</h2><span id='topic+valueType_list'></span>

<h3>Description</h3>

<p>Provides a built-in data frame showing the list of allowed Opal valueType
values and their corresponding R data types. This data frame is mainly used
for internal processes and programming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valueType_list
</code></pre>


<h3>Format</h3>



<h4><code>data.frame</code></h4>

<p>A data frame with 12 rows and 7 columns:
</p>

<dl>
<dt>valueType</dt><dd><p>data type as described in Opal</p>
</dd>
<dt>typeof</dt><dd><p>data type provided by base::typeof</p>
</dd>
<dt>class</dt><dd><p>data class provided by base::class</p>
</dd>
<dt>call</dt><dd><p>function to transpose object according base::do.call function</p>
</dd>
<dt>toValueType</dt><dd><p>ensemble data type as described in Opal</p>
</dd>
<dt>toTypeof</dt><dd><p>ensemble data type provided by base::typeof</p>
</dd>
<dt>genericType</dt><dd><p>ensemble data type which valueType belongs</p>
</dd>
</dl>
<p>...

</p>



<h3>Details</h3>

<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>See Also</h3>

<p><a href="https://opaldoc.obiba.org/en/dev/magma-user-guide/value/type.html">Opal documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

print(valueType_list)

}
</code></pre>

<hr>
<h2 id='valueType_of'>Return the valueType of an object</h2><span id='topic+valueType_of'></span>

<h3>Description</h3>

<p>Determines the valueType of an object based on <code><a href="base.html#topic+typeof">typeof()</a></code> and
<code><a href="base.html#topic+class">class()</a></code>. The possible values returned are 'date', 'boolean',
'integer', 'decimal', and 'text'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valueType_of(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valueType_of_+3A_x">x</code></td>
<td>
<p>Object. Can be a vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A character string which is the valueType of the input object.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+typeof">typeof()</a></code>, <code><a href="base.html#topic+class">class()</a></code>
<a href="https://opaldoc.obiba.org/en/dev/magma-user-guide/value/type.html">Opal documentation</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

# use madshapR_DEMO provided by the package

dataset &lt;- madshapR_DEMO$dataset_MELBOURNE
valueType_of(dataset$Gender)
valueType_of(iris$Sepal.Length)

}

</code></pre>

<hr>
<h2 id='valueType_self_adjust'>Guess and attribute the valueType of a data dictionary or dataset variable</h2><span id='topic+valueType_self_adjust'></span>

<h3>Description</h3>

<p>Determines the valueType of an object based on <code><a href="base.html#topic+typeof">base::typeof()</a></code> and
<code><a href="base.html#topic+class">base::class()</a></code>.
The possible values returned are 'date', 'boolean', 'integer', 'decimal', and
'text'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valueType_self_adjust(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valueType_self_adjust_+3A_...">...</code></td>
<td>
<p>Object that can be either a dataset or a data dictionary.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>Either a data frame, identifying the dataset, or a list of data frame(s)
identifying a data dictionary, depending which the input refers to.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+valueType_adjust">valueType_adjust()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

###### Example : The valueType of a dataset can be adjusted. each column is
# evaluated as whole, and the best valueType match found is applied. If 
# there is no better match found, the column is left as it is.

head(valueType_self_adjust(mtcars['cyl']))

}

</code></pre>

<hr>
<h2 id='variable_visualize'>Generate a list of charts, figures and summary tables of a variable</h2><span id='topic+variable_visualize'></span>

<h3>Description</h3>

<p>Analyses the content of a variable and its data dictionary (if any),
identifies its data type and values accordingly and generates figures and
summaries (datatable format). The figures and tables are representations of
data distribution, statistics and valid/non valid/missing values (based on
the data dictionary information if provided and the data type of the
variable). This function can be used to personalize report parameters and is
internally used in the function <code><a href="#topic+dataset_visualize">dataset_visualize()</a></code>. Up to seven objects
are generated which include : One datatable of the key elements of the
data dictionary, one datatable summarizing statistics (such as mean,
quartile, most seen value, most recent date, ... , depending on the
data type of the variable), two graphs showing the distribution of the
variable, One bar chart for categorical values (if any), One bar chart for
missing values (if any), One pie chart for the proportion of valid and
missing values (if any). The variable can be grouped using <code>group_by</code>
parameter, which is a (categorical) column in the dataset. The user may need
to use <code><a href="#topic+as_category">as_category()</a></code> in this context. To fasten the process (and allow
recycling object in a workflow) the user can feed the function with a
<code>variable_summary</code>, which is the output of the function <code><a href="#topic+dataset_summarize">dataset_summarize()</a></code>
of the column(s) <code>col</code> and  <code>group_by</code>. The summary must have the same
parameters to operate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>variable_visualize(
  dataset = tibble(id = as.character()),
  col,
  data_dict = NULL,
  group_by = NULL,
  valueType_guess = FALSE,
  variable_summary = .summary_var,
  .summary_var = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="variable_visualize_+3A_dataset">dataset</code></td>
<td>
<p>A dataset object.</p>
</td></tr>
<tr><td><code id="variable_visualize_+3A_col">col</code></td>
<td>
<p>A character string specifying the name of the column.</p>
</td></tr>
<tr><td><code id="variable_visualize_+3A_data_dict">data_dict</code></td>
<td>
<p>A list of data frame(s) representing metadata of the input
dataset. Automatically generated if not provided.</p>
</td></tr>
<tr><td><code id="variable_visualize_+3A_group_by">group_by</code></td>
<td>
<p>A character string identifying the column in the dataset
to use as a grouping variable. Elements will be grouped by this
column.</p>
</td></tr>
<tr><td><code id="variable_visualize_+3A_valuetype_guess">valueType_guess</code></td>
<td>
<p>Whether the output should include a more accurate
valueType that could be applied to the dataset. FALSE by default.</p>
</td></tr>
<tr><td><code id="variable_visualize_+3A_variable_summary">variable_summary</code></td>
<td>
<p>A summary list which is the summary of the variables.</p>
</td></tr>
<tr><td><code id="variable_visualize_+3A_.summary_var">.summary_var</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A dataset is a data table containing variables. A dataset object is a
data frame and can be associated with a data dictionary. If no
data dictionary is provided with a dataset, a minimum workable
data dictionary will be generated as needed within relevant functions.
Identifier variable(s) for indexing can be specified by the user.
The id values must be non-missing and will be used in functions that
require it. If no identifier variable is specified, indexing is
handled automatically by the function.
</p>
<p>A data dictionary contains the list of variables in a dataset and metadata
about the variables and can be associated with a dataset. A data dictionary
object is a list of data frame(s) named 'Variables' (required) and
'Categories' (if any). To be usable in any function, the data frame
'Variables' must contain at least the <code>name</code> column, with all unique and
non-missing entries, and the data frame 'Categories' must contain at least
the <code>variable</code> and <code>name</code> columns, with unique combination of
<code>variable</code> and <code>name</code>.
</p>
<p>The valueType is a declared property of a variable that is required in
certain functions to determine handling of the variables. Specifically,
valueType refers to the
<a href="https://opaldoc.obiba.org/en/dev/variables-data.html#value-types">OBiBa data type of a variable</a>.
The valueType is specified in a data dictionary in a column 'valueType' and
can be associated with variables as attributes. Acceptable valueTypes
include 'text', 'integer', 'decimal', 'boolean', datetime', 'date'. The full
list of OBiBa valueType possibilities and their correspondence with R data
types are available using <a href="#topic+valueType_list">valueType_list</a>. The valueType can be used to
coerce the variable to the corresponding data type.
</p>


<h3>Value</h3>

<p>A list of up to seven elements (charts and figures and datatables) which can
be used to summarize visualize data.
</p>


<h3>See Also</h3>

<p><code><a href="DT.html#topic+datatable">DT::datatable()</a></code>, <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code>
<code><a href="#topic+dataset_summarize">dataset_summarize()</a></code>, <code><a href="#topic+dataset_visualize">dataset_visualize()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{

 library(dplyr)
 library(fs)
 
 dataset &lt;- madshapR_DEMO$dataset_TOKYO
 
 variable_summary &lt;- madshapR_DEMO$`dataset_summary`
  
 variable_visualize(
   dataset, col = 'height',
   variable_summary =  variable_summary)
 
 
}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package ltxsparklines</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ltxsparklines}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ltxsparklines-package'>
<p>Lightweight Sparklines for a LaTeX Document</p></a></li>
<li><a href='#sparkline'>
<p>Create a Sparkline</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Lightweight Sparklines for a LaTeX Document</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-04-05</td>
</tr>
<tr>
<td>Description:</td>
<td>Sparklines are small plots (about one line of text high),
  made popular by Edward Tufte.  This package is the interface from R
  to the LaTeX package sparklines by Andreas Loeffer and Dan Luecking
  (<a href="http://www.ctan.org/pkg/sparklines">http://www.ctan.org/pkg/sparklines</a>).  It can work with Sweave or
  knitr or other engines that produce TeX.  The package can be used to
  plot vectors, matrices, data frames, time series (in ts or zoo format).</td>
</tr>
<tr>
<td>Suggests:</td>
<td>zoo</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/borisveytsman/ltxsparklines">https://github.com/borisveytsman/ltxsparklines</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-04-06 02:07:29 UTC; boris</td>
</tr>
<tr>
<td>Author:</td>
<td>Boris Veytsman [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Boris Veytsman &lt;borisv@lk.net&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-04-06 06:42:29 UTC</td>
</tr>
</table>
<hr>
<h2 id='ltxsparklines-package'>
Lightweight Sparklines for a LaTeX Document
</h2><span id='topic+ltxsparklines-package'></span><span id='topic+ltxsparklines'></span>

<h3>Description</h3>

<p>Sparklines are small plots (about one line of text high),
  made popular by Edward Tufte.  This package is the interface from R
  to the LaTeX package sparklines by Andreas Loeffer and Dan Luecking
  (&lt;http://www.ctan.org/pkg/sparklines&gt;).  It can work with Sweave or
  knitr or other engines that produce TeX.  The package can be used to
  plot vectors, matrices, data frames, time series (in ts or zoo format).
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ltxsparklines</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Lightweight Sparklines for a LaTeX Document</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> c(person("Boris", "Veytsman", role = c("aut", "cre"),
                     email = "borisv@lk.net"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2022-04-05</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Sparklines are small plots (about one line of text high),
  made popular by Edward Tufte.  This package is the interface from R
  to the LaTeX package sparklines by Andreas Loeffer and Dan Luecking
  (&lt;http://www.ctan.org/pkg/sparklines&gt;).  It can work with Sweave or
  knitr or other engines that produce TeX.  The package can be used to
  plot vectors, matrices, data frames, time series (in ts or zoo format).</td>
</tr>
<tr>
 <td style="text-align: left;">
Suggests: </td><td style="text-align: left;"> zoo</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2 | GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/borisveytsman/ltxsparklines</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Boris Veytsman [aut, cre]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Boris Veytsman &lt;borisv@lk.net&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
ltxsparklines-package   Lightweight Sparklines for a LaTeX Document
sparkline               Create a Sparkline
</pre>

<p>Further information is available in the following vignettes:<br /><br />
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>ltxsparklines</code> </td><td style="text-align: left;"> sparklines (source, pdf)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are several packages that produce sparklines in R: SparkTable by
Alexander Kowarik, Bernhard Meindl, Matthias Templ
(https://CRAN.R-project.org/package=sparkTable),  sparklines by Bart
(https://github.com/Bart6114/sparklines).  However, they either provide
HTML-only output, or require Java libraries.  This is a lightweight and
easy to use package for LaTeX users.
</p>
<p>The package provides one function, <code><a href="#topic+sparkline">sparkline</a></code>, which
outputs LaTeX code compatible with LaTeX package <code>sparklines</code>
(Andreas Loeffer and Dan Luecking, http://www.ctan.org/pkg/sparklines). 
</p>


<h3>Package options and setup</h3>

<p>Do not forget to add <code>\usepackage{sparklines}</code> to the preamble
of your TeX document.
</p>
<p>There are two sets of options for
sparklines in LaTeX: those which are set from TeX, and those which are
set from R.  The TeX options should be set with <code>\renewcommand</code>,
<code>\definecolor</code> or <code>\setlength</code>, for example,
</p>
<pre>
    % The height of the sparklines in ex units
    \renewcommand\sparklineheight{1.75} 
    % The line width
    \setlength\sparklinethickness{0.4pt}
    % The color of the sparkline
    \definecolor{sparklinecolor}{named}{blue}
    % The color of the sparkine rectangle when present
    \definecolor{sparkrectanglecolor}{gray}{0.8}
    % The dot width
    \setlength\sparkdotwidth{2pt}
    % The color of the spikes
    \definecolor{sparkspikecolor}{named}{red}
    % The color of the bottom line when present
    \definecolor{bottomlinecolor}{gray}{0.2}
    % The thickness of the bottom line
    \setlength\sparkbottomlinethickness{.2pt}
    % The clipping separation (need sparklines v1.7 or later)
    \setlength\sparklineclipsep{2pt}    
    </pre>
<p>See the documentation for the LaTeX <code>sparklines</code> package.
</p>
<p>Most options set from R define the defaults for <code>sparkline</code>
command.  They can 
be overriden by the corresponding argument of <code>sparkline</code>, for
example, <code>sparkline(...,width=20)</code>.
</p>

<dl>
<dt>ltxsparklines.width</dt><dd><p>The width of the sparkline
(<code>10</code>).</p>
</dd> 
<dt>ltxsparklines.clip</dt><dd><p>Whether to clip the sparklines in the
drawing region (<code>FALSE</code>).  You need LaTeX <code>sparklines</code>
package at least v1.7 for <code>clip=TRUE</code>.</p>
</dd> 
<dt>ltxsparklines.na.rm</dt><dd><p>Whether to delete <code>NA</code> lines from
the sparkline data (<code>TRUE</code>).</p>
</dd>
<dt>ltxsparklines.bottomline</dt><dd><p>Whether to add the bottom line
(FALSE). You need LaTeX
<code>sparklines</code> package at least v1.6 to draw bottom
line.</p>
</dd> 
<dt>ltxsparklines.bottomlinex</dt><dd><p>The dimensions of the extended
bottom line (by default <code>c(NA, NA)</code>, which means  no extended
bottom line). You need LaTeX
<code>sparklines</code> package at least v1.7 to draw extended bottom
line.</p>
</dd> 
<dt>ltxsparklines.startdotcolor</dt><dd><p>The color of the dot at the start
of the sparkline.  If <code>NA</code> (the default), do not draw the dot.</p>
</dd>
<dt>ltxsparklines.enddotcolor</dt><dd><p>The color of the dot at the end
of the sparkline.  If <code>NA</code> (the default), do not draw the dot.</p>
</dd>
<dt>ltxsparklines.dotcolor</dt><dd><p>The color of dots in the sparkline
(<code>blue</code>).</p>
</dd> 
<dt>ltxsparklines.output</dt><dd><p>The output format (<code>knitr</code>).</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Boris Veytsman
</p>
<p>Maintainer: &lt;borisv@lk.net&gt; 
</p>


<h3>References</h3>

<p>Andreas Loeffer and Dan Luecking, Sparklines, 2016,
http://www.ctan.org/pkg/sparklines
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sparkline">sparkline</a></code>
<code>vignette(ltxsparklines)</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sparkline(x=c(1,3,6),
          y=c(5,8,9),
          startdotcolor='blue',
          enddotcolor='red')

## End(Not run)
## Not run: 
sparkline(Nile)

## End(Not run)
</code></pre>

<hr>
<h2 id='sparkline'>
Create a Sparkline
</h2><span id='topic+sparkline'></span>

<h3>Description</h3>

<p>The function creates a TeX expression for a sparkline from the data supplied.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sparkline(x = NULL, y = NULL, xspikes = NULL, yspikes = NULL,
          xdots = NULL, ydots = NULL, dotcolor = NULL,
          width = getOption("ltxsparklines.width"),
          rectangle = c(NA, NA),
          xlim = c(NA, NA), ylim = c(NA, NA),
          clip = getOption("ltxsparklines.clip"),
          na.rm = getOption("ltxsparklines.na.rm"),
          bottomline = getOption("ltxsparklines.bottomline"),
          bottomlinelength = NA,
          bottomlinex = getOption("ltxsparklines.bottomlinex"),
          startdotcolor = getOption("ltxsparklines.startdotcolor"),
          enddotcolor = getOption("ltxsparklines.enddotcolor"),
          output = getOption('ltxsparklines.output'))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sparkline_+3A_x">x</code></td>
<td>

<p>The data for sparkline.  If both <code>x</code> and <code>y</code> are present,
they must be vectors of the same length, and interpreted as x and y
coordinates for a sparkline.  If only <code>x</code> or <code>y</code> is
present, then the result depends on its class:
</p>

<ul>
<li><p> If it is a matrix or data frame, then its first column is
assumed to be 
the x coordinate, and its second column is assumed to be the y
coordinate.
</p>
</li>
<li><p> If it is a time series (either <code>ts</code> or <code>zoo</code>),
then it is assumed to be the y coordinate, and <code>time(x)</code> is
assumed to be the x coordinate.
</p>
</li>
<li><p> Otherwise it is assumed to be the y coordinate, and the
sequence <code>1:length(x)</code> is assumed to be x coordinate.
</p>
</li></ul>

</td></tr>
<tr><td><code id="sparkline_+3A_y">y</code></td>
<td>

<p>See <code>x</code>.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_xspikes">xspikes</code></td>
<td>

<p>The data for spikes: small bar chart similar to sparklines.  If both
<code>xspikes</code> and <code>yspikes</code> are present, they are x and y
coordinates for spike.  If only one is present, it is interpreted as
<code>x</code> above.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_yspikes">yspikes</code></td>
<td>

<p>See <code>xspikes</code> above.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_xdots">xdots</code></td>
<td>

<p>The data for dots: small dot chart similar to sparklines.  If both
<code>xdots</code> and <code>ydots</code> are present, they are x and y
coordinates for dots.  If only one is present, it is interpreted as
<code>x</code> above with one addition: if <code>xdots</code> is a data frame,
and has three or more columns, and <code>dotcolor</code> is not set,
the third column is interpreted as
the dot color.  
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_ydots">ydots</code></td>
<td>

<p>See <code>ydots</code> above
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_dotcolor">dotcolor</code></td>
<td>

<p>The color of dots as a LaTeX color.  A vector like
<code>c('red', 'blue', 'green')</code>.  If it is larger than the number
of dots, it will be truncated.  If it is shorted than the number of
dots, it will be recycled.
</p>
<p>If it is not set, and data do not provide it,
<code>option('ltxsparklines.defaultdotcolor')</code> is used.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_width">width</code></td>
<td>

<p>The width of the sparline in <code>ex</code> of the current font.  By
default 10.  To change the default, use
<code>option(ltxsparklines.width=...)</code>. 
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_rectangle">rectangle</code></td>
<td>

<p>A vector <code>c(min,max)</code> for the bottom and top of the background
rectangle (for example, to show IQR of the data).  If <code>NA</code>, no
rectangle is drawn.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_xlim">xlim</code></td>
<td>

<p>A vector <code>c(min,max)</code> of the x range of the data mapped to the
c(0,1) interval.  If any of
its components is <code>NA</code>, the default, the actual range is used.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_ylim">ylim</code></td>
<td>

<p>A vector <code>c(min,max)</code> of the y range of the data mapped to the
c(0,1) interval.  If any of
its components is <code>NA</code>, the default, the actual range is used.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_clip">clip</code></td>
<td>

<p>Whether to clip the sparkline to the drawing region.  The default is
not clipping.  To change the default, use
<code>option(ltxsparklines.clip=TRUE)</code>.  You need LaTeX package at
least v1.7 for clipping.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_na.rm">na.rm</code></td>
<td>

<p>Whether to delete <code>NA</code> lines from the spark data.  If
<code>TRUE</code> (the default), the sparkline is drawn over the gaps in
the data.  Otherwise gaps in the data lead to gaps in the line, so
it is presented as a number of chunks.
Note that continuous chunks of data must have at least two data
points to be drawn.
</p>
<p>This parameter does not affect spikes or dots.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_bottomline">bottomline</code></td>
<td>

<p>Whether to draw a bottom line.  By default, <code>FALSE</code>.  To
change the default, use 
<code>option(ltxsparklines.bottomline=...)</code>.
You need LaTeX package at
least v1.6 for bottom lines.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_bottomlinelength">bottomlinelength</code></td>
<td>

<p>The length of bottom line.  If <code>NA</code> (the default), the bottom
line extends to the end ot the spark rectangle.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_bottomlinex">bottomlinex</code></td>
<td>

<p>The dimensions  of the extended bottom line.
If <code>c(NA, NA)</code> (the default), the extended bottom
line is not drawn. You need LaTeX package at
least v1.7 for extended bottom lines.
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_startdotcolor">startdotcolor</code></td>
<td>

<p>The color of the dot at the beginning of the spark line.  If
<code>NA</code> (the default), no dot is drawn. To
change the default, use 
<code>option(ltxsparklines.startdotcolor=...)</code>. 
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_enddotcolor">enddotcolor</code></td>
<td>

<p>The color of the dot at the end of the spark line.  If
<code>NA</code> (the default), no dot is drawn. To
change the default, use 
<code>option(ltxsparklines.enddotcolor=...)</code>. 
</p>
</td></tr>
<tr><td><code id="sparkline_+3A_output">output</code></td>
<td>

<p>The format of the output.  <code>Sweave</code> uses special
processing for inline (<code>Sexpr</code>) code.  Thus you need to set
<code>output</code> to <code>inlineSweave</code> if you use <code>Sweave</code>
and <code>Sexpr</code>.  If you use  <code>knitr</code> or a <code>Sweave</code>
chunk, set <code>output</code> to <code>knitr</code>.  This is the default, to
change it, use <code>option(ltxsparklines.output='inlineSweave')</code>.
See Details below.
</p>
</td></tr>
</table>


<h3>Details</h3>

  
<p>Most of the parameters of the sparkline are defined by the TeX code.
Thus all color values must be understandable to LaTeX.  For example,
you can put in the TeX file
</p>
<pre>\definecolor{startdot}{named}{red}</pre>
<p>and then use it like <code>sparkline(Nile, startdotcolor="startdot")</code>.
</p>
<p>You should use LaTeX command to change sparkline parameters, for
example,
</p>
<pre>\setlength\sparklinethickness{0.3pt}</pre>
<p>The output of <code>sparkline</code> is also a TeX command, so you want to
put it inside <code>Sexpr</code> or a code chunk.  Note that <code>Sweave</code>
use a special processing for <code>Sexpr</code>, so you need to set
<code>output="inlineSweave"</code> for inline <code>Sweave</code> output.  Use
<code>output="knitr"</code> for <code>knitr</code> (both inline and chunks) and
<code>Sweave</code> chunks.  
</p>
<p>The parameters <code>xlim</code> and <code>ylim</code> define the mapping between
the data and the sparkline rectangle.  If there are data points
outside the rectangle, they may overplot the text.  You may set
<code>clip</code> to <code>TRUE</code> to prevent this.  
</p>


<h3>Value</h3>

<p>The function returns a string executable by TeX, to be used in
<code>\Sexpr</code>, for example
<code>Nile level changed over the years: \Sexpr{sparkline(Nile)}</code>.
</p>
<p>Do not forget to add <code>\usepackage{sparklines}</code> to the preamble
of your TeX document.
</p>


<h3>Author(s)</h3>

<p>Boris Veytsman
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ltxsparklines-package">ltxsparklines-package</a></code>,
<code>vignette{ltxsparklines}</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
sparkline(x=c(1,3,6),
          y=c(5,8,9),
          startdotcolor="blue",
          enddotcolor="red")

## End(Not run)
## Not run: 
sparkline(Nile)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

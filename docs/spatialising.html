<!DOCTYPE html><html lang="en"><head><title>Help for package spatialising</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {spatialising}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#spatialising-package'><p>spatialising: Ising Model for Spatial Data</p></a></li>
<li><a href='#composition_index'><p>Composition imbalance index</p></a></li>
<li><a href='#kinetic_ising'><p>Ising model for spatial data</p></a></li>
<li><a href='#kinetic_ising_ensemble'><p>Ensemble of Ising models for spatial data</p></a></li>
<li><a href='#kinetic_ising_exemplar'><p>Exemplar of an Ising model for spatial data</p></a></li>
<li><a href='#r_end'><p>An example matrix object</p></a></li>
<li><a href='#r_start'><p>An example matrix object</p></a></li>
<li><a href='#r_start.tif'><p>An example binary raster</p></a></li>
<li><a href='#texture_index'><p>Texture index</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Ising Model for Spatial Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs simulations of binary spatial raster data using
    the Ising model (Ising (1925) &lt;<a href="https://doi.org/10.1007%2FBF02980577">doi:10.1007/BF02980577</a>&gt;; 
    Onsager (1944) &lt;<a href="https://doi.org/10.1103%2FPhysRev.65.117">doi:10.1103/PhysRev.65.117</a>&gt;). It allows to set a few
    parameters that represent internal and external pressures, and the number 
    of simulations (Stepinski and Nowosad (2023) &lt;<a href="https://doi.org/10.1098%2Frsos.231005">doi:10.1098/rsos.231005</a>&gt;).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>comat, Rcpp, terra</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Nowosad/spatialising">https://github.com/Nowosad/spatialising</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Nowosad/spatialising/issues">https://github.com/Nowosad/spatialising/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, optimization, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>false</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-26 20:07:45 UTC; jn</td>
</tr>
<tr>
<td>Author:</td>
<td>Jakub Nowosad <a href="https://orcid.org/0000-0002-1057-3721"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jakub Nowosad &lt;nowosad.jakub@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-27 17:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='spatialising-package'>spatialising: Ising Model for Spatial Data</h2><span id='topic+spatialising'></span><span id='topic+spatialising-package'></span>

<h3>Description</h3>

<p>Performs simulations of binary spatial raster data using the Ising model (Ising (1925) <a href="https://doi.org/10.1007/BF02980577">doi:10.1007/BF02980577</a>; Onsager (1944) <a href="https://doi.org/10.1103/PhysRev.65.117">doi:10.1103/PhysRev.65.117</a>). It allows to set a few parameters that represent internal and external pressures, and the number of simulations (Stepinski and Nowosad (2023) <a href="https://doi.org/10.1098/rsos.231005">doi:10.1098/rsos.231005</a>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jakub Nowosad <a href="mailto:nowosad.jakub@gmail.com">nowosad.jakub@gmail.com</a> (<a href="https://orcid.org/0000-0002-1057-3721">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/Nowosad/spatialising">https://github.com/Nowosad/spatialising</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/Nowosad/spatialising/issues">https://github.com/Nowosad/spatialising/issues</a>
</p>
</li></ul>


<hr>
<h2 id='composition_index'>Composition imbalance index</h2><span id='topic+composition_index'></span>

<h3>Description</h3>

<p>Calculates composition imbalance index (also known as the m index) &ndash; a sum of cell’s values
over the entire site divided by the number of cell in the site.
m has a range from -1 (site completely dominated by the -1 values) to
1 (site completely dominated by the 1 values).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>composition_index(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="composition_index_+3A_x">x</code></td>
<td>
<p>SpatRaster or matrix containing two values: -1 and 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector
</p>


<h3>See Also</h3>

<p><code><a href="#topic+kinetic_ising">kinetic_ising()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(r_start, package = "spatialising")
composition_index(r_start)
ts1 = kinetic_ising(r_start, B = -0.3, J = 0.7)
composition_index(ts1)
ts2 = kinetic_ising(r_start, B = -0.3, J = 0.7, updates = 2)
composition_index(ts2)


  library(terra)
  r1 = rast(system.file("raster/r_start.tif", package = "spatialising"))
  composition_index(r1)
  r2 = kinetic_ising(r1, B = -0.3, J = 0.7)
  composition_index(r2)

</code></pre>

<hr>
<h2 id='kinetic_ising'>Ising model for spatial data</h2><span id='topic+kinetic_ising'></span>

<h3>Description</h3>

<p>Performs simulations based on the given parameters of the Ising model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kinetic_ising(
  x,
  B,
  J,
  updates = 1,
  iter,
  rule = "glauber",
  inertia = 0,
  version = 1,
  progress = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kinetic_ising_+3A_x">x</code></td>
<td>
<p>SpatRaster or matrix containing two values: -1 and 1</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_b">B</code></td>
<td>
<p>External pressure (positive or negative): it tries to align cells' values with its sign</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_j">J</code></td>
<td>
<p>Strength of the local autocorrelation tendency (always positive): it tries to align signs of neighboring cells</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_updates">updates</code></td>
<td>
<p>Specifies how many sets of iterations are performed on the input object.
The output of this function has as many layers as the <code>updates</code> value.</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_iter">iter</code></td>
<td>
<p>Specifies how many iterations are performed on the input object.
By default it equals to the number of values in the input object.</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_rule">rule</code></td>
<td>
<p>IM temporal evolution rule: either <code>"glauber"</code> (default) or <code>"metropolis"</code></p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_inertia">inertia</code></td>
<td>
<p>Represents the modification of the algorithm aimed at suppressing the salt-and-pepper noise of the focus category present when simulating evolution of a coarse-textured pattern. With Q &gt; 0, small patches of the focus category are not generated, thus eliminating the salt-and-pepper noise of the focus category</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_version">version</code></td>
<td>
<p>By default, <code>1</code>, the <code>x</code> object is converted into a matrix
(fast, but can be memory consuming); <code>version = 2</code> has a lower RAM impact, but
is much slower</p>
</td></tr>
<tr><td><code id="kinetic_ising_+3A_progress">progress</code></td>
<td>
<p>TRUE/FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same class as <code>x</code> with the number of layers specified by <code>updates</code>
</p>


<h3>References</h3>

<p>Ising, E., 1924. Beitrag zur theorie des ferro-und paramagnetismus. Ph.D. thesis, Grefe &amp; Tiedemann.
</p>
<p>Onsager, L., 1944. Crystal statistics. I. A two-dimensional model with an order-disorder transition. Physical Review 65 (3-4), 117.
</p>
<p>Brush, S. G., 1967. History of the Lenz-Ising model. Reviews of modern physics 39 (4), 883.
</p>
<p>Cipra, B. A., 1987. An introduction to the Ising model. The American Mathematical Monthly 94 (10), 937–959.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(r_start, package = "spatialising")
ts1 = kinetic_ising(r_start, B = -0.3, J = 0.7)
ts10 = kinetic_ising(r_start, B = -0.3, J = 0.7, updates = 10)


  r1 = terra::rast(system.file("raster/r_start.tif", package = "spatialising"))
  terra::plot(r1)
  r2 = kinetic_ising(r1, B = -0.3, J = 0.7)
  terra::plot(r2)

  library(terra)
  ri1 = kinetic_ising(r1, B = -0.3, J = 0.7, updates = 9)
  plot(ri1)

  ri2 = kinetic_ising(r1, B = 0.3, J = 0.7, updates = 9)
  plot(ri2)

  ri3 = kinetic_ising(r1, B = -0.3, J = 0.4, updates = 9)
  plot(ri3)

</code></pre>

<hr>
<h2 id='kinetic_ising_ensemble'>Ensemble of Ising models for spatial data</h2><span id='topic+kinetic_ising_ensemble'></span>

<h3>Description</h3>

<p>Creates an ensemble of simulations based on the given parameters of the Ising model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kinetic_ising_ensemble(runs, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kinetic_ising_ensemble_+3A_runs">runs</code></td>
<td>
<p>A number of simulations to perform</p>
</td></tr>
<tr><td><code id="kinetic_ising_ensemble_+3A_...">...</code></td>
<td>
<p>Arguments for <code><a href="#topic+kinetic_ising">kinetic_ising()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of objects of the same class as <code>x</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+kinetic_ising">kinetic_ising()</a></code>, <code><a href="#topic+kinetic_ising_exemplar">kinetic_ising_exemplar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(r_start, package = "spatialising")
l = kinetic_ising_ensemble(100, r_start, B = -0.3, J = 0.7)


  library(terra)
  r1 = rast(system.file("raster/r_start.tif", package = "spatialising"))
  plot(r1)
  r2 = kinetic_ising_ensemble(100, r1, B = -0.3, J = 0.7)

</code></pre>

<hr>
<h2 id='kinetic_ising_exemplar'>Exemplar of an Ising model for spatial data</h2><span id='topic+kinetic_ising_exemplar'></span>

<h3>Description</h3>

<p>Creates an ensemble of simulations based on the given parameters
of the Ising model and selects an exemplar
(a model that is closest to the average of the ensemble)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kinetic_ising_exemplar(runs, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="kinetic_ising_exemplar_+3A_runs">runs</code></td>
<td>
<p>A number of simulations to perform</p>
</td></tr>
<tr><td><code id="kinetic_ising_exemplar_+3A_...">...</code></td>
<td>
<p>Arguments for <code><a href="#topic+kinetic_ising">kinetic_ising()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object of the same class as <code>x</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+kinetic_ising">kinetic_ising()</a></code>, <code><a href="#topic+kinetic_ising_ensemble">kinetic_ising_ensemble()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(r_start, package = "spatialising")
l = kinetic_ising_exemplar(100, r_start, B = -0.3, J = 0.7)


  library(terra)
  r1 = rast(system.file("raster/r_start.tif", package = "spatialising"))
  plot(r1)
  r2 = kinetic_ising_exemplar(100, r1, B = -0.3, J = 0.7)
  plot(r2)

</code></pre>

<hr>
<h2 id='r_end'>An example matrix object</h2><span id='topic+r_end'></span>

<h3>Description</h3>

<p>A matrix has 50 columns and 50 rows. The matrix contains two values: -1 and 1.
This object was created with <code>r_end = kinetic_ising(r_start, B = -0.3, J = 0.7)</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(r_end)
</code></pre>


<h3>Format</h3>

<p>A matrix
</p>

<hr>
<h2 id='r_start'>An example matrix object</h2><span id='topic+r_start'></span>

<h3>Description</h3>

<p>A matrix has 50 columns and 50 rows. The matrix contains two values: -1 and 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(r_start)
</code></pre>


<h3>Format</h3>

<p>A matrix
</p>

<hr>
<h2 id='r_start.tif'>An example binary raster</h2><span id='topic+r_start.tif'></span>

<h3>Description</h3>

<p>A raster file covering an area of 50x50 cells. The raster file contains two values: -1 and 1.
<code>system.file("raster/r_start.tif", package = "spatialising")</code>
</p>


<h3>Format</h3>

<p>A raster file
</p>

<hr>
<h2 id='texture_index'>Texture index</h2><span id='topic+texture_index'></span>

<h3>Description</h3>

<p>Calculates texture index &ndash; an average (over an array) of a product of the values of neighboring cells.
The value of texture index is between 0 (fine texture), and 1 (coarse texture).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>texture_index(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="texture_index_+3A_x">x</code></td>
<td>
<p>SpatRaster or matrix containing two values: -1 and 1</p>
</td></tr>
<tr><td><code id="texture_index_+3A_...">...</code></td>
<td>
<p>Arguments for <code><a href="comat.html#topic+get_coma">comat::get_coma()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector
</p>


<h3>See Also</h3>

<p><code><a href="#topic+kinetic_ising">kinetic_ising()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(r_start, package = "spatialising")
texture_index(r_start)
ts1 = kinetic_ising(r_start, B = -0.3, J = 0.7)
texture_index(ts1)
ts2 = kinetic_ising(r_start, B = -0.3, J = 0.7, updates = 2)
texture_index(ts2)


  library(terra)
  r1 = rast(system.file("raster/r_start.tif", package = "spatialising"))
  texture_index(r1)
  r2 = kinetic_ising(r1, B = -0.3, J = 0.7)
  texture_index(r2)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

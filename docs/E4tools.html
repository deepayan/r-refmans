<!DOCTYPE html><html><head><title>Help for package E4tools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {E4tools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#E4tools-package'><p>E4tools: Management and Processing Tools for Data Produced by the Empatica E4</p></a></li>
<li><a href='#E4_EDA_Process.part1.ExtractRawEDA'><p>EDA Processing Part 1: Extract and filter EDA data</p></a></li>
<li><a href='#E4_EDA_Process.part2.ExtractButtonPresses'><p>EDA Processing Part 2: Extract button presses</p></a></li>
<li><a href='#E4_EDA_Process.part3.MatchPressesToEDA'><p>Match EDA data to button pressess</p></a></li>
<li><a href='#E4_EDA_Process.part4.BinMatchedEDA'><p>Bin the EDA data matched to button presses</p></a></li>
<li><a href='#E4.Acc_Process.part1.ExtractRawAcc'><p>Acc Processing Part 1: Extract raw acceleromter data</p></a></li>
<li><a href='#E4.Acc_Process.part2.Filter_ConvertAcc'><p>Accelerometer Processing Part 2: Extract and filter accelerometer data</p>
This function will allow you to filter acceleromter data (based on the EDA signal) and add metrics like g and the normalized Euclidian distance from origin vector.</a></li>
<li><a href='#E4.Diagnostics.EDAplot'><p>Diagnostics: Plot EDA data and button presses</p></a></li>
<li><a href='#E4.Diagnostics.tempplot'><p>Diagnostics: Plot Temperature data and button presses</p></a></li>
<li><a href='#E4.extras.BinEDA'><p>Extras: Make EDA bins</p></a></li>
<li><a href='#E4.extras.ButtonPressessPerDay'><p>EDA Extra Processing: Get number of button presses per participant, per day from the combined &quot;button_pressess.RDS&quot; file</p></a></li>
<li><a href='#E4.GGIR.Export'><p>GGIR Export</p></a></li>
<li><a href='#E4.Step0.FileHelper'><p>Set global file locations to make other functions easier</p></a></li>
<li><a href='#E4.Temp.part1.extract_raw_temp'><p>Temperature Processing Part 1: Extract raw temperature data</p></a></li>
<li><a href='#E4.Temp.part2.bin_temp'><p>Temperature part 2: Make temperature bins</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Management and Processing Tools for Data Produced by the
Empatica E4</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Process and manage the data from the Empatica E4. All functions operate on the EDA data stream, but other streams will be added soon. The Empatica E4 is a wearable physiological monitor made by Empatica (Empatica is not associated with any of this code). You can find more information about the E4 at Empatica's website <a href="https://www.empatica.com/research/e4/">https://www.empatica.com/research/e4/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>BBmisc, DataCombine, signal, stats, utils, anytime, chron,
data.table, ggplot2, scales, accelerometry, hms, doParallel,
doSNOW, parallel, foreach</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-07-07 13:39:22 UTC; evankleiman</td>
</tr>
<tr>
<td>Author:</td>
<td>Evan Kleiman [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Evan Kleiman &lt;evan.kleiman@rutgers.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-07-07 13:50:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='E4tools-package'>E4tools: Management and Processing Tools for Data Produced by the Empatica E4</h2><span id='topic+E4tools'></span><span id='topic+E4tools-package'></span>

<h3>Description</h3>

<p>Process and manage the data from the Empatica E4. All functions operate on the EDA data stream, but other streams will be added soon. The Empatica E4 is a wearable physiological monitor made by Empatica (Empatica is not associated with any of this code). You can find more information about the E4 at Empatica's website &lt;https://www.empatica.com/research/e4/&gt;.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Evan Kleiman <a href="mailto:evan.kleiman@rutgers.edu">evan.kleiman@rutgers.edu</a>
</p>

<hr>
<h2 id='E4_EDA_Process.part1.ExtractRawEDA'>EDA Processing Part 1: Extract and filter EDA data</h2><span id='topic+E4_EDA_Process.part1.ExtractRawEDA'></span>

<h3>Description</h3>

<p>This function allows you extract and filter EDA data. It will output raw data, filtered data (using user-specified high and low pass filters + a butterworth filter), and filtered + feature-scaled ([0,1]) data. It will also provide summary data at the participant and session level.
Inputs are: (1) List of participant numbers and (2) location where ZIP folders are stored. Outputs are: (1) one RDS file per participant with all data, (2) summary file that gives participant-level meta-data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4_EDA_Process.part1.ExtractRawEDA(participant_list, ziplocation,
  rdslocation.EDA, summarylocation, EDA_low_cut = 0, LowPctCutoff = 1,
  EDA_high_cut = 1000, HighPctCutoff = 1, KeepRejectFlag = TRUE,
  UseMultiCore = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_ziplocation">ziplocation</code></td>
<td>
<p>folder location where the participant-level subfolders are (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_rdslocation.eda">rdslocation.EDA</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_summarylocation">summarylocation</code></td>
<td>
<p>folder location where you want participant level summaries to be saved.</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_eda_low_cut">EDA_low_cut</code></td>
<td>
<p>This is a HIGH PASS filter. What EDA value (in microsiemens) should be used as the minimum cutoff (0 = cuts off samples that have 0us)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_lowpctcutoff">LowPctCutoff</code></td>
<td>
<p>what percentage of samples in a five-second block must contain the low cutoff in order to exclude that block? (e.g., if .5, there must be at least 50 percent of the samples below the low-cut value to exclude the 5-sec block)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_eda_high_cut">EDA_high_cut</code></td>
<td>
<p>This is a LOW PASS filter. What EDA value (in microsiemens) should be used as the maximum cutoff (100 = cuts off samples above 100us)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_highpctcutoff">HighPctCutoff</code></td>
<td>
<p>what percentage of samples in a five-second block must contain the high cutoff in order to exclude that block?</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_keeprejectflag">KeepRejectFlag</code></td>
<td>
<p>Do you want to keep the flag that shows which data the high and low pass filters rejected? If you want to run the diagnostic steps, you must keep this. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part1.ExtractRawEDA_+3A_usemulticore">UseMultiCore</code></td>
<td>
<p>Do you want to use more than one core for processing? Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4_EDA_Process.part1.ExtractRawEDA(participant_list=c(1001:1003),
ziplocation=paste(system.file(package="E4tools"),"/extdata/E4_demo_data/",sep=""),
rdslocation.EDA=paste(tempdir(),"/extdata/output/raw_EDA/",sep=""),
summarylocation=paste(tempdir(),"/extdata/output/summaries/",sep=""),
EDA_low_cut=0.001,LowPctCutoff=.75,
EDA_high_cut=25,HighPctCutoff=.75)
</code></pre>

<hr>
<h2 id='E4_EDA_Process.part2.ExtractButtonPresses'>EDA Processing Part 2: Extract button presses</h2><span id='topic+E4_EDA_Process.part2.ExtractButtonPresses'></span>

<h3>Description</h3>

<p>This function allows you extract button presses and remove presses that are within a certain number of minutes before the end of a session or that are too close to another button press. If the participant has not pressed the button at all, it will give you a warning and continue with the other participants.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4_EDA_Process.part2.ExtractButtonPresses(participant_list, ziplocation,
  rdslocation.buttonpress, summarylocation, cutoff.ends = 0,
  cutoff.overlap = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4_EDA_Process.part2.ExtractButtonPresses_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part2.ExtractButtonPresses_+3A_ziplocation">ziplocation</code></td>
<td>
<p>folder location where the participant-level subfolders are (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part2.ExtractButtonPresses_+3A_rdslocation.buttonpress">rdslocation.buttonpress</code></td>
<td>
<p>folder location where you want the RDS output to go (make sure that it ends in /). The file will be named &quot;button_presses.RDS&quot;</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part2.ExtractButtonPresses_+3A_summarylocation">summarylocation</code></td>
<td>
<p>location of folder where summaries from part 1 were saved (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part2.ExtractButtonPresses_+3A_cutoff.ends">cutoff.ends</code></td>
<td>
<p>how close (in minutes) to the ends of a file do you want to cut off button presses (because they could be accidental e.g., when turning the band off). Default is 0, which will not remove button presses at all.</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part2.ExtractButtonPresses_+3A_cutoff.overlap">cutoff.overlap</code></td>
<td>
<p>if you want to remove button presses within X number of minutes, enter that value here. Default is 0, which will not remove button presses at all.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4_EDA_Process.part2.ExtractButtonPresses(participant_list=c(1001:1002),
                                          ziplocation=paste(system.file(package="E4tools"),
                                          "/extdata/E4_demo_data/",sep=""),
                                          rdslocation.buttonpress=paste(tempdir(),
                                          "/extdata/output/presses/",sep=""),
                                          summarylocation=paste(system.file(package="E4tools"),
                                          "/extdata/output/summaries/",sep=""),
                                          cutoff.ends=2, cutoff.overlap=20)




</code></pre>

<hr>
<h2 id='E4_EDA_Process.part3.MatchPressesToEDA'>Match EDA data to button pressess</h2><span id='topic+E4_EDA_Process.part3.MatchPressesToEDA'></span>

<h3>Description</h3>

<p>This function allows you to extract the data that are within X minutes before and/or after a button press. If there are no button pressess for a participant, it will issue a warning and continue with the next participant.
Inputs: (1) List of participant numbers, (2) location of individual EDA files from step 1, (3) location of button presses from step 2.
Outputs: (1) RDS file with EDA data before and/or after button presses (and control data), for each participant and combined.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4_EDA_Process.part3.MatchPressesToEDA(participant_list,
  rdslocation.MatchedEDA, rdslocation.EDA, rdslocation.buttonpress,
  min.before, min.after, control = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_rdslocation.matchededa">rdslocation.MatchedEDA</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /). The combined data file will go into this directory. Individual participants' data will go into a subdirectory in this folder called &quot;individual_participants&quot;</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_rdslocation.eda">rdslocation.EDA</code></td>
<td>
<p>folder where rds files for individual Ps' EDA data are stored (from part 1)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_rdslocation.buttonpress">rdslocation.buttonpress</code></td>
<td>
<p>location of folder where button press output is stored (from part 2)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_min.before">min.before</code></td>
<td>
<p>how many minutes before a button press do you want EDA data? Enter 0 if you do not want ANY data before (i.e., you're using only data post-press)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_min.after">min.after</code></td>
<td>
<p>how many minutes after a button press do you want EDA data? Enter 0 if you do not want ANY data after (i.e., you're using only data pre-press)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part3.MatchPressesToEDA_+3A_control">control</code></td>
<td>
<p>add in control cases, defaults to T (default is to specify controls from exactly 24 hours prior to the press, provided there was not a press then too)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4_EDA_Process.part3.MatchPressesToEDA(participant_list=c(1001),
                                      rdslocation.buttonpress=paste(system.file(package="E4tools"),
                                      "/extdata/output/presses/",sep=""),
                                      rdslocation.MatchedEDA=paste(tempdir(),
                                      "/extdata/output/matched_EDA/",sep=""),
                                      rdslocation.EDA=paste(system.file(package="E4tools"),
                                      "/extdata/output/raw_EDA/",sep=""),
                                      min.before=20,min.after=20,control=TRUE)
</code></pre>

<hr>
<h2 id='E4_EDA_Process.part4.BinMatchedEDA'>Bin the EDA data matched to button presses</h2><span id='topic+E4_EDA_Process.part4.BinMatchedEDA'></span>

<h3>Description</h3>

<p>This function allows you to bin the data that has been matched to the button pressess (from step 3).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4_EDA_Process.part4.BinMatchedEDA(participant_list,
  rdslocation.MatchedEDA, rdslocation.BinnedMatchedEDA, min.after,
  min.before, control = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4_EDA_Process.part4.BinMatchedEDA_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part4.BinMatchedEDA_+3A_rdslocation.matchededa">rdslocation.MatchedEDA</code></td>
<td>
<p>folder location of the combined EDA file from step 3. (The file is called EDA_presses_COMBINED.RDS)</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part4.BinMatchedEDA_+3A_rdslocation.binnedmatchededa">rdslocation.BinnedMatchedEDA</code></td>
<td>
<p>location of folder where you want the binned data to be stored</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part4.BinMatchedEDA_+3A_min.after">min.after</code></td>
<td>
<p>how many minutes after a button press do you want EDA data? Enter 0 if you do not want ANY data after (i.e., you're using only data pre-press). This should match what you entered in step 3!</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part4.BinMatchedEDA_+3A_min.before">min.before</code></td>
<td>
<p>how many minutes before a button press do you want EDA data? Enter 0 if you do not want ANY data before (i.e., you're using only data post-press). This should match what you entered in step 3!</p>
</td></tr>
<tr><td><code id="E4_EDA_Process.part4.BinMatchedEDA_+3A_control">control</code></td>
<td>
<p>does this dataset include control cases? This should match what you did in step 3.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4_EDA_Process.part4.BinMatchedEDA(participant_list=c(1001:1002),
                                  rdslocation.MatchedEDA=paste(system.file(package="E4tools"),
                                  "/extdata/output/matched_EDA/",sep=""),
                                  rdslocation.BinnedMatchedEDA=
                                  paste(tempdir(),"/extdata/output/binned_matched_EDA/",sep=""),
                                  min.after = 20,min.before = 20,control=TRUE)
</code></pre>

<hr>
<h2 id='E4.Acc_Process.part1.ExtractRawAcc'>Acc Processing Part 1: Extract raw acceleromter data</h2><span id='topic+E4.Acc_Process.part1.ExtractRawAcc'></span>

<h3>Description</h3>

<p>This allows you extract acceleromter data. It will output raw acceleromter data (x,y,z).
Inputs are: (1) List of participant numbers and (2) location where ZIP folders are stored. Outputs are: (1) one RDS file per participant with all data. A working example and vignette will be added later.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Acc_Process.part1.ExtractRawAcc(participant_list, ziplocation,
  rdslocation.acc)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Acc_Process.part1.ExtractRawAcc_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.Acc_Process.part1.ExtractRawAcc_+3A_ziplocation">ziplocation</code></td>
<td>
<p>folder location where the participant-level subfolders are (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.Acc_Process.part1.ExtractRawAcc_+3A_rdslocation.acc">rdslocation.acc</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4.Acc_Process.part1.ExtractRawAcc(
  participant_list=c(1001),
  ziplocation=paste(system.file(package="E4tools"),
  "/extdata/E4_demo_data/",sep=""),
  rdslocation.acc=paste(tempdir(),"/extdata/output/raw_acc/",sep=""))
</code></pre>

<hr>
<h2 id='E4.Acc_Process.part2.Filter_ConvertAcc'>Accelerometer Processing Part 2: Extract and filter accelerometer data
This function will allow you to filter acceleromter data (based on the EDA signal) and add metrics like g and the normalized Euclidian distance from origin vector.</h2><span id='topic+E4.Acc_Process.part2.Filter_ConvertAcc'></span>

<h3>Description</h3>

<p>Accelerometer Processing Part 2: Extract and filter accelerometer data
This function will allow you to filter acceleromter data (based on the EDA signal) and add metrics like g and the normalized Euclidian distance from origin vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Acc_Process.part2.Filter_ConvertAcc(participant_list, rdslocation.EDA,
  rdslocation.acc, rdslocation.acc_filtered)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Acc_Process.part2.Filter_ConvertAcc_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.Acc_Process.part2.Filter_ConvertAcc_+3A_rdslocation.eda">rdslocation.EDA</code></td>
<td>
<p>folder location where the RDS files from the first step of the EDA processing are (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.Acc_Process.part2.Filter_ConvertAcc_+3A_rdslocation.acc">rdslocation.acc</code></td>
<td>
<p>folder location where the RDS files from the first step of the accelerometer processing are</p>
</td></tr>
<tr><td><code id="E4.Acc_Process.part2.Filter_ConvertAcc_+3A_rdslocation.acc_filtered">rdslocation.acc_filtered</code></td>
<td>
<p>folder location where you want the filtered acc files to go.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4.Acc_Process.part2.Filter_ConvertAcc(participant_list=c(1001),
                                       rdslocation.EDA=paste(system.file(package="E4tools"),
                                       "/extdata/output/raw_EDA/",sep=""),
                                       rdslocation.acc=paste(system.file(package="E4tools"),
                                       "/extdata/output/raw_acc/",sep=""),
                                       rdslocation.acc_filtered=paste(tempdir(),
                                       "/extdata/output/filtered_acc/",sep=""))
</code></pre>

<hr>
<h2 id='E4.Diagnostics.EDAplot'>Diagnostics: Plot EDA data and button presses</h2><span id='topic+E4.Diagnostics.EDAplot'></span>

<h3>Description</h3>

<p>This will allow you to see all binned EDA data for a participant, along with which band they were wearing and when they pressed the event marker. One PDF file is made per participant. You must run E4.extras.BinEDA() first to prepare for this step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Diagnostics.EDAplot(participant_list, rdslocation.binnedEDA,
  rdslocation.buttonpress, plotlocation.EDA, RejectFlagCount = 48,
  Plot_E4s = TRUE, display_plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;).</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_rdslocation.binnededa">rdslocation.binnedEDA</code></td>
<td>
<p>folder location where binned EDA is stored (from E4.extras.BinEDA function).</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_rdslocation.buttonpress">rdslocation.buttonpress</code></td>
<td>
<p>location of folder where button press output is stored (from part extract raw EDA part 2). Set to FALSE if you do not want to plot the button presses.</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_plotlocation.eda">plotlocation.EDA</code></td>
<td>
<p>Folder where you want to store the PDF plots. Set this to FALSE if you do not want to save the PDF output. You should only set to false if you are displaying the plot instead, and thus should also set display_plot to TRUE.</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_rejectflagcount">RejectFlagCount</code></td>
<td>
<p>What percent of samples in the bin must be bad for the entire bin to be marked bad? Default is 48, which is 10 percent of samples in a 2-minute bin.</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_plot_e4s">Plot_E4s</code></td>
<td>
<p>Do you want a line at the bottom of the plot showing which E4 the participant was wearing?</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.EDAplot_+3A_display_plot">display_plot</code></td>
<td>
<p>Do you want the plot to be displayed on screen in addition to saving the PDF file? Defaults to false. This is most useful if you are only looking at one participant's data.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4.Diagnostics.EDAplot(participant_list=c(1001),
                       rdslocation.buttonpress=FALSE,
                       rdslocation.binnedEDA=paste(system.file(package="E4tools"),
                       "/extdata/plots/",sep=""),
                       plotlocation.EDA=FALSE,display_plot=TRUE)
</code></pre>

<hr>
<h2 id='E4.Diagnostics.tempplot'>Diagnostics: Plot Temperature data and button presses</h2><span id='topic+E4.Diagnostics.tempplot'></span>

<h3>Description</h3>

<p>This will allow you to see all binned temperature data for a participant, along with which band they were wearing and when they pressed the event marker. One PDF file is made per participant. You must run E4.extras.BinEDA() first to prepare for this step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Diagnostics.tempplot(participant_list, rdslocation.binnedtemp,
  rdslocation.buttonpress, plotlocation.temp, Plot_E4s = TRUE,
  TempType = "C")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Diagnostics.tempplot_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.tempplot_+3A_rdslocation.binnedtemp">rdslocation.binnedtemp</code></td>
<td>
<p>folder location where raw temperature data are stored</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.tempplot_+3A_rdslocation.buttonpress">rdslocation.buttonpress</code></td>
<td>
<p>location of folder where button press output is stored (from EDA part 2)</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.tempplot_+3A_plotlocation.temp">plotlocation.temp</code></td>
<td>
<p>folder where you want PDF outputs to go.</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.tempplot_+3A_plot_e4s">Plot_E4s</code></td>
<td>
<p>Do you want a line at the bottom of the plot showing which E4 the participant was wearing?</p>
</td></tr>
<tr><td><code id="E4.Diagnostics.tempplot_+3A_temptype">TempType</code></td>
<td>
<p>Do you want Farenheit (TempType=F) or Celcius (TempType=C, default). If you did not elect to include Farenheit in the first temperature step, this step will calcuate it for you.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: E4.Diagnostics.EDAplot(participant_list=c(1001:1004),
rdslocation.buttonpress="~/study/data/tags/",
rdslocation.binnedtemp="~/study/data/Binned_EDA/",
plotlocation.EDA="~/study/data/EDAplots/")
## End(Not run)




</code></pre>

<hr>
<h2 id='E4.extras.BinEDA'>Extras: Make EDA bins</h2><span id='topic+E4.extras.BinEDA'></span>

<h3>Description</h3>

<p>Put EDA data in bins of X minutes length
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.extras.BinEDA(participant_list, rdslocation.EDA, rdslocation.binnedEDA,
  BinLengthMin, RejectFlag = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.extras.BinEDA_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.extras.BinEDA_+3A_rdslocation.eda">rdslocation.EDA</code></td>
<td>
<p>folder location where raw EDA (from part 1) is saved.</p>
</td></tr>
<tr><td><code id="E4.extras.BinEDA_+3A_rdslocation.binnededa">rdslocation.binnedEDA</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.extras.BinEDA_+3A_binlengthmin">BinLengthMin</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.extras.BinEDA_+3A_rejectflag">RejectFlag</code></td>
<td>
<p>Did you include in step 1 the option to keep the flag that shows which data the high and low pass filters rejected (By default, these are included in step 1) AND do you want to include a summary in this dataset of how many samples in a bin were rejected? If you want to run the diagnostic steps, you must keep this. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>E4.extras.BinEDA(participant_list=c(1001),
rdslocation.EDA=paste(system.file(package="E4tools"),"/extdata/output/raw_EDA/",sep=""),
rdslocation.binnedEDA=paste(tempdir(),"/extdata/output/binned_EDA/",sep=""),
BinLengthMin=2,RejectFlag=TRUE)
</code></pre>

<hr>
<h2 id='E4.extras.ButtonPressessPerDay'>EDA Extra Processing: Get number of button presses per participant, per day from the combined &quot;button_pressess.RDS&quot; file</h2><span id='topic+E4.extras.ButtonPressessPerDay'></span>

<h3>Description</h3>

<p>This function allows you extract button pressess per participant, per day. It will output a data frame (not an RDS file) that you can use for analyses. You must first extract button pressess using the E4_EDA_Process.part2.ExtractButtonPresses() function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.extras.ButtonPressessPerDay(rdslocation.buttonpress,
  ImputeNAs = FALSE, ImputeZeros = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.extras.ButtonPressessPerDay_+3A_rdslocation.buttonpress">rdslocation.buttonpress</code></td>
<td>
<p>location of folder where button press output is stored (the file is called &quot;button_presses.RDS&quot;). This should end in / .</p>
</td></tr>
<tr><td><code id="E4.extras.ButtonPressessPerDay_+3A_imputenas">ImputeNAs</code></td>
<td>
<p>This will create NAs for any days between the first and last day of study data for each participant. If no data = no presses (which is likely the case, use the &quot;ImputeZeros&quot; option to make them zeros instead).</p>
</td></tr>
<tr><td><code id="E4.extras.ButtonPressessPerDay_+3A_imputezeros">ImputeZeros</code></td>
<td>
<p>Do you want to make the NAs for days without data zeros instead of NA?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Dataframe with a three columns: ID, date, number of button pressess.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>Presses_Per_Day&lt;-
  E4.extras.ButtonPressessPerDay(rdslocation.buttonpress=
                                   paste(system.file(package="E4tools"),
                                   "/extdata/output/presses/",sep=""),
                                             ImputeNAs=TRUE,ImputeZeros=TRUE)
Presses_Per_Day
</code></pre>

<hr>
<h2 id='E4.GGIR.Export'>GGIR Export</h2><span id='topic+E4.GGIR.Export'></span>

<h3>Description</h3>

<p>This function will allow you to export a CSV file that is compatible with GGIR. It will create one CSV (not RDS like other parts of E4Tools) per participant.
The CSV file will contain a header compatiable with GGIR, the information in the header is:
Header includes:
1. Participant ID, 2. Number of E4s used in the data file, 3. Time stamp type (unix, in miliseconds), 4. Time zone (using format that GGIR uses), 5. ACC sampling rate, 6. ACC dynamic range (in ±g),
7. ACC resolution (in bits), 8. Temp sampling rate, 9. Temp units, 10. Temp range min, 11. Temp range max, 12. Temp resolution
The columns in the output file are: 1. Timestamp, 2. E4 Serial, 3. Raw ACC X in bits, 4. Raw ACC Y in bits, 5. Raw ACC Z in bits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.GGIR.Export(participant_list, ziplocation, csvlocation.GGIRout, tz)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.GGIR.Export_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.GGIR.Export_+3A_ziplocation">ziplocation</code></td>
<td>
<p>folder location where the participant-level subfolders are (make sure that it ends in /). Enter ziplocation=ziplocation to use the prespecified folder structure from E4.Prep.FileHelper</p>
</td></tr>
<tr><td><code id="E4.GGIR.Export_+3A_csvlocation.ggirout">csvlocation.GGIRout</code></td>
<td>
<p>folder location where you want the CSV outputs to go (make sure that it ends in /). Enter csvlocation.GGIRout=csvlocation.GGIRout to use the prespecified folder structure from E4.Prep.FileHelper.</p>
</td></tr>
<tr><td><code id="E4.GGIR.Export_+3A_tz">tz</code></td>
<td>
<p>timezone where these data were collected (see https://en.wikipedia.org/wiki/List_of_tz_database_time_zones)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: E4.Acc_Process.Part1.ExtractRawAcc(participant_list=c(1001:1002),
ziplocation="~/documents/study/data/",
csvlocation.GGIRout="~/documents/study/data/acc/")
## End(Not run)
</code></pre>

<hr>
<h2 id='E4.Step0.FileHelper'>Set global file locations to make other functions easier</h2><span id='topic+E4.Step0.FileHelper'></span>

<h3>Description</h3>

<p>This function will allow you to pre-define file locations that are used in multiple functions so you only have to type them once and so that your folder structure will be well-organized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Step0.FileHelper(participant_list, ziplocation, dataroot)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Step0.FileHelper_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.Step0.FileHelper_+3A_ziplocation">ziplocation</code></td>
<td>
<p>folder location where the participant-level subfolders are (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.Step0.FileHelper_+3A_dataroot">dataroot</code></td>
<td>
<p>folder where you want your data to be stored.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: E4.Acc_Process.Part1.ExtractRawAcc(participant_list=c(1001:1002),
ziplocation="~/documents/study/data/",
rdslocation.acc="~/documents/study/data/acc/")
## End(Not run)
</code></pre>

<hr>
<h2 id='E4.Temp.part1.extract_raw_temp'>Temperature Processing Part 1: Extract raw temperature data</h2><span id='topic+E4.Temp.part1.extract_raw_temp'></span>

<h3>Description</h3>

<p>Extract raw temperatuer data.
Inputs are: (1) List of participant numbers and (2) location where ZIP folders are stored. Outputs are: (1) one RDS file per participant with all data. A working example and vignette will be added later.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Temp.part1.extract_raw_temp(participant_list, ziplocation,
  rdslocation.temp, IncludeFarenheit = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Temp.part1.extract_raw_temp_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.Temp.part1.extract_raw_temp_+3A_ziplocation">ziplocation</code></td>
<td>
<p>folder location where the participant-level subfolders are (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.Temp.part1.extract_raw_temp_+3A_rdslocation.temp">rdslocation.temp</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.Temp.part1.extract_raw_temp_+3A_includefarenheit">IncludeFarenheit</code></td>
<td>
<p>do you want to include a column with temperature in Farenheit also? Defaults to true. Celcius, which is recorded by the E4, will always be included.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: E4.Temp.part1.extract_raw_temp(participant_list=c(1001:1002),
ziplocation="~/documents/study/data/",
rdslocation.temp="~/documents/study/data/TEMP/")
## End(Not run)
</code></pre>

<hr>
<h2 id='E4.Temp.part2.bin_temp'>Temperature part 2: Make temperature bins</h2><span id='topic+E4.Temp.part2.bin_temp'></span>

<h3>Description</h3>

<p>Put temperature data in bins of X minutes length
</p>


<h3>Usage</h3>

<pre><code class='language-R'>E4.Temp.part2.bin_temp(participant_list, rdslocation.temp,
  rdslocation.binnedtemp, BinLengthMin)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="E4.Temp.part2.bin_temp_+3A_participant_list">participant_list</code></td>
<td>
<p>list of participant numbers NOTE: This should match the names of the folders (e.g., participant 1001's data should be in a folder called &quot;1001&quot;)</p>
</td></tr>
<tr><td><code id="E4.Temp.part2.bin_temp_+3A_rdslocation.temp">rdslocation.temp</code></td>
<td>
<p>folder location where raw temperature (from part 1) is saved.</p>
</td></tr>
<tr><td><code id="E4.Temp.part2.bin_temp_+3A_rdslocation.binnedtemp">rdslocation.binnedtemp</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
<tr><td><code id="E4.Temp.part2.bin_temp_+3A_binlengthmin">BinLengthMin</code></td>
<td>
<p>folder location where you want the RDS outputs to go (make sure that it ends in /)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: E4.extras.BinEDA(participant_list=c(1001:1004),rdslocation.binnedtemp="~/study/data/EDA/",
rdslocation.binnedtemp="~/study/data/Binned_EDA/",
BinLengthMin=2,
RejectFlag=TRUE)
## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

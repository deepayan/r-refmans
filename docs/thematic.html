<!DOCTYPE html><html><head><title>Help for package thematic</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {thematic}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#thematic-package'><p>thematic: Unified and Automatic 'Theming' of 'ggplot2', 'lattice', and 'base' R Graphics</p></a></li>
<li><a href='#auto_config'><p>Configure auto theming behavior</p></a></li>
<li><a href='#auto_resolve_theme'><p>Resolve auto values</p></a></li>
<li><a href='#font_cache_set'><p>Control the directory used for font caching</p></a></li>
<li><a href='#font_spec'><p>Font specification</p></a></li>
<li><a href='#okabe_ito'><p>A color-blind safe qualitative colorscale (Okabe-Ito)</p></a></li>
<li><a href='#sequential_gradient'><p>Control parameters of the sequential colorscale</p></a></li>
<li><a href='#thematic_on'><p>Enable (or disable) simplified theming of R graphics.</p></a></li>
<li><a href='#thematic_save_plot'><p>Capture a thematic plot as a saved file</p></a></li>
<li><a href='#thematic_with_theme'><p>Tools for getting and restoring global state</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Unified and Automatic 'Theming' of 'ggplot2', 'lattice', and
'base' R Graphics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Theme 'ggplot2', 'lattice', and 'base' graphics based on a
    few choices, including foreground color, background color, accent
    color, and font family. Fonts that aren't available on the system, but
    are available via download on 'Google Fonts', can be automatically
    downloaded, cached, and registered for use with the 'showtext' and
    'ragg' packages.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rstudio.github.io/thematic/">https://rstudio.github.io/thematic/</a>,
<a href="https://github.com/rstudio/thematic">https://github.com/rstudio/thematic</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rstudio/thematic/issues">https://github.com/rstudio/thematic/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>farver, ggplot2 (&ge; 3.3.0), graphics, grDevices, grid,
rappdirs, rlang, rstudioapi (&ge; 0.8), scales, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bslib, Cairo, curl, gganimate, ggiraph, htmltools, jsonlite,
knitr, lattice, ragg, rmarkdown, shiny (&ge; 1.5.0), showtext,
stats, svglite, sysfonts, systemfonts, testthat, vdiffr (&ge;
1.0.0), withr</td>
</tr>
<tr>
<td>Config/Needs/check:</td>
<td>shinytest, callr, sf, ggthemes, patchwork,
gridExtra, tinytex, devtools, rversions</td>
</tr>
<tr>
<td>Config/Needs/routine:</td>
<td>ggrepel</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>GGally, RColorBrewer, patchwork, apreshill/quillt</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'auto.R' 'base.R' 'cache.R' 'gfonts.R' 'ggplot.R' 'globals.R'
'hooks.R' 'knitr.R' 'lattice.R' 'onLoad.R' 'thematic-package.R'
'thematic-save-plot.R' 'thematic.R' 'utils.R'
'view-shinytest.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-12 22:15:20 UTC; cpsievert</td>
</tr>
<tr>
<td>Author:</td>
<td>Carson Sievert <a href="https://orcid.org/0000-0002-4958-2844"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Barret Schloerke <a href="https://orcid.org/0000-0001-9986-114X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Joe Cheng [aut],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carson Sievert &lt;carson@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-14 00:20:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='thematic-package'>thematic: Unified and Automatic 'Theming' of 'ggplot2', 'lattice', and 'base' R Graphics</h2><span id='topic+thematic'></span><span id='topic+thematic-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Theme 'ggplot2', 'lattice', and 'base' graphics based on a few choices, including foreground color, background color, accent color, and font family. Fonts that aren't available on the system, but are available via download on 'Google Fonts', can be automatically downloaded, cached, and registered for use with the 'showtext' and 'ragg' packages.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Carson Sievert <a href="mailto:carson@posit.co">carson@posit.co</a> (<a href="https://orcid.org/0000-0002-4958-2844">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Barret Schloerke <a href="mailto:barret@posit.co">barret@posit.co</a> (<a href="https://orcid.org/0000-0001-9986-114X">ORCID</a>)
</p>
</li>
<li><p> Joe Cheng <a href="mailto:joe@posit.co">joe@posit.co</a>
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://rstudio.github.io/thematic/">https://rstudio.github.io/thematic/</a>
</p>
</li>
<li> <p><a href="https://github.com/rstudio/thematic">https://github.com/rstudio/thematic</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rstudio/thematic/issues">https://github.com/rstudio/thematic/issues</a>
</p>
</li></ul>


<hr>
<h2 id='auto_config'>Configure auto theming behavior</h2><span id='topic+auto_config'></span><span id='topic+auto_config_set'></span><span id='topic+auto_config_get'></span>

<h3>Description</h3>

<p>Auto theming is really only &quot;guaranteed&quot; to work inside of a <strong>shiny</strong>
runtime. In any other context, auto theming is based on a set of heuristics,
which won't fit every use case. As a workaround, this function allows one
to configure both a preference for specific auto values (e.g., <code>bg</code>, <code>fg</code>, etc)
as well as the <code>priority</code> that certain information should receive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto_config(
  bg = NULL,
  fg = NULL,
  accent = NULL,
  font = NULL,
  priority = c("shiny", "config", "bslib", "rstudio")
)

auto_config_set(config)

auto_config_get()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auto_config_+3A_bg">bg</code></td>
<td>
<p>a background color.</p>
</td></tr>
<tr><td><code id="auto_config_+3A_fg">fg</code></td>
<td>
<p>a foreground color.</p>
</td></tr>
<tr><td><code id="auto_config_+3A_accent">accent</code></td>
<td>
<p>a color for making certain graphical markers 'stand out'
(e.g., the fitted line color for <code><a href="ggplot2.html#topic+geom_smooth">ggplot2::geom_smooth()</a></code>).
Can be 2 colors for lattice (stroke vs fill accent).</p>
</td></tr>
<tr><td><code id="auto_config_+3A_font">font</code></td>
<td>
<p>a <code><a href="#topic+font_spec">font_spec()</a></code> object. If missing, font defaults are not altered.</p>
</td></tr>
<tr><td><code id="auto_config_+3A_priority">priority</code></td>
<td>
<p>the order of priority to use when resolving auto values.
Possible values include:
</p>

<ul>
<li> <p><code>"shiny"</code>: use <code><a href="shiny.html#topic+getCurrentOutputInfo">shiny::getCurrentOutputInfo()</a></code> values (if any) to resolve auto values.
</p>
</li>
<li> <p><code>"config"</code>: use the values provided to this function (if any) to resolve auto values.
</p>
</li>
<li> <p><code>"bslib"</code>: use <code>bslib::bs_get_variables()</code> values (if any)
to resolve auto values (only relevant when knitr is in progress).
</p>
</li>
<li> <p><code>"rstudio"</code>: use <code><a href="rstudioapi.html#topic+getThemeInfo">rstudioapi::getThemeInfo()</a></code> values (if any) to resolve auto values.
</p>
</li></ul>
</td></tr>
<tr><td><code id="auto_config_+3A_config">config</code></td>
<td>
<p>a <code>auto_config()</code> object.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Configuring auto theming behavior is especially useful
for developers of a custom rmarkdown output document that wish to
have more sensible auto theming behavior for users of the document.
In particular, by having the output document call <code>auto_config_set()</code>
&quot;pre-knit&quot; with the document's styling preferences (and restoring the
old defaults &quot;post-knit&quot;), users of the output document can then simply
call <code>thematic_on()</code> within their document to use those preferences.
</p>
<p>Call this function with no arguments to get the current auto defaults.
</p>


<h3>Value</h3>

<p>a config (list-like) object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>old_config &lt;- auto_config_set(auto_config("black", "white"))
thematic_with_theme(
  thematic_theme(), {
    plot(1:10, 1:10)
 })
auto_config_set(old_config)
</code></pre>

<hr>
<h2 id='auto_resolve_theme'>Resolve auto values</h2><span id='topic+auto_resolve_theme'></span>

<h3>Description</h3>

<p>Resolves <code>'auto'</code> values based on the current execution environment
and configuration (i.e., <code><a href="#topic+auto_config_get">auto_config_get()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auto_resolve_theme(theme)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auto_resolve_theme_+3A_theme">theme</code></td>
<td>
<p>a <code>thematic_theme()</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>theme</code> object with resolved <code>'auto'</code> values.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+auto_config_set">auto_config_set()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
old_config &lt;- auto_config_set(auto_config(bg = "black", fg = "white"))

# Resolving auto values in local theme objects
theme &lt;- thematic_theme()
theme[c("bg", "fg")]
theme &lt;- auto_resolve_theme(theme)
theme[c("bg", "fg")]

# By default, auto values are resolved when accessing
# global theme options
thematic_on()
thematic_get_option("bg", resolve = FALSE)
thematic_get_option("bg")
thematic_off()

auto_config_set(old_config)

</code></pre>

<hr>
<h2 id='font_cache_set'>Control the directory used for font caching</h2><span id='topic+font_cache_set'></span>

<h3>Description</h3>

<p>The default directory used for font caching is system dependent;
and thus, not very portable from machine to machine. Use this
function to move thematic's cache to a new path. This is primarily
useful for making font cache relative to a shiny app directory,
so that, when the app is deployed, the cache deploys with it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_cache_set(path, cleanup = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_cache_set_+3A_path">path</code></td>
<td>
<p>a filepath for the new cachine directory.</p>
</td></tr>
<tr><td><code id="font_cache_set_+3A_cleanup">cleanup</code></td>
<td>
<p>whether or not to remove font files from the
previously used caching directory (after copying to the new location).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the previously used caching directory.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+thematic_on">thematic_on()</a></code>, <code><a href="#topic+font_spec">font_spec()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  font_cache_set("my_app")
  shiny::runApp("my_app")

## End(Not run)
</code></pre>

<hr>
<h2 id='font_spec'>Font specification</h2><span id='topic+font_spec'></span>

<h3>Description</h3>

<p>Specify a collection of font families. The first font family supported
by the relevant device (i.e., the device that is open, or will be opened, at
plotting time) is used by thematic. If a given font family is not supported
by the default, but is a <a href="https://fonts.google.com/">Google Font</a> and
<code>install = TRUE</code>, the font will be downloaded, cached, and registered
for use the <strong>showtext</strong> and <strong>ragg</strong> packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>font_spec(
  families = "",
  scale = 1,
  install = is_installed("ragg") || is_installed("showtext"),
  update = FALSE,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="font_spec_+3A_families">families</code></td>
<td>
<p>a character vector of font families.</p>
</td></tr>
<tr><td><code id="font_spec_+3A_scale">scale</code></td>
<td>
<p>numerical constant applied to font sizes.</p>
</td></tr>
<tr><td><code id="font_spec_+3A_install">install</code></td>
<td>
<p>whether to download and register font <code>families</code>
available via <a href="https://fonts.google.com/">Google Fonts</a> (but unavailable to R).
After a successful download, fonts are cached (in a directory which
can be managed via <code><a href="#topic+font_cache_set">font_cache_set()</a></code>), and registered for use with
the <strong>showtext</strong> and <strong>ragg</strong> packages. If installation fails with
a valid internet connection, you may need to fetch the latest Google
Font information prior to installation (i.e., set <code>update = TRUE</code>).</p>
</td></tr>
<tr><td><code id="font_spec_+3A_update">update</code></td>
<td>
<p>if <code>TRUE</code>, the latest Google Fonts are fetched and
any out-dated font cache is updated. Fetching the latest fonts requires
a Google Font API key (one is bundled with the package, but you can
set your own via an environment variable, <code>GFONT_KEY</code>).</p>
</td></tr>
<tr><td><code id="font_spec_+3A_quiet">quiet</code></td>
<td>
<p>whether to suppress download messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the input arguments as a list.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+thematic_save_plot">thematic_save_plot()</a></code>, <code><a href="#topic+thematic_on">thematic_on()</a></code>, <code><a href="#topic+font_cache_set">font_cache_set()</a></code>
</p>

<hr>
<h2 id='okabe_ito'>A color-blind safe qualitative colorscale (Okabe-Ito)</h2><span id='topic+okabe_ito'></span>

<h3>Description</h3>

<p>This is the default <code>qualitative</code> colorscale in <code>thematic_on()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>okabe_ito(n = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="okabe_ito_+3A_n">n</code></td>
<td>
<p>number of colors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a vector of color codes.
</p>


<h3>References</h3>

<p><a href="https://jfly.uni-koeln.de/color/">https://jfly.uni-koeln.de/color/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+thematic_on">thematic_on()</a></code>
</p>

<hr>
<h2 id='sequential_gradient'>Control parameters of the sequential colorscale</h2><span id='topic+sequential_gradient'></span>

<h3>Description</h3>

<p>Controls the default weighting and direction of the color gradient
derived from the <code>fg</code>, <code>bg</code>, and <code>accent</code> color (defined in <code>thematic_on()</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sequential_gradient(fg_weight = 0.9, bg_weight = 0, fg_low = TRUE, n = 30)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sequential_gradient_+3A_fg_weight">fg_weight</code></td>
<td>
<p>a number (between 0 and 1) defining much of the <code>fg</code>
color should be mixed into the colorscale.</p>
</td></tr>
<tr><td><code id="sequential_gradient_+3A_bg_weight">bg_weight</code></td>
<td>
<p>a number (between 0 and 1) defining much of the <code>bg</code>
color should be mixed into the colorscale.</p>
</td></tr>
<tr><td><code id="sequential_gradient_+3A_fg_low">fg_low</code></td>
<td>
<p>if <code>TRUE</code> (the default), the <code>fg</code> color is used for the
low end of the colorscale (rather than the high end).</p>
</td></tr>
<tr><td><code id="sequential_gradient_+3A_n">n</code></td>
<td>
<p>number of color codes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of options for passing to the <code>sequential</code> argument of <code><a href="#topic+thematic_on">thematic_on()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Gradient from fg to accent
fg &lt;- sequential_gradient(1, 0)
thematic_on("black", "white", "salmon", sequential = fg)
ggplot2::qplot(1:10, 1:10, color = 1:10)

# Gradient from accent -&gt; bg
bg &lt;- sequential_gradient(0, 1)
thematic_on("black", "white", "salmon", sequential = bg)
ggplot2::qplot(1:10, 1:10, color = 1:10)

# Gradient from mix(accent, fg, 0.5) -&gt; mix(accent, bg, 0.5)
mix &lt;- sequential_gradient(0.5, 0.5)
thematic_on("black", "white", "salmon", sequential = mix)
ggplot2::qplot(1:10, 1:10, color = 1:10)

# Use fg (instead of bg) for high end of scale
mix_flip &lt;- sequential_gradient(0.5, 0.5, fg_low = FALSE)
thematic_on("black", "white", "salmon", sequential = mix_flip)
ggplot2::qplot(1:10, 1:10, color = 1:10)

</code></pre>

<hr>
<h2 id='thematic_on'>Enable (or disable) simplified theming of R graphics.</h2><span id='topic+thematic_on'></span><span id='topic+thematic_off'></span><span id='topic+thematic_theme'></span><span id='topic+thematic_shiny'></span><span id='topic+thematic_rmd'></span>

<h3>Description</h3>

<p>A unified interface for theming <strong>ggplot2</strong>, <strong>base</strong>, and <strong>lattice</strong> graphics
based on a handful of styling options. In some cases (most notably in a <strong>shiny</strong> runtime),
these options can automatically resolve to relevant CSS styles (see the &quot;Auto theming&quot;
section below).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thematic_on(
  bg = "auto",
  fg = "auto",
  accent = "auto",
  font = NA,
  sequential = sequential_gradient(),
  qualitative = okabe_ito(),
  inherit = FALSE
)

thematic_off()

thematic_theme(
  bg = "auto",
  fg = "auto",
  accent = "auto",
  font = NA,
  sequential = sequential_gradient(),
  qualitative = okabe_ito(),
  inherit = FALSE
)

thematic_shiny(
  bg = "auto",
  fg = "auto",
  accent = "auto",
  font = NA,
  sequential = sequential_gradient(),
  qualitative = okabe_ito(),
  inherit = FALSE,
  session = shiny::getDefaultReactiveDomain()
)

thematic_rmd(
  bg = "auto",
  fg = "auto",
  accent = "auto",
  font = NA,
  sequential = sequential_gradient(),
  qualitative = okabe_ito(),
  inherit = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thematic_on_+3A_bg">bg</code></td>
<td>
<p>a background color.</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_fg">fg</code></td>
<td>
<p>a foreground color.</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_accent">accent</code></td>
<td>
<p>a color for making certain graphical markers 'stand out'
(e.g., the fitted line color for <code><a href="ggplot2.html#topic+geom_smooth">ggplot2::geom_smooth()</a></code>).
Can be 2 colors for lattice (stroke vs fill accent).</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_font">font</code></td>
<td>
<p>a <code><a href="#topic+font_spec">font_spec()</a></code> object. If missing, font defaults are not altered.</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_sequential">sequential</code></td>
<td>
<p>a color palette for graphical markers that encode
numeric values. Can be a vector of color codes or a
<code><a href="#topic+sequential_gradient">sequential_gradient()</a></code> object.</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_qualitative">qualitative</code></td>
<td>
<p>a color palette for graphical markers that encode
qualitative values (won't be used in ggplot2 when the number of data
levels exceeds the max allowed colors). Defaults to <code><a href="#topic+okabe_ito">okabe_ito()</a></code>.</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_inherit">inherit</code></td>
<td>
<p>should non-specified values inherit from the previous theme?</p>
</td></tr>
<tr><td><code id="thematic_on_+3A_session">session</code></td>
<td>
<p>see <code><a href="shiny.html#topic+onStop">shiny::onStop()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code><a href="#topic+thematic_theme">thematic_theme()</a></code> returns a theme object as a list (which can be
activated with <code><a href="#topic+thematic_with_theme">thematic_with_theme()</a></code> or <code><a href="#topic+thematic_set_theme">thematic_set_theme()</a></code>).
</p>
<p><code><a href="#topic+thematic_on">thematic_on()</a></code>, <code><a href="#topic+thematic_off">thematic_off()</a></code>, and <code><a href="#topic+thematic_shiny">thematic_shiny()</a></code> all return
the previous global theme.
</p>


<h3>Auto theming</h3>

<p>The <code>bg</code>, <code>fg</code>, <code>accent</code>, and <code>font</code> arguments all support a value of <code>'auto'</code>,
which are all resolved, at plot time, based on the execution environment. In a
<strong>shiny</strong> runtime, resolution of auto values should always work as expect; but
in other contexts, auto values may lead to wrong or surprising results. In that
case, auto resolution logic can be customized (see <code><a href="#topic+auto_config_set">auto_config_set()</a></code> for more details).
</p>


<h3>Global vs. local theming</h3>

<p><code>thematic_on()</code> enables thematic in a global fashion (that is, it impacts all
future plots, up until <code>thematic_off()</code> is called). To use thematic in local fashion,
first create a theme with <code><a href="#topic+thematic_theme">thematic_theme()</a></code>, then provide it to <code><a href="#topic+thematic_with_theme">thematic_with_theme()</a></code>
(or similar). To use thematic in a global fashion up until a <strong>shiny</strong>
app exits, use <code>thematic_shiny()</code> (which cleans up after itself once the next shiny
app that exits using <code><a href="shiny.html#topic+onStop">shiny::onStop()</a></code>). To use thematic in a global fashion up until
a <strong>rmarkdown</strong> document finishes rendering, use <code>thematic_rmd()</code>.
</p>


<h3>Color values</h3>

<p>Colors (e.g., <code>bg</code>, <code>fg</code>, <code>accent</code>) may be any value understood by <code><a href="grDevices.html#topic+col2rgb">col2rgb()</a></code>
or <code>htmltools::parseCssColors()</code> (i.e., may be any valid R or CSS color string).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sequential_gradient">sequential_gradient()</a></code>, <code><a href="#topic+thematic_with_theme">thematic_with_theme()</a></code>, <code><a href="#topic+thematic_save_plot">thematic_save_plot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># simple dark mode
thematic_on("black", "white")
plot(1:10)
plot(1:10, col = 1:10)
lattice::show.settings()

# use any hex color string
thematic_on("#444444", "#e4e4e4")
plot(1:10)
plot(1:10, col = 1:10)
lattice::show.settings()

# disables thematic (also restores global state)
thematic_off()
plot(1:10)
lattice::show.settings()

thematic_on("darkblue", "skyblue", "orange")
image(volcano)
image(volcano, col = thematic_get_option("sequential"))
lattice::show.settings()
thematic_off()

</code></pre>

<hr>
<h2 id='thematic_save_plot'>Capture a thematic plot as a saved file</h2><span id='topic+thematic_save_plot'></span><span id='topic+default_device'></span>

<h3>Description</h3>

<p>Uses a <code>device</code> to capture the result of an expression (<code>expr</code>)
that produces a plot. If <code>default_device()</code> is used, custom fonts
(specified through <code><a href="#topic+font_spec">font_spec()</a></code>) are guaranteed to work, as long as
one of either the showtext or ragg package(s) are installed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thematic_save_plot(
  expr,
  device = default_device(),
  filename = tempfile(fileext = ".png"),
  ...
)

default_device(type = c("png", "svg", "pdf", "tiff", "jpeg"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thematic_save_plot_+3A_expr">expr</code></td>
<td>
<p>an expression that produces a plot.</p>
</td></tr>
<tr><td><code id="thematic_save_plot_+3A_device">device</code></td>
<td>
<p>a graphics device to use for capturing the plot.</p>
</td></tr>
<tr><td><code id="thematic_save_plot_+3A_filename">filename</code></td>
<td>
<p>a filename for the produced plot. The file extension should
match the relevant <code>device</code>.</p>
</td></tr>
<tr><td><code id="thematic_save_plot_+3A_...">...</code></td>
<td>
<p>arguments passed along to the graphics <code>device</code>.</p>
</td></tr>
<tr><td><code id="thematic_save_plot_+3A_type">type</code></td>
<td>
<p>the type of output format</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>thematic_save_plot()</code> returns the <code>filename</code> of the produced plot
and <code>default_device()</code> returns a graphics device function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(thematic)
font &lt;- font_spec("Rock Salt", scale = 1.25)
thematic_on("black", "white", font = font)
file &lt;- thematic_save_plot(plot(1:10), res = 144)
if (interactive()) browseURL(file)
</code></pre>

<hr>
<h2 id='thematic_with_theme'>Tools for getting and restoring global state</h2><span id='topic+thematic_with_theme'></span><span id='topic+thematic_local_theme'></span><span id='topic+thematic_set_theme'></span><span id='topic+thematic_get_theme'></span><span id='topic+thematic_get_option'></span><span id='topic+thematic_get_mixture'></span>

<h3>Description</h3>

<p>These functions are helpful for getting and/or temporarily activating a
<code><a href="#topic+thematic_theme">thematic_theme()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>thematic_with_theme(theme, expr)

thematic_local_theme(theme, .local_envir = parent.frame())

thematic_set_theme(theme)

thematic_get_theme(resolve = TRUE)

thematic_get_option(name = "", default = NULL, resolve = TRUE)

thematic_get_mixture(amounts = 0.5, default = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="thematic_with_theme_+3A_theme">theme</code></td>
<td>
<p>a <code>thematic_theme()</code> object (or a return value of <a href="#topic+thematic_on">thematic_on</a>/<code><a href="#topic+thematic_get_theme">thematic_get_theme()</a></code>)
or <code>NULL</code> (in which case <code>thematic_off()</code> is called).</p>
</td></tr>
<tr><td><code id="thematic_with_theme_+3A_expr">expr</code></td>
<td>
<p>R code that produces a plot.</p>
</td></tr>
<tr><td><code id="thematic_with_theme_+3A_.local_envir">.local_envir</code></td>
<td>
<p>The environment to use for scoping.</p>
</td></tr>
<tr><td><code id="thematic_with_theme_+3A_resolve">resolve</code></td>
<td>
<p>whether or not <code>'auto'</code> values should be resolved before returning</p>
</td></tr>
<tr><td><code id="thematic_with_theme_+3A_name">name</code></td>
<td>
<p>a theme element name (e.g., <code>fg</code>, <code>bg</code>, etc.)</p>
</td></tr>
<tr><td><code id="thematic_with_theme_+3A_default">default</code></td>
<td>
<p>a default value to return in the event no thematic theme is active.</p>
</td></tr>
<tr><td><code id="thematic_with_theme_+3A_amounts">amounts</code></td>
<td>
<p>value(s) between 0 and 1 specifying how much to mix <code>bg</code> (0) and <code>fg</code> (1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the result of <code>expr</code>.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>thematic_with_theme()</code>: similar to <code><a href="#topic+thematic_on">thematic_on()</a></code>, but for an single plot.
</p>
</li>
<li> <p><code>thematic_local_theme()</code>: similar to <code><a href="#topic+thematic_with_theme">thematic_with_theme()</a></code>, but de-couples
the theme from the plot expression.
</p>
</li>
<li> <p><code>thematic_set_theme()</code>: set a given <code>theme</code> object as the current theme.
</p>
</li>
<li> <p><code>thematic_get_theme()</code>: obtain the current <code>theme</code>.
</p>
</li>
<li> <p><code>thematic_get_option()</code>: obtain a particular <code>theme</code> option (and provide a <code>default</code>
if no <code>theme</code> is active).
</p>
</li>
<li> <p><code>thematic_get_mixture()</code>: obtain a mixture of the current <code>theme</code>'s <code>bg</code> and <code>fg</code>.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
# Use thematic_with_theme() for a one-time use of thematic
thematic_with_theme(
  thematic_theme("darkblue", "skyblue", accent = "red"),
  plot(1:10, col = thematic_get_option("accent"), pch = 19)
)

# Use thematic_set_theme() if doing something more complicated
# like programming on top thematic (without causing side effects)
my_plot &lt;- function(expr, las = 3, ...) {
  old_theme &lt;- thematic_on("black", "white")
  on.exit(thematic_set_theme(old_theme), add = TRUE)
  opts &lt;- par(las = las)
  on.exit(par(opts), add = TRUE)
  # Imagine some more customization with ...
  force(expr)
}
my_plot(plot(1:10))

thematic_off()
thematic_get_option("bg", "white")
thematic_on(bg = "red")
thematic_get_option("bg", "white")
thematic_off()

thematic_with_theme(
  thematic_theme("darkblue", "skyblue"),
  scales::show_col(thematic_get_mixture(seq(0, 1, by = 0.1)))
)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package mmints</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mmints}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#authServer'><p>Server function for Authentication Shiny Module</p></a></li>
<li><a href='#authUI'><p>Create UI elements for Authentication Shiny Module</p></a></li>
<li><a href='#citationServer'><p>Server Function for Citation Module</p></a></li>
<li><a href='#citationUI'><p>UI Function for Citation Module</p></a></li>
<li><a href='#csvUploadServer'><p>Server Function for CSV Upload Module</p></a></li>
<li><a href='#csvUploadUI'><p>UI Function for CSV Upload Module</p></a></li>
<li><a href='#format_citation'><p>Format Citation</p></a></li>
<li><a href='#generateRunCode'><p>Generate a Unique Run Code</p></a></li>
<li><a href='#list_null'><p>Handle Null Values for Text to List Conversions</p></a></li>
<li><a href='#postgresServer'><p>Server function for Postgres Shiny Module</p></a></li>
<li><a href='#postgresUI'><p>Create UI elements for Postgres Shiny Module</p></a></li>
<li><a href='#text_to_list'><p>Convert Text Input to List</p></a></li>
<li><a href='#text_to_vector'><p>Convert Text Input to Vector</p></a></li>
<li><a href='#vec_null'><p>Handle Null Values for Text to Vector Conversion</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Workflows for Building Web Applications</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Sharing statistical methods or simulation frameworks through 'shiny'
    applications often requires workflows for handling data. To help save and
    display simulation results, the postgresUI() and postgresServer() functions
    in 'mmints' help with persistent data storage using a 'PostgreSQL' database.
    The 'mmints' package also offers data upload functionality through the
    csvUploadUI() and csvUploadServer() functions which allow users to upload
    data, view variables and their types, and edit variable types before fitting
    statistical models within the 'shiny' application. These tools aim to
    enhance efficiency and user interaction in 'shiny' based statistical and
    simulation applications.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mightymetrika/mmints">https://github.com/mightymetrika/mmints</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mightymetrika/mmints/issues">https://github.com/mightymetrika/mmints/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>DT, pool, RPostgres, shiny, shinyauthr, sodium</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-12 16:34:40 UTC; Administrator</td>
</tr>
<tr>
<td>Author:</td>
<td>Mackson Ncube [aut, cre],
  mightymetrika, LLC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mackson Ncube &lt;macksonncube.stats@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-12 17:50:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='authServer'>Server function for Authentication Shiny Module</h2><span id='topic+authServer'></span>

<h3>Description</h3>

<p>This function sets up the server-side logic for the Authentication module,
handling user authentication, signup, and guest access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>authServer(id, postgres_module, user_table = "users")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="authServer_+3A_id">id</code></td>
<td>
<p>A character string that matches the ID used in <code>authUI()</code></p>
</td></tr>
<tr><td><code id="authServer_+3A_postgres_module">postgres_module</code></td>
<td>
<p>A postgresModule instance to handle database operations</p>
</td></tr>
<tr><td><code id="authServer_+3A_user_table">user_table</code></td>
<td>
<p>A character string specifying the name of the users table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing authentication status and user information
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- function(input, output, session) {
  postgres &lt;- postgresServer("postgres_module", ...)
  auth &lt;- authServer("auth_module", postgres, "users")
}
</code></pre>

<hr>
<h2 id='authUI'>Create UI elements for Authentication Shiny Module</h2><span id='topic+authUI'></span>

<h3>Description</h3>

<p>This function generates the UI components for the Authentication module,
including login, signup, and guest access options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>authUI(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="authUI_+3A_id">id</code></td>
<td>
<p>A character string that uniquely identifies this module instance</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing UI elements for authentication
</p>


<h3>Examples</h3>

<pre><code class='language-R'>shiny::fluidPage(
  authUI("auth_module")
)
</code></pre>

<hr>
<h2 id='citationServer'>Server Function for Citation Module</h2><span id='topic+citationServer'></span>

<h3>Description</h3>

<p>This function defines the server logic for the citation module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>citationServer(id, citations)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="citationServer_+3A_id">id</code></td>
<td>
<p>A character string that matches the ID used in <code>citationUI</code>.</p>
</td></tr>
<tr><td><code id="citationServer_+3A_citations">citations</code></td>
<td>
<p>A named list of citations. Each element can be:
</p>

<ul>
<li><p> A character string containing a formatted citation.
</p>
</li>
<li><p> A function that returns a formatted citation string.
</p>
</li>
<li><p> A citation object that can be passed to <code>format_citation</code>.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A Shiny module server function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>citations &lt;- list(
  "Example Citation" = "Author, A. (Year). Title. Journal, Vol(Issue), pages.",
  "R Citation" = function() format_citation(utils::citation())
)
server &lt;- function(input, output, session) {
  citationServer("my_citations", citations)
}

</code></pre>

<hr>
<h2 id='citationUI'>UI Function for Citation Module</h2><span id='topic+citationUI'></span>

<h3>Description</h3>

<p>This function creates the UI elements for the citation module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>citationUI(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="citationUI_+3A_id">id</code></td>
<td>
<p>A character string that defines the namespace for the module.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two elements:
</p>

<ul>
<li> <p><code>button</code>: An action button to show citations.
</p>
</li>
<li> <p><code>output</code>: A tag list containing the citation header and output.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>citationUI("my_citations")

</code></pre>

<hr>
<h2 id='csvUploadServer'>Server Function for CSV Upload Module</h2><span id='topic+csvUploadServer'></span>

<h3>Description</h3>

<p>This function defines the server logic for the CSV upload module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csvUploadServer(id, vars_title = "Available Variables")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csvUploadServer_+3A_id">id</code></td>
<td>
<p>A character string that matches the ID used in <code>csvUploadUI</code>.</p>
</td></tr>
<tr><td><code id="csvUploadServer_+3A_vars_title">vars_title</code></td>
<td>
<p>A character string for the title of the variables table.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A reactive expression containing the uploaded data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- function(input, output, session) {
  csvUploadServer("my_data", "My Variables")
}

</code></pre>

<hr>
<h2 id='csvUploadUI'>UI Function for CSV Upload Module</h2><span id='topic+csvUploadUI'></span>

<h3>Description</h3>

<p>This function creates the UI elements for the CSV upload module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>csvUploadUI(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="csvUploadUI_+3A_id">id</code></td>
<td>
<p>A character string that defines the namespace for the module.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing two elements:
</p>

<ul>
<li> <p><code>input</code>: The file input UI for uploading a CSV file.
</p>
</li>
<li> <p><code>output</code>: The UI for displaying the variables table.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>csvUploadUI("my_data")

</code></pre>

<hr>
<h2 id='format_citation'>Format Citation</h2><span id='topic+format_citation'></span>

<h3>Description</h3>

<p>This function formats a citation object into a format ready for use in 'shiny'
applications
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_citation(cit)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_citation_+3A_cit">cit</code></td>
<td>
<p>A citation object obtained from <code>utils::citation()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the formatted citation.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>format_citation(utils::citation("base"))

</code></pre>

<hr>
<h2 id='generateRunCode'>Generate a Unique Run Code</h2><span id='topic+generateRunCode'></span>

<h3>Description</h3>

<p>This function generates a unique run code for use in Shiny applications,
particularly those running simulations. The code combines a timestamp
with a random string to ensure uniqueness for each row or run.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generateRunCode(time_format = "%Y%m%d%H%M%S", string_length = 5)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generateRunCode_+3A_time_format">time_format</code></td>
<td>
<p>A string specifying the format for the timestamp.
Default is &quot;%Y%m%d%H%M%S&quot; (year, month, day, hour, minute, second).</p>
</td></tr>
<tr><td><code id="generateRunCode_+3A_string_length">string_length</code></td>
<td>
<p>An integer specifying the length of the random string.
Default is 5.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string containing the unique run code, composed of
a timestamp and a random alphanumeric string, separated by an underscore.
</p>


<h3>Note</h3>

<p>This function uses the current system time and a random string
to generate the run code. While collisions are extremely unlikely,
they are theoretically possible, especially if the function is called
multiple times within the same second and with a short string_length.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>generateRunCode()
generateRunCode(time_format = "%Y%m%d", string_length = 8)

</code></pre>

<hr>
<h2 id='list_null'>Handle Null Values for Text to List Conversions</h2><span id='topic+list_null'></span>

<h3>Description</h3>

<p>Handle Null Values for Text to List Conversions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_null(par_input = "", alt_na = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_null_+3A_par_input">par_input</code></td>
<td>
<p>A string input, default is &quot;&quot;.</p>
</td></tr>
<tr><td><code id="list_null_+3A_alt_na">alt_na</code></td>
<td>
<p>If alt_na is not set to NULL (the default), then it is an
alternative string used to represent NA. Usually, this is a string such as
&quot;NA&quot;, &quot;NaN&quot;, etc</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL if input is NA, if input is empty, or if input is alt_na (and
alt_na is not NULL). Otherwise return a parsed list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Convert missing value to null
list_null()
list_null(NA)
list_null("na", alt_na="na")

# Convert non-missing value to list
list_null("'one' = 1, 'two' = 2, 'three' = 3")

# Convert to null when a single vector is missing
list_null("'one' = 1, 'two' = NA, 'three' = 3", alt_na = "NA")
list_null("'one' = 1, NA, 'three' = 3", alt_na = "NA")

</code></pre>

<hr>
<h2 id='postgresServer'>Server function for Postgres Shiny Module</h2><span id='topic+postgresServer'></span>

<h3>Description</h3>

<p>This function sets up the server-side logic for the Postgres Shiny module,
handling database connections, data submission, retrieval, and download.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>postgresServer(id, dbname, datatable, host, port, user, password, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="postgresServer_+3A_id">id</code></td>
<td>
<p>A character string that matches the ID used in <code>postgresUI()</code></p>
</td></tr>
<tr><td><code id="postgresServer_+3A_dbname">dbname</code></td>
<td>
<p>A character string specifying the name of the database</p>
</td></tr>
<tr><td><code id="postgresServer_+3A_datatable">datatable</code></td>
<td>
<p>A character string specifying the name of the table in the database</p>
</td></tr>
<tr><td><code id="postgresServer_+3A_host">host</code></td>
<td>
<p>A character string specifying the host of the database</p>
</td></tr>
<tr><td><code id="postgresServer_+3A_port">port</code></td>
<td>
<p>A numeric value specifying the port number for the database connection</p>
</td></tr>
<tr><td><code id="postgresServer_+3A_user">user</code></td>
<td>
<p>A character string specifying the username for database access</p>
</td></tr>
<tr><td><code id="postgresServer_+3A_password">password</code></td>
<td>
<p>A character string specifying the password for database access</p>
</td></tr>
<tr><td><code id="postgresServer_+3A_data">data</code></td>
<td>
<p>A reactive expression that provides the data to be submitted</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of functions and reactive values:
</p>
<table role = "presentation">
<tr><td><code>executeQuery</code></td>
<td>
<p>A function to run arbitrary SQL</p>
</td></tr>
<tr><td><code>saveData</code></td>
<td>
<p>A function to save data to the database</p>
</td></tr>
<tr><td><code>loadData</code></td>
<td>
<p>A function to load data from the database</p>
</td></tr>
<tr><td><code>current_data</code></td>
<td>
<p>A reactive value containing the current data in the table</p>
</td></tr>
<tr><td><code>data_to_submit</code></td>
<td>
<p>A reactive value containing the data to be submitted</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- function(input, output, session) {
  postgres_module &lt;- postgresServer("postgres_module", "my_db", "my_table",
                                    "localhost", 5432, "user", "password",
                                    reactive({ input$data }))
 }
</code></pre>

<hr>
<h2 id='postgresUI'>Create UI elements for Postgres Shiny Module</h2><span id='topic+postgresUI'></span>

<h3>Description</h3>

<p>This function generates the UI components for the Postgres Shiny module,
including a submit button, a data table, and a download button.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>postgresUI(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="postgresUI_+3A_id">id</code></td>
<td>
<p>A character string that uniquely identifies this module instance</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing three UI elements:
</p>
<table role = "presentation">
<tr><td><code>submit</code></td>
<td>
<p>An action button for submitting data to database</p>
</td></tr>
<tr><td><code>table</code></td>
<td>
<p>A DT output for displaying the database data</p>
</td></tr>
<tr><td><code>download</code></td>
<td>
<p>A download button for exporting database data to csv</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>shiny::fluidPage(
  postgresUI("postgres_module")$submit,
  postgresUI("postgres_module")$table,
  postgresUI("postgres_module")$download
  )
</code></pre>

<hr>
<h2 id='text_to_list'>Convert Text Input to List</h2><span id='topic+text_to_list'></span>

<h3>Description</h3>

<p>Convert Text Input to List
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_to_list(text_input)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="text_to_list_+3A_text_input">text_input</code></td>
<td>
<p>A text representation of a list.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list parsed from the input string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a named list
text_to_list("'one' = 1, 'two' = 2, 'three' = 3")

# Create a list of vectors
text_to_list("c('x1', 'x2'), c('x3', 'x4')")

</code></pre>

<hr>
<h2 id='text_to_vector'>Convert Text Input to Vector</h2><span id='topic+text_to_vector'></span>

<h3>Description</h3>

<p>The goal of this function is to take text input and convert it
to an R vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text_to_vector(text_input)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="text_to_vector_+3A_text_input">text_input</code></td>
<td>
<p>A string input to be converted to a vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector parsed from the input string.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
text_to_vector("1,2,3,4,5")

text_to_vector("1:5")

text_to_vector("rep(1:5, times = 2)")

text_to_vector("seq(1,10,2)")

</code></pre>

<hr>
<h2 id='vec_null'>Handle Null Values for Text to Vector Conversion</h2><span id='topic+vec_null'></span>

<h3>Description</h3>

<p>Handle Null Values for Text to Vector Conversion
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vec_null(par_input = "", alt_na = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vec_null_+3A_par_input">par_input</code></td>
<td>
<p>A string input, default is &quot;&quot;.</p>
</td></tr>
<tr><td><code id="vec_null_+3A_alt_na">alt_na</code></td>
<td>
<p>If alt_na is not set to NULL (the default), then it is an
alternative string used to represent NA. Usually, this is a string such as
&quot;NA&quot;, &quot;NaN&quot;, etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL if input is NA, if input is empty, or if input is alt_na (and alt_na
is not NULL). Otherwise, return a vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Convert missing value to NULL
vec_null()
vec_null(NA)
vec_null("na", alt_na="na")

# Convert string to vector when input is not missing
num_vec &lt;- vec_null("2,8,3,7")

# Convert string to NULL when a single element is missing
vec_null("2,3,NA,5", "NA")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

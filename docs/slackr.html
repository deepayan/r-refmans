<!DOCTYPE html><html><head><title>Help for package slackr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {slackr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#auth_test'><p>Checks authentication &amp; identity against the Slack API.</p></a></li>
<li><a href='#call_slack_api'><p>A wrapper function to call the Slack API with authentication and pagination.</p></a></li>
<li><a href='#convert_response_to_tibble'><p>Convert Slack API json response to tibble.</p></a></li>
<li><a href='#create_config_file'><p>Create the config file used in <code>slackr_setup()</code></p></a></li>
<li><a href='#ggslackr'><p>Post a ggplot to a Slack channel</p></a></li>
<li><a href='#register_onexit'><p>Append slackr_msg as on.exit to functions.</p></a></li>
<li><a href='#slackr'><p>Output R expressions to a Slack channel/user</p></a></li>
<li><a href='#slackr_bot'><p>Send result of R expressions to a Slack channel via webhook API</p></a></li>
<li><a href='#slackr_channels'><p>Get a data frame of Slack channels</p></a></li>
<li><a href='#slackr_chtrans'><p>Translate vector of channel names to channel IDs for API</p></a></li>
<li><a href='#slackr_csv'><p>Send a data frame to Slack as a CSV</p></a></li>
<li><a href='#slackr_delete'><p>slackr_delete</p></a></li>
<li><a href='#slackr_dev'><p>Send the graphics contents of the current device to a Slack channel</p></a></li>
<li><a href='#slackr_history'><p>Reads history of a channel.</p></a></li>
<li><a href='#slackr_ims'><p>Get a data frame of Slack IM ids</p></a></li>
<li><a href='#slackr_msg'><p>Sends a message to a slack channel.</p></a></li>
<li><a href='#slackr_save'><p>Save R objects to an RData file on Slack</p></a></li>
<li><a href='#slackr_setup'><p>Setup environment variables for Slack API access</p></a></li>
<li><a href='#slackr_teardown'><p>Unset env vars created by <code>slackr_setup()</code></p></a></li>
<li><a href='#slackr_tex'><p>Post a tex output to a Slack channel</p></a></li>
<li><a href='#slackr_upload'><p>Send a file to Slack</p></a></li>
<li><a href='#slackr_users'><p>Get a data frame of Slack users</p></a></li>
<li><a href='#warn_for_args'><p>Check for token-parameter mismatches</p></a></li>
<li><a href='#with_pagination'><p>Calls the slack API with pagination using cursors.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Send Messages, Images, R Objects and Files to 'Slack'
Channels/Users</td>
</tr>
<tr>
<td>Version:</td>
<td>3.3.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Bob Rudis [aut, cre], Jay Jacobs [ctb], David Severski [ctb],
    Quinn Weber [ctb], Konrad Karczewski [ctb], Shinya Uryu [ctb], Gregory
    Jefferis [ctb], Ed Niles [ctb], Rick Saporta [ctb], Jonathan Sidi
    [aut, ctb], Matt Kaye [aut, ctb], Xinye Li [ctb], Andrie de Vries
    [aut, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Kaye &lt;mrkaye97@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>'Slack' <a href="https://slack.com/">https://slack.com/</a> provides a service for teams to
    collaborate by sharing messages, images, links, files and more.
    Functions are provided that make it possible to interact with the
    'Slack' platform 'API'. When you need to share information or data
    from R, rather than resort to copy/ paste in e-mails or other services
    like 'Skype' <a href="https://www.skype.com/en/">https://www.skype.com/en/</a>, you can use this package to
    send well-formatted output from multiple R objects and expressions to
    all teammates at the same time with little effort. You can also send
    images from the current graphics device, R objects, and upload files.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mrkaye97/slackr">https://github.com/mrkaye97/slackr</a>,
<a href="https://mrkaye97.github.io/slackr/">https://mrkaye97.github.io/slackr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mrkaye97/slackr/issues">https://github.com/mrkaye97/slackr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cachem (&ge; 1.0.4), dplyr, grDevices, httr (&ge; 1.4.2),
jsonlite, magrittr, memoise (&ge; 2.0.0), rlang, tibble, utils,
withr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, ggplot2, knitr, rmarkdown, svglite, testthat (&ge;
3.0.0), texPreview</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-02-25 18:30:57 UTC; matt</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-02-26 01:12:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='auth_test'>Checks authentication &amp; identity against the Slack API.</h2><span id='topic+auth_test'></span>

<h3>Description</h3>

<p>Checks authentication &amp; identity against the Slack API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>auth_test(token = Sys.getenv("SLACK_TOKEN"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="auth_test_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
</table>


<h3>References</h3>

<p>https://api.slack.com/methods/auth.test
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (Sys.getenv("SLACK_TOKEN") != "") {
  auth_test()
}
</code></pre>

<hr>
<h2 id='call_slack_api'>A wrapper function to call the Slack API with authentication and pagination.</h2><span id='topic+call_slack_api'></span>

<h3>Description</h3>

<p>A wrapper function to call the Slack API with authentication and pagination.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>call_slack_api(
  path,
  ...,
  body = NULL,
  .method = c("GET", "POST"),
  token,
  .verbose = Sys.getenv("SLACKR_VERBOSE", "FALSE"),
  .next_cursor = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="call_slack_api_+3A_path">path</code></td>
<td>
<p>The API definition path, e.g. <code style="white-space: pre;">&#8288;/api/auth.test&#8288;</code>.</p>
</td></tr>
<tr><td><code id="call_slack_api_+3A_...">...</code></td>
<td>
<p>These arguments must be named and will be added to the API query string.</p>
</td></tr>
<tr><td><code id="call_slack_api_+3A_body">body</code></td>
<td>
<p>If <code>.method = POST</code> the <code>body</code> gets passed to the API body.</p>
</td></tr>
<tr><td><code id="call_slack_api_+3A_.method">.method</code></td>
<td>
<p>Either &quot;GET&quot; or &quot;POST&quot;.</p>
</td></tr>
<tr><td><code id="call_slack_api_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="call_slack_api_+3A_.verbose">.verbose</code></td>
<td>
<p>If TRUE, prints <code>httr</code> verbose messages.  Useful for debugging.</p>
</td></tr>
<tr><td><code id="call_slack_api_+3A_.next_cursor">.next_cursor</code></td>
<td>
<p>The value of the next cursor, when using pagination.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The API response (a named list)
</p>

<hr>
<h2 id='convert_response_to_tibble'>Convert Slack API json response to tibble.</h2><span id='topic+convert_response_to_tibble'></span>

<h3>Description</h3>

<p>Convert Slack API json response to tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convert_response_to_tibble(x, element)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="convert_response_to_tibble_+3A_x">x</code></td>
<td>
<p>The Slack API response object, returned from <a href="#topic+call_slack_api">call_slack_api</a>.</p>
</td></tr>
<tr><td><code id="convert_response_to_tibble_+3A_element">element</code></td>
<td>
<p>The name of the list element to extract.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble
</p>

<hr>
<h2 id='create_config_file'>Create the config file used in <code>slackr_setup()</code></h2><span id='topic+create_config_file'></span>

<h3>Description</h3>

<p>Create the config file used in <code>slackr_setup()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_config_file(
  filename = "~/.slackr",
  token = Sys.getenv("SLACK_TOKEN"),
  incoming_webhook_url = Sys.getenv("SLACK_INCOMING_WEBHOOK_URL"),
  icon_emoji = Sys.getenv("SLACK_ICON_EMOJI"),
  username = Sys.getenv("SLACK_USERNAME"),
  channel = Sys.getenv("SLACK_CHANNEL")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_config_file_+3A_filename">filename</code></td>
<td>
<p>the name of the config file to save. We recommend using a hidden file (starting with '.')</p>
</td></tr>
<tr><td><code id="create_config_file_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="create_config_file_+3A_incoming_webhook_url">incoming_webhook_url</code></td>
<td>
<p>the incoming webhook URL (Default: whatever is set as an env var).</p>
</td></tr>
<tr><td><code id="create_config_file_+3A_icon_emoji">icon_emoji</code></td>
<td>
<p>the icon emoji to use as the default.</p>
</td></tr>
<tr><td><code id="create_config_file_+3A_username">username</code></td>
<td>
<p>the username to send messages from (will default to &quot;slackr&quot; if no username is set).</p>
</td></tr>
<tr><td><code id="create_config_file_+3A_channel">channel</code></td>
<td>
<p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See the <a href="https://api.slack.com/methods/chat.postMessage#channels">chat.postMessage endpoint documentation</a> for details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE if successful (invisibly)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# using `create_config_file()` after `slackr_setup()`
create_config_file()

# using `create_config_file()` before `slackr_setup()`
create_config_file(
  token = "xox-",
  incoming_webhook_url = "https://hooks-",
  channel = "#general",
  username = "slackr",
  icon_emoji = "tada"
)

slackr_setup()

## End(Not run)
</code></pre>

<hr>
<h2 id='ggslackr'>Post a ggplot to a Slack channel</h2><span id='topic+ggslackr'></span>

<h3>Description</h3>

<p>Unlike the <code><a href="#topic+slackr_dev">slackr_dev()</a></code> function, this one takes a <code>ggplot</code> object,
eliminating the need to have a graphics device (think use in scripts).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggslackr(
  plot = ggplot2::last_plot(),
  channels = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  file = "ggplot.png",
  initial_comment = NULL,
  thread_ts = NULL,
  title = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggslackr_+3A_plot">plot</code></td>
<td>
<p>ggplot object to save, defaults to last plot displayed.</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_file">file</code></td>
<td>
<p>Prefix for filenames (defaults to <code>ggplot</code>).</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_initial_comment">initial_comment</code></td>
<td>
<p>The message text introducing the file in specified channels.</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to upload this file as a reply. Never use a reply's ts value; use its parent instead.</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_title">title</code></td>
<td>
<p>Title of file.</p>
</td></tr>
<tr><td><code id="ggslackr_+3A_...">...</code></td>
<td>
<p>other arguments passed to <a href="ggplot2.html#topic+ggsave">ggsave</a></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>httr</code> response object (invisibly)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_setup()
ggslackr(qplot(mpg, wt, data = mtcars))

## End(Not run)
</code></pre>

<hr>
<h2 id='register_onexit'>Append slackr_msg as on.exit to functions.</h2><span id='topic+register_onexit'></span>

<h3>Description</h3>

<p>Appends to the body of a function an on.exit call to run at the end of the call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>register_onexit(
  f,
  ...,
  header_msg = NULL,
  use_device = FALSE,
  env = parent.frame(2),
  channel = Sys.getenv("SLACK_CHANNEL"),
  username = Sys.getenv("SLACK_USERNAME"),
  icon_emoji = Sys.getenv("SLACK_ICON_EMOJI"),
  token = Sys.getenv("SLACK_TOKEN")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="register_onexit_+3A_f">f</code></td>
<td>
<p>function or character.</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_...">...</code></td>
<td>
<p>expressions to be sent to Slack.</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_header_msg">header_msg</code></td>
<td>
<p>boolean, message to append to start of Slack output, Default: NULL.</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_use_device">use_device</code></td>
<td>
<p>boolean, passes current image in the graphics device to Slack as part of f,
Default: FALSE.</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_env">env</code></td>
<td>
<p>environment to assign appended function to with relation to the function environment,
Default: parent.frame(2) (global environment).</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_channel">channel</code></td>
<td>
<p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See the <a href="https://api.slack.com/methods/chat.postMessage#channels">chat.postMessage endpoint documentation</a> for details.</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_username">username</code></td>
<td>
<p>what user should the bot be named as (chr).</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_icon_emoji">icon_emoji</code></td>
<td>
<p>what emoji to use (chr) <code>""</code> will mean use the default.</p>
</td></tr>
<tr><td><code id="register_onexit_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a character is passed to f then it will evaluate internally to a function.
</p>


<h3>Value</h3>

<p>function
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi (aut)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_msg">slackr_msg()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ctl &lt;- c(4.17, 5.58, 5.18, 6.11, 4.50, 4.61, 5.17, 4.53, 5.33, 5.14)
trt &lt;- c(4.81, 4.17, 4.41, 3.59, 5.87, 3.83, 6.03, 4.89, 4.32, 4.69)
group &lt;- gl(2, 10, 20, labels = c("Ctl", "Trt"))
weight &lt;- c(ctl, trt)

# pass a message to Slack channel 'general'
register_onexit(lm, "bazinga!", channel = "#general")

lm.D9 &lt;- slack_lm(weight ~ group)

# test that output keeps inheritance
summary(lm.D9)

# pass a message to Slack channel 'general' with a header message to begin output
register_onexit(
  lm,
  "bazinga!",
  channel = "#general",
  header_msg = "This is a message to begin"
)

lm.D9 &lt;- slack_lm(weight ~ group)

# onexit with an expression that calls lm.plot
register_onexit(
  lm,
  {
    par(mfrow = c(2, 2), oma = c(0, 0, 2, 0))
    plot(z)
  },
  channel = "#general",
  header_msg = "This is a plot just for this output",
  use_device = TRUE
)

lm.D9 &lt;- slack_lm(weight ~ group)

# clean up slack channel from examples
slackr_delete(count = 6, channel = "#general")

## End(Not run)

</code></pre>

<hr>
<h2 id='slackr'>Output R expressions to a Slack channel/user</h2><span id='topic+slackr'></span>

<h3>Description</h3>

<p>Takes an <code>expr</code>, evaluates it and sends the output to a Slack
chat destination. Useful for logging, messaging on long compute tasks or
general information sharing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr(
  ...,
  channel = Sys.getenv("SLACK_CHANNEL"),
  username = Sys.getenv("SLACK_USERNAME"),
  icon_emoji = Sys.getenv("SLACK_ICON_EMOJI"),
  token = Sys.getenv("SLACK_TOKEN"),
  thread_ts = NULL,
  reply_broadcast = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_+3A_...">...</code></td>
<td>
<p>expressions to be sent to Slack.</p>
</td></tr>
<tr><td><code id="slackr_+3A_channel">channel</code></td>
<td>
<p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See the <a href="https://api.slack.com/methods/chat.postMessage#channels">chat.postMessage endpoint documentation</a> for details.</p>
</td></tr>
<tr><td><code id="slackr_+3A_username">username</code></td>
<td>
<p>what user should the bot be named as (chr).</p>
</td></tr>
<tr><td><code id="slackr_+3A_icon_emoji">icon_emoji</code></td>
<td>
<p>what emoji to use (chr) <code>""</code> will mean use the default.</p>
</td></tr>
<tr><td><code id="slackr_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to make this message a reply. Avoid using a reply's ts value; use its parent instead.</p>
</td></tr>
<tr><td><code id="slackr_+3A_reply_broadcast">reply_broadcast</code></td>
<td>
<p>Used in conjunction with thread_ts and indicates whether reply should be made visible to everyone in the channel or conversation. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, everything but <code>expr</code> will be looked for in a &quot;<code>SLACK_</code>&quot;
environment variable. You can override or just specify these values directly instead,
but it's probably better to call <code><a href="#topic+slackr_setup">slackr_setup()</a></code> first.
</p>


<h3>Value</h3>

<p>the response (invisibly)
</p>


<h3>Note</h3>

<p>You need a <a href="https://www.slack.com">https://www.slack.com</a> account and will also need to
set up an API token <a href="https://api.slack.com/">https://api.slack.com/</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>, <code><a href="#topic+slackr_bot">slackr_bot()</a></code>, <code><a href="#topic+slackr_dev">slackr_dev()</a></code>,
<code><a href="#topic+slackr_save">slackr_save()</a></code>, <code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_setup()
slackr("iris info", head(iris), str(iris))

## End(Not run)
</code></pre>

<hr>
<h2 id='slackr_bot'>Send result of R expressions to a Slack channel via webhook API</h2><span id='topic+slackr_bot'></span>

<h3>Description</h3>

<p>Takes an <code>expr</code>, evaluates it and sends the output to a Slack
chat destination via the webhook API. Useful for logging, messaging on long
compute tasks or general information sharing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_bot(
  ...,
  incoming_webhook_url = Sys.getenv("SLACK_INCOMING_WEBHOOK_URL")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_bot_+3A_...">...</code></td>
<td>
<p>expressions to be sent to Slack.</p>
</td></tr>
<tr><td><code id="slackr_bot_+3A_incoming_webhook_url">incoming_webhook_url</code></td>
<td>
<p>which <code>slack.com</code> API endpoint URL to use
(see section <strong>Webhook URLs</strong> for details).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, everything but <code>expr</code> will be looked for in a &quot;<code>SLACK_</code>&quot;
environment variable. You can override or just specify these values directly
instead, but it's probably better to call <code><a href="#topic+slackr_setup">slackr_setup()</a></code> first.
</p>


<h3>Webhook URLs</h3>

<p>Webhook URLs look like: </p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX&#8288;</code>
</p>
</li></ul>

<p>OLD STYLE WEBHOOKS ARE NO LONGER SUPPORTED
</p>


<h3>Note</h3>

<p>You need a <a href="https://www.slack.com">https://www.slack.com</a> account and will also need to
setup an incoming webhook: <a href="https://api.slack.com/">https://api.slack.com/</a>. Old style webhooks are
no longer supported.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>, <code><a href="#topic+slackr">slackr()</a></code>,
<code><a href="#topic+slackr_dev">slackr_dev()</a></code>, <code><a href="#topic+slackr_save">slackr_save()</a></code>,
<code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_setup()
slackr_bot("iris info", head(iris), str(iris))

# or directly
slackr_bot(
  "Test message",
  incoming_webhook_url = "https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX"
)

## End(Not run)
</code></pre>

<hr>
<h2 id='slackr_channels'>Get a data frame of Slack channels</h2><span id='topic+slackr_channels'></span>

<h3>Description</h3>

<p>Get a data frame of Slack channels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_channels(token = Sys.getenv("SLACK_TOKEN"), exclude_archived = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_channels_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_channels_+3A_exclude_archived">exclude_archived</code></td>
<td>
<p>A boolean indicating whether or not to exclude archived channels.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame of channels
</p>

<hr>
<h2 id='slackr_chtrans'>Translate vector of channel names to channel IDs for API</h2><span id='topic+slackr_chtrans'></span>

<h3>Description</h3>

<p>Given a vector of one or more channel names, retrieve list of
active channels and try to replace channels that begin with &quot;<code style="white-space: pre;">&#8288;#&#8288;</code>&quot; or &quot;<code>@</code>&quot;
with the channel ID for that channel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_chtrans(channels, token = Sys.getenv("SLACK_TOKEN"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_chtrans_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="slackr_chtrans_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector - original channel list with <code style="white-space: pre;">&#8288;#&#8288;</code> or
<code>@</code> channels replaced with ID's.
</p>


<h3>Author(s)</h3>

<p>Quinn Weber (ctb), Bob Rudis (aut)
</p>

<hr>
<h2 id='slackr_csv'>Send a data frame to Slack as a CSV</h2><span id='topic+slackr_csv'></span>

<h3>Description</h3>

<p><code>slackr_csv</code> simplifies the process of sending a data frame to Slack as a CSV file.
It is highly recommended to leave the <code>filename</code> argument as the default (tempfile), as changing it will persist a csv file in your working directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_csv(
  data,
  filename = tempfile(fileext = ".csv"),
  title = NULL,
  initial_comment = NULL,
  channels = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  thread_ts = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_csv_+3A_data">data</code></td>
<td>
<p>the data frame or tibble to upload.</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_filename">filename</code></td>
<td>
<p>the file to save to. Defaults to a tempfile. Using the default is <em>highly</em> advised, as using a non-tempfile will write a file that persists on the disk (either in the working directory, or at the location specified).</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_title">title</code></td>
<td>
<p>Title of file.</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_initial_comment">initial_comment</code></td>
<td>
<p>The message text introducing the file in specified channels.</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to upload this file as a reply. Never use a reply's ts value; use its parent instead.</p>
</td></tr>
<tr><td><code id="slackr_csv_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to <code>write.csv()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>httr</code> response object from <code>POST</code> call (invisibly)
</p>
<p><code>httr</code> response object from <code>POST</code> call (invisibly)
</p>


<h3>Author(s)</h3>

<p>Matt Kaye (aut)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>

<hr>
<h2 id='slackr_delete'>slackr_delete</h2><span id='topic+slackr_delete'></span>

<h3>Description</h3>

<p>Deletes the specified number of messages from the channel
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_delete(
  count,
  channel = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_delete_+3A_count">count</code></td>
<td>
<p>The number of messages to delete.</p>
</td></tr>
<tr><td><code id="slackr_delete_+3A_channel">channel</code></td>
<td>
<p>Channel, private group, or IM channel to delete messages from. Can be an encoded ID, or a name. See the <a href="https://api.slack.com/methods/chat.postMessage#channels">chat.postMessage endpoint documentation</a> for details.</p>
</td></tr>
<tr><td><code id="slackr_delete_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
</table>

<hr>
<h2 id='slackr_dev'>Send the graphics contents of the current device to a Slack channel</h2><span id='topic+slackr_dev'></span>

<h3>Description</h3>

<p><code>slackr_dev</code> sends the graphics contents of the current device to the
specified Slack channel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_dev(
  channels = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  file = "plot",
  initial_comment = NULL,
  title = NULL,
  thread_ts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_dev_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="slackr_dev_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_dev_+3A_file">file</code></td>
<td>
<p>prefix for filenames (defaults to <code>plot</code>).</p>
</td></tr>
<tr><td><code id="slackr_dev_+3A_initial_comment">initial_comment</code></td>
<td>
<p>The message text introducing the file in specified channels.</p>
</td></tr>
<tr><td><code id="slackr_dev_+3A_title">title</code></td>
<td>
<p>Title of file.</p>
</td></tr>
<tr><td><code id="slackr_dev_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to upload this file as a reply. Never use a reply's ts value; use its parent instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>httr</code> response object from <code>POST</code> call
</p>


<h3>Author(s)</h3>

<p>Konrad Karczewski (ctb), Bob Rudis (aut)
</p>


<h3>References</h3>

<p><a href="https://github.com/mrkaye97/slackr/pull/12/files">https://github.com/mrkaye97/slackr/pull/12/files</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>, <code><a href="#topic+slackr_save">slackr_save()</a></code>, <code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_setup()

# base
library(maps)
map("usa")
slackr_dev("#results", file = "map")

# base
barplot(VADeaths)
slackr_dev("@jayjacobs")

## End(Not run)
</code></pre>

<hr>
<h2 id='slackr_history'>Reads history of a channel.</h2><span id='topic+slackr_history'></span>

<h3>Description</h3>

<p>Returns a dataframe of post history in a channel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_history(
  message_count = 100,
  channel = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  posted_to_time = as.numeric(Sys.time()),
  duration = NULL,
  posted_from_time = 0,
  paginate = FALSE,
  inclusive = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_history_+3A_message_count">message_count</code></td>
<td>
<p>The number of messages to retrieve (only when <code>paginate = FALSE</code>).
Corresponds to <code>limit</code> in the <a href="https://api.slack.com/methods/conversations.history">conversations.history</a> docs.
Note: If using pagination, setting a value of (e.g.) 1 will result in paginating
through the channel's history one message at a time. Slack recommends using a value of 200. (Default: 100)</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_channel">channel</code></td>
<td>
<p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name.</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_posted_to_time">posted_to_time</code></td>
<td>
<p>Timestamp of the last post to consider.
Corresponds to <code>latest</code> in the <a href="https://api.slack.com/methods/conversations.history">conversations.history</a> docs.
Default: current time.</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_duration">duration</code></td>
<td>
<p>Number of hours of history to retrieve.  If neither <code>duration</code>
nor <code>posted_from_time</code> is specified, there is no time limit on the retrieved
history. (default: <code>NULL</code>)</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_posted_from_time">posted_from_time</code></td>
<td>
<p>Timestamp of the first post time to consider. If both
posted_to_time and duration is specifed, they take precedence.
Corresponds to <code>oldest</code> in the <a href="https://api.slack.com/methods/conversations.history">conversations.history</a>
docs.
Default: 0</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_paginate">paginate</code></td>
<td>
<p>If TRUE, uses the Slack API pagination mechanism, and will retrieve all history inside the timeframe.  Otherwise, makes a single call to the API and retrieves a maximum of <code>message_count</code> messages.</p>
</td></tr>
<tr><td><code id="slackr_history_+3A_inclusive">inclusive</code></td>
<td>
<p>Include messages with oldest or latest timestamps in results. Ignored unless either timestamp is specified.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code> with message metadata
</p>


<h3>Scopes</h3>

<p>You need one or more of these scopes enabled in your slack app: *
channels:history * groups:history * im:history * mpim:history
</p>


<h3>References</h3>

<p><a href="https://api.slack.com/methods/conversations.history">https://api.slack.com/methods/conversations.history</a>
</p>

<hr>
<h2 id='slackr_ims'>Get a data frame of Slack IM ids</h2><span id='topic+slackr_ims'></span>

<h3>Description</h3>

<p>Get a data frame of Slack IM ids
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_ims(token = Sys.getenv("SLACK_TOKEN"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_ims_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> of im ids and user names
</p>


<h3>Author(s)</h3>

<p>Quinn Weber (aut), Bob Rudis (ctb)
</p>


<h3>References</h3>

<p><a href="https://github.com/mrkaye97/slackr/pull/13">https://github.com/mrkaye97/slackr/pull/13</a>
</p>

<hr>
<h2 id='slackr_msg'>Sends a message to a slack channel.</h2><span id='topic+slackr_msg'></span>

<h3>Description</h3>

<p>Sends a message to a slack channel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_msg(
  txt = "",
  channel = Sys.getenv("SLACK_CHANNEL"),
  username = Sys.getenv("SLACK_USERNAME"),
  icon_emoji = Sys.getenv("SLACK_ICON_EMOJI"),
  token = Sys.getenv("SLACK_TOKEN"),
  thread_ts = NULL,
  reply_broadcast = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_msg_+3A_txt">txt</code></td>
<td>
<p>text message to send to Slack. If a character vector of length &gt; 1
is passed in, they will be combined and separated by newlines.</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_channel">channel</code></td>
<td>
<p>Channel, private group, or IM channel to send message to. Can be an encoded ID, or a name. See the <a href="https://api.slack.com/methods/chat.postMessage#channels">chat.postMessage endpoint documentation</a> for details.</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_username">username</code></td>
<td>
<p>what user should the bot be named as (chr).</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_icon_emoji">icon_emoji</code></td>
<td>
<p>what emoji to use (chr) <code>""</code> will mean use the default.</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to make this message a reply. Avoid using a reply's ts value; use its parent instead.</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_reply_broadcast">reply_broadcast</code></td>
<td>
<p>Used in conjunction with thread_ts and indicates whether reply should be made visible to everyone in the channel or conversation. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="slackr_msg_+3A_...">...</code></td>
<td>
<p>other arguments passed to the Slack API <code>chat.postMessage</code> call</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the response (invisibly)
</p>


<h3>Note</h3>

<p>You need a <a href="https://www.slack.com">https://www.slack.com</a> account and will also need to
setup an API token <a href="https://api.slack.com/">https://api.slack.com/</a>
Also, you can pass in <code>add_user=TRUE</code> as part of the <code>...</code>
parameters and the Slack API will post the message as your logged-in
user account (this will override anything set in <code>username</code>)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>, <code><a href="#topic+slackr_bot">slackr_bot()</a></code>, <code><a href="#topic+slackr_dev">slackr_dev()</a></code>,
<code><a href="#topic+slackr_save">slackr_save()</a></code>, <code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_setup()
slackr_msg("Hi")

## End(Not run)
</code></pre>

<hr>
<h2 id='slackr_save'>Save R objects to an RData file on Slack</h2><span id='topic+slackr_save'></span>

<h3>Description</h3>

<p><code>slackr_save</code> enables you upload R objects (as an R data file)
to Slack and (optionally) post them to one or more channels
(if <code>channels</code> is not empty).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_save(
  ...,
  channels = Sys.getenv("SLACK_CHANNEL"),
  file = "slackr",
  token = Sys.getenv("SLACK_TOKEN"),
  initial_comment = NULL,
  title = NULL,
  thread_ts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_save_+3A_...">...</code></td>
<td>
<p>objects to store in the R data file.</p>
</td></tr>
<tr><td><code id="slackr_save_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="slackr_save_+3A_file">file</code></td>
<td>
<p>filename (without extension) to use.</p>
</td></tr>
<tr><td><code id="slackr_save_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_save_+3A_initial_comment">initial_comment</code></td>
<td>
<p>The message text introducing the file in specified channels.</p>
</td></tr>
<tr><td><code id="slackr_save_+3A_title">title</code></td>
<td>
<p>Title of file.</p>
</td></tr>
<tr><td><code id="slackr_save_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to upload this file as a reply. Never use a reply's ts value; use its parent instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>httr</code> response object from <code>POST</code> call
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>, <code><a href="#topic+slackr_dev">slackr_dev()</a></code>, <code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_setup()
slackr_save(mtcars, channels = "#slackr", file = "mtcars")

## End(Not run)
</code></pre>

<hr>
<h2 id='slackr_setup'>Setup environment variables for Slack API access</h2><span id='topic+slackr_setup'></span>

<h3>Description</h3>

<p>Initialize all the environment variables <code><a href="#topic+slackr">slackr()</a></code> will need to use to
work properly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_setup(
  channel = "#general",
  username = "slackr",
  icon_emoji = "",
  incoming_webhook_url = "",
  token = "",
  config_file = "~/.slackr",
  echo = FALSE,
  cache_dir = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_setup_+3A_channel">channel</code></td>
<td>
<p>default channel to send the output to (chr) defaults to <code style="white-space: pre;">&#8288;#general&#8288;</code>.</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_username">username</code></td>
<td>
<p>the username output will appear from (chr) defaults to <code>slackr</code>.</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_icon_emoji">icon_emoji</code></td>
<td>
<p>which emoji picture to use (chr) defaults to none (can be
left blank in config file as well).</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_incoming_webhook_url">incoming_webhook_url</code></td>
<td>
<p>the Slack URL prefix to use (chr) defaults to none.</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_config_file">config_file</code></td>
<td>
<p>a configuration file (DCF) - see <a href="base.html#topic+read.dcf">read.dcf</a> - format
with the config values.</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_echo">echo</code></td>
<td>
<p>display the configuration variables (bool) initially <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="slackr_setup_+3A_cache_dir">cache_dir</code></td>
<td>
<p>the location for an on-disk cache. defaults to an in-memory cache if no location is specified.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default, <code><a href="#topic+slackr">slackr()</a></code> (and other functions) will use the <code style="white-space: pre;">&#8288;#general&#8288;</code>
room and a username of <code>slackr()</code> with no emoji.
</p>
<p>If a valid file is found at the locaiton pointed to by <code>config_file</code>, the
values there will be used. The fields should be specified as such in the file:
</p>
<pre>
 token: SLACK_TOKEN
 channel: #general
 username: slackr
 incoming_webhook_url: https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX
</pre>


<h3>Value</h3>

<p>&quot;Successfully connected to Slack&quot;
</p>


<h3>Note</h3>

<p>You need a <a href="https://slack.com">Slack</a> account and all your API URLs &amp; tokens setup
to use this package.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr">slackr()</a></code>, <code><a href="#topic+slackr_dev">slackr_dev()</a></code>, <code><a href="#topic+slackr_save">slackr_save()</a></code>,
<code><a href="#topic+slackr_upload">slackr_upload()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# reads from default file (i.e. ~/.slackr)
slackr_setup()

# reads from alternate config
slackr_setup(config_file = "/path/to/my/slackrconfig")

# the hard way
slackr_setup(
  channel = "#code",
  incoming_webhook_url = "https://hooks.slack.com/services/XXXXX/XXXXX/XXXXX"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='slackr_teardown'>Unset env vars created by <code>slackr_setup()</code></h2><span id='topic+slackr_teardown'></span>

<h3>Description</h3>

<p>Unset env vars created by <code>slackr_setup()</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_teardown()
</code></pre>


<h3>Value</h3>

<p>TRUE if successful (invisibly)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
slackr_teardown()

## End(Not run)
</code></pre>

<hr>
<h2 id='slackr_tex'>Post a tex output to a Slack channel</h2><span id='topic+slackr_tex'></span>

<h3>Description</h3>

<p>Unlike the <code><a href="#topic+slackr_dev">slackr_dev()</a></code> function, this one takes a <code>tex</code> object,
eliminating the need write to pdf and convert to png to pass to slack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_tex(
  obj,
  channels = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  ext = "png",
  path = NULL,
  title = NULL,
  initial_comment = NULL,
  thread_ts = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_tex_+3A_obj">obj</code></td>
<td>
<p>character object containing tex to compile.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_ext">ext</code></td>
<td>
<p>character, type of format to return, can be tex, pdf, or any image device, Default: 'png'.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_path">path</code></td>
<td>
<p>character, path to save tex_preview outputs, if NULL then tempdir is used, Default: NULL.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_title">title</code></td>
<td>
<p>Title of file.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_initial_comment">initial_comment</code></td>
<td>
<p>The message text introducing the file in specified channels.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to upload this file as a reply. Never use a reply's ts value; use its parent instead.</p>
</td></tr>
<tr><td><code id="slackr_tex_+3A_...">...</code></td>
<td>
<p>other arguments passed to <code><a href="texPreview.html#topic+tex_preview">texPreview::tex_preview()</a></code>, see Details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Please make sure <code>texPreview</code> package is installed before running this function.
For TeX setup refer to the
<a href="https://github.com/mrkaye97/slackr#latex-for-slackr_tex">Setup notes on <code>LaTeX</code></a>.
</p>


<h3>Value</h3>

<p><code>httr</code> response object (invisibly)
</p>


<h3>Note</h3>

<p>You need to setup a full API token (i.e. not a webhook &amp; not OAuth) for this to work
Also, you can pass in <code>add_user=TRUE</code> as part of the <code>...</code>
parameters and the Slack API will post the message as your logged-in user
account (this will override anything set in <code>username</code>)
</p>


<h3>Author(s)</h3>

<p>Jonathan Sidi (aut)
</p>


<h3>See Also</h3>

<p><code><a href="texPreview.html#topic+tex_preview">texPreview::tex_preview()</a></code>
</p>

<hr>
<h2 id='slackr_upload'>Send a file to Slack</h2><span id='topic+slackr_upload'></span>

<h3>Description</h3>

<p><code>slackr_upload</code> enables you upload files to Slack and
(optionally) post them to one or more channels (if <code>channels</code> is not empty).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_upload(
  filename,
  title = NULL,
  initial_comment = NULL,
  channels = Sys.getenv("SLACK_CHANNEL"),
  token = Sys.getenv("SLACK_TOKEN"),
  thread_ts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_upload_+3A_filename">filename</code></td>
<td>
<p>path to file.</p>
</td></tr>
<tr><td><code id="slackr_upload_+3A_title">title</code></td>
<td>
<p>Title of file.</p>
</td></tr>
<tr><td><code id="slackr_upload_+3A_initial_comment">initial_comment</code></td>
<td>
<p>The message text introducing the file in specified channels.</p>
</td></tr>
<tr><td><code id="slackr_upload_+3A_channels">channels</code></td>
<td>
<p>Comma-separated list of channel names or IDs where the file will be shared.</p>
</td></tr>
<tr><td><code id="slackr_upload_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="slackr_upload_+3A_thread_ts">thread_ts</code></td>
<td>
<p>Provide another message's ts value to upload this file as a reply. Never use a reply's ts value; use its parent instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>httr</code> response object from <code>POST</code> call (invisibly)
</p>
<p><code>httr</code> response object from <code>POST</code> call (invisibly)
</p>


<h3>Author(s)</h3>

<p>Quinn Weber (ctb), Bob Rudis (aut)
</p>


<h3>References</h3>

<p><a href="https://github.com/mrkaye97/slackr/pull/15/files">https://github.com/mrkaye97/slackr/pull/15/files</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slackr_setup">slackr_setup()</a></code>, <code><a href="#topic+slackr_dev">slackr_dev()</a></code>, <code><a href="#topic+slackr_save">slackr_save()</a></code>
</p>

<hr>
<h2 id='slackr_users'>Get a data frame of Slack users</h2><span id='topic+slackr_users'></span>

<h3>Description</h3>

<p>Get a data frame of Slack users
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slackr_users(token = Sys.getenv("SLACK_TOKEN"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="slackr_users_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> of users
</p>

<hr>
<h2 id='warn_for_args'>Check for token-parameter mismatches</h2><span id='topic+warn_for_args'></span>

<h3>Description</h3>

<p>Check for token-parameter mismatches
</p>


<h3>Usage</h3>

<pre><code class='language-R'>warn_for_args(token, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="warn_for_args_+3A_token">token</code></td>
<td>
<p>Authentication token bearing required scopes.</p>
</td></tr>
<tr><td><code id="warn_for_args_+3A_...">...</code></td>
<td>
<p>Additiional arguments passed to the function called.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value. Called for side effects
</p>

<hr>
<h2 id='with_pagination'>Calls the slack API with pagination using cursors.</h2><span id='topic+with_pagination'></span>

<h3>Description</h3>

<p>This loops over <code>fun</code>, extracts the <code>next_cursor</code> from the API response, and
injects this into the next loop.  At the completion of each loop, the function <code><a href="#topic+convert_response_to_tibble">convert_response_to_tibble()</a></code> is run with <code>extract</code> as and argument. The results are combined with <code><a href="dplyr.html#topic+bind">dplyr::bind_rows()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>with_pagination(fun, extract)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="with_pagination_+3A_fun">fun</code></td>
<td>
<p>A function that calls the slack API.</p>
</td></tr>
<tr><td><code id="with_pagination_+3A_extract">extract</code></td>
<td>
<p>The name of the element to extract from the API response.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>tibble</code>
</p>


<h3>See Also</h3>

<p>call_slack_api
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

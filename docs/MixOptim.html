<!DOCTYPE html><html><head><title>Help for package MixOptim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MixOptim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#desirabilityPlot'><p>Plot desirability profile</p></a></li>
<li><a href='#mixtureFineOptim'><p>Performs a restrict interval optimization</p></a></li>
<li><a href='#mixtureOptim'><p>Performs a full interval optimization</p></a></li>
<li><a href='#mixtureRangeOptim'><p>Performs a specific range optimization</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Mixture Optimization Algorithm</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Author:</td>
<td>Cassandro Davi Emer</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Cassandro Davi Emer &lt;cde@actisys.org&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Simple tools to perform mixture optimization based on the 'desirability' package by Max Kuhn.
    It also provides a plot routine using 'ggplot2' and 'patchwork'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2, patchwork, desirability</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-30 19:22:44 UTC; Xando</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-07-01 09:40:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='desirabilityPlot'>Plot desirability profile</h2><span id='topic+desirabilityPlot'></span>

<h3>Description</h3>

<p>This function creates a graphical representation of the desirability profiles
within the data range. It requires a data frame object generated from
an optimization function. You can use a simpler data frame to plot the lines and
present a more accurate data from another optimization call.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>desirabilityPlot(functions, plotData, bestValues, desirab, types)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="desirabilityPlot_+3A_functions">functions</code></td>
<td>
<p>An array of functions</p>
</td></tr>
<tr><td><code id="desirabilityPlot_+3A_plotdata">plotData</code></td>
<td>
<p>A data frame generated from an optimization function</p>
</td></tr>
<tr><td><code id="desirabilityPlot_+3A_bestvalues">bestValues</code></td>
<td>
<p>The optimal mixture composition to be presented</p>
</td></tr>
<tr><td><code id="desirabilityPlot_+3A_desirab">desirab</code></td>
<td>
<p>An array of desirability functions</p>
</td></tr>
<tr><td><code id="desirabilityPlot_+3A_types">types</code></td>
<td>
<p>An array of strings containing the attributes to be shown for each desirability function. Currently only accepts <code>"max"</code> or <code>"min"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot composite object from patchwork
</p>

<hr>
<h2 id='mixtureFineOptim'>Performs a restrict interval optimization</h2><span id='topic+mixtureFineOptim'></span>

<h3>Description</h3>

<p>This function performs an optimization testing within an interval defined
by the user using starting points and an alpha value. Since it is designed
for more accurate searching, it does not allow the generation of the
data frame for plotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixtureFineOptim(
  functions,
  desirabilityModel,
  startPoint,
  step = 0.001,
  alpha = 0.02,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixtureFineOptim_+3A_functions">functions</code></td>
<td>
<p>An array of functions</p>
</td></tr>
<tr><td><code id="mixtureFineOptim_+3A_desirabilitymodel">desirabilityModel</code></td>
<td>
<p>A desirability <code>overallD</code> model</p>
</td></tr>
<tr><td><code id="mixtureFineOptim_+3A_startpoint">startPoint</code></td>
<td>
<p>An array with the references (mid-points) for the optimization</p>
</td></tr>
<tr><td><code id="mixtureFineOptim_+3A_step">step</code></td>
<td>
<p>The ammount of each increment in the optimization</p>
</td></tr>
<tr><td><code id="mixtureFineOptim_+3A_alpha">alpha</code></td>
<td>
<p>Defines the range of the seach, as <code>startPoint</code> +- <code>alpha</code> for each <code>x</code> value</p>
</td></tr>
<tr><td><code id="mixtureFineOptim_+3A_verbose">verbose</code></td>
<td>
<p>Defines if the user should be updated with the processing status (percentages)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containg the data regarding the maximum desirability found
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MixOptim)
dados &lt;- read.table(header = TRUE, dec = ",", sep = "\t", text = "
x1	x2	x3	R1	R2	R3
1	0	0	0,76	8	5
1	0	0	0,75	8	5
0,5	0,5	0	1,4	7	7,5
0,5	0	0,5	0,55	8	10
0	1	0	4,1	4	10
0	1	0	4,4	4	10
0	0,5	0,5	0,9	7	12,5
0	0	1	0,42	9	15
0	0	1	0,4	10	15
0,6667	0,1667	0,1667	0,8	7	7,5
0,1667	0,6667	0,1667	1,7	7	10
0,1667	0,1667	0,6667	0,55	8	12,5
0,3333	0,3333	0,3333	0,8	8	10")

lm1 &lt;- lm(data = dados, R1 ~ -1 + x1 + x2 + x3 + x1:x2 + x1:x3 + x2:x3)
summary(lm1)
flm1 &lt;- function(x) 0.7678*x[1] + 4.2083*x[2] + 0.4274*x[3] - 4.3273*x[1]*x[2] +
      0.3070*x[1]*x[3] - 5.6101*x[2]*x[3]
lm2 &lt;- lm(data = dados, R2 ~ -1 + x1 + x2 + x3)
summary(lm2)
flm2 &lt;- function(x) 7.9742*x[1] + 4.5742*x[2] + 9.3742*x[3]
lm3 &lt;- lm(data = dados, R3 ~ -1 + x1 + x2 + x3)
summary(lm3)
flm3 &lt;- function(x) 4.9998461*x[1] + 9.9998461*x[2] + 14.9998461*x[3]

funcoes2 &lt;- c(flm1, flm2, flm3)
des1&lt;-dTarget(0.5, 0.6, 0.7)
des2&lt;-dMax(8, max(dados$R2))
des3&lt;-dMin(5, 10)
finalD&lt;-dOverall(des1, des2, des3)

# code commented due to process time requirement
#teste &lt;- mixtureOptim(funcoes2, finalD, 3, step = 0.01, plot = TRUE)
#desirabilityPlot(funcoes2, teste$plotData, teste$bestComposition,
#   list(des1, des2, des3), c("max", "max", "min"))

#teste2 &lt;- mixtureFineOptim(funcoes2, finalD, teste$bestComposition, step = 0.0001)
#desirabilityPlot(funcoes2, teste$plotData, teste2$bestComposition,
#   list(des1, des2, des3), c("max", "max", "min"))
</code></pre>

<hr>
<h2 id='mixtureOptim'>Performs a full interval optimization</h2><span id='topic+mixtureOptim'></span>

<h3>Description</h3>

<p>This function performs a full interval optimization (0-1 for each <code>x</code> variable).
It allows the creation of the data frame used for plotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixtureOptim(
  functions,
  desirabilityModel,
  xCount,
  step = 0.01,
  plot = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixtureOptim_+3A_functions">functions</code></td>
<td>
<p>An array of functions</p>
</td></tr>
<tr><td><code id="mixtureOptim_+3A_desirabilitymodel">desirabilityModel</code></td>
<td>
<p>A desirability <code>overallD</code> model</p>
</td></tr>
<tr><td><code id="mixtureOptim_+3A_xcount">xCount</code></td>
<td>
<p>The amount of <code>x</code> variables used in the functions</p>
</td></tr>
<tr><td><code id="mixtureOptim_+3A_step">step</code></td>
<td>
<p>The ammount of each increment in the optimization</p>
</td></tr>
<tr><td><code id="mixtureOptim_+3A_plot">plot</code></td>
<td>
<p>Define is the data frame that can be used for the <code>desirabilityPlot</code> function will be create. Strongly affects performance</p>
</td></tr>
<tr><td><code id="mixtureOptim_+3A_verbose">verbose</code></td>
<td>
<p>Defines if the user should be updated with the processing status (percentages)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containg the data regarding the maximum desirability found
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MixOptim)
saPred&lt;-function(x) 17.3359 * x[1] + 30.7765 * x[2] + 20.0501 * x[3] + 0.7506 * x[1] * x[2] +
  (-6.3443 * x[1] * x[3]) + (-5.9291 * x[2] * x[3]) +(-25.3093 * x[1] * x[2] * x[3])
pvPred&lt;-function(x)  0.884640 * x[1] + 0.789863 * x[2] + 0.825016 * x[3] +
  (-0.108964 * x[1] * x[2]) + 0.107167 * x[1] * x[3] + (-0.005220 * x[2] * x[3]) +
  1.625246 * x[1] * x[2] * x[3]

funcoes &lt;- c(saPred, pvPred)
saD&lt;-dMin(16.8293856, 31.41170555) #minimun value
pvD&lt;-dMax(0.7796004, 0.9019796) #maximum value
overallD&lt;-dOverall(saD, pvD)

a &lt;- mixtureOptim(funcoes, overallD, 3, step = 0.05, plot = TRUE)
a$bestComposition
# next line will generate a ggplot/patchwork grid
#desirabilityPlot(funcoes, a$plotData, a$bestComposition, list(saD, pvD), c("min", "max"))
</code></pre>

<hr>
<h2 id='mixtureRangeOptim'>Performs a specific range optimization</h2><span id='topic+mixtureRangeOptim'></span>

<h3>Description</h3>

<p>This function performs an optimization testing within an interval defined
by the user using alpha values for each middle point provided. It allows the
generation of the data frame required for plotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixtureRangeOptim(
  functions,
  desirabilityModel,
  midPoints,
  alpha,
  step = 0.01,
  plot = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixtureRangeOptim_+3A_functions">functions</code></td>
<td>
<p>An array of functions</p>
</td></tr>
<tr><td><code id="mixtureRangeOptim_+3A_desirabilitymodel">desirabilityModel</code></td>
<td>
<p>A desirability <code>overallD</code> model</p>
</td></tr>
<tr><td><code id="mixtureRangeOptim_+3A_midpoints">midPoints</code></td>
<td>
<p>An array with the references (mid-points) for the optimization</p>
</td></tr>
<tr><td><code id="mixtureRangeOptim_+3A_alpha">alpha</code></td>
<td>
<p>Defines the range of the seach, as <code>startPoint</code> +- <code>alpha</code> for each <code>x</code> value</p>
</td></tr>
<tr><td><code id="mixtureRangeOptim_+3A_step">step</code></td>
<td>
<p>The ammount of each increment in the optimization</p>
</td></tr>
<tr><td><code id="mixtureRangeOptim_+3A_plot">plot</code></td>
<td>
<p>Define is the data frame that can be used for the <code>desirabilityPlot</code> function will be create. Strongly affects performance</p>
</td></tr>
<tr><td><code id="mixtureRangeOptim_+3A_verbose">verbose</code></td>
<td>
<p>Defines if the user should be updated with the processing status (percentages)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containg the data regarding the maximum desirability found
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(MixOptim)
dados &lt;- read.table(header = TRUE, sep = "\t", text = "
ID	TiO2	Vehicle	Extender A	Extender B	Hiding	Scrub
1	0.05	0.20	0.30	0.45	7.8953	533.67
2	0.45	0.20	0.30	0.05	32.862	749
3	0.05	0.60	0.30	0.05	3.721	39.5
4	0.05	0.20	0.70	0.05	9.2751	203.25
5	0.25	0.20	0.30	0.25	20.132	555.25
6	0.05	0.40	0.30	0.25	4.7137	51.75
7	0.05	0.20	0.50	0.25	8.3829	342.75
8	0.25	0.40	0.30	0.05	16.245	84.75
9	0.25	0.20	0.50	0.05	22.639	360.75
10	0.05	0.40	0.50	0.05	5.4645	48
11	0.05	0.33	0.43	0.18	5.8882	76
12	0.18	0.20	0.43	0.18	17.256	386.25
13	0.18	0.33	0.30	0.18	12.351	136
14	0.18	0.33	0.43	0.05	14.499	75.5
15	0.10	0.25	0.35	0.30	10.548	325.75
16	0.30	0.25	0.35	0.10	22.096	359
17	0.10	0.45	0.35	0.10	6.2888	40.75
18	0.10	0.25	0.55	0.10	10.629	136.67
19	0.15	0.30	0.40	0.15	11.777	114")

hiding&lt;-function(x) 67.748*x[1] + 7.291*x[2] + 11.419*x[3] + 14.578*x[4] -
   64.32*x[1]*x[2] + 35.878*x[1]*x[3] - 15.696*x[1]*x[4] - 31.006*x[2]*x[3] -
   38.668*x[2]*x[4] - 6.59*x[3]*x[4]
scrub&lt;-function(x) 3937.5*x[1] + 899.3*x[2] + 502*x[3] + 2354.8*x[4] -
   8227.2*x[1]*x[2] - 3227.4*x[1]*x[3] - 2447.7*x[1]*x[4] - 2435.3*x[2]*x[3] -
   6325.1*x[2]*x[4] - 1050.3*x[3]*x[4]

funcoes2 &lt;- c(hiding, scrub)
des1&lt;-dMax(min(dados$Hiding), max(dados$Hiding))
des2&lt;-dMin(min(dados$Scrub), max(dados$Scrub))
finalD&lt;-dOverall(des1, des2)

# code commented due to process time requirement
#teste &lt;- mixtureRangeOptim(funcoes2, finalD, midPoints = c(0.25, 0.4, 0.5, 0.25),
#    alpha = c(0.2, 0.2, 0.2, 0.2), step = 0.01, plot = TRUE)
#desirabilityPlot(funcoes2, teste$plotData, teste$bestComposition, list(des1, des2),
#    c("max", "min"))
#teste2 &lt;- mixtureRangeOptim(funcoes2, finalD, midPoints = teste$bestComposition,
#    alpha = c(0.01, 0.01, 0.01, 0), step = 0.001, plot = FALSE)
#teste2
#desirabilityPlot(funcoes2, teste$plotData, teste2$bestComposition, list(des1, des2),
#    c("max", "min"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

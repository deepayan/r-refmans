<!DOCTYPE html><html lang="en"><head><title>Help for package FinancialMath</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {FinancialMath}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#amort.period'><p>Amortization Period</p></a></li>
<li><a href='#amort.table'><p>Amortization Table</p></a></li>
<li><a href='#annuity.arith'><p>Arithmetic Annuity</p></a></li>
<li><a href='#annuity.geo'><p>Geometric Annuity</p></a></li>
<li><a href='#annuity.level'><p>Level Annuity</p></a></li>
<li><a href='#bear.call'><p>Bear Call Spread</p></a></li>
<li><a href='#bear.call.bls'><p>Bear Call Spread - Black Scholes</p></a></li>
<li><a href='#bls.order1'><p>Black Scholes First-order Greeks</p></a></li>
<li><a href='#bond'><p>Bond Analysis</p></a></li>
<li><a href='#bull.call'><p>Bull Call Spread</p></a></li>
<li><a href='#bull.call.bls'><p>Bull Call Spread - Black Scholes</p></a></li>
<li><a href='#butterfly.spread'><p>Butterfly Spread</p></a></li>
<li><a href='#butterfly.spread.bls'><p>Butterfly Spread - Black Scholes</p></a></li>
<li><a href='#cf.analysis'><p>Cash Flow Analysis</p></a></li>
<li><a href='#collar'><p>Collar Strategy</p></a></li>
<li><a href='#collar.bls'><p>Collar Strategy - Black Scholes</p></a></li>
<li><a href='#covered.call'><p>Covered Call</p></a></li>
<li><a href='#covered.put'><p>Covered Put</p></a></li>
<li><a href='#forward'><p>Forward Contract</p></a></li>
<li><a href='#forward.prepaid'><p>Prepaid Forward Contract</p></a></li>
<li><a href='#IRR'><p>Internal Rate of Return</p></a></li>
<li><a href='#NPV'><p>Net Present Value</p></a></li>
<li><a href='#option.call'><p>Call Option</p></a></li>
<li><a href='#option.put'><p>Put Option</p></a></li>
<li><a href='#perpetuity.arith'><p>Arithmetic Perpetuity</p></a></li>
<li><a href='#perpetuity.geo'><p>Geometric Perpetuity</p></a></li>
<li><a href='#perpetuity.level'><p>Level Perpetuity</p></a></li>
<li><a href='#protective.put'><p>Protective Put</p></a></li>
<li><a href='#rate.conv'><p>Interest, Discount, and Force of Interest Converter</p></a></li>
<li><a href='#straddle'><p>Straddle Spread</p></a></li>
<li><a href='#straddle.bls'><p>Straddle Spread - Black Scholes</p></a></li>
<li><a href='#strangle'><p>Strangle Spread</p></a></li>
<li><a href='#strangle.bls'><p>Strangle Spread - Black Scholes</p></a></li>
<li><a href='#swap.commodity'><p>Commodity Swap</p></a></li>
<li><a href='#swap.rate'><p>Interest Rate Swap</p></a></li>
<li><a href='#TVM'><p>Time Value of Money</p></a></li>
<li><a href='#yield.dollar'><p>Dollar Weighted Yield</p></a></li>
<li><a href='#yield.time'><p>Time Weighted Yield</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Financial Mathematics for Actuaries</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Kameron Penn [aut, cre],
  Jack Schmidt [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kameron Penn &lt;kameron.penn.financialmath@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Contains financial math functions and introductory derivative functions included in the Society of Actuaries and Casualty Actuarial Society 'Financial Mathematics' exam, and some topics in the 'Models for Financial Economics' exam.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-12-16 20:55:19 UTC; Kameron</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-12-16 22:51:34</td>
</tr>
</table>
<hr>
<h2 id='amort.period'>Amortization Period</h2><span id='topic+amort.period'></span>

<h3>Description</h3>

<p>Solves for either the number of payments, the payment amount, or the amount of a loan. The payment amount, interest paid, principal paid, and balance of the loan are given for a specified period.</p>


<h3>Usage</h3>

<pre><code class='language-R'>amort.period(Loan=NA,n=NA,pmt=NA,i,ic=1,pf=1,t=1)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="amort.period_+3A_loan">Loan</code></td>
<td>
<p>loan amount</p>
</td></tr>
<tr><td><code id="amort.period_+3A_n">n</code></td>
<td>
<p>the number of payments/periods</p>
</td></tr>
<tr><td><code id="amort.period_+3A_pmt">pmt</code></td>
<td>
<p>value of level payments</p>
</td></tr>
<tr><td><code id="amort.period_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="amort.period_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="amort.period_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments per year</p>
</td></tr>
<tr><td><code id="amort.period_+3A_t">t</code></td>
<td>
<p>the specified period for which the payment amount, interest paid, principal paid, and loan balance are solved for</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p><code class="reqn">Loan=pmt*{a_{\left. {\overline {\, n \,}}\! \right |j}}</code>
</p>
<p>Balance at the end of period t: <code class="reqn">B_t=pmt*{a_{\left. {\overline {\, n-t \,}}\! \right |j}}</code>
</p>
<p>Interest paid at the end of period t: <code class="reqn">i_t=B_{t-1}*j</code>
</p>
<p>Principal paid at the end of period t: <code class="reqn">p_t=pmt-i_t</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of input variables, calculated unknown variables, and amortization figures for the given period.</p>


<h3>Note</h3>

<p>Assumes that payments are made at the end of each period.
</p>
<p>One of n, pmt, or Loan must be NA (unknown).
</p>
<p>If pmt is less than the amount of interest accumulated in the first period, then the function will stop because the loan will never be paid off due to the payments being too small.
</p>
<p>If the pmt is greater than the loan amount plus interest accumulated in the first period, then the function will stop because one payment will pay off the loan.
</p>
<p>t cannot be greater than n.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+amort.table">amort.table</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>amort.period(Loan=100,n=5,i=.01,t=3)

amort.period(n=5,pmt=30,i=.01,t=3,pf=12)

amort.period(Loan=100,pmt=24,ic=1,i=.01,t=3)
</code></pre>

<hr>
<h2 id='amort.table'>Amortization Table</h2><span id='topic+amort.table'></span>

<h3>Description</h3>

<p>Produces an amortization table for paying off a loan while also solving for either the number of payments, loan amount, or the payment amount.  In the amortization table the payment amount, interest paid, principal paid, and balance of the loan are given for each period.  If n ends up not being a whole number, outputs for the balloon payment, drop payment and last regular payment are provided. The total interest paid, and total amount paid is also given.  It can also plot the percentage of each payment toward interest vs. period.</p>


<h3>Usage</h3>

<pre><code class='language-R'>amort.table(Loan=NA,n=NA,pmt=NA,i,ic=1,pf=1,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="amort.table_+3A_loan">Loan</code></td>
<td>
<p>loan amount</p>
</td></tr>
<tr><td><code id="amort.table_+3A_n">n</code></td>
<td>
<p>the number of payments/periods</p>
</td></tr>
<tr><td><code id="amort.table_+3A_pmt">pmt</code></td>
<td>
<p>value of level payments</p>
</td></tr>
<tr><td><code id="amort.table_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="amort.table_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="amort.table_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments per year</p>
</td></tr>
<tr><td><code id="amort.table_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the percentage of each payment toward interest vs. period</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p><code class="reqn">Loan=pmt*{a_{\left. {\overline {\, n \,}}\! \right |j}}</code>
</p>
<p>Balance at the end of period t: <code class="reqn">B_t=pmt*{a_{\left. {\overline {\, n-t \,}}\! \right |j}}</code>
</p>
<p>Interest paid at the end of period t: <code class="reqn">i_t=B_{t-1}*j</code>
</p>
<p>Principal paid at the end of period t: <code class="reqn">p_t=pmt-i_t</code>
</p>
<p>Total Paid<code class="reqn">=pmt*n</code>
</p>
<p>Total Interest Paid<code class="reqn">=pmt*n-Loan</code>
</p>
<p>If <code class="reqn">n=n^*+k</code> where <code class="reqn">n^*</code> is an integer and <code class="reqn">0&lt;k&lt;1</code>:
</p>
<p>Last regular payment (at period <code class="reqn">n^*</code>) <code class="reqn">=pmt*{s_{\left. {\overline {\, k \,}}\! \right |j}}</code>
</p>
<p>Drop payment (at period <code class="reqn">n^*+1</code>) <code class="reqn">=Loan*(1+j)^{n^*+1}-pmt*{s_{\left. {\overline {\, n^* \,}}\! \right |j}}</code>
</p>
<p>Balloon payment (at period <code class="reqn">n^*</code>) <code class="reqn">=Loan*(1+j)^{n^*}-pmt*{s_{\left. {\overline {\, n^* \,}}\! \right |j}}+pmt</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Schedule</code></td>
<td>
<p>A data frame of the amortization schedule.</p>
</td></tr>
<tr><td><code>Other</code></td>
<td>
<p>A matrix of the input variables and other calculated variables.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Assumes that payments are made at the end of each period.
</p>
<p>One of n, Loan, or pmt must be NA (unknown).
</p>
<p>If pmt is less than the amount of interest accumulated in the first period, then the function will stop because the loan will never be paid off due to the payments being too small.
</p>
<p>If pmt is greater than the loan amount plus interest accumulated in the first period, then the function will stop because one payment will pay off the loan.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+amort.period">amort.period</a></code>
</p>
<p><code><a href="#topic+annuity.level">annuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>amort.table(Loan=1000,n=2,i=.005,ic=1,pf=1)

amort.table(Loan=100,pmt=40,i=.02,ic=2,pf=2,plot=FALSE)

amort.table(Loan=NA,pmt=102.77,n=10,i=.005,plot=TRUE)</code></pre>

<hr>
<h2 id='annuity.arith'>Arithmetic Annuity</h2><span id='topic+annuity.arith'></span>

<h3>Description</h3>

<p>Solves for the present value, future value, number of payments/periods, amount of the first payment, the payment increment amount per period, and/or the interest rate for an arithmetically growing annuity.  It can also plot a time diagram of the payments.</p>


<h3>Usage</h3>

<pre><code class='language-R'>annuity.arith(pv=NA,fv=NA,n=NA,p=NA,q=NA,i=NA,ic=1,pf=1,imm=TRUE,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annuity.arith_+3A_pv">pv</code></td>
<td>
<p>present value of the annuity</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_fv">fv</code></td>
<td>
<p>future value of the annuity</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_n">n</code></td>
<td>
<p>number of payments/periods</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_p">p</code></td>
<td>
<p>amount of the first payment</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_q">q</code></td>
<td>
<p>payment increment amount per period</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_i">i</code></td>
<td>
<p>nominal interest frequency convertible ic times per year</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments per year</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_imm">imm</code></td>
<td>
<p>option for annuity immediate or annuity due, default is immediate (TRUE)</p>
</td></tr>
<tr><td><code id="annuity.arith_+3A_plot">plot</code></td>
<td>
<p>option to display a time diagram of the payments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p><code class="reqn">fv=pv*(1+j)^n</code>
</p>
<p>Annuity Immediate:
</p>
<p><code class="reqn">pv=p*{a_{\left. {\overline {\, n \,}}\! \right |j}}+q* \frac{{a_{\left. {\overline {\, n \,}}\! \right |j}}-n*(1+j)^{-n}}{j}</code>
</p>
<p>Annuity Due:
</p>
<p><code class="reqn">pv=(p*{a_{\left. {\overline {\, n \,}}\! \right |j}}+q* \frac{{a_{\left. {\overline {\, n \,}}\! \right |j}}-n*(1+j)^{-n}}{j})*(1+i)</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of the input variables, and calculated unknown variables.</p>


<h3>Note</h3>

<p>At least one of pv, fv, n, p, q, or i must be NA (unknown).
</p>
<p>pv and fv cannot both be specified, at least one must be NA (unknown).</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+annuity.geo">annuity.geo</a></code>
</p>
<p><code><a href="#topic+annuity.level">annuity.level</a></code>
</p>
<p><code><a href="#topic+perpetuity.arith">perpetuity.arith</a></code>
</p>
<p><code><a href="#topic+perpetuity.geo">perpetuity.geo</a></code>
</p>
<p><code><a href="#topic+perpetuity.level">perpetuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>annuity.arith(pv=NA,fv=NA,n=20,p=100,q=4,i=.03,ic=1,pf=2,imm=TRUE)

annuity.arith(pv=NA,fv=3000,n=20,p=100,q=NA,i=.05,ic=3,pf=2,imm=FALSE)
</code></pre>

<hr>
<h2 id='annuity.geo'>Geometric Annuity</h2><span id='topic+annuity.geo'></span>

<h3>Description</h3>

<p>Solves for the present value, future value, number of payments/periods, amount of the first payment, the payment growth rate, and/or the interest rate for a geometrically growing annuity.  It can also plot a time diagram of the payments.</p>


<h3>Usage</h3>

<pre><code class='language-R'>annuity.geo(pv=NA,fv=NA,n=NA,p=NA,k=NA,i=NA,ic=1,pf=1,imm=TRUE,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annuity.geo_+3A_pv">pv</code></td>
<td>
<p>present value of the annuity</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_fv">fv</code></td>
<td>
<p>future value of the annuity</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_n">n</code></td>
<td>
<p>number of payments/periods for the annuity</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_p">p</code></td>
<td>
<p>amount of the first payment</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_k">k</code></td>
<td>
<p>payment growth rate per period</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments/periods per year</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_imm">imm</code></td>
<td>
<p>option for annuity immediate or annuity due, default is immediate (TRUE)</p>
</td></tr>
<tr><td><code id="annuity.geo_+3A_plot">plot</code></td>
<td>
<p>option to display a time diagram of the payments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p><code class="reqn">fv=pv*(1+j)^n</code>
</p>
<p>Annuity Immediate:
</p>
<p>j != k: <code class="reqn">pv=p*\frac{1-(\frac{1+k}{1+j})^n}{j-k}</code>
</p>
<p>j = k: <code class="reqn">pv=p*\frac{n}{1+j}</code>
</p>
<p>Annuity Due:
</p>
<p>j != k: <code class="reqn">pv=p*\frac{1-(\frac{1+k}{1+j})^n}{j-k}*(1+j)</code>
</p>
<p>j = k: <code class="reqn">pv=p*n</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of the input variables and calculated unknown variables.</p>


<h3>Note</h3>

<p>At least one of pv, fv, n, pmt, k, or i must be NA (unknown).
</p>
<p>pv and fv cannot both be specified, at least one must be NA (unknown).</p>


<h3>See Also</h3>

<p><code><a href="#topic+annuity.arith">annuity.arith</a></code>
</p>
<p><code><a href="#topic+annuity.level">annuity.level</a></code>
</p>
<p><code><a href="#topic+perpetuity.arith">perpetuity.arith</a></code>
</p>
<p><code><a href="#topic+perpetuity.geo">perpetuity.geo</a></code>
</p>
<p><code><a href="#topic+perpetuity.level">perpetuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>annuity.geo(pv=NA,fv=100,n=10,p=9,k=.02,i=NA,ic=2,pf=.5,plot=TRUE)

annuity.geo(pv=NA,fv=128,n=5,p=NA,k=.04,i=.03,pf=2)</code></pre>

<hr>
<h2 id='annuity.level'>Level Annuity</h2><span id='topic+annuity.level'></span>

<h3>Description</h3>

<p>Solves for the present value, future value, number of payments/periods, interest rate, and/or the amount of the payments for a level annuity.  It can also plot a time diagram of the payments.</p>


<h3>Usage</h3>

<pre><code class='language-R'>annuity.level(pv=NA,fv=NA,n=NA,pmt=NA,i=NA,ic=1,pf=1,imm=TRUE,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="annuity.level_+3A_pv">pv</code></td>
<td>
<p>present value of the annuity</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_fv">fv</code></td>
<td>
<p>future value of the annuity</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_n">n</code></td>
<td>
<p>number of payments/periods</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_pmt">pmt</code></td>
<td>
<p>value of the level payments</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments/periods per year</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_imm">imm</code></td>
<td>
<p>option for annuity immediate or annuity due, default is immediate (TRUE)</p>
</td></tr>
<tr><td><code id="annuity.level_+3A_plot">plot</code></td>
<td>
<p>option to display a time diagram of the payments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p>Annuity Immediate:
</p>
<p><code class="reqn">pv=pmt*{a_{\left. {\overline {\, n \,}}\! \right |j}}=pmt*\frac{1-(1+j)^{-n}}{j}</code>
</p>
<p><code class="reqn">fv=pmt*{s_{\left. {\overline {\, n \,}}\! \right |j}}=pmt*{a_{\left. {\overline {\, n \,}}\! \right |j}}*(1+j)^n</code>
</p>
<p>Annuity Due:
</p>
<p><code class="reqn">pv=pmt*{\ddot {a}_{\left. {\overline {\, n \,}}\! \right |j}}=pmt*{a_{\left. {\overline {\, n \,}}\! \right |j}}*(1+j)</code>
</p>
<p><code class="reqn">fv=pmt*{\ddot {s}_{\left. {\overline {\, n \,}}\! \right |j}}=pmt*{a_{\left. {\overline {\, n \,}}\! \right |j}}*(1+j)^{n+1}</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of the input variables and calculated unknown variables.</p>


<h3>Note</h3>

<p>At least one of pv, fv, n, pmt, or i must be NA (unknown).
</p>
<p>pv and fv cannot both be specified, at least one must be NA (unknown).</p>


<h3>See Also</h3>

<p><code><a href="#topic+annuity.arith">annuity.arith</a></code>
</p>
<p><code><a href="#topic+annuity.geo">annuity.geo</a></code>
</p>
<p><code><a href="#topic+perpetuity.arith">perpetuity.arith</a></code>
</p>
<p><code><a href="#topic+perpetuity.geo">perpetuity.geo</a></code>
</p>
<p><code><a href="#topic+perpetuity.level">perpetuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>annuity.level(pv=NA,fv=101.85,n=10,pmt=8,i=NA,ic=1,pf=1,imm=TRUE)

annuity.level(pv=80,fv=NA,n=15,pf=2,pmt=NA,i=.01,imm=FALSE)</code></pre>

<hr>
<h2 id='bear.call'>Bear Call Spread</h2><span id='topic+bear.call'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a bear call spread for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>bear.call(S,K1,K2,r,t,price1,price2,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bear.call_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="bear.call_+3A_k1">K1</code></td>
<td>
<p>strike price of the short call</p>
</td></tr>
<tr><td><code id="bear.call_+3A_k2">K2</code></td>
<td>
<p>strike price of the long call</p>
</td></tr>
<tr><td><code id="bear.call_+3A_r">r</code></td>
<td>
<p>yearly continuously compounded risk free rate</p>
</td></tr>
<tr><td><code id="bear.call_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="bear.call_+3A_price1">price1</code></td>
<td>
<p>price of the short call with strike price K1</p>
</td></tr>
<tr><td><code id="bear.call_+3A_price2">price2</code></td>
<td>
<p>price of the long call with strike price K2</p>
</td></tr>
<tr><td><code id="bear.call_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=K1-S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=K1-K2</code>
</p>
<p>payoff = profit + (price1 - price2)<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call options and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K1 must be less than S, and K2 must be greater than S.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+bear.call.bls">bear.call.bls</a></code>
</p>
<p><code><a href="#topic+bull.call">bull.call</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bear.call(S=100,K1=70,K2=130,r=.03,t=1,price1=20,price2=10,plot=TRUE)</code></pre>

<hr>
<h2 id='bear.call.bls'>Bear Call Spread - Black Scholes</h2><span id='topic+bear.call.bls'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a bear call spread for a range of future stock prices. Uses the Black Scholes equation for the call prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>bear.call.bls(S,K1,K2,r,t,sd,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bear.call.bls_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="bear.call.bls_+3A_k1">K1</code></td>
<td>
<p>strike price of the short call</p>
</td></tr>
<tr><td><code id="bear.call.bls_+3A_k2">K2</code></td>
<td>
<p>strike price of the long call</p>
</td></tr>
<tr><td><code id="bear.call.bls_+3A_r">r</code></td>
<td>
<p>yearly continuously compounded risk free rate</p>
</td></tr>
<tr><td><code id="bear.call.bls_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="bear.call.bls_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="bear.call.bls_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=K1-S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=K1-K2</code>
</p>
<p>payoff = profit<code class="reqn">+(price_{K1}-price_{K2})*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call options and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K1 must be less than S, and K2 must be greater than S.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+bear.call">bear.call</a></code>
</p>
<p><code><a href="#topic+bull.call.bls">bull.call.bls</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bear.call.bls(S=100,K1=70,K2=130,r=.03,t=1,sd=.2)</code></pre>

<hr>
<h2 id='bls.order1'>Black Scholes First-order Greeks</h2><span id='topic+bls.order1'></span>

<h3>Description</h3>

<p>Gives the price and first order greeks for call and put options in the Black Scholes equation.</p>


<h3>Usage</h3>

<pre><code class='language-R'>bls.order1(S,K,r,t,sd,D=0)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bls.order1_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="bls.order1_+3A_k">K</code></td>
<td>
<p>strike price</p>
</td></tr>
<tr><td><code id="bls.order1_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="bls.order1_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="bls.order1_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="bls.order1_+3A_d">D</code></td>
<td>
<p>continuous dividend yield</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of the calculated greeks and prices for call and put options.</p>


<h3>Note</h3>

<p>Cannot have any inputs as vectors.
</p>
<p>t cannot be negative.
</p>
<p>Either both or neither of S and K must be negative.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- bls.order1(S=100, K=110, r=.05, t=1, sd=.1, D=0)
ThetaPut &lt;- x["Theta","Put"]
DeltaCall &lt;- x[2,1]
</code></pre>

<hr>
<h2 id='bond'>Bond Analysis</h2><span id='topic+bond'></span>

<h3>Description</h3>

<p>Solves for the price, premium/discount, and Durations and Convexities (in terms of periods). At a specified period (t), it solves for the full and clean prices, and the write up/down amount. Also has the option to plot the convexity of the bond.</p>


<h3>Usage</h3>

<pre><code class='language-R'>bond(f,r,c,n,i,ic=1,cf=1,t=NA,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bond_+3A_f">f</code></td>
<td>
<p>face value</p>
</td></tr>
<tr><td><code id="bond_+3A_r">r</code></td>
<td>
<p>coupon rate convertible cf times per year</p>
</td></tr>
<tr><td><code id="bond_+3A_c">c</code></td>
<td>
<p>redemption value</p>
</td></tr>
<tr><td><code id="bond_+3A_n">n</code></td>
<td>
<p>the number of coupons/periods for the bond</p>
</td></tr>
<tr><td><code id="bond_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="bond_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="bond_+3A_cf">cf</code></td>
<td>
<p>coupon frequency- number of coupons per year</p>
</td></tr>
<tr><td><code id="bond_+3A_t">t</code></td>
<td>
<p>specified period for which the price and write up/down amount is solved for, if not NA</p>
</td></tr>
<tr><td><code id="bond_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the convexity</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{cf}}-1</code>
</p>
<p>coupon <code class="reqn">=\frac{f*r}{cf}</code> (per period)
</p>
<p>price = coupon<code class="reqn">*{a_{\left. {\overline {\, n \,}}\! \right |j}}+c*(1+j)^{-n}</code>
</p>
<p><code class="reqn">MAC D=\frac{\sum_{k=1}^n k*(1+j)^{-k}*coupon+n*(1+j)^{-n}*c}{price}</code>
</p>
<p><code class="reqn">MOD D=\frac{\sum_{k=1}^n k*(1+j)^{-(k+1)}*coupon+n*(1+j)^{-(n+1)}*c}{price}</code>
</p>
<p><code class="reqn">MAC C=\frac{\sum_{k=1}^n k^2*(1+j)^{-k}*coupon+n^2*(1+j)^{-n}*c}{price}</code>
</p>
<p><code class="reqn">MOD C=\frac{\sum_{k=1}^n k*(k+1)*(1+j)^{-(k+2)}*coupon+n*(n+1)*(1+j)^{-(n+2)}*c}{price}</code>
</p>
<p><b>Price (for period t):</b>
</p>
<p>If t is an integer: price =coupon<code class="reqn">*{a_{\left. {\overline {\, n-t \,}}\! \right |j}}+c*(1+j)^{-(n-t)}</code>
</p>
<p>If t is not an integer then <code class="reqn">t=t^*+k</code> where <code class="reqn">t^*</code> is an integer and <code class="reqn">0&lt;k&lt;1</code>:
</p>
<p>full price <code class="reqn">=(</code> coupon<code class="reqn">*{a_{\left. {\overline {\, n-t^* \,}}\! \right |j}}+c*(1+j)^{-(n-t^*)})*(1+j)^k</code>
</p>
<p>clean price = full price<code class="reqn">-k*</code>coupon
</p>
<p><b>If price &gt; c :</b>
</p>
<p>premium = price<code class="reqn">-c</code>
</p>
<p>Write-down amount (for period t) <code class="reqn">=(</code>coupon<code class="reqn">-c*j)*(1+j)^{-(n-t+1)}</code>
</p>
<p><b>If price &lt; c :</b>
</p>
<p>discount <code class="reqn">=c-</code>price
</p>
<p>Write-up amount (for period t) <code class="reqn">=(c*j-</code>coupon<code class="reqn">)*(1+j)^{-(n-t+1)}</code>
</p>


<h3>Value</h3>

<p>A matrix of all of the bond details and calculated variables.</p>


<h3>Note</h3>

<p>t must be less than n.
</p>
<p>To make the duration in terms of years, divide it by cf.
</p>
<p>To make the convexity in terms of years, divide it by <code class="reqn">cf^2</code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>bond(f=100,r=.04,c=100,n=20,i=.04,ic=1,cf=1,t=1)

bond(f=100,r=.05,c=110,n=10,i=.06,ic=1,cf=2,t=5)</code></pre>

<hr>
<h2 id='bull.call'>Bull Call Spread</h2><span id='topic+bull.call'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a bull call spread for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>bull.call(S,K1,K2,r,t,price1,price2,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bull.call_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="bull.call_+3A_k1">K1</code></td>
<td>
<p>strike price of the long call</p>
</td></tr>
<tr><td><code id="bull.call_+3A_k2">K2</code></td>
<td>
<p>strike price of the short call</p>
</td></tr>
<tr><td><code id="bull.call_+3A_r">r</code></td>
<td>
<p>yearly continuously compounded risk free rate</p>
</td></tr>
<tr><td><code id="bull.call_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="bull.call_+3A_price1">price1</code></td>
<td>
<p>price of the long call with strike price K1</p>
</td></tr>
<tr><td><code id="bull.call_+3A_price2">price2</code></td>
<td>
<p>price of the short call with strike price K2</p>
</td></tr>
<tr><td><code id="bull.call_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=S_t-K1</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=K2-K1</code>
</p>
<p>profit = payoff + (price2 - price1)<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call options and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K1 must be less than S, and K2 must be greater than S.</p>


<h3>See Also</h3>

<p><code><a href="#topic+bull.call.bls">bull.call.bls</a></code>
</p>
<p><code><a href="#topic+bear.call">bear.call</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bull.call(S=115,K1=100,K2=145,r=.03,t=1,price1=20,price2=10,plot=TRUE)</code></pre>

<hr>
<h2 id='bull.call.bls'>Bull Call Spread - Black Scholes</h2><span id='topic+bull.call.bls'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a bull call spread for a range of future stock prices. Uses the Black Scholes equation for the call prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>bull.call.bls(S,K1,K2,r,t,sd,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bull.call.bls_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="bull.call.bls_+3A_k1">K1</code></td>
<td>
<p>strike price of the long call</p>
</td></tr>
<tr><td><code id="bull.call.bls_+3A_k2">K2</code></td>
<td>
<p>strike price of the short call</p>
</td></tr>
<tr><td><code id="bull.call.bls_+3A_r">r</code></td>
<td>
<p>yearly continuously compounded risk free rate</p>
</td></tr>
<tr><td><code id="bull.call.bls_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="bull.call.bls_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="bull.call.bls_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=S_t-K1</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=K2-K1</code>
</p>
<p>profit = payoff<code class="reqn">+(price_{K2}-price_{K1})*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call options and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K1 must be less than S, and K2 must be greater than S.</p>


<h3>See Also</h3>

<p><code><a href="#topic+bear.call">bear.call</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bull.call.bls(S=115,K1=100,K2=145,r=.03,t=1,sd=.2)</code></pre>

<hr>
<h2 id='butterfly.spread'>Butterfly Spread</h2><span id='topic+butterfly.spread'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long butterfly spread for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>butterfly.spread(S,K1,K2=S,K3,r,t,price1,price2,price3,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="butterfly.spread_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_k1">K1</code></td>
<td>
<p>strike price of the first long call</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_k2">K2</code></td>
<td>
<p>strike price of the two short calls</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_k3">K3</code></td>
<td>
<p>strike price of the second long call</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_price1">price1</code></td>
<td>
<p>price of the long call with strike price K1</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_price2">price2</code></td>
<td>
<p>price of one of the short calls with strike price K2</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_price3">price3</code></td>
<td>
<p>price of the long call with strike price K3</p>
</td></tr>
<tr><td><code id="butterfly.spread_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;=K2</code>: payoff <code class="reqn">=S_t-K1</code>
</p>
<p>For <code class="reqn">K2&lt;S_t&lt;K3</code>: payoff <code class="reqn">=2*K2-K1-S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;=K3</code>: payoff <code class="reqn">=0</code>
</p>
<p>profit = payoff<code class="reqn">+(2*</code>price2 - price1 - price3<code class="reqn">)*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call options and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K2 must be equal to S.
</p>
<p>K3 and K1 must both be equidistant to K2 and S.
</p>
<p>K1 &lt; K2 &lt; K3 must be true.</p>


<h3>See Also</h3>

<p><code><a href="#topic+butterfly.spread.bls">butterfly.spread.bls</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>butterfly.spread(S=100,K1=75,K2=100,K3=125,r=.03,t=1,price1=25,price2=10,price3=5)</code></pre>

<hr>
<h2 id='butterfly.spread.bls'>Butterfly Spread - Black Scholes</h2><span id='topic+butterfly.spread.bls'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long butterfly spread for a range of future stock prices. Uses the Black Scholes equation for the call prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>butterfly.spread.bls(S,K1,K2=S,K3,r,t,sd,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="butterfly.spread.bls_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_k1">K1</code></td>
<td>
<p>strike price of the first long call</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_k2">K2</code></td>
<td>
<p>strike price of the two short calls</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_k3">K3</code></td>
<td>
<p>strike price of the second long call</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="butterfly.spread.bls_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;=K2</code>: payoff <code class="reqn">=S_t-K1</code>
</p>
<p>For <code class="reqn">K2&lt;S_t&lt;K3</code>: payoff <code class="reqn">=2*K2-K1-S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;=K3</code>: payoff <code class="reqn">=0</code>
</p>
<p>profit = payoff<code class="reqn">+(2*price_{K2}-price_{K1}-price_{K3})*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call options and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K2 must be equal to S.
</p>
<p>K3 and K1 must both be equidistant to K2 and S.
</p>
<p>K1 &lt; K2 &lt; K3 must be true.</p>


<h3>See Also</h3>

<p><code><a href="#topic+butterfly.spread">butterfly.spread</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>butterfly.spread.bls(S=100,K1=75,K2=100,K3=125,r=.03,t=1,sd=.2)</code></pre>

<hr>
<h2 id='cf.analysis'>Cash Flow Analysis</h2><span id='topic+cf.analysis'></span>

<h3>Description</h3>

<p>Calculates the present value, macaulay duration and convexity, and modified duration and convexity for given cash flows.  It also plots the convexity and time diagram of the cash flows.</p>


<h3>Usage</h3>

<pre><code class='language-R'>cf.analysis(cf,times,i,plot=FALSE,time.d=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cf.analysis_+3A_cf">cf</code></td>
<td>
<p>vector of cash flows</p>
</td></tr>
<tr><td><code id="cf.analysis_+3A_times">times</code></td>
<td>
<p>vector of the periods for each cash flow</p>
</td></tr>
<tr><td><code id="cf.analysis_+3A_i">i</code></td>
<td>
<p>interest rate per period</p>
</td></tr>
<tr><td><code id="cf.analysis_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the convexity</p>
</td></tr>
<tr><td><code id="cf.analysis_+3A_time.d">time.d</code></td>
<td>
<p>tells whether or not to plot the time diagram of the cash flows</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">pv=\sum_{k=1}^n\frac{cf_k}{(1+i)^{times_k}}</code>
</p>
<p><code class="reqn">MAC D=\frac{\sum_{k=1}^n times_k*(1+i)^{-times_k}*cf_k}{pv}</code>
</p>
<p><code class="reqn">MOD D=\frac{\sum_{k=1}^n times_k*(1+i)^{-(times_k+1)}*cf_k}{pv}</code>
</p>
<p><code class="reqn">MAC C=\frac{\sum_{k=1}^n {times_k}^2*(1+i)^{-times_k}*cf_k}{pv}</code>
</p>
<p><code class="reqn">MOD C=\frac{\sum_{k=1}^n times_k*(times_k+1)*(1+i)^{-(times_k+2)}*cf_k}{pv}</code>
</p>


<h3>Value</h3>

<p>A matrix of all of the calculated values.</p>


<h3>Note</h3>

<p>The periods in t must be positive integers.</p>


<h3>See Also</h3>

<p><code><a href="#topic+TVM">TVM</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cf.analysis(cf=c(1,1,101),times=c(1,2,3),i=.04,time.d=TRUE)

cf.analysis(cf=c(5,1,5,45,5),times=c(5,4,6,7,5),i=.06,plot=TRUE)</code></pre>

<hr>
<h2 id='collar'>Collar Strategy</h2><span id='topic+collar'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a collar strategy for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>collar(S,K1,K2,r,t,price1,price2,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="collar_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="collar_+3A_k1">K1</code></td>
<td>
<p>strike price of the long put</p>
</td></tr>
<tr><td><code id="collar_+3A_k2">K2</code></td>
<td>
<p>strike price of the short call</p>
</td></tr>
<tr><td><code id="collar_+3A_r">r</code></td>
<td>
<p>yearly continuously compounded risk free rate</p>
</td></tr>
<tr><td><code id="collar_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="collar_+3A_price1">price1</code></td>
<td>
<p>price of the long put with strike price K1</p>
</td></tr>
<tr><td><code id="collar_+3A_price2">price2</code></td>
<td>
<p>price of the short call with strike price K2</p>
</td></tr>
<tr><td><code id="collar_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=K1-S_t</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=K2-S_t</code>
</p>
<p>profit = payoff + (price2 - price1)<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call and put options and the net cost.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+collar.bls">collar.bls</a></code>
</p>
<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>collar(S=100,K1=90,K2=110,r=.05,t=1,price1=5,price2=15,plot=TRUE)</code></pre>

<hr>
<h2 id='collar.bls'>Collar Strategy - Black Scholes</h2><span id='topic+collar.bls'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a collar strategy for a range of future stock prices. Uses the Black Scholes equation for the call and put prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>collar.bls(S,K1,K2,r,t,sd,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="collar.bls_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="collar.bls_+3A_k1">K1</code></td>
<td>
<p>strike price of the long put</p>
</td></tr>
<tr><td><code id="collar.bls_+3A_k2">K2</code></td>
<td>
<p>strike price of the short call</p>
</td></tr>
<tr><td><code id="collar.bls_+3A_r">r</code></td>
<td>
<p>yearly continuously compounded risk free rate</p>
</td></tr>
<tr><td><code id="collar.bls_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="collar.bls_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="collar.bls_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=K1-S_t</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=K2-S_t</code>
</p>
<p>profit = payoff<code class="reqn">+(price_{K2}-price_{K1})*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call and put options and the net cost.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>collar.bls(S=100,K1=90,K2=110,r=.05,t=1,sd=.2)</code></pre>

<hr>
<h2 id='covered.call'>Covered Call</h2><span id='topic+covered.call'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a covered call strategy for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>covered.call(S,K,r,t,sd,price=NA,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="covered.call_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="covered.call_+3A_k">K</code></td>
<td>
<p>strike price</p>
</td></tr>
<tr><td><code id="covered.call_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="covered.call_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="covered.call_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="covered.call_+3A_price">price</code></td>
<td>
<p>specified call price if the Black Scholes pricing is not desired (leave as NA to use the Black Scholes pricing)</p>
</td></tr>
<tr><td><code id="covered.call_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=K</code>
</p>
<p>profit = payoff + price<code class="reqn">*e^{r*t}-S</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premium</code></td>
<td>
<p>The price of the call option.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Finds the put price by using the Black Scholes equation by default.</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.call">option.call</a></code>
</p>
<p><code><a href="#topic+covered.put">covered.put</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covered.call(S=100,K=110,r=.03,t=1,sd=.2,plot=TRUE)</code></pre>

<hr>
<h2 id='covered.put'>Covered Put</h2><span id='topic+covered.put'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a covered put strategy for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>covered.put(S,K,r,t,sd,price=NA,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="covered.put_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="covered.put_+3A_k">K</code></td>
<td>
<p>strike price</p>
</td></tr>
<tr><td><code id="covered.put_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="covered.put_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="covered.put_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="covered.put_+3A_price">price</code></td>
<td>
<p>specified put price if the Black Scholes pricing is not desired (leave as NA to use the Black Scholes pricing)</p>
</td></tr>
<tr><td><code id="covered.put_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=S-K</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=S-S_t</code>
</p>
<p>profit = payoff + price<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premium</code></td>
<td>
<p>The price of the put option.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Finds the put price by using the Black Scholes equation by default.</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+covered.call">covered.call</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>covered.put(S=100,K=110,r=.03,t=1,sd=.2,plot=TRUE)</code></pre>

<hr>
<h2 id='forward'>Forward Contract</h2><span id='topic+forward'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff of a forward contract, and calculates the forward price for the contract.</p>


<h3>Usage</h3>

<pre><code class='language-R'>forward(S,t,r,position,div.structure="none",dividend=NA,df=1,D=NA,k=NA,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="forward_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="forward_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="forward_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="forward_+3A_position">position</code></td>
<td>
<p>either buyer or seller of the contract (&quot;long&quot; or &quot;short&quot;)</p>
</td></tr>
<tr><td><code id="forward_+3A_div.structure">div.structure</code></td>
<td>
<p>the structure of the dividends for the underlying (&quot;none&quot;, &quot;continuous&quot;, or &quot;discrete&quot;)</p>
</td></tr>
<tr><td><code id="forward_+3A_dividend">dividend</code></td>
<td>
<p>amount of each dividend, or amount of first dividend if k is not NA</p>
</td></tr>
<tr><td><code id="forward_+3A_df">df</code></td>
<td>
<p>dividend frequency- number of dividends per year</p>
</td></tr>
<tr><td><code id="forward_+3A_d">D</code></td>
<td>
<p>continuous dividend yield</p>
</td></tr>
<tr><td><code id="forward_+3A_k">k</code></td>
<td>
<p>dividend growth rate per df</p>
</td></tr>
<tr><td><code id="forward_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>Long Position: payoff = <code class="reqn">S_t</code> - forward price
</p>
<p>Short Position: payoff = forward price - <code class="reqn">S_t</code>
</p>
<p><b>If div.structure = &quot;none&quot;</b>
</p>
<p>forward price<code class="reqn">=S*e^{r*t}</code>
</p>
<p><b>If div.structure = &quot;discrete&quot;</b>
</p>
<p><code class="reqn">eff.i=e^r-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{df}}-1</code>
</p>
<p>Number of dividends: <code class="reqn">t^*=t*df</code>
</p>
<p>if k = NA: forward price <code class="reqn">=S*e^{r*t}-</code>dividend<code class="reqn">*{s_{\left. {\overline {\, t^* \,}}\! \right |j}}</code>
</p>
<p>if k != j: forward price <code class="reqn">=S*e^{r*t}-</code>dividend<code class="reqn">*\frac{1-(\frac{1+k}{1+j})^{t^*}}{j-k}*e^{r*t}</code>
</p>
<p>if k = j: forward price <code class="reqn">=S*e^{r*t}-</code>dividend<code class="reqn">*\frac{t^*}{1+j}*e^{r*t}</code>
</p>
<p><b>If div.structure = &quot;continuous&quot;</b>
</p>
<p>forward price<code class="reqn">=S*e^{(r-D)*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs for given stock prices.</p>
</td></tr>
<tr><td><code>Price</code></td>
<td>
<p>The forward price of the contract.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Leave an input variable as NA if it is not needed (ie. k=NA if div.structure=&quot;none&quot;).</p>


<h3>See Also</h3>

<p><code><a href="#topic+forward.prepaid">forward.prepaid</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>forward(S=100,t=2,r=.03,position="short",div.structure="none")

forward(S=100,t=2,r=.03,position="long",div.structure="discrete",dividend=3,k=.02)

forward(S=100,t=1,r=.03,position="long",div.structure="continuous",D=.01)</code></pre>

<hr>
<h2 id='forward.prepaid'>Prepaid Forward Contract</h2><span id='topic+forward.prepaid'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff of a prepaid forward contract, and calculates the prepaid forward price for the contract.</p>


<h3>Usage</h3>

<pre><code class='language-R'>forward.prepaid(S,t,r,position,div.structure="none",dividend=NA,df=1,D=NA,
k=NA,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="forward.prepaid_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_position">position</code></td>
<td>
<p>either buyer or seller of the contract (&quot;long&quot; or &quot;short&quot;)</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_div.structure">div.structure</code></td>
<td>
<p>the structure of the dividends for the underlying (&quot;none&quot;, &quot;continuous&quot;, or &quot;discrete&quot;)</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_dividend">dividend</code></td>
<td>
<p>amount of each dividend, or amount of first dividend if k is not NA</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_df">df</code></td>
<td>
<p>dividend frequency- number of dividends per year</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_d">D</code></td>
<td>
<p>continuous dividend yield</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_k">k</code></td>
<td>
<p>dividend growth rate per df</p>
</td></tr>
<tr><td><code id="forward.prepaid_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>Long Position: payoff = <code class="reqn">S_t</code> - prepaid forward price
</p>
<p>Short Position: payoff = prepaid forward price - <code class="reqn">S_t</code>
</p>
<p><b>If div.structure = &quot;none&quot;</b>
</p>
<p>forward price<code class="reqn">=S</code>
</p>
<p><b>If div.structure = &quot;discrete&quot;</b>
</p>
<p><code class="reqn">eff.i=e^r-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{df}}-1</code>
</p>
<p>Number of dividends: <code class="reqn">t^*=t*df</code>
</p>
<p>if k = NA: prepaid forward price <code class="reqn">=S-</code>dividend<code class="reqn">*{a_{\left. {\overline {\, t^* \,}}\! \right |j}}</code>
</p>
<p>if k != j: prepaid forward price <code class="reqn">=S-</code>dividend<code class="reqn">*\frac{1-(\frac{1+k}{1+j})^{t^*}}{j-k}</code>
</p>
<p>if k = j: prepaid forward price <code class="reqn">=S-</code>dividend<code class="reqn">*\frac{t^*}{1+j}</code>
</p>
<p><b>If div.structure = &quot;continuous&quot;</b>
</p>
<p>prepaid forward price<code class="reqn">=S*e^{-D*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs for given stock prices.</p>
</td></tr>
<tr><td><code>Price</code></td>
<td>
<p>The prepaid forward price of the contract.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Leave an input variable as NA if it is not needed (ie. k=NA if div.structure=&quot;none&quot;).</p>


<h3>See Also</h3>

<p><code><a href="#topic+forward">forward</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>forward.prepaid(S=100,t=2,r=.04,position="short",div.structure="none")

forward.prepaid(S=100,t=2,r=.03,position="long",div.structure="discrete",
dividend=3,k=.02,df=2)

forward.prepaid(S=100,t=1,r=.05,position="long",div.structure="continuous",D=.06)</code></pre>

<hr>
<h2 id='IRR'>Internal Rate of Return</h2><span id='topic+IRR'></span>

<h3>Description</h3>

<p>Calculates internal rate of return for a series of cash flows, and provides a time diagram of the cash flows.</p>


<h3>Usage</h3>

<pre><code class='language-R'>IRR(cf0,cf,times,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="IRR_+3A_cf0">cf0</code></td>
<td>
<p>cash flow at period 0</p>
</td></tr>
<tr><td><code id="IRR_+3A_cf">cf</code></td>
<td>
<p>vector of cash flows</p>
</td></tr>
<tr><td><code id="IRR_+3A_times">times</code></td>
<td>
<p>vector of the times for each cash flow</p>
</td></tr>
<tr><td><code id="IRR_+3A_plot">plot</code></td>
<td>
<p>option whether or not to provide the time diagram</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">cf0=\sum_{k=1}^n\frac{cf_k}{(1+irr)^{times_k}}</code>
</p>


<h3>Value</h3>

<p>The internal rate of return.</p>


<h3>Note</h3>

<p>Periods in t must be positive integers.
</p>
<p>Uses polyroot function to solve equation given by series of cash flows, meaning that in the case of having a negative IRR, multiple answers may be returned.
</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+NPV">NPV</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>IRR(cf0=1,cf=c(1,2,1),times=c(1,3,4))

IRR(cf0=100,cf=c(1,1,30,40,50,1),times=c(1,1,3,4,5,6))</code></pre>

<hr>
<h2 id='NPV'>Net Present Value</h2><span id='topic+NPV'></span>

<h3>Description</h3>

<p>Calculates the net present value for a series of cash flows, and provides a time diagram of the cash flows.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NPV(cf0,cf,times,i,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NPV_+3A_cf0">cf0</code></td>
<td>
<p>cash flow at period 0</p>
</td></tr>
<tr><td><code id="NPV_+3A_cf">cf</code></td>
<td>
<p>vector of cash flows</p>
</td></tr>
<tr><td><code id="NPV_+3A_times">times</code></td>
<td>
<p>vector of the times for each cash flow</p>
</td></tr>
<tr><td><code id="NPV_+3A_i">i</code></td>
<td>
<p>interest rate per period</p>
</td></tr>
<tr><td><code id="NPV_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the time diagram of the cash flows</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">NPV=cf0-\sum_{k=1}^n\frac{cf_k}{(1+i)^{times_k}}</code>
</p>


<h3>Value</h3>

<p>The NPV.</p>


<h3>Note</h3>

<p>The periods in t must be positive integers.
</p>
<p>The lengths of cf and t must be equal.</p>


<h3>See Also</h3>

<p><code><a href="#topic+IRR">IRR</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NPV(cf0=100,cf=c(50,40),times=c(3,5),i=.01)

NPV(cf0=100,cf=50,times=3,i=.05)

NPV(cf0=100,cf=c(50,60,10,20),times=c(1,5,9,9),i=.045)</code></pre>

<hr>
<h2 id='option.call'>Call Option</h2><span id='topic+option.call'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long or short call option for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>option.call(S,K,r,t,sd,price=NA,position,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="option.call_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="option.call_+3A_k">K</code></td>
<td>
<p>strike price</p>
</td></tr>
<tr><td><code id="option.call_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="option.call_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="option.call_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="option.call_+3A_price">price</code></td>
<td>
<p>specified call price if the Black Scholes pricing is not desired (leave as NA to use the Black Scholes pricing)</p>
</td></tr>
<tr><td><code id="option.call_+3A_position">position</code></td>
<td>
<p>either buyer or seller of option (&quot;long&quot; or &quot;short&quot;)</p>
</td></tr>
<tr><td><code id="option.call_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>Long Position:
</p>
<p>payoff = max<code class="reqn">(0,S_t-K)</code>
</p>
<p>profit = payoff - price<code class="reqn">*e^{r*t}</code>
</p>
<p>Short Position:
</p>
<p>payoff = -max<code class="reqn">(0,S_t-K)</code>
</p>
<p>profit = payoff + price<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premium</code></td>
<td>
<p>The price for the call option.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Finds the call price by using the Black Scholes equation by default.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+bls.order1">bls.order1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>option.call(S=100,K=110,r=.03,t=1.5,sd=.2,price=NA,position="short")

option.call(S=100,K=100,r=.03,t=1,sd=.2,price=10,position="long")</code></pre>

<hr>
<h2 id='option.put'>Put Option</h2><span id='topic+option.put'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long or short put option for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>option.put(S,K,r,t,sd,price=NA,position,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="option.put_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="option.put_+3A_k">K</code></td>
<td>
<p>strike price</p>
</td></tr>
<tr><td><code id="option.put_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="option.put_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="option.put_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="option.put_+3A_price">price</code></td>
<td>
<p>specified put price if the Black Scholes pricing is not desired (leave as NA to use the Black Scholes pricing)</p>
</td></tr>
<tr><td><code id="option.put_+3A_position">position</code></td>
<td>
<p>either buyer or seller of option (&quot;long&quot; or &quot;short&quot;)</p>
</td></tr>
<tr><td><code id="option.put_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>Long Position:
</p>
<p>payoff = max<code class="reqn">(0,K-S_t)</code>
</p>
<p>profit = payoff<code class="reqn">-price*e^{r*t}</code>
</p>
<p>Short Position:
</p>
<p>payoff = -max<code class="reqn">(0,K-S_t)</code>
</p>
<p>profit = payoff<code class="reqn">+price*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premium</code></td>
<td>
<p>The price of the put option.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Finds the put price by using the Black Scholes equation by default.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.call">option.call</a></code>
</p>
<p><code><a href="#topic+bls.order1">bls.order1</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>option.put(S=100,K=110,r=.03,t=1,sd=.2,price=NA,position="short")

option.put(S=100,K=110,r=.03,t=1,sd=.2,price=NA,position="long")</code></pre>

<hr>
<h2 id='perpetuity.arith'>Arithmetic Perpetuity</h2><span id='topic+perpetuity.arith'></span>

<h3>Description</h3>

<p>Solves for the present value, amount of the first payment, the payment increment amount per period, or the interest rate for an arithmetically growing perpetuity.</p>


<h3>Usage</h3>

<pre><code class='language-R'>perpetuity.arith(pv=NA,p=NA,q=NA,i=NA,ic=1,pf=1,imm=TRUE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="perpetuity.arith_+3A_pv">pv</code></td>
<td>
<p>present value of the annuity</p>
</td></tr>
<tr><td><code id="perpetuity.arith_+3A_p">p</code></td>
<td>
<p>amount of the first payment</p>
</td></tr>
<tr><td><code id="perpetuity.arith_+3A_q">q</code></td>
<td>
<p>payment increment amount per period</p>
</td></tr>
<tr><td><code id="perpetuity.arith_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="perpetuity.arith_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="perpetuity.arith_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments per year</p>
</td></tr>
<tr><td><code id="perpetuity.arith_+3A_imm">imm</code></td>
<td>
<p>option for annuity immediate or annuity due, default is immediate (TRUE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p>Perpetuity Immediate:
</p>
<p><code class="reqn">pv=\frac{p}{j}+\frac{q}{j^2}</code>
</p>
<p>Perpetuity Due:
</p>
<p><code class="reqn">pv=(\frac{p}{j}+\frac{q}{j^2})*(1+j)</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of input variables, and calculated unknown variables.</p>


<h3>Note</h3>

<p>One of pv, p, q, or i must be NA (unknown).</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+perpetuity.geo">perpetuity.geo</a></code>
</p>
<p><code><a href="#topic+perpetuity.level">perpetuity.level</a></code>
</p>
<p><code><a href="#topic+annuity.arith">annuity.arith</a></code>
</p>
<p><code><a href="#topic+annuity.geo">annuity.geo</a></code>
</p>
<p><code><a href="#topic+annuity.level">annuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>perpetuity.arith(100,p=1,q=.5,i=NA,ic=1,pf=1,imm=TRUE)

perpetuity.arith(pv=NA,p=1,q=.5,i=.07,ic=1,pf=1,imm=TRUE)

perpetuity.arith(pv=100,p=NA,q=1,i=.05,ic=.5,pf=1,imm=FALSE)</code></pre>

<hr>
<h2 id='perpetuity.geo'>Geometric Perpetuity</h2><span id='topic+perpetuity.geo'></span>

<h3>Description</h3>

<p>Solves for the present value, amount of the first payment, the payment growth rate, or the interest rate for a geometrically growing perpetuity. </p>


<h3>Usage</h3>

<pre><code class='language-R'>perpetuity.geo(pv=NA,p=NA,k=NA,i=NA,ic=1,pf=1,imm=TRUE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="perpetuity.geo_+3A_pv">pv</code></td>
<td>
<p>present value</p>
</td></tr>
<tr><td><code id="perpetuity.geo_+3A_p">p</code></td>
<td>
<p>amount of the first payment</p>
</td></tr>
<tr><td><code id="perpetuity.geo_+3A_k">k</code></td>
<td>
<p>payment growth rate per period</p>
</td></tr>
<tr><td><code id="perpetuity.geo_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="perpetuity.geo_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="perpetuity.geo_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments and periods per year</p>
</td></tr>
<tr><td><code id="perpetuity.geo_+3A_imm">imm</code></td>
<td>
<p>option for perpetuity immediate or due, default is immediate (TRUE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p>Perpetuity Immediate:
</p>
<p>j &gt; k: <code class="reqn">pv=\frac{p}{j-k}</code>
</p>
<p>Perpetuity Due:
</p>
<p>j &gt; k: <code class="reqn">pv=\frac{p}{j-k}*(1+j)</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of the input variables and calculated unknown variables.</p>


<h3>Note</h3>

<p>One of pv, p, k, or i must be NA (unknown).</p>


<h3>See Also</h3>

<p><code><a href="#topic+perpetuity.arith">perpetuity.arith</a></code>
</p>
<p><code><a href="#topic+perpetuity.level">perpetuity.level</a></code>
</p>
<p><code><a href="#topic+annuity.arith">annuity.arith</a></code>
</p>
<p><code><a href="#topic+annuity.geo">annuity.geo</a></code>
</p>
<p><code><a href="#topic+annuity.level">annuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>perpetuity.geo(pv=NA,p=5,k=.03,i=.04,ic=1,pf=1,imm=TRUE)

perpetuity.geo(pv=1000,p=5,k=NA,i=.04,ic=1,pf=1,imm=FALSE)</code></pre>

<hr>
<h2 id='perpetuity.level'>Level Perpetuity</h2><span id='topic+perpetuity.level'></span>

<h3>Description</h3>

<p>Solves for the present value, interest rate, or the amount of the payments for a level perpetuity.</p>


<h3>Usage</h3>

<pre><code class='language-R'>perpetuity.level(pv=NA,pmt=NA,i=NA,ic=1,pf=1,imm=TRUE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="perpetuity.level_+3A_pv">pv</code></td>
<td>
<p>present value</p>
</td></tr>
<tr><td><code id="perpetuity.level_+3A_pmt">pmt</code></td>
<td>
<p>value of level payments</p>
</td></tr>
<tr><td><code id="perpetuity.level_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per year</p>
</td></tr>
<tr><td><code id="perpetuity.level_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per year</p>
</td></tr>
<tr><td><code id="perpetuity.level_+3A_pf">pf</code></td>
<td>
<p>the payment frequency- number of payments per year</p>
</td></tr>
<tr><td><code id="perpetuity.level_+3A_imm">imm</code></td>
<td>
<p>option for perpetuity immediate or annuity due, default is immediate (TRUE)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Effective Rate of Interest: <code class="reqn">eff.i=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">j=(1+eff.i)^{\frac{1}{pf}}-1</code>
</p>
<p>Perpetuity Immediate:
</p>
<p><code class="reqn">pv=pmt*{a_{\left. {\overline {\, \infty \,}}\! \right |j}}=\frac{pmt}{j}</code>
</p>
<p>Perpetuity Due:
</p>
<p><code class="reqn">pv=pmt*{\ddot {a}_{\left. {\overline {\, \infty \,}}\! \right |j}}=\frac{pmt}{j}*(1+i)</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of the input variables and calculated unknown variables.</p>


<h3>Note</h3>

<p>One of pv, pmt, or i must be NA (unknown).</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+perpetuity.arith">perpetuity.arith</a></code>
</p>
<p><code><a href="#topic+perpetuity.geo">perpetuity.geo</a></code>
</p>
<p><code><a href="#topic+annuity.arith">annuity.arith</a></code>
</p>
<p><code><a href="#topic+annuity.geo">annuity.geo</a></code>
</p>
<p><code><a href="#topic+annuity.level">annuity.level</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>perpetuity.level(pv=100,pmt=NA,i=.05,ic=1,pf=2,imm=TRUE)

perpetuity.level(pv=100,pmt=NA,i=.05,ic=1,pf=2,imm=FALSE)</code></pre>

<hr>
<h2 id='protective.put'>Protective Put</h2><span id='topic+protective.put'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a protective put strategy for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>protective.put(S,K,r,t,sd,price=NA,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="protective.put_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="protective.put_+3A_k">K</code></td>
<td>
<p>strike price</p>
</td></tr>
<tr><td><code id="protective.put_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="protective.put_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="protective.put_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="protective.put_+3A_price">price</code></td>
<td>
<p>specified put price if the Black Scholes pricing is not desired (leave as NA to use the Black Scholes pricing)</p>
</td></tr>
<tr><td><code id="protective.put_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=K-S</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=S_t-S</code>
</p>
<p>profit = payoff - price<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premium</code></td>
<td>
<p>The price of the put option.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Finds the put price by using the Black Scholes equation by default.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>protective.put(S=100,K=100,r=.03,t=1,sd=.2)

protective.put(S=100,K=90,r=.01,t=.5,sd=.1)</code></pre>

<hr>
<h2 id='rate.conv'>Interest, Discount, and Force of Interest Converter</h2><span id='topic+rate.conv'></span>

<h3>Description</h3>

<p>Converts given rate to desired nominal interest, discount, and force of interest rates.</p>


<h3>Usage</h3>

<pre><code class='language-R'>rate.conv(rate, conv=1, type="interest", nom=1)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rate.conv_+3A_rate">rate</code></td>
<td>
<p>current rate</p>
</td></tr>
<tr><td><code id="rate.conv_+3A_conv">conv</code></td>
<td>
<p>how many times per year the current rate is convertible</p>
</td></tr>
<tr><td><code id="rate.conv_+3A_type">type</code></td>
<td>
<p>current rate as one of &quot;interest&quot;, &quot;discount&quot; or &quot;force&quot;</p>
</td></tr>
<tr><td><code id="rate.conv_+3A_nom">nom</code></td>
<td>
<p>desired number of times the calculated rates will be convertible</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">1+i=(1+\frac{i^{(n)}}{n})^n=(1-d)^{-1}=(1-\frac{d^{(m)}}{m})^{-m}=e^\delta</code>
</p>


<h3>Value</h3>

<p>A matrix of the interest, discount, and force of interest conversions for effective, given and desired conversion rates.
</p>
<p>The row named 'eff' is used for the effective rates, and the nominal rates are in a row named 'nom(<em>x</em>)' where the rate is convertible <em>x</em>  times per year.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>Examples</h3>

<pre><code class='language-R'>rate.conv(rate=.05,conv=2,nom=1)

rate.conv(rate=.05,conv=2,nom=4,type="discount")

rate.conv(rate=.05,conv=2,nom=4,type="force")</code></pre>

<hr>
<h2 id='straddle'>Straddle Spread</h2><span id='topic+straddle'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long or short straddle for a range of future stock prices. </p>


<h3>Usage</h3>

<pre><code class='language-R'>straddle(S,K,r,t,price1,price2,position,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="straddle_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="straddle_+3A_k">K</code></td>
<td>
<p>strike price of the call and put</p>
</td></tr>
<tr><td><code id="straddle_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="straddle_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="straddle_+3A_price1">price1</code></td>
<td>
<p>price of the long call with strike price K</p>
</td></tr>
<tr><td><code id="straddle_+3A_price2">price2</code></td>
<td>
<p>price of the long put with strike price K</p>
</td></tr>
<tr><td><code id="straddle_+3A_position">position</code></td>
<td>
<p>either buyer or seller of option (&quot;long&quot; or &quot;short&quot;)</p>
</td></tr>
<tr><td><code id="straddle_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>Long Position:
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=K-S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=S_t-K</code>
</p>
<p>profit = payoff - (price1 + price2)<code class="reqn">*e^{r*t}</code>
</p>
<p>Short Position:
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=S_t-K</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=K-S_t</code>
</p>
<p>profit = payoff + (price1 + price2)<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call and put options, and the net cost.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+straddle.bls">straddle.bls</a></code>
</p>
<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>
<p><code><a href="#topic+strangle">strangle</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>straddle(S=100,K=110,r=.03,t=1,price1=15,price2=10,position="short")</code></pre>

<hr>
<h2 id='straddle.bls'>Straddle Spread - Black Scholes</h2><span id='topic+straddle.bls'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long or short straddle for a range of future stock prices. Uses the Black Scholes equation for the call and put prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>straddle.bls(S,K,r,t,sd,position,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="straddle.bls_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="straddle.bls_+3A_k">K</code></td>
<td>
<p>strike price of the call and put</p>
</td></tr>
<tr><td><code id="straddle.bls_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="straddle.bls_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="straddle.bls_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="straddle.bls_+3A_position">position</code></td>
<td>
<p>either buyer or seller of option (&quot;long&quot; or &quot;short&quot;)</p>
</td></tr>
<tr><td><code id="straddle.bls_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>Long Position:
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=K-S_t</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=S_t-K</code>
</p>
<p>profit = payoff<code class="reqn">-(price_{call}+price_{put})*e^{r*t}</code>
</p>
<p>Short Position:
</p>
<p>For <code class="reqn">S_t&lt;=K</code>: payoff <code class="reqn">=S_t-K</code>
</p>
<p>For <code class="reqn">S_t&gt;K</code>: payoff <code class="reqn">=K-S_t</code>
</p>
<p>profit = payoff<code class="reqn">+(price_{call}+price_{put})*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call and put options, and the net cost.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>
<p><code><a href="#topic+strangle.bls">strangle.bls</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>straddle.bls(S=100,K=110,r=.03,t=1,sd=.2,position="short")

straddle.bls(S=100,K=110,r=.03,t=1,sd=.2,position="long",plot=TRUE)</code></pre>

<hr>
<h2 id='strangle'>Strangle Spread</h2><span id='topic+strangle'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long strangle spread for a range of future stock prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>strangle(S,K1,K2,r,t,price1,price2,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="strangle_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="strangle_+3A_k1">K1</code></td>
<td>
<p>strike price of the long put</p>
</td></tr>
<tr><td><code id="strangle_+3A_k2">K2</code></td>
<td>
<p>strike price of the long call</p>
</td></tr>
<tr><td><code id="strangle_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="strangle_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="strangle_+3A_price1">price1</code></td>
<td>
<p>price of the long put with strike price K1</p>
</td></tr>
<tr><td><code id="strangle_+3A_price2">price2</code></td>
<td>
<p>price of the long call with strike price K2</p>
</td></tr>
<tr><td><code id="strangle_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=K1-S_t</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=S_t-K2</code>
</p>
<p>profit = payoff - (price1 + price2)<code class="reqn">*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call and put options, and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K1 &lt; S &lt; K2 must be true.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+strangle.bls">strangle.bls</a></code>
</p>
<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>
<p><code><a href="#topic+straddle">straddle</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strangle(S=105,K1=100,K2=110,r=.03,t=1,price1=10,price2=15,plot=TRUE)</code></pre>

<hr>
<h2 id='strangle.bls'>Strangle Spread - Black Scholes</h2><span id='topic+strangle.bls'></span>

<h3>Description</h3>

<p>Gives a table and graphical representation of the payoff and profit of a long strangle spread for a range of future stock prices. Uses the Black Scholes equation for the call prices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>strangle.bls(S,K1,K2,r,t,sd,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="strangle.bls_+3A_s">S</code></td>
<td>
<p>spot price at time 0</p>
</td></tr>
<tr><td><code id="strangle.bls_+3A_k1">K1</code></td>
<td>
<p>strike price of the long put</p>
</td></tr>
<tr><td><code id="strangle.bls_+3A_k2">K2</code></td>
<td>
<p>strike price of the long call</p>
</td></tr>
<tr><td><code id="strangle.bls_+3A_r">r</code></td>
<td>
<p>continuously compounded yearly risk free rate</p>
</td></tr>
<tr><td><code id="strangle.bls_+3A_t">t</code></td>
<td>
<p>time of expiration (in years)</p>
</td></tr>
<tr><td><code id="strangle.bls_+3A_sd">sd</code></td>
<td>
<p>standard deviation of the stock (volatility)</p>
</td></tr>
<tr><td><code id="strangle.bls_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to plot the payoff and profit</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stock price at time t <code class="reqn">=S_t</code>
</p>
<p>For <code class="reqn">S_t&lt;=K1</code>: payoff <code class="reqn">=K1-S_t</code>
</p>
<p>For <code class="reqn">K1&lt;S_t&lt;K2</code>: payoff <code class="reqn">=0</code>
</p>
<p>For <code class="reqn">S_t&gt;=K2</code>: payoff <code class="reqn">=S_t-K2</code>
</p>
<p>profit = payoff<code class="reqn">-(price_{K1}+price_{K2})*e^{r*t}</code>
</p>


<h3>Value</h3>

<p>A list of two components.
</p>
<table role = "presentation">
<tr><td><code>Payoff</code></td>
<td>
<p>A data frame of different payoffs and profits for given stock prices.</p>
</td></tr>
<tr><td><code>Premiums</code></td>
<td>
<p>A matrix of the premiums for the call and put options, and the net cost.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>K1 &lt; S &lt; K2 must be true.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+option.put">option.put</a></code>
</p>
<p><code><a href="#topic+option.call">option.call</a></code>
</p>
<p><code><a href="#topic+straddle.bls">straddle.bls</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>strangle.bls(S=105,K1=100,K2=110,r=.03,t=1,sd=.2)

strangle.bls(S=115,K1=50,K2=130,r=.03,t=1,sd=.2)</code></pre>

<hr>
<h2 id='swap.commodity'>Commodity Swap</h2><span id='topic+swap.commodity'></span>

<h3>Description</h3>

<p>Solves for the fixed swap price, given the variable prices and interest rates (either as spot rates or zero coupon bond prices).</p>


<h3>Usage</h3>

<pre><code class='language-R'>swap.commodity(prices, rates, type="spot_rate")</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="swap.commodity_+3A_prices">prices</code></td>
<td>
<p>vector of variable prices</p>
</td></tr>
<tr><td><code id="swap.commodity_+3A_rates">rates</code></td>
<td>
<p>vector of variable rates</p>
</td></tr>
<tr><td><code id="swap.commodity_+3A_type">type</code></td>
<td>
<p>rates defined as either &quot;spot_rate&quot; or &quot;zcb_price&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For spot rates: <code class="reqn">\sum_{k=1}^n\frac{prices_k}{(1+rates_k)^k}=\sum_{k=1}^n\frac{X}{(1+rates_k)^k}</code>
</p>
<p>For zero coupon bond prices: <code class="reqn">\sum_{k=1}^nprices_k*rates_k=\sum_{k=1}^nX*rates_k</code>
</p>
<p>Where <code class="reqn">X=</code> fixed swap price.
</p>


<h3>Value</h3>

<p>The fixed swap price.</p>


<h3>Note</h3>

<p>Length of the price vector and rate vector must be of the same length.
</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+swap.rate">swap.rate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swap.commodity(prices=c(103,106,108), rates=c(.04,.05,.06))

swap.commodity(prices=c(103,106,108), rates=c(.9615,.907,.8396),type="zcb_price")

swap.commodity(prices=c(105,105,105), rates=c(.85,.89,.80),type="zcb_price")
</code></pre>

<hr>
<h2 id='swap.rate'>Interest Rate Swap</h2><span id='topic+swap.rate'></span>

<h3>Description</h3>

<p>Solves for the fixed interest rate given the variable interest rates (either as spot rates or zero coupon bond prices).</p>


<h3>Usage</h3>

<pre><code class='language-R'>swap.rate(rates, type="spot_rate")</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="swap.rate_+3A_rates">rates</code></td>
<td>
<p>vector of variable rates</p>
</td></tr>
<tr><td><code id="swap.rate_+3A_type">type</code></td>
<td>
<p>rates as either &quot;spot_rate&quot; or &quot;zcb_price&quot;</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For spot rates: <code class="reqn">1=\sum_{k=1}^n[\frac{R}{(1+rates_k)^k}]+\frac{1}{(1+rates_n)^n}</code>
</p>
<p>For zero coupon bond prices: <code class="reqn">1=\sum_{k=1}^n(R*rates_k)+rates_n</code>
</p>
<p>Where <code class="reqn">R=</code> fixed swap rate.
</p>


<h3>Value</h3>

<p>The fixed interest rate swap.</p>


<h3>See Also</h3>

<p><code><a href="#topic+swap.commodity">swap.commodity</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>swap.rate(rates=c(.04, .05, .06), type = "spot_rate")

swap.rate(rates=c(.93,.95,.98,.90), type = "zcb_price")</code></pre>

<hr>
<h2 id='TVM'>Time Value of Money</h2><span id='topic+TVM'></span>

<h3>Description</h3>

<p>Solves for the present value, future value, time, or the interest rate for the accumulation of money earning compound interest.  It can also plot the time value for each period.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TVM(pv=NA,fv=NA,n=NA,i=NA,ic=1,plot=FALSE)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="TVM_+3A_pv">pv</code></td>
<td>
<p>present value</p>
</td></tr>
<tr><td><code id="TVM_+3A_fv">fv</code></td>
<td>
<p>future value</p>
</td></tr>
<tr><td><code id="TVM_+3A_n">n</code></td>
<td>
<p>number of periods</p>
</td></tr>
<tr><td><code id="TVM_+3A_i">i</code></td>
<td>
<p>nominal interest rate convertible ic times per period</p>
</td></tr>
<tr><td><code id="TVM_+3A_ic">ic</code></td>
<td>
<p>interest conversion frequency per period</p>
</td></tr>
<tr><td><code id="TVM_+3A_plot">plot</code></td>
<td>
<p>tells whether or not to produce a plot of the time value at each period</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">j=(1+\frac{i}{ic})^{ic}-1</code>
</p>
<p><code class="reqn">fv=pv*(1+j)^n</code>
</p>


<h3>Value</h3>

<p>Returns a matrix of the input variables and calculated unknown variables.</p>


<h3>Note</h3>

<p>Exactly one of pv, fv, n, or i must be NA (unknown).</p>


<h3>See Also</h3>

<p><code><a href="#topic+cf.analysis">cf.analysis</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>TVM(pv=10,fv=20,i=.05,ic=2,plot=TRUE)

TVM(pv=50,n=5,i=.04,plot=TRUE)
</code></pre>

<hr>
<h2 id='yield.dollar'>Dollar Weighted Yield</h2><span id='topic+yield.dollar'></span>

<h3>Description</h3>

<p>Calculates the dollar weighted yield.</p>


<h3>Usage</h3>

<pre><code class='language-R'>yield.dollar(cf, times, start, end, endtime)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yield.dollar_+3A_cf">cf</code></td>
<td>
<p>vector of cash flows </p>
</td></tr>
<tr><td><code id="yield.dollar_+3A_times">times</code></td>
<td>
<p>vector of times for when cash flows occur</p>
</td></tr>
<tr><td><code id="yield.dollar_+3A_start">start</code></td>
<td>
<p>beginning balance</p>
</td></tr>
<tr><td><code id="yield.dollar_+3A_end">end</code></td>
<td>
<p>ending balance</p>
</td></tr>
<tr><td><code id="yield.dollar_+3A_endtime">endtime</code></td>
<td>
<p>end time of comparison</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">I=end-start-\sum_{k=1}^ncf_k</code>
</p>
<p><code class="reqn">i^{dw}=\frac{I}{start*endtime-\sum_{k=1}^ncf_k*(endtime-times_k)}</code>
</p>


<h3>Value</h3>

<p>The dollar weighted yield.</p>


<h3>Note</h3>

<p>Time of comparison (endtime) must be larger than any number in vector of cash flow times.
</p>
<p>Length of cashflow vector and times vector must be equal.</p>


<h3>See Also</h3>

<p><code><a href="#topic+yield.time">yield.time</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>yield.dollar(cf=c(20,10,50),times=c(.25,.5,.75),start=100,end=175,endtime=1)

yield.dollar(cf=c(500,-1000),times=c(3/12,18/12),start=25200,end=25900,endtime=21/12)</code></pre>

<hr>
<h2 id='yield.time'>Time Weighted Yield</h2><span id='topic+yield.time'></span>

<h3>Description</h3>

<p>Calculates the time weighted yield.</p>


<h3>Usage</h3>

<pre><code class='language-R'>yield.time(cf,bal)</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="yield.time_+3A_cf">cf</code></td>
<td>
<p>vector of cash flows</p>
</td></tr>
<tr><td><code id="yield.time_+3A_bal">bal</code></td>
<td>
<p>vector of balances</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code class="reqn">i^{tw}=\prod_{k=1}^n (\frac{bal_{1+k}}{bal_k+cf_k})-1</code>
</p>


<h3>Value</h3>

<p>The time weighted yield.</p>


<h3>Note</h3>

<p>Length of cash flows must be one less than the length of balances.
</p>
<p>If lengths are equal, it will not use final cash flow.</p>


<h3>Author(s)</h3>

<p>Kameron Penn and Jack Schmidt</p>


<h3>See Also</h3>

<p><code><a href="#topic+yield.dollar">yield.dollar</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>yield.time(cf=c(0,200,100,50),bal=c(1000,800,1150,1550,1700))</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

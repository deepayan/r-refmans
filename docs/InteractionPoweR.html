<!DOCTYPE html><html><head><title>Help for package InteractionPoweR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {InteractionPoweR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#compute_adjustment'><p>compute_adjustment</p></a></li>
<li><a href='#generate_interaction'><p>Generate interaction data set</p></a></li>
<li><a href='#name_key'><p>Name key for plotting</p></a></li>
<li><a href='#norm2ordinal'><p>norm2ordinal</p></a></li>
<li><a href='#plot_interaction'><p>Plot interaction</p></a></li>
<li><a href='#plot_power_curve'><p>Plot power curve</p></a></li>
<li><a href='#plot_simple_slope'><p>Simple slope plot</p></a></li>
<li><a href='#power_estimate'><p>Power estimate</p></a></li>
<li><a href='#power_interaction'><p>Power analysis for interactions</p></a></li>
<li><a href='#power_interaction_r2'><p>Analytic power analysis for interactions</p></a></li>
<li><a href='#test_interaction'><p>Test interaction</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Power Analyses for Interaction Effects in Cross-Sectional
Regressions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Power analysis for regression models which test the interaction of
    two independent variables on a single dependent variable. Includes options 
    for continuous, binary, or ordinal variables, as well as correlated 
    interacting variables. Also includes options to specify variable reliability.
    Power analyses can be done either analytically or via simulation.  Includes 
    tools for simulating single data sets and visualizing power analysis results.
    The primary functions are power_interaction_r2() and power_interaction(). 
    Please cite as: Baranger DAA, Finsaas MC, Goldstein BL, Vize CE, Lynam DR,
    Olino TM (2022). "Tutorial: Power analyses for interaction effects in 
    cross-sectional regressions." &lt;<a href="https://doi.org/10.31234%2Fosf.io%2F5ptd7">doi:10.31234/osf.io/5ptd7</a>&gt;. </td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Baranger &lt;dbaranger@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://dbaranger.github.io/InteractionPoweR/">https://dbaranger.github.io/InteractionPoweR/</a>,
<a href="https://doi.org/10.31234/osf.io/5ptd7">https://doi.org/10.31234/osf.io/5ptd7</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/dbaranger/InteractionPoweR/issues">https://github.com/dbaranger/InteractionPoweR/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, MASS, parallel, doParallel, foreach, ggplot2, polynom,
chngpt, rlang, tidyr, stats, ggbeeswarm, Matrix</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-18 21:35:07 UTC; dbara</td>
</tr>
<tr>
<td>Author:</td>
<td>David Baranger <a href="https://orcid.org/0000-0002-6659-357X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre] (davidbaranger.com),
  Brandon Goldstein [ctb],
  Megan Finsaas [ctb],
  Thomas Olino [ctb],
  Colin Vize [ctb],
  Don Lynam [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-18 21:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='compute_adjustment'>compute_adjustment</h2><span id='topic+compute_adjustment'></span>

<h3>Description</h3>

<p>Computes how much variable correlations need to be adjusted so that they have the desired correlation structure after transformation. Intended for internal use only.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_adjustment(
  r.x1.y,
  r.x2.y,
  r.x1x2.y,
  r.x1.x2,
  N.adjustment = 1e+06,
  tol = 0.005,
  iter = 10,
  k.x1,
  k.x2,
  k.y
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_adjustment_+3A_r.x1.y">r.x1.y</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_r.x2.y">r.x2.y</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_r.x1x2.y">r.x1x2.y</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_r.x1.x2">r.x1.x2</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_n.adjustment">N.adjustment</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_tol">tol</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_iter">iter</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_k.x1">k.x1</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_k.x2">k.x2</code></td>
<td>
<p>Internal use only</p>
</td></tr>
<tr><td><code id="compute_adjustment_+3A_k.y">k.y</code></td>
<td>
<p>Internal use only</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Correlation adjustments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
compute_adjustment(r.x1.y = .2,r.x2.y = .2,r.x1x2.y = .1,r.x1.x2 = .2,
k.x1 = 0,k.x2=0,k.y=2)

</code></pre>

<hr>
<h2 id='generate_interaction'>Generate interaction data set</h2><span id='topic+generate_interaction'></span>

<h3>Description</h3>

<p>Simulate a single data set with an interaction (y ~ x1 + x2 + x1*x2). All values other than 'N' are population-level effects - the values within any single simulated data set will vary around the defined values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_interaction(
  N,
  r.x1.y,
  r.x2.y,
  r.x1x2.y,
  r.x1.x2,
  rel.x1 = 1,
  rel.x2 = 1,
  rel.y = 1,
  k.x1 = 0,
  k.x2 = 0,
  k.y = 0,
  adjust.correlations = TRUE,
  tol = 0.005,
  iter = 10,
  N.adjustment = 1e+06,
  r.x1.y.adjust = NULL,
  r.x2.y.adjust = NULL,
  r.x1.x2.adjust = NULL,
  r.x1x2.y.adjust = NULL,
  internal.adjust = FALSE,
  skew.x1 = NA,
  skew.x2 = NA,
  skew.y = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="generate_interaction_+3A_n">N</code></td>
<td>
<p>Sample size. Must be a positive integer. Has no default value.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x1.y">r.x1.y</code></td>
<td>
<p>Pearson's correlation between x1 and y. Must be between -1 and 1. Has no default value.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x2.y">r.x2.y</code></td>
<td>
<p>Pearson's correlation between x2 and y. Must be between -1 and 1. Assumed to be the 'moderator' in some functions. Has no default value.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x1x2.y">r.x1x2.y</code></td>
<td>
<p>Pearson's correlation between the interaction term x1x2 (x1 * x2) and y. Must be between -1 and 1. Has no default value.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x1.x2">r.x1.x2</code></td>
<td>
<p>Pearson's correlation between x1 and x2. Must be between -1 and 1. Has no default value.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_rel.x1">rel.x1</code></td>
<td>
<p>Reliability of x1 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_rel.x2">rel.x2</code></td>
<td>
<p>Reliability of x2 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_rel.y">rel.y</code></td>
<td>
<p>Reliability of xy (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_k.x1">k.x1</code></td>
<td>
<p>Number of discrete values for x1. Can be used to make a variable binary or ordinal.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_k.x2">k.x2</code></td>
<td>
<p>Number of discrete values for x2. Can be used to make a variable binary or ordinal.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_k.y">k.y</code></td>
<td>
<p>Number of discrete values for y.Can be used to make a variable binary or ordinal.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_adjust.correlations">adjust.correlations</code></td>
<td>
<p>If variables are ordinal or binary, should correlations be adjusted so that output data has the specified correlation structure? Default is TRUE.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_tol">tol</code></td>
<td>
<p>Correlation adjustment tolerance. When adjust.correlations = TRUE, correlations are adjusted so that the population correlation is within r='tol' of the target. Default = 0.005.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_iter">iter</code></td>
<td>
<p>Max number of iterations to run the correlation adjustment for. Typically only a couple are needed. Default = 10.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_n.adjustment">N.adjustment</code></td>
<td>
<p>Sample size to use when adjusting correlations. Default = 1000000.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x1.y.adjust">r.x1.y.adjust</code></td>
<td>
<p>Internal use only.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x2.y.adjust">r.x2.y.adjust</code></td>
<td>
<p>Internal use only.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x1.x2.adjust">r.x1.x2.adjust</code></td>
<td>
<p>Internal use only.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_r.x1x2.y.adjust">r.x1x2.y.adjust</code></td>
<td>
<p>Internal use only.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_internal.adjust">internal.adjust</code></td>
<td>
<p>Internal use only.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_skew.x1">skew.x1</code></td>
<td>
<p>No longer supported.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_skew.x2">skew.x2</code></td>
<td>
<p>No longer supported.</p>
</td></tr>
<tr><td><code id="generate_interaction_+3A_skew.y">skew.y</code></td>
<td>
<p>No longer supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing variables 'x1', 'x2', 'y', and 'x1x2'. 'x1x2' is x1*x2. The correlations between these variables are drawn from the defined population-level values. Output variables are all z-scored (mean=0, sd=1).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dataset &lt;- generate_interaction(N = 10,r.x1.y = 0,r.x2.y = .1,r.x1x2.y = -.2,r.x1.x2 = .3)
</code></pre>

<hr>
<h2 id='name_key'>Name key for plotting</h2><span id='topic+name_key'></span>

<h3>Description</h3>

<p>Expanded variable names so that plots look nicer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(name_key)
</code></pre>


<h3>Format</h3>

<p>A data frame with 25 rows and 2 variables
</p>

<hr>
<h2 id='norm2ordinal'>norm2ordinal</h2><span id='topic+norm2ordinal'></span>

<h3>Description</h3>

<p>Transforms a vector with a normal distribution to a binomial distribution with two values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>norm2ordinal(x, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="norm2ordinal_+3A_x">x</code></td>
<td>
<p>Input vector</p>
</td></tr>
<tr><td><code id="norm2ordinal_+3A_k">k</code></td>
<td>
<p>Number of discrete values (e.g., 2=binary, 5=likert scale)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ordinal or binary variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'>norm2ordinal(x = rnorm(n = 100,mean = 0,sd = 1),k=2)
</code></pre>

<hr>
<h2 id='plot_interaction'>Plot interaction</h2><span id='topic+plot_interaction'></span>

<h3>Description</h3>

<p>Plots a single simulated interaction data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_interaction(data, q = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_interaction_+3A_data">data</code></td>
<td>
<p>Output of generate_interaction().</p>
</td></tr>
<tr><td><code id="plot_interaction_+3A_q">q</code></td>
<td>
<p>Simple slope quantiles. Default is 2. X2 is the default moderator, unless X1 is already binary. Must be a positive integer &gt; 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dataset &lt;- generate_interaction(N = 250,r.x1.y = 0,r.x2.y = .1,r.x1x2.y = -.2,r.x1.x2 = .3)
plot_interaction(dataset,q=3)
</code></pre>

<hr>
<h2 id='plot_power_curve'>Plot power curve</h2><span id='topic+plot_power_curve'></span>

<h3>Description</h3>

<p>Plot the output of power_interaction().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_power_curve(
  power_data,
  x = NULL,
  group = NULL,
  facets = NULL,
  power_target = 0.8
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_power_curve_+3A_power_data">power_data</code></td>
<td>
<p>Data frame of results from power_interaction(). Can accept the raw results if up to 3 parameters were varied during simulation. Any more and data should be filtered first.</p>
</td></tr>
<tr><td><code id="plot_power_curve_+3A_x">x</code></td>
<td>
<p>Optional, the x-axis of the plot. Default is the first variable after 'pwr'.</p>
</td></tr>
<tr><td><code id="plot_power_curve_+3A_group">group</code></td>
<td>
<p>Optional, grouping variable for the line color. Default is the second variable after 'pwr', if present.</p>
</td></tr>
<tr><td><code id="plot_power_curve_+3A_facets">facets</code></td>
<td>
<p>Optional, grouping variable for plot facets. Default is the third variable after 'pwr' if present.</p>
</td></tr>
<tr><td><code id="plot_power_curve_+3A_power_target">power_target</code></td>
<td>
<p>The target power. Default is 80%.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class='language-R'> power_analysis &lt;- power_interaction(n.iter = 10,N = seq(100,300,by=100),
 r.x1.y = 0,r.x2.y = .1,r.x1x2.y = -.2,r.x1.x2 = .3,detailed_results = TRUE)
 plot_power_curve(power_analysis)
</code></pre>

<hr>
<h2 id='plot_simple_slope'>Simple slope plot</h2><span id='topic+plot_simple_slope'></span>

<h3>Description</h3>

<p>Plots the simple slope min and max estimates from power_interaction().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_simple_slope(power_data, x = NULL, facets = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_simple_slope_+3A_power_data">power_data</code></td>
<td>
<p>Data frame of results from power_interaction(). Can accept the raw results if up to 2 parameters were varied during simulation. Any more and data should be filtered first.</p>
</td></tr>
<tr><td><code id="plot_simple_slope_+3A_x">x</code></td>
<td>
<p>Optional, the x-axis of the plot. Default is the first variable after 'pwr'.</p>
</td></tr>
<tr><td><code id="plot_simple_slope_+3A_facets">facets</code></td>
<td>
<p>Optional, grouping variable for plot facets. Default is the second variable after 'pwr' if present.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>power_analysis &lt;- power_interaction(n.iter = 10,N = seq(100,300,by=100),
r.x1.y = 0,r.x2.y = .1,r.x1x2.y = -.2,r.x1.x2 = .3,detailed_results = TRUE)
plot_simple_slope(power_analysis)
</code></pre>

<hr>
<h2 id='power_estimate'>Power estimate</h2><span id='topic+power_estimate'></span>

<h3>Description</h3>

<p>Uses regression to estimate the value needed to attain the target power, given a set of simulation results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power_estimate(power_data, x, power_target)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="power_estimate_+3A_power_data">power_data</code></td>
<td>
<p>Output of power_interaction().</p>
</td></tr>
<tr><td><code id="power_estimate_+3A_x">x</code></td>
<td>
<p>The name of the target variable as a character string.</p>
</td></tr>
<tr><td><code id="power_estimate_+3A_power_target">power_target</code></td>
<td>
<p>The desired power level. Must be between 0 and 1 (e.g., 0.8 for 80% power).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the value of x that achieves the target power for each combination of settings. Will return NA if target power is outside the simulation data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>simulation_results = power_interaction_r2(N=seq(100,300,by=10),
r.x1.y=0.2, r.x2.y=.2,r.x1x2.y=0.2,r.x1.x2=.2)
power_estimate(power_data = simulation_results, x = "N", power_target = .8)
</code></pre>

<hr>
<h2 id='power_interaction'>Power analysis for interactions</h2><span id='topic+power_interaction'></span>

<h3>Description</h3>

<p>Power analysis for interaction models, by simulation. A set of n.iter simulations is run for each unique combination of model settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power_interaction(
  n.iter,
  N,
  r.x1.y,
  r.x2.y,
  r.x1x2.y,
  r.x1.x2,
  rel.x1 = 1,
  rel.x2 = 1,
  rel.y = 1,
  k.x1 = 0,
  k.x2 = 0,
  k.y = 0,
  adjust.correlations = TRUE,
  alpha = 0.05,
  q = 2,
  cl = NULL,
  ss.IQR = 1.5,
  N.adjustment = 1e+06,
  detailed_results = FALSE,
  full_simulation = FALSE,
  tol = 0.005,
  iter = 10,
  skew.x1 = NA,
  skew.x2 = NA,
  skew.y = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="power_interaction_+3A_n.iter">n.iter</code></td>
<td>
<p>Number of iterations. The number of simulations to run for each unique setting combination. Must be a positive integer.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_n">N</code></td>
<td>
<p>Sample size. Must be a positive integer. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_r.x1.y">r.x1.y</code></td>
<td>
<p>Pearson's correlation between x1 and y. Must be between -1 and 1.. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_r.x2.y">r.x2.y</code></td>
<td>
<p>Pearson's correlation between x2 and y. Must be between -1 and 1.. Assumed to be the 'moderator' in some functions. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_r.x1x2.y">r.x1x2.y</code></td>
<td>
<p>Pearson's correlation between the interaction term x1x2 (x1 * x2) and y. Must be between -1 and 1.. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_r.x1.x2">r.x1.x2</code></td>
<td>
<p>Pearson's correlation between x1 and x2. Must be between -1 and 1.. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_rel.x1">rel.x1</code></td>
<td>
<p>Reliability of x1 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_rel.x2">rel.x2</code></td>
<td>
<p>Reliability of x2 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_rel.y">rel.y</code></td>
<td>
<p>Reliability of xy (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_k.x1">k.x1</code></td>
<td>
<p>Number of discrete values for x1. Can be used to make a variable binary or ordinal.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_k.x2">k.x2</code></td>
<td>
<p>Number of discrete values for x2. Can be used to make a variable binary or ordinal.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_k.y">k.y</code></td>
<td>
<p>Number of discrete values for y. Can be used to make a variable binary or ordinal.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_adjust.correlations">adjust.correlations</code></td>
<td>
<p>If variables are ordinal or binary, should correlations be adjusted so that output data has the specified correlation structure? Default is TRUE.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_alpha">alpha</code></td>
<td>
<p>The alpha. At what p-value is the interaction deemed significant? Default is 0.05.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_q">q</code></td>
<td>
<p>Simple slopes. How many quantiles should x2 be split into for simple slope testing? Default is 2. Simple slope testing returns the effect-size (slope) of y~x1 for the two most extreme quantiles of x2. If q=3 then the two slopes are y~x1 for the bottom 33% of x2, and the top 33% of x2.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_cl">cl</code></td>
<td>
<p>Number of clusters to use for running simulations in parallel (recommended). Default is 1 (i.e. not in parallel).</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_ss.iqr">ss.IQR</code></td>
<td>
<p>Simple slope IQR. Multiplier when estimating the distribution of simple slopes within each simulation setting. Default is 1.5.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_n.adjustment">N.adjustment</code></td>
<td>
<p>Sample size for simulations where correlation matrix is corrected to allow for binary/ordinal variables. Default is 1000000</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_detailed_results">detailed_results</code></td>
<td>
<p>Default is FALSE. Should detailed results be reported?</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_full_simulation">full_simulation</code></td>
<td>
<p>Default is FALSE. If TRUE, will return a list that includes the full per-simulation results.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_tol">tol</code></td>
<td>
<p>Correlation adjustment tolerance. When adjust.correlations = TRUE, correlations are adjusted so that the population correlation is within r='tol' of the target. Default = 0.005.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_iter">iter</code></td>
<td>
<p>Max number of iterations to run the correlation adjustment for. Typically only a couple are needed. Default = 10.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_skew.x1">skew.x1</code></td>
<td>
<p>No longer supported.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_skew.x2">skew.x2</code></td>
<td>
<p>No longer supported.</p>
</td></tr>
<tr><td><code id="power_interaction_+3A_skew.y">skew.y</code></td>
<td>
<p>No longer supported.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the power (% significant results) for each unique setting combination. If full_simulation = TRUE will return a list, with one data frame that includes power, and a second that includes raw simulation results.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>power_interaction(n.iter=10, N=10,r.x1.y=0.2, r.x2.y=.2,r.x1x2.y=0.5,r.x1.x2=.2)
</code></pre>

<hr>
<h2 id='power_interaction_r2'>Analytic power analysis for interactions</h2><span id='topic+power_interaction_r2'></span>

<h3>Description</h3>

<p>Power analysis for interaction models, computed via change in R2. Valid for interactions with continuous, normally distributed, variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>power_interaction_r2(
  N,
  r.x1.y,
  r.x2.y,
  r.x1x2.y,
  r.x1.x2,
  rel.x1 = 1,
  rel.x2 = 1,
  rel.y = 1,
  alpha = 0.05,
  detailed_results = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="power_interaction_r2_+3A_n">N</code></td>
<td>
<p>Sample size. Must be a positive integer. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_r.x1.y">r.x1.y</code></td>
<td>
<p>Pearson's correlation between x1 and y. Must be between -1 and 1.. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_r.x2.y">r.x2.y</code></td>
<td>
<p>Pearson's correlation between x2 and y. Must be between -1 and 1.. Assumed to be the 'moderator' in some functions. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_r.x1x2.y">r.x1x2.y</code></td>
<td>
<p>Pearson's correlation between the interaction term x1x2 (x1 * x2) and y. Must be between -1 and 1.. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_r.x1.x2">r.x1.x2</code></td>
<td>
<p>Pearson's correlation between x1 and x2. Must be between -1 and 1.. Has no default value. Can be a single value or a vector of values.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_rel.x1">rel.x1</code></td>
<td>
<p>Reliability of x1 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_rel.x2">rel.x2</code></td>
<td>
<p>Reliability of x2 (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_rel.y">rel.y</code></td>
<td>
<p>Reliability of xy (e.g. test-retest reliability, ICC, Cronbach's alpha). Default is 1 (perfect reliability). Must be greater than 0 and less than or equal to 1.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_alpha">alpha</code></td>
<td>
<p>The alpha. At what p-value is the interaction deemed significant? Default is 0.05.</p>
</td></tr>
<tr><td><code id="power_interaction_r2_+3A_detailed_results">detailed_results</code></td>
<td>
<p>Default is FALSE. Should detailed results be reported?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the power for each unique setting combination.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>power_interaction_r2(N=seq(100,300,by=10),r.x1.y=0.2, r.x2.y=.2,r.x1x2.y=0.2,r.x1.x2=.2)

</code></pre>

<hr>
<h2 id='test_interaction'>Test interaction</h2><span id='topic+test_interaction'></span>

<h3>Description</h3>

<p>Test the interaction from a single simulated data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_interaction(
  data,
  alpha = 0.05,
  detailed_results = FALSE,
  q = 2,
  simple = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test_interaction_+3A_data">data</code></td>
<td>
<p>Simulated data set. Output of 'generate_interaction()'.</p>
</td></tr>
<tr><td><code id="test_interaction_+3A_alpha">alpha</code></td>
<td>
<p>The alpha. At what p-value is the interaction deemed significant? Default is 0.05.</p>
</td></tr>
<tr><td><code id="test_interaction_+3A_detailed_results">detailed_results</code></td>
<td>
<p>Should results beyond the linear model (change in R2, simple slopes, correlations, and confidence intervals) be returned? Default is FALSE.</p>
</td></tr>
<tr><td><code id="test_interaction_+3A_q">q</code></td>
<td>
<p>Simple slopes. How many quantiles should x2 be split into for simple slope testing? Default is 2.
Simple slope testing returns the effect-size (slope) of y~x1 for the two most extreme quantiles of x2.
If q=3 then the two slopes are y~x1 for the bottom 33% of x2, and the top 33% of x2.</p>
</td></tr>
<tr><td><code id="test_interaction_+3A_simple">simple</code></td>
<td>
<p>For internal use. Default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a named list or a data frame containing the results of the regression y~x1+x2+x1*x2, the pearson's correlation between y, x1,x2, and x1x2, and the slopes of the simple slopes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dataset &lt;- generate_interaction(N = 250,r.x1.y = 0,r.x2.y = .1,r.x1x2.y = -.2,r.x1.x2 = .3)
test_interaction(data = dataset, alpha=0.05, q=2)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package nfer</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {nfer}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#apply'><p>Apply a loaded nfer specification to a dataframe of events.</p></a></li>
<li><a href='#learn'><p>Learn an nfer specification from an event trace.</p></a></li>
<li><a href='#load'><p>Load an nfer specification from a file.</p></a></li>
<li><a href='#nfer'><p>nfer: A package for inferring interval abstractions of event traces.</p></a></li>
<li><a href='#read'><p>Reads an nfer event file into an R dataframe.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Event Stream Abstraction using Interval Logic</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>This is the R API for the 'nfer' formalism (<a href="http://nfer.io/">http://nfer.io/</a>).
    'nfer' was developed to specify event stream abstractions for spacecraft 
    telemetry such as the Mars Science Laboratory.  Users write rules using 
    a syntax that borrows heavily from Allen's Temporal Logic that, when 
    applied to an event stream, construct a hierarchy of temporal intervals 
    with data.  The R API supports loading rules from a file or mining them 
    from historical data.  Traces of events or pools of intervals are 
    provided as data frames.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://nfer.io/">http://nfer.io/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://bitbucket.org/seanmk/nfer/issues">https://bitbucket.org/seanmk/nfer/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-12 09:43:11 UTC; sb37fk</td>
</tr>
<tr>
<td>Author:</td>
<td>Sean Kauffman <a href="https://orcid.org/0000-0001-6341-3898"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sean Kauffman &lt;seank@cs.aau.dk&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-12 10:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='apply'>Apply a loaded nfer specification to a dataframe of events.</h2><span id='topic+apply'></span>

<h3>Description</h3>

<p>This function obtains the interval abstractions generated by applying the
nfer specification to the events.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply(handle, events)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="apply_+3A_handle">handle</code></td>
<td>
<p>The loaded nfer specification
(using <code>nfer::load</code>, or <code>nfer::learn</code>)</p>
</td></tr>
<tr><td><code id="apply_+3A_events">events</code></td>
<td>
<p>The dataframe of events to abstract using nfer.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Event traces are passed as dataframes with at least two columns.
The first two columns contain event names and timestamps, respectively.
Names should be strings.  Timestamps should be integers or strings, ideally, but may be numeric.
Subsequent columns contain data, where the column name is the data key.
The column value will be the data value for each event, where NA means no value is present.
</p>
<p>Example dataframe events: </p>
<pre>
| name | timestamp | x |    y |
-------------------------------
| foo  | 123       | 2 | NA   |
| bar  | 987       | 3 | TRUE |
</pre>
<p>The result of the function is also a dataframe, but this contains intervals.
The difference is that it has an extra timestamp column.
Column two is now the start time of the interval, and column 3 is the end time.
Name is still column one and columns 4+ are still data.
</p>
<p>Dataframe interval output: </p>
<pre>
| name | start | end | z  |
---------------------------
| far  | 123   | 987 | NA |
| baf  | 654   | 987 | 3  |
</pre>


<h3>Value</h3>

<p>A dataframe containing intervals.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ops &lt;- nfer::load(system.file("extdata", "ops.nfer", package = "nfer"))
events &lt;- nfer::read(system.file("extdata", "ops.events", package = "nfer"))
intervals &lt;- nfer::apply(ops, events)
</code></pre>

<hr>
<h2 id='learn'>Learn an nfer specification from an event trace.</h2><span id='topic+learn'></span>

<h3>Description</h3>

<p>This function applies the nfer mining algorithm to a trace to attempt to
learn a specification.  It will only learn before rules and will only find
those when there is periodic behavior in the trace.  This works best for
system traces of real-time systems where events represent scheduled,
periodic behavior.  At this time, only the event names will be considered
while any data is ignored.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>learn(events, loglevel = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="learn_+3A_events">events</code></td>
<td>
<p>The dataframe containing events.</p>
</td></tr>
<tr><td><code id="learn_+3A_loglevel">loglevel</code></td>
<td>
<p>(Optional) The logging level to set (0-4), where 0 is only
warnings and errors and 3 is debug.  Default is 0.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Event traces are passed as dataframes with at least two columns.
The first two columns contain event names and timestamps, respectively.
Names should be strings.  Timestamps should be integers or strings, ideally,
but may be numeric.
Subsequent columns will be ignored by this function, for now.
</p>
<p>Example dataframe events: </p>
<pre>
| name | timestamp | x |    y |
-------------------------------
| foo  | 123       | 2 | NA   |
| bar  | 987       | 3 | TRUE |
</pre>


<h3>Value</h3>

<p>A handle to a learned nfer specification, loaded into R.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>events &lt;- nfer::read(system.file("extdata", "qnx.events", package = "nfer"))
learned &lt;- nfer::learn(events)
learned &lt;- nfer::learn(events, loglevel=1)
</code></pre>

<hr>
<h2 id='load'>Load an nfer specification from a file.</h2><span id='topic+load'></span>

<h3>Description</h3>

<p>This function loads an existing nfer specification, stored in a file,
into R in a format that can be used by the <code>nfer::apply</code> function.
See <a href="http://nfer.io/">http://nfer.io/</a> for information on how to write nfer specifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load(specfile, loglevel = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_+3A_specfile">specfile</code></td>
<td>
<p>The name of file containing the nfer specification to load.</p>
</td></tr>
<tr><td><code id="load_+3A_loglevel">loglevel</code></td>
<td>
<p>(Optional) The logging level to set (0-4), where 0 is only
warnings and errors and 3 is debug.  Default is 0.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Nfer specifications consist of rules that describe a relationship between
pairs of intervals.  These relationships describe new intervals that can
then be used to describe more intervals.  The result is a hierarchy of
intervals.  Although the algorithm takes intervals as its input, event
traces are actually the target, so events are converted to intervals with
zero duration.
</p>


<h3>Value</h3>

<p>A handle to the nfer specification, loaded into R.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test &lt;- nfer::load(system.file("extdata", "ops.nfer", package = "nfer"))
ssps &lt;- nfer::load(system.file("extdata", "ssps.nfer", package = "nfer"), loglevel=1)
</code></pre>

<hr>
<h2 id='nfer'>nfer: A package for inferring interval abstractions of event traces.</h2><span id='topic+nfer'></span>

<h3>Description</h3>

<p>The nfer package provides an R interface to the nfer language for
abstracting event traces into a hierarchy of intervals with data.
</p>


<h3>nfer functions</h3>

<p>load, learn, read, apply
</p>

<hr>
<h2 id='read'>Reads an nfer event file into an R dataframe.</h2><span id='topic+read'></span>

<h3>Description</h3>

<p>The nfer event format is not read easily into R.  This function
essentially simplifies sharing event traces between the nfer
command-line tool and the R package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read(event_file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="read_+3A_event_file">event_file</code></td>
<td>
<p>The name of the file containing nfer formatted events.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Nfer event files are formatted as follows:
Each row is a pipe-separated list of either 2 or 4 values represents one event.
The first column is the event name.  The second is the event timestamp (integer).
The third and fourth columns are used when the event carries data.
The third column is a semicolon separated list of data keys.
The fourth column is a semicolon separate list of data values in the same order
as the keys.
</p>
<p>Example event file contents: </p>
<pre>
foo|123|x|2
bar|987|x;y|3;true
</pre>
<p>The result of reading such a file with this function is a dataframe where the
first column contains event names, the second contains event timestamps, and
subsequent columns contain data.  The data is formatted with one column per name.
Events that don't carry some data key will have an NA value for that column.
</p>
<p>Resulting dataframe of event: </p>
<pre>
| name | timestamp | x |    y |
-------------------------------
| foo  | 123       | 2 | NA   |
| bar  | 987       | 3 | TRUE |
</pre>


<h3>Value</h3>

<p>A dataframe containing the events.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>events &lt;- nfer::read(system.file("extdata", "ops.events", package = "nfer"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

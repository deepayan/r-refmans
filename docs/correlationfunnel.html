<!DOCTYPE html><html><head><title>Help for package correlationfunnel</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {correlationfunnel}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#binarize'><p>Turn data with numeric, categorical features into binary data.</p></a></li>
<li><a href='#correlate'><p>Correlate a response (target) to features in a data set.</p></a></li>
<li><a href='#correlationfunnel-package'><p>correlationfunnel: Speed Up Exploratory Data Analysis (EDA) with the Correlation Funnel</p></a></li>
<li><a href='#customer_churn_tbl'><p>Customer Churn Data Set for a Telecommunications Company</p></a></li>
<li><a href='#marketing_campaign_tbl'><p>Marketing Data for a Bank</p></a></li>
<li><a href='#plot_correlation_funnel'><p>Plot a Correlation Funnel</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Speed Up Exploratory Data Analysis (EDA) with the Correlation
Funnel</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>
    Speeds up exploratory data analysis (EDA)
    by providing a succinct workflow and interactive visualization tools for understanding
    which features have relationships to target (response). Uses binary correlation analysis
    to determine relationship. Default correlation method is the Pearson method. 
    Lian Duan, W Nick Street, Yanchi Liu, Songhua Xu, and Brook Wu (2014) &lt;<a href="https://doi.org/10.1145%2F2637484">doi:10.1145/2637484</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/business-science/correlationfunnel">https://github.com/business-science/correlationfunnel</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/business-science/correlationfunnel/issues">https://github.com/business-science/correlationfunnel/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, rlang, recipes, magrittr, plotly, tibble, dplyr (&ge;
1.0.0), tidyr (&ge; 1.0.0), stats, utils, ggrepel, stringr,
forcats, purrr, cli, crayon, rstudioapi</td>
</tr>
<tr>
<td>Suggests:</td>
<td>scales, knitr, rmarkdown, covr, lubridate, testthat (&ge;
2.1.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-06-09 00:33:40 UTC; mdancho</td>
</tr>
<tr>
<td>Author:</td>
<td>Matt Dancho [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Dancho &lt;mdancho@business-science.io&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-06-09 04:40:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic++25+3E+25">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='binarize'>Turn data with numeric, categorical features into binary data.</h2><span id='topic+binarize'></span>

<h3>Description</h3>

<p><code>binarize</code> returns the binary data coverted from data in normal (numeric and categorical) format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>binarize(
  data,
  n_bins = 4,
  thresh_infreq = 0.01,
  name_infreq = "-OTHER",
  one_hot = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="binarize_+3A_data">data</code></td>
<td>
<p>A <code>tibble</code> or <code>data.frame</code></p>
</td></tr>
<tr><td><code id="binarize_+3A_n_bins">n_bins</code></td>
<td>
<p>The number of bins to for converting continuous (numeric features) into discrete features (bins)</p>
</td></tr>
<tr><td><code id="binarize_+3A_thresh_infreq">thresh_infreq</code></td>
<td>
<p>The threshold for converting categorical (character or factor features) into an &quot;Other&quot; Category.</p>
</td></tr>
<tr><td><code id="binarize_+3A_name_infreq">name_infreq</code></td>
<td>
<p>The name for infrequently appearing categories to be lumped into. Set to &quot;-OTHER&quot; by default.</p>
</td></tr>
<tr><td><code id="binarize_+3A_one_hot">one_hot</code></td>
<td>
<p>If set to <code>TRUE</code>, binarization returns number of new columns = number of levels.
If <code>FALSE</code>, binarization returns number of new columns = number of levels - 1 (dummy encoding).</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>The Goal</h4>

<p>The binned format helps correlation analysis to identify non-linear trends between a predictor (binned values) and a
response (the target)
</p>



<h4>What Binarize Does</h4>

<p>The <code>binarize()</code> function takes data in a &quot;normal&quot; format and converts to a binary format that is useful as a preparation
step before using <code><a href="#topic+correlate">correlate()</a></code>:
</p>
<p><strong>Numeric Features</strong>:
The &quot;Normal Data&quot; format has numeric features that are continuous values in numeric format (<code>double</code> or <code>integer</code>).
The <code>binarize()</code> function converts these to bins (categories) and then discretizes the bins using a one-hot encoding process.
</p>
<p><strong>Categorical Features</strong>:
The &quot;Normal Data&quot; format has categorical features that are <code>character</code> or <code>factor</code> format.
The <code>binarize()</code> function converts these to binary features using a one-hot encoding process.
</p>



<h3>Value</h3>

<p>A <code>tbl</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(correlationfunnel)

marketing_campaign_tbl %&gt;%
    select(-ID) %&gt;%
    binarize()


</code></pre>

<hr>
<h2 id='correlate'>Correlate a response (target) to features in a data set.</h2><span id='topic+correlate'></span>

<h3>Description</h3>

<p><code>correlate</code> returns a correlation between a target column and the features in a data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>correlate(data, target, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="correlate_+3A_data">data</code></td>
<td>
<p>A <code>tibble</code> or <code>data.frame</code></p>
</td></tr>
<tr><td><code id="correlate_+3A_target">target</code></td>
<td>
<p>The feature that contains the response (Target) that you want to measure relationship.</p>
</td></tr>
<tr><td><code id="correlate_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <a href="stats.html#topic+cor">cor</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>correlate()</code> function provides a convient wrapper around the <a href="stats.html#topic+cor">cor</a> function where the <code>target</code>
is the column containing the Y variable. The function is intended to be used with <code><a href="#topic+binarize">binarize()</a></code>, which enables
creation of the binary correlation analysis, which is the feed data for the <code><a href="#topic+plot_correlation_funnel">plot_correlation_funnel()</a></code> visualization.
</p>
<p>The default method is the Pearson correlation, which is the Correlation Coefficient from L. Duan et al., 2014.
This represents the linear relationship between two dichotomous features (binary variables).
Learn more about the binary correlation approach in the Vignette covering the Methodology, Key Considerations and FAQs.
</p>


<h3>Value</h3>

<p>A <code>tbl</code>
</p>


<h3>References</h3>

<p>Lian Duan, W. Nick Street, Yanchi Liu, Songhua Xu, and Brook Wu. 2014. Selecting the right correlation
measure for binary data. ACM Trans. Knowl. Discov. Data 9, 2, Article 13 (September 2014), 28 pages.
DOI: http://dx.doi.org/10.1145/2637484
</p>


<h3>See Also</h3>

<p><code><a href="#topic+binarize">binarize()</a></code>, <code><a href="#topic+plot_correlation_funnel">plot_correlation_funnel()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(correlationfunnel)

marketing_campaign_tbl %&gt;%
    select(-ID) %&gt;%
    binarize() %&gt;%
    correlate(TERM_DEPOSIT__yes)


</code></pre>

<hr>
<h2 id='correlationfunnel-package'>correlationfunnel: Speed Up Exploratory Data Analysis (EDA) with the Correlation Funnel</h2><span id='topic+correlationfunnel'></span><span id='topic+correlationfunnel-package'></span>

<h3>Description</h3>

<p>Speeds up exploratory data analysis (EDA)
by providing a succinct workflow and interactive visualization tools for understanding
which features have relationships to target (response). Uses binary correlation analysis
to determine relationship. Default correlation method is the Pearson method. 
Lian Duan, W Nick Street, Yanchi Liu, Songhua Xu, and Brook Wu (2014) &lt;doi:10.1145/2637484&gt;.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Matt Dancho <a href="mailto:mdancho@business-science.io">mdancho@business-science.io</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/business-science/correlationfunnel">https://github.com/business-science/correlationfunnel</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/business-science/correlationfunnel/issues">https://github.com/business-science/correlationfunnel/issues</a>
</p>
</li></ul>


<hr>
<h2 id='customer_churn_tbl'>Customer Churn Data Set for a Telecommunications Company</h2><span id='topic+customer_churn_tbl'></span>

<h3>Description</h3>

<p>A dataset containing data related to telecom customers that have enrolled in various products and services
</p>


<h3>Usage</h3>

<pre><code class='language-R'>customer_churn_tbl
</code></pre>


<h3>Format</h3>

<p>An object of class <code>spec_tbl_df</code> (inherits from <code>tbl_df</code>, <code>tbl</code>, <code>data.frame</code>) with 7043 rows and 21 columns.
</p>


<h3>Telecom Customer Data:</h3>


<ul>
<li><p> customerID (chr): CUSTOMER ID
</p>
</li>
<li><p> gender (chr): Customer's gender (&quot;Female&quot;, &quot;Male&quot;)
</p>
</li>
<li><p> SeniorCitizen (dbl): 1 = Senior Citzen, 0 = Not Senior Citizen
</p>
</li>
<li><p> Partner (chr): Whether the customer has a partner or not (Yes, No)
</p>
</li>
<li><p> Dependents (chr): Whether the customer has dependents or not (Yes, No)
</p>
</li>
<li><p> tenure (dbl): Number of months the customer has stayed with the company
</p>
</li>
<li><p> PhoneService (chr): Whether the customer has a phone service or not (Yes, No)
</p>
</li>
<li><p> MultipleLines (chr): Whether the customer has multiple lines or not (Yes, No, No phone service)
</p>
</li>
<li><p> InternetService (chr): Customer’s internet service provider (DSL, Fiber optic, No)
</p>
</li>
<li><p> OnlineSecurity (chr): Whether the customer has online security or not (Yes, No, No internet service)
</p>
</li>
<li><p> OnlineBackup (chr): Whether the customer has online backup or not (Yes, No, No internet service)
</p>
</li>
<li><p> DeviceProtection (chr): Whether the customer has device protection or not (Yes, No, No internet service)
</p>
</li>
<li><p> TechSupport (chr): Whether the customer has tech support or not (Yes, No, No internet service)
</p>
</li>
<li><p> StreamingTV (chr): Whether the customer has streaming TV or not (Yes, No, No internet service)
</p>
</li>
<li><p> StreamingMovies (chr): Whether the customer has streaming movies or not (Yes, No, No internet service)
</p>
</li>
<li><p> Contract (chr): The contract term of the customer (Month-to-month, One year, Two year)
</p>
</li>
<li><p> PaperlessBilling (chr): Whether the customer has paperless billing or not (Yes, No)
</p>
</li>
<li><p> PaymentMethod (chr): The customer’s payment method (Electronic check, Mailed check, Bank transfer (automatic), Credit card (automatic))
</p>
</li>
<li><p> MonthlyCharges (dbl): The amount charged to the customer monthly
</p>
</li>
<li><p> TotalCharges (dbl): The total amount charged to the customer
</p>
</li>
<li><p> Churn (chr): Outcome. Whether the customer churned or not (Yes or No)
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://community.ibm.com/community/user/gettingstarted/home">IBM Sample Datasets</a>
</p>

<hr>
<h2 id='marketing_campaign_tbl'>Marketing Data for a Bank</h2><span id='topic+marketing_campaign_tbl'></span>

<h3>Description</h3>

<p>A dataset containing data related to bank clients, last contact of the current marketing campaign, and attributes related to a
previous marketing campaign.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marketing_campaign_tbl
</code></pre>


<h3>Format</h3>

<p>An object of class <code>tbl_df</code> (inherits from <code>tbl</code>, <code>data.frame</code>) with 45211 rows and 18 columns.
</p>


<h3>Bank Client Data:</h3>


<ul>
<li><p> ID (chr): CUSTOMER ID
</p>
</li>
<li><p> AGE (dbl): Customer's age
</p>
</li>
<li><p> JOB (chr): Type of job (categorical: &quot;admin.&quot;,&quot;unknown&quot;,&quot;unemployed&quot;,&quot;management&quot;,&quot;housemaid&quot;,&quot;entrepreneur&quot;,&quot;student&quot;, &quot;blue-collar&quot;,&quot;self-employed&quot;,&quot;retired&quot;,&quot;technician&quot;,&quot;services&quot;)
</p>
</li>
<li><p> MARITAL (chr): marital status (categorical: &quot;married&quot;,&quot;divorced&quot;,&quot;single&quot;; note: &quot;divorced&quot; means divorced or widowed)
</p>
</li>
<li><p> EDUCATION (chr): categorical: &quot;unknown&quot;,&quot;secondary&quot;,&quot;primary&quot;,&quot;tertiary&quot;
</p>
</li>
<li><p> DEFAULT (chr): Has credit in default? (binary: &quot;yes&quot;,&quot;no&quot;)
</p>
</li>
<li><p> BALANCE (dbl): Average yearly balance, in euros (numeric)
</p>
</li>
<li><p> HOUSING (chr): Has housing loan? (binary: &quot;yes&quot;,&quot;no&quot;)
</p>
</li>
<li><p> LOAN (chr): Has personal loan? (binary: &quot;yes&quot;,&quot;no&quot;)
</p>
</li></ul>



<h3>Features related to the last contact during the current marketing campaign:</h3>


<ul>
<li><p> CONTACT (chr): Contact communication type (categorical: &quot;unknown&quot;,&quot;telephone&quot;,&quot;cellular&quot;)
</p>
</li>
<li><p> DAY (dbl): Last contact day of the month (numeric)
</p>
</li>
<li><p> MONTH (chr): Last contact month of year (categorical: &quot;jan&quot;, &quot;feb&quot;, &quot;mar&quot;, ..., &quot;nov&quot;, &quot;dec&quot;)
</p>
</li>
<li><p> DURATION (dbl): Last contact duration, in seconds (numeric)
</p>
</li></ul>



<h3>Additional Attributes:</h3>


<ul>
<li><p> CAMPAIGN (dbl): Number of contacts performed during this campaign and for this client (numeric, includes last contact)
</p>
</li>
<li><p> PDAYS (dbl): Number of days that passed by after the client was last contacted from a previous campaign (numeric, -1 means client was not previously contacted)
</p>
</li>
<li><p> PREVIOUS (dbl): Number of contacts performed before this campaign and for this client (numeric)
</p>
</li>
<li><p> POUTCOME (chr): Outcome of the previous marketing campaign (categorical: &quot;unknown&quot;,&quot;other&quot;,&quot;failure&quot;,&quot;success&quot;)
</p>
</li></ul>



<h3>Target Variable (Response):</h3>


<ul>
<li><p> TERM_DEPOSIT (chr): Has the client subscribed a term deposit? (binary: &quot;yes&quot;,&quot;no&quot;)
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://archive.ics.uci.edu/ml/datasets/Bank+Marketing">Moro et al., 2014</a> S. Moro, P. Cortez and P. Rita. A Data-Driven Approach to Predict the Success of Bank Telemarketing. Decision Support Systems, Elsevier, 62:22-31, June 2014
</p>

<hr>
<h2 id='plot_correlation_funnel'>Plot a Correlation Funnel</h2><span id='topic+plot_correlation_funnel'></span>

<h3>Description</h3>

<p><code>plot_correlation_funnel</code> returns a correlation funnel visualization in either static (<code>ggplot2</code>) or
interactive (<code>plotly</code>) formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_correlation_funnel(
  data,
  interactive = FALSE,
  limits = c(-1, 1),
  alpha = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_correlation_funnel_+3A_data">data</code></td>
<td>
<p>A <code>tibble</code> or <code>data.frame</code></p>
</td></tr>
<tr><td><code id="plot_correlation_funnel_+3A_interactive">interactive</code></td>
<td>
<p>Returns either a static (<code>ggplot2</code>) visualization or an interactive (<code>plotly</code>) visualization</p>
</td></tr>
<tr><td><code id="plot_correlation_funnel_+3A_limits">limits</code></td>
<td>
<p>Sets the X-Axis limits for the correlation space</p>
</td></tr>
<tr><td><code id="plot_correlation_funnel_+3A_alpha">alpha</code></td>
<td>
<p>Sets the transparency of the points on the plot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A static <code>ggplot2</code> plot or an interactive <code>plotly</code> plot
</p>


<h3>See Also</h3>

<p><code><a href="#topic+binarize">binarize()</a></code>, <code><a href="#topic+correlate">correlate()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
library(correlationfunnel)

marketing_campaign_tbl %&gt;%
    select(-ID) %&gt;%
    binarize() %&gt;%
    correlate(TERM_DEPOSIT__yes) %&gt;%
    plot_correlation_funnel()


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

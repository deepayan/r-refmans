<!DOCTYPE html><html lang="en"><head><title>Help for package pkgload</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pkgload}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pkgload-package'><p>pkgload: Simulate Package Installation and Attach</p></a></li>
<li><a href='#check_dep_version'><p>Check that the version of an imported package satisfies the requirements</p></a></li>
<li><a href='#check_suggested'><p>Check that the version of an suggested package satisfies the requirements</p></a></li>
<li><a href='#dev_example'><p>Run a examples for an in-development function.</p></a></li>
<li><a href='#dev_help'><p>In-development help for package loaded with devtools</p></a></li>
<li><a href='#dev_meta'><p>Return devtools metadata environment</p></a></li>
<li><a href='#has_tests'><p>Was devtools installed with tests?</p></a></li>
<li><a href='#help'><p>Drop-in replacements for help and ? functions</p></a></li>
<li><a href='#imports_env'><p>Return imports environment for a package</p></a></li>
<li><a href='#inst'><p>Get the installation path of a package</p></a></li>
<li><a href='#is_dev_package'><p>Is the package currently under development?</p></a></li>
<li><a href='#load_all'><p>Load complete package</p></a></li>
<li><a href='#load_code'><p>Load R code.</p></a></li>
<li><a href='#load_data'><p>Load data.</p></a></li>
<li><a href='#load_dll'><p>Load a compiled DLL</p></a></li>
<li><a href='#load_imports'><p>Load all of the imports for a package</p></a></li>
<li><a href='#ns_env'><p>Return the namespace environment for a package.</p></a></li>
<li><a href='#package_file'><p>Find file in a package.</p></a></li>
<li><a href='#packages'><p>Helper functions for working with development packages.</p></a></li>
<li><a href='#parse_deps'><p>Parse package dependency strings.</p></a></li>
<li><a href='#parse_ns_file'><p>Parses the NAMESPACE file for a package</p></a></li>
<li><a href='#pkg_env'><p>Return package environment</p></a></li>
<li><a href='#pkgtest'><p>Return the path to one of the packages in the devtools test dir</p></a></li>
<li><a href='#run_pkg_hook'><p>Run user and package hooks.</p></a></li>
<li><a href='#system.file'><p>Replacement version of system.file</p></a></li>
<li><a href='#unload'><p>Unload a package</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Simulate Package Installation and Attach</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Simulates the process of installing a package and then
    attaching it. This is a key part of the 'devtools' package as it
    allows you to rapidly iterate while developing a package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-lib/pkgload">https://github.com/r-lib/pkgload</a>, <a href="https://pkgload.r-lib.org">https://pkgload.r-lib.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/pkgload/issues">https://github.com/r-lib/pkgload/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.3.0), desc, fs, glue, lifecycle, methods, pkgbuild,
processx, rlang (&ge; 1.1.1), rprojroot, utils, withr (&ge; 2.4.3)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bitops, jsonlite, mathjaxr, pak, Rcpp, remotes, rstudioapi,
testthat (&ge; 3.2.1.1), usethis</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate, ggplot2</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Config/testthat/start-first:</td>
<td>dll</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-28 10:36:56 UTC; lionel</td>
</tr>
<tr>
<td>Author:</td>
<td>Hadley Wickham [aut],
  Winston Chang [aut],
  Jim Hester [aut],
  Lionel Henry [aut, cre],
  Posit Software, PBC [cph, fnd],
  R Core team [ctb] (Some namespace and vignette code extracted from base
    R)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lionel Henry &lt;lionel@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-28 11:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pkgload-package'>pkgload: Simulate Package Installation and Attach</h2><span id='topic+pkgload'></span><span id='topic+pkgload-package'></span>

<h3>Description</h3>

<p>Simulates the process of installing a package and then attaching it. This is a key part of the 'devtools' package as it allows you to rapidly iterate while developing a package.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Lionel Henry <a href="mailto:lionel@posit.co">lionel@posit.co</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Hadley Wickham
</p>
</li>
<li><p> Winston Chang
</p>
</li>
<li><p> Jim Hester
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li>
<li><p> R Core team (Some namespace and vignette code extracted from base R) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/r-lib/pkgload">https://github.com/r-lib/pkgload</a>
</p>
</li>
<li> <p><a href="https://pkgload.r-lib.org">https://pkgload.r-lib.org</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/pkgload/issues">https://github.com/r-lib/pkgload/issues</a>
</p>
</li></ul>


<hr>
<h2 id='check_dep_version'>Check that the version of an imported package satisfies the requirements</h2><span id='topic+check_dep_version'></span>

<h3>Description</h3>

<p>Check that the version of an imported package satisfies the requirements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_dep_version(dep_name, dep_ver = "*")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_dep_version_+3A_dep_name">dep_name</code></td>
<td>
<p>The name of the package with objects to import</p>
</td></tr>
<tr><td><code id="check_dep_version_+3A_dep_ver">dep_ver</code></td>
<td>
<p>The version of the package, this includes the specified
comparison operator.</p>
</td></tr>
</table>

<hr>
<h2 id='check_suggested'>Check that the version of an suggested package satisfies the requirements</h2><span id='topic+check_suggested'></span>

<h3>Description</h3>

<p>Check that the version of an suggested package satisfies the requirements
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_suggested(package, version = NULL, compare = NA, path = inst("pkgload"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_suggested_+3A_package">package</code></td>
<td>
<p>The name of the suggested package</p>
</td></tr>
<tr><td><code id="check_suggested_+3A_version">version</code></td>
<td>
<p>The version of the package</p>
</td></tr>
<tr><td><code id="check_suggested_+3A_compare">compare</code></td>
<td>
<p>The comparison operator used to check the version</p>
</td></tr>
</table>

<hr>
<h2 id='dev_example'>Run a examples for an in-development function.</h2><span id='topic+dev_example'></span><span id='topic+run_example'></span>

<h3>Description</h3>

<p><code>dev_example</code> is a replacement for <code>example</code>. <code>run_example</code>
is a low-level function that takes a path to an Rd file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dev_example(topic, quiet = FALSE)

run_example(
  path,
  run_donttest = FALSE,
  run_dontrun = FALSE,
  env = new.env(parent = globalenv()),
  quiet = FALSE,
  macros = NULL,
  run,
  test
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dev_example_+3A_topic">topic</code></td>
<td>
<p>Name or topic (or name of Rd) file to run examples for</p>
</td></tr>
<tr><td><code id="dev_example_+3A_quiet">quiet</code></td>
<td>
<p>If <code>TRUE</code>, does not echo code to console.</p>
</td></tr>
<tr><td><code id="dev_example_+3A_path">path</code></td>
<td>
<p>Path to <code>.Rd</code> file</p>
</td></tr>
<tr><td><code id="dev_example_+3A_run_donttest">run_donttest</code></td>
<td>
<p>if <code>TRUE</code>, do run <code style="white-space: pre;">&#8288;\donttest&#8288;</code> sections in the Rd files.</p>
</td></tr>
<tr><td><code id="dev_example_+3A_run_dontrun">run_dontrun</code></td>
<td>
<p>if <code>TRUE</code>, do run <code style="white-space: pre;">&#8288;\dontrun&#8288;</code> sections in the Rd files.</p>
</td></tr>
<tr><td><code id="dev_example_+3A_env">env</code></td>
<td>
<p>Environment in which code will be run.</p>
</td></tr>
<tr><td><code id="dev_example_+3A_macros">macros</code></td>
<td>
<p>Custom macros to use to parse the <code>.Rd</code> file. See the
<code>macros</code> argument of <code><a href="tools.html#topic+parse_Rd">tools::parse_Rd()</a></code>. If <code>NULL</code>, then the
<code><a href="tools.html#topic+Rd2HTML">tools::Rd2ex()</a></code> (and <code><a href="tools.html#topic+parse_Rd">tools::parse_Rd()</a></code>) default is used.</p>
</td></tr>
<tr><td><code id="dev_example_+3A_run">run</code>, <code id="dev_example_+3A_test">test</code></td>
<td>
<p>Deprecated, see <code>run_dontrun</code> and <code>run_donttest</code> above.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Runs installed example:
library("ggplot2")
example("ggplot")

# Runs development example:
dev_example("ggplot")

## End(Not run)
</code></pre>

<hr>
<h2 id='dev_help'>In-development help for package loaded with devtools</h2><span id='topic+dev_help'></span><span id='topic+dev_topic_find'></span><span id='topic+dev_topic_index'></span><span id='topic+dev_topic_index_reset'></span>

<h3>Description</h3>

<p><code>dev_help()</code> searches for source documentation provided in packages
loaded by devtools. To improve performance, the <code>.Rd</code> files are
parsed to create to index once, then cached. Use
<code>dev_topic_index_reset()</code> to clear that index. You can manually
retrieve the index for a local package with <code>dev_topic_index()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dev_help(
  topic,
  dev_packages = NULL,
  stage = "render",
  type = getOption("help_type")
)

dev_topic_find(topic, dev_packages = NULL)

dev_topic_index(path = ".")

dev_topic_index_reset(pkg_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dev_help_+3A_topic">topic</code></td>
<td>
<p>name of help to search for.</p>
</td></tr>
<tr><td><code id="dev_help_+3A_dev_packages">dev_packages</code></td>
<td>
<p>A character vector of package names to search within.
If <code>NULL</code>, defaults to all packages loaded by devtools.</p>
</td></tr>
<tr><td><code id="dev_help_+3A_stage">stage</code></td>
<td>
<p>at which stage (&quot;build&quot;, &quot;install&quot;, or &quot;render&quot;) should
<code style="white-space: pre;">&#8288;\\Sexpr&#8288;</code> macros be executed? This is only important if you're using
<code style="white-space: pre;">&#8288;\\Sexpr&#8288;</code> macro's in your Rd files.</p>
</td></tr>
<tr><td><code id="dev_help_+3A_type">type</code></td>
<td>
<p>of html to produce: <code>"html"</code> or <code>"text"</code>. Defaults to
your default documentation type.</p>
</td></tr>
<tr><td><code id="dev_help_+3A_path">path</code></td>
<td>
<p>Path to package.</p>
</td></tr>
<tr><td><code id="dev_help_+3A_pkg_name">pkg_name</code></td>
<td>
<p>Name of package.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library("ggplot2")
help("ggplot") # loads installed documentation for ggplot

load_all("ggplot2")
dev_help("ggplot") # loads development documentation for ggplot

## End(Not run)
</code></pre>

<hr>
<h2 id='dev_meta'>Return devtools metadata environment</h2><span id='topic+dev_meta'></span>

<h3>Description</h3>

<p>If the package was not loaded with devtools, returns <code>NULL</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dev_meta(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dev_meta_+3A_name">name</code></td>
<td>
<p>The name of a loaded package</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>dev_meta("stats") # NULL

if (has_tests()) {
# Load the test package in directory "testLoadHooks"
load_all(pkgtest("testLoadHooks"))

# Get metadata for the package
x &lt;- dev_meta("testLoadHooks")
as.list(x)

# Clean up.
unload("testLoadHooks")
}
</code></pre>

<hr>
<h2 id='has_tests'>Was devtools installed with tests?</h2><span id='topic+has_tests'></span>

<h3>Description</h3>

<p>Was devtools installed with tests?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_tests()
</code></pre>

<hr>
<h2 id='help'>Drop-in replacements for help and ? functions</h2><span id='topic+help'></span><span id='topic+shim_help'></span><span id='topic++3F'></span><span id='topic+shim_question'></span>

<h3>Description</h3>

<p>The <code style="white-space: pre;">&#8288;?&#8288;</code> and <code>help</code> functions are replacements for functions of the
same name in the utils package. They are made available when a package is
loaded with <code><a href="#topic+load_all">load_all()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'># help(topic, package = NULL, ...)

# ?e2
# e1?e2
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="help_+3A_topic">topic</code></td>
<td>
<p>A name or character string specifying the help topic.</p>
</td></tr>
<tr><td><code id="help_+3A_package">package</code></td>
<td>
<p>A name or character string specifying the package in which
to search for the help topic. If NULL, search all packages.</p>
</td></tr>
<tr><td><code id="help_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code><a href="utils.html#topic+help">utils::help()</a></code>.</p>
</td></tr>
<tr><td><code id="help_+3A_e1">e1</code></td>
<td>
<p>First argument to pass along to <code style="white-space: pre;">&#8288;utils::&#8288;</code>?&ldquo;.</p>
</td></tr>
<tr><td><code id="help_+3A_e2">e2</code></td>
<td>
<p>Second argument to pass along to <code style="white-space: pre;">&#8288;utils::&#8288;</code>?&ldquo;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code style="white-space: pre;">&#8288;?&#8288;</code> function is a replacement for <code><a href="utils.html#topic+Question">utils::?()</a></code> from the
utils package. It will search for help in devtools-loaded packages first,
then in regular packages.
</p>
<p>The <code>help</code> function is a replacement for <code><a href="utils.html#topic+help">utils::help()</a></code> from
the utils package. If <code>package</code> is not specified, it will search for
help in devtools-loaded packages first, then in regular packages. If
<code>package</code> is specified, then it will search for help in devtools-loaded
packages or regular packages, as appropriate.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# This would load devtools and look at the help for load_all, if currently
# in the devtools source directory.
load_all()
?load_all
help("load_all")

## End(Not run)

# To see the help pages for utils::help and utils::`?`:
help("help", "utils")
help("?", "utils")

## Not run: 
# Examples demonstrating the multiple ways of supplying arguments
# NB: you can't do pkg &lt;- "ggplot2"; help("ggplot2", pkg)
help(lm)
help(lm, stats)
help(lm, 'stats')
help('lm')
help('lm', stats)
help('lm', 'stats')
help(package = stats)
help(package = 'stats')
topic &lt;- "lm"
help(topic)
help(topic, stats)
help(topic, 'stats')

## End(Not run)
</code></pre>

<hr>
<h2 id='imports_env'>Return imports environment for a package</h2><span id='topic+imports_env'></span>

<h3>Description</h3>

<p>Contains objects imported from other packages. Is the parent of the
package namespace environment, and is a child of <code style="white-space: pre;">&#8288;&lt;namespace:base&gt;&#8288;</code>,
which is a child of <code>R_GlobalEnv</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imports_env(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="imports_env_+3A_package">package</code></td>
<td>
<p>The package name as a string.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+ns_env">ns_env()</a></code> for the namespace environment that
all the objects (exported and not exported).
</p>
<p><code><a href="#topic+pkg_env">pkg_env()</a></code> for the attached environment that contains
the exported objects.
</p>

<hr>
<h2 id='inst'>Get the installation path of a package</h2><span id='topic+inst'></span>

<h3>Description</h3>

<p>Given the name of a package, this returns a path to the installed
copy of the package, which can be passed to other devtools functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inst(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="inst_+3A_name">name</code></td>
<td>
<p>the name of a package.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It searches for the package in <code><a href="base.html#topic+.libPaths">.libPaths()</a></code>. If multiple
dirs are found, it will return the first one.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>inst("pkgload")
inst("grid")
</code></pre>

<hr>
<h2 id='is_dev_package'>Is the package currently under development?</h2><span id='topic+is_dev_package'></span>

<h3>Description</h3>

<p>Returns <code>TRUE</code> or <code>FALSE</code> depending on if the package has been loaded by
<strong>pkgload</strong>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_dev_package(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_dev_package_+3A_name">name</code></td>
<td>
<p>the name of a package.</p>
</td></tr>
</table>

<hr>
<h2 id='load_all'>Load complete package</h2><span id='topic+load_all'></span><span id='topic+is_loading'></span>

<h3>Description</h3>

<p><code>load_all()</code> loads a package. It roughly simulates what happens
when a package is installed and loaded with <code><a href="base.html#topic+library">library()</a></code>, without
having to first install the package. It:
</p>

<ul>
<li><p> Loads all data files in <code style="white-space: pre;">&#8288;data/&#8288;</code>. See <code><a href="#topic+load_data">load_data()</a></code> for more
details.
</p>
</li>
<li><p> Sources all R files in the R directory, storing results in
environment that behaves like a regular package namespace. See
<code><a href="#topic+load_code">load_code()</a></code> for more details.
</p>
</li>
<li><p> Adds a shim from <code><a href="#topic+system.file">system.file()</a></code> to <code><a href="#topic+shim_system.file">shim_system.file()</a></code> in
the imports environment of the package. This ensures that <code>system.file()</code>
works with both development and installed packages despite their differing
directory structures.
</p>
</li>
<li><p> Adds shims from <code>help()</code> and <code style="white-space: pre;">&#8288;?&#8288;</code> to <code><a href="#topic+shim_help">shim_help()</a></code> and <code><a href="#topic+shim_question">shim_question()</a></code>
to make it easier to preview development documentation.
</p>
</li>
<li><p> Compiles any C, C++, or Fortran code in the <code style="white-space: pre;">&#8288;src/&#8288;</code> directory and
connects the generated DLL into R. See <code><a href="pkgbuild.html#topic+compile_dll">pkgbuild::compile_dll()</a></code>
for more details.
</p>
</li>
<li><p> Loads any compiled translations in <code>inst/po</code>.
</p>
</li>
<li><p> Runs <code>.onAttach()</code>, <code>.onLoad()</code> and <code>.onUnload()</code> functions at
the correct times.
</p>
</li>
<li><p> If you use <span class="pkg">testthat</span>, will load all test helpers so you can
access them interactively. devtools sets the <code>DEVTOOLS_LOAD</code>
environment variable to the package name to let you check whether the
helpers are run during package loading.
</p>
</li></ul>

<p><code>is_loading()</code> returns <code>TRUE</code> when it is called while <code>load_all()</code>
is running. This may be useful e.g. in <code>.onLoad</code> hooks.
A package loaded with <code>load_all()</code> can be identified with with
<code><a href="#topic+is_dev_package">is_dev_package()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_all(
  path = ".",
  reset = TRUE,
  compile = NA,
  attach = TRUE,
  export_all = TRUE,
  export_imports = export_all,
  helpers = export_all,
  attach_testthat = uses_testthat(path),
  quiet = NULL,
  recompile = FALSE,
  warn_conflicts = TRUE
)

is_loading(pkg = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_all_+3A_path">path</code></td>
<td>
<p>Path to a package, or within a package.</p>
</td></tr>
<tr><td><code id="load_all_+3A_reset">reset</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> This is no longer supported
because preserving the namespace requires unlocking its environment, which
is no longer possible in recent versions of R.</p>
</td></tr>
<tr><td><code id="load_all_+3A_compile">compile</code></td>
<td>
<p>If <code>TRUE</code> always recompiles the package; if <code>NA</code>
recompiles if needed (as determined by <code><a href="pkgbuild.html#topic+needs_compile">pkgbuild::needs_compile()</a></code>);
if <code>FALSE</code>, never recompiles.</p>
</td></tr>
<tr><td><code id="load_all_+3A_attach">attach</code></td>
<td>
<p>Whether to attach a package environment to the search
path. If <code>FALSE</code> <code>load_all()</code> behaves like <code>loadNamespace()</code>. If
<code>TRUE</code> (the default), it behaves like <code>library()</code>. If <code>FALSE</code>,
the <code>export_all</code>, <code>export_imports</code>, and <code>helpers</code> arguments have
no effect.</p>
</td></tr>
<tr><td><code id="load_all_+3A_export_all">export_all</code></td>
<td>
<p>If <code>TRUE</code> (the default), export all objects.
If <code>FALSE</code>, export only the objects that are listed as exports
in the NAMESPACE file.</p>
</td></tr>
<tr><td><code id="load_all_+3A_export_imports">export_imports</code></td>
<td>
<p>If <code>TRUE</code> (the default), export all objects that are
imported by the package. If <code>FALSE</code> export only objects defined in the
package.</p>
</td></tr>
<tr><td><code id="load_all_+3A_helpers">helpers</code></td>
<td>
<p>if <code>TRUE</code> loads <span class="pkg">testthat</span> test helpers.</p>
</td></tr>
<tr><td><code id="load_all_+3A_attach_testthat">attach_testthat</code></td>
<td>
<p>If <code>TRUE</code>, attach <span class="pkg">testthat</span> to the search path,
which more closely mimics the environment within test files.</p>
</td></tr>
<tr><td><code id="load_all_+3A_quiet">quiet</code></td>
<td>
<p>if <code>TRUE</code> suppresses output from this function.</p>
</td></tr>
<tr><td><code id="load_all_+3A_recompile">recompile</code></td>
<td>
<p>DEPRECATED. force a recompile of DLL from source code, if
present. This is equivalent to running <code><a href="pkgbuild.html#topic+clean_dll">pkgbuild::clean_dll()</a></code> before
<code>load_all()</code></p>
</td></tr>
<tr><td><code id="load_all_+3A_warn_conflicts">warn_conflicts</code></td>
<td>
<p>If <code>TRUE</code>, issues a warning if a function in the global
environment masks a function in the package. This can happen when you
accidentally source a <code>.R</code> file, rather than using <code>load_all()</code>, or if you
define a function directly in the R console. This is frustrating to debug,
as it feels like the changes you make to the package source aren't having
the expected effect.</p>
</td></tr>
<tr><td><code id="load_all_+3A_pkg">pkg</code></td>
<td>
<p>If supplied, <code>is_loading()</code> only returns <code>TRUE</code> if the
package being loaded is <code>pkg</code>.</p>
</td></tr>
</table>


<h3>Differences to regular loading</h3>

<p><code>load_all()</code> tries its best to reproduce the behaviour of
<code><a href="base.html#topic+loadNamespace">loadNamespace()</a></code> and <code><a href="base.html#topic+library">library()</a></code>. However it deviates from normal
package loading in several ways.
</p>

<ul>
<li> <p><code>load_all()</code> doesn't install the package to a library, so <code><a href="#topic+system.file">system.file()</a></code>
doesn't work. pkgload fixes this for the package itself installing a shim,
<code><a href="#topic+shim_system.file">shim_system.file()</a></code>. However, this shim is not visible to third party
packages, so they will fail if they attempt to find files within your
package. One potential workaround is to use <code><a href="fs.html#topic+path_package">fs::path_package()</a></code>
instead of <code>system.file()</code>, since that understands the mechanisms that
devtools uses to load packages.
</p>
</li>
<li> <p><code>load_all()</code> loads all packages referenced in <code>Imports</code> at load time,
but <code>loadNamespace()</code> and <code>library()</code> only load package dependencies as
they are needed.
</p>
</li>
<li> <p><code>load_all()</code> copies all objects (not just the ones listed as exports)
into the package environment. This is useful during development because
it makes internal objects easy to access.  To export only the objects
listed as exports, use <code>export_all = FALSE</code>. This more closely simulates
behavior when loading an installed package with <code><a href="base.html#topic+library">library()</a></code>, and can
be useful for checking for missing exports.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Load the package in the current directory
load_all("./")

# Running again loads changed files
load_all("./")

# With export_all=FALSE, only objects listed as exports in NAMESPACE
# are exported
load_all("./", export_all = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='load_code'>Load R code.</h2><span id='topic+load_code'></span>

<h3>Description</h3>

<p>Sources all <code>.R</code>/<code>.r</code> files in the <code style="white-space: pre;">&#8288;R/&#8288;</code> directory, storing results into
the package namespace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_code(path = ".", quiet = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_code_+3A_path">path</code></td>
<td>
<p>Path to a package, or within a package.</p>
</td></tr>
<tr><td><code id="load_code_+3A_quiet">quiet</code></td>
<td>
<p>if <code>TRUE</code> suppresses output from this function.</p>
</td></tr>
</table>

<hr>
<h2 id='load_data'>Load data.</h2><span id='topic+load_data'></span>

<h3>Description</h3>

<p>Loads all <code>.RData</code> files in the data subdirectory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_data(path = ".")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_data_+3A_path">path</code></td>
<td>
<p>Path to a package, or within a package.</p>
</td></tr>
</table>

<hr>
<h2 id='load_dll'>Load a compiled DLL</h2><span id='topic+load_dll'></span>

<h3>Description</h3>

<p>Load a compiled DLL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_dll(path = ".")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="load_dll_+3A_path">path</code></td>
<td>
<p>Path to a package, or within a package.</p>
</td></tr>
</table>

<hr>
<h2 id='load_imports'>Load all of the imports for a package</h2><span id='topic+load_imports'></span>

<h3>Description</h3>

<p>The imported objects are copied to the imports environment, and are not
visible from <code>R_GlobalEnv</code>. This will automatically load (but not attach)
the dependency packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_imports(path = ".")
</code></pre>

<hr>
<h2 id='ns_env'>Return the namespace environment for a package.</h2><span id='topic+ns_env'></span>

<h3>Description</h3>

<p>Contains all (exported and non-exported) objects, and is a descendant of
<code>R_GlobalEnv</code>. The hierarchy is <code style="white-space: pre;">&#8288;&lt;namespace:pkg&gt;&#8288;</code>,
<code style="white-space: pre;">&#8288;&lt;imports:pkg&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;namespace:base&gt;&#8288;</code>, and then
<code>R_GlobalEnv</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ns_env(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ns_env_+3A_package">package</code></td>
<td>
<p>package name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the package is not loaded, this function returns <code>NULL</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+pkg_env">pkg_env()</a></code> for the attached environment that
contains the exported objects.
</p>
<p><code><a href="#topic+imports_env">imports_env()</a></code> for the environment that contains
imported objects for the package.
</p>

<hr>
<h2 id='package_file'>Find file in a package.</h2><span id='topic+package_file'></span>

<h3>Description</h3>

<p>It always starts by finding by walking up the path until it finds the
root directory, i.e. a directory containing <code>DESCRIPTION</code>. If it
cannot find the root directory, or it can't find the specified path, it
will throw an error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>package_file(..., path = ".")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="package_file_+3A_...">...</code></td>
<td>
<p>Components of the path.</p>
</td></tr>
<tr><td><code id="package_file_+3A_path">path</code></td>
<td>
<p>Place to start search for package directory.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
package_file("figures", "figure_1")

## End(Not run)
</code></pre>

<hr>
<h2 id='packages'>Helper functions for working with development packages.</h2><span id='topic+packages'></span><span id='topic+pkg_path'></span><span id='topic+pkg_name'></span><span id='topic+pkg_desc'></span><span id='topic+pkg_version'></span><span id='topic+pkg_version_raw'></span><span id='topic+pkg_ns'></span>

<h3>Description</h3>

<p>All functions search recursively up the directory tree from the input path
until they find a DESCRIPTION file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_path(path = ".")

pkg_name(path = ".")

pkg_desc(path = ".")

pkg_version(path = ".")

pkg_version_raw(path = ".")

pkg_ns(path = ".")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="packages_+3A_path">path</code></td>
<td>
<p>Path to a package, or within a package.</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>pkg_path()</code>: Return the normalized package path.
</p>
</li>
<li> <p><code>pkg_name()</code>: Return the package name.
</p>
</li>
<li> <p><code>pkg_desc()</code>: Return the package DESCRIPTION as a <code><a href="desc.html#topic+desc">desc::desc()</a></code> object.
</p>
</li>
<li> <p><code>pkg_version()</code>: Return the parsed package version.
</p>
</li>
<li> <p><code>pkg_version_raw()</code>: Return the raw package version (as a string).
</p>
</li>
<li> <p><code>pkg_ns()</code>: Return the package namespace.
</p>
</li></ul>

<hr>
<h2 id='parse_deps'>Parse package dependency strings.</h2><span id='topic+parse_deps'></span>

<h3>Description</h3>

<p>Parse package dependency strings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_deps(string)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_deps_+3A_string">string</code></td>
<td>
<p>to parse. Should look like <code>"R (&gt;= 3.0), ggplot2"</code> etc.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of two character vectors: <code>name</code> package names,
and <code>version</code> package versions. If version is not specified,
it will be stored as NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>parse_deps("httr (&lt; 2.1),\nRCurl (&gt;= 3)")
# only package dependencies are returned
parse_deps("utils (== 2.12.1),\ntools,\nR (&gt;= 2.10),\nmemoise")
</code></pre>

<hr>
<h2 id='parse_ns_file'>Parses the NAMESPACE file for a package</h2><span id='topic+parse_ns_file'></span>

<h3>Description</h3>

<p>Parses the NAMESPACE file for a package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_ns_file(path = ".")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_ns_file_+3A_path">path</code></td>
<td>
<p>Path to a package, or within a package.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_tests()) {
parse_ns_file(pkgtest("testLoadHooks"))
}
</code></pre>

<hr>
<h2 id='pkg_env'>Return package environment</h2><span id='topic+pkg_env'></span>

<h3>Description</h3>

<p>This is an environment like <code style="white-space: pre;">&#8288;&lt;package:pkg&gt;&#8288;</code>. The package
environment contains the exported objects from a package. It is
attached, so it is an ancestor of <code>R_GlobalEnv</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_env(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkg_env_+3A_package">package</code></td>
<td>
<p>package name.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When a package is loaded the normal way, using <code><a href="base.html#topic+library">library()</a></code>,
this environment contains only the exported objects from the
namespace. However, when loaded with <code><a href="#topic+load_all">load_all()</a></code>, this
environment will contain all the objects from the namespace, unless
<code>load_all</code> is used with <code>export_all=FALSE</code>.
</p>
<p>If the package is not attached, this function returns <code>NULL</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ns_env">ns_env()</a></code> for the namespace environment that
all the objects (exported and not exported).
</p>
<p><code><a href="#topic+imports_env">imports_env()</a></code> for the environment that contains
imported objects for the package.
</p>

<hr>
<h2 id='pkgtest'>Return the path to one of the packages in the devtools test dir</h2><span id='topic+pkgtest'></span>

<h3>Description</h3>

<p>devtools comes with some simple packages for testing. This function
returns the path to them.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkgtest(package)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkgtest_+3A_package">package</code></td>
<td>
<p>Name of the test package.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (has_tests()) {
pkgtest("testData")
}
</code></pre>

<hr>
<h2 id='run_pkg_hook'>Run user and package hooks.</h2><span id='topic+run_pkg_hook'></span><span id='topic+run_user_hook'></span>

<h3>Description</h3>

<p>Run user and package hooks.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_pkg_hook(package, hook)

run_user_hook(package, hook)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_pkg_hook_+3A_package">package</code></td>
<td>
<p>package name.</p>
</td></tr>
<tr><td><code id="run_pkg_hook_+3A_hook">hook</code></td>
<td>
<p>hook name: one of &quot;load&quot;, &quot;unload&quot;, &quot;attach&quot;, or &quot;detach&quot;</p>
</td></tr>
</table>

<hr>
<h2 id='system.file'>Replacement version of system.file</h2><span id='topic+system.file'></span><span id='topic+shim_system.file'></span>

<h3>Description</h3>

<p>This function is meant to intercept calls to <code><a href="base.html#topic+system.file">base::system.file()</a></code>,
so that it behaves well with packages loaded by devtools. It is made
available when a package is loaded with <code><a href="#topic+load_all">load_all()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shim_system.file(..., package = "base", lib.loc = NULL, mustWork = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="system.file_+3A_...">...</code></td>
<td>
<p>character vectors, specifying subdirectory and file(s)
within some package.  The default, none, returns the
root of the package.  Wildcards are not supported.</p>
</td></tr>
<tr><td><code id="system.file_+3A_package">package</code></td>
<td>
<p>a character string with the name of a single package.
An error occurs if more than one package name is given.</p>
</td></tr>
<tr><td><code id="system.file_+3A_lib.loc">lib.loc</code></td>
<td>
<p>a character vector with path names of <span class="rlang"><b>R</b></span> libraries.
See &lsquo;Details&rsquo; for the meaning of the default value of <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="system.file_+3A_mustwork">mustWork</code></td>
<td>
<p>logical.  If <code>TRUE</code>, an error is given if there
are no matching files.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>system.file</code> is called from the R console (the global
environment), this function detects if the target package was loaded with
<code><a href="#topic+load_all">load_all()</a></code>, and if so, it uses a customized method of searching
for the file. This is necessary because the directory structure of a source
package is different from the directory structure of an installed package.
</p>
<p>When a package is loaded with <code>load_all</code>, this function is also inserted
into the package's imports environment, so that calls to <code>system.file</code>
from within the package namespace will use this modified version. If this
function were not inserted into the imports environment, then the package
would end up calling <code>base::system.file</code> instead.
</p>

<hr>
<h2 id='unload'>Unload a package</h2><span id='topic+unload'></span><span id='topic+unregister'></span>

<h3>Description</h3>

<p><code>unload()</code> attempts to cleanly unload a package, including unloading
its namespace, deleting S4 class definitions and unloading any loaded
DLLs. Unfortunately S4 classes are not really designed to be cleanly
unloaded, and so we have to manually modify the class dependency graph in
order for it to work - this works on the cases for which we have tested
but there may be others.  Similarly, automated DLL unloading is best tested
for simple scenarios (particularly with <code>useDynLib(pkgname)</code> and may
fail in other cases. If you do encounter a failure, please file a bug report
at <a href="https://github.com/r-lib/pkgload/issues">https://github.com/r-lib/pkgload/issues</a>.
</p>
<p><code>unregister()</code> is a gentler version of <code>unload()</code> which removes the
package from the search path, unregisters methods, and unregisters
the namespace. It doesn't unload the namespace or its DLL to keep
it in working order in case of dangling references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unload(package = pkg_name(), quiet = FALSE)

unregister(package = pkg_name())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unload_+3A_package">package</code></td>
<td>
<p>package name.</p>
</td></tr>
<tr><td><code id="unload_+3A_quiet">quiet</code></td>
<td>
<p>if <code>TRUE</code> suppresses output from this function.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Unload package that is in current directory
unload()

# Unload package that is in ./ggplot2/
unload(pkg_name("ggplot2/"))

library(ggplot2)
# unload the ggplot2 package directly by name
unload("ggplot2")

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package usmapdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {usmapdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#usmapdata'><p>usmapdata: Mapping Data for usmap Package</p></a></li>
<li><a href='#centroid_labels'><p>Retrieve centroid labels</p></a></li>
<li><a href='#create_us_map'><p>Internal map creation tools</p></a></li>
<li><a href='#fips_data'><p>Retrieve state and county FIPS codes</p></a></li>
<li><a href='#us_map'><p>Retrieve US map data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Mapping Data for 'usmap' Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a container for data used by the 'usmap' package.
    The data used by 'usmap' has been extracted into this package so that the
    file size of the 'usmap' package can be reduced greatly. The data in this
    package will be updated roughly once per year as new map data files are
    provided by the US Census Bureau.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://usmap.dev">https://usmap.dev</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/pdil/usmapdata/issues">https://github.com/pdil/usmapdata/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>rlang, sf</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, dplyr, spelling, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-17 16:21:35 UTC; Paolo</td>
</tr>
<tr>
<td>Author:</td>
<td>Paolo Di Lorenzo [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Paolo Di Lorenzo &lt;dilorenzo@hey.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-17 16:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='usmapdata'>usmapdata: Mapping Data for usmap Package</h2><span id='topic+usmapdata-package'></span><span id='topic+usmapdata'></span>

<h3>Description</h3>

<p>It is usually difficult or inconvenient to create US maps that
include both Alaska and Hawaii in a convenient spot. All map
data frames produced by this package use the US National Atlas Equal Area
projection.
</p>


<h3>Map data frames</h3>

<p>Alaska and Hawaii have been manually moved to a new location so that
their new coordinates place them to the bottom-left corner of
the map. These maps can be accessed by using the <code><a href="#topic+us_map">us_map</a></code> function.
</p>
<p>The function provides the ability to retrieve maps with either
state borders or county borders using the <code>regions</code> parameter
for convenience.
</p>
<p>States (or counties) can be included such that all other states (or counties)
are excluded using the <code>include</code> parameter.
</p>


<h3>Author(s)</h3>

<p>Paolo Di Lorenzo <br />
</p>

<ul>
<li><p> Email: <a href="mailto:dilorenzo@hey.com">dilorenzo@hey.com</a>
</p>
</li>
<li><p> GitHub: <a href="https://github.com/pdil/">https://github.com/pdil/</a>
</p>
</li></ul>



<h3>References</h3>


<p>Rudis B (2014). “Moving The Earth
(well, Alaska &amp; Hawaii) With R.”
<a href="https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/">https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/</a>.

</p>


<h3>See Also</h3>

<p>Helpful links:
</p>

<ul>
<li><p> US Census Shapefiles <br />
<a href="https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html">https://www.census.gov/geographies/mapping-files/time-series/geo/tiger-line-file.html</a>
</p>
</li>
<li><p> Map Features <br />
<a href="https://en.wikipedia.org/wiki/Map_projection">https://en.wikipedia.org/wiki/Map_projection</a>
<a href="https://en.wikipedia.org/wiki/Equal-area_projection">https://en.wikipedia.org/wiki/Equal-area_projection</a>
<a href="https://epsg.io/9311">https://epsg.io/9311</a>
</p>
</li></ul>


<hr>
<h2 id='centroid_labels'>Retrieve centroid labels</h2><span id='topic+centroid_labels'></span>

<h3>Description</h3>

<p>Retrieve centroid labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>centroid_labels(regions = c("states", "counties"), as_sf = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="centroid_labels_+3A_regions">regions</code></td>
<td>
<p>The region breakdown for the map, can be one of
(<code>"states"</code>, <code>"counties"</code>, as specified by the internal file names.
The default is <code>"states"</code>.</p>
</td></tr>
<tr><td><code id="centroid_labels_+3A_as_sf">as_sf</code></td>
<td>
<p>Defunct, this parameter no longer has any effect and will be removed in
the future.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> data frame of state or county centroid labels and positions
relative to the coordinates returned by the <code>us_map</code> function.
</p>

<hr>
<h2 id='create_us_map'>Internal map creation tools</h2><span id='topic+create_us_map'></span><span id='topic+ea_crs'></span><span id='topic+transform2D'></span><span id='topic+transform_alaska'></span><span id='topic+transform_hawaii'></span><span id='topic+compute_centroids'></span><span id='topic+alaska_bbox'></span><span id='topic+hawaii_bbox'></span>

<h3>Description</h3>

<p><code>create_us_map()</code> creates the modified shapefiles used by the
<a href="usmap.html#topic+usmap">usmap</a> package.
</p>
<p><code>ea_crs()</code> returns the US National Atlas Equal Area coordinate reference system
(CRS) used by this package and <code>usmap</code>.
</p>
<p><code>transform2D()</code> computes a two dimensional affine transformation matrix
for the provided rotation angle and scale factor.
</p>
<p><code>transform_alaska()</code> applies the appropriate transform for the Alaska polygons.
</p>
<p><code>transform_hawaii()</code> applies the appropriate transform for the Hawaii polygons.
</p>
<p><code>compute_centroids()</code> computes the modified centroids for each state or
county polygon using a center-of-mass technique on the largest polygon in
the region.
</p>
<p><code>alaska_bbox()</code> returns the bounding box of Alaska pre-transformation.
</p>
<p><code>hawaii_bbox()</code> returns the bounding box of Hawaii pre-transformation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_us_map(type = c("states", "counties"), input_file, output_file)

ea_crs()

transform2D(angle = 0, scale = 1)

transform_alaska(alaska)

transform_hawaii(hawaii)

compute_centroids(polygons, iterations = 3, initial_width_step = 10)

alaska_bbox()

hawaii_bbox()
</code></pre>


<h3>Note</h3>

<p>Using these functions externally is not recommended since they make certain
undocumented assumptions that may not work with all inputs.
</p>
<p>It is strongly recommend that the <a href="usmap.html#topic+usmap">usmap</a> package is used
directly.
</p>
<p>In some cases where the raw data is required, the <a href="#topic+us_map">us_map</a> and
<a href="#topic+centroid_labels">centroid_labels</a> functions located in this package can be used instead.
</p>


<h3>References</h3>


<p>Gert (2017). “How to calculate
polygon centroids in R (for
non-contiguous shapes).”
<a href="https://gis.stackexchange.com/a/265475">https://gis.stackexchange.com/a/265475</a>.
</p>
<p>Rudis B (2014). “Moving The Earth
(well, Alaska &amp; Hawaii) With R.”
<a href="https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/">https://rud.is/b/2014/11/16/moving-the-earth-well-alaska-hawaii-with-r/</a>.

</p>

<hr>
<h2 id='fips_data'>Retrieve state and county FIPS codes</h2><span id='topic+fips_data'></span>

<h3>Description</h3>

<p>Retrieve state and county FIPS codes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fips_data(regions = c("states", "state", "counties", "county"), as_sf = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fips_data_+3A_regions">regions</code></td>
<td>
<p>The region breakdown for the map, can be one of
(<code>"states"</code>, <code>"state"</code>, <code>"counties"</code>, <code>"county"</code>).
The default is <code>"states"</code>.</p>
</td></tr>
<tr><td><code id="fips_data_+3A_as_sf">as_sf</code></td>
<td>
<p>Defunct, this parameter no longer has any effect and will be removed in
the future.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An data frame of FIPS codes of the desired <code>regions</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str(fips_data())

state_fips &lt;- fips_data()
county_fips &lt;- fips_data(regions = "counties")

</code></pre>

<hr>
<h2 id='us_map'>Retrieve US map data</h2><span id='topic+us_map'></span>

<h3>Description</h3>

<p>Retrieve US map data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>us_map(
  regions = c("states", "state", "counties", "county"),
  include = c(),
  exclude = c(),
  as_sf = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="us_map_+3A_regions">regions</code></td>
<td>
<p>The region breakdown for the map, can be one of
(<code>"states"</code>, <code>"state"</code>, <code>"counties"</code>, <code>"county"</code>).
The default is <code>"states"</code>.</p>
</td></tr>
<tr><td><code id="us_map_+3A_include">include</code></td>
<td>
<p>The regions to include in the resulting map. If <code>regions</code> is
<code>"states"</code>/<code>"state"</code>, the value can be either a state name, abbreviation or FIPS code.
For counties, the FIPS must be provided as there can be multiple counties with the
same name. If states are provided in the county map, only counties in the included states
will be returned.</p>
</td></tr>
<tr><td><code id="us_map_+3A_exclude">exclude</code></td>
<td>
<p>The regions to exclude in the resulting map. If <code>regions</code> is
<code>"states"</code>/<code>"state"</code>, the value can be either a state name, abbreviation or FIPS code.
For counties, the FIPS must be provided as there can be multiple counties with the
same name. The regions listed in the <code>include</code> parameter are applied first and the
<code>exclude</code> regions are then removed from the resulting map. Any excluded regions
not present in the included regions will be ignored.</p>
</td></tr>
<tr><td><code id="us_map_+3A_as_sf">as_sf</code></td>
<td>
<p>Defunct, this parameter no longer has any effect and will be removed in
the future.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>sf</code> data frame of US map coordinates divided by the desired <code>regions</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>str(us_map())

df &lt;- us_map(regions = "counties")
west_coast &lt;- us_map(include = c("CA", "OR", "WA"))

excl_west_coast &lt;- us_map(exclude = c("CA", "OR", "WA"))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

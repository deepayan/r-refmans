<!DOCTYPE html><html lang="en"><head><title>Help for package networkR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {networkR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#networkR'><p>Collection of miscellaneous useful and semi-useful functions</p></a></li>
<li><a href='#adjacency'><p>Create adjacency matrix</p></a></li>
<li><a href='#hits'><p>Hyperlink-induced topic search</p></a></li>
<li><a href='#make_family_id'><p>Construct family id vector from pedigree trio information</p></a></li>
<li><a href='#mksib'><p>Generate variables (or lists) of siblings from a file of ids of persons and</p>
their father and mother.</a></li>
<li><a href='#validate_trio_consistency'><p>Validate pedigree trio information consistency</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Network Analysis and Visualization</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-09-20</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Claus Thorn Ekstrøm &lt;ekstrom@sund.ku.dk&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Collection of functions for fast manipulation, handling, and analysis of large-scale
    networks based on family and social data. Functions are utility functions used to manipulate data
    in three "formats": sparse adjacency matrices, pedigree trio family data, and pedigree family data.
    When possible, the functions should be able to handle millions of data points quickly for use in combination
    with data from large public national registers and databases.
    Kenneth Lange (2003, ISBN:978-8181281135).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.12), data.table, fastmatch, Matrix</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++11</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-09-20 09:17:31 UTC; cld189</td>
</tr>
<tr>
<td>Author:</td>
<td>Claus Thorn Ekstrøm [aut, cre],
  Bendix Carstensen [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-09-20 09:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='networkR'>Collection of miscellaneous useful and semi-useful functions</h2><span id='topic+networkR'></span><span id='topic+networkR-package'></span>

<h3>Description</h3>

<p>Collection of miscellaneous useful and semi-useful functions and add-on
functions that enhances a number of existing packages and provides In
particular in relation to statistical genetics
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;"> Package: </td><td style="text-align: left;"> networkR</td>
</tr>
<tr>
 <td style="text-align: left;"> Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;"> Version: </td><td style="text-align: left;">
1.0</td>
</tr>
<tr>
 <td style="text-align: left;"> Date: </td><td style="text-align: left;"> 2012-03-29</td>
</tr>
<tr>
 <td style="text-align: left;"> License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;"> </td>
</tr>

</table>
 
<p>how to use the package, including the most important ~~ 
</p>


<h3>Author(s)</h3>

<p>Claus Thorn Ekstrøm <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a><br /> Maintainer: Claus Thorn Ekstrøm
<a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>
</p>


<h3>References</h3>

<p>Ekstrøm, C. (2017). The R Primer. 2nd edition, Chapman &amp; Hall.
</p>

<hr>
<h2 id='adjacency'>Create adjacency matrix</h2><span id='topic+adjacency'></span>

<h3>Description</h3>

<p>Create an adjacency matrix from a set of nodes and edges.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjacency(from, to, weight = 1, directed = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="adjacency_+3A_from">from</code></td>
<td>
<p>a vector of nodes where the edges originate</p>
</td></tr>
<tr><td><code id="adjacency_+3A_to">to</code></td>
<td>
<p>a vector of nodes where the edges point to</p>
</td></tr>
<tr><td><code id="adjacency_+3A_weight">weight</code></td>
<td>
<p>a numeric vector of weights</p>
</td></tr>
<tr><td><code id="adjacency_+3A_directed">directed</code></td>
<td>
<p>logical. Are the edges directed (TRUE, the default) or bidirected(FALSE).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a sparse adjacency matrix
</p>


<h3>Author(s)</h3>

<p>Claus Ekstrom <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
from &lt;- c("A", "A", "A", "B", "C")
to &lt;- c("B", "C", "D", "D", "E")
adjacency(from, to)

from &lt;- c("A", "A", "A", "B", "C")
to &lt;- c("B", "C", "D", "D", "E")
weights &lt;- c(1, .5, 1, .7, 1)
adjacency(from, to, weights)

</code></pre>

<hr>
<h2 id='hits'>Hyperlink-induced topic search</h2><span id='topic+hits'></span>

<h3>Description</h3>

<p>Hyperlink-induced topic search (HITS) is a link analysis algorithm
that is also known as hubs and authorities. It rates nodes by
comparing arrows pointing in and out of nodes in an asymmetrical graph.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hits(adjmatrix, maxiter = 100L, tol = 1e-05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hits_+3A_adjmatrix">adjmatrix</code></td>
<td>
<p>an adjacency matrix</p>
</td></tr>
<tr><td><code id="hits_+3A_maxiter">maxiter</code></td>
<td>
<p>non-negative integer</p>
</td></tr>
<tr><td><code id="hits_+3A_tol">tol</code></td>
<td>
<p>positive numeric value to be used as tolerance threshold for convergence</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Hubs are nodes with a lot of arrows pointing out while authorities are node with a lot of arrows pointing in.
</p>


<h3>Value</h3>

<p>Returns a list with three elements: authorities (a vector) of  and hubs (a vector), and number of iterations used.
</p>


<h3>Author(s)</h3>

<p>Claus Ekstrom <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>
</p>


<h3>References</h3>

<p>Kleinberg, Jon (1999). &quot;Authoritative sources in a hyperlinked environment&quot; (PDF). Journal of the ACM. 46 (5): 604–632. doi:10.1145/324133.324140
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
from &lt;- c("A", "A", "A", "B", "C")
to &lt;- c("B", "C", "D", "D", "E")
hits(adjacency(from, to))

</code></pre>

<hr>
<h2 id='make_family_id'>Construct family id vector from pedigree trio information</h2><span id='topic+make_family_id'></span>

<h3>Description</h3>

<p>Create a vector of length n, giving the family id of
each subject.  If the pedigree is totally connected, then everyone
will end up in tree 1, otherwise the tree numbers represent the
disconnected subfamilies.  Singleton subjects each have unique
family numbers.
</p>
<p>No check is done to ensure that the id, fid, and mid actually refer to proper family structure.
References to ids in the fid and mid arguments that are not part of the id vector are considered founders.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_family_id(id, fid, mid)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_family_id_+3A_id">id</code></td>
<td>
<p>Numeric vector of ids</p>
</td></tr>
<tr><td><code id="make_family_id_+3A_fid">fid</code></td>
<td>
<p>Numeric vector of ids of the father. This should be NA or 0 for a founder.</p>
</td></tr>
<tr><td><code id="make_family_id_+3A_mid">mid</code></td>
<td>
<p>Numeric vector of ids of the mother. This should be NA or 0 for a founder.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an integer vector giving the family index
</p>


<h3>Author(s)</h3>

<p>Claus Ekstrom <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
id &lt;- 1:11
fid &lt;- c(NA, NA, 1, 1, NA, 23, 45, 5, 5, 7, NA)
mid &lt;- c(NA, NA, 2, 2, 65, NA, 46, 6, 6, 6, 0)
make_family_id(id, fid, mid)

</code></pre>

<hr>
<h2 id='mksib'>Generate variables (or lists) of siblings from a file of ids of persons and
their father and mother.</h2><span id='topic+mksib'></span>

<h3>Description</h3>

<p>The function generates for each person lists of maternal half-sibs, paternal
half-sibs and full sibs. Optionally these are expanded to separate columns
in a data.table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mksib(obj, ns = 3, expand.vars = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mksib_+3A_obj">obj</code></td>
<td>
<p>A 3-column structure with column names <code>id</code>, <code>pid</code>
(paternal id) and <code>mid</code> (maternal id).</p>
</td></tr>
<tr><td><code id="mksib_+3A_ns">ns</code></td>
<td>
<p>Integer. The maximal no of sibs of each type to include in the
result if sibling ids are required in separate columns.</p>
</td></tr>
<tr><td><code id="mksib_+3A_expand.vars">expand.vars</code></td>
<td>
<p>Logical. Should the sibling ids be returned in separate
columns. If <code>FALSE</code> they will be returned i three columns of lists.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are no checks of persons being both mother and father, nor being its
own parent and incest checks are not performed. In other words, the
<code>obj</code> is assumed to be sane, but possibly immoral.
</p>


<h3>Value</h3>

<p>A <code>data.table</code> with the columns of the <code>obj</code> and columns
for <code>ns</code> maternal, paternal and full sibs, named <code>ms1</code>,
<code>ms2</code>, ... <code>ps1</code>, <code>ps2</code>, ... <code>fs1</code>,
<code>fs2</code>.
</p>
<p>If <code>expand.vars=FALSE</code> there will instead be three columns of lists
named <code>msibs</code>, <code>psibs</code> and <code>fsibs</code>.
</p>


<h3>Author(s)</h3>

<p>Claus Thorn Ekstrøm, <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>, Bendix Carstensen,
<a href="mailto:b@bxc.dk">b@bxc.dk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library( data.table )
id &lt;- 1:12
pid &lt;- c(NA,  1, 1, 1, NA, 23, 45, 5, 5, 7, 12, NA)
mid &lt;- c(NA, NA, 2, 2, 12, NA, 46, 6, 6, 6, NA, 12)
indd &lt;- data.table( id, mid, pid )
indata &lt;- copy( indd )
indata

str( xx &lt;- mksib( indata ) )
xx

zz &lt;- mksib( indata, 2, e=FALSE )
zz

</code></pre>

<hr>
<h2 id='validate_trio_consistency'>Validate pedigree trio information consistency</h2><span id='topic+validate_trio_consistency'></span>

<h3>Description</h3>

<p>Simple tests to chech the consistency of the pedigree trio family data. 
Currently the following checks are undertaken:
1) that no duplicates ids are found;
2) that the primary id is not missing for anyone;
3) that founders have both the father and mother id missing;
4) that individuals are not both classified as male (fathers and mothers);
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_trio_consistency(id, fid, mid, sex = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_trio_consistency_+3A_id">id</code></td>
<td>
<p>Numeric. The id of the individual. These values should be unique</p>
</td></tr>
<tr><td><code id="validate_trio_consistency_+3A_fid">fid</code></td>
<td>
<p>Numeric. The father id. NA or 0 are used for missing.</p>
</td></tr>
<tr><td><code id="validate_trio_consistency_+3A_mid">mid</code></td>
<td>
<p>Numeric. The mother id. NA or 0 are used for missing.</p>
</td></tr>
<tr><td><code id="validate_trio_consistency_+3A_sex">sex</code></td>
<td>
<p>An optional numeric vector with the sex of the individual. Only four values should be present 1 (male), 2 (female), 0 or NA (missing)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are no checks of persons being both mother and father, nor being its
own parent and incest checks are not performed. In other words, the
<code>obj</code> is assumed to be sane, but possibly immoral.
</p>


<h3>Value</h3>

<p>Throws an error if an inconsistency is found. Otherwise returns TRUE.
</p>


<h3>Author(s)</h3>

<p>Claus Thorn Ekstrøm, <a href="mailto:ekstrom@sund.ku.dk">ekstrom@sund.ku.dk</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library("data.table")
id &lt;- 1:12
fid &lt;- c(NA,  0, 1, 1, NA, 23, 45, 5, 5, 7, 10, 10)
mid &lt;- c(NA, NA, 2, 2,  0, 56, 46, 6, 6, 6, 9, 11)

validate_trio_consistency(id, fid, mid)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package glm.deploy</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {glm.deploy}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#glm.deploy'><p>'C' and 'Java' Source Code Generator for Fitted Glm Objects</p></a></li>
<li><a href='#glm2c'><p>C source code generator for rapid deployment of glm predictive models</p></a></li>
<li><a href='#glm2java'><p>Java source code generator for rapid deployment of glm predictive models</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'C' and 'Java' Source Code Generator for Fitted Glm Objects</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.4</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-03-06</td>
</tr>
<tr>
<td>Author:</td>
<td>Oscar Castro-Lopez [cre, aut],
  Ines Vega-Lopez [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Oscar Castro-Lopez &lt;castroloj@gmail.com&gt;</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a> | file LICENSE</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides two functions that generate source code implementing the predict 
  function of fitted glm objects. In this version, code can be generated for either 'C' 
  or 'Java'. The idea is to provide a tool for the easy and fast deployment of glm 
  predictive models into production. The source code generated by this package implements 
  two function/methods. One of such functions implements the equivalent to 
  predict(type="response"), while the second implements predict(type="link"). Source code 
  is written to disk as a .c or .java file in the specified path. In the case of c, an .h 
  file is also generated.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/oscarcastrolopez/glm.deploy">https://github.com/oscarcastrolopez/glm.deploy</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/oscarcastrolopez/glm.deploy/issues">https://github.com/oscarcastrolopez/glm.deploy/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 0.12.12), stats</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-03-06 23:19:25 UTC; oscar</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-03-09 09:59:35 UTC</td>
</tr>
</table>
<hr>
<h2 id='glm.deploy'>'C' and 'Java' Source Code Generator for Fitted Glm Objects</h2><span id='topic+glm.deploy'></span><span id='topic+glm.deploy-package'></span>

<h3>Description</h3>

<p>Provides two functions that generate source code implementing the predict function of fitted glm objects. In this version, code can be generated for either 'C' or 'Java'. The idea is to provide a tool for the easy and fast deployment of glm predictive models into production. The source code generated by this package implements two function/methods. One of such functions implements the equivalent to predict(type=&quot;response&quot;), while the second implements predict(type=&quot;link&quot;). Source code is written to disk as a .c or .java file in the specified path. In the case of c, an .h file is also generated.
</p>


<h3>Details</h3>

<p>All numeric variables used as input to the glm object are treated as doubles, whereas factors variables are treated as strings.<br /> <br />
The <code>glm.deploy</code> package is compatible with the following link functions in the fitted glm object:
</p>

<ul>
<li><p> identity
</p>
</li>
<li><p> probit
</p>
</li>
<li><p> cloglog
</p>
</li>
<li><p> log
</p>
</li>
<li><p> sqrt
</p>
</li>
<li><p> inverse
</p>
</li>
<li><p> 1/muÂ²
</p>
</li>
<li><p> logit
</p>
</li></ul>



<h3>Author(s)</h3>


<ul>
<li><p> Oscar Castro-Lopez <a href="mailto:castroloj@gmail.com">castroloj@gmail.com</a>
</p>
</li>
<li><p> Ines Vega-Lopez <a href="mailto:ifvega@uas.edu.mx">ifvega@uas.edu.mx</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Functions:
</p>

<ul>
<li> <p><code><a href="#topic+glm2c">glm2c</a></code>
</p>
</li>
<li> <p><code><a href="#topic+glm2java">glm2java</a></code>
</p>
</li></ul>

<p>URL: <a href="https://github.com/oscarcastrolopez/glm.deploy">https://github.com/oscarcastrolopez/glm.deploy</a>
</p>

<hr>
<h2 id='glm2c'>C source code generator for rapid deployment of glm predictive models</h2><span id='topic+glm2c'></span>

<h3>Description</h3>

<p>The <code>glm2c()</code> function is used to generate source code in C language
implementing a given glm predictive model. It implements the following two functions;
the glm_xxx_response() and glm_xxx_link(), where xxx stands for the name of the target variable
of the glm object.<br /> <br />
After the invocation of the <code>glm2c()</code> function two files are generated:<br />
</p>

<ul>
<li><p> A .c file with the two scoring functions.<br />
</p>
</li>
<li><p> An .h file with the prototypes of the two functions of the .c file.<br />
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>glm2c(model, filename = NULL, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glm2c_+3A_model">model</code></td>
<td>
<p>A fitted object of class &quot;glm&quot;.</p>
</td></tr>
<tr><td><code id="glm2c_+3A_filename">filename</code></td>
<td>
<p>OPTIONAL The name of the output file(s), the default filenames are &quot;glm_xxx.c&quot; and &quot;glm_xxx.h&quot;, where xxx is the target variable's name.</p>
</td></tr>
<tr><td><code id="glm2c_+3A_path">path</code></td>
<td>
<p>The directory path where files are going to be saved.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>All numeric variables used as input to the glm object are treated as doubles, whereas factor variables are treated as strings.
</p>


<h3>Author(s)</h3>

<p>Oscar Castro-Lopez, Ines Vega-Lopez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glm2java">glm2java</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 # Example with the iris dataset with a Logical target and numeric variables,
 # using the binomial family and the logit link function
 data(iris)
 iristest = iris
 iristest$Virginica = ifelse(iristest$Species == 'virginica', TRUE,FALSE)
 iristest$Species = NULL

 # Load Package
 library(glm.deploy)
 # For repeatable results
 set.seed(123)
 # Generate the fitted glm object
 m = glm(Virginica ~ ., family = binomial(logit), data=iristest)
 # Call the glm2c() function with default filename
 glm2c(m,,tempdir())

 # Call the glm2c() function with custom filename
 glm2c(m,'my_glm_virginica', tempdir())

 # The glm2c() function generates the files: "glm_virginica.c" and
 # "glm_virginica.h"

## Not run: 
---------------Contents of the "glm_virgninica.c" file---------------

#include &lt;stdlib.h&gt;
#include &lt;stdio.h&gt;
#include &lt;string.h&gt;
#include &lt;math.h&gt;

double glm_virginica_link(double sepal_length,
                          double sepal_width,
                          double petal_length,
                          double petal_width){
  double new_sepal_length = -2.46522019518341 * sepal_length;
  double new_sepal_width = -6.68088701405762 * sepal_width;
  double new_petal_length = 9.4293851538836 * petal_length;
  double new_petal_width = 18.2861368877881 * petal_width;

  return -42.6378038127854+new_sepal_length+
                           new_sepal_width+
                           new_petal_length+
                           new_petal_width;
}
double glm_virginica_response(double sepal_length,
                              double sepal_width,
                              double petal_length,
                              double petal_width){
  return 1/(1+exp(-glm_virginica_link(sepal_length,
                                      sepal_width,
                                      petal_length,
                                      petal_width)));
}
----End of Contents of the "glm_virgninica.c" file------------------
--------------------------------------------------------------------

-----Contents of the "glm_virgninica.h" file------------------------
double glm_virginica_link(double sepal_length,
                          double sepal_width,
                          double petal_length,
                          double petal_width);
double glm_virginica_response(double sepal_length,
                              double sepal_width,
                              double petal_length,
                              double petal_width);
-----End of Contents of the "glm_virgninica.h" file-----------------
--------------------------------------------------------------------

Usage of the functions in another programs;
1) We need to add an include line #include "virginica_glm.h" to all
source files that use library definitions.
2) Link the .c file with the library object file.
    gcc -c glm_virginica.c
3) The following is an example file "test.c" to call the functions
and print the result:

-------------------"test.c"---------------
#include &lt;stdio.h&gt;
#include "glm_virgnica.h" //Added to call the scoring functions.

int main(int argc, char *argv[]){
  printf("%f\n",glm_virginica_link(5.7,2.5,5.0,2.0));
  printf("%f\n",glm_virginica_response(5.7,2.5,5.0,2.0));
  return 0;
}
---------------End of "test.c"---------------
---------------------------------------------

4) Compile the "test.c" file and link it to the glm_virginica shared
library, we also need to add the "-lm" option to link it to the
math.h library:
gcc test.c -o test glm_virginica.o -lm

5) Finally Run the test.o program in linux:
./test

## End(Not run)
</code></pre>

<hr>
<h2 id='glm2java'>Java source code generator for rapid deployment of glm predictive models</h2><span id='topic+glm2java'></span>

<h3>Description</h3>

<p>The <code>glm2java()</code> function is used to generate source code in Java language
implementing a given glm predictive model. It implements the following two methods;
the glm_xxx_response() and glm_xxx_link(), where xxx stands for the name of the target variable
of the glm object.<br /> <br />
After invocation of the <code>glm2java()</code>, a .java file is generated containing the two predict methods which are declared as public static inside a java class called &quot;glm_xxx_class&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>glm2java(model, filename = NULL, path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="glm2java_+3A_model">model</code></td>
<td>
<p>A fitted object of class &quot;glm&quot;.</p>
</td></tr>
<tr><td><code id="glm2java_+3A_filename">filename</code></td>
<td>
<p>OPTIONAL The name of the output file, the default file name is  &quot;glm_xxx_class.java&quot;, where xxx is the target variable's name.</p>
</td></tr>
<tr><td><code id="glm2java_+3A_path">path</code></td>
<td>
<p>The directory path where files are going to be saved.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>All numeric variables used as input to the glm object are treated as doubles, whereas factors variables are treated as strings.
</p>


<h3>Author(s)</h3>

<p>Oscar Castro-Lopez, Ines Vega-Lopez
</p>


<h3>See Also</h3>

<p><code><a href="#topic+glm2java">glm2java</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'> # Example with the iris dataset with a Logical target and numeric
 # variables, using the binomial family and the logit link function
 data(iris)
 iristest = iris
 iristest$Virginica = ifelse(iristest$Species == 'virginica', TRUE,FALSE)
 iristest$Species = NULL

 # Load Package
 library(glm.deploy)
 # For repeatable results
 set.seed(123)
 # Generate the fitted glm object
 m = glm(Virginica ~ ., family = binomial(logit), data=iristest)
 # Call the glm2java() function with default filename
 glm2java(m,, tempdir())
 # Call the glm2java() function with custom filename
 glm2java(m,'my_glm_virginica', tempdir())

 # The glm2java() function generates the file "glm_virginica_class.java".

## Not run: 
----------Contents of the "glm_virgninica_class.java" file-------
  package test;
  public class glm_virginica_class{

  public static double glm_virginica_link(double sepal_length,
                                          double sepal_width,
                                          double petal_length,
                                          double petal_width){
      double new_sepal_length = -2.46522019518341 * sepal_length;
      double new_sepal_width = -6.68088701405762 * sepal_width;
      double new_petal_length = 9.4293851538836 * petal_length;
      double new_petal_width = 18.2861368877881 * petal_width;

      return -42.6378038127854+new_sepal_length+
                               new_sepal_width+
                               new_petal_length+
                               new_petal_width;
    }
    public static double glm_virginica_response(double sepal_length,
                                                double sepal_width,
                                                double petal_length,
                                                double petal_width){
      return 1/(1+Math.exp(-glm_virginica_link(sepal_length,
                                               sepal_width,
                                               petal_length,
                                               petal_width)));
    }

  }
---------------End of "glm_virgninica_class.java"---------------
----------------------------------------------------------------
To use these methods in another class just add
the "import glm_virginica_class.*;"

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

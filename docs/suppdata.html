<!DOCTYPE html><html><head><title>Help for package suppdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {suppdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#suppdata'><p>Download supplementary materials from journals</p></a></li>
<li><a href='#suppdata-internal'><p>Internal grabr Functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Downloading Supplementary Data from Published Manuscripts</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1-9</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>William D. Pearse &lt;will.pearse@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Downloads data supplementary materials from manuscripts,
    using papers' DOIs as references. Facilitates open, reproducible
    research workflows: scientists re-analyzing published datasets can
    work with them as easily as if they were stored on their own
    computer, and others can track their analysis workflow
    painlessly. The main function suppdata() returns a (temporary)
    location on the user's computer where the file is stored, making
    it simple to use suppdata() with standard functions like
    read.csv().</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/suppdata/">https://docs.ropensci.org/suppdata/</a>,
<a href="https://github.com/ropensci/suppdata/">https://github.com/ropensci/suppdata/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/suppdata/">https://github.com/ropensci/suppdata/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr (&ge; 1.6), testthat (&ge; 2.0.0), covr (&ge; 3.0.1)</td>
</tr>
<tr>
<td>Imports:</td>
<td>httr (&ge; 1.0.0), xml2 (&ge; 1.2.0), jsonlite (&ge; 1.5), rcrossref
(&ge; 0.8.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-10-13 21:08:01 UTC; will</td>
</tr>
<tr>
<td>Author:</td>
<td>William D. Pearse <a href="https://orcid.org/0000-0002-6241-3164"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Scott Chamberlain <a href="https://orcid.org/0000-0003-1444-9135"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Daniel Nuest <a href="https://orcid.org/0000-0002-0024-5046"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Ross Mounce [rev] (Ross Mounce reviewed the package for rOpenSci, see
    https://github.com/ropensci/onboarding/issues/195),
  Sarah Supp [rev] (Sarah Supp reviewed the package for rOpenSci, see
    https://github.com/ropensci/onboarding/issues/195)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-10-16 19:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='suppdata'>Download supplementary materials from journals</h2><span id='topic+suppdata'></span><span id='topic+suppdata.character'></span>

<h3>Description</h3>

<p>Put a call to this function where you would put a file-path - everything 
is cached by default, so you don't have to worry about multiple downloads 
in the same session.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>suppdata(
  x,
  si,
  from = c("auto", "plos", "wiley", "science", "proceedings", "figshare",
    "esa_data_archives", "esa_archives", "biorxiv", "epmc", "peerj", "copernicus",
    "jstatsoft"),
  save.name = NA,
  dir = NA,
  cache = TRUE,
  vol = NA,
  issue = NA,
  list = FALSE,
  timeout = 10,
  zip = FALSE
)

## S3 method for class 'character'
suppdata(
  x,
  si,
  from = c("auto", "plos", "wiley", "science", "proceedings", "figshare",
    "esa_data_archives", "esa_archives", "biorxiv", "epmc", "peerj", "copernicus",
    "jstatsoft"),
  save.name = NA,
  dir = NA,
  cache = TRUE,
  vol = NA,
  issue = NA,
  list = FALSE,
  timeout = 10,
  zip = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="suppdata_+3A_x">x</code></td>
<td>
<p>One of: vector of DOI(s) of article(s) (a
<code>character</code>) or ESA-specific article code.</p>
</td></tr>
<tr><td><code id="suppdata_+3A_si">si</code></td>
<td>
<p>number of the supplementary information (SI) to be
downloaded (1, 2, 3, etc.), or (for ESA, Science, and
Copernicus journals) the name of the supplement (e.g.,
&quot;S1_data.csv&quot;). Can be a <code>character</code> or <code>numeric</code>.</p>
</td></tr>
<tr><td><code id="suppdata_+3A_from">from</code></td>
<td>
<p>Publisher of article (<code>character</code>). The default
(<code>auto</code>) uses crossref (<code><a href="rcrossref.html#topic+cr_works">cr_works</a></code>)
to detect the journal's publisher. Specifying the journal can
somewhat speed up your download, or be used to force a download
from EPMC (see details). You *must* specify if downloading from
an ESA journal (<code>esa_data_archives</code>,
<code>esa_archives</code>). You can only use this argument if
<code>x</code> is a vector of DOI(s). Must be one of: <code>auto</code>
(i.e., auto-detect journal; default), <code>plos</code>,
<code>wiley</code>, <code>science</code>, <code>proceedings</code>,
<code>figshare</code>, <code>esa_data_archives</code>, <code>esa_archives</code>,
<code>biorxiv</code>, <code>epmc</code>, <code>peerj</code>, <code>copernicus</code>,
(Data)<code>dryad</code>), <code>mdpi</code>, or <code>jstatsoft</code>.</p>
</td></tr>
<tr><td><code id="suppdata_+3A_save.name">save.name</code></td>
<td>
<p>a name for the file to download
(<code>character</code>). If <code>NA</code> (default) this will be a
combination of the DOI and SI number</p>
</td></tr>
<tr><td><code id="suppdata_+3A_dir">dir</code></td>
<td>
<p>directory to save file to (<code>character</code>). If
<code>NA</code> (default) this will be a temporary directory created
for your files</p>
</td></tr>
<tr><td><code id="suppdata_+3A_cache">cache</code></td>
<td>
<p>if <code>TRUE</code> (default), the file won't be downloaded
again if it already exists (in a temporary directory creates,
or your chosen <code>dir</code>)</p>
</td></tr>
<tr><td><code id="suppdata_+3A_vol">vol</code></td>
<td>
<p>Article volume (Proceedings journals only;
<code>numeric</code>)</p>
</td></tr>
<tr><td><code id="suppdata_+3A_issue">issue</code></td>
<td>
<p>Article issue (Proceedings journals only;
<code>numeric</code>)</p>
</td></tr>
<tr><td><code id="suppdata_+3A_list">list</code></td>
<td>
<p>if <code>TRUE</code>, print all files within a zip-file
downloaded from EPMC (default: FALSE). This is *very* useful if
using EPMC (see details)</p>
</td></tr>
<tr><td><code id="suppdata_+3A_timeout">timeout</code></td>
<td>
<p>how long to wait for successful download (default 10
seconds)</p>
</td></tr>
<tr><td><code id="suppdata_+3A_zip">zip</code></td>
<td>
<p>if <code>TRUE</code>, force download in binary format in order
to ensure that zipped files will work on Windows (default
FALSE).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The examples probably give the best indication of how to
use this function. In general, just specify the DOI of the article
you want to download data from, and the number of the supplement
you want to download (1, 5, etc.). Proceedings, and Science journals
need you to give the filename of the supplement to
download. The file extensions (suffixes) of files are returned as
<code>suffix</code> attributes (see first example), which may be useful
if you don't know the format of the file you're downloading.
</p>
<p>For any DOIs not recognised (and if asked) the European PubMed
Central API is used to look up articles. What this database calls a
supplementary file varies by publisher; often they will simply be
figures within articles, but we (obviously) have no way to check
this at run-time. I strongly recommend you run any EPMC calls with
<code>list=TRUE</code> the first time, to see the filenames that EPMC
gives supplements, as these also often vary from what the authors
gave them. This may actually be a 'feature', not a 'bug', if you're
trying to automate some sort of meta-analysis.
</p>
<p>Below is a list of all the publishers this supports, and examples
of journals from them.
</p>

<dl>
<dt>auto</dt><dd><p>Default. Use a cross-ref search
(<code><a href="rcrossref.html#topic+cr_works">cr_works</a></code>) on the DOI to
determine the publisher.</p>
</dd>
<dt>plos</dt><dd><p>Public Library of Science journals (e.g., PLoS One;)</p>
</dd>
<dt>wiley</dt><dd><p>Wiley journals (e.g., Ecology Letters)</p>
</dd>
<dt>science</dt><dd><p>Science magazine (e.g., Science Advances)</p>
</dd>
<dt>proceedings</dt><dd><p>Royal Society of London journals (e.g.,
Proceedings of the Royal Society of London B). Requires
<code>vol</code> and <code>issue</code> of the article.</p>
</dd>
<dt>figshare</dt><dd><p>Figshare</p>
</dd>
<dt>biorxiv</dt><dd><p>Load from bioRxiv</p>
</dd> 
<dt>epmc</dt><dd><p>Look up an article on the Europe PubMed Central, and
then download the file using their supplementary materials API.
See comments above in 'notes' about EPMC.</p>
</dd>
<dt>peerj</dt><dd><p>PeerJ journals (e.g., PeerJ Preprints).</p>
</dd>
<dt>copernicus</dt><dd><p>Copernicus Publications journals (e.g., Biogeosciences).
Only one supplemental is supported, which can be a zip archive or a PDF file. 
A numeric <code>si</code> parameter must be <code>1</code> to download the 
whole archive, which is saved using Copernicus naming scheme
(&lt;journalname&gt;-&lt;volume&gt;-&lt;firstpage&gt;-&lt;year&gt;-supplement.zip)
and <code>save.name</code> is ignored, or to download the PDF.
If <code>si</code> matches the name of the supplemental archive (i.e. uses the
Copernicus naming scheme), then the suppdata archive is not unzipped.
<code>si</code> may be the name of a file in that 
archive, so only that file is extracted and saved to <code>save.name</code>.</p>
</dd>
</dl>



<h3>Note</h3>

<p>Make sure that the article from which you're attempting to
download supplementary materials *has* supplementary
materials. 404 errors and 'file not found' errors can result
from such cases.
</p>


<h3>Author(s)</h3>

<p>Will Pearse (<a href="mailto:will.pearse@usu.edu">will.pearse@usu.edu</a>) and Scott
Chamberlain (<a href="mailto:myrmecocystus@gmail.com">myrmecocystus@gmail.com</a>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># NOTE: The examples below are flagged as 'dontrun' to avoid
# running downloads repeatedly on CRAN servers
## Not run: 
#Put the function wherever you would put a file path
crabs &lt;- read.csv(suppdata("10.6084/m9.figshare.979288", 2))

epmc.fig &lt;- suppdata("10.1371/journal.pone.0126524",
                       "pone.0126524.s002.jpg", "epmc")
#...note this 'SI' is not actually an SI, but rather an image from the paper.

#View the suffix (file extension) of downloaded files
# - note that not all files are uploaded/stored with useful file extensions!
attr(epmc.fig, "suffix")

copernicus.csv &lt;- suppdata("10.5194/bg-14-1739-2017",
                           "Table S1 v2 UFK FOR_PUBLICATION.csv",
                           save.name = "data.csv")
#...note this 'SI' is not an SI but the name of a file in the supplementary information archive.

## End(Not run)
# (examples not run on CRAN to avoid downloading files repeatedly)
</code></pre>

<hr>
<h2 id='suppdata-internal'>Internal grabr Functions</h2><span id='topic+.grep.url'></span><span id='topic+.grep.text'></span><span id='topic+.download'></span>

<h3>Description</h3>

<p>Internal suppdata functions
</p>


<h3>Details</h3>

<p>These are not to be called by the user.</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

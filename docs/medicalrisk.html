<!DOCTYPE html><html lang="en"><head><title>Help for package medicalrisk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {medicalrisk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#charlson_list'><p>List of Charlson comorbidities</p></a></li>
<li><a href='#charlson_weights'><p>Map of Charlson comorbidity categories to revised weights</p></a></li>
<li><a href='#charlson_weights_orig'><p>Map of Charlson comorbidity categories to weights</p></a></li>
<li><a href='#elixhauser_list'><p>List of Elixhauser comorbidities</p></a></li>
<li><a href='#generate_charlson_index_df'><p>Calculate the Charlson Comorbidity Index</p></a></li>
<li><a href='#generate_comorbidity_df'><p>Generate a comorbidity dataframe</p></a></li>
<li><a href='#icd9cm_charlson_deyo'><p>Create Deyo map of ICD-9-CM to Charlson comorbidities</p></a></li>
<li><a href='#icd9cm_charlson_quan'><p>Create Quan map of ICD-9-CM to Charlson comorbidities</p></a></li>
<li><a href='#icd9cm_charlson_romano'><p>Create Romano map of ICD-9-CM to Charlson comorbidities</p></a></li>
<li><a href='#icd9cm_elixhauser_ahrq37'><p>Create AHRQ v3.7 map of ICD-9-CM to Elixhauser comorbidities</p></a></li>
<li><a href='#icd9cm_elixhauser_quan'><p>Create Quan map of ICD-9-CM to Elixhauser comorbidities</p></a></li>
<li><a href='#icd9cm_list'><p>List of ICD-9-CM diagnostic and procedural codes</p></a></li>
<li><a href='#icd9cm_rcri'><p>Create Map of ICD-9-CM to Revised Cardiac Risk Index classes</p></a></li>
<li><a href='#icd9cm_sessler_rsi'><p>Returns composite Sessler risk stratification index, given a list of ICD-9-CM codes.</p></a></li>
<li><a href='#melt_icd9list'><p>Convert ICD-9-CM code list to dataframe</p></a></li>
<li><a href='#merge_icd9_dx_and_procs'><p>Merge ICD-9-CM diagnostic and procedure codes</p></a></li>
<li><a href='#rsi_beta_1yrpod'><p>Values for calculating RSI for 1 year mortality</p></a></li>
<li><a href='#rsi_beta_30dlos'><p>Values for calculating RSI for 30-day length of stay</p></a></li>
<li><a href='#rsi_beta_30dpod'><p>Values for calculating RSI for 30-day mortality</p></a></li>
<li><a href='#rsi_beta_inhosp'><p>Values for calculating RSI for in-hospital mortality.</p></a></li>
<li><a href='#rsi_sample_data'><p>Sample data for validating RSI</p></a></li>
<li><a href='#rsi_sample_results'><p>Sample results for validating RSI</p></a></li>
<li><a href='#sessler_get_single_beta'><p>Returns the covariate coefficient for a particular diagnosis</p>
or procedure code, along with the actual code that was found in
the internal database of coefficients. If a child code is supplied
but its parent is in the database, the coefficient for the parent
will be returned, along with that parent code. For example, if
D1231 is supplied but only D123 is available, D123 will be used.
This is apparently how the SPSS sample code works.</a></li>
<li><a href='#verify_sessler_rsi'><p>Validates this Sessler RSI implementation against reference data</p></a></li>
<li><a href='#vt_inp_sample'><p>First 100 patients and their ICD-9-CM codes from the Vermont Uniform Hospital</p>
Discharge Data Set for 2011, Inpatient.</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Medical Risk and Comorbidity Tools for ICD-9-CM Data</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-02-28</td>
</tr>
<tr>
<td>Description:</td>
<td>Generates risk estimates and comorbidity flags from ICD-9-CM
    codes available in administrative medical datasets. The package supports
    the Charlson Comorbidity Index, the Elixhauser Comorbidity
    classification, the Revised Cardiac Risk Index, and the Risk Stratification
    Index.  Methods are table-based, fast, and use the 'plyr' package, so
    parallelization is possible for large jobs. Also includes a sample of
    real ICD-9 data for 100 patients from a publicly available dataset.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr (&ge; 1.5), reshape2, hash</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, ggplot2, gridExtra</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.0.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/patrickmdnet/medicalrisk/issues">https://github.com/patrickmdnet/medicalrisk/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/patrickmdnet/medicalrisk">https://github.com/patrickmdnet/medicalrisk</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-02-29 04:04:46 UTC; patri</td>
</tr>
<tr>
<td>Author:</td>
<td>Patrick McCormick [aut, cre],
  Thomas Joseph [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Patrick McCormick &lt;patrick.mccormick@alum.mit.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-02-29 21:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='charlson_list'>List of Charlson comorbidities</h2><span id='topic+charlson_list'></span>

<h3>Description</h3>

<p>List of Charlson comorbidities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charlson_list
</code></pre>


<h3>Format</h3>

<p>A list, with one column for each comorbidity; value is a textual description</p>


<h3>Examples</h3>

<pre><code class='language-R'># List the strings used to refer to Charlson comorbidities
names(charlson_list)

# List descriptions of comorbidities
charlson_list
</code></pre>

<hr>
<h2 id='charlson_weights'>Map of Charlson comorbidity categories to revised weights</h2><span id='topic+charlson_weights'></span>

<h3>Description</h3>

<p>List that links the Charlson comorbidity categories to revised 
weights as calculated by Schneeweiss in Table 4 of his paper.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charlson_weights
</code></pre>


<h3>Format</h3>

<p>A list, with Charlson comorbidities as names and weight as value</p>


<h3>Details</h3>

<p>Revised Schneeweiss weights:
</p>
<p>0 = Connective tissue dz, Ulcer
</p>
<p>1 = MI, PVD, CVD, Diabetes, Hemiplegia
</p>
<p>2 = CHF, Chronic pulm dz, Mild liver dz, Diabetes with end organ damage, Any 
tumor, Leukemia, Lymphoma
</p>
<p>3 = Dementia, Mod or severe renal dz
</p>
<p>4 = Moderate or severe liver dz, AIDS
</p>
<p>6 = Metastatic solid tumor
</p>


<h3>References</h3>

<p>1. Schneeweiss S, Wang PS, Avorn J, Glynn RJ: Improved comorbidity adjustment 
for predicting mortality
in Medicare populations. Health services research 2003; 38:1103
<a href="http://www.ncbi.nlm.nih.gov/pubmed/12968819">http://www.ncbi.nlm.nih.gov/pubmed/12968819</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+charlson_weights_orig">charlson_weights_orig</a></code>,
<code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>, 
<code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>,
<code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>,
<code><a href="#topic+melt_icd9list">melt_icd9list</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>charlson_weights["dementia"]
</code></pre>

<hr>
<h2 id='charlson_weights_orig'>Map of Charlson comorbidity categories to weights</h2><span id='topic+charlson_weights_orig'></span>

<h3>Description</h3>

<p>List that links the Charlson comorbidity categories to the original 
weights (specified in the original Charlson paper, Table 3)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>charlson_weights_orig
</code></pre>


<h3>Format</h3>

<p>A list, with Charlson comorbidities as names and weight as value</p>


<h3>Details</h3>

<p>Original Weights:
</p>
<p>1 = MI, CHF, PVD, CVD, Dementia, Chronic pulm dz, Connective tissue dz,
Ulcer, Mild liver dz, Diabetes
</p>
<p>2 = Hemiplegia, Mod or severe renal dz, Diabetes with end organ damage, Any
tumor, Leukemia, Lymphoma
</p>
<p>3 = Moderate or severe liver dz
</p>
<p>6 = Metastatic solid tumor, AIDS
</p>


<h3>References</h3>

<p>1. Charlson ME, Pompei P, Ales KL, MacKenzie CR: A new method of
classifying prognostic comorbidity in longitudinal studies: development and
validation. Journal of chronic diseases 1987; 40:373-83 
<a href="http://www.ncbi.nlm.nih.gov/pubmed/3558716">http://www.ncbi.nlm.nih.gov/pubmed/3558716</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+charlson_weights">charlson_weights</a></code>,
<code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>, 
<code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>,
<code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>,
<code><a href="#topic+melt_icd9list">melt_icd9list</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>charlson_weights_orig["aids"]
</code></pre>

<hr>
<h2 id='elixhauser_list'>List of Elixhauser comorbidities</h2><span id='topic+elixhauser_list'></span>

<h3>Description</h3>

<p>List of Elixhauser comorbidities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>elixhauser_list
</code></pre>


<h3>Format</h3>

<p>A list, with one column for each comorbidity; value is a textual description</p>


<h3>Examples</h3>

<pre><code class='language-R'># List the strings used to refer to Elixhauser comorbidities
names(elixhauser_list)

# List descriptions of comorbidities
elixhauser_list
</code></pre>

<hr>
<h2 id='generate_charlson_index_df'>Calculate the Charlson Comorbidity Index</h2><span id='topic+generate_charlson_index_df'></span>

<h3>Description</h3>

<p><code>generate_charlson_index_df</code> merges a data frame of Charlson
comorbidities with <code><a href="#topic+charlson_weights">charlson_weights</a></code> and sums the results per
patient.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_charlson_index_df(
  df,
  idvar = "id",
  weights = medicalrisk::charlson_weights
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_charlson_index_df_+3A_df">df</code></td>
<td>
<p>a data frame with ID column <code>idvar</code> and logical columns for each
comorbidity, such as that generated by <code><a href="#topic+generate_comorbidity_df">generate_comorbidity_df</a></code></p>
</td></tr>
<tr><td><code id="generate_charlson_index_df_+3A_idvar">idvar</code></td>
<td>
<p>string with name of ID variable within <code>df</code></p>
</td></tr>
<tr><td><code id="generate_charlson_index_df_+3A_weights">weights</code></td>
<td>
<p>defaults to <code><a href="#topic+charlson_weights">charlson_weights</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with two columns, <code>idvar</code> and <code>"index"</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+generate_comorbidity_df">generate_comorbidity_df</a></code>,
<code><a href="#topic+charlson_weights">charlson_weights</a></code>, <code><a href="#topic+charlson_weights_orig">charlson_weights_orig</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># calculate Charlson Comorbidity Index for all patients in the \code{\link{vt_inp_sample}}
data(vt_inp_sample)
generate_charlson_index_df(generate_comorbidity_df(vt_inp_sample))
</code></pre>

<hr>
<h2 id='generate_comorbidity_df'>Generate a comorbidity dataframe</h2><span id='topic+generate_comorbidity_df'></span>

<h3>Description</h3>

<p>Merges a given DF of IDs and ICD-9-CM codes to one of the ICD9CM maps,
removes redundant comorbidities, and returns a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>generate_comorbidity_df(
  df,
  idvar = "id",
  icd9var = "icd9cm",
  icd9mapfn = icd9cm_charlson_quan,
  .progress = "none",
  .parallel = FALSE,
  .paropts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="generate_comorbidity_df_+3A_df">df</code></td>
<td>
<p>a data frame with at least two columns, specified as <code>idvar</code>
and <code>icd9var</code>.</p>
</td></tr>
<tr><td><code id="generate_comorbidity_df_+3A_idvar">idvar</code></td>
<td>
<p>string with name of ID variable within <code>df</code> (defaults to
&quot;id&quot;)</p>
</td></tr>
<tr><td><code id="generate_comorbidity_df_+3A_icd9var">icd9var</code></td>
<td>
<p>string with name of ICD code variable within <code>df</code>
(defaults to <code>icd9cm</code>)</p>
</td></tr>
<tr><td><code id="generate_comorbidity_df_+3A_icd9mapfn">icd9mapfn</code></td>
<td>
<p>Function to generate comorbidity data frame from ICD-9 codes
(defaults to <code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>)</p>
</td></tr>
<tr><td><code id="generate_comorbidity_df_+3A_.progress">.progress</code></td>
<td>
<p>passed to <code>ddply</code></p>
</td></tr>
<tr><td><code id="generate_comorbidity_df_+3A_.parallel">.parallel</code></td>
<td>
<p>passed to <code>ddply</code></p>
</td></tr>
<tr><td><code id="generate_comorbidity_df_+3A_.paropts">.paropts</code></td>
<td>
<p>passed to <code>ddply</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Redundancy rules:
* If &quot;tumor&quot; and &quot;mets&quot;, only &quot;mets&quot; will be returned.
* If &quot;htn&quot; and &quot;htncx&quot;, only &quot;htncx&quot; will be returned.
* If &quot;dm&quot; and &quot;dmcx&quot;, only &quot;dmcx&quot; will be returned.
* If &quot;liver&quot; and &quot;modliver&quot;, only &quot;modliver&quot; will be returned.
</p>
<p>Van Walraven has a modification adopted here where the following &quot;dmcx&quot; codes
are downgraded to &quot;dm&quot; if the specific DM complication is separately coded:
* D2(49|50)4x is DM w renal
* D2(49|50)6x is DM w neuro
* D2(49|50)7x is DM w PVD
</p>
<p>Cases without any comorbidities will not appear in the returned data
frame.
</p>


<h3>Value</h3>

<p>a dataframe with column <code>idvar</code> and a logical column for each comorbidity
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cases &lt;- data.frame(id=c(1,1,1,2,2,2,2,2),
         icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403","D1960","D1958"),
         stringsAsFactors=TRUE)
generate_comorbidity_df(cases)
# generate categories for patients in the \code{\link{vt_inp_sample}}
generate_comorbidity_df(vt_inp_sample)
# in this example, D25071 is reduced to "dm" from "dmcx" because D4439 already codes perivasc
# also, D20206 "tumor" and D1970 "mets" lead to just "mets"
# D25001 and D25040 are just "dmcx"
# D45621 and D570 are just "modliver"
cases &lt;- data.frame(id=c(1,1,1,1,2,2,2,2),
  icd9cm=c("D1970","D20206","D25071","D4439","D25001","D25040","D45621","D570"),
  stringsAsFactors=TRUE)
generate_comorbidity_df(cases)
</code></pre>

<hr>
<h2 id='icd9cm_charlson_deyo'>Create Deyo map of ICD-9-CM to Charlson comorbidities</h2><span id='topic+icd9cm_charlson_deyo'></span>

<h3>Description</h3>

<p>Function that generates a data frame linking ICD-9-CM codes to the Charlson
comorbidity categories using the Deyo mapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_charlson_deyo(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_charlson_deyo_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE: The input vector of ICD-9-CM codes must be unique, because the output dataframe
uses the ICD-9-CM code as row.name.
</p>
<p>Uses regular expressions created from the paper by Deyo in 1992.
</p>
<p>ICD-9-CM codes must have periods removed.  Diagnostic codes are prefixed with
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> should be <code>"D40403"</code>.
</p>


<h3>Value</h3>

<p>A data frame, with ICD9 codes as row names and one logical column for each
comorbidity in <code><a href="#topic+charlson_list">charlson_list</a></code>
</p>


<h3>References</h3>

<p>1. Deyo RA, Cherkin DC, Ciol MA: Adapting a clinical comorbidity index for
use with ICD-9-CM administrative databases. Journal of clinical epidemiology
1992; 45:613-9
<a href="http://www.ncbi.nlm.nih.gov/pubmed/1607900">http://www.ncbi.nlm.nih.gov/pubmed/1607900</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, <code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>,
<code><a href="#topic+icd9cm_elixhauser_quan">icd9cm_elixhauser_quan</a></code>, <code><a href="#topic+icd9cm_elixhauser_ahrq37">icd9cm_elixhauser_ahrq37</a></code>,
<code><a href="#topic+charlson_weights">charlson_weights</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify Charlson categories in ICD-9-CM listing
cases &lt;- data.frame(id=c(1,1,1,2,2,2),
  icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403"),
  stringsAsFactors=TRUE)
cases_with_cm &lt;- merge(cases, icd9cm_charlson_deyo(levels(cases$icd9cm)),
  by.x="icd9cm", by.y="row.names", all.x=TRUE)

# generate crude comorbidity summary for each patient
library(plyr)
ddply(cases_with_cm, .(id),
  function(x) { data.frame(lapply(x[,3:ncol(x)], any)) })
</code></pre>

<hr>
<h2 id='icd9cm_charlson_quan'>Create Quan map of ICD-9-CM to Charlson comorbidities</h2><span id='topic+icd9cm_charlson_quan'></span>

<h3>Description</h3>

<p>Function that creates a dataframe that links ICD-9-CM codes to the Charlson comorbidity
categories using Quan's method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_charlson_quan(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_charlson_quan_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE: The input vector of ICD-9-CM codes must be unique, because the output dataframe
uses the ICD-9-CM code as row.name.
</p>
<p>Uses regular expressions created from the paper by Quan in 2005.
</p>
<p>ICD-9-CM codes must have periods removed.  Diagnostic codes are prefixed with
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> should be <code>"D40403"</code>.
</p>


<h3>Value</h3>

<p>A data frame, with ICD9 codes as row names and one logical column for each
comorbidity in <code><a href="#topic+charlson_list">charlson_list</a></code>
</p>


<h3>References</h3>

<p>1. Quan H, Sundararajan V, Halfon P, Fong A, Burnand B, Luthi
J-C, Saunders LD, Beck CA, Feasby TE, Ghali WA: Coding algorithms for
defining comorbidities in ICD-9-CM and ICD-10 administrative data. Medical
care 2005; 43:1130-9
<a href="http://www.ncbi.nlm.nih.gov/pubmed/16224307">http://www.ncbi.nlm.nih.gov/pubmed/16224307</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>, <code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>,
<code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, <code><a href="#topic+icd9cm_elixhauser_quan">icd9cm_elixhauser_quan</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify Charlson categories in ICD-9-CM listing
cases &lt;- data.frame(id=c(1,1,1,2,2,2),
  icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403"),
  stringsAsFactors=TRUE)
cases_with_cm &lt;- merge(cases, icd9cm_charlson_quan(levels(cases$icd9cm)),
  by.x="icd9cm", by.y="row.names", all.x=TRUE)

# generate crude comorbidity summary for each patient
library(plyr)
ddply(cases_with_cm, .(id),
  function(x) { data.frame(lapply(x[,3:ncol(x)], any)) })
</code></pre>

<hr>
<h2 id='icd9cm_charlson_romano'>Create Romano map of ICD-9-CM to Charlson comorbidities</h2><span id='topic+icd9cm_charlson_romano'></span>

<h3>Description</h3>

<p>Function that creates a dataframe which links ICD-9-CM codes to the Charlson
comorbidity categories using the Romano mapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_charlson_romano(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_charlson_romano_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>NOTE: The input vector of ICD-9-CM codes must be unique, because the output dataframe
uses the ICD-9-CM code as row.name.
</p>
<p>Uses regular expressions created from the paper by Romano in 1993.
</p>
<p>ICD-9-CM codes must have periods removed.  Diagnostic codes are prefixed with
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> should be <code>"D40403"</code>.
</p>


<h3>Value</h3>

<p>A data frame, with ICD9 codes as row names and one logical column for each
comorbidity in <code><a href="#topic+charlson_list">charlson_list</a></code>
</p>


<h3>References</h3>

<p>1. Romano PS, Roos LL, Jollis JG: Adapting a clinical comorbidity index for
use with ICD-9-CM administrative data: differing perspectives. Journal of
clinical epidemiology 1993; 46:1075-9; discussion 1081-90
<a href="http://www.ncbi.nlm.nih.gov/pubmed/8410092">http://www.ncbi.nlm.nih.gov/pubmed/8410092</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, <code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>,
<code><a href="#topic+icd9cm_elixhauser_quan">icd9cm_elixhauser_quan</a></code>, <code><a href="#topic+icd9cm_elixhauser_ahrq37">icd9cm_elixhauser_ahrq37</a></code>,
<code><a href="#topic+charlson_weights">charlson_weights</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify Charlson categories in ICD-9-CM listing
cases &lt;- data.frame(id=c(1,1,1,2,2,2),
  icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403"),
  stringsAsFactors=TRUE)
cases_with_cm &lt;- merge(cases, icd9cm_charlson_romano(levels(cases$icd9cm)),
  by.x="icd9cm", by.y="row.names", all.x=TRUE)

# generate crude comorbidity summary for each patient
library(plyr)
ddply(cases_with_cm, .(id),
  function(x) { data.frame(lapply(x[,3:ncol(x)], any)) })
</code></pre>

<hr>
<h2 id='icd9cm_elixhauser_ahrq37'>Create AHRQ v3.7 map of ICD-9-CM to Elixhauser comorbidities</h2><span id='topic+icd9cm_elixhauser_ahrq37'></span>

<h3>Description</h3>

<p>Function makes a dataframe that links ICD-9-CM codes to the Elixhauser comorbidity
categories using the AHRQ v3.7 mapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_elixhauser_ahrq37(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_elixhauser_ahrq37_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses regular expressions based on the file &quot;comformat2012-2013.txt&quot; from AHRQ.
</p>
<p>The Agency for Healthcare Research and Quality (AHRQ) has developed
Comorbidity Software as part of the Healthcare Cost and Utilization Project
(HCUP).  The software was developed to report on the comorbidity measures
reported by Elixhauser (1998).
</p>
<p>The AHRQ software has two parts, one that classifies ICD-9-CM codes by
comorbidity, and another that performs heuristics to eliminate duplicate
comorbidities and ignore comorbidities which are the primary reason for the
hospital visit, as per the DRG.
</p>
<p>This table is a translation of the first part of the software, the
classifier, as implemented in the SAS file <code>Comformat2012-2013.txt</code>.
</p>
<p>ICD-9-CM codes must have periods removed.  Diagnostic codes are prefixed with
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> should be <code>"D40403"</code>.
</p>


<h3>Value</h3>

<p>A data frame, with ICD9 codes as row names and one logical column for each
comorbidity in <code><a href="#topic+elixhauser_list">elixhauser_list</a></code>
</p>


<h3>References</h3>

<p>1. <a href="http://www.hcup-us.ahrq.gov/toolssoftware/comorbidity/comorbidity.jsp">http://www.hcup-us.ahrq.gov/toolssoftware/comorbidity/comorbidity.jsp</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>, <code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>,
<code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, <code><a href="#topic+icd9cm_elixhauser_quan">icd9cm_elixhauser_quan</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify Elixhauser categories
cases &lt;- data.frame(id=c(1,1,1,2,2,2),
  icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403"),
  stringsAsFactors=TRUE)
cases_with_cm &lt;- merge(cases, icd9cm_elixhauser_ahrq37(levels(cases$icd9cm)),
  by.x="icd9cm", by.y="row.names", all.x=TRUE)

# generate crude comorbidity summary for each patient
library(plyr)
ddply(cases_with_cm, .(id),
  function(x) { data.frame(lapply(x[,3:ncol(x)], any)) })
</code></pre>

<hr>
<h2 id='icd9cm_elixhauser_quan'>Create Quan map of ICD-9-CM to Elixhauser comorbidities</h2><span id='topic+icd9cm_elixhauser_quan'></span>

<h3>Description</h3>

<p>Function to make a dataframe that links ICD-9-CM codes to the Elixhauser comorbidity
categories using the Quan mapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_elixhauser_quan(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_elixhauser_quan_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses regular expressions created from the Quan paper from 2005.
</p>
<p>ICD-9-CM codes must have periods removed.  Diagnostic codes are prefixed with
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> should be <code>"D40403"</code>.
</p>
<p>Some ICD-9-CM codes will correspond to more than one category.  For example,
<code>404.03</code> (Hypertensive heart and chronic kidney disease ... stage V) is
in both <code>chf</code> and <code>renlfail</code> categories.
</p>


<h3>Value</h3>

<p>A data frame, with ICD9 codes as row names and one logical column for each
comorbidity in <code><a href="#topic+elixhauser_list">elixhauser_list</a></code>
</p>


<h3>References</h3>

<p>1. Quan H, Sundararajan V, Halfon P, Fong A, Burnand B, Luthi
J-C, Saunders LD, Beck CA, Feasby TE, Ghali WA: Coding algorithms for
defining comorbidities in ICD-9-CM and ICD-10 administrative data. Medical
care 2005; 43:1130-9
<a href="http://www.ncbi.nlm.nih.gov/pubmed/16224307">http://www.ncbi.nlm.nih.gov/pubmed/16224307</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>, <code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>,
<code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, <code><a href="#topic+icd9cm_elixhauser_ahrq37">icd9cm_elixhauser_ahrq37</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify Elixhauser categories
cases &lt;- data.frame(id=c(1,1,1,2,2,2),
  icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403"),
  stringsAsFactors=TRUE)
cases_with_cm &lt;- merge(cases, icd9cm_elixhauser_quan(levels(cases$icd9cm)),
  by.x="icd9cm", by.y="row.names", all.x=TRUE)

# generate crude comorbidity summary for each patient
library(plyr)
ddply(cases_with_cm, .(id),
  function(x) { data.frame(lapply(x[,3:ncol(x)], any)) })
</code></pre>

<hr>
<h2 id='icd9cm_list'>List of ICD-9-CM diagnostic and procedural codes</h2><span id='topic+icd9cm_list'></span>

<h3>Description</h3>

<p>ICD-9-CM codes have the periods removed.  Diagnostic codes are prefixed with 
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> appears as <code>"D40403"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_list
</code></pre>


<h3>Format</h3>

<p>A string vector</p>


<h3>Details</h3>

<p>Obsolete codes not active in 2012 are not present, and may cause this dataset
to miss certain classifications when applied to older datasets.  For example, 
codes 043 and 044 (both obsolete AIDS codes) are not included.
</p>


<h3>References</h3>

<p>1. <a href="https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html">https://www.cms.gov/Medicare/Coding/ICD9ProviderDiagnosticCodes/codes.html</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Count procedural codes
length(icd9cm_list[grep('^P',icd9cm_list)])
</code></pre>

<hr>
<h2 id='icd9cm_rcri'>Create Map of ICD-9-CM to Revised Cardiac Risk Index classes</h2><span id='topic+icd9cm_rcri'></span>

<h3>Description</h3>

<p>Function to generate data frame that links ICD-9-CM codes to the RCRI comorbidity categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_rcri(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_rcri_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Lee et al in 1999 published a &quot;Revised Cardiac Risk Index&quot; based on the work
on Goldman in 1997. The RCRI is used to determine the major cardiac
complication risk for a patient about to undergo major noncardiac surgery.
The six predictors that make up the RCRI are: 1. high-risk surgery 2. history
of ischemic heart disease 3. history of congestive heart failure 4. history
of cerebrovascular disease 5. preoperative treatment with insulin 6.
preoperative serum creatinine with Cr &gt; 2 mg/dL.
</p>
<p>In 2005 Boersma et al demonstrated that the Lee indexed can be adapted to use
administrative data to predict cardiovascular mortality.  They used the
following for each point above: 1. retroperitoneal, intrathoracic, or
suprainguinal vascular procedure; 2. Ischemia: ICD-9 codes 410.*, 411.*,
412.*, 413.*, 414.*; 3. CVA: ICD-9 428.*; 4. CHF: ICD-9 943.0; 5. DM: ICD-9
425.0; 6. Renal: ICD-9 958.0.
</p>
<p>This function merges the ICD-9 guidelines
used by Boersma with some of the other ICD-9 classifiers in this package.
This data set uses the following for each aspect of the RCRI:
1. procedure is left to you
2. 'ischemia' as defined in Boersma
3. 'cvd' as defined by Quan in <code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>
4. 'chf' as defined by AHRQ in <code><a href="#topic+icd9cm_elixhauser_ahrq37">icd9cm_elixhauser_ahrq37</a></code>
5. 'dm' as  defined by AHRQ (both 'dm' and 'dmcx')
6. renlfail' as defined by AHRQ.
</p>


<h3>Value</h3>

<p>A data frame, with ICD9 codes as row names and logical columns for
<code>chf</code>, <code>cvd</code>, <code>dm</code>, <code>ischemia</code>, and <code>renlfail</code>.
</p>


<h3>References</h3>

<p>1. Lee TH, Marcantonio ER, Mangione CM, Thomas EJ, Polanczyk CA,
Cook EF, Sugarbaker DJ, Donaldson MC, Poss R, Ho KK, Ludwig LE, Pedan A,
Goldman L: Derivation and prospective validation of a simple index for
prediction of cardiac risk of major noncardiac surgery. Circulation 1999;
100:1043-9 <a href="http://www.ncbi.nlm.nih.gov/pubmed/10477528">http://www.ncbi.nlm.nih.gov/pubmed/10477528</a>
</p>
<p>2. Boersma E, Kertai MD, Schouten O, Bax JJ, Noordzij P, Steyerberg EW,
Schinkel AFL, Santen M van, Simoons ML, Thomson IR, Klein J, Urk H van,
Poldermans D: Perioperative cardiovascular mortality in noncardiac surgery:
validation of the Lee cardiac risk index. The American journal of medicine
2005; 118:1134-41 <a href="http://www.ncbi.nlm.nih.gov/pubmed/16194645">http://www.ncbi.nlm.nih.gov/pubmed/16194645</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, <code><a href="#topic+icd9cm_elixhauser_quan">icd9cm_elixhauser_quan</a></code>,
<code><a href="#topic+icd9cm_elixhauser_ahrq37">icd9cm_elixhauser_ahrq37</a></code>
</p>

<hr>
<h2 id='icd9cm_sessler_rsi'>Returns composite Sessler risk stratification index, given a list of ICD-9-CM codes.</h2><span id='topic+icd9cm_sessler_rsi'></span>

<h3>Description</h3>

<p>ICD-9-CM codes must have periods removed.  Diagnostic codes are prefixed with
'D' while procedure codes are prefixed with 'P'. So, diagnostic code
<code>404.03</code> should be <code>"D40403"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>icd9cm_sessler_rsi(icd9)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="icd9cm_sessler_rsi_+3A_icd9">icd9</code></td>
<td>
<p>a unique character vector of ICD-9-CM codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note: A subsequent publication (Sigakis, 2013) found the following:
&quot;Calibration &quot;in-the-large&quot; for RSI in-hospitalmortality illustrated a discrepancy
between actual (1.5
identified a regression constant (-2.198) in the published RSI
&quot;all-covariates.xls&quot; file that was not used in the published SPSS implementation
macro.&quot;
</p>


<h3>Value</h3>

<p>The risk stratification index score
</p>


<h3>Author(s)</h3>

<p>Tom Joseph &lt;thomas.joseph@mountsinai.org&gt;,
Patrick McCormick &lt;patrick.mccormick@mountsinai.org&gt;
</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
</p>
<p>2. Sigakis MJG, Bittner EA, Wanderer JP: Validation of a risk stratification
index and risk quantification index for predicting patient outcomes:
in-hospital mortality, 30-day mortality, 1-year mortality, and length-of-stay.
Anesthesiology 2013; 119:525-40
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Calculate RSI for each patient ("id") in dataframe
cases &lt;- data.frame(id=c(1,1,1,2,2,2),
  icd9cm=c("D20206","D24220","D4439","D5064","DE8788","D40403"),
  stringsAsFactors=TRUE)
library(plyr)
ddply(cases, .(id), function(x) { icd9cm_sessler_rsi(x$icd9cm) } )
</code></pre>

<hr>
<h2 id='melt_icd9list'>Convert ICD-9-CM code list to dataframe</h2><span id='topic+melt_icd9list'></span>

<h3>Description</h3>

<p><code>melt_icd9list</code> uses <code>ddply</code> to melt a column of comma-separated ICD-9-CM
codes into a series of rows, one for each code.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>melt_icd9list(
  df,
  idvar = "id",
  icd9var = "icd9cm",
  .progress = "none",
  .parallel = FALSE,
  .paropts = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="melt_icd9list_+3A_df">df</code></td>
<td>
<p>a data frame with at least two columns, specified as <code>idvar</code>
and <code>icd9var</code>.</p>
</td></tr>
<tr><td><code id="melt_icd9list_+3A_idvar">idvar</code></td>
<td>
<p>string with name of ID variable within <code>df</code> (defaults to &quot;id&quot;)</p>
</td></tr>
<tr><td><code id="melt_icd9list_+3A_icd9var">icd9var</code></td>
<td>
<p>string with name of ICD code variable within <code>df</code> (defaults to &quot;icd9cm&quot;)</p>
</td></tr>
<tr><td><code id="melt_icd9list_+3A_.progress">.progress</code></td>
<td>
<p>passed to <code>ddply</code></p>
</td></tr>
<tr><td><code id="melt_icd9list_+3A_.parallel">.parallel</code></td>
<td>
<p>passed to <code>ddply</code></p>
</td></tr>
<tr><td><code id="melt_icd9list_+3A_.paropts">.paropts</code></td>
<td>
<p>passed to <code>ddply</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with two columns, <code>idvar</code> and <code>"icd9cm"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cases &lt;- data.frame(id=c(1,2),
    icd9list=c('162.4,070.30,155.0,401.9','996.52,E878.8,V45.86'),
    stringsAsFactors=TRUE)
melt_icd9list(cases, "id", "icd9list")
</code></pre>

<hr>
<h2 id='merge_icd9_dx_and_procs'>Merge ICD-9-CM diagnostic and procedure codes</h2><span id='topic+merge_icd9_dx_and_procs'></span>

<h3>Description</h3>

<p>Merges a dataframe containing ICD-9-CM diagostic codes with a dataframe containing ICD-9 procedure codes
Diagnostic codes are prefixed with 'D', while procedure codes are prefixed with 'P'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_icd9_dx_and_procs(
  dx_df,
  proc_df,
  icd9dxvar = "icd9cm",
  icd9pvar = "icd9cm"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="merge_icd9_dx_and_procs_+3A_dx_df">dx_df</code></td>
<td>
<p>a data frame with at least two columns, specified as <code>idvar</code>
and <code>icd9dxvar</code>, where the values are ICD-9 diagnostic codes</p>
</td></tr>
<tr><td><code id="merge_icd9_dx_and_procs_+3A_proc_df">proc_df</code></td>
<td>
<p>a data frame with at least two columns, specified as <code>idvar</code>
and <code>icd9pvar</code>, where the values are ICD-9 procedure codes</p>
</td></tr>
<tr><td><code id="merge_icd9_dx_and_procs_+3A_icd9dxvar">icd9dxvar</code></td>
<td>
<p>name of icd9 diagnostic code column, default &quot;icd9cm&quot;</p>
</td></tr>
<tr><td><code id="merge_icd9_dx_and_procs_+3A_icd9pvar">icd9pvar</code></td>
<td>
<p>name of icd9 procedure code column, default &quot;icd9cm&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a merged dataframe with common columns and <code>"icd9cm"</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cases &lt;- data.frame(id=c(1,2),
                    icd9dxlist=c('162.4,070.30,155.0,401.9','996.52,E878.8,V45.86'),
                    icd9plist=c('38.16','38.42'),
                    stringsAsFactors=TRUE)
dx_df &lt;- melt_icd9list(cases, "id", "icd9dxlist")
proc_df &lt;- melt_icd9list(cases, "id", "icd9plist")
merge_icd9_dx_and_procs(dx_df, proc_df)
</code></pre>

<hr>
<h2 id='rsi_beta_1yrpod'>Values for calculating RSI for 1 year mortality</h2><span id='topic+rsi_beta_1yrpod'></span>

<h3>Description</h3>

<p>Values for calculating RSI for 1 year mortality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsi_beta_1yrpod
</code></pre>


<h3>Format</h3>

<p>A hash (see package &quot;hash&quot;), where key is icd9cm code, and value is beta.
Special key &quot;popbeta&quot; has the population beta for the entire table.</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
<a href="http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx">http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx</a>
</p>

<hr>
<h2 id='rsi_beta_30dlos'>Values for calculating RSI for 30-day length of stay</h2><span id='topic+rsi_beta_30dlos'></span>

<h3>Description</h3>

<p>Values for calculating RSI for 30-day length of stay
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsi_beta_30dlos
</code></pre>


<h3>Format</h3>

<p>A hash (see package &quot;hash&quot;), where key is icd9cm code, and value is beta.
Special key &quot;popbeta&quot; has the population beta for the entire table.</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
<a href="http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx">http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx</a>
</p>

<hr>
<h2 id='rsi_beta_30dpod'>Values for calculating RSI for 30-day mortality</h2><span id='topic+rsi_beta_30dpod'></span>

<h3>Description</h3>

<p>Values for calculating RSI for 30-day mortality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsi_beta_30dpod
</code></pre>


<h3>Format</h3>

<p>A hash (see package &quot;hash&quot;), where key is icd9cm code, and value is beta.
Special key &quot;popbeta&quot; has the population beta for the entire table.</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
<a href="http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx">http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx</a>
</p>

<hr>
<h2 id='rsi_beta_inhosp'>Values for calculating RSI for in-hospital mortality.</h2><span id='topic+rsi_beta_inhosp'></span>

<h3>Description</h3>

<p>Values for calculating RSI for in-hospital mortality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsi_beta_inhosp
</code></pre>


<h3>Format</h3>

<p>A hash (see package &quot;hash&quot;), where key is icd9cm code, and value is beta.
Special key &quot;popbeta&quot; has the population beta for the entire table.</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
<a href="http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx">http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx</a>
</p>

<hr>
<h2 id='rsi_sample_data'>Sample data for validating RSI</h2><span id='topic+rsi_sample_data'></span>

<h3>Description</h3>

<p>Sample data for validating RSI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsi_sample_data
</code></pre>


<h3>Format</h3>

<p>A data table with a patient ID and several columns with ICD-9-CM codes.</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
<a href="http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx">http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rsi_sample_results">rsi_sample_results</a></code>, <code><a href="#topic+verify_sessler_rsi">verify_sessler_rsi</a></code>
</p>

<hr>
<h2 id='rsi_sample_results'>Sample results for validating RSI</h2><span id='topic+rsi_sample_results'></span>

<h3>Description</h3>

<p>Sample results for validating RSI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rsi_sample_results
</code></pre>


<h3>Format</h3>

<p>A data table with a patient ID, principal diagnosis, principal procedure, and RSI result columns.</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
<a href="http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx">http://my.clevelandclinic.org/anesthesiology/outcomes-research/risk-stratification-index.aspx</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rsi_sample_data">rsi_sample_data</a></code>, <code><a href="#topic+verify_sessler_rsi">verify_sessler_rsi</a></code>
</p>

<hr>
<h2 id='sessler_get_single_beta'>Returns the covariate coefficient for a particular diagnosis
or procedure code, along with the actual code that was found in
the internal database of coefficients. If a child code is supplied
but its parent is in the database, the coefficient for the parent
will be returned, along with that parent code. For example, if
D1231 is supplied but only D123 is available, D123 will be used.
This is apparently how the SPSS sample code works.</h2><span id='topic+sessler_get_single_beta'></span>

<h3>Description</h3>

<p>Returns the covariate coefficient for a particular diagnosis
or procedure code, along with the actual code that was found in
the internal database of coefficients. If a child code is supplied
but its parent is in the database, the coefficient for the parent
will be returned, along with that parent code. For example, if
D1231 is supplied but only D123 is available, D123 will be used.
This is apparently how the SPSS sample code works.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sessler_get_single_beta(code, betalist)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sessler_get_single_beta_+3A_code">code</code></td>
<td>
<p>A single ICD-9-CM code</p>
</td></tr>
<tr><td><code id="sessler_get_single_beta_+3A_betalist">betalist</code></td>
<td>
<p>One of the rsi_beta_* datasets (supplied with this package)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Covariate coefficient. You must sum all of these for a given patient and then
subtract the appropriate population beta (e.g. rsi_beta_1yrpod$popbeta)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get coefficient for hypercholesterolemia
sessler_get_single_beta('D2720', rsi_beta_inhosp)
# Also works with extra 0 on the end
sessler_get_single_beta('D27200', rsi_beta_inhosp)
</code></pre>

<hr>
<h2 id='verify_sessler_rsi'>Validates this Sessler RSI implementation against reference data</h2><span id='topic+verify_sessler_rsi'></span>

<h3>Description</h3>

<p>Requires that &quot;sample data rev2.csv&quot; and &quot;sample results rev2.csv&quot; be available
in datasrc directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_sessler_rsi()
</code></pre>


<h3>Value</h3>

<p>Table of patients with scores &gt;0.001 difference.
</p>


<h3>Author(s)</h3>

<p>Patrick McCormick &lt;patrick.mccormick@mountsinai.org&gt;
</p>


<h3>References</h3>

<p>1. Sessler DI, Sigl JC, Manberg PJ, Kelley SD, Schubert A, Chamoun NG.
Broadly applicable risk stratification system for predicting duration of hospitalization and mortality.
Anesthesiology. 2010 Nov;113(5):1026-37. doi: 10.1097/ALN.0b013e3181f79a8d.
</p>


<h3>See Also</h3>

<p>rsi_sample_data, rsi_sample_results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
verify_sessler_rsi()

## End(Not run)
</code></pre>

<hr>
<h2 id='vt_inp_sample'>First 100 patients and their ICD-9-CM codes from the Vermont Uniform Hospital
Discharge Data Set for 2011, Inpatient.</h2><span id='topic+vt_inp_sample'></span>

<h3>Description</h3>

<p>Diagnostic ICD-9 codes are prefixed with 'D', while procedural ICD-9 codes are prefixed with 'P'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_inp_sample
</code></pre>


<h3>Format</h3>

<p>A data frame, with column &quot;id&quot; (numeric), some descriptive columns,
&quot;dx&quot; (factor), and &quot;icd9cm&quot; (factor)</p>


<h3>References</h3>

<p><a href="http://healthvermont.gov/research/hospital-utilization/RECENT_PU_FILES.aspx">http://healthvermont.gov/research/hospital-utilization/RECENT_PU_FILES.aspx</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+icd9cm_charlson_deyo">icd9cm_charlson_deyo</a></code>, 
<code><a href="#topic+icd9cm_charlson_quan">icd9cm_charlson_quan</a></code>, 
<code><a href="#topic+icd9cm_charlson_romano">icd9cm_charlson_romano</a></code>, 
<code><a href="#topic+icd9cm_elixhauser_quan">icd9cm_elixhauser_quan</a></code>, 
<code><a href="#topic+icd9cm_elixhauser_ahrq37">icd9cm_elixhauser_ahrq37</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>max(vt_inp_sample$scu_days)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

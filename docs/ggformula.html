<!DOCTYPE html><html><head><title>Help for package ggformula</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggformula}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggformula'><p>ggformula: Formula Interface to the Grammar of Graphics</p></a></li>
<li><a href='#discrete_breaks'><p>Discrete Breaks</p></a></li>
<li><a href='#get_variable_labels'><p>Set and extract labels from a labeled object</p></a></li>
<li><a href='#gf_abline'><p>Reference lines &ndash; horizontal, vertical, and diagonal.</p></a></li>
<li><a href='#gf_area'><p>Formula interface to geom_area()</p></a></li>
<li><a href='#gf_ash'><p>Average Shifted Histograms</p></a></li>
<li><a href='#gf_bar'><p>Formula interface to geom_bar()</p></a></li>
<li><a href='#gf_barh'><p>Deprecated horizontal plotting functions</p></a></li>
<li><a href='#gf_bin2d'><p>Formula interface to geom_bin2d()</p></a></li>
<li><a href='#gf_blank'><p>Formula interface to geom_blank()</p></a></li>
<li><a href='#gf_boxplot'><p>Formula interface to geom_boxplot()</p></a></li>
<li><a href='#gf_col'><p>Formula interface to geom_col()</p></a></li>
<li><a href='#gf_contour'><p>Formula interface to geom_contour() and geom_contour_filled()</p></a></li>
<li><a href='#gf_count'><p>Formula interface to geom_count()</p></a></li>
<li><a href='#gf_crossbar'><p>Formula interface to geom_crossbar()</p></a></li>
<li><a href='#gf_curve'><p>Formula interface to geom_curve()</p></a></li>
<li><a href='#gf_density'><p>Formula interface to stat_density()</p></a></li>
<li><a href='#gf_density_2d'><p>Formula interface to geom_density_2d() and geom_density_2d_filled()</p></a></li>
<li><a href='#gf_dist'><p>Plot distributions</p></a></li>
<li><a href='#gf_dotplot'><p>Formula interface to geom_dotplot()</p></a></li>
<li><a href='#gf_ecdf'><p>Formula interace to empirical cumulative distribution</p></a></li>
<li><a href='#gf_ellipse'><p>Formula interface to stat_ellipse()</p></a></li>
<li><a href='#gf_empty'><p>Create an &quot;empty&quot; plot</p></a></li>
<li><a href='#gf_errorbar'><p>Formula interface to geom_errorbar()</p></a></li>
<li><a href='#gf_facet_wrap'><p>Add facets to a plot</p></a></li>
<li><a href='#gf_fitdistr'><p>Plot density function based on fit to data</p></a></li>
<li><a href='#gf_freqpoly'><p>Formula interface to geom_freqpoly()</p></a></li>
<li><a href='#gf_function'><p>Layers displaying graphs of functions</p></a></li>
<li><a href='#gf_function_2d'><p>Plot functions of two variables</p></a></li>
<li><a href='#gf_hex'><p>Formula interface to geom_hex()</p></a></li>
<li><a href='#gf_histogram'><p>Formula interface to geom_histogram()</p></a></li>
<li><a href='#gf_jitter'><p>Formula interface to geom_jitter()</p></a></li>
<li><a href='#gf_labs'><p>Non-layer functions for gf plots</p></a></li>
<li><a href='#gf_line'><p>Formula interface to geom_line() and geom_path()</p></a></li>
<li><a href='#gf_linerange'><p>Formula interface to geom_linerange() and geom_pointrange()</p></a></li>
<li><a href='#gf_plot'><p>Formula interface to ggplot()</p></a></li>
<li><a href='#gf_point'><p>Formula interface to geom_point()</p></a></li>
<li><a href='#gf_polygon'><p>Formula interface to geom_polygon()</p></a></li>
<li><a href='#gf_qq'><p>Formula interface to geom_qq()</p></a></li>
<li><a href='#gf_quantile'><p>Formula interface to geom_quantile()</p></a></li>
<li><a href='#gf_raster'><p>Formula interface to geom_raster()</p></a></li>
<li><a href='#gf_rect'><p>Formula interface to geom_rect()</p></a></li>
<li><a href='#gf_relabel'><p>Modify plot labeling</p></a></li>
<li><a href='#gf_ribbon'><p>Formula interface to geom_ribbon()</p></a></li>
<li><a href='#gf_ridgeline'><p>Formula interface to ggridges plots</p></a></li>
<li><a href='#gf_rug'><p>Formula interface to geom_rug()</p></a></li>
<li><a href='#gf_segment'><p>Formula interface to geom_segment()</p></a></li>
<li><a href='#gf_sf'><p>Mapping with shape files</p></a></li>
<li><a href='#gf_sina'><p>Formula interface to geom_sina()</p></a></li>
<li><a href='#gf_smooth'><p>Formula interface to geom_smooth()</p></a></li>
<li><a href='#gf_spline'><p>Formula interface to geom_spline()</p></a></li>
<li><a href='#gf_spoke'><p>Formula interface to geom_spoke()</p></a></li>
<li><a href='#gf_step'><p>Formula interface to geom_step()</p></a></li>
<li><a href='#gf_text'><p>Formula interface to geom_text() and geom_label()</p></a></li>
<li><a href='#gf_theme'><p>Themes for ggformula</p></a></li>
<li><a href='#gf_tile'><p>Formula interface to geom_tile()</p></a></li>
<li><a href='#gf_violin'><p>Formula interface to geom_violin()</p></a></li>
<li><a href='#layer_factory'><p>Create a ggformula layer function</p></a></li>
<li><a href='#MIpop'><p>Population of Michigan counties</p></a></li>
<li><a href='#percs_by_group'><p>Compute groupwise proportions and percents</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#stat_fitdistr'><p>A stat for fitting distributions</p></a></li>
<li><a href='#stat_lm'><p>Linear Model Displays</p></a></li>
<li><a href='#stat_qqline'><p>A Stat for Adding Reference Lines to QQ-Plots</p></a></li>
<li><a href='#stat_spline'><p>Geoms and stats for spline smoothing</p></a></li>
<li><a href='#StatAsh'><p>ggproto classes for ggplot2</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Formula Interface to the Grammar of Graphics</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a formula interface to 'ggplot2' graphics.</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.12.0</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1), ggplot2 (&ge; 3.3), scales, ggridges</td>
</tr>
<tr>
<td>Imports:</td>
<td>mosaicCore (&ge; 0.7.0), rlang, tibble, stringr, grid, labelled</td>
</tr>
<tr>
<td>Suggests:</td>
<td>tidyr, mosaicData, dplyr, lattice, mosaic, palmerpenguins,
testthat, vdiffr, knitr, rmarkdown, lubridate, survival, broom,
maps, sf, purrr, ggthemes, covr, ggplot2movies, interp,
quantreg</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ProjectMOSAIC/ggformula">https://github.com/ProjectMOSAIC/ggformula</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ProjectMOSAIC/ggformula/issues">https://github.com/ProjectMOSAIC/ggformula/issues</a></td>
</tr>
<tr>
<td>Collate:</td>
<td>'MIpop-doc.R' 'formula2aes.R' 'gf_aux.R' 'gf_dist.R'
'layer_factory.R' 'gf_function2d.R' 'gf_functions.R'
'gf_plot.R' 'ggridges.R' 'ggstrings.R' 'newplots.R'
'reexports.R' 'scales.R' 'utils.R' 'relabel.R' 'vdiffr.R'
'ggstance-deprecated.R' 'ggformula-package.R' 'zzz.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-05 00:20:54 UTC; rpruim</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Kaplan [aut],
  Randall Pruim [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Randall Pruim &lt;rpruim@calvin.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-09 12:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggformula'>ggformula: Formula Interface to the Grammar of Graphics</h2><span id='topic+ggformula'></span><span id='topic+ggformula-package'></span>

<h3>Description</h3>

<p>Provides a formula interface to 'ggplot2' graphics.
</p>


<h3>The ggformula system</h3>

<p>The functions in <span class="pkg">ggformula</span> provide a formula interface to <span class="pkg">ggplot2</span> layer
functions and a system for working with pipes to create multi-layer
plots and to refine plots.
For plots with just one layer, the formula interface
is more compact than native <span class="pkg">ggplot2</span> code and is consistent with modeling
functions like <code><a href="stats.html#topic+lm">stats::lm()</a></code> that use a formula interface and with the
numerical summary functions in the <span class="pkg">mosaic</span> package.
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a aesthetics) are typically specified using a formula
(see the <code>gformula</code> argument).
Setting and mapping of additional attributes can be done through the use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
A (sometimes partial) list of available attributes can be obtained by executing
plotting functions with no arguments.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to <code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment specified
by <code>environment</code>. This will typically do the right thing, but is exposed
in case some non-standard behavior is desired. In earlier versions,
the environment of the formula was used, but since some functions in
the package do not require a formula, a separate argument is used now.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Randall Pruim <a href="mailto:rpruim@calvin.edu">rpruim@calvin.edu</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Daniel Kaplan <a href="mailto:kaplan@macalester.edu">kaplan@macalester.edu</a>
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ProjectMOSAIC/ggformula">https://github.com/ProjectMOSAIC/ggformula</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ProjectMOSAIC/ggformula/issues">https://github.com/ProjectMOSAIC/ggformula/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>apropos("gf_")
gf_point()
</code></pre>

<hr>
<h2 id='discrete_breaks'>Discrete Breaks</h2><span id='topic+discrete_breaks'></span>

<h3>Description</h3>

<p>Creates a function that can be passed to scales for creating discrete breaks
at multilples of <code>resolution</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>discrete_breaks(resolution = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="discrete_breaks_+3A_resolution">resolution</code></td>
<td>
<p>Resolution of the breaks</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that can be passed to scales functions as the <code>breaks</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rbinom(100, 100, 0.4)
p &lt;- gf_bar( ~ x)
p |&gt; gf_refine(scale_x_continuous(breaks = discrete_breaks()))
p |&gt; gf_refine(scale_x_continuous(breaks = discrete_breaks(5)))
p |&gt; gf_refine(scale_x_continuous(breaks = discrete_breaks(2)))
</code></pre>

<hr>
<h2 id='get_variable_labels'>Set and extract labels from a labeled object</h2><span id='topic+get_variable_labels'></span>

<h3>Description</h3>

<p>Some packages like expss provide mechanisms for providing longer labels to R objects.
These labels can be used when labeling plots and tables, for example, without requiring
long or awkward variable names.  This is an experimental feature and currently only supports
expss or any other system that stores a label in the <code>label</code> attribute of a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_variable_labels(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_variable_labels_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="labelled.html#topic+var_label">labelled::var_label()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>get_variable_labels()</code> is a synonym of <code><a href="labelled.html#topic+var_label">labelled::var_label()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="labelled.html#topic+var_label">labelled::var_label()</a></code>, <code><a href="labelled.html#topic+var_label">labelled::set_variable_labels()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>KF &lt;-
  mosaicData::KidsFeet |&gt;
  set_variable_labels(
      length      = 'foot length (cm)',
      width       = 'foot width (cm)',
      birthmonth  = 'birth month',
      birthyear   = 'birth year',
      biggerfoot  = 'bigger foot',
      domhand     = 'dominant hand'
  )
KF |&gt;
  gf_point(length ~ width, color = ~ domhand)
get_variable_labels(KF)
</code></pre>

<hr>
<h2 id='gf_abline'>Reference lines &ndash; horizontal, vertical, and diagonal.</h2><span id='topic+gf_abline'></span><span id='topic+gf_hline'></span><span id='topic+gf_vline'></span><span id='topic+gf_coefline'></span>

<h3>Description</h3>

<p>These functions create layers that display lines described i various ways.  Unlike most
of the plotting functions in <code>ggformula</code>, these functions do not take a formula
as input for describing positional attributes of the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_abline(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  slope,
  intercept,
  color,
  linetype,
  linewidth,
  alpha,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  show.legend = NA,
  show.help = NULL,
  inherit = FALSE,
  environment = parent.frame()
)

gf_hline(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  yintercept,
  color,
  linetype,
  linewidth,
  alpha,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  show.legend = NA,
  show.help = NULL,
  inherit = FALSE,
  environment = parent.frame()
)

gf_vline(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  xintercept,
  color,
  linetype,
  linewidth,
  alpha,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  show.legend = NA,
  show.help = NULL,
  inherit = FALSE,
  environment = parent.frame()
)

gf_coefline(object = NULL, coef = NULL, model = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_abline_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_gformula">gformula</code></td>
<td>
<p>Must be <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_title">title</code>, <code id="gf_abline_+3A_subtitle">subtitle</code>, <code id="gf_abline_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_xintercept">xintercept</code>, <code id="gf_abline_+3A_yintercept">yintercept</code>, <code id="gf_abline_+3A_slope">slope</code>, <code id="gf_abline_+3A_intercept">intercept</code></td>
<td>
<p>Parameters that control the
position of the line. If these are set, <code>data</code>, <code>mapping</code> and
<code>show.legend</code> are overridden.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_coef">coef</code></td>
<td>
<p>A numeric vector of coefficients.</p>
</td></tr>
<tr><td><code id="gf_abline_+3A_model">model</code></td>
<td>
<p>A model from which to extract coefficients.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_abline()</a></code>,
<code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_vline()</a></code>,
<code><a href="ggplot2.html#topic+geom_abline">ggplot2::geom_hline()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>mtcars2 &lt;- df_stats(wt ~ cyl, data = mtcars, median_wt = median)
gf_point(wt ~ hp, size = ~wt, color = ~cyl, data = mtcars) |&gt;
  gf_abline(slope = ~0, intercept = ~median_wt, color = ~cyl, data = mtcars2)

gf_point(wt ~ hp, size = ~wt, color = ~cyl, data = mtcars) |&gt;
  gf_abline(slope = 0, intercept = 3, color = "green")

# avoid warnings by using formulas:

gf_point(wt ~ hp, size = ~wt, color = ~cyl, data = mtcars) |&gt;
  gf_abline(slope = ~0, intercept = ~3, color = "green")

gf_point(wt ~ hp, size = ~wt, color = ~cyl, data = mtcars) |&gt;
  gf_hline(yintercept = ~median_wt, color = ~cyl, data = mtcars2)

gf_point(mpg ~ hp, color = ~cyl, size = ~wt, data = mtcars) |&gt;
  gf_abline(color = "red", slope = ~ - 0.10, intercept = ~ 35)

gf_point(mpg ~ hp, color = ~cyl, size = ~wt, data = mtcars) |&gt;
  gf_abline(
    color = "red", slope = ~slope, intercept = ~intercept,
    data = data.frame(slope = -0.10, intercept = 33:35)
  )

# We can set the color of the guidelines while mapping color in other layers
gf_point(mpg ~ hp, color = ~cyl, size = ~ wt, data = mtcars) |&gt;
  gf_hline(color = "navy", yintercept = ~ c(20, 25), data = NA) |&gt;
  gf_vline(color = "brown", xintercept = ~ c(200, 300), data = NA)

# If we want to map the color of the guidelines, it must work with the
# scale of the other colors in the plot.
gf_point(mpg ~ hp, size = ~wt, data = mtcars, alpha = 0.3) |&gt;
  gf_hline(color = ~"horizontal", yintercept = ~ c(20, 25), data = NA) |&gt;
  gf_vline(color = ~"vertical", xintercept = ~ c(100, 200, 300), data = NA)

gf_point(mpg ~ hp, size = ~wt, color = ~ factor(cyl), data = mtcars, alpha = 0.3) |&gt;
  gf_hline(color = "orange", yintercept = ~ 20) |&gt;
  gf_vline(color = ~ c("4", "6", "8"), xintercept = ~ c(80, 120, 250), data = NA)

gf_point(mpg ~ hp, size = ~wt, color = ~ factor(cyl), data = mtcars, alpha = 0.3) |&gt;
  gf_hline(color = "orange", yintercept = ~ 20) |&gt;
  gf_vline(color = c("green", "red", "blue"), xintercept = ~ c(80, 120, 250),
    data = NA)

# reversing the layers requires using inherit = FALSE
gf_hline(color = "orange", yintercept = ~ 20) |&gt;
  gf_vline(color = ~ c("4", "6", "8"), xintercept = ~ c(80, 120, 250), data = NA) |&gt;
  gf_point(mpg ~ hp,
    size = ~wt, color = ~ factor(cyl), data = mtcars, alpha = 0.3,
    inherit = FALSE
  )
</code></pre>

<hr>
<h2 id='gf_area'>Formula interface to geom_area()</h2><span id='topic+gf_area'></span>

<h3>Description</h3>

<p>For each x value, <code>geom_ribbon()</code> displays a y interval defined
by <code>ymin</code> and <code>ymax</code>. <code>geom_area()</code> is a special case of
<code>geom_ribbon()</code>, where the <code>ymin</code> is fixed to 0 and <code>y</code> is used instead
of <code>ymax</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_area(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "area",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_area_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_area_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_area_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_title">title</code>, <code id="gf_area_+3A_subtitle">subtitle</code>, <code id="gf_area_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_area_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_area_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_area_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_ribbon">ggplot2::geom_area()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(dplyr) &amp;&amp; require(mosaicData)) {
  Temps &lt;- Weather |&gt;
    filter(city == "Chicago", year == 2016, month &lt;= 4)
  gf_linerange(low_temp + high_temp ~ date, color = ~high_temp, data = Temps)
  gf_ribbon(low_temp + high_temp ~ date, data = Temps, color = "navy", alpha = 0.3)
  gf_area(high_temp ~ date, data = Temps, color = "navy", alpha = 0.3)

  gf_ribbon(low_temp + high_temp ~ date, data = Weather, alpha = 0.3) |&gt;
    gf_facet_grid(city ~ .)

  gf_linerange(low_temp + high_temp ~ date, color = ~high_temp, data = Weather) |&gt;
    gf_facet_grid(city ~ .) |&gt;
    gf_refine(scale_colour_gradientn(colors = rev(rainbow(5))))
}
</code></pre>

<hr>
<h2 id='gf_ash'>Average Shifted Histograms</h2><span id='topic+gf_ash'></span><span id='topic+stat_ash'></span><span id='topic+geom_ash'></span>

<h3>Description</h3>

<p>An ASH plot is the average over all histograms of a fixed bin width.
<code>geom_ash()</code> and <code>gf_ash()</code> provide ways to create ASH plots
using <span class="pkg">ggplot2</span> or <span class="pkg">ggformula</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_ash(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "line",
  stat = "ash",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

stat_ash(
  mapping = NULL,
  data = NULL,
  geom = "line",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  binwidth = NULL,
  adjust = 1,
  ...
)

geom_ash(
  mapping = NULL,
  data = NULL,
  stat = "ash",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  binwidth = NULL,
  adjust = 1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_ash_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~x</code> or <code>y ~ x</code>.
<code>y</code> may be <code>stat(density)</code> or <code>stat(count)</code> or <code>stat(ndensity)</code> or <code>stat(ncount)</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_title">title</code>, <code id="gf_ash_+3A_subtitle">subtitle</code>, <code id="gf_ash_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_mapping">mapping</code></td>
<td>
<p>set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>
or <code><a href="ggplot2.html#topic+aes_">aes_()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_na.rm">na.rm</code></td>
<td>
<p>If FALSE (the default), removes missing values with a warning.
If TRUE silently removes missing values.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>A logical indicating whether default aesthetics are inherited.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_binwidth">binwidth</code></td>
<td>
<p>the width of the histogram bins.  If <code>NULL</code> (the default) the
binwidth will be chosen so that approximately 10 bins cover the data.  <code>adjust</code>
can be used to to increase or decrease <code>binwidth</code>.</p>
</td></tr>
<tr><td><code id="gf_ash_+3A_adjust">adjust</code></td>
<td>
<p>a numeric adjustment to <code>binwidth</code>.  Primarily useful when <code>binwidth</code> is
not specified.  Increasing <code>adjust</code> makes the plot smoother.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_histogram">geom_histogram()</a></code>, <code>link{gf_histogram}()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(penguins, package = "palmerpenguins")
gf_ash(~bill_length_mm, color = ~species, data = penguins)
gf_ash(~bill_length_mm, color = ~species, data = penguins, adjust = 2)
gf_ash(~bill_length_mm, color = ~species, data = penguins, binwidth = 1)
gf_ash(~bill_length_mm, color = ~species, data = penguins, binwidth = 1, adjust = 2)
ggplot(faithful, aes(x = eruptions)) +
  geom_histogram(aes(y = stat(density)),
    fill = "lightskyblue", colour = "gray50", alpha = 0.2
  ) +
  geom_ash(colour = "red") +
  geom_ash(colour = "forestgreen", adjust = 2) +
  geom_ash(colour = "navy", adjust = 1 / 2) +
  theme_minimal()
</code></pre>

<hr>
<h2 id='gf_bar'>Formula interface to geom_bar()</h2><span id='topic+gf_bar'></span><span id='topic+gf_counts'></span><span id='topic+gf_props'></span><span id='topic+gf_percents'></span>

<h3>Description</h3>

<p>There are two types of bar charts: <code>geom_bar()</code> and <code>geom_col()</code>.
<code>geom_bar()</code> makes the height of the bar proportional to the number of
cases in each group (or if the <code>weight</code> aesthetic is supplied, the sum
of the weights). If you want the heights of the bars to represent values
in the data, use <code>geom_col()</code> instead. <code>geom_bar()</code> uses <code>stat_count()</code> by
default: it counts the number of cases at each x position. <code>geom_col()</code>
uses <code>stat_identity()</code>: it leaves the data as is.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_bar(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  width = NULL,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "count",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_counts(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  width = NULL,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "count",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_props(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab = "proportion",
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "count",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame(),
  denom = ~PANEL
)

gf_percents(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab = "percent",
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "count",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame(),
  denom = ~PANEL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_bar_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_gformula">gformula</code></td>
<td>
<p>A formula, typically with shape <code>~ x</code>.  (<code>y ~ x</code> is also possible,
but typically using one of <code><a href="#topic+gf_col">gf_col()</a></code>, <code><a href="#topic+gf_props">gf_props()</a></code>, or <code><a href="#topic+gf_percents">gf_percents()</a></code> is preferable
to using this formula shape.)
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_width">width</code></td>
<td>
<p>Width of the bars.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_title">title</code>, <code id="gf_bar_+3A_subtitle">subtitle</code>, <code id="gf_bar_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_geom">geom</code>, <code id="gf_bar_+3A_stat">stat</code></td>
<td>
<p>Override the default connection between <code>geom_bar()</code> and
<code>stat_count()</code>.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_bar_+3A_denom">denom</code></td>
<td>
<p>A formula, the right hand side of which describes the denominators used for
computing proportions and percents.  These are computed after the stat has been applied
to the data and should refer to variables available at that point.  See the examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_bar">ggplot2::geom_bar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_bar(~substance, data = mosaicData::HELPrct)
gf_bar(~substance, data = mosaicData::HELPrct, fill = ~sex)
gf_bar(~substance,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge()
)
# gf_counts() is another name for gf_bar()
gf_counts(~substance,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge()
)
# gf_props() and gf_percents() use proportions or percentages instead of counts
# use denom to control which denominators are used.
gf_props(~substance,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge()
)
gf_props(substance ~ .,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge(),
  orientation = 'y'
)
gf_props(substance ~ .,
  data = mosaicData::HELPrct, fill = ~sex,
  position = "dodge"
)

gf_percents(~substance,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge()
)
gf_percents(~substance,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge(),
  denom = ~x
)
gf_percents(~substance,
  data = mosaicData::HELPrct, fill = ~sex,
  position = position_dodge(),
  denom = ~fill
)
gf_percents(~substance | sex,
  data = mosaicData::HELPrct, fill = ~homeless,
  position = position_dodge()
)
gf_percents(~substance | sex,
  data = mosaicData::HELPrct,
  fill = ~homeless,
  denom = ~fill,
  position = position_dodge()
)
gf_percents(~substance | sex,
  data = mosaicData::HELPrct,
  fill = ~homeless,
  denom = ~interaction(fill, PANEL),
  position = position_dodge()
)
if (require(scales)) {
  gf_percents(~substance,
    data = mosaicData::HELPrct, fill = ~sex,
    position = position_dodge(),
    denom = ~ x,
  ) |&gt;
    gf_refine(scale_y_continuous(labels = scales::percent))
}
</code></pre>

<hr>
<h2 id='gf_barh'>Deprecated horizontal plotting functions</h2><span id='topic+gf_barh'></span><span id='topic+ggstance'></span><span id='topic+gf_countsh'></span><span id='topic+gf_colh'></span><span id='topic+gf_propsh'></span><span id='topic+gf_percentsh'></span><span id='topic+gf_boxploth'></span><span id='topic+gf_linerangeh'></span><span id='topic+gf_pointrangeh'></span><span id='topic+gf_crossbarh'></span><span id='topic+gf_violinh'></span><span id='topic+gf_errorbarh'></span>

<h3>Description</h3>

<p>These functions were wrappers around functions from <code>ggstance</code> from an era
before <code>ggplot2</code> supported horizonally oriented geoms.  <code>ggstance</code> has not
been updated to comply with the current version of <code>ggplot2</code>, and since the
functionalilty is now available by other means, these functions have been
deprecated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_barh(...)

gf_countsh(...)

gf_colh(...)

gf_propsh(...)

gf_percentsh(...)

gf_boxploth(...)

gf_linerangeh(...)

gf_pointrangeh(...)

gf_crossbarh(...)

gf_violinh(...)

gf_errorbarh(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_barh_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gf_violin(carat ~ color, data = diamonds)
gf_violin(carat ~ color, data = diamonds) |&gt;
  gf_refine(coord_flip())
gf_violin(color ~ carat, data = diamonds)
gf_density(~ carat, data = diamonds)
gf_density(carat ~ ., data = diamonds)
</code></pre>

<hr>
<h2 id='gf_bin2d'>Formula interface to geom_bin2d()</h2><span id='topic+gf_bin2d'></span>

<h3>Description</h3>

<p><code>geom_bin2d()</code> uses <code><a href="ggplot2.html#topic+geom_bin_2d">ggplot2::stat_bin2d()</a></code> to bin the data before using
<code><a href="#topic+gf_tile">gf_tile()</a></code> to display the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_bin2d(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "tile",
  stat = "bin2d",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_bin2d_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_title">title</code>, <code id="gf_bin2d_+3A_subtitle">subtitle</code>, <code id="gf_bin2d_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_bin2d_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>
<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>
<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_bin_2d">ggplot2::geom_bin2d()</a></code>, <code><a href="#topic+gf_tile">gf_tile()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_bin2d(eruptions ~ waiting, data = faithful, bins = 15) |&gt;
  gf_refine(scale_fill_viridis_c(begin = 0.1, end = 0.9))
</code></pre>

<hr>
<h2 id='gf_blank'>Formula interface to geom_blank()</h2><span id='topic+gf_blank'></span><span id='topic+gf_frame'></span>

<h3>Description</h3>

<p>The blank geom draws nothing, but can be a useful way of ensuring common
scales between different plots. See <code><a href="ggplot2.html#topic+expand_limits">expand_limits()</a></code> for
more details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_blank(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "blank",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_frame(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "blank",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_blank_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_title">title</code>, <code id="gf_blank_+3A_subtitle">subtitle</code>, <code id="gf_blank_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_blank_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_blank">ggplot2::geom_blank()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
gf_point((c(0, 1)) ~ (c(0, 5)))
gf_frame((c(0, 1)) ~ (c(0, 5)))
gf_blank((c(0, 1)) ~ (c(0, 5)))
# gf_blank() can be used to expand the view
gf_point((c(0, 1)) ~ (c(0, 5))) |&gt;
  gf_blank((c(0, 3)) ~ (c(-2, 7)))
</code></pre>

<hr>
<h2 id='gf_boxplot'>Formula interface to geom_boxplot()</h2><span id='topic+gf_boxplot'></span>

<h3>Description</h3>

<p>The boxplot compactly displays the distribution of a continuous variable.
It visualises five summary statistics (the median, two hinges
and two whiskers), and all &quot;outlying&quot; points individually.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_boxplot(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  coef,
  outlier.color = NULL,
  outlier.fill = NULL,
  outlier.shape = 19,
  outlier.size = 1.5,
  outlier.stroke = 0.5,
  outlier.alpha = NULL,
  notch = FALSE,
  notchwidth = 0.5,
  varwidth = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "boxplot",
  stat = "boxplot",
  position = "dodge",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_boxplot_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_coef">coef</code></td>
<td>
<p>Length of the whiskers as multiple of IQR. Defaults to 1.5.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_outlier.color">outlier.color</code>, <code id="gf_boxplot_+3A_outlier.fill">outlier.fill</code>, <code id="gf_boxplot_+3A_outlier.shape">outlier.shape</code>, <code id="gf_boxplot_+3A_outlier.size">outlier.size</code>, <code id="gf_boxplot_+3A_outlier.stroke">outlier.stroke</code>, <code id="gf_boxplot_+3A_outlier.alpha">outlier.alpha</code></td>
<td>
<p>Default aesthetics for outliers.
Set to NULL to inherit from the aesthetics used for the box.
In the unlikely event you specify both US and UK spellings of colour,
the US spelling will take precedence.
Sometimes it can be useful to hide the outliers, for example when overlaying the
raw data points on top of the boxplot. Hiding the outliers can be achieved by
setting outlier.shape = NA. Importantly, this does not remove the outliers, it only
hides them, so the range calculated for the y-axis will be the same with outliers shown
and outliers hidden.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_notch">notch</code></td>
<td>
<p>If <code>FALSE</code> (default) make a standard box plot. If
<code>TRUE</code>, make a notched box plot. Notches are used to compare groups;
if the notches of two boxes do not overlap, this suggests that the medians
are significantly different.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_notchwidth">notchwidth</code></td>
<td>
<p>For a notched box plot, width of the notch relative to
the body (defaults to <code>notchwidth = 0.5</code>).</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_varwidth">varwidth</code></td>
<td>
<p>If <code>FALSE</code> (default) make a standard box plot. If
<code>TRUE</code>, boxes are drawn with widths proportional to the
square-roots of the number of observations in the groups (possibly
weighted, using the <code>weight</code> aesthetic).</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_title">title</code>, <code id="gf_boxplot_+3A_subtitle">subtitle</code>, <code id="gf_boxplot_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_geom">geom</code>, <code id="gf_boxplot_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_boxplot()</code> and <code>stat_boxplot()</code>.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_boxplot_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>References</h3>

<p>McGill, R., Tukey, J. W. and Larsen, W. A. (1978) Variations of
box plots. The American Statistician 32, 12-16.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_boxplot">ggplot2::geom_boxplot()</a></code>, <code><a href="stats.html#topic+fivenum">fivenum()</a></code>, <code><a href="#topic+df_stats">df_stats()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_boxplot(age ~ substance, data = mosaicData::HELPrct)
gf_boxplot(age ~ substance, data = mosaicData::HELPrct, varwidth = TRUE)
gf_boxplot(age ~ substance, data = mosaicData::HELPrct, color = ~sex)
gf_boxplot(age ~ substance,
  data = mosaicData::HELPrct,
  color = ~sex, outlier.color = "gray50"
)
# longer whiskers
gf_boxplot(age ~ substance,
  data = mosaicData::HELPrct,
  color = ~sex, coef = 2
)

# Note: width for boxplots is full width of box.
#       For jittering, it is the half-width.
gf_boxplot(age ~ substance | sex,
  data = mosaicData::HELPrct,
  coef = 5, width = 0.4
) |&gt;
  gf_jitter(width = 0.2, alpha = 0.3)
# move boxplots away a bit by adjusting dodge
gf_boxplot(age ~ substance,
  data = mosaicData::HELPrct,
  color = ~sex, position = position_dodge(width = 0.9)
)
</code></pre>

<hr>
<h2 id='gf_col'>Formula interface to geom_col()</h2><span id='topic+gf_col'></span>

<h3>Description</h3>

<p>There are two types of bar charts: <code>geom_bar()</code> and <code>geom_col()</code>.
<code>geom_bar()</code> makes the height of the bar proportional to the number of
cases in each group (or if the <code>weight</code> aesthetic is supplied, the sum
of the weights). If you want the heights of the bars to represent values
in the data, use <code>geom_col()</code> instead. <code>geom_bar()</code> uses <code>stat_count()</code> by
default: it counts the number of cases at each x position. <code>geom_col()</code>
uses <code>stat_identity()</code>: it leaves the data as is.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_col(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "col",
  stat = "identity",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_col_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_col_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_title">title</code>, <code id="gf_col_+3A_subtitle">subtitle</code>, <code id="gf_col_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_col_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_bar">ggplot2::geom_col()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>SomeData &lt;- data.frame(
  group = LETTERS[1:3],
  count = c(20, 25, 18)
)
gf_col(count ~ group, data = SomeData)

# A Pareto chart

if (require(dplyr) &amp;&amp; require(mosaicData)) {
  HELPrct |&gt;
    group_by(substance) |&gt;
    summarise(count = n()) |&gt;
    ungroup() |&gt;
    dplyr::arrange(-count) |&gt;
    mutate(
      cumcount = cumsum(count),
      substance = reorder(substance, -count)
    ) |&gt;
    gf_col(count ~ substance, fill = "skyblue") |&gt;
    gf_point(cumcount ~ substance) |&gt;
    gf_line(cumcount ~ substance, group = 1) |&gt;
    gf_refine(
      scale_y_continuous(sec.axis = sec_axis(~ . / nrow(HELPrct)))
    )
}
</code></pre>

<hr>
<h2 id='gf_contour'>Formula interface to geom_contour() and geom_contour_filled()</h2><span id='topic+gf_contour'></span><span id='topic+gf_contour_filled'></span>

<h3>Description</h3>

<p>ggplot2 can not draw true 3D surfaces, but you can use <code>geom_contour()</code>,
<code>geom_contour_filled()</code>, and <code><a href="ggplot2.html#topic+geom_tile">geom_tile()</a></code> to visualise 3D surfaces in 2D.
</p>
<p>These functions require regular data, where the <code>x</code> and <code>y</code> coordinates
form an equally spaced grid, and each combination of <code>x</code> and <code>y</code> appears
once. Missing values of <code>z</code> are allowed, but contouring will only work for
grid points where all four corners are non-missing. If you have irregular
data, you'll need to first interpolate on to a grid before visualising,
using <code><a href="interp.html#topic+interp">interp::interp()</a></code>, <code><a href="akima.html#topic+bilinear">akima::bilinear()</a></code>, or similar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_contour(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "contour",
  stat = "contour",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_contour_filled(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "contour_filled",
  stat = "contour_filled",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_contour_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_title">title</code>, <code id="gf_contour_+3A_subtitle">subtitle</code>, <code id="gf_contour_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_contour_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_contour">ggplot2::geom_contour()</a></code>, <code><a href="#topic+gf_density_2d">gf_density_2d()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_density_2d(eruptions ~ waiting, data = faithful, alpha = 0.5, color = "navy") |&gt;
  gf_contour(density ~ waiting + eruptions, data = faithfuld, bins = 10, color = "red")
gf_contour_filled(density ~ waiting + eruptions, data = faithfuld, bins = 10,
    show.legend = FALSE) |&gt;
  gf_jitter(eruptions ~ waiting, data = faithful, color = "white", alpha = 0.5,
    inherit = FALSE)
</code></pre>

<hr>
<h2 id='gf_count'>Formula interface to geom_count()</h2><span id='topic+gf_count'></span>

<h3>Description</h3>

<p>This is a variant <code><a href="ggplot2.html#topic+geom_point">geom_point()</a></code> that counts the number of
observations at each location, then maps the count to point area. It
useful when you have discrete data and overplotting.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_count(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  shape,
  size,
  stroke,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "point",
  stat = "sum",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_count_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_count_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_shape">shape</code></td>
<td>
<p>An integer or letter shape or a formula used for mapping shape.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_size">size</code></td>
<td>
<p>A numeric size or a formula used for mapping size.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_stroke">stroke</code></td>
<td>
<p>A numeric size of the border or a formula used to map stroke.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_title">title</code>, <code id="gf_count_+3A_subtitle">subtitle</code>, <code id="gf_count_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_count_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_count">ggplot2::geom_count()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Best used in conjunction with scale_size_area which ensures that
# counts of zero would be given size 0. This doesn't make much difference
# here because the smallest count is already close to 0.

gf_count(hwy ~ cty, data = mpg, alpha = 0.3) |&gt;
  gf_refine(scale_size_area())
</code></pre>

<hr>
<h2 id='gf_crossbar'>Formula interface to geom_crossbar()</h2><span id='topic+gf_crossbar'></span>

<h3>Description</h3>

<p>Various ways of representing a vertical interval defined by <code>x</code>,
<code>ymin</code> and <code>ymax</code>. Each case draws a single graphical object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_crossbar(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  fatten = 2.5,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "crossbar",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_crossbar_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y + ymin + ymax ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_fatten">fatten</code></td>
<td>
<p>A multiplicative factor used to increase the size of the
middle bar in <code>geom_crossbar()</code> and the middle point in
<code>geom_pointrange()</code>.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_title">title</code>, <code id="gf_crossbar_+3A_subtitle">subtitle</code>, <code id="gf_crossbar_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_crossbar_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_crossbar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(mosaicData) &amp;&amp; require(dplyr)) {
  HELP2 &lt;- HELPrct |&gt;
    summarise(.by = c(substance, sex),
      mean.age   = mean(age),
      median.age = median(age),
      max.age    = max(age),
      min.age    = min(age),
      sd.age     = sd(age),
      lo         = mean.age - sd.age,
      hi         = mean.age + sd.age
    )

  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.7, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_pointrange(mean.age + lo + hi ~ substance, data = HELP2) |&gt;
    gf_facet_grid(~sex)

  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.7, width = 0.2, height = 0, color = "skyblue")  |&gt;
    gf_errorbar(lo + hi ~ substance, data = HELP2, inherit = FALSE) |&gt;
    gf_facet_grid(~sex)

  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.7, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_crossbar(mean.age + lo + hi ~ substance, data = HELP2,
      fill = "transparent") |&gt;
    gf_facet_grid(~sex)

  gf_jitter(substance ~ age, data = HELPrct,
      alpha = 0.7, height = 0.2, width = 0, color = "skyblue") |&gt;
    gf_crossbar(substance ~ mean.age + lo + hi, data = HELP2,
      fill = "transparent", color = "red") |&gt;
    gf_facet_grid(~sex)
}

</code></pre>

<hr>
<h2 id='gf_curve'>Formula interface to geom_curve()</h2><span id='topic+gf_curve'></span>

<h3>Description</h3>

<p><code>geom_segment()</code> draws a straight line between points (x, y) and
(xend, yend). <code>geom_curve()</code> draws a curved line. See the underlying
drawing function <code><a href="grid.html#topic+grid.curve">grid::curveGrob()</a></code> for the parameters that
control the curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_curve(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  curvature = 0.5,
  angle = 90,
  ncp = 5,
  arrow = NULL,
  lineend = "butt",
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "curve",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_curve_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y + yend ~ x + xend</code>.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_curvature">curvature</code></td>
<td>
<p>A numeric value giving the amount of curvature.
Negative values produce left-hand curves, positive values
produce right-hand curves, and zero produces a straight line.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_angle">angle</code></td>
<td>
<p>A numeric value between 0 and 180,
giving an amount to skew the control
points of the curve.  Values less than 90 skew the curve towards
the start point and values greater than 90 skew the curve
towards the end point.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_ncp">ncp</code></td>
<td>
<p>The number of control points used to draw the curve.
More control points creates a smoother curve.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_title">title</code>, <code id="gf_curve_+3A_subtitle">subtitle</code>, <code id="gf_curve_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_curve_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_segment">ggplot2::geom_curve()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>D &lt;- data.frame(x1 = 2.62, x2 = 3.57, y1 = 21.0, y2 = 15.0)
gf_point(mpg ~ wt, data = mtcars) |&gt;
  gf_curve(y1 + y2 ~ x1 + x2, data = D, color = "navy") |&gt;
  gf_segment(y1 + y2 ~ x1 + x2, data = D, color = "red")
</code></pre>

<hr>
<h2 id='gf_density'>Formula interface to stat_density()</h2><span id='topic+gf_density'></span><span id='topic+gf_dens'></span><span id='topic+gf_dens2'></span>

<h3>Description</h3>

<p>Computes and draws a kernel density estimate, which is a smoothed version of the
histogram and is a useful alternative when the data come from an underlying smooth
distribution.
The only difference between <code>gf_dens()</code> and <code>gf_density()</code> is the default geom
used to show the density curve: <code>gf_density()</code> uses an area geom (which can be filled).
<code>gf_dens()</code> using a line geom (which cannot be filled).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_density(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha = 0.5,
  color,
  fill,
  group,
  linetype,
  linewidth,
  kernel = "gaussian",
  n = 512,
  trim = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "area",
  stat = "density",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_dens(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha = 0.5,
  color,
  fill = NA,
  group,
  linetype,
  linewidth,
  kernel = "gaussian",
  n = 512,
  trim = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "line",
  stat = "density",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_dens2(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha = 0.5,
  color,
  fill = NA,
  group,
  linetype,
  linewidth,
  kernel = "gaussian",
  n = 512,
  trim = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density_line",
  stat = "density",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_density_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_density_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_density_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_kernel">kernel</code></td>
<td>
<p>Kernel. See list of available kernels in <code><a href="stats.html#topic+density">density()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_n">n</code></td>
<td>
<p>number of equally spaced points at which the density is to be
estimated, should be a power of two, see <code><a href="stats.html#topic+density">density()</a></code> for
details</p>
</td></tr>
<tr><td><code id="gf_density_+3A_trim">trim</code></td>
<td>
<p>If <code>FALSE</code>, the default, each density is computed on the
full range of the data. If <code>TRUE</code>, each density is computed over the
range of that group: this typically means the estimated x values will
not line-up, and hence you won't be able to stack density values.
This parameter only matters if you are displaying multiple densities in
one plot or if you are manually adjusting the scale limits.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_title">title</code>, <code id="gf_density_+3A_subtitle">subtitle</code>, <code id="gf_density_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_geom">geom</code>, <code id="gf_density_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_density()</code> and <code>stat_density()</code>.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_density_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gf_ash">gf_ash()</a></code>, <code><a href="ggplot2.html#topic+geom_density">ggplot2::geom_density()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_dens()
data(penguins, package = "palmerpenguins")
gf_density(~bill_length_mm, fill = ~species, data = penguins)
gf_dens(~bill_length_mm, color = ~species, data = penguins)
gf_dens2(~bill_length_mm, color = ~species, fill = ~species, data = penguins)
gf_freqpoly(~bill_length_mm, color = ~species, data = penguins, bins = 15)
# Chaining in the data
data(penguins, package = "palmerpenguins")
penguins |&gt; gf_dens(~bill_length_mm, color = ~species)
# horizontal orientation
penguins |&gt; gf_dens(bill_length_mm ~ ., color = ~species)
</code></pre>

<hr>
<h2 id='gf_density_2d'>Formula interface to geom_density_2d() and geom_density_2d_filled()</h2><span id='topic+gf_density_2d'></span><span id='topic+gf_density_2d_filled'></span><span id='topic+gf_density2d'></span><span id='topic+gf_density2d_filled'></span>

<h3>Description</h3>

<p>Perform a 2D kernel density estimation using <code><a href="MASS.html#topic+kde2d">MASS::kde2d()</a></code> and
display the results with contours. This can be useful for dealing with
overplotting. This is a 2D version of <code><a href="ggplot2.html#topic+geom_density">geom_density()</a></code>. <code>geom_density_2d()</code>
draws contour lines, and <code>geom_density_2d_filled()</code> draws filled contour
bands.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_density_2d(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  contour = TRUE,
  n = 100,
  h = NULL,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density_2d",
  stat = "density_2d",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density_2d_filled(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  contour = TRUE,
  n = 100,
  h = NULL,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density_2d_filled",
  stat = "density_2d_filled",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density2d(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  contour = TRUE,
  n = 100,
  h = NULL,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density2d",
  stat = "density2d",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density2d_filled(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  contour = TRUE,
  n = 100,
  h = NULL,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density2d_filled",
  stat = "density_2d_filled",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_density_2d_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_contour">contour</code></td>
<td>
<p>If <code>TRUE</code>, contour the results of the 2d density
estimation.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_n">n</code></td>
<td>
<p>Number of grid points in each direction.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_h">h</code></td>
<td>
<p>Bandwidth (vector of length two). If <code>NULL</code>, estimated
using <code><a href="MASS.html#topic+bandwidth.nrd">MASS::bandwidth.nrd()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_title">title</code>, <code id="gf_density_2d_+3A_subtitle">subtitle</code>, <code id="gf_density_2d_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_geom">geom</code>, <code id="gf_density_2d_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_density_2d()</code> and <code>stat_density_2d()</code>.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_density_2d_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_density_2d">ggplot2::geom_density_2d()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_jitter(avg_drinks ~ age,
  alpha = 0.2, data = mosaicData::HELPrct,
  width = 0.4, height = 0.4
) |&gt;
  gf_density_2d(avg_drinks ~ age, data = mosaicData::HELPrct)
gf_density_2d_filled(avg_drinks ~ age, data = mosaicData::HELPrct, show.legend = FALSE) |&gt;
  gf_jitter(avg_drinks ~ age,
    alpha = 0.3, data = mosaicData::HELPrct,
    width = 0.4, height = 0.4,
    color = "white"
)
gf_jitter(avg_drinks ~ age,
  alpha = 0.2, data = mosaicData::HELPrct,
  width = 0.4, height = 0.4
) |&gt;
  gf_density2d(avg_drinks ~ age, data = mosaicData::HELPrct)
gf_density2d_filled(avg_drinks ~ age, data = mosaicData::HELPrct, show.legend = FALSE) |&gt;
  gf_jitter(avg_drinks ~ age,
    alpha = 0.4, data = mosaicData::HELPrct,
    width = 0.4, height = 0.4,
    color = "white"
)
</code></pre>

<hr>
<h2 id='gf_dist'>Plot distributions</h2><span id='topic+gf_dist'></span>

<h3>Description</h3>

<p>Create a layer displaying a probability distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_dist(
  object = ggplot(),
  dist,
  ...,
  xlim = NULL,
  kind = c("density", "cdf", "qq", "qqstep", "histogram"),
  resolution = 5000L,
  eps = 1e-06,
  params = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_dist_+3A_object">object</code></td>
<td>
<p>a gg object.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_dist">dist</code></td>
<td>
<p>A character string providing the name of a distribution.  Any
distribution for which the functions with names formed by prepending
&quot;d&quot;, &quot;p&quot;, or &quot;q&quot; to <code>dist</code> exist can be used.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_...">...</code></td>
<td>
<p>additional arguments passed both to the distribution functions and
to the layer.  Note: Possible ambiguities using <code>params</code> or by preceding plot
argument with <code>plot_</code>.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_xlim">xlim</code></td>
<td>
<p>A numeric vector of length 2 providing lower and upper bounds for the
portion of the distribution that will be displayed.  The default is to attempt
to determine reasonable bounds using quantiles of the distribution.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_kind">kind</code></td>
<td>
<p>One of <code>"density"</code>, <code>"cdf"</code>, <code>"qq"</code>, <code>"qqstep"</code>, or <code>"histogram"</code>
describing what kind of plot to create.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_resolution">resolution</code></td>
<td>
<p>An integer specifying the number of points to use for creating
the plot.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_eps">eps</code></td>
<td>
<p>a (small) numeric value. When other defaults are not available, the
distribution is processed from the <code>eps</code> to <code>1 - eps</code> quantiles.</p>
</td></tr>
<tr><td><code id="gf_dist_+3A_params">params</code></td>
<td>
<p>a list of parameters for the distribution.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gf_dhistogram(~ rnorm(100), bins = 20) |&gt;
  gf_dist("norm", color = "red")

# shading tails -- but see pdist() for this
gf_dist("norm", fill = ~ (abs(x) &lt;= 2), geom = "area")
gf_dist("norm", color = "red", kind = "cdf")
gf_dist("norm", fill = "red", kind = "histogram")
gf_dist("norm", color = "red", kind = "qqstep", resolution = 25) |&gt;
  gf_dist("norm", color = "black", kind = "qq", resolution = 25, linewidth = 2, alpha = 0.5)
# size is used as parameter for binomial distribution
gf_dist("binom", size = 20, prob = 0.25)
# If we want to adjust size argument for plots, we have two choices:
gf_dist("binom", size = 20, prob = 0.25, plot_size = 2)
gf_dist("binom", params = list(size = 20, prob = 0.25), size = 2)
</code></pre>

<hr>
<h2 id='gf_dotplot'>Formula interface to geom_dotplot()</h2><span id='topic+gf_dotplot'></span>

<h3>Description</h3>

<p>Scatterplots in <code>ggformula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_dotplot(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  binwidth = NULL,
  binaxis = "x",
  method = "dotdensity",
  binpositions = "bygroup",
  stackdir = "up",
  stackratio = 1,
  dotsize = 1,
  stackgroups = FALSE,
  origin = NULL,
  right = TRUE,
  width = 0.9,
  drop = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_dotplot_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_binwidth">binwidth</code></td>
<td>
<p>When <code>method</code> is &quot;dotdensity&quot;, this specifies maximum bin
width. When <code>method</code> is &quot;histodot&quot;, this specifies bin width.
Defaults to 1/30 of the range of the data</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_binaxis">binaxis</code></td>
<td>
<p>The axis to bin along, &quot;x&quot; (default) or &quot;y&quot;</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_method">method</code></td>
<td>
<p>&quot;dotdensity&quot; (default) for dot-density binning, or
&quot;histodot&quot; for fixed bin widths (like stat_bin)</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_binpositions">binpositions</code></td>
<td>
<p>When <code>method</code> is &quot;dotdensity&quot;, &quot;bygroup&quot; (default)
determines positions of the bins for each group separately. &quot;all&quot; determines
positions of the bins with all the data taken together; this is used for
aligning dot stacks across multiple groups.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_stackdir">stackdir</code></td>
<td>
<p>which direction to stack the dots. &quot;up&quot; (default),
&quot;down&quot;, &quot;center&quot;, &quot;centerwhole&quot; (centered, but with dots aligned)</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_stackratio">stackratio</code></td>
<td>
<p>how close to stack the dots. Default is 1, where dots
just touch. Use smaller values for closer, overlapping dots.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_dotsize">dotsize</code></td>
<td>
<p>The diameter of the dots relative to <code>binwidth</code>, default 1.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_stackgroups">stackgroups</code></td>
<td>
<p>should dots be stacked across groups? This has the effect
that <code>position = "stack"</code> should have, but can't (because this geom has
some odd properties).</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_origin">origin</code></td>
<td>
<p>When <code>method</code> is &quot;histodot&quot;, origin of first bin</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_right">right</code></td>
<td>
<p>When <code>method</code> is &quot;histodot&quot;, should intervals be closed
on the right (a, b], or not [a, b)</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_width">width</code></td>
<td>
<p>When <code>binaxis</code> is &quot;y&quot;, the spacing of the dot stacks
for dodging.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_drop">drop</code></td>
<td>
<p>If TRUE, remove all bins with zero counts</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_title">title</code>, <code id="gf_dotplot_+3A_subtitle">subtitle</code>, <code id="gf_dotplot_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_dotplot_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two basic approaches: <em>dot-density</em> and <em>histodot</em>.
With dot-density binning, the bin positions are determined by the data and
<code>binwidth</code>, which is the maximum width of each bin. See Wilkinson
(1999) for details on the dot-density binning algorithm. With histodot
binning, the bins have fixed positions and fixed widths, much like a
histogram.
</p>
<p>When binning along the x axis and stacking along the y axis, the numbers on
y axis are not meaningful, due to technical limitations of ggplot2. You can
hide the y axis, as in one of the examples, or manually scale it
to match the number of dots.
</p>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Warning</h3>

<p>Dotplots in <code>ggplot2</code> (and hence in <code>ggformula</code>) often require some fiddling because
the default y-axis is meaningless and the ideal size of the dots depends on the
aspect ratio of the plot.
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>References</h3>

<p>Wilkinson, L. (1999) Dot plots. The American Statistician,
53(3), 276-281.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_dotplot">ggplot2::geom_dotplot()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(penguins, package = "palmerpenguins")
gf_dotplot(~bill_length_mm, fill = ~species, data = penguins)
</code></pre>

<hr>
<h2 id='gf_ecdf'>Formula interace to empirical cumulative distribution</h2><span id='topic+gf_ecdf'></span>

<h3>Description</h3>

<p>The empirical cumulative distribution function (ECDF) provides an alternative
visualization of distribution. Compared to other visualizations that rely on
density (like histograms or density plots) the ECDF doesn't require any tuning
parameters and handles both continuous and categorical variables. The
downside is that it requires more training to accurately interpret, and the
underlying visual tasks are somewhat more challenging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_ecdf(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  group,
  pad,
  n = NULL,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "step",
  stat = "ecdf",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_ecdf_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_pad">pad</code></td>
<td>
<p>If <code>TRUE</code>, pad the ecdf with additional points (-Inf, 0)
and (Inf, 1)</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_n">n</code></td>
<td>
<p>if NULL, do not interpolate. If not NULL, this is the number
of points to interpolate with.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_title">title</code>, <code id="gf_ecdf_+3A_subtitle">subtitle</code>, <code id="gf_ecdf_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_ecdf_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>Data &lt;- data.frame(
  x = c(rnorm(100, 0, 1), rnorm(100, 0, 3), rt(100, df = 3)),
  g = gl(3, 100, labels = c("N(0, 1)", "N(0, 3)", "T(df = 3)") )
)
gf_ecdf( ~ x, data = Data)
# Don't go to positive/negative infinity
gf_ecdf( ~ x, data = Data, pad = FALSE)

# Multiple ECDFs
gf_ecdf( ~ x, data = Data, color = ~ g)
</code></pre>

<hr>
<h2 id='gf_ellipse'>Formula interface to stat_ellipse()</h2><span id='topic+gf_ellipse'></span>

<h3>Description</h3>

<p>Formula interface to <code><a href="ggplot2.html#topic+stat_ellipse">ggplot2::stat_ellipse()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_ellipse(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  type = "t",
  level = 0.95,
  segments = 51,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "path",
  stat = "ellipse",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_ellipse_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_type">type</code></td>
<td>
<p>The type of ellipse.
The default <code>"t"</code> assumes a multivariate t-distribution, and
<code>"norm"</code> assumes a multivariate normal distribution.
<code>"euclid"</code> draws a circle with the radius equal to <code>level</code>,
representing the euclidean distance from the center.
This ellipse probably won't appear circular unless <code>coord_fixed()</code> is applied.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_level">level</code></td>
<td>
<p>The level at which to draw an ellipse,
or, if <code>type="euclid"</code>, the radius of the circle to be drawn.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_segments">segments</code></td>
<td>
<p>The number of segments to be used in drawing the ellipse.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_title">title</code>, <code id="gf_ellipse_+3A_subtitle">subtitle</code>, <code id="gf_ellipse_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_geom">geom</code></td>
<td>
<p>Geom for drawing ellipse.  Note: <code>"polygon"</code> allows fill; <code>"path"</code> does not;
on the other hand, <code>"path"</code> allows <code>alpha</code> to be applied to the border, while <code>"polygon"</code>
applies <code>alpha</code> only to the interior.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_ellipse_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+stat_ellipse">ggplot2::stat_ellipse()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_ellipse()
gf_point(eruptions ~ waiting, data = faithful) |&gt;
  gf_ellipse(alpha = 0.5)

gf_point(eruptions ~ waiting, data = faithful, color = ~ (eruptions &gt; 3)) |&gt;
  gf_ellipse(alpha = 0.5)

gf_point(eruptions ~ waiting, data = faithful, color = ~ (eruptions &gt; 3)) |&gt;
  gf_ellipse(type = "norm", linetype = ~ "norm") |&gt;
  gf_ellipse(type = "t",    linetype = ~ "t")

gf_point(eruptions ~ waiting, data = faithful, color = ~ (eruptions &gt; 3)) |&gt;
  gf_ellipse(type = "norm",   linetype = ~ "norm") |&gt;
  gf_ellipse(type = "euclid", linetype = ~ "euclid", level = 3) |&gt;
  gf_refine(coord_fixed())

# Use geom = "polygon" to enable fill
gf_point(eruptions ~ waiting, data = faithful, fill = ~ (eruptions &gt; 3)) |&gt;
  gf_ellipse(geom = "polygon", alpha = 0.3, color = "black")

gf_point(eruptions ~ waiting, data = faithful, fill = ~ (eruptions &gt; 3)) |&gt;
  gf_ellipse(geom = "polygon", alpha = 0.3) |&gt;
  gf_ellipse(alpha = 0.3, color = "black")

gf_ellipse(eruptions ~ waiting, data = faithful, show.legend = FALSE,
  alpha = 0.3, fill = ~ (eruptions &gt; 3), geom = "polygon") |&gt;
  gf_ellipse(level = 0.68, geom = "polygon", alpha = 0.3) |&gt;
  gf_point(data = faithful, color = ~ (eruptions &gt; 3), show.legend = FALSE)
</code></pre>

<hr>
<h2 id='gf_empty'>Create an &quot;empty&quot; plot</h2><span id='topic+gf_empty'></span>

<h3>Description</h3>

<p>This is primarily useful as a way to start a sequence of piped
plot layers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_empty(environment = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_empty_+3A_environment">environment</code></td>
<td>
<p>An environment passed to <code><a href="ggplot2.html#topic+ggplot">ggplot2::ggplot()</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with now layers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_empty()
data(penguins, package = "palmerpenguins")
gf_empty() |&gt;
  gf_point(bill_length_mm ~ bill_depth_mm, data = penguins, color = ~species)
</code></pre>

<hr>
<h2 id='gf_errorbar'>Formula interface to geom_errorbar()</h2><span id='topic+gf_errorbar'></span>

<h3>Description</h3>

<p>For each x value, <code>geom_ribbon()</code> displays a y interval defined
by <code>ymin</code> and <code>ymax</code>. <code>geom_area()</code> is a special case of
<code>geom_ribbon()</code>, where the <code>ymin</code> is fixed to 0 and <code>y</code> is used instead
of <code>ymax</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_errorbar(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "errorbar",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_errorbar_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>ymin + ymax ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_title">title</code>, <code id="gf_errorbar_+3A_subtitle">subtitle</code>, <code id="gf_errorbar_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_errorbar_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_errorbar()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(mosaicData) &amp;&amp; require(dplyr)) {
  HELP2 &lt;- HELPrct |&gt;
    group_by(substance, sex) |&gt;
    summarise(
      mean.age = mean(age),
      median.age = median(age),
      max.age = max(age),
      min.age = min(age),
      sd.age = sd(age),
      lo = mean.age - sd.age,
      hi = mean.age + sd.age
    )

  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.5, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_pointrange(mean.age + lo + hi ~ substance, data = HELP2,
      inherit = FALSE) |&gt;
    gf_facet_grid(~sex)

  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.5, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_errorbar(lo + hi ~ substance, data = HELP2, inherit = FALSE) |&gt;
    gf_facet_grid(~sex)
  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.5, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_boxplot(age ~ substance, data = HELPrct, color = "red") |&gt;
    gf_crossbar(mean.age + lo + hi ~ substance, data = HELP2) |&gt;
    gf_facet_grid(~sex)
}
</code></pre>

<hr>
<h2 id='gf_facet_wrap'>Add facets to a plot</h2><span id='topic+gf_facet_wrap'></span><span id='topic+gf_facet_grid'></span>

<h3>Description</h3>

<p>These functions provide more control over faceting than is possible using
the formula interface.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_facet_wrap(object, ...)

gf_facet_grid(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_facet_wrap_+3A_object">object</code></td>
<td>
<p>A ggplot object</p>
</td></tr>
<tr><td><code id="gf_facet_wrap_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This typically includes an unnamed formula argument describing the facets.
<code>scales</code> and <code>space</code> are additional useful arguments.  See the examples.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+facet_grid">ggplot2::facet_grid()</a></code>, <code><a href="ggplot2.html#topic+facet_wrap">ggplot2::facet_wrap()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_histogram(~avg_drinks, data = mosaicData::HELPrct) |&gt;
  gf_facet_grid(~substance)
gf_histogram(~avg_drinks, data = mosaicData::HELPrct) |&gt;
  gf_facet_grid(~substance, scales = "free")
gf_histogram(~avg_drinks, data = mosaicData::HELPrct) |&gt;
  gf_facet_grid(~substance, scales = "free", space = "free")
gf_line(births ~ date, data = mosaicData::Births, color = ~wday) |&gt;
  gf_facet_wrap(~year, scales = "free_x", nrow = 5) |&gt;
  gf_theme(
    axis.title.x = element_blank(),
    axis.text.x = element_blank(), axis.ticks.x = element_blank()
  ) |&gt;
  gf_labs(color = "Day")
</code></pre>

<hr>
<h2 id='gf_fitdistr'>Plot density function based on fit to data</h2><span id='topic+gf_fitdistr'></span>

<h3>Description</h3>

<p><code>MASS::fitdistr()</code> is used to fit coefficients of a specified family of
distributions and the resulting density curve is displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_fitdistr(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  dist = "dnorm",
  start = NULL,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  size,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "path",
  stat = "fitdistr",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = FALSE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_fitdistr_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument. See examples.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code> ~ x</code> used to specify the data
to be fit to a family of distributions.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_data">data</code></td>
<td>
<p>A data frame containing the variable to be fitted.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_dist">dist</code></td>
<td>
<p>A quoted name of a distribution function.
See <code><a href="mosaicCore.html#topic+fit_distr_fun">mosaicCore::fit_distr_fun()</a></code> for more details about allowable distributions.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_start">start</code></td>
<td>
<p>Starting value(s) for the search for MLE.  (See <a href="MASS.html#topic+fitdistr">MASS::fitdistr</a>.)</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_size">size</code></td>
<td>
<p>size aesthetic for dots in pmf plots.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_title">title</code>, <code id="gf_fitdistr_+3A_subtitle">subtitle</code>, <code id="gf_fitdistr_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_fitdistr_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="mosaicCore.html#topic+fit_distr_fun">mosaicCore::fit_distr_fun()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_fitdistr(~length, data = mosaicData::KidsFeet, inherit = FALSE) |&gt;
  gf_dhistogram(~length, data = mosaicData::KidsFeet, binwidth = 0.5, alpha = 0.25)

gf_dhistogram(~length, data = mosaicData::KidsFeet, binwidth = 0.5, alpha = 0.25) |&gt;
  gf_fitdistr()

set.seed(12345)
Dat &lt;- data.frame(
  f = rf(500, df1 = 3, df2 = 47),
  g = rgamma(500, 3, 10)
)
gf_dhistogram(~g, data = Dat) |&gt;
  gf_fitdistr(dist = "dgamma", linewidth = 1.4)

gf_dhistogram(~g, data = Dat) |&gt;
  gf_fun(mosaicCore::fit_distr_fun(~g, data = Dat, dist = "dgamma"))

gf_dhistogram(~f, data = Dat) |&gt;
  gf_fitdistr(dist = "df", start = list(df1 = 2, df2 = 50))

# fitted parameters are default argument values
args(
  mosaicCore::fit_distr_fun(~f,
    data = Dat, dist = "df",
    start = list(df1 = 2, df2 = 50)
  )
)
args(mosaicCore::fit_distr_fun(~g, data = Dat, dist = "dgamma"))
</code></pre>

<hr>
<h2 id='gf_freqpoly'>Formula interface to geom_freqpoly()</h2><span id='topic+gf_freqpoly'></span>

<h3>Description</h3>

<p>Visualise the distribution of a single continuous variable by dividing
the x axis into bins and counting the number of observations in each bin.
Histograms (<code>geom_histogram()</code>) display the counts with bars; frequency
polygons (<code>geom_freqpoly()</code>) display the counts with lines. Frequency
polygons are more suitable when you want to compare the distribution
across the levels of a categorical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_freqpoly(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  binwidth,
  bins,
  center,
  boundary,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "path",
  stat = "bin",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_freqpoly_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~ x</code> or <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_binwidth">binwidth</code></td>
<td>
<p>The width of the bins. Can be specified as a numeric value
or as a function that calculates width from unscaled x. Here, &quot;unscaled x&quot;
refers to the original x values in the data, before application of any
scale transformation. When specifying a function along with a grouping
structure, the function will be called once per group.
The default is to use the number of bins in <code>bins</code>,
covering the range of the data. You should always override
this value, exploring multiple widths to find the best to illustrate the
stories in your data.
</p>
<p>The bin width of a date variable is the number of days in each time; the
bin width of a time variable is the number of seconds.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_bins">bins</code></td>
<td>
<p>Number of bins. Overridden by <code>binwidth</code>. Defaults to 30.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_center">center</code>, <code id="gf_freqpoly_+3A_boundary">boundary</code></td>
<td>
<p>bin position specifiers. Only one, <code>center</code> or
<code>boundary</code>, may be specified for a single plot. <code>center</code> specifies the
center of one of the bins. <code>boundary</code> specifies the boundary between two
bins. Note that if either is above or below the range of the data, things
will be shifted by the appropriate integer multiple of <code>binwidth</code>.
For example, to center on integers use <code>binwidth = 1</code> and <code>center = 0</code>, even
if <code>0</code> is outside the range of the data. Alternatively, this same alignment
can be specified with <code>binwidth = 1</code> and <code>boundary = 0.5</code>, even if <code>0.5</code> is
outside the range of the data.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_title">title</code>, <code id="gf_freqpoly_+3A_subtitle">subtitle</code>, <code id="gf_freqpoly_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_geom">geom</code>, <code id="gf_freqpoly_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_histogram()</code>/<code>geom_freqpoly()</code> and <code>stat_bin()</code>.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_freqpoly_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_histogram">ggplot2::geom_freqpoly()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(penguins, package = "palmerpenguins")
gf_histogram(~ bill_length_mm | species, alpha = 0.2, data = penguins, bins = 20) |&gt;
  gf_freqpoly(~bill_length_mm, data = penguins, color = ~species, bins = 20)
gf_freqpoly(~bill_length_mm, color = ~species, data = penguins, bins = 20)
gf_dens(~bill_length_mm, data = penguins, color = "navy") |&gt;
  gf_freqpoly(after_stat(density) ~ bill_length_mm,
    data = penguins,
    color = "red", bins = 20
  )
</code></pre>

<hr>
<h2 id='gf_function'>Layers displaying graphs of functions</h2><span id='topic+gf_function'></span><span id='topic+gf_fun'></span>

<h3>Description</h3>

<p>These functions provide two different
interfaces for creating a layer that contains the graph of a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_function(object = NULL, fun, data = NULL, ..., inherit = FALSE)

gf_fun(object = NULL, formula, data = NULL, ..., inherit = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_function_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_function_+3A_fun">fun</code></td>
<td>
<p>A function.</p>
</td></tr>
<tr><td><code id="gf_function_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_function_+3A_...">...</code></td>
<td>
<p>Additional arguments passed as <code>params</code> to <code>layer()</code>. This includes <code>xlim</code>,
a numeric vector providing the extent of
the x-axis values used to evaluate <code>fun</code> for plotting. By default, <code>xlim</code> is not used for
other layers.</p>
</td></tr>
<tr><td><code id="gf_function_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_function_+3A_formula">formula</code></td>
<td>
<p>A formula describing a function.  See examples and <code><a href="mosaicCore.html#topic+makeFun">mosaicCore::makeFun()</a></code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gf_function(fun = sqrt, xlim = c(0, 10))
gf_dhistogram(~age, data = mosaicData::HELPrct, binwidth = 3, alpha = 0.6) |&gt;
  gf_function(
    fun = stats::dnorm,
    args = list(mean = mean(mosaicData::HELPrct$age), sd = sd(mosaicData::HELPrct$age)),
    color = "red"
  )
gf_fun(5 + 3 * cos(10 * x) ~ x, xlim = c(0, 2))
# Utility bill is quadratic in month?
f &lt;- makeFun(lm(totalbill ~ poly(month, 2), data = mosaicData::Utilities))
gf_point(totalbill ~ month, data = mosaicData::Utilities, alpha = 0.6) |&gt;
  gf_fun(f(m) ~ m, color = "red")
</code></pre>

<hr>
<h2 id='gf_function_2d'>Plot functions of two variables</h2><span id='topic+gf_function_2d'></span><span id='topic+gf_function2d'></span><span id='topic+gf_function_contour'></span><span id='topic+gf_function_tile'></span><span id='topic+gf_fun_2d'></span><span id='topic+gf_fun2d'></span><span id='topic+gf_fun_tile'></span><span id='topic+gf_fun_contour'></span>

<h3>Description</h3>

<p>Plot functions of two variables as tile and/or contour plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_function_2d(
  object = NULL,
  fun = identity,
  xlim = NULL,
  ylim = NULL,
  ...,
  tile = TRUE,
  contour = TRUE,
  resolution = 50
)

gf_function2d(
  object = NULL,
  fun = identity,
  xlim = NULL,
  ylim = NULL,
  ...,
  tile = TRUE,
  contour = TRUE,
  resolution = 50
)

gf_function_contour(
  object = NULL,
  fun = identity,
  xlim = NULL,
  ylim = NULL,
  ...,
  resolution = 50
)

gf_function_tile(
  object = NULL,
  fun = identity,
  xlim = NULL,
  ylim = NULL,
  ...,
  resolution = 50
)

gf_fun_2d(
  object = NULL,
  formula = NULL,
  xlim = NULL,
  ylim = NULL,
  tile = TRUE,
  contour = TRUE,
  ...,
  resolution = 50
)

gf_fun2d(
  object = NULL,
  formula = NULL,
  xlim = NULL,
  ylim = NULL,
  tile = TRUE,
  contour = TRUE,
  ...,
  resolution = 50
)

gf_fun_tile(
  object = NULL,
  formula = NULL,
  xlim = NULL,
  ylim = NULL,
  ...,
  resolution = 50
)

gf_fun_contour(
  object = NULL,
  formula = NULL,
  xlim = NULL,
  ylim = NULL,
  ...,
  resolution = 50
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_function_2d_+3A_object">object</code></td>
<td>
<p>An R object, typically of class &quot;gg&quot;.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_fun">fun</code></td>
<td>
<p>A function of two variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_xlim">xlim</code></td>
<td>
<p>x limits for generating points to be plotted.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_ylim">ylim</code></td>
<td>
<p>y limits for generating points to be plotted.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="#topic+gf_tile">gf_tile()</a></code> or <code><a href="#topic+gf_contour">gf_contour()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_tile">tile</code></td>
<td>
<p>A logical indicating whether the tile layer should be drawn.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_contour">contour</code></td>
<td>
<p>A logical indicating whether the contour layer should be drawn.</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_resolution">resolution</code></td>
<td>
<p>A numeric vector of length 1 or 2 specifying the
number of grid points at which the function is evaluated (in each dimension).</p>
</td></tr>
<tr><td><code id="gf_function_2d_+3A_formula">formula</code></td>
<td>
<p>A formula describing a function of two variables to be plotted.  See <code><a href="mosaic.html#topic+reexports">mosaic::makeFun()</a></code>
for details regarding the conversion from a formula to a function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gg plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>theme_set(theme_bw())
gf_function_2d(fun = function(x, y) sin(2 * x * y), xlim = c(-pi, pi), ylim = c(-pi, pi)) |&gt;
  gf_refine(scale_fill_viridis_c())
gf_function_2d(fun = function(x, y) x + y, contour = FALSE)
gf_function_tile(fun = function(x, y) x * y) |&gt;
  gf_function_contour(fun = function(x, y) x * y, color = "white") |&gt;
  gf_refine(scale_fill_viridis_c())
gf_fun_tile(x * y ~ x + y, xlim = c(-3, 3), ylim = c(-2, 2)) |&gt;
  gf_fun_contour(x * y ~ x + y, color = "white") |&gt;
  gf_refine(scale_fill_viridis_c()) |&gt;
  gf_labs(fill = "product")
</code></pre>

<hr>
<h2 id='gf_hex'>Formula interface to geom_hex()</h2><span id='topic+gf_hex'></span>

<h3>Description</h3>

<p>Line plots in <code>ggformula</code>.  <code>gf_path()</code> differs from <code>gf_line()</code> in that points
are connected in the order in which they appear in <code>data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_hex(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  bins,
  binwidth,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "hex",
  stat = "binhex",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_hex_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_bins">bins</code></td>
<td>
<p>numeric vector giving number of bins in both vertical and
horizontal directions. Set to 30 by default.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_binwidth">binwidth</code></td>
<td>
<p>Numeric vector giving bin width in both vertical and
horizontal directions. Overrides <code>bins</code> if both set.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_title">title</code>, <code id="gf_hex_+3A_subtitle">subtitle</code>, <code id="gf_hex_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_geom">geom</code>, <code id="gf_hex_+3A_stat">stat</code></td>
<td>
<p>Override the default connection between <code>geom_hex()</code> and
<code>stat_binhex()</code>.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_hex_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_hex">ggplot2::geom_hex()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_hex(avg_drinks ~ age, data = mosaicData::HELPrct, bins = 15) |&gt;
  gf_density2d(avg_drinks ~ age, data = mosaicData::HELPrct, color = "red", alpha = 0.5)
</code></pre>

<hr>
<h2 id='gf_histogram'>Formula interface to geom_histogram()</h2><span id='topic+gf_histogram'></span><span id='topic+gf_dhistogram'></span><span id='topic+gf_dhistogramh'></span>

<h3>Description</h3>

<p>Count and density histograms in <code>ggformula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_histogram(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  bins = 25,
  binwidth,
  alpha = 0.5,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "bin",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_dhistogram(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  bins = 25,
  binwidth,
  alpha = 0.5,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "bin",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_dhistogramh(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  bins = 25,
  binwidth,
  alpha = 0.5,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "bar",
  stat = "bin",
  position = "stack",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_histogram_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~ x</code> (or <code>y ~ x</code>, but this shape is not
generally needed).</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_bins">bins</code></td>
<td>
<p>Number of bins. Overridden by <code>binwidth</code>. Defaults to 30.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_binwidth">binwidth</code></td>
<td>
<p>The width of the bins. Can be specified as a numeric value
or as a function that calculates width from unscaled x. Here, &quot;unscaled x&quot;
refers to the original x values in the data, before application of any
scale transformation. When specifying a function along with a grouping
structure, the function will be called once per group.
The default is to use the number of bins in <code>bins</code>,
covering the range of the data. You should always override
this value, exploring multiple widths to find the best to illustrate the
stories in your data.
</p>
<p>The bin width of a date variable is the number of days in each time; the
bin width of a time variable is the number of seconds.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_title">title</code>, <code id="gf_histogram_+3A_subtitle">subtitle</code>, <code id="gf_histogram_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_geom">geom</code>, <code id="gf_histogram_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_histogram()</code>/<code>geom_freqpoly()</code> and <code>stat_bin()</code>.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_histogram_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_histogram">ggplot2::geom_histogram()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rnorm(1000)
gf_histogram(~x, bins = 30)
gf_dhistogram(~x, bins = 30)
gf_dhistogram(~x, binwidth = 0.5, center = 0, color = "black")
gf_dhistogram(~x, binwidth = 0.5, boundary = 0, color = "black")
gf_dhistogramh(x ~ ., binwidth = 0.5, boundary = 0, color = "black")
gf_dhistogram(~x, bins = 30) |&gt;
  gf_fitdistr(dist = "dnorm") # see help for gf_fitdistr() for more info.

gf_histogram(~x, fill = ~ (abs(x) &lt;= 2), boundary = 2, binwidth = 0.25)

data(penguins, package = "palmerpenguins")
gf_histogram(~ bill_length_mm | species, data = penguins, binwidth = 0.25)
gf_histogram(~age,
  data = mosaicData::HELPrct, binwidth = 5,
  fill = "skyblue", color = "black"
)
# bins can be adjusted left/right using center or boundary
gf_histogram(~age,
  data = mosaicData::HELPrct,
  binwidth = 5, fill = "skyblue", color = "black", center = 42.5
)
gf_histogram(~age,
  data = mosaicData::HELPrct,
  binwidth = 5, fill = "skyblue", color = "black", boundary = 40
)
gf_histogram(age ~ .,
  data = mosaicData::HELPrct,
  binwidth = 5, fill = "skyblue", color = "black", boundary = 40
)
</code></pre>

<hr>
<h2 id='gf_jitter'>Formula interface to geom_jitter()</h2><span id='topic+gf_jitter'></span>

<h3>Description</h3>

<p>Jittered scatter plots in <code>ggformula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_jitter(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  size,
  shape,
  fill,
  width,
  height,
  group,
  stroke,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "point",
  stat = "identity",
  position = "jitter",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_jitter_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_size">size</code></td>
<td>
<p>A numeric size or a formula used for mapping size.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_shape">shape</code></td>
<td>
<p>An integer or letter shape or a formula used for mapping shape.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_width">width</code></td>
<td>
<p>Amount of horizontal jitter.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_height">height</code></td>
<td>
<p>Amount of vertical jitter.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_stroke">stroke</code></td>
<td>
<p>A numeric size of the border or a formula used to map stroke.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_title">title</code>, <code id="gf_jitter_+3A_subtitle">subtitle</code>, <code id="gf_jitter_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_jitter_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_jitter">ggplot2::geom_jitter()</a></code>, <code><a href="#topic+gf_point">gf_point()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_jitter()
# without jitter
gf_point(age ~ sex, alpha = 0.25, data = mosaicData::HELPrct)
# jitter only horizontally
gf_jitter(age ~ sex, alpha = 0.25, data = mosaicData::HELPrct, width = 0.2, height = 0)
# alternative way to get jitter
gf_point(age ~ sex,
  alpha = 0.25, data = mosaicData::HELPrct,
  position = "jitter", width = 0.2, height = 0
)
</code></pre>

<hr>
<h2 id='gf_labs'>Non-layer functions for gf plots</h2><span id='topic+gf_labs'></span><span id='topic+gf_lims'></span><span id='topic+gf_refine'></span>

<h3>Description</h3>

<p>These functions modify things like labels, limits, scales, etc. for plots
ggplot2 plots. They are wrappers around functions in ggplot2 that allow for
chaining syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_labs(object, ...)

gf_lims(object, ...)

gf_refine(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_labs_+3A_object">object</code></td>
<td>
<p>a gg object</p>
</td></tr>
<tr><td><code id="gf_labs_+3A_...">...</code></td>
<td>
<p>additional arguments passed through to the similarly named function in
<span class="pkg">ggplot2</span>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>gf_refine()</code> provides a mechanism to replace <code>+</code> with the
chaining/pipe operator <code style="white-space: pre;">&#8288;|&gt;&#8288;</code>.
Each of its <code style="white-space: pre;">&#8288;\dots&#8288;</code> arguments is added in turn to the
base plot in <code>object</code>.  The other functions are thin wrappers around
specific <code>ggplot2</code> refinement functions and pass their <code style="white-space: pre;">&#8288;\dots&#8288;</code>
arguments through to the similarly named <code>ggplot2</code> functions.
</p>


<h3>Value</h3>

<p>a modified gg object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_dens(~cesd, color = ~substance, linewidth = 1.5, data = mosaicData::HELPrct) |&gt;
  gf_labs(
    title = "Center for Epidemiologic Studies Depression measure",
    subtitle = "(at baseline)",
    color = "Abused substance: ",
    x = "CESD score",
    y = "",
    caption = "Source: HELPrct"
  ) |&gt;
  gf_theme(theme_classic()) |&gt;
  gf_theme(
    axis.text.y = element_blank(),
    legend.position = "top",
    plot.title = element_text(hjust = 0.5, color = "navy"),
    plot.subtitle = element_text(hjust = 0.5, color = "navy", size = 12)
  )

gf_point(eruptions ~ waiting, data = faithful, alpha = 0.5)
gf_point(eruptions ~ waiting, data = faithful, alpha = 0.5) |&gt;
  gf_lims(x = c(65, NA), y = c(3, NA))

# modify scales using gf_refine()
data(penguins, package = "palmerpenguins")
gf_jitter(bill_length_mm ~ bill_depth_mm, color = ~species, data = penguins) |&gt;
  gf_refine(scale_color_brewer(type = "qual", palette = 3)) |&gt;
  gf_theme(theme_bw())

gf_jitter(bill_length_mm ~ bill_depth_mm, color = ~species, data = penguins) |&gt;
  gf_refine(scale_color_manual(values = c("red", "navy", "limegreen"))) |&gt;
  gf_theme(theme_bw())
</code></pre>

<hr>
<h2 id='gf_line'>Formula interface to geom_line() and geom_path()</h2><span id='topic+gf_line'></span><span id='topic+gf_path'></span>

<h3>Description</h3>

<p>Line plots in <code>ggformula</code>.  <code>gf_path()</code> differs from <code>gf_line()</code> in that points
are connected in the order in which they appear in <code>data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_line(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  lineend,
  linejoin,
  linemitre,
  arrow,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "line",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_path(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  arrow = NULL,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "path",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_line_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_line_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="gf_line_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="gf_line_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="gf_line_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_title">title</code>, <code id="gf_line_+3A_subtitle">subtitle</code>, <code id="gf_line_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_line_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_line()</a></code>, <code><a href="#topic+gf_point">gf_point()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_line()
gf_point(age ~ sex, alpha = 0.25, data = mosaicData::HELPrct)
gf_point(births ~ date, color = ~wday, data = mosaicData::Births78)
# lines make the exceptions stand out more prominently
gf_line(births ~ date, color = ~wday, data = mosaicData::Births78)
gf_path()
if (require(dplyr)) {
  data.frame(t = seq(1, 10 * pi, length.out = 400)) |&gt;
    mutate(x = t * cos(t), y = t * sin(t)) |&gt;
    gf_path(y ~ x, color = ~t)
}
</code></pre>

<hr>
<h2 id='gf_linerange'>Formula interface to geom_linerange() and geom_pointrange()</h2><span id='topic+gf_linerange'></span><span id='topic+gf_pointrange'></span><span id='topic+gf_summary'></span>

<h3>Description</h3>

<p>Various ways of representing a vertical interval defined by <code>x</code>,
<code>ymin</code> and <code>ymax</code>. Each case draws a single graphical object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_linerange(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "linerange",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_pointrange(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  size,
  fatten = 2,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "pointrange",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_summary(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  size,
  fun.y = NULL,
  fun.ymax = NULL,
  fun.ymin = NULL,
  fun.args = list(),
  fatten = 2,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "pointrange",
  stat = "summary",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_linerange_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>ymin + ymax ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_title">title</code>, <code id="gf_linerange_+3A_subtitle">subtitle</code>, <code id="gf_linerange_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_size">size</code></td>
<td>
<p>size aesthetic for points (<code>gf_pointrange()</code>).</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_fatten">fatten</code></td>
<td>
<p>A multiplicative factor used to increase the size of the
middle bar in <code>geom_crossbar()</code> and the middle point in
<code>geom_pointrange()</code>.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_fun.ymin">fun.ymin</code>, <code id="gf_linerange_+3A_fun.y">fun.y</code>, <code id="gf_linerange_+3A_fun.ymax">fun.ymax</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Use the
versions specified above instead.</p>
</td></tr>
<tr><td><code id="gf_linerange_+3A_fun.args">fun.args</code></td>
<td>
<p>Optional additional arguments passed on to the functions.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_linerange()</a></code>
</p>
<p><code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_pointrange()</a></code>
</p>
<p><code><a href="ggplot2.html#topic+geom_linerange">ggplot2::geom_pointrange()</a></code>, <code><a href="ggplot2.html#topic+stat_summary">ggplot2::stat_summary()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_linerange()

gf_ribbon(low_temp + high_temp ~ date,
  data = mosaicData::Weather,
  fill = ~city, alpha = 0.4
) |&gt;
  gf_theme(theme = theme_minimal())
gf_linerange(
  low_temp + high_temp ~ date | city ~ .,
  data = mosaicData::Weather,
  color = ~ ((low_temp + high_temp) / 2)
) |&gt;
  gf_refine(scale_colour_gradientn(colors = rev(rainbow(5)))) |&gt;
  gf_labs(color = "mid-temp")

gf_ribbon(low_temp + high_temp ~ date | city ~ ., data = mosaicData::Weather)

# Chaining in the data
mosaicData::Weather |&gt;
  gf_ribbon(low_temp + high_temp ~ date, alpha = 0.4) |&gt;
  gf_facet_grid(city ~ .)
if (require(mosaicData) &amp;&amp; require(dplyr)) {
  HELP2 &lt;- HELPrct |&gt;
    group_by(substance, sex) |&gt;
    summarise(
      age = NA,
      mean.age = mean(age),
      median.age = median(age),
      max.age = max(age),
      min.age = min(age),
      sd.age = sd(age),
      lo = mean.age - sd.age,
      hi = mean.age + sd.age
    )

  gf_jitter(age ~ substance, data = HELPrct,
      alpha = 0.5, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_pointrange(mean.age + lo + hi ~ substance, data = HELP2) |&gt;
    gf_facet_grid(~sex)

  gf_jitter(age ~ substance, data = HELPrct,
    alpha = 0.5, width = 0.2, height = 0, color = "skyblue") |&gt;
    gf_errorbar(lo + hi ~ substance, data = HELP2, inherit = FALSE) |&gt;
    gf_facet_grid(~sex)

  # width is defined differently for gf_boxplot() and gf_jitter()
  #   * for gf_boxplot() it is the full width of the box.
  #   * for gf_jitter() it is half that -- the maximum amount added or subtracted.
  gf_boxplot(age ~ substance, data = HELPrct, width = 0.4) |&gt;
    gf_jitter(width = 0.4, height = 0, color = "skyblue", alpha = 0.5)

  gf_boxplot(age ~ substance, data = HELPrct, width = 0.4) |&gt;
    gf_jitter(width = 0.2, height = 0, color = "skyblue", alpha = 0.5)
}
p &lt;- gf_jitter(mpg ~ cyl, data = mtcars, height = 0, width = 0.15); p
p |&gt; gf_summary(fun.data = "mean_cl_boot", color = "red", size = 2, linewidth = 1.3)
# You can supply individual functions to summarise the value at
# each x:
p |&gt; gf_summary(fun.y = "median", color = "red", size = 3, geom = "point")
p |&gt;
  gf_summary(fun.y = "mean", color = "red", size = 3, geom = "point") |&gt;
  gf_summary(fun.y = mean, geom = "line")
p |&gt;
  gf_summary(fun.y = mean, fun.ymin = min, fun.ymax = max, color = "red")
## Not run: 
  p |&gt;
  gf_summary(fun.ymin = min, fun.ymax = max, color = "red", geom = "linerange")

## End(Not run)

gf_bar(~ cut, data = diamonds)
gf_col(price ~ cut, data = diamonds, stat = "summary_bin", fun.y = "mean")

# Don't use gf_lims() to zoom into a summary plot - this throws the
# data away
p &lt;- gf_summary(mpg ~ cyl, data = mtcars, fun.y = "mean", geom = "point")
p
p |&gt; gf_lims(y = c(15, 30))
# Instead use coord_cartesian()
p |&gt; gf_refine(coord_cartesian(ylim = c(15, 30)))
# A set of useful summary functions is provided from the Hmisc package.
## Not run: 
p &lt;- gf_jitter(mpg ~ cyl, data = mtcars, width = 0.15, height = 0); p
p |&gt; gf_summary(fun.data = mean_cl_boot, color = "red")
p |&gt; gf_summary(fun.data = mean_cl_boot, color = "red", geom = "crossbar")
p |&gt; gf_summary(fun.data = mean_sdl, group = ~ cyl, color = "red",
                   geom = "crossbar", width = 0.3)
p |&gt; gf_summary(group = ~ cyl, color = "red", geom = "crossbar", width = 0.3,
        fun.data = mean_sdl, fun.args = list(mult = 1))
p |&gt; gf_summary(fun.data = median_hilow, group = ~ cyl, color = "red",
        geom = "crossbar", width = 0.3)

## End(Not run)

# An example with highly skewed distributions:
if (require("ggplot2movies")) {
  set.seed(596)
  Mov &lt;- movies[sample(nrow(movies), 1000), ]
  m2 &lt;- gf_jitter(votes ~ factor(round(rating)), data = Mov, width = 0.15, height = 0, alpha = 0.3)
  m2 &lt;- m2 |&gt;
    gf_summary(fun.data = "mean_cl_boot", geom = "crossbar",
               colour = "red", width = 0.3) |&gt;
    gf_labs(x = "rating")
  m2
  # Notice how the overplotting skews off visual perception of the mean
  # supplementing the raw data with summary statistics is _very_ important

  # Next, we'll look at votes on a log scale.

  # Transforming the scale means the data are transformed
  # first, after which statistics are computed:
  m2 |&gt; gf_refine(scale_y_log10())
  # Transforming the coordinate system occurs after the
  # statistic has been computed. This means we're calculating the summary on the raw data
  # and stretching the geoms onto the log scale.  Compare the widths of the
  # standard errors.
  m2 |&gt; gf_refine(coord_trans(y="log10"))
}
</code></pre>

<hr>
<h2 id='gf_plot'>Formula interface to ggplot()</h2><span id='topic+gf_plot'></span>

<h3>Description</h3>

<p>Create a new ggplot and (optionally) set default dataset aesthetics mapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_plot(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_plot_+3A_...">...</code></td>
<td>
<p>arguments that can include <code>data</code> (a data frame or something that can be
<code><a href="ggplot2.html#topic+fortify">ggplot2::fortify()</a></code>ed to become one) and aesthetics specified using the following
formula notation: <code>aesthetic = ~ expression</code>.  See examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_plot(mtcars, x = ~ wt, y = ~ mpg, color = ~ factor(cyl)) |&gt;
  gf_density_2d() |&gt;
  gf_point()

</code></pre>

<hr>
<h2 id='gf_point'>Formula interface to geom_point()</h2><span id='topic+gf_point'></span>

<h3>Description</h3>

<p>Scatterplots in <code>ggformula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_point(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  size,
  shape,
  fill,
  group,
  stroke,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "point",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_point_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>,
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>, or
(d) arguments for the geom, stat, or position function.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_point_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_size">size</code></td>
<td>
<p>A numeric size or a formula used for mapping size.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_shape">shape</code></td>
<td>
<p>An integer or letter shape or a formula used for mapping shape.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_stroke">stroke</code></td>
<td>
<p>A numeric size of the border or a formula used to map stroke.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_title">title</code>, <code id="gf_point_+3A_subtitle">subtitle</code>, <code id="gf_point_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_point_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_point">ggplot2::geom_point()</a></code>, <code><a href="#topic+gf_line">gf_line()</a></code>, <code><a href="#topic+gf_jitter">gf_jitter()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_point()
gf_point((10 * ((1:25) %/% 10)) ~ ((1:25) %% 10),
  shape = 1:25,
  fill = "skyblue", color = "navy", size = 4, stroke = 1, data = NA
)
gf_point(mpg ~ hp, color = ~cyl, size = ~wt, data = mtcars)
# faceting -- two ways
gf_point(mpg ~ hp, data = mtcars) |&gt;
  gf_facet_wrap(~am)
gf_point(mpg ~ hp | am, group = ~cyl, data = mtcars)
gf_point(mpg ~ hp | ~am, group = ~cyl, data = mtcars)
gf_point(mpg ~ hp | am ~ ., group = ~cyl, data = mtcars)
# Chaining in the data
mtcars |&gt; gf_point(mpg ~ wt)

# short cuts for main labels in the plot
gf_point(births ~ date,
  color = ~wday, data = mosaicData::Births78,
  xlab = "Date", ylab = "Number of Live Births",
  title = "Interesting Patterns in the Number of Births",
  subtitle = "(United States, 1978)",
  caption = "Source: mosaicData::Births78"
)
</code></pre>

<hr>
<h2 id='gf_polygon'>Formula interface to geom_polygon()</h2><span id='topic+gf_polygon'></span>

<h3>Description</h3>

<p>Line plots in <code>ggformula</code>.  <code>gf_path()</code> differs from <code>gf_line()</code> in that points
are connected in the order in which they appear in <code>data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_polygon(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  linewidth,
  shape,
  fill,
  group,
  stroke,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "polygon",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_polygon_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_shape">shape</code>, <code id="gf_polygon_+3A_stroke">stroke</code></td>
<td>
<p>Aesthetics for polygons.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_title">title</code>, <code id="gf_polygon_+3A_subtitle">subtitle</code>, <code id="gf_polygon_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_polygon_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_line()</a></code>, <code><a href="#topic+gf_point">gf_point()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_polygon()
if (require(maps) &amp;&amp; require(ggthemes) &amp;&amp; require(dplyr)) {
  US &lt;- map_data("state") |&gt;
    dplyr::mutate(name_length = nchar(region))
  States &lt;- US |&gt;
    dplyr::group_by(region) |&gt;
    dplyr::summarise(lat = mean(range(lat)), long = mean(range(long))) |&gt;
    dplyr::mutate(name = abbreviate(region, 3))

  gf_polygon(lat ~ long,
    data = US, group = ~group,
    fill = ~name_length, color = "white"
  ) |&gt;
    gf_text(lat ~ long,
      label = ~name, data = States,
      color = "gray70", inherit = FALSE
    ) |&gt;
    gf_refine(ggthemes::theme_map())
}
</code></pre>

<hr>
<h2 id='gf_qq'>Formula interface to geom_qq()</h2><span id='topic+gf_qq'></span><span id='topic+gf_qqline'></span><span id='topic+gf_qqstep'></span>

<h3>Description</h3>

<p><code>gf_qq()</code> an <code>gf_qqstep()</code> both create quantile-quantile plots. They
differ in how they display the qq-plot.
<code>gf_qq()</code> uses points and <code>gf_qqstep()</code> plots a step function
through these points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_qq(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  group,
  distribution = stats::qnorm,
  dparams = list(),
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "point",
  stat = "qq",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_qqline(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  group,
  distribution = stats::qnorm,
  dparams = list(),
  linetype = "dashed",
  alpha = 0.7,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "path",
  stat = "qq_line",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_qqstep(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  group,
  distribution = stats::qnorm,
  dparams = list(),
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "step",
  stat = "qq",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_qq_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~ sample</code>. Facets can be
added using <code>|</code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_distribution">distribution</code></td>
<td>
<p>Distribution function to use, if x not specified</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_dparams">dparams</code></td>
<td>
<p>Additional parameters passed on to <code>distribution</code>
function.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_title">title</code>, <code id="gf_qq_+3A_subtitle">subtitle</code>, <code id="gf_qq_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_geom">geom</code>, <code id="gf_qq_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_histogram()</code>/<code>geom_freqpoly()</code> and <code>stat_bin()</code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_qq_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_qq">ggplot2::geom_qq()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_qq(~ rnorm(100))
data(penguins, package = "palmerpenguins")
gf_qq(~ bill_length_mm | species, data = penguins) |&gt; gf_qqline()
gf_qq(~ bill_length_mm | species, data = penguins) |&gt; gf_qqline(tail = 0.10)
gf_qq(~bill_length_mm, color = ~species, data = penguins) |&gt;
  gf_qqstep(~bill_length_mm, color = ~species, data = penguins)
</code></pre>

<hr>
<h2 id='gf_quantile'>Formula interface to geom_quantile()</h2><span id='topic+gf_quantile'></span>

<h3>Description</h3>

<p>This fits a quantile regression to the data and draws the fitted quantiles
with lines. This is as a continuous analogue to <code><a href="ggplot2.html#topic+geom_boxplot">geom_boxplot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_quantile(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  lineend = "butt",
  linejoin = "round",
  linemitre = 1,
  quantiles,
  formula,
  method,
  method.args,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "quantile",
  stat = "quantile",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_quantile_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_quantiles">quantiles</code></td>
<td>
<p>conditional quantiles of y to calculate and display</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_formula">formula</code></td>
<td>
<p>formula relating y variables to x variables</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_method">method</code></td>
<td>
<p>Quantile regression method to use. Available options are <code>"rq"</code> (for
<code><a href="quantreg.html#topic+rq">quantreg::rq()</a></code>) and <code>"rqss"</code> (for <code><a href="quantreg.html#topic+rqss">quantreg::rqss()</a></code>).</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_method.args">method.args</code></td>
<td>
<p>List of additional arguments passed on to the modelling
function defined by <code>method</code>.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_title">title</code>, <code id="gf_quantile_+3A_subtitle">subtitle</code>, <code id="gf_quantile_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_geom">geom</code>, <code id="gf_quantile_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_quantile()</code> and <code>stat_quantile()</code>.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_quantile_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_quantile">ggplot2::geom_quantile()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_point((1 / hwy) ~ displ, data = mpg) |&gt;
  gf_quantile((1 / hwy) ~ displ)
</code></pre>

<hr>
<h2 id='gf_raster'>Formula interface to geom_raster()</h2><span id='topic+gf_raster'></span>

<h3>Description</h3>

<p>Formula interface to geom_raster()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_raster(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  hjust = 0.5,
  vjust = 0.5,
  interpolate = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "raster",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_raster_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape  <code>y ~ x</code> or <code>fill ~ x + y</code></p>
</td></tr>
<tr><td><code id="gf_raster_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_hjust">hjust</code>, <code id="gf_raster_+3A_vjust">vjust</code></td>
<td>
<p>horizontal and vertical justification of the grob.  Each
justification value should be a number between 0 and 1.  Defaults to 0.5
for both, centering each pixel over its data location.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_interpolate">interpolate</code></td>
<td>
<p>If <code>TRUE</code> interpolate linearly, if <code>FALSE</code>
(the default) don't interpolate.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_title">title</code>, <code id="gf_raster_+3A_subtitle">subtitle</code>, <code id="gf_raster_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_raster_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_tile">ggplot2::geom_raster()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Justification controls where the cells are anchored
D &lt;- expand.grid(x = 0:5, y = 0:5)
D$z &lt;- runif(nrow(D))
# centered squares
gf_raster(z ~ x + y, data = D)
gf_raster(y ~ x, fill = ~z, data = D)
# zero padding
gf_raster(z ~ x + y, data = D, hjust = 0, vjust = 0)
</code></pre>

<hr>
<h2 id='gf_rect'>Formula interface to geom_rect()</h2><span id='topic+gf_rect'></span>

<h3>Description</h3>

<p>Line plots in <code>ggformula</code>.  <code>gf_path()</code> differs from <code>gf_line()</code> in that points
are connected in the order in which they appear in <code>data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_rect(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "rect",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_rect_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>ymin + ymax ~ xmin + xmax</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_title">title</code>, <code id="gf_rect_+3A_subtitle">subtitle</code>, <code id="gf_rect_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_rect_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_tile">ggplot2::geom_rect()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_rect(1 + 2 ~ 3 + 4, alpha = 0.3, color = "red")
# use data = data.frame() so we get 1 rectangle and not 1 per row of faithful
# use inherit = FALSE because we are not reusing eruptions and waiting
gf_point(eruptions ~ waiting, data = faithful) |&gt;
  gf_rect(1.5 + 3 ~ 45 + 68,
    fill = "red", alpha = 0.2,
    data = data.frame(), inherit = FALSE) |&gt;
  gf_rect(3 + 5.5 ~ 68 + 100,
    fill = "green", alpha = 0.2,
    data = data.frame(), inherit = FALSE)
</code></pre>

<hr>
<h2 id='gf_relabel'>Modify plot labeling</h2><span id='topic+gf_relabel'></span><span id='topic+print.gf_ggplot'></span>

<h3>Description</h3>

<p>Some packages like expss provide mechanisms for providing longer labels to R objects.
These labels can be used when labeling plots and tables, for example, without requiring
long or awkward variable names.  This is an experimental feature and currently only supports
expss or any other system that stores a label in the <code>label</code> attribute of a vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_relabel(plot, labels = get_variable_labels(plot$data), ...)

## S3 method for class 'gf_ggplot'
print(x, labels = get_variable_labels(x$data), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_relabel_+3A_plot">plot</code></td>
<td>
<p>A ggplot.</p>
</td></tr>
<tr><td><code id="gf_relabel_+3A_labels">labels</code></td>
<td>
<p>A named list of labels.</p>
</td></tr>
<tr><td><code id="gf_relabel_+3A_...">...</code></td>
<td>
<p>Additional named labels. See examples.</p>
</td></tr>
<tr><td><code id="gf_relabel_+3A_x">x</code></td>
<td>
<p>A ggplot.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot with potentially modified labels.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# labeling using a list
labels &lt;- list(width = "width of foot (cm)", length = "length of foot (cm)",
  domhand = "dominant hand")
gf_point(length ~ width, color = ~domhand, data = mosaicData::KidsFeet) |&gt;
  gf_relabel(labels)

# labeling using ...
gf_point(length ~ width, color = ~domhand, data = mosaicData::KidsFeet) |&gt;
  gf_relabel(
    width = "width of foot (cm)",
   length = "length of foot (cm)",
   domhand = "dominant hand")

# Alternatively, we can store labels with data.
KF &lt;- mosaicData::KidsFeet |&gt;
  set_variable_labels(
    length = 'foot length (cm)',
    width = 'foot width (cm)'
  )
gf_point(length ~ width, data = KF)
gf_density2d(length ~ width, data = KF)
get_variable_labels(KF)


</code></pre>

<hr>
<h2 id='gf_ribbon'>Formula interface to geom_ribbon()</h2><span id='topic+gf_ribbon'></span>

<h3>Description</h3>

<p>For each x value, <code>geom_ribbon()</code> displays a y interval defined
by <code>ymin</code> and <code>ymax</code>. <code>geom_area()</code> is a special case of
<code>geom_ribbon()</code>, where the <code>ymin</code> is fixed to 0 and <code>y</code> is used instead
of <code>ymax</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_ribbon(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha = 0.3,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "ribbon",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_ribbon_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>ymin + ymax ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_title">title</code>, <code id="gf_ribbon_+3A_subtitle">subtitle</code>, <code id="gf_ribbon_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_ribbon_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_ribbon">ggplot2::geom_ribbon()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_ribbon()

gf_ribbon(low_temp + high_temp ~ date, data = mosaicData::Weather, fill = ~city, alpha = 0.4) |&gt;
  gf_theme(theme = theme_minimal())
gf_linerange(
  low_temp + high_temp ~ date | city ~ .,
  color = ~high_temp,
  data = mosaicData::Weather
) |&gt;
  gf_refine(scale_colour_gradientn(colors = rev(rainbow(5))))
gf_ribbon(low_temp + high_temp ~ date | city ~ ., data = mosaicData::Weather)
# Chaining in the data
## Not run: 
mosaicData::Weather |&gt;
  gf_ribbon(low_temp + high_temp ~ date, alpha = 0.4) |&gt;
  gf_facet_grid(city ~ .)

## End(Not run)
</code></pre>

<hr>
<h2 id='gf_ridgeline'>Formula interface to ggridges plots</h2><span id='topic+gf_ridgeline'></span><span id='topic+gf_density_ridges'></span><span id='topic+gf_density_ridges2'></span><span id='topic+gf_density_ridgeline_gradient'></span><span id='topic+gf_density_ridges_gradient'></span>

<h3>Description</h3>

<p>Formula interface to ggridges plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_ridgeline(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  height,
  scale = 1,
  min_height = 0,
  color,
  fill,
  alpha,
  group,
  linetype,
  linewidth,
  point_size,
  point_shape,
  point_colour,
  point_fill,
  point_alpha,
  point_stroke,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "ridgeline",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density_ridges(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  height,
  scale = 1,
  rel_min_height = 0,
  color,
  fill,
  alpha,
  group,
  linetype,
  linewidth,
  point_size,
  point_shape,
  point_colour,
  point_fill,
  point_alpha,
  point_stroke,
  panel_scaling = TRUE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density_ridges",
  stat = "density_ridges",
  position = "points_sina",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density_ridges2(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  height,
  scale = 1,
  rel_min_height = 0,
  color,
  fill,
  alpha,
  group,
  linetype,
  linewidth,
  point_size,
  point_shape,
  point_colour,
  point_fill,
  point_alpha,
  point_stroke,
  panel_scaling = TRUE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density_ridges2",
  stat = "density_ridges",
  position = "points_sina",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density_ridgeline_gradient(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  height,
  color,
  fill,
  alpha,
  group,
  linetype,
  linewidth,
  gradient_lwd = 0.5,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "ridgeline_gradient",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_density_ridges_gradient(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  height,
  panel_scaling = TRUE,
  color,
  fill = ~stat(x),
  alpha,
  group,
  linetype,
  linewidth,
  gradient_lwd = 0.5,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "density_ridges_gradient",
  stat = "density_ridges",
  position = "points_sina",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_ridgeline_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_height">height</code></td>
<td>
<p>The height of each ridgeline at the respective x value.
Automatically calculated and provided by <code><a href="ggridges.html#topic+stat_density_ridges">ggridges::stat_density_ridges()</a></code>
if the default stat is not changed.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_scale">scale</code></td>
<td>
<p>A scaling factor to scale the height of the ridgelines relative to the
spacing between them. A value of 1 indicates that the maximum point of any ridgeline touches the baseline right above, assuming even spacing between baselines.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_min_height">min_height</code></td>
<td>
<p>A height cutoff on the drawn ridgelines. All values that fall below
this cutoff will be removed. The main purpose of this cutoff is to remove
long tails right at the baseline level, but other uses are possible. The
cutoff is applied before any height scaling is applied via the scale
aesthetic. Default is 0, so negative values are removed.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_point_shape">point_shape</code>, <code id="gf_ridgeline_+3A_point_colour">point_colour</code>, <code id="gf_ridgeline_+3A_point_size">point_size</code>, <code id="gf_ridgeline_+3A_point_fill">point_fill</code>, <code id="gf_ridgeline_+3A_point_alpha">point_alpha</code>, <code id="gf_ridgeline_+3A_point_stroke">point_stroke</code></td>
<td>
<p>As in <code><a href="ggridges.html#topic+geom_ridgeline">ggridges::geom_ridgeline()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_title">title</code>, <code id="gf_ridgeline_+3A_subtitle">subtitle</code>, <code id="gf_ridgeline_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_geom">geom</code>, <code id="gf_ridgeline_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_density()</code> and <code>stat_density()</code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_rel_min_height">rel_min_height</code></td>
<td>
<p>Lines with heights below this cutoff will be removed. The cutoff is
measured relative to the overall maximum, so <code>rel_min_height = 0.01</code> would
remove everything. Default is 0, so nothing is removed.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_panel_scaling">panel_scaling</code></td>
<td>
<p>If <code>TRUE</code>, the default, relative scaling is calculated separately
for each panel. If <code>FALSE</code>, relative scaling is calculated globally.</p>
</td></tr>
<tr><td><code id="gf_ridgeline_+3A_gradient_lwd">gradient_lwd</code></td>
<td>
<p>A parameter to needed to remove rendering artifacts inside the
rendered gradients. Should ideally be 0, but often needs to be around 0.5 or higher.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that the <code><a href="ggridges.html#topic+stat_density_ridges">ggridges::stat_density_ridges()</a></code> makes joint density estimation
across all datasets. This may not generate the desired result when using
faceted plots. As an alternative, you can set <code>stat = "density"</code> to use
<code><a href="ggplot2.html#topic+geom_density">ggplot2::stat_density()</a></code>. In this case, it is required to add the aesthetic mapping
<code>height = after_stat(density)</code> (see examples).
</p>


<h3>See Also</h3>

<p><code><a href="ggridges.html#topic+geom_density_ridges">ggridges::geom_density_ridges()</a></code>
</p>
<p><code><a href="ggridges.html#topic+geom_ridgeline">ggridges::geom_ridgeline()</a></code>
</p>
<p><code><a href="ggridges.html#topic+geom_ridgeline_gradient">ggridges::geom_density_ridges_gradient()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data.frame(
  x = rep(1:5, 3), y = c(rep(0, 5), rep(1, 5), rep(3, 5)),
  height = c(0, 1, 3, 4, 0, 1, 2, 3, 5, 4, 0, 5, 4, 4, 1)
) |&gt;
  gf_ridgeline(y ~ x, height = ~ height, group = ~y, fill = "lightblue", alpha = 0.7)
diamonds |&gt;
  gf_density_ridges(cut ~ price,
    scale = 2, fill = ~ cut, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )
diamonds |&gt;
  gf_density_ridges(clarity ~ price | cut,
    scale = 2, fill = ~ clarity, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )
## Not run: 
diamonds |&gt;
  gf_density_ridges(clarity ~ price | cut, height = ~after_stat(density), stat = "density",
    scale = 2, fill = ~ clarity, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )

## End(Not run)
## Not run: 
diamonds |&gt;
  gf_density_ridges2(cut ~ price, scale = 2, fill = ~ cut, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )

## End(Not run)
diamonds |&gt;
  gf_density_ridges(cut ~ price,
    scale = 2, fill = ~ cut, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )
diamonds |&gt;
  gf_density_ridges(clarity ~ price | cut,
    scale = 2, fill = ~ clarity, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )
## Not run: 
diamonds |&gt;
  gf_density_ridges(clarity ~ price | cut, height = ~ after_stat(density), stat = "density",
    scale = 2, fill = ~ clarity, alpha = 0.6, show.legend = FALSE) |&gt;
  gf_theme(theme_ridges()) |&gt;
  gf_refine(
    scale_y_discrete(expand = c(0.01, 0)),
    scale_x_continuous(expand = c(0.01, 0))
  )

## End(Not run)
## Not run: 
mosaicData::Weather |&gt;
  gf_density_ridges_gradient(month ~ high_temp | city ~ ., fill = ~stat(x),
    group = ~ month, show.legend = FALSE, rel_min_height = 0.02) |&gt;
  gf_refine(scale_fill_viridis_c(option = "B"), theme_bw())

## End(Not run)
</code></pre>

<hr>
<h2 id='gf_rug'>Formula interface to geom_rug()</h2><span id='topic+gf_rug'></span><span id='topic+gf_rugx'></span><span id='topic+gf_rugy'></span>

<h3>Description</h3>

<p><code>gf_rugx()</code> and <code>gf_rugy()</code> are versions that only add a rug to x- or y- axis.
By default, these functions do not inherit from the formula in the original layer
(because doing so would often result in rugs on both axes), so the formula is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_rug(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  sides = "bl",
  alpha,
  color,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "rug",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_rugx(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  sides = "b",
  alpha,
  color,
  group,
  linetype,
  linewidth,
  height = 0,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "rug",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = FALSE,
  environment = parent.frame()
)

gf_rugy(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  sides = "l",
  alpha,
  color,
  group,
  linetype,
  linewidth,
  width = 0,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "rug",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = FALSE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_rug_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code> (<code>gf_rug()</code>) or <code>~ x</code> (<code>gf_rugx()</code>) or
<code>~ y</code> (<code>gf_rugy()</code>).</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_sides">sides</code></td>
<td>
<p>A string that controls which sides of the plot the rugs appear on.
It can be set to a string containing any of <code>"trbl"</code>, for top, right,
bottom, and left.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_title">title</code>, <code id="gf_rug_+3A_subtitle">subtitle</code>, <code id="gf_rug_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_height">height</code></td>
<td>
<p>amount of vertical jittering when position is jittered.</p>
</td></tr>
<tr><td><code id="gf_rug_+3A_width">width</code></td>
<td>
<p>amount of horizontal jittering when position is jittered.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_rug">ggplot2::geom_rug()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(penguins, package = "palmerpenguins")
gf_point(bill_length_mm ~ bill_depth_mm, data = penguins) |&gt;
  gf_rug(bill_length_mm ~ bill_depth_mm)

# There are several ways to control x- and y-rugs separately
gf_point(bill_length_mm ~ bill_depth_mm, data = penguins) |&gt;
  gf_rugx(~bill_depth_mm, data = penguins, color = "red") |&gt;
  gf_rugy(bill_length_mm ~ ., data = penguins, color = "green")

gf_point(bill_length_mm ~ bill_depth_mm, data = penguins) |&gt;
  gf_rug(. ~ bill_depth_mm, data = penguins, color = "red", inherit = FALSE) |&gt;
  gf_rug(bill_length_mm ~ ., data = penguins, color = "green", inherit = FALSE)

gf_point(bill_length_mm ~ bill_depth_mm, data = penguins) |&gt;
  gf_rug(. ~ bill_depth_mm, data = penguins, color = "red", sides = "b") |&gt;
  gf_rug(bill_length_mm ~ ., data = penguins, color = "green", sides = "l")

# jitter requires both an x and a y, but we can turn off one or the other with sides
gf_jitter(bill_length_mm ~ bill_depth_mm, data = penguins) |&gt;
  gf_rug(color = "green", sides = "b", position = "jitter")

# rugs work with some 1-varialbe plots as well.
gf_histogram(~eruptions, data = faithful) |&gt;
  gf_rug(~eruptions, data = faithful, color = "red") |&gt;
  gf_rug(~eruptions, data = faithful, color = "navy", sides = "t")

# we can take advantage of inheritance to shorten the code
gf_histogram(~eruptions, data = faithful) |&gt;
  gf_rug(color = "red") |&gt;
  gf_rug(color = "navy", sides = "t")

# Need to turn off inheritance when using gf_dhistogram:
gf_dhistogram(~eruptions, data = faithful) |&gt;
  gf_rug(~eruptions, data = faithful, color = "red", inherit = FALSE)

# using jitter with gf_histogram() requires manually setting the y value.
gf_dhistogram(~bill_depth_mm, data = penguins) |&gt;
  gf_rug(0 ~ bill_depth_mm, data = penguins, color = "green", sides = "b", position = "jitter")

# the choice of y value can affect how the plot looks.
gf_dhistogram(~bill_depth_mm, data = penguins) |&gt;
  gf_rug(0.5 ~ bill_depth_mm, data = penguins, color = "green", sides = "b", position = "jitter")
</code></pre>

<hr>
<h2 id='gf_segment'>Formula interface to geom_segment()</h2><span id='topic+gf_segment'></span>

<h3>Description</h3>

<p><code>geom_segment()</code> draws a straight line between points (x, y) and
(xend, yend). <code>geom_curve()</code> draws a curved line. See the underlying
drawing function <code><a href="grid.html#topic+grid.curve">grid::curveGrob()</a></code> for the parameters that
control the curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_segment(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  arrow = NULL,
  lineend = "butt",
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "segment",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_segment_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y + yend ~ x + xend</code>.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_arrow">arrow</code></td>
<td>
<p>specification for arrow heads, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_title">title</code>, <code id="gf_segment_+3A_subtitle">subtitle</code>, <code id="gf_segment_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_segment_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_segment">ggplot2::geom_segment()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>D &lt;- data.frame(x1 = 2.62, x2 = 3.57, y1 = 21.0, y2 = 15.0)
gf_point(mpg ~ wt, data = mtcars) |&gt;
  gf_curve(y1 + y2 ~ x1 + x2, data = D, color = "navy") |&gt;
  gf_segment(y1 + y2 ~ x1 + x2, data = D, color = "red")
</code></pre>

<hr>
<h2 id='gf_sf'>Mapping with shape files</h2><span id='topic+gf_sf'></span>

<h3>Description</h3>

<p>Mapping with shape files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_sf(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  geometry,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  stat = "sf",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_sf_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>,
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>, or
(d) arguments for the geom, stat, or position function.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_geometry">geometry</code></td>
<td>
<p>A column of class sfc containing simple features data. (Another option
is that <code>data</code> may contain a column named <code>geometry</code>.)  <code>geometry</code> is never
inherited.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_title">title</code>, <code id="gf_sf_+3A_subtitle">subtitle</code>, <code id="gf_sf_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_sf_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_line()</a></code>, <code><a href="#topic+gf_point">gf_point()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (requireNamespace('maps', quietly = TRUE)) {
  library(maps)
  world1 &lt;- sf::st_as_sf(map('world', plot = FALSE, fill = TRUE))
  gf_sf(data = world1)
}

if (requireNamespace('maps', quietly = TRUE)) {
  world2 &lt;- sf::st_transform(
    world1,
    "+proj=laea +y_0=0 +lon_0=155 +lat_0=-90 +ellps=WGS84 +no_defs"
  )
  gf_sf(data = world2)
}
</code></pre>

<hr>
<h2 id='gf_sina'>Formula interface to geom_sina()</h2><span id='topic+gf_sina'></span>

<h3>Description</h3>

<p>The sina plot is a data visualization chart suitable for plotting any single
variable in a multiclass dataset. It is an enhanced jitter strip chart,
where the width of the jitter is controlled by the density distribution of
the data within each class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_sina(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  size,
  fill,
  group,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "point",
  stat = "sina",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_sina_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_size">size</code></td>
<td>
<p>A numeric size or a formula used for mapping size.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_title">title</code>, <code id="gf_sina_+3A_subtitle">subtitle</code>, <code id="gf_sina_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use to display the data, either as a
<code>ggproto</code> <code>Geom</code> subclass or as a string naming the geom stripped of the
<code>geom_</code> prefix (e.g. <code>"point"</code> rather than <code>"geom_point"</code>)</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_sina_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggforce.html#topic+geom_sina">ggforce::geom_sina()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  library(ggforce)
  gf_sina(age ~ substance, data = mosaicData::HELPrct)

## End(Not run)

</code></pre>

<hr>
<h2 id='gf_smooth'>Formula interface to geom_smooth()</h2><span id='topic+gf_smooth'></span><span id='topic+gf_lm'></span>

<h3>Description</h3>

<p>LOESS and linear model smoothers in <code>ggformula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_smooth(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  method = "auto",
  formula = y ~ x,
  se = FALSE,
  method.args,
  n = 80,
  span = 0.75,
  fullrange = FALSE,
  level = 0.95,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "smooth",
  stat = "smooth",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_lm(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha = 0.3,
  lm.args = list(),
  interval = "none",
  level = 0.95,
  fullrange = TRUE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "lm",
  stat = "lm",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_smooth_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_method">method</code></td>
<td>
<p>Smoothing method (function) to use, accepts either
<code>NULL</code> or a character vector, e.g. <code>"lm"</code>, <code>"glm"</code>, <code>"gam"</code>, <code>"loess"</code>
or a function, e.g. <code>MASS::rlm</code> or <code>mgcv::gam</code>, <code>stats::lm</code>, or <code>stats::loess</code>.
<code>"auto"</code> is also accepted for backwards compatibility.  It is equivalent to
<code>NULL</code>.
</p>
<p>For <code>method = NULL</code> the smoothing method is chosen based on the
size of the largest group (across all panels). <code><a href="stats.html#topic+loess">stats::loess()</a></code> is
used for less than 1,000 observations; otherwise <code><a href="mgcv.html#topic+gam">mgcv::gam()</a></code> is
used with <code>formula = y ~ s(x, bs = "cs")</code> with <code>method = "REML"</code>. Somewhat anecdotally,
<code>loess</code> gives a better appearance, but is <code class="reqn">O(N^{2})</code> in memory,
so does not work for larger datasets.
</p>
<p>If you have fewer than 1,000 observations but want to use the same <code>gam()</code>
model that <code>method = NULL</code> would use, then set
<code style="white-space: pre;">&#8288;method = "gam", formula = y ~ s(x, bs = "cs")&#8288;</code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_formula">formula</code></td>
<td>
<p>Formula to use in smoothing function, eg. <code>y ~ x</code>,
<code>y ~ poly(x, 2)</code>, <code>y ~ log(x)</code>. <code>NULL</code> by default, in which case
<code>method = NULL</code> implies <code>formula = y ~ x</code> when there are fewer than 1,000
observations and <code>formula = y ~ s(x, bs = "cs")</code> otherwise.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_se">se</code></td>
<td>
<p>Display confidence interval around smooth? (<code>TRUE</code> by default, see
<code>level</code> to control.)</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_method.args">method.args</code></td>
<td>
<p>List of additional arguments passed on to the modelling
function defined by <code>method</code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_n">n</code></td>
<td>
<p>Number of points at which to evaluate smoother.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_span">span</code></td>
<td>
<p>Controls the amount of smoothing for the default loess smoother.
Smaller numbers produce wigglier lines, larger numbers produce smoother
lines. Only used with loess, i.e. when <code>method = "loess"</code>,
or when <code>method = NULL</code> (the default) and there are fewer than 1,000
observations.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_fullrange">fullrange</code></td>
<td>
<p>If <code>TRUE</code>, the smoothing line gets expanded to the range of the plot,
potentially beyond the data. This does not extend the line into any additional padding
created by <code>expansion</code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_level">level</code></td>
<td>
<p>Level of confidence interval to use (0.95 by default).</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_title">title</code>, <code id="gf_smooth_+3A_subtitle">subtitle</code>, <code id="gf_smooth_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_lm.args">lm.args</code></td>
<td>
<p>A list of arguments to <code><a href="stats.html#topic+lm">stats::lm()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_smooth_+3A_interval">interval</code></td>
<td>
<p>One of <code>"none"</code>, <code>"confidence"</code> or <code>"prediction"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_smooth">ggplot2::geom_smooth()</a></code>, <code><a href="#topic+gf_spline">gf_spline()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_smooth()
gf_lm()
gf_smooth(births ~ date, color = ~wday, data = mosaicData::Births78)
gf_smooth(births ~ date,
  color = ~wday, data = mosaicData::Births78,
  fullrange = TRUE
)
gf_smooth(births ~ date,
  color = ~wday, data = mosaicData::Births78,
  show.legend = FALSE, se = FALSE
)
gf_smooth(births ~ date,
  color = ~wday, data = mosaicData::Births78,
  show.legend = FALSE, se = TRUE
)
gf_lm(length ~ width,
  data = mosaicData::KidsFeet,
  color = ~biggerfoot, alpha = 0.2
) |&gt;
  gf_point()
gf_lm(length ~ width,
  data = mosaicData::KidsFeet,
  color = ~biggerfoot, fullrange = FALSE, alpha = 0.2
)
gf_point()
gf_lm(length ~ width,
  color = ~sex, data = mosaicData::KidsFeet,
  formula = y ~ poly(x, 2), linetype = "dashed"
) |&gt;
  gf_point()
gf_lm(length ~ width,
  color = ~sex, data = mosaicData::KidsFeet,
  formula = log(y) ~ x, backtrans = exp
) |&gt;
  gf_point()

gf_lm(hwy ~ displ,
  data = mpg,
  formula = log(y) ~ poly(x, 3), backtrans = exp,
  interval = "prediction", fill = "skyblue"
) |&gt;
  gf_lm(
    formula = log(y) ~ poly(x, 3), backtrans = exp,
    interval = "confidence", color = "red"
  ) |&gt;
  gf_point()

  clotting &lt;- data.frame(
   u = c(5,10,15,20,30,40,60,80,100),
   lot1 = c(118,58,42,35,27,25,21,19,18),
   lot2 = c(69,35,26,21,18,16,13,12,12))
  gf_point(lot1 ~ u, data = clotting) |&gt;
    gf_smooth(formula = y ~ log(x), method = "glm",
              method.args = list(family = Gamma))
  gf_point(lot2 ~ u, data = clotting) |&gt;
    gf_smooth(formula = y ~ log(x), color = "red", method = "glm",
              method.args = list(family = Gamma))

</code></pre>

<hr>
<h2 id='gf_spline'>Formula interface to geom_spline()</h2><span id='topic+gf_spline'></span>

<h3>Description</h3>

<p>Fitting splines in <code>ggformula</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_spline(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  weight,
  df,
  spar,
  tol,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "line",
  stat = "spline",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_spline_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_weight">weight</code></td>
<td>
<p>An optional vector of weights.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_df">df</code></td>
<td>
<p>desired equivalent degrees of freedom.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_spar">spar</code></td>
<td>
<p>A smoothing parameter, typically in (0,1].
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_tol">tol</code></td>
<td>
<p>A tolerance for sameness or uniqueness of the <code>x</code> values.
The values are binned into bins of size tol and values which fall into
the same bin are regarded as the same. Must be strictly positive (and finite).
When <code>NULL</code>, <code>IQR(x) * 10e-6</code> is used.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_title">title</code>, <code id="gf_spline_+3A_subtitle">subtitle</code>, <code id="gf_spline_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_spline_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_spline">geom_spline()</a></code>, <code><a href="#topic+gf_smooth">gf_smooth()</a></code>, <code><a href="#topic+gf_lm">gf_lm()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_spline(births ~ date, color = ~wday, data = mosaicData::Births78)
gf_spline(births ~ date, color = ~wday, data = mosaicData::Births78, df = 20)
gf_spline(births ~ date, color = ~wday, data = mosaicData::Births78, df = 4)
</code></pre>

<hr>
<h2 id='gf_spoke'>Formula interface to geom_spoke()</h2><span id='topic+gf_spoke'></span>

<h3>Description</h3>

<p>This is a polar parameterisation of geom_segment.
It is useful when you have variables that describe direction
and distance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_spoke(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  angle,
  radius,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "spoke",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_spoke_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_angle">angle</code></td>
<td>
<p>The angle at which segment leaves the point (x,y).</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_radius">radius</code></td>
<td>
<p>The length of the segment.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_title">title</code>, <code id="gf_spoke_+3A_subtitle">subtitle</code>, <code id="gf_spoke_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_spoke_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_spoke">ggplot2::geom_spoke()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>SomeData &lt;- expand.grid(x = 1:10, y = 1:10)
SomeData$angle &lt;- runif(100, 0, 2 * pi)
SomeData$speed &lt;- runif(100, 0, sqrt(0.1 * SomeData$x))

gf_point(y ~ x, data = SomeData) |&gt;
  gf_spoke(y ~ x, angle = ~angle, radius = 0.5)

gf_point(y ~ x, data = SomeData) |&gt;
  gf_spoke(y ~ x, angle = ~angle, radius = ~speed)
</code></pre>

<hr>
<h2 id='gf_step'>Formula interface to geom_step()</h2><span id='topic+gf_step'></span>

<h3>Description</h3>

<p><code>geom_path()</code> connects the observations in the order in which they appear
in the data. <code>geom_line()</code> connects them in order of the variable on the
x axis. <code>geom_step()</code> creates a stairstep plot, highlighting exactly
when changes occur. The <code>group</code> aesthetic determines which cases are
connected together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_step(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  group,
  linetype,
  linewidth,
  direction = "hv",
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "step",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_step_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_step_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_step_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_direction">direction</code></td>
<td>
<p>direction of stairs: 'vh' for vertical then horizontal,
'hv' for horizontal then vertical, or 'mid' for step half-way between
adjacent x-values.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_title">title</code>, <code id="gf_step_+3A_subtitle">subtitle</code>, <code id="gf_step_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_step_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_step_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_path">ggplot2::geom_step()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_step(births ~ date, data = mosaicData::Births78, color = ~wday)

# Roll your own Kaplan-Meier plot

if (require(survival) &amp;&amp; require(broom)) {
  # fit a survival model
  surv_fit &lt;- survfit(coxph(Surv(time, status) ~ age + sex, lung))
  surv_fit
  # use broom::tidy() to create a tidy data frame for plotting
  surv_df &lt;- tidy(surv_fit)
  head(surv_df)
  # now create a plot
  surv_df |&gt;
    gf_step(estimate ~ time) |&gt;
    gf_ribbon(conf.low + conf.high ~ time, alpha = 0.2)
}
</code></pre>

<hr>
<h2 id='gf_text'>Formula interface to geom_text() and geom_label()</h2><span id='topic+gf_text'></span><span id='topic+gf_label'></span>

<h3>Description</h3>

<p>Text geoms are useful for labeling plots. They can be used by themselves as
scatterplots or in combination with other geoms, for example, for labeling
points or for annotating the height of bars. <code>geom_text()</code> adds only text
to the plot. <code>geom_label()</code> draws a rectangle behind the text, making it
easier to read.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_text(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  label,
  alpha,
  angle,
  color,
  family,
  fontface,
  group,
  hjust,
  lineheight,
  size,
  vjust,
  parse = FALSE,
  nudge_x = 0,
  nudge_y = 0,
  check_overlap = FALSE,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "text",
  stat = "identity",
  position = "nudge",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)

gf_label(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  label,
  alpha,
  angle,
  color,
  family,
  fontface,
  group,
  hjust,
  vjust,
  lineheight,
  size,
  parse,
  nudge_x = 0,
  nudge_y = 0,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  label.size = 0.25,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  stat = "identity",
  position = "nudge",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_text_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_text_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_label">label</code></td>
<td>
<p>The text to be displayed.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_text_+3A_angle">angle</code></td>
<td>
<p>An angle for rotating the text.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_family">family</code></td>
<td>
<p>A font family.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_fontface">fontface</code></td>
<td>
<p>One of <code>"plain"</code>, <code>"bold"</code>, <code>"italic"</code>, or <code>"bold italic"</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_hjust">hjust</code>, <code id="gf_text_+3A_vjust">vjust</code></td>
<td>
<p>Numbers between 0 and 1 indicating how to justify
text relative the the specified location.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_lineheight">lineheight</code></td>
<td>
<p>Line height.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_size">size</code></td>
<td>
<p>A numeric size or a formula used for mapping size.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_parse">parse</code></td>
<td>
<p>If <code>TRUE</code>, the labels will be parsed into expressions and
displayed as described in <code>?plotmath</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_nudge_x">nudge_x</code>, <code id="gf_text_+3A_nudge_y">nudge_y</code></td>
<td>
<p>Horizontal and vertical adjustment to nudge labels by.
Useful for offsetting text from points, particularly on discrete scales.
Cannot be jointly specified with <code>position</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_check_overlap">check_overlap</code></td>
<td>
<p>If <code>TRUE</code>, text that overlaps previous text in the
same layer will not be plotted. <code>check_overlap</code> happens at draw time and in
the order of the data. Therefore data should be arranged by the label
column before calling <code>geom_text()</code>. Note that this argument is not
supported by <code>geom_label()</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_title">title</code>, <code id="gf_text_+3A_subtitle">subtitle</code>, <code id="gf_text_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="gf_text_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string, or the result of
a call to a position adjustment function. Cannot be jointly specified with
<code>nudge_x</code> or <code>nudge_y</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="gf_text_+3A_label.size">label.size</code></td>
<td>
<p>Size of label border, in mm.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_text">ggplot2::geom_text()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(penguins, package = "palmerpenguins")
gf_text(bill_length_mm ~ bill_depth_mm,
  data = penguins,
  label = ~species, color = ~species, size = 2, angle = 30
)
penguins |&gt;
gf_point(bill_length_mm ~ bill_depth_mm, color = ~species, alpha = 0.5) |&gt;
  gf_text(bill_length_mm ~ bill_depth_mm,
    label = ~species, color = ~species,
    size = 2, angle = 0, hjust = 0, nudge_x = 0.1, nudge_y = 0.1
  )
if (require(dplyr)) {
  data(penguins, package = "palmerpenguins")
  penguins_means &lt;-
    penguins |&gt;
    group_by(species) |&gt;
    summarise(bill_length_mm = mean(bill_length_mm), bill_depth_mm = mean(bill_depth_mm))
  gf_point(bill_length_mm ~ bill_depth_mm, data = penguins, color = ~species) |&gt;
    gf_label(bill_length_mm ~ bill_depth_mm,
      data = penguins_means,
      label = ~species, color = ~species, size = 2, alpha = 0.7
    )
}
</code></pre>

<hr>
<h2 id='gf_theme'>Themes for ggformula</h2><span id='topic+gf_theme'></span>

<h3>Description</h3>

<p>Themes for ggformula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_theme(object, theme, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_theme_+3A_object">object</code></td>
<td>
<p>a gg object</p>
</td></tr>
<tr><td><code id="gf_theme_+3A_theme">theme</code></td>
<td>
<p>a ggplot2 theme function like <code><a href="ggplot2.html#topic+theme_minimal">theme_minimal()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_theme_+3A_...">...</code></td>
<td>
<p>If <code>theme</code> is missing, then these additional arguments are theme elements
of the sort handled by <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a modified gg object
</p>

<hr>
<h2 id='gf_tile'>Formula interface to geom_tile()</h2><span id='topic+gf_tile'></span>

<h3>Description</h3>

<p><code>geom_rect()</code> and <code>geom_tile()</code> do the same thing, but are
parameterised differently: <code>geom_rect()</code> uses the locations of the four
corners (<code>xmin</code>, <code>xmax</code>, <code>ymin</code> and <code>ymax</code>), while
<code>geom_tile()</code> uses the center of the tile and its size (<code>x</code>,
<code>y</code>, <code>width</code>, <code>height</code>). <code>geom_raster()</code> is a high
performance special case for when all the tiles are the same size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_tile(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "tile",
  stat = "identity",
  position = "identity",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_tile_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_data">data</code></td>
<td>
<p>A data frame with the variables to be plotted.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_title">title</code>, <code id="gf_tile_+3A_subtitle">subtitle</code>, <code id="gf_tile_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_stat">stat</code></td>
<td>
<p>A character string naming the stat used to make the layer.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether this layer should be included in
the legends.  <code>NA</code>, the default, includes layer in the legends if any
of the attributes of the layer are mapped.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_tile_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>
<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>
<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_tile">ggplot2::geom_tile()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>D &lt;- expand.grid(x = 0:5, y = 0:5)
D$z &lt;- runif(nrow(D))
gf_tile(y ~ x, fill = ~z, data = D)
gf_tile(z ~ x + y, data = D)
</code></pre>

<hr>
<h2 id='gf_violin'>Formula interface to geom_violin()</h2><span id='topic+gf_violin'></span>

<h3>Description</h3>

<p>A violin plot is a compact display of a continuous distribution. It is a
blend of <code><a href="ggplot2.html#topic+geom_boxplot">geom_boxplot()</a></code> and <code><a href="ggplot2.html#topic+geom_density">geom_density()</a></code>: a
violin plot is a mirrored density plot displayed in the same way as a
boxplot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gf_violin(
  object = NULL,
  gformula = NULL,
  data = NULL,
  ...,
  alpha,
  color,
  fill,
  group,
  linetype,
  linewidth,
  weight,
  draw_quantiles = NULL,
  trim = TRUE,
  scale = "area",
  bw,
  adjust = 1,
  kernel = "gaussian",
  xlab,
  ylab,
  title,
  subtitle,
  caption,
  geom = "violin",
  stat = "ydensity",
  position = "dodge",
  show.legend = NA,
  show.help = NULL,
  inherit = TRUE,
  environment = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gf_violin_+3A_object">object</code></td>
<td>
<p>When chaining, this holds an object produced in the earlier portions
of the chain.  Most users can safely ignore this argument.
See details and examples.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_gformula">gformula</code></td>
<td>
<p>A formula with shape <code>y ~ x</code>.
Faceting can be achieved by including <code>|</code> in the formula.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_...">...</code></td>
<td>
<p>Additional arguments.  Typically these are
(a) ggplot2 aesthetics to be set with <code>attribute = value</code>,
(b) ggplot2 aesthetics to be mapped with <code>attribute = ~ expression</code>, or
(c) attributes of the layer as a whole, which are set with <code>attribute = value</code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_alpha">alpha</code></td>
<td>
<p>Opacity (0 = invisible, 1 = opaque).</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_color">color</code></td>
<td>
<p>A color or a formula used for mapping color.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_fill">fill</code></td>
<td>
<p>A color for filling, or a formula used for mapping fill.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_group">group</code></td>
<td>
<p>Used for grouping.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_linetype">linetype</code></td>
<td>
<p>A linetype (numeric or &quot;dashed&quot;, &quot;dotted&quot;, etc.) or a formula used
for mapping linetype.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_linewidth">linewidth</code></td>
<td>
<p>A numerical line width or a formula used for mapping linewidth.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_weight">weight</code></td>
<td>
<p>Useful for summarized data, <code>weight</code> provides a count
of the number of values with the given combination of <code>x</code> and <code>y</code> values.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_draw_quantiles">draw_quantiles</code></td>
<td>
<p>If <code>not(NULL)</code> (default), draw horizontal lines
at the given quantiles of the density estimate.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_trim">trim</code></td>
<td>
<p>If <code>TRUE</code> (default), trim the tails of the violins
to the range of the data. If <code>FALSE</code>, don't trim the tails.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_scale">scale</code></td>
<td>
<p>if &quot;area&quot; (default), all violins have the same area (before trimming
the tails). If &quot;count&quot;, areas are scaled proportionally to the number of
observations. If &quot;width&quot;, all violins have the same maximum width.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_bw">bw</code></td>
<td>
<p>The smoothing bandwidth to be used.
If numeric, the standard deviation of the smoothing kernel.
If character, a rule to choose the bandwidth, as listed in
<code><a href="stats.html#topic+bandwidth">stats::bw.nrd()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_adjust">adjust</code></td>
<td>
<p>A multiplicate bandwidth adjustment. This makes it possible
to adjust the bandwidth while still using the a bandwidth estimator.
For example, <code>adjust = 1/2</code> means use half of the default bandwidth.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_kernel">kernel</code></td>
<td>
<p>Kernel. See list of available kernels in <code><a href="stats.html#topic+density">density()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_title">title</code>, <code id="gf_violin_+3A_subtitle">subtitle</code>, <code id="gf_violin_+3A_caption">caption</code></td>
<td>
<p>Title, sub-title, and caption for the plot.
See also <code><a href="#topic+gf_labs">gf_labs()</a></code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_geom">geom</code>, <code id="gf_violin_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_violin()</code> and <code>stat_ydensity()</code>.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_show.help">show.help</code></td>
<td>
<p>If <code>TRUE</code>, display some minimal help.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_inherit">inherit</code></td>
<td>
<p>A logical indicating whether default attributes are inherited.</p>
</td></tr>
<tr><td><code id="gf_violin_+3A_environment">environment</code></td>
<td>
<p>An environment in which to look for variables not found in <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a gg object
</p>


<h3>Specifying plot attributes</h3>

<p>Positional attributes (a.k.a, aesthetics) are specified using the formula in <code>gformula</code>.
Setting and mapping of additional attributes can be done through the
use of additional arguments.
Attributes can be set can be set using arguments of the form <code>attribute = value</code> or
mapped using arguments of the form <code>attribute = ~ expression</code>.
</p>
<p>In formulas of the form <code>A | B</code>, <code>B</code> will be used to form facets using
<code><a href="ggplot2.html#topic+facet_wrap">facet_wrap()</a></code> or <code><a href="ggplot2.html#topic+facet_grid">facet_grid()</a></code>.
This provides an alternative to
<code><a href="#topic+gf_facet_wrap">gf_facet_wrap()</a></code> and
<code><a href="#topic+gf_facet_grid">gf_facet_grid()</a></code> that is terser and may feel more familiar to users
of <span class="pkg">lattice</span>.
</p>


<h3>Evaluation</h3>

<p>Evaluation of the <span class="pkg">ggplot2</span> code occurs in the environment of <code>gformula</code>.
This will typically do the right thing when formulas are created on the fly, but might not
be the right thing if formulas created in one environment are used to create plots
in another.
</p>


<h3>References</h3>

<p>Hintze, J. L., Nelson, R. D. (1998) Violin Plots: A Box
Plot-Density Trace Synergism. The American Statistician 52, 181-184.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+geom_violin">ggplot2::geom_violin()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gf_violin(age ~ substance, data = mosaicData::HELPrct)
gf_violin(age ~ substance, data = mosaicData::HELPrct, fill = ~sex)
</code></pre>

<hr>
<h2 id='layer_factory'>Create a ggformula layer function</h2><span id='topic+layer_factory'></span>

<h3>Description</h3>

<p>Primarily intended for package developers, this function factory
is used to create the layer functions in the ggformula package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>layer_factory(
  geom = "point",
  position = "identity",
  stat = "identity",
  pre = {
 },
  aes_form = y ~ x,
  extras = alist(),
  note = NULL,
  aesthetics = aes(),
  inherit.aes = TRUE,
  check.aes = TRUE,
  data = NULL,
  layer_fun = quo(ggplot2::layer),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="layer_factory_+3A_geom">geom</code></td>
<td>
<p>The geom to use for the layer
(may be specified as a string).</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_position">position</code></td>
<td>
<p>The position function to use for the layer
(may be specified as a string).</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_stat">stat</code></td>
<td>
<p>The stat function to use for the layer
(may be specified as a string).</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_pre">pre</code></td>
<td>
<p>code to run as a &quot;pre-process&quot;.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_aes_form">aes_form</code></td>
<td>
<p>A single formula or a list of formulas specifying
how attributes are inferred from the formula.  Use <code>NULL</code> if the
function may be used without a formula.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_extras">extras</code></td>
<td>
<p>An alist of additional arguments (potentially with defaults)</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_note">note</code></td>
<td>
<p>A note to add to the quick help.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_aesthetics">aesthetics</code></td>
<td>
<p>Additional aesthetics (typically created using
<code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>) set rather than inferred from formula.
<code>gf_dhistogram()</code> uses this to set the y aesthetic to <code>stat(density)</code>,
for example.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>A logical indicating whether aesthetics should be
inherited from prior layers or a vector of character names of aesthetics
to inherit.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_check.aes">check.aes</code></td>
<td>
<p>A logical indicating whether a warning should be emited
when aesthetics provided don't match what is expected.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_data">data</code></td>
<td>
<p>A data frame or <code>NULL</code> or <code>NA</code>.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_layer_fun">layer_fun</code></td>
<td>
<p>The function used to create the layer or a quosure that evaluates
to such a function.</p>
</td></tr>
<tr><td><code id="layer_factory_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function.
</p>

<hr>
<h2 id='MIpop'>Population of Michigan counties</h2><span id='topic+MIpop'></span>

<h3>Description</h3>

<p>Population of Michigan counties
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(MIpop)
</code></pre>


<h3>Format</h3>

<p>A data frame with populations of Michigan counties.
</p>

<dl>
<dt>rank</dt><dd><p> Population rank.</p>
</dd>
<dt>county</dt><dd><p> County name.</p>
</dd>
<dt>population</dt><dd><p> Population (2010 census).</p>
</dd>
</dl>


<hr>
<h2 id='percs_by_group'>Compute groupwise proportions and percents</h2><span id='topic+percs_by_group'></span><span id='topic+props_by_group'></span>

<h3>Description</h3>

<p>Transform a vector of counts and a vector of groups into
a vector of proportions or percentages within groups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>percs_by_group(x, group)

props_by_group(x, group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="percs_by_group_+3A_x">x</code></td>
<td>
<p>A vector of counts</p>
</td></tr>
<tr><td><code id="percs_by_group_+3A_group">group</code></td>
<td>
<p>A vector to determine groups.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- c(20, 30, 30, 70)
g1 &lt;- c("A", "A", "B", "B")
g2 &lt;- c("A", "B", "A", "B")
props_by_group(x, g1)
percs_by_group(x, g1)
props_by_group(x, g2)
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+makeFun'></span><span id='topic+df_stats'></span><span id='topic+na.warn'></span><span id='topic+var_label'></span><span id='topic+var_label+3C-'></span><span id='topic+set_variable_labels'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>labelled</dt><dd><p><code><a href="labelled.html#topic+var_label">set_variable_labels</a></code>, <code><a href="labelled.html#topic+var_label">var_label</a></code>, <code><a href="labelled.html#topic+var_label">var_label&lt;-</a></code></p>
</dd>
<dt>mosaicCore</dt><dd><p><code><a href="mosaicCore.html#topic+df_stats">df_stats</a></code>, <code><a href="mosaicCore.html#topic+makeFun">makeFun</a></code>, <code><a href="mosaicCore.html#topic+na.warn">na.warn</a></code></p>
</dd>
</dl>

<hr>
<h2 id='stat_fitdistr'>A stat for fitting distributions</h2><span id='topic+stat_fitdistr'></span>

<h3>Description</h3>

<p>This stat computes points for plotting a distribution function.  Fitting is done
using <code>MASS::fitdistr()</code> when analytic solutions are not available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_fitdistr(
  mapping = NULL,
  data = NULL,
  geom = "path",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  dist = "dnorm",
  start = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_fitdistr_+3A_mapping">mapping</code></td>
<td>
<p>Aesthetics created using <code>aes()</code> or <code>aes_string()</code>.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_geom">geom</code></td>
<td>
<p>A character string naming the geom used to make the layer.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_position">position</code></td>
<td>
<p>Either a character string naming the position function used
for the layer or a position object returned from a call to a position function.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_na.rm">na.rm</code></td>
<td>
<p>If TRUE, do not emit a warning about missing data.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical. Should this layer be included in the legends? <code>NA</code>,
the default, includes if any aesthetics are mapped. <code>FALSE</code> never includes,
and <code>TRUE</code> always includes.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics, rather than combining
with them.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_dist">dist</code></td>
<td>
<p>A character string indicating the distribution to fit.  Examples include
<code>"dnorm"</code>, <code>"dgamma"</code>, etc.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_start">start</code></td>
<td>
<p>A list of starting values used by <code>MASS::fitdistr()</code> when numerically
approximating the maximum likelihood estimate.</p>
</td></tr>
<tr><td><code id="stat_fitdistr_+3A_...">...</code></td>
<td>
<p>Additional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A gg object
</p>

<hr>
<h2 id='stat_lm'>Linear Model Displays</h2><span id='topic+stat_lm'></span><span id='topic+geom_lm'></span>

<h3>Description</h3>

<p>Adds linear model fits to plots. <code>geom_lm()</code> and <code>stat_lm()</code> are essentially
equivalent.  Use <code>geom_lm()</code> unless you want a non-standard geom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_lm(
  mapping = NULL,
  data = NULL,
  geom = "lm",
  position = "identity",
  interval = c("none", "prediction", "confidence"),
  level = 0.95,
  formula = y ~ x,
  lm.args = list(),
  backtrans = identity,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_lm(
  mapping = NULL,
  data = NULL,
  stat = "lm",
  position = "identity",
  interval = c("none", "prediction", "confidence"),
  level = 0.95,
  formula = y ~ x,
  lm.args = list(),
  backtrans = identity,
  ...,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_lm_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_geom">geom</code>, <code id="stat_lm_+3A_stat">stat</code></td>
<td>
<p>Use to override the default connection between
<code>geom_lm</code> and <code>stat_lm</code>.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_interval">interval</code></td>
<td>
<p>One of <code>"none"</code>, <code>"confidence"</code> or <code>"prediction"</code>.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_level">level</code></td>
<td>
<p>The level used for confidence or prediction intervals</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_formula">formula</code></td>
<td>
<p>a formula describing the model in terms of <code>y</code> (response)
and <code>x</code> (predictor).</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_lm.args">lm.args</code></td>
<td>
<p>A list of arguments supplied to <code><a href="stats.html#topic+lm">lm()</a></code> when performing the fit.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_backtrans">backtrans</code></td>
<td>
<p>a function that transforms the response back to
the original scale when the <code>formula</code> includes a transformation on
<code>y</code>.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="stat_lm_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Stat calculation is performed by the (currently undocumented)
<code>predictdf</code>.  Pointwise confidence or prediction bands are
calculated using the <code><a href="stats.html#topic+predict">predict()</a></code> method.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">lm()</a></code> for details on linear model fitting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(data = mosaicData::KidsFeet, aes(y = length, x = width, color = sex)) +
  geom_lm() +
  geom_point()
ggplot(data = mosaicData::KidsFeet, aes(y = length, x = width, color = sex)) +
  geom_lm(interval = "prediction", color = "skyblue") +
  geom_lm(interval = "confidence") +
  geom_point() +
  facet_wrap(~sex)
# non-standard display
ggplot(data = mosaicData::KidsFeet, aes(y = length, x = width, color = sex)) +
  stat_lm(aes(fill = sex),
    color = NA, interval = "confidence", geom = "ribbon",
    alpha = 0.2
  ) +
  geom_point() +
  facet_wrap(~sex)
ggplot(mpg, aes(displ, hwy)) +
  geom_lm(
    formula = log(y) ~ poly(x, 3), backtrans = exp,
    interval = "prediction", fill = "skyblue"
  ) +
  geom_lm(
    formula = log(y) ~ poly(x, 3), backtrans = exp, interval = "confidence",
    color = "red"
  ) +
  geom_point()
</code></pre>

<hr>
<h2 id='stat_qqline'>A Stat for Adding Reference Lines to QQ-Plots</h2><span id='topic+stat_qqline'></span>

<h3>Description</h3>

<p>This stat computes quantiles of the sample and theoretical distribution for
the purpose of providing reference lines for QQ-plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_qqline(
  mapping = NULL,
  data = NULL,
  geom = "line",
  position = "identity",
  ...,
  distribution = stats::qnorm,
  dparams = list(),
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_qqline_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping produced with <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_string">aes_string()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_geom">geom</code></td>
<td>
<p>A geom.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_position">position</code></td>
<td>
<p>A position object.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_distribution">distribution</code></td>
<td>
<p>A quantile function.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_dparams">dparams</code></td>
<td>
<p>A list of arguments for <code>distribution</code>.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_na.rm">na.rm</code></td>
<td>
<p>A logical indicating whether a warning should be issued when
missing values are removed before plotting.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether legends should be included
for this layer.  If <code>NA</code>, legends will be include for each aesthetic
that is mapped.</p>
</td></tr>
<tr><td><code id="stat_qqline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>A logical indicating whether aesthetics should be
inherited.  When <code>FALSE</code>, the supplied <code>mapping</code> will be
the only aesthetics used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data(penguins, package = "palmerpenguins")
ggplot(data = penguins, aes(sample = bill_length_mm)) +
  geom_qq() +
  stat_qqline(alpha = 0.7, color = "red", linetype = "dashed") +
  facet_wrap(~species)
</code></pre>

<hr>
<h2 id='stat_spline'>Geoms and stats for spline smoothing</h2><span id='topic+stat_spline'></span><span id='topic+geom_spline'></span>

<h3>Description</h3>

<p>Similar to <a href="ggplot2.html#topic+geom_smooth">geom_smooth</a>, this adds spline fits to plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_spline(
  mapping = NULL,
  data = NULL,
  geom = "line",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  weight = NULL,
  df = NULL,
  spar = NULL,
  cv = FALSE,
  all.knots = FALSE,
  nknots = stats::.nknots.smspl,
  df.offset = 0,
  penalty = 1,
  control.spar = list(),
  tol = NULL,
  ...
)

geom_spline(
  mapping = NULL,
  data = NULL,
  stat = "spline",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  weight = NULL,
  df = NULL,
  spar = NULL,
  cv = FALSE,
  all.knots = FALSE,
  nknots = stats::.nknots.smspl,
  df.offset = 0,
  penalty = 1,
  control.spar = list(),
  tol = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_spline_+3A_mapping">mapping</code></td>
<td>
<p>An aesthetic mapping produced with <code><a href="ggplot2.html#topic+aes">aes()</a></code> or
<code><a href="ggplot2.html#topic+aes_string">aes_string()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_geom">geom</code></td>
<td>
<p>A geom.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_position">position</code></td>
<td>
<p>A position object.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_na.rm">na.rm</code></td>
<td>
<p>A logical indicating whether a warning should be issued when
missing values are removed before plotting.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_show.legend">show.legend</code></td>
<td>
<p>A logical indicating whether legends should be included
for this layer.  If <code>NA</code>, legends will be included for each aesthetic
that is mapped.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>A logical indicating whether aesthetics should be
inherited.  When <code>FALSE</code>, the supplied <code>mapping</code> will be
the only aesthetics used.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_weight">weight</code></td>
<td>
<p>An optional vector of weights.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code>.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_df">df</code></td>
<td>
<p>desired equivalent degrees of freedom.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_spar">spar</code></td>
<td>
<p>A smoothing parameter, typically in (0,1].
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_cv">cv</code></td>
<td>
<p>A logical.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_all.knots">all.knots</code></td>
<td>
<p>A logical.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_nknots">nknots</code></td>
<td>
<p>An integer or function giving the number of knots to use
when <code>all.knots = FALSE</code>.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_df.offset">df.offset</code></td>
<td>
<p>A numerical value used to increase the degrees of freedom
when using GVC.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_penalty">penalty</code></td>
<td>
<p>the coefficient of the penalty for degrees of freedom in the
GVC criterion.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_control.spar">control.spar</code></td>
<td>
<p>An optional list used to control root finding
when the parameter <code>spar</code> is computed.
See <code><a href="stats.html#topic+smooth.spline">smooth.spline()</a></code> for details.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_tol">tol</code></td>
<td>
<p>A tolerance for sameness or uniqueness of the <code>x</code> values.
The values are binned into bins of size tol and values which fall into
the same bin are regarded as the same. Must be strictly positive (and finite).
When <code>NULL</code>, <code>IQR(x) * 10e-6</code> is used.</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
<tr><td><code id="stat_spline_+3A_stat">stat</code></td>
<td>
<p>A stat.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (require(mosaicData)) {
  ggplot(Births) + geom_spline(aes(x = date, y = births, colour = wday))
  ggplot(Births) + geom_spline(aes(x = date, y = births, colour = wday), nknots = 10)
}
</code></pre>

<hr>
<h2 id='StatAsh'>ggproto classes for ggplot2</h2><span id='topic+StatAsh'></span><span id='topic+StatSpline'></span><span id='topic+StatQqline'></span><span id='topic+StatLm'></span><span id='topic+GeomLm'></span><span id='topic+StatFitdistr'></span>

<h3>Description</h3>

<p>These are typically accessed through their associated <code style="white-space: pre;">&#8288;geom_*&#8288;</code>, <code style="white-space: pre;">&#8288;stat_*&#8288;</code> or
<code style="white-space: pre;">&#8288;gf_*&#8288;</code> functions.
</p>
<p>These are typically accessed through their associated <code style="white-space: pre;">&#8288;geom_*&#8288;</code>, <code style="white-space: pre;">&#8288;stat_*&#8288;</code> or
<code style="white-space: pre;">&#8288;gf_*&#8288;</code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatAsh

StatSpline

StatQqline

StatLm

GeomLm

StatAsh

StatFitdistr
</code></pre>


<h3>See Also</h3>

<p><code><a href="#topic+stat_ash">stat_ash()</a></code>
</p>
<p><code><a href="#topic+gf_ash">gf_ash()</a></code>
</p>
<p><code><a href="#topic+stat_spline">stat_spline()</a></code>
</p>
<p><code><a href="#topic+gf_spline">gf_spline()</a></code>
</p>
<p><code><a href="ggplot2.html#topic+stat_qq">stat_qq()</a></code>
</p>
<p><code><a href="#topic+gf_qq">gf_qq()</a></code>
</p>
<p><code><a href="#topic+stat_lm">stat_lm()</a></code>
</p>
<p><code><a href="#topic+gf_lm">gf_lm()</a></code>
</p>
<p><code><a href="#topic+geom_lm">geom_lm()</a></code>
</p>
<p><code><a href="#topic+gf_lm">gf_lm()</a></code>
</p>
<p><code><a href="#topic+stat_ash">stat_ash()</a></code>
</p>
<p><code><a href="#topic+gf_ash">gf_ash()</a></code>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package Rpadrino</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {Rpadrino}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#pdb'><p>Selected models from the Padrino Database</p></a></li>
<li><a href='#pdb_citations'><p>Access pieces of metadata from a <code>pdb</code> object</p></a></li>
<li><a href='#pdb_download'><p>Download PADRINO <code>pdb</code> objects</p></a></li>
<li><a href='#pdb_make_ipm'><p>Generate IPMs from Padrino objects</p></a></li>
<li><a href='#pdb_make_proto_ipm'><p>Generate proto_ipms from Padrino objects</p></a></li>
<li><a href='#pdb_subset'><p>Subset a Padrino database object</p></a></li>
<li><a href='#print.pdb'><p>Print a <code>pdb</code> object.</p></a></li>
<li><a href='#tidyeval'><p>Tidy eval helpers</p></a></li>
<li><a href='#vital_rate_exprs.pdb_proto_ipm_list'><p>Padrino methods for 'ipmr' generic functions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Interact with the 'PADRINO' IPM Database</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.5</td>
</tr>
<tr>
<td>Description:</td>
<td>'PADRINO' houses textual representations of
    Integral Projection Models which can be converted from their 
    table format into full kernels to reproduce or extend an 
    already published analysis. 'Rpadrino' is an R interface to this database. For
    more information on Integral Projection Models, see Easterling et al. (2000) 
  &lt;<a href="https://doi.org/10.1890%2F0012-9658%282000%29081%5B0694%3ASSSAAN%5D2.0.CO%3B2">doi:10.1890/0012-9658(2000)081[0694:SSSAAN]2.0.CO;2</a>&gt;, Merow et al. (2013) 
  &lt;<a href="https://doi.org/10.1111%2F2041-210X.12146">doi:10.1111/2041-210X.12146</a>&gt;, Rees et al. (2014) &lt;<a href="https://doi.org/10.1111%2F1365-2656.12178">doi:10.1111/1365-2656.12178</a>&gt;,
  and Metcalf et al. (2015) &lt;<a href="https://doi.org/10.1111%2F2041-210X.12405">doi:10.1111/2041-210X.12405</a>&gt;. See Levin et al. (2021)
  for more information on 'ipmr', the engine that powers model reconstruction
  &lt;<a href="https://doi.org/10.1111%2F2041-210X.13683">doi:10.1111/2041-210X.13683</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), ipmr (&ge; 0.0.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, ggplot2, magrittr, mvtnorm, purrr, rlang (&ge; 0.3.0),
rmarkdown, tools, truncdist, utils</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>libcurl: libcurl-devel (rpm) or
libcurl4-openssl-dev (deb).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/padrinoDB/Rpadrino/issues">https://github.com/padrinoDB/Rpadrino/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/padrinoDB/Rpadrino">https://github.com/padrinoDB/Rpadrino</a>,
<a href="https://padrinoDB.github.io/Rpadrino/">https://padrinoDB.github.io/Rpadrino/</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, maps, roxygen2, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-22 20:03:42 UTC; sl13sise</td>
</tr>
<tr>
<td>Author:</td>
<td>Sam Levin <a href="https://orcid.org/0000-0002-3289-9925"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Aldo Compagnoni [aut],
  Dylan Childs [aut],
  Sanne Evers [aut],
  Tomos Potter [aut],
  Roberto Salguero-Gomez [aut],
  Tiffany Knight [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sam Levin &lt;levisc8@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-22 22:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Value</h3>

<p>The computed value.
</p>

<hr>
<h2 id='pdb'>Selected models from the Padrino Database</h2><span id='topic+pdb'></span>

<h3>Description</h3>

<p>Selected models from the Padrino Database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdb
</code></pre>


<h3>Format</h3>

<p>A list of data frames, each corresponding to a different table in the
Padrino Database.
</p>

<hr>
<h2 id='pdb_citations'>Access pieces of metadata from a <code>pdb</code> object</h2><span id='topic+pdb_citations'></span><span id='topic+pdb_species_accepted'></span><span id='topic+pdb_species_author'></span><span id='topic+pdb_genus'></span><span id='topic+pdb_family'></span><span id='topic+pdb_order'></span><span id='topic+pdb_class'></span><span id='topic+pdb_phylum'></span><span id='topic+pdb_kingdom'></span><span id='topic+pdb_org_type'></span><span id='topic+pdb_dicot_monocot'></span><span id='topic+pdb_angio_gymon'></span><span id='topic+pdb_authors'></span><span id='topic+pdb_journal'></span><span id='topic+pdb_pub_year'></span><span id='topic+pdb_doi'></span><span id='topic+pdb_comments'></span><span id='topic+pdb_appendix_link'></span><span id='topic+pdb_duration'></span><span id='topic+pdb_start_year'></span><span id='topic+pdb_start_month'></span><span id='topic+pdb_end_year'></span><span id='topic+pdb_end_month'></span><span id='topic+pdb_periodicity'></span><span id='topic+pdb_population_name'></span><span id='topic+pdb_number_populations'></span><span id='topic+pdb_lat'></span><span id='topic+pdb_lon'></span><span id='topic+pdb_altitude'></span><span id='topic+pdb_country'></span><span id='topic+pdb_continent'></span><span id='topic+pdb_ecoregion'></span><span id='topic+pdb_studied_sex'></span><span id='topic+pdb_eviction_used'></span><span id='topic+pdb_evict_type'></span><span id='topic+pdb_treatment'></span><span id='topic+pdb_has_time_lag'></span><span id='topic+pdb_has_age'></span><span id='topic+pdb_report'></span>

<h3>Description</h3>

<p>These functions access pieces of specific pieces metadata from
the <code>Metadata</code> table of a <code>pdb</code> object. The exception is
<code>pdb_report</code>, which automatically generates a report with summary
statistics and citation information for the <code>pdb</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdb_citations(pdb, ipm_id = NULL)

pdb_species_accepted(pdb, ipm_id = NULL)

pdb_species_author(pdb, ipm_id = NULL)

pdb_genus(pdb, ipm_id = NULL)

pdb_family(pdb, ipm_id = NULL)

pdb_order(pdb, ipm_id = NULL)

pdb_class(pdb, ipm_id = NULL)

pdb_phylum(pdb, ipm_id = NULL)

pdb_kingdom(pdb, ipm_id = NULL)

pdb_org_type(pdb, ipm_id = NULL)

pdb_dicot_monocot(pdb, ipm_id = NULL)

pdb_angio_gymon(pdb, ipm_id = NULL)

pdb_authors(pdb, ipm_id = NULL)

pdb_journal(pdb, ipm_id = NULL)

pdb_pub_year(pdb, ipm_id = NULL)

pdb_doi(pdb, ipm_id = NULL)

pdb_comments(pdb, ipm_id = NULL)

pdb_appendix_link(pdb, ipm_id = NULL)

pdb_duration(pdb, ipm_id = NULL)

pdb_start_year(pdb, ipm_id = NULL)

pdb_start_month(pdb, ipm_id = NULL)

pdb_end_year(pdb, ipm_id = NULL)

pdb_end_month(pdb, ipm_id = NULL)

pdb_periodicity(pdb, ipm_id = NULL)

pdb_population_name(pdb, ipm_id = NULL)

pdb_number_populations(pdb, ipm_id = NULL)

pdb_lat(pdb, ipm_id = NULL)

pdb_lon(pdb, ipm_id = NULL)

pdb_altitude(pdb, ipm_id = NULL)

pdb_country(pdb, ipm_id = NULL)

pdb_continent(pdb, ipm_id = NULL)

pdb_ecoregion(pdb, ipm_id = NULL)

pdb_studied_sex(pdb, ipm_id = NULL)

pdb_eviction_used(pdb, ipm_id = NULL)

pdb_evict_type(pdb, ipm_id = NULL)

pdb_treatment(pdb, ipm_id = NULL)

pdb_has_time_lag(pdb, ipm_id = NULL)

pdb_has_age(pdb, ipm_id = NULL)

pdb_report(
  pdb,
  title = "",
  keep_rmd = TRUE,
  rmd_dest = getwd(),
  output_format = "html",
  render_output = TRUE,
  map = TRUE,
  translate_eqs = FALSE,
  block_eqs = FALSE,
  long_eq_length = 65
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdb_citations_+3A_pdb">pdb</code></td>
<td>
<p>A Padrino Database object.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_ipm_id">ipm_id</code></td>
<td>
<p>The ID of the model. The default (<code>NULL</code>) returns all
values in the <code>pdb</code> object.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_title">title</code></td>
<td>
<p>The title for the created report.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_keep_rmd">keep_rmd</code></td>
<td>
<p>Keep the un-rendered Rmd file? Useful for manual editing.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_rmd_dest">rmd_dest</code></td>
<td>
<p>The folder to save the Rmd file at if <code>keep_rmd = TRUE</code>.
The default is <code>getwd()</code>.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_output_format">output_format</code></td>
<td>
<p>The output format to create. Options are &quot;html&quot;, &quot;pdf&quot;,
&quot;word&quot;, &quot;odt&quot;, &quot;rtf&quot;, or &quot;md&quot;.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_render_output">render_output</code></td>
<td>
<p>A logical - should the document be rendered for
inspection?</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_map">map</code></td>
<td>
<p>Create a map of studies included in the <code>pdb</code> object?</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_translate_eqs">translate_eqs</code></td>
<td>
<p>A logical - should the mathematical equations of the IPM(s)
also be included in the report? These are translated from R to Latex by
<code><a href="ipmr.html#topic+make_ipm_report_body">make_ipm_report_body</a></code>. Currently, this is only available
for IPMs that do not have parameter set indexed terms.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_block_eqs">block_eqs</code></td>
<td>
<p>If <code>report_eqs = TRUE</code>, should equations be reported in
block format or as inline equations? This main difference for <code>"pdf"</code>
formats is that equation numbering is done with <code>tag{}</code>. For
non-<code>"pdf"</code> formats, the difference is that equations are centered.
Numbering may yield strange results for non-<code>"pdf"</code> formats.</p>
</td></tr>
<tr><td><code id="pdb_citations_+3A_long_eq_length">long_eq_length</code></td>
<td>
<p>For longer equations, <code>make_ipm_report</code> tries to
wrap these into multiple lines using <code>\\</code>. This parameter controls
the number of characters per line. Default is 65. Ignored when
<code>block_eqs = FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector of the metadata. The names correspond to
<code>ipm_ids</code>s. For <code>pdb_report</code>, the file path to the rendered output,
or to the <code>.rmd</code> file when <code>render_output = FALSE</code>.
</p>

<hr>
<h2 id='pdb_download'>Download PADRINO <code>pdb</code> objects</h2><span id='topic+pdb_download'></span><span id='topic+pdb_save'></span><span id='topic+pdb_load'></span>

<h3>Description</h3>

<p>Download PADRINO from Github.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdb_download(save = TRUE, destination = NULL)

pdb_save(pdb, destination = NULL)

pdb_load(path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdb_download_+3A_save">save</code></td>
<td>
<p>Write the PDB object to a folder of text files?</p>
</td></tr>
<tr><td><code id="pdb_download_+3A_destination">destination</code></td>
<td>
<p>Where to write the <code>pdb</code> object to.</p>
</td></tr>
<tr><td><code id="pdb_download_+3A_pdb">pdb</code></td>
<td>
<p>A <code>pdb</code> object.</p>
</td></tr>
<tr><td><code id="pdb_download_+3A_path">path</code></td>
<td>
<p>The directory where the PADRINO tables are stored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This does not currently support versioning because there is only
one version. <code>destination</code> should be a folder name. When <code>save = TRUE</code>,
a set of 12 text files will be saved in the <code>destination</code> folder. The files
are tab-delimited. If you are not connected to the internet, <code>pdb_download</code>
will load the internal <code>pdb</code> data object and return that instead.
</p>


<h3>Value</h3>

<p><code>pdb_download</code> and <code>pdb_load</code> return <code>pdb</code> objects.
<code>pdb_save</code> returns a <code>pdb</code> object invisibly.
</p>

<hr>
<h2 id='pdb_make_ipm'>Generate IPMs from Padrino objects</h2><span id='topic+pdb_make_ipm'></span>

<h3>Description</h3>

<p>This function generates complete IPMs from objects created with
<code>pdb_make_proto_ipm</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdb_make_ipm(proto_ipm_list, addl_args = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdb_make_ipm_+3A_proto_ipm_list">proto_ipm_list</code></td>
<td>
<p>Output from <code>pdb_make_proto_ipm</code>.</p>
</td></tr>
<tr><td><code id="pdb_make_ipm_+3A_addl_args">addl_args</code></td>
<td>
<p>A named list of additional arguments to pass to
<code><a href="ipmr.html#topic+make_ipm">make_ipm</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The format of <code>addl_args</code> should be a nested list. The names
of the outermost level should correspond to the <code>ipm_id</code> that the arguments
apply to. Each entry of the outermost level should itself then be a named list
where the names correspond to arguments to <code><a href="ipmr.html#topic+make_ipm">make_ipm</a></code>, and the
values are the values for each argument. See examples.
</p>


<h3>Value</h3>

<p>A list of IPMs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

data("pdb_ex")

proto &lt;- pdb_make_proto_ipm(pdb_ex, ipm_id = "aaa341", det_stoch = "det")

ipm   &lt;- pdb_make_ipm(proto)

proto &lt;- pdb_make_proto_ipm(pdb_ex,
                            ipm_id     = "aaaa55",
                            det_stoch  = "stoch",
                            kern_param = "kern")

args  &lt;-list(

 # The names in the outermost list should be ipm_id's

 aaaa55 = list(

   # The names in the inner list should be arguments to make_ipm()

   report_progress = TRUE,
   iterate         = TRUE,
   iterations      = 100,
   kernel_seq      = sample(2004:2014, 100, replace = TRUE)
 )
)

ipm   &lt;- pdb_make_ipm(proto, addl_args = args)

## End(Not run)

</code></pre>

<hr>
<h2 id='pdb_make_proto_ipm'>Generate proto_ipms from Padrino objects</h2><span id='topic+pdb_make_proto_ipm'></span>

<h3>Description</h3>

<p>This function generates <code>proto_ipm</code> objects from
Padrino Database tables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdb_make_proto_ipm(pdb, ipm_id = NULL, det_stoch = "det", kern_param = "kern")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdb_make_proto_ipm_+3A_pdb">pdb</code></td>
<td>
<p>A <code>pdb</code> object.</p>
</td></tr>
<tr><td><code id="pdb_make_proto_ipm_+3A_ipm_id">ipm_id</code></td>
<td>
<p>Optionally, one or more <code>ipm_id</code>'s to build. If empty,
all models contained in the <code>pdb</code> object will be processed into
<code>proto_ipm</code>'s.</p>
</td></tr>
<tr><td><code id="pdb_make_proto_ipm_+3A_det_stoch">det_stoch</code></td>
<td>
<p>A vector containing either <code>"det"</code> or <code>"stoch"</code>.
This determines whether we want to construct a deterministic or stochastic
model. Default is <code>"det"</code>. See details</p>
</td></tr>
<tr><td><code id="pdb_make_proto_ipm_+3A_kern_param">kern_param</code></td>
<td>
<p>If <code>det_stoch = "stoch"</code>, then whether or not to construct
a kernel resampled model, or a parameter resampled model. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>proto_ipm</code> objects contain all of the information needed
to implement an IPM, but stop short of actually generating kernels. These
are intermediate building blocks that can be modified before creating a full
IPM so that things like perturbation analysis are a bit more straightforward.
</p>
<p>When requesting many models, the <code>det_stoch</code> and <code>kern_param</code> parameters
can also be vectors. These are matched with <code>ipm_id</code> by position. If the
lengths of <code>det_stoch</code> and <code>kern_param</code> do not match the length
<code>ipm_id</code>, they will be recycled until they do.
</p>
<p>For stochastic models, there is sometimes the option of building either a kernel-resampled
or a parameter resampled model. A kernel resampled model uses some point estimate
for time and/or space varying parameters to generate kernels for each year/site/grouping factor.
Parameter resampled models sample parameters from distributions. Padrino stores this
information for some models when it is available in the literature, and tries
to fail informatively when these distributions aren't available in the database.
</p>


<h3>Value</h3>

<p>A list containing one or more <code>proto_ipms</code>. Names of the list
will correspond to <code>ipm_id</code>s.
</p>


<h3>See Also</h3>

<p>For more info on <code>kern_param</code> definitions:
</p>
<p>Metcalf <em>et al.</em> (2015). Statistial modeling of annual variation
for inference on stochastic population dynamics using Integral Projection Models.
<em>Methods in Ecology and Evolution</em>. DOI: 10.1111/2041-210X.12405
</p>

<hr>
<h2 id='pdb_subset'>Subset a Padrino database object</h2><span id='topic+pdb_subset'></span>

<h3>Description</h3>

<p>Subset a Padrino database object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdb_subset(pdb, ipm_ids)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pdb_subset_+3A_pdb">pdb</code></td>
<td>
<p>A Padrino database object.</p>
</td></tr>
<tr><td><code id="pdb_subset_+3A_ipm_ids">ipm_ids</code></td>
<td>
<p>The <code>ipm_id</code>'s to subset the database to.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently, the only variable to subset with is the <code>ipm_id</code>.
Eventually, subsetting based on other variables will be possible with syntax
similar to <code>subset</code>. At the moment, users will need to create a vector
of <code>ipm_id</code>s based on searching and then pass that to subset. See
Examples
</p>


<h3>Value</h3>

<p>A new Padrino database object containing only the models specified in
<code>ipm_ids</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 

data(pdb)

poa_ind &lt;- pdb$Metadata$ipm_id[pdb$Metadata$tax_family == "Poaceae"]

poa_db  &lt;- pdb_subset(pdb, ipm_ids = poa_ind)


## End(Not run)

</code></pre>

<hr>
<h2 id='print.pdb'>Print a <code>pdb</code> object.</h2><span id='topic+print.pdb'></span><span id='topic+print.pdb_proto_ipm_list'></span>

<h3>Description</h3>

<p>Print a <code>pdb</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pdb'
print(x, ...)

## S3 method for class 'pdb_proto_ipm_list'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.pdb_+3A_x">x</code></td>
<td>
<p>A <code>pdb</code> object.</p>
</td></tr>
<tr><td><code id="print.pdb_+3A_...">...</code></td>
<td>
<p>Only used by <code>pdb_new_fun_form</code>, otherwise ignored. See details
and examples for usage in <code>pdb_new_fun_form</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> invisibly.
</p>

<hr>
<h2 id='tidyeval'>Tidy eval helpers</h2><span id='topic+tidyeval'></span><span id='topic+expr'></span><span id='topic+enquo'></span><span id='topic+enquos'></span><span id='topic+sym'></span><span id='topic+syms'></span><span id='topic+.data'></span><span id='topic++3A+3D'></span><span id='topic+as_name'></span><span id='topic+as_label'></span>

<h3>Description</h3>


<ul>
<li> <p><code><a href="rlang.html#topic+sym">sym</a>()</code> creates a symbol from a string and
<code><a href="rlang.html#topic+sym">syms</a>()</code> creates a list of symbols from a
character vector.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">enquo</a>()</code> and
<code><a href="rlang.html#topic+nse-defuse">enquos</a>()</code> delay the execution of one or
several function arguments. <code>enquo()</code> returns a single quoted
expression, which is like a blueprint for the delayed computation.
<code>enquos()</code> returns a list of such quoted expressions.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+nse-defuse">expr</a>()</code> quotes a new expression <em>locally</em>. It
is mostly useful to build new expressions around arguments
captured with <code><a href="#topic+enquo">enquo()</a></code> or <code><a href="#topic+enquos">enquos()</a></code>:
<code>expr(mean(!!enquo(arg), na.rm = TRUE))</code>.
</p>
</li>
<li> <p><code><a href="rlang.html#topic+as_name">as_name</a>()</code> transforms a quoted variable name
into a string. Supplying something else than a quoted variable
name is an error.
</p>
<p>That's unlike <code><a href="rlang.html#topic+as_label">as_label</a>()</code> which also returns
a single string but supports any kind of R object as input,
including quoted function calls and vectors. Its purpose is to
summarise that object into a single label. That label is often
suitable as a default name.
</p>
<p>If you don't know what a quoted expression contains (for instance
expressions captured with <code>enquo()</code> could be a variable
name, a call to a function, or an unquoted constant), then use
<code>as_label()</code>. If you know you have quoted a simple variable
name, or would like to enforce this, use <code>as_name()</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>Quosures, symbols, or bare expressions.
</p>

<hr>
<h2 id='vital_rate_exprs.pdb_proto_ipm_list'>Padrino methods for 'ipmr' generic functions</h2><span id='topic+vital_rate_exprs.pdb_proto_ipm_list'></span><span id='topic+vital_rate_exprs.pdb_ipm'></span><span id='topic+kernel_formulae.pdb_proto_ipm_list'></span><span id='topic+kernel_formulae.pdb_ipm'></span><span id='topic+domains.pdb_proto_ipm_list'></span><span id='topic+domains.pdb_ipm'></span><span id='topic+parameters.pdb_proto_ipm_list'></span><span id='topic+parameters.pdb_ipm'></span><span id='topic+pop_state.pdb_proto_ipm_list'></span><span id='topic+pop_state.pdb_ipm'></span><span id='topic+vital_rate_funs.pdb_ipm'></span><span id='topic+int_mesh.pdb_ipm'></span><span id='topic+lambda.pdb_ipm'></span><span id='topic+right_ev.pdb_ipm'></span><span id='topic+left_ev.pdb_ipm'></span><span id='topic+is_conv_to_asymptotic.pdb_ipm'></span><span id='topic+conv_plot.pdb_ipm'></span><span id='topic+make_iter_kernel.pdb_ipm'></span><span id='topic+mean_kernel.pdb_ipm'></span><span id='topic+pdb_new_fun_form'></span><span id='topic+parameters+3C-.pdb_proto_ipm_list'></span><span id='topic+vital_rate_exprs+3C-.pdb_proto_ipm_list'></span><span id='topic+kernel_formulae+3C-.pdb_proto_ipm_list'></span><span id='topic++5B.pdb_ipm'></span>

<h3>Description</h3>

<p>Provides wrappers around <code>ipmr</code> generic functions to extract
some quantities of interest from <code>pdb_proto_ipm_list</code>s and <code>pdb_ipm</code>s.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pdb_proto_ipm_list'
vital_rate_exprs(object)

## S3 method for class 'pdb_ipm'
vital_rate_exprs(object)

## S3 method for class 'pdb_proto_ipm_list'
kernel_formulae(object)

## S3 method for class 'pdb_ipm'
kernel_formulae(object)

## S3 method for class 'pdb_proto_ipm_list'
domains(object)

## S3 method for class 'pdb_ipm'
domains(object)

## S3 method for class 'pdb_proto_ipm_list'
parameters(object)

## S3 method for class 'pdb_ipm'
parameters(object)

## S3 method for class 'pdb_proto_ipm_list'
pop_state(object)

## S3 method for class 'pdb_ipm'
pop_state(object)

## S3 method for class 'pdb_ipm'
vital_rate_funs(ipm)

## S3 method for class 'pdb_ipm'
int_mesh(ipm, full_mesh = TRUE)

## S3 method for class 'pdb_ipm'
lambda(ipm, ...)

## S3 method for class 'pdb_ipm'
right_ev(ipm, iterations = 100, tolerance = 1e-10, ...)

## S3 method for class 'pdb_ipm'
left_ev(ipm, iterations = 100, tolerance = 1e-10, ...)

## S3 method for class 'pdb_ipm'
is_conv_to_asymptotic(ipm, tolerance = 1e-10, burn_in = 0.1)

## S3 method for class 'pdb_ipm'
conv_plot(ipm, iterations = NULL, log = FALSE, show_stable = TRUE, ...)

## S3 method for class 'pdb_ipm'
make_iter_kernel(ipm, ..., name_ps = NULL, f_forms = NULL)

## S3 method for class 'pdb_ipm'
mean_kernel(ipm)

pdb_new_fun_form(...)

## S3 replacement method for class 'pdb_proto_ipm_list'
parameters(object, ...) &lt;- value

## S3 replacement method for class 'pdb_proto_ipm_list'
vital_rate_exprs(object, kernel = NULL, vital_rate = NULL) &lt;- value

## S3 replacement method for class 'pdb_proto_ipm_list'
kernel_formulae(object, kernel) &lt;- value

## S3 method for class 'pdb_ipm'
x[i]
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_object">object</code></td>
<td>
<p>An object produced by <code>pdb_make_proto_ipm</code> or
<code>pdb_make_ipm</code>.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_ipm">ipm</code></td>
<td>
<p>A <code>pdb_ipm</code>.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_full_mesh">full_mesh</code></td>
<td>
<p>Logical. Return the complete set of meshpoints or only the
unique ones.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_...">...</code></td>
<td>
<p>Usage depends on the function - see Details and Examples.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_iterations">iterations</code></td>
<td>
<p>The number of times to iterate the model to reach
convergence. Default is 100.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_tolerance">tolerance</code></td>
<td>
<p>Tolerance to evaluate convergence to asymptotic dynamics.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_burn_in">burn_in</code></td>
<td>
<p>The proportion of iterations to discard as burn in when
assessing convergence.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_log">log</code></td>
<td>
<p>Log-transform lambdas for plotting?</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_show_stable">show_stable</code></td>
<td>
<p>Show horizontal line denoting stable population growth?</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_name_ps">name_ps</code></td>
<td>
<p>For <code>pdb_ipm</code> objects that contain <code>age_x_size</code> IPMs,
a named list. The names of the list should be the <code>ipm_id</code>s that are
<code>age_x_size</code> models, and the values in the list should be the the name
of the survival/growth kernels.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_f_forms">f_forms</code></td>
<td>
<p>For <code>pdb_ipm</code> objects that contain <code>age_x_size</code> IPMs,
a named list. The names of the list should be the <code>ipm_id</code>s that are
<code>age_x_size</code> models, and the values in the list should be the the name
of the fecundity kernels. If multiple sub-kernels contribute to fecundity, we
can also supply a string specifying how they are combined (e.g.
<code>f_forms = "F + C"</code>).</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_value">value</code></td>
<td>
<p>The value to insert. See details and Examples.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_kernel">kernel</code></td>
<td>
<p>Ignored, present for compatibility with <code>ipmr</code>.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_vital_rate">vital_rate</code></td>
<td>
<p>Ignored, present for compatibility with <code>ipmr</code>.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_x">x</code></td>
<td>
<p>A <code>pdb_ipm</code> object.</p>
</td></tr>
<tr><td><code id="vital_rate_exprs.pdb_proto_ipm_list_+3A_i">i</code></td>
<td>
<p>The index to extract</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are number of uses for <code>...</code> which depend on the function
used for them. These are described below.
</p>


<h3>Value</h3>

<p>Most of these return named lists where names correspond to
<code>ipm_ids</code>. The exception is <code>pdb_new_fun_form</code>, which returns a list
of expressions. It is only intended for setting new expressions with
<code>vital_rate_exprs&lt;-</code>.
</p>


<h3><code>pdb_new_fun_form</code></h3>

<p>This must be used when setting new expressions for
vital rates and kernel formulae. The <code>...</code> argument should be a named list
of named lists. The top most layer should be <code>ipm_id</code>'s. The next layer
should be a list where the names are vital rates you wish to modify, and the
values are the expressions you want to insert. See examples.
</p>


<h3><code>make_iter_kernel</code></h3>

<p>The <code>...</code> here should be expressions representing the block kernel of
the IPMs in question. The names of each expression should be the ipm_id,
and the expressions should take the form of <code>c(&lt;upper_left&gt;,
&lt;upper_right&gt;, &lt;lower_left&gt;, &lt;lower_right&gt;)</code>
(i.e. a vector of symbols would create a matrix in row-major order).
See examples.
</p>


<h3><code>conv_plot</code>/<code>lambda</code></h3>

<p>The <code>...</code> are used pass additional arguments to <code><a href="ipmr.html#topic+lambda">lambda</a></code>
and <code><a href="ipmr.html#topic+conv_plot">conv_plot</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(pdb)
my_pdb &lt;- pdb_make_proto_ipm(pdb, c("aaaa17", "aaa310"))

# These values will be appended to the parameter list for each IPM, as they
# aren't currently present in them.

parameters(my_pdb) &lt;- list(
  aaa310 = list(
    g_slope_2 = 0.0001,
    establishment_prob = 0.02
  ),
  aaaa17 = list(
    g_var = 4.2,
    germ_prob = 0.3
  )
)

# We can overwrite a parameter value with a new one as well. Old values aren't
# saved anywhere except in the pdb object, so be careful!

parameters(my_pdb) &lt;- list(
  aaa310 = list(
    s_s    = 0.93, # old value is 0.92
    gvar_i = 0.13 # old value is 0.127
  )
)

vital_rate_exprs(my_pdb) &lt;- pdb_new_fun_form(
    list(
      aaa310 = list(mu_g = g_int + g_slope * size_1 + g_slope_2 * size_1^2),
      aaaa17 = list(sigmax2 = sqrt(g_var * exp(cfv1 + cfv2 * size_1))
     )
   )
 )

 kernel_formulae(my_pdb) &lt;- pdb_new_fun_form(
   list(
     aaaa17 = list(Y = recr_size * yearling_s * germ_prob * d_size),
     aaa310 = list(F = f_n * f_d * establishment_prob)
   )
 )

 my_ipms    &lt;- pdb_make_ipm(my_pdb)
 iter_kerns &lt;- make_iter_kernel(my_ipms, aaaa17 = c(0, F_yr, Y, P_yr))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

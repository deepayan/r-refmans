<!DOCTYPE html><html><head><title>Help for package mort</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mort}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#backwards'><p>Shift start time of potential mortalities earlier</p></a></li>
<li><a href='#ddd'><p>Sample dead drift direction dataframe</p></a></li>
<li><a href='#detections'><p>Sample acoustic telemetry detection data</p></a></li>
<li><a href='#drift'><p>Dead and drifting</p></a></li>
<li><a href='#events'><p>Sample residence events</p></a></li>
<li><a href='#infrequent'><p>Identify potential mortalities from infrequent detections</p></a></li>
<li><a href='#morts'><p>Identify potential mortalities or expelled tags</p></a></li>
<li><a href='#mortsplot'><p>Plot residence events</p></a></li>
<li><a href='#new.data'><p>Example of new acoustic telemetry detection data</p></a></li>
<li><a href='#residences'><p>Generate residence events</p></a></li>
<li><a href='#resmax'><p>Maximum residence duration</p></a></li>
<li><a href='#resmaxcml'><p>Maximum cumulative residence duration</p></a></li>
<li><a href='#review'><p>Review previously identified mortalities using new data</p></a></li>
<li><a href='#season'><p>Select residence events from specified seasons</p></a></li>
<li><a href='#seasons'><p>Ice-free seasons</p></a></li>
<li><a href='#stationchange'><p>Identify most recent station change</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Identifying Potential Mortalities and Expelled Tags in Aquatic
Acoustic Telemetry Arrays</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A toolkit for identifying potential mortalities and expelled tags in aquatic acoustic telemetry arrays. 
    Designed for arrays with non-overlapping receivers. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/rosieluain/mort">https://github.com/rosieluain/mort</a>,
<a href="https://rosieluain.github.io/mort/">https://rosieluain.github.io/mort/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rosieluain/mort/issues">https://github.com/rosieluain/mort/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>lubridate, methods, rlang</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, knitr, plotly, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-02 17:53:51 UTC; rosie</td>
</tr>
<tr>
<td>Author:</td>
<td>Rosie Smith <a href="https://orcid.org/0000-0003-2675-4452"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph],
  Heidi Swanson [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rosie Smith &lt;rosieluain@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-04 09:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='backwards'>Shift start time of potential mortalities earlier</h2><span id='topic+backwards'></span>

<h3>Description</h3>

<p>Shift the start time of potential mortalities earlier, if
station/location has not changed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>backwards(data, morts, ID, station, res.start, stnchange = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="backwards_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, and duration. Residence events should be
continuous (i.e., not subset by season).</p>
</td></tr>
<tr><td><code id="backwards_+3A_morts">morts</code></td>
<td>
<p>a dataframe containing potential mortalities. Must use
#' the same column names and in the same order as <code>data</code>.</p>
</td></tr>
<tr><td><code id="backwards_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="backwards_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="backwards_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="backwards_+3A_stnchange">stnchange</code></td>
<td>
<p>a dataframe with the start time and location of the most
recent station or location change. Must use the same column names and in
the same order as <code>data</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with one row for each tag ID, including the date/time of
the residence start when the potential mortality or expelled tag was identified.
Returns the input <code>morts</code> dataframe if no potential mortalities are shifted
earlier.
All input data fields
(e.g., any name, location, or species information that was included with the
input data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>morts&lt;-morts(data=events,type="mort",ID="ID",station="Station.Name",
method="any")
head(morts)

# If station change not identified yet:
morts_bw&lt;-backwards(data=events,morts=morts,ID="ID",
station="Station.Name",res.start="ResidenceStart")
head(morts_bw)

# Identify station change first:
station.change&lt;-stationchange(data=events,type="mort",
ID="ID",station="Station.Name")

morts_bw&lt;-backwards(data=events,morts=morts,ID="ID",
station="Station.Name",res.start="ResidenceStart",
stnchange=station.change)
head(morts_bw)
</code></pre>

<hr>
<h2 id='ddd'>Sample dead drift direction dataframe</h2><span id='topic+ddd'></span>

<h3>Description</h3>

<p>The locations have been given generic station names, due to the sensitive nature
of the dataset. The connections between stations (i.e., which stations are
connected by drift and in which direction) are real.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ddd)
</code></pre>


<h3>Format</h3>

<p>A data frame with 18 rows and 2 variables.
</p>


<h3>Details</h3>

<p>The variables are as follows:
</p>

<ul>
<li><p> From. The station where a tag may drift from.
</p>
</li>
<li><p> To. The station where a tag may drift to, from the station in From.
</p>
</li></ul>


<hr>
<h2 id='detections'>Sample acoustic telemetry detection data</h2><span id='topic+detections'></span>

<h3>Description</h3>

<p>These detection data were subset from a real acoustic telemetry dataset of Arctic
Char near Kugluktuk, Nunavut. The data were from a project that was a
collaboration between the Kugluktuk Hunters and Trappers Organization, the
University of Waterloo, and Fisheries and Oceans Canada. The data are valuable
to the community of Kugluktuk, and are also sensitive due to their pertinence
to the local fishery for Arctic Char. For this reason, the detections have been
given generic station names and fish IDs so locations and sample information
is anonymous. The year has also been changed, but otherwise, the detections are
real, and therefore have all the challenges and intricacies of biological
data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(detections)
</code></pre>


<h3>Format</h3>

<p>A data frame with 447 627 rows (observations) and 3 variables.
</p>


<h3>Details</h3>

<p>The variables are as follows:
</p>

<ul>
<li><p> DateTimeUTC. The date and time of each detection, in POSIXct format. The
data are in UTC, as downloaded from the receivers.
</p>
</li>
<li><p> Station.Name Name of the receiver location.
</p>
</li>
<li><p> ID Unique ID of the fish.
</p>
</li></ul>


<hr>
<h2 id='drift'>Dead and drifting</h2><span id='topic+drift'></span>

<h3>Description</h3>

<p>Identifies sequential residence events where detected movement
between stations may be due to drifting of an expelled tag or dead animal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drift(
  data,
  type,
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  residences = "auto",
  units = "auto",
  ddd,
  from.station,
  to.station,
  cutoff = NULL,
  cutoff.units = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drift_+3A_data">data</code></td>
<td>
<p>a data frame of residence events. Residence events must include
tag ID, location name, start time, and end time.</p>
</td></tr>
<tr><td><code id="drift_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events in <code>data</code>.
Options are &quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;. If &quot;manual&quot;, then
user must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, and <code>res.end</code>.</p>
</td></tr>
<tr><td><code id="drift_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="drift_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="drift_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="drift_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="drift_+3A_residences">residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="drift_+3A_units">units</code></td>
<td>
<p>units of the duration of the residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="drift_+3A_ddd">ddd</code></td>
<td>
<p>a dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p>
</td></tr>
<tr><td><code id="drift_+3A_from.station">from.station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that contains
the station/location names where drifting detections may start from.</p>
</td></tr>
<tr><td><code id="drift_+3A_to.station">to.station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that contains
the station/location names where drifting detections may move to.</p>
</td></tr>
<tr><td><code id="drift_+3A_cutoff">cutoff</code></td>
<td>
<p>the maximum allowable time difference between detections to be
considered a single residence event. Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="drift_+3A_cutoff.units">cutoff.units</code></td>
<td>
<p>the units of the cutoff. Options are &quot;secs&quot;, &quot;mins&quot;, &quot;hours&quot;,
&quot;days&quot;, and &quot;weeks&quot;.</p>
</td></tr>
<tr><td><code id="drift_+3A_verbose">verbose</code></td>
<td>
<p>option to display progress bar as <code>drift</code> is applied.
Default is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with one row for each residence event. Format is the
same as the input residence events, but events that may be due to dead drift
are combined into single residence events.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># With no drift:
head(events)

drift.events&lt;-drift(data=events[events$ID=="A",],type="mort",ID="ID",
station="Station.Name",ddd=ddd,from.station="From",to.station="To",
verbose=FALSE)
head(drift.events)

# With cutoff:
drift.events&lt;-drift(data=events[events$ID=="A",],type="mort",ID="ID",
station="Station.Name",ddd=ddd,from.station="From",to.station="To",
cutoff=1,cutoff.units="days",verbose=FALSE)
head(drift.events)
</code></pre>

<hr>
<h2 id='events'>Sample residence events</h2><span id='topic+events'></span>

<h3>Description</h3>

<p>Events generated from the sample detection file provided. Events were generated
using the residences() function in mort.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(events)
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 487 rows (events) and 5 variables.
</p>


<h3>Details</h3>

<p>The detection data were subset from a real acoustic telemetry dataset of Arctic
Char near Kugluktuk, Nunavut. The data were from a project that was a
collaboration between the Kugluktuk Hunters and Trappers Organization, the
University of Waterloo, and Fisheries and Oceans Canada. The data are valuable
to the community of Kugluktuk, and are also sensitive due to their pertinence
to the local fishery for Arctic Char. For this reason, the detections have been
given generic station names and fish IDs so locations and sample information
is anonymous. The year has also been changed, but otherwise, the detections are
real, and therefore have all the challenges and intricacies of biological
data.
</p>
<p>The variables are as follows:
</p>

<ul>
<li><p> ResidenceStart. The start time of the residence events, in POSIXct.
</p>
</li>
<li><p> Station.Name. Name of the receiver location.
</p>
</li>
<li><p> ID. Unique ID of the fish.
</p>
</li>
<li><p> ResidenceEnd. The end time of the residence events, in POSIXct.
</p>
</li>
<li><p> ResidenceLength.days. The duration of the residence events. The units are
days, as indicated by the variable name (which is automatically generated
by mort::residences())
</p>
</li></ul>


<hr>
<h2 id='infrequent'>Identify potential mortalities from infrequent detections</h2><span id='topic+infrequent'></span>

<h3>Description</h3>

<p>Identifies potential mortalities or expelled tags from infrequent
detections in passive acoustic telemetry data. Mortalities are identfied based
on a user-defined threshold and timeframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>infrequent(
  data,
  type = "mort",
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  residences = "auto",
  units = "auto",
  method,
  threshold,
  threshold.units = NULL,
  recent.period = NULL,
  recent.units = NULL,
  start = NULL,
  end = NULL,
  morts.prev = NULL,
  replace = FALSE,
  backwards = FALSE,
  ddd = NULL,
  from.station = NULL,
  to.station = NULL,
  drift.cutoff = NULL,
  drift.units = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="infrequent_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, end time, and duration.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events. Options are
&quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;. If &quot;manual&quot;, then user
must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, <code>res.end</code>, <code>residences</code>, and <code>units</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_residences">residences</code></td>
<td>
<p>residences a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_units">units</code></td>
<td>
<p>Units of the duration of the residence events in <code>data</code>. Options are &quot;secs&quot;,
&quot;mins&quot;, &quot;hours&quot;, &quot;days&quot;, and &quot;weeks&quot;.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_method">method</code></td>
<td>
<p>a character string of the threshold method. Options are &quot;recent&quot;
and &quot;defined&quot;. If &quot;recent&quot;, must specify <code>recent.period</code> and <code>recent.units</code>.
If &quot;defined&quot;, must specify <code>start</code> and <code>end</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_threshold">threshold</code></td>
<td>
<p>the minimum summed duration of residence events for an animal
to be considered alive. Units must be the same as the units of <code>residences</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_threshold.units">threshold.units</code></td>
<td>
<p>the units of <code>threshold</code>. Options are &quot;secs&quot;,
&quot;mins&quot;, &quot;hours&quot;, &quot;days&quot;, and &quot;weeks&quot;. If <code>NULL</code>, assumed to be the same as
<code>units</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_recent.period">recent.period</code></td>
<td>
<p>the length of the period of time in which an animal must
be detected longer than the <code>threshold</code> to be considered alive. The period
ends with the most recent detection of a given animal.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_recent.units">recent.units</code></td>
<td>
<p>the units of recent.period. Options are &quot;secs&quot;,
&quot;mins&quot;, &quot;hours&quot;, &quot;days&quot;, and &quot;weeks&quot;.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_start">start</code></td>
<td>
<p>character string with the start of the user-defined time period to search for infrequent
detections if <code>method="defined"</code>. Must be in the format
YYYY-mm-dd HH:MM:SS. The time zone is the same as <code>res.start</code> or
assumed to be UTC if no time zone is defined for <code>res.start</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_end">end</code></td>
<td>
<p>character string with the end of the user-defined time period to search for infrequent
detections if <code>method="defined"</code>. Must be in the format
YYYY-mm-dd HH:MM:SS. The time zone is the same as <code>res.start</code> or
assumed to be UTC if no time zone is defined for <code>res.start</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_morts.prev">morts.prev</code></td>
<td>
<p>a dataframe containing potential mortalities. The dataframe must
have the same columns and in the same order as <code>data</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_replace">replace</code></td>
<td>
<p>if <code>morts</code> specified and an animal with infrequent detections
is already in <code>morts</code>, the record in <code>morts</code> will be replaced if <code>TRUE</code>.
Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_backwards">backwards</code></td>
<td>
<p>option to examine residence events prior to the one that was
flagged as a potential mortality. If prior residence events are at the same
station/location as the flagged event, the time of the potential mortality is shifted
earlier.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_ddd">ddd</code></td>
<td>
<p>an optional dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_from.station">from.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may start from. Must
be identical to the station/location names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_to.station">to.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may move to. Must
be identical to the station/location names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_drift.cutoff">drift.cutoff</code></td>
<td>
<p>the maximum allowable time difference between detections to be
considered a single residence event. Recommended to be the same as used
to generate residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_drift.units">drift.units</code></td>
<td>
<p>the units of the cutoff. Options are &quot;secs&quot;, &quot;mins&quot;, &quot;hours&quot;,
&quot;days&quot;, and &quot;weeks&quot;. Recommended to be the same as used to generate
residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="infrequent_+3A_verbose">verbose</code></td>
<td>
<p>option to display updates and progress bars as
sub-functions are called and run. Default is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Example of <code>method="recent"</code>: if <code>threshold=10</code>, <code>threshold.units="mins"</code>,
<code>recent.period=52</code> and <code>recent.units="weeks"</code> (1 year), an animal will be
flagged as a potential mortality if it was detected for less than 10 minutes
within a year, ending with the most recent detection.
</p>
<p>Example of <code>method="defined"</code>: if <code>threshold=10</code>, <code>threshold.units="mins"</code>,
<code>start="2019-10-01"</code>, and <code>end="2020-06-01"</code>, an animal
will be flagged as a potential mortality if it was detected for less than 10
minutes between 01 October 2019 and 01 June 2020.
</p>


<h3>Value</h3>

<p>if <code>morts=NULL</code>, a dataframe with one row for each tag ID, including the date/time of
the residence start when the potential mortality or expelled tag was identified.
If <code>morts</code> is specified, any potential mortalities will be added to existing
<code>morts</code> dataframe. If <code>morts</code> is specified and <code>replace=TRUE</code>, then any
mortalities that are flagged by <code>infrequent()</code> and occurred at an earlier
time than those in <code>morts</code> will be replaced to the earlier date.
All input data fields
(e.g., any name, location, or species information that was included with the
input data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Recent example
inf_recent&lt;-infrequent(data=events,type="mort",ID="ID",
station="Station.Name",method="recent",
threshold=72,threshold.units="hours",
recent.period=52,recent.units="weeks",
verbose=FALSE)
head(inf_recent)

## User-defined example
inf_defined&lt;-infrequent(data=events,type="mort",ID="ID",
station="Station.Name",method="defined",
threshold=12,threshold.units="hours",
start="2006-06-15",end="2006-10-15",
verbose=FALSE)
head(inf_defined)
</code></pre>

<hr>
<h2 id='morts'>Identify potential mortalities or expelled tags</h2><span id='topic+morts'></span>

<h3>Description</h3>

<p>Identifies potential mortalities or expelled tags from passive
acoustic telemetry data. Mortalities are identified based on thresholds
derived from the dataset itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>morts(
  data,
  type = "mort",
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  method = "all",
  units = "auto",
  residences = "auto",
  singles = TRUE,
  backwards = FALSE,
  drift = "none",
  ddd = NULL,
  from.station = NULL,
  to.station = NULL,
  drift.cutoff = NULL,
  drift.units = NULL,
  season.start = NULL,
  season.end = NULL,
  season.overlap = TRUE,
  morts.prev = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="morts_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, end time, and duration.</p>
</td></tr>
<tr><td><code id="morts_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events. Options are
&quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;. If &quot;manual&quot;, then user
must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, <code>res.end</code>, <code>residences</code>, and <code>units</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="morts_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="morts_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_method">method</code></td>
<td>
<p>the method to be used in flagging mortalities. Options are
&quot;last&quot;, &quot;any&quot;, &quot;cumulative&quot;, or &quot;all&quot;</p>
</td></tr>
<tr><td><code id="morts_+3A_units">units</code></td>
<td>
<p>units of the duration of the residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_residences">residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="morts_+3A_singles">singles</code></td>
<td>
<p>specifies if single detections (length of residence event = 0)
should be retained. Default is <code>TRUE</code>. Note that if single detections are
removed (<code>singles=FALSE</code>), <code>backwards</code> will also not include single detections.</p>
</td></tr>
<tr><td><code id="morts_+3A_backwards">backwards</code></td>
<td>
<p>option to examine residence events prior to the one that was
flagged as a potential mortality. If prior residence events are at the same
station/location as the flagged event, the time of the potential mortality is shifted
earlier. Note that if <code>backwards=TRUE</code>, then the output of <code>method="last"</code> is
the same as <code>method="any"</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_drift">drift</code></td>
<td>
<p>option to account for potential drifting in identifying
thresholds and/or mortalities. Options are &quot;none&quot;, &quot;threshold&quot;,
&quot;morts&quot;, &quot;both&quot;. Default is &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="morts_+3A_ddd">ddd</code></td>
<td>
<p>a dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p>
</td></tr>
<tr><td><code id="morts_+3A_from.station">from.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may start from. Must
be identical to the station/location names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_to.station">to.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may move to. Must
be identical to the station/location names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_drift.cutoff">drift.cutoff</code></td>
<td>
<p>the maximum allowable time difference between detections to be
considered a single residence event. Recommended to be the same as used
to generate residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_drift.units">drift.units</code></td>
<td>
<p>the units of the cutoff. Options are &quot;secs&quot;, &quot;mins&quot;, &quot;hours&quot;,
&quot;days&quot;, and &quot;weeks&quot;. Recommended to be the same as used to generate
residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_season.start">season.start</code></td>
<td>
<p>the start date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format &quot;dd-mm&quot;. Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="morts_+3A_season.end">season.end</code></td>
<td>
<p>the end date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format &quot;dd-mm&quot;. Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="morts_+3A_season.overlap">season.overlap</code></td>
<td>
<p>option to include residence events that overlap either the
beginning or the end of the period of interest. If <code>TRUE</code>, the full overlapping
residence events will be retained. If <code>FALSE</code>, only the portion of the
residence events that is within the period of interest will be retained,
and <code>residences</code> will be recalculated, using specified <code>units</code>.
Default is <code>TRUE</code></p>
</td></tr>
<tr><td><code id="morts_+3A_morts.prev">morts.prev</code></td>
<td>
<p>a dataframe containing potential mortalities. The dataframe must
have the same columns and in the same order as <code>data</code>.</p>
</td></tr>
<tr><td><code id="morts_+3A_verbose">verbose</code></td>
<td>
<p>option to display updates and progress bars as
sub-functions are called and run. Default is TRUE.</p>
</td></tr>
<tr><td><code id="morts_+3A_season">season</code></td>
<td>
<p>a dataframe with start and end dates of the season(s) of interest</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with one row for each tag ID, including the date/time of
the residence start when the potential mortality or expelled tag was identified.
All input data fields
(e.g., any name, location, or species information that was included with the
input data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>morts_ex&lt;-morts(data=events,type="mort",ID="ID",
station="Station.Name",method="any",verbose=FALSE)
head(morts_ex)

morts_ex_bw&lt;-morts(data=events,type="mort",ID="ID",
station="Station.Name",method="any",backwards=TRUE,verbose=FALSE)
head(morts_ex_bw)
</code></pre>

<hr>
<h2 id='mortsplot'>Plot residence events</h2><span id='topic+mortsplot'></span>

<h3>Description</h3>

<p>Plot residence events, with the option of plotting identified
mortalities. Plotting uses ggplot2. Interactive option also uses plotly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mortsplot(
  data,
  type,
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  morts = NULL,
  singles = TRUE,
  interactive = FALSE,
  residences = NULL,
  units = NULL,
  season.start = NULL,
  season.end = NULL,
  facet = FALSE,
  facet.axis = "x",
  facet.by = "season",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mortsplot_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, and end time.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events. Options are
&quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_morts">morts</code></td>
<td>
<p>a dataframe containing potential mortalities. The dataframe must
have the same ID, station, res.start, res.end, and residences column names
as <code>data</code>.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_singles">singles</code></td>
<td>
<p>option to adjust the end times of residence events so single
detection events are visible. Adjustment is for visualization purposes only
and should not obscure or impact the visualization of other residence events.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_interactive">interactive</code></td>
<td>
<p>option to generate an interactive plot.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_residences">residences</code></td>
<td>
<p>an optional character string with the name of the column
in <code>data</code> that holds the duration of the residence events. Required if
generating an interactive plot or applying season.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_units">units</code></td>
<td>
<p>units of the duration of the residence events in <code>data</code>.
Required if applying season.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_season.start">season.start</code></td>
<td>
<p>the start date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format &quot;dd-mm&quot;. Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_season.end">season.end</code></td>
<td>
<p>the end date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format &quot;dd-mm&quot;. Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_facet">facet</code></td>
<td>
<p>option to facet by year or season. If <code>TRUE</code>, then <code>season.start</code>
and <code>season.end</code> must be provided.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_facet.axis">facet.axis</code></td>
<td>
<p>option to position facets along x or y axis. Options are
&quot;x&quot; and &quot;y&quot;. Default is &quot;x&quot;. Note that <code>facet.axis</code> can only be &quot;y&quot; if
<code>facet.by="year"</code>.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_facet.by">facet.by</code></td>
<td>
<p>option to facet by &quot;season&quot; (as defined with <code>season.start</code>
and <code>season.end</code>) or &quot;year&quot;. Default is &quot;season&quot;.</p>
</td></tr>
<tr><td><code id="mortsplot_+3A_verbose">verbose</code></td>
<td>
<p>option to display updates and progress bar as function is run.
Default is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 plot. Additional arguments (e.g., formatting axes,
legend, aes, manual colour scales) can be added as for any ggplot2 plot.
If <code>interactive=TRUE</code>,
returns a plotly plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>plot&lt;-mortsplot(data=events,type="mort",ID="ID",station="Station.Name")
plot

# With mortalities plotted over residences:
morts&lt;-morts(data=events,type="mort",ID="ID",station="Station.Name",
method="any",verbose=FALSE)

plot&lt;-mortsplot(data=events,type="mort",ID="ID",station="Station.Name",
morts=morts)
plot
</code></pre>

<hr>
<h2 id='new.data'>Example of new acoustic telemetry detection data</h2><span id='topic+new.data'></span>

<h3>Description</h3>

<p>These are fabricated detection data to demonstrate the use of the review
function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(new.data)
</code></pre>


<h3>Format</h3>

<p>A data frame with 35 rows (observations) and 3 variables.
</p>


<h3>Details</h3>

<p>The variables are as follows:
</p>

<ul>
<li><p> ResidenceStart. The start time of the residence events, in POSIXct.
</p>
</li>
<li><p> Station.Name. Name of the receiver location.
</p>
</li>
<li><p> ID. Unique ID of the fish.
</p>
</li>
<li><p> ResidenceEnd. The end time of the residence events, in POSIXct.
</p>
</li>
<li><p> ResidenceLength.days. The duration of the residence events. The units are
days, as indicated by the variable name (which is automatically generated
by mort::residences())
</p>
</li></ul>


<hr>
<h2 id='residences'>Generate residence events</h2><span id='topic+residences'></span>

<h3>Description</h3>

<p>Generate residence events from passive acoustic telemetry data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>residences(data, ID, station, datetime, cutoff, units, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="residences_+3A_data">data</code></td>
<td>
<p>a data frame of detection data.</p>
</td></tr>
<tr><td><code id="residences_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or sample IDs.</p>
</td></tr>
<tr><td><code id="residences_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the station name or receiver location.</p>
</td></tr>
<tr><td><code id="residences_+3A_datetime">datetime</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the date and time.</p>
</td></tr>
<tr><td><code id="residences_+3A_cutoff">cutoff</code></td>
<td>
<p>the maximum allowable time difference between detections to
be considered a single residence event.</p>
</td></tr>
<tr><td><code id="residences_+3A_units">units</code></td>
<td>
<p>the units of the cutoff. These will also be the units used to calculate the duration of the residence events.
Options are &quot;secs&quot;, &quot;mins&quot;, &quot;hours&quot;, &quot;days&quot;, and &quot;weeks&quot;.</p>
</td></tr>
<tr><td><code id="residences_+3A_verbose">verbose</code></td>
<td>
<p>option to display progress bar as residences are generated.
Default is TRUE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that a progress bar appears, based on how many of the unique tag
IDs have been processed. There will be a delay both before the progress bar
appears and after the progress bar has reached 100%, which may be substantial
depending on the size of the telemetry dataset.
</p>


<h3>Value</h3>

<p>A data frame with one row for each residence event, including date/time of
residence start, date/time of residence end, and duration of residence event. All
input data fields (e.g., any name, location, or species information that was
included with detection data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(detections)
res.events&lt;-residences(data=detections[1:500,],ID="ID",station="Station.Name",
datetime="DateTimeUTC",cutoff=1,units="days",verbose=FALSE)
head(res.events)
</code></pre>

<hr>
<h2 id='resmax'>Maximum residence duration</h2><span id='topic+resmax'></span>

<h3>Description</h3>

<p>Find the maximum duration of a single residence in the dataset that occurred
before a station change (i.e., the animal can be assumed to be alive)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resmax(
  data,
  ID,
  station,
  res.start,
  residences,
  stnchange,
  drift = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resmax_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, and duration.</p>
</td></tr>
<tr><td><code id="resmax_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="resmax_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="resmax_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="resmax_+3A_residences">residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="resmax_+3A_stnchange">stnchange</code></td>
<td>
<p>a dataframe with the start time and location of the most
recent station or location change. Must use the same column names as <code>data</code>.</p>
</td></tr>
<tr><td><code id="resmax_+3A_drift">drift</code></td>
<td>
<p>indicates if drift residence events should be included in
determining the maximum residence duration</p>
</td></tr>
<tr><td><code id="resmax_+3A_verbose">verbose</code></td>
<td>
<p>option to display progress bar as function is run. Default
is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with the residence information for the longest residence
for each tag ID that occurred before the most recent station/location change.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify most recent station change
station.change&lt;-stationchange(data=events,type="mort",ID="ID",
station="Station.Name",verbose=FALSE)

longest_res_events&lt;-resmax(data=events,ID="ID",station="Station.Name",
res.start="ResidenceStart",residences="ResidenceLength.days",
stnchange=station.change,verbose=FALSE)
head(longest_res_events)
</code></pre>

<hr>
<h2 id='resmaxcml'>Maximum cumulative residence duration</h2><span id='topic+resmaxcml'></span>

<h3>Description</h3>

<p>Find the maximum duration that an animal spent at a single
station/location before a station change (i.e., the animal can be assumed
to be alive). Differs from <code>resmax</code> in that the duration is cumulative -
the time of residence events and intervals between residence events are all
included, provided there are no intervening residence events at other
stations/locations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resmaxcml(
  data,
  ID,
  station,
  res.start,
  res.end,
  residences,
  units,
  stnchange,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resmaxcml_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, and duration.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_residences">residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_units">units</code></td>
<td>
<p>units of the duration of the residence events in <code>data</code>.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_stnchange">stnchange</code></td>
<td>
<p>a dataframe with the start time and location of the most
recent station or location change. Must use the same column names as <code>data</code>.</p>
</td></tr>
<tr><td><code id="resmaxcml_+3A_verbose">verbose</code></td>
<td>
<p>option to display progress bar as function is run. Default
is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with the cumulative residence information for each
period where an animal was consecutively detected at a single station/location.
Records are only given for cumulative residences that occurred before the most
recent station/location change (i.e., the animal can be assumed to be alive).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Identify most recent station change
station.change&lt;-stationchange(data=events[events$ID=="A",],type="mort",
ID="ID",station="Station.Name",verbose=FALSE)

cumulative_events&lt;-resmaxcml(data=events[events$ID=="A",],ID="ID",
station="Station.Name",res.start="ResidenceStart",res.end="ResidenceEnd",
residences="ResidenceLength.days",units="days",
stnchange=station.change,verbose=FALSE)
</code></pre>

<hr>
<h2 id='review'>Review previously identified mortalities using new data</h2><span id='topic+review'></span>

<h3>Description</h3>

<p>Uses new data to determine if an animal that was previously
flagged as a mortality made a station/location change and may therefore be
alive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>review(
  morts,
  new.data,
  old.data = NULL,
  type,
  ID,
  station,
  res.start = "auto",
  res.end = NULL,
  residences = NULL,
  units = NULL,
  ddd = NULL,
  from.station = NULL,
  to.station = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="review_+3A_morts">morts</code></td>
<td>
<p>a dataframe with previously flagged mortalities. Format does
not need to match <code>new.data</code> exactly, but the names and formats of <code>ID</code>, <code>station</code>,
and <code>res.start</code> fields must match in all input dataframes.</p>
</td></tr>
<tr><td><code id="review_+3A_new.data">new.data</code></td>
<td>
<p>a dataframe of new residence events (i.e., generated from
detection data that were not included in earlier <code>mort</code> analyses).</p>
</td></tr>
<tr><td><code id="review_+3A_old.data">old.data</code></td>
<td>
<p>optional dataframe of residence events that were used
in earlier <code>mort</code> analyses. If <code>drift</code> was applied in earlier analyses,
including <code>old.data</code> is recommended to avoid falsely identifying station
changes.</p>
</td></tr>
<tr><td><code id="review_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events. Options are
&quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;. If &quot;manual&quot;, then user
must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, <code>res.end</code>, <code>residences</code>, and <code>units</code>.</p>
</td></tr>
<tr><td><code id="review_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>morts</code> and <code>new.data</code> that
holds the tag or sample IDs.</p>
</td></tr>
<tr><td><code id="review_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>morts</code> and <code>new.data</code>
that holds the station name or receiver location.</p>
</td></tr>
<tr><td><code id="review_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>morts</code> and <code>new.data</code>
that holds the start date and time. Must be specified and in POSIXt or
character in the format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="review_+3A_res.end">res.end</code></td>
<td>
<p>an optional string of the name of the column in <code>morts</code> and <code style="white-space: pre;">&#8288;new data&#8288;</code>
that holds the end date and time. Only needed if drift is applied.</p>
</td></tr>
<tr><td><code id="review_+3A_residences">residences</code></td>
<td>
<p>an optional character string with the name of the column
in <code>morts</code> and <code>new.data</code> that holds the duration of the residence events.
Only needed if drift is applied.</p>
</td></tr>
<tr><td><code id="review_+3A_units">units</code></td>
<td>
<p>optional units of the duration of the residence events in
<code>morts</code> and <code>new.data</code>. Only needed if drift is applied.</p>
</td></tr>
<tr><td><code id="review_+3A_ddd">ddd</code></td>
<td>
<p>a dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p>
</td></tr>
<tr><td><code id="review_+3A_from.station">from.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may start from. Must
be identical to the station/location names in <code>morts</code> and <code>new.data</code>.</p>
</td></tr>
<tr><td><code id="review_+3A_to.station">to.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may move to. Must
be identical to the station/location names in <code>morts</code> and <code>new.data</code>.</p>
</td></tr>
<tr><td><code id="review_+3A_verbose">verbose</code></td>
<td>
<p>option to display progress bar as function and called
functions are run. Default is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe with one row for each tag ID from <code>morts</code>
with a station/location change that was identified
in <code>new.data</code>. The remaining fields will include the information for the
residence event that was identified as the station change, so the station
change can be verified by the user before removing the animal from <code>morts</code>.
All input data fields (e.g., any name, location, or species information
that was included with the input data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>morts&lt;-morts(data=events,type="mort",ID="ID",station="Station.Name",
method="any",verbose=FALSE)

undead&lt;-review(morts=morts,new.data=new.data,
type="mort",ID="ID",station="Station.Name",verbose=FALSE)
</code></pre>

<hr>
<h2 id='season'>Select residence events from specified seasons</h2><span id='topic+season'></span>

<h3>Description</h3>

<p>Select residence events from specified seasons, to be used to
identify potential mortalities or expelled tags. Useful when animals show
strong seasonal patterns in behaviour. For example, a reduction in movement during
winter may be falsely identified as a mortality, or
increase the threshold use to identify mortalities, which would then cause
potential mortalities to be missed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>season(
  data,
  type = "mort",
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  residences = "auto",
  units = "auto",
  season.start,
  season.end,
  overlap = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="season_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, start time, end time, and duration.</p>
</td></tr>
<tr><td><code id="season_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events. Options are
&quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;. If &quot;manual&quot;, then user
must specify <code>res.start</code>, <code>res.end</code>, <code>residences</code>, and <code>units</code>.</p>
</td></tr>
<tr><td><code id="season_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="season_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="season_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="season_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="season_+3A_residences">residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="season_+3A_units">units</code></td>
<td>
<p>Units of the duration of the residence events in <code>data</code>. Options are &quot;secs&quot;,
&quot;mins&quot;, &quot;hours&quot;, &quot;days&quot;, and &quot;weeks&quot;.</p>
</td></tr>
<tr><td><code id="season_+3A_season.start">season.start</code></td>
<td>
<p>the start date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format &quot;dd-mm&quot;. Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="season_+3A_season.end">season.end</code></td>
<td>
<p>the end date/time(s) of the period of interest. If the
period of interest is the same in all study years, must be a character string
in format &quot;dd-mm&quot;. Otherwise, must be in POSIXt, or a character string in
format YYYY-mm-dd HH:MM:SS.</p>
</td></tr>
<tr><td><code id="season_+3A_overlap">overlap</code></td>
<td>
<p>option to include residence events that overlap either the
beginning or the end of the period of interest. If <code>TRUE</code>, the full overlapping
residence events will be retained. If <code>FALSE</code>, only the portion of the
residence events that is within the period of interest will be retained,
and <code>residences</code> will be recalculated, using specified <code>units</code>.
Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="season_+3A_verbose">verbose</code></td>
<td>
<p>option to display updates and progress bars as
functions is run. Default is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe in the same format as the input data, with residence
events limited to the period(s) of interest.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Seasons in format dd-mm
season.events&lt;-season(data=events,type="mort",ID="ID",
station="Station.Name",season.start="01-06",season.end="31-10",
verbose=FALSE)
head(season.events)

# Seasons in format YYYY-mm-dd HH:MM:SS
season.start&lt;-c("2003-06-15","2004-06-21")
season.end&lt;-c("2003-10-15","2004-10-30")
season.events&lt;-season(data=events,type="mort",ID="ID",
station="Station.Name",season.start=season.start,season.end=season.end,verbose=FALSE)
head(season.events)
</code></pre>

<hr>
<h2 id='seasons'>Ice-free seasons</h2><span id='topic+seasons'></span>

<h3>Description</h3>

<p>The year has been changed, due to the sensitive nature of the dataset. The
years have been changed in the same manner as the detection dates, so
the ice-free dates correspond to the dataset in the same way as the original
dataset.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(seasons)
</code></pre>


<h3>Format</h3>

<p>A data frame with 5 rows (years) and 2 variables.
</p>


<h3>Details</h3>

<p>The variables are as follows:
</p>

<ul>
<li><p> Start. The date of ice break-up (the start of the period of interest).
</p>
</li>
<li><p> End. The date of ice freeze-up (the end of the period of interest).
</p>
</li></ul>


<hr>
<h2 id='stationchange'>Identify most recent station change</h2><span id='topic+stationchange'></span>

<h3>Description</h3>

<p>Identify the most recent station or location change from passive
acoustic telemetry data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stationchange(
  data,
  type = "mort",
  ID,
  station,
  res.start = "auto",
  res.end = "auto",
  residences = "auto",
  singles = TRUE,
  drift = FALSE,
  ddd = NULL,
  units = NULL,
  from.station = NULL,
  to.station = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stationchange_+3A_data">data</code></td>
<td>
<p>a dataframe of residence events. Residence events must include
tag ID, location name, start time, and duration.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_type">type</code></td>
<td>
<p>the method used to generate the residence events. Options are
&quot;mort&quot;, &quot;actel&quot;, &quot;glatos&quot;, &quot;vtrack&quot;, or &quot;manual&quot;. If &quot;manual&quot;, then user
must specify <code>ID</code>, <code>station</code>, <code>res.start</code>, and <code>residences</code>.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_id">ID</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the tag or
sample IDs.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_station">station</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
station name or receiver location.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_res.start">res.start</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
start date and time. Must be specified and in POSIXt if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_res.end">res.end</code></td>
<td>
<p>a string of the name of the column in <code>data</code> that holds the
end date and time. Must be specified and in POSIXt or character in the format
YYYY-mm-dd HH:MM:SS if <code>type="manual"</code>.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_residences">residences</code></td>
<td>
<p>a character string with the name of the column in <code>data</code>
that holds the duration of the residence events.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_singles">singles</code></td>
<td>
<p>specifies if single detections (length of residence event = 0)
should be retained. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_drift">drift</code></td>
<td>
<p>option to account for potential drifting in identifying
station changes.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_ddd">ddd</code></td>
<td>
<p>a dataframe of stations/locations where detected movement between
stations may be due to drifting of an expelled tag or dead animal.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_units">units</code></td>
<td>
<p>optional units of the duration of the residence events in <code>data</code>.
Required if <code>drift=TRUE</code>. Options are &quot;auto&quot;, or &quot;secs&quot;, &quot;mins&quot;, &quot;hours&quot;, &quot;days&quot;,
or &quot;weeks&quot;.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_from.station">from.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may start from. Must
be identical to the station/location names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_to.station">to.station</code></td>
<td>
<p>a string of the name of the column in <code>ddd</code> that contains
the station/location names where drifting detections may move to. Must
be identical to the station/location names in <code>data</code>.</p>
</td></tr>
<tr><td><code id="stationchange_+3A_verbose">verbose</code></td>
<td>
<p>option to display progress bar as function is run. Default
is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with one row for each tag ID, including the date/time of
the residence start at the most recent station or location, the date/time of
the residence end, and duration of the residence event. All input data fields
(e.g., any name, location, or species information that was included with the
input data) will be retained.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stn.change&lt;-stationchange(data=events,type="mort",ID="ID",station="Station.Name",verbose=FALSE)
head(stn.change)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

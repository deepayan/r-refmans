<!DOCTYPE html><html><head><title>Help for package units</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {units}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_difftime'><p>convert units object into difftime object</p></a></li>
<li><a href='#boxplot.units'><p>boxplot for unit objects</p></a></li>
<li><a href='#deparse_unit'><p>deparse unit to string in product power form (e.g. km m-2 s-1)</p></a></li>
<li><a href='#drop_units'><p>Drop Units</p></a></li>
<li><a href='#hist.units'><p>histogram for unit objects</p></a></li>
<li><a href='#install_unit'><p>Define or remove units</p></a></li>
<li><a href='#keep_units'><p>Apply a function keeping units</p></a></li>
<li><a href='#load_units_xml'><p>Load a unit system</p></a></li>
<li><a href='#Math.units'><p>Mathematical operations for units objects</p></a></li>
<li><a href='#mixed_units'><p>Create or convert to a mixed units list-column</p></a></li>
<li><a href='#Ops.units'><p>S3 Ops Group Generic Functions for units objects</p></a></li>
<li><a href='#plot.units'><p>Plot <code>units</code> objects</p></a></li>
<li><a href='#scale_units'><p>Position scales for units data</p></a></li>
<li><a href='#seq.units'><p>seq method for units objects</p></a></li>
<li><a href='#ud_are_convertible'><p>Test if two units are convertible</p></a></li>
<li><a href='#unitless'><p>The &quot;unit&quot; type for vectors that are actually dimension-less.</p></a></li>
<li><a href='#units'><p>Handle measurement units</p></a></li>
<li><a href='#units_options'><p>set one or more units global options</p></a></li>
<li><a href='#units-defunct'><p>Defunct functions in <span class="pkg">units</span></p></a></li>
<li><a href='#valid_udunits'><p>Get information about valid units</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.8-5</td>
</tr>
<tr>
<td>Title:</td>
<td>Measurement Units for R Vectors</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp (&ge; 0.12.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>NISTunits, measurements, xml2, magrittr, pillar (&ge; 1.3.0),
dplyr (&ge; 1.0.0), vctrs (&ge; 0.3.1), ggplot2 (&gt; 3.2.1), testthat
(&ge; 3.0.0), vdiffr, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Description:</td>
<td>Support for measurement units in R vectors, matrices
    and arrays: automatic propagation, conversion, derivation
    and simplification of units; raising errors in case of unit
    incompatibility. Compatible with the POSIXct, Date and difftime 
    classes. Uses the UNIDATA udunits library and unit database for 
    unit compatibility checking and conversion.
    Documentation about 'units' is provided in the paper by Pebesma, Mailund &amp;
    Hiebert (2016, &lt;<a href="https://doi.org/10.32614%2FRJ-2016-061">doi:10.32614/RJ-2016-061</a>&gt;), included in this package as a
    vignette; see 'citation("units")' for details.</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>udunits-2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-quantities.github.io/units/">https://r-quantities.github.io/units/</a>,
<a href="https://github.com/r-quantities/units">https://github.com/r-quantities/units</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-quantities/units/issues">https://github.com/r-quantities/units/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-28 13:38:39 UTC; edzer</td>
</tr>
<tr>
<td>Author:</td>
<td>Edzer Pebesma <a href="https://orcid.org/0000-0001-8049-7069"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Thomas Mailund [aut],
  Tomasz Kalinowski [aut],
  James Hiebert [ctb],
  IÃ±aki Ucar <a href="https://orcid.org/0000-0001-6403-5550"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Thomas Lin Pedersen [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Edzer Pebesma &lt;edzer.pebesma@uni-muenster.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-28 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_difftime'>convert units object into difftime object</h2><span id='topic+as_difftime'></span>

<h3>Description</h3>

<p>convert units object into difftime object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_difftime(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_difftime_+3A_x">x</code></td>
<td>
<p>object of class <code>units</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
t1 = Sys.time()
t2 = t1 + 3600
d = t2 - t1
du &lt;- as_units(d)
dt = as_difftime(du)
class(dt)
dt
</code></pre>

<hr>
<h2 id='boxplot.units'>boxplot for unit objects</h2><span id='topic+boxplot.units'></span>

<h3>Description</h3>

<p>boxplot for unit objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'units'
boxplot(x, ..., horizontal = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boxplot.units_+3A_x">x</code></td>
<td>
<p>object of class units, for which we want to plot the boxplot</p>
</td></tr>
<tr><td><code id="boxplot.units_+3A_...">...</code></td>
<td>
<p>parameters passed on to <a href="graphics.html#topic+boxplot.default">boxplot.default</a></p>
</td></tr>
<tr><td><code id="boxplot.units_+3A_horizontal">horizontal</code></td>
<td>
<p>logical indicating if the boxplots should be horizontal;
default FALSE means vertical boxes.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>units_options(parse = FALSE) # otherwise we break on the funny symbol!
u = set_units(rnorm(100), degree_C)
boxplot(u)
</code></pre>

<hr>
<h2 id='deparse_unit'>deparse unit to string in product power form (e.g. km m-2 s-1)</h2><span id='topic+deparse_unit'></span>

<h3>Description</h3>

<p>deparse unit to string in product power form (e.g. km m-2 s-1)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deparse_unit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deparse_unit_+3A_x">x</code></td>
<td>
<p>object of class units</p>
</td></tr>
</table>


<h3>Value</h3>

<p>length one character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'>u = as_units("kg m-2 s-1", implicit_exponents = TRUE)
u
deparse_unit(u)
</code></pre>

<hr>
<h2 id='drop_units'>Drop Units</h2><span id='topic+drop_units'></span><span id='topic+drop_units.units'></span><span id='topic+drop_units.data.frame'></span><span id='topic+drop_units.mixed_units'></span>

<h3>Description</h3>

<p>Drop units attribute and class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_units(x)

## S3 method for class 'units'
drop_units(x)

## S3 method for class 'data.frame'
drop_units(x)

## S3 method for class 'mixed_units'
drop_units(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_units_+3A_x">x</code></td>
<td>
<p>an object with units metadata.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Equivalent to <code>units(x) &lt;- NULL</code>, or the pipe-friendly version
<code>set_units(x, NULL)</code>, but <code>drop_units</code> will fail if the object has
no units metadata. Use the alternatives if you want this operation to succeed
regardless of the object type.
</p>
<p>A <code>data.frame</code> method is also provided, which checks every column and
drops units if any.
</p>


<h3>Value</h3>

<p>the numeric without any units attributes, while preserving other
attributes like dimensions or other classes.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1
y &lt;- set_units(x, m/s)

# this succeeds
drop_units(y)
set_units(y, NULL)
set_units(x, NULL)

## Not run: 
# this fails
drop_units(x)

## End(Not run)

df &lt;- data.frame(x=x, y=y)
df
drop_units(df)

</code></pre>

<hr>
<h2 id='hist.units'>histogram for unit objects</h2><span id='topic+hist.units'></span>

<h3>Description</h3>

<p>histogram for unit objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'units'
hist(x, xlab = NULL, main = paste("Histogram of", xname),
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hist.units_+3A_x">x</code></td>
<td>
<p>object of class units, for which we want to plot the histogram</p>
</td></tr>
<tr><td><code id="hist.units_+3A_xlab">xlab</code></td>
<td>
<p>character; x axis label</p>
</td></tr>
<tr><td><code id="hist.units_+3A_main">main</code></td>
<td>
<p>character; title of histogram</p>
</td></tr>
<tr><td><code id="hist.units_+3A_...">...</code></td>
<td>
<p>parameters passed on to <a href="graphics.html#topic+hist.default">hist.default</a></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>units_options(parse = FALSE) # otherwise we break on the funny symbol!
u = set_units(rnorm(100), degree_C)
hist(u)
</code></pre>

<hr>
<h2 id='install_unit'>Define or remove units</h2><span id='topic+install_unit'></span><span id='topic+remove_unit'></span>

<h3>Description</h3>

<p>Installing new symbols and/or names allows them to be used in <code>as_units</code>,
<code>make_units</code> and <code>set_units</code>. Optionally, a relationship can be
defined between such symbols/names and existing ones (see details and examples).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_unit(symbol = character(0), def = character(0),
  name = character(0))

remove_unit(symbol = character(0), name = character(0))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install_unit_+3A_symbol">symbol</code></td>
<td>
<p>a vector of symbols to be installed/removed.</p>
</td></tr>
<tr><td><code id="install_unit_+3A_def">def</code></td>
<td>
<p>either </p>

<ul>
<li><p> an empty definition, which defines a new base unit;
</p>
</li>
<li> <p><code>"unitless"</code>, which defines a new dimensionless unit;
</p>
</li>
<li><p> a relationship with existing units (see details for the syntax).
</p>
</li></ul>
</td></tr>
<tr><td><code id="install_unit_+3A_name">name</code></td>
<td>
<p>a vector of names to be installed/removed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>At least one symbol or name is expected, but multiple symbols and/or names
can be installed (and thus mapped to the same unit) or removed at the same
time. The <code>def</code> argument enables arbitrary relationships with existing
units using UDUNITS-2 syntax:
</p>

<table>
<tr>
 <td style="text-align: left;">
  <strong>String Type</strong> </td><td style="text-align: left;"> <strong>Using Names</strong> </td><td style="text-align: left;"> <strong>Using Symbols</strong>
    </td><td style="text-align: left;"> <strong>Comment</strong></td>
</tr>
<tr>
 <td style="text-align: left;">
  Simple </td><td style="text-align: left;"> meter </td><td style="text-align: left;"> m </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  Raised </td><td style="text-align: left;"> meter^2 </td><td style="text-align: left;"> m2 </td><td style="text-align: left;">
    higher precedence than multiplying or dividing</td>
</tr>
<tr>
 <td style="text-align: left;">
  Product </td><td style="text-align: left;"> newton meter </td><td style="text-align: left;"> N.m </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  Quotient </td><td style="text-align: left;"> meter per second </td><td style="text-align: left;"> m/s </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  Scaled </td><td style="text-align: left;"> 60 second </td><td style="text-align: left;"> 60 s </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  Prefixed </td><td style="text-align: left;"> kilometer </td><td style="text-align: left;"> km </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  Offset </td><td style="text-align: left;"> kelvin from 273.15 </td><td style="text-align: left;"> K @ 273.15 </td><td style="text-align: left;">
    lower precedence than multiplying or dividing</td>
</tr>
<tr>
 <td style="text-align: left;">
  Logarithmic </td><td style="text-align: left;"> lg(re milliwatt) </td><td style="text-align: left;"> lg(re mW) </td><td style="text-align: left;">
    "lg" is base 10, "ln" is base e, and "lb" is base 2</td>
</tr>
<tr>
 <td style="text-align: left;">
  Grouped </td><td style="text-align: left;"> (5 meter)/(30 second) </td><td style="text-align: left;"> (5 m)/(30 s) </td><td style="text-align: left;">
</td>
</tr>

</table>

<p>The above may be combined, e.g., <code>"0.1 lg(re m/(5 s)^2) @ 50"</code>.
You may also look at the <code>&lt;def&gt;</code> elements in the units database to see
examples of string unit specifications.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># define a fortnight
install_unit("fn", "2 week", "fortnight")
year &lt;- as_units("year")
set_units(year, fn)        # by symbol
set_units(year, fortnight) # by name
# clean up
remove_unit("fn", "fortnight")

# working with currencies
install_unit("dollar")
install_unit("euro", "1.22 dollar")
install_unit("yen", "0.0079 euro")
set_units(as_units("dollar"), yen)
# clean up
remove_unit(c("dollar", "euro", "yen"))

# an example from microbiology
cfu_symbols &lt;- c("CFU", "cfu")
cfu_names &lt;- c("colony_forming_unit", "ColonyFormingUnit")
install_unit("cell")
install_unit(cfu_symbols, "3.4 cell", cfu_names)
cell &lt;- set_units(2.5e5, cell)
vol &lt;- set_units(500, ul)
set_units(cell/vol, "cfu/ml")
set_units(cell/vol, "CFU/ml")
set_units(cell/vol, "colony_forming_unit/ml")
set_units(cell/vol, "ColonyFormingUnit/ml")
# clean up
remove_unit(c("cell", cfu_symbols), cfu_names)

</code></pre>

<hr>
<h2 id='keep_units'>Apply a function keeping units</h2><span id='topic+keep_units'></span>

<h3>Description</h3>

<p>Helper function to apply a function to a <code>units</code> object and then restore
the original units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep_units(FUN, x, ..., unit = units(x))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_units_+3A_fun">FUN</code></td>
<td>
<p>the function to be applied.</p>
</td></tr>
<tr><td><code id="keep_units_+3A_x">x</code></td>
<td>
<p>first argument of <code>FUN</code>, of class <code>units</code>.</p>
</td></tr>
<tr><td><code id="keep_units_+3A_...">...</code></td>
<td>
<p>optional arguments to <code>FUN</code>.</p>
</td></tr>
<tr><td><code id="keep_units_+3A_unit">unit</code></td>
<td>
<p>symbolic unit to restore after <code>FUN</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provided for incompatible functions that do not preserve units. The user is
responsible for ensuring the correctness of the output.
</p>


<h3>Value</h3>

<p>An object of class <code>units</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- set_units(1:5, m)
keep_units(drop_units, x)

</code></pre>

<hr>
<h2 id='load_units_xml'>Load a unit system</h2><span id='topic+load_units_xml'></span>

<h3>Description</h3>

<p>Load an XML database containing a unit system compatible with UDUNITS2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>load_units_xml(path = default_units_xml())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="load_units_xml_+3A_path">path</code></td>
<td>
<p>a path to a valid unit system in XML format.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A unit system comprises a root <code>&lt;unit-system&gt;</code> and a number of children
defining prefixes (<code>&lt;prefix&gt;</code>) or units (<code>&lt;unit&gt;</code>).
See the contents of
</p>
<p><code>system.file("share/udunits", package="units")</code>
</p>
<p>for examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load a new unit system
load_units_xml(system.file("share/udunits/udunits2-base.xml", package="units"))
## Not run: 
set_units(1, rad) # doesn'twork

## End(Not run)

# reload the default unit system
load_units_xml()
set_units(1, rad) # works again

</code></pre>

<hr>
<h2 id='Math.units'>Mathematical operations for units objects</h2><span id='topic+Math.units'></span>

<h3>Description</h3>

<p>Mathematical operations for units objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'units'
Math(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Math.units_+3A_x">x</code></td>
<td>
<p>object of class units</p>
</td></tr>
<tr><td><code id="Math.units_+3A_...">...</code></td>
<td>
<p>parameters passed on to the Math functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Logarithms receive a special treatment by the underlying <span class="pkg">udunits2</span>
library. If a natural logarithm is applied to some <code>unit</code>, the result is
<code>ln(re 1 unit)</code>, which means <em>natural logarithm referenced to
<code>1 unit</code></em>. For base 2 and base 10 logarithms, the output <code>lb(...)</code>
and <code>lg(...)</code> respectively instead of <code>ln(...)</code>.
</p>
<p>This is particularly important for some units that are typically expressed in
a logarithmic scale (i.e., <em>bels</em>, or, more commonly, <em>decibels</em>),
such as Watts or Volts. For some of these units, the default <span class="pkg">udunits2</span>
database contains aliases: e.g., <code>BW</code> (bel-Watts) is an alias of
<code>lg(re 1 W)</code>; <code>Bm</code> (bel-milliWatts) is an alias of
<code>lg(re 0.001 W)</code>; <code>BV</code> is an alias of <code>lg(re 1 V)</code> (bel-Volts),
and so on and so forth (see the output of <code>valid_udunits()</code> for further
reference).
</p>
<p>Additionally, the <span class="pkg">units</span> package defines <code>B</code>, the <em>bel</em>, by
default (because it is not defined by <span class="pkg">udunits2</span>) as an alias of
<code>lg(re 1)</code>, unless a user-provided XML database already contains a
definition of <code>B</code>, or the <code>define_bel</code> option is set to <code>FALSE</code>
(see <code>help(units_options)</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'># roundings, cummulative functions
x &lt;- set_units(sqrt(1:10), m/s)
signif(x, 2)
cumsum(x)

# trigonometry
sin(x) # not meaningful
x &lt;- set_units(sqrt(1:10), rad)
sin(x)
cos(x)
x &lt;- set_units(seq(0, 1, 0.1), 1)
asin(x)
acos(x)

# logarithms
x &lt;- set_units(sqrt(1:10), W)
log(x) # base exp(1)
log(x, base = 3)
log2(x)
log10(x)
set_units(x, dBW) # decibel-watts
set_units(x, dBm) # decibel-milliwatts
</code></pre>

<hr>
<h2 id='mixed_units'>Create or convert to a mixed units list-column</h2><span id='topic+mixed_units'></span><span id='topic+units+3C-.mixed_units'></span>

<h3>Description</h3>

<p>Create or convert to a mixed units list-column
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixed_units(x, values, ...)

## S3 replacement method for class 'mixed_units'
units(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixed_units_+3A_x">x</code></td>
<td>
<p>numeric, or vector of class <code>units</code></p>
</td></tr>
<tr><td><code id="mixed_units_+3A_values">values</code></td>
<td>
<p>character vector with units encodings, or list with symbolic units of class <code>mixed_symbolic_units</code></p>
</td></tr>
<tr><td><code id="mixed_units_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="mixed_units_+3A_value">value</code></td>
<td>
<p>see values</p>
</td></tr>
</table>


<h3>Details</h3>

<p>if <code>x</code> is of class <code>units</code>, <code>values</code> should be missing or of class <code>mixed_symbolic_units</code>; if <code>x</code> is numeric, <code>values</code> should be a character vector the length of <code>x</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- 1:4
u &lt;- c("m/s", "km/h", "mg/L", "g")
mixed_units(a, u)
units(a) = as_units("m/s")
mixed_units(a) # converts to mixed representation
</code></pre>

<hr>
<h2 id='Ops.units'>S3 Ops Group Generic Functions for units objects</h2><span id='topic+Ops.units'></span>

<h3>Description</h3>

<p>Ops functions for units objects, including comparison, product and divide,
add, subtract.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'units'
Ops(e1, e2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Ops.units_+3A_e1">e1</code></td>
<td>
<p>object of class <code>units</code>,
or something that can be coerced to it by <code>as_units(e1)</code></p>
</td></tr>
<tr><td><code id="Ops.units_+3A_e2">e2</code></td>
<td>
<p>object of class <code>units</code>,
or something that can be coerced to it by <code>as_units(e2)</code>,
or in case of power a number (integer n or 1/n)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Users are advised against performing arithmetical operations with
temperatures in different units. The <span class="pkg">units</span> package ensure that results
1) are arithmetically correct, and 2) satisfy dimensional analysis, but could
never ensure that results are physically meaningful. Temperature units are
special because there is an absolute unit, Kelvin, and relative ones, Celsius
and Fahrenheit degrees. Arithmetic operations between them are meaningless
from the physical standpoint. Users are thus advised to convert all
temperatures to Kelvin before operating.
</p>


<h3>Value</h3>

<p>object of class <code>units</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- set_units(1:3, m/s)
b &lt;- set_units(1:3, m/s)
a + b
a * b
a / b
a &lt;- as_units("kg m-3")
b &lt;- set_units(1, kg/m/m/m)
a + b
a = set_units(1:5, m)
a %/% a
a %/% set_units(2)
set_units(1:5, m^2) %/% set_units(2, m)
a %% a
a %% set_units(2)
</code></pre>

<hr>
<h2 id='plot.units'>Plot <code>units</code> objects</h2><span id='topic+plot.units'></span><span id='topic+make_unit_label'></span>

<h3>Description</h3>

<p>Create axis label with appropriate labels.
</p>
<p>Plot method for <code>units</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_unit_label(lab, u, sep = units_options("sep"),
  group = units_options("group"), parse = units_options("parse"))

## S3 method for class 'units'
plot(x, y, xlab = NULL, ylab = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.units_+3A_lab">lab</code></td>
<td>
<p>length one character; name of the variable to plot</p>
</td></tr>
<tr><td><code id="plot.units_+3A_u">u</code></td>
<td>
<p>vector of class <code>units</code></p>
</td></tr>
<tr><td><code id="plot.units_+3A_sep">sep</code></td>
<td>
<p>length two character vector, defaulting to <code>c("~","~")</code>, with
the white space between unit name and unit symbols, and between subsequent
symbols.</p>
</td></tr>
<tr><td><code id="plot.units_+3A_group">group</code></td>
<td>
<p>length two character vector with grouping symbols, e.g.
<code>c("(",")")</code> for parenthesis, or <code>c("","")</code> for no group symbols</p>
</td></tr>
<tr><td><code id="plot.units_+3A_parse">parse</code></td>
<td>
<p>logical; indicates whether a parseable expression should be
returned (typically needed for super scripts), or a simple character string
without special formatting.</p>
</td></tr>
<tr><td><code id="plot.units_+3A_x">x</code></td>
<td>
<p>object of class units, to plot along the x axis, or, if y is missing, along the y axis</p>
</td></tr>
<tr><td><code id="plot.units_+3A_y">y</code></td>
<td>
<p>object to plot along the y axis, or missing</p>
</td></tr>
<tr><td><code id="plot.units_+3A_xlab">xlab</code></td>
<td>
<p>character; x axis label</p>
</td></tr>
<tr><td><code id="plot.units_+3A_ylab">ylab</code></td>
<td>
<p>character; y axis label</p>
</td></tr>
<tr><td><code id="plot.units_+3A_...">...</code></td>
<td>
<p>other parameters, passed on to <a href="graphics.html#topic+plot.default">plot.default</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p><a href="#topic+units_options">units_options</a> can be used to set and change the defaults for
<code>sep</code>, <code>group</code> and <code>doParse</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>displacement = mtcars$disp * as_units("in")^3
units(displacement) = make_units(cm^3)
weight = mtcars$wt * 1000 * make_units(lb)
units(weight) = make_units(kg)
plot(weight, displacement)

units_options(group = c("(", ")") )  # parenthesis instead of square brackets
plot(weight, displacement)

units_options(sep = c("~~~", "~"), group = c("", ""))  # no brackets; extra space
plot(weight, displacement)

units_options(sep = c("~", "~~"), group = c("[", "]"))
gallon = as_units("gallon")
consumption = mtcars$mpg * make_units(mi/gallon)
units(consumption) = make_units(km/l)
plot(displacement, consumption) # division in consumption

units_options(negative_power = TRUE) # division becomes ^-1
plot(displacement, consumption)

plot(1/displacement, 1/consumption)

</code></pre>

<hr>
<h2 id='scale_units'>Position scales for units data</h2><span id='topic+scale_x_units'></span><span id='topic+scale_y_units'></span>

<h3>Description</h3>

<p>These are the default scales for the <code>units</code> class. These will usually
be added automatically. To override manually, use <code>scale_*_units</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_x_units(..., guide = ggplot2::waiver(), position = "bottom",
  sec.axis = ggplot2::waiver(), unit = NULL)

scale_y_units(..., guide = ggplot2::waiver(), position = "left",
  sec.axis = ggplot2::waiver(), unit = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_units_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="ggplot2.html#topic+continuous_scale">continuous_scale</a></code>
(e.g. scale transformations via the <code>trans</code> argument; see examples).</p>
</td></tr>
<tr><td><code id="scale_units_+3A_guide">guide</code></td>
<td>
<p>A function used to create a guide or its name. See
<code><a href="ggplot2.html#topic+guides">guides()</a></code> for more information.</p>
</td></tr>
<tr><td><code id="scale_units_+3A_position">position</code></td>
<td>
<p>For position scales, The position of the axis.
<code>left</code> or <code>right</code> for y axes, <code>top</code> or <code>bottom</code> for x axes.</p>
</td></tr>
<tr><td><code id="scale_units_+3A_sec.axis">sec.axis</code></td>
<td>
<p><code><a href="ggplot2.html#topic+sec_axis">sec_axis()</a></code> is used to specify a secondary axis.</p>
</td></tr>
<tr><td><code id="scale_units_+3A_unit">unit</code></td>
<td>
<p>A unit specification to use for the axis. If given, the values
will be converted to this unit before plotting. An error will be thrown if
the specified unit is incompatible with the unit of the data.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("ggplot2", quietly=TRUE)) {

library(ggplot2)

mtcars$consumption &lt;- set_units(mtcars$mpg, mi / gallon)
mtcars$power &lt;- set_units(mtcars$hp, hp)

# Use units encoded into the data
ggplot(mtcars) +
  geom_point(aes(power, consumption))

# Convert units on the fly during plotting
ggplot(mtcars) +
  geom_point(aes(power, consumption)) +
  scale_x_units(unit = "W") +
  scale_y_units(unit = "km/l")

# Resolve units when transforming data
ggplot(mtcars) +
  geom_point(aes(power, 1 / consumption))

# Reverse the y axis
ggplot(mtcars) +
  geom_point(aes(power, consumption)) +
  scale_y_units(trans="reverse")

}
</code></pre>

<hr>
<h2 id='seq.units'>seq method for units objects</h2><span id='topic+seq.units'></span>

<h3>Description</h3>

<p>seq method for units objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'units'
seq(from, to, by = ((to - from)/(length.out - 1)),
  length.out = NULL, along.with = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seq.units_+3A_from">from</code></td>
<td>
<p>see <a href="base.html#topic+seq">seq</a></p>
</td></tr>
<tr><td><code id="seq.units_+3A_to">to</code></td>
<td>
<p>see <a href="base.html#topic+seq">seq</a></p>
</td></tr>
<tr><td><code id="seq.units_+3A_by">by</code></td>
<td>
<p>see <a href="base.html#topic+seq">seq</a></p>
</td></tr>
<tr><td><code id="seq.units_+3A_length.out">length.out</code></td>
<td>
<p>see <a href="base.html#topic+seq">seq</a></p>
</td></tr>
<tr><td><code id="seq.units_+3A_along.with">along.with</code></td>
<td>
<p>see <a href="base.html#topic+seq">seq</a></p>
</td></tr>
<tr><td><code id="seq.units_+3A_...">...</code></td>
<td>
<p>see <a href="base.html#topic+seq">seq</a></p>
</td></tr>
</table>


<h3>Details</h3>

<p>arguments with units are converted to have units of the first argument (which is either <code>from</code> or <code>to</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>seq(to = set_units(10, m), by = set_units(1, m), length.out = 5)
seq(set_units(10, m), by = set_units(1, m), length.out = 5)
seq(set_units(10, m), set_units(19, m))
seq(set_units(10, m), set_units(.1, km), set_units(10000, mm))
</code></pre>

<hr>
<h2 id='ud_are_convertible'>Test if two units are convertible</h2><span id='topic+ud_are_convertible'></span>

<h3>Description</h3>

<p>Parses and checks whether units can be converted by UDUNITS-2. Units may not
be convertible either because they are different magnitudes or because one
(or both) units are not defined in the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ud_are_convertible(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ud_are_convertible_+3A_x">x</code></td>
<td>
<p>character or object of class <code>symbolic_units</code>, for the symbol
of the first unit.</p>
</td></tr>
<tr><td><code id="ud_are_convertible_+3A_y">y</code></td>
<td>
<p>character or object of class <code>symbolic_units</code>, for the symbol
of the second unit.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>boolean, <code>TRUE</code> if both units exist and are convertible.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ud_are_convertible("m", "km")
a &lt;- set_units(1:3, m/s)
ud_are_convertible(units(a), "km/h")
ud_are_convertible("s", "kg")
</code></pre>

<hr>
<h2 id='unitless'>The &quot;unit&quot; type for vectors that are actually dimension-less.</h2><span id='topic+unitless'></span>

<h3>Description</h3>

<p>The &quot;unit&quot; type for vectors that are actually dimension-less.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unitless
</code></pre>


<h3>Format</h3>

<p>An object of class <code>symbolic_units</code> of length 2.
</p>

<hr>
<h2 id='units'>Handle measurement units</h2><span id='topic+units'></span><span id='topic+units+3C-.numeric'></span><span id='topic+units+3C-.units'></span><span id='topic+units+3C-.logical'></span><span id='topic+units.units'></span><span id='topic+units.symbolic_units'></span><span id='topic+set_units'></span><span id='topic+make_units'></span><span id='topic+as_units'></span><span id='topic+as_units.default'></span><span id='topic+as_units.units'></span><span id='topic+as_units.symbolic_units'></span><span id='topic+as_units.difftime'></span><span id='topic+as_units.character'></span><span id='topic+as_units.call'></span><span id='topic+as_units.expression'></span><span id='topic+as_units.name'></span><span id='topic+as_units.POSIXt'></span><span id='topic+as_units.Date'></span>

<h3>Description</h3>

<p>A number of functions are provided for handling unit objects.
</p>

<ul>
<li> <p><code>`units&lt;-`</code> and <code>units</code> are the basic functions to set
and retrieve units.
</p>
</li>
<li> <p><code>as_units</code>, a generic with methods for a
character string and for quoted language. Note, direct usage of this function
by users is typically not necessary, as coercion via <code>as_units</code> is
automatically done with <code>`units&lt;-`</code> and <code>set_units</code>.
</p>
</li>
<li> <p><code>make_units</code>, constructs units from bare expressions.
<code>make_units(m/s)</code> is equivalent to <code>as_units(quote(m/s))</code>.
</p>
</li>
<li> <p><code>set_units</code>, a pipe-friendly version of <code>`units&lt;-`</code>. By
default it operates with bare expressions, but this
behavior can be disabled by a specifying <code>mode = "standard"</code> or setting
<code>units_options(set_units_mode = "standard")</code>.
If <code>value</code> is missing or set to <code>1</code>, the object becomes unitless.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S3 replacement method for class 'numeric'
units(x) &lt;- value

## S3 replacement method for class 'units'
units(x) &lt;- value

## S3 replacement method for class 'logical'
units(x) &lt;- value

## S3 method for class 'units'
units(x)

## S3 method for class 'symbolic_units'
units(x)

set_units(x, value, ..., mode = units_options("set_units_mode"))

make_units(bare_expression, check_is_valid = TRUE)

as_units(x, ...)

## Default S3 method:
as_units(x, value = unitless, ...)

## S3 method for class 'units'
as_units(x, value, ...)

## S3 method for class 'symbolic_units'
as_units(x, value, ...)

## S3 method for class 'difftime'
as_units(x, value, ...)

## S3 method for class 'character'
as_units(x, check_is_valid = TRUE,
  implicit_exponents = NULL, force_single_symbol = FALSE, ...)

## S3 method for class 'call'
as_units(x, check_is_valid = TRUE, ...)

## S3 method for class 'expression'
as_units(x, check_is_valid = TRUE, ...)

## S3 method for class 'name'
as_units(x, check_is_valid = TRUE, ...)

## S3 method for class 'POSIXt'
as_units(x, value, ...)

## S3 method for class 'Date'
as_units(x, value, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="units_+3A_x">x</code></td>
<td>
<p>numeric vector, or object of class <code>units</code>.</p>
</td></tr>
<tr><td><code id="units_+3A_value">value</code></td>
<td>
<p>object of class <code>units</code> or <code>symbolic_units</code>, or in the
case of <code>set_units</code> expression with symbols (see examples).</p>
</td></tr>
<tr><td><code id="units_+3A_...">...</code></td>
<td>
<p>passed on to other methods.</p>
</td></tr>
<tr><td><code id="units_+3A_mode">mode</code></td>
<td>
<p>if <code>"symbols"</code> (the default), then unit is constructed from
the expression supplied. Otherwise, if<code>mode = "standard"</code>,
standard evaluation is used for the supplied value This argument can be set
via a global option <code>units_options(set_units_mode = "standard")</code></p>
</td></tr>
<tr><td><code id="units_+3A_bare_expression">bare_expression</code></td>
<td>
<p>a bare R expression describing units. Must be valid R
syntax (reserved R syntax words like <code>in</code> must be backticked)</p>
</td></tr>
<tr><td><code id="units_+3A_check_is_valid">check_is_valid</code></td>
<td>
<p>throw an error if all the unit symbols are not either
recognized by udunits2 via <code>ud_is_parseable()</code>, or a custom
user defined via <code>install_unit()</code>. If <code>FALSE</code>, no check
for validity is performed.</p>
</td></tr>
<tr><td><code id="units_+3A_implicit_exponents">implicit_exponents</code></td>
<td>
<p>If the unit string is in product power form (e.g.
<code>"km m-2 s-1"</code>). Defaults to <code>NULL</code>, in which case a guess is made
based on the supplied string. Set to <code>TRUE</code> or <code>FALSE</code> if the guess is
incorrect.</p>
</td></tr>
<tr><td><code id="units_+3A_force_single_symbol">force_single_symbol</code></td>
<td>
<p>Whether to perform no string parsing and force
treatment of the string as a single symbol.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>value</code> is of class <code>units</code> and has a value unequal to 1, this
value is ignored unless <code>units_options("simplifiy")</code> is <code>TRUE</code>. If
<code>simplify</code> is <code>TRUE</code>, <code>x</code> is multiplied by this value.
</p>


<h3>Value</h3>

<p>An object of class <code>units</code>.
</p>
<p>The <code>units</code> method retrieves the units attribute, which is of
class <code>symbolic_units</code>.
</p>


<h3>Character strings</h3>

<p>Generally speaking, there are 3 types of unit strings are accepted in
<code>as_units</code> (and by extension, <code>`units&lt;-`</code>).
</p>
<p>The first, and likely most common, is a &quot;standard&quot; format unit
specification where the relationship between unit symbols or names is
specified explicitly with arithmetic symbols for division <code>/</code>,
multiplication <code>*</code> and power exponents <code>^</code>, or other mathematical
functions like <code>log()</code>. In this case, the string is parsed as an R
expression via <code>parse(text = )</code> after backticking all unit symbols and
names, and then passed on to <code>as_units.call()</code>. A heuristic is used to
perform backticking, such that any continuous set of characters
uninterrupted by one of <code>()\*^-</code> are backticked (unless the character
sequence consists solely of numbers <code>0-9</code>), with some care to not
double up on pre-existing backticks. This heuristic appears to be quite
robust, and works for units would otherwise not be valid R syntax. For
example, percent (<code>"%"</code>), feet (<code>"'"</code>), inches (<code>"in"</code>),
and Tesla (<code>"T"</code>) are all backticked and parsed correctly.
</p>
<p>Nevertheless, for certain complex unit expressions, this backticking heuristic
may give incorrect results.  If the string supplied fails to parse as an R
expression, then the string is treated as a single symbolic unit and
<code>symbolic_unit(chr)</code> is used as a fallback with a warning. In that
case, automatic unit simplification may not work properly when performing
operations on unit objects, but unit conversion and other Math operations
should still give correct results so long as the unit string supplied
returns <code>TRUE</code> for <code>ud_is_parsable()</code>.
</p>
<p>The second type of unit string accepted is one with implicit exponents. In
this format, <code>/</code>, <code>*</code>, and <code>^</code>, may not be present in the
string, and unit symbol or names must be separated by a space. Each unit
symbol may optionally be followed by a single number, specifying the power.
For example <code>"m2 s-2"</code> is equivalent to <code>"(m^2)*(s^-2)"</code>.
</p>
<p>It must be noted that prepended numbers are supported too, but their
interpretation slightly varies depending on whether they are separated from
the unit string or not. E.g., <code>"1000 m"</code> is interpreted as magnitude
and unit, but <code>"1000m"</code> is interpreted as a prefixed unit, and it is
equivalent to <code>"km"</code> to all effects.
</p>
<p>The third type of unit string format accepted is the special case of
udunits time duration with a reference origin, for example <code>"hours
  since 1970-01-01 00:00:00"</code>. Note, that the handling of time and calendar
operations via the udunits library is subtly different from the way R
handles date and time operations. This functionality is mostly exported for
users that work with udunits time data, e.g., with NetCDF files. Users are
otherwise encouraged to use <code>R</code>'s date and time functionality provided
by <code>Date</code> and <code>POSIXt</code> classes.
</p>


<h3>Expressions</h3>

<p>In <code>as_units()</code>, each of the symbols in the unit expression is treated
individually, such that each symbol must be recognized by the udunits
database (checked by <code>ud_is_parseable()</code>, <em>or</em> be a custom,
user-defined unit symbol that was defined by <code>install_unit()</code>. To
see which symbols and names are currently recognized by the udunits
database, see <code>valid_udunits()</code>.
</p>


<h3>Note</h3>

<p>By default, unit names are automatically substituted with unit names
(e.g., kilogram &ndash;&gt; kg). To turn off this behavior, set
<code>units_options(auto_convert_names_to_symbols = FALSE)</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+install_unit">install_unit</a></code>, <code><a href="#topic+valid_udunits">valid_udunits</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x = 1:3
class(x)
units(x) &lt;- as_units("m/s")
class(x)
y = 2:5
a &lt;- set_units(1:3, m/s)
units(a) &lt;- make_units(km/h)
a
# convert to a mixed_units object:
units(a) &lt;- c("m/s", "km/h", "km/h")
a
# The easiest way to assign units to a numeric vector is like this:
x &lt;- y &lt;- 1:4
units(x) &lt;- "m/s"  # meters / second

# Alternatively, the easiest pipe-friendly way to set units:
if(requireNamespace("magrittr", quietly = TRUE)) {
  library(magrittr)
  y %&gt;% set_units(m/s)
}

# these are different ways of creating the same unit:
# meters per second squared, i.e, acceleration
x1 &lt;- make_units(m/s^2)
x2 &lt;- as_units(quote(m/s^2))
x2 &lt;- as_units("m/s^2")
x3 &lt;- as_units("m s-2") # in product power form, i.e., implicit exponents = T
x4 &lt;- set_units(1,  m/s^2) # by default, mode = "symbols"
x5 &lt;- set_units(1, "m/s^2",   mode = "standard")
x6 &lt;- set_units(1, x1,        mode = "standard")
x7 &lt;- set_units(1, units(x1), mode = "standard")
x8 &lt;- as_units("m") / as_units("s")^2

all_identical &lt;- function(...) {
  l &lt;- list(...)
  for(i in seq_along(l)[-1])
    if(!identical(l[[1]], l[[i]]))
      return(FALSE)
  TRUE
}
all_identical(x1, x2, x3, x4, x5, x6, x7, x8)

# Note, direct usage of these unit creation functions is typically not
# necessary, since coercion is automatically done via as_units(). Again,
# these are all equivalent ways to generate the same result.

x1 &lt;- x2 &lt;- x3 &lt;- x4 &lt;- x5 &lt;- x6 &lt;- x7 &lt;- x8 &lt;- 1:4
units(x1) &lt;- "m/s^2"
units(x2) &lt;- "m s-2"
units(x3) &lt;- quote(m/s^2)
units(x4) &lt;- make_units(m/s^2)
units(x5) &lt;- as_units(quote(m/s^2))
x6 &lt;- set_units(x6, m/s^2)
x7 &lt;- set_units(x7, "m/s^2", mode = "standard")
x8 &lt;- set_units(x8, units(x1), mode = "standard")

all_identical(x1, x2, x3, x4, x5, x6, x7, x8)


# Both unit names or symbols can be used. By default, unit names are
# automatically converted to unit symbols.
make_units(degree_C)
make_units(kilogram)
make_units(ohm)

## Arithmetic operations and units
# conversion between unit objects that were defined as symbols and names will
# work correctly, although unit simplification in printing may not always occur.
x &lt;- 500 * make_units(micrograms/liter)
y &lt;- set_units(200, ug/l)
x + y
x * y # numeric result is correct, but units not simplified completely

# note, plural form of unit name accepted too ('liters' vs 'liter'), and
# denominator simplification can be performed correctly
x * set_units(5, liters)

# unit conversion works too
set_units(x, grams/gallon)

## Creating custom, user defined units
# For example, a microbiologist might work with counts of bacterial cells
# make_units(cells/ml) # by default, throws an ERROR
# First define the unit, then the newly defined unit is accepted.
install_unit("cells")
make_units(cells/ml)

# Note that install_unit() adds support for defining relationships between
# the newly created symbols or names and existing units.

## set_units()
# set_units is a pipe friendly version of `units&lt;-`.
if(requireNamespace("magrittr", quietly = TRUE)) {
  library(magrittr)
  1:5 %&gt;% set_units(N/m^2)
  # first sets to m, then converts to km
  1:5 %&gt;% set_units(m) %&gt;% set_units(km)
}

# set_units has two modes of operation. By default, it operates with
# bare symbols to define the units.
set_units(1:5, m/s)

# use `mode = "standard"` to use the value of supplied argument, rather than
# the bare symbols of the expression. In this mode, set_units() can be
# thought of as a simple alias for `units&lt;-` that is pipe friendly.
set_units(1:5, "m/s", mode = "standard")
set_units(1:5, make_units(m/s), mode = "standard")

# the mode of set_units() can be controlled via a global option
# units_options(set_units_mode = "standard")

# To remove units use
units(x) &lt;- NULL
# or
set_units(x, NULL)
# or
drop_units(y)
s = Sys.time()
d  = s - (s+1)
as_units(d)

</code></pre>

<hr>
<h2 id='units_options'>set one or more units global options</h2><span id='topic+units_options'></span>

<h3>Description</h3>

<p>set units global options, mostly related how units are printed and plotted
</p>


<h3>Usage</h3>

<pre><code class='language-R'>units_options(..., sep, group, negative_power, parse, set_units_mode,
  auto_convert_names_to_symbols, simplify, allow_mixed, unitless_symbol,
  define_bel)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="units_options_+3A_...">...</code></td>
<td>
<p>named options (character) for which the value is queried</p>
</td></tr>
<tr><td><code id="units_options_+3A_sep">sep</code></td>
<td>
<p>character length two; default <code>c("~", "~")</code>; space separator between variable and units, and space separator between two different units</p>
</td></tr>
<tr><td><code id="units_options_+3A_group">group</code></td>
<td>
<p>character length two; start and end group, may be two empty strings, a parenthesis pair, or square brackets; default: square brackets.</p>
</td></tr>
<tr><td><code id="units_options_+3A_negative_power">negative_power</code></td>
<td>
<p>logical, default <code>FALSE</code>; should denominators have negative power, or follow a division symbol?</p>
</td></tr>
<tr><td><code id="units_options_+3A_parse">parse</code></td>
<td>
<p>logical, default <code>TRUE</code>; should the units be made into an expression (so we get subscripts)? Setting to <code>FALSE</code> may be useful if <a href="base.html#topic+parse">parse</a> fails, e.g. if the unit contains symbols that assume a particular encoding</p>
</td></tr>
<tr><td><code id="units_options_+3A_set_units_mode">set_units_mode</code></td>
<td>
<p>character; either <code>"symbols"</code> or <code>"standard"</code>; see <a href="#topic+set_units">set_units</a>; default is <code>"symbols"</code></p>
</td></tr>
<tr><td><code id="units_options_+3A_auto_convert_names_to_symbols">auto_convert_names_to_symbols</code></td>
<td>
<p>logical, default <code>TRUE</code>: should names, such as <code>degree_C</code> be converted to their usual symbol?</p>
</td></tr>
<tr><td><code id="units_options_+3A_simplify">simplify</code></td>
<td>
<p>logical, default <code>NA</code>; simplify units in expressions?</p>
</td></tr>
<tr><td><code id="units_options_+3A_allow_mixed">allow_mixed</code></td>
<td>
<p>logical; if <code>TRUE</code>, combining mixed units creates a <code>mixed_units</code> object, if <code>FALSE</code> it generates an error</p>
</td></tr>
<tr><td><code id="units_options_+3A_unitless_symbol">unitless_symbol</code></td>
<td>
<p>character; set the symbol to use for unitless (1) units</p>
</td></tr>
<tr><td><code id="units_options_+3A_define_bel">define_bel</code></td>
<td>
<p>logical; if <code>TRUE</code>, define the unit <code>B</code> (i.e., the <em>bel</em>, widely used with the <em>deci-</em> prefix as <code>dB</code>, <em>decibel</em>) as an alias of <code>lg(re 1)</code>. <code>TRUE</code> by default, unless <code>B</code> is already defined in the existing XML database.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This sets or gets units options. Set them by using named arguments, get them by passing the option name.
</p>
<p>The default <code>NA</code> value for <code>simplify</code> means units are not simplified in <a href="#topic+set_units">set_units</a> or <a href="#topic+as_units">as_units</a>, but are simplified in arithmetical expressions.
</p>


<h3>Value</h3>

<p>in case options are set, invisibly a named list with the option values that are being set; if an option is queried, the current option value.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>old = units_options(sep = c("~~~", "~"), group = c("", "")) # more space, parenthesis
old
## set back to defaults:
units_options(sep = c("~", "~"), group = c("[", "]"), negative_power = FALSE, parse = TRUE)
units_options("group")
</code></pre>

<hr>
<h2 id='units-defunct'>Defunct functions in <span class="pkg">units</span></h2><span id='topic+units-defunct'></span>

<h3>Description</h3>

<p>These functions are no longer available.
</p>


<h3>Details</h3>


<ul>
<li> <p><code>ud_units</code>: Use <code><a href="#topic+as_units">as_units</a></code> instead.
</p>
</li>
<li> <p><code>as.units</code>: Use <code><a href="#topic+as_units">as_units</a></code> instead.
</p>
</li>
<li> <p><code>make_unit</code>: Use <code><a href="#topic+as_units">as_units</a></code> instead.
</p>
</li>
<li> <p><code>parse_unit</code>: Use <code><a href="#topic+as_units">as_units</a></code> instead.
</p>
</li>
<li> <p><code>as_cf</code>: Use <code><a href="#topic+deparse_unit">deparse_unit</a></code> instead.
</p>
</li>
<li> <p><code>install_symbolic_unit</code>: Use <code><a href="#topic+install_unit">install_unit</a></code> instead.
</p>
</li>
<li> <p><code>remove_symbolic_unit</code>: Use <code><a href="#topic+remove_unit">remove_unit</a></code> instead.
</p>
</li>
<li> <p><code>install_conversion_constant</code>: Use <code><a href="#topic+install_unit">install_unit</a></code> instead.
</p>
</li>
<li> <p><code>install_conversion_offset</code>: Use <code><a href="#topic+install_unit">install_unit</a></code> instead.
</p>
</li></ul>


<hr>
<h2 id='valid_udunits'>Get information about valid units</h2><span id='topic+valid_udunits'></span><span id='topic+valid_udunits_prefixes'></span>

<h3>Description</h3>

<p>These functions require the <span class="pkg">xml2</span> package, and return data frames with
complete information about pre-defined units from UDUNITS2. Inspect this data
frames to determine what inputs are accepted by <code>as_units</code> (and the
other functions it powers: <code>as_units</code>, <code>set_units</code> , <code>units&lt;-</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>valid_udunits(quiet = FALSE)

valid_udunits_prefixes(quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="valid_udunits_+3A_quiet">quiet</code></td>
<td>
<p>logical, defaults <code>TRUE</code> to give a message about the location of
the udunits database being read.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Any entry listed under <code>symbol</code> , <code>symbol_aliases</code> , <code>
name_singular</code> , <code>name_singular_aliases</code> , <code>name_plural</code> , or
<code>name_plural_aliases</code> is valid. Additionally, any entry under
<code>symbol</code> or <code>symbol_aliases</code> may can also contain a valid prefix,
as specified by <code>valid_udunits_prefixes()</code> .
</p>
<p>Note, this is primarily intended for interactive use, the exact format of the
returned data frames may change in the future.
</p>


<h3>Value</h3>

<p>a data frame with columns <code>symbol</code> , <code>symbol_aliases</code> ,
<code>name_singular</code> , <code>name_singular_aliases</code> , <code>name_plural</code> ,
or <code>name_plural_aliases</code> , <code>def</code> , <code>definition</code> ,
<code>comment</code> , <code>dimensionless</code> and <code>source_xml</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("xml2", quietly = TRUE)) {
  valid_udunits()
  valid_udunits_prefixes()
  if(interactive())
    View(valid_udunits())
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

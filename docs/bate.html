<!DOCTYPE html><html><head><title>Help for package bate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#collect_par'><p>Collect parameters from the short, intermediate and auxiliary regressions</p></a></li>
<li><a href='#cplotbias'><p>Create contour plot of bias</p></a></li>
<li><a href='#delfplot'><p>Plot graph of function delta=f(Rmax)</p></a></li>
<li><a href='#dplotbate'><p>Histogram of bias adjusted treatment effect</p></a></li>
<li><a href='#expand_border'><p>Extend border of bounded box by +/- e</p></a></li>
<li><a href='#get_border'><p>Identify all border points in a region</p></a></li>
<li><a href='#mycubic'><p>Compute roots of the cubic equation</p></a></li>
<li><a href='#mydisc'><p>Evaluates discriminant of the cubic equation</p></a></li>
<li><a href='#NLSY_BW'><p>NLSY Birth Weight.</p></a></li>
<li><a href='#NLSY_IQ'><p>NLSY IQ.</p></a></li>
<li><a href='#osterbds'><p>Computes identified set according to Oster (2019)</p></a></li>
<li><a href='#osterdelstar'><p>Computes delta* according to Oster (2019)</p></a></li>
<li><a href='#ovbias'><p>Compute bias adjusted treatment effect taking parameter vector as input.</p></a></li>
<li><a href='#ovbias_lm'><p>Compute bias adjusted treatment effect taking three lm objects as input.</p></a></li>
<li><a href='#ovbias_par'><p>Compute bias adjusted treatment effect taking data frame as input.</p></a></li>
<li><a href='#partocoef'><p>Returns coefficients of the cubic equation</p></a></li>
<li><a href='#selectroot'><p>Select root of the cubic based on the root of a nearest point</p></a></li>
<li><a href='#split_nurr'><p>Split a region into two parts</p></a></li>
<li><a href='#urrplot'><p>Region plot to demarcate URR and NURR for the bounded box</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Computes Bias-Adjusted Treatment Effect</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Compute bounds for the treatment effect 
    after adjusting for the presence of omitted variables in linear  
    econometric models, according to the method of Basu (2022) &lt;<a href="https://doi.org/10.48550/arXiv.2203.12431">doi:10.48550/arXiv.2203.12431</a>&gt;. 
    You supply the data, identify the outcome and 
    treatment variables and additional regressors. The main functions
    will compute bounds for the bias-adjusted treatment effect. Many
    plot functions allow easy visualization of results.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, concaveman, dplyr, stats, magrittr, tidyselect,
purrr, latex2exp, vtable</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dbasu-umass/bate/">https://github.com/dbasu-umass/bate/</a>,
<a href="https://rpubs.com/dbasu/bate/">https://rpubs.com/dbasu/bate/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-03-25 01:39:58 UTC; basu15</td>
</tr>
<tr>
<td>Author:</td>
<td>Deepankar Basu [aut, cre],
  Evan Wasner [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Deepankar Basu &lt;dbasu@umass.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-03-28 07:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='collect_par'>Collect parameters from the short, intermediate and auxiliary regressions</h2><span id='topic+collect_par'></span>

<h3>Description</h3>

<p>Collect parameters from the short, intermediate and auxiliary regressions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collect_par(data, outcome, treatment, control, other_regressors = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collect_par_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="collect_par_+3A_outcome">outcome</code></td>
<td>
<p>The name of the outcome variable (must be present in the data frame).</p>
</td></tr>
<tr><td><code id="collect_par_+3A_treatment">treatment</code></td>
<td>
<p>The name of the treatment variable (must be present in the data frame).</p>
</td></tr>
<tr><td><code id="collect_par_+3A_control">control</code></td>
<td>
<p>Control variables to be added to the intermediate regression.</p>
</td></tr>
<tr><td><code id="collect_par_+3A_other_regressors">other_regressors</code></td>
<td>
<p>Subset of control variables to be added in the short regression (default is NULL).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the following columns:
</p>
<table>
<tr><td><code>beta0</code></td>
<td>
<p>Treatment effect in the short regression</p>
</td></tr>
<tr><td><code>R0</code></td>
<td>
<p>R-squared in the short regression</p>
</td></tr>
<tr><td><code>betatilde</code></td>
<td>
<p>Treatment effect in the intermediate regression</p>
</td></tr>
<tr><td><code>Rtilde</code></td>
<td>
<p>R-squared in the intermediate regression</p>
</td></tr>
<tr><td><code>sigmay</code></td>
<td>
<p>Standard deviation of outcome variable</p>
</td></tr>
<tr><td><code>sigmax</code></td>
<td>
<p>Standard deviation of treatment variable</p>
</td></tr>
<tr><td><code>taux</code></td>
<td>
<p>Standard deviation of residual in auxiliary regression</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## See results
(parameters)

</code></pre>

<hr>
<h2 id='cplotbias'>Create contour plot of bias</h2><span id='topic+cplotbias'></span>

<h3>Description</h3>

<p>Create contour plot of bias
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cplotbias(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cplotbias_+3A_data">data</code></td>
<td>
<p>A data frame that is the output from the &quot;ovbias&quot; function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot object created with ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Set limits for the bounded box
Rlow &lt;- parameters$Rtilde
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Not run: 
## Compute bias and bias-adjusted treatment effect
OVB &lt;- ovbias(
parameters = parameters, 
deltalow=deltalow, 
deltahigh=deltahigh, Rhigh=Rhigh, 
e=e)

## Contour Plot of bias over the bounded box
p2 &lt;- cplotbias(OVB$Data)
print(p2)

## End(Not run)

</code></pre>

<hr>
<h2 id='delfplot'>Plot graph of function delta=f(Rmax)</h2><span id='topic+delfplot'></span>

<h3>Description</h3>

<p>Plot graph of function delta=f(Rmax)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>delfplot(parameters)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="delfplot_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters that is generated after estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot object created with ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Set limits for the bounded box
Rlow &lt;- parameters$Rtilde
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Oster's method: Plot of delta = f(Rmax)
p4 &lt;- delfplot(parameters = parameters)
print(p4)

</code></pre>

<hr>
<h2 id='dplotbate'>Histogram of bias adjusted treatment effect</h2><span id='topic+dplotbate'></span>

<h3>Description</h3>

<p>Histogram of bias adjusted treatment effect
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dplotbate(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dplotbate_+3A_data">data</code></td>
<td>
<p>A data frame that is the output from the &quot;ovbias&quot; function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot object created with ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Set limits for the bounded box
Rlow &lt;- parameters$Rtilde
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Not run: 
## Compute bias and bias-adjusted treatment effect
OVB &lt;- ovbias(
parameters = parameters, 
deltalow=deltalow, 
deltahigh=deltahigh, Rhigh=Rhigh, 
e=e)

## Histogram and density Plot of bstar distribution
p3 &lt;- dplotbate(OVB$Data)
print(p3)

## End(Not run)

</code></pre>

<hr>
<h2 id='expand_border'>Extend border of bounded box by +/- e</h2><span id='topic+expand_border'></span>

<h3>Description</h3>

<p>Extend border of bounded box by +/- e
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expand_border(parameters, deltalow, deltahigh, Rlow, Rhigh, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="expand_border_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="expand_border_+3A_deltalow">deltalow</code></td>
<td>
<p>The lower limit of delta.</p>
</td></tr>
<tr><td><code id="expand_border_+3A_deltahigh">deltahigh</code></td>
<td>
<p>The upper limit of delta.</p>
</td></tr>
<tr><td><code id="expand_border_+3A_rlow">Rlow</code></td>
<td>
<p>The lower limit of Rmax.</p>
</td></tr>
<tr><td><code id="expand_border_+3A_rhigh">Rhigh</code></td>
<td>
<p>The upper limit of Rmax.</p>
</td></tr>
<tr><td><code id="expand_border_+3A_e">e</code></td>
<td>
<p>The step size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame.
</p>

<hr>
<h2 id='get_border'>Identify all border points in a region</h2><span id='topic+get_border'></span>

<h3>Description</h3>

<p>Identify all border points in a region
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_border(region, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_border_+3A_region">region</code></td>
<td>
<p>A data frame containing the x and y coordinates of the region.</p>
</td></tr>
<tr><td><code id="get_border_+3A_e">e</code></td>
<td>
<p>The step size of the grid in the x and y directions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the x and y coordinates of the border points of the region.
</p>

<hr>
<h2 id='mycubic'>Compute roots of the cubic equation</h2><span id='topic+mycubic'></span>

<h3>Description</h3>

<p>Compute roots of the cubic equation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mycubic(parameters, mydelta, Rmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mycubic_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="mycubic_+3A_mydelta">mydelta</code></td>
<td>
<p>Value of delta (real number).</p>
</td></tr>
<tr><td><code id="mycubic_+3A_rmax">Rmax</code></td>
<td>
<p>Value of Rmax (real number).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing the three roots of the cubic equation defined by the parameters, delta and Rmax.
</p>

<hr>
<h2 id='mydisc'>Evaluates discriminant of the cubic equation</h2><span id='topic+mydisc'></span>

<h3>Description</h3>

<p>Evaluates discriminant of the cubic equation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mydisc(parameters, mydelta, Rmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mydisc_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="mydisc_+3A_mydelta">mydelta</code></td>
<td>
<p>The value of delta (real number).</p>
</td></tr>
<tr><td><code id="mydisc_+3A_rmax">Rmax</code></td>
<td>
<p>The value of Rmax (real number)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a value of 0 or 1; 0 (if discriminant is positive) and 1 (if discriminant is nonpositive)
</p>

<hr>
<h2 id='NLSY_BW'>NLSY Birth Weight.</h2><span id='topic+NLSY_BW'></span>

<h3>Description</h3>

<p>NLSY data to analyse the effect of maternal behaviour on
children's birth weight. Natality detail files are from 2001 and 2002.
Data is from the NLSY Children and Young Adults panel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLSY_BW
</code></pre>


<h3>Format</h3>

<p>A data frame with 7686 observations on 13 variables:
</p>

<dl>
<dt><code>birth_wt</code></dt><dd><p>birth weight, grams</p>
</dd>
<dt><code>BF_months</code></dt><dd><p>months of breast feeding</p>
</dd>
<dt><code>mom_drink_preg_all</code></dt><dd><p>did the mother drink at all during pregnancy</p>
</dd>
<dt><code>lbw_preterm</code></dt><dd><p>low birth weight + preterm</p>
</dd>
<dt><code>age</code></dt><dd><p>age of child</p>
</dd>
<dt><code>female</code></dt><dd><p>child female</p>
</dd>
<dt><code>black</code></dt><dd><p>mother black</p>
</dd>
<dt><code>motherAge</code></dt><dd><p>age of mother</p>
</dd>
<dt><code>motherEDU</code></dt><dd><p>years of schooling of mother</p>
</dd>
<dt><code>mom_married</code></dt><dd><p>is the mother married?</p>
</dd>
<dt><code>income</code></dt><dd><p>annual income of mother</p>
</dd>
<dt><code>sex</code></dt><dd><p>years of schooling of mother</p>
</dd>
<dt><code>race</code></dt><dd><p>race of mother</p>
</dd>
<dt><code>gesweek</code></dt><dd><p>gestation week</p>
</dd>
<dt><code>any_smoke</code></dt><dd><p>did the mother smoke at all during pregnancy</p>
</dd>
</dl>

<p>Source: <a href="https://drive.google.com/file/d/1O1W9dP8F3B1DnAZGBegpoqCfysUrn7Uc/view?usp=sharing">https://drive.google.com/file/d/1O1W9dP8F3B1DnAZGBegpoqCfysUrn7Uc/view?usp=sharing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_BW")
## See names of variables
names(NLSY_BW)

</code></pre>

<hr>
<h2 id='NLSY_IQ'>NLSY IQ.</h2><span id='topic+NLSY_IQ'></span>

<h3>Description</h3>

<p>NLSY data to analyse the effect of maternal behaviour on
children's IQ score. Natality detail files are from 2001 and 2002.
Data is from the NLSY Children and Young Adults panel.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NLSY_IQ
</code></pre>


<h3>Format</h3>

<p>A data frame with 6514 observations on 13 variables:
</p>

<dl>
<dt><code>iq_std</code></dt><dd><p>standardized IQ score, PIAT score</p>
</dd>
<dt><code>BF_months</code></dt><dd><p>months of breast feeding</p>
</dd>
<dt><code>mom_drink_preg_all</code></dt><dd><p>did mother drink at all during pregnancy</p>
</dd>
<dt><code>lbw_preterm</code></dt><dd><p>low birth weight + preterm</p>
</dd>
<dt><code>age</code></dt><dd><p>age of child</p>
</dd>
<dt><code>female</code></dt><dd><p>child female</p>
</dd>
<dt><code>black</code></dt><dd><p>mother black</p>
</dd>
<dt><code>motherAge</code></dt><dd><p>age of mother</p>
</dd>
<dt><code>motherEDU</code></dt><dd><p>years of schooling of mother</p>
</dd>
<dt><code>mom_married</code></dt><dd><p>is the mother married?</p>
</dd>
<dt><code>income</code></dt><dd><p>annual income of mother</p>
</dd>
<dt><code>sex</code></dt><dd><p>child sex</p>
</dd>
<dt><code>race</code></dt><dd><p>race of mother</p>
</dd>
</dl>

<p>Source: <a href="https://drive.google.com/file/d/1O1W9dP8F3B1DnAZGBegpoqCfysUrn7Uc/view?usp=sharing">https://drive.google.com/file/d/1O1W9dP8F3B1DnAZGBegpoqCfysUrn7Uc/view?usp=sharing</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
## See names of variables
names(NLSY_IQ)

</code></pre>

<hr>
<h2 id='osterbds'>Computes identified set according to Oster (2019)</h2><span id='topic+osterbds'></span>

<h3>Description</h3>

<p>Computes identified set according to Oster (2019)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osterbds(parameters, Rmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osterbds_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters that is generated after estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="osterbds_+3A_rmax">Rmax</code></td>
<td>
<p>A real number which lies between Rtilde (R-squared for the intermediate regression) and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns:
</p>
<table>
<tr><td><code>Discriminant</code></td>
<td>
<p>The value of the discriminant of the quadratic equation that is solved to generate the identified set</p>
</td></tr>
<tr><td><code>Interval1</code></td>
<td>
<p>The interval formed with the first root of the quadratic equation</p>
</td></tr>
<tr><td><code>Interval2</code></td>
<td>
<p>The interval formed with the first root of the quadratic equation</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Oster's method: bounding sets when Rmax=0.61
osterbds(parameters = parameters, Rmax=0.61)

</code></pre>

<hr>
<h2 id='osterdelstar'>Computes delta* according to Oster (2019)</h2><span id='topic+osterdelstar'></span>

<h3>Description</h3>

<p>Computes delta* according to Oster (2019)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>osterdelstar(parameters, Rmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="osterdelstar_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters that is generated after estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="osterdelstar_+3A_rmax">Rmax</code></td>
<td>
<p>A real number that lies between Rtilde (R-squared for the intermediate regression) and 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with three columns:
</p>
<table>
<tr><td><code>delstar</code></td>
<td>
<p>The value of delta for the chosen value of Rmax</p>
</td></tr>
<tr><td><code>discontinuity</code></td>
<td>
<p>Indicates whether the point of discontinuity is within the interval formed by Rtilde and 1</p>
</td></tr>
<tr><td><code>slope</code></td>
<td>
<p>Slope of the function, delta=f(Rmax)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Oster's method: delta* (for Rmax=0.61)
osterdelstar(parameters = parameters, Rmax=0.61)

</code></pre>

<hr>
<h2 id='ovbias'>Compute bias adjusted treatment effect taking parameter vector as input.</h2><span id='topic+ovbias'></span>

<h3>Description</h3>

<p>Compute bias adjusted treatment effect taking parameter vector as input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ovbias(parameters, deltalow, deltahigh, Rhigh, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ovbias_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="ovbias_+3A_deltalow">deltalow</code></td>
<td>
<p>The lower limit of delta.</p>
</td></tr>
<tr><td><code id="ovbias_+3A_deltahigh">deltahigh</code></td>
<td>
<p>The upper limit of delta.</p>
</td></tr>
<tr><td><code id="ovbias_+3A_rhigh">Rhigh</code></td>
<td>
<p>The upper limit of Rmax.</p>
</td></tr>
<tr><td><code id="ovbias_+3A_e">e</code></td>
<td>
<p>The step size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with three elements:
</p>
<table>
<tr><td><code>Data</code></td>
<td>
<p>Data frame containing the bias ($bias) and bias-adjusted treatment effect ($bstar) for each point on the grid</p>
</td></tr>
<tr><td><code>bias_Distribution</code></td>
<td>
<p>Quantiles (2.5,5.0,50,95,97.5) of the empirical distribution of bias</p>
</td></tr>
<tr><td><code>bstar_Distribution</code></td>
<td>
<p>Quantiles (2.5,5.0,50,95,97.5) of the empirical distribution of the bias-adjusted treatment effect</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Set limits for the bounded box
Rlow &lt;- parameters$Rtilde
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Not run: 
## Compute bias and bias-adjusted treatment effect
OVB &lt;- ovbias(
parameters = parameters, 
deltalow=deltalow, 
deltahigh=deltahigh, Rhigh=Rhigh, 
e=e)

## Default quantiles of bias
(OVB$bias_Distribution)

## Chosen quantilesof bias
quantile(OVB$Data$bias, c(0.01,0.05,0.1,0.9,0.95,0.975))

## Default quantiles of bias-adjusted treatment effect
(OVB$bstar_Distribution)

## Chosen quantiles of bias-adjusted treatment effect
quantile(OVB$Data$bstar, c(0.01,0.05,0.1,0.9,0.95,0.975))

## End(Not run)

</code></pre>

<hr>
<h2 id='ovbias_lm'>Compute bias adjusted treatment effect taking three lm objects as input.</h2><span id='topic+ovbias_lm'></span>

<h3>Description</h3>

<p>Compute bias adjusted treatment effect taking three lm objects as input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ovbias_lm(lm_shrt, lm_int, lm_aux, deltalow, deltahigh, Rhigh, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ovbias_lm_+3A_lm_shrt">lm_shrt</code></td>
<td>
<p>lm object corresponding to the short regression</p>
</td></tr>
<tr><td><code id="ovbias_lm_+3A_lm_int">lm_int</code></td>
<td>
<p>lm object corresponding to the intermediate regression</p>
</td></tr>
<tr><td><code id="ovbias_lm_+3A_lm_aux">lm_aux</code></td>
<td>
<p>lm object corresponding to the auxiliary regression</p>
</td></tr>
<tr><td><code id="ovbias_lm_+3A_deltalow">deltalow</code></td>
<td>
<p>The lower limit of delta</p>
</td></tr>
<tr><td><code id="ovbias_lm_+3A_deltahigh">deltahigh</code></td>
<td>
<p>The upper limit of delta</p>
</td></tr>
<tr><td><code id="ovbias_lm_+3A_rhigh">Rhigh</code></td>
<td>
<p>The upper limit of Rmax</p>
</td></tr>
<tr><td><code id="ovbias_lm_+3A_e">e</code></td>
<td>
<p>The step size</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with three elements:
</p>
<table>
<tr><td><code>Data</code></td>
<td>
<p>Data frame containing the bias and bias-adjusted treatment effect for each point on the grid</p>
</td></tr>
<tr><td><code>bias_Distribution</code></td>
<td>
<p>Quantiles (2.5,5.0,50,95,97.5) of the empirical distribution of bias</p>
</td></tr>
<tr><td><code>bstar_Distribution</code></td>
<td>
<p>Quantiles (2.5,5.0,50,95,97.5) of the empirical distribution of the bias-adjusted treatment effect</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)

## Short regression
reg_s &lt;- lm(iq_std ~ BF_months + factor(age) + sex, data = NLSY_IQ)

## Intermediate regression
reg_i &lt;- lm(iq_std ~ BF_months + 
factor(age) + sex + income + motherAge + 
motherEDU + mom_married + factor(race),
data = NLSY_IQ)

## Auxiliary regression
reg_a &lt;- lm(BF_months ~ factor(age) + 
sex + income + motherAge + motherEDU + 
mom_married + factor(race), data = NLSY_IQ)

## Set limits for the bounded box
Rlow &lt;- summary(reg_i)$r.squared
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Not run: 
## Compute bias and bias-adjusted treatment effect
ovb_lm &lt;- ovbias_lm(lm_shrt = reg_s,lm_int = reg_i, 
lm_aux = reg_a, deltalow=deltalow, deltahigh=deltahigh, 
Rhigh=Rhigh, e=e)

## Default quantiles of bias
ovb_lm$bias_Distribution

# Default quantiles of bias-adjusted treatment effect
ovb_lm$bstar_Distribution

## End(Not run)

</code></pre>

<hr>
<h2 id='ovbias_par'>Compute bias adjusted treatment effect taking data frame as input.</h2><span id='topic+ovbias_par'></span>

<h3>Description</h3>

<p>Compute bias adjusted treatment effect taking data frame as input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ovbias_par(
  data,
  outcome,
  treatment,
  control,
  other_regressors = NULL,
  deltalow,
  deltahigh,
  Rhigh,
  e
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ovbias_par_+3A_data">data</code></td>
<td>
<p>Data frame.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_outcome">outcome</code></td>
<td>
<p>Outcome variable.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_treatment">treatment</code></td>
<td>
<p>Treatment variable.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_control">control</code></td>
<td>
<p>Control variables to add in the intermediate regression.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_other_regressors">other_regressors</code></td>
<td>
<p>Subset of control variables to add in the short regression (default is NULL).</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_deltalow">deltalow</code></td>
<td>
<p>The lower limit of delta.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_deltahigh">deltahigh</code></td>
<td>
<p>The upper limit of delta.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_rhigh">Rhigh</code></td>
<td>
<p>The upper limit of Rmax.</p>
</td></tr>
<tr><td><code id="ovbias_par_+3A_e">e</code></td>
<td>
<p>The step size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with three elements:
</p>
<table>
<tr><td><code>Data</code></td>
<td>
<p>Data frame containing the bias and bias-adjusted treatment effect for each point on the grid</p>
</td></tr>
<tr><td><code>bias_Distribution</code></td>
<td>
<p>Quantiles (2.5,5.0,50,95,97.5) of the empirical distribution of bias</p>
</td></tr>
<tr><td><code>bstar_Distribution</code></td>
<td>
<p>Quantiles (2.5,5.0,50,95,97.5) of the empirical distribution of the bias-adjusted treatment effect</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Load data set
data("NLSY_IQ")
 
## Set parameters for bounded box
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Not run: 
## Compute bias and bias-adjusted treatment effect
OVB_par &lt;- ovbias_par(data=NLSY_IQ,
outcome="iq_std",treatment="BF_months", 
control=c("age","sex","income","motherAge","motherEDU","mom_married","race"), 
other_regressors = c("sex","age"), deltalow=deltalow, 
deltahigh=deltahigh, Rhigh=Rhigh, e=e)

## Default quantiles of bias
OVB_par$bias_Distribution

# Default quantiles of bias-adjusted treatment effect
OVB_par$bstar_Distribution

## End(Not run)

</code></pre>

<hr>
<h2 id='partocoef'>Returns coefficients of the cubic equation</h2><span id='topic+partocoef'></span>

<h3>Description</h3>

<p>Returns coefficients of the cubic equation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>partocoef(parameters, mydelta, Rmax)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="partocoef_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="partocoef_+3A_mydelta">mydelta</code></td>
<td>
<p>The value of delta (real number)</p>
</td></tr>
<tr><td><code id="partocoef_+3A_rmax">Rmax</code></td>
<td>
<p>The value of Rmax (real number)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the coefficients of the cubic equation.
</p>

<hr>
<h2 id='selectroot'>Select root of the cubic based on the root of a nearest point</h2><span id='topic+selectroot'></span>

<h3>Description</h3>

<p>Select root of the cubic based on the root of a nearest point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selectroot(parameters, mydelta, Rmax, closest_bias)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="selectroot_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="selectroot_+3A_mydelta">mydelta</code></td>
<td>
<p>The value of delta (real number).</p>
</td></tr>
<tr><td><code id="selectroot_+3A_rmax">Rmax</code></td>
<td>
<p>The value of Rmax (real number).</p>
</td></tr>
<tr><td><code id="selectroot_+3A_closest_bias">closest_bias</code></td>
<td>
<p>The value of bias at the nearest point.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame
</p>

<hr>
<h2 id='split_nurr'>Split a region into two parts</h2><span id='topic+split_nurr'></span>

<h3>Description</h3>

<p>Split a region into two parts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>split_nurr(region1, region2, epsilon, parameters, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="split_nurr_+3A_region1">region1</code></td>
<td>
<p>Data frame with coordinates for region 1</p>
</td></tr>
<tr><td><code id="split_nurr_+3A_region2">region2</code></td>
<td>
<p>Data frame with coordinates for region 2</p>
</td></tr>
<tr><td><code id="split_nurr_+3A_epsilon">epsilon</code></td>
<td>
<p>Closest distance</p>
</td></tr>
<tr><td><code id="split_nurr_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="split_nurr_+3A_e">e</code></td>
<td>
<p>The step size of the grid in the x and y directions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List, where first element is region within epsilon distance of region 1 and second element which is region which is not within epsilon distance of region 1.
</p>

<hr>
<h2 id='urrplot'>Region plot to demarcate URR and NURR for the bounded box</h2><span id='topic+urrplot'></span>

<h3>Description</h3>

<p>Region plot to demarcate URR and NURR for the bounded box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>urrplot(parameters, deltalow, deltahigh, Rlow, Rhigh, e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="urrplot_+3A_parameters">parameters</code></td>
<td>
<p>A vector of parameters (real numbers) that is generated by estimating the short, intermediate and auxiliary regressions.</p>
</td></tr>
<tr><td><code id="urrplot_+3A_deltalow">deltalow</code></td>
<td>
<p>The lower limit for delta.</p>
</td></tr>
<tr><td><code id="urrplot_+3A_deltahigh">deltahigh</code></td>
<td>
<p>The upper limit for delta.</p>
</td></tr>
<tr><td><code id="urrplot_+3A_rlow">Rlow</code></td>
<td>
<p>The lower limit for Rmax.</p>
</td></tr>
<tr><td><code id="urrplot_+3A_rhigh">Rhigh</code></td>
<td>
<p>The upper limit for Rmax.</p>
</td></tr>
<tr><td><code id="urrplot_+3A_e">e</code></td>
<td>
<p>The step size of the grid in the x and y directions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot object created by ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Load data set
data("NLSY_IQ")
 
## Set age and race as factor variables
NLSY_IQ$age &lt;- factor(NLSY_IQ$age)
NLSY_IQ$race &lt;- factor(NLSY_IQ$race)
   
## Collect parameters from the short, intermediate and auxiliary regressions
parameters &lt;- collect_par(
data = NLSY_IQ, outcome = "iq_std", 
treatment = "BF_months", 
control = c("age","sex","income","motherAge","motherEDU","mom_married","race"),
other_regressors = c("sex","age"))

## Set limits for the bounded box
Rlow &lt;- parameters$Rtilde
Rhigh &lt;- 0.61
deltalow &lt;- 0.01
deltahigh &lt;- 0.99
e &lt;- 0.01

## Create region plot for bounded box
p1 &lt;- urrplot(parameters, deltalow, deltahigh, Rlow, Rhigh, e=e)

## See plot
print(p1)
 
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package konfound</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {konfound}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#binary_dummy_data'><p>Binary dummy data</p></a></li>
<li><a href='#cal_delta_star'><p>Calculate delta star for sensitivity analysis</p></a></li>
<li><a href='#cal_rxy'><p>Calculate rxy based on ryxGz, rxz, and ryz</p></a></li>
<li><a href='#cal_rxz'><p>Calculate R2xz based on variances and standard error</p></a></li>
<li><a href='#cal_ryz'><p>Calculate R2yz based on ryxGz and R2</p></a></li>
<li><a href='#chisq_p'><p>Perform a Chi-Square Test</p></a></li>
<li><a href='#concord1'><p>Concord1 data</p></a></li>
<li><a href='#get_kr_df'><p>Extract Degrees of Freedom for Fixed Effects in a Linear Mixed-Effects Model</p></a></li>
<li><a href='#konfound'><p>Konfound Analysis for Various Model Types</p></a></li>
<li><a href='#konfound_glm'><p>Konfound Analysis for Generalized Linear Models</p></a></li>
<li><a href='#konfound_glm_dichotomous'><p>Konfound Analysis for Generalized Linear Models with Dichotomous Outcomes</p></a></li>
<li><a href='#konfound_lm'><p>Konfound Analysis for Linear Models</p></a></li>
<li><a href='#konfound_lmer'><p>Konfound Analysis for Linear Mixed-Effects Models</p></a></li>
<li><a href='#mkonfound'><p>Meta-Analysis and Sensitivity Analysis for Multiple Studies</p></a></li>
<li><a href='#mkonfound_ex'><p>Example data for the mkonfound function</p></a></li>
<li><a href='#output_df'><p>Output data frame based on model estimates and thresholds</p></a></li>
<li><a href='#output_print'><p>Output printed text with formatting</p></a></li>
<li><a href='#output_table'><p>Output a Tidy Table from a Model Object</p></a></li>
<li><a href='#pkonfound'><p>Perform sensitivity analysis for published studies</p></a></li>
<li><a href='#plot_correlation'><p>Plot Correlation Diagram</p></a></li>
<li><a href='#plot_threshold'><p>Plot Effect Threshold Diagram</p></a></li>
<li><a href='#tkonfound'><p>Perform Sensitivity Analysis on 2x2 Tables</p></a></li>
<li><a href='#tkonfound_fig'><p>Draw Figures for Change in Effect Size in 2x2 Tables</p></a></li>
<li><a href='#verify_reg_Gzcv'><p>Verify regression model with control variable Z</p></a></li>
<li><a href='#verify_reg_uncond'><p>Verify unconditional regression model</p></a></li>
<li><a href='#zzz'><p>Package Initialization Functions and Utilities</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Quantify the Robustness of Causal Inferences</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Statistical methods that quantify the conditions necessary to
    alter inferences, also known as sensitivity analysis, are becoming
    increasingly important to a variety of quantitative sciences. A series
    of recent works, including Frank (2000)
    &lt;<a href="https://doi.org/10.1177%2F0049124100029002001">doi:10.1177/0049124100029002001</a>&gt; and Frank et al. (2013)
    &lt;<a href="https://doi.org/10.3102%2F0162373713493129">doi:10.3102/0162373713493129</a>&gt; extend previous sensitivity analyses by
    considering the characteristics of omitted variables or unobserved
    cases that would change an inference if such variables or cases were
    observed. These analyses generate statements such as "an omitted
    variable would have to be correlated at xx with the predictor of
    interest (e.g., the treatment) and outcome to invalidate an inference of a
    treatment effect". Or "one would have to replace pp percent of the
    observed data with nor which the treatment had no effect to invalidate the 
    inference".
    We implement these recent developments of sensitivity analysis and
    provide modules to calculate these two robustness indices and generate
    such statements in R. In particular, the functions konfound(),
    pkonfound() and mkonfound() allow users to calculate the robustness of
    inferences for a user's own model, a single published study and
    multiple studies respectively.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/konfound-project/konfound">https://github.com/konfound-project/konfound</a>,
<a href="https://konfound-it.org/konfound/">https://konfound-it.org/konfound/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/konfound-project/konfound/issues">https://github.com/konfound-project/konfound/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>broom, broom.mixed, crayon, dplyr, ggplot2, lavaan, purrr,
rlang, tidyr, lme4 (&ge; 1.1-35.1), tibble, ggrepel, pbkrtest</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, devtools, forcats, knitr, rmarkdown, mice, roxygen2,
testthat, Matrix (&ge; 1.6-2)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-10-17 14:42:31 UTC; jrosenb8</td>
</tr>
<tr>
<td>Author:</td>
<td>Joshua M Rosenberg [aut, cre],
  Ran Xu [ctb],
  Qinyun Lin [ctb],
  Spiro Maroulis [ctb],
  Sarah Narvaiz [ctb],
  Kenneth A Frank [ctb],
  Wei Wang [ctb],
  Yunhe Cui [ctb],
  Gaofei Zhang [ctb],
  Xuesen Cheng [ctb],
  JiHoon Choi [ctb],
  Guan Saw [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joshua M Rosenberg &lt;jmrosen48@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-10-17 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='binary_dummy_data'>Binary dummy data</h2><span id='topic+binary_dummy_data'></span>

<h3>Description</h3>

<p>This data is made-up data for use in examples.
</p>


<h3>Format</h3>

<p>A data.frame with 107 rows and 3 variables.
</p>

<hr>
<h2 id='cal_delta_star'>Calculate delta star for sensitivity analysis</h2><span id='topic+cal_delta_star'></span>

<h3>Description</h3>

<p>Calculate delta star for sensitivity analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cal_delta_star(
  FR2max,
  R2,
  R2_uncond,
  est_eff,
  eff_thr,
  var_x,
  var_y,
  est_uncond,
  rxz,
  n_obs
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cal_delta_star_+3A_fr2max">FR2max</code></td>
<td>
<p>maximum R2</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_r2">R2</code></td>
<td>
<p>current R2</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_r2_uncond">R2_uncond</code></td>
<td>
<p>unconditional R2</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_est_eff">est_eff</code></td>
<td>
<p>estimated effect</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_eff_thr">eff_thr</code></td>
<td>
<p>effect threshold</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_var_x">var_x</code></td>
<td>
<p>variance of X</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_var_y">var_y</code></td>
<td>
<p>variance of Y</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_est_uncond">est_uncond</code></td>
<td>
<p>unconditional estimate</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_rxz">rxz</code></td>
<td>
<p>correlation coefficient between X and Z</p>
</td></tr>
<tr><td><code id="cal_delta_star_+3A_n_obs">n_obs</code></td>
<td>
<p>number of observations</p>
</td></tr>
</table>


<h3>Value</h3>

<p>delta star value
</p>

<hr>
<h2 id='cal_rxy'>Calculate rxy based on ryxGz, rxz, and ryz</h2><span id='topic+cal_rxy'></span>

<h3>Description</h3>

<p>Calculate rxy based on ryxGz, rxz, and ryz
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cal_rxy(ryxGz, rxz, ryz)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cal_rxy_+3A_ryxgz">ryxGz</code></td>
<td>
<p>correlation coefficient between Y and X given Z</p>
</td></tr>
<tr><td><code id="cal_rxy_+3A_rxz">rxz</code></td>
<td>
<p>correlation coefficient between X and Z</p>
</td></tr>
<tr><td><code id="cal_rxy_+3A_ryz">ryz</code></td>
<td>
<p>correlation coefficient between Y and Z</p>
</td></tr>
</table>


<h3>Value</h3>

<p>rxy value
</p>

<hr>
<h2 id='cal_rxz'>Calculate R2xz based on variances and standard error</h2><span id='topic+cal_rxz'></span>

<h3>Description</h3>

<p>Calculate R2xz based on variances and standard error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cal_rxz(var_x, var_y, R2, df, std_err)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cal_rxz_+3A_var_x">var_x</code></td>
<td>
<p>variance of X</p>
</td></tr>
<tr><td><code id="cal_rxz_+3A_var_y">var_y</code></td>
<td>
<p>variance of Y</p>
</td></tr>
<tr><td><code id="cal_rxz_+3A_r2">R2</code></td>
<td>
<p>coefficient of determination</p>
</td></tr>
<tr><td><code id="cal_rxz_+3A_df">df</code></td>
<td>
<p>degrees of freedom</p>
</td></tr>
<tr><td><code id="cal_rxz_+3A_std_err">std_err</code></td>
<td>
<p>standard error</p>
</td></tr>
</table>


<h3>Value</h3>

<p>R2xz value
</p>

<hr>
<h2 id='cal_ryz'>Calculate R2yz based on ryxGz and R2</h2><span id='topic+cal_ryz'></span>

<h3>Description</h3>

<p>Calculate R2yz based on ryxGz and R2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cal_ryz(ryxGz, R2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cal_ryz_+3A_ryxgz">ryxGz</code></td>
<td>
<p>correlation coefficient between Y and X given Z</p>
</td></tr>
<tr><td><code id="cal_ryz_+3A_r2">R2</code></td>
<td>
<p>coefficient of determination</p>
</td></tr>
</table>


<h3>Value</h3>

<p>R2yz value
</p>

<hr>
<h2 id='chisq_p'>Perform a Chi-Square Test</h2><span id='topic+chisq_p'></span>

<h3>Description</h3>

<p>'chisq_p' calculates the p-value for a chi-square test given a contingency table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chisq_p(a, b, c, d)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chisq_p_+3A_a">a</code></td>
<td>
<p>Frequency count for row 1, column 1.</p>
</td></tr>
<tr><td><code id="chisq_p_+3A_b">b</code></td>
<td>
<p>Frequency count for row 1, column 2.</p>
</td></tr>
<tr><td><code id="chisq_p_+3A_c">c</code></td>
<td>
<p>Frequency count for row 2, column 1.</p>
</td></tr>
<tr><td><code id="chisq_p_+3A_d">d</code></td>
<td>
<p>Frequency count for row 2, column 2.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>P-value from the chi-square test.
</p>

<hr>
<h2 id='concord1'>Concord1 data</h2><span id='topic+concord1'></span>

<h3>Description</h3>

<p>This data is from Hamilton (1983)
</p>


<h3>Format</h3>

<p>A data.frame with 496 rows and 10 variables.
</p>


<h3>References</h3>

<p>Hamilton, Lawrence C. 1983. Saving water: 
A causal model of household conservation. 
Sociological Perspectives 26(4):355-374.
</p>

<hr>
<h2 id='get_kr_df'>Extract Degrees of Freedom for Fixed Effects in a Linear Mixed-Effects Model</h2><span id='topic+get_kr_df'></span>

<h3>Description</h3>

<p>Extract Degrees of Freedom for Fixed Effects in a Linear Mixed-Effects Model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_kr_df(model_object)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_kr_df_+3A_model_object">model_object</code></td>
<td>
<p>The mixed-effects model object produced by lme4::lmer.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing degrees of freedom for the fixed effects in the model.
</p>

<hr>
<h2 id='konfound'>Konfound Analysis for Various Model Types</h2><span id='topic+konfound'></span>

<h3>Description</h3>

<p>Performs sensitivity analysis on fitted models including
linear models ('lm'), generalized linear models ('glm'),
and linear mixed-effects models ('lmerMod').
It calculates the amount of bias required to invalidate or
sustain an inference,and the impact of an omitted variable
necessary to affect the inference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>konfound(
  model_object,
  tested_variable,
  alpha = 0.05,
  tails = 2,
  index = "RIR",
  to_return = "print",
  two_by_two = FALSE,
  n_treat = NULL,
  switch_trm = TRUE,
  replace = "control"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="konfound_+3A_model_object">model_object</code></td>
<td>
<p>A model object produced by 'lm', 'glm', or 'lme4::lmer'.</p>
</td></tr>
<tr><td><code id="konfound_+3A_tested_variable">tested_variable</code></td>
<td>
<p>Variable associated with the coefficient to be tested.</p>
</td></tr>
<tr><td><code id="konfound_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for hypothesis testing.</p>
</td></tr>
<tr><td><code id="konfound_+3A_tails">tails</code></td>
<td>
<p>Number of tails for the test (1 or 2).</p>
</td></tr>
<tr><td><code id="konfound_+3A_index">index</code></td>
<td>
<p>Type of sensitivity analysis ('RIR' by default).</p>
</td></tr>
<tr><td><code id="konfound_+3A_to_return">to_return</code></td>
<td>
<p>Type of output to return ('print', 'raw_output', 'table').</p>
</td></tr>
<tr><td><code id="konfound_+3A_two_by_two">two_by_two</code></td>
<td>
<p>Boolean; if 'TRUE', uses a 2x2 table approach
for 'glm' dichotomous variables.</p>
</td></tr>
<tr><td><code id="konfound_+3A_n_treat">n_treat</code></td>
<td>
<p>Number of treatment cases
(used only if 'two_by_two' is 'TRUE').</p>
</td></tr>
<tr><td><code id="konfound_+3A_switch_trm">switch_trm</code></td>
<td>
<p>Boolean; switch treatment and control in the analysis.</p>
</td></tr>
<tr><td><code id="konfound_+3A_replace">replace</code></td>
<td>
<p>Replacement method for treatment cases ('control' by default).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on 'to_return', prints the result, returns a raw output,
or a summary table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using lm() for linear models
m1 &lt;- lm(mpg ~ wt + hp, data = mtcars)
konfound(m1, wt)
konfound(m1, wt, to_return = "table")

# using glm() for non-linear models
if (requireNamespace("forcats")) {
  d &lt;- forcats::gss_cat

  d$married &lt;- ifelse(d$marital == "Married", 1, 0)

  m2 &lt;- glm(married ~ age, data = d, family = binomial(link = "logit"))
  konfound(m2, age)
}

# using lme4 for mixed effects (or multi-level) models
if (requireNamespace("lme4")) {
  library(lme4)
  m3 &lt;- fm1 &lt;- lme4::lmer(Reaction ~ Days + (1 | Subject), sleepstudy)
  konfound(m3, Days)
}

m4 &lt;- glm(outcome ~ condition, data = binary_dummy_data, family = binomial(link = "logit"))
konfound(m4, condition, two_by_two = TRUE, n_treat = 55)

</code></pre>

<hr>
<h2 id='konfound_glm'>Konfound Analysis for Generalized Linear Models</h2><span id='topic+konfound_glm'></span>

<h3>Description</h3>

<p>This function performs konfound analysis on a generalized linear model
object. It uses 'broom' to tidy model outputs and calculates the sensitivity
of inferences. It supports analysis for a single variable
or multiple variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>konfound_glm(
  model_object,
  tested_variable_string,
  alpha,
  tails,
  index = "RIR",
  to_return
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="konfound_glm_+3A_model_object">model_object</code></td>
<td>
<p>The model object produced by glm.</p>
</td></tr>
<tr><td><code id="konfound_glm_+3A_tested_variable_string">tested_variable_string</code></td>
<td>
<p>The name of the variable being tested.</p>
</td></tr>
<tr><td><code id="konfound_glm_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for hypothesis testing.</p>
</td></tr>
<tr><td><code id="konfound_glm_+3A_tails">tails</code></td>
<td>
<p>Number of tails for the test (1 or 2).</p>
</td></tr>
<tr><td><code id="konfound_glm_+3A_index">index</code></td>
<td>
<p>Type of sensitivity analysis ('RIR' by default).</p>
</td></tr>
<tr><td><code id="konfound_glm_+3A_to_return">to_return</code></td>
<td>
<p>The type of output to return.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results of the konfound analysis for the specified variable(s).
</p>

<hr>
<h2 id='konfound_glm_dichotomous'>Konfound Analysis for Generalized Linear Models with Dichotomous Outcomes</h2><span id='topic+konfound_glm_dichotomous'></span>

<h3>Description</h3>

<p>This function performs konfound analysis on a generalized linear model
object with a dichotomous outcome. It uses 'broom' to tidy model outputs
and calculates the sensitivity of inferences.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>konfound_glm_dichotomous(
  model_object,
  tested_variable_string,
  alpha,
  tails,
  to_return,
  n_treat,
  switch_trm,
  replace
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="konfound_glm_dichotomous_+3A_model_object">model_object</code></td>
<td>
<p>The model object produced by glm.</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_tested_variable_string">tested_variable_string</code></td>
<td>
<p>The name of the variable being tested.</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for hypothesis testing.</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_tails">tails</code></td>
<td>
<p>Number of tails for the test (1 or 2).</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_to_return">to_return</code></td>
<td>
<p>The type of output to return.</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_n_treat">n_treat</code></td>
<td>
<p>Number of treatment cases.</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_switch_trm">switch_trm</code></td>
<td>
<p>Term to switch for sensitivity analysis.</p>
</td></tr>
<tr><td><code id="konfound_glm_dichotomous_+3A_replace">replace</code></td>
<td>
<p>Boolean indicating whether to replace cases or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results of the konfound analysis.
</p>

<hr>
<h2 id='konfound_lm'>Konfound Analysis for Linear Models</h2><span id='topic+konfound_lm'></span>

<h3>Description</h3>

<p>This function performs konfound analysis on a linear model object
produced by lm.
It calculates the sensitivity of inferences for coefficients in the model.
It supports analysis for a single variable or multiple variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>konfound_lm(
  model_object,
  tested_variable_string,
  alpha,
  tails,
  index,
  to_return
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="konfound_lm_+3A_model_object">model_object</code></td>
<td>
<p>The linear model object produced by lm.</p>
</td></tr>
<tr><td><code id="konfound_lm_+3A_tested_variable_string">tested_variable_string</code></td>
<td>
<p>The name of the variable being tested.</p>
</td></tr>
<tr><td><code id="konfound_lm_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for hypothesis testing.</p>
</td></tr>
<tr><td><code id="konfound_lm_+3A_tails">tails</code></td>
<td>
<p>Number of tails for the test (1 or 2).</p>
</td></tr>
<tr><td><code id="konfound_lm_+3A_index">index</code></td>
<td>
<p>Type of sensitivity analysis ('RIR' by default).</p>
</td></tr>
<tr><td><code id="konfound_lm_+3A_to_return">to_return</code></td>
<td>
<p>The type of output to return.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results of the konfound analysis for the specified variable(s).
</p>

<hr>
<h2 id='konfound_lmer'>Konfound Analysis for Linear Mixed-Effects Models</h2><span id='topic+konfound_lmer'></span>

<h3>Description</h3>

<p>This function performs konfound analysis on a linear mixed-effects model
object produced by lme4::lmer. It calculates the sensitivity of inferences
for fixed effects in the model. It supports analysis for a single variable or multiple variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>konfound_lmer(
  model_object,
  tested_variable_string,
  test_all,
  alpha,
  tails,
  index,
  to_return
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="konfound_lmer_+3A_model_object">model_object</code></td>
<td>
<p>The mixed-effects model object produced by lme4::lmer.</p>
</td></tr>
<tr><td><code id="konfound_lmer_+3A_tested_variable_string">tested_variable_string</code></td>
<td>
<p>The name of the fixed effect being tested.</p>
</td></tr>
<tr><td><code id="konfound_lmer_+3A_test_all">test_all</code></td>
<td>
<p>Boolean indicating whether to test all fixed effects or not.</p>
</td></tr>
<tr><td><code id="konfound_lmer_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for hypothesis testing.</p>
</td></tr>
<tr><td><code id="konfound_lmer_+3A_tails">tails</code></td>
<td>
<p>Number of tails for the test (1 or 2).</p>
</td></tr>
<tr><td><code id="konfound_lmer_+3A_index">index</code></td>
<td>
<p>Type of sensitivity analysis ('RIR' by default).</p>
</td></tr>
<tr><td><code id="konfound_lmer_+3A_to_return">to_return</code></td>
<td>
<p>The type of output to return.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results of the konfound analysis for the specified fixed effect(s).
</p>

<hr>
<h2 id='mkonfound'>Meta-Analysis and Sensitivity Analysis for Multiple Studies</h2><span id='topic+mkonfound'></span>

<h3>Description</h3>

<p>Performs sensitivity analysis for multiple models, where parameters 
are stored in a data frame. It calculates the amount of bias required to 
invalidate or sustain an inference for each case in the data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mkonfound(d, t, df, alpha = 0.05, tails = 2, return_plot = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mkonfound_+3A_d">d</code></td>
<td>
<p>A data frame or tibble containing t-statistics and associated 
degrees of freedom.</p>
</td></tr>
<tr><td><code id="mkonfound_+3A_t">t</code></td>
<td>
<p>Column name or vector of t-statistics.</p>
</td></tr>
<tr><td><code id="mkonfound_+3A_df">df</code></td>
<td>
<p>Column name or vector of degrees of freedom associated 
with t-statistics.</p>
</td></tr>
<tr><td><code id="mkonfound_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for hypothesis testing.</p>
</td></tr>
<tr><td><code id="mkonfound_+3A_tails">tails</code></td>
<td>
<p>Number of tails for the test (1 or 2).</p>
</td></tr>
<tr><td><code id="mkonfound_+3A_return_plot">return_plot</code></td>
<td>
<p>Whether to return a plot of the percent bias 
(default is 'FALSE').</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on 'return_plot', either returns a data frame with 
analysis results or a plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mkonfound_ex
str(d)
mkonfound(mkonfound_ex, t, df)

## End(Not run)
</code></pre>

<hr>
<h2 id='mkonfound_ex'>Example data for the mkonfound function</h2><span id='topic+mkonfound_ex'></span>

<h3>Description</h3>

<p>A dataset containing t and df values from example studies from Educational Evaluation
and Policy Analysis (as detailed in Frank et al., 2013): 
https://drive.google.com/file/d/1aGhxGjvMvEPVAgOA8rrxvA97uUO5TTMe/view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mkonfound_ex
</code></pre>


<h3>Format</h3>

<p>A data frame with 30 rows and 2 variables:
</p>

<dl>
<dt>t</dt><dd><p>t value</p>
</dd>
<dt>df</dt><dd><p>degrees of freedom associated with the t value</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p><a href="https://drive.google.com/file/d/1aGhxGjvMvEPVAgOA8rrxvA97uUO5TTMe/view">https://drive.google.com/file/d/1aGhxGjvMvEPVAgOA8rrxvA97uUO5TTMe/view</a>
</p>

<hr>
<h2 id='output_df'>Output data frame based on model estimates and thresholds</h2><span id='topic+output_df'></span>

<h3>Description</h3>

<p>Output data frame based on model estimates and thresholds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>output_df(
  est_eff,
  beta_threshhold,
  unstd_beta,
  bias = NULL,
  sustain = NULL,
  recase,
  obs_r,
  critical_r,
  r_con,
  itcv,
  non_linear
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="output_df_+3A_est_eff">est_eff</code></td>
<td>
<p>estimated effect</p>
</td></tr>
<tr><td><code id="output_df_+3A_beta_threshhold">beta_threshhold</code></td>
<td>
<p>threshold for beta</p>
</td></tr>
<tr><td><code id="output_df_+3A_unstd_beta">unstd_beta</code></td>
<td>
<p>unstandardized beta value</p>
</td></tr>
<tr><td><code id="output_df_+3A_bias">bias</code></td>
<td>
<p>bias to change inference</p>
</td></tr>
<tr><td><code id="output_df_+3A_sustain">sustain</code></td>
<td>
<p>sustain to change inference</p>
</td></tr>
<tr><td><code id="output_df_+3A_recase">recase</code></td>
<td>
<p>number of cases to replace null</p>
</td></tr>
<tr><td><code id="output_df_+3A_obs_r">obs_r</code></td>
<td>
<p>observed correlation</p>
</td></tr>
<tr><td><code id="output_df_+3A_critical_r">critical_r</code></td>
<td>
<p>critical correlation</p>
</td></tr>
<tr><td><code id="output_df_+3A_r_con">r_con</code></td>
<td>
<p>correlation for omitted variable</p>
</td></tr>
<tr><td><code id="output_df_+3A_itcv">itcv</code></td>
<td>
<p>inferential threshold for confounding variable</p>
</td></tr>
<tr><td><code id="output_df_+3A_non_linear">non_linear</code></td>
<td>
<p>flag for non-linear models</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame with model information
</p>

<hr>
<h2 id='output_print'>Output printed text with formatting</h2><span id='topic+output_print'></span>

<h3>Description</h3>

<p>This function outputs printed text for various indices such as RIR
(Robustness of Inference to Replacement)
and IT (Impact Threshold for a Confounding Variable) with specific formatting
like bold, underline, and italic
using functions from the crayon package. It handles different scenarios based
on the effect difference,
beta threshold, and other parameters, providing formatted
output for each case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>output_print(
  n_covariates,
  est_eff,
  beta_threshhold,
  bias = NULL,
  sustain = NULL,
  nu,
  eff_thr,
  recase,
  obs_r,
  critical_r,
  r_con,
  itcv,
  alpha,
  index,
  far_bound,
  sdx = NA,
  sdy = NA,
  R2 = NA,
  rxcv = NA,
  rycv = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="output_print_+3A_n_covariates">n_covariates</code></td>
<td>
<p>number of covariates.</p>
</td></tr>
<tr><td><code id="output_print_+3A_est_eff">est_eff</code></td>
<td>
<p>The estimated effect.</p>
</td></tr>
<tr><td><code id="output_print_+3A_beta_threshhold">beta_threshhold</code></td>
<td>
<p>The threshold value of beta, used for
statistical significance determination.</p>
</td></tr>
<tr><td><code id="output_print_+3A_bias">bias</code></td>
<td>
<p>The percentage of the estimate that could be due to bias (optional).</p>
</td></tr>
<tr><td><code id="output_print_+3A_sustain">sustain</code></td>
<td>
<p>The percentage of the estimate necessary to sustain an inference (optional).</p>
</td></tr>
<tr><td><code id="output_print_+3A_nu">nu</code></td>
<td>
<p>The hypothesized effect size used in replacement analysis.</p>
</td></tr>
<tr><td><code id="output_print_+3A_eff_thr">eff_thr</code></td>
<td>
<p>Threshold for estimated effect.</p>
</td></tr>
<tr><td><code id="output_print_+3A_recase">recase</code></td>
<td>
<p>The number of cases that need to be replaced to change the inference.</p>
</td></tr>
<tr><td><code id="output_print_+3A_obs_r">obs_r</code></td>
<td>
<p>The observed correlation coefficient in the data.</p>
</td></tr>
<tr><td><code id="output_print_+3A_critical_r">critical_r</code></td>
<td>
<p>The critical correlation coefficient for statistical significance.</p>
</td></tr>
<tr><td><code id="output_print_+3A_r_con">r_con</code></td>
<td>
<p>The correlation coefficient of an omitted variable with both the outcome and the predictor.</p>
</td></tr>
<tr><td><code id="output_print_+3A_itcv">itcv</code></td>
<td>
<p>The impact threshold for a confounding variable.</p>
</td></tr>
<tr><td><code id="output_print_+3A_alpha">alpha</code></td>
<td>
<p>The level of statistical significance.</p>
</td></tr>
<tr><td><code id="output_print_+3A_index">index</code></td>
<td>
<p>A character string indicating the index for which the output is generated ('RIR' or 'IT').</p>
</td></tr>
<tr><td><code id="output_print_+3A_far_bound">far_bound</code></td>
<td>
<p>Indicator whether the threshold is towards the other side of nu or 0, by default is zero (same side), alternative is one (the other side).</p>
</td></tr>
<tr><td><code id="output_print_+3A_sdx">sdx</code></td>
<td>
<p>Standard deviation of x.</p>
</td></tr>
<tr><td><code id="output_print_+3A_sdy">sdy</code></td>
<td>
<p>Standard deviation of y.</p>
</td></tr>
<tr><td><code id="output_print_+3A_r2">R2</code></td>
<td>
<p>the unadjusted, original R2 in the observed function.</p>
</td></tr>
<tr><td><code id="output_print_+3A_rxcv">rxcv</code></td>
<td>
<p>the correlation between x and CV.</p>
</td></tr>
<tr><td><code id="output_print_+3A_rycv">rycv</code></td>
<td>
<p>the correlation between y and CV.</p>
</td></tr>
</table>

<hr>
<h2 id='output_table'>Output a Tidy Table from a Model Object</h2><span id='topic+output_table'></span>

<h3>Description</h3>

<p>This function takes a model object and the tested variable, 
tidies the model output using 'broom::tidy', 
calculates the impact threshold for confounding variables (ITCV) and impact 
for each covariate,and returns a rounded, tidy table of model outputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>output_table(model_object, tested_variable)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="output_table_+3A_model_object">model_object</code></td>
<td>
<p>A model object from which to generate the output.</p>
</td></tr>
<tr><td><code id="output_table_+3A_tested_variable">tested_variable</code></td>
<td>
<p>The variable being tested in the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tidy data frame containing model outputs, ITCV, 
and impacts for covariates.
</p>

<hr>
<h2 id='pkonfound'>Perform sensitivity analysis for published studies</h2><span id='topic+pkonfound'></span>

<h3>Description</h3>

<p>For published studies, this command calculates (1) how much bias there must be in an estimate to invalidate/sustain an inference; (2) the impact of an omitted variable necessary to invalidate/sustain an inference for a regression coefficient.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkonfound(
  est_eff,
  std_err,
  n_obs,
  n_covariates = 1,
  alpha = 0.05,
  tails = 2,
  index = "RIR",
  nu = 0,
  n_treat = NULL,
  switch_trm = TRUE,
  model_type = "ols",
  a = NULL,
  b = NULL,
  c = NULL,
  d = NULL,
  two_by_two_table = NULL,
  test = "fisher",
  replace = "control",
  sdx = NA,
  sdy = NA,
  R2 = NA,
  far_bound = 0,
  eff_thr = NA,
  FR2max = 0,
  FR2max_multiplier = 1.3,
  to_return = "print"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkonfound_+3A_est_eff">est_eff</code></td>
<td>
<p>the estimated effect (such as an unstandardized beta coefficient or a group mean difference)</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_std_err">std_err</code></td>
<td>
<p>the standard error of the estimate of the unstandardized regression coefficient</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_n_obs">n_obs</code></td>
<td>
<p>the number of observations in the sample</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_n_covariates">n_covariates</code></td>
<td>
<p>the number of covariates in the regression model</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_alpha">alpha</code></td>
<td>
<p>probability of rejecting the null hypothesis (defaults to 0.05)</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_tails">tails</code></td>
<td>
<p>integer whether hypothesis testing is one-tailed (1) or two-tailed (2; defaults to 2)</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_index">index</code></td>
<td>
<p>whether output is RIR or IT (impact threshold); defaults to &quot;RIR&quot;</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_nu">nu</code></td>
<td>
<p>what hypothesis to be tested; defaults to testing whether est_eff is significantly different from 0</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_n_treat">n_treat</code></td>
<td>
<p>the number of cases associated with the treatment condition; applicable only when model_type = &quot;logistic&quot;</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_switch_trm">switch_trm</code></td>
<td>
<p>whether to switch the treatment and control cases; defaults to FALSE; applicable only when model_type = &quot;logistic&quot;</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_model_type">model_type</code></td>
<td>
<p>the type of model being estimated; defaults to &quot;ols&quot; for a linear regression model; the other option is &quot;logistic&quot;</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_a">a</code></td>
<td>
<p>cell is the number of cases in the control group showing unsuccessful results</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_b">b</code></td>
<td>
<p>cell is the number of cases in the control group showing successful results</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_c">c</code></td>
<td>
<p>cell is the number of cases in the treatment group showing unsuccessful results</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_d">d</code></td>
<td>
<p>cell is the number of cases in the treatment group showing successful results</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_two_by_two_table">two_by_two_table</code></td>
<td>
<p>table that is a matrix or can be coerced to one (data.frame, tibble, tribble) from which the a, b, c, and d arguments can be extracted</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_test">test</code></td>
<td>
<p>whether using Fisher's Exact Test or A chi-square test; defaults to Fisher's Exact Test</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_replace">replace</code></td>
<td>
<p>whether using entire sample or the control group to calculate the base rate; default is control</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_sdx">sdx</code></td>
<td>
<p>the standard deviation of X</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_sdy">sdy</code></td>
<td>
<p>the standard deviation of Y</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_r2">R2</code></td>
<td>
<p>the unadjusted, original R2 in the observed function</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_far_bound">far_bound</code></td>
<td>
<p>whether the estimated effect is moved to the boundary closer (default 0) or further away (1);</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_eff_thr">eff_thr</code></td>
<td>
<p>for RIR: unstandardized coefficient threshold to change an inference; for IT: correlation defining the threshold for inference</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_fr2max">FR2max</code></td>
<td>
<p>the largest R2, or R2max, in the final model with unobserved confounder</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_fr2max_multiplier">FR2max_multiplier</code></td>
<td>
<p>the multiplier of R2 to get R2max, default is set to 1.3</p>
</td></tr>
<tr><td><code id="pkonfound_+3A_to_return">to_return</code></td>
<td>
<p>whether to return a data.frame (by specifying this argument to equal &quot;raw_output&quot; for use in other analyses) or a plot (&quot;plot&quot;); default is to print (&quot;print&quot;) the output to the console; can specify a vector of output to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>pkonfound prints the bias and the number of cases that would have to be replaced with cases for which there is no effect to nullify the inference. If to_return = &quot;raw_output,&quot; a list will be given with the following components:
</p>

<dl>
<dt>obs_r</dt><dd><p>correlation between predictor of interest (X) and outcome (Y) in the sample data.</p>
</dd>
<dt>act_r</dt><dd><p>correlation between predictor of interest (X) and outcome (Y) from the sample regression based on the t-ratio accounting for non-zero null hypothesis.</p>
</dd>
<dt>critical_r</dt><dd><p>critical correlation value at which the inference would be nullified (e.g., associated with p=.05).</p>
</dd>
<dt>r_final</dt><dd><p>final correlation value given CV. Should be equal to critical_r.</p>
</dd>
<dt>rxcv</dt><dd><p>correlation between predictor of interest (X) and CV necessary to nullify the inference for smallest impact.</p>
</dd>
<dt>rycv</dt><dd><p>correlation between outcome (Y) and CV necessary to nullify the inference for smallest impact.</p>
</dd>
<dt>rxcvGz</dt><dd><p>correlation between predictor of interest and CV necessary to nullify the inference for smallest impact conditioning on all observed covariates (given z).</p>
</dd>  
<dt>rycvGz</dt><dd><p>correlation between outcome and CV necessary to nullify the inference for smallest impact conditioning on all observed covariates (given z).</p>
</dd>
<dt>itcvGz</dt><dd><p>ITCV conditioning on the observed covariates.</p>
</dd>
<dt>itcv</dt><dd><p>Unconditional ITCV.</p>
</dd>
<dt>r2xz</dt><dd><p>R2 using all observed covariates to explain the predictor of interest (X).</p>
</dd>
<dt>r2yz</dt><dd><p>R2 using all observed covariates to explain the outcome (Y).</p>
</dd>
<dt>delta_star</dt><dd><p>delta calculated using Oster's unrestricted estimator.</p>
</dd>
<dt>delta_star_restricted</dt><dd><p>delta calculated using Oster's restricted estimator.</p>
</dd>
<dt>delta_exact</dt><dd><p>correlation-based delta.</p>
</dd>
<dt>delta_pctbias</dt><dd><p>percent of bias when comparing delta_star with delta_exact.</p>
</dd>
<dt>cor_oster</dt><dd><p>correlation matrix implied by delta_star.</p>
</dd>
<dt>cor_exact</dt><dd><p>correlation matrix implied by delta_exact.</p>
</dd>
<dt>beta_threshold</dt><dd><p>threshold value for estimated effect.</p>
</dd>
<dt>beta_threshold_verify</dt><dd><p>estimated effect given RIR. Should be equal to beta_threshold.</p>
</dd>
<dt>perc_bias_to_change</dt><dd><p>percent bias to change the inference.</p>
</dd>
<dt>RIR_primary</dt><dd><p>Robustness of Inference to Replacement (RIR).</p>
</dd>
<dt>RIR_supplemental</dt><dd><p>RIR for an extra row or column that is needed to nullify the inference.</p>
</dd>
<dt>RIR_perc</dt><dd><p>RIR as % of total sample (for linear regression) or as % of data points in the cell where replacement takes place (for logistic and 2 by 2 table).</p>
</dd>
<dt>fragility_primary</dt><dd><p>Fragility. the number of switches (e.g., treatment success to treatment failure) to nullify the inference.</p>
</dd>
<dt>fragility_supplemental</dt><dd><p>Fragility for an extra row or column that is needed to nullify the inference.</p>
</dd> 
<dt>starting_table</dt><dd><p>Observed 2 by 2 table before replacement and switching. Implied table for logistic regression.</p>
</dd>
<dt>final_table</dt><dd><p>The 2 by 2 table after replacement and switching.</p>
</dd>
<dt>user_SE</dt><dd><p>user entered standard error. Only applicable for logistic regression.</p>
</dd>
<dt>needtworows</dt><dd><p>whether double row switches are needed.</p>
</dd>
<dt>analysis_SE</dt><dd><p>the standard error used to generate a plausible 2 by 2 table. Only applicable for logistic regression.</p>
</dd>
<dt>Fig_ITCV</dt><dd><p>figure for ITCV.</p>
</dd> 
<dt>Fig_RIR</dt><dd><p>figure for RIR.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'># using pkonfound for linear models
pkonfound(2, .4, 100, 3)
pkonfound(-2.2, .65, 200, 3)
pkonfound(.5, 3, 200, 3)
pkonfound(-0.2, 0.103, 20888, 3, n_treat = 17888, model_type = "logistic")

pkonfound(2, .4, 100, 3, to_return = "thresh_plot")
pkonfound(2, .4, 100, 3, to_return = "corr_plot")

# using pkonfound for a 2x2 table
pkonfound(a = 35, b = 17, c = 17, d = 38)
pkonfound(a = 35, b = 17, c = 17, d = 38, alpha = 0.01)
pkonfound(a = 35, b = 17, c = 17, d = 38, alpha = 0.01, switch_trm = FALSE)
pkonfound(a = 35, b = 17, c = 17, d = 38, test = "chisq")

# use pkonfound to calculate delta* and delta_exact 
pkonfound(est_eff = .4, std_err = .1, n_obs = 290, sdx = 2, sdy = 6, R2 = .7,
 eff_thr = 0, FR2max = .8, index = "COP", to_return = "raw_output")
# use pkonfound to calculate rxcv and rycv when preserving standard error
pkonfound(est_eff = .5, std_err = .056, n_obs = 6174, eff_thr = .1,
sdx = 0.22, sdy = 1, R2 = .3, index = "PSE", to_return = "raw_output")

</code></pre>

<hr>
<h2 id='plot_correlation'>Plot Correlation Diagram</h2><span id='topic+plot_correlation'></span>

<h3>Description</h3>

<p>This function creates a plot to illustrate the correlation between different 
variables,specifically focusing on the confounding variable, predictor of 
interest, and outcome.It uses ggplot2 for graphical representation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_correlation(r_con, obs_r, critical_r)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_correlation_+3A_r_con">r_con</code></td>
<td>
<p>Correlation coefficient related to the confounding variable.</p>
</td></tr>
<tr><td><code id="plot_correlation_+3A_obs_r">obs_r</code></td>
<td>
<p>Observed correlation coefficient.</p>
</td></tr>
<tr><td><code id="plot_correlation_+3A_critical_r">critical_r</code></td>
<td>
<p>Critical correlation coefficient for decision-making.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the correlation diagram.
</p>

<hr>
<h2 id='plot_threshold'>Plot Effect Threshold Diagram</h2><span id='topic+plot_threshold'></span>

<h3>Description</h3>

<p>This function creates a plot to illustrate the threshold of an effect 
estimate in relation to a specified beta threshold. It uses ggplot2 
for graphical representation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_threshold(beta_threshold, est_eff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_threshold_+3A_beta_threshold">beta_threshold</code></td>
<td>
<p>The threshold value for the effect.</p>
</td></tr>
<tr><td><code id="plot_threshold_+3A_est_eff">est_eff</code></td>
<td>
<p>The estimated effect size.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object representing the effect threshold diagram.
</p>

<hr>
<h2 id='tkonfound'>Perform Sensitivity Analysis on 2x2 Tables</h2><span id='topic+tkonfound'></span>

<h3>Description</h3>

<p>This function performs a sensitivity analysis on a 2x2 contingency table.
It calculates the number of cases that need to be replaced to invalidate
or sustain the statistical inference. The function also allows switching
between treatment success and failure or control success and failure
based on the provided parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tkonfound(
  a,
  b,
  c,
  d,
  alpha = 0.05,
  switch_trm = TRUE,
  test = "fisher",
  replace = "control",
  to_return = to_return
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tkonfound_+3A_a">a</code></td>
<td>
<p>Number of unsuccessful cases in the control group.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_b">b</code></td>
<td>
<p>Number of successful cases in the control group.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_c">c</code></td>
<td>
<p>Number of unsuccessful cases in the treatment group.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_d">d</code></td>
<td>
<p>Number of successful cases in the treatment group.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_alpha">alpha</code></td>
<td>
<p>Significance level for the statistical test, default is 0.05.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_switch_trm">switch_trm</code></td>
<td>
<p>Boolean indicating whether to switch treatment row cells,
default is TRUE.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_test">test</code></td>
<td>
<p>Type of statistical test to use, either &quot;fisher&quot;
(default) or &quot;chisq&quot;.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_replace">replace</code></td>
<td>
<p>Indicates whether to use the entire sample or the control
group for base rate calculation, default is &quot;control&quot;.</p>
</td></tr>
<tr><td><code id="tkonfound_+3A_to_return">to_return</code></td>
<td>
<p>Type of output to return, either &quot;raw_output&quot; or &quot;print&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns detailed information about the sensitivity analysis,
including the number of cases to be replaced (RIR), user-entered
table, transfer table, and conclusions.
</p>

<hr>
<h2 id='tkonfound_fig'>Draw Figures for Change in Effect Size in 2x2 Tables</h2><span id='topic+tkonfound_fig'></span>

<h3>Description</h3>

<p>This function generates plots illustrating how the change in effect size 
is influenced by switching or replacing outcomes in a 2x2 table. It produces
two plots: one showing all possibilities (switching) and another zoomed in 
the area for positive RIR (Relative Impact Ratio).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tkonfound_fig(
  a,
  b,
  c,
  d,
  thr_p = 0.05,
  switch_trm = TRUE,
  test = "fisher",
  replace = "control"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tkonfound_fig_+3A_a">a</code></td>
<td>
<p>Number of cases in the control group with unsuccessful outcomes.</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_b">b</code></td>
<td>
<p>Number of cases in the control group with successful outcomes.</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_c">c</code></td>
<td>
<p>Number of cases in the treatment group with unsuccessful outcomes.</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_d">d</code></td>
<td>
<p>Number of cases in the treatment group with successful outcomes.</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_thr_p">thr_p</code></td>
<td>
<p>P-value threshold for statistical significance, default is 0.05.</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_switch_trm">switch_trm</code></td>
<td>
<p>Whether to switch the two cells in the treatment or 
control row, default is TRUE (treatment row).</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_test">test</code></td>
<td>
<p>Type of statistical test used, either &quot;Fisher's Exact Test&quot;
(default) or &quot;Chi-square test&quot;.</p>
</td></tr>
<tr><td><code id="tkonfound_fig_+3A_replace">replace</code></td>
<td>
<p>Indicates whether to use the entire sample or just the control
group for calculating the base rate, default is &quot;control&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns two plots showing the effect of hypothetical case switches 
on the effect size in a 2x2 table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tkonfound_fig(14, 17, 6, 25, test = "chisq")

</code></pre>

<hr>
<h2 id='verify_reg_Gzcv'>Verify regression model with control variable Z</h2><span id='topic+verify_reg_Gzcv'></span>

<h3>Description</h3>

<p>Verify regression model with control variable Z
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_reg_Gzcv(n_obs, sdx, sdy, sdz, sdcv, rxy, rxz, rzy, rcvy, rcvx, rcvz)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="verify_reg_Gzcv_+3A_n_obs">n_obs</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_sdx">sdx</code></td>
<td>
<p>standard deviation of X</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_sdy">sdy</code></td>
<td>
<p>standard deviation of Y</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_sdz">sdz</code></td>
<td>
<p>standard deviation of Z</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_sdcv">sdcv</code></td>
<td>
<p>sd between C and V</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_rxy">rxy</code></td>
<td>
<p>correlation coefficient between X and Y</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_rxz">rxz</code></td>
<td>
<p>correlation coefficient between X and Z</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_rzy">rzy</code></td>
<td>
<p>correlation coefficient between Z and Y</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_rcvy">rcvy</code></td>
<td>
<p>correlation coefficient between V and Y</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_rcvx">rcvx</code></td>
<td>
<p>correlation coefficient between V and X</p>
</td></tr>
<tr><td><code id="verify_reg_Gzcv_+3A_rcvz">rcvz</code></td>
<td>
<p>correlation coefficient between V and Z</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of model parameters
</p>

<hr>
<h2 id='verify_reg_uncond'>Verify unconditional regression model</h2><span id='topic+verify_reg_uncond'></span>

<h3>Description</h3>

<p>Verify unconditional regression model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>verify_reg_uncond(n_obs, sdx, sdy, rxy)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="verify_reg_uncond_+3A_n_obs">n_obs</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="verify_reg_uncond_+3A_sdx">sdx</code></td>
<td>
<p>standard deviation of X</p>
</td></tr>
<tr><td><code id="verify_reg_uncond_+3A_sdy">sdy</code></td>
<td>
<p>standard deviation of Y</p>
</td></tr>
<tr><td><code id="verify_reg_uncond_+3A_rxy">rxy</code></td>
<td>
<p>correlation coefficient between X and Y</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of model parameters
</p>

<hr>
<h2 id='zzz'>Package Initialization Functions and Utilities</h2><span id='topic+zzz'></span>

<h3>Description</h3>

<p>These functions are used for initializing the package environment and
providing utility functions for the package.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package istat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {istat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#filter_istat'><p>Filter data sets</p></a></li>
<li><a href='#filter_istat_interactive'><p>Filter data set interactively</p></a></li>
<li><a href='#get_i_stat'><p>Download data sets by id (source: I.Stat)</p></a></li>
<li><a href='#get_istatdata'><p>Download data set by agencyId, id and version (source: IstatData)</p></a></li>
<li><a href='#list_i_stat'><p>Obtain the complete list of available data sets (source: I.Stat)</p></a></li>
<li><a href='#list_istatdata'><p>Obtain the complete list of available data sets (source: IstatData)</p></a></li>
<li><a href='#plot_interactive'><p>Plot dataset interactively</p></a></li>
<li><a href='#search_i_stat'><p>Search data sets by keywords (source: I.Stat)</p></a></li>
<li><a href='#search_istatdata'><p>Search data sets by keywords (source: IstatData).</p></a></li>
<li><a href='#shinyIstat'><p>shinyIstat</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Download and Manipulate Data from Istat</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Elena Gradi &lt;elenaagradi@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Download data from Istat (Italian Institute of Statistics) database, both old and new provider (respectively, <a href="http://dati.istat.it/">http://dati.istat.it/</a> and <a href="https://esploradati.istat.it/databrowser/">https://esploradati.istat.it/databrowser/</a>). Additional functions for manipulating data are provided. Moreover, a 'shiny' application called 'shinyIstat' can be used to search, download and filter datasets in an easier way.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>datamods, DT, dplyr, ggplot2, htmltools, httr, magrittr,
openxlsx, reactable, readxl, rsdmx, shiny, shinyBS,
shinydashboard, shinyhelper, shinyjs, shinyWidgets, writexl</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-06 12:34:57 UTC; aliss</td>
</tr>
<tr>
<td>Author:</td>
<td>Elena Gradi [aut, cre],
  Alissa Lelli [aut],
  Daniela Ichim [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-10 10:00:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='filter_istat'>Filter data sets</h2><span id='topic+filter_istat'></span>

<h3>Description</h3>

<p>Filter data set by column(s). Takes as input a data.frame (not only ISTAT ones) and allows you to select for which column(s) value(s) to filter the dataset. Alternatively, use filter_istat_interactive for an interactive version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_istat(dataset, columns, datatype, lang = "ita")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_istat_+3A_dataset">dataset</code></td>
<td>
<p>as data.frame</p>
</td></tr>
<tr><td><code id="filter_istat_+3A_columns">columns</code></td>
<td>
<p>data set column(s) for which you want to filter the data. If you want to filter for more than one column, write c(&quot;column1&quot;,&quot;column2&quot;, ...) as argument.</p>
</td></tr>
<tr><td><code id="filter_istat_+3A_datatype">datatype</code></td>
<td>
<p>column(s) value(s) for which you want to filter the data. Write as many datatype as many columns that you selected in &quot;columns&quot; (as in examples).</p>
</td></tr>
<tr><td><code id="filter_istat_+3A_lang">lang</code></td>
<td>
<p>language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the filtered data set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>filter_istat(iris, columns = "Species", datatype = "setosa") #Here,
#the function filters the data set 'iris' for the value 'setosa' of the column 'Species'.
filter_istat(iris, columns = c("Species","Petal.Width"),
datatype = list(c("virginica","setosa"), c("0.1","1.9")))
# Here, the function filters the data set 'iris' for the values 'virginica'
#and 'setosa' of the column 'Species' and for the values '0.1' and '1.9' of
#the column 'Petal.Width'.
</code></pre>

<hr>
<h2 id='filter_istat_interactive'>Filter data set interactively</h2><span id='topic+filter_istat_interactive'></span>

<h3>Description</h3>

<p>An interactive and more intuitive version of filter_istat function. It filters data set by column(s). Takes as input a data.frame (not only ISTAT ones) and allows you to select for which column(s) value(s) to filter the data set interactively.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_istat_interactive(dataset, lang = "ita")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="filter_istat_interactive_+3A_dataset">dataset</code></td>
<td>
<p>as data.frame</p>
</td></tr>
<tr><td><code id="filter_istat_interactive_+3A_lang">lang</code></td>
<td>
<p>language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the filtered data set.
</p>


<h3>Note</h3>

<p>In this first version, language parameter works only with data sets downloaded with get_i_stat (provider I.Stat).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>filter_istat_interactive(iris)
</code></pre>

<hr>
<h2 id='get_i_stat'>Download data sets by id (source: I.Stat)</h2><span id='topic+get_i_stat'></span>

<h3>Description</h3>

<p>Download data sets from I.Stat (old ISTAT provider). Alternatively, use get_istatdata to download data sets from IstatData (new ISTAT provider).
Note that in this first version of the package, only get_i_stat allows you to download variable labels, while get_istatdata has not this functionality yet.
The parameters &quot;id_dataset&quot; to download data sets can be found using list_i_stat function or search_i_stat function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_i_stat(id_dataset,
           start_period=NULL,
           end_period=NULL,
           recent=FALSE,
           csv=FALSE,
           xlsx=FALSE,
           lang="both")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_i_stat_+3A_id_dataset">id_dataset</code></td>
<td>
<p>data set id</p>
</td></tr>
<tr><td><code id="get_i_stat_+3A_start_period">start_period</code></td>
<td>
<p>Time value for the start (NULL by default)</p>
</td></tr>
<tr><td><code id="get_i_stat_+3A_end_period">end_period</code></td>
<td>
<p>Time value for the end (NULL bu default)</p>
</td></tr>
<tr><td><code id="get_i_stat_+3A_recent">recent</code></td>
<td>
<p>False by default, if TRUE, the function retrieves data from last 10 years</p>
</td></tr>
<tr><td><code id="get_i_stat_+3A_csv">csv</code></td>
<td>
<p>False by default, if TRUE, the function saves the data set to directory as .csv</p>
</td></tr>
<tr><td><code id="get_i_stat_+3A_xlsx">xlsx</code></td>
<td>
<p>False by default, if TRUE, the function saves the data set to directory as .xlsx</p>
</td></tr>
<tr><td><code id="get_i_stat_+3A_lang">lang</code></td>
<td>
<p>Language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the data set as data.frame. It can be saved to environment or as .csv/.xlsx.
</p>


<h3>Note</h3>

<p>Downloading may take some time. Future versions will speed up the process.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_i_stat("12_60")
get_i_stat("12_60", start_period=2015, end_period=2018)
get_i_stat("12_60", start_period=2015, end_period=2015)
get_i_stat("12_60", recent=TRUE, lang="eng")
</code></pre>

<hr>
<h2 id='get_istatdata'>Download data set by agencyId, id and version (source: IstatData)</h2><span id='topic+get_istatdata'></span>

<h3>Description</h3>

<p>Download data sets from IstatData (new ISTAT provider). Alternatively, use get_i_stat to download data sets from I.Stat (old ISTAT provider).
Note that in this first version of the package, only get_i_stat allows you to download variable labels, while get_istatdata has not this functionality yet.
The parameters &quot;agencyId&quot;,&quot;dataset_id&quot; and &quot;version&quot; to download the data sets can be found using list_istatdata function or search_istatdata function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_istatdata(agencyId,
             dataset_id,
             version,
             start=NULL,
             end=NULL,
             recent=FALSE,
             csv=FALSE,
             xlsx=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_istatdata_+3A_agencyid">agencyId</code></td>
<td>
<p>data set agencyId</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_dataset_id">dataset_id</code></td>
<td>
<p>data set id</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_version">version</code></td>
<td>
<p>data set version</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_start">start</code></td>
<td>
<p>Time value for the start (NULL by default)</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_end">end</code></td>
<td>
<p>Time value for the end (NULL bu default)</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_recent">recent</code></td>
<td>
<p>False by default, if TRUE, the function retrieves data from last 10 years</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_csv">csv</code></td>
<td>
<p>False by default, if TRUE, the function saves the data set to directory as .csv</p>
</td></tr>
<tr><td><code id="get_istatdata_+3A_xlsx">xlsx</code></td>
<td>
<p>False by default, if TRUE, the function saves the data set to directory as .xlsx</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns data set as data.frame. It can be saved to environment or as .csv/.xlsx.
</p>


<h3>Note</h3>

<p>Downloading may take some time. Future versions will speed up the process.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_istatdata("IT1", "12_60_DF_DCCV_CONSACQUA_2" , "1.0",recent = TRUE)
get_istatdata("IT1", "12_60_DF_DCCV_CONSACQUA_2" , "1.0", start = 2015, end = 2018)
</code></pre>

<hr>
<h2 id='list_i_stat'>Obtain the complete list of available data sets (source: I.Stat)</h2><span id='topic+list_i_stat'></span>

<h3>Description</h3>

<p>Obtain the complete list of available data sets (source: I.Stat)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_i_stat(lang = "ita")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_i_stat_+3A_lang">lang</code></td>
<td>
<p>language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the complete list of available data sets from I.Stat with their id and name.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>list_i_stat()
</code></pre>

<hr>
<h2 id='list_istatdata'>Obtain the complete list of available data sets (source: IstatData)</h2><span id='topic+list_istatdata'></span>

<h3>Description</h3>

<p>Obtain the complete list of available data sets (source: IstatData)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_istatdata(lang = "ita")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="list_istatdata_+3A_lang">lang</code></td>
<td>
<p>language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the complete list of available data sets from IstatData with their agencyId, id, version and name.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>list_istatdata()
</code></pre>

<hr>
<h2 id='plot_interactive'>Plot dataset interactively</h2><span id='topic+plot_interactive'></span>

<h3>Description</h3>

<p>Build different types of exploratory graphs (scatter plot, bar plot, pie chart). You can interactively choose the plot that you want create. Once you have chosen the plot, you can interactively choose the variables from the data set for which you want to build the plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_interactive(df)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_interactive_+3A_df">df</code></td>
<td>
<p>data set as data.frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns the chosen plot.
</p>


<h3>Note</h3>

<p>plot_interactive allows you to have an idea about the general trend of your data, and it's intended to be used with exploratory purpose.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
  plot_interactive(iris)
}
</code></pre>

<hr>
<h2 id='search_i_stat'>Search data sets by keywords (source: I.Stat)</h2><span id='topic+search_i_stat'></span>

<h3>Description</h3>

<p>Search I.Stat data sets by keywords. To download data sets, use &quot;get_i_stat&quot; function and insert data set id.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_i_stat(keywords,
              lang = "ita")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="search_i_stat_+3A_keywords">keywords</code></td>
<td>
<p>keyword(s) to search data sets</p>
</td></tr>
<tr><td><code id="search_i_stat_+3A_lang">lang</code></td>
<td>
<p>language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a list of data sets containing the keyword(s) with their id and name.
</p>


<h3>Note</h3>

<p>Searching may take some time. Future versions will speed up the process.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>search_i_stat(c( "incidenti", "stradali"))
search_i_stat("population", lang="eng")
</code></pre>

<hr>
<h2 id='search_istatdata'>Search data sets by keywords (source: IstatData).</h2><span id='topic+search_istatdata'></span>

<h3>Description</h3>

<p>Search IstatData data sets by keywords. To download data sets use &quot;get_istatdata&quot; function and insert agencyId, id, version.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>search_istatdata(keywords,
                 lang = "ita")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="search_istatdata_+3A_keywords">keywords</code></td>
<td>
<p>keyword(s) to search data sets</p>
</td></tr>
<tr><td><code id="search_istatdata_+3A_lang">lang</code></td>
<td>
<p>language parameter for labels (&quot;ita&quot; for Italian, &quot;eng&quot; for English)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>It returns a list of data sets containing the keyword(s) with their agencyId, id, version and name.
</p>


<h3>Note</h3>

<p>Searching may take some time. Future versions will speed up the process.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>search_istatdata(c( "incidenti", "stradali"))
search_istatdata("population", lang="eng")
</code></pre>

<hr>
<h2 id='shinyIstat'>shinyIstat</h2><span id='topic+shinyIstat'></span>

<h3>Description</h3>

<p>A graphic interface that makes searching, downloading and filtering data sets from Istat easier. Call shinyIstat() to get started. This shinyApp was built using the same functions of istat package but they have been adapted for the shiny. You will find additional information and help inside the app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shinyIstat()
</code></pre>


<h3>Value</h3>

<p>It opens the app.
</p>


<h3>Note</h3>

<p>Calling a ShinyApp equals to calling a R function. For this reason, once called shinyIstat(), R will be busy processing it until the app will be closed. As a consequence, all other R functionalities can be processed only when the app is closed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
  shinyIstat()
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

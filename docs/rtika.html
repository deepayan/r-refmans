<!DOCTYPE html><html lang="en"><head><title>Help for package rtika</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rtika}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#install_tika'><p>Install or Update the Apache Tika <code>jar</code></p></a></li>
<li><a href='#java'><p>System Command to Run Java</p></a></li>
<li><a href='#rtika'><p>rtika: R Interface to 'Apache Tika'</p></a></li>
<li><a href='#tika'><p>Main R Interface to 'Apache Tika'</p></a></li>
<li><a href='#tika_check'><p>Check Tika against a checksum</p></a></li>
<li><a href='#tika_fetch'><p>Fetch Files with the Content-Type Preserved in the File Extension</p></a></li>
<li><a href='#tika_html'><p>Get Structured XHTML</p></a></li>
<li><a href='#tika_jar'><p>Path to Apache Tika</p></a></li>
<li><a href='#tika_json'><p>Get json Metadata and XHTML Content</p></a></li>
<li><a href='#tika_json_text'><p>Get json Metadata and Plain Text Content</p></a></li>
<li><a href='#tika_text'><p>Get Plain Text</p></a></li>
<li><a href='#tika_xml'><p>Get a Structured XHTML Rendition</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Interface to 'Apache Tika'</td>
</tr>
<tr>
<td>Version:</td>
<td>2.7.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sasha Goodman &lt;goodmansasha@gmail.com&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, sys (&ge; 2.1), stats, utils, digest, backports</td>
</tr>
<tr>
<td>Suggests:</td>
<td>jsonlite, xml2, testthat, knitr, rmarkdown, covr, magrittr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a> | file LICENSE</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>Java (&gt;=8)</td>
</tr>
<tr>
<td>Description:</td>
<td>Extract text or metadata from over a thousand file types, using Apache Tika <a href="https://tika.apache.org/">https://tika.apache.org/</a>. Get either plain text or structured XHTML content. </td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/rtika/">https://docs.ropensci.org/rtika/</a>,
<a href="https://github.com/ropensci/rtika/">https://github.com/ropensci/rtika/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/rtika/issues/">https://github.com/ropensci/rtika/issues/</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-05-04 22:10:28 UTC; sashagoodman</td>
</tr>
<tr>
<td>Author:</td>
<td>Sasha Goodman [aut, cre],
  The Apache Software Foundation [aut, cph],
  Julia Silge [rev] (Reviewed the package for rOpenSci, see
    https://github.com/ropensci/software-review/issues/191/),
  David Gohel [rev] (Reviewed the package for rOpenSci, see
    https://github.com/ropensci/software-review/issues/191/)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-05-04 23:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='install_tika'>Install or Update the Apache Tika <code>jar</code></h2><span id='topic+install_tika'></span>

<h3>Description</h3>

<p>This downloads and installs the Tika App <code>jar</code> (~60 MB) into a user directory,
and verifies the integrity of the file using a checksum.
The default settings should work fine.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_tika(
  version = "2.7.0",
  digest = paste0("7fefbe5570a95900d39193134e8277aec99e5450a8",
    "cecbb5787b3d6651ebf735e460ccccddb49bdc2990",
    "8a9058fc36e4689aed6da6d63a1cf70ca09ccf26bcca"),
  mirrors = c("https://ftp.wayne.edu/apache/tika/",
    "http://mirrors.ocf.berkeley.edu/apache/tika/", "http://apache.cs.utah.edu/tika/",
    "http://mirror.cc.columbia.edu/pub/software/apache/tika/"),
  retries = 2,
  url = character()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="install_tika_+3A_version">version</code></td>
<td>
<p>The declared Tika version</p>
</td></tr>
<tr><td><code id="install_tika_+3A_digest">digest</code></td>
<td>
<p>The sha512 checksum. Set to an empty string <code>""</code> to skip the check.</p>
</td></tr>
<tr><td><code id="install_tika_+3A_mirrors">mirrors</code></td>
<td>
<p>A vector of Apache mirror sites. One is picked randomly.</p>
</td></tr>
<tr><td><code id="install_tika_+3A_retries">retries</code></td>
<td>
<p>The number of times to try the download.</p>
</td></tr>
<tr><td><code id="install_tika_+3A_url">url</code></td>
<td>
<p>Optional url to a particular location of the tika app. Setting this to any character string overrides downloading from random mirrors.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical if the installation was successful.
</p>


<h3>Details</h3>

<p>The default settings of <code>install_tika()</code> should typically be left as they are.
</p>
<p>This function will download the version of the Tika <code>jar</code> tested to work
with this package, and can verify file integrity using a checksum.
</p>
<p>It will normally download from a random Apache mirror.
If the mirror fails,
it tries the archive at <code>http://archive.apache.org/dist/tika/</code>.
You can also enter a value for <code>url</code> directly to override this.
</p>
<p>It will download into a directory determined
by <code>tools::R_user_dir("rtika", which = "data")</code>,
specific to the operating system.
</p>
<p>If <code>tika()</code> is stopping with an error compalining about the <code>jar</code>,
try running <code>install_tika()</code> again.
</p>


<h3>Uninstalling</h3>

<p>If you are uninstalling the entire <code>rtika</code> package
and want to remove the Tika App <code>jar</code> also,
run:
</p>
<p><code>unlink(tools::R_user_dir("rtika", which = "data"), recursive = TRUE)</code>
</p>
<p>Alternately, navigate to the install folder and delete it manually.
It is the file path returned by 
<code>tools::R_user_dir("rtika", which = "data")</code>.
The path is OS specific.
</p>


<h3>Distribution</h3>

<p>Tika is distributed under the Apache License Version 2.0,
which generally permits distribution of the code &quot;Object&quot; without the &quot;Source&quot;.
The master copy of the Apache Tika source code is held in GIT. 
You can fetch (clone) the large source from GitHub ( https://github.com/apache/tika ).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
install_tika()

</code></pre>

<hr>
<h2 id='java'>System Command to Run Java</h2><span id='topic+java'></span>

<h3>Description</h3>

<p>Gets the system command needed to run Java from the command line, as a string.
Typically, this is the string: 'java'. 
However, if the R session has the <code>JAVA_HOME</code> environmental variable set, it will use that to locate java instead. 
This can be persisted over sessions (see the Details below).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>java()
</code></pre>


<h3>Value</h3>

<p>The system command needed to invoke Java, as a string.
</p>


<h3>Details</h3>

<p>This function is used by all of the <code>tika()</code> functions internally as the default value to its <code>java</code> parameter. 
</p>
<p>This function tries to find an environmental variable using <code>Sys.getenv("JAVA_HOME")</code>.
It looks for the <code>java</code> executable inside the <code>bin</code> directory in the <code>JAVA_HOME</code> directory.
</p>
<p>If you want to use a specific version of Java, set the <code>JAVA_HOME</code> variable using <code>Sys.setenv(JAVA_HOME = 'my path')</code>,
where 'my path' is the path to a folder that has a <code>bin</code> directory with a <code>java</code> executable. 
</p>
<p>For example, on Windows 10 <code>JAVA_HOME</code> might be <code>C:/Program Files (x86)/Java/jre1.8.0_171</code>. 
On Ubuntu and OS X, it might be the <code>/usr</code> directory.  
</p>
<p>The <code>JAVA_HOME</code> variable can also be set to persist over sessions.
Add the path to the <code>.Rprofile</code> by adding <code>Sys.setenv(JAVA_HOME = 'my path')</code>, and it will use that every time R is started.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Typically, this function returns the string 'java'.
# If JAVA_HOME is set, it's a path to java in a 'bin' folder.
java()

</code></pre>

<hr>
<h2 id='rtika'>rtika: R Interface to 'Apache Tika'</h2><span id='topic+rtika'></span>

<h3>Description</h3>

<p>Extract text or metadata from over a thousand file types. Get either plain text or structured XHTML content.
</p>


<h3>Installing</h3>

<p>If you have not done so already, finish installing <span class="pkg">rtika</span> by typing in the R console:
</p>
<p><code>install_tika()</code>
</p>


<h3>Getting Started</h3>

<p>The <code><a href="#topic+tika_text">tika_text</a></code> function will extract plain text from many types of documents. It is a good place to start. Please read the Vignette also.
Other main functions include <code><a href="#topic+tika_xml">tika_xml</a></code> and <code><a href="#topic+tika_html">tika_html</a></code> that get a structured XHMTL rendition. The <code><a href="#topic+tika_json">tika_json</a></code> function gets metadata as '.json', with XHMTL content. 
</p>
<p>The <code><a href="#topic+tika_json_text">tika_json_text</a></code> function gets metadata as '.json', with plain text content.
</p>
<p><code><a href="#topic+tika">tika</a></code> is the main function the others above inherit from. 
</p>
<p>Use <code><a href="#topic+tika_fetch">tika_fetch</a></code> to download files with a file extension matching the Content-Type.
</p>

<hr>
<h2 id='tika'>Main R Interface to 'Apache Tika'</h2><span id='topic+tika'></span>

<h3>Description</h3>

<p>Extract text or metadata from over a thousand file types.
Get either plain text or structured <code>XHTML</code>.
Metadata includes <code>Content-Type</code>, character encoding, and Exif data from
jpeg or tiff images. See the long list of supported file types, 
click the &quot;Supported Formats&quot; link on this page :
<a href="https://tika.apache.org/">https://tika.apache.org/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika(
  input,
  output = c("text", "jsonRecursive", "xml", "html")[1],
  output_dir = "",
  return = TRUE,
  java = rtika::java(),
  jar = rtika::tika_jar(),
  threads = 2,
  max_restarts = integer(),
  timeout = 3e+05,
  max_file_size = integer(),
  config = system.file("extdata", "ocr.xml", package = "rtika"),
  args = character(),
  quiet = TRUE,
  cleanup = TRUE,
  lib.loc = .libPaths()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_+3A_input">input</code></td>
<td>
<p>Character vector describing the paths to the input documents.
Strings starting with 'http://','https://', or 'ftp://' are downloaded to a
temporary directory. On Windows, the local paths cannot span
drives because of a Windows convention.</p>
</td></tr>
<tr><td><code id="tika_+3A_output">output</code></td>
<td>
<p>Optional character vector of the output format. The default,
<code>"text"</code>, gets plain text without metadata. <code>"xml"</code> and
<code>"html"</code> get <code>XHTML</code> text with metadata. <code>"jsonRecursive"</code>
gets <code>XHTML</code> text and <code>json</code> metadata.
<code>c("jsonRecursive","text")</code> or <code>c("J","t")</code> get plain text and
<code>json</code> metadata. See the 'Output Details' section.</p>
</td></tr>
<tr><td><code id="tika_+3A_output_dir">output_dir</code></td>
<td>
<p>Optional directory path to save the converted files in.
Tika may overwrite files so an empty directory is best. See the 'Output
Details' section before using.</p>
</td></tr>
<tr><td><code id="tika_+3A_return">return</code></td>
<td>
<p>Logical if an R object should be returned. Defaults to
TRUE. If set to FALSE, and output_dir (above) must be specified.</p>
</td></tr>
<tr><td><code id="tika_+3A_java">java</code></td>
<td>
<p>Optional command to invoke Java. For example, it can be the full
path to a particular Java version. See the Configuration section below.</p>
</td></tr>
<tr><td><code id="tika_+3A_jar">jar</code></td>
<td>
<p>Optional alternative path to a <code>tika-app-X.XX.jar</code>. Useful
if this package becomes out of date.</p>
</td></tr>
<tr><td><code id="tika_+3A_threads">threads</code></td>
<td>
<p>Integer of the number of file consumer threads Tika uses.
Defaults to 2.</p>
</td></tr>
<tr><td><code id="tika_+3A_max_restarts">max_restarts</code></td>
<td>
<p>Integer of the maximum number of times the watchdog
process will restart the child process. The default is no limit.</p>
</td></tr>
<tr><td><code id="tika_+3A_timeout">timeout</code></td>
<td>
<p>Integer of the number of milliseconds allowed to a parse
before the process is killed and restarted. Defaults to 300000.</p>
</td></tr>
<tr><td><code id="tika_+3A_max_file_size">max_file_size</code></td>
<td>
<p>Integer of the maximum bytes allowed.
Do not process files larger than this. The default is unlimited.</p>
</td></tr>
<tr><td><code id="tika_+3A_config">config</code></td>
<td>
<p>Path to the XML config file. Defaults to <code>system.file("extdata", "ocr.xml", package = "rtika")</code>'. There is also a <code>no-ocr.xml</code> file available.</p>
</td></tr>
<tr><td><code id="tika_+3A_args">args</code></td>
<td>
<p>Optional character vector of additional arguments passed to Tika,
that may not yet be implemented in this R interface, in the pattern of
<code>c('-arg1','setting1','-arg2','setting2')</code>.</p>
</td></tr>
<tr><td><code id="tika_+3A_quiet">quiet</code></td>
<td>
<p>Logical if Tika command line messages and errors are to be
suppressed. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="tika_+3A_cleanup">cleanup</code></td>
<td>
<p>Logical to clean up temporary files after running the command,
which can accumulate. Defaults to <code>TRUE</code>. They are in <code>tempdir()</code>. These
files are automatically removed at the end of the R session even if set to
FALSE.</p>
</td></tr>
<tr><td><code id="tika_+3A_lib.loc">lib.loc</code></td>
<td>
<p>Optional character vector describing the library paths.
Normally, it's best to
leave this parameter alone. The parameter is included
mainly for package testing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector in the same order and with the same length as
<code>input</code>. Unprocessed files are <code>as.character(NA)</code>.
If <code>return = FALSE</code>, then a <code>NULL</code> value is invisibly returned.
See the Output Details section below.
</p>


<h3>Output Details</h3>

<p>If an input file did not exist, could not be downloaded, was a directory, or
Tika could not process it, the result will be <code>as.character(NA)</code> for
that file.
</p>
<p>By default, <code>output = "text"</code> and this produces plain text with no
metadata. Some formatting is preserved in this case using tabs, newlines and
spaces.
</p>
<p>Setting <code>output</code> to either <code>"xml"</code> or the shortcut <code>"x"</code> will
produce a strict form of <code>HTML</code> known as <code>XHTML</code>, with metadata in
the <code>head</code> node and formatted text in the <code>body</code>.
Content retains more formatting with <code>"xml"</code>. For example, a Word or
Excel table will become a HTML <code>table</code>, with table data as text in
<code>td</code> elements. The <code>"html"</code> option and its shortcut <code>"h"</code>
seem to produce the same result as <code>"xml"</code>.
Parse XHTML output with <code>xml2::read_html</code>.
</p>
<p>Setting <code>output</code> to <code>"jsonRecursive"</code> or its shortcut <code>"J"</code>
produces a tree structure in 'json'. Metadata fields are at the top level.
The <code>XHTML</code> or plain text will be found in the <code>X-TIKA:content</code>
field. By default the text is <code>XHTML</code>. This can be changed to plain
text like this: <code>output=c("jsonRecursive","text")</code> or
<code>output=c("J","t")</code>. This syntax is meant to mirror Tika's. Parse
<code>json</code> with <code>jsonlite::fromJSON</code>.
</p>
<p>If <code>output_dir</code> is specified, then the converted files will also be
saved to this directory. It's best to use an empty directory because Tika
may overwrite existing files. Tika seems to add an extra file extension to
each file to reduce the chance, but it's still best to use an empty
directory. The file locations within the <code>output_dir</code> maintain the same
general path structure as the input files. Downloaded files have a path
similar to the 'tempdir()' that R uses. The original paths are now relative
to <code>output_dir</code>.  Files are appended with <code>.txt</code> for the default
plain text, but can be <code>.json</code>, <code>.xml</code>, or <code>.html</code> depending
on the <code>output</code> setting. One way to get a list of the processed files
is to use <code>list.files</code> with <code>recursive=TRUE</code>.
If <code>output_dir</code> is not specified, files are saved to a volatile temp
directory named by <code>tempdir()</code> and will be deleted when R shuts down.
If this function will be run on very large batches repeatedly, these
temporary files can be cleaned up every time by adding
<code>cleanup=TRUE</code>.
</p>


<h3>Background</h3>

<p>Tika is a foundational library for several Apache projects such as the Apache
Solr search engine. It has been in development since at least 2007. The most
efficient way I've found to process many thousands of documents is Tika's
'batch' mode, which is the only mode used in 'rtika'. There are potentially
more things that can be done, given enough time and attention, because
Apache Tika includes many libraries and methods in its .jar file. The source is available at:
<a href="https://tika.apache.org/">https://tika.apache.org/</a>.
</p>


<h3>Installation</h3>

<p>Tika requires Java 8.
</p>
<p>Java installation instructions are at https://openjdk.org/install/
or https://www.java.com/en/download/help/download_options.xml.
</p>
<p>By default, this R package internally invokes Java by calling the <code>java</code>
command from the command line. To specify the path to a particular Java
version, set the path in the <code>java</code> attribute of the <code>tika</code>
function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#extract text
batch &lt;- c(
  system.file("extdata", "jsonlite.pdf", package = "rtika"),
  system.file("extdata", "curl.pdf", package = "rtika"),
  system.file("extdata", "table.docx", package = "rtika"),
  system.file("extdata", "xml2.pdf", package = "rtika"),
  system.file("extdata", "R-FAQ.html", package = "rtika"),
  system.file("extdata", "calculator.jpg", package = "rtika"),
  system.file("extdata", "tika.apache.org.zip", package = "rtika")
)
text = tika(batch)
cat(substr(text[1],45,450))

#more complex metadata
if(requireNamespace('jsonlite')){

  json = tika(batch,c('J','t'))
  # 'J' is shortcut for jsonRecursive
  # 't' for text
  metadata = lapply(json, jsonlite::fromJSON )

  #embedded resources
  lapply(metadata, function(x){ as.character(x$'Content-Type') })

  lapply(metadata, function(x){ as.character(x$'Creation-Date') })

  lapply(metadata, function(x){  as.character(x$'X-TIKA:embedded_resource_path') })
}

</code></pre>

<hr>
<h2 id='tika_check'>Check Tika against a checksum</h2><span id='topic+tika_check'></span>

<h3>Description</h3>

<p>This is used by <code>install_tika()</code> internally, 
or can be called directly on a <code>jar</code> file.
The latest <code>jar</code> files and checksums are at https://tika.apache.org/download.html.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_check(digest, jar = tika_jar(), algo = "sha512")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_check_+3A_digest">digest</code></td>
<td>
<p>Character vector of length one with the target checksum.</p>
</td></tr>
<tr><td><code id="tika_check_+3A_jar">jar</code></td>
<td>
<p>Optional alternative path to a Tika <code>jar</code> file.</p>
</td></tr>
<tr><td><code id="tika_check_+3A_algo">algo</code></td>
<td>
<p>Optional algorithm used to create checksum. Defaults to SHA512.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical if the <code>jar</code> checksum matches <code>digest</code>.
</p>

<hr>
<h2 id='tika_fetch'>Fetch Files with the Content-Type Preserved in the File Extension</h2><span id='topic+tika_fetch'></span>

<h3>Description</h3>

<p>On the Internet, Content-Type information is mainly communicated via the server's headers.
This is an issue if a file is saved to disk without examining the headers.
The file can have a missing or incorrect file extension.
For example, a URL ending in a slash (<code>/</code>) can produce file with the Content-Type of  <code>text/html</code>.
The same URL might also produce a <code>image/jpeg</code> or <code>application/pdf</code> file.
URLs ending in <code>.php</code>, <code>.cfm</code> can produce any Content-Type.
The downloaded file will lose the server's declared Content-Type unless its appended as a file extension.
<code>tika_fetch()</code> gets a file from the URL, examines the server headers,
and appends the matching file extension
from Tika's database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_fetch(
  urls,
  download_dir = tempdir(),
  ssl_verifypeer = TRUE,
  retries = 1,
  quiet = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_fetch_+3A_urls">urls</code></td>
<td>
<p>Character vector of one or more URLs to be downloaded.</p>
</td></tr>
<tr><td><code id="tika_fetch_+3A_download_dir">download_dir</code></td>
<td>
<p>Character vector of length one describing the path to the directory to save the results.</p>
</td></tr>
<tr><td><code id="tika_fetch_+3A_ssl_verifypeer">ssl_verifypeer</code></td>
<td>
<p>Logical, with a default of TRUE. Some server SSL certificates might not be recognized by the host system, and in these rare cases the user can ignore that if they know why.</p>
</td></tr>
<tr><td><code id="tika_fetch_+3A_retries">retries</code></td>
<td>
<p>Integer of the number of times to retry each url after a failure to download.</p>
</td></tr>
<tr><td><code id="tika_fetch_+3A_quiet">quiet</code></td>
<td>
<p>Logical if download warnings should be printed. Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the same length and order as input with the paths describing the locations of the downloaded files. Errors are returned as NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tika_fetch('https://tika.apache.org/')
# a unique file name with .html appended to it

</code></pre>

<hr>
<h2 id='tika_html'>Get Structured XHTML</h2><span id='topic+tika_html'></span>

<h3>Description</h3>

<p>If <code>output_dir</code> is specified, files will have the <code>.html</code> file extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_html(input, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_html_+3A_input">input</code></td>
<td>
<p>Character vector describing the paths and/or urls to the input documents.</p>
</td></tr>
<tr><td><code id="tika_html_+3A_...">...</code></td>
<td>
<p>Other parameters to be sent to <code>tika()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector in the same order and with the same length as <code>input</code>, of unparsed <code>XHTML</code>. Unprocessed files are <code>as.character(NA)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
batch &lt;- c(
 system.file("extdata", "jsonlite.pdf", package = "rtika"),
 system.file("extdata", "curl.pdf", package = "rtika"),
 system.file("extdata", "table.docx", package = "rtika"),
 system.file("extdata", "xml2.pdf", package = "rtika"),
 system.file("extdata", "R-FAQ.html", package = "rtika"),
 system.file("extdata", "calculator.jpg", package = "rtika"),
 system.file("extdata", "tika.apache.org.zip", package = "rtika")
)
html &lt;- tika_html(batch)

</code></pre>

<hr>
<h2 id='tika_jar'>Path to Apache Tika</h2><span id='topic+tika_jar'></span>

<h3>Description</h3>

<p>Gets the path to the Tika App <code>.jar</code> installed by <code>tika_install()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_jar()
</code></pre>


<h3>Value</h3>

<p>A string describing the file path to the Tika App <code>.jar</code> file. If not found, <code>NA</code>.
</p>


<h3>Details</h3>

<p>The <code>tika_jar()</code> function also checks if the <code>.jar</code> is actually on the file system.
</p>
<p>The file path is used by all of the <code>tika()</code> functions by default.
</p>


<h3>Alternative Uses</h3>

<p>You can call Apache Tika directly,
as shown in the examples here.
</p>
<p>It is better to use the <code>sys</code> package and avoid <code>system2()</code>,
which has caused erratic, intermittent errors with Tika.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
jar &lt;- tika_jar()
# see help
sys::exec_wait('java',c('-jar',jar, '--help'))
# detect language of web page
sys::exec_wait('java',c('-jar',jar, '--language','https://tika.apache.org/'))

</code></pre>

<hr>
<h2 id='tika_json'>Get json Metadata and XHTML Content</h2><span id='topic+tika_json'></span>

<h3>Description</h3>

<p>Tika can parse and extract text from almost anything, including zip, tar, tar.bz2, and other archives that contain documents.
If you have a zip file with 100 text files in it, you can get the text and metadata for each file nested inside of the zip file.
This recursive output is currently used for the jsonified mode. See:  https://wiki.apache.org/tika/RecursiveMetadata
</p>
<p>The document content is XHTML in the &quot;X-TIKA:content&quot; field.
</p>
<p>If <code>output_dir</code> is specified, files will have the <code>.json</code> file extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_json(input, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_json_+3A_input">input</code></td>
<td>
<p>Character vector describing the paths and/or urls to the input documents.</p>
</td></tr>
<tr><td><code id="tika_json_+3A_...">...</code></td>
<td>
<p>Other parameters to be sent to <code>tika()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector in the same order and with the same length as <code>input</code>, of unparsed <code>json</code>. Unprocessed files are <code>as.character(NA)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
batch &lt;- c(
 system.file("extdata", "jsonlite.pdf", package = "rtika"),
 system.file("extdata", "curl.pdf", package = "rtika"),
 system.file("extdata", "table.docx", package = "rtika"),
 system.file("extdata", "xml2.pdf", package = "rtika"),
 system.file("extdata", "R-FAQ.html", package = "rtika"),
 system.file("extdata", "calculator.jpg", package = "rtika"),
 system.file("extdata", "tika.apache.org.zip", package = "rtika")
)
json &lt;- tika_json(batch)

</code></pre>

<hr>
<h2 id='tika_json_text'>Get json Metadata and Plain Text Content</h2><span id='topic+tika_json_text'></span>

<h3>Description</h3>

<p>Tika can parse and extract text from almost anything, including zip, tar, tar.bz2, and other archives that contain documents.
If you have a zip file with 100 text files in it, you can get the text and metadata for each file nested inside of the zip file.
This recursive output is currently used for the jsonified mode. See:  https://wiki.apache.org/tika/RecursiveMetadata
</p>
<p>The document contents are plain text in the &quot;X-TIKA:content&quot; field.
</p>
<p>If <code>output_dir</code> is specified, files will have the <code>.json</code> file extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_json_text(input, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_json_text_+3A_input">input</code></td>
<td>
<p>Character vector describing the paths and/or urls to the input documents.</p>
</td></tr>
<tr><td><code id="tika_json_text_+3A_...">...</code></td>
<td>
<p>Other parameters to be sent to <code>tika()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector in the same order and with the same length as <code>input</code>, of unparsed <code>json</code>. Unprocessed files are <code>as.character(NA)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
batch &lt;- c(
 system.file("extdata", "jsonlite.pdf", package = "rtika"),
 system.file("extdata", "curl.pdf", package = "rtika"),
 system.file("extdata", "table.docx", package = "rtika"),
 system.file("extdata", "xml2.pdf", package = "rtika"),
 system.file("extdata", "R-FAQ.html", package = "rtika"),
 system.file("extdata", "calculator.jpg", package = "rtika"),
 system.file("extdata", "tika.apache.org.zip", package = "rtika")
)
json &lt;- tika_json_text(batch)

</code></pre>

<hr>
<h2 id='tika_text'>Get Plain Text</h2><span id='topic+tika_text'></span>

<h3>Description</h3>

<p>If <code>output_dir</code> is specified, files will have the <code>.txt</code> file extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_text(input, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_text_+3A_input">input</code></td>
<td>
<p>Character vector describing the paths and/or urls to the input documents.</p>
</td></tr>
<tr><td><code id="tika_text_+3A_...">...</code></td>
<td>
<p>Other parameters to be sent to <code>tika()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector in the same order and with the same length as <code>input</code>, of plain text. Unprocessed files are <code>as.character(NA)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
batch &lt;- c(
 system.file("extdata", "jsonlite.pdf", package = "rtika"),
 system.file("extdata", "curl.pdf", package = "rtika"),
 system.file("extdata", "table.docx", package = "rtika"),
 system.file("extdata", "xml2.pdf", package = "rtika"),
 system.file("extdata", "R-FAQ.html", package = "rtika"),
 system.file("extdata", "calculator.jpg", package = "rtika"),
 system.file("extdata", "tika.apache.org.zip", package = "rtika")
)
text &lt;- tika_text(batch)

</code></pre>

<hr>
<h2 id='tika_xml'>Get a Structured XHTML Rendition</h2><span id='topic+tika_xml'></span>

<h3>Description</h3>

<p>If <code>output_dir</code> is specified, files will have the <code>.xml</code> file extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tika_xml(input, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tika_xml_+3A_input">input</code></td>
<td>
<p>Character vector describing the paths and/or urls to the input documents.</p>
</td></tr>
<tr><td><code id="tika_xml_+3A_...">...</code></td>
<td>
<p>Other parameters to be sent to <code>tika()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector in the same order and with the same length as <code>input</code>, of unparsed <code>XHTML</code>. Unprocessed files are <code>as.character(NA)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
batch &lt;- c(
 system.file("extdata", "jsonlite.pdf", package = "rtika"),
 system.file("extdata", "curl.pdf", package = "rtika"),
 system.file("extdata", "table.docx", package = "rtika"),
 system.file("extdata", "xml2.pdf", package = "rtika"),
 system.file("extdata", "R-FAQ.html", package = "rtika"),
 system.file("extdata", "calculator.jpg", package = "rtika"),
 system.file("extdata", "tika.apache.org.zip", package = "rtika")
)
xml &lt;- tika_xml(batch)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

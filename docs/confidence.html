<!DOCTYPE html><html lang="en"><head><title>Help for package confidence</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {confidence}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#confidence-package'><p>Confidence Estimation of Environmental State Classifications</p></a></li>
<li><a href='#backtransform'><p>Back-transformations</p>
</p>
<p>Performs inverse log or logit transformations.</p></a></li>
<li><a href='#conf'><p>Perform Confidence Run</p></a></li>
<li><a href='#conf_input'><p>Check Confidence data</p></a></li>
<li><a href='#DCA'><p>Annual Average 1,2-dichloroethane Concentration</p></a></li>
<li><a href='#EQR'><p>Annual Average Environmental Quality Ratio for Macrofauna.</p></a></li>
<li><a href='#metal'><p>Simulated Metal Contents</p></a></li>
<li><a href='#mya'><p>Multi-Year Average</p></a></li>
<li><a href='#sanitize'><p>Sanitize Text to Give Proper Filenames</p></a></li>
<li><a href='#strip_spaces'><p>Remove Redundant Spaces</p></a></li>
<li><a href='#transform'><p>Transformations</p>
</p>
<p>Performs log or logit transformations.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Confidence Estimation of Environmental State Classifications</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for estimating and reporting multi-year averages and
    corresponding confidence intervals and distributions. A potential use case
    is reporting the chemical and ecological status of surface waters according
    to the European Water Framework Directive.</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-07-01</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0), tcltk</td>
</tr>
<tr>
<td>Imports:</td>
<td>knitr, markdown, plyr, xtable, ggplot2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-07-01 20:57:58 UTC; dennis</td>
</tr>
<tr>
<td>Author:</td>
<td>Willem van Loon [aut, cph],
  Dennis Walvoort [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dennis Walvoort &lt;dennis.Walvoort@wur.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-07-01 23:55:43 UTC</td>
</tr>
</table>
<hr>
<h2 id='confidence-package'>Confidence Estimation of Environmental State Classifications</h2><span id='topic+confidence'></span><span id='topic+confidence-package'></span>

<h3>Description</h3>

<p>This package can be used to estimate the confidence of state classifications (e.g., with the classification &lsquo;bad&rsquo;, &lsquo;moderate&rsquo;, &lsquo;good&rsquo;) produced using environmental indicators and associated targets. The implementation closely follows Baggelaar et al. (2010) where the confidence intervals for the estimated multiyear averages are derived by assuming a Student's t distribution for the errors. For more information about the package see the package-vignette (type: <code>vignette("confidence")</code> at the <span class="rlang"><b>R</b></span>-prompt to view the vignette.).
</p>
<p>@seealso <code><a href="#topic+conf">conf</a></code> and the package vignette mentioned above.
</p>
<p>@author Willem M.G.M. van Loon and Dennis J.J. Walvoort
</p>
<p>@references Baggelaar, P., O. van Tongeren, R. Knoben, and W. van Loon, 2010. Rapporteren van de betrouwbaarheid van KRW-beoordelingen (in Dutch, English translation: Reporting the confidence of WFD-assessments). H2O 16: 21&ndash;25
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dennis Walvoort <a href="mailto:dennis.Walvoort@wur.nl">dennis.Walvoort@wur.nl</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Willem van Loon <a href="mailto:willem.van.loon@rws.nl">willem.van.loon@rws.nl</a> [copyright holder]
</p>
</li></ul>


<hr>
<h2 id='backtransform'>Back-transformations
Performs inverse log or logit transformations.</h2><span id='topic+backtransform'></span>

<h3>Description</h3>

<p>Back-transformations
</p>
<p>Performs inverse log or logit transformations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>backtransform(x, type = c("identity", "log", "logit", "none", NA_character_))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="backtransform_+3A_x">x</code></td>
<td>
<p>value to back-transform</p>
</td></tr>
<tr><td><code id="backtransform_+3A_type">type</code></td>
<td>
<p>type of transform (log, logit).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>backtransformed value
</p>

<hr>
<h2 id='conf'>Perform Confidence Run</h2><span id='topic+conf'></span>

<h3>Description</h3>

<p>This function starts the 'confidence tool'. The results will be stored 
in a subdirectory in the current working directory. See details section
below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conf(x = NULL, tmpdir = tempfile(pattern = "confidence"), browse = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conf_+3A_x">x</code></td>
<td>
<p>name of the input file or a <code><a href="base.html#topic+data.frame">data.frame</a></code> containing the 
input. If <code>x = <a href="base.html#topic+NULL">NULL</a></code> (the default) a file dialog will 
appear for interactive selection of an input file. See the package 
vignette for details about the file format.</p>
</td></tr>
<tr><td><code id="conf_+3A_tmpdir">tmpdir</code></td>
<td>
<p>directory to store temporary files (for debugging only)</p>
</td></tr>
<tr><td><code id="conf_+3A_browse">browse</code></td>
<td>
<p>load resulting report directly in a browser? <code>TRUE</code> or <code>FALSE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function will create a subdirectory
</p>

<ul>
<li><p>in the same directory as <code>x</code>, in case <code>x</code> is a filename or
</p>
</li>
<li><p>in the current working directory (see <code><a href="base.html#topic+getwd">getwd</a></code>), in case 
<code>x</code> is a <code><a href="base.html#topic+data.frame">data.frame</a></code>.
</p>
</li></ul>

<p>The computer should have write permission to this directory, if not
an error message will be raised. The
subdirectory contains an HTML-report with all analysis results. 
For convenience, the results are also stored in CSV-format (tables) 
and png-format (figures) for further processing.
</p>


<h3>See Also</h3>

<p><a href="#topic+confidence">confidence</a> and the package vignette 
(<code>vignette("confidence")</code>).
</p>

<hr>
<h2 id='conf_input'>Check Confidence data</h2><span id='topic+conf_input'></span>

<h3>Description</h3>

<p>This function checks <code>data.frames</code> to be used by the confidence 
package. The format has been specified in Van Loon (2014) and should
contain the following columns:
</p>

<ul>
<li><p>OBJECTID: water body code, e.g., NL89_os;
</p>
</li>
<li><p>PAR: parameter, e.g., Cadmium;
</p>
</li>
<li><p>DATE: date according to ISO 8601 (YYYY-mm-dd) for point values
or year YYYY for annual means;
</p>
</li>
<li><p>VALUE: numerical value.
</p>
</li>
<li><p>TARGET: target value for the European Water Framework Directive;
</p>
</li>
<li><p>UNIT: measurement unit of PAR. This unit should be the same for all
records with the same PAR and is the same for both VALUE 
and TARGET;
</p>
</li>
<li><p>transform: data transformation, i.e., log, logit, NA.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>conf_input(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="conf_input_+3A_x">x</code></td>
<td>
<p><code>data.frame</code> to be checked</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function performs the following tasks:
</p>

<ul>
<li><p>checks availablitity of required columns (case insensitive);
</p>
</li>
<li><p>make column names case-insensitive;
</p>
</li>
<li><p>removes redundant spaces;
</p>
</li>
<li><p>checks on missing values in required columns;
</p>
</li>
<li><p>checks if DATE-field adheres to ISO 8601 (YYYY-mm-dd) or YYYY;
</p>
</li>
<li><p>checks mixtures of annual averages and point values for a each year;
</p>
</li>
<li><p>checks if measurement units are the same for a specific 
OBJECTID-PAR-pair;
</p>
</li>
<li><p>checks if TARGET-value is the same for a specific 
OBJECTID-PAR-pair;
</p>
</li>
<li><p>checks if transform is one of log, logit, NA in transform column;
</p>
</li>
<li><p>checks that the EQR-column contains identical values fo each
OBJECTID-PAR combination.
</p>
</li></ul>



<h3>Value</h3>

<p><code>data.frame</code> that has passed all checks
</p>

<hr>
<h2 id='DCA'>Annual Average 1,2-dichloroethane Concentration</h2><span id='topic+DCA'></span>

<h3>Description</h3>

<p>Annual arithmetic average concentration of 1,2-dichloroethane (DCA) in
a specific water body (<code class="reqn">\mu g/l</code>), based on Baggelaar et al., (2010)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DCA
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 3 rows and 10 columns.</p>


<h3>Details</h3>

<p>The columns represent the following information:
</p>

<ul>
<li><p>OBJECTID: water body code
</p>
</li>
<li><p>PAR: parameter, in this case 1,2-dichloroethane;
</p>
</li>
<li><p>color: colors in density function;
</p>
</li>
<li><p>DATE: year;
</p>
</li>
<li><p>VALUE: annual arithmetic average concentration
</p>
</li>
<li><p>TARGET: target according to the European Water Framework Directive;
</p>
</li>
<li><p>UNIT: measurement unit (<code class="reqn">\mu g/l</code>).
</p>
</li></ul>

<p>@source Baggelaar, P., O. van Tongeren, R. Knoben, &amp; W. van Loon, 2010. 
Rapporteren van de betrouwbaarheid van KRW-beoordelingen. H2O 16, p.21&ndash;25
</p>

<hr>
<h2 id='EQR'>Annual Average Environmental Quality Ratio for Macrofauna.</h2><span id='topic+EQR'></span>

<h3>Description</h3>

<p>Annual artithmetic average environmental quality ratio's (EQR) for Macrofauna
in a specific water body, based on Baggelaar et al., (2010)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EQR
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 3 rows and 11 columns.</p>


<h3>Details</h3>

<p>The columns represent the following information:
</p>

<ul>
<li><p>OBJECTID: water body code
</p>
</li>
<li><p>PAR: parameter, in this case EQR;
</p>
</li>
<li><p>color: colors in density function;
</p>
</li>
<li><p>DATE: year;
</p>
</li>
<li><p>VALUE: annual arithmetic average EQR
</p>
</li>
<li><p>TARGET: target EQR;
</p>
</li>
<li><p>transfrom: applied transform
</p>
</li></ul>

<p>@source Baggelaar, P., O. van Tongeren, R. Knoben, &amp; W. van Loon, 2010. 
Rapporteren van de betrouwbaarheid van KRW-beoordelingen. H2O 16, p.21&ndash;25
</p>

<hr>
<h2 id='metal'>Simulated Metal Contents</h2><span id='topic+metal'></span>

<h3>Description</h3>

<p>A data set with two time-series of simulated metal contents.  These data
have mainly been used to test the package. Users may find this dataset
convenient as an example to construct their own data sets.
The columns represent the following information:
</p>

<ul>
<li><p>OBJECTID: water body code, e.g., NL89_os;
</p>
</li>
<li><p>PAR: parameter, e.g., Cadmium;
</p>
</li>
<li><p>color: colors in density function;
</p>
</li>
<li><p>DATE: date according to ISO 8601 (YYYY-mm-dd) for point values
or year YYYY for annual means;
</p>
</li>
<li><p>VALUE: numerical value.
</p>
</li>
<li><p>TARGET: e.g., the target value for the European Water Framework 
Directive;
</p>
</li>
<li><p>UNIT: measurement unit of PAR. This unit should be the same for all
records with the same PAR and is the same for both VALUE 
and TARGET;
</p>
</li>
<li><p>transfrom: data transformation, i.e., log, logit, NA.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>metal
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 8 rows and 8 columns.</p>

<hr>
<h2 id='mya'>Multi-Year Average</h2><span id='topic+mya'></span>

<h3>Description</h3>

<p>Estimates the multi-year average of environmental properties and
associated confidence intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mya(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mya_+3A_x">x</code></td>
<td>
<p>object of class <code><a href="#topic+conf_input">conf_input</a></code> or a <code><a href="base.html#topic+data.frame">data.frame</a></code>
that can be coerced to an instance of class <code><a href="#topic+conf_input">conf_input</a></code>.</p>
</td></tr>
<tr><td><code id="mya_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to other methods</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code><a href="base.html#topic+data.frame">data.frame</a></code> with the following columns:
</p>

<ul>
<li><p><code>MYA</code>: the multi-year arithmetic average;
</p>
</li>
<li><p><code>PROB_LTT</code>: the probability that <code>MYA</code> is less than the target value specified;
</p>
</li>
<li><p><code>PROB_GTT</code>: the probability that <code>MYA</code> is greater than the target value specified;
</p>
</li>
<li><p><code>q05</code>: the lowerbound of the 90% confidence interval of <code>MYA</code>
</p>
</li>
<li><p><code>q95</code>: the upperbound of the 90% confidence interval of <code>MYA</code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+conf">conf</a></code>
</p>

<hr>
<h2 id='sanitize'>Sanitize Text to Give Proper Filenames</h2><span id='topic+sanitize'></span>

<h3>Description</h3>

<p>Sanitize Text to Give Proper Filenames
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sanitize(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sanitize_+3A_x">x</code></td>
<td>
<p>character vector to sanitize</p>
</td></tr>
</table>


<h3>Value</h3>

<p>sanitized character vector
</p>

<hr>
<h2 id='strip_spaces'>Remove Redundant Spaces</h2><span id='topic+strip_spaces'></span>

<h3>Description</h3>

<p>This function removes redundant spaces from character vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strip_spaces(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="strip_spaces_+3A_x">x</code></td>
<td>
<p>character vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>character vector without trailing or multiple spaces
</p>


<h3>Examples</h3>

<pre><code class='language-R'>stopifnot(confidence:::strip_spaces(" Hello  World  ") == "Hello World")
</code></pre>

<hr>
<h2 id='transform'>Transformations
Performs log or logit transformations.</h2><span id='topic+transform'></span>

<h3>Description</h3>

<p>Transformations
</p>
<p>Performs log or logit transformations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform(x, type = c("identity", "log", "logit", "none", NA_character_))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="transform_+3A_x">x</code></td>
<td>
<p>value to transform</p>
</td></tr>
<tr><td><code id="transform_+3A_type">type</code></td>
<td>
<p>type of transform (log, logit).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>transformed value
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package RcmdrPlugin.survival</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RcmdrPlugin.survival}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Dialysis'>
<p>Hemodialysis Data from Brazil</p></a></li>
<li><a href='#mfrow'><p>Function to Compute Layout for Plot Array</p></a></li>
<li><a href='#plot.coxph'><p>Plot Method for coxph Objects</p></a></li>
<li><a href='#RcmdrPlugin.survival-internal'><p>Internal RcmdrPlugin.survival Objects</p></a></li>
<li><a href='#RcmdrPlugin.survival-package'>
<p>Rcmdr Plug-In Package for the <span class="pkg">survival</span> Package</p></a></li>
<li><a href='#Rossi'><p>Rossi et al.'s Criminal Recidivism Data</p></a></li>
<li><a href='#SurvivalData'><p>Define Survival Data Dialog Box</p></a></li>
<li><a href='#SurvivalDiagnostics'>
<p>Diagnostics for Survival Regression Models</p></a></li>
<li><a href='#unfold'><p>Convert a Survival Data Set from &quot;Wide&quot; to &quot;Long&quot; Format</p></a></li>
<li><a href='#Unfold-dialog'><p>Dialog to Convert a Survival Data Set from &quot;Wide&quot; to &quot;Long&quot; Format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Commander Plug-in for the 'survival' Package</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3-2</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-19</td>
</tr>
<tr>
<td>Author:</td>
<td>John Fox</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Fox &lt;jfox@mcmaster.ca&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>survival, date, stats</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcmdr (&ge; 2.8-0), car</td>
</tr>
<tr>
<td>Description:</td>
<td>An R Commander plug-in for the survival
  package, with dialogs for Cox models, parametric survival regression models,
  estimation of survival curves, and testing for differences in survival
  curves, along with data-management facilities and a variety of tests, 
  diagnostics and graphs.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>RcmdrModels:</td>
<td>coxph, survreg, coxph.penal</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-19 18:34:25 UTC; johnfox</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-21 08:52:38 UTC</td>
</tr>
</table>
<hr>
<h2 id='Dialysis'>
Hemodialysis Data from Brazil
</h2><span id='topic+Dialysis'></span>

<h3>Description</h3>

<p>This data set is analyzed in Sa Carvalho et al. (2003), and consists of data on 6805 hemodialysis patients
in all federally funded clinics in Rio de Janeiro State, Brazil.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Dialysis)</code></pre>


<h3>Format</h3>

<p>A data frame with 6805 observations on the following 7 variables.
</p>

<dl>
<dt><code>center</code></dt><dd><p>a numeric code indicating in which of 67 centers the patient was treated.</p>
</dd>
<dt><code>age</code></dt><dd><p>of the patient.</p>
</dd>
<dt><code>begin</code></dt><dd><p>The month in which treatment began, with <code>1</code> representing January 1998.</p>
</dd>
<dt><code>end</code></dt><dd><p>The month in which observation terminated, either because of death or censoring.
The study ended in month <code>44</code> (August, 2000).</p>
</dd>
<dt><code>event</code></dt><dd><p><code>1</code>, death, or <code>0</code>, censoring.</p>
</dd>
<dt><code>time</code></dt><dd><p>the difference between <code>end</code> and <code>begin</code>.</p>
</dd>
<dt><code>disease</code></dt><dd><p>a factor with levels <code>congen</code>, (congenital); <code>diabetes</code>; <code>hypert</code> (hypertension); <code>other</code>; and <code>renal</code>.</p>
</dd>
</dl>



<h3>Source</h3>

<p>M. Sa Carvalho, R. Henderson, S. Shimakura, and I. P. S. C. Sousa (2003). 
Survival of hemodialysis patients: Modeling differences in risk of dialysis centers. 
<em>International Journal for Quality in Health Care</em>, 15: 189&ndash;196.
</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>summary(Dialysis)
table(Dialysis$center)
</code></pre>

<hr>
<h2 id='mfrow'>Function to Compute Layout for Plot Array</h2><span id='topic+mfrow'></span>

<h3>Description</h3>

<p>Given a number of plots <code>n</code>, find a arrangement for showing the plots in an array, 
set by <code>par(mfrow=mfrow(n))</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mfrow(n, max.plots = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mfrow_+3A_n">n</code></td>
<td>
<p>number of plots</p>
</td></tr>
<tr><td><code id="mfrow_+3A_max.plots">max.plots</code></td>
<td>
<p>maximum number of plots; <code>0</code>, the default, means no maximum.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>John Fox &lt;jfox@mcmaster.ca&gt;</p>


<h3>See Also</h3>

<p><code>par</code></p>


<h3>Examples</h3>

<pre><code class='language-R'>mfrow(4)
mfrow(5)
mfrow(6)
</code></pre>

<hr>
<h2 id='plot.coxph'>Plot Method for coxph Objects</h2><span id='topic+plot.coxph'></span>

<h3>Description</h3>

<p>Plots the predicted survival function from a <code>coxph</code> object, setting covariates to particular values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'coxph'
plot(x, newdata, typical = mean,  byfactors=FALSE, 
  col = palette(), lty,  conf.level = 0.95, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.coxph_+3A_x">x</code></td>
<td>
<p>a <code>coxph</code> object.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_newdata">newdata</code></td>
<td>
<p>a data frame containing (combinations of) values to which predictors are set; optional.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_typical">typical</code></td>
<td>
<p>function to use to compute &quot;typical&quot; values of numeric predictors.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_byfactors">byfactors</code></td>
<td>
<p>if <code>TRUE</code>, different lines are drawn for each unique combination of factor values, 
including strata; if <code>FALSE</code> (the default) distinct lines are drawn only for different
strata, with all columns of the model matrix (including for factors) set to their means.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_col">col</code></td>
<td>
<p>colors for lines.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_lty">lty</code></td>
<td>
<p>line-types for lines; if missing, defaults to 1 to number required.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_conf.level">conf.level</code></td>
<td>
<p>level for confidence intervals; note: whether or not confidence intervals are
plotted is determined by <code><a href="survival.html#topic+plot.survfit">plot.survfit</a></code>, which <code>plot.coxph</code> calls; if a 
<code>conf.int</code> argument is supplied it is passed through.</p>
</td></tr>
<tr><td><code id="plot.coxph_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>plot</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>newdata</code> is missing then all combinations of levels of factor-predictors (or strata), 
if present, are combined with &quot;typical&quot; values of numeric predictors.
</p>


<h3>Value</h3>

<p>Invisibly returns the <code>summary</code> resulting from applying <code><a href="survival.html#topic+survfit.coxph">survfit.coxph</a></code> 
to the <code>coxph</code> object.
</p>


<h3>Author(s)</h3>

<p>John Fox <a href="mailto:jfox@mcmaster.ca">jfox@mcmaster.ca</a>.</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+coxph">coxph</a></code>, <code><a href="survival.html#topic+survfit.coxph">survfit.coxph</a></code>,
<code><a href="survival.html#topic+plot.survfit">plot.survfit</a></code>.</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(survival)
cancer$sex &lt;- factor(ifelse(cancer$sex == 1, "male", "female"))

mod.1 &lt;- coxph(Surv(time, status) ~ age + wt.loss, data=cancer)
plot(mod.1)
plot(mod.1, typical=function(x) quantile(x, c(.25, .75)))

mod.2 &lt;- coxph(Surv(time, status) ~ age + wt.loss + sex, data=cancer)
plot(mod.2)

mod.3 &lt;- coxph(Surv(time, status) ~ (age + wt.loss)*sex, data=cancer)
plot(mod.3)

mod.4 &lt;- coxph(Surv(time, status) ~ age + wt.loss + strata(sex), data=cancer)
plot(mod.4)

mods.1 &lt;- survreg(Surv(time, status) ~ age + wt.loss, data=cancer)
</code></pre>

<hr>
<h2 id='RcmdrPlugin.survival-internal'>Internal RcmdrPlugin.survival Objects</h2><span id='topic+allVarsClusters'></span><span id='topic+CoxDfbeta'></span><span id='topic+CoxDfbetas'></span><span id='topic+CoxModel'></span><span id='topic+coxphP'></span><span id='topic+CoxZPH'></span><span id='topic+highOrderTermsP'></span><span id='topic+listCoxModels'></span><span id='topic+listSurvregModels'></span><span id='topic+MartingalePlotsDialog'></span><span id='topic+myTkProgressBar'></span><span id='topic+NumericOrDate'></span><span id='topic+padNA'></span><span id='topic+PartialResPlots'></span><span id='topic+PlotCoxph'></span><span id='topic+startStop'></span><span id='topic+Survdiff'></span><span id='topic+Survfit'></span><span id='topic+survregModel'></span><span id='topic+survregP'></span><span id='topic+TermPlots'></span><span id='topic+toDate'></span>

<h3>Description</h3>

<p>Internal RcmdrPlugin.survival objects.</p>


<h3>Details</h3>

<p>These are not to be called by the user.</p>

<hr>
<h2 id='RcmdrPlugin.survival-package'>
Rcmdr Plug-In Package for the <span class="pkg">survival</span> Package
</h2><span id='topic+RcmdrPlugin.survival-package'></span><span id='topic+RcmdrPlugin.survival'></span>

<h3>Description</h3>

<p>An R Commander plug-in for the survival package,
with dialogs for managing survival data (this to a limited extent),
Cox models, parametric survival regression models,
estimation of survival curves, testing for differences in survival curves,
and a variety of diagnostics, tests, and displays.
</p>


<h3>Details</h3>

<p>The plug-in is tightly integrated with the <em>R Commander</em> interface; see the following menus: 
<strong>Data -&gt; Survival data&quot;</strong>, <strong>Statistics -&gt; Survival analysis</strong>, 
<strong>Statistics -&gt; Fit Models</strong>, <strong>Models -&gt; Hypothesis tests</strong>,
<strong>Models -&gt; Numerical diagnostics</strong>, <strong>Models -&gt; Graphs</strong>.
</p>


<h3>Acknowledgments</h3>

<p>I am grateful to Marilia Sa Carvalho, FIOCRUZ, Rio de Janeiro, Brazil, for many comments and suggestions, 
and to the following individuals for translations of messages into other languages: Philippe Grojean
(French), Matjaz Jeran (Slovenian), Anton Korobeinikov (Russian), Manuel Munoz Marquez (Spanish), and Marilia Sa Carvalho (Portuguese).
</p>


<h3>Author(s)</h3>

<p>John Fox
</p>
<p>Maintainer: John Fox <a href="mailto:jfox@mcmaster.ca">jfox@mcmaster.ca</a>
</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32, <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>

<hr>
<h2 id='Rossi'>Rossi et al.'s Criminal Recidivism Data</h2><span id='topic+Rossi'></span>

<h3>Description</h3>

<p>This data set is originally from Rossi et al. (1980), and is used as an example
in Allison (1995). The data pertain to 432 convicts who were released from
Maryland state prisons in the 1970s and who were followed up for one
year after release. Half the released convicts were assigned at random to
an experimental treatment in which they were given financial aid; half did not
receive aid.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Rossi</code></pre>


<h3>Format</h3>

<p>A data frame with 432 observations on the following 62 variables.
</p>

<dl>
<dt><code>week</code></dt><dd><p>week of first arrest after release or censoring; all censored
observations are censored at 52 weeks.</p>
</dd>
<dt><code>arrest</code></dt><dd><p><code>1</code> if arrested, <code>0</code> if not arrested.</p>
</dd>
<dt><code>fin</code></dt><dd><p>financial aid: <code>no</code> <code>yes</code>.</p>
</dd>
<dt><code>age</code></dt><dd><p>in years at time of release.</p>
</dd>
<dt><code>race</code></dt><dd><p><code>black</code> or <code>other</code>.</p>
</dd>
<dt><code>wexp</code></dt><dd><p>full-time work experience before incarceration: <code>no</code> or <code>yes</code>.</p>
</dd>
<dt><code>mar</code></dt><dd><p>marital status at time of release: <code>married</code> or <code>not married</code>.</p>
</dd>
<dt><code>paro</code></dt><dd><p>released on parole? <code>no</code> or <code>yes</code>.</p>
</dd>
<dt><code>prio</code></dt><dd><p>number of convictions prior to current incarceration.</p>
</dd>
<dt><code>educ</code></dt><dd><p>level of education: <code>2</code> = 6th grade or less;
<code>3</code> = 7th to 9th grade; <code>4</code> = 10th to 11th grade;
<code>5</code> = 12th grade; <code>6</code> = some college.</p>
</dd>
<dt><code>emp1</code></dt><dd><p>employment status in the first week after release: <code>no</code> or <code>yes</code>.</p>
</dd>
<dt><code>emp2</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp3</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp4</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp5</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp6</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp7</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp8</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp9</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp10</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp11</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp12</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp13</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp14</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp15</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp16</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp17</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp18</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp19</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp20</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp21</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp22</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp23</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp24</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp25</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp26</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp27</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp28</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp29</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp30</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp31</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp32</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp33</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp34</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp35</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp36</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp37</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp38</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp39</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp40</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp41</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp42</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp43</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp44</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp45</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp46</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp47</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp48</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp49</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp50</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp51</code></dt><dd><p>as above.</p>
</dd>
<dt><code>emp52</code></dt><dd><p>as above.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Allison, P.D. (1995). <em>Survival Analysis Using the SAS System: A Practical Guide.</em>
Cary, NC: SAS Institute.
</p>


<h3>References</h3>

<p>Rossi, P.H., R.A. Berk, and K.J. Lenihan (1980). <em>Money, Work, and Crime:
Some Experimental Results.</em> New York: Academic Press.
</p>
<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>summary(Rossi)
</code></pre>

<hr>
<h2 id='SurvivalData'>Define Survival Data Dialog Box</h2><span id='topic+SurvivalData'></span>

<h3>Description</h3>

<p>This dialog box permits you to define a time variable (or start and stop variables),
an event indicator, a strata variable or variables, and a cluster variable to be associated with the
current data set. If these characteristics are defined, then they will become default
choices where appropriate in other dialog boxes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SurvivalData() # normally not called directly
</code></pre>


<h3>Value</h3>

<p>Used only for its side effect.
</p>


<h3>Author(s)</h3>

<p>John Fox &lt;jfox@mcmaster.ca&gt;</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>

<hr>
<h2 id='SurvivalDiagnostics'>
Diagnostics for Survival Regression Models
</h2><span id='topic+SurvivalDiagnostics'></span><span id='topic+crPlots'></span><span id='topic+crPlots.coxph'></span><span id='topic+dfbeta.coxph'></span><span id='topic+plot.dfbeta.coxph'></span><span id='topic+dfbetas.coxph'></span><span id='topic+plot.dfbetas.coxph'></span><span id='topic+dfbeta.survreg'></span><span id='topic+plot.dfbeta.survreg'></span><span id='topic+dfbetas.survreg'></span><span id='topic+plot.dfbetas.survreg'></span><span id='topic+MartingalePlots'></span><span id='topic+MartingalePlots.coxph'></span><span id='topic+testPropHazards'></span><span id='topic+testPropHazards.coxph'></span>

<h3>Description</h3>

<p>These are primarily convenience functions for the <span class="pkg">RcmdrPlugin.survival</span> package, to produce diagnostics for <code><a href="survival.html#topic+coxph">coxph</a></code> and <code><a href="survival.html#topic+survreg">survreg</a></code> models in a convenient form for plotting via the package's GUI.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crPlots(model, ...)
## S3 method for class 'coxph'
crPlots(model, ...)

## S3 method for class 'coxph'
dfbeta(model, ...)
## S3 method for class 'dfbeta.coxph'
plot(x, ...)

## S3 method for class 'coxph'
dfbetas(model, ...)
## S3 method for class 'dfbetas.coxph'
plot(x, ...)

## S3 method for class 'survreg'
dfbeta(model, ...)
## S3 method for class 'dfbeta.survreg'
plot(x, ...)

## S3 method for class 'survreg'
dfbetas(model, ...)
## S3 method for class 'dfbetas.survreg'
plot(x, ...)

MartingalePlots(model, ...)
## S3 method for class 'coxph'
MartingalePlots(model, ...)

testPropHazards(model, test.terms = FALSE, plot.terms = FALSE, ...)
## S3 method for class 'coxph'
testPropHazards(model, test.terms = FALSE, plot.terms = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SurvivalDiagnostics_+3A_model">model</code>, <code id="SurvivalDiagnostics_+3A_x">x</code></td>
<td>
<p>a Cox regression or parametric survival regression model, as appropriate.</p>
</td></tr>
<tr><td><code id="SurvivalDiagnostics_+3A_test.terms">test.terms</code></td>
<td>
<p>test proportional hazards by terms in the Cox model, rather than by coefficients (default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="SurvivalDiagnostics_+3A_plot.terms">plot.terms</code></td>
<td>
<p>diagnostic plots of proportional hazards by terms in the Cox model, rather than by coefficients (default is <code>FALSE</code>).</p>
</td></tr>
<tr><td><code id="SurvivalDiagnostics_+3A_...">...</code></td>
<td>
<p>arguments to be passed down.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>crPlots.coxph</code> is a method for the <code><a href="car.html#topic+crPlots">crPlots</a></code> function in the <span class="pkg">car</span> package, to create component+residual (partial-residual) plots, using <code><a href="survival.html#topic+residuals.coxph">residuals.coxph</a></code> and <code><a href="survival.html#topic+predict.coxph">predict.coxph</a></code> in the <span class="pkg">survival</span> package.
</p>
</li>
<li> <p><code>testPropHazards</code> is essentially a wrapper for the <code><a href="survival.html#topic+cox.zph">cox.zph</a></code> function in the <span class="pkg">survival</span> package.
</p>
</li>
<li> <p><code>MartingalePlots</code> creates null-model Martingale plots for Cox regression models, using the <code><a href="survival.html#topic+residuals.coxph">residuals.coxph</a></code> function in the <span class="pkg">survival</span> package.
</p>
</li>
<li> <p><code>dfbeta.coxph</code> and <code>dfbetas.coxph</code> provide methods for the standard <code><a href="stats.html#topic+dfbeta">dfbeta</a></code> and <code><a href="stats.html#topic+dfbetas">dfbetas</a></code> functions, using the <code><a href="survival.html#topic+residuals.coxph">residuals.coxph</a></code> function in the <span class="pkg">survival</span> package for computation. <code>plot.dfbeta.coxph</code> and <code>plot.dfbetas.coxph</code> are plot methods for the objects produced by these functions.
</p>
</li>
<li> <p><code>dfbeta.survreg</code>, <code>dfbetas.survreg</code>, <code>plot.dfbeta.survreg</code> and <code>plot.dfbetas.survreg</code> are similar methods for <code><a href="survival.html#topic+survreg">survreg</a></code> objects.
</p>
</li></ul>



<h3>Value</h3>

<p>Most of these function create graphs and don't return useful values; the <code>dfbeta</code> and <code>dfbetas</code> methods create matrices of dfbeta and dfbetas values.
</p>


<h3>Author(s)</h3>

<p>John Fox &lt;jfox@mcmaster.ca&gt;</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>


<h3>See Also</h3>

<p><code><a href="survival.html#topic+coxph">coxph</a></code>, <code><a href="survival.html#topic+survreg">survreg</a></code>, <code><a href="car.html#topic+crPlots">crPlots</a></code>, <code><a href="survival.html#topic+residuals.coxph">residuals.coxph</a></code>, <code><a href="survival.html#topic+residuals.survreg">residuals.survreg</a></code>, <code><a href="survival.html#topic+predict.coxph">predict.coxph</a></code>, <code><a href="survival.html#topic+cox.zph">cox.zph</a></code>
</p>

<hr>
<h2 id='unfold'>Convert a Survival Data Set from &quot;Wide&quot; to &quot;Long&quot; Format</h2><span id='topic+unfold'></span><span id='topic+unfold.data.frame'></span>

<h3>Description</h3>

<p>Converts a survival-analysis data frame from &quot;wide&quot; format, in which time-varying covariates
are separate variables, one per occasion, to &quot;long&quot; or counting-process format in which each
occasion is a separate row in the data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unfold(data, ...)

## S3 method for class 'data.frame'
unfold(data, time, event, cov, 
  cov.names = paste("covariate", ".", 1:ncovs, sep = ""), 
  suffix = ".time", cov.times = 0:ncov, common.times = TRUE, lag = 0, 
  show.progress=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unfold_+3A_data">data</code></td>
<td>
<p>a data frame to be &quot;unfolded&quot; from wide to long.</p>
</td></tr>
<tr><td><code id="unfold_+3A_time">time</code></td>
<td>
<p>the column number or quoted name of the event/censoring-time variable in data.</p>
</td></tr>
<tr><td><code id="unfold_+3A_event">event</code></td>
<td>
<p>the column number or quoted name of the event/censoring-indicator variable in data.</p>
</td></tr>
<tr><td><code id="unfold_+3A_cov">cov</code></td>
<td>
<p>a vector giving the column numbers of the time-dependent covariate
in <code>data</code>, or a list of vectors if there is more than one time-varying
covariate.</p>
</td></tr>
<tr><td><code id="unfold_+3A_cov.names">cov.names</code></td>
<td>
<p>a character string or character vector giving the name or names
to be assigned to the time-dependent covariate(s) in the output data set.</p>
</td></tr>
<tr><td><code id="unfold_+3A_suffix">suffix</code></td>
<td>
<p>the suffix to be attached to the name of the time-to-event variable
in the output data set; defaults to '.time'.</p>
</td></tr>
<tr><td><code id="unfold_+3A_cov.times">cov.times</code></td>
<td>
<p>the observation times for the covariate values, including the start
time. This argument can take several forms: (1) The default is integers from 0 to 
the number of covariate values (i.e., one more than the length of each vector in <code>cov</code>).
(2) An arbitrary numerical vector with one more entry than the length of each
vector in <code>cov</code>. (3) The columns in the input data set that give the observations times for each
individual. There should be one more column than the length of each vector in <code>cov</code>.</p>
</td></tr>
<tr><td><code id="unfold_+3A_common.times">common.times</code></td>
<td>
<p>a logical value indicating whether the times of observation
are the same for all individuals; defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="unfold_+3A_lag">lag</code></td>
<td>
<p>number of observation periods to lag each value of the time-varying
covariate(s); defaults to <code>0</code>.</p>
</td></tr>
<tr><td><code id="unfold_+3A_show.progress">show.progress</code></td>
<td>
<p>if <code>TRUE</code>, the default, show a progress bar as the observations are processed.</p>
</td></tr>
<tr><td><code id="unfold_+3A_...">...</code></td>
<td>
<p>arguments to be passed down.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the &quot;long&quot; version of the data set.
</p>


<h3>Author(s)</h3>

<p>John Fox &lt;jfox@mcmaster.ca&gt;</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()){
	head(Rossi, 2)
	Rossi.long &lt;- unfold(Rossi, time="week", event="arrest", cov=11:62, 
	  cov.names="emp")
	head(Rossi.long, 50)
}
</code></pre>

<hr>
<h2 id='Unfold-dialog'>Dialog to Convert a Survival Data Set from &quot;Wide&quot; to &quot;Long&quot; Format</h2><span id='topic+Unfold-dialog'></span><span id='topic+Unfold'></span>

<h3>Description</h3>

<p>Converts a survival-analysis data frame from &quot;wide&quot; format, in which time-varying covariates
are separate variables, one per occasion, to &quot;long&quot; or counting-process format in which each
occasion is a separate row in the data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Unfold() # called via the R Commander menus
</code></pre>


<h3>Details</h3>

<p>Most of the dialog box is self-explanatory. A time-varying covariate is identified
by selecting the variables constituting the covariate in the &quot;wide&quot; version of the data set 
using the variable-list box at the lower-left; specifying a name to be used
for the covariate in the &quot;long&quot; version of the data set; and pressing the <em>Select</em> button. 
This process is repeated for each time-varying covariate. All time-varying covariates have to
be measured on the same occasions, which are assigned times 0, 1, ... in the output data set. If the
covariates are to be lagged, this is indicated via the <em>Lag covariates</em> slider near the
lower right. The default lag is 0 &mdash; i.e., no lag. The output data set will include variables named 
<code>start</code> and <code>stop</code>, which give the counting-process start and stop times for each
row, and an event indicator composed of the name of the event indicator in the &quot;wide&quot; form of the
data set and the suffix <code>.time</code>.
</p>
<p>The <em>Unfold</em> dialog calls the <code><a href="#topic+unfold">unfold</a></code> function, which is somewhat more flexible.
</p>


<h3>Author(s)</h3>

<p>John Fox &lt;jfox@mcmaster.ca&gt;</p>


<h3>References</h3>

<p>John Fox, Marilia Sa Carvalho (2012).
The RcmdrPlugin.survival Package: Extending the R Commander Interface to Survival Analysis.
<em>Journal of Statistical Software</em>, 49(7), 1-32. <a href="https://doi.org/10.18637/jss.v049.i07">doi:10.18637/jss.v049.i07</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+unfold">unfold</a></code></p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package vsd</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {vsd}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#vsd-package'><p>vsd: Graphical Shim for Visual Survival Data Analysis</p></a></li>
<li><a href='#.options'><p>VSD Options (Internal)</p></a></li>
<li><a href='#.subset_options'><p>VSD (Sub)Options (Internal)</p></a></li>
<li><a href='#vsd'><p>Visualizing Survival Data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Graphical Shim for Visual Survival Data Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a shim command for survival analysis graphic generation.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>survival, ggplot2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, survminer, flexsurv, magrittr, ggpubr, muhaz</td>
</tr>
<tr>
<td>Suggests:</td>
<td>plotly</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Collate:</td>
<td>'options.R' 'plot_forest.R' 'plot_hazard.R'
'plot_parametric.R' 'util.R' 'vsd-package.R' 'vsd.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-05-10 11:15:14 UTC; dusty</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel Camacho <a href="https://orcid.org/0000-0002-4980-9391"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Ana Abreu <a href="https://orcid.org/0000-0002-6155-8492"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    ths]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel Camacho &lt;2016711@student.uma.pt&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-05-11 09:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='vsd-package'>vsd: Graphical Shim for Visual Survival Data Analysis</h2><span id='topic+vsd-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p>Provides a shim command for survival analysis graphic generation.
</p>


<h3>Details</h3>

<p>The only function you're likely to need is <a href="#topic+vsd">vsd</a>, all other
functions are either private or ones that shouldn't be called
directly.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel Camacho <a href="mailto:2016711@student.uma.pt">2016711@student.uma.pt</a> (<a href="https://orcid.org/0000-0002-4980-9391">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Ana Abreu <a href="mailto:abreu@staff.uma.pt">abreu@staff.uma.pt</a> (<a href="https://orcid.org/0000-0002-6155-8492">ORCID</a>) [thesis advisor]
</p>
</li></ul>


<hr>
<h2 id='.options'>VSD Options (Internal)</h2><span id='topic+.options'></span>

<h3>Description</h3>

<p>Generates lists of lists of options for each graph type, from function call
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.options(arguments = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".options_+3A_arguments">arguments</code></td>
<td>
<p>Graph-specific arguments</p>
</td></tr>
<tr><td><code id=".options_+3A_...">...</code></td>
<td>
<p>General arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of list of graph options
</p>

<hr>
<h2 id='.subset_options'>VSD (Sub)Options (Internal)</h2><span id='topic+.subset_options'></span>

<h3>Description</h3>

<p>Agglutinates preset, ellipsis, and arguments under a graph type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.subset_options(subset, ellipsis, subarguments = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".subset_options_+3A_subset">subset</code></td>
<td>
<p>Graph-specific preset (and allowed) values</p>
</td></tr>
<tr><td><code id=".subset_options_+3A_ellipsis">ellipsis</code></td>
<td>
<p>General arguments</p>
</td></tr>
<tr><td><code id=".subset_options_+3A_subarguments">subarguments</code></td>
<td>
<p>Graph-specific arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>subset
</p>

<hr>
<h2 id='vsd'>Visualizing Survival Data</h2><span id='topic+vsd'></span><span id='topic+vsd.formula'></span><span id='topic+vsd.Surv'></span><span id='topic+vsd.coxph'></span><span id='topic+vsd.survfit'></span><span id='topic+vsd.survfitcox'></span><span id='topic+vsd.flexsurvreg'></span>

<h3>Description</h3>

<p>This function outputs renders of the inputted survival data analysis data
and/or model, and their components, into a graphically pleasing output, under
the <a href="ggplot2.html#topic+ggplot2">ggplot2</a> format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "parametric", "forest", "residuals", "hazard"),
  .arguments = list(),
  ...
)

## S3 method for class 'formula'
vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "hazard"),
  .arguments = list(),
  ...
)

## S3 method for class 'Surv'
vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "hazard"),
  .arguments = list(),
  ...
)

## S3 method for class 'coxph'
vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "forest", "residuals", "hazard"),
  .arguments = list(),
  ...
)

## S3 method for class 'survfit'
vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "hazard"),
  .arguments = list(),
  ...
)

## S3 method for class 'survfitcox'
vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "forest", "residuals", "hazard"),
  .arguments = list(),
  ...
)

## S3 method for class 'flexsurvreg'
vsd(
  model,
  data = NULL,
  .interactive = FALSE,
  .include = c("fit", "parametric", "hazard"),
  .arguments = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vsd_+3A_model">model</code></td>
<td>
<p>The survival model, or data structure, to generate graphics from</p>
</td></tr>
<tr><td><code id="vsd_+3A_data">data</code></td>
<td>
<p>Dataframe from where the model fetches its variables, if left
blank will be extracted from the model, if possible</p>
</td></tr>
<tr><td><code id="vsd_+3A_.interactive">.interactive</code></td>
<td>
<p>Allows to explore the generated graphs before returning
(use with <a href="https://plotly.com/r/">plotly</a> package for best results)</p>
</td></tr>
<tr><td><code id="vsd_+3A_.include">.include</code></td>
<td>
<p>Graph types to output if relevant, defaults to all possible</p>
</td></tr>
<tr><td><code id="vsd_+3A_.arguments">.arguments</code></td>
<td>
<p>Collection of list of arguments, indexed by the specific
type of graph they should be passed to, has priority over ...</p>
</td></tr>
<tr><td><code id="vsd_+3A_...">...</code></td>
<td>
<p>Miscellaneous arguments, passed to ALL graphs</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Depending on the kind of model passed to the function, the kind of generated
graphics might vary, but usually an estimation of the survival and risk
curves (depending if the model has covariables) is expected. The kinds of
graphics that can be created according to a specific R object are detailed on
Usage on <code>.include</code>'s definition, but non-relevant graphics can be requested
without error, as the function ignores them silently.
</p>
<p>Extra options for each graph kind can be passed to either all created
graphics, by having them as generic arguments, or to specific graphic types,
using a list in <code>.arguments</code>. Arguments are filtered, so that generic
arguments aren't applied if a graphic kind wouldn't use them. As an example,</p>
<pre>vsd(model, data, 
    .arguments = list(fit = (size = 3, xlab = "Weeks")),
    xlab = "Days") 
</pre>
<p>would set all graphics that have an label on the x axis to
&quot;Days&quot;, except the <code>fit</code> graph, which would have &quot;Weeks&quot; instead.
</p>


<h3>Value</h3>

<p>A list of ggplot2 graphs and/or list of graphs, relevant to the model
</p>


<h3>Methods (by class)</h3>


<ul>
<li> <p><code>formula</code>: Wraps <code>Surv(...) ~ (...)</code> in a survfit object (Kaplan-Meier
model)
</p>
</li>
<li> <p><code>Surv</code>: Wraps <code><a href="survival.html#topic+Surv">Surv()</a></code> in a survfit object (Kaplan-Meier
model)
</p>
</li>
<li> <p><code>coxph</code>: Wraps <code>coxph(...)</code> in a survfit object (Kaplan-Meier
model)
</p>
</li>
<li> <p><code>survfit</code>: Graphical output for survfit objects (Kaplan-Meier model)
</p>
</li>
<li> <p><code>survfitcox</code>: Graphical output for survfit objects (Cox model)
</p>
</li>
<li> <p><code>flexsurvreg</code>: Graphical output for flexsurvreg objects (various parametric models)
</p>
</li></ul>


<h3>Generic graphical arguments</h3>

<p>Unless specified, all graphics are created under <code><a href="ggpubr.html#topic+ggpar">ggpubr::ggpar()</a></code> and have
as additional options <code>palette</code>, <code>main</code>, <code>submain</code>, <code>xlab</code>, <code>ylab</code>,
<code>legend.title</code> and <code>ggtheme</code>. Most line graphics also allow to set the
options <code>size</code>, <code>linetype</code>, <code>alpha</code> and <code>color</code> to determine line styles, as
detailed on <code><a href="survminer.html#topic+ggsurvplot">survminer::ggsurvplot()</a></code>.
</p>


<h4>fit</h4>

<p>Line graphic, with a further subset of the options present in
<code><a href="survminer.html#topic+ggsurvplot">survminer::ggsurvplot()</a></code>: <code>censor</code>, <code>censor.shape</code>, <code>censor.size</code>,
<code>conf.int</code>, <code>conf.int.style</code>.
</p>



<h4>parametric</h4>

<p>Line graphic, with a further subset of the options present in
<code><a href="survminer.html#topic+ggflexsurvplot">survminer::ggflexsurvplot()</a></code>: <code>conf.int.km</code>.
</p>



<h4>forest</h4>

<p>Non-standard graphic(s), using all options within <code><a href="survminer.html#topic+ggforest">survminer::ggforest()</a></code>:
<code>main</code>, <code>cpositions</code>, <code>fontsize</code>, <code>refLabel</code>, <code>noDigits</code>.
</p>



<h4>residuals</h4>

<p>Line graphic(s), with a further subset of options present in
<code><a href="survminer.html#topic+ggcoxzph">survminer::ggcoxzph()</a></code>: <code>resid</code>, <code>se</code>, <code>df</code>, <code>nsmo</code>, <code>var</code>, <code>caption</code>; and
point style customization options as <code>point.col</code>, <code>point.size</code>,
<code>point.shape</code>, and <code>point.alpha</code>.
</p>



<h4>hazard</h4>

<p>Line graphics, using the generic graphical arguments.
</p>



<h3>Examples</h3>

<pre><code class='language-R'># non-models are cohersed into a survfit object with default arguments
vsd(coxph(Surv(time, status) ~ sex + strata(rx) + adhere, data = colon), 
    .include = c("haz"))

# parametric models are also supported with flexsurv
vsd(flexsurv::flexsurvreg(Surv(rectime, censrec) ~ group, data = flexsurv::bc, dist = 'gengamma'),
    .include = c("par"))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

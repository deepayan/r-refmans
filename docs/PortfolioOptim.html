<!DOCTYPE html><html><head><title>Help for package PortfolioOptim</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PortfolioOptim}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.F_func'><p>Auxiliary function used by .ZI_projection</p></a></li>
<li><a href='#.make_diag'><p>Makes a diagonal matrix with values from x</p></a></li>
<li><a href='#.RISK_post'><p>Computes the empirical Conditional Value-at-Risk, Value-at-Risk and Mean Absolute Deviation for losses with given probabilities</p></a></li>
<li><a href='#.ZI_projection'><p>Computes <br /></p>
the solution of the linear program
<code class="reqn">\min c^{T} x</code>
for <code class="reqn">Ax = b</code>, <code class="reqn">x \ge 0</code></a></li>
<li><a href='#BDportfolio_optim'><p>Portfolio Optimization by Benders decomposition</p></a></li>
<li><a href='#PortfolioOptimProjection'><p>Portfolio optimization which finds an optimal portfolio with the smallest distance to a benchmark.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Small/Large Sample Portfolio Optimization</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Two functions for financial portfolio optimization by linear programming are provided. One function implements Benders decomposition algorithm and can be used for very large data sets. The other, applicable for moderate sample sizes, finds optimal portfolio which has the smallest distance to a given benchmark portfolio.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.3.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GNU General Public License version 3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Author:</td>
<td>Andrzej Palczewski [aut, cre],
  Aleksandra Dabrowska [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrzej Palczewski &lt;A.Palczewski@mimuw.edu.pl&gt;</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rsymphony</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>mvtnorm, Rglpk, testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-02-07 12:30:03 UTC; apalczew</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-02-07 12:53:25 UTC</td>
</tr>
</table>
<hr>
<h2 id='.F_func'>Auxiliary function used by .ZI_projection</h2><span id='topic+.F_func'></span>

<h3>Description</h3>

<p>Auxiliary function used by .ZI_projection
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.F_func(rho, x, y, s, z, A, b, cl, p, B, xe, ka)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".F_func_+3A_rho">rho</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_x">x</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_y">y</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_s">s</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_z">z</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_a">A</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_b">b</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_cl">cl</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_p">p</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_b">B</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_xe">xe</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".F_func_+3A_ka">ka</code></td>
<td>
<p>g</p>
</td></tr>
</table>

<hr>
<h2 id='.make_diag'>Makes a diagonal matrix with values from x</h2><span id='topic+.make_diag'></span>

<h3>Description</h3>

<p>Function make_diag() takes a vector x and returns a matrix with diagonal consists the values of x.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.make_diag(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".make_diag_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>diagonal matrix y
</p>

<hr>
<h2 id='.RISK_post'>Computes the empirical Conditional Value-at-Risk, Value-at-Risk and Mean Absolute Deviation for losses with given probabilities</h2><span id='topic+.RISK_post'></span>

<h3>Description</h3>

<p>Computes the empirical Conditional Value-at-Risk, Value-at-Risk and Mean Absolute Deviation for losses with given probabilities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.RISK_post(returns, prob, alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".RISK_post_+3A_returns">returns</code></td>
<td>
<p>vector of losses</p>
</td></tr>
<tr><td><code id=".RISK_post_+3A_prob">prob</code></td>
<td>
<p>vector of probability of losses</p>
</td></tr>
<tr><td><code id=".RISK_post_+3A_alpha">alpha</code></td>
<td>
<p>confidence level for CVaR and VaR</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list of values
</p>

<hr>
<h2 id='.ZI_projection'>Computes <br />
the solution of the linear program
<code class="reqn">\min c^{T} x</code>
for <code class="reqn">Ax = b</code>, <code class="reqn">x \ge 0</code></h2><span id='topic+.ZI_projection'></span>

<h3>Description</h3>

<p>which fulfills the condition <code class="reqn">|B(x - xhat)|^2 \to \min</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.ZI_projection(clin, Amat, bmat, xhat, B, maxiter, tol, k)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id=".ZI_projection_+3A_clin">clin</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_amat">Amat</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_bmat">bmat</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_xhat">xhat</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_b">B</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_maxiter">maxiter</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_tol">tol</code></td>
<td>
<p>g</p>
</td></tr>
<tr><td><code id=".ZI_projection_+3A_k">k</code></td>
<td>
<p>g</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list
</p>

<hr>
<h2 id='BDportfolio_optim'>Portfolio Optimization by Benders decomposition</h2><span id='topic+BDportfolio_optim'></span>

<h3>Description</h3>

<p>BDportfolio_optim is a linear program  for financial portfolio optimization. 
Portfolio risk is measured by one of the risk measures from the list  c(&quot;CVAR&quot;, &quot;DCVAR&quot;, &quot;LSAD&quot;, &quot;MAD&quot;). 
Benders decomposition method is explored to enable optimization for very large returns samples (<code class="reqn">\sim 10^6</code>). 
</p>
<p>The optimization problem is:<br />  
<code class="reqn">\min F({\theta^{T}} r)</code> <br />  
over <br /> 
<code class="reqn">\theta^{T} E(r)</code> <code class="reqn">\ge</code> <code class="reqn">portfolio\_return</code>, <br /> 
<code class="reqn">LB</code> <code class="reqn">\le \theta \le</code> <code class="reqn">UB</code>, <br /> 
<code class="reqn">Aconstr</code> <code class="reqn">\theta \le</code> <code class="reqn">bconstr</code>, <br /> 
where <br /> 
<code class="reqn">F</code> is a measure of risk; <br /> 
<code class="reqn">r</code> is a time series of returns of assets; <br /> 
<code class="reqn">\theta</code> is a vector of portfolio weights. <br />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BDportfolio_optim(dat, portfolio_return,  
risk=c("CVAR", "DCVAR","LSAD","MAD"), alpha=0.95,  
Aconstr=NULL, bconstr=NULL, LB=NULL, UB=NULL, maxiter=500,tol=1e-8)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BDportfolio_optim_+3A_dat">dat</code></td>
<td>
<p>Time series of returns data; dat = cbind(rr, pk), where <code class="reqn">rr</code> is an array (time series) of asset returns,
for <code class="reqn">n</code> returns and <code class="reqn">k</code> assets it is an array with <code class="reqn">\dim(rr) = (n, k)</code>,     
<code class="reqn">pk</code> is a vector of length <code class="reqn">n</code> containing probabilities of returns.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_portfolio_return">portfolio_return</code></td>
<td>
<p>Target portfolio return.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_risk">risk</code></td>
<td>
<p>Risk measure chosen for optimization; one of &quot;CVAR&quot;, &quot;DCVAR&quot;, &quot;LSAD&quot;, &quot;MAD&quot;, where 
&quot;CVAR&quot; &ndash; denotes Conditional Value-at-Risk (CVaR),
&quot;DCVAR&quot; &ndash; denotes deviation CVaR,
&quot;LSAD&quot; &ndash; denotes Lower Semi Absolute Deviation,
&quot;MAD&quot; &ndash; denotes Mean Absolute Deviation.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_alpha">alpha</code></td>
<td>
<p>Value of alpha quantile used to compute portfolio VaR and CVaR; used also as quantile value for risk measures CVAR and DCVAR.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_aconstr">Aconstr</code></td>
<td>
<p>Matrix defining additional constraints,   <code class="reqn">\dim (Aconstr) = (m,k)</code>, where 
<code class="reqn">k</code> &ndash; number of assets, <code class="reqn">m</code> &ndash; number of constraints.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_bconstr">bconstr</code></td>
<td>
<p>Vector defining additional constraints, length (<code class="reqn">bconstr</code>) <code class="reqn"> = m</code>.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_lb">LB</code></td>
<td>
<p>Vector of length k, lower bounds of portfolio weights <code class="reqn">\theta</code>; warning: condition LB = NULL is equivalent to LB = rep(0, k) (lower bound zero).</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_ub">UB</code></td>
<td>
<p>Vector of length k, upper bounds for portfolio weights <code class="reqn">\theta</code>.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_maxiter">maxiter</code></td>
<td>
<p>Maximal number of iterations.</p>
</td></tr>
<tr><td><code id="BDportfolio_optim_+3A_tol">tol</code></td>
<td>
<p>Accuracy of computations, stopping rule.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>BDportfolio_optim returns a list with items: 
</p>

<table>
<tr>
 <td style="text-align: left;"> 
<code>return_mean</code> </td><td style="text-align: left;"> vector of asset returns  mean values. </td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>mu</code> </td><td style="text-align: left;">  realized portfolio return.</td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>theta</code> </td><td style="text-align: left;">  portfolio weights.</td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>CVaR</code> </td><td style="text-align: left;">  portfolio CVaR.</td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>VaR</code> </td><td style="text-align: left;">  portfolio VaR.</td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>MAD</code> </td><td style="text-align: left;">  portfolio MAD.</td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>risk</code> </td><td style="text-align: left;">  portfolio risk measured by the risk measure chosen for optimization.</td>
</tr>
<tr>
 <td style="text-align: left;"> 

<code>new_portfolio_return</code> </td><td style="text-align: left;">  modified target portfolio return; when the original target portfolio return </td>
</tr>
<tr>
 <td style="text-align: left;"> 

 </td><td style="text-align: left;"> is to high for the problem, the optimization problem is solved for </td>
</tr>
<tr>
 <td style="text-align: left;"> 

 </td><td style="text-align: left;"> new_portfolio_return as the target return. </td>
</tr>
<tr>
 <td style="text-align: left;"> 
</td>
</tr>

</table>



<h3>References</h3>

<p>Benders, J.F.,   Partitioning procedures for solving mixed-variables programming problems. Number. Math., 4 (1962),  238&ndash;252, reprinted in 
Computational Management Science 2 (2005), 3&ndash;19. DOI: 10.1007/s10287-004-0020-y. 
</p>
<p>Konno, H., Piecewise linear risk function and portfolio optimization, Journal of the Operations Research Society of Japan, 33 (1990), 139&ndash;156. 
</p>
<p>Konno, H., Yamazaki, H.,  Mean-absolute deviation portfolio optimization model and its application to Tokyo stock market. Management Science, 37 (1991), 519&ndash;531. 
</p>
<p>Konno, H., Waki, H.,   Yuuki, A., Portfolio optimization under lower partial risk measures, Asia-Pacific Financial Markets, 9 (2002), 127&ndash;140. DOI: 10.1023/A:1022238119491. 
</p>
<p>Kunzi-Bay, A.,  Mayer, J., Computational aspects of minimizing conditional value at risk. Computational Management Science, 3 (2006), 3&ndash;27. DOI: 10.1007/s10287-005-0042-0. 
</p>
<p>Rockafellar, R.T., Uryasev, S.,  Optimization of conditional value-at-risk. Journal of Risk, 2 (2000), 21&ndash;41. DOI: 10.21314/JOR.2000.038.  
</p>
<p>Rockafellar, R. T., Uryasev, S.,  Zabarankin, M.,  Generalized deviations in risk analysis. Finance and Stochastics, 10 (2006), 51&ndash;74. DOI: 10.1007/s00780-005-0165-8.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library (Rsymphony)  
library(Rglpk) 
library(mvtnorm)
k = 3 
num =100
dat &lt;-  cbind(rmvnorm (n=num, mean = rep(0,k), sigma=diag(k)), matrix(1/num,num,1)) 
# a data sample with num rows and (k+1) columns for k assets; 
port_ret = 0.05 # target portfolio return 
alpha_optim = 0.95 

# minimal constraints set: \eqn{\sum \theta_{i} = 1} 
# has to be in two inequalities: \eqn{1 - \epsilon &lt;= \sum \theta_{i} &lt;= 1 + \epsilon} 
a0 &lt;- rep(1,k) 
Aconstr &lt;- rbind(a0,-a0) 
bconstr &lt;- c(1+1e-8, -1+1e-8) 

LB &lt;- rep(0,k) 
UB &lt;- rep(1,k) 

res &lt;- BDportfolio_optim(dat, port_ret, "CVAR", alpha_optim, 
Aconstr, bconstr, LB, UB, maxiter=200, tol=1e-8) 

cat ( c("Benders decomposition portfolio:\n\n")) 
cat(c("weights \n")) 
print(res$theta) 

cat(c("\n mean = ", res$mu, " risk  = ", res$risk, 
"\n CVaR = ", res$CVaR, " VaR = ", res$VaR, "\n MAD = ", res$MAD, "\n\n")) 
 

</code></pre>

<hr>
<h2 id='PortfolioOptimProjection'>Portfolio optimization which finds an optimal portfolio with the smallest distance to a benchmark.</h2><span id='topic+PortfolioOptimProjection'></span>

<h3>Description</h3>

<p>PortfolioOptimProjection is a linear program for financial portfolio optimization. The function finds an optimal portfolio 
which has the smallest distance to a benchmark portfolio given by <code>bvec</code>.
Solution is by the algorithm due to Zhao and Li modified to account for the fact that the benchmark portfolio <code>bvec</code> has the dimension of portfolio weights 
and the solved linear program  has a much higher dimension since the solution vector to the LP problem consists of a set of primal variables: financial portfolio weights, 
auxiliary variables coming from the reduction of the mean-risk problem to a linear program and also a set of dual variables  depending  
on the number of constrains in the primal problem (see Palczewski).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PortfolioOptimProjection (dat, portfolio_return,
risk=c("CVAR","DCVAR","LSAD","MAD"), alpha=0.95, bvec,
Aconstr=NULL, bconstr=NULL, LB=NULL, UB=NULL, maxiter=500, tol=1e-7)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PortfolioOptimProjection_+3A_dat">dat</code></td>
<td>
<p>Time series of returns data; dat = cbind(rr, pk), where <code class="reqn">rr</code> is an array (time series) of asset returns,
for <code class="reqn">n</code> returns and <code class="reqn">k</code> assets it is an array with <code class="reqn">\dim(rr) = (n, k)</code>,    
<code class="reqn">pk</code> is a vector of length <code class="reqn">n</code> containing probabilities of returns.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_portfolio_return">portfolio_return</code></td>
<td>
<p>Target portfolio return.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_risk">risk</code></td>
<td>
<p>Risk measure chosen for optimization; one of &quot;CVAR&quot;, &quot;DCVAR&quot;, &quot;LSAD&quot;, &quot;MAD&quot;, where
&quot;CVAR&quot; &ndash; denotes Conditional Value-at-Risk (CVaR),
&quot;DCVAR&quot; &ndash; denotes deviation CVaR,
&quot;LSAD&quot; &ndash; denotes Lower Semi Absolute Deviation,
&quot;MAD&quot; &ndash; denotes Mean Absolute Deviation.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_alpha">alpha</code></td>
<td>
<p>Value of alpha quantile used to compute portfolio VaR and CVaR; used also as quantile value for risk measures CVAR and DCVAR.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_bvec">bvec</code></td>
<td>
<p>Benchmark portfolio, a vector of length k; function <code>PortfolioOptimProjection</code> finds an optimal portfolio with the smallest distance to <code>bvec</code>.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_aconstr">Aconstr</code></td>
<td>
<p>Matrix defining additional constraints,   <code class="reqn">\dim (Aconstr) = (m,k)</code>, where
<code class="reqn">k</code> &ndash; number of assets, <code class="reqn">m</code> &ndash; number of constraints.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_bconstr">bconstr</code></td>
<td>
<p>Vector defining additional constraints, length (<code class="reqn">bconstr</code>) <code class="reqn"> = m</code>.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_lb">LB</code></td>
<td>
<p>Vector of length k, lower bounds of portfolio weights <code class="reqn">\theta</code>; warning: condition LB = NULL is equivalent to LB = rep(0, k) (lower bound zero).</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_ub">UB</code></td>
<td>
<p>Vector of length k, upper bounds for portfolio weights <code class="reqn">\theta</code>.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_maxiter">maxiter</code></td>
<td>
<p>Maximal number of iterations.</p>
</td></tr>
<tr><td><code id="PortfolioOptimProjection_+3A_tol">tol</code></td>
<td>
<p>Accuracy of computations, stopping rule.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>PortfolioOptimProjection returns a list with items:
</p>

<table>
<tr>
 <td style="text-align: left;">
<code>return_mean</code> </td><td style="text-align: left;"> vector of asset returns  mean values. </td>
</tr>
<tr>
 <td style="text-align: left;">

<code>mu</code> </td><td style="text-align: left;">  realized portfolio return.</td>
</tr>
<tr>
 <td style="text-align: left;">

<code>theta</code> </td><td style="text-align: left;">  portfolio weights.</td>
</tr>
<tr>
 <td style="text-align: left;">

<code>CVaR</code> </td><td style="text-align: left;">  portfolio CVaR.</td>
</tr>
<tr>
 <td style="text-align: left;">

<code>VaR</code> </td><td style="text-align: left;">  portfolio VaR.</td>
</tr>
<tr>
 <td style="text-align: left;">

<code>MAD</code> </td><td style="text-align: left;">  portfolio MAD.</td>
</tr>
<tr>
 <td style="text-align: left;">

<code>risk</code> </td><td style="text-align: left;">  portfolio risk measured by the risk measure chosen for optimization.</td>
</tr>
<tr>
 <td style="text-align: left;">

<code>new_portfolio_return</code> </td><td style="text-align: left;">  modified target portfolio return; when the original target portfolio return </td>
</tr>
<tr>
 <td style="text-align: left;">

 </td><td style="text-align: left;"> is to high for the problem, the optimization problem is solved for </td>
</tr>
<tr>
 <td style="text-align: left;">

 </td><td style="text-align: left;"> new_portfolio_return as the target return. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>References</h3>

<p>Palczewski, A., LP Algorithms for Portfolio Optimization: The PortfolioOptim Package, R Journal, 10(1) (2018), 308&ndash;327. DOI:10.32614/RJ-2018-028.
</p>
<p>Zhao, Y-B., Li, D., Locating the least 2-norm solution of linear programs via a path-following method, SIAM Journal on Optimization, 12 (2002), 893&ndash;912. DOI:10.1137/S1052623401386368.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(mvtnorm)
k = 3 
num =100
dat &lt;-  cbind(rmvnorm (n=num, mean = rep(0,k), sigma=diag(k)), matrix(1/num,num,1)) 
# a data sample with num rows and (k+1) columns for k assets;  
w_m &lt;- rep(1/k,k) # benchmark portfolio, a vector of length k, 
port_ret = 0.05 # portfolio target return
alpha_optim = 0.95

# minimal constraints set: \sum theta_i = 1
# has to be in two inequalities: 1 - \epsilon &lt;= \sum theta_i &lt;= 1 +\epsilon
a0 &lt;- rep(1,k)
Aconstr &lt;- rbind(a0,-a0)
bconstr &lt;- c(1+1e-8, -1+1e-8)

LB &lt;- rep(0,k) 
UB &lt;- rep(1,k)  

res &lt;- PortfolioOptimProjection(dat, port_ret, risk="MAD",  
alpha=alpha_optim, w_m, Aconstr, bconstr, LB, UB, maxiter=200, tol=1e-7)

cat ( c("Projection optimal portfolio:\n\n"))
cat(c("weights \n"))
print(res$theta)


cat (c ("\n mean = ", res$mu, " risk  = ", res$risk,    "\n CVaR = ", res$CVaR, " VaR = ",
res$VaR, "\n MAD = ", res$MAD,  "\n\n"))


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

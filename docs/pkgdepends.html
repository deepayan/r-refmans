<!DOCTYPE html><html lang="en"><head><title>Help for package pkgdepends</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pkgdepends}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pkgdepends-package'><p>pkgdepends: Package Dependency Resolution and Downloads</p></a></li>
<li><a href='#as_pkg_dependencies'><p>Shorthands for dependency specifications</p></a></li>
<li><a href='#config'><p>Package configuration (internals)</p></a></li>
<li><a href='#current_r_platform'><p>R platforms</p></a></li>
<li><a href='#ghr'><p>GitHub Releases</p></a></li>
<li><a href='#ghrepo'><p>Update a CRAN-like repository of binary packages at GitHub</p></a></li>
<li><a href='#git_download_file'><p>Download a blob for a remote git repository</p></a></li>
<li><a href='#git_fetch'><p>Get a packfile for an object from a remote git repository</p></a></li>
<li><a href='#git_list_files'><p>List files in a remote git repository</p></a></li>
<li><a href='#git_list_refs'><p>List references in a remote git repository</p></a></li>
<li><a href='#git-protocol'><p>git protocol notes, for developers</p></a></li>
<li><a href='#install_package_plan'><p>Perform a package installation plan</p></a></li>
<li><a href='#install_plans'><p>Installation plans</p></a></li>
<li><a href='#is_valid_package_name'><p>Check whether a package name is valid</p></a></li>
<li><a href='#lib_status'><p>Status of packages in a library</p></a></li>
<li><a href='#new_pkg_deps'><p>R6 class for package dependency lookup</p></a></li>
<li><a href='#new_pkg_download_proposal'><p>R6 class for package downloads</p></a></li>
<li><a href='#new_pkg_installation_plan'><p>R6 class for installation from a lock file</p></a></li>
<li><a href='#new_pkg_installation_proposal'><p>R6 class for package download and installation.</p></a></li>
<li><a href='#parse_pkg_refs'><p>Parse package location references</p></a></li>
<li><a href='#pkg_build'><p>Create a binary package from an installed package</p></a></li>
<li><a href='#pkg_config'><p>pkgdepends configuration</p></a></li>
<li><a href='#pkg_dep_types_hard'><p>Possible package dependency types</p></a></li>
<li><a href='#pkg_downloads'><p>Package downloads</p></a></li>
<li><a href='#pkg_name_check'><p>Check if an R package name is available.</p></a></li>
<li><a href='#pkg_refs'><p>Package references</p></a></li>
<li><a href='#pkg_resolution'><p>Dependency resolution</p></a></li>
<li><a href='#pkg_rx'><p>A set of handy regular expressions related to R packages</p></a></li>
<li><a href='#pkg_solution'><p>The dependency solver</p></a></li>
<li><a href='#repo'><p>Query and manipulate CRAN-like repositories</p></a></li>
<li><a href='#sysreqs_check_installed'><p>Check if installed packages have all their system requirements</p></a></li>
<li><a href='#sysreqs_db_list'><p>List contents of the system requirements DB, for a platform</p></a></li>
<li><a href='#sysreqs_db_match'><p>Match system requirement descriptions to the database</p></a></li>
<li><a href='#sysreqs_db_update'><p>Update the cached copy of the system requirements database</p></a></li>
<li><a href='#sysreqs_install_plan'><p>Create an installation plan for system requirements</p></a></li>
<li><a href='#sysreqs_is_supported'><p>Check if a platform has system requirements support</p></a></li>
<li><a href='#sysreqs_list_system_packages'><p>List installed system packages</p></a></li>
<li><a href='#sysreqs_platforms'><p>List platforms with system requirements support</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Package Dependency Resolution and Downloads</td>
</tr>
<tr>
<td>Version:</td>
<td>0.8.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Find recursive dependencies of 'R' packages from various
    sources. Solve the dependencies to obtain a consistent set of packages
    to install. Download packages, and install them. It supports packages
    on 'CRAN', 'Bioconductor' and other 'CRAN-like' repositories,
    'GitHub', package 'URLs', and local package trees and files. It caches
    metadata and package files via the 'pkgcache' package, and performs
    all 'HTTP' requests, downloads, builds and installations in parallel.
    'pkgdepends' is the workhorse of the 'pak' package.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-lib.github.io/pkgdepends/">https://r-lib.github.io/pkgdepends/</a>,
<a href="https://github.com/r-lib/pkgdepends">https://github.com/r-lib/pkgdepends</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/pkgdepends/issues">https://github.com/r-lib/pkgdepends/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>callr (&ge; 3.3.1), cli (&ge; 3.6.0), curl, desc (&ge; 1.4.3),
filelock (&ge; 1.0.2), jsonlite, lpSolve, pkgbuild (&ge; 1.0.2),
pkgcache (&ge; 2.2.0), processx (&ge; 3.4.2), ps, R6, stats, utils,
zip (&ge; 2.3.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>asciicast (&ge; 2.2.0.9000), codetools, covr, debugme, fansi,
fs, gh, gitcreds, glue, htmlwidgets, mockery, pak, pingr (&ge;
2.0.0), rmarkdown, rstudioapi, spelling, svglite, testthat (&ge;
3.2.0), tibble, webfakes (&ge; 1.1.5.9000), withr (&ge; 2.1.1),</td>
</tr>
<tr>
<td>Config/Needs/builder:</td>
<td>gh, pkgsearch, withr (&gt;= 2.1.1)</td>
</tr>
<tr>
<td>Config/Needs/coverage:</td>
<td>r-lib/asciicast, covr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>r-lib/asciicast, pkgdown (&gt;= 2.0.2),
tidyverse/tidytemplate</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1.9000</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-12 09:22:56 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Author:</td>
<td>G√°bor Cs√°rdi [aut, cre],
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>G√°bor Cs√°rdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-12 17:40:18 UTC</td>
</tr>
</table>
<hr>
<h2 id='pkgdepends-package'>pkgdepends: Package Dependency Resolution and Downloads</h2><span id='topic+pkgdepends'></span><span id='topic+pkgdepends-package'></span>

<h3>Description</h3>

<p>pkgdepends is a toolkit for package dependencies, downloads and
installations, to be used in other packages. If you are looking for a
package manager, see <a href="https://github.com/r-lib/pak">pak</a>.
</p>


<h3>Features</h3>


<ul>
<li><p> Look up package dependencies recursively.
</p>
</li>
<li><p> Visualize package dependencies.
</p>
</li>
<li><p> Download packages and their dependencies.
</p>
</li>
<li><p> Install downloaded packages.
</p>
</li>
<li><p> Includes a dependency solver to find a consistent set of dependencies.
</p>
</li>
<li><p> Supports CRAN and Bioconductor packages automatically.
</p>
</li>
<li><p> Supports packages on GitHub and GitLab.
</p>
</li>
<li><p> Supports packages in git repositories.
</p>
</li>
<li><p> Supports package bundles or files on the web.
</p>
</li>
<li><p> Supports local package file and trees.
</p>
</li>
<li><p> Supports the <code>Remotes</code> entry in the <code>DESCRIPTION</code> file.
</p>
</li>
<li><p> Caches metadata and downloaded packages via
<a href="https://github.com/r-lib/pkgcache">pkgcache</a>
</p>
</li>
<li><p> Performs all downloads and HTTP queries concurrently.
</p>
</li>
<li><p> Builds and installs packages in parallel.
</p>
</li></ul>



<h3>Install</h3>

<p>Install the package with:
</p>
<div class="sourceCode r"><pre>install.packages("pkgdepends")
</pre></div>
<p>If you need the development version, install it with
</p>
<div class="sourceCode r"><pre>pak::pak("r-lib/pkgdepends")
</pre></div>


<h3>Usage</h3>

<div class="sourceCode r"><pre>library(pkgdepends)
</pre></div>


<h4>Package references</h4>

<p>A package reference (ref) specifies a location from which an R package
can be obtained from. Examples:
</p>
<div class="sourceCode"><pre>devtools
cran::devtools
bioc::Biobase
r-lib/pkgdepends
https://github.com/r-lib/pkgdepends
local::~/works/shiny
</pre></div>
<p>See <a href="#topic+pkg_refs">‚ÄúPackage references‚Äù</a> for details.
</p>



<h4>Package dependencies</h4>

<p>Dependencies of the development version of the cli package:
</p>
<div class="sourceCode r"><pre>pd &lt;- new_pkg_deps("r-lib/pkgcache")
pd$solve()
pd$draw()
</pre></div>
<div class="asciicast"
style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000">


<pre>
## <span style="color: #859900;">‚úî</span> Loading metadata database ... done                                    
## <span style="font-weight: bold;font-style: italic;color: #2AA198;">r-lib/pkgcache </span><span style="font-weight: bold;font-style: italic;color: #525252;">2.1.0.9000</span> <span style="color: #859900;">‚ú®üë∑üèΩüîß </span>                                         
## ‚îú‚îÄcallr <span style="color: #525252;">3.7.3</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(431.00 kB)</span>                                           
## ‚îÇ ‚îú‚îÄprocessx <span style="color: #525252;">3.8.1</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(316.20 kB)</span>                                      
## ‚îÇ ‚îÇ ‚îú‚îÄps <span style="color: #525252;">1.7.5</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(313.92 kB)</span>                                          
## ‚îÇ ‚îÇ ‚îî‚îÄR6 <span style="color: #525252;">2.5.1</span> <span style="color: #859900;">‚ú®</span>                                                        
## ‚îÇ ‚îî‚îÄR6                                                                  
## ‚îú‚îÄcli <span style="color: #525252;">3.6.1</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(1.38 MB)</span>                                               
## ‚îú‚îÄcurl <span style="color: #525252;">5.0.0</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(777.64 kB)</span>                                            
## ‚îú‚îÄfilelock <span style="color: #525252;">1.0.2</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(29.58 kB)</span>                                         
## ‚îú‚îÄjsonlite <span style="color: #525252;">1.8.4</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(1.13 MB)</span>                                          
## ‚îú‚îÄprettyunits <span style="color: #525252;">1.1.1</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(35.23 kB)</span>                                      
## ‚îú‚îÄprocessx                                                              
## ‚îú‚îÄR6                                                                    
## ‚îî‚îÄrappdirs <span style="color: #525252;">0.3.3</span> <span style="color: #859900;">‚ú® ‚¨á </span><span style="color: #525252;">(47.50 kB)</span>                                         
##                                                                         
## Key:  <span style="color: #859900;">‚ú®</span> new | <span style="color: #859900;"> ‚¨á</span> download | <span style="color: #859900;">üë∑üèΩ </span>build | üîß<span style="color: #859900;"> </span>compile                        
</pre>


</div>

<p>See the <code><a href="#topic+pkg_deps">pkg_deps</a></code> class for details.
</p>



<h4>Package downloads</h4>

<p>Downloading all dependencies of a package:
</p>
<div class="sourceCode r"><pre>pdl &lt;- new_pkg_download_proposal("r-lib/cli")
pdl$resolve()
pdl$download()
</pre></div>
<div class="asciicast"
style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000">


<pre>
## <span style="color: #2AA198;">‚Ñπ</span> No downloads are needed, 1 pkg is cached                              
##                                                                         
</pre>


</div>

<p>See the <code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code> class for
details.
</p>



<h4>Package installation</h4>

<p>Installing or updating a set of package:
</p>
<div class="sourceCode r"><pre>lib &lt;- tempfile()
dir.create(lib)
pdi &lt;- new_pkg_installation_proposal(
  "r-lib/cli",
  config = list(library = lib)
)
pdi$solve()
pdi$download()
pdi$install()
</pre></div>
<div class="asciicast"
style="color: #172431;font-family: 'Fira Code',Monaco,Consolas,Menlo,'Bitstream Vera Sans Mono','Powerline Symbols',monospace;line-height: 1.300000">


<pre>
## <span style="color: #2AA198;">‚Ñπ</span> No downloads are needed, 1 pkg is cached                              
## <span style="color: #859900;">‚úî</span> Installed <span style="color: #268BD2;">cli</span> 3.6.1.9000 (github::r-lib/cli@c37f34b) <span style="color: #a3a3a3;">(36ms)</span>           
## <span style="color: #859900;">‚úî</span> Summary:  ‚ú® 1 new  in 36ms                                            
</pre>


</div>




<h4>Dependency resolution</h4>

<p><code><a href="#topic+pkg_deps">pkg_deps</a></code>,
<code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code> and
<code><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a></code> all resolve
their dependencies recursively, to obtain information about all packages
needed for the specified <a href="#topic+pkg_refs">package references</a>. See
<a href="#topic+pkg_resolution">‚ÄúDependency resolution‚Äù</a> for details.
</p>



<h4>The dependency solver</h4>

<p>The dependency solver takes the resolution information, and works out
the exact versions of each package that must be installed, such that
version and other requirements are satisfied. See <a href="#topic+pkg_solution">‚ÄúThe dependency solver‚Äù</a> for details.
</p>



<h4>Installation plans</h4>

<p><code><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a></code> can create
installation plans, and then also install them. It is also possible to
import installation plans that were created by other tools. See
<a href="#topic+install_plans">‚ÄúInstallation plans‚Äù</a> for details.
</p>



<h4>Configuration</h4>

<p>The details of <code><a href="#topic+pkg_deps">pkg_deps</a></code>,
<code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code> and
<code><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a></code> can be tuned
with a list of configuration options. See
<a href="#topic+pkgdepends-config">‚ÄúConfiguration‚Äù</a> for details.
</p>



<h3>Related</h3>


<ul>
<li> <p><a href="https://github.com/r-lib/pak">pak</a> ‚Äì R package manager
</p>
</li>
<li> <p><a href="https://github.com/r-lib/pkgcache">pkgcache</a> ‚Äì Metadata and package
cache
</p>
</li>
<li> <p><a href="https://github.com/r-lib/devtools">devtools</a> ‚Äì Tools for R package
developers
</p>
</li></ul>



<h4>Code of Conduct</h4>

<p>Please note that the pkgdepends project is released with a <a href="https://r-lib.github.io/pkgdepends/dev/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>.
By contributing to this project, you agree to abide by its terms.
</p>



<h3>License</h3>

<p>MIT (c) RStudio
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: G√°bor Cs√°rdi <a href="mailto:csardi.gabor@gmail.com">csardi.gabor@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://r-lib.github.io/pkgdepends/">https://r-lib.github.io/pkgdepends/</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/pkgdepends">https://github.com/r-lib/pkgdepends</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/pkgdepends/issues">https://github.com/r-lib/pkgdepends/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_pkg_dependencies'>Shorthands for dependency specifications</h2><span id='topic+as_pkg_dependencies'></span>

<h3>Description</h3>

<p>Shorthands for dependency specifications
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_pkg_dependencies(deps)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_pkg_dependencies_+3A_deps">deps</code></td>
<td>
<p>See below.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>R packages may have various types of dependencies, see
<a href="https://cran.r-project.org/doc/manuals/R-exts.html">Writing R Extensions</a>.
</p>
<p>pkgdepends groups dependencies into three groups:
</p>

<ul>
<li><p> hard dependencies: &quot;Depends&quot;, &quot;Imports&quot;, and &quot;LinkingTo&quot;,
</p>
</li>
<li><p> soft dependencies: &quot;Suggests&quot; and &quot;Enhances&quot;,
</p>
</li>
<li><p> extra dependencies, see below.
</p>
</li></ul>

<p>pkgdepends supports concise ways of specifying which types of
dependencies of a package should be installed.
It is similar to how <code><a href="utils.html#topic+install.packages">utils::install.packages()</a></code> interprets its
<code>dependencies</code> argument.
</p>
<p>You typically use one of these values:
</p>

<ul>
<li> <p><code>NA</code> or <code>"hard"</code> to install a package and its required dependencies,
</p>
</li>
<li> <p><code>TRUE</code> to install all required dependencies, plus optional and development
dependencies.
</p>
</li></ul>

<p>If you need more flexibility, the full description of possible values for
the <code>deps</code> argument are:
</p>

<ul>
<li> <p><code>TRUE</code>: This means all hard dependencies plus <code>Suggests</code> for
direct installations, and hard dependencies only for dependent
packages.
</p>
</li>
<li> <p><code>FALSE</code>: no dependencies are installed at all.
</p>
</li>
<li> <p><code>NA</code> (any atomic type, so <code>NA_character_</code>, etc. as well): only hard
dependencies are installed.
See <code><a href="#topic+pkg_dep_types_hard">pkg_dep_types_hard()</a></code>.
</p>
</li>
<li><p> If a list with two entries named <code>direct</code> and <code>indirect</code>, it is taken
as the requested dependency types, for direct installations and
dependent packages.
</p>
</li>
<li><p> If a character vector, then it is taken as the dependency types
for direct installations, and the hard dependencies are
used for the dependent packages.
</p>
</li></ul>

<p>If <code>"hard"</code> is included in the value or a list element, then it is replaced
by the hard dependency types.
If <code>"soft"</code> or <code>"all"</code> is included, then it is replaced by all
hard and soft dependency.
</p>


<h4>Extra dependencies</h4>

<p>pkgdepends supports extra dependency types for direct
installations not from CRAN-like repositories.
These are specified with a <code style="white-space: pre;">&#8288;Config/Needs/&#8288;</code> prefix in the <code>DESCRIPTION</code>
and they can contain package references, separated by commas.
For example you can specify packages that are only needed for the
pkgdown website of the package:
</p>
<div class="sourceCode"><pre>Config/Needs/website: r-lib/pkgdown
</pre></div>
<p>To use these dependency types, you need to specify them in the
<code>deps</code> argument to
pkgdepends functions.
</p>
<p>Note that <code style="white-space: pre;">&#8288;Config/Needs/*&#8288;</code> fields are currently <em>not</em> used from CRAN
packages, and packages in CRAN-like repositories in general.
</p>
<p>Usually you specify that a <code style="white-space: pre;">&#8288;Config/Needs/*&#8288;</code> dependency type should be
installed together with <code>"hard"</code> or <code>"all"</code>, to install all hard or
soft dependencies as well.
</p>



<h3>Value</h3>

<p>A named list with two character vectors: <code>direct</code>, <code>indirect</code>,
the dependency types to use for direct installations and dependent
packages.
</p>


<h3>See Also</h3>

<p>Other package dependency utilities: 
<code><a href="#topic+pkg_dep_types_hard">pkg_dep_types_hard</a>()</code>
</p>

<hr>
<h2 id='config'>Package configuration (internals)</h2><span id='topic+config'></span>

<h3>Description</h3>

<p>Internal machinery for pkgdepends configuration. See <code><a href="#topic+current_config">current_config()</a></code>
for how this machinery can be used to define the configuration of a
package.
</p>
<p>This is a standalone file that can be copied into another package without
changes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>config
</code></pre>


<h3>Format</h3>

<p><code>config</code> is a list of functions with a closure. You can use it two ways.
</p>
<p>For <em>one</em> set of configuration values in a package, include this in
<code>.onLoad()</code>:
</p>
<div class="sourceCode r"><pre>conf &lt;- config$new("prefix")
conf$add("myenrry", "string", "default-value")
...
conf$lock()
</pre></div>
<p>For _multiple _ sets of configuration values (e.g. one per object),
include a function like this in the package:
</p>
<div class="sourceCode r"><pre>current_config &lt;- function() {
  conf &lt;- config$new("prefix")
  conf$add("myentry", "string", "default-value")
  ...
  conf$lock()
  conf
}
</pre></div>
<p>and then call <code>current_config()</code> every time you need to create a
new set of configuration values.
</p>


<h3>Terminology</h3>



<h4>Config entry (or entry)</h4>

<p>A single configurable entity. A config entry has a name. This name is
always standardized by replacing dashes with underscores.
</p>
<p>A config entry has a type: a string, a flag, or some
user defined type. It can also have a default value. Examples:
</p>

<ul>
<li><p> The URL of an API, which can be a string.
</p>
</li>
<li><p> Path to a directory to use for caching, either a string, or NULL
(<code>string_or_null</code> type).
</p>
</li>
<li><p> Number of processor cores to use, a positive integer (<code>count</code> type).
</p>
</li></ul>




<h4>Configuration (or config)</h4>

<p>A set of configuration entries. <code>config$new()</code> returns a configuration.
A configuration can be extended by adding new entries to it, until it
is locked.
</p>



<h4>R option (or option)</h4>

<p>An option set with <code><a href="base.html#topic+options">base::options()</a></code> and queried with <code><a href="base.html#topic+options">base::getOption()</a></code>.
</p>



<h4>Configuration prefix</h4>

<p>A prefix that is typically package specific, and it is used for all
config entries of a package, to avoid environment variable and option
name clashes between packages.
</p>



<h4>Config entry type</h4>

<p>It defines the allowed values of configuration entries, and also how
a string from an environment variable is translated to the value of
the entry. See the list of builtin types below. You can also define new
types.
</p>



<h3>Built-in types</h3>



<h4><code>string</code></h4>

<p>String scalar, <code>NA</code> is not allowed.
</p>



<h4><code>count</code></h4>

<p>Non-negative integer, <code>NA</code> is not allowed.
</p>



<h4><code>flag</code></h4>

<p>Logical scalar, <code>NA</code> is not allowed. For environment variables the
<code>TRUE</code> values are: <code>yes</code>, <code>true</code>, <code>1</code> and <code>on</code>, and the <code>FALSE</code> values
are: <code>no</code>, <code>false</code>, <code>0</code>, <code>off</code>. (All are case insensitive.)
</p>



<h4><code>string_or_null</code></h4>

<p>String or <code>NULL</code>. <code>NA</code> is not allowed. In environment variables the
string <code>NULL</code> means an R <code>NULL</code> value.
</p>



<h4><code>character</code></h4>

<p>Character vector without <code>NA</code> values. In environment variables the
entries are separated by a semicolon.
</p>



<h4><code>custom</code></h4>

<p>Custom type. An <code>env_decode</code> function must be specified for each config
entry of this type, otherwise an error is throw if the corresponding
environment variable is set.
</p>



<h3><code>config$onload_hook()</code>: pretty-printing configuration</h3>

<p>Call <code>config$onload_hook()</code> from the package's <code>.onLoad()</code> function
if you want to define S3 methods to print the package configuration
nicer.
</p>


<h4>Usage</h4>

<div class="sourceCode"><pre>config$onload_hook()
</pre></div>



<h3><code>config$new()</code>: Create a new configuration</h3>

<p>Typically <code>new()</code> is called outside of the functions of the
package, so the <code>config</code> object is created at install time.
</p>


<h4>Usage</h4>

<div class="sourceCode"><pre>conf &lt;- config$new(prefix = utils::packageName(parent.frame()))
</pre></div>



<h4>Arguments</h4>


<ul>
<li> <p><code>prefix</code>: prefix of the config entry names. For environment
variables it is converted to uppercase, and dots are converted
to underscores. The default prefix is the name of the calling package.
An underscore separator is used between the prefix and the entry
name for environment variable names. A dot separator is used for
R option names.
</p>
</li></ul>




<h4>Value</h4>

<p><code>new()</code> returns a <code>config</code> object, which is a list containing
the configuration data and functions (methods) to query and change it.
</p>
<div class="sourceCode r"><pre>conf &lt;- config$new()
</pre></div>



<h3>Configuration methods</h3>



<h4><code>conf$add()</code>: add a new configuration entry</h4>



<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$add(
  name,
  type = conf$types,
  default = NULL,
  check = type[1],
  env_decode = type[1]
)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>name</code>: name of the entry.
</p>
</li>
<li> <p><code>type</code>: type of the entry, string.
</p>
</li>
<li> <p><code>default</code>: default value of config entry. If this is a function,
then it is called to generate the default, at the time the
config entry's value is queried.
</p>
</li>
<li> <p><code>check</code>: if it is a function, it is called to check the value of
the entry. The function should return <code>TRUE</code> for successful and
<code>FALSE</code> for unsuccessful checks. If <code>NULL</code>, then no check is
performed. It can also be the name of a type, then the default
check for that type is performed, if any.
</p>
</li>
<li> <p><code>env_decode</code>: if it is a function, then it is used to decode the
value of the entry from an environment variable, i.e. a string.
It can also be the name of a type, then the <code>env_decode()</code>
function of that type is used for decoding.
</p>
</li></ul>




<h5>Value</h5>

<p>The configuration, invisibly.
</p>




<h4><code>conf$get()</code>: query the value of a configuration entry</h4>



<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$get(name)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>name</code>: name of the entry.
</p>
</li></ul>




<h5>Value</h5>

<p>Value of the entry.
</p>

<ul>
<li><p> If the entry was set via <code>conf$set()</code> or <code>conf$update()</code>, then
that value is returned.
</p>
</li>
<li><p> Otherwise, if the entry is set via an R option (see
<code><a href="base.html#topic+options">base::getOption()</a></code>), then that value is returned. The config
prefix is used to get the option name, with a dot separator.
I.e. for an entry called 'foo', and prefix 'pkg', the <code>pkg.foo</code>
option is used. If the entry has a check function, that is called
before returning.
</p>
</li>
<li><p> Otherwise, if the entry is set via an environment variable, then
that value is returned. The config prefix is used to get the name
of the environment variable. In addition, dots are replaced with
underscores and the name is converted to uppercase. I.e. for an
entry called 'foo.bar', and prefix 'pkg', the 'PKG_FOO_BAR'
environment variable is used.
</p>
</li>
<li><p> Otherwise, if the entry has a default value, that is returned.
The default value might be a function, in which case that function
is called to produce a default value. If the entry has a check
function, that is called before returning.
</p>
</li></ul>





<h4><code>conf$set()</code>: set the value of a configuration entry</h4>

<p>If you <code style="white-space: pre;">&#8288;$set()&#8288;</code> a config entry, then the <code>value</code> used in <code style="white-space: pre;">&#8288;$set()&#8288;</code>
will be returned by <code style="white-space: pre;">&#8288;$get()&#8288;</code>, without consulting R options or
environment variables.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$set(name, value)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>name</code>: name of the entry.
</p>
</li>
<li> <p><code>value</code>: value of the entry. If the entry has a check function,
it is called here.
</p>
</li></ul>




<h5>Value</h5>

<p>The configuration, invisibly.
</p>




<h4><code style="white-space: pre;">&#8288;$conf$unset()&#8288;</code>: unset a configuration entry</h4>

<p>Note that this function does <em>not</em> unset R options and environment
variables. It merely removes a value that was assigned by <code style="white-space: pre;">&#8288;$set()&#8288;</code>
or <code style="white-space: pre;">&#8288;$update()&#8288;</code>.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$unset(name)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>name</code>: name of the entry.
</p>
</li></ul>




<h5>Value</h5>

<p>The configuration, invisibly.
</p>




<h4><code>cond$update()</code>: update the values of configuration entries</h4>

<p>You can use this method to set()<code>and/or</code>$unset()<code style="white-space: pre;">&#8288;multiple config entries.&#8288;</code>NULL<code style="white-space: pre;">&#8288;values in&#8288;</code>new' will unset the corresponding entry.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$update(new)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>new</code>: named list, where names are config entry names and values
are the corresponding config entry values. <code>NULL</code> values will
unset the config entry. The list is processed sequentially, so
for duplicates the latest values will be in effect. (But every
value is checked with its check function, if any.)
</p>
</li></ul>




<h5>Value</h5>

<p>The configuration, invisibly.
</p>




<h4><code>conf$list()</code>: query the names of all config entries</h4>

<p>Note that their order is non-deterministic currently.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$list()
</pre></div>



<h5>Value</h5>

<p>Character vector.
</p>




<h4><code>conf$exists()</code>: check if a config entry exists</h4>



<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$exists(name)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>name</code>: name of the entry.
</p>
</li></ul>




<h5>Value</h5>

<p>Logical scalar, <code>TRUE</code> if the entry exists in the configuration,
<code>FALSE</code> otherwise. Note that <code>TRUE</code> does not mean that the value
of the entry was set.
</p>




<h4><code>conf$lock()</code>: lock the configuration</h4>

<p>If a configuration is locked, then no more entries can be added to
it.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$lock()
</pre></div>



<h5>Value</h5>

<p>The configuration, invisibly.
</p>




<h4><code>conf$fix()</code>: fix the value of a single configuration entry</h4>

<p>The currently <code style="white-space: pre;">&#8288;$set()&#8288;</code> value is fixed and cannot be changed any
more. You can fix an entry without setting its value, in which case
R options and environment variables can still be used to update it.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$unset(name)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>name</code>: name of the entry.
</p>
</li></ul>




<h5>Value</h5>

<p>The configuration, invisibly.
</p>




<h4><code>conf$add_type()</code>: add a new config entry type to a configuration</h4>

<p>After this the new type can be used in <code>conf$add()</code> calls.
</p>


<h5>Usage</h5>

<div class="sourceCode r"><pre>conf$add_type(type_name, check, env_decode)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>type_name</code>: type name.
</p>
</li>
<li> <p><code>check</code>: default check function of the type. Use <code>NULL</code> for no
checks.
</p>
</li>
<li> <p><code>env_decode</code>: function to use to decode a value of the type from
an environment variable (i.e. string).
</p>
</li></ul>




<h5>Value</h5>

<p>The configuration, invisibly.
</p>



<hr>
<h2 id='current_r_platform'>R platforms</h2><span id='topic+current_r_platform'></span><span id='topic+default_platforms'></span>

<h3>Description</h3>

<p><code>default_platfoms()</code> returns the default platforms for the current R
session. These typically consist of the detected platform of the current
R session, and <code>"source"</code>, for source packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>current_r_platform()

default_platforms()
</code></pre>


<h3>Details</h3>

<p><code>current_r_platform()</code> detects the platform of the current R version.
</p>
<p>By default pkgdepends works with source packages and binary packages for
the current platform. You can change this, see
<a href="#topic+pkgdepends-config">'Configuration'</a>.
</p>
<p>The following platform names can be configured and returned by
<code>current_r_platform()</code> and <code>default_platforms()</code>:
</p>

<ul>
<li> <p><code>"source"</code> for source packages,
</p>
</li>
<li><p> A platform string like <code>R.version$platform</code>, but on Linux the name
and version of the distribution are also included. Examples:
</p>

<ul>
<li> <p><code>x86_64-apple-darwin17.0</code>: macOS High Sierra.
</p>
</li>
<li> <p><code>aarch64-apple-darwin20</code>: macOS Big Sur on arm64.
</p>
</li>
<li> <p><code>x86_64-w64-mingw32</code>: 64 bit Windows.
</p>
</li>
<li> <p><code>i386-w64-mingw32</code>: 32 bit Windows.
</p>
</li>
<li> <p><code>i386+x86_64-w64-mingw32</code>: 64 bit + 32 bit Windows.
</p>
</li>
<li> <p><code>i386-pc-solaris2.10</code>: 32 bit Solaris. (Some broken 64 Solaris
builds might have the same platform string, unfortunately.)
</p>
</li>
<li> <p><code>x86_64-pc-linux-gnu-debian-10</code>: Debian Linux 10 on x86_64.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;x86_64-pc-linux-musl-alpine-3.14.1&#8288;</code>: Alpine Linux.
</p>
</li>
<li> <p><code>x86_64-pc-linux-gnu-unknown</code>: Unknown Linux Distribution on x86_64.
</p>
</li>
<li> <p><code>s390x-ibm-linux-gnu-ubuntu-20.04</code>: Ubuntu Linux 20.04 on S390x.
</p>
</li>
<li> <p><code>amd64-portbld-freebsd12.1</code>: FreeBSD 12.1 on x86_64.
</p>
</li></ul>

</li></ul>

<p>In addition, the following platform names can be used to configure
pkgdepends:
</p>

<ul>
<li> <p><code>"macos"</code> for macOS binaries that are appropriate for the R versions
pkgdepends is working with (defaulting to the version of the current
session), as defined by CRAN binaries. E.g. on R 3.5.0 macOS binaries
are built for macOS El Capitan.
</p>
</li>
<li> <p><code>"windows"</code> for Windows binaries for the default CRAN architecture.
This is currently Windows Vista for all supported R versions, but it
might change in the future. The actual binary packages in the
repository might support both 32 bit and 64 builds, or only one of
them. In practice 32-bit only packages are very rare. CRAN builds
before and including R 4.1 have both architectures, from R 4.2 they
are 64 bit only. <code>"windows"</code> is an alias to <code>i386+x86_64-w64-mingw32</code>
currently.
</p>
</li></ul>



<h3>Value</h3>

<p><code>current_r_platform()</code> returns a string, the name of the current
platform.
</p>
<p><code>default_platforms()</code> returns a character vector of platform names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>current_r_platform()
default_platforms()
</code></pre>

<hr>
<h2 id='ghr'>GitHub Releases</h2><span id='topic+ghr'></span>

<h3>Description</h3>

<p>Functions to query and manipulate GitHub releases. These functions are
currently experimental.
</p>


<h3>Details</h3>



<h4>List releases</h4>



<h5>Description</h5>

<p><code>ghr$list()</code> lists the last 100 releases for a GitHub repository.
<code>ghr$async_list()</code> is the async version of <code>ghr$list()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$list(repo)
ghr$async_list(repo)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>"cran/cli"</code>.
</p>
</li></ul>




<h5>Value</h5>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>id</code>: release id,
</p>
</li>
<li> <p><code>name</code>: release name, usually the version number, possibly with
a <code>v</code> prefix: <code style="white-space: pre;">&#8288;3.6.1&#8288;</code> or <code>v3.6.1</code>, but can be different.
</p>
</li>
<li> <p><code>tag_name</code>: usually the same as <code>name</code>.
</p>
</li>
<li> <p><code>created_at</code>: <code>POSIXct</code> vector.
</p>
</li></ul>





<h4>Get information about a release</h4>



<h5>Description</h5>

<p><code>ghr$get()</code> downloads information about a release, including
release assets.
</p>
<p><code>ghr$async_get</code> is the async version of <code>ghr$get</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$get(repo, tag)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>"cran/cli"</code>.
</p>
</li>
<li> <p><code>tag</code>: tag to get.
</p>
</li></ul>




<h5>Value</h5>

<p>Named list, see
<a href="https://docs.github.com/en/rest/releases/releases#get-a-release">https://docs.github.com/en/rest/releases/releases#get-a-release</a>
for the entries.
</p>




<h4>List assets of a release</h4>



<h5>Description</h5>

<p><code>ghr$list_assets()</code> lists the last 100 assets of a release.
</p>
<p><code>ghr$async_list_assets()</code> is the async version of <code>ghr$list_assets()</code>
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$list_assets(repo, tag)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>"cran/cli"</code>.
</p>
</li>
<li> <p><code>tag</code>: tag to query.
</p>
</li></ul>




<h5>Value</h5>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>id</code>: asset id,
</p>
</li>
<li> <p><code>name</code>: file name of the asset,
</p>
</li>
<li> <p><code>download_url</code>: download URL,
</p>
</li>
<li> <p><code>size</code>: size in bytes,
</p>
</li>
<li> <p><code>created_at</code>: <code>POSIXct</code> vector,
</p>
</li>
<li> <p><code>updated_at</code>: <code>POSXct</code> vector,
</p>
</li>
<li> <p><code>content_type</code>: content type of asset.
</p>
</li></ul>





<h4>Add a release asset</h4>



<h5>Description</h5>

<p><code>ghr$add_asset()</code> adds an asset to a GitHub release.
</p>
<p><code>ghr$async_add_asset()</code> is the async version of <code>ghr$add_asset()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr%add_asset(repo, file, tag, name = basename(file))
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>cran/cli</code>.
</p>
</li>
<li> <p><code>file</code>: path to file to upload as an asset.
</p>
</li>
<li> <p><code>tag</code>: tag name to add the asset to. It must exist on GitHub.
</p>
</li>
<li> <p><code>name</code>: file name of the asset in the release.
</p>
</li></ul>




<h5>Details</h5>

<p>If an asset with the same name already exists, then that will be deleted
first.
</p>



<h5>Value</h5>

<p>Response from GitHub as a named list. See
<a href="https://docs.github.com/en/rest/releases/assets#upload-a-release-asset">https://docs.github.com/en/rest/releases/assets#upload-a-release-asset</a>
for the structure.
</p>




<h4>Delete a release asset</h4>



<h5>Description</h5>

<p><code>ghr$delete_asset()</code> deleted a release asset.
</p>
<p><code>ghr$async_delete_asset()</code> is an async version of <code>ghr$delete_asset()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$delete_asset(repo, tag, name)
ghr$async_delete_asset(repo, tag, name)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>cran/cli</code>.
</p>
</li>
<li> <p><code>tag</code>: tag name to create a release for. It must exist on GitHub.
</p>
</li>
<li> <p><code>name</code>: name of the asset.
</p>
</li></ul>




<h5>Value</h5>

<p>A list with entries:
</p>

<ul>
<li> <p><code>release</code>: a list with the data about the release, before the
deletion. It has the same format as the return value of <code>ghr$get()</code>.
</p>
</li>
<li> <p><code>deleted</code>: <code>TRUE</code> if the asset was deleted. <code>FALSE</code> if the asset
did not exist.
</p>
</li></ul>





<h4>Create a GitHub release</h4>



<h5>Description</h5>

<p><code>ghr$create()</code> creates a GitHub release from a tag.
</p>
<p><code>ghr$async_create()</code> is an async version of <code>ghr$create()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>ghr$create(
  repo,
  tag,
  description = "",
  draft = FALSE,
  prerelease = FALSE,
  generage_release_notes = FALSE
)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: repository slug, e.g. <code>cran/cli</code>.
</p>
</li>
<li> <p><code>tag</code>: tag name to create a release for. It must exist on GitHub.
</p>
</li>
<li> <p><code>description</code>: release description.
</p>
</li>
<li> <p><code>draft</code>: whether to create a draft release.
</p>
</li>
<li> <p><code>prerelease</code>: whether to create a prerelease.
</p>
</li>
<li> <p><code>generate_release_notes</code>: whether to auto-generate release notes.
</p>
</li></ul>




<h5>Value</h5>

<p>Response from GitHub as a named list. See
<a href="https://docs.github.com/en/rest/releases/releases#create-a-release">https://docs.github.com/en/rest/releases/releases#create-a-release</a>
for the structure.
</p>



<hr>
<h2 id='ghrepo'>Update a CRAN-like repository of binary packages at GitHub</h2><span id='topic+ghrepo'></span>

<h3>Description</h3>

<p>These functions are currently experimental.
</p>


<h3>Details</h3>



<h4>Update a CRAN-like repository of binary packages at GitHub</h4>

<p><code>ghrepo$update()</code> updates a binary package mirror.
</p>


<h5>Usage</h5>

<div class="sourceCode"><pre>ghrepo$update(
  repo,
  subdir,
  release_org = "cran",
  source_repo = "https://cran.r-project.org",
  packages = NULL
)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: GitHub slug, e.g. <code>r-hub/repos</code>.
</p>
</li>
<li> <p><code>subdir</code>: subdirectory in the GitHub repository, where the R package
metadata should be updated. It must exist in the repository.
If it does not have <code style="white-space: pre;">&#8288;PACKAGES*&#8288;</code> files, then they will be created.
</p>
</li>
<li> <p><code>release_org</code>: GitHub organization or user name where the packages
will be published as releases.
</p>
</li>
<li> <p><code>source_repo</code>: A CRAN-like repository, where source packages are
taken from.
</p>
</li>
<li> <p><code>packages</code>: A character vector of package names to add to the binary
repository, in addition to updating the ones that are already there.
</p>
</li></ul>




<hr>
<h2 id='git_download_file'>Download a blob for a remote git repository</h2><span id='topic+git_download_file'></span>

<h3>Description</h3>

<p>Download a blob for a remote git repository
</p>


<h3>Usage</h3>

<pre><code class='language-R'>git_download_file(url, sha, output = sha)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="git_download_file_+3A_url">url</code></td>
<td>
<p>Repository URL, e.g. <code style="white-space: pre;">&#8288;https://github.com/r-lib/pak.git&#8288;</code>.
It might include authentication information, e.g. a GitHub token.</p>
</td></tr>
<tr><td><code id="git_download_file_+3A_sha">sha</code></td>
<td>
<p>SHA hash of the blob.</p>
</td></tr>
<tr><td><code id="git_download_file_+3A_output">output</code></td>
<td>
<p>Path where the blob will be written. It's directory is
created if it does not exist.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list that corresponds to a git packfile entry, invisibly.
It has entries: <code>type</code> (always <code>"blob"</code>), <code>object</code> (raw object, the
blob itself), <code>size</code>, <code>packed_size</code>, <code>hash</code>.
</p>


<h3>Examples</h3>

<p>Download a <code>DESCRIPTION</code> file from GitHub:
</p>
<div class="sourceCode r"><pre>pak_repo &lt;- "https://github.com/r-lib/pak.git"
fls &lt;- git_list_files(pak_repo, "HEAD")
git_download_file(
  pak_repo,
  fls$files$hash[fls$files$path == "DESCRIPTION"],
  output = tmp &lt;- tempfile()
)
readLines(tmp)[1:5]
#&gt; [1] "Package: pak"                                                                  
#&gt; [2] "Version: 0.3.1.9999"                                                           
#&gt; [3] "Title: Another Approach to Package Installation"                               
#&gt; [4] "Description: The goal of 'pak' is to make package installation faster and"     
#&gt; [5] "    more reliable. In particular, it performs all HTTP operations in parallel,"
</pre></div>

<hr>
<h2 id='git_fetch'>Get a packfile for an object from a remote git repository</h2><span id='topic+git_fetch'></span>

<h3>Description</h3>

<p>Get a packfile for an object from a remote git repository
</p>


<h3>Usage</h3>

<pre><code class='language-R'>git_fetch(url, sha, blobs = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="git_fetch_+3A_url">url</code></td>
<td>
<p>Repository URL, e.g. <code style="white-space: pre;">&#8288;https://github.com/r-lib/pak.git&#8288;</code>.
It might include authentication information, e.g. a GitHub token.</p>
</td></tr>
<tr><td><code id="git_fetch_+3A_sha">sha</code></td>
<td>
<p>SHA of the object to get.</p>
</td></tr>
<tr><td><code id="git_fetch_+3A_blobs">blobs</code></td>
<td>
<p>Whether we want to download all blobs as well or not.
We are still always requesting a shallow (depth = 1) clone.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It uses <code style="white-space: pre;">&#8288;filter blob:none&#8288;</code>, so extra blobs are not downloaded, only
trees.
</p>


<h3>Value</h3>

<p>A list of git objects. Each element has entries:
</p>

<ul>
<li> <p><code>type</code>: <code>commit</code>, <code>tree</code>, <code>blob</code> or <code>tag</code>.
</p>
</li>
<li> <p><code>object</code>: the object itself. It is a
</p>

<ul>
<li><p> character scalar for commits,
</p>
</li>
<li><p> a data frame for trees, with columns: <code>type</code>, <code>mode</code>, <code>path</code>, <code>hash</code>,
</p>
</li>
<li><p> a raw vector for blobs,
</p>
</li>
<li><p> a raw vector for tags. (We could probably do better here.)
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<div class="sourceCode r"><pre>ft &lt;- git_fetch(
  "https://github.com/r-lib/filelock.git",
  "9fdba75a62facaa3e818902f58891166e45eabe9"
)
ft
#&gt; [[1]]
#&gt; [[1]]$type
#&gt; [1] "commit"
#&gt; 
#&gt; [[1]]$object
#&gt; [1] "tree f92fab4f8594bd2e6c10f6f3e5dd44e556d7bb7e\nparent 7c5389719fa50e1827195771ac07c01d44ababa1\nauthor G√°bor Cs√°rdi &lt;csardi.gabor@gmail.com&gt; 1538733728 +0100\ncommitter G√°bor Cs√°rdi &lt;csardi.gabor@gmail.com&gt; 1538733728 +0100\n\nFix spelling\n"
#&gt; 
#&gt; [[1]]$size
#&gt; [1] 239
#&gt; 
#&gt; [[1]]$packed_size
#&gt; [1] 162
#&gt; 
#&gt; [[1]]$raw
#&gt;   [1] 74 72 65 65 20 66 39 32 66 61 62 34 66 38 35 39 34 62 64 32 65 36 63 31 30
#&gt;  [26] 66 36 66 33 65 35 64 64 34 34 65 35 35 36 64 37 62 62 37 65 0a 70 61 72 65
#&gt;  [51] 6e 74 20 37 63 35 33 38 39 37 31 39 66 61 35 30 65 31 38 32 37 31 39 35 37
#&gt;  [76] 37 31 61 63 30 37 63 30 31 64 34 34 61 62 61 62 61 31 0a 61 75 74 68 6f 72
#&gt; [101] 20 47 c3 a1 62 6f 72 20 43 73 c3 a1 72 64 69 20 3c 63 73 61 72 64 69 2e 67
#&gt; [126] 61 62 6f 72 40 67 6d 61 69 6c 2e 63 6f 6d 3e 20 31 35 33 38 37 33 33 37 32
#&gt; [151] 38 20 2b 30 31 30 30 0a 63 6f 6d 6d 69 74 74 65 72 20 47 c3 a1 62 6f 72 20
#&gt; [176] 43 73 c3 a1 72 64 69 20 3c 63 73 61 72 64 69 2e 67 61 62 6f 72 40 67 6d 61
#&gt; [201] 69 6c 2e 63 6f 6d 3e 20 31 35 33 38 37 33 33 37 32 38 20 2b 30 31 30 30 0a
#&gt; [226] 0a 46 69 78 20 73 70 65 6c 6c 69 6e 67 0a
#&gt; 
#&gt; [[1]]$hash
#&gt; [1] "9fdba75a62facaa3e818902f58891166e45eabe9"
#&gt; 
#&gt; 
#&gt; [[2]]
#&gt; [[2]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[2]]$object
#&gt;    type   mode          path                                     hash
#&gt; 1  blob 100644 .Rbuildignore 45181a7157bdd799f225dd8d5b27a224b6a9a2d2
#&gt; 2  blob 100644    .gitignore 9cb99ac4c7fa31d5450f62f8da3487c8a4162e96
#&gt; 3  blob 100644   .travis.yml 85a387228f1b4a0c70d359122f487979ed5eb4a9
#&gt; 4  blob 100644   DESCRIPTION 6013cb378eb62302ec176334b0ab4a2993da1e5e
#&gt; 5  blob 100644       LICENSE 1fd2b3ad1dc5f2f946eae143ee3b45da36180bdd
#&gt; 6  blob 100644      Makefile dd7836b14f4a04d20a3139c05c76b01a258ffcf3
#&gt; 7  blob 100644     NAMESPACE 906fa2f11a0ba9b43a3e43c9b0cf840fb13dde1b
#&gt; 8  blob 100644       NEWS.md f84230bc2ae5f2768677ee72d1085e599263c202
#&gt; 9  tree  40000             R 9c8a4edfaff37a8ee20afe3ff0ec7e18b29b6d3e
#&gt; 10 blob 100644    README.Rmd b270933f20b5e16c8a3b3fb3e9bf6a8cfd464ec0
#&gt; 11 blob 100644     README.md d037742ef37ecb903a55d7484cfa30f725085162
#&gt; 12 blob 100644  appveyor.yml 6168ec3805795bd92657ee8bc0208931f4b807d1
#&gt; 13 tree  40000          inst 22c1c69cb093311abb2983012e26bbc20e9fe753
#&gt; 14 tree  40000           man 674f6be38465d83b3f8b44d97bab040ff84b4794
#&gt; 15 tree  40000           src abeb2f2376694746a00797a2c20df24daea66ba3
#&gt; 16 tree  40000         tests 00ad597f0ec5aa7aab56afce1088d67685ef7395
#&gt; 
#&gt; [[2]]$size
#&gt; [1] 566
#&gt; 
#&gt; [[2]]$packed_size
#&gt; [1] 505
#&gt; 
#&gt; [[2]]$raw
#&gt;   [1] 31 30 30 36 34 34 20 2e 52 62 75 69 6c 64 69 67 6e 6f 72 65 00 45 18 1a 71
#&gt;  [26] 57 bd d7 99 f2 25 dd 8d 5b 27 a2 24 b6 a9 a2 d2 31 30 30 36 34 34 20 2e 67
#&gt;  [51] 69 74 69 67 6e 6f 72 65 00 9c b9 9a c4 c7 fa 31 d5 45 0f 62 f8 da 34 87 c8
#&gt;  [76] a4 16 2e 96 31 30 30 36 34 34 20 2e 74 72 61 76 69 73 2e 79 6d 6c 00 85 a3
#&gt; [101] 87 22 8f 1b 4a 0c 70 d3 59 12 2f 48 79 79 ed 5e b4 a9 31 30 30 36 34 34 20
#&gt; [126] 44 45 53 43 52 49 50 54 49 4f 4e 00 60 13 cb 37 8e b6 23 02 ec 17 63 34 b0
#&gt; [151] ab 4a 29 93 da 1e 5e 31 30 30 36 34 34 20 4c 49 43 45 4e 53 45 00 1f d2 b3
#&gt; [176] ad 1d c5 f2 f9 46 ea e1 43 ee 3b 45 da 36 18 0b dd 31 30 30 36 34 34 20 4d
#&gt; [201] 61 6b 65 66 69 6c 65 00 dd 78 36 b1 4f 4a 04 d2 0a 31 39 c0 5c 76 b0 1a 25
#&gt; [226] 8f fc f3 31 30 30 36 34 34 20 4e 41 4d 45 53 50 41 43 45 00 90 6f a2 f1 1a
#&gt; [251] 0b a9 b4 3a 3e 43 c9 b0 cf 84 0f b1 3d de 1b 31 30 30 36 34 34 20 4e 45 57
#&gt; [276] 53 2e 6d 64 00 f8 42 30 bc 2a e5 f2 76 86 77 ee 72 d1 08 5e 59 92 63 c2 02
#&gt; [301] 34 30 30 30 30 20 52 00 9c 8a 4e df af f3 7a 8e e2 0a fe 3f f0 ec 7e 18 b2
#&gt; [326] 9b 6d 3e 31 30 30 36 34 34 20 52 45 41 44 4d 45 2e 52 6d 64 00 b2 70 93 3f
#&gt; [351] 20 b5 e1 6c 8a 3b 3f b3 e9 bf 6a 8c fd 46 4e c0 31 30 30 36 34 34 20 52 45
#&gt; [376] 41 44 4d 45 2e 6d 64 00 d0 37 74 2e f3 7e cb 90 3a 55 d7 48 4c fa 30 f7 25
#&gt; [401] 08 51 62 31 30 30 36 34 34 20 61 70 70 76 65 79 6f 72 2e 79 6d 6c 00 61 68
#&gt; [426] ec 38 05 79 5b d9 26 57 ee 8b c0 20 89 31 f4 b8 07 d1 34 30 30 30 30 20 69
#&gt; [451] 6e 73 74 00 22 c1 c6 9c b0 93 31 1a bb 29 83 01 2e 26 bb c2 0e 9f e7 53 34
#&gt; [476] 30 30 30 30 20 6d 61 6e 00 67 4f 6b e3 84 65 d8 3b 3f 8b 44 d9 7b ab 04 0f
#&gt; [501] f8 4b 47 94 34 30 30 30 30 20 73 72 63 00 ab eb 2f 23 76 69 47 46 a0 07 97
#&gt; [526] a2 c2 0d f2 4d ae a6 6b a3 34 30 30 30 30 20 74 65 73 74 73 00 00 ad 59 7f
#&gt; [551] 0e c5 aa 7a ab 56 af ce 10 88 d6 76 85 ef 73 95
#&gt; 
#&gt; [[2]]$hash
#&gt; [1] "f92fab4f8594bd2e6c10f6f3e5dd44e556d7bb7e"
#&gt; 
#&gt; 
#&gt; [[3]]
#&gt; [[3]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[3]]$object
#&gt;   type   mode         path                                     hash
#&gt; 1 blob 100644 assertions.R c6931259482e745c75d48325f23dc2fcd06f56ff
#&gt; 2 blob 100644    package.R 88554b8a205c4005d6f7025c21463a8182f458ab
#&gt; 
#&gt; [[3]]$size
#&gt; [1] 77
#&gt; 
#&gt; [[3]]$packed_size
#&gt; [1] 81
#&gt; 
#&gt; [[3]]$raw
#&gt;  [1] 31 30 30 36 34 34 20 61 73 73 65 72 74 69 6f 6e 73 2e 52 00 c6 93 12 59 48
#&gt; [26] 2e 74 5c 75 d4 83 25 f2 3d c2 fc d0 6f 56 ff 31 30 30 36 34 34 20 70 61 63
#&gt; [51] 6b 61 67 65 2e 52 00 88 55 4b 8a 20 5c 40 05 d6 f7 02 5c 21 46 3a 81 82 f4
#&gt; [76] 58 ab
#&gt; 
#&gt; [[3]]$hash
#&gt; [1] "9c8a4edfaff37a8ee20afe3ff0ec7e18b29b6d3e"
#&gt; 
#&gt; 
#&gt; [[4]]
#&gt; [[4]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[4]]$object
#&gt;   type   mode     path                                     hash
#&gt; 1 blob 100644 WORDLIST 538ab5ce786efef03728f2a5b4592a6ae99c35e5
#&gt; 
#&gt; [[4]]$size
#&gt; [1] 36
#&gt; 
#&gt; [[4]]$packed_size
#&gt; [1] 45
#&gt; 
#&gt; [[4]]$raw
#&gt;  [1] 31 30 30 36 34 34 20 57 4f 52 44 4c 49 53 54 00 53 8a b5 ce 78 6e fe f0 37
#&gt; [26] 28 f2 a5 b4 59 2a 6a e9 9c 35 e5
#&gt; 
#&gt; [[4]]$hash
#&gt; [1] "22c1c69cb093311abb2983012e26bbc20e9fe753"
#&gt; 
#&gt; 
#&gt; [[5]]
#&gt; [[5]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[5]]$object
#&gt;   type   mode    path                                     hash
#&gt; 1 blob 100644 lock.Rd c3899949a3573e8ad670610ba389812dd3c9bc90
#&gt; 
#&gt; [[5]]$size
#&gt; [1] 35
#&gt; 
#&gt; [[5]]$packed_size
#&gt; [1] 44
#&gt; 
#&gt; [[5]]$raw
#&gt;  [1] 31 30 30 36 34 34 20 6c 6f 63 6b 2e 52 64 00 c3 89 99 49 a3 57 3e 8a d6 70
#&gt; [26] 61 0b a3 89 81 2d d3 c9 bc 90
#&gt; 
#&gt; [[5]]$hash
#&gt; [1] "674f6be38465d83b3f8b44d97bab040ff84b4794"
#&gt; 
#&gt; 
#&gt; [[6]]
#&gt; [[6]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[6]]$object
#&gt;   type   mode               path                                     hash
#&gt; 1 blob 100644           Makevars 945ce829c1bc15a9924342767db832184bea2fe7
#&gt; 2 blob 100644       Makevars.win 1f37ea58dd205928e3f499c6e1db91460e220f9c
#&gt; 3 blob 100644    filelock-unix.c 0ecfc663a398a9136ef1e5173f0565a8f733544c
#&gt; 4 blob 100644 filelock-windows.c f1e4aae78e81a193ea6a87b7f465bce0eb98d761
#&gt; 5 blob 100644         filelock.h 4aec0dd604f36863d81e693a1424bcf8388397ba
#&gt; 6 blob 100644             init.c 2fd89e49f397d31cfd33e895f03d598c7eeca119
#&gt; 7 blob 100644         locklist.c 810c2ea35d59f0336b66ab4f5d31a301e4049b85
#&gt; 8 blob 100644             utf8.c 47849fb8467b37da6620ef1a714894142a851139
#&gt; 
#&gt; [[6]]$size
#&gt; [1] 309
#&gt; 
#&gt; [[6]]$packed_size
#&gt; [1] 259
#&gt; 
#&gt; [[6]]$raw
#&gt;   [1] 31 30 30 36 34 34 20 4d 61 6b 65 76 61 72 73 00 94 5c e8 29 c1 bc 15 a9 92
#&gt;  [26] 43 42 76 7d b8 32 18 4b ea 2f e7 31 30 30 36 34 34 20 4d 61 6b 65 76 61 72
#&gt;  [51] 73 2e 77 69 6e 00 1f 37 ea 58 dd 20 59 28 e3 f4 99 c6 e1 db 91 46 0e 22 0f
#&gt;  [76] 9c 31 30 30 36 34 34 20 66 69 6c 65 6c 6f 63 6b 2d 75 6e 69 78 2e 63 00 0e
#&gt; [101] cf c6 63 a3 98 a9 13 6e f1 e5 17 3f 05 65 a8 f7 33 54 4c 31 30 30 36 34 34
#&gt; [126] 20 66 69 6c 65 6c 6f 63 6b 2d 77 69 6e 64 6f 77 73 2e 63 00 f1 e4 aa e7 8e
#&gt; [151] 81 a1 93 ea 6a 87 b7 f4 65 bc e0 eb 98 d7 61 31 30 30 36 34 34 20 66 69 6c
#&gt; [176] 65 6c 6f 63 6b 2e 68 00 4a ec 0d d6 04 f3 68 63 d8 1e 69 3a 14 24 bc f8 38
#&gt; [201] 83 97 ba 31 30 30 36 34 34 20 69 6e 69 74 2e 63 00 2f d8 9e 49 f3 97 d3 1c
#&gt; [226] fd 33 e8 95 f0 3d 59 8c 7e ec a1 19 31 30 30 36 34 34 20 6c 6f 63 6b 6c 69
#&gt; [251] 73 74 2e 63 00 81 0c 2e a3 5d 59 f0 33 6b 66 ab 4f 5d 31 a3 01 e4 04 9b 85
#&gt; [276] 31 30 30 36 34 34 20 75 74 66 38 2e 63 00 47 84 9f b8 46 7b 37 da 66 20 ef
#&gt; [301] 1a 71 48 94 14 2a 85 11 39
#&gt; 
#&gt; [[6]]$hash
#&gt; [1] "abeb2f2376694746a00797a2c20df24daea66ba3"
#&gt; 
#&gt; 
#&gt; [[7]]
#&gt; [[7]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[7]]$object
#&gt;   type   mode       path                                     hash
#&gt; 1 blob 100644 testthat.R ba0c4a16402c81fcf9e23f5435e2f3dc00726805
#&gt; 2 tree  40000   testthat 70486852bb6531d18f3ec76170ded201e320bbd8
#&gt; 
#&gt; [[7]]$size
#&gt; [1] 73
#&gt; 
#&gt; [[7]]$packed_size
#&gt; [1] 74
#&gt; 
#&gt; [[7]]$raw
#&gt;  [1] 31 30 30 36 34 34 20 74 65 73 74 74 68 61 74 2e 52 00 ba 0c 4a 16 40 2c 81
#&gt; [26] fc f9 e2 3f 54 35 e2 f3 dc 00 72 68 05 34 30 30 30 30 20 74 65 73 74 74 68
#&gt; [51] 61 74 00 70 48 68 52 bb 65 31 d1 8f 3e c7 61 70 de d2 01 e3 20 bb d8
#&gt; 
#&gt; [[7]]$hash
#&gt; [1] "00ad597f0ec5aa7aab56afce1088d67685ef7395"
#&gt; 
#&gt; 
#&gt; [[8]]
#&gt; [[8]]$type
#&gt; [1] "tree"
#&gt; 
#&gt; [[8]]$object
#&gt;   type   mode   path                                     hash
#&gt; 1 blob 100644 test.R c1ec36f67434b9e03524180ed3646121ec03e113
#&gt; 
#&gt; [[8]]$size
#&gt; [1] 34
#&gt; 
#&gt; [[8]]$packed_size
#&gt; [1] 43
#&gt; 
#&gt; [[8]]$raw
#&gt;  [1] 31 30 30 36 34 34 20 74 65 73 74 2e 52 00 c1 ec 36 f6 74 34 b9 e0 35 24 18
#&gt; [26] 0e d3 64 61 21 ec 03 e1 13
#&gt; 
#&gt; [[8]]$hash
#&gt; [1] "70486852bb6531d18f3ec76170ded201e320bbd8"
</pre></div>

<hr>
<h2 id='git_list_files'>List files in a remote git repository</h2><span id='topic+git_list_files'></span>

<h3>Description</h3>

<p>List files in a remote git repository
</p>


<h3>Usage</h3>

<pre><code class='language-R'>git_list_files(url, ref = "HEAD")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="git_list_files_+3A_url">url</code></td>
<td>
<p>Repository URL, e.g. <code style="white-space: pre;">&#8288;https://github.com/r-lib/pak.git&#8288;</code>.
It might include authentication information, e.g. a GitHub token.</p>
</td></tr>
<tr><td><code id="git_list_files_+3A_ref">ref</code></td>
<td>
<p>Either a SHA or a ref name. It may also be a branch name
without the <code>refs/heads</code> prefix, or a partial (but unique) SHA of
at least seven hexadecimal digits.
See <code><a href="#topic+git_list_refs">git_list_refs()</a></code> for how branches, tags and GitHub pull
requests are named.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with entries:
</p>

<ul>
<li> <p><code>ref</code>: The <code>ref</code> the function was called with.
</p>
</li>
<li> <p><code>sha</code>: SHA of <code>ref</code>.
</p>
</li>
<li> <p><code>commit</code>: named character vector of the data of the commit object
belonging to <code>ref</code>. It has fields named: <code>tree</code>, <code>parent</code>,
<code>author</code>, <code>committer</code>, <code>encoding</code>, <code>message</code>.
</p>
</li>
<li> <p><code>tree</code>: SHA of the <code>tree</code> object belonging to <code>commit</code>.
</p>
</li>
<li> <p><code>files</code>: a data frame of files and directories. It has columns:
</p>

<ul>
<li> <p><code>hash</code>: SHA hash of the tree or blob.
</p>
</li>
<li> <p><code>type</code>: Either <code>"tree"</code> or <code>"blob"</code>.
</p>
</li>
<li> <p><code>mode</code>: Unix mode.
</p>
</li>
<li> <p><code>path</code>: Relative path from the repository's root directory.
</p>
</li></ul>

</li></ul>



<h3>Examples</h3>

<div class="sourceCode r"><pre>fls &lt;- git_list_files("https://github.com/r-lib/pak.git", "refs/heads/main")
fls$files
#&gt;                                         hash type   mode
#&gt; 1   78637c7741f1d05b867e6380b39841f1cc93c6ae blob 100644
#&gt; 2   09365afed2c2de2690f0a2242998b429a74385ee tree  40000
#&gt; 3   2d19fc766d98a08d9d1437896bfb008a7b15f340 blob 100644
#&gt; 4   3e048b6fbe23121b71a8b6e49d78c75b8a211ced tree  40000
#&gt; 5   9b71b7d8638f643f41d9d2eb13017ce72bb60134 blob 100644
#&gt; 6   d906b2bad68d3d516127d003f005a5ccef912235 blob 100644
#&gt; 7   2718673d32485ebc9a92c2b6dfde4e444ab55e7a blob 100644
#&gt; 8   b9f2c86fd564d49bb17b3c5001f8fc3889172e14 blob 100644
#&gt; 9   27a004b785b382edc66d48a4e23d03a255d5de5c blob 100644
#&gt; 10  0d8d414b0375b28538cdf8389691fe2fecfbd47e blob 100644
#&gt; 11  97271eb29faf3b1cecb81f5f7e7caf732c380bc4 blob 100644
#&gt; 12  4b65418291f5c25e76750e3506a05430f623f73f blob 100644
#&gt; 13  02fe05be5eaedabc818c6a3a4494b86561146815 blob 100644
#&gt; 14  398a86d33a97dda48ddf5d8d775a3acab11bd02f blob 100644
#&gt; 15  e0871627c1a339b113f3c37b558c1d9c361d0613 blob 100644
#&gt; 16  ab25a2db01855917a3cee50cba8dcbbdff008e27 blob 100644
#&gt; 17  b464e4652c292e274d1557a59ccf77c31ff1d0ea blob 100644
#&gt; 18  16634163e7dd63b68dde40f6d33a368c0f52ad7b tree  40000
#&gt; 19  cc0b4c1a148451aed7508a6dceef65734e1e81ae blob 100644
#&gt; 20  d992e9f19ef2cdae01f31a59a4c5c2ca42e8bc6e blob 100644
#&gt; 21  ddee0eaff1186dc75bd892ceeb4bb6a763553dbd blob 100644
#&gt; 22  34860cf4adecb83d71e481dce5377c56c7aff53d blob 100644
#&gt; 23  0e5cae27866cdd3dbb334c2d756b120f74d3acf2 blob 100644
#&gt; 24  8d7b0b5e9ed3f6c183fd8ca9b8639156bd6568f9 blob 100644
#&gt; 25  c45156b7dcf689e2bec9c38fa7760c04c665489c blob 100644
#&gt; 26  bbad5095b4f5da6707fe7636a26d0cbe3b76f562 blob 100644
#&gt; 27  d2236e702180ce578b7af8c10ff22a73f47bac5c blob 100644
#&gt; 28  e8df0e553f1235e493264cf2b66981772de10f71 blob 100644
#&gt; 29  5e3f4c049761c50c636d02f0c7214f84c3155302 blob 100644
#&gt; 30  c6a2c28489f590160a7e75a18b910b6d0834ab4c blob 100644
#&gt; 31  09123886d32910c815f53809098e09304518420f blob 100644
#&gt; 32  07e5117d02d56f17864435cb4711d44c9b402d77 blob 100644
#&gt; 33  8b4046c479b3ef98e995c898a20ade4280eb0838 blob 100644
#&gt; 34  6d0209d93f8e87c08c038e9ddffba176294369a3 blob 100644
#&gt; 35  2b615ee9e1f062391280476a558f65edb7a7908e blob 100644
#&gt; 36  9f6edd092486f92a080df8b6712f503fd7824193 blob 100644
#&gt; 37  3b46adf93274cfc402f3a24abb123101ce401a8e blob 100644
#&gt; 38  8e7d159dbdc6ae2f2cd021576c62de37d0407633 blob 100644
#&gt; 39  3cf6e5a441eb00a227a98a2b0c32da7e34dd8d52 blob 100644
#&gt; 40  f277587288a01b20b1b896b70b59fc0ca4422428 blob 100644
#&gt; 41  23bc3da8517a75db4ad69e30f7e79f6da52b4758 blob 100644
#&gt; 42  40f6f0162de3172cd27b140809a91da2f61f1499 blob 100644
#&gt; 43  3356ee4bb7ef406f1103669be14b5df4368dfe9b blob 100644
#&gt; 44  a8ade609dd10a9da209277238e3d5fba586918be blob 100644
#&gt; 45  db30fdc8f45f09108b2e543027f9b4532797a1a7 blob 100644
#&gt; 46  8ebbddd4fa5fec9941ac149b442aa2ead1df6b54 blob 100644
#&gt; 47  99fa806f2a20f2e31d0c5fda57296cde323b2ed0 blob 100644
#&gt; 48  ece743c56ec87c879f8feae78b369dc74fafa903 blob 100644
#&gt; 49  c91a1ebf5bd3a065fab680e19e06a9a2fb361169 blob 100644
#&gt; 50  435614511f3e6fb4f3ce083eda7a5fd708aa16d5 blob 100644
#&gt; 51  062b171dfe9761cc1b6fef5dcdebdfb54a455484 blob 100644
#&gt; 52  db73a46218520379d4a322c26fec19a68f802fbb blob 100644
#&gt; 53  7d168c39d4a6d7bcc08216d5cdd69d32c10544ee blob 100644
#&gt; 54  2e2f5dd3d7e95a8efe14b66ee11f71b3d4b2dff1 blob 100644
#&gt; 55  ca48de1b748b8cd82fe6251cdf67e9dcc02d1e12 blob 100644
#&gt; 56  ba16de3e25c0b98d1d7d1fcaf1cd5ed377d46975 blob 100644
#&gt; 57  391e1fa7b5334b8c4ec7609b1cb7428cdb4602e7 blob 100644
#&gt; 58  34509a42215e00f1a2b2e83eebe52d8433451dd6 blob 100644
#&gt; 59  351c3e7bc9eae89276958ab699d2aec059650c12 blob 100644
#&gt; 60  0adcdf2b124cbced9bf4b2ba3aa373e35db7ad8a blob 100644
#&gt; 61  a351cb8fa452aa7a3d5219be475795c9dbf81a78 blob 100644
#&gt; 62  597abaccad4473498e2ae58c2521d35e0c699bd6 blob 100755
#&gt; 63  04c55859903c1a7db8ce30f4a37f144795cce7c4 blob 100644
#&gt; 64  a6fbe0b30e28e44255d7bb7860e155a235062c9a blob 100755
#&gt; 65  994f9fdcd999611bc799761323fba728edf79389 blob 100644
#&gt; 66  025b39ee265412d822f515f991ce81d39d52cb8b tree  40000
#&gt; 67  cdf512b63d1e4709f538107ad9bdfec0828e56b8 blob 100644
#&gt; 68  f6138ff9081cd95a7d18801e1d89c5f04e5866f1 tree  40000
#&gt; 69  c3b2104e779ca5ca3a79ee69fc7d1041cbe977f6 blob 100644
#&gt; 70  99d774f214e479cfb5d63055afa8fbcb583111f2 blob 100644
#&gt; 71  e8e94bf558013a41dca7de2200ffb2daa3c46770 tree  40000
#&gt; 72  a82fed0623dc0a20a0ccfceb0baceda61144801a blob 100644
#&gt; 73  d6459e005434a49a66a3ddec92279a86160ad71f blob 100644
#&gt; 74  ba11122d4ef6842a3901dfe4f08b9e91aadf1bfb blob 100644
#&gt; 75  25b6e2293346439646077441c41ffc77c20fad1d blob 100644
#&gt; 76  e3b63731626da84ef1f4af9d63c5284408629b4c blob 100644
#&gt; 77  a8afa85ec5c8fd965b74e31a9267e20ad75f5243 blob 100644
#&gt; 78  c32822a40b4a26156da35265d219e15b1b8ba51b blob 100644
#&gt; 79  4c1a1aeb066f22b0ec1f71ae0b42dc9c686b899b tree  40000
#&gt; 80  19a17499e520a9040d13cdb46c98605b4ec21b9d blob 100644
#&gt; 81  fbd95956ddddff2c33a7095103d7a3435b837fdc tree  40000
#&gt; 82  6c613005a2b2b5b1892f2220888c625f992d29ee blob 100644
#&gt; 83  88302306891209038aa0d25f3e5bf5002812e086 blob 100644
#&gt; 84  ab19d1cc3798b651f02a28ceb2cd00cd432207b6 blob 100644
#&gt; 85  621ab042b5c98815ce2eaa25f65eaed1851d6d05 blob 100644
#&gt; 86  c5b9874a2f342052f690e622163d7fa202439dcf blob 100644
#&gt; 87  bb7c1c80e1675267d35174a3c7af47c1132b142b blob 100644
#&gt; 88  95c7c05cd177ad28aa6a1fa00d5b67d2cf954077 tree  40000
#&gt; 89  4d3a18e1abbc29f0facacb0e48e2c00cc3113e16 blob 100644
#&gt; 90  863a64ce1d9c96ba0dc0a7d1832f9c9fb0e9f0ee blob 100644
#&gt; 91  a16a6b75c8a0c73ac56d3f851de1d5ce3e3e97a2 blob 100644
#&gt; 92  d26b353c949e4720978a24f847a5488422b23ab7 blob 100644
#&gt; 93  57e26c7eeccb26cec849f3de52e640fb81076013 blob 100644
#&gt; 94  4071a5a590525325930c0242bfd1f33503bf195c blob 100644
#&gt; 95  2f7049ae7f268d4185333718813e23895ab769ea blob 100644
#&gt; 96  65304a330f52028b5622f227502267a6f1cadcdd blob 100644
#&gt; 97  bc278d72b4f342585d3a9dc4a15dab610298c58e blob 100644
#&gt; 98  51cd88fcf36a1a40da3d5c4ed9739e5047230de7 blob 100644
#&gt; 99  3b20bab9000d791e1991947ac5525b141c5b5dd8 blob 100644
#&gt; 100 9836125cb5dc016f22c6cdea72edfec7477f968d blob 100644
#&gt; 101 6ff2166291d7e9514cb7561b4dd6f59adf9ffa1b blob 100644
#&gt; 102 379c0aa9015ff343d73da8ec37f39fe60f275e21 blob 100644
#&gt; 103 e206c9ea9faabc2c765fe08df489861cfb13273a blob 100644
#&gt; 104 7220d3271aa842edf6d21fc74ca08763a29ddf9a blob 100644
#&gt; 105 c41dd490b63048c5c763a94ff8bfba1be1913dde blob 100644
#&gt; 106 f7bb775c4cdb68b6e3dfeb6bf81246028559f812 blob 100644
#&gt; 107 f657cb12851b53427e799ed39810d0f6cccf8721 blob 100644
#&gt; 108 f74333c25f4691082e1dca8a68f8893a0961f975 blob 100644
#&gt; 109 8a66ec44325a69c96b6409e1d680f934db005a9f blob 100644
#&gt; 110 c5514b382cc5acb15fd55bf65bc3cf57343ed442 blob 100644
#&gt; 111 c75bf73c8a095046862ff2d88cc00bda55c964ba blob 100644
#&gt; 112 3b34b39ffbf4459bfb61f26f10bac2c37d067a74 blob 100644
#&gt; 113 5c40d48c034b2c140b411cc97249cbc29928e3d5 tree  40000
#&gt; 114 ec5c3152480c860a7891341f922352cbd2578c49 blob 100644
#&gt; 115 779824c68264b03ca1b370493c68935c05111dd0 blob 100644
#&gt; 116 64d294582713e9179c5021027699e3cbf0e2064f blob 100644
#&gt; 117 945355ddf0b1a401b43d2587871eecef560ccb87 blob 100644
#&gt; 118 14ebcc4bf98a8df856723a58b30715a474f79683 blob 100644
#&gt; 119 0f290b95d53ce469fe776d2d9e49826b658c98a8 blob 100644
#&gt; 120 21a2426182a8685d40ef20e2641d8f81fd700db8 blob 100644
#&gt; 121 6570312475be4e1a077725cccf3c48af49d89ed5 blob 100644
#&gt; 122 0c107388edf8276ddb41345ae12800af4f10861f blob 100644
#&gt; 123 933f9c94ee403ef0abd8c35c9ef5f73b47ebfeee blob 100644
#&gt; 124 feec47fafdf68fb5252d4f7068977e9a17d6df44 blob 100644
#&gt; 125 ab3ad9618f073b704509fb6db338164c09e652f0 blob 100644
#&gt; 126 606507c0cbc321dac5da2faebc3f687160310725 blob 100644
#&gt; 127 0c6844a99c5f86a1f992061f77a1bf0e5be5185f blob 100644
#&gt; 128 10eee6579377f6c1bbd4f2816a171777105dd935 blob 100644
#&gt; 129 34ae0b70c57113e27cd8570aeaccdb75d0d7aa10 blob 100644
#&gt; 130 902d269ac9e6ed617245785eafcf86097683b080 blob 100644
#&gt; 131 56bd4dded11a76997485fbb42670194c4b6af022 blob 100644
#&gt; 132 c77ac48379e2b00d18f6091ca459fbadd7cc9bd7 blob 100644
#&gt; 133 45ccd98504cf1334c36930ec6adf4bcb87b07454 blob 100644
#&gt; 134 11c167b9d57d7f8e6da22a991c8cff651d7ddf95 blob 100644
#&gt; 135 4e631fe83ce7a46b4bf6d5ac890e6d2551f714d8 blob 100644
#&gt; 136 b71efd8f0f61d95e8ada1088b3be41743a4b8b3e blob 100644
#&gt; 137 1ef531fdc641016b347eb39ae7a4d31af30c541f blob 100644
#&gt; 138 4a48f62c7f735c48ef4c93e0b79a4e7eb40d9f42 blob 100644
#&gt; 139 721eb3e08884c2bfca365183d80ed24ad1dcd6f3 tree  40000
#&gt; 140 2bb9ea0544508dcf9d419bf976bf6e0b9ca249cb blob 100644
#&gt; 141 270314b87d171300f76501b32e8a0354926d9c84 blob 100644
#&gt; 142 261949d09b1fb399b89e48430f5ca18d3a41b34a tree  40000
#&gt; 143 65d5e8e273c120c2bfe0f73a3a4a934e5c81c7eb blob 100644
#&gt; 144 b556efa9133831e2c7fd52092b4b9b74d5b5234f tree  40000
#&gt; 145 9043e8f13610b5e4d25b3520959704058e8df210 tree  40000
#&gt; 146 53589d891b748348206f5b3660a2eab2cfad868e blob 100644
#&gt; 147 ee1b568a9714489e1f2afe58af5517402dd67288 blob 100644
#&gt; 148 93cdf17fc1fc85b62e344dee549e6679c15daf1f blob 100644
#&gt; 149 669cbd2f5b3c5c493f3139d2731b8a0ff52e4dc4 blob 100644
#&gt; 150 e64a41a84776f9d52a4016f1363f648c3403621b blob 100644
#&gt; 151 0ff31ac05c572f1b797faa1de823bbf64a156773 blob 100644
#&gt; 152 7083b82932c1df6117ed4348a6b75eba0210e9e6 blob 100644
#&gt; 153 ab41d001d7a5b8a0e6ebead68844106b905add60 blob 100644
#&gt; 154 bf707418d737259ecdefeee50358f4b904b6b2c6 blob 100644
#&gt; 155 63c494c86d0721196c560f2abb05ed5def1bf5bf blob 100644
#&gt; 156 01b5f065f869e4dd302c86983d76fc5561f61d46 blob 100644
#&gt; 157 1cb24179f61be7f6257c505b0ef8e64a6666d8c7 blob 100644
#&gt; 158 9448734642b391308c0cc142d2ea2c5eee5e58ac blob 100644
#&gt; 159 071c6c4c9c83d52c3609f31ffd8b25333308ca2d tree  40000
#&gt; 160 cc96b41c901541add156a02c39dbfda0ff1cb898 tree  40000
#&gt; 161 552a325bc9790007ec52353c33d03e57ad263978 tree  40000
#&gt; 162 0ce1318498219e9783606b303c90cf2fc893369d blob 100644
#&gt; 163 49e8e97903bde8a58026712473021d5d3ff17da7 blob 100644
#&gt; 164 088477679097737cccdc1bd46d90b577b88a4817 blob 100644
#&gt; 165 9811c5c118d9d190eee3d605bb38c42cf6a3f3d9 blob 100644
#&gt; 166 fc40496978d53be1e58be4a1359cc10b15d23c96 tree  40000
#&gt; 167 58efaf8c4bfed6d3624b0e9fb1bef845951b09a9 blob 100644
#&gt; 168 2ec0d3edc4c016a043028bd748ee09b6f8df0273 blob 100644
#&gt; 169 f8090ad4071bf668868f50c7754ad968cf85cdbf blob 100644
#&gt; 170 7e62ecf2bdea2bdbb1d530cf79c0d451bc9cc294 blob 100755
#&gt; 171 165c68c868430f8129739ca53631645545f4c2bb tree  40000
#&gt; 172 a65b41774ad52b3cc7b60496d35eaafc5da4bb16 blob 100644
#&gt; 173 8260e0f7ee227b2fc002179bb7fe6720ddf2cb34 blob 100644
#&gt; 174 dd8700466c8dafabf9ab08c0bc9dc6fe5ea8b82b blob 100644
#&gt; 175 13f0120982af72c5ed254fcbb74192dc5c20a3f0 tree  40000
#&gt; 176 9d2d50de04bfa00067b74c6d5428d266d8674a7e blob 100644
#&gt;                                                path
#&gt; 1                                     .Rbuildignore
#&gt; 2                                           .github
#&gt; 3                                .github/.gitignore
#&gt; 4                                 .github/workflows
#&gt; 5                .github/workflows/R-CMD-check.yaml
#&gt; 6              .github/workflows/build-package.yaml
#&gt; 7                      .github/workflows/build.yaml
#&gt; 8   .github/workflows/linux-builder-containers.yaml
#&gt; 9                    .github/workflows/nightly.yaml
#&gt; 10                   .github/workflows/pkgdown.yaml
#&gt; 11               .github/workflows/pr-commands.yaml
#&gt; 12             .github/workflows/test-coverage.yaml
#&gt; 13                                       .gitignore
#&gt; 14                                      DESCRIPTION
#&gt; 15                                         Makefile
#&gt; 16                                        NAMESPACE
#&gt; 17                                          NEWS.md
#&gt; 18                                                R
#&gt; 19                           R/aaa-rstudio-detect.R
#&gt; 20                             R/build-pak-binary.R
#&gt; 21                                        R/cache.R
#&gt; 22                                 R/compat-vctrs.R
#&gt; 23                                 R/confirmation.R
#&gt; 24                           R/cran-install-order.R
#&gt; 25                          R/default-cran-mirror.R
#&gt; 26                                 R/deps-explain.R
#&gt; 27                                     R/dev-mode.R
#&gt; 28                                         R/docs.R
#&gt; 29                               R/embed-ca-certs.R
#&gt; 30                                    R/embed-lib.R
#&gt; 31                                       R/errors.R
#&gt; 32                                        R/extra.R
#&gt; 33                                    R/formatted.R
#&gt; 34                               R/global-handler.R
#&gt; 35                                         R/json.R
#&gt; 36                                      R/library.R
#&gt; 37                                        R/local.R
#&gt; 38                                     R/lockfile.R
#&gt; 39                                   R/name-check.R
#&gt; 40                                       R/onload.R
#&gt; 41                                      R/package.R
#&gt; 42                                  R/pak-cleanup.R
#&gt; 43                                  R/pak-install.R
#&gt; 44                                   R/pak-update.R
#&gt; 45                                          R/pak.R
#&gt; 46                                        R/print.R
#&gt; 47                                  R/private-lib.R
#&gt; 48                                R/push-packages.R
#&gt; 49                                         R/repo.R
#&gt; 50                               R/rstudio-detect.R
#&gt; 51                            R/safe-cran-install.R
#&gt; 52                                       R/search.R
#&gt; 53                                   R/subprocess.R
#&gt; 54                          R/system-requirements.R
#&gt; 55                                    R/terminate.R
#&gt; 56                                       R/unload.R
#&gt; 57                                        R/utils.R
#&gt; 58                                  R/warn-loaded.R
#&gt; 59                                       README.Rmd
#&gt; 60                                        README.md
#&gt; 61                                     _pkgdown.yml
#&gt; 62                                          cleanup
#&gt; 63                                      codecov.yml
#&gt; 64                                        configure
#&gt; 65                                    configure.win
#&gt; 66                                             data
#&gt; 67                           data/pak_sitrep_data.R
#&gt; 68                                             inst
#&gt; 69                                    inst/WORDLIST
#&gt; 70                                   inst/header.md
#&gt; 71                                       inst/tools
#&gt; 72                         inst/tools/pkg_1.0.0.tgz
#&gt; 73                                   inst/tools/xxx
#&gt; 74                               inst/tools/xxx.bz2
#&gt; 75                                inst/tools/xxx.gz
#&gt; 76                            inst/tools/xxx.tar.gz
#&gt; 77                                inst/tools/xxx.xz
#&gt; 78                               inst/tools/xxx.zip
#&gt; 79                                              man
#&gt; 80                                     man/cache.Rd
#&gt; 81                                       man/chunks
#&gt; 82                               man/chunks/FAQ.Rmd
#&gt; 83                          man/chunks/features.Rmd
#&gt; 84                           man/chunks/install.Rmd
#&gt; 85                              man/chunks/tldr.Rmd
#&gt; 86                                       man/faq.Rd
#&gt; 87                                  man/features.Rd
#&gt; 88                                      man/figures
#&gt; 89                        man/figures/cran-dark.svg
#&gt; 90                             man/figures/cran.svg
#&gt; 91                        man/figures/deps-dark.svg
#&gt; 92                             man/figures/deps.svg
#&gt; 93                     man/figures/explain-dark.svg
#&gt; 94                          man/figures/explain.svg
#&gt; 95                          man/figures/gh-dark.svg
#&gt; 96                               man/figures/gh.svg
#&gt; 97                       man/figures/local-dark.svg
#&gt; 98                            man/figures/local.svg
#&gt; 99                        man/figures/tldr-cran.svg
#&gt; 100                              man/get-started.Rd
#&gt; 101                 man/handle_package_not_found.Rd
#&gt; 102                                  man/install.Rd
#&gt; 103                               man/lib_status.Rd
#&gt; 104                               man/local_deps.Rd
#&gt; 105                       man/local_deps_explain.Rd
#&gt; 106                            man/local_install.Rd
#&gt; 107                       man/local_install_deps.Rd
#&gt; 108                   man/local_install_dev_deps.Rd
#&gt; 109                      man/local_package_trees.Rd
#&gt; 110                man/local_system_requirements.Rd
#&gt; 111                          man/lockfile_create.Rd
#&gt; 112                         man/lockfile_install.Rd
#&gt; 113                                      man/macros
#&gt; 114                              man/macros/eval.Rd
#&gt; 115                                 man/metadata.Rd
#&gt; 116                 man/package-dependency-types.Rd
#&gt; 117                               man/pak-config.Rd
#&gt; 118                                      man/pak.Rd
#&gt; 119                              man/pak_cleanup.Rd
#&gt; 120                        man/pak_install_extra.Rd
#&gt; 121                      man/pak_package_sources.Rd
#&gt; 122                                man/pak_setup.Rd
#&gt; 123                               man/pak_sitrep.Rd
#&gt; 124                               man/pak_solver.Rd
#&gt; 125                               man/pak_update.Rd
#&gt; 126                                 man/pkg_deps.Rd
#&gt; 127                         man/pkg_deps_explain.Rd
#&gt; 128                            man/pkg_deps_tree.Rd
#&gt; 129                             man/pkg_download.Rd
#&gt; 130                              man/pkg_history.Rd
#&gt; 131                              man/pkg_install.Rd
#&gt; 132                           man/pkg_name_check.Rd
#&gt; 133                               man/pkg_remove.Rd
#&gt; 134                               man/pkg_search.Rd
#&gt; 135                               man/pkg_status.Rd
#&gt; 136                                 man/repo_add.Rd
#&gt; 137                                 man/repo_get.Rd
#&gt; 138                              man/repo_status.Rd
#&gt; 139                                     man/roxygen
#&gt; 140                              man/roxygen/meta.R
#&gt; 141                                       pak.Rproj
#&gt; 142                                           tests
#&gt; 143                                tests/testthat.R
#&gt; 144                                  tests/testthat
#&gt; 145                           tests/testthat/_snaps
#&gt; 146                  tests/testthat/_snaps/print.md
#&gt; 147                        tests/testthat/helpers.R
#&gt; 148                          tests/testthat/setup.R
#&gt; 149                    tests/testthat/test-bundle.R
#&gt; 150           tests/testthat/test-create-pak-repo.R
#&gt; 151                  tests/testthat/test-platform.R
#&gt; 152                     tests/testthat/test-print.R
#&gt; 153               tests/testthat/test-private-lib.R
#&gt; 154                      tests/testthat/test-repo.R
#&gt; 155                tests/testthat/test-subprocess.R
#&gt; 156       tests/testthat/test-system-requirements.R
#&gt; 157                        tests/testthat/test-ui.R
#&gt; 158                     tests/testthat/test-utils.R
#&gt; 159                                           tools
#&gt; 160                                     tools/build
#&gt; 161                               tools/build/linux
#&gt; 162                    tools/build/linux/Dockerfile
#&gt; 163            tools/build/linux/Dockerfile-builder
#&gt; 164                      tools/build/linux/Makefile
#&gt; 165              tools/build/linux/Makevars-builder
#&gt; 166                               tools/build/macos
#&gt; 167                    tools/build/macos/.gitignore
#&gt; 168                      tools/build/macos/Makefile
#&gt; 169              tools/build/macos/Makevars-curl.in
#&gt; 170                   tools/build/macos/download.sh
#&gt; 171                             tools/build/windows
#&gt; 172                  tools/build/windows/.gitignore
#&gt; 173                    tools/build/windows/Makefile
#&gt; 174                            tools/dynamic-help.R
#&gt; 175                                       vignettes
#&gt; 176                         vignettes/internals.Rmd
</pre></div>

<hr>
<h2 id='git_list_refs'>List references in a remote git repository</h2><span id='topic+git_list_refs'></span>

<h3>Description</h3>

<p>List references in a remote git repository
</p>


<h3>Usage</h3>

<pre><code class='language-R'>git_list_refs(url, prefixes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="git_list_refs_+3A_url">url</code></td>
<td>
<p>Repository URL, e.g. <code style="white-space: pre;">&#8288;https://github.com/r-lib/pak.git&#8288;</code>.
It might include authentication information, e.g. a GitHub token.</p>
</td></tr>
<tr><td><code id="git_list_refs_+3A_prefixes">prefixes</code></td>
<td>
<p>If not <code>NULL</code>, then only references of which one of
<code>prefixes</code> is a prefix, are listed.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p> Branches have references named <code style="white-space: pre;">&#8288;refs/heads/&lt;branch&gt;&#8288;</code>, e.g.
<code>refs/heads/main</code>.
</p>
</li>
<li><p> Tags have references named <code style="white-space: pre;">&#8288;refs/tags/&lt;tag&gt;&#8288;</code>, e.g. <code>refs/tags/v1.0.2</code>.
</p>
</li>
<li><p> On GitHub pull requests have references named
<code style="white-space: pre;">&#8288;refs/pull/&lt;pr-number&gt;/head&#8288;</code>, e.g. <code>refs/pull/37/head</code>.
For open pull requests there should be a <code style="white-space: pre;">&#8288;refs/pull/&lt;pr-number&gt;/merge&#8288;</code>
reference as well, which is the branch after the pull request has been
merged.
</p>
</li>
<li><p> There is a special reference called <code>HEAD</code>. This points to the default
branch on GitHub.
</p>
</li></ul>



<h3>Value</h3>

<p>A list with entries: <code>refs</code> and <code>caps</code>.
<code>caps</code> is a character vector of capabilities advertised by the server.
<code>refs</code> is a data frame of git refs, it has columns <code>ref</code> and <code>hash</code>.
</p>


<h3>Examples</h3>

<div class="sourceCode r"><pre>git_list_refs("https://github.com/r-lib/filelock.git")
#&gt; $refs
#&gt;                                       ref
#&gt; 1                                    HEAD
#&gt; 2                   refs/heads/cran-1-0-2
#&gt; 3  refs/heads/fix/testthat-error-parallel
#&gt; 4                     refs/heads/gh-pages
#&gt; 5                         refs/heads/main
#&gt; 6                  refs/heads/refcounting
#&gt; 7                       refs/pull/14/head
#&gt; 8                       refs/pull/37/head
#&gt; 9                      refs/pull/37/merge
#&gt; 10                      refs/pull/38/head
#&gt; 11                      refs/pull/40/head
#&gt; 12                       refs/tags/v1.0.2
#&gt;                                        hash
#&gt; 1  0331c49c0b17845468b5f3e2da75680475bc9989
#&gt; 2  dfc615b14dfc030df3f44bd377e752728f76df3d
#&gt; 3  6f4b4bfcc1d3442d63496c7640984c0d9570a05a
#&gt; 4  2956fbdcbab65b75e3347048a9dc18b15fe377d2
#&gt; 5  0331c49c0b17845468b5f3e2da75680475bc9989
#&gt; 6  48e5bbe0e031897c7f0e194edbf6897f813fbaee
#&gt; 7  48e5bbe0e031897c7f0e194edbf6897f813fbaee
#&gt; 8  6f4b4bfcc1d3442d63496c7640984c0d9570a05a
#&gt; 9  74b253543f6d2e7213a8174ebbe8e397b9cc866b
#&gt; 10 c7e58188a55844e6e75cd38cf81388c3452b1259
#&gt; 11 10421f0b7117244002d377d7a9699c2742abdfcc
#&gt; 12 9fdba75a62facaa3e818902f58891166e45eabe9
#&gt; 
#&gt; $caps
#&gt;  [1] "multi_ack"                      "thin-pack"                     
#&gt;  [3] "side-band"                      "side-band-64k"                 
#&gt;  [5] "ofs-delta"                      "shallow"                       
#&gt;  [7] "deepen-since"                   "deepen-not"                    
#&gt;  [9] "deepen-relative"                "no-progress"                   
#&gt; [11] "include-tag"                    "multi_ack_detailed"            
#&gt; [13] "allow-tip-sha1-in-want"         "allow-reachable-sha1-in-want"  
#&gt; [15] "no-done"                        "symref=HEAD:refs/heads/main"   
#&gt; [17] "filter"                         "object-format=sha1"            
#&gt; [19] "agent=git/github-g8119c27a9d8d"
</pre></div>
<p>List only references having a certain prefix:
</p>
<div class="sourceCode r"><pre>git_list_refs("https://github.com/r-lib/filelock.git", "refs/heads/main")
#&gt; $refs
#&gt;               ref                                     hash
#&gt; 1 refs/heads/main 211dde89c4974b295aa02c5c77b5570ead0fc458
#&gt; 
#&gt; $caps
#&gt; [1] "version 2"                          "agent=git/github-1c5ee477c782"     
#&gt; [3] "ls-refs=unborn"                     "fetch=shallow wait-for-done filter"
#&gt; [5] "server-option"                      "object-format=sha1"
</pre></div>
<p>Various services:
</p>
<div class="sourceCode r"><pre>git_list_refs("https://gitlab.com/Linaro/tuxmake.git", "HEAD")
#&gt; $refs
#&gt;    ref                                     hash
#&gt; 1 HEAD 9441c1f6ae68148882e9d15ab2d6b3008f4c2c19
#&gt; 
#&gt; $caps
#&gt; [1] "version 2"                          "agent=git/2.40.0.gl1"              
#&gt; [3] "ls-refs=unborn"                     "fetch=shallow wait-for-done filter"
#&gt; [5] "server-option"                      "object-format=sha1"                
#&gt; [7] "object-info"
git_list_refs("https://bitbucket.org/gaborcsardi/cli.git")
#&gt; $refs
#&gt;                                        ref
#&gt; 1                                     HEAD
#&gt; 2                           refs/heads/ask
#&gt; 3                    refs/heads/cran-3.0.0
#&gt; 4                   refs/heads/cran/v3.0.1
#&gt; 5      refs/heads/feature/cli-capabilities
#&gt; 6   refs/heads/feature/cli-condition-width
#&gt; 7  refs/heads/feature/format-error-options
#&gt; 8           refs/heads/feature/rstudio-job
#&gt; 9          refs/heads/feature/span-bullets
#&gt; 10                refs/heads/feature/table
#&gt; 11            refs/heads/fix/pkgdown-2.0.0
#&gt; 12                     refs/heads/gh-pages
#&gt; 13                         refs/heads/main
#&gt; 14    refs/heads/use-glue-literal-argument
#&gt; 15                        refs/tags/v1.0.1
#&gt; 16                        refs/tags/v1.1.0
#&gt; 17                    refs/tags/v1.1.0-pre
#&gt; 18                        refs/tags/v2.0.0
#&gt; 19                        refs/tags/v2.0.1
#&gt; 20                        refs/tags/v2.0.2
#&gt; 21                        refs/tags/v2.1.0
#&gt; 22                        refs/tags/v2.2.0
#&gt; 23                        refs/tags/v2.3.0
#&gt; 24                        refs/tags/v2.3.1
#&gt; 25                        refs/tags/v2.4.0
#&gt; 26                        refs/tags/v2.5.0
#&gt; 27                        refs/tags/v3.0.0
#&gt; 28                        refs/tags/v3.0.1
#&gt; 29                        refs/tags/v3.1.0
#&gt;                                        hash
#&gt; 1  928ff3e6a52a08bbabadc57027c43de13b0d7601
#&gt; 2  736e5824c082e94fc1acc68fb604fa66b19d1826
#&gt; 3  75f3f185c116ff69f3abd56bf89fa9032a9eb965
#&gt; 4  722cd638ebe4529db20442962cd2d7dc56c694d7
#&gt; 5  b6ebff6771ff9ee8e5b19f8b6c20e142182ab866
#&gt; 6  ee931427a9ee51bdfd837bd03c22d2d60ad81946
#&gt; 7  28d4efb9b8875e933d682285b65ab05c61f6aef2
#&gt; 8  8ddc6e68b970f14d45af6109108b17352dc8a4e7
#&gt; 9  bfaabf3658c229d406591b4436991e37720476cf
#&gt; 10 0d4089fc2f6cf8c7364f02698cf257363e877660
#&gt; 11 be878b57b6f9978953916b0a1d7272f104e27309
#&gt; 12 928ff3e6a52a08bbabadc57027c43de13b0d7601
#&gt; 13 f6794c4a2d845b6706a41c58f63b4acbbc663968
#&gt; 14 5c2904c05e8f809d0136e2253e2e6ea4b7743992
#&gt; 15 6e0ffb0de1b54953583e01068a8052ae4cbe72aa
#&gt; 16 d4f0e8618aba3475974394075f3f5384695d1d28
#&gt; 17 57fb26d1c4582fc73a3a8531aa534948f88e96bc
#&gt; 18 9a133422f200f7aa0cdc78b28eb42770cdfe4b35
#&gt; 19 31aaccbdb3904c5b681175483a95688940345725
#&gt; 20 19f3b864f4ee04c31627a3246dbea44bc07b7967
#&gt; 21 a914e326aea8a9ec7d07f7accd64bb624065ba8a
#&gt; 22 e0d0668030b482c1bda1fce66db63f402c4e9c5a
#&gt; 23 e4c9180c5b53f68c3f938473c0d5871ceefe9991
#&gt; 24 5c0c8a88549050e156ea4469adf536e1c0ac0881
#&gt; 25 251c84f298b46e0529dd992b9ec86da4aaaf4fa8
#&gt; 26 17fd0dc202a51aa82a7704786712d9f77c690c4d
#&gt; 27 df963095361d77322676260e60c549d8807ded1d
#&gt; 28 525e785e8b34e889707bbbe354287bd4a60e8fcb
#&gt; 29 e40cfd4eedad58c22c3e7bcfdba6f23f11a79e13
#&gt; 
#&gt; $caps
#&gt;  [1] "multi_ack"                       "thin-pack"                      
#&gt;  [3] "side-band"                       "side-band-64k"                  
#&gt;  [5] "ofs-delta"                       "shallow"                        
#&gt;  [7] "deepen-since"                    "deepen-not"                     
#&gt;  [9] "deepen-relative"                 "no-progress"                    
#&gt; [11] "include-tag"                     "multi_ack_detailed"             
#&gt; [13] "allow-tip-sha1-in-want"          "allow-reachable-sha1-in-want"   
#&gt; [15] "no-done"                         "symref=HEAD:refs/heads/gh-pages"
#&gt; [17] "object-format=sha1"              "agent=git/2.32.0"
git_list_refs("https://git.savannah.nongnu.org/git/administration/savane.git")
#&gt; $refs
#&gt;                         ref                                     hash
#&gt; 1                      HEAD bdfce5e39c3ebb36b748925dfc8a0cde483fda6a
#&gt; 2           refs/heads/i18n e5f2c309b038789a82ab5a54d723a3564f1bde58
#&gt; 3         refs/heads/master bdfce5e39c3ebb36b748925dfc8a0cde483fda6a
#&gt; 4    refs/tags/release-3.10 e1db1a011effeb7d16a5af9c15b91d8998579ad7
#&gt; 5 refs/tags/release-3.10^{} d16b7e7e849d5d63794b1c48847e8a57250ce2bd
#&gt; 6    refs/tags/release-3.11 7d5723e022a7144c077501ecff5ac23984effe8d
#&gt; 7 refs/tags/release-3.11^{} af29b8a99fe4b4e7deefb6bcbf9a6d98f43228bf
#&gt; 
#&gt; $caps
#&gt;  [1] "multi_ack"                     "thin-pack"                    
#&gt;  [3] "side-band"                     "side-band-64k"                
#&gt;  [5] "ofs-delta"                     "shallow"                      
#&gt;  [7] "deepen-since"                  "deepen-not"                   
#&gt;  [9] "deepen-relative"               "no-progress"                  
#&gt; [11] "include-tag"                   "multi_ack_detailed"           
#&gt; [13] "no-done"                       "symref=HEAD:refs/heads/master"
#&gt; [15] "agent=git/2.17.1"
</pre></div>

<hr>
<h2 id='git-protocol'>git protocol notes, for developers</h2><span id='topic+git-protocol'></span>

<h3>Description</h3>

<p>Assumptions, they might be relaxed or checked for later:
</p>

<ul>
<li><p> The server must speak the smart protocol, version 1 or 2.
(Although I added some functions specifically for the dumb protocol,
but they are pretty limited.)
</p>
</li>
<li><p> We use HTTP transport, not SSH.
</p>
</li>
<li><p> The server should have the <code>shallow</code> capability.
</p>
</li>
<li><p> The server should have the <code>filter</code> capability if protocol version 2.
</p>
</li>
<li><p> Only SHA-1 hashing is supported.
</p>
</li></ul>



<h3>Details</h3>

<p>Improvements needed:
</p>

<ul>
<li><p> DONE Tests. (Can always have more.)
</p>
</li>
<li><p> DONE Use async HTTP.
</p>
</li>
<li><p> DONE Support packfiles with deltas. (<code>ofs-delta</code> objects are still
not supported.)
</p>
</li>
<li><p> DONE Optionally send authorization. Already possibly in the URL.
</p>
</li>
<li><p> DONE Better error messages.
</p>
</li>
<li><p> Better errors for non-existing user, repository, ref, PR, etc.
</p>
</li></ul>

<p>Optional improvements:
</p>

<ul>
<li><p> Support <code>ofs-delta</code> objects in packfiles. Not necessarily, unless we
send this capability, the server is not sending <code>ofs-delta</code> objects.
</p>
</li>
<li><p> Make unpacking faster. It is not fast currently, with all the bit
arithmetic in R. But it is already faster than a <code>tar.gz</code> + uncompress
download from GitHub, so not really needed.
</p>
</li></ul>



<h4>Docs and other helpful links:</h4>


<ul>
<li> <p><a href="https://github.com/git/git/blob/master/Documentation/gitprotocol-common.txt">https://github.com/git/git/blob/master/Documentation/gitprotocol-common.txt</a>
</p>
</li>
<li> <p><a href="https://github.com/git/git/blob/master/Documentation/gitprotocol-pack.txt">https://github.com/git/git/blob/master/Documentation/gitprotocol-pack.txt</a>
</p>
</li>
<li> <p><a href="https://github.com/git/git/blob/master/Documentation/gitprotocol-v2.txt">https://github.com/git/git/blob/master/Documentation/gitprotocol-v2.txt</a>
</p>
</li>
<li> <p><a href="https://github.com/calebsander/git-internals/blob/part2/src/main.rs">https://github.com/calebsander/git-internals/blob/part2/src/main.rs</a>
</p>
</li>
<li> <p><a href="https://dev.to/calebsander/git-internals-part-1-the-git-object-model-474m">https://dev.to/calebsander/git-internals-part-1-the-git-object-model-474m</a>
</p>
</li></ul>



<hr>
<h2 id='install_package_plan'>Perform a package installation plan</h2><span id='topic+install_package_plan'></span>

<h3>Description</h3>

<p>See <a href="#topic+install_plans">'Installation plans'</a> for the details and the format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install_package_plan(
  plan,
  lib = .libPaths()[[1]],
  num_workers = 1,
  cache = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="install_package_plan_+3A_plan">plan</code></td>
<td>
<p>Package plan object, a data frame, see
<a href="#topic+install_plans">'Installation plans'</a> for the format.</p>
</td></tr>
<tr><td><code id="install_package_plan_+3A_lib">lib</code></td>
<td>
<p>Library directory to install to.</p>
</td></tr>
<tr><td><code id="install_package_plan_+3A_num_workers">num_workers</code></td>
<td>
<p>Number of worker processes to use.</p>
</td></tr>
<tr><td><code id="install_package_plan_+3A_cache">cache</code></td>
<td>
<p>Package cache to use, or <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Information about the installation process.
</p>

<hr>
<h2 id='install_plans'>Installation plans</h2><span id='topic+install_plans'></span>

<h3>Description</h3>

<p>An installation plan contains all data that is needed to install a
set of package files. It is usually created from an
<a href="#topic+pkg_installation_proposal">installation proposal</a> with
<a href="#topic+pkg_solution">solving</a> the dependencies and <a href="#topic+pkg_downloads">downloading</a>
the package files.
</p>


<h3>Details</h3>

<p>It is also possible to create an installation plan a different way. An
installation plan object must be a data frame, with at least the
following columns:
</p>

<ul>
<li> <p><code>package</code>: The name of the package.
</p>
</li>
<li> <p><code>type</code>: The type of the <a href="#topic+pkg_refs">package reference</a>.
</p>
</li>
<li> <p><code>binary</code>: Whether the package is a binary package.
</p>
</li>
<li> <p><code>file</code>: Full path to the package file or directory.
</p>
</li>
<li> <p><code>dependencies</code>: A list column that lists the names of the dependent
packages for each package.
</p>
</li>
<li> <p><code>needscompilation</code>: Whether the package needs compilation. This should
be <code>FALSE</code> for binary packages.
</p>
</li></ul>

<p>For installation plans created via <a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a>, the plan
contains all columns from <code><a href="#topic+pkg_download_result">pkg_download_result</a></code>
objects, and some additional ones:
</p>

<ul>
<li> <p><code>library</code>: the library the package is supposed to be installed to.
</p>
</li>
<li> <p><code>direct</code>: whether the package was directly requested or it is
installed as a dependency.
</p>
</li>
<li><p> vignettes: whether the vignettes need to be (re)built.
</p>
</li>
<li> <p><code>packaged</code>: whether <code style="white-space: pre;">&#8288;R CMD build&#8288;</code> was already called for the package.
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a> to create install plans,
<code><a href="#topic+install_package_plan">install_package_plan()</a></code> to install plans from any source.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$download()
pdi$get_install_plan()

## End(Not run)

</code></pre>

<hr>
<h2 id='is_valid_package_name'>Check whether a package name is valid</h2><span id='topic+is_valid_package_name'></span>

<h3>Description</h3>

<p>Check whether a package name is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_valid_package_name(nm)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_valid_package_name_+3A_nm">nm</code></td>
<td>
<p>Potential package name, string of length 1.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical flag. If <code>FALSE</code>, then the <code>reason</code> attribute
contains a character string, the explanation why the package name
is invalid. See examples below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>is_valid_package_name("pak")
is_valid_package_name("pkg")
is_valid_package_name("pak\u00e1ge")
is_valid_package_name("good-package")
is_valid_package_name("x")
is_valid_package_name("1stpackage")
is_valid_package_name("dots.")
</code></pre>

<hr>
<h2 id='lib_status'>Status of packages in a library</h2><span id='topic+lib_status'></span>

<h3>Description</h3>

<p>Query data of all packages in a package library.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lib_status(library = .libPaths()[1], packages = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="lib_status_+3A_library">library</code></td>
<td>
<p>Path to library.</p>
</td></tr>
<tr><td><code id="lib_status_+3A_packages">packages</code></td>
<td>
<p>If not <code>NULL</code>, then only these packages are shown.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame that contains data about the packages
installed in the library.
</p>
<p>It has always has columns:
</p>

<ul>
<li> <p><code>biocviews</code>: the corresponding field from <code>DESCRIPTION</code>, it must be
present for all Bioconductor packages, other packages typically don't
have it.
</p>
</li>
<li> <p><code>built</code>: the <code>Built</code> field from <code>DESCRIPTION</code>.
</p>
</li>
<li> <p><code>depends</code>, <code>suggests</code>, <code>Imports</code>, <code>linkingto</code>, <code>enhances</code>: the corresponding
fields from the <code>DESCRIPTION</code> files.
</p>
</li>
<li> <p><code>deps</code>: A list or data frames, the dependencies of the package. It has
columns: <code>ref</code>, <code>type</code> (dependency type in lowercase), <code>package</code>
(dependent package, or <code>R</code>), <code>op</code> and <code>version</code>, for last two are for
version requirement. <code>op</code> can be <code>&gt;=</code>, <code>&gt;</code>, <code>==</code> or <code>&lt;=</code>, although the
only the first one is common in practice.
</p>
</li>
<li> <p><code>library</code>: path to the package library containing the package.
</p>
</li>
<li> <p><code>license</code>: from <code>DESCRIPTION</code>.
</p>
</li>
<li> <p><code>md5sum</code>: from <code>DESCTIPTION</code>, typically <code>NA</code>, except on Windows.
</p>
</li>
<li> <p><code>needscompilation</code>: from <code>DESCRIPTION</code>, this column is logical.
</p>
</li>
<li> <p><code>package</code>: package name.
</p>
</li>
<li> <p><code>platform</code>: from the <code>Built</code> field in <code>DESCRIPTION</code>, the current platform
if missing from <code>DESCRIPTION</code>.
</p>
</li>
<li> <p><code>priority</code>: from <code>DESCRIPTION</code>, usually <code>base</code>, <code>recommended</code>, or missing.
</p>
</li>
<li> <p><code>ref</code>: the corresponding <code style="white-space: pre;">&#8288;installed::*&#8288;</code> package reference.
</p>
</li>
<li> <p><code>repository</code>: from <code>DESCRIPTION</code>. For packages from a CRAN repository this
is <code>CRAN</code>, some other repositories, e.g. R-universe adds the repository
URL here.
</p>
</li>
<li> <p><code>repotype</code>: <code>cran</code>, <code>bioc</code> or missing.
</p>
</li>
<li> <p><code>rversion</code>: from the <code>Built</code> field. If no such field, then the current
R version.
</p>
</li>
<li> <p><code>sysreqs</code>: the <code>SystemRequirements</code> field from <code>DESCRIPTION</code>.
</p>
</li>
<li> <p><code>title</code>: package title.
</p>
</li>
<li> <p><code>type</code>: always <code>installed</code>.
</p>
</li>
<li> <p><code>version</code>: package version (as string).
</p>
</li></ul>

<p>Most of these columns are unchanged from <code>DESCRIPTION</code>, but
pkgdepends also adds a couple.
</p>


<h4>Notes:</h4>


<ul>
<li><p> In addition, it also has all <code style="white-space: pre;">&#8288;remote*&#8288;</code> and <code style="white-space: pre;">&#8288;config/needs/*&#8288;</code> entries from
the <code>DESCRIPTION</code> files. (Case insensitive.)
</p>
</li>
<li><p> All columns are of type <code>character</code>, except for <code>needscompilation</code>, which
is logical and <code>deps</code>, which is a list columns.
</p>
</li>
<li><p> If an entry is missing for a package, it is set to <code>NA</code>.
</p>
</li>
<li><p> Note that column names are lowercase, even if the corresponding entries
are not in <code>DESCRIPTION</code>.
</p>
</li>
<li><p> The order of the columns is not deterministic, so don't assume any order.
</p>
</li>
<li><p> Additional columns might be present, these are internal for
pkgdepends and should not be used in user code.
</p>
</li></ul>



<hr>
<h2 id='new_pkg_deps'>R6 class for package dependency lookup</h2><span id='topic+new_pkg_deps'></span><span id='topic+pkg_deps'></span>

<h3>Description</h3>

<p>Look up dependencies of R packages from various sources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pkg_deps(refs, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_pkg_deps_+3A_refs">refs</code></td>
<td>
<p>Package names or references. See
<a href="#topic+pkg_refs">'Package references'</a> for the syntax.</p>
</td></tr>
<tr><td><code id="new_pkg_deps_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed to
<a href="#method-new"><code>pkg_deps$new()</code></a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>new_pkg_deps()</code> creates a new object from the <code>pkg_deps</code> class.
The advantage of <code>new_pkg_deps()</code> compared to using the <a href="#topic+pkg_deps">pkg_deps</a>
constructor directly is that it avoids making pkgdepends a build time
dependency.
</p>
<p>The usual steps to query package dependencies are:
</p>

<ol>
<li><p> Create a <code>pkg_deps</code> object with <code>new_pkg_deps()</code>.
</p>
</li>
<li><p> Resolve all possible dependencies with
<a href="#method-resolve"><code>pkg_deps$resolve()</code></a>.
</p>
</li>
<li><p> Solve the dependencies, to obtain a subset of all possible
dependencies that can be installed together, with
<a href="#method-solve"><code>pkg_deps$solve()</code></a>.
</p>
</li>
<li><p> Call <a href="#method-get-solution"><code>pkg_deps$get_solution()</code></a> to list the
result of the dependency solver.
</p>
</li></ol>



<h3>Value</h3>

<p><code>new_pkg_deps()</code> returns a new <code>pkg_deps</code> object.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-pkg_deps-new"><code>pkg_deps$new()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-get_refs"><code>pkg_deps$get_refs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-get_config"><code>pkg_deps$get_config()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-resolve"><code>pkg_deps$resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-async_resolve"><code>pkg_deps$async_resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-get_resolution"><code>pkg_deps$get_resolution()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-get_solve_policy"><code>pkg_deps$get_solve_policy()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-set_solve_policy"><code>pkg_deps$set_solve_policy()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-solve"><code>pkg_deps$solve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-get_solution"><code>pkg_deps$get_solution()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-stop_for_solution_error"><code>pkg_deps$stop_for_solution_error()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-draw"><code>pkg_deps$draw()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-format"><code>pkg_deps$format()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-print"><code>pkg_deps$print()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_deps-clone"><code>pkg_deps$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-pkg_deps-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new <code>pkg_deps</code> object. Consider using <code>new_pkg_deps()</code>
instead of calling the constructor directly.
</p>
<p>The returned object can be used to look up (recursive) dependencies
of R packages from various sources. To perform the actual lookup,
you'll need to call the <a href="#method-resolve"><code>resolve()</code></a> method.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$new(
  refs,
  config = list(),
  policy = c("lazy", "upgrade"),
  remote_types = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>refs</code></dt><dd><p>Package names or references. See
<a href="#topic+pkg_refs">'Package references'</a> for the syntax.</p>
</dd>
<dt><code>config</code></dt><dd><p>Configuration options, a named list. See
<a href="#topic+pkgdepends-config">'Configuration'</a>.</p>
</dd>
<dt><code>policy</code></dt><dd><p>Solution policy. See <a href="#topic+pkg_solution">'The dependency solver'</a>.</p>
</dd>
<dt><code>remote_types</code></dt><dd><p>Custom remote ref types, this is for advanced
use, and experimental currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>pkg_deps</code> object.
</p>


<hr>
<a id="method-pkg_deps-get_refs"></a>



<h4>Method <code>get_refs()</code></h4>

<p>The package refs that were used to create the <code>pkg_deps</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$get_refs()</pre></div>



<h5>Returns</h5>

<p>A character vector of package refs that were used to create the
<code>pkg_deps</code> object.
</p>


<hr>
<a id="method-pkg_deps-get_config"></a>



<h4>Method <code>get_config()</code></h4>

<p>Configuration options for the <code>pkg_deps</code> object. See
<a href="#topic+pkgdepends-config">'Configuration'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$get_config()</pre></div>



<h5>Returns</h5>

<p>See <a href="#topic+pkgdepends-config">'Configuration'</a> for the configuration entries.
</p>


<hr>
<a id="method-pkg_deps-resolve"></a>



<h4>Method <code>resolve()</code></h4>

<p>Resolve the dependencies of the specified package references. This
usually means downloading metadata from CRAN and Bioconductor, unless
already cached, and also from GitHub if GitHub refs were included,
either directly or indirectly. See
<a href="#topic+pkg_resolution">'Dependency resolution'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$resolve()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_deps</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_deps-async_resolve"></a>



<h4>Method <code>async_resolve()</code></h4>

<p>The same as <a href="#method-resolve"><code>resolve()</code></a>, but asynchronous.
This method is for advanced use.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$async_resolve()</pre></div>



<h5>Returns</h5>

<p>A deferred value.
</p>


<hr>
<a id="method-pkg_deps-get_resolution"></a>



<h4>Method <code>get_resolution()</code></h4>

<p>Query the result of the dependency resolution. This method can be
called after <a href="#method-resolve"><code>resolve()</code></a> has completed.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$get_resolution()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_resolution_result">pkg_resolution_result</a> object, which is also a data frame. See
<a href="#topic+pkg_resolution">'Dependency resolution'</a> for its columns.
</p>


<hr>
<a id="method-pkg_deps-get_solve_policy"></a>



<h4>Method <code>get_solve_policy()</code></h4>

<p>Returns the current policy of the dependency solver.
See <a href="#topic+pkg_solution">'The dependency solver'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$get_solve_policy()</pre></div>



<h5>Returns</h5>

<p>A character vector of length one.
</p>


<hr>
<a id="method-pkg_deps-set_solve_policy"></a>



<h4>Method <code>set_solve_policy()</code></h4>

<p>Set the current policy of the dependency solver.
If the object already contains a solution and the new policy is
different than the old policy, then the solution is deleted.
See <a href="#topic+pkg_solution">'The dependency solver'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$set_solve_policy(policy = c("lazy", "upgrade"))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>policy</code></dt><dd><p>Policy to set.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-pkg_deps-solve"></a>



<h4>Method <code>solve()</code></h4>

<p>Solve the package dependencies. Out of the resolved dependencies, it
works out a set of packages, that can be installed together to
create a functional installation. The set includes all directly
specified packages, and all required (or suggested, depending on
the configuration) packages as well. It includes every package at
most once. See <a href="#topic+pkg_solution">'The dependency solver'</a> for details.
</p>
<p><code>solve()</code> calls <a href="#method-resolve"><code>resolve()</code></a> automatically, if it
hasn't been called yet.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$solve()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_deps</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_deps-get_solution"></a>



<h4>Method <code>get_solution()</code></h4>

<p>Returns the solution of the package dependencies.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$get_solution()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_solution_result">pkg_solution_result</a> object, which is a list. See
<a href="#topic+pkg_solution_result">pkg_solution_result</a> for details.
</p>


<hr>
<a id="method-pkg_deps-stop_for_solution_error"></a>



<h4>Method <code>stop_for_solution_error()</code></h4>

<p>Error if the dependency solver failed to find a consistent set of
packages that can be installed together.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$stop_for_solution_error()</pre></div>


<hr>
<a id="method-pkg_deps-draw"></a>



<h4>Method <code>draw()</code></h4>

<p>Draw a tree of package dependencies. It returns a <code>tree</code> object, see
<code><a href="cli.html#topic+tree">cli::tree()</a></code>. Printing this object prints the dependency tree to the
screen.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$draw()</pre></div>



<h5>Returns</h5>

<p>A <code>tree</code> object from the cli package, see <code><a href="cli.html#topic+tree">cli::tree()</a></code>.
</p>


<hr>
<a id="method-pkg_deps-format"></a>



<h4>Method <code>format()</code></h4>

<p>Format a <code>pkg_deps</code> object, typically for printing.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$format(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A character vector, each element should be a line in the printout.
</p>


<hr>
<a id="method-pkg_deps-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints a <code>pkg_deps</code> object to the screen. The printout includes:
</p>

<ul>
<li><p> The package refs.
</p>
</li>
<li><p> Whether the object has the resolved dependencies.
</p>
</li>
<li><p> Whether the resolution had errors.
</p>
</li>
<li><p> Whether the object has the solved dependencies.
</p>
</li>
<li><p> Whether the solution had errors.
</p>
</li>
<li><p> Advice on which methods to call next.
</p>
</li></ul>

<p>See the example below.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>pkg_deps</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_deps-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_deps$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
# Method initialize()
pd &lt;- pkg_deps$new("r-lib/pkgdepends")
pd


# Method get_refs()
pd &lt;- new_pkg_deps(c("pak", "jsonlite"))
pd$get_refs()


# Method get_config()
pd &lt;- new_pkg_deps("pak")
pd$get_config()


# Method resolve()
pd &lt;- new_pkg_deps("pak")
pd$resolve()
pd$get_resolution()


# Method get_resolution()
pd &lt;- new_pkg_deps("r-lib/pkgdepends")
pd$resolve()
pd$get_resolution()


# Method get_solve_policy()
pdi &lt;- new_pkg_deps("r-lib/pkgdepends")
pdi$get_solve_policy()
pdi$set_solve_policy("upgrade")
pdi$get_solve_policy()


# Method set_solve_policy()
pdi &lt;- new_pkg_deps("r-lib/pkgdepends")
pdi$get_solve_policy()
pdi$set_solve_policy("upgrade")
pdi$get_solve_policy()


# Method solve()
pd &lt;- new_pkg_deps("r-lib/pkgdepends")
pd$resolve()
pd$solve()
pd$get_solution()


# Method get_solution()
pd &lt;- new_pkg_deps("pkgload")
pd$resolve()
pd$solve()
pd$get_solution()


# Method stop_for_solution_error()
# This is an error, because the packages conflict:
pd &lt;- new_pkg_deps(
  c("r-lib/pak", "cran::pak"),
  config = list(library = tempfile())
)
pd$resolve()
pd$solve()
pd
# This fails:
# pd$stop_for_solution_error()


# Method draw()
pd &lt;- new_pkg_deps("pkgload")
pd$solve()
pd$draw()


# Method print()
pd &lt;- new_pkg_deps("r-lib/pkgdepends")
pd

pd$resolve()
pd

pd$solve()
pd

</code></pre>

<hr>
<h2 id='new_pkg_download_proposal'>R6 class for package downloads</h2><span id='topic+new_pkg_download_proposal'></span><span id='topic+pkg_download_proposal'></span>

<h3>Description</h3>

<p>Download packages with their dependencies, from various sources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pkg_download_proposal(refs, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_pkg_download_proposal_+3A_refs">refs</code></td>
<td>
<p>Package names or references. See
<a href="#topic+pkg_refs">'Package references'</a> for the syntax.</p>
</td></tr>
<tr><td><code id="new_pkg_download_proposal_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed to
<a href="#method-new"><code>pkg_download_proposal$new()</code></a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>new_pkg_download_proposal()</code> creates a new object from the
<code>pkg_download_proposal</code> class, that can be used to look up and download
R packages and their dependencies. The advantage of
<code>new_pkg_download_proposal()</code> compared to using the
<a href="#topic+pkg_download_proposal">pkg_download_proposal</a> constructor directly is that it avoids making
pkgdepends a build time dependency.
</p>
<p>Typical workflow to download a set of packages:
</p>

<ol>
<li><p> Create a <code>pkg_download_proposal</code> object with
<code>new_pkg_download_proposal()</code>.
</p>
</li>
<li><p> Resolve all possible dependencies with
<a href="#method-resolve"><code>pkg_download_proposal$resolve()</code></a>.
</p>
</li>
<li><p> Download all files with
<a href="#method-download"><code>pkg_download_proposal$download()</code></a>.
</p>
</li>
<li><p> Get the data about the packages and downloads with
<a href="#method-get-downloads"><code>pkg_download_proposal$get_downloads()</code></a>.
</p>
</li></ol>



<h3>Value</h3>

<p><code>new_pkg_download_proposal()</code> returns a new
<code>pkg_download_proposal</code> object.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-pkg_download_proposal-new"><code>pkg_download_proposal$new()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-get_refs"><code>pkg_download_proposal$get_refs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-get_config"><code>pkg_download_proposal$get_config()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-resolve"><code>pkg_download_proposal$resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-async_resolve"><code>pkg_download_proposal$async_resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-get_resolution"><code>pkg_download_proposal$get_resolution()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-download"><code>pkg_download_proposal$download()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-async_download"><code>pkg_download_proposal$async_download()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-get_downloads"><code>pkg_download_proposal$get_downloads()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-stop_for_download_error"><code>pkg_download_proposal$stop_for_download_error()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-format"><code>pkg_download_proposal$format()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-print"><code>pkg_download_proposal$print()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_download_proposal-clone"><code>pkg_download_proposal$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-pkg_download_proposal-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new <code>pkg_download_proposal</code> object. Consider using
<code>new_pkg_download_proposal()</code> instead of calling the constructor
directly.
</p>
<p>The returned object can be used to look up (recursive) dependencies
of R packages from various sources, and then to download the
package files.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$new(refs, config = list(), remote_types = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>refs</code></dt><dd><p>Package names or references. See
<a href="#topic+pkg_refs">'Package references'</a> for the syntax.</p>
</dd>
<dt><code>config</code></dt><dd><p>Configuration options, a named list. See
<a href="#topic+pkgdepends-config">'Configuration'</a>.</p>
</dd>
<dt><code>remote_types</code></dt><dd><p>Custom remote ref types, this is for advanced
use, and experimental currently.
</p>


<h6>Examples</h6>

<div class="sourceCode r"><pre>pdl &lt;- pkg_download_proposal$new("r-lib/pkgdepends")
pdl
</pre></div>
</dd>
</dl>

</div>


<hr>
<a id="method-pkg_download_proposal-get_refs"></a>



<h4>Method <code>get_refs()</code></h4>

<p>The package refs that were used to create the
<code>pkg_download_proposal</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$get_refs()</pre></div>



<h5>Returns</h5>

<p>A character vector of package refs that were used to create the
<code>pkg_download_proposal</code> object.
</p>


<hr>
<a id="method-pkg_download_proposal-get_config"></a>



<h4>Method <code>get_config()</code></h4>

<p>Configuration options for the <code>pkg_download_proposal</code> object. See
<a href="#topic+pkgdepends-config">'Configuration'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$get_config()</pre></div>



<h5>Returns</h5>

<p>Named list. See <a href="#topic+pkgdepends-config">'Configuration'</a> for the configuration
options.
</p>


<hr>
<a id="method-pkg_download_proposal-resolve"></a>



<h4>Method <code>resolve()</code></h4>

<p>Resolve the dependencies of the specified package references. This
usually means downloading metadata from CRAN and Bioconductor,
unless already cached, and also from GitHub if GitHub refs were
included, either directly or indirectly. See
<a href="#topic+pkg_resolution">'Dependency resolution'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$resolve()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_download_proposal</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_download_proposal-async_resolve"></a>



<h4>Method <code>async_resolve()</code></h4>

<p>The same as <a href="#method-resolve"><code>resolve()</code></a>, but asynchronous.
This method is for advanced use.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$async_resolve()</pre></div>



<h5>Returns</h5>

<p>A deferred value.
</p>


<hr>
<a id="method-pkg_download_proposal-get_resolution"></a>



<h4>Method <code>get_resolution()</code></h4>

<p>Query the result of the dependency resolution. This method can be
called after <a href="#method-resolve"><code>resolve()</code></a> has completed.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$get_resolution()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_resolution_result">pkg_resolution_result</a> object, which is also a data frame. See
<a href="#topic+pkg_resolution">'Dependency resolution'</a> for its columns.
</p>


<hr>
<a id="method-pkg_download_proposal-download"></a>



<h4>Method <code>download()</code></h4>

<p>Download all resolved packages. It uses the package cache in the
pkgcache package by default, to avoid downloads if possible.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$download()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_download_proposal</code> object, invisibly.
</p>


<hr>
<a id="method-pkg_download_proposal-async_download"></a>



<h4>Method <code>async_download()</code></h4>

<p>The same as <a href="#method-download"><code>download()</code></a>, but asynchronous.
This method is for advanced use.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$async_download()</pre></div>



<h5>Returns</h5>

<p>A deferred value.
</p>


<hr>
<a id="method-pkg_download_proposal-get_downloads"></a>



<h4>Method <code>get_downloads()</code></h4>

<p>Returns the summary of the package downloads.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$get_downloads()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_download_result">pkg_download_result</a> object, which is a list. See
<a href="#topic+pkg_download_result">pkg_download_result</a> for details.
</p>


<hr>
<a id="method-pkg_download_proposal-stop_for_download_error"></a>



<h4>Method <code>stop_for_download_error()</code></h4>

<p>Throw and error if the some of the downloads have failed for the
most recent
<a href="#method-download"><code>pkg_download_proposal$download()</code></a> call.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$stop_for_download_error()</pre></div>


<hr>
<a id="method-pkg_download_proposal-format"></a>



<h4>Method <code>format()</code></h4>

<p>Format a <code>pkg_download_proposal</code> object, typically for printing.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$format(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Nothing.
A character vector, each element should be a line in the printout.
</p>


<hr>
<a id="method-pkg_download_proposal-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints a <code>pkg_download_proposal</code> object to the screen. The printout
includes:
</p>

<ul>
<li><p> The package refs.
</p>
</li>
<li><p> Whether the object has the resolved dependencies.
</p>
</li>
<li><p> Whether the resolution had errors.
</p>
</li>
<li><p> Whether the downloads were completed.
</p>
</li>
<li><p> Whether the downloads had errors.
</p>
</li>
<li><p> Advice on which methods to call next.
</p>
</li></ul>

<p>See the example below.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>pkg_download_proposal</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_download_proposal-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_download_proposal$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
# Method get_refs()
pdl &lt;- new_pkg_download_proposal(c("pak", "jsonlite"))
pdl$get_refs()


# Method get_config()
pdl &lt;- new_pkg_download_proposal("pak")
pdl$get_config()


# Method resolve()
pdl &lt;- new_pkg_download_proposal("pak")
pdl$resolve()
pdl$get_resolution()


# Method get_resolution()
pdl &lt;- new_pkg_download_proposal("r-lib/pkgdepends")
pdl$resolve()
pdl$get_resolution()


# Method download()
pdl &lt;- new_pkg_download_proposal("r-lib/pkgdepends")
pdl$resolve()
pdl$download()
pdl$get_downloads()


# Method get_downloads()
pdl &lt;- new_pkg_download_proposal("pkgload")
pdl$resolve()
pdl$download()
pdl$get_downloads()


# Method print()
pdl &lt;- new_pkg_download_proposal("r-lib/pkgdepends")
pdl

pdl$resolve()
pdl

pdl$download()
pdl

</code></pre>

<hr>
<h2 id='new_pkg_installation_plan'>R6 class for installation from a lock file</h2><span id='topic+new_pkg_installation_plan'></span><span id='topic+pkg_installation_plan'></span>

<h3>Description</h3>

<p>An installation plan is similar to an installation proposal
(i.e. <a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a>), but it already contains the solved
dependencies, complete with download URLs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pkg_installation_plan(lockfile = "pkg.lock", config = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_pkg_installation_plan_+3A_lockfile">lockfile</code></td>
<td>
<p>Path to the lock file to use.</p>
</td></tr>
<tr><td><code id="new_pkg_installation_plan_+3A_config">config</code></td>
<td>
<p>Configuration options, a named list. See
<a href="#topic+pkgdepends-config">'Configuration'</a>. If it does not include <code>library</code>, then
<code>.libPaths()[1]</code> is added as <code>library</code>.</p>
</td></tr>
<tr><td><code id="new_pkg_installation_plan_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed to
<a href="#method-new"><code>pkg_installation_plan$new()</code></a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Typically you create a <code>pkg_installation_plan</code> object with
<code>new_pkg_installation_plan()</code> and then call its <code style="white-space: pre;">&#8288;$download()&#8288;</code> method
to download the packages and then its <code style="white-space: pre;">&#8288;$install()&#8288;</code> method to install
them.
</p>


<h3>Value</h3>

<p><code>new_pkg_installation_plan()</code> returns a <code>pkg_installation_plan</code>
object.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+pkg_installation_proposal">pkgdepends::pkg_installation_proposal</a></code> -&gt; <code>pkg_installation_plan</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-pkg_installation_plan-new"><code>pkg_installation_plan$new()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-resolve"><code>pkg_installation_plan$resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-async_resolve"><code>pkg_installation_plan$async_resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-get_solve_policy"><code>pkg_installation_plan$get_solve_policy()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-set_solve_policy"><code>pkg_installation_plan$set_solve_policy()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-solve"><code>pkg_installation_plan$solve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-update"><code>pkg_installation_plan$update()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-update_sysreqs"><code>pkg_installation_plan$update_sysreqs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-format"><code>pkg_installation_plan$format()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_plan-clone"><code>pkg_installation_plan$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="async_download"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-async_download'><code>pkgdepends::pkg_installation_proposal$async_download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="create_lockfile"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-create_lockfile'><code>pkgdepends::pkg_installation_proposal$create_lockfile()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="download"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-download'><code>pkgdepends::pkg_installation_proposal$download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="draw"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-draw'><code>pkgdepends::pkg_installation_proposal$draw()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_config"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_config'><code>pkgdepends::pkg_installation_proposal$get_config()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_downloads"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_downloads'><code>pkgdepends::pkg_installation_proposal$get_downloads()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_install_plan"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_install_plan'><code>pkgdepends::pkg_installation_proposal$get_install_plan()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_refs"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_refs'><code>pkgdepends::pkg_installation_proposal$get_refs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_resolution"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_resolution'><code>pkgdepends::pkg_installation_proposal$get_resolution()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_solution"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_solution'><code>pkgdepends::pkg_installation_proposal$get_solution()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="get_sysreqs"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-get_sysreqs'><code>pkgdepends::pkg_installation_proposal$get_sysreqs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="install"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-install'><code>pkgdepends::pkg_installation_proposal$install()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="install_sysreqs"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-install_sysreqs'><code>pkgdepends::pkg_installation_proposal$install_sysreqs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="print"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-print'><code>pkgdepends::pkg_installation_proposal$print()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="show_solution"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-show_solution'><code>pkgdepends::pkg_installation_proposal$show_solution()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="show_sysreqs"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-show_sysreqs'><code>pkgdepends::pkg_installation_proposal$show_sysreqs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="stop_for_download_error"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-stop_for_download_error'><code>pkgdepends::pkg_installation_proposal$stop_for_download_error()</code></a></span></li>
<li><span class="pkg-link" data-pkg="pkgdepends" data-topic="pkg_installation_proposal" data-id="stop_for_solution_error"><a href='../../pkgdepends/html/pkg_installation_proposal.html#method-pkg_installation_proposal-stop_for_solution_error'><code>pkgdepends::pkg_installation_proposal$stop_for_solution_error()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-pkg_installation_plan-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new <code>pkg_installation_plan</code> object. Consider using
<code>new_pkg_installation_plan()</code> instead of calling the constructor
directly.
</p>
<p>The returned object can be used to download and install
packages, according to the plan.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$new(
  lockfile = "pkg.lock",
  config = list(),
  remote_types = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>lockfile</code></dt><dd><p>Path to the lock file to use.</p>
</dd>
<dt><code>config</code></dt><dd><p>Configuration options. See
<a href="#topic+pkgdepends-config">'Configuration'</a>. It needs to include the package
library to install to, in <code>library</code>.</p>
</dd>
<dt><code>remote_types</code></dt><dd><p>Custom remote ref types, this is for advanced
use, and experimental currently.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-pkg_installation_plan-resolve"></a>



<h4>Method <code>resolve()</code></h4>

<p>This function is implemented for installation plans, and will error.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$resolve()</pre></div>


<hr>
<a id="method-pkg_installation_plan-async_resolve"></a>



<h4>Method <code>async_resolve()</code></h4>

<p>This function is implemented for installation plans, and will error.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$async_resolve()</pre></div>


<hr>
<a id="method-pkg_installation_plan-get_solve_policy"></a>



<h4>Method <code>get_solve_policy()</code></h4>

<p>Installation plans are already solved, and this method will return
<code>NA_character_</code>, always.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$get_solve_policy()</pre></div>


<hr>
<a id="method-pkg_installation_plan-set_solve_policy"></a>



<h4>Method <code>set_solve_policy()</code></h4>

<p>This function is implemented for installation plans, and will error.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$set_solve_policy()</pre></div>


<hr>
<a id="method-pkg_installation_plan-solve"></a>



<h4>Method <code>solve()</code></h4>

<p>This function is implemented for installation plans, and will error.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$solve()</pre></div>


<hr>
<a id="method-pkg_installation_plan-update"></a>



<h4>Method <code>update()</code></h4>

<p>Update the plan to the current state of the library. If the library
has not changed since the plan was created, then it does nothing.
If new packages have been installed, then it might not be necessary
to download and install all packages in the plan.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$update()</pre></div>



<h5>Details</h5>

<p>This operation is different than creating a new proposal with the
updated library, because it uses the the packages and package
versions of the original plan. E.g. if the library has a newer
version of a package, then <code style="white-space: pre;">&#8288;$update()&#8288;</code> will downgrade it to the
version in the plan.
</p>


<hr>
<a id="method-pkg_installation_plan-update_sysreqs"></a>



<h4>Method <code>update_sysreqs()</code></h4>

<p>Update information about installed and missing system requirements.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$update_sysreqs()</pre></div>


<hr>
<a id="method-pkg_installation_plan-format"></a>



<h4>Method <code>format()</code></h4>

<p>Format a <code>pkg_installation_plan</code> object, typically for printing.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$format(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A character vector, each element should be a line in the printout.
</p>


<hr>
<a id="method-pkg_installation_plan-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_plan$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='new_pkg_installation_proposal'>R6 class for package download and installation.</h2><span id='topic+new_pkg_installation_proposal'></span><span id='topic+pkg_installation_proposal'></span>

<h3>Description</h3>

<p>Download and install R packages, with their dependencies, from various
sources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_pkg_installation_proposal(refs, config = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_pkg_installation_proposal_+3A_refs">refs</code></td>
<td>
<p>Package names or references. See
<a href="#topic+pkg_refs">'Package references'</a> for the syntax.</p>
</td></tr>
<tr><td><code id="new_pkg_installation_proposal_+3A_config">config</code></td>
<td>
<p>Configuration options, a named list. See
<a href="#topic+pkgdepends-config">'Configuration'</a>. If it does not include <code>library</code>, then
<code>.libPaths()[1]</code> is added as <code>library</code>.</p>
</td></tr>
<tr><td><code id="new_pkg_installation_proposal_+3A_...">...</code></td>
<td>
<p>Additional arguments, passed to
<a href="#method-new"><code>pkg_installation_proposal$new()</code></a>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>new_pkg_installation_proposal()</code> creates a new object from the
<code>pkg_installation_proposal</code> class. The advantage of
<code>new_pkg_installation_proposal()</code> compared to using the
<a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a> constructor directly is that it avoids
making pkgdepends a build time dependency.
</p>
<p>Typical workflow to install a set of packages:
</p>

<ol>
<li><p> Create a <code>pkg_installation_proposal</code> object with
<code>new_pkg_installation_proposal()</code>.
</p>
</li>
<li><p> Resolve all possible dependencies with
<a href="#method-resolve"><code>pkg_installation_proposal$resolve()</code></a>.
</p>
</li>
<li><p> Solve the package dependencies, to get an installation plan, with
<a href="#method-solve"><code>pkg_installation_proposal$solve()</code></a>.
</p>
</li>
<li><p> Download all files with
<a href="#method-download"><code>pkg_installation_proposal$download()</code></a>.
</p>
</li>
<li><p> Install the downloaded files with
<a href="#methods-install"><code>pkg_installation_proposal$install()</code></a>.
</p>
</li></ol>



<h3>Value</h3>

<p><code>new_pkg_installation_proposal()</code> returns a new
<code>pkg_installation_proposal</code> object.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-pkg_installation_proposal-new"><code>pkg_installation_proposal$new()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_refs"><code>pkg_installation_proposal$get_refs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_config"><code>pkg_installation_proposal$get_config()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-resolve"><code>pkg_installation_proposal$resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-async_resolve"><code>pkg_installation_proposal$async_resolve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_resolution"><code>pkg_installation_proposal$get_resolution()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_solve_policy"><code>pkg_installation_proposal$get_solve_policy()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-set_solve_policy"><code>pkg_installation_proposal$set_solve_policy()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-solve"><code>pkg_installation_proposal$solve()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_solution"><code>pkg_installation_proposal$get_solution()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-show_solution"><code>pkg_installation_proposal$show_solution()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_sysreqs"><code>pkg_installation_proposal$get_sysreqs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-show_sysreqs"><code>pkg_installation_proposal$show_sysreqs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-stop_for_solution_error"><code>pkg_installation_proposal$stop_for_solution_error()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-create_lockfile"><code>pkg_installation_proposal$create_lockfile()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-draw"><code>pkg_installation_proposal$draw()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-download"><code>pkg_installation_proposal$download()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-async_download"><code>pkg_installation_proposal$async_download()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_downloads"><code>pkg_installation_proposal$get_downloads()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-stop_for_download_error"><code>pkg_installation_proposal$stop_for_download_error()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-install"><code>pkg_installation_proposal$install()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-install_sysreqs"><code>pkg_installation_proposal$install_sysreqs()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-get_install_plan"><code>pkg_installation_proposal$get_install_plan()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-format"><code>pkg_installation_proposal$format()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-print"><code>pkg_installation_proposal$print()</code></a>
</p>
</li>
<li> <p><a href="#method-pkg_installation_proposal-clone"><code>pkg_installation_proposal$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-pkg_installation_proposal-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new <code>pkg_installation_proposal</code> object. Consider using
<code>new_pkg_installation_proposal()</code> instead of calling the constructor
directly.
</p>
<p>The returned object can be used to look up (recursive) dependencies
of R packages from various sources, and then download and install
the package files.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$new(
  refs,
  config = list(),
  policy = c("lazy", "upgrade"),
  remote_types = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>refs</code></dt><dd><p>Package names or references. See
<a href="#topic+pkg_refs">'Package references'</a> for the syntax.</p>
</dd>
<dt><code>config</code></dt><dd><p>Configuration options, a named list. See
<a href="#topic+pkgdepends-config">'Configuration'</a>. It needs to include the package
library to install to, in <code>library</code>.</p>
</dd>
<dt><code>policy</code></dt><dd><p>Solution policy. See <a href="#topic+pkg_solution">'The dependency solver'</a>.</p>
</dd>
<dt><code>remote_types</code></dt><dd><p>Custom remote ref types, this is for advanced
use, and experimental currently.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-pkg_installation_proposal-get_refs"></a>



<h4>Method <code>get_refs()</code></h4>

<p>The package refs that were used to create the
<code>pkg_installation_proposal</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_refs()</pre></div>



<h5>Returns</h5>

<p>A character vector of package refs that were used to create the
<code>pkg_installation_proposal</code> object.
</p>


<hr>
<a id="method-pkg_installation_proposal-get_config"></a>



<h4>Method <code>get_config()</code></h4>

<p>Configuration options for the <code>pkg_installation_proposal</code> object. See
<a href="#topic+pkgdepends-config">'Configuration'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_config()</pre></div>



<h5>Returns</h5>

<p>Named list. See <a href="#topic+pkgdepends-config">'Configuration'</a> for the configuration
options.
</p>


<hr>
<a id="method-pkg_installation_proposal-resolve"></a>



<h4>Method <code>resolve()</code></h4>

<p>Resolve the dependencies of the specified package references. This
usually means downloading metadata from CRAN and Bioconductor,
unless already cached, and also from GitHub if GitHub refs were
included, either directly or indirectly. See
<a href="#topic+pkg_resolution">'Dependency resolution'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$resolve()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_installation_proposal</code> object, invisibly.
</p>


<hr>
<a id="method-pkg_installation_proposal-async_resolve"></a>



<h4>Method <code>async_resolve()</code></h4>

<p>The same as <a href="#method-resolve"><code>resolve()</code></a>, but asynchronous. This
method is for advanced use.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$async_resolve()</pre></div>



<h5>Returns</h5>

<p>A deferred value.
</p>


<hr>
<a id="method-pkg_installation_proposal-get_resolution"></a>



<h4>Method <code>get_resolution()</code></h4>

<p>Query the result of the dependency resolution. This method can be
called after <a href="#method-resolve"><code>resolve()</code></a> has completed.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_resolution()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_resolution_result">pkg_resolution_result</a> object, which is also a data frame. See
<a href="#topic+pkg_resolution">'Dependency resolution'</a> for its columns.
</p>


<hr>
<a id="method-pkg_installation_proposal-get_solve_policy"></a>



<h4>Method <code>get_solve_policy()</code></h4>

<p>Returns the current policy of the dependency solver.
See <a href="#topic+pkg_solution">'The dependency solver'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_solve_policy()</pre></div>



<h5>Returns</h5>

<p>A character vector of length one.
</p>


<hr>
<a id="method-pkg_installation_proposal-set_solve_policy"></a>



<h4>Method <code>set_solve_policy()</code></h4>

<p>Set the current policy of the dependency solver.
If the object already contains a solution and the new policy is
different than the old policy, then the solution is deleted.
See <a href="#topic+pkg_solution">'The dependency solver'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$set_solve_policy(policy = c("lazy", "upgrade"))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>policy</code></dt><dd><p>Policy to set.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-pkg_installation_proposal-solve"></a>



<h4>Method <code>solve()</code></h4>

<p>Solve the package dependencies. Out of the resolved dependencies,
it works out a set of packages, that can be installed together to
create a functional installation. The set includes all directly
specified packages, and all required (or suggested, depending on
the configuration) packages as well. It includes every package at
most once. See <a href="#topic+pkg_solution">'The dependency solver'</a> for details.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$solve()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_installation_proposal</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_installation_proposal-get_solution"></a>



<h4>Method <code>get_solution()</code></h4>

<p>Returns the solution of the package dependencies.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_solution()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_solution_result">pkg_solution_result</a> object, which is a list. See
<a href="#topic+pkg_solution_result">pkg_solution_result</a> for details.
</p>


<hr>
<a id="method-pkg_installation_proposal-show_solution"></a>



<h4>Method <code>show_solution()</code></h4>

<p>Show the solution on the screen.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$show_solution(key = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>key</code></dt><dd><p>Whether to show the key to the package list annotation.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_solution_result">pkg_solution_result</a> object, which is a list. See
<a href="#topic+pkg_solution_result">pkg_solution_result</a> for details.
</p>


<hr>
<a id="method-pkg_installation_proposal-get_sysreqs"></a>



<h4>Method <code>get_sysreqs()</code></h4>

<p>Query and categorize system requirements.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_sysreqs()</pre></div>


<hr>
<a id="method-pkg_installation_proposal-show_sysreqs"></a>



<h4>Method <code>show_sysreqs()</code></h4>

<p>Show system requirements for the packages in the solution.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$show_sysreqs()</pre></div>


<hr>
<a id="method-pkg_installation_proposal-stop_for_solution_error"></a>



<h4>Method <code>stop_for_solution_error()</code></h4>

<p>Error if the dependency solver failed to find a consistent set of
packages that can be installed together.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$stop_for_solution_error()</pre></div>


<hr>
<a id="method-pkg_installation_proposal-create_lockfile"></a>



<h4>Method <code>create_lockfile()</code></h4>

<p>Create a lock file that contains the information to perform
the installation later, possibly in another R session.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$create_lockfile(path = "pkg.lock", version = 1)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>path</code></dt><dd><p>Name of the lock file. The default is <code>pkg.lock</code> in the
current working directory.</p>
</dd>
<dt><code>version</code></dt><dd><p>Only version 1 is supported currently.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Note, since the URLs of CRAN and most CRAN-like repositories change
over time, in practice you cannot perform the plan of the lock file
<em>much</em> later. For example, binary packages of older package version
are removed, and won't be found.
</p>
<p>Similarly, for <code style="white-space: pre;">&#8288;url::&#8288;</code> remote types, the URL might hold an updated
version of the package, compared to when the lock file was created.
Should this happen, pkgdepends prints a warning, but it will try
to continue the installation. The installation might fail if the
updated package has different (e.g. new) dependencies.
</p>
<p>Currently the intended use case of lock files in on CI systems, to
facilitate caching. The (hash of the) lock file provides a good key
for caching systems.
</p>


<hr>
<a id="method-pkg_installation_proposal-draw"></a>



<h4>Method <code>draw()</code></h4>

<p>Draw a tree of package dependencies. It returns a <code>tree</code> object, see
<code><a href="cli.html#topic+tree">cli::tree()</a></code>. Printing this object prints the dependency tree to the
screen.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$draw()</pre></div>



<h5>Returns</h5>

<p>A <code>tree</code> object from the cli package, see <code><a href="cli.html#topic+tree">cli::tree()</a></code>.
</p>


<hr>
<a id="method-pkg_installation_proposal-download"></a>



<h4>Method <code>download()</code></h4>

<p>Download all packages that are part of the solution. It uses the
package cache in the pkgcache package by default, to avoid downloads
if possible.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$download()</pre></div>



<h5>Returns</h5>

<p>The <code>pkg_installation_proposal</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_installation_proposal-async_download"></a>



<h4>Method <code>async_download()</code></h4>

<p>The same as <a href="#method-download"><code>download()</code></a>, but asynchronous.
This method is for advanced use.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$async_download()</pre></div>



<h5>Returns</h5>

<p>A deferred value.
</p>


<hr>
<a id="method-pkg_installation_proposal-get_downloads"></a>



<h4>Method <code>get_downloads()</code></h4>

<p>Returns the summary of the package downloads.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_downloads()</pre></div>



<h5>Returns</h5>

<p>A <a href="#topic+pkg_download_result">pkg_download_result</a> object, which is a list. See
<a href="#topic+pkg_download_result">pkg_download_result</a> for details.
</p>


<hr>
<a id="method-pkg_installation_proposal-stop_for_download_error"></a>



<h4>Method <code>stop_for_download_error()</code></h4>

<p>Throw and error if the some of the downloads have failed for the
most recent
<a href="#method-download"><code>pkg_installation_proposal$download()</code></a> call.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$stop_for_download_error()</pre></div>


<hr>
<a id="method-pkg_installation_proposal-install"></a>



<h4>Method <code>install()</code></h4>

<p>Install the downloaded packages. It calls <code><a href="#topic+install_package_plan">install_package_plan()</a></code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$install()</pre></div>



<h5>Returns</h5>

<p>The return value of <code><a href="#topic+install_package_plan">install_package_plan()</a></code>.
</p>


<hr>
<a id="method-pkg_installation_proposal-install_sysreqs"></a>



<h4>Method <code>install_sysreqs()</code></h4>

<p>Install system requirements. It does nothing if system requirements
are turned off.
Create an installation plan for the downloaded packages.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$install_sysreqs()</pre></div>


<hr>
<a id="method-pkg_installation_proposal-get_install_plan"></a>



<h4>Method <code>get_install_plan()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$get_install_plan()</pre></div>



<h5>Returns</h5>

<p>An installation plan, see <a href="#topic+install_plans">'Installation plans'</a> for
the format.
</p>


<hr>
<a id="method-pkg_installation_proposal-format"></a>



<h4>Method <code>format()</code></h4>

<p>Format a <code>pkg_installation_proposal</code> object, typically for printing.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$format(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A character vector, each element should be a line in the printout.
</p>


<hr>
<a id="method-pkg_installation_proposal-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints a <code>pkg_installation_proposal</code> object to the screen.
</p>
<p>The printout includes:
</p>

<ul>
<li><p> The package refs.
</p>
</li>
<li><p> The policy of the dependency solver.
</p>
</li>
<li><p> Whether the object has the solved dependencies.
</p>
</li>
<li><p> Whether the solution had errors.
</p>
</li>
<li><p> Whether the object has downloads.
</p>
</li>
<li><p> Whether the downloads had errors.
</p>
</li>
<li><p> Advice on which methods to call next.
</p>
</li></ul>

<p>See the example below.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>not used currently.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>pkg_installation_proposal</code> object itself, invisibly.
</p>


<hr>
<a id="method-pkg_installation_proposal-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>pkg_installation_proposal$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)
pdi

pdi$resolve()
pdi

pdi$solve()
pdi

pdi$download()
pdi

## End(Not run)


pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile()))
pdi


pdi &lt;- new_pkg_installation_proposal("r-lib/pkgdepends")
pdi$get_refs()


pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)
pdi$get_config()


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)

pdi$resolve()
pdi$get_resolution()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$get_resolution()

## End(Not run)


pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile())
)
pdi$get_solve_policy()
pdi$set_solve_policy("upgrade")
pdi$get_solve_policy()


pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile())
)
pdi$get_solve_policy()
pdi$set_solve_policy("upgrade")
pdi$get_solve_policy()


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$get_solution()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$get_solution()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "r-lib/pkgdepends",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$get_solution()
pdi$show_solution()

## End(Not run)


## Not run: 
# This is an error, because the packages conflict:
pdi &lt;- new_pkg_installation_proposal(
  c("r-lib/pak", "cran::pak"),
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi
# This fails:
# pdi$stop_for_solution_error()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$draw()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  c("r-lib/pak", "cran::pak"),
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$download()
pdi$get_downloads()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  c("r-lib/pak", "cran::pak"),
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$download()
pdi$get_downloads()

## End(Not run)


## Not run: 
pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)
pdi$resolve()
pdi$solve()
pdi$download()
pdi$get_install_plan()

## End(Not run)


# Method print
pdi &lt;- new_pkg_installation_proposal(
  "pak",
  config = list(library = tempfile())
)
pdi

pdi$resolve()
pdi

pdi$solve()
pdi

pdi$download()
pdi

</code></pre>

<hr>
<h2 id='parse_pkg_refs'>Parse package location references</h2><span id='topic+parse_pkg_refs'></span><span id='topic+parse_pkg_ref'></span>

<h3>Description</h3>

<p>See <a href="#topic+pkg_refs">pkg_refs</a> for more about supported package references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parse_pkg_refs(refs, remote_types = NULL, ...)

parse_pkg_ref(ref, remote_types = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parse_pkg_refs_+3A_refs">refs</code></td>
<td>
<p>Character vector of references.</p>
</td></tr>
<tr><td><code id="parse_pkg_refs_+3A_remote_types">remote_types</code></td>
<td>
<p>Custom remote types can be added here, this is
for advanced use, and experimental currently.</p>
</td></tr>
<tr><td><code id="parse_pkg_refs_+3A_...">...</code></td>
<td>
<p>Additional arguments are passed to the individual parser
functions.</p>
</td></tr>
<tr><td><code id="parse_pkg_refs_+3A_ref">ref</code></td>
<td>
<p>A package reference, like <code>refs</code>, but a length one vector,
for convenience.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>parse_pkg_refs()</code> returns a list of parsed references.
<code>parse_pkg_ref()</code> returns one parsed reference. A parsed reference is
a list, with at least elements:
</p>

<ul>
<li> <p><code>ref</code>: The original reference string.
</p>
</li>
<li> <p><code>type</code>: The reference type.
</p>
</li>
<li> <p><code>package</code>: The package name.
It typically contains additional data, specific to the various
reference types. See <a href="#topic+pkg_refs">pkg_refs</a> for details.
The parsed reference always has class <code style="white-space: pre;">&#8288;remote_ref_&lt;type&gt;&#8288;</code> and
<code>remote_ref</code>.
</p>
</li></ul>


<hr>
<h2 id='pkg_build'>Create a binary package from an installed package</h2><span id='topic+pkg_build'></span>

<h3>Description</h3>

<p>The built package will be in the current working directory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_build(
  pkg,
  library = .libPaths()[1],
  flavor = Sys.getenv("PKG_BUILD_FLAVOR"),
  build_number = 1L
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkg_build_+3A_pkg">pkg</code></td>
<td>
<p>Package name.</p>
</td></tr>
<tr><td><code id="pkg_build_+3A_library">library</code></td>
<td>
<p>Library path.</p>
</td></tr>
<tr><td><code id="pkg_build_+3A_flavor">flavor</code></td>
<td>
<p>Platform flavor. Defaults to the <code>PKG_BUILD_FLAVOR</code>
environment variable. If not <code>NULL</code> or an empty string, then it is
appended to the platform string with a dash.</p>
</td></tr>
<tr><td><code id="pkg_build_+3A_build_number">build_number</code></td>
<td>
<p>An integer number that is added to the file name,
after the version number, to be able to have multiple builds for the
same package version.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is currently experimental.
</p>


<h3>Value</h3>

<p>Path to the built package.
</p>

<hr>
<h2 id='pkg_config'>pkgdepends configuration</h2><span id='topic+pkg_config'></span><span id='topic+current_config'></span><span id='topic+pkgdepends-config'></span><span id='topic+pkgdepends_config'></span>

<h3>Description</h3>

<p>Configuration entries for several pkgdepends classes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>current_config()
</code></pre>


<h3>Details</h3>

<p>pkgdepends configuration is set from several source. They are, in the
order of preference:
</p>

<ul>
<li><p> Function arguments, e.g. the <code>config</code> argument of
<code><a href="#topic+new_pkg_installation_proposal">new_pkg_installation_proposal()</a></code>.
</p>
</li>
<li><p> Global options, set via <code><a href="base.html#topic+options">options()</a></code>. The name of the global option
is the <code>pkg.</code> prefix plus the name of the pkgdepends configuration
entry. E.g. <code>pkg.platforms</code>.
</p>
</li>
<li><p> Environment variables. The name of the environment variable is the
<code>PKG_</code> prefix, plus the name of the pkgdepends configuration entry, in
uppercase. E.g. <code>PKG_PLATFORMS</code>.
</p>
</li>
<li><p> Default values.
</p>
</li></ul>

<p>Not all classes use all entries. E.g. a <code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code> is not
concerned about package libraries, so it'll ignore the <code>library</code>
configuration entry.
</p>
<p>Call <code>current_config()</code> to print the current configuration.
</p>


<h3>Configuration entries</h3>


<ul>
<li> <p><code>build_vignettes</code>: Whether to build vignettes for package trees.
This is only used if the package is obtained from a package tree,
and not from a source (or binary) package archive. By default
vignettes are not built in this case. If you set this to <code>TRUE</code>,
then you need to make sure that the vignette builder packages are
available, as these are not installed by default currently.
</p>
</li>
<li> <p><code>cache_dir</code>: Directory to download the packages to. Defaults to a temporary
directory within the R session temporary directory, see
<code><a href="base.html#topic+tempfile">base::tempdir()</a></code>.
</p>
</li>
<li> <p><code>cran_mirror</code>: CRAN mirror to use. Defaults to the <code>repos</code> option
(see <code><a href="base.html#topic+options">base::options()</a></code>), if that's not set then
<code style="white-space: pre;">&#8288;https://cran.rstudio.com&#8288;</code>.
</p>
</li>
<li> <p><code>dependencies</code>: Dependencies to consider or download or install.
Defaults to the hard dependencies, see
<code><a href="#topic+pkg_dep_types_hard">pkg_dep_types_hard()</a></code>. The following values are
supported in the <code>PKG_DEPENDENCIES</code> environment variable:
<code>"TRUE"</code>, <code>"FALSE"</code>, <code>"NA"</code>, or a semicolon separated list of
dependency types. See <code><a href="#topic+as_pkg_dependencies">as_pkg_dependencies()</a></code> for
details.
</p>
</li>
<li> <p><code>git_submodules</code>: Whether or not to update submodules in git repositories. This
affects <code style="white-space: pre;">&#8288;git::&#8288;</code> and <code style="white-space: pre;">&#8288;gitlab::&#8288;</code> package sources only.
If the R package is in a subdirectory then only the submodules
within that directory are updated. If a submodule appears in
<code>.Rbuildignore</code>, then it is skipped.
</p>
</li>
<li> <p><code>include_linkingto</code>: Whether to always include <code>LinkingTo</code> dependencies in the solution
of and installation, even if they are needed because the packages
are installed from binaries. This is sometimes useful, see e.g.
<a href="https://github.com/r-lib/pak/issues/485">https://github.com/r-lib/pak/issues/485</a> for an example use case.
</p>
</li>
<li> <p><code>library</code>: Package library to install packages to. It is also used for
already installed packages when considering dependencies in
<a href="#topic+pkg_deps">dependency lookup</a> or
<a href="#topic+pkg_installation_proposal">package installation</a>. Defaults to the
first path in <code><a href="base.html#topic+.libPaths">.libPaths()</a></code>.
</p>
</li>
<li> <p><code>metadata_cache_dir</code>: Location of metadata replica of
<code><a href="pkgcache.html#topic+cranlike_metadata_cache">pkgcache::cranlike_metadata_cache</a></code>. Defaults to a temporary
directory within the R session temporary directory, see
<code><a href="base.html#topic+tempfile">base::tempdir()</a></code>.
</p>
</li>
<li> <p><code>metadata_update_after</code>: A time interval as a <a href="base.html#topic+difftime">difftime</a> object. pkgdepends will update the
metadata cache if it is older than this. The default is one day.
The <code>PKG_METADATA_UPDATE_AFTER</code> environment variable may be set
in seconds (<code>s</code> suffix), minutes (<code>m</code> suffix), hours (<code>h</code> suffix),
or days (<code>d</code> suffix). E.g: <code style="white-space: pre;">&#8288;1d&#8288;</code> means one day.
</p>
</li>
<li> <p><code>package_cache_dir</code>: Package cache location of <code><a href="pkgcache.html#topic+package_cache">pkgcache::package_cache</a></code>. The default
is the pkgcache default.
</p>
</li>
<li> <p><code>platforms</code>: Character vector of platforms to <em>download</em> or <em>install</em> packages
for. See <code><a href="#topic+default_platforms">default_platforms()</a></code> for possible platform
names. Defaults to the platform of the current R session, plus
<code>"source"</code>.
</p>
</li>
<li> <p><code>r_versions</code>: Character vector, R versions to download or install
packages for. It defaults to the current R version.
</p>
</li>
<li> <p><code>sysreqs</code>: Whether to automatically look up and install system requirements.
If <code>TRUE</code>, then <code style="white-space: pre;">&#8288;r pak_or_pkgdepends()&#8288;</code> will try to install required
system packages. If <code>FALSE</code>, then system requirements are still
printed (including OS packages on supported platforms), but they
are not installed.
By default it is <code>TRUE</code> on supported platforms,
if the current user is the root user or password-less <code>sudo</code> is
configured for the current user.
</p>
</li>
<li> <p><code>sysreqs_db_update</code>: Whether to try to update the system requirements database from
GitHub. If the update fails, then the cached or the build-in
database if used. Defaults to TRUE.
</p>
</li>
<li> <p><code>sysreqs_db_update_timeout</code>: Timeout for the system requirements database update.
Defaults to five seconds.
</p>
</li>
<li> <p><code>sysreqs_dry_run</code>: If <code>TRUE</code>, then pkgdepends only prints the system commands to
install system requirements, but does not execute them.
</p>
</li>
<li> <p><code>sysreqs_platform</code>: The platform to use for system requirements lookup. On Linux, where
system requirements are currently supported, it must be a string
containing the distribution name and release, separated by a dash.
E.g.: <code>"ubuntu-22.04"</code>, or <code>"rhel-9"</code>.
</p>
</li>
<li> <p><code>sysreqs_rspm_repo_id</code>: Posit Package Manager (formerly RStudio Package Manager) repository
id to use for CRAN system requirements lookup. Defaults to the
<code>RSPM_REPO_ID</code> environment variable, if set. If not set, then it
defaults to <code>1</code>.
</p>
</li>
<li> <p><code>sysreqs_rspm_url</code>: Root URL of Posit Package Manager (formerly RStudio Package
Manager) for system requirements lookup. By default the <code>RSPM_ROOT</code>
environment variable is used, if set. If not set,
it defaults to <code style="white-space: pre;">&#8288;https://packagemanager.posit.co&#8288;</code>.
</p>
</li>
<li> <p><code>sysreqs_sudo</code>: Whether to use <code>sudo</code> to install system requirements,
on Unix. By default it is <code>TRUE</code> on Linux if the effective user id
of the current process is not the <code>root</code> user.
</p>
</li>
<li> <p><code>sysreqs_update</code>: Whether to try to update system packages that are already installed.
It defaults to <code>TRUE</code> on CI systems: if the <code>CI</code> environment
variable is set to <code>true</code>.
</p>
</li>
<li> <p><code>sysreqs_verbose</code>: Whether to echo the output of system requirements installation.
Defaults to <code>TRUE</code> if the <code>CI</code> environment variable is set.
</p>
</li>
<li> <p><code>use_bioconductor</code>: Whether to automatically use the Bioconductor repositories.
Defaults to <code>TRUE</code>.
</p>
</li>
<li> <p><code>windows_archs</code>: Character scalar specifying which architectures
to download/install for on Windows. Its possible values are:
</p>

<ul>
<li> <p><code>"prefer-x64"</code>: Generally prefer x64 binaries. If the current R
session is <code>x64</code>, then we download/install x64 packages.
(These packages might still be multi-architecture binaries!)
If the current R session is <code>i386</code>, then we download/install
packages for both architectures. This might mean compiling
packages from source if the binary packages are for <code>x64</code> only,
like the CRAN Windows binaries for R 4.2.x currently.
<code>"prefer-x64"</code> is the default for R 4.2.0 and later.
</p>
</li>
<li> <p><code>"both"</code>: Always download/install packages for both <code>i386</code> and
<code>x64</code> architectures. This might need compilation from source
if the available binaries are for <code>x64</code> only, like the CRAN
Windows binaries for R 4.2.x currently. <code>"both"</code> is the default
for R 4.2.0 and earlier.
</p>
</li></ul>

</li></ul>


<hr>
<h2 id='pkg_dep_types_hard'>Possible package dependency types</h2><span id='topic+pkg_dep_types_hard'></span><span id='topic+pkg_dep_types_soft'></span><span id='topic+pkg_dep_types'></span>

<h3>Description</h3>

<p>Hard dependencies are needed for a package to load, soft dependencies
are optional.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_dep_types_hard()

pkg_dep_types_soft()

pkg_dep_types()
</code></pre>


<h3>Value</h3>

<p>A string vector of dependency types, capitalized.
</p>


<h3>See Also</h3>

<p>Other package dependency utilities: 
<code><a href="#topic+as_pkg_dependencies">as_pkg_dependencies</a>()</code>
</p>

<hr>
<h2 id='pkg_downloads'>Package downloads</h2><span id='topic+pkg_downloads'></span><span id='topic+pkg_download_result'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code> and <code><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a></code> classes
both have download methods, to downloads package files into a
configured directory (see <a href="#topic+pkgdepends-config">'Configuration'</a>).
</p>


<h3>Details</h3>

<p>They return a <code>pkg_download_result</code> object, which is a data frame,
that adds extra columns to <code><a href="#topic+pkg_resolution_result">pkg_resolution_result</a></code> (for
<code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code>) or <code><a href="#topic+pkg_solution_result">pkg_solution_result</a></code>
(for <code><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a></code>):
</p>

<ul>
<li> <p><code>built</code>: the <code>Built</code> field from the <code>DESCRIPTION</code> file of binary
packages, for which this information is available.
</p>
</li>
<li> <p><code>cache_status</code>: whether the package file is in the package cache.
It is <code>NA</code> for <code style="white-space: pre;">&#8288;installed::&#8288;</code> package refs.
</p>
</li>
<li> <p><code>dep_types</code>: character vector of dependency types that were
considered for this package. (This is a list column.)
</p>
</li>
<li> <p><code>deps</code>: dependencies of the package, in a data frame. See
&quot;Package dependency tables&quot; below.
</p>
</li>
<li> <p><code>direct</code>: whether this package (ref, really) was directly specified,
or added as a dependency.
</p>
</li>
<li> <p><code>error</code>: this is a list column that contains error objects for the
refs that pkgdepends failed to resolve.
</p>
</li>
<li> <p><code>filesize</code>: the file size in bytes, or <code>NA</code> if this information is
not available.
</p>
</li>
<li> <p><code>license</code>: license of the package, or <code>NA</code> if not available.
</p>
</li>
<li> <p><code>md5sum</code>: MD5 checksum of the package file, if available, or <code>NA</code> if
not.
</p>
</li>
<li> <p><code>metadata</code>: a named character vector. These fields will be (should be)
added to the installed <code>DESCRIPTION</code> file of the package.
</p>
</li>
<li> <p><code>mirror</code>: URL of the CRAN(-like) mirror site where the metadata was
obtained from. It is NA for non-CRAN-like sources, e.g. local files,
installed packages, GitHub, etc.
</p>
</li>
<li> <p><code>needscompilation</code>: whether the package needs compilation.
</p>
</li>
<li> <p><code>package</code>: package name.
</p>
</li>
<li> <p><code>priority</code>: this is <code>"base"</code> for base packages, <code>"recommended"</code> for
recommended packages, and <code>NA</code> otherwise.
</p>
</li>
<li> <p><code>ref</code>: package reference.
</p>
</li>
<li> <p><code>remote</code>: the parsed <code>remote_ref</code> objects, see <code><a href="#topic+parse_pkg_refs">parse_pkg_refs()</a></code>.
This is a list column.
</p>
</li>
<li> <p><code>repodir</code>: the directory where this package should be in a CRAN-like
repository.
</p>
</li>
<li> <p><code>sha256</code>: SHA256 hash of the package file, if available, otherwise
<code>NA</code>.
</p>
</li>
<li> <p><code>sources</code>: URLs where this package can be downloaded from. This is not
necessarily a URL that you can download with a HTTP client. E.g. for
<code style="white-space: pre;">&#8288;local::&#8288;</code> refs it is a path, and for <code style="white-space: pre;">&#8288;git::&#8288;</code> refs it is a URL for git.
It is a zero length vector for <code style="white-space: pre;">&#8288;installed::&#8288;</code> refs.
</p>
</li>
<li> <p><code>status</code>: status of the dependency resolution, <code>"OK"</code> or <code>"FAILED"</code>.
</p>
</li>
<li> <p><code>target</code>: path where this package should be saved in a CRAN-repository.
</p>
</li>
<li> <p><code>type</code>: ref type.
</p>
</li>
<li> <p><code>version</code>: package version.
</p>
</li>
<li> <p><code>fulltarget</code>: absolute path to the downloaded file. At most one of
<code>fulltarget</code> and <code>fulltarget_tree</code> must exist on the disk.
</p>
</li>
<li> <p><code>fulltarget_tree</code>: absolute path to a package tree directory. At most
one of <code>fulltarget</code> and <code>fulltarget_tree</code> must exist on the disk.
</p>
</li>
<li> <p><code>download_status</code>: <code>"Had"</code> or <code>"Got"</code>, depending on whether the file
was obtained from the cache.
</p>
</li>
<li> <p><code>download_error</code>: error object for failed downloads.
</p>
</li>
<li> <p><code>file_size</code>: Size of the file, or <code>NA</code>. For <code style="white-space: pre;">&#8288;installed::&#8288;</code> refs, it is
<code>NA</code>, and it is also <code>NA</code> for refs that created <code>fulltarget_tree</code>
instead of <code>fulltarget</code>.
</p>
</li></ul>

<p><code>fulltarget</code>, if it exists, contains a packaged (via <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>)
source R package. If <code>fulltarget_tree</code> exists, it is a package tree
directory, that still needs an <code style="white-space: pre;">&#8288;R CMD build&#8288;</code> call.
</p>
<p>Additional columns might be present. They are either used internally or
they are experimental. They might be removed or changed at any time.
</p>
<p>All columns are of type character, except for <code>direct</code> (logical),
<code>needscompilation</code> (logical), <code>filesize</code> (integer), <code>deps</code> (list column, see
&quot;Package dependency tables&quot; below), <code>sources</code> (list of character vectors),
<code>remote</code> (list), <code>error</code> (list), <code>metadata</code> (list), <code>dep_types</code> (list).
</p>


<h4>Package dependency tables</h4>

<p>A package dependency tables in the <code>deps</code> list column have five columns
currently:
</p>

<ul>
<li> <p><code>ref</code>: the package ref of the dependency.
</p>
</li>
<li> <p><code>type</code>: the dependency type, in all lowercase. I.e. <code>imports</code>,
<code>suggests</code>, etc.
</p>
</li>
<li> <p><code>package</code>: package name of the dependency.
</p>
</li>
<li> <p><code>op</code>: operator for version requirements, e.g. <code>&gt;=</code>.
</p>
</li>
<li> <p><code>version</code>: version number, for version requirements.
</p>
</li></ul>



<hr>
<h2 id='pkg_name_check'>Check if an R package name is available.</h2><span id='topic+pkg_name_check'></span>

<h3>Description</h3>

<p>Additionally, look up the candidate name in a number of
dictionaries, to make sure that it does not have a negative
meaning.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_name_check(name, dictionaries = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pkg_name_check_+3A_name">name</code></td>
<td>
<p>Package name candidate.</p>
</td></tr>
<tr><td><code id="pkg_name_check_+3A_dictionaries">dictionaries</code></td>
<td>
<p>Character vector, the dictionaries to query.
Available dictionaries:
* <code>wikipedia</code>
* <code>wiktionary</code>,
* <code>sentiment</code> (<a href="https://github.com/fnielsen/afinn">https://github.com/fnielsen/afinn</a>),
* <code>urban</code> (Urban Dictionary).
If <code>NULL</code> (by default), the Urban Dictionary is omitted, as it
is often offensive.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Valid package name check</h4>

<p>Check the validity of <code>name</code> as a package name. See 'Writing R
Extensions' for the allowed package names. Also checked against a list
of names that are known to cause problems.
</p>



<h4>CRAN checks</h4>

<p>Check <code>name</code> against the names of all past and current packages on
CRAN, including base and recommended packages.
</p>



<h4>Bioconductor checks</h4>

<p>Check <code>name</code> against all past and current Bioconductor packages.
</p>



<h4>Profanity check</h4>

<p>Check <code>name</code> with <a href="https://www.purgomalum.com/service/containsprofanity">https://www.purgomalum.com/service/containsprofanity</a>
to make sure it is not a profanity.
</p>



<h4>Dictionaries</h4>

<p>See the <code>dictionaries</code> argument.
</p>



<h3>Value</h3>

<p><code>pkg_name_check</code> object with a custom print method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
pkg_name_check("cli")

</code></pre>

<hr>
<h2 id='pkg_refs'>Package references</h2><span id='topic+pkg_refs'></span>

<h3>Description</h3>

<p>A package reference (ref) specifies a location from which an R package
can be obtained from. The full syntax of a reference is <code>type::ref</code>, but
<code>type</code> can be often omitted, the common ref types have shortcuts.
</p>


<h3>Package references</h3>

<p>Many pkgdepends and pak functions take package names as arguments.
E.g. <code>pak::pkg_install()</code> takes the names of the packages to install,
<code>pak::pkg_deps_tree()</code> takes the names of the packages to draw dependency
trees for.
</p>
<p>Most of these function can also take a more generic <em>package reference</em>
instead of a package name.
A package reference also tells pkgdepends where to find the
package, the package source.
</p>
<p>To specify a package source, use its name as a prefix, with a <code>::</code>
separator.
E.g. <code>cran::mypkg</code> means the <code>mypkg</code> package from CRAN.
</p>
<p>A package name is a special package reference, that implicitly specifies
the configured CRAN(-like) repositories as the package source.
(We call this the <code>standard</code> package source.)
So <code>mypkg</code> is equivalent to <code>standard::mypkg</code> and pak look for mypkg in
any of the configured CRAN-like repositories.
If you did not explicitly specify any CRAN-like repositories (e.g. with
<code>options("repos")</code>), then pak uses the CRAN and Bioconductor repositories
by default.
</p>
<p>This is the list of the currently supported package sources.
We will discuss each in detail below.
</p>

<ul>
<li> <p><code>cran</code>: a CRAN package.
</p>
</li>
<li> <p><code>bioc</code>: a Bioconductor package.
</p>
</li>
<li> <p><code>standard</code>: a package from a configured CRAN-like repository.
</p>
</li>
<li> <p><code>github</code>: a package from GitHub.
</p>
</li>
<li> <p><code>gitlab</code>: a package from GitLab.
</p>
</li>
<li> <p><code>git</code>: a package in a git repository.
</p>
</li>
<li> <p><code>local</code>: a local package file or directory.
</p>
</li>
<li> <p><code>url</code>: an URL that points to a package archive.
</p>
</li>
<li> <p><code>installed</code> an installed package.
</p>
</li>
<li> <p><code>deps</code> the dependencies of a local package file or directory.
</p>
</li>
<li> <p><code>any</code> a special reference type that accepts a package from any source.
See below.
</p>
</li>
<li> <p><code>param</code> a special reference to change how other references are downloaded
or installed. See &quot;Parameters&quot; below.
</p>
</li></ul>



<h4>Shorthands</h4>

<p>To save typing, you do not always need to fully specify the package source
in a package reference.
You have seen before that a package name implicitly has a <code>standard</code>
package source.
Here are the complete rules for such shorthands, in the order they are
applied:
</p>

<ul>
<li><p> If the ref is a valid package name, or a package name with a <code>@</code> version
specification, the <code>standard</code> package source is used. E.g. <code>pkg</code> is
equivalent to <code>standard::pkg</code> and <code style="white-space: pre;">&#8288;pkg@1.0&#8288;</code> is equivalent to
<code style="white-space: pre;">&#8288;standard::pkg@1.0&#8288;</code>.
</p>
</li>
<li><p> If the ref is a valid <code>github</code> ref type without the <code style="white-space: pre;">&#8288;github::&#8288;</code> prefix,
then <code>github</code> is used. E.g. <code>user/repo</code> is equivalent to
<code>github::user/repo</code> and <code>user/repo@tag</code> is equivalent to
<code>github::user/repo@tag</code>, etc.
</p>
</li>
<li><p> If the ref is a GitHub URL (see below) without the <code style="white-space: pre;">&#8288;github::&#8288;</code> prefix,
then <code>github</code> is used.
</p>
</li>
<li><p> If the ref is a path that starts with <code>.</code> or <code>/</code> or <code style="white-space: pre;">&#8288;\&#8288;</code> or <code>~</code> then
<code>local</code> is used. (pkgdepends does not check if the path
exists.)
</p>
</li>
<li><p> If a package reference if of the form <code style="white-space: pre;">&#8288;&lt;package-name&gt;=?&lt;parameters&gt;&#8288;</code>,
then it will be the special <code>param</code> type. See &quot;Parameters&quot; below.
</p>
</li></ul>

<p>If the package reference does not have an explicit package source,
and the package source cannot be determined from these rules, then
pkgdepends throws an error.
</p>



<h4>Package names</h4>

<p>When pkgdepends is looking up the dependencies of a package,
it needs to be able to determine the name of the dependency from the
package reference.
This is sometimes not easy for dependencies in <code>Remotes</code> (or similar) fields.
</p>

<ul>
<li><p> For <code style="white-space: pre;">&#8288;github::&#8288;</code> and <code style="white-space: pre;">&#8288;gitlab::&#8288;</code> dependencies pkgdepends assumes
that the package name is the same as the name of the repository. If this
does not hold, then you need to specify the package name explicitly, using
a <code style="white-space: pre;">&#8288;&lt;package&gt;=&#8288;</code> prefix. E.g. <code>pins=rstudio/pins-r</code>. If you specify both the
package source type and the package name, the package name comes first:
<code>pins=github::rstudio/pins-r</code>.
</p>
</li>
<li><p> For <code style="white-space: pre;">&#8288;git::&#8288;</code> dependencies, pkgdepends assumes that the package
name is the same as the last component of the repository. If this does not
hold, then you need to specify the package name explicitly, using a
<code style="white-space: pre;">&#8288;&lt;package&gt;=&#8288;</code> prefix. E.g. <code style="white-space: pre;">&#8288;pins=git::https://github.com/rstudio/pins-r&#8288;</code>.
</p>
</li>
<li><p> For <code style="white-space: pre;">&#8288;local::&#8288;</code> dependencies, you always need to specify the package name
explicitly. E.g. <code style="white-space: pre;">&#8288;pins=local::~/works/pins&#8288;</code>.
</p>
</li>
<li><p> For <code style="white-space: pre;">&#8288;url::&#8288;</code> dependencies, you always need to specify the package name
explicitly. E.g. <code style="white-space: pre;">&#8288;ggplot2=url::https://cloud.r-project.org/src/contrib/...&#8288;</code>.
</p>
</li></ul>




<h4>Parameters</h4>

<p>Package references may have optional parameters, added after a question
mark.
Different parameters are separated by an ampersand (<code>&amp;</code>) character.
(This is very similar to how HTTP URLs take query parameters.)
</p>
<p>Parameters may be flags that turn on some behavior, or they can have a
string value, assigned with an equal sign (<code>=</code>).
If no value is assigned, then we assume the <code>true</code> value. For example
these two package refs are equivalent:
</p>
<div class="sourceCode"><pre>cran::testthat?source&amp;nocache
cran::testthat?source=true&amp;nocache=true
</pre></div>


<h5>Parameters for downstream packages</h5>

<p>pkgdepends allows specifying parameters for downstream packages,
using the <code style="white-space: pre;">&#8288;&lt;package&gt;=?&lt;params&gt;&#8288;</code> special package reference, where <code>package</code> is
the name of the package, and <code style="white-space: pre;">&#8288;&lt;params&gt;&#8288;</code> are the parameters, as above.
This is useful if you want to add a parameter to a downstream dependency.
</p>
<p>For example, to install ggplot2, and always reinstall its cli package
dependency you could use the <code>ggplot2</code> and <code>cli=?reinstall</code> package
references.
The latter tells pkgdepends to always reinstall cli, even if
it is already installed.
</p>



<h5>Currently supported parameters</h5>


<ul>
<li> <p><code>ignore</code> is a flag parameter. If specified, the package is ignored.
This usually makes sense in the <code>packagename=?ignore</code> form, to ignore a
downstream soft dependency. If all versions of a hard dependency are
ignored that will lead to a solution error.
</p>
</li>
<li> <p><code>ignore-before-r</code> is a version number parameter. The package will be
ignored on R versions that are older than the specified one. E.g.
<code style="white-space: pre;">&#8288;Matrix=?ignore-before-r=4.1.2&#8288;</code> will ignore the Matrix package on R versions
that are older than 4.1.2. This parameter really only makes sense in the
<code>packgename=?ignore</code> form.
</p>
</li>
<li> <p><code>ignore-unavailable</code> is a flag. It can only be specified for soft
dependencies. If specified and the package is not available, it will be
ignored. This parameter really only makes sense in the
<code>packagename=?ignore-unavailable</code> form.
</p>
</li>
<li> <p><code>source</code> is a flag parameter. If specified, then a source R package
is requested from a CRAN-like repository. For package installations
<code>source</code> always triggers a re-install. In other words, <code>source</code> implies the
<code>reinstall</code> parameter. This parameter is supported for <code style="white-space: pre;">&#8288;bioc::&#8288;</code>, <code style="white-space: pre;">&#8288;cran::&#8288;</code>
and <code style="white-space: pre;">&#8288;standard::&#8288;</code> remote types, and it is ignored for others.
</p>
</li>
<li> <p><code>reinstall</code> requests a re-install for package installations. It is
supported by the <code style="white-space: pre;">&#8288;bioc::&#8288;</code>, <code style="white-space: pre;">&#8288;cran::&#8288;</code>, <code style="white-space: pre;">&#8288;git::&#8288;</code>, <code style="white-space: pre;">&#8288;github::&#8288;</code>, <code style="white-space: pre;">&#8288;gitlab::&#8288;</code>,
<code style="white-space: pre;">&#8288;local::&#8288;</code>, <code style="white-space: pre;">&#8288;standard::&#8288;</code>, and <code style="white-space: pre;">&#8288;url::&#8288;</code> remote types.
</p>
</li>
<li> <p><code>nocache</code> will ignore the package cache. It will always download the
package file, and it will not add the downloaded (and built) package(s)
to the package cache. It is supported by the <code style="white-space: pre;">&#8288;bioc::&#8288;</code>, <code style="white-space: pre;">&#8288;cran::&#8288;</code>, <code style="white-space: pre;">&#8288;git::&#8288;</code>,
<code style="white-space: pre;">&#8288;github::&#8288;</code>, <code style="white-space: pre;">&#8288;gitlab::&#8288;</code>, <code style="white-space: pre;">&#8288;standard::&#8288;</code> and <code style="white-space: pre;">&#8288;url::&#8288;</code> remote types.
</p>
</li></ul>





<h4>Package source details</h4>



<h5>CRAN packages (<code style="white-space: pre;">&#8288;cran::&#8288;</code>)</h5>

<p>A package from CRAN. Full syntax:
</p>
<div class="sourceCode"><pre>[cran::]&lt;package&gt;[@[&gt;=]&lt;version&gt; | @current | @last]
</pre></div>

<ul>
<li> <p><code style="white-space: pre;">&#8288;&lt;package&gt;&#8288;</code> is a valid package name.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;version&gt;&#8288;</code> is a version or a version requirement.
</p>
</li></ul>

<p>Examples:
</p>
<div class="sourceCode"><pre>forecast
forecast@8.8
forecast@&gt;=8.8
cran::forecast
forecast@last
forecast@current
</pre></div>
<p>Note: pkgdepends currently parses the version specification part
(everything after <code>@</code>), but does not use it.
</p>



<h5>Bioconductor packages (<code style="white-space: pre;">&#8288;bioc::&#8288;</code>)</h5>

<p>A package from Bioconductor. The syntax is the same as for CRAN packages,
except for the prefix.
</p>
<div class="sourceCode"><pre>[bioc::]&lt;package&gt;[@[&gt;=]&lt;version&gt; | @current | @last]
</pre></div>



<h5>Standard packages (<code style="white-space: pre;">&#8288;standard::&#8288;</code>)</h5>

<p>These are packages either from CRAN or Bioconductor, the full syntax
is the same as for CRAN packages, except for the prefix:
</p>
<div class="sourceCode"><pre>[standard::]&lt;package&gt;[@[&gt;=]&lt;version&gt; | current | last]
</pre></div>



<h5>GitHub packages (<code style="white-space: pre;">&#8288;github::&#8288;</code>)</h5>

<p>Packages from a GitHub repository. Full syntax:
</p>
<div class="sourceCode"><pre>[&lt;package&gt;=][github::]&lt;username&gt;/&lt;repository&gt;[/&lt;subdir&gt;][&lt;detail&gt;]
</pre></div>

<ul>
<li> <p><code style="white-space: pre;">&#8288;&lt;package&gt;&#8288;</code> is the name of the package. If this is missing, then
the name of the repository is used.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;username&gt;&#8288;</code> is a GitHub username or organization name.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;repository&gt;&#8288;</code> is the name of the repository.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;subdir&gt;&#8288;</code> optional subdirectory, if the package is within a
subdirectory in the repository.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> specifies a certain version of the package, see below.
</p>
</li></ul>

<p><code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> may specify:
</p>

<ul>
<li><p> a git branch, tag or (prefix of) a commit hash: <code style="white-space: pre;">&#8288;@&lt;commitish&gt;&#8288;</code>;
</p>
</li>
<li><p> a pull request: <code style="white-space: pre;">&#8288;#&lt;pull-request&gt;&#8288;</code>; or
</p>
</li>
<li><p> the latest release: <code style="white-space: pre;">&#8288;@*release&#8288;</code>.
</p>
</li></ul>

<p>If <code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> is missing, then the latest commit of the <em>default</em>
branch is used.
</p>
<p>Examples:
</p>
<div class="sourceCode"><pre>r-lib/crayon
github::r-lib/crayon
r-lib/crayon@84be6207
r-lib/crayon@branch
r-lib/crayon#41
r-lib/crayon@release
</pre></div>
<p>For convenience GitHub HTTP URLs can also be used to specify a
package from GitHub. Examples:
</p>
<div class="sourceCode"><pre>https://github.com/r-lib/withr
# A branch:
https://github.com/r-lib/withr/tree/ghactions
# A tag:
https://github.com/r-lib/withr/tree/v2.1.1
# A commit:
https://github.com/r-lib/withr/commit/8fbcb548e316
# A pull request:
https://github.com/r-lib/withr/pull/76
# A release:
https://github.com/r-lib/withr/releases/tag/v2.1.0
</pre></div>
<p>A GitHub remote string can also be used instead of an URL, for example:
<code>git@github.com:r-lib/pak.git</code>
</p>



<h5>GitLab packages (<code style="white-space: pre;">&#8288;gitlab::&#8288;</code>)</h5>

<p>Packages from a GitLab repository. Full syntax:
</p>
<div class="sourceCode"><pre>[&lt;package&gt;=][github::]&lt;project-path&gt;/&lt;repository&gt;[/-/&lt;subdir&gt;][&lt;detail&gt;]
</pre></div>

<ul>
<li> <p><code style="white-space: pre;">&#8288;&lt;package&gt;&#8288;</code> is the name of the package. If this is missing, then
the name of the repository is used.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;project-path&gt;&#8288;</code> is a typically the GitLab username or group name, but
it may contain subgroups.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;repository&gt;&#8288;</code> is the name of the repository, or the project in GitLab
terminology.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;subdir&gt;&#8288;</code> optional subdirectory, if the package is within a
subdirectory in the repository. Note that for GitLab, this must come
after a <code style="white-space: pre;">&#8288;/-&#8288;</code> prefix, to be able to distinguish it from subgroups.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> may specify a git branch, tag or (prefix of) a commit hash.
</p>
</li></ul>

<p>If <code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> is missing, then the latest commit of the <em>default</em>
branch is used.
</p>
<p><code style="white-space: pre;">&#8288;gitlab::&#8288;</code> supports git submodules, see the <code>git-submodules</code> configuration
entry.
</p>
<p>Examples:
</p>
<div class="sourceCode"><pre>gitlab::gaborcsardi/cli
gitlab::r-hub/filelock@main
gitlab::group/subgroup/subsubgroup/project/-/subdir@ref
</pre></div>



<h5>Packages in git repositories (<code style="white-space: pre;">&#8288;git::&#8288;</code>)</h5>

<p>Full syntax:
</p>
<div class="sourceCode"><pre>[&lt;package&gt;=]git::https?://&lt;host&gt;[&lt;detail&gt;]
</pre></div>

<ul>
<li> <p><code style="white-space: pre;">&#8288;&lt;package&gt;&#8288;</code> is the name of the package. If this is missing, then
the last component of the <code style="white-space: pre;">&#8288;&lt;host&gt;&#8288;</code> is used.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;host&gt;&#8288;</code> host name and path of the git repository. Some git repositories
need the <code>.git</code> suffix here, others are more forgiving.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> specifies a certain version of the package:
a git branch, tag or (prefix of) a commit hash: <code style="white-space: pre;">&#8288;@&lt;commitish&gt;&#8288;</code>.
</p>
</li></ul>

<p>If <code style="white-space: pre;">&#8288;&lt;detail&gt;&#8288;</code> is missing, then the latest commit of the <em>default</em>
branch is used.
</p>
<p><code style="white-space: pre;">&#8288;git::&#8288;</code> supports git submodules, see the <code>git-submodules</code> configuration
entry.
</p>
<p>Examples:
</p>
<div class="sourceCode"><pre>git::https://github.com/r-lib/crayon
git::https://github.com/r-lib/crayon.git
git::https://github.com/r-lib/crayon.git@84be6207
git::https://github.com/r-lib/crayon.git@branch
git::https://gitlab.com/gaborcsardi/cli.git
</pre></div>
<p>Note that pkgdepends has a built-in git client, and does
<strong>not</strong> require a system git installation.
</p>
<p>If the system has git installed, then pkgdepends will use the
credentials stored in the configured git credential store, automatically,
via the gitcreds package.
</p>



<h5>Local packages (<code style="white-space: pre;">&#8288;local::&#8288;</code>)</h5>

<p>A path that refers to a package file built with <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>, or a
directory that contains a package. Full syntax:
</p>
<div class="sourceCode"><pre>local::&lt;path&gt;
</pre></div>
<p>For brevity, you can omit the <code style="white-space: pre;">&#8288;local::&#8288;</code> prefix, if you specify an
absolute path, a path from the user's home directory, starting with <code>~</code>,
or a relative path starting with <code style="white-space: pre;">&#8288;./&#8288;</code> or <code style="white-space: pre;">&#8288;.\\&#8288;</code>.
</p>
<p>A single dot (<code>"."</code>) is considered to be a local package in the current
working directory.
</p>
<p>Examples:
</p>
<div class="sourceCode"><pre>local::/foo/bar/package_1.0.0.tar.gz
local::/foo/bar/pkg
local::.
/absolute/path/package_1.0.0.tar.gz
~/path/from/home
./relative/path
.
</pre></div>
<p>If you specify a local package in a dependency (i.e. in <code>DESCRIPTION</code>), then
you also need to specify the name of the package, see &quot;Package names&quot;
above.
</p>



<h5>URLs (<code style="white-space: pre;">&#8288;url::&#8288;</code>)</h5>

<p>You can use <code style="white-space: pre;">&#8288;url::&#8288;</code> to refer to URLs that hold R package archives
(i.e. properly built with <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>), or compressed directories
of package trees (i.e. not built with <code style="white-space: pre;">&#8288;R CMD build&#8288;</code>). pkgdepends will
figure out if it needs to run <code style="white-space: pre;">&#8288;R CMD build&#8288;</code> on the package first.
</p>
<p>This remote type supports <code>.tar.gz</code> and <code>.zip</code> files.
</p>
<p>Note that URLs are not ideal remote types, because pkgdepends needs to
download the package file to resolve its dependencies. When this happens,
it puts the package file in the cache, so no further downloads are
needed when installing the package later.
</p>
<p>Examples:
</p>
<div class="sourceCode"><pre>url::https://cloud.r-project.org/src/contrib/Archive/cli/cli_1.0.0.tar.gz
url::https://github.com/tidyverse/stringr/archive/HEAD.zip
</pre></div>
<p>If you specify a package from an URL in a dependency (i.e. in <code>DESCRIPTION</code>),
then you also need to specify the name of the package, see &quot;Package names&quot;
above.
</p>



<h5>Installed packages (<code style="white-space: pre;">&#8288;installed::&#8288;</code>)</h5>

<p>This is usually used internally, but can also be used directly.
Full syntax:
</p>
<div class="sourceCode"><pre>installed::&lt;path&gt;/&lt;package&gt;
</pre></div>

<ul>
<li> <p><code style="white-space: pre;">&#8288;&lt;path&gt;&#8288;</code> is the library the package is installed to.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;&lt;package&gt;&#8288;</code> is the package name.
</p>
</li></ul>

<p>Example:
</p>
<div class="sourceCode"><pre>installed::~/R/3.6/crayon
</pre></div>



<h5>Package dependencies (<code style="white-space: pre;">&#8288;deps::&#8288;</code>)</h5>

<p>Usually used internally, it specifies the dependencies of a local
package. It can be used to download or install the dependencies of a
package, without downloading or installing the package itself.
Full syntax:
</p>
<div class="sourceCode"><pre>deps::&lt;path&gt;
</pre></div>
<p>Examples:
</p>
<div class="sourceCode"><pre>deps::/foo/bar/package_1.0.0.tar.gz
deps::/foo/bar/pkg
deps::.
</pre></div>



<h5><code style="white-space: pre;">&#8288;any::&#8288;</code> packages</h5>

<p>Sometimes you need to install additional packages, but you don't mind
where they are installed from. Here is an example. You want to install
cli from GitHub, from <code>r-lib/cli</code>. You also want to install glue, and
you don't mind which version of glue is installed, as long as it is
compatible with the requested cli version. If cli specifies the
development version of glue, then that is fine. If cli is fine with the
CRAN version of glue, that's OK, too. If a future version of cli does
not depend on glue, you still want glue installed, from CRAN. The <code style="white-space: pre;">&#8288;any::&#8288;</code>
reference type does exactly this.
</p>
<p>In our example you might write
</p>
<div class="sourceCode r"><pre>pak::pkg_install(c("glue", "r-lib/cli"))
</pre></div>
<p>first, but this will fail if <code>rlib/cli</code> requests (say) <code>tidyverse/glue</code>,
because in <code>pkg_install()</code> <code>"glue"</code> is interpreted as <code>"standard::glue"</code>,
creating a conflict with <code>tidyverse/glue</code>. On the other hand
</p>
<div class="sourceCode r"><pre>pak::pkg_install(c("any::glue", "r-lib/cli"))
</pre></div>
<p>works, independently of which glue version is requested by cli.
</p>



<h5>Parameter refs (<code style="white-space: pre;">&#8288;param::&#8288;</code>)</h5>

<p>See &quot;Parameters&quot; above.
</p>




<h4>The <code>Remotes</code> field</h4>

<p>In the <code>DESCRIPTION</code> file of an R package you can mark any regular
dependency defined in the <code>Depends</code>, <code>Imports</code>, <code>Suggests</code> or <code>Enhances</code>
fields as being installed from a non-standard package source by adding
a package reference to a <code>Remotes</code> entry.
pkgdepends will download and install the package from the
from the specified location, instead of a CRAN-like repository.
</p>
<p>The remote dependencies specified in <code>Remotes</code> is a comma separated
list of package sources:
</p>
<div class="sourceCode"><pre>Remotes: &lt;pkg-source-1&gt;, &lt;pkg-source-2&gt;, [ ... ]
</pre></div>
<p>Note that you will still need add the package to one of the regular
dependency fields, i.e. <code>Imports</code>, <code>Suggests</code>, etc. Here is a concrete
example that specifies the <code>r-lib/glue</code> package:
</p>
<div class="sourceCode"><pre>Imports: glue
Remotes: r-lib/glue,
  r-lib/httr@v0.4,
  klutometis/roxygen#142,
  r-lib/testthat@c67018fa4970
</pre></div>
<p>The CRAN and Bioconductor repositories do not support the <code>Remotes</code>
field, so you need to remove this field, before submitting your package
to either of them.
</p>


<hr>
<h2 id='pkg_resolution'>Dependency resolution</h2><span id='topic+pkg_resolution'></span><span id='topic+pkg_resolution_result'></span>

<h3>Description</h3>

<p>Collect information about dependencies of R packages, recursively.
</p>


<h3>Details</h3>

<p><code><a href="#topic+pkg_deps">pkg_deps</a></code>, <code><a href="#topic+pkg_download_proposal">pkg_download_proposal</a></code> and <code><a href="#topic+pkg_installation_proposal">pkg_installation_proposal</a></code>
all resolve their dependencies recursively, to obtain information about
all packages needed for the specified <a href="#topic+pkg_refs">package references</a>.
</p>


<h4>CRAN and Bioconductor packages</h4>

<p>Resolution currently start by downloading the CRAN and Bioconductor
metadata, if it is out of date. For CRAN, we also download additional
metadata, that includes file sizes, SHA hashes, system requirements,
and &quot;built&quot; (for binary packages) and &quot;packaged&quot; time stamps. The extra
meta information is updated daily currently, so for some packages it
might be incorrect or missing.
</p>



<h4>GitHub packages</h4>

<p>For GitHub packages, we query their download URL to be able to
download the package later, and also download their <code>DESCRIPTION</code>
file, to learn about their dependencies.
</p>



<h4>Local packages</h4>

<p>From local package files we extract the <code>DESCRIPTION</code> file, to learn
about their dependencies.
</p>



<h4>The <code>remotes</code> field in <code>DESCRIPTION</code></h4>

<p>We support the non-standard <code>Remotes</code> field in the package <code>DESCRIPTION</code>
file. This field may contain a list of package references for any of the
dependencies that are specified in one of the <code>Depends</code>, <code>Includes</code>,
<code>Suggests</code> or <code>Enhances</code> fields. The syntax is a comma separated list of
<a href="#topic+pkg_refs">package references</a>.
</p>



<h4>The result</h4>

<p>The result of the resolution is a data frame with information about the
packages and their dependencies.
</p>

<ul>
<li> <p><code>built</code>: the <code>Built</code> field from the <code>DESCRIPTION</code> file of binary
packages, for which this information is available.
</p>
</li>
<li> <p><code>cache_status</code>: whether the package file is in the package cache.
It is <code>NA</code> for <code style="white-space: pre;">&#8288;installed::&#8288;</code> package refs.
</p>
</li>
<li> <p><code>dep_types</code>: character vector of dependency types that were
considered for this package. (This is a list column.)
</p>
</li>
<li> <p><code>deps</code>: dependencies of the package, in a data frame. See
&quot;Package dependency tables&quot; below.
</p>
</li>
<li> <p><code>direct</code>: whether this package (ref, really) was directly specified,
or added as a dependency.
</p>
</li>
<li> <p><code>error</code>: this is a list column that contains error objects for the
refs that pkgdepends failed to resolve.
</p>
</li>
<li> <p><code>filesize</code>: the file size in bytes, or <code>NA</code> if this information is
not available.
</p>
</li>
<li> <p><code>license</code>: license of the package, or <code>NA</code> if not available.
</p>
</li>
<li> <p><code>md5sum</code>: MD5 checksum of the package file, if available, or <code>NA</code> if
not.
</p>
</li>
<li> <p><code>metadata</code>: a named character vector. These fields will be (should be)
added to the installed <code>DESCRIPTION</code> file of the package.
</p>
</li>
<li> <p><code>mirror</code>: URL of the CRAN(-like) mirror site where the metadata was
obtained from. It is NA for non-CRAN-like sources, e.g. local files,
installed packages, GitHub, etc.
</p>
</li>
<li> <p><code>needscompilation</code>: whether the package needs compilation.
</p>
</li>
<li> <p><code>package</code>: package name.
</p>
</li>
<li> <p><code>priority</code>: this is <code>"base"</code> for base packages, <code>"recommended"</code> for
recommended packages, and <code>NA</code> otherwise.
</p>
</li>
<li> <p><code>ref</code>: package reference.
</p>
</li>
<li> <p><code>remote</code>: the parsed <code>remote_ref</code> objects, see <code><a href="#topic+parse_pkg_refs">parse_pkg_refs()</a></code>.
This is a list column.
</p>
</li>
<li> <p><code>repodir</code>: the directory where this package should be in a CRAN-like
repository.
</p>
</li>
<li> <p><code>sha256</code>: SHA256 hash of the package file, if available, otherwise
<code>NA</code>.
</p>
</li>
<li> <p><code>sources</code>: URLs where this package can be downloaded from. This is not
necessarily a URL that you can download with a HTTP client. E.g. for
<code style="white-space: pre;">&#8288;local::&#8288;</code> refs it is a path, and for <code style="white-space: pre;">&#8288;git::&#8288;</code> refs it is a URL for git.
It is a zero length vector for <code style="white-space: pre;">&#8288;installed::&#8288;</code> refs.
</p>
</li>
<li> <p><code>status</code>: status of the dependency resolution, <code>"OK"</code> or <code>"FAILED"</code>.
</p>
</li>
<li> <p><code>target</code>: path where this package should be saved in a CRAN-repository.
</p>
</li>
<li> <p><code>type</code>: ref type.
</p>
</li>
<li> <p><code>version</code>: package version.
</p>
</li></ul>

<p>Additional columns might be present. They are either used internally or
they are experimental. They might be removed or changed at any time.
</p>
<p>All columns are of type character, except for <code>direct</code> (logical),
<code>needscompilation</code> (logical), <code>filesize</code> (integer), <code>deps</code> (list column, see
&quot;Package dependency tables&quot; below), <code>sources</code> (list of character vectors),
<code>remote</code> (list), <code>error</code> (list), <code>metadata</code> (list), <code>dep_types</code> (list).
</p>


<h5>Package dependency tables</h5>

<p>A package dependency tables in the <code>deps</code> list column have five columns
currently:
</p>

<ul>
<li> <p><code>ref</code>: the package ref of the dependency.
</p>
</li>
<li> <p><code>type</code>: the dependency type, in all lowercase. I.e. <code>imports</code>,
<code>suggests</code>, etc.
</p>
</li>
<li> <p><code>package</code>: package name of the dependency.
</p>
</li>
<li> <p><code>op</code>: operator for version requirements, e.g. <code>&gt;=</code>.
</p>
</li>
<li> <p><code>version</code>: version number, for version requirements.
</p>
</li></ul>





<h4>Resolution failures</h4>

<p>The resolution process does not stop on error. Instead, failed
resolutions return and error object in the <code>error</code> column of the result
data frame.
</p>


<hr>
<h2 id='pkg_rx'>A set of handy regular expressions related to R packages</h2><span id='topic+pkg_rx'></span>

<h3>Description</h3>

<p>If you use these in R, make sure you specify <code>perl = TRUE</code>, see
<code><a href="base.html#topic+grep">base::grep()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pkg_rx()
</code></pre>


<h3>Details</h3>

<p>Currently included:
</p>

<ul>
<li> <p><code>pkg_name</code>: A valid package name.
</p>
</li>
<li> <p><code>type_cran</code>: A <code style="white-space: pre;">&#8288;cran::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_bioc</code>: A <code style="white-space: pre;">&#8288;bioc::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_standard</code>: A <code style="white-space: pre;">&#8288;standard::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_github</code>: A <code style="white-space: pre;">&#8288;github::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_git</code>: A <code style="white-space: pre;">&#8288;git::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_local</code>: A <code style="white-space: pre;">&#8288;local::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_deps</code>: A <code style="white-space: pre;">&#8288;deps::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>type_installed</code>: An <code style="white-space: pre;">&#8288;installed::&#8288;</code> package reference.
</p>
</li>
<li> <p><code>github_username</code>: A GitHub username.
</p>
</li>
<li> <p><code>github_repo</code>: A GitHub repository name.
</p>
</li>
<li> <p><code>github_url</code>: A GitHub URL.
</p>
</li></ul>



<h3>Value</h3>

<p>A named list of strings.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pkg_rx()
</code></pre>

<hr>
<h2 id='pkg_solution'>The dependency solver</h2><span id='topic+pkg_solution'></span><span id='topic+pkg_solution_result'></span>

<h3>Description</h3>

<p>The dependency solver takes the resolution information, and works out
the exact versions of each package that must be installed, such that
version and other requirements are satisfied.
</p>


<h3>Details</h3>



<h4>Solution policies</h4>

<p>The dependency solver currently supports two policies: <code>lazy</code> and
<code>upgrade</code>. The <code>lazy</code> policy prefers to minimize installation time,
and it does not perform package upgrades, unless version requirements
require them. The <code>upgrade</code> policy prefers to update all package to
their latest possible versions, but it still considers that version
requirements.
</p>



<h4>The integer problem</h4>

<p>Solving the package dependencies requires solving an integer linear
problem (ILP). This subsection briefly describes how the problem is
represented as an integer problem, and what the solution policies
exactly mean.
</p>
<p>Every row of the package resolution is a candidate for the dependency
solver. In the integer problem, every candidate corresponds to a binary
variable. This is 1 if that candidate is selected as part of the
solution, and 0 otherwise.
</p>
<p>The objective of the ILP minimization is defined differently for
different solution policies. The ILP conditions are the same.
</p>

<ol>
<li><p> For the <code>lazy</code> policy, <code style="white-space: pre;">&#8288;installed::&#8288;</code> packaged get 0 points, binary
packages 1 point, sources packages 5 points.
</p>
</li>
<li><p> For the 'upgrade' policy, we rank all candidates for a given package
according to their version numbers, and assign more points to older
versions. Points are assigned by 100 and candidates with equal
versions get equal points. We still prefer installed packages to
binaries to source packages, so also add 0 point for already
installed candidates, 1 extra points for binaries and 5 points for
source packages.
</p>
</li>
<li><p> For directly specified refs, we aim to install each package exactly
once. So for these we require that the variables corresponding to
the same package sum up to 1.
</p>
</li>
<li><p> For non-direct refs (i.e. dependencies), we require that the
variables corresponding to the same package sum up to at most one.
Since every candidate has at least 1 point in the objective function
of the minimization problem, non-needed dependencies will be
omitted.
</p>
</li>
<li><p> For direct refs, we require that their candidates satisfy their
references. What this means exactly depends on the ref types. E.g.
for CRAN packages, it means that a CRAN candidate must be selected.
For a standard ref, a GitHub candidate is OK as well.
</p>
</li>
<li><p> We rule out candidates for which the dependency resolution failed.
</p>
</li>
<li><p> We go over all the dependency requirements and rule out packages
that do not meet them. For every package <code>A</code>, that requires
package <code>B</code>, we select the <code style="white-space: pre;">&#8288;B(i, i=1..k)&#8288;</code> candidates of <code>B</code> that
satisfy <code>A</code>'s requirements and add a <code>A - B(1) - ... - B(k) &lt;= 0</code>
rule. To satisfy this rule, either we cannot install <code>A</code>, or if <code>A</code>
is installed, then one of the good <code>B</code> candidates must be installed
as well.
</p>
</li>
<li><p> We rule out non-installed CRAN and Bioconductor candidates for
packages that have an already installed candidate with the same exact
version.
</p>
</li>
<li><p> We also rule out source CRAN and Bioconductor candidates for
packages that have a binary candidate with the same exact version.
</p>
</li></ol>




<h4>Explaining why the solver failed</h4>

<p>To be able to explain why a solution attempt failed, we also add a dummy
variable for each directly required package. This dummy variable has a
very large objective value, and it is only selected if there is no
way to install the directly required package.
</p>
<p>After a failed solution, we look the dummy variables that were selected,
to see which directly required package failed to solve. Then we check
which rule(s) ruled out the installation of these packages, and their
dependencies, recursively.
</p>



<h4>The result</h4>

<p>The result of the solution is a <code>pkg_solution_result</code> object. It is a
named list with entries:
</p>

<ul>
<li> <p><code>status</code>: Status of the solution attempt, <code>"OK"</code> or <code>"FAILED"</code>.
</p>
</li>
<li> <p><code>data</code>: The selected candidates. This is very similar to a
<a href="#topic+pkg_resolution_result">pkg_resolution_result</a> object, but it has two extra columns:
</p>

<ul>
<li> <p><code>lib_status</code>: status of the package in the library, after the
installation. Possible values: <code>new</code> (will be newly installed),
<code>current</code> (up to date, not installed), <code>update</code> (will be updated),
<code>no-update</code> (could update, but will not).
</p>
</li>
<li> <p><code>old_version</code>: The old (current) version of the package in the
library, or <code>NA</code> if the package is currently not installed.
</p>
</li></ul>

</li>
<li> <p><code>problem</code>: The ILP problem. The exact representation is an
implementation detail, but it does have an informative print method.
</p>
</li>
<li> <p><code>solution</code>: The return value of the internal solver.
</p>
</li></ul>



<hr>
<h2 id='repo'>Query and manipulate CRAN-like repositories</h2><span id='topic+repo'></span>

<h3>Description</h3>

<p>These functions are currently experimental.
</p>


<h3>Details</h3>



<h4>List packages in a repository</h4>

<p><code>repo$list()</code> lists packages in a repository. It reads the <code>PACKAGES</code>
file containing the repository metadata.
</p>


<h5>Usage</h5>

<div class="sourceCode"><pre>repo_list(..., path = ".")
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>...</code>: ignored currently.
</p>
</li>
<li> <p><code>path</code>: path to repository. Must contain a <code>PACKAGES</code> file.
</p>
</li></ul>




<h5>Value</h5>

<p>Data frame of package data, a data frame with at least the following
columns, possibly more if there are other entries in the metadata:
</p>

<ul>
<li> <p><code>Package</code>
</p>
</li>
<li> <p><code>Version</code>
</p>
</li>
<li> <p><code>Depends</code>
</p>
</li>
<li> <p><code>Imports</code>
</p>
</li>
<li> <p><code>Suggests</code>
</p>
</li>
<li> <p><code>Enhances</code>
</p>
</li>
<li> <p><code>LinkingTo</code>
</p>
</li>
<li> <p><code>License</code>
</p>
</li>
<li> <p><code>File</code>
</p>
</li>
<li> <p><code>DownloadURL</code>
</p>
</li>
<li> <p><code>OS</code>
</p>
</li>
<li> <p><code>Arch</code>
</p>
</li>
<li> <p><code>Built</code>
</p>
</li>
<li> <p><code>Filesize</code>
</p>
</li>
<li> <p><code>SHA256</code>
</p>
</li>
<li> <p><code>RVersion</code>
</p>
</li>
<li> <p><code>Platform</code>
</p>
</li>
<li> <p><code>GraphicsAPIVersion</code>
</p>
</li>
<li> <p><code>InternalsId</code>
</p>
</li></ul>





<h4>Delete packages from repository metadata</h4>

<p><code>repo$delete()</code> deletes matching packages from the repository
metadata.
</p>


<h5>Description</h5>

<p>All matching packages will be removed.
It does not delete the files themselves.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>repo$delete(package, ..., path = ".")
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>package</code>: package name.
</p>
</li>
<li> <p><code>...</code>: other fields to match, they must be named. Matching is
case insensitive.
</p>
</li>
<li> <p><code>path</code>: path to repository. Must contain a <code>PACKAGES</code> file.
</p>
</li></ul>





<h4>Add a package to a repository</h4>



<h5>Description</h5>

<p>It does not check if any version of the package is already
in the repository. If you want to <em>update</em> a package, use
<code>repo$update()</code>.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>repo$add(file, ..., path = ".")
</pre></div>



<h5>Arguments</h5>


<ul>
<li><p> 'file Package file.
</p>
</li>
<li><p> '... Ignored currently.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;path Path to repository. Must contain a &#8288;</code>PACKAGES' file.
</p>
</li></ul>





<h4>Update a package in a repository</h4>



<h5>Description</h5>

<p>Previous version of the same package are removed. In particular,
it removes packages with matching:
</p>

<ul>
<li><p> package name (<code>Package</code> field),
</p>
</li>
<li><p> R version (<code>Rversion</code> field),
</p>
</li>
<li><p> same OS (<code>OS</code> field), or no <code>OS</code> field,
</p>
</li>
<li><p> same architecture (<code>Arch</code> field), or not <code>Arch</code> field.
</p>
</li></ul>




<h5>Usage</h5>

<div class="sourceCode"><pre>repo$update(file, ..., path = ".")
</pre></div>



<h5>Arguments</h5>


<ul>
<li><p> 'file Package file.
</p>
</li>
<li><p> '... Ignored currently.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;path Path to repository. Must contain a &#8288;</code>PACKAGES' file.
</p>
</li></ul>





<h4>Update a file in a package metadata, stored on GitHub</h4>



<h5>Description</h5>


<ol>
<li><p> Clones the GitHub repository.
</p>
</li>
<li><p> Calls <code>repo_update()</code> with <code>file</code>, in the <code>subdir</code> directory.
</p>
</li>
<li><p> Adds and commits changes.
</p>
</li>
<li><p> Pushes the git repository to GitHub.
If the push fails, then it resets the git repository, pulls it from
GitHub and tries the update process again, until the push succeeds.
</p>
</li></ol>

<p>This function needs command line git installed.
</p>
<p>It sets up a <code>cache</code> credential helper, so the <code style="white-space: pre;">&#8288;git push&#8288;</code> works
without interaction with the user.
</p>



<h5>Usage</h5>

<div class="sourceCode"><pre>repo$update_gh(repo, subdir, files)
</pre></div>



<h5>Arguments</h5>


<ul>
<li> <p><code>repo</code>: GitHub slug, e.g. <code>r-hub/repos</code>.
</p>
</li>
<li> <p><code>subdir</code>: subdirectory in the GitHub repository, where the R package
metadata should be updated. It must exist in the repository.
If it does not have <code style="white-space: pre;">&#8288;PACKAGES*&#8288;</code> files, then they will be created.
</p>
</li>
<li> <p><code>files</code>: package files to add. The files will <em>not</em> be added to the
repository, only to the metadata. They should be in the repository
already.
</p>
</li></ul>




<hr>
<h2 id='sysreqs_check_installed'>Check if installed packages have all their system requirements</h2><span id='topic+sysreqs_check_installed'></span><span id='topic+sysreqs_fix_installed'></span>

<h3>Description</h3>

<p><code>sysreqs_check_installed()</code> checks if the system requirements of all
packages (or a subset of packages) are installed.
</p>
<p><code>sysreqs_fix_installed()</code> installs the missing system packages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_check_installed(packages = NULL, library = .libPaths()[1])
sysreqs_fix_installed(packages = NULL, library = .libPaths()[1])
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sysreqs_check_installed_+3A_packages">packages</code></td>
<td>
<p>If not <code>NULL</code>, then only these packages are checked.
If a package in <code>packages</code> is not installed, then
pkgdepends throws a warning.</p>
</td></tr>
<tr><td><code id="sysreqs_check_installed_+3A_library">library</code></td>
<td>
<p>Library or libraries to check.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions use the <code>sysreqs_platform</code> configuration option,
see <code>man_config_link("Configuration")</code>. Set this if
pkgdepends does not detect your platform correctly.
</p>


<h3>Value</h3>

<p>Data frame with a custom print and format method, and a
<code>pkg_sysreqs_check_result</code> class. Its columns are:
</p>

<ul>
<li> <p><code>system_package</code>: string, name of the required system package.
</p>
</li>
<li> <p><code>installed</code>: logical, whether the system package is correctly
installed.
</p>
</li>
<li> <p><code>packages</code>: list column of character vectors. The names of the
installed R packages that need this system package.
</p>
</li>
<li> <p><code>pre_install</code>: list column of character vectors. Commands to run
before the installation of the the system package.
</p>
</li>
<li> <p><code>post_install</code>: list column of character vectors. Commands to run
after the installation of the system package.
</p>
</li></ul>

<p>The data frame also have two attributes with additional data:
</p>

<ul>
<li> <p><code>sysreqs_records</code>: the raw system requirements records, and
</p>
</li>
<li> <p><code>system_packages</code>: the list of the installed system packages.
</p>
</li></ul>

<p><code>sysreqs_fix_packages()</code> returns the same value, but invisibly.
</p>


<h3>See Also</h3>

<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# This only works on supported platforms
sysreqs_check_installed()

</code></pre>

<hr>
<h2 id='sysreqs_db_list'>List contents of the system requirements DB, for a platform</h2><span id='topic+sysreqs_db_list'></span>

<h3>Description</h3>

<p>It also tries to update the system dependency database, if it is
outdated. (I.e. older than allowed in the <code>metadata_update_after</code>
<code>man_config_link("configuration option")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_db_list(sysreqs_platform = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sysreqs_db_list_+3A_sysreqs_platform">sysreqs_platform</code></td>
<td>
<p>System requirements platform. If <code>NULL</code>, then the
<code>sysreqs_platform</code> <code>man_config_link("configuration option")</code>
is used, which defaults to the current platform. Set this option if
<code>.packageName</code> does not detect your platform correctly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>name</code>: cross platform system dependency name in the database.
</p>
</li>
<li> <p><code>patterns</code>: one or more regular expressions to match to
<code>SystemRequirements</code> fields.
</p>
</li>
<li> <p><code>packages</code>: one or more system package names to install.
</p>
</li>
<li> <p><code>pre_install</code>: command(s) to run before installing the packages.
</p>
</li>
<li> <p><code>post_install</code>:: command(s) to run after installing the packages.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sysreqs_db_list(sysreqs_platform = "ubuntu-22.04")

</code></pre>

<hr>
<h2 id='sysreqs_db_match'>Match system requirement descriptions to the database</h2><span id='topic+sysreqs_db_match'></span>

<h3>Description</h3>

<p>In the usual workflow pkgdepends matches the
<code>SystemRequirements</code> fields of the <code>DESCRIPTION</code> files to the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_db_match(specs, sysreqs_platform = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sysreqs_db_match_+3A_specs">specs</code></td>
<td>
<p>Character vector of system requirements descriptions.</p>
</td></tr>
<tr><td><code id="sysreqs_db_match_+3A_sysreqs_platform">sysreqs_platform</code></td>
<td>
<p>System requirements platform. If <code>NULL</code>, then the
<code>sysreqs_platform</code> <code>man_config_link("configuration option")</code>
is used, which defaults to the current platform. Set this option if
<code>.packageName</code> does not detect your platform correctly.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>sysreqs_db_match()</code> function lets you match any string, and it is
mainly useful for debugging.
</p>


<h3>Value</h3>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>spec</code>: the input <code>specs</code>.
</p>
</li>
<li> <p><code>sysreq</code>:  name of the system library or tool.
</p>
</li>
<li> <p><code>packages</code>: system packages, list column of character vectors.
Rarely it can be an empty string, e.g. if a <code>pre_install</code> script
performs the installation.
</p>
</li>
<li> <p><code>pre_install</code>: list column of character vectors. Shell script(s) to
run before the installation.
</p>
</li>
<li> <p><code>post_install</code>: list column of character vectors. Shell script(s) to
run after the installation.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sysreqs_db_match(
  c("Needs libcurl", "Java, libssl"),
  sysreqs_platform = "ubuntu-22.04"
)

</code></pre>

<hr>
<h2 id='sysreqs_db_update'>Update the cached copy of the system requirements database</h2><span id='topic+sysreqs_db_update'></span>

<h3>Description</h3>

<p>Update the cached copy of the system requirements database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_db_update()
</code></pre>


<h3>Details</h3>

<p>If the the cached copy is recent, then no update is attempted. See the
<code>metadata_update_after</code> <code>man_config_link("configuration option")</code>.
</p>


<h3>See Also</h3>

<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>

<hr>
<h2 id='sysreqs_install_plan'>Create an installation plan for system requirements</h2><span id='topic+sysreqs_install_plan'></span>

<h3>Description</h3>

<p>This function uses <code><a href="#topic+new_pkg_installation_proposal">new_pkg_installation_proposal()</a></code> and its methods
to create an installation plan for one or more packages, and then print
their system requirements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_install_plan(refs, upgrade = TRUE, config = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sysreqs_install_plan_+3A_refs">refs</code></td>
<td>
<p>Packages to install.</p>
</td></tr>
<tr><td><code id="sysreqs_install_plan_+3A_upgrade">upgrade</code></td>
<td>
<p>If <code>TRUE</code>, pkgdepends will choose the latest available
versions of packages, instead of preferring binary packages over
source packages.</p>
</td></tr>
<tr><td><code id="sysreqs_install_plan_+3A_config">config</code></td>
<td>
<p>Configuration options. See
<a href="#topic+pkgdepends-config">'Configuration'</a>. If it does not include
<code>library</code>, then a temporary library is used, which is equivalent to
not assuming any preinstalled packages. Pass <code>sysreqs_platform</code> here
if you want a different platform than the one R is running on.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with entries:
</p>

<ul>
<li> <p><code>os</code>: character string. Operating system.
</p>
</li>
<li> <p><code>distribution</code>: character string. Linux distribution, <code>NA</code> if the
OS is not Linux.
</p>
</li>
<li> <p><code>version</code>: character string. Distribution version, <code>NA</code> is the OS
is not Linux.
</p>
</li>
<li> <p><code>pre_install</code>: character vector. Commands to run before the
installation of system packages.
</p>
</li>
<li> <p><code>install_scripts</code>: character vector. Commands to run to install the
system packages.
</p>
</li>
<li> <p><code>post_install</code>: character vector. Commands to run after the
installation of system packages.
</p>
</li>
<li> <p><code>packages</code>: data frame. Information about the system packages that
are needed. It has columns:
</p>

<ul>
<li> <p><code>sysreq</code>: string, cross-platform name of the system requirement.
</p>
</li>
<li> <p><code>packages</code>: list column of character vectors. The names of the R
packages that have this system requirement.
</p>
</li>
<li> <p><code>pre_install</code>: list column of character vectors. Commands run
before the package installation for this system requirement.
</p>
</li>
<li> <p><code>system_packages</code>: list column of character vectors. Names of
system packages to install.
</p>
</li>
<li> <p><code>post_install</code>: list column of character vectors. Commands run
after the package installation for this system requirement.
</p>
</li></ul>

</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+new_pkg_installation_proposal">new_pkg_installation_proposal()</a></code> to actually install
packages, and potentially system requirements.
</p>
<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sysreqs_install_plan(
  "tidyverse",
  config = list(sysreqs_platform = "ubuntu-22.04")
)

</code></pre>

<hr>
<h2 id='sysreqs_is_supported'>Check if a platform has system requirements support</h2><span id='topic+sysreqs_is_supported'></span>

<h3>Description</h3>

<p>Check if a platform has system requirements support
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_is_supported(sysreqs_platform = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sysreqs_is_supported_+3A_sysreqs_platform">sysreqs_platform</code></td>
<td>
<p>System requirements platform. If <code>NULL</code>, then the
<code>sysreqs_platform</code> <code>man_config_link("configuration option")</code>
is used, which defaults to the current platform. Set this option if
<code>.packageName</code> does not detect your platform correctly.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical scalar.
</p>


<h3>See Also</h3>

<p>The <code>sysreqs_platform</code>
<code>man_config_link("configuration option")</code>.
</p>
<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sysreqs_is_supported()

</code></pre>

<hr>
<h2 id='sysreqs_list_system_packages'>List installed system packages</h2><span id='topic+sysreqs_list_system_packages'></span>

<h3>Description</h3>

<p>List installed system packages
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_list_system_packages()
</code></pre>


<h3>Details</h3>

<p>This function uses the <code>sysreqs_platform</code> configuration option,
see <code>man_config_link("Configuration")</code>. Set this if
pkgdepends does not detect your platform correctly.
</p>


<h3>Value</h3>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>status</code>. two or three characters, the notation of <code>dpkg</code> on Debian
based systems. <code>"ii"</code> means the package is correctly installed.
On <code>RPM</code> based systems it is always <code>"ii"</code> currently.
</p>
</li>
<li> <p><code>package</code>: name of the system package.
</p>
</li>
<li> <p><code>version</code>: installed version of the system package.
</p>
</li>
<li> <p><code>capabilities</code>: list column of character vectors, the capabilities
provided by the package.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_platforms">sysreqs_platforms</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sysreqs_list_system_packages()[1:10,]

</code></pre>

<hr>
<h2 id='sysreqs_platforms'>List platforms with system requirements support</h2><span id='topic+sysreqs_platforms'></span>

<h3>Description</h3>

<p>List platforms with system requirements support
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sysreqs_platforms()
</code></pre>


<h3>Value</h3>

<p>Data frame with columns:
</p>

<ul>
<li> <p><code>name</code>: human readable OS name.
</p>
</li>
<li> <p><code>os</code>: OS name, e.g. <code>linux</code>.
</p>
</li>
<li> <p><code>distribution</code>: OS id, e.g. <code>ubuntu</code> or <code>redhat</code>.
</p>
</li>
<li> <p><code>version</code>: distribution version. A star means that all versions are
supported, that are also supported by the vendor.
</p>
</li>
<li> <p><code>update_command</code>: command to run to update the system package metadata.
</p>
</li>
<li> <p><code>install_command</code>: command to run to install packages.
</p>
</li>
<li> <p><code>query_command</code>: name of the tool to use to query system package
information.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other system requirements functions: 
<code><a href="#topic+sysreqs_check_installed">sysreqs_check_installed</a>()</code>,
<code><a href="#topic+sysreqs_db_list">sysreqs_db_list</a>()</code>,
<code><a href="#topic+sysreqs_db_match">sysreqs_db_match</a>()</code>,
<code><a href="#topic+sysreqs_db_update">sysreqs_db_update</a>()</code>,
<code><a href="#topic+sysreqs_install_plan">sysreqs_install_plan</a>()</code>,
<code><a href="#topic+sysreqs_is_supported">sysreqs_is_supported</a>()</code>,
<code><a href="#topic+sysreqs_list_system_packages">sysreqs_list_system_packages</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
sysreqs_platforms()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

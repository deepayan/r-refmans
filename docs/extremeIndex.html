<!DOCTYPE html><html><head><title>Help for package extremeIndex</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {extremeIndex}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#choosethres'><p>Function for heuristically choosing the domain where extreme value theory can be applied</p></a></li>
<li><a href='#crps'><p>Observations of 6-h rainfall amount with CRPS values of 3 calibrated ensemble forecasts for one lead time across France.</p></a></li>
<li><a href='#index.plot'><p>Function which plots the index for differents forecasts sharing the same observations</p></a></li>
<li><a href='#indexclim'><p>Function which computes the index for the climatological CRPS/MAE. You must provide the observations. If you computes climatological CRPS/MAE previously, you can add the corresponding vector</p></a></li>
<li><a href='#indexfore'><p>Function for computing the index for a forecast system vs. climatological forecast. You must provide an indexclim object.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Forecast Verification for Extreme Events</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>An index measuring the amount of information brought by forecasts for extreme events, subject to calibration, is computed. This index is originally designed for weather or climate forecasts, but it may be used in other forecasting contexts. This is the implementation of the index in Taillardat et al. (2019) &lt;<a href="https://arxiv.org/abs/1905.04022">arXiv:1905.04022</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.3)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Maxime Taillardat &lt;maxime.taillardat@meteo.fr&gt;</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>Imports:</td>
<td>boot, evd, gmm, evir</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-24 15:06:05 UTC; taillardatm</td>
</tr>
<tr>
<td>Author:</td>
<td>Maxime Taillardat [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-24 15:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='choosethres'>Function for heuristically choosing the domain where extreme value theory can be applied</h2><span id='topic+choosethres'></span>

<h3>Description</h3>

<p>Function for heuristically choosing the domain where extreme value theory can be applied
</p>


<h3>Usage</h3>

<pre><code class='language-R'>choosethres(data, thresh, guess = c(1, 0.1), plots = 1:3, R = 200, ncpus = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choosethres_+3A_data">data</code></td>
<td>
<p>a numeric vector containing the observation used for verification</p>
</td></tr>
<tr><td><code id="choosethres_+3A_thresh">thresh</code></td>
<td>
<p>vector of thresholds to try</p>
</td></tr>
<tr><td><code id="choosethres_+3A_guess">guess</code></td>
<td>
<p>starting values for GPD's sigma and xi (0&lt;xi&lt;1)</p>
</td></tr>
<tr><td><code id="choosethres_+3A_plots">plots</code></td>
<td>
<p>which parameter plots do you want</p>
</td></tr>
<tr><td><code id="choosethres_+3A_r">R</code></td>
<td>
<p>number of bootstrap estimates for confidence intervals</p>
</td></tr>
<tr><td><code id="choosethres_+3A_ncpus">ncpus</code></td>
<td>
<p>if you want to make bootstrap on several cores</p>
</td></tr>
</table>


<h3>Value</h3>

<p>three plots summarizing the stability of the parameters to threshold. The starting threshold admits kappa=1 and its confidence interval ;
according Papastathopoulos &amp; Tawn (2013)
</p>
<p>a list with thresholds used, GP parameters and CIs, optimal threshold and xi.
</p>

<hr>
<h2 id='crps'>Observations of 6-h rainfall amount with CRPS values of 3 calibrated ensemble forecasts for one lead time across France.</h2><span id='topic+crps'></span>

<h3>Description</h3>

<p>Observations of 6-h rainfall amount with CRPS values of 3 calibrated ensemble forecasts for one lead time across France.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>crps
</code></pre>


<h3>Format</h3>

<p>A matrix with 112221 rows and 4 variables:
</p>

<dl>
<dt>obs_rr6</dt><dd><p>observations, in mm/6h</p>
</dd>
<dt>crps_forecastX</dt><dd><p>CRPS values of the forecaster X, in mm/6h</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p>Maxime Taillardat
</p>

<hr>
<h2 id='index.plot'>Function which plots the index for differents forecasts sharing the same observations</h2><span id='topic+index.plot'></span>

<h3>Description</h3>

<p>Function which plots the index for differents forecasts sharing the same observations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>index.plot(forecasts, col = NULL, leg = NULL, xtypq = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="index.plot_+3A_forecasts">forecasts</code></td>
<td>
<p>list of &quot;indexfore&quot; objects, all forecasts must be computed on the same climatology and thresholds</p>
</td></tr>
<tr><td><code id="index.plot_+3A_col">col</code></td>
<td>
<p>colors of the differents forecasts for the plot</p>
</td></tr>
<tr><td><code id="index.plot_+3A_leg">leg</code></td>
<td>
<p>legend of the plot</p>
</td></tr>
<tr><td><code id="index.plot_+3A_xtypq">xtypq</code></td>
<td>
<p>the x-axis of the plot is quantiles values or orders (TRUE for quantiles)</p>
</td></tr>
<tr><td><code id="index.plot_+3A_...">...</code></td>
<td>
<p>other arguments for the plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a plot of the indices and a matrix containing the indexes for each threshold/order
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("crps")
y=crps[1:500,1]
cli=indexclim(y,thresh=seq(3,quantile(y,probs=0.995),length=2),xi=0.2)
frcst=crps[1:500,2]
idf=indexfore(frcst,cli)
frcst=crps[1:500,3]
idf2=indexfore(frcst,cli)
fore=list(idf,idf2)
idxp2=index.plot(fore,col=c("red","blue"),leg=c("forecast 1",
"forecast 2"),main="Index plot")
</code></pre>

<hr>
<h2 id='indexclim'>Function which computes the index for the climatological CRPS/MAE. You must provide the observations. If you computes climatological CRPS/MAE previously, you can add the corresponding vector</h2><span id='topic+indexclim'></span>

<h3>Description</h3>

<p>Function which computes the index for the climatological CRPS/MAE. You must provide the observations. If you computes climatological CRPS/MAE previously, you can add the corresponding vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indexclim(
  y,
  thresh = NULL,
  score_clim = NULL,
  xi = NULL,
  score = "crps",
  estim_xi = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="indexclim_+3A_y">y</code></td>
<td>
<p>The observations</p>
</td></tr>
<tr><td><code id="indexclim_+3A_thresh">thresh</code></td>
<td>
<p>Vector of thresholds where you want to compute the index</p>
</td></tr>
<tr><td><code id="indexclim_+3A_score_clim">score_clim</code></td>
<td>
<p>If not NULL, must be the time serie of the CRPS/MAE of the climatology. It is recommended to compute CRPS/MAE out of this function</p>
</td></tr>
<tr><td><code id="indexclim_+3A_xi">xi</code></td>
<td>
<p>Shape parameter of the GP ( xi &gt; 0)</p>
</td></tr>
<tr><td><code id="indexclim_+3A_score">score</code></td>
<td>
<p>A character string indicating if you want to work with CRPS (&quot;crps&quot;) or MAE (&quot;mae&quot;), by default &quot;crps&quot;</p>
</td></tr>
<tr><td><code id="indexclim_+3A_estim_xi">estim_xi</code></td>
<td>
<p>If you want xi estimated for each threshold (for numerical reasons for instance)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An indexclim object containing xi, y, the score time serie, the score considered, the index values, and the corresponding quantiles of the observations
</p>

<hr>
<h2 id='indexfore'>Function for computing the index for a forecast system vs. climatological forecast. You must provide an indexclim object.</h2><span id='topic+indexfore'></span>

<h3>Description</h3>

<p>Function for computing the index for a forecast system vs. climatological forecast. You must provide an indexclim object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indexfore(score_fore, clim)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="indexfore_+3A_score_fore">score_fore</code></td>
<td>
<p>the time serie of the ensemble forecast's CRPS/MAE. Be careful that score_fore is consistent with &quot;score&quot; in indexclim</p>
</td></tr>
<tr><td><code id="indexfore_+3A_clim">clim</code></td>
<td>
<p>an indexclim object coming from indexclim</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an indexfore object with the index computed vs. climatological forecast and the statistic omega2
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

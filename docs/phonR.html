<!DOCTYPE html><html><head><title>Help for package phonR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {phonR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#indoVowels'><p>Formant frequency measurements for Indonesian vowels</p></a></li>
<li><a href='#Normalize vowel formant frequencies'><p>Normalize formant frequency values using a variety of algorithms</p></a></li>
<li><a href='#Plot vowel formant frequencies'><p>Plot vowel formant data and a variety of derivative measures.</p></a></li>
<li><a href='#Repulsive force'><p>Repulsive force calculations and plots for vowel systems.</p></a></li>
<li><a href='#Vowel space area functions'><p>Calculate the area of a vowel space</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Tools for Phoneticians and Phonologists</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-7</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-08-22</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel R. McCloy</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel R. McCloy &lt;drmccloy@uw.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>splancs, deldir, plotrix, stats, grDevices, graphics</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools for phoneticians and phonologists, including functions for normalization and plotting of vowels.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://drammock.github.io/phonR/">http://drammock.github.io/phonR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/drammock/phonR/issues">https://github.com/drammock/phonR/issues</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-08-25 18:26:41 UTC; drmccloy</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-08-25 22:37:29</td>
</tr>
</table>
<hr>
<h2 id='indoVowels'>Formant frequency measurements for Indonesian vowels</h2><span id='topic+indo'></span>

<h3>Description</h3>

<p>This data set gives F1 and F2 values for five vowels of Standard 
Indonesian, as spoken by eight speakers (4 male, 4 female), 
measured from wordlist recordings.</p>


<h3>Usage</h3>

<pre><code class='language-R'>indo</code></pre>


<h3>Format</h3>

<p>A data frame of 1725 rows, with columns <code>subj</code>, <code>gender</code>, <code>vowel</code>, <code>f1</code>, and <code>f2</code>.</p>


<h3>Source</h3>

<p>McCloy, D. R. 2014 &ldquo;Phonetic effects of morphological structure in Indonesian vowel reduction&rdquo;. <em>Proceedings of Meetings on Acoustics</em> 12, 060009. <a href="http://dx.doi.org/10.1121/1.4870068">http://dx.doi.org/10.1121/1.4870068</a>
</p>

<hr>
<h2 id='Normalize+20vowel+20formant+20frequencies'>Normalize formant frequency values using a variety of algorithms</h2><span id='topic+normVowels'></span><span id='topic+normBark'></span><span id='topic+normErb'></span><span id='topic+normLobanov'></span><span id='topic+normLog'></span><span id='topic+normLogmean'></span><span id='topic+normMel'></span><span id='topic+normNearey1'></span><span id='topic+normNearey2'></span><span id='topic+normSharedLogmean'></span><span id='topic+normWattFabricius'></span>

<h3>Description</h3>

<p>Functions for transforming vowel formant frequency data measured in
Hertz, using one of several normalization schemes commonly used in
phonetic and sociolinguistic research. <code>normVowels</code> is a
convenience function wrapping to the individual <code>norm[Method]</code>
functions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>    normBark(f)
    normErb(f)
    normLog(f)
    normMel(f)
    normLobanov(f, group=NULL)
    normLogmean(f, group=NULL, exp=FALSE, ...)
    normNearey1(f, group=NULL, exp=FALSE, ...)
    normNearey2(f, group=NULL, exp=FALSE, ...)
    normSharedLogmean(f, group=NULL, exp=FALSE, ...)
    normWattFabricius(f, vowel, group=NULL)
    normVowels(method, f0=NULL, f1=NULL, f2=NULL, f3=NULL,
               vowel=NULL, group=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_f">f</code></td>
<td>
<p>Vector or matrix of formant frequencies. For <code>normNearey</code>,
<code>f</code> must be an N-by-4 matrix of frequencies, with column order
&ldquo;f0&rdquo;, &ldquo;F1&rdquo;, &ldquo;F2&rdquo;, &ldquo;F3&rdquo;. For
<code>normWattFabricius</code>, <code>f</code> must be an N-by-2 matrix or data
frame of F1 and F2 values. If passing a matrix to
<code>normLogmean</code>, formants must be grouped within columns, not
rows.</p>
</td></tr>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_vowel">vowel</code></td>
<td>
<p>Vector or factor of vowel symbols, with
<code>length(vowel)==nrow(f)</code>. Used only in
<code>normVowels(method="wattfabricius", ...)</code> or
<code>normWattFabricius(...)</code>.</p>
</td></tr>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_group">group</code></td>
<td>
<p>Vector or factor indicating rows of <code>f</code> that should be
normalized together. This is useful for, e.g., calculating
talker-intrinsic normalizations when <code>group</code> encodes
talker identity.</p>
</td></tr>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_exp">exp</code></td>
<td>
<p>Logical; should the result of the logmeans calculation be passed
through the <code><a href="base.html#topic+exp">exp</a></code> function before being returned?</p>
</td></tr>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_f0">f0</code>, <code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_f1">f1</code>, <code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_f2">f2</code>, <code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_f3">f3</code></td>
<td>
<p>Separate vectors of formant or
fundamental frequency values used in the convenience method
<code>plotVowels</code>. <code>f1</code> and <code>f2</code> are required when
<code>method</code> is <code>"wattfabricius"</code>, <code>"logmean"</code>,
<code>"shared"</code>, <code>"nearey1"</code>, or <code>"nearey2"</code>.</p>
</td></tr>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_method">method</code></td>
<td>
<p>Specification of the normalization method to use when calling
the convenience method <code>normVowels</code>. Possible values are
&ldquo;bark&rdquo;, &ldquo;erb&rdquo;, &ldquo;lobanov&rdquo;,
&ldquo;log&rdquo;, &ldquo;logmean&rdquo;, &ldquo;mel&rdquo;,
&ldquo;shared&rdquo;, and &ldquo;wattfabricius&rdquo;.
&ldquo;zscore&rdquo; is an accepted synonym for &ldquo;lobanov&rdquo;;
&ldquo;nearey1&rdquo; is an accepted synonym for &ldquo;logmean&rdquo;;
&ldquo;nearey2&rdquo; is an accepted synonym for &ldquo;shared&rdquo;;
and &ldquo;scentroid&rdquo;, is an accepted synonym for
&ldquo;wattfabricius&rdquo;.</p>
</td></tr>
<tr><td><code id="Normalize+2B20vowel+2B20formant+2B20frequencies_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="base.html#topic+colMeans">colMeans</a></code> by
functions <code>normLogmean</code> and <code>normSharedLogmean</code> (useful for
specifying the value of <code>na.rm</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>normLogmean</code> is a synonym for <code>normNearey1</code>, which is also sometimes
confusingly called &ldquo;single logmean&rdquo;. <code>normSharedLogmean</code> is a
synonym for <code>normNearey2</code>. The argument <code>exp=TRUE</code> for these functions
will yield values that are consistent with the <code><a href="vowels.html#topic+norm.nearey">norm.nearey</a></code>
implementation, which takes the result of Nearey's original formulae and uses
it as the exponent of the base of the natural logarithm (presumably so that
the function always yields positive values).
</p>
<p>Note that <code>normErb</code> returns the &ldquo;ERB-rate scale&rdquo; value (i.e.,
the number of ERBs below the given frequency), not the ERB of the auditory
filter centered at the given frequency.
</p>
<p>The implementation of the Watt-Fabricius method varies slightly from the
formula in Watt &amp; Fabricius (2002), since <code>normWattFabricius</code> simply
calculates which vowel has the highest mean F1 value and designates it as
the low corner of the triangle, rather than asking the user to expressly
specify the &ldquo;TRAP&rdquo; or &ldquo;START&rdquo; vowel. Similarly,
<code>normWattFabricius</code> simply calculates which vowel has the highest mean
F2 value and uses that to calculate the upper left corner, rather than
expressly looking for the mean of the &ldquo;point-vowel&rdquo; /i/. The upper
right corner is, as in the original method, derived from the other two. If
the vowels with the highest mean F1 and highest mean F2 are not the same
pair of vowels for all members of <code>group</code>, <code>normWattFabricius</code>
returns an error.
</p>


<h3>Value</h3>

<p>Most of the functions return a vector or matrix of the same dimensions as
were passed in. The exceptions are <code>normVowels</code>, which returns an
n-by-m matrix of n data points by m formants with formants in ascending
order with fundamental frequency first (if present), and
<code>normWattFabricius</code> (or <code>normVowels</code> with
<code>method=wattfabricius</code>), which only and always returns F1 and F2,
regardless of whether f0 and F3 were supplied. </p>


<h3>Author(s)</h3>

<p>McCloy, Daniel <a href="mailto:drmccloy@uw.edu">drmccloy@uw.edu</a></p>


<h3>References</h3>

<p>Glasberg, B. R., &amp; Moore, B. C. J. 1990 &ldquo;Derivation of auditory filter shapes from notched-noise data.&rdquo; <em>Hearing Research</em>, 47(1-2), 103-138. <a href="http://dx.doi.org/10.1016/0378-5955(90)90170-T">http://dx.doi.org/10.1016/0378-5955(90)90170-T</a>
</p>
<p>Lobanov, B. M. 1971 &ldquo;Classification of Russian vowels spoken by different speakers.&rdquo; <em>The Journal of the Acoustical Society of America</em>, 49(2), 606-608. <a href="http://dx.doi.org/10.1121/1.1912396">http://dx.doi.org/10.1121/1.1912396</a>
</p>
<p>McCloy, D. R. 2012 &ldquo;Normalizing and plotting vowels with the phonR package.&rdquo; <em>Technical Reports of the UW Linguistic Phonetics Laboratory</em>. <a href="http://dan.mccloy.info/pubs/McCloy2012_phonR.pdf">http://dan.mccloy.info/pubs/McCloy2012_phonR.pdf</a>
</p>
<p>Nearey, T. M. 1978 &ldquo;Phonetic feature systems for vowels&rdquo; (Doctoral dissertation, University of Alberta). Reprinted by the Indiana University Linguistics Club. <a href="http://www.ualberta.ca/~tnearey/Nearey1978_compressed.pdf">http://www.ualberta.ca/~tnearey/Nearey1978_compressed.pdf</a>
</p>
<p>Stevens, S. S., &amp; Volkmann, J. 1940 &ldquo;The relation of pitch to frequency: A revised scale.&rdquo; <em>The American Journal of Psychology</em>, 53(3), pp. 329-353.
</p>
<p>Traunmuller, H. 1990 &ldquo;Analytical expressions for the tonotopic sensory scale.&rdquo; <em>The Journal of the Acoustical Society of America</em>, 88(1), 97-100. <a href="http://dx.doi.org/10.1121/1.399849">http://dx.doi.org/10.1121/1.399849</a>
</p>
<p>Watt, D., &amp; Fabricius, A. H. 2002 &ldquo;Evaluation of a technique for improving the mapping of multiple speakers' vowel spaces in the F1 ~ F2 plane.&rdquo; <em>Leeds Working Papers in Linguistics and Phonetics</em>, 9, 159-173.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>    data(indoVowels)
    bark &lt;- with(indo, normBark(cbind(f1, f2)))
    erbn &lt;- with(indo, normErb(cbind(f1, f2)))
    mel &lt;- with(indo, normMel(cbind(f1, f2)))
    lobanov &lt;- with(indo, normLobanov(cbind(f1, f2), group=subj))
    lognormed &lt;- with(indo, normLog(cbind(f1, f2)))
    # using the convenience wrapper:
    bark &lt;- with(indo, normVowels('bark', f1=f1, f2=f2))
    wattfab &lt;- with(indo, normVowels('wattfabricius', f1=f1, f2=f2,
                    vowel=vowel, group=subj))
</code></pre>

<hr>
<h2 id='Plot+20vowel+20formant+20frequencies'>Plot vowel formant data and a variety of derivative measures.</h2><span id='topic+plotVowels'></span>

<h3>Description</h3>

<p>Generates high-quality plots of provided formant values using
either the default onscreen device (X11, Quartz, or Win32) or
direct-to-file using built-in R file output methods (PDF, SVG, JPG,
PNG, TIFF, or BMP).</p>


<h3>Usage</h3>

<pre><code class='language-R'>    plotVowels(f1, f2, vowel=NULL, group=NULL,
               plot.tokens=TRUE, pch.tokens=NULL,
               cex.tokens=NULL, alpha.tokens=NULL,
               plot.means=FALSE, pch.means=NULL,
               cex.means=NULL, alpha.means=NULL,
               hull.line=FALSE, hull.fill=FALSE,
               hull.args=NULL, poly.line=FALSE,
               poly.fill=FALSE, poly.args=NULL,
               poly.order=NA, ellipse.line=FALSE,
               ellipse.fill=FALSE, ellipse.conf=0.6827,
               ellipse.args=NULL, diph.arrows=FALSE,
               diph.args.tokens=NULL, diph.args.means=NULL,
               diph.label.first.only=TRUE,
               diph.mean.timept=1, diph.smooth=FALSE,
               heatmap=FALSE, heatmap.args=NULL,
               heatmap.legend=FALSE, heatmap.legend.args=NULL,
               var.col.by=NULL, var.sty.by=NULL,
               fill.opacity=0.3, label.las=NULL,
               legend.kwd=NULL, legend.args=NULL,
               pretty=FALSE, output='screen', ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_f1">f1</code>, <code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_f2">f2</code></td>
<td>
<p>Vector or matrix of formant frequency values. To plot multiple
timepoints for each vowel, <code>f1</code> and <code>f2</code> should be
matrices with vowel tokens varying along the rows and
timepoints varying across the columns.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_vowel">vowel</code></td>
<td>
<p>Vector of vowel symbols/labels.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_group">group</code></td>
<td>
<p>Vector or factor that determines the groups used in calculating
vowel means, e.g., a factor indicating &ldquo;gender&rdquo;,
&ldquo;speaker&rdquo;, &ldquo;sociolinguistic register&rdquo;, etc.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_plot.tokens">plot.tokens</code></td>
<td>
<p>Logical; should individual vowel tokens be plotted?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_pch.tokens">pch.tokens</code></td>
<td>
<p>Vector of strings or integers; the symbol(s) to use when
plotting vowel tokens. Integers are interpreted as
standard R <code>pch</code> values (see
<code><a href="graphics.html#topic+points">points</a></code>).</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_cex.tokens">cex.tokens</code></td>
<td>
<p>Numeric; size of individual vowel points relative to
<code>par("cex")</code>.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_alpha.tokens">alpha.tokens</code></td>
<td>
<p>Numeric in range [0,1], indicating opacity of plotted
vowel tokens.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_plot.means">plot.means</code></td>
<td>
<p>Logical; should individual vowel tokens be plotted?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_pch.means">pch.means</code></td>
<td>
<p>Vector of strings or integers; the symbol(s) to use when
plotting vowel means. Integers are interpreted as standard
R <code>pch</code> values (see <code><a href="graphics.html#topic+points">points</a></code>).</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_cex.means">cex.means</code></td>
<td>
<p>Size of vowel means relative to <code>par("cex")</code>.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_alpha.means">alpha.means</code></td>
<td>
<p>Numeric in range [0,1], indicating opacity of plotted
vowel means.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_hull.line">hull.line</code></td>
<td>
<p>Logical; should a line be drawn tracing the convex hull
encompassing all tokens (separately for each level of
<code>group</code>)?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_hull.fill">hull.fill</code></td>
<td>
<p>Logical; should the convex hull(s) have a color fill?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_hull.args">hull.args</code>, <code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_poly.args">poly.args</code>, <code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_ellipse.args">ellipse.args</code></td>
<td>
<p>Named list of arguments to be passed
to <code><a href="graphics.html#topic+polygon">polygon</a></code>.
Useful for controlling line width,
etc. See &ldquo;Details&rdquo; for notes
about color handling.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_poly.line">poly.line</code></td>
<td>
<p>Logical; should a line be drawn tracing the polygon
connecting the mean values for each vowel (separately for
each level of <code>group</code>)?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_poly.fill">poly.fill</code></td>
<td>
<p>Logical; should the polygon(s) connecting mean values for
each vowel have a color fill?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_poly.order">poly.order</code></td>
<td>
<p>Vector or factor indicating the order in which the polygon
vertices should be connected. Should match the levels of
<code>factor(vowel)</code>. If there are values of <code>vowel</code>
not included in <code>poly.order</code>, they will not be
connected to the polygon line.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_ellipse.line">ellipse.line</code></td>
<td>
<p>Logical; should vowel density ellipses be drawn with an
outer line?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_ellipse.fill">ellipse.fill</code></td>
<td>
<p>Logical; should vowel density ellipses be filled?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_ellipse.conf">ellipse.conf</code></td>
<td>
<p>Numeric in range (0,1]; the size of the ellipse
expressed as a confidence level of the estimate of the
true mean (i.e., 0.95 gives a 95% confidence ellipse).
The default value (0.6827) corresponds to plus-or-minus
one sample standard deviation along the major and minor
axes of the bivariate normal density contour.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_diph.arrows">diph.arrows</code></td>
<td>
<p>Logical; should the last timepoint of each vowel be
marked with an arrowhead?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_diph.args.tokens">diph.args.tokens</code>, <code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_diph.args.means">diph.args.means</code></td>
<td>
<p>List of named arguments to be passed
to <code><a href="graphics.html#topic+points">points</a></code> and/or <code><a href="graphics.html#topic+arrows">arrows</a></code>
when plotting tokens or means (ignored if <code>f1</code> and <code>f2</code> are
1-dimensional). Default is to plot bare lines (<code>type="l"</code>) when
<code>pch.tokens</code> is <code>NULL</code>, to draw points and lines overplotted
(<code>type="o"</code>) when <code>diph.arrows=FALSE</code>, and to plot bare
lines with the first timepoint of each diphthong plotted when
<code>diph.arrows=TRUE</code>. When <code>pretty=TRUE</code> and
<code>diph.arrows=TRUE</code>, additional default settings are
<code>length=0.1</code> and <code>angle=20</code>. For <code>diph.args.means</code>,
<code>lwd</code> defaults to <code>2 * par("lwd")</code> when <code>pretty=TRUE</code>.
All of these defaults are overridden by values passed to
<code>diph.args.tokens</code> or <code>diph.args.means</code> in the function
call.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_diph.label.first.only">diph.label.first.only</code></td>
<td>
<p>Logical; if plotting diphthongs, should a symbol
or label be drawn only at the first timepoint?
Note that if plotting means, the label or symbol
may not correspond to the <em>first</em> timepoint;
it depends on the value of <code>diph.mean.timept</code>.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_diph.mean.timept">diph.mean.timept</code></td>
<td>
<p>A strictly positive integer indicating which timepoint
of the diphthongs should be used to calculate means,
ellipses, and polygons. For example, if the <code>f1</code>
and <code>f2</code> arguments are N-by-5 matrices where the
3rd column of each represents the formant measurement
at the vowel midpoint (with the other columns providing
2 onglide and 2 offglide measurements), you can plot the
means, ellipses, and polygons based on the midpoint
measures by specifying <code>diph.mean.timept=3</code>.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_diph.smooth">diph.smooth</code></td>
<td>
<p>Logical; should a smoothing spline be drawn instead of
segments connecting individual timepoints? This feature
is under development, unstable, unsupported, and to the
extent that it is implemented, it is only implemented for
tokens, not means.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_heatmap">heatmap</code></td>
<td>
<p>Logical; should a repulsive force heatmap be drawn?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_heatmap.args">heatmap.args</code></td>
<td>
<p>Named list of additional arguments passed to
<code><a href="#topic+repulsiveForceHeatmap">repulsiveForceHeatmap</a></code>. The arguments <code>x</code>,
<code>y</code>, and <code>type</code> are passed automatically by
<code>plotVowels</code>; <code>heatmap.args</code> is probably most
useful for controlling <code>resolution</code>, <code>colormap</code>,
and the <code>xform</code> function.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_heatmap.legend">heatmap.legend</code></td>
<td>
<p>Logical; should a legend be drawn showing the color scale
used in the repulsive force heatmap?</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_heatmap.legend.args">heatmap.legend.args</code></td>
<td>
<p>Named list of additional arguments passed to
<code><a href="#topic+repulsiveForceHeatmapLegend">repulsiveForceHeatmapLegend</a></code>. Parameters
likely to be user-specified here are <code>x</code> and <code>y</code>
for specifying the endpoints of the colorbar, <code>labels</code>
for label text at the two ends of the colorbar, and
<code>smoothness</code> for the number of color steps to display
(limited by the number of levels in the color scale
used). See <code><a href="#topic+repulsiveForceHeatmapLegend">repulsiveForceHeatmapLegend</a></code> for
a more complete description of the available arguments.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_var.col.by">var.col.by</code></td>
<td>
<p>Vector or factor indicating the dimension along which to vary
color.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_var.sty.by">var.sty.by</code></td>
<td>
<p>Vector or factor indicating the dimension along which to
vary linetype and plotting symbol.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_fill.opacity">fill.opacity</code></td>
<td>
<p>Number in the range [0, 1] indicating the opacity of
color fills for ellipses, hulls, and polygons (if drawn).
Does not affect <code>force.heatmap</code> colors, which are
specified via <code>force.colmap</code>.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_legend.kwd">legend.kwd</code></td>
<td>
<p>Keyword indicating legend placement (see
<code><a href="graphics.html#topic+legend">legend</a></code>). If <code>NULL</code> (the
default), no legend will be printed.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_label.las">label.las</code></td>
<td>
<p>Controls the orientation of axis labels relative to the axis
line (independently from the axis tick numbers). Possible
values are integers 0-4 (see <code><a href="graphics.html#topic+par">par</a></code>),
or <code>NULL</code> (to use the default value of <code>par("las")</code>,
or a value passed to <code>plotVowels</code> as <code>las</code> if
available).</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_legend.args">legend.args</code></td>
<td>
<p>Named list of additional arguments to be passed to
<code><a href="graphics.html#topic+legend">legend</a></code>, for controlling things
like <code>inset</code>, <code>ncol</code>, <code>seg.len</code>, etc.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_pretty">pretty</code></td>
<td>
<p>Logical; a switch that sets various graphical parameters:
<code>mar</code>, <code>las</code>, <code>mgp</code>, <code>xpd</code>, <code>fg</code>, and
<code>tcl</code>, as well as arrow parameters like <code>length</code> and
<code>angle</code> and <code>plotVowels</code>-specific parameters such
as <code>color.palette</code>. It is permissible to set
<code>pretty=TRUE</code> and also pass any of these parameters to
<code>plotVowels</code> to override the <code>pretty</code> defaults.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_output">output</code></td>
<td>
<p>Graphical device to plot to. Supported values are
&ldquo;screen&rdquo;, &ldquo;pdf&rdquo;, &ldquo;svg&rdquo;, &ldquo;jpg&rdquo;,
&ldquo;tif&rdquo;, &ldquo;png&rdquo;, &ldquo;bmp&rdquo;.</p>
</td></tr>
<tr><td><code id="Plot+2B20vowel+2B20formant+2B20frequencies_+3A_...">...</code></td>
<td>
<p>Other graphical parameters passed to methods; e.g., <code>width</code>,
<code>height</code>, <code>units</code>, <code>asp</code>, <code>res</code>, <code>xlim</code>,
<code>xlab</code>, <code>main</code>, etc. Two arguments of <code>plot</code>:
<code>ann</code> and <code>type</code>, are always silently overridden by
<code>plotVowels</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><em>Notes on color handling</em>. If no <code>col</code> or <code>border</code>
arguments are passed to <code>hull.args</code>, <code>poly.args</code>, or
<code>ellipse.args</code>, then color is handled as follows: if
<code>pretty=FALSE</code>, colors default to the values in <code>palette()</code>,
with opacity for fills set by <code>fill.opacity</code>. If <code>pretty=TRUE</code>,
equally-spaced hues of HCL colors are used instead of <code>palette()</code>.
If the values passed to <code>var.col.by</code> and <code>vowel</code> are identical,
hull and polygon lines are drawn in black, and fills are drawn black
with appropriate <code>fill.opacity</code>.
</p>


<h3>Author(s)</h3>

<p>McCloy, Daniel <a href="mailto:drmccloy@uw.edu">drmccloy@uw.edu</a></p>


<h3>See Also</h3>

<p><code><a href="#topic+normVowels">normVowels</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(indoVowels)
with(indo, plotVowels(f1, f2, vowel, group=gender, plot.means=TRUE,
                      pch.means=vowel, ellipse.line=TRUE, poly.line=TRUE,
                      poly.order=c('i','e','a','o','u'), var.col.by=vowel,
                      var.sty.by=gender, pretty=TRUE, alpha.tokens=0.3,
                      cex.means=2))
# simulate some diphthongs
f1delta &lt;- sample(c(-10:-5, 5:15), nrow(indo), replace=TRUE)
f2delta &lt;- sample(c(-15:-10, 20:30), nrow(indo), replace=TRUE)
f1coefs &lt;- matrix(sample(c(2:5), nrow(indo) * 2, replace=TRUE), 
                  nrow=nrow(indo))
f2coefs &lt;- matrix(sample(c(3:6), nrow(indo) * 2, replace=TRUE),
                  nrow=nrow(indo))
indo &lt;- within(indo, {
    f1a &lt;- f1  + f1delta * f1coefs[,1]
    f2a &lt;- f2  + f2delta * f2coefs[,1]
    f1b &lt;- f1a + f1delta * f1coefs[,2]
    f2b &lt;- f2a + f2delta * f2coefs[,2]
    })
with(indo, plotVowels(cbind(f1, f1a, f1b), cbind(f2, f2a, f2b), vowel,
                      group=gender, plot.tokens=TRUE, pch.tokens=NA,
                      alpha.tokens=0.3, plot.means=TRUE, pch.means=vowel,
                      var.col.by=vowel, var.sty.by=gender, pretty=TRUE,
                      diph.arrows=TRUE, diph.args.tokens=list(lwd=0.8),
                      diph.args.means=list(lwd=2)))
</code></pre>

<hr>
<h2 id='Repulsive+20force'>Repulsive force calculations and plots for vowel systems.</h2><span id='topic+repulsiveForce'></span><span id='topic+repulsiveForceHeatmap'></span><span id='topic+repulsiveForceHeatmapLegend'></span>

<h3>Description</h3>

<p>For each point, calculates the sum of inverse squared distances to
all points that are not of the same type.</p>


<h3>Usage</h3>

<pre><code class='language-R'>    repulsiveForce(x, y, type, xform=log, exclude.inf=TRUE)
    repulsiveForceHeatmap(x, y, type=NULL, xform=log, 
                          exclude.inf=TRUE, resolution=10,
                          colormap=NULL, fast=FALSE, ...)
    repulsiveForceHeatmapLegend(x, y, labels=c("low", "high"),
                                pos=c(1, 3), colormap=NULL,
                                smoothness=50, lend=2, lwd=12, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Repulsive+2B20force_+3A_x">x</code>, <code id="Repulsive+2B20force_+3A_y">y</code></td>
<td>
<p>Numeric vector of x and y values (e.g., F2 and F1 frequencies), or
in the case of <code>repulsiveForceHeatmapLegend</code>, length-2 vectors
specifying the endpoints of the legend colorbar.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_type">type</code></td>
<td>
<p>Attribute of the <code>(x, y)</code> points used to interpolate values
for intermediate points. In typical linguistic usage of this
function, <code>type</code> would be the vowel identities of the F2
and F1 values passed to <code>x</code> and <code>y</code> (respectively).</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_xform">xform</code></td>
<td>
<p>A function to apply to the calculated force values before applying
the colormap. Default is to use the <code><a href="base.html#topic+log">log</a></code> function.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_exclude.inf">exclude.inf</code></td>
<td>
<p>Logical; should infinite force values be excluded? If true,
force for points with identical <code>x</code> and <code>y</code> values
but different values of <code>type</code> will be calculated as if
the distance between those points was half as long as the
smallest non-zero distance in the data (instead of 0).</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_resolution">resolution</code></td>
<td>
<p>Number of points to interpolate between each axis unit.
Higher resolution yields smoother heatmaps at the cost of
increased computational time. NOTE: in typical linguistic
usage, an appropriate <code>resolution</code> value will depend
on the type of units used to plot the formant data (e.g.,
you will need higher resolution for vowels plotted on the
Bark scale to get an equivalently smooth heatmap to one
plotted with lower resolution on a Hertz scale.)</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_colormap">colormap</code></td>
<td>
<p>Colormap to use when drawing the heatmap and legend (see
<code><a href="plotrix.html#topic+color.scale">color.scale</a></code>. Note that although the
heatmap may use semi-transparent colors, this transparency
does not usually translate well to the <code>force.legend</code>
colorbar, due to the way that
<code><a href="plotrix.html#topic+color.scale.lines">color.scale.lines</a></code> works. In short:
the legend colorbar is made of lots of little segments that
don't quite touch when plotted, leaving thin gaps in the
colorbar where the background shows through. In phonR this
has been avoided by adding a square cap to the line ends of
each segment in the colorbar, causing neighboring segments
to overlap. This overlapping is not noticeable when the
<code>force.colormap</code> uses fully opaque colors, but usually
yields a colorbar that looks opaque even when the
<code>force.colormap</code> colors are semi-transparent. For better
results, generate the <code>force.colmap</code> with pale, opaque
colors instead of intense colors that are semi-transparent.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_fast">fast</code></td>
<td>
<p>Logical; should an interpolation algorithm be used instead of the
normal repulsive force function when assigning force values to grid
points? If <code>FALSE</code>, the function assigns each grid point a vowel
identity based on its nearest neighbor and assigns a color value
based on the repulsive force that would occur for a vowel at that
location (if it had existed in the dataset). If <code>TRUE</code>, the
function performs a Delaunay triangulation of the vowel space using
the vowel points in the dataset, and then uses Juan Pineda's triangle
filling algorithm to interpolate force values for grid points inside
the triangles. This method is fast even at high resolutions, but may
appear discontinuous at the edges of adjacent triangles.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_labels">labels</code></td>
<td>
<p>Vector of strings (length 2); the labels to write at each end of
the force legend color bar. Ignored if <code>heatmap.legend</code> is
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_pos">pos</code></td>
<td>
<p>Vector of integers (length 2); position codes for the colorbar
labels. See the <code>pos</code> argument of <code><a href="graphics.html#topic+text">text</a></code>
for explanation.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_smoothness">smoothness</code></td>
<td>
<p>Number of color steps to use when drawing the legend
colorbar. Limited by the number of colors specified in
<code>colormap</code>; values larger than <code>length(colormap)</code>
will be ignored and use <code>length(colormap)</code> instead.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_lend">lend</code></td>
<td>
<p>End-cap style for the individual segments of the colorbar. See
<code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_lwd">lwd</code></td>
<td>
<p>Width of the colorbar. See <code><a href="graphics.html#topic+par">par</a></code>.</p>
</td></tr>
<tr><td><code id="Repulsive+2B20force_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="graphics.html#topic+image">image</a></code> by
<code>repulsiveForceHeatmap</code>, or passed to
<code><a href="plotrix.html#topic+color.scale.lines">color.scale.lines</a></code> by
<code>repulsiveForceHeatmapLegend</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given endpoints <code>x</code> and <code>y</code>, <code>forceHeatmapLegend</code> draws
a colorbar legend with <code>smoothness</code> number of steps using the
provided colormap (or defaults to grayscale if <code>colormap</code> is
<code>NULL</code>.</p>


<h3>Value</h3>

<p><code>repulsiveForce</code> returns the sum of the repulsive forces calculated
at each point <code>(x,y)</code>.</p>


<h3>Author(s)</h3>

<p>McCloy, Daniel <a href="mailto:drmccloy@uw.edu">drmccloy@uw.edu</a></p>


<h3>References</h3>

<p>Liljencrants, J., &amp; Lindblom, B. 1972 &ldquo;Numerical simulation of vowel quality systems: The role of perceptual contrast&rdquo;. <em>Language</em>, 48(4), 839-862. <a href="http://www.jstor.org/stable/411991">http://www.jstor.org/stable/411991</a>
</p>
<p>McCloy, D. R., Wright, R. A., &amp; Souza, P. E. 2014 &ldquo;Talker versus dialect effects on speech intelligibility: A symmetrical study&rdquo;. <em>Language and Speech</em>. <a href="http://dx.doi.org/10.1177/0023830914559234">http://dx.doi.org/10.1177/0023830914559234</a>
</p>
<p>Pineda, J. 1988 &ldquo;A parallel algorithm for polygon rasterization&rdquo;. <em>ACM SIGGRAPH Computer Graphics</em>, 22(4), 17-20. <a href="http://dx.doi.org/10.1145/378456.378457">http://dx.doi.org/10.1145/378456.378457</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plotVowels">plotVowels</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>    require(plotrix)
    data(indoVowels)
    force &lt;- with(indo[indo$subj==indo$subj[1],], 
                  repulsiveForce(f2, f1, vowel))
    colmap &lt;- color.scale(x=0:100, cs1=c(0, 180), cs2=100, 
                          cs3=c(25, 100), color.spec='hcl')
    with(indo[indo$subj==indo$subj[1],],
        repulsiveForceHeatmap(f2, f1, type=vowel, resolution=10,
                              colormap=colmap, add=FALSE))
    xl &lt;- rep(max(range(indo$f2)), 2)
    yl &lt;- range(indo$f1) + c(abs(diff(range(indo$f1)) / 2), 0)
    repulsiveForceHeatmapLegend(xl, yl, colormap=colmap, useRaster=TRUE)
</code></pre>

<hr>
<h2 id='Vowel+20space+20area+20functions'>Calculate the area of a vowel space</h2><span id='topic+convexHullArea'></span><span id='topic+vowelMeansPolygonArea'></span>

<h3>Description</h3>

<p>Calculate the area of an <code>F2 x F1</code> vowel space, either as the area of a polygon connecting vowel formant means, or the area of a convex hull encompassing all tokens.</p>


<h3>Usage</h3>

<pre><code class='language-R'>    convexHullArea(f1, f2, group=NULL)
    vowelMeansPolygonArea(f1, f2, vowel, poly.order, group=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Vowel+2B20space+2B20area+2B20functions_+3A_f1">f1</code></td>
<td>
<p>Numeric vector of first formant frequencies.</p>
</td></tr>
<tr><td><code id="Vowel+2B20space+2B20area+2B20functions_+3A_f2">f2</code></td>
<td>
<p>Numeric vector or second formant frequencies.</p>
</td></tr>
<tr><td><code id="Vowel+2B20space+2B20area+2B20functions_+3A_vowel">vowel</code></td>
<td>
<p>Vector or factor of vowel identifiers (typically a character 
vector, though numeric will work).</p>
</td></tr>
<tr><td><code id="Vowel+2B20space+2B20area+2B20functions_+3A_poly.order">poly.order</code></td>
<td>
<p>Order in which the polygon vertices should be connected.
Should contain each value in <code>vowel</code> once.</p>
</td></tr>
<tr><td><code id="Vowel+2B20space+2B20area+2B20functions_+3A_group">group</code></td>
<td>
<p>Vector or factor indicating groupings of points to fit separate 
convex hulls to. If <code>NULL</code> (the default), a single hull 
will be generated for all points.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>McCloy, Daniel <a href="mailto:drmccloy@uw.edu">drmccloy@uw.edu</a></p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+chull">chull</a></code>, <code><a href="splancs.html#topic+areapl">areapl</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>    data(indoVowels)
    hull.area &lt;- with(indo, convexHullArea(f1, f2, group=subj))
    poly.area &lt;- with(indo, vowelMeansPolygonArea(f1, f2, vowel, 
        poly.order=c("i", "e", "a", "o", "u"), group=subj))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package barrks</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {barrks}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#barrks-package'><p>barrks: Calculate Bark Beetle Phenology Using Different Models</p></a></li>
<li><a href='#analyse.phenology'><p>Analyse a phenology</p></a></li>
<li><a href='#analyse.phenology.bso'><p>Analyse a BSO generated phenology</p></a></li>
<li><a href='#barrks_colors'><p>Get <code>barrks</code> default color palettes</p></a></li>
<li><a href='#barrks_data'><p>Load sample data</p></a></li>
<li><a href='#barrks_labels'><p>Get <code>barrks</code> default legend labels</p></a></li>
<li><a href='#bso_get_flight_rst'><p>Get flight of individuals (BSO only)</p></a></li>
<li><a href='#bso_get_individuals_rst'><p>Get individuals (BSO only)</p></a></li>
<li><a href='#bso_plot_flight_diagram'><p>Plot a flight diagram (BSO only)</p></a></li>
<li><a href='#bso_plot_stage_diagram'><p>Plot a stage diagram (BSO only)</p></a></li>
<li><a href='#bso_translate_phenology'><p>Translate BSO generated phenology</p></a></li>
<li><a href='#categorize_generations_rst'><p>Make a numeric generations raster categorical</p></a></li>
<li><a href='#create_daylength_df'><p>Create a data frame of day lengths</p></a></li>
<li><a href='#create_daylength_rst'><p>Create day length rasters</p></a></li>
<li><a href='#create_onset'><p>Create phenological events (onset/diapause/mortality)</p></a></li>
<li><a href='#create_suntimes_df'><p>Create a data frame of sunrises and sunsets</p></a></li>
<li><a href='#create_suntimes_rsts'><p>Create rasters that indicate sunrise and sunset</p></a></li>
<li><a href='#get_development_rst'><p>Get the beetles development</p></a></li>
<li><a href='#get_generations_rst'><p>Get generations</p></a></li>
<li><a href='#get_input_data'><p>Get (preprocessed) input data</p></a></li>
<li><a href='#get_onset_rst'><p>Get onset, diapause or mortality</p></a></li>
<li><a href='#list_models'><p>List all models</p></a></li>
<li><a href='#model'><p>Get a phenology model</p></a></li>
<li><a href='#model_combine'><p>Combine different (sub-)models</p></a></li>
<li><a href='#model.bso.apply'><p>Use BSO</p></a></li>
<li><a href='#model.bso.customize'><p>Customize BSO</p></a></li>
<li><a href='#model.chapy.apply'><p>Use CHAPY</p></a></li>
<li><a href='#model.chapy.customize'><p>Customize CHAPY</p></a></li>
<li><a href='#model.joensson.apply'><p>Use the Jönnson model</p></a></li>
<li><a href='#model.joensson.customize'><p>Customize the Jönsson model</p></a></li>
<li><a href='#model.lange.apply'><p>Use the Lange model</p></a></li>
<li><a href='#model.lange.customize'><p>Customize the Lange model</p></a></li>
<li><a href='#model.phenips_clim.apply'><p>Use PHENIPS-Clim</p></a></li>
<li><a href='#model.phenips_clim.customize'><p>Customize PHENIPS-Clim</p></a></li>
<li><a href='#model.phenips.apply'><p>Use PHENIPS</p></a></li>
<li><a href='#model.phenips.customize'><p>Customize PHENIPS</p></a></li>
<li><a href='#model.rity.apply'><p>Use RITY</p></a></li>
<li><a href='#model.rity.customize'><p>Customize RITY</p></a></li>
<li><a href='#params'><p>Get model parameters</p></a></li>
<li><a href='#phenology'><p>Central function to calculate a phenology</p></a></li>
<li><a href='#plot_development_diagram'><p>Plot a development diagram</p></a></li>
<li><a href='#properties'><p>Get phenology properties</p></a></li>
<li><a href='#save_phenology'><p>Save/load a phenology</p></a></li>
<li><a href='#stations_create'><p>Work with stations</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Bark Beetle Phenology Using Different Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate the bark beetle phenology based on raster data or
    point-related data. There are multiple models implemented for two bark
    beetle species. The models can be customized and their submodels (onset of
    infestation, beetle development, diapause initiation, mortality) can be
    combined. The following models are available in the package:
    PHENIPS-Clim (first-time release in this package),
    PHENIPS (Baier et al. 2007) &lt;<a href="https://doi.org/10.1016%2Fj.foreco.2007.05.020">doi:10.1016/j.foreco.2007.05.020</a>&gt;,
    RITY (Ogris et al. 2019) &lt;<a href="https://doi.org/10.1016%2Fj.ecolmodel.2019.108775">doi:10.1016/j.ecolmodel.2019.108775</a>&gt;,
    CHAPY (Ogris et al. 2020) &lt;<a href="https://doi.org/10.1016%2Fj.ecolmodel.2020.109137">doi:10.1016/j.ecolmodel.2020.109137</a>&gt;,
    BSO (Jakoby et al. 2019) &lt;<a href="https://doi.org/10.1111%2Fgcb.14766">doi:10.1111/gcb.14766</a>&gt;,
    Lange et al. (2008) &lt;<a href="https://doi.org/10.1007%2F978-3-540-85081-6_32">doi:10.1007/978-3-540-85081-6_32</a>&gt;,
    Jönsson et al. (2011) &lt;<a href="https://doi.org/10.1007%2Fs10584-011-0038-4">doi:10.1007/s10584-011-0038-4</a>&gt;.
    The package may be expanded by models for other bark beetle species in the
    future.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://jjentschke.github.io/barrks/">https://jjentschke.github.io/barrks/</a>,
<a href="https://github.com/jjentschke/barrks/">https://github.com/jjentschke/barrks/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jjentschke/barrks/issues/">https://github.com/jjentschke/barrks/issues/</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, purrr, terra (&ge; 1.7-18), Rdpack, base, lubridate,
readr, stringr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'appearance.R' 'barrks-package.R' 'bso-phenology-results.R'
'bso-phenology.R' 'utils.R' 'bso-plot.R' 'create-daylengths.R'
'create-events.R' 'create-suntimes.R' 'data.R'
'utils-model-functions.R' 'model.R' 'model-bso.R'
'model-phenips.R' 'model-rity.R' 'model-chapy.R'
'model-combine.R' 'model-joensson.R' 'model-lange.R'
'model-phenips-clim.R' 'phenology-properties.R'
'phenology-results.R' 'phenology.R'
'plot-development-diagram.R' 'stations.R' 'utils-doc.R'
'utils-log.R' 'utils-storage.R'</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>devtools, geosphere, graphics, knitr, mnormt, ncdf4, rlang,
rmarkdown, suncalc, tidyverse, tinytest, utils, viridisLite</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-03 15:59:09 UTC; Jakob.Jentschke</td>
</tr>
<tr>
<td>Author:</td>
<td>Jakob Jentschke [aut, cre],
  FVA BW, Abt. Waldschutz [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jakob Jentschke &lt;jakob.jentschke@forst.bwl.de&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-03 16:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='barrks-package'>barrks: Calculate Bark Beetle Phenology Using Different Models</h2><span id='topic+barrks'></span><span id='topic+barrks-package'></span>

<h3>Description</h3>

<p>Calculate the bark beetle phenology based on raster data or point-related data. There are multiple models implemented for two bark beetle species. The models can be customized and their submodels (onset of infestation, beetle development, diapause initiation, mortality) can be combined. The following models are available in the package: PHENIPS-Clim (first-time release in this package), PHENIPS (Baier et al. 2007) <a href="https://doi.org/10.1016/j.foreco.2007.05.020">doi:10.1016/j.foreco.2007.05.020</a>, RITY (Ogris et al. 2019) <a href="https://doi.org/10.1016/j.ecolmodel.2019.108775">doi:10.1016/j.ecolmodel.2019.108775</a>, CHAPY (Ogris et al. 2020) <a href="https://doi.org/10.1016/j.ecolmodel.2020.109137">doi:10.1016/j.ecolmodel.2020.109137</a>, BSO (Jakoby et al. 2019) <a href="https://doi.org/10.1111/gcb.14766">doi:10.1111/gcb.14766</a>, Lange et al. (2008) <a href="https://doi.org/10.1007/978-3-540-85081-6_32">doi:10.1007/978-3-540-85081-6_32</a>, Jönsson et al. (2011) <a href="https://doi.org/10.1007/s10584-011-0038-4">doi:10.1007/s10584-011-0038-4</a>. The package may be expanded by models for other bark beetle species in the future.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jakob Jentschke <a href="mailto:jakob.jentschke@forst.bwl.de">jakob.jentschke@forst.bwl.de</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> FVA BW, Abt. Waldschutz <a href="mailto:waldschutz.fva-bw@forst.bwl.de">waldschutz.fva-bw@forst.bwl.de</a> [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://jjentschke.github.io/barrks/">https://jjentschke.github.io/barrks/</a>
</p>
</li>
<li> <p><a href="https://github.com/jjentschke/barrks/">https://github.com/jjentschke/barrks/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jjentschke/barrks/issues/">https://github.com/jjentschke/barrks/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='analyse.phenology'>Analyse a phenology</h2><span id='topic+analyse.phenology'></span>

<h3>Description</h3>

<p>Here, all functions are listed that are available to analyse the results of
a <code><a href="#topic+phenology">phenology()</a></code>-call.
</p>


<h3>Details</h3>

<p>Get phenology properties:
</p>

<ul>
<li> <p><code><a href="#topic+prop_dates">prop_dates()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_filial_generations">prop_filial_generations()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_first_date">prop_first_date()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_hatched_generations">prop_hatched_generations()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_last_date">prop_last_date()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_sister_broods">prop_sister_broods()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_stations">prop_stations()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_year">prop_year()</a></code>
</p>
</li></ul>

<p>Get phenology results (raster-based):
</p>

<ul>
<li> <p><code><a href="#topic+get_development_rst">get_development_rst()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_diapause_rst">get_diapause_rst()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_generations_rst">get_generations_rst()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_hibernating_generations_rst">get_hibernating_generations_rst()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_mortality_rst">get_mortality_rst()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_onset_rst">get_onset_rst()</a></code>
</p>
</li></ul>

<p>Get phenology results (station-based):
</p>

<ul>
<li> <p><code><a href="#topic+get_development_df">get_development_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_diapause_df">get_diapause_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_generations_df">get_generations_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_hibernating_generations_df">get_hibernating_generations_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_mortality_df">get_mortality_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+get_onset_df">get_onset_df()</a></code>
</p>
</li></ul>

<p>Plot phenology results (station-based):
</p>

<ul>
<li> <p><code><a href="#topic+plot_development_diagram">plot_development_diagram()</a></code>
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+analyse.phenology.bso">analyse.phenology.bso</a>
</p>

<hr>
<h2 id='analyse.phenology.bso'>Analyse a BSO generated phenology</h2><span id='topic+analyse.phenology.bso'></span>

<h3>Description</h3>

<p>Here, all functions are listed that are available to analyse the results of
a <code><a href="#topic+bso_phenology">bso_phenology()</a></code> call.
</p>


<h3>Details</h3>

<p>Get BSO phenology properties:
</p>

<ul>
<li> <p><code><a href="#topic+prop_dates">prop_dates()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_filial_generations">prop_filial_generations()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_first_date">prop_first_date()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_hatched_generations">prop_hatched_generations()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_last_date">prop_last_date()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_sister_broods">prop_sister_broods()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_stations">prop_stations()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+prop_year">prop_year()</a></code>
</p>
</li></ul>

<p>Get BSO phenology results (raster-based):
</p>

<ul>
<li> <p><code><a href="#topic+bso_get_flight_rst">bso_get_flight_rst()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+bso_get_individuals_rst">bso_get_individuals_rst()</a></code>
</p>
</li></ul>

<p>Get BSO phenology results (station-based):
</p>

<ul>
<li> <p><code><a href="#topic+bso_get_flight_df">bso_get_flight_df()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+bso_get_individuals_df">bso_get_individuals_df()</a></code>
</p>
</li></ul>

<p>Plot BSO phenology results (station-based):
</p>

<ul>
<li> <p><code><a href="#topic+bso_plot_flight_diagram">bso_plot_flight_diagram()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+bso_plot_stage_diagram">bso_plot_stage_diagram()</a></code>
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+analyse.phenology">analyse.phenology</a>
</p>

<hr>
<h2 id='barrks_colors'>Get <code>barrks</code> default color palettes</h2><span id='topic+barrks_colors'></span>

<h3>Description</h3>

<p>Get <code>barrks</code> default color palettes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barrks_colors(type = "raster")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="barrks_colors_+3A_type">type</code></td>
<td>
<p>Select the desired color palette. There are different variants
for particular purposes. Allowed values are <code>'raster'</code>, <code>'diagram_lines'</code>,
<code>'diagram_fill'</code>, <code>'bso_flight'</code> and <code>'bso_stages'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of hex colors.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+barrks_labels">barrks_labels()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>colors &lt;- barrks_colors()

# use the colors of 'barrks' for your individual plot...
</code></pre>

<hr>
<h2 id='barrks_data'>Load sample data</h2><span id='topic+barrks_data'></span>

<h3>Description</h3>

<p>The package comes with sample data that allow the application of all models
available. The following data sets are available:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barrks_data(dataset = "raster")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="barrks_data_+3A_dataset">dataset</code></td>
<td>
<p>Choose the data set that should be returned.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><code>raster</code> Contains a list of raster weather datasets for a sample area.
The data was taken from Deutscher Wetterdienst (DWD).
</p>
</li>
<li> <p><code>stations</code> Contains sample station weather data for some cities in Germany.
The data was taken from Deutscher Wetterdienst (DWD).
Missing global radiation values were replaced by the mean value of the other stations.
</p>
</li>
<li> <p><code>station_coords</code> Contains the coordinates (longitude/latitude) of the
stations that are included in the <code>stations</code> data set.
The data was taken from Deutscher Wetterdienst (DWD).
</p>
</li></ul>



<h3>Value</h3>

<p>The respective data set. Can be a list of SpatRasters (for
<code>dataset = 'raster'</code>) or a data frame.
</p>


<h3>Source</h3>


<ul>
<li> <p><a href="https://opendata.dwd.de/climate_environment/CDC/grids_germany/daily/hyras_de/">https://opendata.dwd.de/climate_environment/CDC/grids_germany/daily/hyras_de/</a>
</p>
</li>
<li> <p><a href="https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/daily/kl/historical/">https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/daily/kl/historical/</a>
</p>
</li>
<li> <p><a href="https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/daily/solar/">https://opendata.dwd.de/climate_environment/CDC/observations_germany/climate/daily/solar/</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# plot first layer of the minimum temperature of the sample raster data
terra::plot(barrks_data()$tmin[[1]])

# print the first lines of the sample station data
head(barrks_data('stations'), 10)

# print the coordinates of the sample stations
barrks_data('station_coords')

</code></pre>

<hr>
<h2 id='barrks_labels'>Get <code>barrks</code> default legend labels</h2><span id='topic+barrks_labels'></span>

<h3>Description</h3>

<p>Get <code>barrks</code> default legend labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>barrks_labels(type = "raster")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="barrks_labels_+3A_type">type</code></td>
<td>
<p>Select the desired legend labels. There are different variants
for particular purposes. Allowed values are <code>'raster'</code>, <code>'diagram'</code>,
<code>'bso_flight'</code> and <code>'bso_stages'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of labels.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+barrks_colors">barrks_colors()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>labels &lt;- barrks_labels()

# use the labels of 'barrks' for your individual plot...
</code></pre>

<hr>
<h2 id='bso_get_flight_rst'>Get flight of individuals (BSO only)</h2><span id='topic+bso_get_flight_rst'></span><span id='topic+bso_get_flight_df'></span><span id='topic+bso_get_flight'></span>

<h3>Description</h3>

<p>Get the number of individuals that are flying.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bso_get_flight_rst(pheno, generation, flight = 1, dates = prop_dates(pheno))

bso_get_flight_df(
  pheno,
  generation,
  stations = prop_stations(pheno),
  flight = 1,
  dates = prop_dates(pheno)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bso_get_flight_rst_+3A_pheno">pheno</code></td>
<td>
<p>A BSO phenology (see <code><a href="#topic+bso_phenology">bso_phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="bso_get_flight_rst_+3A_generation">generation</code></td>
<td>
<p>Generation of interest. For sister broods, 0.5 should be added.</p>
</td></tr>
<tr><td><code id="bso_get_flight_rst_+3A_flight">flight</code></td>
<td>
<p>Specifies which flight of the respective generation should be
returned. Can be <code>1</code> (first flight) or <code>2</code> (second flight).</p>
</td></tr>
<tr><td><code id="bso_get_flight_rst_+3A_dates">dates</code></td>
<td>
<p>Select dates that should be present in the output.</p>
</td></tr>
<tr><td><code id="bso_get_flight_rst_+3A_stations">stations</code></td>
<td>
<p>Pass a character vector to choose stations assigned to <code>pheno</code> by
their names, or pass different stations. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>bso_get_flight_rst</code>: a multi-layer SpatRaster.
</p>
</li>
<li> <p><code>bso_get_flight_df</code>: a data frame.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# This may take a few minutes...

# calculate phenology
p &lt;- bso_phenology('bso', barrks_data('stations'), .quiet = TRUE)

# get the number of individuals of the hibernating generation on their first flight
bso_get_flight_df(p, 0, 'Freiburg', flight = 1)

</code></pre>

<hr>
<h2 id='bso_get_individuals_rst'>Get individuals (BSO only)</h2><span id='topic+bso_get_individuals_rst'></span><span id='topic+bso_get_individuals_df'></span><span id='topic+bso_get_individuals'></span>

<h3>Description</h3>

<p>Get the number of individuals of a generation that are in a specific development stage.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bso_get_individuals_rst(
  pheno,
  generation,
  stage = "all",
  dates = prop_dates(pheno)
)

bso_get_individuals_df(
  pheno,
  generation,
  stations = prop_stations(pheno),
  stage = "all",
  dates = prop_dates(pheno)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bso_get_individuals_rst_+3A_pheno">pheno</code></td>
<td>
<p>A BSO phenology (see <code><a href="#topic+bso_phenology">bso_phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="bso_get_individuals_rst_+3A_generation">generation</code></td>
<td>
<p>Generation of interest. For sister broods, 0.5 should be
added.</p>
</td></tr>
<tr><td><code id="bso_get_individuals_rst_+3A_stage">stage</code></td>
<td>
<p>If it is a numeric, the individuals of the
slots specified will be retrieved. Otherwise it could be one of the following
values: <code>all</code>, <code>egg</code>, <code>larva</code>, <code>pupa</code>, <code>white</code> (egg + larva + pupa),
<code>maturation</code>, <code>preflight</code>, <code>reproduction</code>, <code>brown</code> (maturation + preflight +
reproduction)</p>
</td></tr>
<tr><td><code id="bso_get_individuals_rst_+3A_dates">dates</code></td>
<td>
<p>Select dates that should be present in the output.</p>
</td></tr>
<tr><td><code id="bso_get_individuals_rst_+3A_stations">stations</code></td>
<td>
<p>Pass a character vector to choose stations assigned to <code>pheno</code> by
their names, or pass different stations. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>bso_get_individuals_rst()</code>: a multi-layer SpatRaster.
</p>
</li>
<li> <p><code>bso_get_individuals()</code>: a data frame.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# This may take a few minutes...

# calculate phenology
p &lt;- bso_phenology('bso', barrks_data('stations'), .quiet = TRUE)

# get the number of individuals of the hibernating generation that are waiting to fly
bso_get_individuals_df(p, 0, 'Freiburg', stage = 'preflight')

</code></pre>

<hr>
<h2 id='bso_plot_flight_diagram'>Plot a flight diagram (BSO only)</h2><span id='topic+bso_plot_flight_diagram'></span>

<h3>Description</h3>

<p>A flight diagram illustrates the daily share of flying individuals over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bso_plot_flight_diagram(
  .pheno,
  .station = prop_stations(.pheno)[1],
  .colors = barrks_colors("bso_flight"),
  .labels = barrks_labels("bso_flight"),
  .xlim = NULL,
  .legend = "topright",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bso_plot_flight_diagram_+3A_.pheno">.pheno</code></td>
<td>
<p>A BSO phenology (see <code><a href="#topic+bso_phenology">bso_phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="bso_plot_flight_diagram_+3A_.station">.station</code></td>
<td>
<p>Pass a character vector to choose a station assigned to <code>.pheno</code> by its name, or pass a different station. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
<tr><td><code id="bso_plot_flight_diagram_+3A_.colors">.colors</code>, <code id="bso_plot_flight_diagram_+3A_.labels">.labels</code></td>
<td>
<p>Vectors of colors/labels starting from the first and the
second flght of the hibernating generation followed consecutively by elements
for the filial generations (first and second flight).</p>
</td></tr>
<tr><td><code id="bso_plot_flight_diagram_+3A_.xlim">.xlim</code></td>
<td>
<p>Date vector of length to that limits the dates plotted.</p>
</td></tr>
<tr><td><code id="bso_plot_flight_diagram_+3A_.legend">.legend</code></td>
<td>
<p>Pass <code>FALSE</code> if no legend should be plotted. Otherwise the
value will be passed to <code>legend()</code> as first argument. Look there for more
information.</p>
</td></tr>
<tr><td><code id="bso_plot_flight_diagram_+3A_...">...</code></td>
<td>
<p>arguments passed to <code>graphics::barplot()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# This may take a few minutes...

# calculate phenology
p &lt;- bso_phenology('bso', barrks_data('stations'), .quiet = TRUE)

bso_plot_flight_diagram(p)


</code></pre>

<hr>
<h2 id='bso_plot_stage_diagram'>Plot a stage diagram (BSO only)</h2><span id='topic+bso_plot_stage_diagram'></span>

<h3>Description</h3>

<p>A stage diagram illustrates the share of individuals that are in a specific
developmental stage of a particular generation over time.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bso_plot_stage_diagram(
  .pheno,
  .station = prop_stations(.pheno)[1],
  .stages = list("white", "brown"),
  .lty = c("dashed", "solid"),
  .lwd = 2,
  .colors = barrks_colors("bso_stages"),
  .labels = barrks_labels("bso_stages"),
  .legend_col = TRUE,
  .legend_lty = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bso_plot_stage_diagram_+3A_.pheno">.pheno</code></td>
<td>
<p>A BSO phenology (see <code><a href="#topic+bso_phenology">bso_phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="bso_plot_stage_diagram_+3A_.station">.station</code></td>
<td>
<p>Pass a character vector to choose a station assigned to <code>.pheno</code> by its name, or pass a different station. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
<tr><td><code id="bso_plot_stage_diagram_+3A_.stages">.stages</code></td>
<td>
<p>List of stages to plot. Elements will be passed to
<code><a href="#topic+bso_get_individuals_df">bso_get_individuals_df()</a></code>. Look there for more information.</p>
</td></tr>
<tr><td><code id="bso_plot_stage_diagram_+3A_.lty">.lty</code>, <code id="bso_plot_stage_diagram_+3A_.lwd">.lwd</code></td>
<td>
<p>Vectors of line types or line widths that are used to plot
the different stages. Should have the same length as <code>.stages</code> or 1.</p>
</td></tr>
<tr><td><code id="bso_plot_stage_diagram_+3A_.colors">.colors</code>, <code id="bso_plot_stage_diagram_+3A_.labels">.labels</code></td>
<td>
<p>Vectors of colors/labels starting from the hibernating
generation followed consecutively by elements for the filial generations
(not including sisterbroods).</p>
</td></tr>
<tr><td><code id="bso_plot_stage_diagram_+3A_.legend_col">.legend_col</code>, <code id="bso_plot_stage_diagram_+3A_.legend_lty">.legend_lty</code></td>
<td>
<p>Manipulate the appearance of the legends for
colors and line types. Pass <code>TRUE</code>/<code>FALSE</code> to enable/disable the respective legend.
For the customization of the respective legend, a list of parameters for
<a href="graphics.html#topic+legend">graphics::legend</a> can be passed.</p>
</td></tr>
<tr><td><code id="bso_plot_stage_diagram_+3A_...">...</code></td>
<td>
<p>arguments passed to <code><a href="base.html#topic+plot">base::plot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# This may take a few minutes...

# calculate phenology
p &lt;- bso_phenology('bso', barrks_data('stations'), .quiet = TRUE)

bso_plot_stage_diagram(p)

</code></pre>

<hr>
<h2 id='bso_translate_phenology'>Translate BSO generated phenology</h2><span id='topic+bso_translate_phenology'></span>

<h3>Description</h3>

<p>A BSO generated phenology cannot be analysed in the same way as other phenology objects.
To be able to use the functions that are available for phenology objects
returned by <code><a href="#topic+phenology">phenology()</a></code>, the BSO generated phenology should be translated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bso_translate_phenology(pheno, threshold = 0.1, .quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bso_translate_phenology_+3A_pheno">pheno</code></td>
<td>
<p>A BSO phenology (see <code><a href="#topic+bso_phenology">bso_phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="bso_translate_phenology_+3A_threshold">threshold</code></td>
<td>
<p>Share of individuals that must have reached a specific
development in the BSO phenology to account for them in the corresponding
standard phenology.</p>
</td></tr>
<tr><td><code id="bso_translate_phenology_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a standard phenology as a list. Look <a href="#topic+analyse.phenology">here</a> to find out how
a phenology can be analysed. It is not recommended to access the list elements directly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# This may take a few minutes...

# calculate and translate BSO phenology
p &lt;- bso_phenology('bso', barrks_data('stations'), .quiet = TRUE)
pt &lt;- bso_translate_phenology(p, .quiet = TRUE)

# print the generations data frame of station 'Freiburg'
df &lt;- get_generations_df(pt, 'Freiburg')
df

</code></pre>

<hr>
<h2 id='categorize_generations_rst'>Make a numeric generations raster categorical</h2><span id='topic+categorize_generations_rst'></span>

<h3>Description</h3>

<p>Make a numeric generations raster categorical. Useful when mathematical
operations were performed with generations rasters (use
<code><a href="#topic+get_generations_rst">get_generations_rst(..., categorical = FALSE)</a></code> to get numeric generations
rasters).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>categorize_generations_rst(
  rst,
  colors = barrks_colors(),
  labels = barrks_labels()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="categorize_generations_rst_+3A_rst">rst</code></td>
<td>
<p>A numeric SpatRaster that represents bark beetle generations.
Sister broods are defined by adding <code>0.5</code> to the respective generation.</p>
</td></tr>
<tr><td><code id="categorize_generations_rst_+3A_colors">colors</code>, <code id="categorize_generations_rst_+3A_labels">labels</code></td>
<td>
<p>Vectors of colors/labels starting from zero generations followed
consecutively by elements for the respective generations (including sister broods).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A categorical SpatRaster.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology with different models
p1 &lt;- phenology('phenips-clim', barrks_data(), .quiet = TRUE)
p2 &lt;- phenology('phenips', barrks_data(), .quiet = TRUE)

# get the generation as numerical rasters to allow mathematical operations
gens1 &lt;- get_generations_rst(p1, categorical = FALSE)
gens2 &lt;- get_generations_rst(p2, categorical = FALSE)

# calculate the maximum generations from the 2 models
gens_max &lt;- max(gens1, gens2)
# categorize the results
gens_max_cat &lt;- categorize_generations_rst(gens_max)

# plot the categorized raster
terra::plot(gens_max_cat)
# plot the uncategorized raster
terra::plot(gens_max)

</code></pre>

<hr>
<h2 id='create_daylength_df'>Create a data frame of day lengths</h2><span id='topic+create_daylength_df'></span>

<h3>Description</h3>

<p>Generate a data frame of day lengths for given latitudes.
The package <code>geosphere</code> is required to use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_daylength_df(lat, dates, .quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_daylength_df_+3A_lat">lat</code></td>
<td>
<p>Data frame with the fields <code>station</code> and <code>lat</code>. Defines
the latitude for the respective stations.</p>
</td></tr>
<tr><td><code id="create_daylength_df_+3A_dates">dates</code></td>
<td>
<p>Dates that should be processed.</p>
</td></tr>
<tr><td><code id="create_daylength_df_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the columns <code>date</code>, <code>station</code> and <code>daylength</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# dates of interest
date_start &lt;- as.Date('2020-01-01')
date_end &lt;- as.Date('2020-12-31')


# calculate day length
dl &lt;- create_daylength_df(barrks_data('station_coords'),
                          seq(date_start, date_end, by = 'day'),
                          .quiet = TRUE)

# print day lengths of station 'Freiburg'
dl[dl$station == 'Freiburg',]

</code></pre>

<hr>
<h2 id='create_daylength_rst'>Create day length rasters</h2><span id='topic+create_daylength_rst'></span>

<h3>Description</h3>

<p>Generate a multi-layer SpatRaster of day lengths for a given template.
The package <code>geosphere</code> is required to use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_daylength_rst(
  template,
  dates = terra::time(template),
  crs = "EPSG:4258",
  .quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_daylength_rst_+3A_template">template</code></td>
<td>
<p>(Multi-layer) SpatRaster that determines the
spatial extent of the result.</p>
</td></tr>
<tr><td><code id="create_daylength_rst_+3A_dates">dates</code></td>
<td>
<p>Dates that should be processed. If not specified, the dates of
<code>template</code> are used through <code><a href="terra.html#topic+time">terra::time()</a></code>.</p>
</td></tr>
<tr><td><code id="create_daylength_rst_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system with longitude/latitude metrics.
It is used to project the raster coordinates to be able to retrieve the
latitude.</p>
</td></tr>
<tr><td><code id="create_daylength_rst_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A multi-layer SpatRaster. Each layer represents one date.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_daylength_df">create_daylength_df()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# calculate day length, use barrks_data()$tmin as template
dl &lt;- create_daylength_rst(barrks_data()$tmin, .quiet = TRUE)

# plot day length on May 1st, 2015
terra::plot(dl[[terra::time(dl) == '2015-05-01']])


</code></pre>

<hr>
<h2 id='create_onset'>Create phenological events (onset/diapause/mortality)</h2><span id='topic+create_onset'></span><span id='topic+create_diapause'></span><span id='topic+create_mortality'></span><span id='topic+create_events'></span>

<h3>Description</h3>

<p>Generate onset, diapause or mortality manually to be able to run <code><a href="#topic+phenology">phenology()</a></code>
with observed or arbitrary inputs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_onset(
  template,
  doys = NULL,
  stations = NULL,
  dates = NULL,
  .quiet = FALSE
)

create_diapause(
  template,
  doys = NULL,
  stations = NULL,
  dates = NULL,
  .quiet = FALSE
)

create_mortality(
  template,
  doys = NULL,
  stations = NULL,
  dates = NULL,
  .quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_onset_+3A_template">template</code></td>
<td>
<p>SpatRaster or data frame that determines the
spatial and temporal extent of the result. If a single-layer SpatRaster was
passed, the temporal extent should be defined by using <code>dates</code>.</p>
</td></tr>
<tr><td><code id="create_onset_+3A_doys">doys</code></td>
<td>
<p>Numeric vector, (multi-layer) SpatRaster or data frame that
specifies the days of year when the event is triggered. Vectors will define
the events globally whereas SpatRasters allow spatially explict definitions.
For the creation of events based on stations, data frames are used.
In that case, the field <code>station</code> specifies the station name and <code>doy</code> indicates the
respective day of year.</p>
</td></tr>
<tr><td><code id="create_onset_+3A_stations">stations</code></td>
<td>
<p>If <code>template</code> is a SpatRaster and <code>doys</code> is a data frame,
stations should be passed to define which cells are affected. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
<tr><td><code id="create_onset_+3A_dates">dates</code></td>
<td>
<p>Dates to define the temporal extent of the output if <code>template</code>
is a single-layer SpatRaster.</p>
</td></tr>
<tr><td><code id="create_onset_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical multi-layer SpatRaster. Each layer represents one date.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>create_onset()</code>: Create a onset.
</p>
</li>
<li> <p><code>create_diapause()</code>: Create a diapause.
</p>
</li>
<li> <p><code>create_mortality()</code>: Create mortality events.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
# load sample data
d &lt;- barrks_data('stations')

# create onset, diapause, mortality
on &lt;- create_onset(d, lubridate::yday('2015-04-15'))
dia &lt;- create_diapause(d, lubridate::yday('2015-08-15'))
mort &lt;- create_mortality(d, lubridate::yday('2015-11-15'))

# claculate phenologe
p &lt;- phenology('phenips-clim', d, .quiet = TRUE,
               .onset = on, .diapause = dia, .mortality = mort)

# plot development
plot_development_diagram(p, .lwd = 4)

</code></pre>

<hr>
<h2 id='create_suntimes_df'>Create a data frame of sunrises and sunsets</h2><span id='topic+create_suntimes_df'></span>

<h3>Description</h3>

<p>Generate a data frame that specifies sunrises and sunsets for different
coordinates and dates.
The package <code>suncalc</code> is required to use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_suntimes_df(coords, dates, tz = Sys.timezone(), .quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_suntimes_df_+3A_coords">coords</code></td>
<td>
<p>Data frame with the fields <code>station</code>, <code>lat</code> and <code>lon</code>. Defines
the latitude and longitude for the respective stations.</p>
</td></tr>
<tr><td><code id="create_suntimes_df_+3A_dates">dates</code></td>
<td>
<p>Dates that should be processed.</p>
</td></tr>
<tr><td><code id="create_suntimes_df_+3A_tz">tz</code></td>
<td>
<p>Timezone of the results.</p>
</td></tr>
<tr><td><code id="create_suntimes_df_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the columns <code>date</code>, <code>station</code> and <code>sunrise</code> and
<code>sunset</code>. The values of sunrise and sunset indicate the respective time in
minutes.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_suntimes_rsts">create_suntimes_rsts()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

date_start &lt;- as.Date('2020-01-01')
date_end &lt;- as.Date('2020-12-31')

st &lt;- create_suntimes_df(barrks_data('station_coords'),
                         seq(date_start, date_end, by = 'day'),
                         .quiet = TRUE)

# print results of station 'Freiburg'
st[st$station == 'Freiburg',]


</code></pre>

<hr>
<h2 id='create_suntimes_rsts'>Create rasters that indicate sunrise and sunset</h2><span id='topic+create_suntimes_rsts'></span>

<h3>Description</h3>

<p>Generate a list of two multi-layer SpatRasters for a given template that
indicate sunrise and sunset for the respective cells.
The package <code>suncalc</code> is required to use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_suntimes_rsts(
  template,
  dates = terra::time(template),
  crs = "EPSG:4258",
  tz = Sys.timezone(),
  .quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_suntimes_rsts_+3A_template">template</code></td>
<td>
<p>(Multi-layer) SpatRaster that determines the
spatial extent of the result.</p>
</td></tr>
<tr><td><code id="create_suntimes_rsts_+3A_dates">dates</code></td>
<td>
<p>Dates that should be processed. If not specified, the dates of
<code>template</code> are used through <code><a href="terra.html#topic+time">terra::time()</a></code>.</p>
</td></tr>
<tr><td><code id="create_suntimes_rsts_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system with longitude/latitude metrics.
It is used to project the raster coordinates to be able to retrieve longitude
and latitude.</p>
</td></tr>
<tr><td><code id="create_suntimes_rsts_+3A_tz">tz</code></td>
<td>
<p>Timezone of the results.</p>
</td></tr>
<tr><td><code id="create_suntimes_rsts_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with the elements <code>sunrise</code> and <code>sunset</code> which are
both multi-layer SpatRasters. The values indicate the respective time in
minutes. Each layer represents one date.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+create_suntimes_df">create_suntimes_df()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# calculate suntimes, use barrks_data()$tmin as template
st &lt;- create_suntimes_rsts(barrks_data()[[1]], .quiet = TRUE)

# plot results on May 1st, 2015
terra::plot(st$sunrise[[terra::time(st$sunrise) == '2015-05-01']])
terra::plot(st$sunset[[terra::time(st$sunset) == '2015-05-01']])


</code></pre>

<hr>
<h2 id='get_development_rst'>Get the beetles development</h2><span id='topic+get_development_rst'></span><span id='topic+get_development_df'></span><span id='topic+get_development'></span>

<h3>Description</h3>

<p>Get the beetles development of specific generations. A value of -1
implies that the generation is not present yet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_development_rst(pheno, generation, dates = prop_dates(pheno))

get_development_df(
  pheno,
  stations = prop_stations(pheno),
  generation = prop_hatched_generations(pheno),
  dates = prop_dates(pheno)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_development_rst_+3A_pheno">pheno</code></td>
<td>
<p>A  phenology (see <code><a href="#topic+phenology">phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="get_development_rst_+3A_generation">generation</code></td>
<td>
<p>Generation of interest. For sister broods, 0.5 should be added. <code>get_development_df()</code> allows
multiple generations here.</p>
</td></tr>
<tr><td><code id="get_development_rst_+3A_dates">dates</code></td>
<td>
<p>Select dates that should be present in the output.</p>
</td></tr>
<tr><td><code id="get_development_rst_+3A_stations">stations</code></td>
<td>
<p>Pass a character vector to choose stations assigned to <code>pheno</code> by
their names, or pass different stations. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>get_development_rst()</code>: A multi-layer SpatRaster.
</p>
</li>
<li> <p><code>get_development_df()</code>: A data frame which contains a field for
each generation  (<code>gen_1</code>, <code>gen_1.5</code>, <code>gen_2</code>, <code>gen_2.5</code>, ...) requested.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# calculate station-based phenology
p &lt;- phenology('phenips-clim', barrks_data('stations'), .quiet = TRUE)

# print the development data frame of station 'Freiburg'
df &lt;- get_development_df(p, 'Freiburg')
df[,4:ncol(df)] &lt;- round(df[,4:ncol(df)], 3) # round results
df

</code></pre>

<hr>
<h2 id='get_generations_rst'>Get generations</h2><span id='topic+get_generations_rst'></span><span id='topic+get_generations_df'></span><span id='topic+get_hibernating_generations_rst'></span><span id='topic+get_hibernating_generations_df'></span><span id='topic+get_generations'></span>

<h3>Description</h3>

<p>Find out how many generations are present (or have reached a development
threshold).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_generations_rst(
  pheno,
  dates = prop_last_date(pheno),
  threshold = 0,
  generations = prop_hatched_generations(pheno),
  categorical = TRUE,
  colors = barrks_colors("raster"),
  labels = barrks_labels("raster")
)

get_generations_df(
  pheno,
  stations = prop_stations(pheno),
  dates = prop_dates(pheno),
  threshold = 0,
  generations = prop_hatched_generations(pheno)
)

get_hibernating_generations_rst(
  pheno,
  categorical = TRUE,
  colors = barrks_colors("raster"),
  labels = barrks_labels("raster")
)

get_hibernating_generations_df(pheno, stations = prop_stations(pheno))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_generations_rst_+3A_pheno">pheno</code></td>
<td>
<p>A  phenology (see <code><a href="#topic+phenology">phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="get_generations_rst_+3A_dates">dates</code></td>
<td>
<p>Select dates that should be present in the output.</p>
</td></tr>
<tr><td><code id="get_generations_rst_+3A_threshold">threshold</code></td>
<td>
<p>Threshold of the beetle development to account for a generation.</p>
</td></tr>
<tr><td><code id="get_generations_rst_+3A_generations">generations</code></td>
<td>
<p>Numeric vector that determines which generations should be
included in the result.</p>
</td></tr>
<tr><td><code id="get_generations_rst_+3A_categorical">categorical</code></td>
<td>
<p>Set <code>FALSE</code> if the SpatRaster that is returned
should be numeric. Otherwise, it will be categorical.</p>
</td></tr>
<tr><td><code id="get_generations_rst_+3A_colors">colors</code>, <code id="get_generations_rst_+3A_labels">labels</code></td>
<td>
<p>Vectors of colors/labels starting from zero generations followed
consecutively by elements for the respective generations (including sister broods).</p>
</td></tr>
<tr><td><code id="get_generations_rst_+3A_stations">stations</code></td>
<td>
<p>Pass a character vector to choose stations assigned to <code>pheno</code> by
their names, or pass different stations. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>get_generations_rst()</code>: A multi-layer SpatRaster.
</p>
</li>
<li> <p><code>get_hibernating_generations_rst()</code>: A SpatRaster. Only available if a
mortality event has occured since the diapause started or the model's end
date has been reached. Otherwise, the values will be <code>NA</code>.
</p>
</li>
<li> <p><code>get_generations_df()</code>: A data frame.
</p>
</li>
<li> <p><code>get_hibernating_generations_df()</code>: A data frame. Only available if a
mortality event has occured since the diapause started or the model's end
date has been reached. Otherwise, the values will be <code>NA</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data(), .quiet = TRUE)

# get the generations raster
gens &lt;- get_generations_rst(p)

# plot the generations raster
terra::plot(gens)

</code></pre>

<hr>
<h2 id='get_input_data'>Get (preprocessed) input data</h2><span id='topic+get_input_data'></span>

<h3>Description</h3>

<p>The function returns a list that contains the input data of the phenology as
well as some intermediate results that are needed as preprocessed inputs for the
model. The result can be used as input for <code>phenology()</code> to avoid redundant
calculations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_input_data(pheno)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_input_data_+3A_pheno">pheno</code></td>
<td>
<p>A  phenology (see <code><a href="#topic+phenology">phenology()</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of SpatRasters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# setup phenology
p &lt;- phenology('phenips-clim', barrks_data(), .setup_only = TRUE, .quiet = TRUE)

# get the (preprocessed) input data
inputs &lt;- get_input_data(p)

# print the names to show which input data is available
names(inputs)

</code></pre>

<hr>
<h2 id='get_onset_rst'>Get onset, diapause or mortality</h2><span id='topic+get_onset_rst'></span><span id='topic+get_onset_df'></span><span id='topic+get_diapause_rst'></span><span id='topic+get_diapause_df'></span><span id='topic+get_mortality_rst'></span><span id='topic+get_mortality_df'></span><span id='topic+get_events'></span><span id='topic+get_onset'></span><span id='topic+get_diapause'></span><span id='topic+get_mortality'></span>

<h3>Description</h3>

<p>Get onset, diapause or mortality as day of year or raw output. Note that
multiple mortality events are possible over the season.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_onset_rst(pheno, as_doy = TRUE, dates = prop_dates(pheno))

get_onset_df(
  pheno,
  stations = prop_stations(pheno),
  as_doy = TRUE,
  dates = prop_dates(pheno)
)

get_diapause_rst(pheno, as_doy = TRUE, dates = prop_dates(pheno))

get_diapause_df(
  pheno,
  stations = prop_stations(pheno),
  as_doy = TRUE,
  dates = prop_dates(pheno)
)

get_mortality_rst(pheno, as_doy = TRUE, dates = prop_dates(pheno))

get_mortality_df(
  pheno,
  stations = prop_stations(pheno),
  as_doy = TRUE,
  dates = prop_dates(pheno)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_onset_rst_+3A_pheno">pheno</code></td>
<td>
<p>A  phenology (see <code><a href="#topic+phenology">phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="get_onset_rst_+3A_as_doy">as_doy</code></td>
<td>
<p>If <code>TRUE</code>, the day(s) of year will be returned. If <code>FALSE</code> the
phenological events will be returned in a raw format. Then, the return
value could be used as input for <code><a href="#topic+phenology">phenology()</a></code>/<code><a href="#topic+bso_phenology">bso_phenology()</a></code>
(parameters <code>.onset</code>, <code>.diapause</code> and <code>.mortality</code>).</p>
</td></tr>
<tr><td><code id="get_onset_rst_+3A_dates">dates</code></td>
<td>
<p>Select dates that should be present in the output.</p>
</td></tr>
<tr><td><code id="get_onset_rst_+3A_stations">stations</code></td>
<td>
<p>Pass a character vector to choose stations assigned to <code>pheno</code> by
their names, or pass different stations. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>get_onset_rst()</code>, <code>get_diapause_rst()</code>, <code>get_mortality_rst()</code>: A
(multi-layer) SpatRaster.
</p>
</li>
<li> <p><code>get_onset_df()</code>, <code>get_diapause_df()</code>, <code>get_mortality_df()</code>: A data frame.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>get_onset_rst()</code>: Returns a (multi-layer) SpatRaster of the onset.
</p>
</li>
<li> <p><code>get_onset_df()</code>: Returns a data frame of the onset.
</p>
</li>
<li> <p><code>get_diapause_rst()</code>: Returns a (multi-layer) SpatRaster of the diapause.
</p>
</li>
<li> <p><code>get_diapause_df()</code>: Returns a data frame of the diapause.
</p>
</li>
<li> <p><code>get_mortality_rst()</code>: Returns a (multi-layer) SpatRaster of the mortality.
</p>
</li>
<li> <p><code>get_mortality_df()</code>: Returns a data frame of the mortality.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data(), .quiet = TRUE)

# plot onset, diapause, mortality
get_onset_rst(p) |&gt; terra::plot()
get_diapause_rst(p) |&gt; terra::plot()
get_mortality_rst(p)[[1]] |&gt; terra::plot()




</code></pre>

<hr>
<h2 id='list_models'>List all models</h2><span id='topic+list_models'></span>

<h3>Description</h3>

<p>Get the names of all available models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_models()
</code></pre>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># print all available models
list_models()

</code></pre>

<hr>
<h2 id='model'>Get a phenology model</h2><span id='topic+model'></span>

<h3>Description</h3>

<p>Returns a (customized) phenology model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model(m, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_+3A_m">m</code></td>
<td>
<p>Name of the model or the return value of another <code>model()</code>-call.</p>
</td></tr>
<tr><td><code id="model_+3A_...">...</code></td>
<td>
<p>List of parameters to customize the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A phenology model. Can be passed to <code><a href="#topic+phenology">phenology()</a></code>.
</p>


<h3>See Also</h3>

<p>Look at the customization manuals, to find out which parameters
can be customized for a specific model: <code><a href="#topic+model.bso.customize">model.bso.customize</a></code>, <code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>, <code><a href="#topic+model.rity.customize">model.rity.customize</a></code>, <code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>, <code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>, <code><a href="#topic+model.lange.customize">model.lange.customize</a></code>, <code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# customize the temperature beetles need to fly for PHENIPS-Clim
m &lt;- model('phenips-clim', tfly = 16)

# calculate phenology
p &lt;- phenology(m, barrks_data(), .quiet = TRUE)

# plot generations
gens &lt;- get_generations_rst(p)
terra::plot(gens)

</code></pre>

<hr>
<h2 id='model_combine'>Combine different (sub-)models</h2><span id='topic+model_combine'></span>

<h3>Description</h3>

<p>Combine different (sub-)models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>model_combine(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model_combine_+3A_...">...</code></td>
<td>
<p>Phenology models, model names or lists with the keys <code>model</code> and
<code>submodels</code>. In the last case, only the submodels specified are used (one of
<code>'onset'</code>, <code>'diapause'</code>, <code>'mortality'</code> or <code>'development'</code>) of the respective
model. If multiple models are supplied for the same submodel, the last one
overwrites all others.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A phenology model. Can be passed to <code><a href="#topic+phenology">phenology()</a></code>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>
</p>
</li>
<li><p> Customize (sub-)models: <code><a href="#topic+model.bso.customize">model.bso.customize</a></code>, <code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>, <code><a href="#topic+model.rity.customize">model.rity.customize</a></code>, <code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>, <code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>, <code><a href="#topic+model.lange.customize">model.lange.customize</a></code>, <code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>
</p>
</li>
<li><p> Use (sub-)models: <code><a href="#topic+model.bso.apply">model.bso.apply</a></code>, <code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>, <code><a href="#topic+model.rity.apply">model.rity.apply</a></code>, <code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>, <code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>, <code><a href="#topic+model.lange.apply">model.lange.apply</a></code>, <code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# combine PHENIPS with the diapause submodel of PHENIPS-Clim
m &lt;- model_combine('phenips',
                   list(model = 'phenips-clim', submodels = 'diapause'))

# calculate phenology
p &lt;- phenology(m, barrks_data(), .quiet = TRUE)

# plot calculated generations
gens &lt;- get_generations_rst(p)
terra::plot(gens)



</code></pre>

<hr>
<h2 id='model.bso.apply'>Use BSO</h2><span id='topic+model.bso.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of BSO with <code><a href="#topic+phenology">phenology()</a></code>.
The model-specific inputs are listed and its basic functionality is explained.
BSO was published by Jakoby et al. (2019) and
parametrized for <em>Ips typographus</em> in Switzerland. Note that the onset and
the development submodel do not support the usage of a storage (except for
some precalculations).
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.bso.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.</p>
</td></tr>
<tr><td><code id="model.bso.apply_+3A_tmin">tmin</code>, <code id="model.bso.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily minimum/maximum air temperatures in °C.</p>
</td></tr>
<tr><td><code id="model.bso.apply_+3A_sunrise">sunrise</code>, <code id="model.bso.apply_+3A_sunset">sunset</code></td>
<td>
<p>Time of sunrise/sunset in minutes from midnight. Can
be created with <code><a href="#topic+create_suntimes_rsts">create_suntimes_rsts()</a></code> or <code><a href="#topic+create_suntimes_df">create_suntimes_df()</a></code>.</p>
</td></tr>
<tr><td><code id="model.bso.apply_+3A_n">n</code></td>
<td>
<p>number of individuals to simulate.</p>
</td></tr>
<tr><td><code id="model.bso.apply_+3A_max_generations">max_generations</code></td>
<td>
<p>maximum number of generations to calculate.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply BSO and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>bso_phenology("bso", ..., tmin, tmax, sunrise, sunset,
              n = 1e+09, max_generations = 4)

# calculate submodels separately
bso_phenology("bso", ..., .submodels = 'onset',
              tmin, tmax, sunrise, sunset, n = 1e+09)
bso_phenology("bso", ..., .submodels = 'diapause', tmin, tmax)
bso_phenology("bso", ..., .submodels = 'development',
              .onset, .diapause = NULL, .mortality = NULL,
              tmin, tmax, sunrise, sunset,
              max_generations = 4)
</pre></div>


<h3>Value</h3>

<p>The function returns a BSO phenology. Look
<a href="#topic+analyse.phenology.bso">here</a> to find out how it can be analysed.
</p>


<h3>Functioning of the BSO</h3>

<p>In the following, the basic functioning of BSO is explained.
</p>

<ul>
<li> <p><strong>Onset</strong>: The onset of swarming will start when the degree days of the mean temperature reach
a specific threshold and regeneration feeding of the individuals has finished (Look at
development for details).
</p>
</li>
<li> <p><strong>Development</strong>: The development of single individuals is simulated.
The simulation of each individual is realized by passing a multitude of
slots that are grouped in stages. The hourly probability for an individual
to enter the next slot depends on the current stage and the phloem temperature.
The hourly temperature is derived from the minimum and maximum temperatures using
a sine interpolition. The hourly phloem temperature is calculated using
Newton's Law of Cooling (see Trân et al. 2007).
</p>
</li>
<li> <p><strong>Diapause</strong>: Specific photoperiod-related dates define when the diapause is initiated
at the earliest and at the latest. In between these dates, the diapause is
initiated when the mean temperature falls below a specific threshold.
</p>
</li>
<li> <p><strong>Mortality</strong>: BSO does not have a mortality submodel implemented.
</p>
</li></ul>

<p>Look <a href="#topic+model.bso.customize">here</a> to find out how the model parameters affect the actual calculations and which values are used by default.
</p>


<h3>References</h3>

<p>Jakoby O, Lischke H, Wermelinger B (2019).
&ldquo;Climate change alters elevational phenology patterns of the European spruce bark beetle (<em>Ips typographus</em>).&rdquo;
<em>Global Change Biology</em>, <b>25</b>(12), 4048-4063.
<a href="https://doi.org/10.1111/gcb.14766">doi:10.1111/gcb.14766</a>.<br /><br /> Trân JK, Ylioja T, Billings RF, Régnière J, Ayres MP (2007).
&ldquo;Impact of minimum winter temperatures on the population dynamics of <em>Dendroctonus frontalis</em>.&rdquo;
<em>Ecological Applications</em>, <b>17</b>(3), 882-899.
<a href="https://doi.org/10.1890/06-0512">doi:10.1890/06-0512</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+bso_phenology">bso_phenology()</a></code>, <code><a href="#topic+model.bso.customize">model.bso.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>,
<code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>,
<code><a href="#topic+model.lange.apply">model.lange.apply</a></code>,
<code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>,
<code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>,
<code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>

<hr>
<h2 id='model.bso.customize'>Customize BSO</h2><span id='topic+model.bso.customize'></span>

<h3>Description</h3>

<p>This page describes the parameters
that can be used to customize BSO. The model was developed by
Jakoby et al. (2019). Look <a href="#topic+model.bso.apply">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.bso.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days to trigger the onset.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_dd_onset_threshold">dd_onset_threshold</code></td>
<td>
<p>Degree days that are required before the individuals
start regeneration feeding in <code>slot_dia</code> of the maturation stage. When the
regeneration feeding has finished, the onset is triggered.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_slot_dia">slot_dia</code></td>
<td>
<p>Maturation feeding slot where the individuals start regeneration feeding after
diapause.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_k">k</code></td>
<td>
<p>Factor for the calculation of the phloem temperature.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_alpha">alpha</code>, <code id="model.bso.customize_+3A_tlo">tlo</code>, <code id="model.bso.customize_+3A_tup">tup</code></td>
<td>
<p>Parameters used to calculate the transition probabilities
for each stage (except preflight) in the following order: development, maturation feeding,
reproduction.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_tfly_min">tfly_min</code>, <code id="model.bso.customize_+3A_tfly_max">tfly_max</code>, <code id="model.bso.customize_+3A_pfly_max">pfly_max</code>, <code id="model.bso.customize_+3A_beta">beta</code></td>
<td>
<p>Parameters used to calculate the
transition probabilities for the preflight stage.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_num_slots">num_slots</code></td>
<td>
<p>Named vector that defines the number of slots for each stage.
The development stage is subdivided into the stages <code>egg</code>, <code>larva</code> and <code>pupa</code>.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_psis">psis</code></td>
<td>
<p>Probability that a sister brood will be established.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_slot_sis">slot_sis</code></td>
<td>
<p>Maturation feeding slot where the individuals start regeneration feeding before
they establish a sister brood.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_diapause_first">diapause_first</code></td>
<td>
<p>The day of year when the diapause could start at the
earliest.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_diapause_last">diapause_last</code></td>
<td>
<p>The day of year when the diapause could start at the
latest.</p>
</td></tr>
<tr><td><code id="model.bso.customize_+3A_tdia_min">tdia_min</code></td>
<td>
<p>The diapause will be initiated when the average daily
temperature falls below that value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for BSO and specifies their
default values.
</p>
<div class="sourceCode r"><pre>
model("bso",

      # ==== onset ====

      dd_onset_start_date = '01-01',
      dd_onset_base = 5.124198,
      dd_onset_threshold = 100,
      slot_dia = 6,

      # ==== onset + development ====

      k = 2.853738e-02,
      alpha = c(2.549060e-05, 0.0000789, 1.009450e-05),
      tlo = c(-1.297644e+01, 4.760089e+00, -4.424628e+00),
      tup = c(3.600070e+01, 4.002483e+01, 3.999390e+01),
      tfly_min = 16.1064,
      tfly_max = 31.2901,
      pfly_max = 9.863263e-03,
      beta = 1.363763,

      num_slots = c(
        'reproduction' = 11,
        'egg' = 18,
        'larva' = 45,
        'pupa' = 8,
        'maturation' = 8,
        'preflight' = 1
      ),

      # ==== development ====

      psis = 2.994450e-01,
      slot_sis = 4,

      model_end_date = '12-30',

      # ==== diapause ====

      diapause_first = 210,
      diapause_last = 232,
      tdia_min = 1.645209e+01
)
</pre></div>


<h3>References</h3>

<p>Jakoby O, Lischke H, Wermelinger B (2019).
&ldquo;Climate change alters elevational phenology patterns of the European spruce bark beetle (<em>Ips typographus</em>).&rdquo;
<em>Global Change Biology</em>, <b>25</b>(12), 4048-4063.
<a href="https://doi.org/10.1111/gcb.14766">doi:10.1111/gcb.14766</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.bso.apply">model.bso.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>,
<code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>,
<code><a href="#topic+model.lange.customize">model.lange.customize</a></code>,
<code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>,
<code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>,
<code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>

<hr>
<h2 id='model.chapy.apply'>Use CHAPY</h2><span id='topic+model.chapy.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of CHAPY with <code><a href="#topic+phenology">phenology()</a></code>.
The model specific inputs are listed and its basic functionality is explained.
CHAPY was published by Ogris et al. (2020) and
parametrized for <em>Pityogenes chalcographus</em> in Slovenia.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.chapy.apply_+3A_tmin">tmin</code>, <code id="model.chapy.apply_+3A_tmean">tmean</code>, <code id="model.chapy.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily minimum/mean/maximum air temperatures in °C.
For the <code>development</code> submodel, the parameter that is obligatory depends on
<code>mode</code>.</p>
</td></tr>
<tr><td><code id="model.chapy.apply_+3A_daylength">daylength</code></td>
<td>
<p>Length of the day in hours. Can be created with
<code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code> or <code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code>.</p>
</td></tr>
<tr><td><code id="model.chapy.apply_+3A_mode">mode</code></td>
<td>
<p>Specifies which temperature should be used to calculate the
development. Can be <code>min</code>, <code>mean</code> or <code>max</code>.</p>
</td></tr>
<tr><td><code id="model.chapy.apply_+3A_.submodels">.submodels</code>, <code id="model.chapy.apply_+3A_.onset">.onset</code>, <code id="model.chapy.apply_+3A_.diapause">.diapause</code>, <code id="model.chapy.apply_+3A_.mortality">.mortality</code>, <code id="model.chapy.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply CHAPY and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>phenology("chapy", ..., tmin = NULL, tmean = NULL, tmax, daylength, mode = 'max')

# calculate submodels separately
phenology("chapy", ..., .submodels = 'onset', tmax)
phenology("chapy", ..., .submodels = 'diapause', daylength)
phenology("chapy", ..., .submodels = 'mortality', tmax)
phenology("chapy", ..., .submodels = 'development',
          .onset, .diapause = NULL, .mortality = NULL,
          tmin = NULL, tmean = NULL, tmax = NULL, mode = 'max')
</pre></div>


<h3>Functioning</h3>

<p>The functioning of CHAPY is identical to <a href="#topic+model.rity.apply">RITY</a> but it is
has a different <a href="#topic+model.chapy.customize">parametrization</a>.
</p>


<h3>References</h3>

<p>Ogris N, Ferlan M, Hauptman T, Pavlin R, Kavčič A, Jurc M, de Groot M (2020).
&ldquo;Sensitivity analysis, calibration and validation of a phenology model for <em>Pityogenes chalcographus</em> (CHAPY).&rdquo;
<em>Ecological Modelling</em>, <b>430</b>, 109137.
ISSN 0304-3800, <a href="https://doi.org/10.1016/j.ecolmodel.2020.109137">doi:10.1016/j.ecolmodel.2020.109137</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.bso.apply">model.bso.apply</a></code>,
<code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>,
<code><a href="#topic+model.lange.apply">model.lange.apply</a></code>,
<code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>,
<code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>,
<code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>

<hr>
<h2 id='model.chapy.customize'>Customize CHAPY</h2><span id='topic+model.chapy.customize'></span>

<h3>Description</h3>

<p>This page describes the parameters
that can be used to customize CHAPY. The model was developed by
Ogris et al. (2020). Look <a href="#topic+model.chapy.apply">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.chapy.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days to trigger the onset.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dd_onset_threshold">dd_onset_threshold</code></td>
<td>
<p>Degree days that are required to trigger the onset of
infestation. Additionally, the maximum temperature must exceed <code>tfly</code>.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_tfly">tfly</code></td>
<td>
<p>Minimum temperature that beetles need to fly.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dd_development_base">dd_development_base</code></td>
<td>
<p>Base temperature to calculate degree days for development.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dd_total_dev">dd_total_dev</code></td>
<td>
<p>Degree days that are required for a generation to fully
develop</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dev_start">dev_start</code>, <code id="model.chapy.customize_+3A_dev_end">dev_end</code></td>
<td>
<p>Share in total development when the egg development starts and the
juvenile beetle's development ends respectively. Usable if the development
below/above these thresholds should account for mating, oviposition etc.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dev_sister_brood">dev_sister_brood</code></td>
<td>
<p>Share in the total development, when a sister brood
will be established.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dev_mortal_min">dev_mortal_min</code>, <code id="model.chapy.customize_+3A_dev_mortal_max">dev_mortal_max</code></td>
<td>
<p>The beetles are considered to be in
white stages (egg, larva, pupa) if their development exceeds <code>dev_mortal_min</code>
and subceeds <code>dev_mortal_max</code>. During these stages, the beetles could die
due to a mortality event. <code>NULL</code> means that no lower/upper threshold is
defined.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_func_ftmin">func_ftmin</code>, <code id="model.chapy.customize_+3A_func_ftmean">func_ftmean</code>, <code id="model.chapy.customize_+3A_func_ftmax">func_ftmax</code></td>
<td>
<p>Functions to caclulate the
air temperature in forest stands (see Ogris et al. 2019,
equations 1 - 3). Each parameter will be passed as SpatRaster:
</p>

<ul>
<li> <p><code>tmin</code>: min air temperature
</p>
</li>
<li> <p><code>tmean</code>: mean air temperature
</p>
</li>
<li> <p><code>tmax</code>: maximum air temperature
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_func_btmin">func_btmin</code>, <code id="model.chapy.customize_+3A_func_btmean">func_btmean</code>, <code id="model.chapy.customize_+3A_func_btmax">func_btmax</code></td>
<td>
<p>Functions to caclulate the
bark temperature (see Ogris et al. 2019,
equations 4 - 6). Each parameter will be passed as SpatRaster:
</p>

<ul>
<li> <p><code>ftmin</code>: min air temperature in forest stands
</p>
</li>
<li> <p><code>ftmean</code>: mean air temperature in forest stands
</p>
</li>
<li> <p><code>ftmax</code>: maximum air temperature in forest stands
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_dt_low">dt_low</code>, <code id="model.chapy.customize_+3A_dt_up">dt_up</code>, <code id="model.chapy.customize_+3A_topt">topt</code>, <code id="model.chapy.customize_+3A_tmax">tmax</code>, <code id="model.chapy.customize_+3A_alpha">alpha</code>, <code id="model.chapy.customize_+3A_beta">beta</code>, <code id="model.chapy.customize_+3A_gamma">gamma</code></td>
<td>
<p>Parameters to calculate
the effective bark temperature (see Ogris et al. 2020,
equations A.7 - A.9).</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_daylength_dia">daylength_dia</code></td>
<td>
<p>When the daylength falls below this threshold, diapause
will be initiated.</p>
</td></tr>
<tr><td><code id="model.chapy.customize_+3A_mortality_date">mortality_date</code></td>
<td>
<p>Date when all white stages (egg, larva, pupa) die.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for CHAPY and specifies their
default values.
</p>
<div class="sourceCode r"><pre>
model("chapy",

      # ==== onset ====

      dd_onset_start_date = '03-09',
      dd_onset_base = 7.4,
      dd_onset_threshold = 216.5,

      # ==== onset + development ====

      tfly = 15.6,

      # ==== development ====

      dd_development_base = 7.4,
      dd_total_dev = 635.4,
      dev_start = 0,
      dev_end = 1,
      dev_sister_brood = 0.5,
      dev_mortal_min = NULL,
      dev_mortal_max = 0.8,

      func_ftmin = function(tmin) { 1.44 + 0.82 * tmin },
      func_ftmean = function(tmean) { 0.50 + 0.81 * tmean },
      func_ftmax = function(tmax) { 1.03 + 0.86 * tmax },

      func_btmin = function(atmin) { 0.56 + 0.99 * atmin },
      func_btmean = function(atmean) { -0.48 + 1.03 * atmean },
      func_btmax = function(atmax) { 0.03 + 0.99 * atmax },

      dt_low = 7.4,
      dt_up = 39.4,
      topt = 30,
      tmax = 41.97,
      alpha = 0.031,
      beta = 5.3,
      gamma = 1.25,

      model_end_date = '12-31',

      # ==== diapause ====

      daylength_dia = 13.6,

      # ==== mortality ====

      mortality_date = '12-31'
)

</pre></div>


<h3>References</h3>

<p>Ogris N, Ferlan M, Hauptman T, Pavlin R, Kavčič A, Jurc M, De Groot M (2019).
&ldquo;RITY&ndash;A phenology model of Ips typographus as a tool for optimization of its monitoring.&rdquo;
<em>Ecological Modelling</em>, <b>410</b>, 108775.
<a href="https://doi.org/10.1016/j.ecolmodel.2019.108775">doi:10.1016/j.ecolmodel.2019.108775</a>.<br /><br /> Ogris N, Ferlan M, Hauptman T, Pavlin R, Kavčič A, Jurc M, de Groot M (2020).
&ldquo;Sensitivity analysis, calibration and validation of a phenology model for <em>Pityogenes chalcographus</em> (CHAPY).&rdquo;
<em>Ecological Modelling</em>, <b>430</b>, 109137.
ISSN 0304-3800, <a href="https://doi.org/10.1016/j.ecolmodel.2020.109137">doi:10.1016/j.ecolmodel.2020.109137</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.bso.customize">model.bso.customize</a></code>,
<code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>,
<code><a href="#topic+model.lange.customize">model.lange.customize</a></code>,
<code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>,
<code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>,
<code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>

<hr>
<h2 id='model.joensson.apply'>Use the Jönnson model</h2><span id='topic+model.joensson.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of the the Jönsson model with <code><a href="#topic+phenology">phenology()</a></code>.
The model specific inputs are listed and its basic functionality is explained.
The Jönsson model was published by Jönsson et al. (2011) and
parametrized for <em>Ips typographus</em> in southern Sweden.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.joensson.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.</p>
</td></tr>
<tr><td><code id="model.joensson.apply_+3A_tmean">tmean</code>, <code id="model.joensson.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily mean/maximum temperatures in °C.</p>
</td></tr>
<tr><td><code id="model.joensson.apply_+3A_daylength">daylength</code></td>
<td>
<p>Length of the day in hours. Can be created with
<code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code> or <code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code>.</p>
</td></tr>
<tr><td><code id="model.joensson.apply_+3A_mode">mode</code></td>
<td>
<p>Can be <code>'fast'</code> (default) or <code>'slow'</code>. Determines if the lower
(<code>'fast'</code>) or upper (<code>'slow'</code>) limit for the development of  genertion
should be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply the Jönsson model and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>phenology("joensson", ..., tmean, tmax, daylength, mode = 'fast')

# calculate submodels separately
phenology("joensson", ..., .submodels = 'onset', tmax)
phenology("joensson", ..., .submodels = 'diapause', tmax, daylength)
phenology("joensson", ..., .submodels = 'development',
          .onset, .diapause = NULL, .mortality = NULL,
          tmean, mode = 'fast')
</pre></div>


<h3>Value</h3>

<p>The function returns a phenology. Look <a href="#topic+analyse.phenology">here</a> to find out how it can be analysed.
</p>


<h3>Functioning</h3>

<p>In the following, the basic functioning of the Jönsson model is explained.
</p>

<ul>
<li> <p><strong>Onset</strong>: The onset of swarming is triggerd when the degree days of the maximum temperature reach
a specific threshold and the maximum temperature exceeds the minimum flight temperature.
The onset of infestation is triggered seven days later to account
for a pre-oviposition period.
</p>
</li>
<li> <p><strong>Development</strong>: The development progresses proportional to the degree days
of the mean temperature. To account for varying sun exposures, two different
thermal thresholds are defined that reflect the lower and the upper limit
of development. A generations starts swarming when it has finished its
development and the maximum temperature exceeds the minimum flight temperature.
Seven days later, the development of a new generation starts.
</p>
</li>
<li> <p><strong>Diapause</strong>: The diapause is initiated when the daylength falls below a
threshold. It is recommended to adjust the daylength threshold when applying elsewhere
(e.g. values from literature). Jönsson et al. (2011) proposes a model to
calculate the daylength threshold based on long-term climate data.
</p>
</li>
<li> <p><strong>Mortality</strong>: The Jönsson model does not have a mortality submodel implemented.
</p>
</li></ul>

<p>Look <a href="#topic+model.joensson.customize">here</a> to find out how the model parameters affect the actual calculations and which values are used by default.
</p>


<h3>References</h3>

<p>Jönsson AM, Harding S, Krokene P, Lange H, Åke Lindelöw A, Økland B, Ravn HP, Schroeder LM (2011).
&ldquo;Modelling the potential impact of global warming on <em>Ips typographus</em> voltinism and reproductive diapause.&rdquo;
<em>Climatic Change</em>, <b>109</b>, 695-718.
<a href="https://doi.org/10.1007/s10584-011-0038-4">doi:10.1007/s10584-011-0038-4</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.bso.apply">model.bso.apply</a></code>,
<code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>,
<code><a href="#topic+model.lange.apply">model.lange.apply</a></code>,
<code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>,
<code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>,
<code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>

<hr>
<h2 id='model.joensson.customize'>Customize the Jönsson model</h2><span id='topic+model.joensson.customize'></span>

<h3>Description</h3>

<p>This page describes the parameters
that can be used to customize the Jönsson model. The model was developed by
Jönsson et al. (2011). Look <a href="#topic+model.joensson.apply">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.joensson.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days to trigger the onset.</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_dd_onset_threshold">dd_onset_threshold</code></td>
<td>
<p>Degree days that are required to trigger the onset of
infestation. Additionally, the maximum temperature must exceed <code>tfly</code>.</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_tfly">tfly</code></td>
<td>
<p>Minimum temperature that beetles need to fly.</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_dd_development_base">dd_development_base</code></td>
<td>
<p>Base temperature to calculate degree days for development.</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_dd_total_dev_lower">dd_total_dev_lower</code>, <code id="model.joensson.customize_+3A_dd_total_dev_upper">dd_total_dev_upper</code></td>
<td>
<p>Lower/upper limit of degree days
that are required for a generation to fully develop</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_dev_start">dev_start</code>, <code id="model.joensson.customize_+3A_dev_end">dev_end</code></td>
<td>
<p>Share in total development when the egg development starts and the
juvenile beetle's development ends respectively. Usable if the development
below/above these thresholds should account for mating, oviposition etc.</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_dev_mortal_min">dev_mortal_min</code>, <code id="model.joensson.customize_+3A_dev_mortal_max">dev_mortal_max</code></td>
<td>
<p>The beetles are considered to be in
white stages (egg, larva, pupa) if their development exceeds <code>dev_mortal_min</code>
and subceeds <code>dev_mortal_max</code>. During these stages, the beetles could die
due to a mortality event. <code>NULL</code> means that no lower/upper threshold is
defined.</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.joensson.customize_+3A_daylength_dia">daylength_dia</code>, <code id="model.joensson.customize_+3A_tdia_min">tdia_min</code></td>
<td>
<p>When the daylength falls below <code>daylength_dia</code>
and the average daily temperature falls below <code>tdia_min</code>, diapause
will be initiated. The default value for the critical daylength was set to
19.3 hours according to Schroeder and Dalin (2017) who
examined the photoperiodic diapause induction in Sweden. If the model is used
for other regions, this value should be adjusted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for the Jönsson model and specifies their
default values.
</p>
<div class="sourceCode r"><pre>model("joensson",

      # ==== onset ====

      dd_onset_start_date = '01-01',
      dd_onset_base = 5,
      dd_onset_threshold = 120,

      # ==== onset + development ====

      tfly = 20,

      # ==== development ====

      dd_development_base = 5,
      dd_total_dev_lower = 625,
      dd_total_dev_upper = 750,
      dev_start = 0,
      dev_end = 1,
      dev_mortal_min = 0,
      dev_mortal_max = 1,

      model_end_date = '12-31',

      # ==== diapause ====

      daylength_dia = 19.3,
      tdia_min = 15
)
</pre></div>


<h3>References</h3>

<p>Jönsson AM, Harding S, Krokene P, Lange H, Åke Lindelöw A, Økland B, Ravn HP, Schroeder LM (2011).
&ldquo;Modelling the potential impact of global warming on <em>Ips typographus</em> voltinism and reproductive diapause.&rdquo;
<em>Climatic Change</em>, <b>109</b>, 695-718.
<a href="https://doi.org/10.1007/s10584-011-0038-4">doi:10.1007/s10584-011-0038-4</a>.<br /><br /> Schroeder M, Dalin P (2017).
&ldquo;Differences in photoperiod-induced diapause plasticity among different populations of the bark beetle <em>Ips typographus</em> and its predator <em>Thanasimus formicarius</em>.&rdquo;
<em>Agricultural and Forest Entomology</em>, <b>19</b>(2), 146-153.
<a href="https://doi.org/10.1111/afe.12189">doi:10.1111/afe.12189</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.bso.customize">model.bso.customize</a></code>,
<code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>,
<code><a href="#topic+model.lange.customize">model.lange.customize</a></code>,
<code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>,
<code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>,
<code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>

<hr>
<h2 id='model.lange.apply'>Use the Lange model</h2><span id='topic+model.lange.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of the the Lange model with <code><a href="#topic+phenology">phenology()</a></code>.
The model specific inputs are listed and its basic functionality is explained.
The model was published by Lange et al. (2008) for
<em>Ips typographus</em>.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.lange.apply_+3A_tmin">tmin</code>, <code id="model.lange.apply_+3A_tmean">tmean</code>, <code id="model.lange.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily minimum/mean/maximum temperatures in °C.</p>
</td></tr>
<tr><td><code id="model.lange.apply_+3A_.submodels">.submodels</code>, <code id="model.lange.apply_+3A_.onset">.onset</code>, <code id="model.lange.apply_+3A_.diapause">.diapause</code>, <code id="model.lange.apply_+3A_.mortality">.mortality</code>, <code id="model.lange.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply the Lange model and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>phenology("lange", ..., tmin, tmean, tmax)

# calculate submodels separately
phenology("lange", ..., .submodels = 'onset', tmean, tmax)
phenology("lange", ..., .submodels = 'mortality', tmin)
phenology("lange", ..., .submodels = 'development',
          .onset, .diapause = NULL, .mortality = NULL,
          tmean, tmax)
</pre></div>


<h3>Value</h3>

<p>The function returns a phenology. Look <a href="#topic+analyse.phenology">here</a> to find out how it can be analysed.
</p>


<h3>Functioning</h3>

<p>In the following, the basic functioning of the Lange model is explained.
</p>

<ul>
<li> <p><strong>Onset</strong>: The onset of swarming is triggerd when the degree days of the maximum temperature reach
a specific threshold and the maximum temperature exceeds the minimum flight temperature
according to Annila (1969).
</p>
</li>
<li> <p><strong>Development</strong>: The development is calculated using stage-specific
temperature sums and thresholds (Wermelinger and Seifert 1998).
A new generation starts its development when the last generation finished its
development and the maximum temperature exceeds the minimum flight temperature.
</p>
</li>
<li> <p><strong>Diapause</strong>: The Lange model does not have a diapause submodel implemented.
</p>
</li>
<li> <p><strong>Mortality</strong>: White stages (egg to pupa) die when the minimum temperature
falls below a specific threshold.
</p>
</li></ul>

<p>Look <a href="#topic+model.lange.customize">here</a> to find out how the model parameters affect the actual calculations and which values are used by default.
</p>


<h3>References</h3>

<p>Annila E (1969).
&ldquo;Influence of temperature upon the development and voltinism of Ips typographus L. (Coleoptera, Scolytidae).&rdquo;
<em>Annales Zoologici Fennici</em>, <b>6</b>(2), 161&ndash;208.
<a href="http://www.jstor.org/stable/23731366">http://www.jstor.org/stable/23731366</a>.<br /><br /> Lange H, Økland B, Krokene P (2008).
&ldquo;To be or twice to be? The life cycle development of the spruce bark beetle under climate change.&rdquo;
In <em>Unifying Themes in Complex Systems: Proceedings of the Sixth International Conference on Complex Systems</em>, 251&ndash;258.
Springer.
<a href="https://doi.org/10.1007/978-3-540-85081-6_32">doi:10.1007/978-3-540-85081-6_32</a>.<br /><br /> Wermelinger B, Seifert M (1998).
&ldquo;Analysis of the temperature dependent development of the spruce bark beetle <em>Ips typographus</em> (L) (Col., Scolytidae).&rdquo;
<em>Journal of Applied Entomology</em>, <b>122</b>(1-5), 185-191.
<a href="https://doi.org/10.1111/j.1439-0418.1998.tb01482.x">doi:10.1111/j.1439-0418.1998.tb01482.x</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.lange.customize">model.lange.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.bso.apply">model.bso.apply</a></code>,
<code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>,
<code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>,
<code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>,
<code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>,
<code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>

<hr>
<h2 id='model.lange.customize'>Customize the Lange model</h2><span id='topic+model.lange.customize'></span>

<h3>Description</h3>

<p>This page describes the parameters
that can be used to customize Lange. The model was developed by
Lange et al. (2008). Look <a href="#topic+model.lange.apply">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.lange.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days to trigger the onset.</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_dd_onset_threshold">dd_onset_threshold</code></td>
<td>
<p>Degree days that are required to trigger the onset of
infestation. Additionally, the maximum temperature must exceed <code>tfly</code>.</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_tfly">tfly</code></td>
<td>
<p>Minimum temperature that beetles need to fly.</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_dd_base_stages">dd_base_stages</code></td>
<td>
<p>Base temperatures to calculate degree days for the
different stages in the following order: egg, larva, pupa, juvenile adult.</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_dd_threshold_stages">dd_threshold_stages</code></td>
<td>
<p>Thermal thresholds for the different stages in the
following order: egg, larva, pupa, juvenile adult.</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_first_lethal_date">first_lethal_date</code></td>
<td>
<p>Date before which no mortality will be modeled.</p>
</td></tr>
<tr><td><code id="model.lange.customize_+3A_tlethal">tlethal</code></td>
<td>
<p>Temperature threshold below which white stages (egg, larva, pupa) will die.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for the Lange model and specifies their
default values.
</p>
<div class="sourceCode r"><pre>model("lange",

      # ==== onset ==== #

      dd_onset_start_date = '01-01',
      dd_onset_base = 5,
      dd_onset_threshold = 110,

      # ==== onset + development ====

      tfly = 19.5,

      # ==== development ==== #

      dd_base_stages = c(10.6, 8.2, 9.9, 3.2),
      dd_threshold_stages = c(51.8, 204.4, 57.7, 238.5),

      model_end_date = '12-31',

      # ==== mortality ==== #

      first_lethal_date = '09-01',
      tlethal = 0
)
</pre></div>


<h3>References</h3>

<p>Lange H, Økland B, Krokene P (2008).
&ldquo;To be or twice to be? The life cycle development of the spruce bark beetle under climate change.&rdquo;
In <em>Unifying Themes in Complex Systems: Proceedings of the Sixth International Conference on Complex Systems</em>, 251&ndash;258.
Springer.
<a href="https://doi.org/10.1007/978-3-540-85081-6_32">doi:10.1007/978-3-540-85081-6_32</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.lange.apply">model.lange.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.bso.customize">model.bso.customize</a></code>,
<code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>,
<code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>,
<code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>,
<code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>,
<code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>

<hr>
<h2 id='model.phenips_clim.apply'>Use PHENIPS-Clim</h2><span id='topic+model.phenips_clim.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of PHENIPS-Clim with <code><a href="#topic+phenology">phenology()</a></code>.
The model specific inputs are listed and its basic functionality is explained.
PHENIPS-Clim is not published yet. This manual will be updated when a
publication is available. It was parametrized for <em>Ips typographus</em> in southern Germany.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.phenips_clim.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.
See <code><a href="#topic+phenology">phenology()</a></code> for details.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_tmin">tmin</code>, <code id="model.phenips_clim.apply_+3A_tmean">tmean</code>, <code id="model.phenips_clim.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily minimum/mean/maximum temperatures in °C. <code>tmin</code>
is optional. If available it will be used to
calculate the temperature amplitude. If not, <code>(tmax - tmean) * 2</code> will be
used as amplitude.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_rad">rad</code></td>
<td>
<p>Daily radiation in W * h / m^2.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_daylength">daylength</code></td>
<td>
<p>Length of the day in hours. Can be created with
<code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code> or <code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code>.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_sister_broods">sister_broods</code></td>
<td>
<p>Set <code>FALSE</code> to disable the calculation of sister broods.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_scenario">scenario</code></td>
<td>
<p>Choose a scenario to use a suitable combination of parameters
for specific situations. The scenario defines a default value for each value
that can be overwritten by specifying a value for the respective parameter.
The following scenarios are available:
</p>

<ul>
<li><p> mean: <code>list(exposure = 'sunny', onset_mode = 0.5, diapause_mode = 'photoperiodic', oviposition_mode = 0.5)</code>
</p>
</li>
<li><p> max: <code>list(exposure = 'sunny', onset_mode = 0.1, diapause_mode = 'thermal', oviposition_mode = 0.1)</code>
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_exposure">exposure</code></td>
<td>
<p>Specifies the sun exposure. Can be <code>'sunny'</code>(default) or <code>'shaded'</code>.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_onset_mode">onset_mode</code></td>
<td>
<p>Share of beetles that are already infesting trees necessary to
trigger the onset. Must be <code>0.1</code>, <code>0.5</code> or <code>0.9</code> if not customized.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_oviposition_mode">oviposition_mode</code></td>
<td>
<p>Share of beetles that should have finished oviposition
to trigger the beginning of the development. Must be <code>0.1</code>, <code>0.5</code> or <code>0.9</code> if not customized.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.apply_+3A_diapause_mode">diapause_mode</code></td>
<td>
<p>Determines how the diapause is initiated. Can be one of
the following options:
</p>

<ul>
<li> <p><code>'photoperiodic'</code>: The diapause is initiated when the daylength falls below
a specific threshold.
</p>
</li>
<li> <p><code>'thermal'</code>: The diapause is initiated by a logistic model that depends on
the daylength and the maximum temperature.
</p>
</li></ul>

<p>Share of beetles that already stopped reproducing necessary to
trigger the diapause. Must be <code>thermal</code> or <code>'photoperiodic'</code> if not customized.
If <code>'photoperiodic'</code> is chosen, the diapause is controlled by a daylength
threshold (see parameter daylength_dia <a href="#topic+model.phenips_clim.customize">here</a>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply PHENIPS-Clim and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>phenology("phenips-clim", ..., tmin, tmean, tmax, rad, daylength,
          sister_broods = TRUE, scenario = 'max', exposure = NULL,
          onset_mode = NULL, oviposition_mode = NULL, diapause_mode = NULL)

# calculate submodels separately
phenology("phenips-clim", ..., .submodels = 'onset', tmax, scenario = 'max', onset_mode = NULL)
phenology("phenips-clim", ..., .submodels = 'diapause', tmax, daylength, scenario = 'max', diapause_mode = NULL)
phenology("phenips-clim", ..., .submodels = 'mortality', tmin)
phenology("phenips-clim", ..., .submodels = 'development',
          .onset, .diapause = NULL, .mortality = NULL,
          tmin, tmean, tmax, rad, sister_broods = TRUE,
          scenario = 'max', exposure = NULL, oviposition_mode = NULL)
</pre></div>


<h3>Functioning</h3>

<p>In the following, the basic functioning of PHENIPS-Clim is explained.
</p>

<ul>
<li> <p><strong>Onset</strong>: A base onset is triggered by a logistic model that relates to the
maximum temperature and the respective degree days. Beginning from the base onset,
a specific level of degree days (depending on the share of individuals that
should be accounted for)  and maximum air temperature must be reached to
trigger the actual onset.
</p>
</li>
<li> <p><strong>Development</strong>: While the bark temperature and the emergence of new
generations are determined according to <a href="#topic+model.phenips.apply">PHENIPS</a>, the
calculation of the beetles' development rates is refined. Rather than implying
a constant development within a day, temperature fluctuations are incorporated
by taking the daily temperature amplitude into account. Additionally, the
first part of development represents the pre-oviposition period and will
not appear in the resulting output.
</p>
</li>
<li> <p><strong>Diapause</strong>: The diapause can be initiated due to the photoperiod according
to <a href="#topic+model.phenips.apply">PHENIPS</a> or by a logistic model that depends on the
daylength and the maximum temperature and accounts for beetles that reproduce
even on shorter days if the temperatures are favorable. In the second case,
PHENIPS-Clim detects a reproductive arrest, due to adverse abiotic parameters,
and not an actual diapause as the output can be adjusted, if conditions improve
and allow for further reproduction later in the season.
</p>
</li>
<li> <p><strong>Mortality</strong>: White stages (egg to pupa) die when the minimum temperature
falls below a specific threshold.
</p>
</li></ul>

<p>Look <a href="#topic+model.phenips_clim.customize">here</a> to find out how the model parameters affect the actual calculations and which values are used by default.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.bso.apply">model.bso.apply</a></code>,
<code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>,
<code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>,
<code><a href="#topic+model.lange.apply">model.lange.apply</a></code>,
<code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>,
<code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>

<hr>
<h2 id='model.phenips_clim.customize'>Customize PHENIPS-Clim</h2><span id='topic+model.phenips_clim.customize'></span>

<h3>Description</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. Here, the parameters are
described that can be used to customize PHENIPS-Clim. The model
is currently unpublished. This manual will be updated as soon as a
publication is available. Look <a href="#topic+model.phenips_clim.customize">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.phenips_clim.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days to trigger the onset.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_onset_func">onset_func</code></td>
<td>
<p>Function with the SpatRasters <code>tmax</code> (maximum temperature)
and <code>dd_tmax</code> (degree days of maximum temperature) as parameters.
The function should return <code>TRUE</code> when the base onset is
triggered. See <code>onset_add_dd</code> for the actual onset of infestation.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dd_onset_alt_start_date">dd_onset_alt_start_date</code>, <code id="model.phenips_clim.customize_+3A_dd_onset_alt_base">dd_onset_alt_base</code>, <code id="model.phenips_clim.customize_+3A_onset_alt_func">onset_alt_func</code></td>
<td>
<p>Alternative
way to calculate the diapause (see <code>dd_onset_start_date</code>, <code>dd_onset_base</code> and
<code>onset_func</code>). The first of both onset variants will be used. Set
<code>onset_alt_func = NULL</code> to disable the alternative onset calculation.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_onset_add_dd">onset_add_dd</code></td>
<td>
<p>Vector of options to calculate the actual onset of
infestation. The vector should be named after the share of beetles that
already started breeding when the onset is triggered (choose an option via
<code style="white-space: pre;">&#8288;phenology(..., onset_mode = [option])&#8288;</code> when applying the
model). The values specify the degree days that are required starting at the
first positive return value of <code>onset_func</code>.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_tfly">tfly</code></td>
<td>
<p>Minimum temperature that beetles need to fly.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dd_total_dev">dd_total_dev</code></td>
<td>
<p>Degree days that are required for a generation to fully
develop</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dev_oviposition">dev_oviposition</code></td>
<td>
<p>Named numeric vector of shares in the total development
when the oviposition is finished. The vector should be named after the share
of beetles that should be taken into account (choose an option via
<code style="white-space: pre;">&#8288;phenology(..., oviposition_mode = [option])&#8288;</code> when applying the
model).</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dev_end">dev_end</code></td>
<td>
<p>Share in total development when the juvenile beetle's
development ends. Usable if the development above this threshold should
account for mating, oviposition etc.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dev_sister_brood">dev_sister_brood</code></td>
<td>
<p>Share in the total development, when a sister brood
will be established.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dev_mortal_min">dev_mortal_min</code>, <code id="model.phenips_clim.customize_+3A_dev_mortal_max">dev_mortal_max</code></td>
<td>
<p>The beetles are considered to be in
white stages (egg, larva, pupa) if their development exceeds <code>dev_mortal_min</code>
and subceeds <code>dev_mortal_max</code>. During these stages, the beetles could die
due to a mortality event. <code>NULL</code> means that no lower/upper threshold is
defined.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_topt">topt</code></td>
<td>
<p>Temperature for optimal development.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_func_btmean">func_btmean</code>, <code id="model.phenips_clim.customize_+3A_func_btmax">func_btmax</code>, <code id="model.phenips_clim.customize_+3A_func_btdiff">func_btdiff</code></td>
<td>
<p>Functions to calculate the
bark temperatures (see Baier et al. 2007,
equations A.3 to A.5). Each parameter will be passed as SpatRaster:
</p>

<ul>
<li> <p><code>tmean</code>: mean air temperature
</p>
</li>
<li> <p><code>tmax</code>: maximum air temperature
</p>
</li>
<li> <p><code>rad</code>: radiation
</p>
</li>
<li> <p><code>btmax</code>: maximum bark temperature
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_dev_rates">dev_rates</code></td>
<td>
<p>Data frame that specifies the development rates per day depending
on the mean temperature and the temperature amplitude. Column names are the
mean temperatures and row names the temperature amplitudes both with one
decimal place.
base onset (see <code>onset_func</code>) to trigger the actual onset.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_first_diapause_date">first_diapause_date</code></td>
<td>
<p>Date before which an initiation of the diapause is
impossible ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_diapause_thermal_func">diapause_thermal_func</code></td>
<td>
<p>Function to calculate the initiation
of the diapause if the model was applied using <code>phenology(..., diapause_mode = 'thermal')</code>.
The diapause will be initiated the last time when the function returns <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_daylength_dia">daylength_dia</code></td>
<td>
<p>When the daylength falls below this threshold, diapause
will be initiated if the model was applied using
<code>phenology(..., diapause_mode = 'photoperiodic')</code>.</p>
</td></tr>
<tr><td><code id="model.phenips_clim.customize_+3A_tlethal">tlethal</code></td>
<td>
<p>Temperature threshold below which white stages will die.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for PHENIPS-Clim and specifies their
default values.
</p>
<div class="sourceCode r"><pre>model("phenips-clim",

      # ==== onset ====

      dd_onset_start_date = '03-01',
      dd_onset_base = 12,
      onset_func = \(tmax, dd_tmax) {
        0.564071 * tmax + 0.006434 * dd_tmax - 12.37046 &gt; 0
      },

      dd_onset_alt_start_date = '04-01',
      dd_onset_alt_base = 8.3,
      onset_alt_func = \(tmax, dd_tmax) dd_tmax &gt;= 140,

      onset_add_dd = c('0.1' = 0, '0.5' = 90, '0.9' = 190),

      # ==== development ====

      tfly = 16.5,

      dd_total_dev = 557,

      dev_oviposition = c('0.1' = 0.1,
                          '0.5' = 0.15,
                          '0.9' = 0.26),
      dev_end = 1,
      dev_sister_brood = 0.3,

      dev_mortal_min = NULL,
      dev_mortal_max = 0.6,

      topt = 30.4,

      func_btmean = function(tmean, rad) {
        -0.173 + 0.0008518 * rad + 1.054 * tmean
      },
      func_btmax = function(tmax, rad) {
        1.656 + 0.002955 * rad + 0.534 * tmax + 0.01884 * tmax ^ 2
      },
      func_btdiff = function(tmax) {
        (-310.667 + 9.603 * tmax) / 24
      },

      # dev_rates too large to show here, type `params('phenips-clim')$dev_rates`
      # to get the dev_rates that are used by default
      # dev_rates = matrix(...),

      model_end_date = '12-31',

      # ==== diapause ====

      first_diapause_date = '08-12',
      diapause_thermal_func = function(daylength, tmax) {
        0.8619156 * daylength + 0.5081128 * tmax - 23.63691 &gt; 0
      },
      daylength_dia = 14.5,

      # ==== mortality ====

      tlethal = -5
)
</pre></div>


<h3>References</h3>

<p>Baier P, Pennerstorfer J, Schopf A (2007).
&ldquo;PHENIPS—A comprehensive phenology model of <em>Ips typographus</em> (L.)(Col., Scolytinae) as a tool for hazard rating of bark beetle infestation.&rdquo;
<em>Forest Ecology and Management</em>, <b>249</b>(3), 171&ndash;186.
<a href="https://doi.org/10.1016/j.foreco.2007.05.020">doi:10.1016/j.foreco.2007.05.020</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.bso.customize">model.bso.customize</a></code>,
<code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>,
<code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>,
<code><a href="#topic+model.lange.customize">model.lange.customize</a></code>,
<code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>,
<code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>

<hr>
<h2 id='model.phenips.apply'>Use PHENIPS</h2><span id='topic+model.phenips.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of PHENIPS with <code><a href="#topic+phenology">phenology()</a></code>.
The model specific inputs are listed and its basic functionality is explained.
PHENIPS was published by Baier et al. (2007) and
parametrized at the Kalkalpen National Park in Austria for <em>Ips typographus</em>.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.phenips.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.</p>
</td></tr>
<tr><td><code id="model.phenips.apply_+3A_tmean">tmean</code>, <code id="model.phenips.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily mean/maximum temperatures in °C.</p>
</td></tr>
<tr><td><code id="model.phenips.apply_+3A_rad">rad</code></td>
<td>
<p>Daily radiation in W * h / m^2.</p>
</td></tr>
<tr><td><code id="model.phenips.apply_+3A_daylength">daylength</code></td>
<td>
<p>Length of the day in hours. Can be created with
<code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code> or <code><a href="#topic+create_daylength_df">create_daylength_df()</a></code>.</p>
</td></tr>
<tr><td><code id="model.phenips.apply_+3A_exposure">exposure</code></td>
<td>
<p>Specifies the sun exposure. Can be <code>'sunny'</code> (default) or <code>'shaded'</code>.</p>
</td></tr>
<tr><td><code id="model.phenips.apply_+3A_sister_broods">sister_broods</code></td>
<td>
<p>Set <code>FALSE</code> if sister broods should not be calculated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply PHENIPS and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>phenology("phenips", ..., tmean, tmax, rad, daylength,
          exposure = 'sunny', sister_broods = TRUE)

# calculate submodels separately
phenology("phenips", ..., .submodels = 'onset', tmax)
phenology("phenips", ..., .submodels = 'diapause', daylength)
phenology("phenips", ..., .submodels = 'mortality', tmax)
phenology("phenips", ..., .submodels = 'development',
          .onset, .diapause = NULL, .mortality = NULL,
          tmean, tmax, rad,
          exposure = 'sunny', sister_broods = TRUE)
</pre></div>


<h3>Value</h3>

<p>The function returns a phenology. Look <a href="#topic+analyse.phenology">here</a> to find out how it can be analysed.
</p>


<h3>Functioning</h3>

<p>In the following, the basic functioning of PHENIPS is explained.
</p>

<ul>
<li> <p><strong>Onset</strong>: The onset is triggered when the degree days of the maximum temperature reach
a specific threshold and the maximum temperature exceeds the minimum flight temperature.
</p>
</li>
<li> <p><strong>Development</strong>: The beetles develop according to a slightly modified version
of the optimum curve described by Wermelinger and Seifert (1998)
depending on the bark temperature. The bark temperature is modeled based on mean
and maximum temperature, global radiation and sun exposure. A new generation will
emerge when the last generation is fully developed and the maximum temperature
exceeds the minimum flight temperature.
</p>
</li>
<li> <p><strong>Diapause</strong>: The diapause is initiated when the daylength falls below a threshold.
</p>
</li>
<li> <p><strong>Mortality</strong>: White stages (egg to pupa) die on a fixed date.
</p>
</li></ul>

<p>Look <a href="#topic+model.phenips.customize">here</a> to find out how the model parameters affect the actual calculations and which values are used by default.
</p>


<h3>References</h3>

<p>Baier P, Pennerstorfer J, Schopf A (2007).
&ldquo;PHENIPS—A comprehensive phenology model of <em>Ips typographus</em> (L.)(Col., Scolytinae) as a tool for hazard rating of bark beetle infestation.&rdquo;
<em>Forest Ecology and Management</em>, <b>249</b>(3), 171&ndash;186.
<a href="https://doi.org/10.1016/j.foreco.2007.05.020">doi:10.1016/j.foreco.2007.05.020</a>.<br /><br /> Wermelinger B, Seifert M (1998).
&ldquo;Analysis of the temperature dependent development of the spruce bark beetle <em>Ips typographus</em> (L) (Col., Scolytidae).&rdquo;
<em>Journal of Applied Entomology</em>, <b>122</b>(1-5), 185-191.
<a href="https://doi.org/10.1111/j.1439-0418.1998.tb01482.x">doi:10.1111/j.1439-0418.1998.tb01482.x</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.bso.apply">model.bso.apply</a></code>,
<code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>,
<code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>,
<code><a href="#topic+model.lange.apply">model.lange.apply</a></code>,
<code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>,
<code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>

<hr>
<h2 id='model.phenips.customize'>Customize PHENIPS</h2><span id='topic+model.phenips.customize'></span>

<h3>Description</h3>

<p>This page describes the parameters
that can be used to customize PHENIPS. The model was developed by
Baier et al. (2007). Look <a href="#topic+model.phenips.apply">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.phenips.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days to trigger the onset.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dd_onset_threshold">dd_onset_threshold</code></td>
<td>
<p>Degree days that are required to trigger the onset of
infestation. Additionally, the maximum temperature must exceed <code>tfly</code>.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_tfly">tfly</code></td>
<td>
<p>Minimum temperature that beetles need to fly.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dd_development_base">dd_development_base</code></td>
<td>
<p>Base temperature to calculate degree days for calculating
the beetles development.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dd_total_dev">dd_total_dev</code></td>
<td>
<p>Degree days that are required for a generation to fully
develop</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dev_start">dev_start</code>, <code id="model.phenips.customize_+3A_dev_end">dev_end</code></td>
<td>
<p>Share in total development when the egg development starts and the
juvenile beetle's development ends respectively. Usable if the development
below/above these thresholds should account for mating, oviposition etc.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dev_sister_brood">dev_sister_brood</code></td>
<td>
<p>Share in the total development when a sister brood
will be established.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_dev_mortal_min">dev_mortal_min</code>, <code id="model.phenips.customize_+3A_dev_mortal_max">dev_mortal_max</code></td>
<td>
<p>The beetles are considered to be in
white stages (egg, larva, pupa) if their development exceeds <code>dev_mortal_min</code>
and subceeds <code>dev_mortal_max</code>. During these stages, the beetles could die
due to a mortality event. <code>NULL</code> means that no lower/upper threshold is
defined.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_topt">topt</code></td>
<td>
<p>Temperature for optimal development.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_tlow">tlow</code>, <code id="model.phenips.customize_+3A_tup">tup</code></td>
<td>
<p>Temperature below/above which no development happens.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_func_btmean">func_btmean</code>, <code id="model.phenips.customize_+3A_func_btmax">func_btmax</code>, <code id="model.phenips.customize_+3A_func_btdiff">func_btdiff</code></td>
<td>
<p>Functions to calculate the
effective bark temperature (see Baier et al. 2007,
equations A.3 to A5). Each parameter will be passed as SpatRaster:
</p>

<ul>
<li> <p><code>tmean</code>: mean air temperature
</p>
</li>
<li> <p><code>tmax</code>: maximum air temperature
</p>
</li>
<li> <p><code>rad</code>: radiation
</p>
</li>
<li> <p><code>btmax</code>: maximum bark temperature
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_daylength_dia">daylength_dia</code></td>
<td>
<p>When the daylength falls below this threshold, diapause
will be initiated.</p>
</td></tr>
<tr><td><code id="model.phenips.customize_+3A_mortality_date">mortality_date</code></td>
<td>
<p>Date when all white stages (egg, larva, pupa) die.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for PHENIPS and specifies their
default values.
</p>
<div class="sourceCode r"><pre>
model("phenips",

      # ==== onset ====

      dd_onset_start_date = '04-01',
      dd_onset_base = 8.3,
      dd_onset_threshold = 140,

      # ==== onset + development ====

      tfly = 16.5,

      # ==== development ====

      dd_development_base = 8.3,
      dd_total_dev = 557,
      dev_start = 0,
      dev_end = 1,
      dev_sister_brood = 0.5,
      dev_mortal_min = NULL,
      dev_mortal_max = 0.6,

      topt = 30.4,
      tlow = 8.3,
      tup = 38.9,

      func_btmean = function(tmean, rad) {
        -0.173 + 0.0008518 * rad + 1.054 * tmean
      },
      func_btmax = function(tmax, rad) {
        1.656 + 0.002955 * rad + 0.534 * tmax + 0.01884 * tmax ^ 2
      },
      func_btdiff = function(btmax) {
        (-310.667 + 9.603 * btmax) / 24
      },

      model_end_date = '10-31',

      # ==== diapause ====

      daylength_dia = 14.5,

      # ==== mortality ====

      mortality_date = '10-31'
)
</pre></div>


<h3>References</h3>

<p>Baier P, Pennerstorfer J, Schopf A (2007).
&ldquo;PHENIPS—A comprehensive phenology model of <em>Ips typographus</em> (L.)(Col., Scolytinae) as a tool for hazard rating of bark beetle infestation.&rdquo;
<em>Forest Ecology and Management</em>, <b>249</b>(3), 171&ndash;186.
<a href="https://doi.org/10.1016/j.foreco.2007.05.020">doi:10.1016/j.foreco.2007.05.020</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.bso.customize">model.bso.customize</a></code>,
<code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>,
<code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>,
<code><a href="#topic+model.lange.customize">model.lange.customize</a></code>,
<code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>,
<code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>

<hr>
<h2 id='model.rity.apply'>Use RITY</h2><span id='topic+model.rity.apply'></span>

<h3>Description</h3>

<p>This page describes the usage of RITY with <code><a href="#topic+phenology">phenology()</a></code>.
The model specific inputs are listed and its basic functionality is explained.
RITY (also called RITY-2) was published by Ogris et al. (2019) and
parametrized for <em>Ips typographus</em> in Slovenia.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.rity.apply_+3A_tmin">tmin</code>, <code id="model.rity.apply_+3A_tmean">tmean</code>, <code id="model.rity.apply_+3A_tmax">tmax</code></td>
<td>
<p>Daily minimum/mean/maximum temperatures in °C.
For the <code>development</code> submodel, the parameter that is obligatory depends on
<code>mode</code>.</p>
</td></tr>
<tr><td><code id="model.rity.apply_+3A_daylength">daylength</code></td>
<td>
<p>Length of the day in hours. Can be created with
<code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code> or <code><a href="#topic+create_daylength_rst">create_daylength_rst()</a></code>.</p>
</td></tr>
<tr><td><code id="model.rity.apply_+3A_mode">mode</code></td>
<td>
<p>Specifies which temperature should be used to calculate the
development. Can be <code>min</code>, <code>mean</code> or <code>max</code>.</p>
</td></tr>
<tr><td><code id="model.rity.apply_+3A_.submodels">.submodels</code>, <code id="model.rity.apply_+3A_.onset">.onset</code>, <code id="model.rity.apply_+3A_.diapause">.diapause</code>, <code id="model.rity.apply_+3A_.mortality">.mortality</code>, <code id="model.rity.apply_+3A_...">...</code></td>
<td>
<p>See <code><a href="#topic+phenology">phenology()</a></code> for a detailled description of the function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+phenology">phenology()</a></code> is used to apply a model. The following code
illustrates which inputs are required to apply RITY and which additional
parameters are available.
</p>
<div class="sourceCode r"><pre>phenology("rity", ..., tmin = NULL, tmean = NULL, tmax, daylength, mode = 'max')

# calculate submodels separately
phenology("rity", ..., .submodels = 'onset', tmax)
phenology("rity", ..., .submodels = 'diapause', daylength)
phenology("rity", ..., .submodels = 'mortality', tmax)
phenology("rity", ..., .submodels = 'development',
          .onset, .diapause = NULL, .mortality = NULL,
          tmin = NULL, tmean = NULL, tmax = NULL, mode = 'max')
</pre></div>


<h3>Value</h3>

<p>The function returns a phenology. Look <a href="#topic+analyse.phenology">here</a> to find out how it can be analysed.
</p>


<h3>Functioning</h3>

<p>In the following, the basic functioning of RITY is explained.
</p>

<ul>
<li> <p><strong>Onset</strong>: See <a href="#topic+model.phenips.apply">PHENIPS</a>.
</p>
</li>
<li> <p><strong>Development</strong>: Based on <a href="#topic+model.phenips.apply">PHENIPS</a> with a few modifications:
</p>

<ul>
<li><p> The optimum curve is calculated according to
Wermelinger and Seifert (1998) without
simplification.
</p>
</li>
<li><p> The minimum, mean or maximum bark temperature can be used to calculate
the development. These temperatures depend only on the respective air temperatures.
</p>
</li></ul>

</li>
<li> <p><strong>Diapause</strong>: See <a href="#topic+model.phenips.apply">PHENIPS</a>.
</p>
</li>
<li> <p><strong>Mortality</strong>: See <a href="#topic+model.phenips.apply">PHENIPS</a>.
</p>
</li></ul>

<p>Look <a href="#topic+model.rity.customize">here</a> to find out how the model parameters affect the actual calculations and which values are used by default.
</p>


<h3>References</h3>

<p>Ogris N, Ferlan M, Hauptman T, Pavlin R, Kavčič A, Jurc M, De Groot M (2019).
&ldquo;RITY&ndash;A phenology model of Ips typographus as a tool for optimization of its monitoring.&rdquo;
<em>Ecological Modelling</em>, <b>410</b>, 108775.
<a href="https://doi.org/10.1016/j.ecolmodel.2019.108775">doi:10.1016/j.ecolmodel.2019.108775</a>.<br /><br /> Wermelinger B, Seifert M (1998).
&ldquo;Analysis of the temperature dependent development of the spruce bark beetle <em>Ips typographus</em> (L) (Col., Scolytidae).&rdquo;
<em>Journal of Applied Entomology</em>, <b>122</b>(1-5), 185-191.
<a href="https://doi.org/10.1111/j.1439-0418.1998.tb01482.x">doi:10.1111/j.1439-0418.1998.tb01482.x</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.rity.customize">model.rity.customize</a></code>
</p>
<p>Other phenology applications: 
<code><a href="#topic+model.bso.apply">model.bso.apply</a></code>,
<code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>,
<code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>,
<code><a href="#topic+model.lange.apply">model.lange.apply</a></code>,
<code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>,
<code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>
</p>

<hr>
<h2 id='model.rity.customize'>Customize RITY</h2><span id='topic+model.rity.customize'></span>

<h3>Description</h3>

<p>This page describes the parameters
that can be used to customize RITY (also called RITY-2). The model was developed by
Ogris et al. (2019). Look <a href="#topic+model.rity.apply">here</a> to find
out how to apply the model.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="model.rity.customize_+3A_dd_onset_start_date">dd_onset_start_date</code></td>
<td>
<p>The date, when the degree days start to sum up ('MM-DD').</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dd_onset_threshold">dd_onset_threshold</code></td>
<td>
<p>Degree days that are required to trigger the onset of
infestation. Additionally, the maximum temperature must exceed <code>tfly</code>.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_tfly">tfly</code></td>
<td>
<p>Minimum temperature that beetles need to fly.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dd_onset_base">dd_onset_base</code></td>
<td>
<p>Base temperature to calculate degree days for development.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dd_total_dev">dd_total_dev</code></td>
<td>
<p>Degree days that are required for a generation to fully
develop</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dev_start">dev_start</code>, <code id="model.rity.customize_+3A_dev_end">dev_end</code></td>
<td>
<p>Share in total development when the egg development starts and the
juvenile beetle's development ends respectively. Usable if the development
below/above these thresholds should account for mating, oviposition etc.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dev_sister_brood">dev_sister_brood</code></td>
<td>
<p>Share in the total development, when a sister brood
will be established.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dev_mortal_min">dev_mortal_min</code>, <code id="model.rity.customize_+3A_dev_mortal_max">dev_mortal_max</code></td>
<td>
<p>The beetles are considered to be in
white stages (egg, larva, pupa) if their development exceeds <code>dev_mortal_min</code>
and subceeds <code>dev_mortal_max</code>. During these stages, the beetles could die
due to a mortality event. <code>NULL</code> means that no lower/upper threshold is
defined.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_func_ftmean">func_ftmean</code>, <code id="model.rity.customize_+3A_func_ftmax">func_ftmax</code>, <code id="model.rity.customize_+3A_func_atdiff">func_atdiff</code></td>
<td>
<p>Functions to caclulate the
air temperature in forest stands (see Ogris et al. 2019,
equations 1 - 3). Each parameter will be passed as SpatRaster:
</p>

<ul>
<li> <p><code>tmin</code>: min air temperature
</p>
</li>
<li> <p><code>tmean</code>: mean air temperature
</p>
</li>
<li> <p><code>tmax</code>: maximum air temperature
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_func_btmean">func_btmean</code>, <code id="model.rity.customize_+3A_func_btmax">func_btmax</code>, <code id="model.rity.customize_+3A_func_btdiff">func_btdiff</code></td>
<td>
<p>Functions to caclulate the
bark temperature (see Ogris et al. 2019,
equations 4 - 6). Each parameter will be passed as SpatRaster:
</p>

<ul>
<li> <p><code>ftmin</code>: min air temperature in forest stands
</p>
</li>
<li> <p><code>ftmean</code>: mean air temperature in forest stands
</p>
</li>
<li> <p><code>ftmax</code>: maximum air temperature in forest stands
</p>
</li></ul>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_dt_low">dt_low</code>, <code id="model.rity.customize_+3A_dt_up">dt_up</code>, <code id="model.rity.customize_+3A_topt">topt</code>, <code id="model.rity.customize_+3A_tmax">tmax</code>, <code id="model.rity.customize_+3A_alpha">alpha</code>, <code id="model.rity.customize_+3A_beta">beta</code>, <code id="model.rity.customize_+3A_gamma">gamma</code></td>
<td>
<p>Parameters to calculate
the effective bark temperature (see Ogris et al. 2019,
equations 7 - 9).</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_model_end_date">model_end_date</code></td>
<td>
<p>Date when the model ends (no further development will
be modeled).</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_daylength_dia">daylength_dia</code></td>
<td>
<p>When the daylength falls below this threshold, diapause
will be initiated.</p>
</td></tr>
<tr><td><code id="model.rity.customize_+3A_mortality_date">mortality_date</code></td>
<td>
<p>Date when all white stages (egg, larva, pupa) die.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In <code>barrks</code>, <code><a href="#topic+model">model()</a></code> is used to customize a model. The following code
illustrates which parameters are available for RITY and specifies their
default values.
</p>
<div class="sourceCode r"><pre>model("rity",

      # ==== onset ====

      dd_onset_start_date = '03-07',
      dd_onset_base = 8.3,
      dd_onset_threshold = 155.6,

      # ==== onset + development ====

      tfly = 14.5,

      # ==== development ====

      dd_development_base = 8.3,
      dd_total_dev = 557,
      dev_start = 0,
      dev_end = 1,
      dev_sister_brood = 0.5,
      dev_mortal_min = NULL,
      dev_mortal_max = 0.6,

      func_ftmin = function(tmin) { 1.44 + 0.82 * tmin },
      func_ftmean = function(tmean) { 0.50 + 0.81 * tmean },
      func_ftmax = function(tmax) { 1.03 + 0.86 * tmax },

      func_btmin = function(ftmin) { 0.56 + 0.99 * ftmin },
      func_btmean = function(ftmean) { -0.48 + 1.03 * ftmean },
      func_btmax = function(ftmax) { 0.03 + 0.99 * ftmax },

      dt_low = 8.3,
      dt_up = 38.9,
      topt = 30.4,
      tmax = 40.9958913,
      alpha = 0.02876507,
      beta = 3.5922336,
      gamma = 1.24657367,

      model_end_date = '10-31',

      # ==== diapause ====

      daylength_dia = 14.5,

      # ==== mortality ====

      mortality_date = '10-31'
)
</pre></div>


<h3>References</h3>

<p>Ogris N, Ferlan M, Hauptman T, Pavlin R, Kavčič A, Jurc M, De Groot M (2019).
&ldquo;RITY&ndash;A phenology model of Ips typographus as a tool for optimization of its monitoring.&rdquo;
<em>Ecological Modelling</em>, <b>410</b>, 108775.
<a href="https://doi.org/10.1016/j.ecolmodel.2019.108775">doi:10.1016/j.ecolmodel.2019.108775</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+model">model()</a></code>, <code><a href="#topic+phenology">phenology()</a></code>, <code><a href="#topic+model.rity.apply">model.rity.apply</a></code>
</p>
<p>Other model customizations: 
<code><a href="#topic+model.bso.customize">model.bso.customize</a></code>,
<code><a href="#topic+model.chapy.customize">model.chapy.customize</a></code>,
<code><a href="#topic+model.joensson.customize">model.joensson.customize</a></code>,
<code><a href="#topic+model.lange.customize">model.lange.customize</a></code>,
<code><a href="#topic+model.phenips.customize">model.phenips.customize</a></code>,
<code><a href="#topic+model.phenips_clim.customize">model.phenips_clim.customize</a></code>
</p>

<hr>
<h2 id='params'>Get model parameters</h2><span id='topic+params'></span>

<h3>Description</h3>

<p>Get the parameters of a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>params(m, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="params_+3A_m">m</code></td>
<td>
<p>Name of the model or the return value of another <code>model()</code>-call.</p>
</td></tr>
<tr><td><code id="params_+3A_...">...</code></td>
<td>
<p>List of parameters to customize the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># print the first parameters of `phenips-clim`
head(params('phenips-clim'))
</code></pre>

<hr>
<h2 id='phenology'>Central function to calculate a phenology</h2><span id='topic+phenology'></span><span id='topic+bso_phenology'></span>

<h3>Description</h3>

<p>Calculate a phenology (or its subparts) with a specific model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>phenology(
  .model,
  .data = NULL,
  .dates = NULL,
  .win = NULL,
  .ext = "tif",
  .onset = NULL,
  .diapause = NULL,
  .mortality = NULL,
  .submodels = c("onset", "diapause", "mortality", "development"),
  .setup_only = FALSE,
  .stations = NULL,
  .storage = NULL,
  .quiet = FALSE,
  ...
)

bso_phenology(
  .model = "bso",
  .data = NULL,
  .dates = NULL,
  .win = NULL,
  .ext = "tif",
  .onset = NULL,
  .diapause = NULL,
  .mortality = NULL,
  .submodels = c("onset", "diapause", "mortality", "development"),
  .setup_only = FALSE,
  .stations = NULL,
  .storage = NULL,
  .quiet = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="phenology_+3A_.model">.model</code></td>
<td>
<p>A phenology model or a model name (see <code><a href="#topic+model">model()</a></code>,
<code><a href="#topic+model_combine">model_combine()</a></code>).</p>
</td></tr>
<tr><td><code id="phenology_+3A_.data">.data</code></td>
<td>
<p>Data that will be passed to the model. It can be one of the following:
</p>

<ul>
<li><p> Character string: The raster data will be loaded from the path specified.
The files have to be named like the respective model inputs.
</p>
</li>
<li><p> Named list: Each element contains the input data according to its name.
</p>
</li>
<li><p> Data frame (station data): Should have the columns <code>date</code> and <code>station</code>
(name of the station). Additional columns have to be named like the
respective model inputs.
</p>
</li>
<li><p> Additionally, data can be passed through the ... argument.
</p>
</li></ul>

<p>Look at the model application manuals to find out which inputs are required
by a specific model: <code><a href="#topic+model.bso.apply">model.bso.apply</a></code>, <code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>, <code><a href="#topic+model.rity.apply">model.rity.apply</a></code>, <code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>, <code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>, <code><a href="#topic+model.lange.apply">model.lange.apply</a></code>, <code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.dates">.dates</code></td>
<td>
<p>Vector of dates that the data should be restricted to.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.win">.win</code></td>
<td>
<p>SpatExtent to set a window (area of interest) if <code>.data</code> is a
path to load the raster data from.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.ext">.ext</code></td>
<td>
<p>Extension of the files that should be used if <code>.data</code> is a path
to load the raster data from.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.onset">.onset</code>, <code id="phenology_+3A_.diapause">.diapause</code>, <code id="phenology_+3A_.mortality">.mortality</code></td>
<td>
<p>Pass custom or precalculated phenological
events to the model. See <code><a href="#topic+create_events">create_events</a></code> to find out how to create events
manually. Alternatively, the return value of <code><a href="#topic+get_onset_rst">get_onset_rst()</a></code>,
<code><a href="#topic+get_diapause_rst">get_diapause_rst()</a></code> or <code><a href="#topic+get_mortality_rst">get_mortality_rst()</a></code>
could be used (with <code>as_doy = FALSE</code>) to extract the respective phenological event from another phenology.
In that case, that phenology must match the temporal and spatial extent of the
other inputs.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.submodels">.submodels</code></td>
<td>
<p>Character vector. Specifies which submodels should be
calculated. Can be a subset of
<code>c('onset', 'diapause', 'mortality', 'development')</code>.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.setup_only">.setup_only</code></td>
<td>
<p>If <code>TRUE</code> only the inputs will be preprocessed without
calculating any submodels. The preprocessed data can be used as input for
other <code><a href="#topic+phenology">phenology()</a></code> calls and can be accessed via <code><a href="#topic+get_input_data">get_input_data()</a></code>.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.stations">.stations</code></td>
<td>
<p>Assign stations to the phenology. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.storage">.storage</code></td>
<td>
<p>If set, the path specified here will be used to save the
(intermediate) results. If <code>phenology()</code> is called successively with a
growing amount of data, the calculations will continue where they stopped.
This can save calculation time especially for large raster inputs. Note that
this will only work of raster inputs and if <code>terra::sources()</code> is not empty.
Otherwise the results of the calculations will be saved but successive
calculations are not possible. If no input data is passed, the phenology
will be loaded from the storage.</p>
</td></tr>
<tr><td><code id="phenology_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
<tr><td><code id="phenology_+3A_...">...</code></td>
<td>
<p>Parameters that will be passed to the model. Must be named according
to the model inputs. See <code>.data</code> for alternative ways to pass data to the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A phenology as a list. Look <a href="#topic+analyse.phenology">here</a> to find out how
a phenology can be analysed. It is not recommended to access the list elements directly.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>bso_phenology()</code>: As BSO works a bit different than the other models, a seperate
phenology function is implemented for this model. Note that while the
onset and the development submodels are needed to be taken from BSO,
the diapause and the mortality submodels are compatible with other models.
</p>
<p>The function returns a BSO phenology as a list. Look <a href="#topic+analyse.phenology.bso">here</a> to find out how
a BSO phenology can be analysed. It is not recommended to access the list elements directly.
To be able to use the functions that are
available for phenology objects returned by <code><a href="#topic+phenology">phenology()</a></code>, call <code><a href="#topic+bso_translate_phenology">bso_translate_phenology()</a></code>.
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+model.bso.apply">model.bso.apply</a></code>, <code><a href="#topic+model.phenips.apply">model.phenips.apply</a></code>, <code><a href="#topic+model.rity.apply">model.rity.apply</a></code>, <code><a href="#topic+model.chapy.apply">model.chapy.apply</a></code>, <code><a href="#topic+model.joensson.apply">model.joensson.apply</a></code>, <code><a href="#topic+model.lange.apply">model.lange.apply</a></code>, <code><a href="#topic+model.phenips_clim.apply">model.phenips_clim.apply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data())

# plot calculated generations
gens &lt;- get_generations_rst(p)
terra::plot(gens)

</code></pre>

<hr>
<h2 id='plot_development_diagram'>Plot a development diagram</h2><span id='topic+plot_development_diagram'></span>

<h3>Description</h3>

<p>A development diagram illustrates the beetles' development of all appearing
generations within a year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_development_diagram(
  .phenos,
  .station = prop_stations(.phenos[[1]])[1],
  .generations = NULL,
  .colors = barrks_colors("diagram_lines"),
  .fill = barrks_colors("diagram_fill"),
  .labels = barrks_labels("diagram"),
  .legend_col = TRUE,
  .legend_lty = TRUE,
  .group = TRUE,
  .minmax_only = FALSE,
  .fun_bg = NULL,
  .lty = "solid",
  .lwd = 2,
  .date_split = NULL,
  .date_stop = NULL,
  .lty2 = "dotted",
  .lwd2 = 2,
  .fill2 = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_development_diagram_+3A_.phenos">.phenos</code></td>
<td>
<p>List of (named) phenology objects or a single phenology that will be
plotted (see <code><a href="#topic+phenology">phenology()</a></code>).</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.station">.station</code></td>
<td>
<p>Pass a character vector to choose a station assigned to <code>pheno</code> by its name, or pass a different station. See <code><a href="#topic+stations_create">stations_create()</a></code> for details.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.generations">.generations</code></td>
<td>
<p>Generations that will be shown.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.colors">.colors</code>, <code id="plot_development_diagram_+3A_.fill">.fill</code>, <code id="plot_development_diagram_+3A_.labels">.labels</code></td>
<td>
<p>Character vectors. Change the line colors, fill
or labels of the generations starting from the first generation followed
consecutively by elements for the other generations (including sister broods).</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.legend_col">.legend_col</code>, <code id="plot_development_diagram_+3A_.legend_lty">.legend_lty</code></td>
<td>
<p>Manipulate the appearance of the legends for
colors and line types. Pass <code>TRUE</code>/<code>FALSE</code> to enable/disable the respective legend.
For the customization of the respective legend, a list of parameters for
<a href="graphics.html#topic+legend">graphics::legend</a> can be passed.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.group">.group</code></td>
<td>
<p>Select the phenology objects that will be used to draw the filling. It can be
a character vector of the phenology names, an integer vector of the phenology
numbers, or <code>TRUE</code> if all phenology objects should be used.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.minmax_only">.minmax_only</code></td>
<td>
<p>If <code>TRUE</code>, only the minimum and the maximum development
line will be plotted.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.fun_bg">.fun_bg</code></td>
<td>
<p>Function to draw a background.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.lty">.lty</code>, <code id="plot_development_diagram_+3A_.lwd">.lwd</code></td>
<td>
<p>Use specific line types and line widths.
Vectors of the same length as <code>.phenos</code> will assign the values to the
respective phenology.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.date_split">.date_split</code>, <code id="plot_development_diagram_+3A_.lty2">.lty2</code>, <code id="plot_development_diagram_+3A_.lwd2">.lwd2</code>, <code id="plot_development_diagram_+3A_.fill2">.fill2</code></td>
<td>
<p>When <code>.date_split</code> is reached, the
appearance of the plot will change according to the respective values.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_.date_stop">.date_stop</code></td>
<td>
<p>If specified, no data will be plotted after the respective
date.</p>
</td></tr>
<tr><td><code id="plot_development_diagram_+3A_...">...</code></td>
<td>
<p>Parameters passed to <code><a href="base.html#topic+plot">base::plot()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None
</p>


<h3>See Also</h3>

<p><a href="#topic+stations">stations</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data('stations'), .quiet = TRUE)

# plot development diagram of the station 'Mannheim'
plot_development_diagram(p, 'Mannheim', .lwd = 4, .legend_lty = FALSE)

</code></pre>

<hr>
<h2 id='properties'>Get phenology properties</h2><span id='topic+properties'></span><span id='topic+prop_year'></span><span id='topic+prop_dates'></span><span id='topic+prop_first_date'></span><span id='topic+prop_last_date'></span><span id='topic+prop_hatched_generations'></span><span id='topic+prop_filial_generations'></span><span id='topic+prop_sister_broods'></span><span id='topic+prop_stations'></span>

<h3>Description</h3>

<p>To examine a phenology, there are different functions to query its properties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## get the year the phenology was calculated for
prop_year(pheno)

## get all dates that are covered by the phenology
prop_dates(pheno)

## get the first date that is covered by the phenology
prop_first_date(pheno)

## get the last date that is covered by the phenology
prop_last_date(pheno)

## get all hatched generations as numeric vector
prop_hatched_generations(pheno)

## get all hatched filial generations as numeric vector
prop_filial_generations(pheno)

## get all hatched sister broods as numeric vector
prop_sister_broods(pheno)

## get the stations assigned to the phenology
prop_stations(pheno)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="properties_+3A_pheno">pheno</code></td>
<td>
<p>A  phenology (see <code><a href="#topic+phenology">phenology()</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The requested property.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data(), .quiet = TRUE)

# print all generations that were hatched
prop_hatched_generations(p)

</code></pre>

<hr>
<h2 id='save_phenology'>Save/load a phenology</h2><span id='topic+save_phenology'></span><span id='topic+load_phenology'></span><span id='topic+save_load_phenology'></span>

<h3>Description</h3>

<p>Saves/loads a phenology to/from a path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_phenology(
  pheno,
  .storage,
  .submodels = c("onset", "diapause", "mortality", "development"),
  .overwrite = FALSE,
  .ext = ".tif",
  .quiet = FALSE
)

load_phenology(
  .storage,
  .submodels = c("onset", "diapause", "mortality", "development"),
  .ext = ".tif",
  .quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="save_phenology_+3A_pheno">pheno</code></td>
<td>
<p>A phenology, calculated with <code><a href="#topic+phenology">phenology()</a></code>.</p>
</td></tr>
<tr><td><code id="save_phenology_+3A_.storage">.storage</code></td>
<td>
<p>Path to save/load the phenology.</p>
</td></tr>
<tr><td><code id="save_phenology_+3A_.submodels">.submodels</code></td>
<td>
<p>Which submodels should be saved/loaded.</p>
</td></tr>
<tr><td><code id="save_phenology_+3A_.overwrite">.overwrite</code></td>
<td>
<p>Should an existing storage be overwritten?</p>
</td></tr>
<tr><td><code id="save_phenology_+3A_.ext">.ext</code></td>
<td>
<p>Extension for raster files.</p>
</td></tr>
<tr><td><code id="save_phenology_+3A_.quiet">.quiet</code></td>
<td>
<p>If <code>TRUE</code>, messages are suppressed.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>save_phenology()</code>: None
</p>
</li>
<li> <p><code>load_phenology()</code>: A phenology as a list. Look <a href="#topic+analyse.phenology">here</a> to find out how
a phenology can be analysed. It is not recommended to access the list elements directly.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>save_phenology()</code>: Saves a phenology to a path.
</p>
</li>
<li> <p><code>load_phenology()</code>: Loads a phenology from a path.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data(), .quiet = TRUE)

# choose path to save the phenology
path &lt;- file.path(tempdir(), 'pheno')

# save phenology
save_phenology(p, path, .overwrite = TRUE, .quiet = TRUE)


###

# load phenology from path
p2 &lt;- load_phenology(path, .quiet = TRUE)

# plot generations
gens &lt;- get_generations_rst(p2)
terra::plot(gens)

</code></pre>

<hr>
<h2 id='stations_create'>Work with stations</h2><span id='topic+stations_create'></span><span id='topic+stations_assign'></span><span id='topic+stations_names'></span><span id='topic+stations_cells'></span><span id='topic+stations'></span>

<h3>Description</h3>

<p>In <code>barrks</code>, stations are references to specific raster cells. Thus, they
can be used to extract point-related data from a phenology. Look
<a href="#topic+analyse.phenology">here</a> to find out which station-based functions are
available to analyse a phenology.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stations_create(station_names, cells)

stations_assign(pheno, stations)

stations_names(stations)

stations_cells(stations)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stations_create_+3A_station_names">station_names</code></td>
<td>
<p>Character vector that specifies the names of the stations.</p>
</td></tr>
<tr><td><code id="stations_create_+3A_cells">cells</code></td>
<td>
<p>Numbers of the cells that should be represented by the stations.</p>
</td></tr>
<tr><td><code id="stations_create_+3A_pheno">pheno</code></td>
<td>
<p>A  phenology (see <code><a href="#topic+phenology">phenology()</a></code>)</p>
</td></tr>
<tr><td><code id="stations_create_+3A_stations">stations</code></td>
<td>
<p>Stations created with <code>stations_create()</code> or obtained by
<code><a href="#topic+prop_stations">prop_stations()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li> <p><code>stations_create()</code>: A named numeric vector.
</p>
</li>
<li> <p><code>stations_assign()</code>: A phenology object (see <code><a href="#topic+phenology">phenology()</a></code>).
</p>
</li>
<li> <p><code>stations_names()</code>: A character vector.
</p>
</li>
<li> <p><code>stations_cells()</code>: A numeric vector.
</p>
</li></ul>



<h3>Functions</h3>


<ul>
<li> <p><code>stations_create()</code>: Create stations.
</p>
</li>
<li> <p><code>stations_assign()</code>: Assign stations to a phenology. Returns the phenology
that was passed with respective stations assigned.
</p>
</li>
<li> <p><code>stations_names()</code>: Get the names of stations.
</p>
</li>
<li> <p><code>stations_cells()</code>: Get the raster cells of stations.
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>
# calculate phenology
p &lt;- phenology('phenips-clim', barrks_data(), .quiet = TRUE)

# create stations and assign them to the phenology object
stations &lt;- stations_create(c('station a', 'station b'),
                            c(234, 345))
p &lt;- stations_assign(p, stations)

# plot the development of 'station b'
plot_development_diagram(p, 'station b', .lwd = 4, .legend_lty = FALSE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

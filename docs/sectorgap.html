<!DOCTYPE html><html><head><title>Help for package sectorgap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {sectorgap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_cycle'><p>Add a cycle to a state space model</p></a></li>
<li><a href='#add_error'><p>Add error to state equation</p></a></li>
<li><a href='#add_init_mat'><p>Add initialization matrices to state space model</p></a></li>
<li><a href='#add_lag'><p>Add lags to state equation</p></a></li>
<li><a href='#add_trend'><p>Add a trend to a state space model</p></a></li>
<li><a href='#aggregate_gap'><p>Output gap contributions</p></a></li>
<li><a href='#compute_gaps'><p>Gaps of observation equations</p></a></li>
<li><a href='#compute_mcmc_results'><p>Results for sampled parameters and states</p></a></li>
<li><a href='#compute_weights'><p>Computes weights from sub sector data</p></a></li>
<li><a href='#data_ch'><p>Swiss data set</p></a></li>
<li><a href='#define_ssmodel'><p>State space model</p></a></li>
<li><a href='#draw_output_gap'><p>Draws the parameters of the output gap..</p></a></li>
<li><a href='#draw_trend_innovations'><p>Draws (correlated) trend variances.</p></a></li>
<li><a href='#draw_variance_multi'><p>Draws a variance from an inverse Wishart distribution.</p>
.</a></li>
<li><a href='#draw_variance_scalar'><p>Draws a variance from an inverse Wishart distribution.</p></a></li>
<li><a href='#estimate_ssmodel'><p>Bayesian estimation via Gibbs sampling</p></a></li>
<li><a href='#geweke_test'><p>Geweke test for convergence</p></a></li>
<li><a href='#helper_posterior_assignment'><p>Settings for draws from posterior</p></a></li>
<li><a href='#hpd_interval'><p>Highest posterior density interval (HPDI)</p></a></li>
<li><a href='#hpfilter'><p>HP filter</p></a></li>
<li><a href='#initialize_prior'><p>Prior distribution</p></a></li>
<li><a href='#initialize_settings'><p>Model settings</p></a></li>
<li><a href='#initialize_ss'><p>Initializes a state space model</p></a></li>
<li><a href='#is.settings'><p>Settings object validity check</p></a></li>
<li><a href='#matmult3d'><p>array multiplication</p></a></li>
<li><a href='#mcmc_summary'><p>MCMC summary statistics</p></a></li>
<li><a href='#mvrnorm'><p>Draws from the multivariate normal distribution.</p></a></li>
<li><a href='#pct'><p>Computes the period on period percentage change</p></a></li>
<li><a href='#plot_densities'><p>Prior and posterior plots</p></a></li>
<li><a href='#plot_time_series'><p>Time series plots</p></a></li>
<li><a href='#plot_trace'><p>Prior and posterior plots</p></a></li>
<li><a href='#plot.ss_fit'><p>Plots of results</p></a></li>
<li><a href='#post_regression'><p>Draws the parameters in a regression equation with AR errors, if specified.</p></a></li>
<li><a href='#postARp'><p>Draws the parameters of an AR process (AR parameters and variance).</p></a></li>
<li><a href='#postARp_phi'><p>Draws the autoregressive parameters of an AR process (AR parameters only).</p>
.</a></li>
<li><a href='#prepate_data'><p>Input data</p></a></li>
<li><a href='#print.prior'><p>Print <code>prior</code> object</p></a></li>
<li><a href='#print.settings'><p>Print <code>settings</code> object</p></a></li>
<li><a href='#print.ss_fit'><p>Print <code>ss_fit</code> object.</p></a></li>
<li><a href='#print.ss_model'><p>Print <code>ss_model</code> object</p></a></li>
<li><a href='#recessions_ch'><p>Swiss recessions</p></a></li>
<li><a href='#recessions_us'><p>US recessions</p></a></li>
<li><a href='#results_state'><p>MCMC summary statistics for states</p></a></li>
<li><a href='#settings_to_df'><p>Data frames with model settings</p></a></li>
<li><a href='#substr_r'><p>Extracts last letter in string</p></a></li>
<li><a href='#transform_results'><p>Format results</p></a></li>
<li><a href='#ts_c'><p>Creates a constant time series with same dates and frequency as the one</p>
given.</a></li>
<li><a href='#update_nonlinear_constraints'><p>Non linear constraints update</p></a></li>
<li><a href='#update_ssmodel'><p>State space model update</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Consistent Economic Trend Cycle Decomposition</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Determining potential output and the output gap - two inherently unobservable variables - is a major challenge for macroeconomists. 'sectorgap' features a flexible modeling and estimation framework for a multivariate Bayesian state space model identifying economic output fluctuations consistent with subsectors of the economy. The proposed model is able to capture various correlations between output and a set of aggregate as well as subsector indicators. Estimation of the latent states and parameters is achieved using a simple Gibbs sampling procedure and various plotting options facilitate the assessment of the results. For details on the methodology and an illustrative example, see Streicher (2024) <a href="https://www.research-collection.ethz.ch/handle/20.500.11850/653682">https://www.research-collection.ethz.ch/handle/20.500.11850/653682</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, KFAS, zoo, ggplot2, MCMCpack, dplyr, tidyr, tempdisagg</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-21 14:21:36 UTC; Sina</td>
</tr>
<tr>
<td>Author:</td>
<td>Sina Streicher <a href="https://orcid.org/0000-0001-7848-1842"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sina Streicher &lt;streicher.sina@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-22 17:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_cycle'>Add a cycle to a state space model</h2><span id='topic+add_cycle'></span>

<h3>Description</h3>

<p>Add a cycle to a state space model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_cycle(sys, p, name, lags = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_cycle_+3A_sys">sys</code></td>
<td>
<p>list with system matrices</p>
</td></tr>
<tr><td><code id="add_cycle_+3A_p">p</code></td>
<td>
<p>integer with autoregressive order, <code>p &lt;= 2</code></p>
</td></tr>
<tr><td><code id="add_cycle_+3A_name">name</code></td>
<td>
<p>name ob observation equation</p>
</td></tr>
<tr><td><code id="add_cycle_+3A_lags">lags</code></td>
<td>
<p>(optional) number of lags added to state equation, e.g. since
other equations load on them</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input list <code>sys</code> with updated matrices.
</p>

<hr>
<h2 id='add_error'>Add error to state equation</h2><span id='topic+add_error'></span>

<h3>Description</h3>

<p>Add error to state equation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_error(sys, name, type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_error_+3A_sys">sys</code></td>
<td>
<p>list with system matrices</p>
</td></tr>
<tr><td><code id="add_error_+3A_name">name</code></td>
<td>
<p>name ob observation equation</p>
</td></tr>
<tr><td><code id="add_error_+3A_type">type</code></td>
<td>
<p>type of trend, see details</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input list <code>sys</code> with updated matrices.
</p>

<hr>
<h2 id='add_init_mat'>Add initialization matrices to state space model</h2><span id='topic+add_init_mat'></span>

<h3>Description</h3>

<p>Add initialization matrices to state space model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_init_mat(sys)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_init_mat_+3A_sys">sys</code></td>
<td>
<p>list with system matrices</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input list <code>sys</code> with updated matrices.
</p>

<hr>
<h2 id='add_lag'>Add lags to state equation</h2><span id='topic+add_lag'></span>

<h3>Description</h3>

<p>Add lags to state equation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_lag(sys, name, type, lags = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_lag_+3A_sys">sys</code></td>
<td>
<p>list with system matrices</p>
</td></tr>
<tr><td><code id="add_lag_+3A_name">name</code></td>
<td>
<p>name ob observation equation</p>
</td></tr>
<tr><td><code id="add_lag_+3A_type">type</code></td>
<td>
<p>type of trend, see details</p>
</td></tr>
<tr><td><code id="add_lag_+3A_lags">lags</code></td>
<td>
<p>(optional) number of lags added to state equation, e.g. since
other equations load on them</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The input list <code>sys</code> with updated matrices.
</p>

<hr>
<h2 id='add_trend'>Add a trend to a state space model</h2><span id='topic+add_trend'></span>

<h3>Description</h3>

<p>Add a trend to a state space model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_trend(sys, type, name, const = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_trend_+3A_sys">sys</code></td>
<td>
<p>list with system matrices</p>
</td></tr>
<tr><td><code id="add_trend_+3A_type">type</code></td>
<td>
<p>type of trend, see details</p>
</td></tr>
<tr><td><code id="add_trend_+3A_name">name</code></td>
<td>
<p>name ob observation equation</p>
</td></tr>
<tr><td><code id="add_trend_+3A_const">const</code></td>
<td>
<p>logical indicating if there is a constant</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>type = 1</code> denotes a random walk, <code>type = 2</code> an integrated
random walk, <code>type = 3</code> and random walk with AR drift, and
<code>type = 4</code> a local linear trend. <code>type = 3</code> is currently not
implemented.
</p>


<h3>Value</h3>

<p>The input list <code>sys</code> with updated matrices.
</p>

<hr>
<h2 id='aggregate_gap'>Output gap contributions</h2><span id='topic+aggregate_gap'></span>

<h3>Description</h3>

<p>Computes chain aggregated output gap contributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aggregate_gap(
  tsl_p,
  tsl_t,
  tsl_g,
  idx,
  error_name = "gap_error",
  idx_neg = NULL,
  previous_year = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aggregate_gap_+3A_tsl_p">tsl_p</code></td>
<td>
<p>time series list with prices</p>
</td></tr>
<tr><td><code id="aggregate_gap_+3A_tsl_t">tsl_t</code></td>
<td>
<p>time series list with trends</p>
</td></tr>
<tr><td><code id="aggregate_gap_+3A_tsl_g">tsl_g</code></td>
<td>
<p>time series list with gaps</p>
</td></tr>
<tr><td><code id="aggregate_gap_+3A_idx">idx</code></td>
<td>
<p>index of aggregate</p>
</td></tr>
<tr><td><code id="aggregate_gap_+3A_error_name">error_name</code></td>
<td>
<p>character string with name for aggregation error</p>
</td></tr>
<tr><td><code id="aggregate_gap_+3A_idx_neg">idx_neg</code></td>
<td>
<p>index of negative sub sectors</p>
</td></tr>
<tr><td><code id="aggregate_gap_+3A_previous_year">previous_year</code></td>
<td>
<p>boolean indicating if previous year prices should be
used instead of pervious period prices</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A multiple time series object containing the contributions.
</p>

<hr>
<h2 id='compute_gaps'>Gaps of observation equations</h2><span id='topic+compute_gaps'></span>

<h3>Description</h3>

<p>Computes the gap of each observable, i.e., it sums up the
respective cycle and all cycles the observable additionally loads on.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_gaps(model, state, idx_state, idx_obs)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_gaps_+3A_model">model</code></td>
<td>
<p>state space model object, returned by the function
<code>define_ssmodel</code></p>
</td></tr>
<tr><td><code id="compute_gaps_+3A_state">state</code></td>
<td>
<p>state vector</p>
</td></tr>
<tr><td><code id="compute_gaps_+3A_idx_state">idx_state</code></td>
<td>
<p>names of all cycle states</p>
</td></tr>
<tr><td><code id="compute_gaps_+3A_idx_obs">idx_obs</code></td>
<td>
<p>names of all observations (excluding constraints)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A multiple time series object with gaps.
</p>

<hr>
<h2 id='compute_mcmc_results'>Results for sampled parameters and states</h2><span id='topic+compute_mcmc_results'></span>

<h3>Description</h3>

<p>Computes estimation results for the MCMC sampling output for a
specific HPDI and evaluation function (e.g. mean or median).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_mcmc_results(
  model,
  settings,
  mcmc,
  data,
  HPDIprob = NULL,
  fit = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_mcmc_results_+3A_model">model</code></td>
<td>
<p>state space model object, returned by the function
<code>define_ssmodel</code></p>
</td></tr>
<tr><td><code id="compute_mcmc_results_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="compute_mcmc_results_+3A_mcmc">mcmc</code></td>
<td>
<p>list with draws of parameters and states (including burnin phase)</p>
</td></tr>
<tr><td><code id="compute_mcmc_results_+3A_data">data</code></td>
<td>
<p>list with at least two named components: <code>tsm</code> is a multiple
time series object that contains all observation series, <code>weights</code>
is a named list of time series with (nominal) weights, the list names
correspond to the different groups, i.e., <code>group1, group2, subgroup1</code>,
if present in the model</p>
</td></tr>
<tr><td><code id="compute_mcmc_results_+3A_hpdiprob">HPDIprob</code></td>
<td>
<p>probability of highest posterior density interval, optional
if <code>fit</code> is supplied</p>
</td></tr>
<tr><td><code id="compute_mcmc_results_+3A_fit">fit</code></td>
<td>
<p>(optional) an object of class <code>fit</code> (returned by the function
<code>estimate_ssmodel</code> and this function).</p>
</td></tr>
<tr><td><code id="compute_mcmc_results_+3A_...">...</code></td>
<td>
<p>additional arguments (in case <code>fit</code> is supplied)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>fit</code> is supplied, the arguments
<code>model, settings, mcmc</code> will be taken from this object.
</p>


<h3>Value</h3>

<p>An object of class <code>ss_fit</code>.
</p>

<hr>
<h2 id='compute_weights'>Computes weights from sub sector data</h2><span id='topic+compute_weights'></span>

<h3>Description</h3>

<p>This function computes weights for linear growth or non-linear
level constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute_weights(tsl_r, tsl_n, idx, pos, neg, weight_type = "growth")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute_weights_+3A_tsl_r">tsl_r</code></td>
<td>
<p>time series list with real level series</p>
</td></tr>
<tr><td><code id="compute_weights_+3A_tsl_n">tsl_n</code></td>
<td>
<p>time series list with nominal level series</p>
</td></tr>
<tr><td><code id="compute_weights_+3A_idx">idx</code></td>
<td>
<p>index for aggregate</p>
</td></tr>
<tr><td><code id="compute_weights_+3A_pos">pos</code></td>
<td>
<p>sectors to be added</p>
</td></tr>
<tr><td><code id="compute_weights_+3A_neg">neg</code></td>
<td>
<p>sectors to be substracted</p>
</td></tr>
<tr><td><code id="compute_weights_+3A_weight_type">weight_type</code></td>
<td>
<p>type of weights, either <code>growth</code> or <code>level</code>,
default is <code>growth</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A time series list with weights.
</p>

<hr>
<h2 id='data_ch'>Swiss data set</h2><span id='topic+data_ch'></span>

<h3>Description</h3>

<p>A dataset containing quarterly Swiss economic data, sourced on November 20, 2023.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data_ch
</code></pre>


<h3>Format</h3>

<p>A list object with two lists. The first list cotains all untransformed endogenous variables:
</p>

<dl>
<dt>output</dt><dd><p>Gross domestic product at 2020 prices, in million</p>
</dd>
<dt>vaA</dt><dd><p>value added in sector A: Goods-producing industries, at 2020 prices in million</p>
</dd>
<dt>vaB</dt><dd><p>value added in sector B: Service industries, at 2020 prices in million</p>
</dd>
<dt>vaC</dt><dd><p>value added in sector C: Government and adjustments,at 2020 prices in million</p>
</dd>
<dt>exp1</dt><dd><p>expenditure side sector i: Total consumption, at 2020 prices in million</p>
</dd>
<dt>exp2</dt><dd><p>expenditure side sector ii: Investment, at 2020 prices in million</p>
</dd>
<dt>exp3</dt><dd><p>expenditure side sector iii: Exports, at 2020 prices in million</p>
</dd>
<dt>exp4</dt><dd><p>expenditure side sector iv: Imports, at 2020 prices in million</p>
</dd>
<dt>fteA</dt><dd><p>full-time equivalent empoyment in sector A: Goods-producing industries, in thousand</p>
</dd>
<dt>fteB</dt><dd><p>full-time equivalent empoyment in sector B: Service industries, in thousand</p>
</dd>
<dt>fteC</dt><dd><p>full-time equivalent empoyment in government sector, in thousand</p>
</dd>
<dt>employment</dt><dd><p>full-time equivalent empoyment, in thousand</p>
</dd>
<dt>urate</dt><dd><p>ILO unemployment rate, in percent</p>
</dd>
<dt>inflation</dt><dd><p>consumer price inflation, year on year in percent</p>
</dd>
</dl>



<h3>Source</h3>

<p>KOF Swiss Economic Institute, ETH Zurich, Switzerland
</p>

<hr>
<h2 id='define_ssmodel'>State space model</h2><span id='topic+define_ssmodel'></span>

<h3>Description</h3>

<p>Defines a state space model for the provided settings and data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>define_ssmodel(settings, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="define_ssmodel_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="define_ssmodel_+3A_data">data</code></td>
<td>
<p>list with at least two named components: <code>tsm</code> is a multiple
time series object that contains all observation series, <code>weights</code>
is a named list of time series with (nominal) weights, the list names
correspond to the different groups, i.e., <code>group1, group2, subgroup1</code>,
if present in the model</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>data</code> is preferably the output of funtion <code>prepare_data</code>.
</p>


<h3>Value</h3>

<p>A state space model object of class <code>ss_model</code>, which consists
of an object returned by the function <code>SSModel</code> of
the package <code>KFAS</code> and in addition a list item called <code>names</code>
which contains information on the parameters to be estimated.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
model &lt;- define_ssmodel(
  settings = settings, 
  data = data
)
</code></pre>

<hr>
<h2 id='draw_output_gap'>Draws the parameters of the output gap..</h2><span id='topic+draw_output_gap'></span>

<h3>Description</h3>

<p>This is a wrapper function that draws the parameters of the output gap for
different cycle specifications
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_output_gap(Y, phi, phiDistr, sigma, sigmaDistr)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_output_gap_+3A_y">Y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="draw_output_gap_+3A_phi">phi</code></td>
<td>
<p>autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="draw_output_gap_+3A_phidistr">phiDistr</code></td>
<td>
<p>prior distribution of autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="draw_output_gap_+3A_sigma">sigma</code></td>
<td>
<p>innovation variance</p>
</td></tr>
<tr><td><code id="draw_output_gap_+3A_sigmadistr">sigmaDistr</code></td>
<td>
<p>prior distribution of innovation variance</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='draw_trend_innovations'>Draws (correlated) trend variances.</h2><span id='topic+draw_trend_innovations'></span>

<h3>Description</h3>

<p>Draws (correlated) trend variances.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_trend_innovations(model, state, df_var, df_cov, df_prior)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_trend_innovations_+3A_model">model</code></td>
<td>
<p>state space model object</p>
</td></tr>
<tr><td><code id="draw_trend_innovations_+3A_state">state</code></td>
<td>
<p>time series matrix with states</p>
</td></tr>
<tr><td><code id="draw_trend_innovations_+3A_df_var">df_var</code></td>
<td>
<p>data frame with trend and drift variance settings</p>
</td></tr>
<tr><td><code id="draw_trend_innovations_+3A_df_cov">df_cov</code></td>
<td>
<p>data frame with trend and drift covariance settings</p>
</td></tr>
<tr><td><code id="draw_trend_innovations_+3A_df_prior">df_prior</code></td>
<td>
<p>prior distribution matrix</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='draw_variance_multi'>Draws a variance from an inverse Wishart distribution.
.</h2><span id='topic+draw_variance_multi'></span>

<h3>Description</h3>

<p>Draws a variance from an inverse Wishart distribution.
.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_variance_multi(Y, nu, Phi)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_variance_multi_+3A_y">Y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="draw_variance_multi_+3A_nu">nu</code></td>
<td>
<p>degrees of freedom, <code>nu&gt;p-1</code></p>
</td></tr>
<tr><td><code id="draw_variance_multi_+3A_phi">Phi</code></td>
<td>
<p>scale matrix, <code>p x p</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The mean is given by <code>Phi / (nu+p-1)</code> for <code>nu&gt;p+1</code>.
</p>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='draw_variance_scalar'>Draws a variance from an inverse Wishart distribution.</h2><span id='topic+draw_variance_scalar'></span>

<h3>Description</h3>

<p>Draws a variance from an inverse Wishart distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_variance_scalar(Y, nu, s)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draw_variance_scalar_+3A_y">Y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="draw_variance_scalar_+3A_nu">nu</code></td>
<td>
<p>degrees of freedom, <code>nu&gt;p-1</code></p>
</td></tr>
<tr><td><code id="draw_variance_scalar_+3A_s">s</code></td>
<td>
<p>scale matrix, <code>p x p</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The mean is given by <code>s / (nu+p-1)</code> for <code>nu&gt;p+1</code>.
</p>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='estimate_ssmodel'>Bayesian estimation via Gibbs sampling</h2><span id='topic+estimate_ssmodel'></span>

<h3>Description</h3>

<p>Estimates the parameters and states of a multi-dimensional
state space model by Bayesian methods using a Gibbs sampling procedure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimate_ssmodel(
  model,
  settings,
  data,
  prior = initialize_prior(model),
  R = 10000,
  burnin = 0.5,
  thin = 1,
  HPDIprob = 0.68,
  fit = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="estimate_ssmodel_+3A_model">model</code></td>
<td>
<p>state space model object, returned by the function
<code>define_ssmodel</code></p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_data">data</code></td>
<td>
<p>list with at least two named components: <code>tsm</code> is a multiple
time series object that contains all observation series, <code>weights</code>
is a named list of time series with (nominal) weights, the list names
correspond to the different groups, i.e., <code>group1, group2, subgroup1</code>,
if present in the model</p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_prior">prior</code></td>
<td>
<p>list of matrices, each list item corresponds to one endogenous
variable. See <code>initialize_prior</code></p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_r">R</code></td>
<td>
<p>number of draws, the default is <code>10000</code></p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_burnin">burnin</code></td>
<td>
<p>share of draws as burnin period, the default is <code>0.5</code></p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_thin">thin</code></td>
<td>
<p>thinning parameter defining how many draws are discarded.
<code>1</code> means no draw is discarded, <code>2</code> means each second draw is
kept, and so on</p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_hpdiprob">HPDIprob</code></td>
<td>
<p>probability of highest posterior density interval, the
default is <code>HPDIprob = 0.68</code></p>
</td></tr>
<tr><td><code id="estimate_ssmodel_+3A_fit">fit</code></td>
<td>
<p>already fitted object of class <code>ss_fit</code>, to continue drawing,
see details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>fit</code> is supplied, the function will continue drawing
<code>R</code> additional repetitions. In this case, all input variables except
for <code>fit</code> and <code>R</code> are ignored.
</p>


<h3>Value</h3>

<p>An object of class <code>ss_fit</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
model &lt;- define_ssmodel(
  settings = settings, 
  data = data
)
prior &lt;- initialize_prior(
  model = model, 
  settings = settings
) 

fit &lt;- estimate_ssmodel(
  model = model, 
  settings = settings, 
  data = data,
  prior = prior,
  R = 100
)

</code></pre>

<hr>
<h2 id='geweke_test'>Geweke test for convergence</h2><span id='topic+geweke_test'></span>

<h3>Description</h3>

<p>Conducts a Geweke test for convergence of the draws.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geweke_test(x, frac1 = 0.1, frac2 = 0.5, alpha = 0.05)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geweke_test_+3A_x">x</code></td>
<td>
<p><code>R x n</code> matrix with <code>R</code> draws of <code>n</code> variables</p>
</td></tr>
<tr><td><code id="geweke_test_+3A_frac1">frac1</code></td>
<td>
<p>probability mass of the first interval, a scalar between zero and one</p>
</td></tr>
<tr><td><code id="geweke_test_+3A_frac2">frac2</code></td>
<td>
<p>probability mass of the second interval, a scalar between zero and one</p>
</td></tr>
<tr><td><code id="geweke_test_+3A_alpha">alpha</code></td>
<td>
<p>significance level used to compute the test decision, a scalar between
zero and one</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Under the H0 of convergence, the test statistic is standard normally distributed.
</p>
<p>Naturally, <code>frac1 + frac2</code> is between zero and one.
</p>


<h3>Value</h3>

<p>A list with the following items
</p>

<dl>
<dt>h</dt><dd><p>Test decision.</p>
</dd>
<dt>CD</dt><dd><p>Convergence Diagnostic (test statistic).</p>
</dd>
<dt>pvalue</dt><dd><p>The p-value.</p>
</dd>
<dt>alpha</dt><dd><p>The applied signifcicance level.</p>
</dd>
<dt>frac1</dt><dd><p>The fraction of data contained in the first interval.</p>
</dd>
<dt>frac2</dt><dd><p>The fraction of data contained in the second interval.</p>
</dd>
</dl>


<hr>
<h2 id='helper_posterior_assignment'>Settings for draws from posterior</h2><span id='topic+helper_posterior_assignment'></span>

<h3>Description</h3>

<p>Creates a list of settings used during the Gibbs sampling
algorithm.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>helper_posterior_assignment(model, df_set, prior, endo)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="helper_posterior_assignment_+3A_model">model</code></td>
<td>
<p>state space model object (unassigned)</p>
</td></tr>
<tr><td><code id="helper_posterior_assignment_+3A_df_set">df_set</code></td>
<td>
<p>data frame with model settings</p>
</td></tr>
<tr><td><code id="helper_posterior_assignment_+3A_endo">endo</code></td>
<td>
<p>character vector of endogenous variable names</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of items necessary to run each each step of the
Gibbs sampler.
</p>

<hr>
<h2 id='hpd_interval'>Highest posterior density interval (HPDI)</h2><span id='topic+hpd_interval'></span>

<h3>Description</h3>

<p>Computes the approximate highest posterior density interval
(HPDI).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hpd_interval(x, prob = 0.95)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hpd_interval_+3A_x">x</code></td>
<td>
<p>A <code>R x n</code> matrix with <code>R</code> draws of <code>n</code> variables</p>
</td></tr>
<tr><td><code id="hpd_interval_+3A_prob">prob</code></td>
<td>
<p>The probability mass of the interval, a scalar between zero and one</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>n x 2</code> matrix with lower and upper boundary of the HPDI.
</p>

<hr>
<h2 id='hpfilter'>HP filter</h2><span id='topic+hpfilter'></span>

<h3>Description</h3>

<p>Applies the Hodrick Prescott Filter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hpfilter(x, lambda)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hpfilter_+3A_x">x</code></td>
<td>
<p>A univariate time series object.</p>
</td></tr>
<tr><td><code id="hpfilter_+3A_lambda">lambda</code></td>
<td>
<p>The smoothing parameter.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A univariate time series object containing the trend of the original time series.
</p>

<hr>
<h2 id='initialize_prior'>Prior distribution</h2><span id='topic+initialize_prior'></span>

<h3>Description</h3>

<p>Initializes the prior distributions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initialize_prior(model, settings, lambda_d = 100, lambda_t = 100, df = 6)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize_prior_+3A_model">model</code></td>
<td>
<p>state space model object, returned by the function
<code>define_ssmodel</code></p>
</td></tr>
<tr><td><code id="initialize_prior_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="initialize_prior_+3A_lambda_d">lambda_d</code></td>
<td>
<p>drift smoothing constant (default: 100)</p>
</td></tr>
<tr><td><code id="initialize_prior_+3A_lambda_t">lambda_t</code></td>
<td>
<p>trend smoothing constant (default: 100)</p>
</td></tr>
<tr><td><code id="initialize_prior_+3A_df">df</code></td>
<td>
<p>degrees of freedom for inverse gamma distributions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>All loadings and autoregressive parameters are assumed to be normal
with mean zero and variance 1000.
</p>
<p>All variance parameters are assumed to be inverse gamma distributed.
The cycle variance has prior mean 1, and the trend variances have prior mean
1/100.
</p>
<p>The normal distribution is parametrized via mean and variance.
</p>
<p>the inverse gamma distribution is parametrized degrees of freedom
<code>nu</code> and scale <code>s</code>.
</p>
<p>The mean of the inverse gamma distribution is given by
<code>beta / (alpha - 1) = beta / 2 = s</code>, where
<code>s = 2 beta, nu = 2 alpha</code>.
</p>


<h3>Value</h3>

<p>A data frame with one row per parameter and the following columns:
</p>
<table>
<tr><td><code>variable</code></td>
<td>
<p>name of endogneous variable of equation</p>
</td></tr>
<tr><td><code>parameter_name</code></td>
<td>
<p>name of parameter</p>
</td></tr>
<tr><td><code>par1</code></td>
<td>
<p>first parameter of specified distribution, mean for normal
parameters and scale for inverse gamma parameters</p>
</td></tr>
<tr><td><code>par2</code></td>
<td>
<p>second parameter of specified distribution, variance for normal
parameters and degrees of freedom for inverse gamma parameters</p>
</td></tr>
<tr><td><code>ini</code></td>
<td>
<p>initial value for Gibbs sampler, i.e. mean of distribution given
<code>par1</code> and <code>par2</code></p>
</td></tr>
<tr><td><code>distribution</code></td>
<td>
<p>name of prior distribution</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
model &lt;- define_ssmodel(
  settings = settings, 
  data = data
)
prior &lt;- initialize_prior(
  model = model, 
  settings = settings
) 
</code></pre>

<hr>
<h2 id='initialize_settings'>Model settings</h2><span id='topic+initialize_settings'></span>

<h3>Description</h3>

<p>Initializes settings with a basic example.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initialize_settings(
  FUN_transform = function(x) 100 * log(x),
  FUN_transform_inv = function(x) exp(x/100),
  DFUN_transform_inv = function(x) 1/100 * exp(x/100)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize_settings_+3A_fun_transform">FUN_transform</code></td>
<td>
<p>transformation function, the default is
<code>function(x) 100 * log(x)</code></p>
</td></tr>
<tr><td><code id="initialize_settings_+3A_fun_transform_inv">FUN_transform_inv</code></td>
<td>
<p>inverse transformation function, the default is
<code>function(x) exp(x / 100)</code></p>
</td></tr>
<tr><td><code id="initialize_settings_+3A_dfun_transform_inv">DFUN_transform_inv</code></td>
<td>
<p>derivative of inverse transformation function, the
default is <code>function(x) 1 exp(x / 100)</code>, only used if non-linear
constraints are present</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A nested list with settings for the following groups:
</p>
<table>
<tr><td><code>agg</code></td>
<td>
<p>settings for the aggregate variable</p>
</td></tr>
<tr><td><code>group1</code></td>
<td>
<p>settings for <code>group1</code>, all variables in this group load
on the aggregate variable, unless otherwise specified</p>
</td></tr>
<tr><td><code>group2</code></td>
<td>
<p>settings for <code>group2</code>, all variables in this group load
on the aggregate variable, unless otherwise specified</p>
</td></tr>
<tr><td><code>subgroup1</code></td>
<td>
<p>settings for <code>subgroup1</code>, each variable in this group
loads on the respective variable in <code>group1</code></p>
</td></tr>
<tr><td><code>agggroup</code></td>
<td>
<p>settings for a group of variables that all load on the same
variable</p>
</td></tr>
<tr><td><code>misc</code></td>
<td>
<p>settings for variables that require individual settings</p>
</td></tr>
</table>
<p>Each group contains at least the following list items:
</p>
<table>
<tr><td><code>trend</code></td>
<td>
<p><code>4</code> is a local linear trend, <code>3</code> a local linear
trend with AR(1) drift, <code>2</code> a local linear drift without shocks to
trend growth, <code>0</code> implies no trend (e.g. if a variable shares a trend
with another one)</p>
</td></tr>
<tr><td><code>cycle</code></td>
<td>
<p><code>2</code> is an AR(2) cycle, <code>1</code> an AR(1) cycle, and
<code>0</code> a white noise cycle, each with normal innovations</p>
</td></tr>
<tr><td><code>transform</code></td>
<td>
<p>logical indicating if the transformation function should
be applied to the variable or group of variables</p>
</td></tr>
<tr><td><code>variable</code></td>
<td>
<p>variable name(s)</p>
</td></tr>
<tr><td><code>variable_label</code></td>
<td>
<p>variable label(s)</p>
</td></tr>
<tr><td><code>label</code></td>
<td>
<p>label of group</p>
</td></tr>
</table>
<p>The blocks <code>group1, group2, subgroup1</code> additionally contain the
following list items:
</p>
<table>
<tr><td><code>corr</code></td>
<td>
<p><code>4</code> implies that trends and drifts are correlated,
<code>2</code> that only dirfts are correlated, <code>1</code> that only trends are
correlated, and <code>0</code> or <code>NA</code> implies no correlation. Only
applicable for <code>group1, group2, subgroup1</code></p>
</td></tr>
<tr><td><code>load_name</code></td>
<td>
<p>name of the variable that all variables in the group load
(for <code>group1, group2</code>) and which is used for the aggregation</p>
</td></tr>
<tr><td><code>load_lag</code></td>
<td>
<p>lags of the of the variable that all variables in the group
load (for <code>group1, group2</code>)</p>
</td></tr>
<tr><td><code>constr_drift</code></td>
<td>
<p>logical indicating if constraints for the drifts should
be enforced</p>
</td></tr>
<tr><td><code>constr_trends</code></td>
<td>
<p>logical indicating if constraints for the trends
should be enforced</p>
</td></tr>
<tr><td><code>constr_trends_linear</code></td>
<td>
<p>logical indicating if constraints for the
trends are linear or nonlinear, the default is <code>FALSE</code> in which case
the constraint is enforced on the level series, else, it is enforced on the
growth rates.</p>
</td></tr>
<tr><td><code>variable_neg</code></td>
<td>
<p>variable names that are negative and thus need to be
subtracted when constructing weights</p>
</td></tr>
</table>
<p>The block <code>subgroup1</code> additionally contain the
following list item:
</p>
<table>
<tr><td><code>match_group1</code></td>
<td>
<p>a character vector of the same length as
<code>variable</code> indicating the matching variables in <code>group1</code>, in the
same order as <code>variable</code>, <code>NA</code> indicates no match</p>
</td></tr>
</table>

<hr>
<h2 id='initialize_ss'>Initializes a state space model</h2><span id='topic+initialize_ss'></span>

<h3>Description</h3>

<p>Initializes a state space model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>initialize_ss(name, df_settings)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="initialize_ss_+3A_name">name</code></td>
<td>
<p>names of observations</p>
</td></tr>
<tr><td><code id="initialize_ss_+3A_df_settings">df_settings</code></td>
<td>
<p>list of data frames with settings</p>
</td></tr>
</table>

<hr>
<h2 id='is.settings'>Settings object validity check</h2><span id='topic+is.settings'></span>

<h3>Description</h3>

<p>Checks if settings are a valid object of class <code>settings</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.settings(x, dfl = NULL, return.logical = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.settings_+3A_x">x</code></td>
<td>
<p>settings object</p>
</td></tr>
<tr><td><code id="is.settings_+3A_dfl">dfl</code></td>
<td>
<p>list of data frames, returned by function <code>settings_to_df</code></p>
</td></tr>
<tr><td><code id="is.settings_+3A_return.logical">return.logical</code></td>
<td>
<p>If <code>return.logical = FALSE</code> (default), an error
message is printed if the object is not of class <code>settings</code>, if
<code>return.logical = TRUE</code>, a logical value is returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical value or nothing, depending on the value of <code>return.logical</code>.
</p>

<hr>
<h2 id='matmult3d'>array multiplication</h2><span id='topic+matmult3d'></span>

<h3>Description</h3>

<p>array multiplication
</p>


<h3>Usage</h3>

<pre><code class='language-R'>matmult3d(a, b)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matmult3d_+3A_a">a</code></td>
<td>
<p>A matrix.</p>
</td></tr>
</table>

<hr>
<h2 id='mcmc_summary'>MCMC summary statistics</h2><span id='topic+mcmc_summary'></span>

<h3>Description</h3>

<p>Computes MCMC summary statistics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcmc_summary(x, HPDIprob, frac1 = 0.1, frac2 = 0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcmc_summary_+3A_x">x</code></td>
<td>
<p><code>R x n</code> matrix with <code>R</code> draws of <code>n</code> variables</p>
</td></tr>
<tr><td><code id="mcmc_summary_+3A_hpdiprob">HPDIprob</code></td>
<td>
<p>Tprobability mass of the HPDI, a scalar between zero and one</p>
</td></tr>
<tr><td><code id="mcmc_summary_+3A_frac1">frac1</code></td>
<td>
<p>probability mass of the first interval used for the Geweke test, a scalar
between zero and one</p>
</td></tr>
<tr><td><code id="mcmc_summary_+3A_frac2">frac2</code></td>
<td>
<p>probability mass of the second interval used for the Geweke test, a scalar
between zero and one</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Naturally, <code>frac1 + frac2</code> is between zero and one.
</p>


<h3>Value</h3>

<p>A data frame with the following columns
</p>

<dl>
<dt>Mean</dt><dd><p>The posterior mean.</p>
</dd>
<dt>Median</dt><dd><p>The posterior median.</p>
</dd>
<dt>SD</dt><dd><p>Standard deviation.</p>
</dd>
<dt>HPDI-LB</dt><dd><p>Highest posterior density credible interval lower bound</p>
</dd>
<dt>HPDI-UB</dt><dd><p>Highest posterior density credible interval upper bound</p>
</dd>
<dt>Naive SE</dt><dd><p>Naive Standard error of the mean (ignoring chain autocorrelation.</p>
</dd>
<dt>Time-series SE</dt><dd><p>Time-series standard error (based on spectral density at 0).</p>
</dd>
<dt>Geweke statistic</dt><dd><p>The Geweke test statistic.</p>
</dd>
<dt>frac1</dt><dd><p>The fraction of data contained in the first interval.</p>
</dd>
<dt>frac2</dt><dd><p>The fraction of data contained in the second interval.</p>
</dd>
</dl>


<hr>
<h2 id='mvrnorm'>Draws from the multivariate normal distribution.</h2><span id='topic+mvrnorm'></span>

<h3>Description</h3>

<p>Draws from the multivariate normal distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mvrnorm(mu, sigma)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mvrnorm_+3A_mu">mu</code></td>
<td>
<p>A <code>n x 1</code> vector, the mean vector.</p>
</td></tr>
<tr><td><code id="mvrnorm_+3A_sigma">sigma</code></td>
<td>
<p>A <code>n x n</code> matrix, the covariance matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>n x 1</code> named vector of drawn parameters.
</p>

<hr>
<h2 id='pct'>Computes the period on period percentage change</h2><span id='topic+pct'></span>

<h3>Description</h3>

<p>Computes the period on period percentage change
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pct(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pct_+3A_x">x</code></td>
<td>
<p>(multiple) time series object</p>
</td></tr>
</table>

<hr>
<h2 id='plot_densities'>Prior and posterior plots</h2><span id='topic+plot_densities'></span>

<h3>Description</h3>

<p>Creates diagnostic plots of the posterior distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_densities(
  fit,
  file_path,
  n_col = 4,
  alpha = 0.05,
  save = TRUE,
  title = TRUE,
  device = "jpg",
  width = 10,
  height = 2,
  units = "in"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_densities_+3A_fit">fit</code></td>
<td>
<p>fitted object</p>
</td></tr>
<tr><td><code id="plot_densities_+3A_file_path">file_path</code></td>
<td>
<p>file path for plots</p>
</td></tr>
<tr><td><code id="plot_densities_+3A_n_col">n_col</code></td>
<td>
<p>number of columns for grid plots</p>
</td></tr>
<tr><td><code id="plot_densities_+3A_alpha">alpha</code></td>
<td>
<p>cut off value for posterior (only used if
<code>plot_type = "density"</code>)</p>
</td></tr>
<tr><td><code id="plot_densities_+3A_save">save</code></td>
<td>
<p>boolean indicating if plots should be saved, if <code>FALSE</code>, the
plots will be printed instead, default is <code>save = FALSE</code> (ignored if
<code>file_path</code> is provided)</p>
</td></tr>
<tr><td><code id="plot_densities_+3A_title">title</code></td>
<td>
<p>boolean indicating if plots should contain titles</p>
</td></tr>
<tr><td><code id="plot_densities_+3A_device">device</code></td>
<td>
<p>character string with format used in <code>ggsave</code></p>
</td></tr>
<tr><td><code id="plot_densities_+3A_width">width</code></td>
<td>
<p>plot width in <code>units</code>, for grid plots adjusted for the
number of plot columns <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot_densities_+3A_height">height</code></td>
<td>
<p>plot height in <code>units</code>, for grid plots adjusted for the
number of plot rows implied by <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot_densities_+3A_units">units</code></td>
<td>
<p>units for plot size (<code>"in", "cm", "mm", or "px"</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='plot_time_series'>Time series plots</h2><span id='topic+plot_time_series'></span>

<h3>Description</h3>

<p>Creates a set of time series plots of the results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_time_series(
  df,
  settings = settings,
  n_col = 3,
  n_sep = 5,
  highlighted_area = NULL,
  plot_start = NULL,
  plot_end = NULL,
  file_path = NULL,
  title = TRUE,
  save = TRUE,
  device = "jpg",
  width = 10,
  height = 3,
  units = "in"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_time_series_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_n_col">n_col</code></td>
<td>
<p>number of columns for grid plots</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_n_sep">n_sep</code></td>
<td>
<p>increments of x axis ticks in years</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_highlighted_area">highlighted_area</code></td>
<td>
<p>data frame with two columns called <code>start</code> and
<code>end</code> containing start and end date, e.g. <code>1990.25</code> and
<code>1992.75</code> for 1990 Q2 until 1992 Q4
(only used if <code>plot_type = "timeseries"</code>)</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_plot_start">plot_start</code></td>
<td>
<p>start of x axis in years, e.g., <code>1990.5</code> (only used if
<code>plot_type = "timeseries"</code>)</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_plot_end">plot_end</code></td>
<td>
<p>end of x axis in years, e.g., <code>2010.25</code> (only used if
<code>plot_type = "timeseries"</code>)</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_file_path">file_path</code></td>
<td>
<p>file path for plots</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_title">title</code></td>
<td>
<p>boolean indicating if plots should contain titles</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_save">save</code></td>
<td>
<p>boolean indicating if plots should be saved, if <code>FALSE</code>, the
plots will be printed instead, default is <code>save = FALSE</code> (ignored if
<code>file_path</code> is provided)</p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_device">device</code></td>
<td>
<p>character string with format used in <code>ggsave</code></p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_width">width</code></td>
<td>
<p>plot width in <code>units</code>, for grid plots adjusted for the
number of plot columns <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_height">height</code></td>
<td>
<p>plot height in <code>units</code>, for grid plots adjusted for the
number of plot rows implied by <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot_time_series_+3A_units">units</code></td>
<td>
<p>units for plot size (<code>"in", "cm", "mm", or "px"</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='plot_trace'>Prior and posterior plots</h2><span id='topic+plot_trace'></span>

<h3>Description</h3>

<p>Creates trace plots for the draws of the posterior distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_trace(
  fit,
  file_path,
  include_burnin = FALSE,
  n_col = 4,
  alpha = 0.05,
  save = TRUE,
  title = TRUE,
  device = "jpg",
  width = 10,
  height = 2,
  units = "in"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_trace_+3A_fit">fit</code></td>
<td>
<p>fitted object</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_file_path">file_path</code></td>
<td>
<p>file path for plots</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_include_burnin">include_burnin</code></td>
<td>
<p>logical indicating if burnin phase should be included
(only used if <code>plot_type = "trace"</code>)</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_n_col">n_col</code></td>
<td>
<p>number of columns for grid plots</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_alpha">alpha</code></td>
<td>
<p>cut off value for posterior (only used if
<code>plot_type = "density"</code>)</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_save">save</code></td>
<td>
<p>boolean indicating if plots should be saved, if <code>FALSE</code>, the
plots will be printed instead, default is <code>save = FALSE</code> (ignored if
<code>file_path</code> is provided)</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_title">title</code></td>
<td>
<p>boolean indicating if plots should contain titles</p>
</td></tr>
<tr><td><code id="plot_trace_+3A_device">device</code></td>
<td>
<p>character string with format used in <code>ggsave</code></p>
</td></tr>
<tr><td><code id="plot_trace_+3A_width">width</code></td>
<td>
<p>plot width in <code>units</code>, for grid plots adjusted for the
number of plot columns <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot_trace_+3A_height">height</code></td>
<td>
<p>plot height in <code>units</code>, for grid plots adjusted for the
number of plot rows implied by <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot_trace_+3A_units">units</code></td>
<td>
<p>units for plot size (<code>"in", "cm", "mm", or "px"</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='plot.ss_fit'>Plots of results</h2><span id='topic+plot.ss_fit'></span>

<h3>Description</h3>

<p>Creates a set of time series, density, or trace plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ss_fit'
plot(
  x,
  plot_type = "timeseries",
  estimate = "median",
  data = data,
  n_col = 3,
  n_sep = 5,
  file_path = NULL,
  title = TRUE,
  save = FALSE,
  device = "jpg",
  width = 10,
  height = 3,
  units = "in",
  highlighted_area = NULL,
  plot_start = NULL,
  plot_end = NULL,
  alpha = 0.05,
  include_burnin = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.ss_fit_+3A_x">x</code></td>
<td>
<p>object of class <code>ss_fit</code></p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_plot_type">plot_type</code></td>
<td>
<p>type of plots, options are
<code>"timeseries", "density", "trace"</code></p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_estimate">estimate</code></td>
<td>
<p>character specifying the posterior estimate. Valid options
are <code>"mean"</code> and <code>"median"</code>, the default is
<code>estimate = "median"</code>.</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_data">data</code></td>
<td>
<p>list with at least two named components: <code>tsm</code> is a multiple
time series object that contains all observation series, <code>weights</code>
is a named list of time series with (nominal) weights, the list names
correspond to the different groups, i.e., <code>group1, group2, subgroup1</code>,
if present in the model</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_n_col">n_col</code></td>
<td>
<p>number of columns for grid plots</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_n_sep">n_sep</code></td>
<td>
<p>increments of x axis ticks in years</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_file_path">file_path</code></td>
<td>
<p>file path for plots</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_title">title</code></td>
<td>
<p>boolean indicating if plots should contain titles</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_save">save</code></td>
<td>
<p>boolean indicating if plots should be saved, if <code>FALSE</code>, the
plots will be printed instead, default is <code>save = FALSE</code> (ignored if
<code>file_path</code> is provided)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_device">device</code></td>
<td>
<p>character string with format used in <code>ggsave</code></p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_width">width</code></td>
<td>
<p>plot width in <code>units</code>, for grid plots adjusted for the
number of plot columns <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_height">height</code></td>
<td>
<p>plot height in <code>units</code>, for grid plots adjusted for the
number of plot rows implied by <code>n_col</code></p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_units">units</code></td>
<td>
<p>units for plot size (<code>"in", "cm", "mm", or "px"</code>)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_highlighted_area">highlighted_area</code></td>
<td>
<p>data frame with two columns called <code>start</code> and
<code>end</code> containing start and end date, e.g. <code>1990.25</code> and
<code>1992.75</code> for 1990 Q2 until 1992 Q4
(only used if <code>plot_type = "timeseries"</code>)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_plot_start">plot_start</code></td>
<td>
<p>start of x axis in years, e.g., <code>1990.5</code> (only used if
<code>plot_type = "timeseries"</code>)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_plot_end">plot_end</code></td>
<td>
<p>end of x axis in years, e.g., <code>2010.25</code> (only used if
<code>plot_type = "timeseries"</code>)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_alpha">alpha</code></td>
<td>
<p>cut off value for posterior (only used if
<code>plot_type = "density"</code>)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_include_burnin">include_burnin</code></td>
<td>
<p>logical indicating if burnin phase should be included
(only used if <code>plot_type = "trace"</code>)</p>
</td></tr>
<tr><td><code id="plot.ss_fit_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='post_regression'>Draws the parameters in a regression equation with AR errors, if specified.</h2><span id='topic+post_regression'></span>

<h3>Description</h3>

<p>Draws the parameters in a regression equation with AR errors, if specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>post_regression(
  Y,
  X,
  beta = NULL,
  betaDistr,
  sigma,
  sigmaDistr,
  phi = NULL,
  phiDistr = NULL,
  indep = TRUE,
  const = NULL,
  constDistr = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="post_regression_+3A_y">Y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="post_regression_+3A_x">X</code></td>
<td>
<p>explanatory variable(s)</p>
</td></tr>
<tr><td><code id="post_regression_+3A_beta">beta</code></td>
<td>
<p>coefficient vector</p>
</td></tr>
<tr><td><code id="post_regression_+3A_betadistr">betaDistr</code></td>
<td>
<p>prior distribution of coefficient vector</p>
</td></tr>
<tr><td><code id="post_regression_+3A_sigma">sigma</code></td>
<td>
<p>innovation variance</p>
</td></tr>
<tr><td><code id="post_regression_+3A_sigmadistr">sigmaDistr</code></td>
<td>
<p>prior distribution of innovation variance</p>
</td></tr>
<tr><td><code id="post_regression_+3A_phi">phi</code></td>
<td>
<p>autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="post_regression_+3A_phidistr">phiDistr</code></td>
<td>
<p>prior distribution of autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="post_regression_+3A_indep">indep</code></td>
<td>
<p>logical, should beta and sigma be independent</p>
</td></tr>
<tr><td><code id="post_regression_+3A_const">const</code></td>
<td>
<p>constant</p>
</td></tr>
<tr><td><code id="post_regression_+3A_constdistr">constDistr</code></td>
<td>
<p>prior distribution of constant</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See &quot;Chib, Siddhartha. &quot;Bayes regression with autoregressive
errors: A Gibbs sampling approach.&quot; Journal of econometrics 58.3 (1993):
275-294.&quot;
</p>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='postARp'>Draws the parameters of an AR process (AR parameters and variance).</h2><span id='topic+postARp'></span>

<h3>Description</h3>

<p>Draws the parameters of an AR process (AR parameters and variance).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>postARp(Y, phi, phiDistr, sigma, sigmaDistr, const = NULL, constDistr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="postARp_+3A_y">Y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="postARp_+3A_phi">phi</code></td>
<td>
<p>autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="postARp_+3A_phidistr">phiDistr</code></td>
<td>
<p>prior distribution of autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="postARp_+3A_sigma">sigma</code></td>
<td>
<p>innovation variance</p>
</td></tr>
<tr><td><code id="postARp_+3A_sigmadistr">sigmaDistr</code></td>
<td>
<p>prior distribution of innovation variance</p>
</td></tr>
<tr><td><code id="postARp_+3A_const">const</code></td>
<td>
<p>constant</p>
</td></tr>
<tr><td><code id="postARp_+3A_constdistr">constDistr</code></td>
<td>
<p>prior distribution of constant</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See &quot;Chib, Siddhartha. &quot;Bayes regression with autoregressive
errors: A Gibbs sampling approach.&quot; Journal of econometrics 58.3 (1993):
275-294.&quot;
</p>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='postARp_phi'>Draws the autoregressive parameters of an AR process (AR parameters only).
.</h2><span id='topic+postARp_phi'></span>

<h3>Description</h3>

<p>Draws the autoregressive parameters of an AR process (AR parameters only).
.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>postARp_phi(Y, phi, phiDistr, sigma, const = NULL, constDistr = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="postARp_phi_+3A_y">Y</code></td>
<td>
<p>dependent variable</p>
</td></tr>
<tr><td><code id="postARp_phi_+3A_phi">phi</code></td>
<td>
<p>autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="postARp_phi_+3A_phidistr">phiDistr</code></td>
<td>
<p>prior distribution of autoregressive coefficient vector</p>
</td></tr>
<tr><td><code id="postARp_phi_+3A_sigma">sigma</code></td>
<td>
<p>innovation variance</p>
</td></tr>
<tr><td><code id="postARp_phi_+3A_const">const</code></td>
<td>
<p>constant</p>
</td></tr>
<tr><td><code id="postARp_phi_+3A_constdistr">constDistr</code></td>
<td>
<p>prior distribution of constant</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See &quot;Chib, Siddhartha. &quot;Bayes regression with autoregressive
errors: A Gibbs sampling approach.&quot; Journal of econometrics 58.3 (1993):
275-294.&quot;
</p>


<h3>Value</h3>

<p>A named vector of drawn parameters.
</p>

<hr>
<h2 id='prepate_data'>Input data</h2><span id='topic+prepate_data'></span>

<h3>Description</h3>

<p>Prepares the required input data, it performs the
transformations to the raw data and computes the necessary weights for the
constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepate_data(
  settings,
  tsl,
  tsl_n = NULL,
  tsl_p = NULL,
  ts_start = NULL,
  ts_end = NULL,
  extend_weights = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepate_data_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="prepate_data_+3A_tsl">tsl</code></td>
<td>
<p>time series list with all untransformed endogenous series</p>
</td></tr>
<tr><td><code id="prepate_data_+3A_tsl_n">tsl_n</code></td>
<td>
<p>time series list with nominal level series for aggregate output
<code>agg</code> and its subcomponents in <code>group1, group2</code></p>
</td></tr>
<tr><td><code id="prepate_data_+3A_tsl_p">tsl_p</code></td>
<td>
<p>time series list with price series for aggregate output
<code>agg</code> and its subcomponents in <code>group1, group2</code></p>
</td></tr>
<tr><td><code id="prepate_data_+3A_ts_start">ts_start</code></td>
<td>
<p>start date, e.g. <code>c(2000, 2)</code> or <code>2000.25</code></p>
</td></tr>
<tr><td><code id="prepate_data_+3A_ts_end">ts_end</code></td>
<td>
<p>end date, e.g. <code>c(2000, 2)</code> or <code>2000.25</code></p>
</td></tr>
<tr><td><code id="prepate_data_+3A_extend_weights">extend_weights</code></td>
<td>
<p>logical indicating if missing weights at beginning/end
of sample should be filled with the last/first available value</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Either <code>tsl_n</code> or <code>tsl_p</code> must be supplied.
</p>
<p>Weights are forward/backward extended with the first/last value if
the supplied time series do not cover the entire period.
</p>


<h3>Value</h3>

<p>A list with five components:
</p>
<table>
<tr><td><code>tsm</code></td>
<td>
<p>multiple time series object with all (transformed) endogeneous
variables</p>
</td></tr>
<tr><td><code>real</code></td>
<td>
<p>multiple time series object with real series of
<code>agg, group1, group2</code></p>
</td></tr>
<tr><td><code>nominal</code></td>
<td>
<p>multiple time series object with nominal series of
<code>agg, group1, group2</code></p>
</td></tr>
<tr><td><code>prices</code></td>
<td>
<p>multiple time series object with price series of
<code>agg, group1, group2</code></p>
</td></tr>
<tr><td><code>weights_growth</code></td>
<td>
<p>list of multiple time series objects with weights for
the growth constraints, i.e., for series <code>group1, group2, subgroup1</code>
if applicable</p>
</td></tr>
<tr><td><code>weights_level</code></td>
<td>
<p>list of multiple time series objects with weights for
the non linear level constraints, i.e., for series
<code>group1, group2, subgroup1</code> if applicable</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
</code></pre>

<hr>
<h2 id='print.prior'>Print <code>prior</code> object</h2><span id='topic+print.prior'></span>

<h3>Description</h3>

<p>Prints the model specifications of an object of class
<code>prior</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prior'
print(x, call = TRUE, check = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.prior_+3A_x">x</code></td>
<td>
<p>object of class <code>prior</code></p>
</td></tr>
<tr><td><code id="print.prior_+3A_call">call</code></td>
<td>
<p>logical, if <code>TRUE</code>, the call will be printed</p>
</td></tr>
<tr><td><code id="print.prior_+3A_check">check</code></td>
<td>
<p>logical, if <code>TRUE</code>, the model class will be checked</p>
</td></tr>
<tr><td><code id="print.prior_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

<hr>
<h2 id='print.settings'>Print <code>settings</code> object</h2><span id='topic+print.settings'></span>

<h3>Description</h3>

<p>Prints the model settings.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'settings'
print(x, call = TRUE, check = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.settings_+3A_x">x</code></td>
<td>
<p>object of class <code>settings</code></p>
</td></tr>
<tr><td><code id="print.settings_+3A_call">call</code></td>
<td>
<p>logical, if <code>TRUE</code>, the call will be printed</p>
</td></tr>
<tr><td><code id="print.settings_+3A_check">check</code></td>
<td>
<p>logical, if <code>TRUE</code>, the model class will be checked</p>
</td></tr>
<tr><td><code id="print.settings_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

<hr>
<h2 id='print.ss_fit'>Print <code>ss_fit</code> object.</h2><span id='topic+print.ss_fit'></span>

<h3>Description</h3>

<p>Prints the model specifications of an object of class <code>ss_fit</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ss_fit'
print(x, call = TRUE, check = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ss_fit_+3A_x">x</code></td>
<td>
<p>object of class <code>ss_fit</code></p>
</td></tr>
<tr><td><code id="print.ss_fit_+3A_call">call</code></td>
<td>
<p>logical, if <code>TRUE</code>, the call will be printed</p>
</td></tr>
<tr><td><code id="print.ss_fit_+3A_check">check</code></td>
<td>
<p>logical, if <code>TRUE</code>, the model class will be checked</p>
</td></tr>
<tr><td><code id="print.ss_fit_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

<hr>
<h2 id='print.ss_model'>Print <code>ss_model</code> object</h2><span id='topic+print.ss_model'></span>

<h3>Description</h3>

<p>Prints the model specifications of an object of class
<code>ss_model</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ss_model'
print(x, call = TRUE, check = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.ss_model_+3A_x">x</code></td>
<td>
<p>object of class <code>ss_model</code></p>
</td></tr>
<tr><td><code id="print.ss_model_+3A_call">call</code></td>
<td>
<p>logical, if <code>TRUE</code>, the call will be printed</p>
</td></tr>
<tr><td><code id="print.ss_model_+3A_check">check</code></td>
<td>
<p>logical, if <code>TRUE</code>, the model class will be checked</p>
</td></tr>
<tr><td><code id="print.ss_model_+3A_...">...</code></td>
<td>
<p>ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

<hr>
<h2 id='recessions_ch'>Swiss recessions</h2><span id='topic+recessions_ch'></span>

<h3>Description</h3>

<p>Recession periods in Switzerland since 1990.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recessions_ch
</code></pre>


<h3>Format</h3>

<p>A data frame with two columns:
</p>

<dl>
<dt>start</dt><dd><p>start date of recession, in quarters</p>
</dd>
<dt>end</dt><dd><p>end date of recession, in quarters</p>
</dd>
</dl>


<hr>
<h2 id='recessions_us'>US recessions</h2><span id='topic+recessions_us'></span>

<h3>Description</h3>

<p>Recession periods in the United States since 1960.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recessions_us
</code></pre>


<h3>Format</h3>

<p>A data frame with two columns:
</p>

<dl>
<dt>start</dt><dd><p>start date of recession, in quarters</p>
</dd>
<dt>end</dt><dd><p>end date of recession, in quarters</p>
</dd>
</dl>



<h3>Source</h3>

<p>National Bureau of Economic Research (NBER)
</p>

<hr>
<h2 id='results_state'>MCMC summary statistics for states</h2><span id='topic+results_state'></span>

<h3>Description</h3>

<p>Computes MCMC summary statistics for each state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>results_state(model, HPDIprob, state)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="results_state_+3A_model">model</code></td>
<td>
<p>The return object of the function <code>fitSSM</code> from the package <code>KFAS</code></p>
</td></tr>
<tr><td><code id="results_state_+3A_hpdiprob">HPDIprob</code></td>
<td>
<p>probability of highest posterior density interval, the
default is <code>HPDIprob = 0.68</code></p>
</td></tr>
<tr><td><code id="results_state_+3A_state">state</code></td>
<td>
<p>An array with the smoothed state</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of time series.
</p>

<hr>
<h2 id='settings_to_df'>Data frames with model settings</h2><span id='topic+settings_to_df'></span>

<h3>Description</h3>

<p>Creates a list of data frames with model settings regarding the
state space model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>settings_to_df(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="settings_to_df_+3A_x">x</code></td>
<td>
<p>list with model setting</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with data frames containing model settings.
</p>

<hr>
<h2 id='substr_r'>Extracts last letter in string</h2><span id='topic+substr_r'></span>

<h3>Description</h3>

<p>Extracts last letter in string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>substr_r(x, n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="substr_r_+3A_x">x</code></td>
<td>
<p>character string</p>
</td></tr>
<tr><td><code id="substr_r_+3A_n">n</code></td>
<td>
<p>number of letters to extract</p>
</td></tr>
</table>

<hr>
<h2 id='transform_results'>Format results</h2><span id='topic+transform_results'></span>

<h3>Description</h3>

<p>Formats the output series into a tibble in long format and
computes contribution series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>transform_results(
  fit,
  data,
  settings,
  estimate = "median",
  HPDIprob = 0.68,
  transformed = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="transform_results_+3A_fit">fit</code></td>
<td>
<p>fitted object</p>
</td></tr>
<tr><td><code id="transform_results_+3A_data">data</code></td>
<td>
<p>list with at least two named components: <code>prices</code> is a
multiple time series object that contains price indices for all relevant
series, <code>weights</code>, is a named list of time series with (nominal)
weights, the list names  correspond to the different groups, i.e.,
<code>group1, group2, subgroup1</code>, if present in the model</p>
</td></tr>
<tr><td><code id="transform_results_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="transform_results_+3A_estimate">estimate</code></td>
<td>
<p>character specifying the posterior estimate. Valid options
are <code>"mean"</code> and <code>"median"</code>, the default is
<code>estimate = "median"</code>.</p>
</td></tr>
<tr><td><code id="transform_results_+3A_hpdiprob">HPDIprob</code></td>
<td>
<p>probability of highest posterior density interval, the
default is <code>HPDIprob = 0.68</code></p>
</td></tr>
<tr><td><code id="transform_results_+3A_transformed">transformed</code></td>
<td>
<p>boolean indicating if the transformed series should be
used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>data</code> is preferably the output of funtion <code>prepare_data</code>.
</p>


<h3>Value</h3>

<p>A data frame with results in long format.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
model &lt;- define_ssmodel(
  settings = settings, 
  data = data
)
prior &lt;- initialize_prior(
  model = model, 
  settings = settings
) 

fit &lt;- estimate_ssmodel(
  model = model, 
  settings = settings, 
  data = data,
  prior = prior,
  R = 100
)
df &lt;- transform_results(
  fit = fit, 
  data = data,
  estimate = "median"
)

</code></pre>

<hr>
<h2 id='ts_c'>Creates a constant time series with same dates and frequency as the one
given.</h2><span id='topic+ts_c'></span>

<h3>Description</h3>

<p>Creates a constant time series with same dates and frequency as the one
given.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ts_c(c = 0, tsm)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ts_c_+3A_c">c</code></td>
<td>
<p>constant scalar</p>
</td></tr>
<tr><td><code id="ts_c_+3A_tsm">tsm</code></td>
<td>
<p>(multiple) time series object</p>
</td></tr>
</table>

<hr>
<h2 id='update_nonlinear_constraints'>Non linear constraints update</h2><span id='topic+update_nonlinear_constraints'></span>

<h3>Description</h3>

<p>Updates the system matrices of a state space model to include
non linear constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_nonlinear_constraints(state, model, settings, df_constr, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_nonlinear_constraints_+3A_state">state</code></td>
<td>
<p>multiple time series object with states</p>
</td></tr>
<tr><td><code id="update_nonlinear_constraints_+3A_model">model</code></td>
<td>
<p>state space model object (with assigned parameters)</p>
</td></tr>
<tr><td><code id="update_nonlinear_constraints_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="update_nonlinear_constraints_+3A_df_constr">df_constr</code></td>
<td>
<p>data frame with constraint settings</p>
</td></tr>
<tr><td><code id="update_nonlinear_constraints_+3A_data">data</code></td>
<td>
<p>list with at least two named components: <code>tsm</code> is a multiple
time series object that contains all observation series, <code>weights</code>
is a named list of time series with (nominal) weights, the list names
correspond to the different groups, i.e., <code>group1, group2, subgroup1</code>,
if present in the model</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>data</code> is preferably the output of funtion <code>prepare_data</code>.
</p>


<h3>Value</h3>

<p>The state space model object <code>model</code> with updates matrices.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
model &lt;- define_ssmodel(
  settings = settings, 
  data = data
)
</code></pre>

<hr>
<h2 id='update_ssmodel'>State space model update</h2><span id='topic+update_ssmodel'></span>

<h3>Description</h3>

<p>Updates the system matrices of a state space model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_ssmodel(pars, model, model_last, settings, df_set)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_ssmodel_+3A_pars">pars</code></td>
<td>
<p>named vector with all parameters</p>
</td></tr>
<tr><td><code id="update_ssmodel_+3A_model">model</code></td>
<td>
<p>state space model object (unassigned)</p>
</td></tr>
<tr><td><code id="update_ssmodel_+3A_model_last">model_last</code></td>
<td>
<p>state space model object (previous draw)</p>
</td></tr>
<tr><td><code id="update_ssmodel_+3A_settings">settings</code></td>
<td>
<p>list with model setting, in the format returned by the
function <code>initialize_settings</code></p>
</td></tr>
<tr><td><code id="update_ssmodel_+3A_df_set">df_set</code></td>
<td>
<p>data frame with model settings</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>data</code> is preferably the output of funtion <code>prepare_data</code>.
</p>


<h3>Value</h3>

<p>The state space model object <code>model</code> with updates matrices.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("data_ch")
settings &lt;- initialize_settings()
data &lt;- prepate_data(
  settings = settings,
  tsl = data_ch$tsl,
  tsl_n = data_ch$tsl_n
)
model &lt;- define_ssmodel(
  settings = settings, 
  data = data
)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

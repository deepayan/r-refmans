<!DOCTYPE html><html><head><title>Help for package excluder</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {excluder}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe operator</p></a></li>
<li><a href='#check_duplicates'><p>Check for duplicate IP addresses and/or locations</p></a></li>
<li><a href='#check_duration'><p>Check for minimum or maximum durations</p></a></li>
<li><a href='#check_ip'><p>Check for IP addresses from outside of a specified country.</p></a></li>
<li><a href='#check_location'><p>Check for locations outside of the US</p></a></li>
<li><a href='#check_preview'><p>Check for survey previews</p></a></li>
<li><a href='#check_progress'><p>Check for survey progress</p></a></li>
<li><a href='#check_resolution'><p>Check screen resolution</p></a></li>
<li><a href='#collapse_exclusions'><p>Unite multiple exclusion columns into single column</p></a></li>
<li><a href='#deidentify'><p>Remove columns that could include identifiable information</p></a></li>
<li><a href='#exclude_duplicates'><p>Exclude rows with duplicate IP addresses and/or locations</p></a></li>
<li><a href='#exclude_duration'><p>Exclude rows with minimum or maximum durations</p></a></li>
<li><a href='#exclude_ip'><p>Exclude IP addresses from outside of a specified country.</p></a></li>
<li><a href='#exclude_location'><p>Exclude locations outside of US</p></a></li>
<li><a href='#exclude_preview'><p>Exclude survey previews</p></a></li>
<li><a href='#exclude_progress'><p>Exclude survey progress</p></a></li>
<li><a href='#exclude_resolution'><p>Exclude unacceptable screen resolution</p></a></li>
<li><a href='#excluder-package'><p>excluder: Checks for Exclusion Criteria in Online Data</p></a></li>
<li><a href='#keep_marked_column'><p>Keep column with marked rows</p></a></li>
<li><a href='#mark_duplicates'><p>Mark duplicate IP addresses and/or locations</p></a></li>
<li><a href='#mark_duration'><p>Mark minimum or maximum durations</p></a></li>
<li><a href='#mark_ip'><p>Mark IP addresses from outside of a specified country.</p></a></li>
<li><a href='#mark_location'><p>Mark locations outside of US</p></a></li>
<li><a href='#mark_preview'><p>Mark survey previews</p></a></li>
<li><a href='#mark_progress'><p>Mark survey progress</p></a></li>
<li><a href='#mark_resolution'><p>Mark unacceptable screen resolution</p></a></li>
<li><a href='#mark_rows'><p>Return marked rows</p></a></li>
<li><a href='#print_data'><p>Print data to console</p></a></li>
<li><a href='#print_exclusion'><p>Print number of excluded rows</p></a></li>
<li><a href='#qualtrics_fetch'><p>Example numeric metadata imported with <code>qualtRics::fetch_survey()</code> from</p>
simulated Qualtrics study</a></li>
<li><a href='#qualtrics_fetch2'><p>Example numeric metadata imported with <code>qualtRics::fetch_survey()</code> from</p>
simulated Qualtrics study but with labels included as column names</a></li>
<li><a href='#qualtrics_numeric'><p>Example numeric metadata from simulated Qualtrics study</p></a></li>
<li><a href='#qualtrics_raw'><p>Example text-based metadata from simulated Qualtrics study</p></a></li>
<li><a href='#qualtrics_text'><p>Example text-based metadata from simulated Qualtrics study</p></a></li>
<li><a href='#remove_label_rows'><p>Remove two initial rows created in Qualtrics data</p></a></li>
<li><a href='#rename_columns'><p>Rename columns to match standard Qualtrics names</p></a></li>
<li><a href='#unite_exclusions'><p>Unite multiple exclusion columns into single column</p></a></li>
<li><a href='#use_labels'><p>Use Qualtrics labels as column names</p></a></li>
<li><a href='#validate_columns'><p>Check number, names, and type of columns</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Checks for Exclusion Criteria in Online Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Data that are collected through online sources such as
    Mechanical Turk may require excluding rows because of IP address
    duplication, geolocation, or completion duration. This package
    facilitates exclusion of these data for Qualtrics datasets.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/excluder/">https://docs.ropensci.org/excluder/</a>,
<a href="https://github.com/ropensci/excluder/">https://github.com/ropensci/excluder/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/excluder/issues/">https://github.com/ropensci/excluder/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, curl, dplyr, ipaddress, janitor, lubridate, magrittr,
maps, rlang, stringr, tidyr, tidyselect</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, lifecycle, readr, rmarkdown, testthat (&ge;
3.0.0), withr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-13 17:40:29 UTC; jstevens</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeffrey R. Stevens
    <a href="https://orcid.org/0000-0003-2375-1360"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph],
  Joseph O'Brien <a href="https://orcid.org/0000-0001-9851-5077"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev],
  Julia Silge <a href="https://orcid.org/0000-0002-3671-836X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jeffrey R. Stevens &lt;jeffrey.r.stevens@protonmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-13 17:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='check_duplicates'>Check for duplicate IP addresses and/or locations</h2><span id='topic+check_duplicates'></span>

<h3>Description</h3>

<p>The <code>check_duplicates()</code> function subsets rows of data, retaining rows
that have the same IP address and/or same latitude and longitude. The
function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_duplicates(
  x,
  id_col = "ResponseId",
  ip_col = "IPAddress",
  location_col = c("LocationLatitude", "LocationLongitude"),
  rename = TRUE,
  dupl_ip = TRUE,
  dupl_location = TRUE,
  include_na = FALSE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_duplicates_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_ip_col">ip_col</code></td>
<td>
<p>Column name for IP addresses.</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_location_col">location_col</code></td>
<td>
<p>Two element vector specifying columns for latitude and
longitude (in that order).</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_dupl_ip">dupl_ip</code></td>
<td>
<p>Logical indicating whether to check IP addresses.</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_dupl_location">dupl_location</code></td>
<td>
<p>Logical indicating whether to check latitude and
longitude.</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NAs for
IP address and location as potentially excluded rows.</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_duplicates_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
By default, IP address and location are both checked, but they can be
checked separately with the <code>dupl_ip</code> and <code>dupl_location</code> arguments.
</p>
<p>The function outputs to console separate messages about the number of
rows with duplicate IP addresses and rows with duplicate locations.
These counts are computed independently, so rows may be counted for both
types of duplicates.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes the rows with
duplicate IP addresses and/or locations. This includes a column
called dupe_count that returns the number of duplicates.
For a function that marks these rows, use <code><a href="#topic+mark_duplicates">mark_duplicates()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_duplicates">exclude_duplicates()</a></code>.
</p>


<h3>See Also</h3>

<p>Other duplicates functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+check_resolution">check_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for duplicate IP addresses and locations
data(qualtrics_text)
check_duplicates(qualtrics_text)

# Check only for duplicate locations
qualtrics_text %&gt;%
  check_duplicates(dupl_location = FALSE)

# Do not print rows to console
qualtrics_text %&gt;%
  check_duplicates(print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  check_duplicates(quiet = TRUE)
</code></pre>

<hr>
<h2 id='check_duration'>Check for minimum or maximum durations</h2><span id='topic+check_duration'></span>

<h3>Description</h3>

<p>The <code>check_duration()</code> function subsets rows of data, retaining rows
that have durations that are too fast or too slow.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_duration(
  x,
  min_duration = 10,
  max_duration = NULL,
  id_col = "ResponseId",
  duration_col = "Duration (in seconds)",
  rename = TRUE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_duration_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="check_duration_+3A_min_duration">min_duration</code></td>
<td>
<p>Minimum duration that is too fast in seconds.</p>
</td></tr>
<tr><td><code id="check_duration_+3A_max_duration">max_duration</code></td>
<td>
<p>Maximum duration that is too slow in seconds.</p>
</td></tr>
<tr><td><code id="check_duration_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_duration_+3A_duration_col">duration_col</code></td>
<td>
<p>Column name for durations.</p>
</td></tr>
<tr><td><code id="check_duration_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_duration_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_duration_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_duration_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
By default, minimum durations of 10 seconds are checked, but either
minima or maxima can be checked with the <code>min_duration</code> and
<code>max_duration</code> arguments. The function outputs to console separate
messages about the number of rows that are too fast or too slow.
</p>
<p>This function returns the fast and slow rows.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes the rows with fast and/or
slow duration.
For a function that marks these rows, use <code><a href="#topic+mark_duration">mark_duration()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_duration">exclude_duration()</a></code>.
</p>


<h3>See Also</h3>

<p>Other duration functions: 
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+check_resolution">check_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for durations faster than 100 seconds
data(qualtrics_text)
check_duration(qualtrics_text, min_duration = 100)

# Remove preview data first
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_duration(min_duration = 100)

# Check only for durations slower than 800 seconds
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_duration(max_duration = 800)

# Do not print rows to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_duration(min_duration = 100, print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_duration(min_duration = 100, quiet = TRUE)
</code></pre>

<hr>
<h2 id='check_ip'>Check for IP addresses from outside of a specified country.</h2><span id='topic+check_ip'></span>

<h3>Description</h3>

<p>The <code>check_ip()</code> function subsets rows of data, retaining rows
that have IP addresses from outside the specified country.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_ip(
  x,
  id_col = "ResponseId",
  ip_col = "IPAddress",
  rename = TRUE,
  country = "US",
  include_na = FALSE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_ip_+3A_x">x</code></td>
<td>
<p>Data frame or tibble (preferably imported from Qualtrics using
{qualtRics}).</p>
</td></tr>
<tr><td><code id="check_ip_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_ip_+3A_ip_col">ip_col</code></td>
<td>
<p>Column name for IP addresses.</p>
</td></tr>
<tr><td><code id="check_ip_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_ip_+3A_country">country</code></td>
<td>
<p>Two-letter abbreviation of country to check (default is &quot;US&quot;).</p>
</td></tr>
<tr><td><code id="check_ip_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NA in
IP address column in the output list of potentially excluded data.</p>
</td></tr>
<tr><td><code id="check_ip_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_ip_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_ip_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The function uses <code><a href="ipaddress.html#topic+country_networks">ipaddress::country_networks()</a></code> to assign IP addresses to
specific countries using
<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 country codes</a>.
</p>
<p>The function outputs to console a message about the number of rows
with IP addresses outside of the specified country. If there are <code>NA</code>s for IP
addresses (likely due to including preview data&mdash;see <code><a href="#topic+check_preview">check_preview()</a></code>), it
will print a message alerting to the number of rows with <code>NA</code>s.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes the rows with
IP addresses outside of the specified country.
For a function that marks these rows, use <code><a href="#topic+mark_ip">mark_ip()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_ip">exclude_ip()</a></code>.
</p>


<h3>Note</h3>

<p>This function <strong>requires internet connectivity</strong> as it uses the
<code><a href="ipaddress.html#topic+country_networks">ipaddress::country_networks()</a></code> function, which pulls daily updated data
from <a href="https://www.iwik.org/ipcountry/">https://www.iwik.org/ipcountry/</a>. It only updates the data once
per session, as it caches the results for future work during the session.
</p>


<h3>See Also</h3>

<p>Other ip functions: 
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+check_resolution">check_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for IP addresses outside of the US
data(qualtrics_text)
check_ip(qualtrics_text)

# Remove preview data first
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_ip()

# Check for IP addresses outside of Germany
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_ip(country = "DE")

# Do not print rows to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_ip(print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_ip(quiet = TRUE)
</code></pre>

<hr>
<h2 id='check_location'>Check for locations outside of the US</h2><span id='topic+check_location'></span>

<h3>Description</h3>

<p>The <code>check_location()</code> function subsets rows of data, retaining rows
that have locations outside of the US.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_location(
  x,
  id_col = "ResponseId",
  location_col = c("LocationLatitude", "LocationLongitude"),
  rename = TRUE,
  include_na = FALSE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_location_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="check_location_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_location_+3A_location_col">location_col</code></td>
<td>
<p>Two element vector specifying columns for latitude
and longitude (in that order).</p>
</td></tr>
<tr><td><code id="check_location_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_location_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NA in
latitude and longitude columns in the output list of potentially excluded
data.</p>
</td></tr>
<tr><td><code id="check_location_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_location_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_location_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The function only works for the United States.
It uses the #' <code><a href="maps.html#topic+map.where">maps::map.where()</a></code> to determine if latitude and longitude
are inside the US.
</p>
<p>The function outputs to console a message about the number of rows
with locations outside of the US.
</p>


<h3>Value</h3>

<p>The output is a data frame of the rows that are located outside of
the US and (if <code>include_na == FALSE</code>) rows with no location information.
For a function that marks these rows, use <code><a href="#topic+mark_location">mark_location()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_location">exclude_location()</a></code>.
</p>


<h3>See Also</h3>

<p>Other location functions: 
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+check_resolution">check_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for locations outside of the US
data(qualtrics_text)
check_location(qualtrics_text)

# Remove preview data first
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_location()

# Do not print rows to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_location(print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_location(quiet = TRUE)
</code></pre>

<hr>
<h2 id='check_preview'>Check for survey previews</h2><span id='topic+check_preview'></span>

<h3>Description</h3>

<p>The <code>check_preview()</code> function subsets rows of data, retaining rows
that are survey previews.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_preview(
  x,
  id_col = "ResponseId",
  preview_col = "Status",
  rename = TRUE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_preview_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="check_preview_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_preview_+3A_preview_col">preview_col</code></td>
<td>
<p>Column name for survey preview.</p>
</td></tr>
<tr><td><code id="check_preview_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_preview_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_preview_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_preview_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The preview column in Qualtrics can be a numeric or character vector
depending on whether it is exported as choice text or numeric values.
This function works for both.
</p>
<p>The function outputs to console a message about the number of rows
that are survey previews.
</p>


<h3>Value</h3>

<p>The output is a data frame of the rows
that are survey previews.
For a function that marks these rows, use <code><a href="#topic+mark_preview">mark_preview()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_preview">exclude_preview()</a></code>.
</p>


<h3>See Also</h3>

<p>Other preview functions: 
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+check_resolution">check_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for survey previews
data(qualtrics_text)
check_preview(qualtrics_text)

# Works for Qualtrics data exported as numeric values, too
qualtrics_numeric %&gt;%
  check_preview()

# Do not print rows to console
qualtrics_text %&gt;%
  check_preview(print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  check_preview(quiet = TRUE)
</code></pre>

<hr>
<h2 id='check_progress'>Check for survey progress</h2><span id='topic+check_progress'></span>

<h3>Description</h3>

<p>The <code>check_progress()</code> function subsets rows of data, retaining rows
that have incomplete progress.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_progress(
  x,
  min_progress = 100,
  id_col = "ResponseId",
  finished_col = "Finished",
  progress_col = "Progress",
  rename = TRUE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_progress_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="check_progress_+3A_min_progress">min_progress</code></td>
<td>
<p>Amount of progress considered acceptable to include.</p>
</td></tr>
<tr><td><code id="check_progress_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_progress_+3A_finished_col">finished_col</code></td>
<td>
<p>Column name for whether survey was completed.</p>
</td></tr>
<tr><td><code id="check_progress_+3A_progress_col">progress_col</code></td>
<td>
<p>Column name for percentage of survey completed.</p>
</td></tr>
<tr><td><code id="check_progress_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_progress_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_progress_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_progress_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The default requires 100% completion, but lower levels of completion
maybe acceptable and can be allowed by specifying the <code>min_progress</code>
argument.
The finished column in Qualtrics can be a numeric or character vector
depending on whether it is exported as choice text or numeric values.
This function works for both.
</p>
<p>The function outputs to console a message about the number of rows
that have incomplete progress.
</p>


<h3>Value</h3>

<p>The output is a data frame of the rows
that have incomplete progress.
For a function that marks these rows, use <code><a href="#topic+mark_progress">mark_progress()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_progress">exclude_progress()</a></code>.
</p>


<h3>See Also</h3>

<p>Other progress functions: 
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+check_resolution">check_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for rows with incomplete progress
data(qualtrics_text)
check_progress(qualtrics_text)

# Remove preview data first
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_progress()

# Include a lower acceptable completion percentage
qualtrics_numeric %&gt;%
  exclude_preview() %&gt;%
  check_progress(min_progress = 98)

# Do not print rows to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_progress(print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_progress(quiet = TRUE)
</code></pre>

<hr>
<h2 id='check_resolution'>Check screen resolution</h2><span id='topic+check_resolution'></span>

<h3>Description</h3>

<p>The <code>check_resolution()</code> function subsets rows of data, retaining rows
that have unacceptable screen resolution. This can be used, for example, to
determine data collected via phones when desktop monitors are required.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_resolution(
  x,
  res_min = 1000,
  width_min = 0,
  height_min = 0,
  id_col = "ResponseId",
  res_col = "Resolution",
  rename = TRUE,
  keep = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_resolution_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_res_min">res_min</code></td>
<td>
<p>Minimum acceptable screen resolution (width and height).</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_width_min">width_min</code></td>
<td>
<p>Minimum acceptable screen width.</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_height_min">height_min</code></td>
<td>
<p>Minimum acceptable screen height.</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_res_col">res_col</code></td>
<td>
<p>Column name for screen resolution (in format widthxheight).</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="check_resolution_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/editing-questions/question-types-guide/advanced/meta-info-question/">insert a meta info question</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
</p>
<p>The function outputs to console a message about the number of rows
with unacceptable screen resolution.
</p>


<h3>Value</h3>

<p>The output is a data frame of the rows that have unacceptable screen
resolutions. This includes new columns for resolution width and height.
For a function that marks these rows, use <code><a href="#topic+mark_resolution">mark_resolution()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_resolution">exclude_resolution()</a></code>.
</p>


<h3>See Also</h3>

<p>Other resolution functions: 
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>
<p>Other check functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+check_progress">check_progress</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Check for survey previews
data(qualtrics_text)
check_resolution(qualtrics_text)

# Remove preview data first
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_resolution()

# Do not print rows to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_resolution(print = FALSE)

# Do not print message to console
qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  check_resolution(quiet = TRUE)
</code></pre>

<hr>
<h2 id='collapse_exclusions'>Unite multiple exclusion columns into single column</h2><span id='topic+collapse_exclusions'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p><code>collapse_exclusions()</code> was renamed to <code><a href="#topic+unite_exclusions">unite_exclusions()</a></code> to create a more
consistent API with tidyverse's <code>unite()</code> function&mdash;please use
<code>unite_exclusions()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapse_exclusions(
  x,
  exclusion_types = c("duplicates", "duration", "ip", "location", "preview", "progress",
    "resolution"),
  separator = ",",
  remove = TRUE
)
</code></pre>

<hr>
<h2 id='deidentify'>Remove columns that could include identifiable information</h2><span id='topic+deidentify'></span>

<h3>Description</h3>

<p>The <code>deidentify()</code> function selects out columns from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys that may include identifiable
information such as IP address, location, or computer characteristics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deidentify(x, strict = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="deidentify_+3A_x">x</code></td>
<td>
<p>Data frame (downloaded from Qualtrics).</p>
</td></tr>
<tr><td><code id="deidentify_+3A_strict">strict</code></td>
<td>
<p>Logical indicating whether to use strict or non-strict level
of deidentification. Strict removes computer information columns in addition
to IP address and location.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function offers two levels of deidentification. The default strict level
removes columns associated with IP address and location and computer
information (browser type and version, operating system, and screen
resolution). The non-strict level removes only columns associated with
IP address and location.
</p>
<p>Typically, deidentification should be used at the end of a processing pipeline
so that these columns can be used to exclude rows.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes Qualtrics columns with
identifiable information.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>names(qualtrics_numeric)

# Remove IP address, location, and computer information columns
deid &lt;- deidentify(qualtrics_numeric)
names(deid)

# Remove only IP address and location columns
deid2 &lt;- deidentify(qualtrics_numeric, strict = FALSE)
names(deid2)
</code></pre>

<hr>
<h2 id='exclude_duplicates'>Exclude rows with duplicate IP addresses and/or locations</h2><span id='topic+exclude_duplicates'></span>

<h3>Description</h3>

<p>The <code>exclude_duplicates()</code> function removes
rows of data that have the same IP address and/or same latitude and
longitude. The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_duplicates(
  x,
  id_col = "ResponseId",
  ip_col = "IPAddress",
  location_col = c("LocationLatitude", "LocationLongitude"),
  rename = TRUE,
  dupl_ip = TRUE,
  dupl_location = TRUE,
  include_na = FALSE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_duplicates_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_ip_col">ip_col</code></td>
<td>
<p>Column name for IP addresses.</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_location_col">location_col</code></td>
<td>
<p>Two element vector specifying columns for latitude and
longitude (in that order).</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_dupl_ip">dupl_ip</code></td>
<td>
<p>Logical indicating whether to check IP addresses.</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_dupl_location">dupl_location</code></td>
<td>
<p>Logical indicating whether to check latitude and
longitude.</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NAs for
IP address and location as potentially excluded rows.</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_duplicates_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
By default, IP address and location are both checked, but they can be
checked separately with the <code>dupl_ip</code> and <code>dupl_location</code> arguments.
</p>
<p>The function outputs to console separate messages about the number of
rows with duplicate IP addresses and rows with duplicate locations.
These counts are computed independently, so rows may be counted for both
types of duplicates.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
with duplicate IP addresses and/or locations.
For a function that just checks for and returns duplicate rows,
use <code><a href="#topic+check_duplicates">check_duplicates()</a></code>. For a function that marks these rows,
use <code><a href="#topic+mark_duplicates">mark_duplicates()</a></code>.
</p>


<h3>See Also</h3>

<p>Other duplicates functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude duplicate IP addresses and locations
data(qualtrics_text)
df &lt;- exclude_duplicates(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_duplicates()

# Exclude only for duplicate locations
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_duplicates(dupl_location = FALSE)
</code></pre>

<hr>
<h2 id='exclude_duration'>Exclude rows with minimum or maximum durations</h2><span id='topic+exclude_duration'></span>

<h3>Description</h3>

<p>The <code>exclude_duration()</code> function removes
rows of data that have durations that are too fast or too slow.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_duration(
  x,
  min_duration = 10,
  max_duration = NULL,
  id_col = "ResponseId",
  duration_col = "Duration (in seconds)",
  rename = TRUE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_duration_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_min_duration">min_duration</code></td>
<td>
<p>Minimum duration that is too fast in seconds.</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_max_duration">max_duration</code></td>
<td>
<p>Maximum duration that is too slow in seconds.</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_duration_col">duration_col</code></td>
<td>
<p>Column name for durations.</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_duration_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
By default, minimum durations of 10 seconds are checked, but either
minima or maxima can be checked with the <code>min_duration</code> and
<code>max_duration</code> arguments. The function outputs to console separate
messages about the number of rows that are too fast or too slow.
</p>
<p>This function returns the fast and slow rows.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
with fast and/or slow duration.
For a function that checks for these rows, use <code><a href="#topic+check_duration">check_duration()</a></code>.
For a function that marks these rows, use <code><a href="#topic+mark_duration">mark_duration()</a></code>.
</p>


<h3>See Also</h3>

<p>Other duration functions: 
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude durations faster than 100 seconds
data(qualtrics_text)
df &lt;- exclude_duration(qualtrics_text, min_duration = 100)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_duration()

# Exclude only for durations slower than 800 seconds
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_duration(max_duration = 800)
</code></pre>

<hr>
<h2 id='exclude_ip'>Exclude IP addresses from outside of a specified country.</h2><span id='topic+exclude_ip'></span>

<h3>Description</h3>

<p>The <code>exclude_ip()</code> function removes rows of data that have
IP addresses from outside the specified country.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_ip(
  x,
  id_col = "ResponseId",
  ip_col = "IPAddress",
  rename = TRUE,
  country = "US",
  include_na = FALSE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_ip_+3A_x">x</code></td>
<td>
<p>Data frame or tibble (preferably imported from Qualtrics using
{qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_ip_col">ip_col</code></td>
<td>
<p>Column name for IP addresses.</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_country">country</code></td>
<td>
<p>Two-letter abbreviation of country to check (default is &quot;US&quot;).</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NA in
IP address column in the output list of potentially excluded data.</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_ip_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The function uses <code><a href="ipaddress.html#topic+country_networks">ipaddress::country_networks()</a></code> to assign IP addresses to
specific countries using
<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 country codes</a>.
</p>
<p>The function outputs to console a message about the number of rows
with IP addresses outside of the specified country. If there are <code>NA</code>s for IP
addresses (likely due to including preview data&mdash;see <code><a href="#topic+check_preview">check_preview()</a></code>), it
will print a message alerting to the number of rows with <code>NA</code>s.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
with IP addresses outside of the specified country.
For a function that checks these rows, use <code><a href="#topic+check_ip">check_ip()</a></code>.
For a function that marks these rows, use <code><a href="#topic+mark_ip">mark_ip()</a></code>.
</p>


<h3>Note</h3>

<p>This function <strong>requires internet connectivity</strong> as it uses the
<code><a href="ipaddress.html#topic+country_networks">ipaddress::country_networks()</a></code> function, which pulls daily updated data
from <a href="http://www.iwik.org/ipcountry/">http://www.iwik.org/ipcountry/</a>. It only updates the data once
per session, as it caches the results for future work during the session.
</p>


<h3>See Also</h3>

<p>Other ip functions: 
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude IP addresses outside of the US
data(qualtrics_text)
df &lt;- exclude_ip(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_ip()

# Exclude IP addresses outside of Germany
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_ip(country = "DE")
</code></pre>

<hr>
<h2 id='exclude_location'>Exclude locations outside of US</h2><span id='topic+exclude_location'></span>

<h3>Description</h3>

<p>The <code>exclude_location()</code> function removes
rows that have locations outside of the US.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_location(
  x,
  id_col = "ResponseId",
  location_col = c("LocationLatitude", "LocationLongitude"),
  rename = TRUE,
  include_na = FALSE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_location_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_location_col">location_col</code></td>
<td>
<p>Two element vector specifying columns for latitude
and longitude (in that order).</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NA in
latitude and longitude columns in the output list of potentially excluded
data.</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_location_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The function only works for the United States.
It uses the #' <code><a href="maps.html#topic+map.where">maps::map.where()</a></code> to determine if latitude and longitude
are inside the US.
</p>
<p>The function outputs to console a message about the number of rows
with locations outside of the US.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
that are located outside of the US and (if <code>include_na == FALSE</code>) rows with
no location information.
For a function that checks for these rows, use <code><a href="#topic+check_location">check_location()</a></code>.
For a function that marks these rows, use <code><a href="#topic+mark_location">mark_location()</a></code>.
</p>


<h3>See Also</h3>

<p>Other location functions: 
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude locations outside of the US
data(qualtrics_text)
df &lt;- exclude_location(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_location()
</code></pre>

<hr>
<h2 id='exclude_preview'>Exclude survey previews</h2><span id='topic+exclude_preview'></span>

<h3>Description</h3>

<p>The <code>exclude_preview()</code> function removes
rows that are survey previews.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_preview(
  x,
  id_col = "ResponseId",
  preview_col = "Status",
  rename = TRUE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_preview_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_preview_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_preview_+3A_preview_col">preview_col</code></td>
<td>
<p>Column name for survey preview.</p>
</td></tr>
<tr><td><code id="exclude_preview_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_preview_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_preview_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_preview_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The preview column in Qualtrics can be a numeric or character vector
depending on whether it is exported as choice text or numeric values.
This function works for both.
</p>
<p>The function outputs to console a message about the number of rows
that are survey previews.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
that are survey previews.
For a function that checks for these rows, use <code><a href="#topic+check_preview">check_preview()</a></code>.
For a function that marks these rows, use <code><a href="#topic+mark_preview">mark_preview()</a></code>.
</p>


<h3>See Also</h3>

<p>Other preview functions: 
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude survey previews
data(qualtrics_text)
df &lt;- exclude_preview(qualtrics_text)

# Works for Qualtrics data exported as numeric values, too
df &lt;- qualtrics_numeric %&gt;%
  exclude_preview()

# Do not print rows to console
df &lt;- qualtrics_text %&gt;%
  exclude_preview(print = FALSE)
</code></pre>

<hr>
<h2 id='exclude_progress'>Exclude survey progress</h2><span id='topic+exclude_progress'></span>

<h3>Description</h3>

<p>The <code>exclude_progress()</code> function removes
rows that have incomplete progress.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_progress(
  x,
  min_progress = 100,
  id_col = "ResponseId",
  finished_col = "Finished",
  progress_col = "Progress",
  rename = TRUE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_progress_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_min_progress">min_progress</code></td>
<td>
<p>Amount of progress considered acceptable to include.</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_finished_col">finished_col</code></td>
<td>
<p>Column name for whether survey was completed.</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_progress_col">progress_col</code></td>
<td>
<p>Column name for percentage of survey completed.</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_progress_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The default requires 100% completion, but lower levels of completion
maybe acceptable and can be allowed by specifying the <code>min_progress</code>
argument.
The finished column in Qualtrics can be a numeric or character vector
depending on whether it is exported as choice text or numeric values.
This function works for both.
</p>
<p>The function outputs to console a message about the number of rows
that have incomplete progress.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
that have incomplete progress.
For a function that checks for these rows, use <code><a href="#topic+check_progress">check_progress()</a></code>.
For a function that marks these rows, use <code><a href="#topic+mark_progress">mark_progress()</a></code>.
</p>


<h3>See Also</h3>

<p>Other progress functions: 
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude rows with incomplete progress
data(qualtrics_text)
df &lt;- exclude_progress(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_progress()

# Include a lower acceptable completion percentage
df &lt;- qualtrics_numeric %&gt;%
  exclude_preview() %&gt;%
  exclude_progress(min_progress = 98)

# Do not print rows to console
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_progress(print = FALSE)
</code></pre>

<hr>
<h2 id='exclude_resolution'>Exclude unacceptable screen resolution</h2><span id='topic+exclude_resolution'></span>

<h3>Description</h3>

<p>The <code>exclude_resolution()</code> function removes
rows that have unacceptable screen resolution.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>exclude_resolution(
  x,
  res_min = 1000,
  width_min = 0,
  height_min = 0,
  id_col = "ResponseId",
  res_col = "Resolution",
  rename = TRUE,
  quiet = TRUE,
  print = TRUE,
  silent = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="exclude_resolution_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_res_min">res_min</code></td>
<td>
<p>Minimum acceptable screen resolution (width and height).</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_width_min">width_min</code></td>
<td>
<p>Minimum acceptable screen width.</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_height_min">height_min</code></td>
<td>
<p>Minimum acceptable screen height.</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_res_col">res_col</code></td>
<td>
<p>Column name for screen resolution (in format widthxheight).</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
<tr><td><code id="exclude_resolution_+3A_silent">silent</code></td>
<td>
<p>Logical indicating whether to print message to console. Note
this argument controls the exclude message not the check message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/editing-questions/question-types-guide/advanced/meta-info-question/">insert a meta info question</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
</p>
<p>The function outputs to console a message about the number of rows
with unacceptable screen resolution.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes rows
that have unacceptable screen resolutions.
For a function that checks for these rows, use <code><a href="#topic+check_resolution">check_resolution()</a></code>.
For a function that marks these rows, use <code><a href="#topic+mark_resolution">mark_resolution()</a></code>.
</p>


<h3>See Also</h3>

<p>Other resolution functions: 
<code><a href="#topic+check_resolution">check_resolution</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>
<p>Other exclude functions: 
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>,
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Exclude low screen resolutions
data(qualtrics_text)
df &lt;- exclude_resolution(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  exclude_resolution()
</code></pre>

<hr>
<h2 id='excluder-package'>excluder: Checks for Exclusion Criteria in Online Data</h2><span id='topic+excluder'></span><span id='topic+excluder-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Data that are collected through online sources such as Mechanical Turk may require excluding rows because of IP address duplication, geolocation, or completion duration. This package facilitates exclusion of these data for Qualtrics datasets.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Jeffrey R. Stevens <a href="mailto:jeffrey.r.stevens@protonmail.com">jeffrey.r.stevens@protonmail.com</a> (<a href="https://orcid.org/0000-0003-2375-1360">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Joseph O'Brien (<a href="https://orcid.org/0000-0001-9851-5077">ORCID</a>) [reviewer]
</p>
</li>
<li><p> Julia Silge <a href="mailto:julia.silge@gmail.com">julia.silge@gmail.com</a> (<a href="https://orcid.org/0000-0002-3671-836X">ORCID</a>) [reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/excluder/">https://docs.ropensci.org/excluder/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/excluder/">https://github.com/ropensci/excluder/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/excluder/issues/">https://github.com/ropensci/excluder/issues/</a>
</p>
</li></ul>


<hr>
<h2 id='keep_marked_column'>Keep column with marked rows</h2><span id='topic+keep_marked_column'></span>

<h3>Description</h3>

<p>For check_*() functions, keep the column that has marked rows and move to
first column or remove the column depending on <code>keep</code> flag.
<em>This function is not exported.</em>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keep_marked_column(x, column, keep)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="keep_marked_column_+3A_x">x</code></td>
<td>
<p>Data set.</p>
</td></tr>
<tr><td><code id="keep_marked_column_+3A_column">column</code></td>
<td>
<p>Name of exclusion column.</p>
</td></tr>
<tr><td><code id="keep_marked_column_+3A_keep">keep</code></td>
<td>
<p>Logical indicating whether to keep or remove exclusion column.</p>
</td></tr>
</table>

<hr>
<h2 id='mark_duplicates'>Mark duplicate IP addresses and/or locations</h2><span id='topic+mark_duplicates'></span>

<h3>Description</h3>

<p>The <code>mark_duplicates()</code> function creates a column labeling
rows of data that have the same IP address and/or same latitude and
longitude. The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_duplicates(
  x,
  id_col = "ResponseId",
  ip_col = "IPAddress",
  location_col = c("LocationLatitude", "LocationLongitude"),
  rename = TRUE,
  dupl_ip = TRUE,
  dupl_location = TRUE,
  include_na = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_duplicates_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_ip_col">ip_col</code></td>
<td>
<p>Column name for IP addresses.</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_location_col">location_col</code></td>
<td>
<p>Two element vector specifying columns for latitude and
longitude (in that order).</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_dupl_ip">dupl_ip</code></td>
<td>
<p>Logical indicating whether to check IP addresses.</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_dupl_location">dupl_location</code></td>
<td>
<p>Logical indicating whether to check latitude and
longitude.</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NAs for
IP address and location as potentially excluded rows.</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_duplicates_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
By default, IP address and location are both checked, but they can be
checked separately with the <code>dupl_ip</code> and <code>dupl_location</code> arguments.
</p>
<p>The function outputs to console separate messages about the number of
rows with duplicate IP addresses and rows with duplicate locations.
These counts are computed independently, so rows may be counted for both
types of duplicates.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
with duplicate IP addresses and/or locations.
For a function that just checks for and returns duplicate rows,
use <code><a href="#topic+check_duplicates">check_duplicates()</a></code>. For a function that excludes these rows,
use <code><a href="#topic+exclude_duplicates">exclude_duplicates()</a></code>.
</p>


<h3>See Also</h3>

<p>Other duplicates functions: 
<code><a href="#topic+check_duplicates">check_duplicates</a>()</code>,
<code><a href="#topic+exclude_duplicates">exclude_duplicates</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duration">mark_duration</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark duplicate IP addresses and locations
data(qualtrics_text)
df &lt;- mark_duplicates(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_duplicates()

# Mark only for duplicate locations
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_duplicates(dupl_location = FALSE)
</code></pre>

<hr>
<h2 id='mark_duration'>Mark minimum or maximum durations</h2><span id='topic+mark_duration'></span>

<h3>Description</h3>

<p>The <code>mark_duration()</code> function creates a column labeling
rows with fast and/or slow duration.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_duration(
  x,
  min_duration = 10,
  max_duration = NULL,
  id_col = "ResponseId",
  duration_col = "Duration (in seconds)",
  rename = TRUE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_duration_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_min_duration">min_duration</code></td>
<td>
<p>Minimum duration that is too fast in seconds.</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_max_duration">max_duration</code></td>
<td>
<p>Maximum duration that is too slow in seconds.</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_duration_col">duration_col</code></td>
<td>
<p>Column name for durations.</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_duration_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
By default, minimum durations of 10 seconds are checked, but either
minima or maxima can be checked with the <code>min_duration</code> and
<code>max_duration</code> arguments. The function outputs to console separate
messages about the number of rows that are too fast or too slow.
</p>
<p>This function returns the fast and slow rows.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
with fast and slow duration.
For a function that checks for these rows, use <code><a href="#topic+check_duration">check_duration()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_duration">exclude_duration()</a></code>.
</p>


<h3>See Also</h3>

<p>Other duration functions: 
<code><a href="#topic+check_duration">check_duration</a>()</code>,
<code><a href="#topic+exclude_duration">exclude_duration</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark durations faster than 100 seconds
data(qualtrics_text)
df &lt;- mark_duration(qualtrics_text, min_duration = 100)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_duration()

# Mark only for durations slower than 800 seconds
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_duration(max_duration = 800)
</code></pre>

<hr>
<h2 id='mark_ip'>Mark IP addresses from outside of a specified country.</h2><span id='topic+mark_ip'></span>

<h3>Description</h3>

<p>The <code>mark_ip()</code> function creates a column labeling
rows of data that have IP addresses from outside the specified country.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_ip(
  x,
  id_col = "ResponseId",
  ip_col = "IPAddress",
  rename = TRUE,
  country = "US",
  include_na = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_ip_+3A_x">x</code></td>
<td>
<p>Data frame or tibble (preferably imported from Qualtrics using
{qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_ip_col">ip_col</code></td>
<td>
<p>Column name for IP addresses.</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_country">country</code></td>
<td>
<p>Two-letter abbreviation of country to check (default is &quot;US&quot;).</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NA in
IP address column in the output list of potentially excluded data.</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_ip_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The function uses <code><a href="ipaddress.html#topic+country_networks">ipaddress::country_networks()</a></code> to assign IP addresses to
specific countries using
<a href="https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2">ISO 3166-1 alpha-2 country codes</a>.
</p>
<p>The function outputs to console a message about the number of rows
with IP addresses outside of the specified country. If there are <code>NA</code>s for IP
addresses (likely due to including preview data&mdash;see <code><a href="#topic+check_preview">check_preview()</a></code>), it
will print a message alerting to the number of rows with <code>NA</code>s.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
with IP addresses outside of the specified country.
For a function that checks these rows, use <code><a href="#topic+check_ip">check_ip()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_ip">exclude_ip()</a></code>.
</p>


<h3>Note</h3>

<p>This function <strong>requires internet connectivity</strong> as it uses the
<code><a href="ipaddress.html#topic+country_networks">ipaddress::country_networks()</a></code> function, which pulls daily updated data
from <a href="https://www.iwik.org/ipcountry/">https://www.iwik.org/ipcountry/</a>. It only updates the data once
per session, as it caches the results for future work during the session.
</p>


<h3>See Also</h3>

<p>Other ip functions: 
<code><a href="#topic+check_ip">check_ip</a>()</code>,
<code><a href="#topic+exclude_ip">exclude_ip</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark IP addresses outside of the US
data(qualtrics_text)
df &lt;- mark_ip(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_ip()

# Mark IP addresses outside of Germany
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_ip(country = "DE")
</code></pre>

<hr>
<h2 id='mark_location'>Mark locations outside of US</h2><span id='topic+mark_location'></span>

<h3>Description</h3>

<p>The <code>mark_location()</code> function creates a column labeling
rows that have locations outside of the US.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_location(
  x,
  id_col = "ResponseId",
  location_col = c("LocationLatitude", "LocationLongitude"),
  rename = TRUE,
  include_na = FALSE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_location_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_location_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_location_+3A_location_col">location_col</code></td>
<td>
<p>Two element vector specifying columns for latitude
and longitude (in that order).</p>
</td></tr>
<tr><td><code id="mark_location_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_location_+3A_include_na">include_na</code></td>
<td>
<p>Logical indicating whether to include rows with NA in
latitude and longitude columns in the output list of potentially excluded
data.</p>
</td></tr>
<tr><td><code id="mark_location_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_location_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must ensure that
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/survey-options/survey-protection/#AnonymizingResponses">Anonymize responses is disabled</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The function only works for the United States.
It uses the #' <code><a href="maps.html#topic+map.where">maps::map.where()</a></code> to determine if latitude and longitude
are inside the US.
</p>
<p>The function outputs to console a message about the number of rows
with locations outside of the US.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
that are located outside of the US and (if <code>include_na == FALSE</code>) rows with
no location information.
For a function that checks for these rows, use <code><a href="#topic+check_location">check_location()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_location">exclude_location()</a></code>.
</p>


<h3>See Also</h3>

<p>Other location functions: 
<code><a href="#topic+check_location">check_location</a>()</code>,
<code><a href="#topic+exclude_location">exclude_location</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark locations outside of the US
data(qualtrics_text)
df &lt;- mark_location(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_location()
</code></pre>

<hr>
<h2 id='mark_preview'>Mark survey previews</h2><span id='topic+mark_preview'></span>

<h3>Description</h3>

<p>The <code>mark_preview()</code> function creates a column labeling
rows that are survey previews.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_preview(
  x,
  id_col = "ResponseId",
  preview_col = "Status",
  rename = TRUE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_preview_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_preview_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_preview_+3A_preview_col">preview_col</code></td>
<td>
<p>Column name for survey preview.</p>
</td></tr>
<tr><td><code id="mark_preview_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_preview_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_preview_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The preview column in Qualtrics can be a numeric or character vector
depending on whether it is exported as choice text or numeric values.
This function works for both.
</p>
<p>The function outputs to console a message about the number of rows
that are survey previews.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
that are survey previews.
For a function that checks for these rows, use <code><a href="#topic+check_preview">check_preview()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_preview">exclude_preview()</a></code>.
</p>


<h3>See Also</h3>

<p>Other preview functions: 
<code><a href="#topic+check_preview">check_preview</a>()</code>,
<code><a href="#topic+exclude_preview">exclude_preview</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark survey previews
data(qualtrics_text)
df &lt;- mark_preview(qualtrics_text)

# Works for Qualtrics data exported as numeric values, too
df &lt;- qualtrics_numeric %&gt;%
  mark_preview()
</code></pre>

<hr>
<h2 id='mark_progress'>Mark survey progress</h2><span id='topic+mark_progress'></span>

<h3>Description</h3>

<p>The <code>mark_progress()</code> function creates a column labeling
rows that have incomplete progress.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_progress(
  x,
  min_progress = 100,
  id_col = "ResponseId",
  finished_col = "Finished",
  progress_col = "Progress",
  rename = TRUE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_progress_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_min_progress">min_progress</code></td>
<td>
<p>Amount of progress considered acceptable to include.</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_finished_col">finished_col</code></td>
<td>
<p>Column name for whether survey was completed.</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_progress_col">progress_col</code></td>
<td>
<p>Column name for percentage of survey completed.</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_progress_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
The default requires 100% completion, but lower levels of completion
maybe acceptable and can be allowed by specifying the <code>min_progress</code>
argument.
The finished column in Qualtrics can be a numeric or character vector
depending on whether it is exported as choice text or numeric values.
This function works for both.
</p>
<p>The function outputs to console a message about the number of rows
that have incomplete progress.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
that have incomplete progress.
For a function that checks for these rows, use <code><a href="#topic+check_progress">check_progress()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_progress">exclude_progress()</a></code>.
</p>


<h3>See Also</h3>

<p>Other progress functions: 
<code><a href="#topic+check_progress">check_progress</a>()</code>,
<code><a href="#topic+exclude_progress">exclude_progress</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>,
<code><a href="#topic+mark_resolution">mark_resolution</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark rows with incomplete progress
data(qualtrics_text)
df &lt;- mark_progress(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_progress()

# Include a lower acceptable completion percentage
df &lt;- qualtrics_numeric %&gt;%
  exclude_preview() %&gt;%
  mark_progress(min_progress = 98)
</code></pre>

<hr>
<h2 id='mark_resolution'>Mark unacceptable screen resolution</h2><span id='topic+mark_resolution'></span>

<h3>Description</h3>

<p>The <code>mark_resolution()</code> function creates a column labeling
rows that have unacceptable screen resolution.
The function is written to work with data from
<a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_resolution(
  x,
  res_min = 1000,
  width_min = 0,
  height_min = 0,
  id_col = "ResponseId",
  res_col = "Resolution",
  rename = TRUE,
  quiet = FALSE,
  print = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_resolution_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_res_min">res_min</code></td>
<td>
<p>Minimum acceptable screen resolution (width and height).</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_width_min">width_min</code></td>
<td>
<p>Minimum acceptable screen width.</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_height_min">height_min</code></td>
<td>
<p>Minimum acceptable screen height.</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_res_col">res_col</code></td>
<td>
<p>Column name for screen resolution (in format widthxheight).</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns (using <code><a href="#topic+rename_columns">rename_columns()</a></code>)</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_quiet">quiet</code></td>
<td>
<p>Logical indicating whether to print message to console.</p>
</td></tr>
<tr><td><code id="mark_resolution_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To record this information in your Qualtrics survey, you must
<a href="https://www.qualtrics.com/support/survey-platform/survey-module/editing-questions/question-types-guide/advanced/meta-info-question/">insert a meta info question</a>.
</p>
<p>Default column names are set based on output from the
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
</p>
<p>The function outputs to console a message about the number of rows
with unacceptable screen resolution.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes a column marking rows
that have unacceptable screen resolutions.
For a function that checks for these rows, use <code><a href="#topic+check_resolution">check_resolution()</a></code>.
For a function that excludes these rows, use <code><a href="#topic+exclude_resolution">exclude_resolution()</a></code>.
</p>


<h3>See Also</h3>

<p>Other resolution functions: 
<code><a href="#topic+check_resolution">check_resolution</a>()</code>,
<code><a href="#topic+exclude_resolution">exclude_resolution</a>()</code>
</p>
<p>Other mark functions: 
<code><a href="#topic+mark_duplicates">mark_duplicates</a>()</code>,
<code><a href="#topic+mark_duration">mark_duration</a>()</code>,
<code><a href="#topic+mark_ip">mark_ip</a>()</code>,
<code><a href="#topic+mark_location">mark_location</a>()</code>,
<code><a href="#topic+mark_preview">mark_preview</a>()</code>,
<code><a href="#topic+mark_progress">mark_progress</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mark low screen resolutions
data(qualtrics_text)
df &lt;- mark_resolution(qualtrics_text)

# Remove preview data first
df &lt;- qualtrics_text %&gt;%
  exclude_preview() %&gt;%
  mark_resolution()
</code></pre>

<hr>
<h2 id='mark_rows'>Return marked rows</h2><span id='topic+mark_rows'></span>

<h3>Description</h3>

<p>Create new column marking rows that meet exclusion criteria.
<em>This function is not exported.</em>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mark_rows(x, filtered_data, id_col, exclusion_type)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mark_rows_+3A_x">x</code></td>
<td>
<p>Original data.</p>
</td></tr>
<tr><td><code id="mark_rows_+3A_filtered_data">filtered_data</code></td>
<td>
<p>Data to be excluded.</p>
</td></tr>
<tr><td><code id="mark_rows_+3A_id_col">id_col</code></td>
<td>
<p>Column name for unique row ID (e.g., participant).</p>
</td></tr>
<tr><td><code id="mark_rows_+3A_exclusion_type">exclusion_type</code></td>
<td>
<p>Column name for exclusion column.</p>
</td></tr>
</table>

<hr>
<h2 id='print_data'>Print data to console</h2><span id='topic+print_data'></span>

<h3>Description</h3>

<p>Prints the data to the console. <em>This function is not exported.</em>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_data(x, print)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_data_+3A_x">x</code></td>
<td>
<p>Data set to print or not</p>
</td></tr>
<tr><td><code id="print_data_+3A_print">print</code></td>
<td>
<p>Logical indicating whether to print returned tibble to
console.</p>
</td></tr>
</table>

<hr>
<h2 id='print_exclusion'>Print number of excluded rows</h2><span id='topic+print_exclusion'></span>

<h3>Description</h3>

<p>Prints a message to the console with the number of excluded rows.
<em>This function is not exported.</em>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>print_exclusion(remaining_data, x, msg)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_exclusion_+3A_remaining_data">remaining_data</code></td>
<td>
<p>Data after removing exclusions.</p>
</td></tr>
<tr><td><code id="print_exclusion_+3A_x">x</code></td>
<td>
<p>Original data before removing exclusions.</p>
</td></tr>
<tr><td><code id="print_exclusion_+3A_msg">msg</code></td>
<td>
<p>Text to describe what types of rows were excluded.</p>
</td></tr>
</table>

<hr>
<h2 id='qualtrics_fetch'>Example numeric metadata imported with <code>qualtRics::fetch_survey()</code> from
simulated Qualtrics study</h2><span id='topic+qualtrics_fetch'></span>

<h3>Description</h3>

<p>A dataset containing the metadata from a standard Qualtrics survey with
browser metadata collected and exported with &quot;Use numeric values&quot;. The data
were imported using
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
These data were randomly generated using <a href="https://hrbrmstr.github.io/iptools/reference/ip_random.html">iptools::ip_random()</a> and
<a href="https://cran.r-project.org/package=rgeolocate">rgeolocate::ip2location()</a> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qualtrics_fetch
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 17 variables:
</p>

<dl>
<dt>StartDate</dt><dd><p>date and time data collection started, in ISO 8601 format</p>
</dd>
<dt>EndDate</dt><dd><p>date and time data collection ended, in ISO 8601 format</p>
</dd>
<dt>Status</dt><dd><p>numeric flag for preview (1) vs. implemented survey (0)
entries</p>
</dd>
<dt>IPAddress</dt><dd><p>participant IP address (truncated for anonymity)</p>
</dd>
<dt>Progress</dt><dd><p>percentage of survey completed</p>
</dd>
<dt>Duration (in seconds)</dt><dd><p>duration of time required to complete survey,
in seconds</p>
</dd>
<dt>Finished</dt><dd><p>numeric flag for whether survey was completed (1) or
progress was &lt; 100 (0)</p>
</dd>
<dt>RecordedDate</dt><dd><p>date and time survey was recorded, in ISO 8601 format</p>
</dd>
<dt>ResponseId</dt><dd><p>random ID for participants</p>
</dd>
<dt>LocationLatitude</dt><dd><p>latitude geolocated from IP address</p>
</dd>
<dt>LocationLongitude</dt><dd><p>longitude geolocated from IP address</p>
</dd>
<dt>UserLanguage</dt><dd><p>language set in Qualtrics</p>
</dd>
<dt>Q1_Browser</dt><dd><p>user web browser type</p>
</dd>
<dt>Q1_Version</dt><dd><p>user web browser version</p>
</dd>
<dt>Q1_Operating System</dt><dd><p>user operating system</p>
</dd>
<dt>Q1_Resolution</dt><dd><p>user screen resolution</p>
</dd>
<dt>Q2</dt><dd><p>response to question about whether the user liked the survey
(1 = Yes, 0 = No)</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+qualtrics_fetch2">qualtrics_fetch2</a></code>,
<code><a href="#topic+qualtrics_numeric">qualtrics_numeric</a></code>,
<code><a href="#topic+qualtrics_raw">qualtrics_raw</a></code>,
<code><a href="#topic+qualtrics_text">qualtrics_text</a></code>
</p>

<hr>
<h2 id='qualtrics_fetch2'>Example numeric metadata imported with <code>qualtRics::fetch_survey()</code> from
simulated Qualtrics study but with labels included as column names</h2><span id='topic+qualtrics_fetch2'></span>

<h3>Description</h3>

<p>A dataset containing the metadata from a standard Qualtrics survey with
browser metadata collected and exported with &quot;Use numeric values&quot;. The data
were imported using
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
and then the secondary labels were assigned as column names with
<a href="https://strengejacke.github.io/sjlabelled/reference/get_label.html"><code>sjlabelled::get_label()</code></a>.
These data were randomly generated using <a href="https://hrbrmstr.github.io/iptools/reference/ip_random.html">iptools::ip_random()</a> and
<a href="https://cran.r-project.org/package=rgeolocate">rgeolocate::ip2location()</a> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qualtrics_fetch2
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 17 variables:
</p>

<dl>
<dt>Start Date</dt><dd><p>date and time data collection started, in ISO 8601 format</p>
</dd>
<dt>End Date</dt><dd><p>date and time data collection ended, in ISO 8601 format</p>
</dd>
<dt>Response Type</dt><dd><p>numeric flag for preview (1) vs. implemented survey (0)
entries</p>
</dd>
<dt>IP Address</dt><dd><p>participant IP address (truncated for anonymity)</p>
</dd>
<dt>Progress</dt><dd><p>percentage of survey completed</p>
</dd>
<dt>Duration (in seconds)</dt><dd><p>duration of time required to complete survey,
in seconds</p>
</dd>
<dt>Finished</dt><dd><p>numeric flag for whether survey was completed (1) or
progress was &lt; 100 (0)</p>
</dd>
<dt>Recorded Date</dt><dd><p>date and time survey was recorded, in ISO 8601 format</p>
</dd>
<dt>Response ID</dt><dd><p>random ID for participants</p>
</dd>
<dt>Location Latitude</dt><dd><p>latitude geolocated from IP address</p>
</dd>
<dt>Location Longitude</dt><dd><p>longitude geolocated from IP address</p>
</dd>
<dt>User Language</dt><dd><p>language set in Qualtrics</p>
</dd>
<dt>Click to write the question text - Browser</dt><dd><p>user web browser type</p>
</dd>
<dt>Click to write the question text - Version</dt><dd><p>user web browser version</p>
</dd>
<dt>Click to write the question text - Operating System</dt><dd><p>user operating system</p>
</dd>
<dt>Click to write the question text - Resolution</dt><dd><p>user screen resolution</p>
</dd>
<dt>like</dt><dd><p>response to question about whether the user liked the survey
(1 = Yes, 0 = No)</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+qualtrics_fetch">qualtrics_fetch</a></code>,
<code><a href="#topic+qualtrics_numeric">qualtrics_numeric</a></code>,
<code><a href="#topic+qualtrics_raw">qualtrics_raw</a></code>,
<code><a href="#topic+qualtrics_text">qualtrics_text</a></code>
</p>

<hr>
<h2 id='qualtrics_numeric'>Example numeric metadata from simulated Qualtrics study</h2><span id='topic+qualtrics_numeric'></span>

<h3>Description</h3>

<p>A dataset containing the metadata from a standard Qualtrics survey with
browser metadata collected and exported with &quot;Use numeric values&quot;.
These data were randomly generated using <a href="https://hrbrmstr.github.io/iptools/reference/ip_random.html">iptools::ip_random()</a> and
<a href="https://cran.r-project.org/package=rgeolocate">rgeolocate::ip2location()</a> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qualtrics_numeric
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 16 variables:
</p>

<dl>
<dt>StartDate</dt><dd><p>date and time data collection started, in ISO 8601 format</p>
</dd>
<dt>EndDate</dt><dd><p>date and time data collection ended, in ISO 8601 format</p>
</dd>
<dt>Status</dt><dd><p>numeric flag for preview (1) vs. implemented survey (0)
entries</p>
</dd>
<dt>IPAddress</dt><dd><p>participant IP address (truncated for anonymity)</p>
</dd>
<dt>Progress</dt><dd><p>percentage of survey completed</p>
</dd>
<dt>Duration (in seconds)</dt><dd><p>duration of time required to complete survey,
in seconds</p>
</dd>
<dt>Finished</dt><dd><p>numeric flag for whether survey was completed (1) or
progress was &lt; 100 (0)</p>
</dd>
<dt>RecordedDate</dt><dd><p>date and time survey was recorded, in ISO 8601 format</p>
</dd>
<dt>ResponseId</dt><dd><p>random ID for participants</p>
</dd>
<dt>LocationLatitude</dt><dd><p>latitude geolocated from IP address</p>
</dd>
<dt>LocationLongitude</dt><dd><p>longitude geolocated from IP address</p>
</dd>
<dt>UserLanguage</dt><dd><p>language set in Qualtrics</p>
</dd>
<dt>Browser</dt><dd><p>user web browser type</p>
</dd>
<dt>Version</dt><dd><p>user web browser version</p>
</dd>
<dt>Operating System</dt><dd><p>user operating system</p>
</dd>
<dt>Resolution</dt><dd><p>user screen resolution</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+qualtrics_fetch2">qualtrics_fetch2</a></code>,
<code><a href="#topic+qualtrics_fetch">qualtrics_fetch</a></code>,
<code><a href="#topic+qualtrics_raw">qualtrics_raw</a></code>,
<code><a href="#topic+qualtrics_text">qualtrics_text</a></code>
</p>

<hr>
<h2 id='qualtrics_raw'>Example text-based metadata from simulated Qualtrics study</h2><span id='topic+qualtrics_raw'></span>

<h3>Description</h3>

<p>A dataset containing the metadata from a standard Qualtrics survey with
browser metadata collected and exported with &quot;Use choice text&quot;.
These data were randomly generated using <a href="https://hrbrmstr.github.io/iptools/reference/ip_random.html">iptools::ip_random()</a>
and <a href="https://cran.r-project.org/package=rgeolocate">rgeolocate::ip2location()</a> functions.
This dataset includes the two header rows of with column information that is
exported by Qualtrics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qualtrics_raw
</code></pre>


<h3>Format</h3>

<p>A data frame with 102 rows and 16 variables:
</p>

<dl>
<dt>StartDate</dt><dd><p>date and time data collection started, in ISO 8601 format</p>
</dd>
<dt>EndDate</dt><dd><p>date and time data collection ended, in ISO 8601 format</p>
</dd>
<dt>Status</dt><dd><p>flag for preview (Survey Preview) vs. implemented survey
(IP Address) entries</p>
</dd>
<dt>IPAddress</dt><dd><p>participant IP address (truncated for anonymity)</p>
</dd>
<dt>Progress</dt><dd><p>percentage of survey completed</p>
</dd>
<dt>Duration (in seconds)</dt><dd><p>duration of time required to complete survey,
in seconds</p>
</dd>
<dt>Finished</dt><dd><p>logical for whether survey was completed (TRUE) or progress
was &lt; 100 (FALSE)</p>
</dd>
<dt>RecordedDate</dt><dd><p>date and time survey was recorded, in ISO 8601 format</p>
</dd>
<dt>ResponseId</dt><dd><p>random ID for participants</p>
</dd>
<dt>LocationLatitude</dt><dd><p>latitude geolocated from IP address</p>
</dd>
<dt>LocationLongitude</dt><dd><p>longitude geolocated from IP address</p>
</dd>
<dt>UserLanguage</dt><dd><p>language set in Qualtrics</p>
</dd>
<dt>Browser</dt><dd><p>user web browser type</p>
</dd>
<dt>Version</dt><dd><p>user web browser version</p>
</dd>
<dt>Operating System</dt><dd><p>user operating system</p>
</dd>
<dt>Resolution</dt><dd><p>user screen resolution</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+qualtrics_fetch2">qualtrics_fetch2</a></code>,
<code><a href="#topic+qualtrics_fetch">qualtrics_fetch</a></code>,
<code><a href="#topic+qualtrics_numeric">qualtrics_numeric</a></code>,
<code><a href="#topic+qualtrics_text">qualtrics_text</a></code>
</p>

<hr>
<h2 id='qualtrics_text'>Example text-based metadata from simulated Qualtrics study</h2><span id='topic+qualtrics_text'></span>

<h3>Description</h3>

<p>A dataset containing the metadata from a standard Qualtrics survey with
browser metadata collected and exported with &quot;Use choice text&quot;.
These data were randomly generated using <a href="https://hrbrmstr.github.io/iptools/reference/ip_random.html">iptools::ip_random()</a> and
<a href="https://cran.r-project.org/package=rgeolocate">rgeolocate::ip2location()</a> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qualtrics_text
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 16 variables:
</p>

<dl>
<dt>StartDate</dt><dd><p>date and time data collection started, in ISO 8601 format</p>
</dd>
<dt>EndDate</dt><dd><p>date and time data collection ended, in ISO 8601 format</p>
</dd>
<dt>Status</dt><dd><p>flag for preview (Survey Preview) vs. implemented survey
(IP Address) entries</p>
</dd>
<dt>IPAddress</dt><dd><p>participant IP address (truncated for anonymity)</p>
</dd>
<dt>Progress</dt><dd><p>percentage of survey completed</p>
</dd>
<dt>Duration (in seconds)</dt><dd><p>duration of time required to complete survey,
in seconds</p>
</dd>
<dt>Finished</dt><dd><p>logical for whether survey was completed (TRUE) or progress
was &lt; 100 (FALSE)</p>
</dd>
<dt>RecordedDate</dt><dd><p>date and time survey was recorded, in ISO 8601 format</p>
</dd>
<dt>ResponseId</dt><dd><p>random ID for participants</p>
</dd>
<dt>LocationLatitude</dt><dd><p>latitude geolocated from IP address</p>
</dd>
<dt>LocationLongitude</dt><dd><p>longitude geolocated from IP address</p>
</dd>
<dt>UserLanguage</dt><dd><p>language set in Qualtrics</p>
</dd>
<dt>Browser</dt><dd><p>user web browser type</p>
</dd>
<dt>Version</dt><dd><p>user web browser version</p>
</dd>
<dt>Operating System</dt><dd><p>user operating system</p>
</dd>
<dt>Resolution</dt><dd><p>user screen resolution</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other data: 
<code><a href="#topic+qualtrics_fetch2">qualtrics_fetch2</a></code>,
<code><a href="#topic+qualtrics_fetch">qualtrics_fetch</a></code>,
<code><a href="#topic+qualtrics_numeric">qualtrics_numeric</a></code>,
<code><a href="#topic+qualtrics_raw">qualtrics_raw</a></code>
</p>

<hr>
<h2 id='remove_label_rows'>Remove two initial rows created in Qualtrics data</h2><span id='topic+remove_label_rows'></span>

<h3>Description</h3>

<p>The <code>remove_label_rows()</code> function filters out the initial label rows from
datasets downloaded from <a href="https://www.qualtrics.com/">Qualtrics</a> surveys.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>remove_label_rows(x, convert = TRUE, rename = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="remove_label_rows_+3A_x">x</code></td>
<td>
<p>Data frame (downloaded from Qualtrics).</p>
</td></tr>
<tr><td><code id="remove_label_rows_+3A_convert">convert</code></td>
<td>
<p>Logical indicating whether to convert/coerce date, logical and
numeric columns from the metadata.</p>
</td></tr>
<tr><td><code id="remove_label_rows_+3A_rename">rename</code></td>
<td>
<p>Logical indicating whether to rename columns based on first row
of data.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function (1) checks if the data set uses Qualtrics column names,
(2) checks if label rows are already used as column names,
(3) removes label rows if present, and (4) converts date, logical, and
numeric metadata columns to proper data type. Datasets imported using
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html">qualtRics::fetch_survey()</a>
should not need this function.
</p>
<p>The <code>convert</code> argument only converts the <em>StartDate</em>, <em>EndDate</em>,
<em>RecordedDate</em>, <em>Progress</em>, <em>Finished</em>, <em>Duration (in seconds)</em>,
<em>LocationLatitude</em>, and <em>LocationLongitude</em> columns. To convert other data
columns, see <code><a href="dplyr.html#topic+mutate">dplyr::mutate()</a></code>.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that excludes Qualtrics label rows and
with date, logical, and numeric metadata columns converted to the correct
data class.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Remove label rows
data(qualtrics_raw)
df &lt;- remove_label_rows(qualtrics_raw)
</code></pre>

<hr>
<h2 id='rename_columns'>Rename columns to match standard Qualtrics names</h2><span id='topic+rename_columns'></span>

<h3>Description</h3>

<p>The <code>rename_columns()</code> function renames the metadata columns to match
standard Qualtrics names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_columns(x, alert = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rename_columns_+3A_x">x</code></td>
<td>
<p>Data frame (preferably imported from Qualtrics using {qualtRics}).</p>
</td></tr>
<tr><td><code id="rename_columns_+3A_alert">alert</code></td>
<td>
<p>Logical indicating whether to alert user to the fact that the
columns do not match the secondary labels and therefore cannot be renamed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When importing Qualtrics data using
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
labels entered in Qualtrics questions are saved as 'subtitles' for column
names. Using <a href="https://strengejacke.github.io/sjlabelled/reference/get_label.html"><code>sjlabelled::get_label()</code></a>
can make these secondary labels be the
primary column names. However, this results in a different set of names for
the metadata columns than is used in all of the <code>mark_()</code>, <code>check_()</code>, and
<code>exclude_()</code> functions. This function renames these columns to match the
standard Qualtrics names.
</p>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that has column names that match standard
Qualtrics names.
</p>


<h3>See Also</h3>

<p>Other column name functions: 
<code><a href="#topic+use_labels">use_labels</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Rename columns
data(qualtrics_fetch)
qualtrics_renamed &lt;- qualtrics_fetch %&gt;%
  rename_columns()
names(qualtrics_fetch)
names(qualtrics_renamed)

# Alerts when columns cannot be renamed
data(qualtrics_numeric)
rename_columns(qualtrics_numeric)

# Turn off alert
rename_columns(qualtrics_numeric, alert = FALSE)

</code></pre>

<hr>
<h2 id='unite_exclusions'>Unite multiple exclusion columns into single column</h2><span id='topic+unite_exclusions'></span>

<h3>Description</h3>

<p>Each of the <code style="white-space: pre;">&#8288;mark_*()&#8288;</code> functions appends a new column to the data.
The <code>unite_exclusions()</code> function unites all of those columns in a
single column that can be used to filter any or all exclusions downstream.
Rows with multiple exclusions are concatenated with commas.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unite_exclusions(
  x,
  exclusion_types = c("duplicates", "duration", "ip", "location", "preview", "progress",
    "resolution"),
  separator = ",",
  remove = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="unite_exclusions_+3A_x">x</code></td>
<td>
<p>Data frame or tibble (preferably exported from Qualtrics).</p>
</td></tr>
<tr><td><code id="unite_exclusions_+3A_exclusion_types">exclusion_types</code></td>
<td>
<p>Vector of types of exclusions to unite.</p>
</td></tr>
<tr><td><code id="unite_exclusions_+3A_separator">separator</code></td>
<td>
<p>Character string specifying what character to use to
separate multiple exclusion types</p>
</td></tr>
<tr><td><code id="unite_exclusions_+3A_remove">remove</code></td>
<td>
<p>Logical specifying whether to remove united columns
(default = TRUE) or leave them in the data frame (FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that includes the all of the same
rows but with a single <code>exclusion</code> column replacing all of the specified
<code style="white-space: pre;">&#8288;exclusion_*&#8288;</code> columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Unite all exclusion types
df &lt;- qualtrics_text %&gt;%
  mark_duplicates() %&gt;%
  mark_duration(min_duration = 100) %&gt;%
  mark_ip() %&gt;%
  mark_location() %&gt;%
  mark_preview() %&gt;%
  mark_progress() %&gt;%
  mark_resolution()
df2 &lt;- df %&gt;%
  unite_exclusions()

# Unite subset of exclusion types
df2 &lt;- df %&gt;%
  unite_exclusions(exclusion_types = c("duplicates", "duration", "ip"))
</code></pre>

<hr>
<h2 id='use_labels'>Use Qualtrics labels as column names</h2><span id='topic+use_labels'></span>

<h3>Description</h3>

<p>The <code>use_labels()</code> function renames the columns using the labels generated
in <a href="https://www.qualtrics.com/">Qualtrics</a>.  Data must be imported using
<a href="https://docs.ropensci.org/qualtRics/reference/fetch_survey.html"><code>qualtRics::fetch_survey()</code></a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>use_labels(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="use_labels_+3A_x">x</code></td>
<td>
<p>Data frame imported using <code>qualtRics::fetch_survey()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of the same type as <code>x</code> that has column names using the labels
generated in Qualtrics.
</p>


<h3>See Also</h3>

<p>Other column name functions: 
<code><a href="#topic+rename_columns">rename_columns</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Rename columns
data(qualtrics_fetch)
qualtrics_renamed &lt;- qualtrics_fetch %&gt;%
  use_labels()
names(qualtrics_fetch)
names(qualtrics_renamed)
</code></pre>

<hr>
<h2 id='validate_columns'>Check number, names, and type of columns</h2><span id='topic+validate_columns'></span>

<h3>Description</h3>

<p>Determines whether the correct number and names of columns were specified
as arguments to the functions. <em>This function is not exported.</em>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_columns(x, column)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validate_columns_+3A_x">x</code></td>
<td>
<p>Data set.</p>
</td></tr>
<tr><td><code id="validate_columns_+3A_column">column</code></td>
<td>
<p>Name of column argument to check.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

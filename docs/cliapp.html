<!DOCTYPE html><html><head><title>Help for package cliapp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cliapp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#builtin_theme'><p>The built-in CLI theme</p></a></li>
<li><a href='#cli_alert'><p>CLI alerts</p></a></li>
<li><a href='#cli_div'><p>Generic CLI container</p></a></li>
<li><a href='#cli_dl'><p>Definition list</p></a></li>
<li><a href='#cli_end'><p>Close a CLI container</p></a></li>
<li><a href='#cli_h1'><p>CLI headers</p></a></li>
<li><a href='#cli_it'><p>CLI list item(s)</p></a></li>
<li><a href='#cli_ol'><p>Ordered CLI list</p></a></li>
<li><a href='#cli_par'><p>CLI paragraph</p></a></li>
<li><a href='#cli_progress_bar'><p>CLI progress bar</p></a></li>
<li><a href='#cli_text'><p>CLI text</p></a></li>
<li><a href='#cli_ul'><p>Unordered CLI list</p></a></li>
<li><a href='#cli_verbatim'><p>CLI verbatim text</p></a></li>
<li><a href='#cliapp'><p>Create Rich Command Line Applications</p></a></li>
<li><a href='#console_width'><p>Determine the width of the console</p></a></li>
<li><a href='#containers'><p>CLI containers</p></a></li>
<li><a href='#inline-markup'><p>CLI inline markup</p></a></li>
<li><a href='#simple_theme'><p>A simple CLI theme</p></a></li>
<li><a href='#start_app'><p>Start, stop, query the default cli application</p></a></li>
<li><a href='#themes'><p>CLI themes</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Create Rich Command Line Applications</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>G치bor Cs치rdi</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>G치bor Cs치rdi &lt;csardi.gabor@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Create rich command line applications, with colors, headings,
    lists, alerts, progress bars, etc. It uses CSS for custom themes.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-lib/cliapp#readme">https://github.com/r-lib/cliapp#readme</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/cliapp/issues">https://github.com/r-lib/cliapp/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1.9000</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, crayon, fansi, glue (&ge; 1.3.0), prettycode, progress (&ge;
1.2.0), R6, selectr, utils, withr, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>callr, covr, rstudioapi, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-10-07 10:30:35 UTC; gaborcsardi</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-10-07 11:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='builtin_theme'>The built-in CLI theme</h2><span id='topic+builtin_theme'></span>

<h3>Description</h3>

<p>This theme is always active, and it is at the bottom of the theme
stack. See <a href="#topic+themes">themes</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>builtin_theme()
</code></pre>


<h3>Value</h3>

<p>A named list, a CLI theme.
</p>


<h3>See Also</h3>

<p><a href="#topic+themes">themes</a>, <code><a href="#topic+simple_theme">simple_theme()</a></code>.
</p>

<hr>
<h2 id='cli_alert'>CLI alerts</h2><span id='topic+cli_alert'></span><span id='topic+cli_alert_success'></span><span id='topic+cli_alert_danger'></span><span id='topic+cli_alert_warning'></span><span id='topic+cli_alert_info'></span>

<h3>Description</h3>

<p>Alerts are typically short status messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_alert(text, id = NULL, class = NULL, wrap = FALSE, .envir = parent.frame())

cli_alert_success(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)

cli_alert_danger(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)

cli_alert_warning(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)

cli_alert_info(
  text,
  id = NULL,
  class = NULL,
  wrap = FALSE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_alert_+3A_text">text</code></td>
<td>
<p>Text of the alert.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_id">id</code></td>
<td>
<p>Id of the alert element. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_class">class</code></td>
<td>
<p>Class of the alert element. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_wrap">wrap</code></td>
<td>
<p>Whether to auto-wrap the text of the alert.</p>
</td></tr>
<tr><td><code id="cli_alert_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
cli_alert("Cannot lock package library.")
cli_alert_success("Package {pkg cliapp} installed successfully.")
cli_alert_danger("Could not download {pkg cliapp}.")
cli_alert_warning("Internet seems to be unreacheable.")
cli_alert_info("Downloaded 1.45MiB of data")
</code></pre>

<hr>
<h2 id='cli_div'>Generic CLI container</h2><span id='topic+cli_div'></span>

<h3>Description</h3>

<p>See <a href="#topic+containers">containers</a>. A <code>cli_div</code> container is special, because it may
add new themes, that are valid within the container.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_div(
  id = NULL,
  class = NULL,
  theme = NULL,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_div_+3A_id">id</code></td>
<td>
<p>Element id, a string. If <code>NULL</code>, then a new id is generated
and returned.</p>
</td></tr>
<tr><td><code id="cli_div_+3A_class">class</code></td>
<td>
<p>Class name, sting. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_div_+3A_theme">theme</code></td>
<td>
<p>A custom theme for the container. See <a href="#topic+themes">themes</a>.</p>
</td></tr>
<tr><td><code id="cli_div_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_div_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## div with custom theme
d &lt;- cli_div(theme = list(h1 = list(color = "blue",
                                    "font-weight" = "bold")))
cli_h1("Custom title")
cli_end(d)

## Close automatically
div &lt;- function() {
  cli_div(class = "tmp", theme = list(.tmp = list(color = "yellow")))
  cli_text("This is yellow")
}
div()
cli_text("This is not yellow any more")
</code></pre>

<hr>
<h2 id='cli_dl'>Definition list</h2><span id='topic+cli_dl'></span>

<h3>Description</h3>

<p>A definition list is a container, see <a href="#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_dl(
  items = NULL,
  id = NULL,
  class = NULL,
  .close = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_dl_+3A_items">items</code></td>
<td>
<p>Named character vector, or <code>NULL</code>. If not <code>NULL</code>, they
are used as list items.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_id">id</code></td>
<td>
<p>Id of the list container. Can be used for closing it with
<code><a href="#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
retuned invisibly.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_class">class</code></td>
<td>
<p>Class of the list container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_.close">.close</code></td>
<td>
<p>Whether to close the list container if the <code>items</code> were
specified. If <code>FALSE</code> then new items can be added to the list.</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_dl_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Specifying the items at the beginning
cli_dl(c(foo = "one", bar = "two", baz = "three"))

## Adding items one by one
cli_dl()
cli_it(c(foo = "one"))
cli_it(c(bar = "two"))
cli_it(c(baz = "three"))
cli_end()
</code></pre>

<hr>
<h2 id='cli_end'>Close a CLI container</h2><span id='topic+cli_end'></span>

<h3>Description</h3>

<p>Close a CLI container
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_end(id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_end_+3A_id">id</code></td>
<td>
<p>Id of the container to close. If missing, the current
container is closed, if any.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## If id is omitted
cli_par()
cli_text("First paragraph")
cli_end()
cli_par()
cli_text("Second paragraph")
cli_end()
</code></pre>

<hr>
<h2 id='cli_h1'>CLI headers</h2><span id='topic+cli_h1'></span><span id='topic+cli_h2'></span><span id='topic+cli_h3'></span>

<h3>Description</h3>

<p>CLI headers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_h1(text, id = NULL, class = NULL, .envir = parent.frame())

cli_h2(text, id = NULL, class = NULL, .envir = parent.frame())

cli_h3(text, id = NULL, class = NULL, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_h1_+3A_text">text</code></td>
<td>
<p>Text of the header. It can contain inline markup.</p>
</td></tr>
<tr><td><code id="cli_h1_+3A_id">id</code></td>
<td>
<p>Id of the header element, string. It can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_h1_+3A_class">class</code></td>
<td>
<p>Class of the header element,  string. It can be used in
themes.</p>
</td></tr>
<tr><td><code id="cli_h1_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cli_h1("Main title")
cli_h2("Subtitle")
cli_text("And some regular text....")
</code></pre>

<hr>
<h2 id='cli_it'>CLI list item(s)</h2><span id='topic+cli_it'></span>

<h3>Description</h3>

<p>A list item is a container, see <a href="#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_it(
  items = NULL,
  id = NULL,
  class = NULL,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_it_+3A_items">items</code></td>
<td>
<p>Character vector of items, or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="cli_it_+3A_id">id</code></td>
<td>
<p>Id of the new container. Can be used for closing it with
<code><a href="#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
retuned invisibly.</p>
</td></tr>
<tr><td><code id="cli_it_+3A_class">class</code></td>
<td>
<p>Class of the item container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_it_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_it_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Adding items one by one
cli_ul()
cli_it("one")
cli_it("two")
cli_it("three")
cli_end()

## Complex item, added gradually.
cli_ul()
cli_it()
cli_verbatim("Beginning of the {emph first} item")
cli_text("Still the first item")
cli_end()
cli_it("Second item")
cli_end()
</code></pre>

<hr>
<h2 id='cli_ol'>Ordered CLI list</h2><span id='topic+cli_ol'></span>

<h3>Description</h3>

<p>An ordered list is a container, see <a href="#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_ol(
  items = NULL,
  id = NULL,
  class = NULL,
  .close = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_ol_+3A_items">items</code></td>
<td>
<p>If not <code>NULL</code>, then a character vector. Each element of
the vector will be one list item, and the list container will be
closed by default (see the <code>.close</code> argument).</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_id">id</code></td>
<td>
<p>Id of the list container. Can be used for closing it with
<code><a href="#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
retuned invisibly.</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_class">class</code></td>
<td>
<p>Class of the list container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_.close">.close</code></td>
<td>
<p>Whether to close the list container if the <code>items</code> were
specified. If <code>FALSE</code> then new items can be added to the list.</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_ol_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Specifying the items at the beginning
cli_ol(c("one", "two", "three"))

## Adding items one by one
cli_ol()
cli_it("one")
cli_it("two")
cli_it("three")
cli_end()

## Nested lists
cli_div(theme = list(ol = list("margin-left" = 2)))
cli_ul()
cli_it("one")
cli_ol(c("foo", "bar", "foobar"))
cli_it("two")
cli_end()
cli_end()
</code></pre>

<hr>
<h2 id='cli_par'>CLI paragraph</h2><span id='topic+cli_par'></span>

<h3>Description</h3>

<p>See <a href="#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_par(id = NULL, class = NULL, .auto_close = TRUE, .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_par_+3A_id">id</code></td>
<td>
<p>Element id, a string. If <code>NULL</code>, then a new id is generated
and returned.</p>
</td></tr>
<tr><td><code id="cli_par_+3A_class">class</code></td>
<td>
<p>Class name, sting. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_par_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_par_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- cli_par()
cli_text("First paragraph")
cli_end(id)
id &lt;- cli_par()
cli_text("Second paragraph")
cli_end(id)
</code></pre>

<hr>
<h2 id='cli_progress_bar'>CLI progress bar</h2><span id='topic+cli_progress_bar'></span>

<h3>Description</h3>

<p>A progress bar using the progress package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_progress_bar(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_progress_bar_+3A_...">...</code></td>
<td>
<p>All arguments are passed to the constuctor of the
<a href="progress.html#topic+progress_bar">progress::progress_bar</a> class.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A remote progress bar object that can be used the same way
as <a href="progress.html#topic+progress_bar">progress::progress_bar</a>, see examples below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
{
  p &lt;- cli_progress_bar(total = 10)
  cli_alert_info("Starting computation")
  for (i in 1:10) { p$tick(); Sys.sleep(0.2) }
  cli_alert_success("Done")
}

</code></pre>

<hr>
<h2 id='cli_text'>CLI text</h2><span id='topic+cli_text'></span>

<h3>Description</h3>

<p>It is wrapped to the screen width automatically. It may contain inline
markup. (See <a href="#topic+inline-markup">inline-markup</a>.)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_text(..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_text_+3A_...">...</code></td>
<td>
<p>The text to show, in character vectors. They will be
concatenated into a single string. Newlines are <em>not</em> preserved.</p>
</td></tr>
<tr><td><code id="cli_text_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cli_text("Hello world!")
cli_text(packageDescription("cliapp")$Description)

## Arguments are concatenated
cli_text("this", "that")

## Command substitution
greeting &lt;- "Hello"
subject &lt;- "world"
cli_text("{greeting} {subject}!")

## Inline theming
cli_text("The {fun cli_text} function in the {pkg cliapp} package")

## Use within container elements
ul &lt;- cli_ul()
cli_it()
cli_text("{emph First} item")
cli_it()
cli_text("{emph Second} item")
cli_end(ul)
</code></pre>

<hr>
<h2 id='cli_ul'>Unordered CLI list</h2><span id='topic+cli_ul'></span>

<h3>Description</h3>

<p>An unordered list is a container, see <a href="#topic+containers">containers</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_ul(
  items = NULL,
  id = NULL,
  class = NULL,
  .close = TRUE,
  .auto_close = TRUE,
  .envir = parent.frame()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_ul_+3A_items">items</code></td>
<td>
<p>If not <code>NULL</code>, then a character vector. Each element of
the vector will be one list item, and the list container will be
closed by default (see the <code>.close</code> argument).</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_id">id</code></td>
<td>
<p>Id of the list container. Can be used for closing it with
<code><a href="#topic+cli_end">cli_end()</a></code> or in themes. If <code>NULL</code>, then an id is generated and
retuned invisibly.</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_class">class</code></td>
<td>
<p>Class of the list container. Can be used in themes.</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_.close">.close</code></td>
<td>
<p>Whether to close the list container if the <code>items</code> were
specified. If <code>FALSE</code> then new items can be added to the list.</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to close the container, when the calling
function finishes (or <code>.envir</code> is removed, if specified).</p>
</td></tr>
<tr><td><code id="cli_ul_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in. It is
also used to auto-close the container if <code>.auto_close</code> is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The id of the new container element, invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Specifying the items at the beginning
cli_ul(c("one", "two", "three"))

## Adding items one by one
cli_ul()
cli_it("one")
cli_it("two")
cli_it("three")
cli_end()

## Complex item, added gradually.
cli_ul()
cli_it()
cli_verbatim("Beginning of the {emph first} item")
cli_text("Still the first item")
cli_end()
cli_it("Second item")
cli_end()
</code></pre>

<hr>
<h2 id='cli_verbatim'>CLI verbatim text</h2><span id='topic+cli_verbatim'></span>

<h3>Description</h3>

<p>It is not wrapped, but printed as is.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cli_verbatim(..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="cli_verbatim_+3A_...">...</code></td>
<td>
<p>The text to show, in character vectors. Each element is
printed on a new line.</p>
</td></tr>
<tr><td><code id="cli_verbatim_+3A_.envir">.envir</code></td>
<td>
<p>Environment to evaluate the glue expressions in.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cli_verbatim("This has\nthree", "lines")
</code></pre>

<hr>
<h2 id='cliapp'>Create Rich Command Line Applications</h2><span id='topic+cliapp'></span><span id='topic+cliapp-package'></span>

<h3>Description</h3>

<p>Create rich command line applications, with colors, headings, lists,
alerts, progress bars, etc. It uses CSS for theming.
</p>


<h3>Details</h3>

<p>See <a href="#topic+themes">themes</a> for theming, <a href="#topic+containers">containers</a> for container elements,
<a href="#topic+inline-markup">inline-markup</a> for more about command substitution and inline markup.
</p>
<p>See also the various CLI elements:
</p>

<ul>
<li><p> Text elements: <code><a href="#topic+cli_text">cli_text()</a></code>, <code><a href="#topic+cli_verbatim">cli_verbatim()</a></code>, <code><a href="#topic+cli_h1">cli_h1()</a></code>.
</p>
</li>
<li><p> Containers: <code><a href="#topic+cli_div">cli_div()</a></code>, <code><a href="#topic+cli_par">cli_par()</a></code>, <code><a href="#topic+cli_end">cli_end()</a></code>.
</p>
</li>
<li><p> Lists: <code><a href="#topic+cli_ul">cli_ul()</a></code>, <code><a href="#topic+cli_ol">cli_ol()</a></code>, <code><a href="#topic+cli_dl">cli_dl()</a></code>, <code><a href="#topic+cli_it">cli_it()</a></code>.
</p>
</li>
<li><p> Alerts: <code><a href="#topic+cli_alert">cli_alert()</a></code>.
</p>
</li>
<li><p> Progress bars: <code><a href="#topic+cli_progress_bar">cli_progress_bar()</a></code>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/r-lib/cliapp#readme">https://github.com/r-lib/cliapp#readme</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/cliapp/issues">https://github.com/r-lib/cliapp/issues</a>
</p>
</li></ul>


<hr>
<h2 id='console_width'>Determine the width of the console</h2><span id='topic+console_width'></span>

<h3>Description</h3>

<p>It uses the <code>RSTUDIO_CONSOLE_WIDTH</code> environment variable, if set.
Otherwise it uses the <code>width</code> option. If this is not set either,
then 80 is used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>console_width()
</code></pre>


<h3>Value</h3>

<p>Integer scalar, the console with, in number of characters.
</p>

<hr>
<h2 id='containers'>CLI containers</h2><span id='topic+containers'></span>

<h3>Description</h3>

<p>Container elements may contain other elements. Currently the following
commands create container elements: <code><a href="#topic+cli_div">cli_div()</a></code>, <code><a href="#topic+cli_par">cli_par()</a></code>, the list
elements: <code><a href="#topic+cli_ul">cli_ul()</a></code>, <code><a href="#topic+cli_ol">cli_ol()</a></code>, <code><a href="#topic+cli_dl">cli_dl()</a></code>, and list items are
containers as well: <code><a href="#topic+cli_it">cli_it()</a></code>.
</p>


<h3>Details</h3>

<p>Container elements need to be closed with <code><a href="#topic+cli_end">cli_end()</a></code>. For convenience,
they are have an <code>.auto_close</code> argument, which allows automatically
closing a container element, when the function that created it
terminates (either regularly, or with an error).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## div with custom theme
d &lt;- cli_div(theme = list(h1 = list(color = "blue",
                                    "font-weight" = "bold")))
cli_h1("Custom title")
cli_end(d)

## Close automatically
div &lt;- function() {
  cli_div(class = "tmp", theme = list(.tmp = list(color = "yellow")))
  cli_text("This is yellow")
}
div()
cli_text("This is not yellow any more")
</code></pre>

<hr>
<h2 id='inline-markup'>CLI inline markup</h2><span id='topic+inline-markup'></span>

<h3>Description</h3>

<p>CLI inline markup
</p>


<h3>Command substitution</h3>

<p>All text emitted by cliapp supports glue interpolation. Expressions
enclosed by braces will be evaluated as R code. See <code><a href="glue.html#topic+glue">glue::glue()</a></code> for
details.
</p>
<p>In addition to regular glue interpolation, cliapp can also add classes
to parts of the text, and these classes can be used in themes. For
example</p>
<pre>cli_text("This is {emph important}.")
</pre>
<p>adds a class to the &quot;important&quot; word, class &quot;emph&quot;. Note that in this
cases the string within the braces is not a valid R expression. If you
want to mix classes with interpolation, add another pair of braces:</p>
<pre>adjective &lt;- "great"
cli_text("This is {emph {adjective}}.")
</pre>
<p>An inline class will always create a <code>span</code> element internally. So in
themes, you can use the <code>span.emph</code> CSS selector to change how inline
text is emphasized:</p>
<pre>cli_div(theme = list(span.emph = list(color = "red")))
adjective &lt;- "nice and red"
cli_text("This is {emph {adjective}}.")
</pre>


<h3>Classes</h3>

<p>The default theme defines the following inline classes:
</p>

<ul>
<li> <p><code>emph</code> for emphasized text.
</p>
</li>
<li> <p><code>strong</code> for strong importance.
</p>
</li>
<li> <p><code>code</code> for a piece of code.
</p>
</li>
<li> <p><code>pkg</code> for a package name.
</p>
</li>
<li> <p><code>fun</code> for a function name.
</p>
</li>
<li> <p><code>arg</code> for a function argument.
</p>
</li>
<li> <p><code>key</code> for a keyboard key.
</p>
</li>
<li> <p><code>file</code> for a file name.
</p>
</li>
<li> <p><code>path</code> for a path (essentially the same as <code>file</code>).
</p>
</li>
<li> <p><code>email</code> for an email address.
</p>
</li>
<li> <p><code>url</code> for a URL.
</p>
</li>
<li> <p><code>var</code> for a variable name.
</p>
</li>
<li> <p><code>envvar</code> for the name of an environment variable.
</p>
</li></ul>

<p>See examples below.
</p>
<p>You can simply add new classes by defining them in the theme, and then
using them, see the example below.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Some inline markup examples
cli_ul()
cli_it("{emph Emphasized} text")
cli_it("{strong Strong} importance")
cli_it("A piece of code: {code sum(a) / length(a)}")
cli_it("A package name: {pkg cliapp}")
cli_it("A function name: {fun cli_text}")
cli_it("A function argument: {arg text}")
cli_it("A keyboard key: press {key ENTER}")
cli_it("A file name: {file /usr/bin/env}")
cli_it("An email address: {email bugs.bunny@acme.com}")
cli_it("A URL: {url https://acme.com}")
cli_it("A variable name: {var mtcars}")
cli_it("An environment variable: {envvar R_LIBS}")
cli_end()

## Adding a new class
cli_div(theme = list(
  span.myclass = list(color = "lightgrey"),
  "span.myclass::before" = list(content = "["),
  "span.myclass::after" = list(content = "]")))
cli_text("This is {myclass in brackets}.")
cli_end()
</code></pre>

<hr>
<h2 id='simple_theme'>A simple CLI theme</h2><span id='topic+simple_theme'></span>

<h3>Description</h3>

<p>Note that this is in addition to the builtin theme. To use this theme,
you can set it as the <code>cli.theme</code> option:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simple_theme(dark = "auto")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simple_theme_+3A_dark">dark</code></td>
<td>
<p>Whether the theme should be optiomized for a dark
background. If <code>"auto"</code>, then cliapp will try to detect this.
Detection usually works in recent RStudio versions, and in iTerm
on macOS, but not on other platforms.</p>
</td></tr>
</table>


<h3>Details</h3>

<pre>options(cli.theme = cliapp::simple_theme())
</pre>
<p>and then CLI apps started after this will use it as the default theme.
You can also use it temporarily, in a div element:</p>
<pre>cli_div(theme = cliapp::simple_theme())
</pre>


<h3>See Also</h3>

<p><a href="#topic+themes">themes</a>, <code><a href="#topic+builtin_theme">builtin_theme()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cli_div(theme = cliapp::simple_theme())

cli_h1("Header 1")
cli_h2("Header 2")
cli_h3("Header 3")

cli_alert_danger("Danger alert")
cli_alert_warning("Warning alert")
cli_alert_info("Info alert")
cli_alert_success("Success alert")
cli_alert("Alert for starting a process or computation",
  class = "alert-start")

cli_text("Packages and versions: {pkg cliapp} {version 1.0.0}.")
cli_text("Time intervals: {timestamp 3.4s}")

cli_text("{emph Emphasis} and  {strong strong emphasis}")

cli_text("This is a piece of code: {code sum(x) / length(x)}")
cli_text("Function names: {fun cliapp::simple_theme} and {arg arguments}.")

cli_text("Files: {file /usr/bin/env}")
cli_text("URLs: {url https://r-project.org}")

cli_h2("Longer code chunk")
cli_par(class = "r-code")
cli_verbatim(
  '# window functions are useful for grouped mutates',
  'mtcars %&gt;%',
  '  group_by(cyl) %&gt;%',
  '  mutate(rank = min_rank(desc(mpg)))')
cli_end()

cli_h2("Even longer code chunk")
cli_par(class = "r-code")
cli_verbatim(format(ls))
cli_end()

cli_end()

</code></pre>

<hr>
<h2 id='start_app'>Start, stop, query the default cli application</h2><span id='topic+start_app'></span><span id='topic+stop_app'></span><span id='topic+default_app'></span>

<h3>Description</h3>

<p><code>start_app</code> creates an app, and places it on the top of the app stack.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>start_app(
  theme = getOption("cli.theme"),
  output = c("message", "stdout"),
  .auto_close = TRUE,
  .envir = parent.frame()
)

stop_app(app = NULL)

default_app()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="start_app_+3A_theme">theme</code></td>
<td>
<p>Theme to use, passed to the <a href="#topic+cliapp">cliapp</a> initializer.</p>
</td></tr>
<tr><td><code id="start_app_+3A_output">output</code></td>
<td>
<p>How to print the output, passed to <a href="#topic+cliapp">cliapp</a> initializer.</p>
</td></tr>
<tr><td><code id="start_app_+3A_.auto_close">.auto_close</code></td>
<td>
<p>Whether to stop the app, when the calling frame
is destroyed.</p>
</td></tr>
<tr><td><code id="start_app_+3A_.envir">.envir</code></td>
<td>
<p>The environment to use, instead of the calling frame,
to trigger the stop of the app.</p>
</td></tr>
<tr><td><code id="start_app_+3A_app">app</code></td>
<td>
<p>App to stop. If <code>NULL</code>, the current default app is stopped.
Otherwise we find the supplied app in the app stack, and remote it,
together with all the apps above it.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>stop_app</code> removes the top app, or multiple apps from the app stack.
</p>
<p><code>default_app</code> returns the default app, the one on the top of the stack.
</p>


<h3>Value</h3>

<p><code>start_app</code> returns the new app, <code>default_app</code> returns the default app.
<code>stop_app</code> does not return anything.
</p>

<hr>
<h2 id='themes'>CLI themes</h2><span id='topic+themes'></span>

<h3>Description</h3>

<p>CLI elements can be styled via a CSS-like language of selectors and
properties. Note that while most of the CSS3 language is supported,
a lot visual properties cannot be implemented on a terminal, so these
will be ignored.
</p>


<h3>Adding themes</h3>

<p>The style of an element is calculated from themes from four sources.
These form a stack, and the styles on the top of the stack take
precedence, over styles in the bottom.
</p>

<ol>
<li><p> The cliapp package has a builtin theme. This is always active.
See <code><a href="#topic+builtin_theme">builtin_theme()</a></code>.
</p>
</li>
<li><p> When an app object is created via <code><a href="#topic+start_app">start_app()</a></code>, the caller can
specify a theme, that is added to theme stack. If no theme is
specified for <code><a href="#topic+start_app">start_app()</a></code>, the content of the <code>cli.theme</code> option
is used. Removed when the corresponding app stops.
</p>
</li>
<li><p> The user may speficy a theme in the <code>cli.user_theme</code> option. This
is added to the stack <em>after</em> the app's theme (step 2.), so it can
override its settings. Removed when the app that added it stops.
</p>
</li>
<li><p> Themes specified explicitly in <code><a href="#topic+cli_div">cli_div()</a></code> elements. These are
removed from the theme stack, when the corresponding <code><a href="#topic+cli_div">cli_div()</a></code>
elements are closed.
</p>
</li></ol>



<h3>Writing themes</h3>

<p>A theme is a named list of lists. The name of each entry is a CSS
selector. Most features of CSS selectors are supported here:, for a
complete reference, see the selectr package.
</p>
<p>The content of a theme list entry is another named list, where the
names are CSS properties, e.g. <code>color</code>, or <code>font-weight</code> or
<code>margin-left</code>, and the list entries themselves define the values of
the properties. See <code><a href="#topic+builtin_theme">builtin_theme()</a></code> and <code><a href="#topic+simple_theme">simple_theme()</a></code> for examples.
</p>


<h3>CSS pseudo elements</h3>

<p>Currently only the <code style="white-space: pre;">&#8288;::before&#8288;</code> and <code style="white-space: pre;">&#8288;::after&#8288;</code> pseudo elements are
supported.
</p>


<h3>Formatter callbacks</h3>

<p>For flexibility, themes may also define formatter functions, with
property name <code>fmt</code>. These will be called once the other styles are
applied to an element. They are only called on elements that produce
output, i.e. <em>not</em> on container elements.
</p>


<h3>Supported properties</h3>

<p>Right now only a limited set of properties are supported. These include
left, right, top and bottom margins, background and foreground colors,
bold and italic fonts, underlined text. The <code>content</code> property is
supported to insert text via <code style="white-space: pre;">&#8288;::before&#8288;</code> and <code style="white-space: pre;">&#8288;::after&#8288;</code> selectors.
</p>
<p>More properties might be adder later.
</p>
<p>Please see the example themes and the source code for now for the
details.
</p>


<h3>Examples</h3>

<p>Color of headers, that are only active in paragraphs with an
'output' class:</p>
<pre>list(
  "par.output h1" = list("background-color" = "red", color = "#e0e0e0"),
  "par.output h2" = list("background-color" = "orange", color = "#e0e0e0"),
  "par.output h3" = list("background-color" = "blue", color = "#e0e0e0")
)
</pre>
<p>Create a custom alert type:</p>
<pre>list(
  ".alert-start::before" = list(content = symbol$play),
  ".alert-stop::before"  = list(content = symbol$stop)
)
</pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package msdrought</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {msdrought}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#msdDates'><p>Finding indices for Dates Relevant to the MSD Calculations</p></a></li>
<li><a href='#msdFilter'><p>msdFilter &ndash; A triangular Filter for smoothing data</p></a></li>
<li><a href='#msdGraph'><p>Mid Summer Drought Time Series Graphs</p></a></li>
<li><a href='#msdMain'><p>Mid Summer Drought Function</p></a></li>
<li><a href='#msdStats'><p>Main Mid Summer Drought Calculation Function</p></a></li>
<li><a href='#timeseries'><p>msdrought package included timeseries data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Seasonal Mid-Summer Drought Characteristics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Characterization of a mid-summer drought (MSD) with precipitation
    based statistics. The MSD is a phenomenon of decreased rainfall during a 
    typical rainy season. It is a feature of rainfall in much of Central America
    and is also found in other locations, typically those with a Mediterranean 
    climate. Details on the metrics are in Maurer et al. (2022) 
    &lt;<a href="https://doi.org/10.5194%2Fhess-26-1425-2022">doi:10.5194/hess-26-1425-2022</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Turner-SCU/msdrought">https://github.com/Turner-SCU/msdrought</a>,
<a href="https://turner-scu.github.io/msdrought/">https://turner-scu.github.io/msdrought/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Turner-SCU/msdrought/issues">https://github.com/Turner-SCU/msdrought/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, lubridate, quantmod, signal, stats, xts</td>
</tr>
<tr>
<td>Suggests:</td>
<td>dplyr, knitr, rmarkdown, stringr, terra, tidyr, tools, zoo</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-22 19:05:43 UTC; tuyeda</td>
</tr>
<tr>
<td>Author:</td>
<td>Turner Uyeda [aut],
  Ed Maurer [aut, cre, cph],
  Kenneth Joseph [aut],
  Alex Avila [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ed Maurer &lt;emaurer@scu.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-27 12:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='msdDates'>Finding indices for Dates Relevant to the MSD Calculations</h2><span id='topic+msdDates'></span>

<h3>Description</h3>

<p>This function pulls the indices associated with the dates that correspond
with the Mid Summer Drought, as well as the indices that indicate first and last day of each year.
This function is used in conjunction with the MSD function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msdDates(x, peakwindow1, minwindow1, minwindow2, peakwindow2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msdDates_+3A_x">x</code></td>
<td>
<p>Date vector</p>
</td></tr>
<tr><td><code id="msdDates_+3A_peakwindow1">peakwindow1</code></td>
<td>
<p>desired date in MMDD format to begin search for early peak</p>
</td></tr>
<tr><td><code id="msdDates_+3A_minwindow1">minwindow1</code></td>
<td>
<p>desired date in MMDD format to begin search for minimum</p>
</td></tr>
<tr><td><code id="msdDates_+3A_minwindow2">minwindow2</code></td>
<td>
<p>desired date in MMDD format to end search for minimum</p>
</td></tr>
<tr><td><code id="msdDates_+3A_peakwindow2">peakwindow2</code></td>
<td>
<p>desired date in MMDD format to end search for late peak</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector containing the indices corresponding to each year's beginning date, end date, and the critical MSD dates
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(from = as.Date("1981-01-01"), to = as.Date("1985-12-31"), by = "day")
output &lt;- msdDates(x, peakwindow1 = "05-01", minwindow1 = "06-01",
                    minwindow2 = "08-31", peakwindow2 = "10-31")

</code></pre>

<hr>
<h2 id='msdFilter'>msdFilter &ndash; A triangular Filter for smoothing data</h2><span id='topic+msdFilter'></span>

<h3>Description</h3>

<p>The filter will take a weighted average of a specified number of points
around the point of interest to create a smoother time series. For
example, if the size of the filter is set to 31, the filter will take the
15 points before and after the point of interest (for a total of 31 points),
and calculate a weighted average based on how far away the points are from
the point of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msdFilter(x, window = 31, quantity = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msdFilter_+3A_x">x</code></td>
<td>
<p>TimeSeries or numeric vector</p>
</td></tr>
<tr><td><code id="msdFilter_+3A_window">window</code></td>
<td>
<p>Size of Filter [Default = 31]</p>
</td></tr>
<tr><td><code id="msdFilter_+3A_quantity">quantity</code></td>
<td>
<p>Number of passes to apply filter [Default = 2]</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of Yearly data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dates &lt;- seq(from = as.Date("1981-01-01"), to = as.Date("1982-12-31"), by = "day")
ts &lt;- xts::xts(runif(length(dates), 0, 50),dates)
filteredData &lt;- msdrought::msdFilter(ts, window = 31, quantity = 2)

</code></pre>

<hr>
<h2 id='msdGraph'>Mid Summer Drought Time Series Graphs</h2><span id='topic+msdGraph'></span>

<h3>Description</h3>

<p>Plots the Time Series of Mid Summer Drought data. The input must be in the form of daily data,
with the first data point being January 1st of a respective year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msdGraph(x, year, peakwindow1, minwindow1,
minwindow2, peakwindow2, quantity,
window, timeVector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msdGraph_+3A_x">x</code></td>
<td>
<p>vector of data or xts</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_year">year</code></td>
<td>
<p>year of interest</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_peakwindow1">peakwindow1</code></td>
<td>
<p>date in MMDD format to begin analysis (window 1)</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_minwindow1">minwindow1</code></td>
<td>
<p>date in MMDD format to end analysis (window 1)</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_minwindow2">minwindow2</code></td>
<td>
<p>date in MMDD format to begin analysis (window 2)</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_peakwindow2">peakwindow2</code></td>
<td>
<p>date in MMDD format to end analysis (window 2)</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_quantity">quantity</code></td>
<td>
<p>number of times the filter is to be run</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_window">window</code></td>
<td>
<p>size of filter</p>
</td></tr>
<tr><td><code id="msdGraph_+3A_timevector">timeVector</code></td>
<td>
<p>vector of dates (not needed for xts inputs)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Graph of Time Series Data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
data("timeseries")
ts &lt;- timeseries
msdrought::msdGraph(ts, 1982)

## End(Not run)

</code></pre>

<hr>
<h2 id='msdMain'>Mid Summer Drought Function</h2><span id='topic+msdMain'></span>

<h3>Description</h3>

<p>Generates all relevant statistics for the Mid Summer Drought by running the msdStats function for every
applicable metric. The output of msdMain is a dataframe containing every msdStats output for the available years of data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msdMain(x, peakwindow1, minwindow1,
minwindow2, peakwindow2, quantity,
window, timeVector)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msdMain_+3A_x">x</code></td>
<td>
<p>xts or vector of data</p>
</td></tr>
<tr><td><code id="msdMain_+3A_peakwindow1">peakwindow1</code></td>
<td>
<p>desired date in MMDD format to begin analysis (window 1)</p>
</td></tr>
<tr><td><code id="msdMain_+3A_minwindow1">minwindow1</code></td>
<td>
<p>desired date in MMDD format to end analysis (window 1)</p>
</td></tr>
<tr><td><code id="msdMain_+3A_minwindow2">minwindow2</code></td>
<td>
<p>desired date in MMDD format to begin analysis (window 2)</p>
</td></tr>
<tr><td><code id="msdMain_+3A_peakwindow2">peakwindow2</code></td>
<td>
<p>desired date in MMDD format to end analysis (window 2)</p>
</td></tr>
<tr><td><code id="msdMain_+3A_quantity">quantity</code></td>
<td>
<p>amount of times the filter is run</p>
</td></tr>
<tr><td><code id="msdMain_+3A_window">window</code></td>
<td>
<p>size of filter</p>
</td></tr>
<tr><td><code id="msdMain_+3A_timevector">timeVector</code></td>
<td>
<p>vector of dates (not needed for xts inputs)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame of all relevant MSD Statistics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("timeseries")
ts &lt;- timeseries
df &lt;- msdrought::msdMain(ts)

</code></pre>

<hr>
<h2 id='msdStats'>Main Mid Summer Drought Calculation Function</h2><span id='topic+msdStats'></span>

<h3>Description</h3>

<p>This function calculates the different statistics of the mid summer drought from a Time Series.
The input must be in the form of daily data, with the first data point being January 1st of a respective year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>msdStats(x, dates, fcn)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="msdStats_+3A_x">x</code></td>
<td>
<p>Filtered xts data (from msdFilter)</p>
</td></tr>
<tr><td><code id="msdStats_+3A_dates">dates</code></td>
<td>
<p>Vector of Dates (from the msdDates function)</p>
</td></tr>
<tr><td><code id="msdStats_+3A_fcn">fcn</code></td>
<td>
<p>Specify what values to be pulled from the function.
Options are 'duration', 'intensity', 'firstMaxValue', 'secondMaxValue', 'min', 'mindex'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>SpatRaster or TimeSeries of Yearly data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("timeseries")
ts &lt;- timeseries
dates &lt;- zoo::index(ts)
filteredData &lt;- msdrought::msdFilter(ts, window = 31, quantity = 2)
keyDates &lt;- msdDates(dates)
msdrought::msdStats(filteredData, keyDates, fcn = "duration")

</code></pre>

<hr>
<h2 id='timeseries'>msdrought package included timeseries data</h2><span id='topic+timeseries'></span>

<h3>Description</h3>

<p>A subset of data from the UCSB CHIRPS data set
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeseries
</code></pre>


<h3>Format</h3>

<p>## 'timeseries'
An xts object with precipitation data over a series of five years:
</p>

<dl>
<dt>Date</dt><dd><p>date in YYYY-MM-DD format</p>
</dd>
<dt>Precipitation</dt><dd><p>daily precipitation in millimeters (mm)</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p>&lt;https://www.chc.ucsb.edu/data/chirps&gt;
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

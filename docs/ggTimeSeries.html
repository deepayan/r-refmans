<!DOCTYPE html><html><head><title>Help for package ggTimeSeries</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggTimeSeries}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dtClimate'><p>Climate data.</p></a></li>
<li><a href='#ggplot_calendar_heatmap'><p>Plots a calendar heatmap</p></a></li>
<li><a href='#ggplot_horizon'><p>Plot a time series as a horizon plot</p></a></li>
<li><a href='#ggplot_waterfall'><p>Plots a water fall plot</p></a></li>
<li><a href='#Marimekkofy'><p>Marimekkofy</p></a></li>
<li><a href='#stat_calendar_heatmap'><p>Plots a calendar heatmap</p></a></li>
<li><a href='#stat_horizon'><p>Plot a time series as a horizon plot</p></a></li>
<li><a href='#stat_marimekko'><p>Plot two categorical variables as marimekko</p></a></li>
<li><a href='#stat_occurrence'><p>Plots a time series as a dot plot</p></a></li>
<li><a href='#stat_steamgraph'><p>Plot multiple time series as a steamgraph</p></a></li>
<li><a href='#stat_waterfall'><p>Plot a time series as a waterfall plot</p></a></li>
<li><a href='#StatCalendarMonthBreaks'><p>Transforms data for the month breaks of the calendar heatmap</p></a></li>
<li><a href='#StatHorizon'><p>Transforms data for a horizon plot</p></a></li>
<li><a href='#StatMarimekko'><p>Transforms data for the tiles of the heatmap</p></a></li>
<li><a href='#StatOccurrence'><p>Transforms data for an occurrence plot</p></a></li>
<li><a href='#StatSteamgraph'><p>Transforms data for a steam graph</p></a></li>
<li><a href='#StatWaterfall'><p>Transforms data for a horizon plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Time Series Visualisations Using the Grammar of Graphics</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-01-17</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aditya Kothari &lt;mail.thecomeonman@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides additional display mediums for time series visualisations.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/thecomeonman/ggTimeSeries">https://github.com/thecomeonman/ggTimeSeries</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/thecomeonman/ggTimeSeries/issues">https://github.com/thecomeonman/ggTimeSeries/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), ggplot2</td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, stats, utils</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, ggthemes, prettydoc</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-01-23 16:03:36 UTC; a</td>
</tr>
<tr>
<td>Author:</td>
<td>Aditya Kothari [cre, aut],
  Ather Energy [cph],
  Jesse Vent [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-01-23 16:22:42 UTC</td>
</tr>
</table>
<hr>
<h2 id='dtClimate'>Climate data.</h2><span id='topic+dtClimate'></span>

<h3>Description</h3>

<p>The climate data used in the blogpost.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dtClimate)
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.table</code> (inherits from <code>data.frame</code>) with 23628 rows and 5 columns.</p>


<h3>Source</h3>

<p>http://doi.org/10.7289/V5D21VHZ
Downloaded from ftp://ftp.ncdc.noaa.gov/pub/data/ghcn/daily/by_year/
</p>
<p>Menne, M.J., I. Durre, B. Korzeniewski, S. McNeal, K. Thomas, X. Yin,
S. Anthony, R. Ray, R.S. Vose, B.E.Gleason, and T.G. Houston,
2012: Global Historical Climatology Network - Daily, Version 3.12
</p>

<hr>
<h2 id='ggplot_calendar_heatmap'>Plots a calendar heatmap</h2><span id='topic+ggplot_calendar_heatmap'></span>

<h3>Description</h3>

<p>A calendar heatmap provides context for weeks, and day of week which makes
it a better way to visualise daily data than line charts. Largely uses
Codoremifa's code from
stackoverflow.com/questions/22815688/calendar-time-series-with-r.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_calendar_heatmap(dtDateValue, cDateColumnName = "",
  cValueColumnName = "", vcGroupingColumnNames = "Year",
  dayBorderSize = 0.25, dayBorderColour = "black",
  monthBorderSize = 2, monthBorderColour = "black",
  monthBorderLineEnd = "round")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_calendar_heatmap_+3A_dtdatevalue">dtDateValue</code></td>
<td>
<p>Data set which may include other columns apart from date
and values.</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_cdatecolumnname">cDateColumnName</code></td>
<td>
<p>Column name of the dates.</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_cvaluecolumnname">cValueColumnName</code></td>
<td>
<p>Column name of the data.</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_vcgroupingcolumnnames">vcGroupingColumnNames</code></td>
<td>
<p>The set of columns which together define the group
for the chart to operate within If you plan to facet your plot,
you should specify the same column names to this argument. The function
will automatically add the veriable for the year to the facet.</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_daybordersize">dayBorderSize</code></td>
<td>
<p>Size of the border around each day</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_daybordercolour">dayBorderColour</code></td>
<td>
<p>Colour of the border around each day</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_monthbordersize">monthBorderSize</code></td>
<td>
<p>Size of the border around each month</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_monthbordercolour">monthBorderColour</code></td>
<td>
<p>Colour of the border around each month</p>
</td></tr>
<tr><td><code id="ggplot_calendar_heatmap_+3A_monthborderlineend">monthBorderLineEnd</code></td>
<td>
<p>Line end for the border around each month</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a gpplot friendly object which means the user can use
ggplot scales to modify the look, add more geoms, etc.
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
scale_fill_continuous(low = 'green', high = 'red') +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   # strip.text = element_blank(), # useful if only one year of data
   plot.background = element_blank(),
   panel.border = element_blank(),
   panel.background  = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
)
</code>
</p>


<h3>Also See</h3>

<p><code><a href="#topic+stat_calendar_heatmap">stat_calendar_heatmap</a></code>, a
flexible but less polished alternative.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(data.table)
library(ggplot2)
set.seed(1)
dtData = data.table(
      DateCol = seq(
         as.Date("1/01/2014", "%d/%m/%Y"),
         as.Date("31/12/2015", "%d/%m/%Y"),
         "days"
      ),
      ValueCol = runif(730)
   )
# you could also try categorical data with
# ValueCol = sample(c('a','b','c'), 730, replace = T)
p1 = ggplot_calendar_heatmap(
   dtData,
   'DateCol',
   'ValueCol'
)
p1
# add new geoms
p1 +
geom_text(label = '!!!') +
scale_colour_continuous(low = 'red', high = 'green')
}
</code></pre>

<hr>
<h2 id='ggplot_horizon'>Plot a time series as a horizon plot</h2><span id='topic+ggplot_horizon'></span>

<h3>Description</h3>

<p>A horizon plot breaks the Y dimension down using colours. This is useful
when visualising y values spanning a vast range and / or trying to highlight
outliers without losing context of the rest of the data.  Horizon
plots are best viewed in an apsect ratio of very low vertical length.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_horizon(dtData, cXColumnName, cYColumnName, bandwidth = NULL,
  vcGroupingColumnNames = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_horizon_+3A_dtdata">dtData</code></td>
<td>
<p>Data set which may include other columns apart from date
and values.</p>
</td></tr>
<tr><td><code id="ggplot_horizon_+3A_cxcolumnname">cXColumnName</code></td>
<td>
<p>Column name of dates.</p>
</td></tr>
<tr><td><code id="ggplot_horizon_+3A_cycolumnname">cYColumnName</code></td>
<td>
<p>Column name of values.</p>
</td></tr>
<tr><td><code id="ggplot_horizon_+3A_bandwidth">bandwidth</code></td>
<td>
<p>the width of one band of Y values.
easier to differentiate between the bands.</p>
</td></tr>
<tr><td><code id="ggplot_horizon_+3A_vcgroupingcolumnnames">vcGroupingColumnNames</code></td>
<td>
<p>The set of columns which together define the group
for the chart to operate within If you plan to facet your plot,
you should specify the same column names to this argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a gpplot friendly object which means the user can use
ggplot scales, etc. to modify the look.
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the example output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
scale_fill_continuous(low = 'green', high = 'red') +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   # strip.text = element_blank(), # useful if only one year of data
   plot.background = element_blank(),
   panel.border = element_blank(),
   panel.background  = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
) +
coord_fixed( 0.5 * diff(range(dfData$x)) / diff(range(dfData$y)))
</code>
</p>


<h3>Also See</h3>

<p><code><a href="#topic+stat_horizon">stat_horizon</a></code>, a less polished but more
flexible alternative.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
set.seed(1)
dfData = data.frame(x = 1:1000, y = cumsum(rnorm(1000)))
p1 = ggplot_horizon(dfData, 'x', 'y')
p1
# add new geoms or colours
p1 +
geom_text(label = '!!!') +
scale_colour_continuous(low = 'red', high = 'green')
}
</code></pre>

<hr>
<h2 id='ggplot_waterfall'>Plots a water fall plot</h2><span id='topic+ggplot_waterfall'></span>

<h3>Description</h3>

<p>A waterfall plot highlights the change in the time series rather than the
value of the time series itself.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggplot_waterfall(dtData, cXColumnName, cYColumnName, nArrowSize = 0.25,
  vcGroupingColumnNames = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggplot_waterfall_+3A_dtdata">dtData</code></td>
<td>
<p>Data set which may include other columns apart from the
columns mapped to x and y .</p>
</td></tr>
<tr><td><code id="ggplot_waterfall_+3A_cxcolumnname">cXColumnName</code></td>
<td>
<p>Column name of the x mapping.</p>
</td></tr>
<tr><td><code id="ggplot_waterfall_+3A_cycolumnname">cYColumnName</code></td>
<td>
<p>Column name of the y mapping.</p>
</td></tr>
<tr><td><code id="ggplot_waterfall_+3A_narrowsize">nArrowSize</code></td>
<td>
<p>the size of the arrow head on the plot in cm</p>
</td></tr>
<tr><td><code id="ggplot_waterfall_+3A_vcgroupingcolumnnames">vcGroupingColumnNames</code></td>
<td>
<p>The set of columns which together define the group
for the chart to operate between. If you plan to facet your plot,
you should specify the same column names to this argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a gpplot friendly object which means the user can use
ggplot scales to modify the look, add more geoms, etc.
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
scale_fill_continuous(low = 'green', high = 'red') +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   # strip.text = element_blank(), # useful if only one year of data
   plot.background = element_blank(),
   panel.background = element_blank(),
   panel.border = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
)
</code>
</p>


<h3>Also See</h3>

<p><code><a href="#topic+stat_waterfall">stat_waterfall</a></code>, a
flexible but less polished alternative.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
set.seed(1)
dfData = data.frame(x = 1:100, y = cumsum(rnorm(100)))
ggplot_waterfall(
   dtData = dfData,
   'x',
   'y'
)}
</code></pre>

<hr>
<h2 id='Marimekkofy'>Marimekkofy</h2><span id='topic+Marimekkofy'></span>

<h3>Description</h3>

<p>Marimekkofy
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Marimekkofy(data, xbucket = "xbucket", ybucket = "ybucket",
  weight = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Marimekkofy_+3A_data">data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="Marimekkofy_+3A_xbucket">xbucket</code></td>
<td>
<p>x value</p>
</td></tr>
<tr><td><code id="Marimekkofy_+3A_ybucket">ybucket</code></td>
<td>
<p>y value</p>
</td></tr>
<tr><td><code id="Marimekkofy_+3A_weight">weight</code></td>
<td>
<p>weight value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>df
</p>

<hr>
<h2 id='stat_calendar_heatmap'>Plots a calendar heatmap</h2><span id='topic+stat_calendar_heatmap'></span>

<h3>Description</h3>

<p>A calendar heatmap provides context for weeks, and day of week and
is a better way to visualise daily data than line charts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_calendar_heatmap(mapping = NULL, data = NULL, show.legend = NA,
  inherit.aes = TRUE, na.rm = T, bandwidth = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_calendar_heatmap_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="stat_calendar_heatmap_+3A_data">data</code></td>
<td>
<p>df</p>
</td></tr>
<tr><td><code id="stat_calendar_heatmap_+3A_show.legend">show.legend</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_calendar_heatmap_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_calendar_heatmap_+3A_na.rm">na.rm</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_calendar_heatmap_+3A_bandwidth">bandwidth</code></td>
<td>
<p>bandwidth</p>
</td></tr>
<tr><td><code id="stat_calendar_heatmap_+3A_...">...</code></td>
<td>
<p>more functions</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>date, fill.
</p>


<h3>Data Tips</h3>

<p><a href="base.html#topic+strftime">strftime</a> can help extract the value
of the year, week of year, and day of week from the date column. You might
need to extract the year to facet multiple years as demonstrated in the
example.
This stat uses the following transformation to obtain the x and  y
coordinate to be used in the heatmap -
<code>
   data$x = 1 + as.integer(strftime(data$date, "%W"))
   data$y = as.integer(strftime(data$date, "%w"))
   data$y[data$y == 0L] = 7
   data$y = 8 - data$y
</code>
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
scale_fill_continuous(low = 'green', high = 'red') +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   panel.background = element_blank(),
   panel.border = element_blank()
)
</code>
</p>


<h3>Also See</h3>

<p><code><a href="#topic+ggplot_calendar_heatmap">ggplot_calendar_heatmap</a></code>, a
polished but less flexible alternative.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
DailyData = data.frame(
      DateCol = seq(
         as.Date("1/01/2014", "%d/%m/%Y"),
         as.Date("31/12/2015", "%d/%m/%Y"),
         "days"
      ),
      ValueCol = runif(730)
   )
   DailyData$Year = strftime(DailyData$DateCol, "%Y")
ggplot(
   DailyData,
   aes(
      date = DateCol,
      fill = ValueCol
   )
) +
   stat_calendar_heatmap() +
   facet_wrap(~Year, ncol = 1)}
</code></pre>

<hr>
<h2 id='stat_horizon'>Plot a time series as a horizon plot</h2><span id='topic+stat_horizon'></span>

<h3>Description</h3>

<p>Plot a time series as a horizon plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_horizon(mapping = NULL, data = NULL, show.legend = NA,
  inherit.aes = TRUE, na.rm = T, bandwidth = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_horizon_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="stat_horizon_+3A_data">data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="stat_horizon_+3A_show.legend">show.legend</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_horizon_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_horizon_+3A_na.rm">na.rm</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_horizon_+3A_bandwidth">bandwidth</code></td>
<td>
<p>bandwith</p>
</td></tr>
<tr><td><code id="stat_horizon_+3A_...">...</code></td>
<td>
<p>other functions
</p>
<p>A horizon plot breaks the Y dimension down using colours. This is useful
when visualising y values spanning a vast range and / or trying to highlight
outliers without losing context of the rest of the data.  Horizon
plots are best viewed in an apsect ratio of very low vertical length.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>x, y, fill. Fill argument is overridden internally but
is required for ggplot to assign a colour / fill scale.
</p>


<h3>Other parameters</h3>

<p>bandwidth, to dictate the span of a band.
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
scale_fill_continuous(low = 'green', high = 'red') +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   # strip.text = element_blank(), # useful if only one year of data
   plot.background = element_blank(),
   panel.border = element_blank(),
   panel.background  = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
)
</code>
</p>


<h3>Also See</h3>

<p><code><a href="#topic+ggplot_horizon">ggplot_horizon</a></code>, a more polished but less
flexible alternative.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
ggplot(data.frame(x = 1:89, y = as.numeric(unlist(austres))), aes(x =x, y = y, fill = y) )+
   stat_horizon() +
   scale_fill_continuous(low = 'white', high = 'red')

set.seed(10)
ggplot(data.frame(x = 1:1000, y = cumsum(rnorm(1000))), aes(x =x, y = y, fill = y) )+
   stat_horizon() +
   scale_fill_continuous(low = 'white', high = 'red')}
</code></pre>

<hr>
<h2 id='stat_marimekko'>Plot two categorical variables as marimekko</h2><span id='topic+stat_marimekko'></span>

<h3>Description</h3>

<p>Plot two categorical variables as marimekko
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_marimekko(mapping = NULL, data = NULL, show.legend = NA,
  inherit.aes = TRUE, na.rm = T, xlabelyposition = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_marimekko_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="stat_marimekko_+3A_data">data</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="stat_marimekko_+3A_show.legend">show.legend</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_marimekko_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_marimekko_+3A_na.rm">na.rm</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_marimekko_+3A_xlabelyposition">xlabelyposition</code></td>
<td>
<p>position</p>
</td></tr>
<tr><td><code id="stat_marimekko_+3A_...">...</code></td>
<td>
<p>other functions
A marimekko plot, or a mosaic plot, visualises the co-occurrence of two
categorical / ordinal variables. In a time series, it could be used to
visualise the transitions from one state to another by considering each
state to be a category and plotting current category vs. next category.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>xbucket, ybucket, fill. Fill argument needs to be
assigned to ybucket., or some other column which is a one to one mapping of ybucket.
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
scale_fill_continuous(low = 'green', high = 'red') +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   # strip.text = element_blank(), # useful if only one year of data
   plot.background = element_blank(),
   panel.border = element_blank(),
   panel.background  = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
)
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
ggplot(
   data.frame(
      x1 = round(3 * runif(10000), 0),
      y1 = pmax(pmin(round(3 * rnorm(10000), 0), 3), -3),
      weight = 1:10000
   )
) +
   stat_marimekko(
      aes(
         xbucket = x1,
         ybucket = y1,
         fill = factor(y1),
         weight = weight
      ),
      xlabelyposition = 1.1,
      color = 'black'
   )}
</code></pre>

<hr>
<h2 id='stat_occurrence'>Plots a time series as a dot plot</h2><span id='topic+stat_occurrence'></span>

<h3>Description</h3>

<p>Plots a time series as a dot plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_occurrence(mapping = NULL, data = NULL, show.legend = NA,
  inherit.aes = TRUE, na.rm = T, bandwidth = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_occurrence_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="stat_occurrence_+3A_data">data</code></td>
<td>
<p>df</p>
</td></tr>
<tr><td><code id="stat_occurrence_+3A_show.legend">show.legend</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_occurrence_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_occurrence_+3A_na.rm">na.rm</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_occurrence_+3A_bandwidth">bandwidth</code></td>
<td>
<p>bandwidth</p>
</td></tr>
<tr><td><code id="stat_occurrence_+3A_...">...</code></td>
<td>
<p>more functions
</p>
<p>For rare events, it's convenient to have the count of events encoded in
the chart itself. A bar chart requires the user to perceive the y axis which
this does not.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>x, y
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>  +
   xlab(NULL) +
   ylab(NULL) +
   scale_fill_continuous(low = 'green', high = 'red') +
   theme(
      axis.text.y = element_blank(),
      axis.ticks.y = element_blank(),
      legend.position = 'none',
      strip.background = element_blank(),
      panel.background = element_blank(),
      panel.border = element_blank(),
      panel.grid = element_blank(),
      panel.border = element_blank()
   ) +
   coord_fixed(ylim = c(0,1 + max(dfData$y)))
</code>
<a href="ggplot2.html#topic+coord_fixed">coord_fixed</a>  can provide a balance to the aspect ratio of the chart.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(data.table)
library(ggplot2)
set.seed(1)
dfData = data.table(x = 1:100, y = floor(4 * abs(rnorm(100, 0 , 0.4))))
ggplot(dfData, aes(x =x, y = y) )+
   stat_occurrence()+
   coord_fixed()}
</code></pre>

<hr>
<h2 id='stat_steamgraph'>Plot multiple time series as a steamgraph</h2><span id='topic+stat_steamgraph'></span>

<h3>Description</h3>

<p>Plot multiple time series as a steamgraph
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_steamgraph(mapping = NULL, data = NULL, show.legend = NA,
  inherit.aes = TRUE, na.rm = T, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_steamgraph_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="stat_steamgraph_+3A_data">data</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="stat_steamgraph_+3A_show.legend">show.legend</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_steamgraph_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_steamgraph_+3A_na.rm">na.rm</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_steamgraph_+3A_...">...</code></td>
<td>
<p>other functions
</p>
<p>Plots  <a href="ggplot2.html#topic+geom_ribbon">geom_ribbon</a>  for each time series and stacks
them one on top of the other. It's a more aesthetically appealing version
of a stacked area chart. The groups with the most variance are placed on the
outside, and the groups with the least variance are placed on the inside.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>geom_steamgraph needs x, y, group, fill.
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the example output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   # strip.text = element_blank(), # useful if only one year of data
   plot.background = element_blank(),
   panel.background = element_blank(),
   panel.border = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
) +
coord_fixed( 0.2 * diff(range(df$Time)) / diff(range(df$Signal)))
</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
set.seed(10)
df = data.frame(
Time=1:1000,
Signal=abs(c(cumsum(rnorm(1000, 0, 3)),
    cumsum(rnorm(1000, 0, 4)), cumsum(rnorm(1000, 0, 1)),
     cumsum(rnorm(1000, 0, 2)))),
Variable = c(rep('a', 1000), rep('b', 1000), rep('c',
    1000), rep('d', 1000)),
VariableLabel = c(rep('Class A', 1000), rep('Class B',
    1000), rep('Class C', 1000), rep('Class D', 1000))
)

ggplot(df, aes(x = Time, y = Signal, group = Variable, fill = VariableLabel)) +
  stat_steamgraph()}
</code></pre>

<hr>
<h2 id='stat_waterfall'>Plot a time series as a waterfall plot</h2><span id='topic+stat_waterfall'></span>

<h3>Description</h3>

<p>Plot a time series as a waterfall plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stat_waterfall(mapping = NULL, data = NULL, show.legend = NA,
  inherit.aes = TRUE, na.rm = T, bandwidth = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stat_waterfall_+3A_mapping">mapping</code></td>
<td>
<p>mapping</p>
</td></tr>
<tr><td><code id="stat_waterfall_+3A_data">data</code></td>
<td>
<p>data</p>
</td></tr>
<tr><td><code id="stat_waterfall_+3A_show.legend">show.legend</code></td>
<td>
<p>legend</p>
</td></tr>
<tr><td><code id="stat_waterfall_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_waterfall_+3A_na.rm">na.rm</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="stat_waterfall_+3A_bandwidth">bandwidth</code></td>
<td>
<p>bandwidth</p>
</td></tr>
<tr><td><code id="stat_waterfall_+3A_...">...</code></td>
<td>
<p>more functions
</p>
<p>A waterfall plot highlights the change in the time series rather than the
value of the time series itself.</p>
</td></tr>
</table>


<h3>Aesthetics</h3>

<p>stat_waterfall needs x, y
</p>


<h3>Cosmetic Tips</h3>

<p>The minimalist look can be achieved by appending the
following chunk of code to the output object:
<code>
+
xlab(NULL) +
ylab(NULL) +
theme(
   axis.text = element_blank(),
   axis.ticks = element_blank(),
   legend.position = 'none',
   strip.background = element_blank(),
   plot.background = element_blank(),
   panel.background = element_blank(),
   panel.border = element_blank(),
   panel.grid = element_blank(),
   panel.border = element_blank()
)
</code>
</p>


<h3>Also See</h3>

<p><code><a href="#topic+ggplot_waterfall">ggplot_waterfall</a></code>, a
flexible but less polished alternative.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>{
library(ggplot2)
set.seed(1)
dfData = data.frame(x = 1:20, y = cumsum(rnorm(20)))
ggplot(dfData, aes(x =x, y = y) )+
   stat_waterfall()}
</code></pre>

<hr>
<h2 id='StatCalendarMonthBreaks'>Transforms data for the month breaks of the calendar heatmap</h2><span id='topic+StatCalendarMonthBreaks'></span>

<h3>Description</h3>

<p>Transforms data for the month breaks of the calendar heatmap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatCalendarMonthBreaks
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatCalendarMonthBreaks</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.</p>

<hr>
<h2 id='StatHorizon'>Transforms data for a horizon plot</h2><span id='topic+StatHorizon'></span>

<h3>Description</h3>

<p>Transforms data for a horizon plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatHorizon
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatHorizon</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.</p>

<hr>
<h2 id='StatMarimekko'>Transforms data for the tiles of the heatmap</h2><span id='topic+StatMarimekko'></span>

<h3>Description</h3>

<p>Transforms data for the tiles of the heatmap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatMarimekko
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatMarimekko</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.</p>

<hr>
<h2 id='StatOccurrence'>Transforms data for an occurrence plot</h2><span id='topic+StatOccurrence'></span>

<h3>Description</h3>

<p>Transforms data for an occurrence plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatOccurrence
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatOccurrence</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.</p>

<hr>
<h2 id='StatSteamgraph'>Transforms data for a steam graph</h2><span id='topic+StatSteamgraph'></span>

<h3>Description</h3>

<p>Transforms data for a steam graph
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatSteamgraph
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatSteamgraph</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 4.</p>

<hr>
<h2 id='StatWaterfall'>Transforms data for a horizon plot</h2><span id='topic+StatWaterfall'></span>

<h3>Description</h3>

<p>Transforms data for a horizon plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>StatWaterfall
</code></pre>


<h3>Format</h3>

<p>An object of class <code>StatWaterfall</code> (inherits from <code>Stat</code>, <code>ggproto</code>, <code>gg</code>) of length 3.</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

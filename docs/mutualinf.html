<!DOCTYPE html><html><head><title>Help for package mutualinf</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {mutualinf}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#DF_Seg_Chile'><p>Segregation data in southern Chile</p></a></li>
<li><a href='#DT_Seg_Chile'><p>Segregation data in southern Chile</p></a></li>
<li><a href='#DT_test'><p>Segregation data in southern Chile</p></a></li>
<li><a href='#mutual'><p>Computes and decomposes the Mutual Information index</p></a></li>
<li><a href='#mutualinf-package'>
<p>An R package to compute and decompose the Mutual Information Index (M).</p></a></li>
<li><a href='#prepare_data'><p>Prepares the data to be used by the <code>mutual</code> function</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Computation and Decomposition of the Mutual Information Index</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>The Mutual Information Index (M) introduced to social science literature by
    Theil and Finizza (1971) &lt;<a href="https://doi.org/10.1080%2F0022250X.1971.9989795">doi:10.1080/0022250X.1971.9989795</a>&gt; is a multigroup
    segregation measure that is highly decomposable and that according to Frankel
    and Volij (2011) &lt;<a href="https://doi.org/10.1016%2Fj.jet.2010.10.008">doi:10.1016/j.jet.2010.10.008</a>&gt; and Mora and Ruiz-Castillo
    (2011) &lt;<a href="https://doi.org/10.1111%2Fj.1467-9531.2011.01237.x">doi:10.1111/j.1467-9531.2011.01237.x</a>&gt; satisfies the Strong Unit
    Decomposability and Strong Group Decomposability properties. This package allows
    computing and decomposing the total index value into its "between" and
    "within" terms. These last terms can also be decomposed into their
    contributions, either by group or unit characteristics. The factors that produce
    each "within" term can also be displayed at the user's request. The results can
    be computed considering a variable or sets of variables that define separate
    clusters.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>data.table, parallel, runner, stats</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/RafaelFuentealbaC/mutualinf">https://github.com/RafaelFuentealbaC/mutualinf</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/RafaelFuentealbaC/mutualinf/issues">https://github.com/RafaelFuentealbaC/mutualinf/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'Data_Source.R' 'get_internal_data.R'
'get_general_contribution.R' 'get_contribution.R'
'get_proportion.R' 'M_within.R' 'mutual.R' 'mutual_inv.R'
'M_value.R' 'M.R' 'globals.R' 'prepare_data.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-02 16:40:45 UTC; Acer Nitro</td>
</tr>
<tr>
<td>Author:</td>
<td>Rafael Fuentealba-Chaura [aut, cre],
  Ricardo Mora [aut],
  Julio Rojas-Mora [aut],
  FONDECYT/ANID Project 11170583 [fnd],
  MCIN/AEI/10.13039/501100011033 (Project no. PID2019-108576RB-I00) [fnd],
  UCT VIP Project FEQUIP2019-INRN-03 [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Rafael Fuentealba-Chaura &lt;rafael.fuentealba97@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-02 18:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='DF_Seg_Chile'>Segregation data in southern Chile</h2><span id='topic+DF_Seg_Chile'></span>

<h3>Description</h3>

<p>The data set included in this package was build using two data sets. The first one is the student
enrollment reported by the Ministry of Education (MINEDUC, <a href="https://datosabiertos.mineduc.cl/">https://datosabiertos.mineduc.cl/</a>) for students of primary
education (first eight years of formal education) who attended establishments officially recognized by the State.
The second one is the Quality and Context of Education Questionnaire for Parents and Guardians, and the Student
Questionnaire, both applied by the Education Quality Agency (<a href="https://www.agenciaeducacion.cl/">https://www.agenciaeducacion.cl/</a>) to all students in
grades 4 and 8 of primary education. Both sources are limited to the period 2016-2018. Contains information related
to students and educational system characteristics in southern Chile (Biobio, La Araucania and Los Rios regions).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DF_Seg_Chile
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 191495 observations and 11 variables:
</p>

<dl>
<dt>year</dt><dd><p>Student enrollment year. From 2016 to 2018.</p>
</dd>
<dt>school</dt><dd><p>School ID (RBD, Rol de Base de Datos).</p>
</dd>
<dt>district</dt><dd><p>Administrative district where the school is located.</p>
</dd>
<dt>csep</dt><dd><p>Preferential Scholar Subsidy Category (from the SpanishCategoría de Sub-vención Escolar Preferencial).
Students belong to either the non-subsidized, the partially-subsidized, or the subsidized group acording to the
Act 20.248 of Preferencial Scholar Subsidy (SEP).</p>
</dd>
<dt>ethnicity</dt><dd><p>Self-reported Mapuche ethnicity. Students belong to Mapuche ethnicity or not.</p>
</dd>
<dt>rural</dt><dd><p>School with multiage classrooms. The school is located in a urban zone or not.</p>
</dd>
<dt>region</dt><dd><p>Administrative region where the school is located. Schools can belong either Biobio region,
La Araucania region or Los Rios region.</p>
</dd>
<dt>sch_type</dt><dd><p>Whether the school is public, charter, or private.</p>
</dd>
<dt>gender</dt><dd><p>Student gender code. Students can either be female or male.</p>
</dd>
<dt>grade</dt><dd><p>Student grade. Students can either belong to the 4th (4) or 8th (8) grade of basic school.</p>
</dd>
<dt>nobs</dt><dd><p>Number of students in a cell or combination of variables.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Ministry of Education (MINEDUC): <a href="https://datosabiertos.mineduc.cl/">https://datosabiertos.mineduc.cl/</a>
</p>
<p>Education Quality Agency: <a href="https://www.agenciaeducacion.cl/">https://www.agenciaeducacion.cl/</a>
</p>

<hr>
<h2 id='DT_Seg_Chile'>Segregation data in southern Chile</h2><span id='topic+DT_Seg_Chile'></span>

<h3>Description</h3>

<p>The data set included in this package was build using two data sets. The first one is the student
enrollment reported by the Ministry of Education (MINEDUC, <a href="https://datosabiertos.mineduc.cl/">https://datosabiertos.mineduc.cl/</a>) for students of primary
education (first eight years of formal education) who attended establishments officially recognized by the State.
The second one is the Quality and Context of Education Questionnaire for Parents and Guardians, and the Student
Questionnaire, both applied by the Education Quality Agency (<a href="https://www.agenciaeducacion.cl/">https://www.agenciaeducacion.cl/</a>) to all students in
grades 4 and 8 of primary education. Both sources are limited to the period 2016-2018. Contains information related
to students and educational system characteristics in southern Chile (Biobio, La Araucania and Los Rios regions).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DT_Seg_Chile
</code></pre>


<h3>Format</h3>

<p>A <code>data.table</code> with 55960 observations and 11 variables:
</p>

<dl>
<dt>year</dt><dd><p>Student enrollment year. From 2016 to 2018.</p>
</dd>
<dt>school</dt><dd><p>School ID (RBD, Rol de Base de Datos).</p>
</dd>
<dt>district</dt><dd><p>Administrative district where the school is located.</p>
</dd>
<dt>csep</dt><dd><p>Preferential Scholar Subsidy Category (from the SpanishCategoría de Sub-vención Escolar Preferencial).
Students belong to either the non-subsidized, the partially-subsidized, or the subsidized group acording to the
Act 20.248 of Preferencial Scholar Subsidy (SEP).</p>
</dd>
<dt>ethnicity</dt><dd><p>Self-reported Mapuche ethnicity. Students belong to Mapuche ethnicity or not.</p>
</dd>
<dt>rural</dt><dd><p>School with multiage classrooms. The school is located in a urban zone or not.</p>
</dd>
<dt>region</dt><dd><p>Administrative region where the school is located. Schools can belong either Biobio region,
La Araucania region or Los Rios region.</p>
</dd>
<dt>sch_type</dt><dd><p>Whether the school is public, charter, or private.</p>
</dd>
<dt>gender</dt><dd><p>Student gender code. Students can either be female or male.</p>
</dd>
<dt>grade</dt><dd><p>Student grade. Students can either belong to the 4th (4) or 8th (8) grade of basic school.</p>
</dd>
<dt>nobs</dt><dd><p>Number of students in a cell or combination of variables.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Ministry of Education (MINEDUC): <a href="https://datosabiertos.mineduc.cl/">https://datosabiertos.mineduc.cl/</a>
</p>
<p>Education Quality Agency: <a href="https://www.agenciaeducacion.cl/">https://www.agenciaeducacion.cl/</a>
</p>

<hr>
<h2 id='DT_test'>Segregation data in southern Chile</h2><span id='topic+DT_test'></span>

<h3>Description</h3>

<p>The data set included in this package was build using two data sets. The first one is the student
enrollment reported by the Ministry of Education (MINEDUC, <a href="https://datosabiertos.mineduc.cl/">https://datosabiertos.mineduc.cl/</a>) for students of primary
education (first eight years of formal education) who attended establishments officially recognized by the State.
The second one is the Quality and Context of Education Questionnaire for Parents and Guardians, and the Student
Questionnaire, both applied by the Education Quality Agency (<a href="https://www.agenciaeducacion.cl/">https://www.agenciaeducacion.cl/</a>) to all students in
grades 4 and 8 of primary education. Both sources are limited to 2018. Contains information related
to students and educational system characteristics in southern Chile (Biobio, La Araucania and Los Rios regions).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DT_test
</code></pre>


<h3>Format</h3>

<p>A <code>data.table</code> with 6703 observations and 5 variables, only for testing pourposes:
</p>

<dl>
<dt>school</dt><dd><p>School ID (RBD, Rol de Base de Datos).</p>
</dd>
<dt>csep</dt><dd><p>Preferential Scholar Subsidy Category (from the SpanishCategoría de Sub-vención Escolar Preferencial).
Students belong to either the non-subsidized, the partially-subsidized, or the subsidized group acording to the
Act 20.248 of Preferencial Scholar Subsidy (SEP).</p>
</dd>
<dt>ethnicity</dt><dd><p>Self-reported Mapuche ethnicity. Students belong to Mapuche ethnicity or not.</p>
</dd>
<dt>region</dt><dd><p>Administrative region where the school is located. Schools can belong either Biobio region,
La Araucania region or Los Rios region.</p>
</dd>
<dt>fw</dt><dd><p>Number of students in a cell or combination of variables.</p>
</dd>
</dl>



<h3>Source</h3>

<p>Ministry of Education (MINEDUC): <a href="https://datosabiertos.mineduc.cl/">https://datosabiertos.mineduc.cl/</a>
</p>
<p>Education Quality Agency: <a href="https://www.agenciaeducacion.cl/">https://www.agenciaeducacion.cl/</a>
</p>

<hr>
<h2 id='mutual'>Computes and decomposes the Mutual Information index</h2><span id='topic+mutual'></span>

<h3>Description</h3>

<p>Computes and decomposes the Mutual Information index into &quot;between&quot; and &quot;within&quot; terms. The
&quot;within&quot; terms can also be decomposed into &quot;exclusive contributions&quot; of segregation sources defined either by group
or unit characteristics. The mathematical components required to compute each &quot;within&quot; term can also be displayed at
the user's request. The results can be computed over subsamples defined by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mutual(
  data,
  group,
  unit,
  within = NULL,
  by = NULL,
  contribution.from = NULL,
  components = FALSE,
  cores = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mutual_+3A_data">data</code></td>
<td>
<p>An object from the &quot;data.table&quot; and &quot;mutual.data&quot; classes.</p>
</td></tr>
<tr><td><code id="mutual_+3A_group">group</code></td>
<td>
<p>A categorical variable name or vector of categorical variables names contained in <code>data</code>, or also,
a column number or vector of column numbers of <code>data</code>. Defines the first dimension over which segregation is
computed.</p>
</td></tr>
<tr><td><code id="mutual_+3A_unit">unit</code></td>
<td>
<p>A categorical variable name or vector of categorical variables names contained in <code>data</code>, or also,
a column number or vector of column numbers of <code>data</code>. Defines the second dimension over which segregation is
computed.</p>
</td></tr>
<tr><td><code id="mutual_+3A_within">within</code></td>
<td>
<p>A categorical variable name or vector of categorical variables names contained in <code>data</code>, or also,
a column number or vector of column numbers of <code>data</code>. Defines the partitions to compute the between and within
decompositions. By default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="mutual_+3A_by">by</code></td>
<td>
<p>A categorical variable name or vector of categorical variables names contained in <code>data</code>, or also,
a column number or vector of column numbers of <code>data</code>. Defines the subsamples over which indexes are computed.
By default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="mutual_+3A_contribution.from">contribution.from</code></td>
<td>
<p>A variable of character type that can be 'group_vars' or 'unit_vars', or also, a categorical
variable name or vector of categorical variables names contained in the <code>group</code> parameter or <code>unit</code>
parameter, or also, a column number or vector of column numbers in the <code>group</code> parameter or the <code>unit</code>
parameter. Defines the segregation sources whose exclusive contributions to the &quot;within&quot; terms and the overall index
are computed. By default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="mutual_+3A_components">components</code></td>
<td>
<p>A boolean value. If TRUE and the <code>within</code> option is not <code>NULL</code> and the <code>by</code> option is <code>NULL</code>,
then it returns a list where the first element is a <code>data.table</code> that contains a summary of the index total value and
its decompositions, while the second element is a <code>data.table</code> with more detailed information of the decomposition of the
&quot;within&quot; term (the mathematical components required to compute the within terms). If the <code>within</code> and <code>by</code>
options are not <code>NULL</code>, then the function returns a list of lists where each first element is a <code>data.table</code> that contains
the summary of the index total value and decompositions in a given subsample, while each second element is a <code>data.table</code>
with more detailed information of the decomposition of the within term displayed in each first element in the same
subsample. By default is FALSE.</p>
</td></tr>
<tr><td><code id="mutual_+3A_cores">cores</code></td>
<td>
<p>A positive integer. Defines the amount of CPU cores to use in parallelization tasks. If <code>NULL</code>, then the
computation is carried out in only one core. This option is available to Mac, Linux, Unix, and BSD systems
but is not available to Windows sytems. By default is <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Mixing <code>group</code> variables with <code>unit</code> variables in <code>contribution.from</code> will produce an error.
</p>


<h3>Value</h3>

<p>A <code>data.table</code> if the <code>components</code> option is <code>FALSE</code>; a list if the <code>components</code> option is <code>TRUE</code>,
the <code>within</code> option is not <code>NULL</code> and the <code>by</code> option is <code>NULL</code>; or a list of lists if the <code>components</code>
option is <code>TRUE</code>, and both <code>within</code> and <code>by</code> options are not <code>NULL</code>.
</p>


<h3>References</h3>

<p>Frankel, D. and Volij, O. (2011). Measuring school segregation. <em>Journal of Economic Theory, 146</em>(1):1-38.
<a href="https://doi.org/10.1016/j.jet.2010.10.008">doi:10.1016/j.jet.2010.10.008</a>.
</p>
<p>Guinea-Martin, D., Mora, R., &amp; Ruiz-Castillo, J. (2018). The evolution of gender segregation over the life course.
<em>American Sociological Review, 83</em>(5), 983-1019. <a href="https://doi.org/10.1177/0003122418794503">doi:10.1177/0003122418794503</a>.
</p>
<p>Mora, R. and Guinea-Martin, D. (2021). Computing decomposable multigroup indexes of segregation. <em>UC3M Working
papers, Economics 31803</em>. Universidad Carlos III de Madrid. Departamento de Economía.
</p>
<p>Mora, R. and Ruiz-Castillo, J. (2011). Entropy-based segregation indices. <em>Sociological Methodology, 41</em>(1):159-194.
<a href="https://doi.org/10.1111/j.1467-9531.2011.01237.x">doi:10.1111/j.1467-9531.2011.01237.x</a>.
</p>
<p>Theil, H. and Finizza, A. J. (1971). A note on the measurement of racial integration of schools by means of
informational concepts. <em>The Journal of Mathematical Sociology, 1</em>(2):187-193. <a href="https://doi.org/10.1080/0022250X.1971.9989795">doi:10.1080/0022250X.1971.9989795</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># To compute the overall measure of school segregation by socioeconomic and ethnic status.
mutual(data = DT_test, group = c("csep", "ethnicity"), unit = "school")

# Computation of the exclusive effect of specific segregation sources on the overall measure, e.g.,
# socioeconomic and ethnic contributions, and the contribution that cannot be attributed to any of
# them (the "interaction" term).
mutual(data = DT_test, group = c("csep", "ethnicity"), unit = "school", by = "region",
contribution.from = "group_vars")

# For more information on the package, refer to the manual and the README file.

</code></pre>

<hr>
<h2 id='mutualinf-package'>
An R package to compute and decompose the Mutual Information Index (M).
</h2><span id='topic+mutualinf-package'></span>

<h3>Description</h3>

<p>The Mutual Information Index (M) introduced to the social sciences by Theil and Finizza (1971). The M index is a multigroup segregation measure that is highly decomposable, satisfiying both the Strong Unit Decomposability (SUD) and the Strong Group Decomposability (SGD) properties (Frankel and Volij, 2011; Mora and Ruiz-Castillo, 2011).
</p>
<p>The package allows for:
</p>

<ul>
<li><p> The computation of the M index, either overall or over subsamples defined by the user.
</p>
</li>
<li><p> The decomposition of the M index into a &quot;between&quot; and a &quot;within&quot; term.
</p>
</li>
<li><p> The identification of the &quot;exclusive contributions&quot; of segregation sources defined either by group or unit characteristics.
</p>
</li>
<li><p> The computation of all the elements that conform the &quot;within&quot; term in the decomposition.
</p>
</li>
<li><p> Fast computation employing more than one CPU core in Mac, Linux, Unix, and BSD systems. This option uses the data.table and parallel libraries (which Windows does not permit to run with more than one CPU core).
</p>
</li></ul>



<h3>Author(s)</h3>

<p> Rafael Fuentealba-Chaura <a href="mailto:rafael.fuentealba97@gmail.com">rafael.fuentealba97@gmail.com</a><br />
Ricardo Mora <a href="mailto:ricmora@eco.uc3m.es">ricmora@eco.uc3m.es</a><br />
Julio Rojas-Mora <a href="mailto:julio.rojas@uct.cl">julio.rojas@uct.cl</a><br />
</p>


<h3>References</h3>

<p>Frankel, D. and Volij, O. (2011). Measuring school segregation. <em>Journal of Economic Theory, 146</em>(1):1-38. <a href="https://doi.org/10.1016/j.jet.2010.10.008">doi:10.1016/j.jet.2010.10.008</a>.<br />
</p>
<p>Guinea-Martin, D., Mora, R., &amp; Ruiz-Castillo, J. (2018). The evolution of gender segregation over the life course. <em>American Sociological Review, 83</em>(5), 983-1019. <a href="https://doi.org/10.1177/0003122418794503">doi:10.1177/0003122418794503</a>.<br />
</p>
<p>Mora, R. and Guinea-Martin, D. (2021). Computing decomposable multigroup indexes of segregation. <em>UC3M Working papers, Economics 31803</em>, Universidad Carlos III de Madrid. Departamento de Economía.<br />
</p>
<p>Mora, R. and Ruiz-Castillo, J. (2011). Entropy-based segregation indices. <em>Sociological Methodology, 41</em>(1):159-194. <a href="https://doi.org/10.1111/j.1467-9531.2011.01237.x">doi:10.1111/j.1467-9531.2011.01237.x</a>.<br />
</p>
<p>Theil, H. and Finizza, A. J. (1971). A note on the measurement of racial integration of schools by means of informational concepts. <em>The Journal of Mathematical Sociology, 1</em>(2):187-193. <a href="https://doi.org/10.1080/0022250X.1971.9989795">doi:10.1080/0022250X.1971.9989795</a>.
</p>

<hr>
<h2 id='prepare_data'>Prepares the data to be used by the <code>mutual</code> function</h2><span id='topic+prepare_data'></span>

<h3>Description</h3>

<p>Receives the data that is later used in the <code>mutual</code> function.
Generates a <code>data.table</code> with the entry variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prepare_data(data, vars, fw = NULL, col.order = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prepare_data_+3A_data">data</code></td>
<td>
<p>A tabular format object (<code>data.frame</code>, <code>data.table</code>, <code>tibble</code>). The data
expected is microdata or frequency weight data for each combination of variables. The variables must be
of &quot;factor&quot; class.</p>
</td></tr>
<tr><td><code id="prepare_data_+3A_vars">vars</code></td>
<td>
<p>A vector of variable names or vector of columns numbers contained in <code>data</code>. Also can be
used &quot;all_vars&quot; to select all variables contained in <code>data</code>.</p>
</td></tr>
<tr><td><code id="prepare_data_+3A_fw">fw</code></td>
<td>
<p>Variable name or column number contained in <code>data</code> that contains frecuency weight for
each combination of variables of the dataset. If this variable exists then the function will change its
original name to <code>fw</code>. If this variable does not exist or is <code>NULL</code>, then the function will compute the
frecuency weight given the combination of variables of <code>vars</code> and will create a new variable called
<code>fw</code>. By default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="prepare_data_+3A_col.order">col.order</code></td>
<td>
<p>A variable name or vector of variables names contained in <code>vars</code>, or a column
number or vector of column numbers contained in <code>vars</code>. Selects the columns to sort the dataset. By
default is <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>data.table</code> of class &quot;data.table&quot; &quot;data.frame&quot; &quot;mutual.data&quot;.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Using some variable names in 'data' with explicit 'fw'.
my_data &lt;- prepare_data(data = DF_Seg_Chile, vars = c("csep", "ethnicity", "school", "district"),
fw = "nobs")

# Using some column numbers in 'data' and explicit 'fw' as another column number.
my_data &lt;- prepare_data(data = DF_Seg_Chile, vars = c(4, 5, 2, 3), fw = 11)

# Using all variables of 'data' with explicit 'fw'.
my_data &lt;- prepare_data(data = DF_Seg_Chile, vars = "all_vars", fw = "nobs")

# Using some variable names in 'data' and 'fw' does not exist (in this case, the new 'fw' will
# be equal to 1 for all variable combinations as 'data' already has a frequency weights variable)
my_data &lt;- prepare_data(data = DF_Seg_Chile, vars = c("csep", "ethnicity", "school", "district"))

# Using the 'col.order' option to sort data according to the 'csep' column.
my_data &lt;- prepare_data(data = DF_Seg_Chile, vars = c("csep", "ethnicity", "school", "district"),
fw = "nobs", col.order = "csep")

# The class of the resulting object in all cases must be "data.table", "data.frame" and
# "mutual.data".
class(my_data)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

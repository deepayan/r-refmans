<!DOCTYPE html><html><head><title>Help for package PortRisk</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PortRisk}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PortRisk-package'>
<p>Portfolio Risk Analysis</p></a></li>
<li><a href='#access'><p>Access Daily Stock Returns by Dates</p></a></li>
<li><a href='#portvol, mctr, cctr'><p>Portfolio Volatility and Contribution to Total Volatility Risk (MCTR &amp; CCTR)</p></a></li>
<li><a href='#portvol.Bayes, mctr.Bayes, cctr.Bayes'><p>Portfolio Volatility and Contribution to Total Volatility Risk (MCTR &amp; CCTR): Bayesian Approach</p></a></li>
<li><a href='#risk.attrib.Copula'><p>Risk Attribution of a Portfolio with t-Copula</p></a></li>
<li><a href='#risk.attribution'><p>Risk Attribution of a Portfolio</p></a></li>
<li><a href='#SnP500List'><p>List of S&amp;P500 Stocks in 2013</p></a></li>
<li><a href='#SnP500Returns'><p>Daily Returns of S&amp;P500 Stocks in 2013</p></a></li>
<li><a href='#volatility'><p>Individual Volatility of Stock(s)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Portfolio Risk Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2015-10-31</td>
</tr>
<tr>
<td>Description:</td>
<td>Risk Attribution of a portfolio with Volatility Risk Analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>zoo, MCMCpack, tseries, copula, MASS</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2015-11-01 10:20:49 UTC; tamal.panja</td>
</tr>
<tr>
<td>Author:</td>
<td>Sourish Das [aut, cre],
  Tamal Kanti Panja [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sourish Das &lt;sourish.das@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2015-11-01 18:17:27</td>
</tr>
</table>
<hr>
<h2 id='PortRisk-package'>
Portfolio Risk Analysis
</h2><span id='topic+PortRisk-package'></span><span id='topic+PortRisk'></span>

<h3>Description</h3>

<p>Risk Attribution of a portfolio with Volatility Risk Analysis.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> PortRisk</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.1.0</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2015-10-31</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2 | GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 3.0.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> <code>zoo</code>, <code>tseries</code>, <code>MCMCpack</code>, <code>copula</code>, <code>MASS</code>
</td>
</tr>

</table>

<p>This package includes functions to compute the volatility risk attributes such as Volatility, Portfolio Volatility, MCTR, CCTR etc.
</p>


<h3>Author(s)</h3>

<p>Sourish Das [aut, cre], Tamal Kanti Panja [aut].
</p>
<p>Maintainer: Sourish Das &lt;sourish.das@gmail.com&gt;
</p>

<hr>
<h2 id='access'>Access Daily Stock Returns by Dates</h2><span id='topic+access'></span>

<h3>Description</h3>

<p>Access data from a <code>zoo</code> type daily returns table and returns as a <code>zoo</code> object. Basically, it returns a table of daily returns of a given list of company ticker names for a time period given as the input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>access(tickers, start, end, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="access_+3A_tickers">tickers</code></td>
<td>

<p>A character vector of ticker names of companies in the portfolio.
</p>
</td></tr>
<tr><td><code id="access_+3A_start">start</code></td>
<td>

<p>Start date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="access_+3A_end">end</code></td>
<td>

<p>End date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="access_+3A_data">data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>zoo</code> series as a table of daily returns corresponding to the company ticker names in <code>tickers</code> for the given time period. Basically, it picks up a block from a large table of daily returns of the stocks corresponding to the dates.
</p>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+zoo">zoo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SnP500Returns)

# list all the ticker names in a character vector
tckk &lt;- colnames(SnP500Returns)

# access the data corresponding to the first 3 ticker names
# for the time period January 1, 2013 - January 10, 2013
access(tickers = tckk[1:3],
        start = "2013-01-01",
        end = "2013-01-10",
        data = SnP500Returns)
</code></pre>

<hr>
<h2 id='portvol+2C+20mctr+2C+20cctr'>Portfolio Volatility and Contribution to Total Volatility Risk (MCTR &amp; CCTR)</h2><span id='topic+portvol'></span><span id='topic+mctr'></span><span id='topic+cctr'></span>

<h3>Description</h3>

<p><code>portvol</code> computes portfolio volatility of a given portfolio for specific weight and time period. <code>mctr</code> &amp; <code>cctr</code> computes the Marginal Contribution to Total Risk (MCTR) &amp; Conditional Contribution to Total Risk (CCTR) for the given portfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>portvol(tickers, weights = rep(1,length(tickers)),
        start, end, data)

mctr(tickers, weights = rep(1,length(tickers)),
        start, end, data)

cctr(tickers, weights = rep(1,length(tickers)),
        start, end, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="portvol+2B2C+2B20mctr+2B2C+2B20cctr_+3A_tickers">tickers</code></td>
<td>

<p>A character vector of ticker names of companies in the portfolio.
</p>
</td></tr>
<tr><td><code id="portvol+2B2C+2B20mctr+2B2C+2B20cctr_+3A_weights">weights</code></td>
<td>

<p>A numeric vector of weights assigned to the stocks corresponding to the ticker names in <code>tickers</code>. The sum of the weights need not to be 1 or 100 (in percentage). By default, equal weights to all the stocks are assigned (i.e., by <code>rep(1, length(tickers))</code>).
</p>
</td></tr>
<tr><td><code id="portvol+2B2C+2B20mctr+2B2C+2B20cctr_+3A_start">start</code></td>
<td>

<p>Start date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="portvol+2B2C+2B20mctr+2B2C+2B20cctr_+3A_end">end</code></td>
<td>

<p>End date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="portvol+2B2C+2B20mctr+2B2C+2B20cctr_+3A_data">data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As any portfolio can be considered as bag of <code class="reqn">p</code>-many risky assets, it is important to figureout how these assets contributes to total volatility risk of the portfolio. We consider an investment period and suppose <code class="reqn">r_j</code> denote return to source <code class="reqn">j</code> for the same period, where <code class="reqn">j = 1, 2,\ldots, p</code>. The portfolio return over the period is
</p>
<p style="text-align: center;"><code class="reqn">R_p = \sum_{j=1}^{p} w_j r_j</code>
</p>

<p>where <code class="reqn">w_j</code> is the portfolio exposure to the asset <code class="reqn">j</code>, i.e., portfolio weight, such that <code class="reqn">w_j \ge 0</code> and <code class="reqn">\sum_{j=1}^{p} w_j = 1</code>. Portfolio manager determines the size of <code class="reqn">w_j</code> at the beginning of the investment period. Portfolio volatility is defined as 
</p>
<p style="text-align: center;"><code class="reqn">\sigma = \sqrt{w^T \Sigma w}</code>
</p>

<p>where <code class="reqn">w = (w_1, w_2,\ldots, w_p)</code> and <code class="reqn">\Sigma</code> being the variance-covariance matrix of the assets in the portfolio. The weights (<code class="reqn">w_j</code>) are the main switches of portfolio's total volatility. Therefore, it is important for a manager to quantify, the sensitivity of the portfolio's volatility with respect to small change in <code class="reqn">w</code>. This can be achieved by differentiating the portfolio volatility with respect to <code class="reqn">w</code>,
</p>
<p style="text-align: center;"><code class="reqn">\frac{\partial \sigma}{\partial w} = \frac{1}{\sigma} \Sigma w = \rho</code>
</p>

<p>where <code class="reqn">\rho = (\rho_1, \rho_2,\ldots, \rho_p)</code> is know as 'Marginal Contribution to Total Risk' (MCTR). Note that MCTR of asset <code class="reqn">i</code> is
</p>
<p style="text-align: center;"><code class="reqn">\rho_i = \frac{1}{\sigma} \sum_{j=1}^{p} \sigma_{ij} w_j.</code>
</p>

<p>The CCTR (aka. Conditional Contribution to Total Risk) is the amount that an asset add to total portfolio volatility. In other words, <code class="reqn">\xi_i = w_i \rho_i</code> is the CCTR of asset <code class="reqn">i</code>, i.e.,
</p>
<p style="text-align: center;"><code class="reqn">\sigma = \sum_{i=1}^{p} w_i \rho_i.</code>
</p>

<p>Therefore portfolio volatility can be viewed as weighted average of MCTR.
</p>


<h3>Value</h3>

<table>
<tr><td><code>portvol</code></td>
<td>
<p>A numeric value. Volatility of a given portfolio in percentage.</p>
</td></tr>
<tr><td><code>mctr</code></td>
<td>
<p>A named numeric vector of Marginal Contribution to Total Risk (MCTR) in percentage with names being the ticker names.</p>
</td></tr>
<tr><td><code>cctr</code></td>
<td>
<p>A named numeric vector of Conditional Contribution to Total Risk (CCTR) in percentage with names being the ticker names.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+zoo">zoo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SnP500Returns)

# consider the portfolio containing the first 4 stocks
pf &lt;- colnames(SnP500Returns)[1:4]

st &lt;- "2013-01-01" # start date
en &lt;- "2013-01-31" # end date

# suppose the amount of investments in the above stocks are
# $1,000, $2,000, $3,000 &amp; $1,000 respectively
wt &lt;- c(1000,2000,3000,1000) # weights

# portfolio volatility for the portfolio 'pf' with equal (default) weights
pv1 &lt;- portvol(pf, start = st, end = en,
                data = SnP500Returns)

# portfolio volatility for the portfolio 'pf' with weights as 'wt'
pv2 &lt;- portvol(pf, weights = wt, start = st, end = en,
                data = SnP500Returns)

# similarly,
# mctr for the portfolio 'pf' with weights as 'wt'
mc &lt;- mctr(pf, weights = wt, start = st, end = en,
            data = SnP500Returns)

# cctr for the portfolio 'pf' with weights as 'wt'
cc &lt;- cctr(pf, weights = wt, start = st, end = en,
            data = SnP500Returns)

sum(cc) == pv2
# note that, sum of the cctr values is the portfolio volatility
</code></pre>

<hr>
<h2 id='portvol.Bayes+2C+20mctr.Bayes+2C+20cctr.Bayes'>Portfolio Volatility and Contribution to Total Volatility Risk (MCTR &amp; CCTR): Bayesian Approach</h2><span id='topic+portvol.Bayes'></span><span id='topic+mctr.Bayes'></span><span id='topic+cctr.Bayes'></span>

<h3>Description</h3>

<p><code>portvol.Bayes</code> computes portfolio volatility of a given portfolio for specific weight and time period. <code>mctr.Bayes</code> &amp; <code>cctr.Bayes</code> computes the Marginal Contribution to Total Risk (MCTR) &amp; Conditional Contribution to Total Risk (CCTR) for the given portfolio.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>portvol.Bayes(tickers, weights = rep(1,length(tickers)),
              start, end, data, sim.size = 1000)

mctr.Bayes(tickers, weights = rep(1,length(tickers)),
              start, end, data, sim.size = 1000)

cctr.Bayes(tickers, weights = rep(1,length(tickers)),
              start, end, data, sim.size = 1000)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="portvol.Bayes+2B2C+2B20mctr.Bayes+2B2C+2B20cctr.Bayes_+3A_tickers">tickers</code></td>
<td>

<p>A character vector of ticker names of companies in the portfolio.
</p>
</td></tr>
<tr><td><code id="portvol.Bayes+2B2C+2B20mctr.Bayes+2B2C+2B20cctr.Bayes_+3A_weights">weights</code></td>
<td>

<p>A numeric vector of weights assigned to the stocks corresponding to the ticker names in <code>tickers</code>. The sum of the weights need not to be 1 or 100 (in percentage). By default, equal weights to all the stocks are assigned (i.e., by <code>rep(1, length(tickers))</code>).
</p>
</td></tr>
<tr><td><code id="portvol.Bayes+2B2C+2B20mctr.Bayes+2B2C+2B20cctr.Bayes_+3A_start">start</code></td>
<td>

<p>Start date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="portvol.Bayes+2B2C+2B20mctr.Bayes+2B2C+2B20cctr.Bayes_+3A_end">end</code></td>
<td>

<p>End date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="portvol.Bayes+2B2C+2B20mctr.Bayes+2B2C+2B20cctr.Bayes_+3A_data">data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td></tr>
<tr><td><code id="portvol.Bayes+2B2C+2B20mctr.Bayes+2B2C+2B20cctr.Bayes_+3A_sim.size">sim.size</code></td>
<td>

<p>Simulation size, default 1000.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>As any portfolio can be considered as bag of <code class="reqn">p</code>-many risky assets, it is important to figureout how these assets contributes to total volatility risk of the portfolio. We consider an investment period and suppose <code class="reqn">r_j</code> denote return to source <code class="reqn">j</code> for the same period, where <code class="reqn">j = 1, 2,\ldots, p</code>. The portfolio return over the period is
</p>
<p style="text-align: center;"><code class="reqn">R_p = \sum_{j=1}^{p} w_j r_j</code>
</p>

<p>where <code class="reqn">w_j</code> is the portfolio exposure to the asset <code class="reqn">j</code>, i.e., portfolio weight, such that <code class="reqn">w_j \ge 0</code> and <code class="reqn">\sum_{j=1}^{p} w_j = 1</code>. Portfolio manager determines the size of <code class="reqn">w_j</code> at the beginning of the investment period. Portfolio volatility is defined as 
</p>
<p style="text-align: center;"><code class="reqn">\sigma = \sqrt{w^T \Sigma w}</code>
</p>

<p>where <code class="reqn">w = (w_1, w_2,\ldots, w_p)</code> and <code class="reqn">\Sigma</code> being the variance-covariance matrix of the assets in the portfolio.
<code class="reqn">S</code> is the sample portfolio-covariance matrix. If </p>
<p style="text-align: center;"><code class="reqn">S \sim Wishart(n-1,\Sigma)</code>
</p>
<p> and prior distribution on <code class="reqn">\Sigma</code> is </p>
<p style="text-align: center;"><code class="reqn">\Sigma \sim Inv-Wishart(n_0,\Psi)</code>
</p>

<p>Then posterior distribution is </p>
<p style="text-align: center;"><code class="reqn">\Sigma | S \sim Inv-Wishart(n_0+n-1,\Psi+S)</code>
</p>

<p>For more detail, see <code><a href="#topic+portvol">portvol</a></code>, <code><a href="#topic+mctr">mctr</a></code>, <code><a href="#topic+cctr">cctr</a></code>
</p>


<h3>Value</h3>

<table>
<tr><td><code>portvol</code></td>
<td>
<p>A numeric value. Volatility of a given portfolio in percentage.</p>
</td></tr>
<tr><td><code>mctr</code></td>
<td>
<p>A named numeric vector of Marginal Contribution to Total Risk (MCTR) in percentage with names being the ticker names.</p>
</td></tr>
<tr><td><code>cctr</code></td>
<td>
<p>A named numeric vector of Conditional Contribution to Total Risk (CCTR) in percentage with names being the ticker names.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+zoo">zoo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SnP500Returns)

# consider the portfolio containing the first 4 stocks
pf &lt;- colnames(SnP500Returns)[1:4]

st &lt;- "2013-01-01" # start date
en &lt;- "2013-01-31" # end date

# suppose the amount of investments in the above stocks are
# $1,000, $2,000, $3,000 &amp; $1,000 respectively
wt &lt;- c(1000,2000,3000,1000) # weights

# portfolio volatility for the portfolio 'pf' with equal (default) weights
pv1 &lt;- portvol(pf, start = st, end = en,
                data = SnP500Returns)

# portfolio volatility for the portfolio 'pf' with weights as 'wt'
pv2 &lt;- portvol(pf, weights = wt, start = st, end = en,
                data = SnP500Returns)

# similarly,
# mctr for the portfolio 'pf' with weights as 'wt'
mc &lt;- mctr(pf, weights = wt, start = st, end = en,
            data = SnP500Returns)

# cctr for the portfolio 'pf' with weights as 'wt'
cc &lt;- cctr(pf, weights = wt, start = st, end = en,
            data = SnP500Returns)

sum(cc) == pv2
# note that, sum of the cctr values is the portfolio volatility
</code></pre>

<hr>
<h2 id='risk.attrib.Copula'>Risk Attribution of a Portfolio with t-Copula</h2><span id='topic+risk.attrib.Copula'></span>

<h3>Description</h3>

<p>Combined representation of the risk attributes MCTR, CCTR, Portfolio Volatility, Portfolio Value at Risk (VaR) and individual Volatility of the stocks in a given portfolio for a Markowitz's Optimized weights using t-Copula.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>risk.attrib.Copula(tickers, data, start, end, sim.size=1000, df=10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="risk.attrib.Copula_+3A_tickers">tickers</code></td>
<td>

<p>A character vector of ticker names of companies in the portfolio.
</p>
</td></tr>
<tr><td><code id="risk.attrib.Copula_+3A_data">data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td></tr>
<tr><td><code id="risk.attrib.Copula_+3A_start">start</code></td>
<td>

<p>Start date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="risk.attrib.Copula_+3A_end">end</code></td>
<td>

<p>End date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr> 
<tr><td><code id="risk.attrib.Copula_+3A_sim.size">sim.size</code></td>
<td>

<p>Simulation size. Default at 1000.
</p>
</td></tr>
<tr><td><code id="risk.attrib.Copula_+3A_df">df</code></td>
<td>

<p>Degrees of freedom for t-Copula. Default set at 10.  
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It calculate portfolio Value at Risk after fitting t-Copula with empirical distribution on marginals. It simulate returns from the fitted t-Copula and uses Markowitz's Optimized weight.
</p>


<h3>Value</h3>

<p>Returns a list of following objects:
</p>
<table>
<tr><td><code>Volatility</code></td>
<td>
<p>Data frame caontaining Markowitz's optimized weights, individual stock's volatility, MCTR, CCTR for the given tickers.
</p>
</td></tr>
<tr><td><code>Portfolio Volatility</code></td>
<td>
<p>Portfolio Volatility</p>
</td></tr>
<tr><td><code>Portfilio VaR</code></td>
<td>
<p>Portfolio Value at Risk</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+volatility">volatility</a></code>, 
<code><a href="#topic+portvol">portvol</a></code>, 
<code><a href="#topic+mctr">mctr</a></code>, 
<code><a href="#topic+cctr">cctr</a></code>, 
<code><a href="zoo.html#topic+zoo">zoo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load the data 'SnP500Returns'
data(SnP500Returns)

# consider the portfolio containing the stocks of the companies
# Apple, IBM, Intel, Microsoft
pf &lt;- c("AAPL","IBM","INTC","MSFT")

# risk attribution for the portfolio 'pf' 
# for the time period January 1, 2013 - January 10, 2013
st&lt;-"2013-01-01"
ed&lt;-"2013-10-10"
risk.attrib.Copula(tickers = pf, data = SnP500Returns,
                    start = st, end = ed,
                    sim.size=1000, df=10)
</code></pre>

<hr>
<h2 id='risk.attribution'>Risk Attribution of a Portfolio</h2><span id='topic+risk.attribution'></span>

<h3>Description</h3>

<p>Combined representation of the risk attributes MCTR, CCTR, CCTR percentage, Portfolio Volatility and individual Volatility of the stocks in a given portfolio for a given weight and time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>risk.attribution(tickers, weights = rep(1,length(tickers)),
                  start, end, data, CompanyList = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="risk.attribution_+3A_tickers">tickers</code></td>
<td>

<p>A character vector of ticker names of companies in the portfolio.
</p>
</td></tr>
<tr><td><code id="risk.attribution_+3A_weights">weights</code></td>
<td>

<p>A numeric vector of weights assigned to the stocks corresponding to the ticker names in <code>tickers</code>. The sum of the weights need not to be 1 or 100 (in percentage). By default, equal weights to all the stocks are assigned (i.e., by <code>rep(1, length(tickers))</code>).
</p>
</td></tr>
<tr><td><code id="risk.attribution_+3A_start">start</code></td>
<td>

<p>Start date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="risk.attribution_+3A_end">end</code></td>
<td>

<p>End date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="risk.attribution_+3A_data">data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td></tr>
<tr><td><code id="risk.attribution_+3A_companylist">CompanyList</code></td>
<td>

<p>A dataframe containing all the Company names corresponding to the ticker names as its <code>rownames</code>. The input for this argument is optional.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details of the risk attributes refer to the corresponding functions. See <code><a href="#topic+volatility">volatility</a></code> for individual volatility of the stocks and <code><a href="#topic+portvol">portvol</a></code> for portfolio volatility, MCTR &amp; CCTR.
CCTR percentage for a stock in the portfolio is defined as the percentage of the portfolio volatility contributed by that stock for the given weight. i.e.,
</p>
<p style="text-align: center;"><code class="reqn">CCTR(\%) = \frac{CCTR}{\sigma}*100</code>
</p>
<p> where <code class="reqn">\sigma</code> is the portfolio volatility.
</p>


<h3>Value</h3>

<p>Returns a dataframe with <code>rownames</code> as the ticker names as given in the input <code>tickers</code> with the last row corresponding to the portfolio values. The result contains the following columns:
</p>
<table>
<tr><td><code>Company Name</code></td>
<td>
<p>Optional. Available only if the dataframe with the company names corresponding to the ticker names as <code>rownames</code> is supplied as input in <code>risk.attribution</code> for the argument <code>CompanyList</code>.</p>
</td></tr>
<tr><td><code>Weight</code></td>
<td>
<p>Standardized value of the weights assigned to the stocks in the portfolio. Value of this column corresponding to portfolio is the sum of the weights (i.e. 1).</p>
</td></tr>
<tr><td><code>MCTR</code></td>
<td>
<p>Marginal Contribution to Total Risk (MCTR) in percentage. MCTR corresponding to the portfolio will be shown as <code>NA</code>, since it is meaningless.</p>
</td></tr>
<tr><td><code>CCTR</code></td>
<td>
<p>Conditional Contribution to Total Risk (CCTR) in percentage. CCTR corresponding to the portfolio is the sum of the CCTR values, which is the portfolio volatility.</p>
</td></tr>
<tr><td><code>CCTR(%)</code></td>
<td>
<p>Percentage of the portfolio volatility contributed by the stock for the given weight. Clearly, CCTR percentage corresponding to the portfolio is 100.</p>
</td></tr>
<tr><td><code>Volatility</code></td>
<td>
<p>Individual volatility of the stocks in percentage. Note that, the value of this column corresponding to the portfolio is not the sum of this column. It is the portfolio volatility.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>In the result or output (see example), both the values of the last row (Portfolio) corresponding to the columns CCTR and Volatility are same (Portfolio Volatility). It should also be noted that, Portfolio Volatility is the sum of CCTR values corresponding to all the stocks but not the sum of individual Volatility of the stocks.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+volatility">volatility</a></code>, 
<code><a href="#topic+portvol">portvol</a></code>, 
<code><a href="#topic+mctr">mctr</a></code>, 
<code><a href="#topic+cctr">cctr</a></code>, 
<code><a href="zoo.html#topic+zoo">zoo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># load the data 'SnP500Returns'
data(SnP500Returns)

# consider the portfolio containing the stocks of the companies
# Apple, IBM, Intel, Microsoft
pf &lt;- c("AAPL","IBM","INTC","MSFT")

# suppose the amount of investments in the above stocks are
# $10,000, $40,000, $20,000 &amp; $30,000 respectively
wt &lt;- c(10000,40000,20000,30000) # weights

# risk attribution for the portfolio 'pf' with weights 'wt'
# for the time period January 1, 2013 - January 31, 2013
risk.attribution(tickers = pf, weights = wt,
                  start = "2013-01-01", end = "2013-01-31",
                  data = SnP500Returns)

# to attach the company names corresponding to the ticker names
# load the dataset containing the company names
data(SnP500List)
risk.attribution(tickers = pf, weights = wt,
                  start = "2013-01-01", end = "2013-01-31",
                  data = SnP500Returns, CompanyList = SnP500List)
</code></pre>

<hr>
<h2 id='SnP500List'>List of S&amp;P500 Stocks in 2013</h2><span id='topic+SnP500List'></span>

<h3>Description</h3>

<p>List of company names corresponding to the ticker names of the stocks listed in S&amp;P500 List in the year 2013.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(SnP500List)</code></pre>


<h3>Format</h3>

<p>A data frame with 500 observations on the following variable.
</p>

<dl>
<dt><code>Company</code></dt><dd><p>Names of companies as character string corresponding to their ticker names as rowname.</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data(SnP500List)
head(SnP500List)
</code></pre>

<hr>
<h2 id='SnP500Returns'>Daily Returns of S&amp;P500 Stocks in 2013</h2><span id='topic+SnP500Returns'></span>

<h3>Description</h3>

<p>Daily log returns corresponding to the ticker names of the stocks of the companies listed in S&amp;P500 List in the year 2013.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(SnP500Returns)</code></pre>


<h3>Format</h3>

<p>The format is <code><a href="zoo.html#topic+zoo">zoo</a></code> series from 2013-01-02 to 2013-12-31.
<code>rownames</code> are the dates in the format &quot;yyyy-mm-dd&quot; and <code>colnames</code> are the ticker names of the stocks.
</p>


<h3>Source</h3>

<p>Yahoo Finance &lt;<a href="http://finance.yahoo.com">http://finance.yahoo.com</a>&gt;</p>


<h3>See Also</h3>

<p><code><a href="#topic+access">access</a></code> to pick a block from this large <code><a href="zoo.html#topic+zoo">zoo</a></code> series.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SnP500Returns)
</code></pre>

<hr>
<h2 id='volatility'>Individual Volatility of Stock(s)</h2><span id='topic+volatility'></span>

<h3>Description</h3>

<p>Volatility of one or more stock(s) for a given time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>volatility(tickers, start, end, data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="volatility_+3A_tickers">tickers</code></td>
<td>

<p>List of ticker names of companies. A character vector.
</p>
</td></tr>
<tr><td><code id="volatility_+3A_start">start</code></td>
<td>

<p>Start date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="volatility_+3A_end">end</code></td>
<td>

<p>End date in the format &quot;yyyy-mm-dd&quot;.
</p>
</td></tr>
<tr><td><code id="volatility_+3A_data">data</code></td>
<td>

<p>A <code>zoo</code> object whose <code>rownames</code> are dates and <code>colnames</code> are ticker names of the companies. Values of the table corresponds to the daily returns of the stocks of corresponding ticker names.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Volatility of a given stock for a time period is defined as the standard deviation of the returns of that stock in that time period.
</p>


<h3>Value</h3>

<p>A named numeric vector of volatility in percentage with names being the ticker names of the stocks given as input in <code>tickers</code>.
</p>


<h3>See Also</h3>

<p><code><a href="zoo.html#topic+zoo">zoo</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(SnP500Returns)
tckk &lt;- colnames(SnP500Returns)

# volatility of the stock of the company Apple
# for the time period January 1, 2013 - January 31, 2013
volatility("AAPL", start = "2013-01-01",
            end = "2013-01-31", data = SnP500Returns)

# volatility of the first three stocks in SnP500Returns
# for the time period January 1, 2013 - January 31, 2013
volatility(tickers = tckk[1:3], start = "2013-01-01",
            end = "2013-01-31", data = SnP500Returns)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

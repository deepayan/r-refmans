<!DOCTYPE html><html lang="en-US"><head><title>Help for package wmm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {wmm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#wmm'><p>wmm: R Implementation of World Magnetic Model</p></a></li>
<li><a href='#.CalcLegendre'><p>Compute Associated Legendre Functions Given Sequence of (degree, order) Indices</p></a></li>
<li><a href='#.CalcLegendreComponents'><p>Compute Legendre Components</p></a></li>
<li><a href='#.CalcPolynomialComponents'><p>Calculate Polynomial Components for Associated Legendre Function</p></a></li>
<li><a href='#.CalculateGaussCoef'><p>Lookup Table for Gauss coefficients g &amp; h</p></a></li>
<li><a href='#.CalculateGeocentricFieldSum'><p>Calculate sum of geocentric field components</p></a></li>
<li><a href='#.CalculateMagneticElements'><p>Calculate Expected Magnetic Elements from WMM2020</p></a></li>
<li><a href='#.CalculateMagneticField'><p>Calculate Expected Magnetic Field from WMM2020</p></a></li>
<li><a href='#.CalculateRadiusCurvature'><p>Radius of curvature of prime vertical</p></a></li>
<li><a href='#.CheckBlackoutZone'><p>Check if given horizontal intensity triggers a blackout zone</p></a></li>
<li><a href='#.CheckVersionWMM'><p>Check if given time is consistent with available WMM versions</p></a></li>
<li><a href='#.ConvertGeocentricToGeodeticFieldComponents'><p>Geocentric Coordinates to Geodetic Coordinates</p></a></li>
<li><a href='#.ConvertGeodeticToGeocentricGPS'><p>Convert from Geodetic to Geocentric Coordinates</p></a></li>
<li><a href='#.DeriveVersionInfo'><p>Derive WMM version based on given time</p></a></li>
<li><a href='#GetMagneticFieldWMM'><p>Calculate Expected Magnetic Field from WMM</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>World Magnetic Model</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Will Frierson &lt;will.frierson@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate magnetic field at a given location and time according to 
  the World Magnetic Model (WMM). Both the main field and secular variation 
  components are returned. This functionality is useful for physicists and 
  geophysicists who need orthogonal components from WMM. Currently, this package 
  supports annualized time inputs between 2000 and 2025. If desired, users can
  specify which WMM version to use, e.g., the original WMM2015 release or the 
  recent out-of-cycle WMM2015 release. Methods used to implement WMM, including 
  the Gauss coefficients for each release, are described in the following 
  publications: Chulliat et al (2020) &lt;<a href="https://doi.org/10.25923%2Fytk1-yx35">doi:10.25923/ytk1-yx35</a>&gt;,
  Chulliat et al (2019) &lt;<a href="https://doi.org/10.25921%2Fxhr3-0t19">doi:10.25921/xhr3-0t19</a>&gt;, 
  Chulliat et al (2015) &lt;<a href="https://doi.org/10.7289%2FV5TB14V7">doi:10.7289/V5TB14V7</a>&gt;, 
  Maus et al (2010) <a href="https://www.ngdc.noaa.gov/geomag/WMM/data/WMMReports/WMM2010_Report.pdf">https://www.ngdc.noaa.gov/geomag/WMM/data/WMMReports/WMM2010_Report.pdf</a>, 
  McLean et al (2004) <a href="https://www.ngdc.noaa.gov/geomag/WMM/data/WMMReports/TRWMM_2005.pdf">https://www.ngdc.noaa.gov/geomag/WMM/data/WMMReports/TRWMM_2005.pdf</a>,
  and Macmillian et al (2000) <a href="https://www.ngdc.noaa.gov/geomag/WMM/data/WMMReports/wmm2000.pdf">https://www.ngdc.noaa.gov/geomag/WMM/data/WMMReports/wmm2000.pdf</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 2.0.1), data.table (&ge; 1.12.2)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/wfrierson/wmm">https://github.com/wfrierson/wmm</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/wfrierson/wmm/issues">https://github.com/wfrierson/wmm/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-09-05 22:58:06 UTC; willf</td>
</tr>
<tr>
<td>Author:</td>
<td>Will Frierson [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-09-06 04:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='wmm'>wmm: R Implementation of World Magnetic Model</h2><span id='topic+wmm'></span><span id='topic+wmm-package'></span>

<h3>Description</h3>

<p>The <code>wmm</code> package calculates magnetic field at a given location and time according to the World Magnetic Model.
</p>


<h3>WMM functions</h3>

<p>This package has 1 exported function, <code><a href="#topic+GetMagneticFieldWMM">GetMagneticFieldWMM</a></code>, which returns a list of:
</p>

<ul>
<li><p> Main field and secular variation vector components in nT and nT/yr, resp.
</p>
</li>
<li><p> Magnetic element intensities (i.e., horizontal and total intensities, <code>h</code> &amp; <code>f</code>) in nT with their secular variation in nT/yr
</p>
</li>
<li><p> Magnetic element angles (i.e., inclination and declination, <code>i</code> &amp; <code>d</code>) in degrees with their secular variation in deg/yr
</p>
</li></ul>

<p><code>GetMagneticFieldWMM(lambda_t, phi_t, h_t, t)</code> = (<code>x</code>, <code>y</code>, <code>z</code>, <code>xDot</code>, <code>yDot</code>, <code>zDot</code>, <code>h</code>, <code>f</code>, <code>i</code>, <code>d</code>, <code>hDot</code>, <code>fDot</code>, <code>iDot</code>, <code>dDot</code>)
</p>


<h3>Acknowledgments</h3>

<p>Thanks to:
</p>

<ul>
<li><p> The WMM team past, present, and future for making the Gauss coefficients public domain
</p>
</li>
<li><p> Alex Breeze for tech reviewing the original version of this code, years ago
</p>
</li></ul>


<hr>
<h2 id='.CalcLegendre'>Compute Associated Legendre Functions Given Sequence of (degree, order) Indices</h2><span id='topic+.CalcLegendre'></span>

<h3>Description</h3>

<p>Procedure that computes the associated Legendre function, <code class="reqn">P_{n,m}(\mu)</code>, given a sequence of (degree, order) indices and function argument <code class="reqn">\mu</code>. This is computed via a closed-form equation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalcLegendre(mu)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalcLegendre_+3A_mu">mu</code></td>
<td>
<p>Function argument to <code class="reqn">P_{n,m}(\mu)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The underlying equation used is: </p>
<p style="text-align: center;"><code class="reqn">P(x, n, m)=(-1)^m * 2^n * (1-x^2)^(m/2) * sum(for m &lt;= k &lt;= n: k!/(k-m)! * x^(k-m) * choose(n, k) * choose((n+k-1)/2, n))</code>
</p>


<hr>
<h2 id='.CalcLegendreComponents'>Compute Legendre Components</h2><span id='topic+.CalcLegendreComponents'></span>

<h3>Description</h3>

<p>Function that computes the components of the associated Legendre function, <code class="reqn">P_{n,m}(\mu)</code>, only dependent on (degree, order) indices. This function is only used to precompute values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalcLegendreComponents(n, m)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalcLegendreComponents_+3A_n">n</code></td>
<td>
<p>degree of associated Legendre function</p>
</td></tr>
<tr><td><code id=".CalcLegendreComponents_+3A_m">m</code></td>
<td>
<p>order of associated Legendre function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The underlying equation used is: </p>
<p style="text-align: center;"><code class="reqn">P(x, n, m)=(-1)^m * 2^n * (1-x^2)^(m/2) * sum(for m &lt;= k &lt;= n: k!/(k-m)! * x^(k-m) * choose(n, k) * choose((n+k-1)/2, n))</code>
</p>


<hr>
<h2 id='.CalcPolynomialComponents'>Calculate Polynomial Components for Associated Legendre Function</h2><span id='topic+.CalcPolynomialComponents'></span>

<h3>Description</h3>

<p>Function that computes the polynomial components of <code>mu</code> that are paired with the output of <code>.CalcLegendreComponents</code> to create the indiviudal components of the associated Legendre function, <code class="reqn">P_{n,m}(\mu)</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalcPolynomialComponents(mu)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalcPolynomialComponents_+3A_mu">mu</code></td>
<td>
<p>Function argument to <code class="reqn">P_{n,m}(\mu)</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>The underlying equation used is: </p>
<p style="text-align: center;"><code class="reqn">P(x, n, m)=(-1)^m * 2^n * (1-x^2)^(m/2) * sum(for m &lt;= k &lt;= n: k!/(k-m)! * x^(k-m) * choose(n, k) * choose((n+k-1)/2, n))</code>
</p>


<hr>
<h2 id='.CalculateGaussCoef'>Lookup Table for Gauss coefficients g &amp; h</h2><span id='topic+.CalculateGaussCoef'></span>

<h3>Description</h3>

<p>Find Gauss coefficient <code class="reqn">g_{n,m}(t)</code> consistent with the World Magnetic Model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalculateGaussCoef(t, t0, wmmVersion = "derived")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalculateGaussCoef_+3A_t">t</code></td>
<td>
<p>Annualized date time. E.g., 2015-02-01 = (2015 + 32/365) = 2015.088</p>
</td></tr>
<tr><td><code id=".CalculateGaussCoef_+3A_t0">t0</code></td>
<td>
<p>Annualized reference time associated with <code>t</code></p>
</td></tr>
<tr><td><code id=".CalculateGaussCoef_+3A_wmmversion">wmmVersion</code></td>
<td>
<p>String representing WMM version to use. Must be consistent with <code>time</code> and one of the following: 'derived', 'WMM2000', 'WMM2005', 'WMM2010', 'WMM2015', 'WMM2015v2', 'WMM2020'. Default 'derived' value will infer the latest WMM version consistent with <code>time</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of Gauss coefficients, <code class="reqn">g_{n,m}(t)</code> and <code class="reqn">h_{n,m}(t)</code>
</p>

<hr>
<h2 id='.CalculateGeocentricFieldSum'>Calculate sum of geocentric field components</h2><span id='topic+.CalculateGeocentricFieldSum'></span>

<h3>Description</h3>

<p>Calculate sum of geocentric field components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalculateGeocentricFieldSum(legendreTable, gaussCoef, radius, lon, latGC,
  deltaLatitude)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalculateGeocentricFieldSum_+3A_legendretable">legendreTable</code></td>
<td>
<p><code>data.table</code> modified by <code>.CalculateSchmidtLegendreDerivative</code></p>
</td></tr>
<tr><td><code id=".CalculateGeocentricFieldSum_+3A_gausscoef">gaussCoef</code></td>
<td>
<p>Gauss coefficients as calculated by <code>.CalculateGaussCoef</code></p>
</td></tr>
<tr><td><code id=".CalculateGeocentricFieldSum_+3A_radius">radius</code></td>
<td>
<p>Radius of curvature of prime vertical at given geodetic latitude</p>
</td></tr>
<tr><td><code id=".CalculateGeocentricFieldSum_+3A_lon">lon</code></td>
<td>
<p>GPS longitude</p>
</td></tr>
<tr><td><code id=".CalculateGeocentricFieldSum_+3A_latgc">latGC</code></td>
<td>
<p>GPS latitude, geocentric</p>
</td></tr>
<tr><td><code id=".CalculateGeocentricFieldSum_+3A_deltalatitude">deltaLatitude</code></td>
<td>
<p>(Geocentric Latitude - Geodetic Latitude) in decimal degrees</p>
</td></tr>
</table>

<hr>
<h2 id='.CalculateMagneticElements'>Calculate Expected Magnetic Elements from WMM2020</h2><span id='topic+.CalculateMagneticElements'></span>

<h3>Description</h3>

<p>Calculate the magnetic elements (i.e., horizontal intensity, total intensity, inclination, declination, and their secular variation) for given magnetic orthogonal components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalculateMagneticElements(orthComps)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalculateMagneticElements_+3A_orthcomps">orthComps</code></td>
<td>
<p>named <code>list</code> containing magnetic orthogonal components</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Expected magnetic components from WMM2020. <code>list</code>
</p>

<hr>
<h2 id='.CalculateMagneticField'>Calculate Expected Magnetic Field from WMM2020</h2><span id='topic+.CalculateMagneticField'></span>

<h3>Description</h3>

<p>Calculate the magnetic field for a given location and time using the fitted spherical harmonic model from the 2020 World Magnetic Model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalculateMagneticField(lon, latGD, latGC, radius, time,
  wmmVersion = "derived")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalculateMagneticField_+3A_lon">lon</code></td>
<td>
<p>GPS longitude</p>
</td></tr>
<tr><td><code id=".CalculateMagneticField_+3A_latgd">latGD</code></td>
<td>
<p>GPS latitude, geodetic</p>
</td></tr>
<tr><td><code id=".CalculateMagneticField_+3A_latgc">latGC</code></td>
<td>
<p>GPS latitude, geocentric</p>
</td></tr>
<tr><td><code id=".CalculateMagneticField_+3A_radius">radius</code></td>
<td>
<p>Radius of curvature of prime vertical at given geodetic latitude</p>
</td></tr>
<tr><td><code id=".CalculateMagneticField_+3A_time">time</code></td>
<td>
<p>Annualized date time. E.g., 2015-02-01 = (2015 + 32/365) = 2015.088</p>
</td></tr>
<tr><td><code id=".CalculateMagneticField_+3A_wmmversion">wmmVersion</code></td>
<td>
<p>String representing WMM version to use. Must be consistent with <code>time</code> and one of the following: 'derived', 'WMM2005', 'WMM2010', 'WMM2015', 'WMM2015v2', 'WMM2020'. Default 'derived' value will infer the latest WMM version consistent with <code>time</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Expected magnetic field from WMM2020, <code class="reqn">m_{\lambda_t,\varphi_t,h_t,t}^{WMM}</code>. <code>list</code>
</p>

<hr>
<h2 id='.CalculateRadiusCurvature'>Radius of curvature of prime vertical</h2><span id='topic+.CalculateRadiusCurvature'></span>

<h3>Description</h3>

<p>Calculate radius of curvature of prime vertical at given geodetic latitude.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CalculateRadiusCurvature(latitudeGD)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CalculateRadiusCurvature_+3A_latitudegd">latitudeGD</code></td>
<td>
<p>Geodetic latitude in decimal degrees</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Radius of curvature of prime vertical at given geodetic latitude
</p>

<hr>
<h2 id='.CheckBlackoutZone'>Check if given horizontal intensity triggers a blackout zone</h2><span id='topic+.CheckBlackoutZone'></span>

<h3>Description</h3>

<p>Check if given horizontal intensity triggers a blackout zone
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CheckBlackoutZone(h)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CheckBlackoutZone_+3A_h">h</code></td>
<td>
<p>horizontal intensity, <code>numeric</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>warning</code> if warranted
</p>

<hr>
<h2 id='.CheckVersionWMM'>Check if given time is consistent with available WMM versions</h2><span id='topic+.CheckVersionWMM'></span>

<h3>Description</h3>

<p>Check if given time is consistent with available WMM versions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.CheckVersionWMM(t, wmmVersion)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".CheckVersionWMM_+3A_t">t</code></td>
<td>
<p>Annualized date time. E.g., 2015-02-01 = (2015 + 32/365) = 2015.088</p>
</td></tr>
<tr><td><code id=".CheckVersionWMM_+3A_wmmversion">wmmVersion</code></td>
<td>
<p>String representing WMM version to use. Must be consistent with <code>time</code> and one of the following: 'derived', 'WMM2000', 'WMM2005', 'WMM2010', 'WMM2015', 'WMM2015v2'.</p>
</td></tr>
</table>

<hr>
<h2 id='.ConvertGeocentricToGeodeticFieldComponents'>Geocentric Coordinates to Geodetic Coordinates</h2><span id='topic+.ConvertGeocentricToGeodeticFieldComponents'></span>

<h3>Description</h3>

<p>Convert Geocentric Coordinates to Geodetic Coordinates.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.ConvertGeocentricToGeodeticFieldComponents(xGeocentric, yGeocentric,
  zGeocentric, deltaLat)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".ConvertGeocentricToGeodeticFieldComponents_+3A_xgeocentric">xGeocentric</code></td>
<td>
<p>X-coordinate in geocentric system</p>
</td></tr>
<tr><td><code id=".ConvertGeocentricToGeodeticFieldComponents_+3A_ygeocentric">yGeocentric</code></td>
<td>
<p>Y-coordinate in geocentric system</p>
</td></tr>
<tr><td><code id=".ConvertGeocentricToGeodeticFieldComponents_+3A_zgeocentric">zGeocentric</code></td>
<td>
<p>Z-coordinate in geocentric system</p>
</td></tr>
<tr><td><code id=".ConvertGeocentricToGeodeticFieldComponents_+3A_deltalat">deltaLat</code></td>
<td>
<p>(Geocentric Latitude - Geodetic Latitude) in decimal degrees</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of length 3 representing geodetic coordinates consistent with given geocentric data
</p>

<hr>
<h2 id='.ConvertGeodeticToGeocentricGPS'>Convert from Geodetic to Geocentric Coordinates</h2><span id='topic+.ConvertGeodeticToGeocentricGPS'></span>

<h3>Description</h3>

<p>Convert geodetic coordinates to geocentric coordinates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.ConvertGeodeticToGeocentricGPS(latitudeGD, height)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".ConvertGeodeticToGeocentricGPS_+3A_latitudegd">latitudeGD</code></td>
<td>
<p>Geodetic latitude in decimal degrees</p>
</td></tr>
<tr><td><code id=".ConvertGeodeticToGeocentricGPS_+3A_height">height</code></td>
<td>
<p>Height in meters above ellipsoid (not mean sea level)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with first element as geocentric latitude in decimal degrees and second element as geocentric radius
</p>

<hr>
<h2 id='.DeriveVersionInfo'>Derive WMM version based on given time</h2><span id='topic+.DeriveVersionInfo'></span>

<h3>Description</h3>

<p>Derive WMM version based on given time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.DeriveVersionInfo(t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".DeriveVersionInfo_+3A_t">t</code></td>
<td>
<p>Annualized date time. E.g., 2015-02-01 = (2015 + 32/365) = 2015.088</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of reference year and compatible WMM versions inferred from <code>time</code>.
</p>

<hr>
<h2 id='GetMagneticFieldWMM'>Calculate Expected Magnetic Field from WMM</h2><span id='topic+GetMagneticFieldWMM'></span>

<h3>Description</h3>

<p>Function that takes in geodetic GPS location and annualized time, and returns the expected magnetic field from WMM.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GetMagneticFieldWMM(lon, lat, height, time, wmmVersion = "derived")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="GetMagneticFieldWMM_+3A_lon">lon</code></td>
<td>
<p>GPS longitude</p>
</td></tr>
<tr><td><code id="GetMagneticFieldWMM_+3A_lat">lat</code></td>
<td>
<p>GPS latitude, geodetic</p>
</td></tr>
<tr><td><code id="GetMagneticFieldWMM_+3A_height">height</code></td>
<td>
<p>GPS height in meters above ellipsoid</p>
</td></tr>
<tr><td><code id="GetMagneticFieldWMM_+3A_time">time</code></td>
<td>
<p>Annualized date time. E.g., 2015-02-01 = (2015 + 32/365) = 2015.088; optionally an object (length 1) of class 'POSIXt' or 'Date'</p>
</td></tr>
<tr><td><code id="GetMagneticFieldWMM_+3A_wmmversion">wmmVersion</code></td>
<td>
<p>String representing WMM version to use. Must be consistent with <code>time</code> and one of the following: 'derived', 'WMM2000', 'WMM2005', 'WMM2010', 'WMM2015', 'WMM2015v2', 'WMM2020'. Default 'derived' value will infer the latest WMM version consistent with <code>time</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of calculated main field and secular variation vector components in nT and nT/yr, resp. The magnetic element intensities (i.e., horizontal and total intensities, h &amp; f) are in nT and the magnetic element angles (i.e., inclination and declination, i &amp; d) are in degrees, with their secular variation in nT/yr and deg/yr, resp.: <code>x</code>, <code>y</code>, <code>z</code>, <code>xDot</code>, <code>yDot</code>, <code>zDot</code>, <code>h</code>, <code>f</code>, <code>i</code>, <code>d</code>, <code>hDot</code>, <code>fDot</code>, <code>iDot</code>, <code>dDot</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>GetMagneticFieldWMM(
   lon = 240,
   lat = -80,
   height = 1e5,
   time = 2022.5,
   wmmVersion = 'WMM2020'
)

## Expected output
# x = 5814.9658886215 nT
# y = 14802.9663839328 nT
# z = -49755.3119939183 nT
# xDot = 28.0381961827 nT/yr
# yDot = 1.3970624624 nT/yr
# zDot = 85.6309533031 nT/yr
# h = 15904.1391483373 nT
# f = 52235.3588449608 nT
# i = -72.27367 deg
# d = 68.55389 deg
# hDot = 11.5518244235 nT/yr
# fDot = -78.0481471753 nT/yr
# iDot = 0.04066726 deg/yr
# dDot = -0.09217566 deg/yr

## Calculated output
#$x
#[1] 5814.966

#$y
#[1] 14802.97

#$z
#[1] -49755.31

#$xDot
#[1] 28.0382

#$yDot
#[1] 1.397062

#$zDot
#[1] 85.63095

#$h
#[1] 15904.14

#$f
#[1] 52235.36

#$i
#[1] -72.27367

#$d
#[1] 68.55389

#$hDot
#[1] 11.55182

#$fDot
#[1] -78.04815

#$iDot
#[1] 0.04066726

#$dDot
#[1] -0.09217566

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

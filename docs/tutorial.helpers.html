<!DOCTYPE html><html><head><title>Help for package tutorial.helpers</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tutorial.helpers}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#check_current_tutorial'><p>Check current tutorial</p></a></li>
<li><a href='#check_tutorial_defaults'><p>Confirm that a tutorial has the recommended components</p></a></li>
<li><a href='#determine_code_chunk_name'><p>Determine the code chunk name of a new exercise in a tutorial.</p></a></li>
<li><a href='#determine_exercise_number'><p>Finds the number of the next exercise in a tutorial</p></a></li>
<li><a href='#format_tutorial'><p>Re-format a tutorial</p></a></li>
<li><a href='#get_submissions_from_learnr_session'><p>Return a list of tutorial answers</p></a></li>
<li><a href='#knit_tutorials'><p>Knit a set of tutorials</p></a></li>
<li><a href='#make_exercise'><p>Add a tutorial code exercise or question to the active document</p></a></li>
<li><a href='#return_tutorial_paths'><p>Return all the paths to the tutorials in a package</p></a></li>
<li><a href='#set_binary_only_in_r_profile'><p>Set pkgType to binary in .Rprofile</p></a></li>
<li><a href='#set_rstudio_settings'><p>Select smart setting for RStudio</p></a></li>
<li><a href='#submission_server'><p>Tutorial submission functions</p></a></li>
<li><a href='#write_answers'><p>Write tutorial answers to file</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Helper Functions for Creating Tutorials</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Helper functions for creating, editing, and testing tutorials
    created with the 'learnr' package. Provides a simple method for allowing
    students to download their answers to tutorial questions. For examples
    of its use, see the 'r4ds.tutorials' and 'primer.tutorials' packages.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>checkmate, knitr, roxygen2, rsconnect, rvest, testthat (&ge;
3.0.0), tidyverse</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, grDevices, gridExtra, learnr, parsermd, purrr, readr,
rmarkdown, rstudioapi, shiny, stringr, tibble</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ppbds/tutorial.helpers/issues">https://github.com/ppbds/tutorial.helpers/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ppbds.github.io/tutorial.helpers/">https://ppbds.github.io/tutorial.helpers/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-16 23:46:15 UTC; dkane</td>
</tr>
<tr>
<td>Author:</td>
<td>David Kane <a href="https://orcid.org/0000-0002-6660-3934"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Kane &lt;dave.kane@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-17 00:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='check_current_tutorial'>Check current tutorial</h2><span id='topic+check_current_tutorial'></span>

<h3>Description</h3>

<p>An add-in for formatting tutorials.
</p>
<p>Uses format_tutorial() to format the tutorial Rmd open
in the current editor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_current_tutorial()
</code></pre>

<hr>
<h2 id='check_tutorial_defaults'>Confirm that a tutorial has the recommended components</h2><span id='topic+check_tutorial_defaults'></span>

<h3>Description</h3>

<p>There are three code components: the use of a copy-code button,
an information request, and a download page. It is tricky to know where to
store the &quot;truth&quot; of what these components should look like. For now, the
truth is defined as the <code>skeleton.Rmd</code> which defines the template for
creating a new tutorial.
</p>
<p>All tutorials should also have <code>library(learnr)</code> and
<code>library(tutorial.helpers)</code>, both of which exist in the skeleton
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_tutorial_defaults(tutorial_paths)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_tutorial_defaults_+3A_tutorial_paths">tutorial_paths</code></td>
<td>
<p>Character vector of the paths to the tutorials to be
examined.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  check_tutorial_defaults(tutorial_paths = return_tutorial_paths("tutorial.helpers"))

</code></pre>

<hr>
<h2 id='determine_code_chunk_name'>Determine the code chunk name of a new exercise in a tutorial.</h2><span id='topic+determine_code_chunk_name'></span>

<h3>Description</h3>

<p>Determine the code chunk name of a new exercise in a tutorial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>determine_code_chunk_name(file_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="determine_code_chunk_name_+3A_file_path">file_path</code></td>
<td>
<p>Character string of the file path to the tutorial</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The section id of the exercise based on its section
</p>

<hr>
<h2 id='determine_exercise_number'>Finds the number of the next exercise in a tutorial</h2><span id='topic+determine_exercise_number'></span>

<h3>Description</h3>

<p>Finds the number of the next exercise in a tutorial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>determine_exercise_number(file_path = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="determine_exercise_number_+3A_file_path">file_path</code></td>
<td>
<p>Character string of the file path to the tutorial</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The next exercise number based on the file argument or the active document.
</p>

<hr>
<h2 id='format_tutorial'>Re-format a tutorial</h2><span id='topic+format_tutorial'></span>

<h3>Description</h3>

<p>A function for formatting tutorial Rmd files. Used by
check_current_tutorial() to re-format the currently open tutorial in
RStudio. It renumbers the exercises so that they are in order. It ensures
that chunk labels use this numbering, along with the section title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_tutorial(file_path)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="format_tutorial_+3A_file_path">file_path</code></td>
<td>
<p>Character string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Formatted document with correct exercise, hint and test chunk labels.
</p>

<hr>
<h2 id='get_submissions_from_learnr_session'>Return a list of tutorial answers</h2><span id='topic+get_submissions_from_learnr_session'></span>

<h3>Description</h3>

<p>Grabs information from the <code>learnr</code> session environment, not
directly from the session object itself. Since we are using the session
environment, we currently don't (?) have a way to save the environment and
hence can't test this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_submissions_from_learnr_session(sess)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_submissions_from_learnr_session_+3A_sess">sess</code></td>
<td>
<p>session object from shiny with learnr</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list which includes the exercise submissions of tutorial
</p>

<hr>
<h2 id='knit_tutorials'>Knit a set of tutorials</h2><span id='topic+knit_tutorials'></span>

<h3>Description</h3>

<p>We define &quot;testing&quot; a tutorial as (successfully) running
<code>render()</code> on it. This function renders all the tutorials provided in
<code>tutorial_paths</code>. There is no check to see if the rendered file looks OK.
If a tutorial fails to render, then (we assume!) an error will be generated
which will then filter up to our testing rig.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>knit_tutorials(tutorial_paths)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="knit_tutorials_+3A_tutorial_paths">tutorial_paths</code></td>
<td>
<p>Character vector of the paths to the tutorials to be
knitted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  knit_tutorials(tutorial_paths = return_tutorial_paths("tutorial.helpers"))

</code></pre>

<hr>
<h2 id='make_exercise'>Add a tutorial code exercise or question to the active document</h2><span id='topic+make_exercise'></span><span id='topic+make_no_answer'></span><span id='topic+make_yes_answer'></span>

<h3>Description</h3>

<p>When writing tutorials, it is handy to be able to insert the
skeleton for a new code exercise or question. We bind <code>make_exercise()</code> and
friends as an RStudio add-in to provide this functionality. Note that the
function determines the correct exercise number to use and also adds
appropriate code chunk names, based on the exercise number and section
title.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_exercise(type = "code", file_path = NULL)

make_no_answer()

make_yes_answer()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_exercise_+3A_type">type</code></td>
<td>
<p>Character of question type. Must be one of &quot;code&quot;, &quot;no-answer&quot;,
or &quot;yes-answer&quot;.</p>
</td></tr>
<tr><td><code id="make_exercise_+3A_file_path">file_path</code></td>
<td>
<p>Character path to a file. If NULL, the RStudio active
document is used, which is the default behavior. An actual file path is
used for testing.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It appears that the RStudio addins must have function names only as
the Binding value. In other words, you can't have <code>make_exercise(type = 'no-answer')</code> as the value. So, we need two extra functions &mdash;
<code>make_no_answer()</code> and <code>make_yes_answer()</code> &mdash;which just call
<code>make_exercise()</code> while passing in the correct argument.
</p>


<h3>Value</h3>

<p>Exercise skeleton corresponding to the <code>type</code> argument.
</p>

<hr>
<h2 id='return_tutorial_paths'>Return all the paths to the tutorials in a package</h2><span id='topic+return_tutorial_paths'></span>

<h3>Description</h3>

<p>Takes a package name and returns a character vector of all the
paths to tutorials in the installed package. Assumes that every Rmd file in
inst/tutorials/*/ is a tutorial, which should be true.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>return_tutorial_paths(package)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="return_tutorial_paths_+3A_package">package</code></td>
<td>
<p>Character vector of the package name to be tested.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character vector of the full paths to all installed tutorials in
<code>package</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>return_tutorial_paths('learnr')
  
</code></pre>

<hr>
<h2 id='set_binary_only_in_r_profile'>Set pkgType to binary in .Rprofile</h2><span id='topic+set_binary_only_in_r_profile'></span>

<h3>Description</h3>

<p>This functions sets the <code>pkgType</code> global option to &quot;binary&quot; in your
<code>.Rprofile</code>. New R users, especially those on Windows, should never install
from source. Doing so fails too often, and too confusingly. It also sets the
value for this R session. So, you do not need to either restart R nor source
the .Rprofile by hand.
</p>
<p>You can examine your <code>.Rprofile</code> to confirm this change with
usethis::edit_r_profile()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_binary_only_in_r_profile()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='set_rstudio_settings'>Select smart setting for RStudio</h2><span id='topic+set_rstudio_settings'></span>

<h3>Description</h3>

<p>This function changes RStudio settings in order to make learning easier for
new users. These settings are stored in:
~/.config/rstudio/rstudio-prefs.json. The most important changes are
<code>save_workspace</code> to <code>"never"</code>, <code>load_workspace</code> to <code>FALSE</code>, and
<code>"insert_native_pipe_operator"</code> to <code>TRUE</code>. All those changes are good for any
user, new or old.
</p>
<p>We also change <code>show_hidden_files</code> to <code>TRUE</code>, <code>rmd_chunk_output_inline</code> to
<code>FALSE</code>, <code>source_with_echo</code> to <code>TRUE</code>, and <code>packages_pane_enabled</code> to
<code>FALSE</code>. These settings make RStudio less confusing to new users.
</p>
<p>The last two changes are setting both <code>rainbow_parentheses</code> and
<code>syntax_color_console</code> to <code>TRUE</code>. We <em>think</em> that these settings make coding
errors less likely.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_rstudio_settings()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='submission_server'>Tutorial submission functions</h2><span id='topic+submission_server'></span><span id='topic+submission_ui'></span>

<h3>Description</h3>

<p>The following function was modified from Colin Rundel's
learnrhash package, available at https://github.com/rundel/learnrhash. Note
that when including these functions in a learnr Rmd document it is
necessary that the server function, <code>submission_server()</code>, be included in
an R chunk where <code>context="server"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>submission_server(session)

submission_ui
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="submission_server_+3A_session">session</code></td>
<td>
<p>Session object from <code>Shiny</code> with <code>learnr</code>.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>shiny.tag</code> of length 3.
</p>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>
<p>An object of class shiny.tag.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()){
  submission_server(sess)
}

if(interactive()){
  submision_ui
}

</code></pre>

<hr>
<h2 id='write_answers'>Write tutorial answers to file</h2><span id='topic+write_answers'></span>

<h3>Description</h3>

<p>Take a tutorial session, extract out all the submitted answers,
and write out a file &mdash; either as html, rds or pdf &mdash; with all of those
answers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_answers(file, session, is_test = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_answers_+3A_file">file</code></td>
<td>
<p>Location to render answers to. Output file type determined by
file suffix. Acceptable values are &quot;html&quot;, &quot;rds&quot; and &quot;pdf&quot;.</p>
</td></tr>
<tr><td><code id="write_answers_+3A_session">session</code></td>
<td>
<p>Session object from <code>Shiny</code> with <code>learnr</code>.</p>
</td></tr>
<tr><td><code id="write_answers_+3A_is_test">is_test</code></td>
<td>
<p><code>TRUE</code>/<code>FALSE</code> depending on whether or not we are just testing
the function. Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>We only keep track of the questions/exercises that the student has
completed. So, if she only answers three questions, the resulting output
will only have 6 rows (the three answers plus the header row plus the first
row with tutorial info plus the last row with the time taken). The other
obvious approach is to keep all the questions/exercises and leave
unanswered ones as NA. Not sure if that approach is better, or even
possible.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()){
  write_answers("outfile.pdf", sess)
}
  
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

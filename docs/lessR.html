<!DOCTYPE html><html><head><title>Help for package lessR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lessR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#.'><p>Function . for Selecting Rows/Columns with base R Extract</p></a></li>
<li><a href='#ANOVA'><p>Analysis of Variance</p></a></li>
<li><a href='#BarChart'><p>Bar Chart for One or Two Variables</p></a></li>
<li><a href='#corCFA'><p>Confirmatory Factor Analysis of a Multiple Indicator Measurement Model</p></a></li>
<li><a href='#corEFA'><p>Exploratory Factor Analysis and Multiple Indicator Measurement Model</p></a></li>
<li><a href='#corProp'><p>Proportionality Coefficients from Correlations</p></a></li>
<li><a href='#corRead'><p>Read Specified Correlation Matrix</p></a></li>
<li><a href='#corReflect'><p>Reflect Specified Variables in a Correlation Matrix</p></a></li>
<li><a href='#Correlation'><p>Correlation Analysis</p></a></li>
<li><a href='#corReorder'><p>Reorder Variables in a Correlation Matrix</p></a></li>
<li><a href='#corScree'><p>Eigenvalue Plot of a Correlation Matrix</p></a></li>
<li><a href='#CountAll'><p>CountAll Descriptive Analysis of all Variables in the Data Frame</p></a></li>
<li><a href='#dataAnova_1way'><p>Data for a One-Way ANOVA</p></a></li>
<li><a href='#dataAnova_2way'><p>Data for a Two-Way Balanced Factorial Design</p></a></li>
<li><a href='#dataAnova_rb'><p>Data for a Randomized Block ANOVA</p></a></li>
<li><a href='#dataAnova_rbf'><p>Data for a Randomized Block Factorial ANOVA</p></a></li>
<li><a href='#dataAnova_sp'><p>Data for a Split-Plot ANOVA</p></a></li>
<li><a href='#dataBodyMeas'><p>Data: Body Measurements</p></a></li>
<li><a href='#dataCars93'><p>Data: Cars93</p></a></li>
<li><a href='#dataEmployee'><p>Data: Employees</p></a></li>
<li><a href='#dataEmployee_lbl'><p>VariableLabels: Employee Data Set</p></a></li>
<li><a href='#dataFreqTable99'><p>Data: Joint Frequency Table</p></a></li>
<li><a href='#dataJackets'><p>Data: Motorcycle Type and Thickness of Jacket</p></a></li>
<li><a href='#dataLearn'><p>Data: Distributed vs Massed Practice</p></a></li>
<li><a href='#dataMach4'><p>Data: Machiavellianism</p></a></li>
<li><a href='#dataMach4_lbl'><p>VariableLabels: Mach4 Data Set</p></a></li>
<li><a href='#dataReading'><p>Data: Reading Ability</p></a></li>
<li><a href='#dataStockPrice'><p>Data: Stock price of Apple, IBM and Intel from 1985 through June of 2022</p></a></li>
<li><a href='#dataWeightLoss'><p>Data: WeightLoss</p></a></li>
<li><a href='#Density'><p>Density Curves from Data plus Histogram</p></a></li>
<li><a href='#details'><p>Display Contents of a Data File and Optional Variable Labels</p></a></li>
<li><a href='#factors'><p>Create Factor Variables Across a Sequential Range or Vector of Variables</p></a></li>
<li><a href='#getColors'><p>Hue, Chroma, Luminance (HCL) Color Wheel or Specified Colors</p></a></li>
<li><a href='#Histogram'><p>Histogram</p></a></li>
<li><a href='#interact'><p>Run Interactive Shiny Data Visualizations</p></a></li>
<li><a href='#kurtosis'><p>Kurtosis</p></a></li>
<li><a href='#label'><p>Assign Variable Labels [Superseded by VariableLabels]</p></a></li>
<li><a href='#LineChart'><p>Line Chart such as a Run Chart or Time-Series Chart</p></a></li>
<li><a href='#Logit'><p>Logit Regression Analysis</p></a></li>
<li><a href='#Merge'><p>Merge Two Data Frames Horizontally or Vertically</p></a></li>
<li><a href='#Model'><p>Regression Analysis, ANOVA or t-test</p></a></li>
<li><a href='#Nest'><p>Nest the Values of an Integer or Factor Variable</p></a></li>
<li><a href='#PieChart'><p>Pie Chart</p></a></li>
<li><a href='#pivot'><p>Create a Pivot (Summary) Table</p></a></li>
<li><a href='#Plot'><p>Plot One or Two Continuous and/or Categorical Variables</p></a></li>
<li><a href='#print.out'><p>Display a Portion of Output from a Saved List Object</p></a></li>
<li><a href='#print.out_all'><p>Display All Text Output from a Saved List Object</p></a></li>
<li><a href='#prob_norm'><p>Compute and Plot Normal Curve Probabilities over an Interval</p></a></li>
<li><a href='#prob_tcut'><p>Plot t-distribution Curve and Specified Cutoffs with Normal Curve</p></a></li>
<li><a href='#prob_znorm'><p>Plot a Normal Curve with Shaded Intervals by Standard Deviation</p></a></li>
<li><a href='#Prop_test'><p>Analysis of Prop_test</p></a></li>
<li><a href='#Read'><p>Read Contents of a Data File with Optional Variable Labels and Feedback</p></a></li>
<li><a href='#recode'><p>Recode the Values of an Integer or Factor Variable</p></a></li>
<li><a href='#regPlot'><p>regPlot Analysis</p></a></li>
<li><a href='#Regression'><p>Regression Analysis</p></a></li>
<li><a href='#rename'><p>Rename One or More Variables in a Data Frame</p></a></li>
<li><a href='#rescale'><p>Rescale a Variable</p></a></li>
<li><a href='#reshape_long'><p>Reshape a Wide-Form Data Frame to Long-Form</p></a></li>
<li><a href='#reshape_wide'><p>Reshape a Wide-Form Data Frame to Wide-Form</p></a></li>
<li><a href='#see'><p>View the Upper and Left Corners of a Data Frame</p></a></li>
<li><a href='#showColors'><p>Display All Named R Colors and Corresponding rgb Values</p></a></li>
<li><a href='#showPalettes'><p>Display Color Palettes</p></a></li>
<li><a href='#simCImean'><p>Pedagogical Simulation for the Confidence Interval of the Mean</p></a></li>
<li><a href='#simCLT'><p>Pedagogical Simulation for the Central Limit Theorem</p></a></li>
<li><a href='#simFlips'><p>Pedagogical Binomial Simulation, Coin flips</p></a></li>
<li><a href='#simMeans'><p>Pedagogical Simulation of Sample Means over Repeated Samples</p></a></li>
<li><a href='#skew'><p>Skew of a variable.</p></a></li>
<li><a href='#sort_by'><p>sort_by the Rows of a Data Frame</p></a></li>
<li><a href='#style'><p>Set the Default Color Theme and Other System Settings</p></a></li>
<li><a href='#Subset'><p>Subset the Values of One or More Variables</p></a></li>
<li><a href='#SummaryStats'><p>Summary Statistics for One or Two Variables</p></a></li>
<li><a href='#to'><p>Create a Sequence of Numbered Variable Names with a Common Prefix and Width</p></a></li>
<li><a href='#train_test'><p>Create Training and Testing Data</p></a></li>
<li><a href='#Transform'><p>Deprecated: Transform the Values of an Integer or Factor Variable</p></a></li>
<li><a href='#ttest'><p>Generic Method for t-test and Standardized Mean Difference with Enhanced Graphics</p></a></li>
<li><a href='#ttestPower'><p>Compute a Power Curve for a One or Two Group t-test</p></a></li>
<li><a href='#values'><p>List the Values of a Variable</p></a></li>
<li><a href='#VariableLabels'><p>Create or Display Variable Labels</p></a></li>
<li><a href='#Write'><p>Write the Contents of a Data Frame to an External File</p></a></li>
<li><a href='#xAnd'><p>Text Processing: Insert and Into a List</p></a></li>
<li><a href='#xNum'><p>Text Processing: Convert a Number to a Word</p></a></li>
<li><a href='#xP'><p>Text Processing: Print Formatted Numbers</p></a></li>
<li><a href='#xRow'><p>Text Processing: Add the Word Row to Case Labels that Could be Numeric</p></a></li>
<li><a href='#xU'><p>Text Processing: Capitalize First Letter of a Word</p></a></li>
<li><a href='#xW'><p>Text Processing: Wrap Words to Create New Lines From a Specified Line</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>4.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-03-26</td>
</tr>
<tr>
<td>Title:</td>
<td>Less Code, More Results</td>
</tr>
<tr>
<td>Author:</td>
<td>David Gerbing, The School of Business, Portland State University</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David W. Gerbing &lt;gerbing@pdx.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>graphics, grDevices, stats, utils, methods, lattice,
latticeExtra, robustbase, ellipse, leaps, openxlsx, colorspace,
shiny, knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>KernSmooth, rmarkdown, wesanderson, haven, readODS, triangle,
arrow</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Description:</td>
<td>Each function accomplishes the work of multiple standard R functions. For example, two function calls, Read() and CountAll(), read the data and generate summary statistics for all variables in the data frame, plus histograms and bar charts as appropriate. Other functions provide for comprehensive summary statistics via pivot tables, a comprehensive regression analysis, ANOVA and t-test, visualizations including the Violin/Box/Scatter plot for a numerical variable, bar chart, histogram, box plot, density curves, calibrated power curve, reading multiple data formats with the same function call, variable labels, color themes, and Trellis graphics. Also includes a confirmatory factor analysis of multiple indicator measurement models, pedagogical routines for data simulation such as for the Central Limit Theorem, generation and rendering of regression instructions for interpretative output, and interactive visualizations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-03-26 15:51:23 UTC; dgerbing</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-03-26 23:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='.'>Function . for Selecting Rows/Columns with base R Extract</h2><span id='topic+.'></span>

<h3>Description</h3>

<p>Using the base R <code><a href="base.html#topic+Extract">Extract</a></code> function, with the unobtrusive function name, <code>.</code>, express a subsetting operation as<br />
d[.(rows), .(cols)]<br />
for a less annoying experience. With <code>.</code> to express a logical criterion to select rows, do not append the data frame name and <code>$</code> to variable names in  expressions as otherwise required by  <code><a href="base.html#topic+Extract">Extract</a></code>. Can also do a random selection of rows. For columns, no need to quote variable names, can include variable ranges defined by a colon, :, and add <code>-</code> to exclude designated columns. Also does not list rows missing data when not requested as does <code><a href="base.html#topic+Extract">Extract</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.(x, ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="._+3A_x">x</code></td>
<td>
<p>Logical expression to subset rows or columns.</p>
</td></tr>
<tr><td><code id="._+3A_...">...</code></td>
<td>
<p>Allows multiple expressions when selecting columns.</p>
</td></tr></table>
<p>'
</p>


<h3>Details</h3>

<p>Eliminates the need to prepend the data frame name and a dollar sign to each variable name in the specified logical expression to select rows. For columns, no quoting variables, allow variable ranges. 
</p>
<p>Can create a character string called <code>rows</code> that expresses the logic of row selection. Can create a character string called <code>cols</code> that expresses the logic of column (variable) selection. To negate the <code>rows</code> expression, <code>.(!rows)</code>. Use <code>-.(cols)</code> to exclude designated variables. 
</p>
<p>Select a random selection of rows with the containing function <code>random(n)</code>, where <code>n</code> is the specified number of random rows to select from the full data frame and <code>.n</code> is the proportion of random rows to select.
</p>


<h3>Value</h3>

<p>The row or columns names of the rows of data or columns of data that satisfy the specified logical conditions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Extract">Extract</a></code> <code><a href="base.html#topic+subset">subset</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see vignette

d &lt;- Read("Employee", quiet=TRUE)

# no data frame name attached to variable names
#   as variables assumed in the data frame
d[.(Gender=="M" &amp; Post&gt;90), ]

# include first three rows and only the specified variables
# variable range permitted
d[1:3, .(Years:Salary, Post)]

#  include first three rows and delete the specified variables
d[1:3, -.(Years:Salary, Post)]

# select rows and columns
d[.(Gender=="M" &amp; Post&gt;90), .(Years:Salary, Post)]

# because of the default for the base R Extract function [ ],
# if only one variable retained,
# then add drop=FALSE to retain the result as a data frame
d[1:3, .(Salary), drop=FALSE]

# define character string arguments
cols &lt;- "Gender:Salary, Post"
rows &lt;- "Gender=='M' &amp; Post&gt;93"
d[.(rows), .(cols)]
# negate
d[.(!rows), -.(cols)]

# random selection of 4 rows, retain all variables
d[.(random(4)), ]
</code></pre>

<hr>
<h2 id='ANOVA'>Analysis of Variance</h2><span id='topic+ANOVA'></span><span id='topic+av'></span><span id='topic+av_brief'></span>

<h3>Description</h3>

<p>Abbreviation: <code>av</code>, <code>av_brief</code>
</p>
<p>Analysis of variance from the R <code><a href="stats.html#topic+aov">aov</a></code> function plus graphics and effect sizes. Included designs are one-way between groups, two-way between groups and randomized blocks with one treatment factor with one observation for each treatment and block combination. 
</p>
<p>Output is generated into distinct segments by topic, organized and displayed in sequence by default. When the output is assigned to an object, such as <code>a</code> in <code>a &lt;- reg(Y ~ X)</code>, the full or partial output can be accessed for later analysis and/or viewing. A primary such analysis is with <code>knitr</code> for dynamic report generation. The input instructions to <code>knitr</code> are written comments and interpretation with embedded <code>R</code> code, called R~Markdown.  Generate a complete, though preliminary at this time, R Markdown document from the <code>Rmd</code> option ready to knit. Simply specify the option with a file name, run the ANOVA function to create the file. Then open the newly created <code>.Rmd</code> file in <code>RStudio</code> and click the <code>knit</code> button to create a formatted document that consists of the statistical results and interpretative comments. See the sections <code>arguments</code>, <code>value</code> and <code>examples</code> for more information. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ANOVA(my_formula, data=d, rows=NULL,
         brief=getOption("brief"), digits_d=NULL, 
         Rmd=NULL, jitter_x=0.4,
         res_rows=NULL, res_sort=c("zresid", "fitted", "off"),
         graphics=TRUE, pdf=FALSE, width=5, height=5,
         fun_call=NULL, ...)

av(...)

av_brief(..., brief=TRUE) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ANOVA_+3A_my_formula">my_formula</code></td>
<td>
<p>Standard R <code><a href="stats.html#topic+formula">formula</a></code> for specifying a model.
Use an asterisk, <code>*</code>, separating the two factors for a two-way ANOVA,
and a plus, <code>+</code>, separating the factors for a randomized blocks ANOVA
with the blocking factor listed second.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_data">data</code></td>
<td>
<p>The default name of the data frame that contains the data for analysis 
is <code>d</code>, otherwise explicitly specify.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output with no Tukey multiple 
comparison of means and no residuals. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_digits_d">digits_d</code></td>
<td>
<p>For the Basic Analysis, it provides the number of decimal digits.
For the rest of the output, it is a suggestion only.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_rmd">Rmd</code></td>
<td>
<p>File name for the file of R Markdown instructions to be written,
if specified. The file type is .Rmd, which automatically opens in RStudio,
but it is a simple text file that can be edited with any text editor,
including RStudio.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_jitter_x">jitter_x</code></td>
<td>
<p>Amount of horizontal jitter for points in the scatterplot
of levels and response variable for a one-way ANOVA.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_res_rows">res_rows</code></td>
<td>
<p>Default is 20, which lists the first 20 rows of data and residuals
sorted by the specified sort criterion.  To disable residuals, specify a 
value of 0. To see the residuals output for all observations, specify a 
value of <code>"all"</code>.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_res_sort">res_sort</code></td>
<td>
<p>Default is <code>"zresid"</code>, for specifying standardized residuals
as the sort criterion for the display of the rows of data and associated
residuals. Other values are <code>"fitted"</code> for the fitted values and
<code>"off"</code> to not sort the rows of data.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_graphics">graphics</code></td>
<td>
<p>Produce graphics. Default is <code>TRUE</code>.  In <code>Rmd</code> can
be useful to set to <code>FALSE</code> so that <code><a href="#topic+regPlot">regPlot</a></code> can be used
to place the graphics within the output file.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_pdf">pdf</code></td>
<td>
<p>Indicator as to if the graphic files should be saved as pdf files
instead of directed to the standard graphics windows.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used with <code>Rmd</code> to pass the function call when
obtained from the abbreviated function call <code>av</code>.</p>
</td></tr>
<tr><td><code id="ANOVA_+3A_...">...</code></td>
<td>
<p>Other parameter values for R function <code><a href="stats.html#topic+lm">lm</a></code> which provides the core computations.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
The one-way ANOVA with Tukey HSD and corresponding plot is based on the R functions <code><a href="stats.html#topic+aov">aov</a></code>, <code><a href="stats.html#topic+TukeyHSD">TukeyHSD</a></code>, and provides summary statistics for each level. Two-factor ANOVA also provides an interaction plot of the means with <code><a href="stats.html#topic+interaction.plot">interaction.plot</a></code> as well as a table of means and other summary statistics. The two-factor analysis can be between groups or a randomized blocked design. Residuals are displayed by default. Tukey HSD comparisons and residuals are not displayed if <code>brief=TRUE</code>.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>MODEL SPECIFICATION<br />
In the following specifications, Y is the response variable, X is a treatment variable and Blocks is the blocking variable. The distinction between the one-way randomized blocks and the two-way between groups models is not the variable names, but rather the delimiter between the variable names. Use <code>*</code> to indicate a two-way crossed between groups design and <code>+</code> for a randomized blocks design.<br />
one-way between groups: <code>ANOVA(Y ~ X)</code><br />
one-way randomized blocks: <code>ANOVA(Y ~ X + Blocks)</code><br />
two-way between groups: <code>ANOVA(Y ~ X1 * X2)</code><br />
For more complex designs, use the standard R function <code><a href="stats.html#topic+aov">aov</a></code> upon which <code>ANOVA</code> depends.
</p>
<p>BALANCED DESIGN<br />
The design for the two-factor analyses must be balanced. A check is performed and processing ceases if not balanced. For unbalanced designs, consider the function  <code>lmer</code> in the <code>lme4</code> package.
</p>
<p>DECIMAL DIGITS<br />
The number of decimal digits displayed on the output is, by default, the maximum number of decimal digits for all the data values of the response variable. Or, this value can be explicitly specified with the <code>digits_d</code> parameter.
</p>


<h3>Value</h3>

<p>The output can optionally be returned and saved into an <code>R</code> object, otherwise it simply appears at the console. The components of this object are redesigned in <code>lessR</code> version 3.3.5 into (a) pieces of text that form the readable output and (b) a variety of statistics. The readable output are character strings such as tables amenable for viewing and interpretation. The statistics are numerical values amenable for further analysis, such as to be referenced in a subsequent R Markdown document. The motivation of these two types of output is to facilitate R markdown documents, as the name of each piece, preceded by the name of the saved object followed by a $, can be inserted into the R markdown document (see <code>examples</code>).
</p>
<p>TEXT OUTPUT<br />
<code>out_background</code>: variables in the model, rows of data and retained<br />
1-predictor: <code>out_descriptive</code>: descriptive stats<br />
2-predictors: <code>out_cell.n</code>: cell sample size<br />
2-predictors: <code>out_cell.means</code>: cell means<br />
2-predictors: <code>out_cell.marginals</code>: marginal means<br />
2-predictors: <code>out_cell.gm</code>: grand mean<br />
2-predictors: <code>out_cell.sd</code>: cell standard deviations<br />
<code>out_anova</code>: analysis of variance summary table<br />
<code>out_effects</code>: effect sizes<br />
<code>out_hsd</code>: Tukey's honestly significant different analysis<br />
<code>out_res</code>: residuals<br />
<code>out_plots</code>: list of plots generated if more than one<br />
</p>
<p>Separated from the rest of the text output are the major headings, which can then be deleted from custom collations of the output.
<code>out_title_bck</code>: BACKGROUND<br />
<code>out_title_des</code>: DESCRIPTIVE STATISTICS<br />
<code>out_title_basic</code>: BASIC ANALYSIS<br />
<code>out_title_res</code>: RESIDUALS<br />
</p>
<p>STATISTICS<br />
<code>call</code>: function call that generated the analysis<br />
<code>formula</code>: model formula that specifies the model<br />
<code>n_vars</code>: number of variables in the model<br />
<code>n_obs</code>: number of rows of data submitted for analysis<br />
<code>n_keep</code>: number of rows of data retained in the analysis<br />
1-predictor: <code>p_value</code>: p-value for the overall F-test
<code>residuals</code>: residuals<br />
<code>fitted</code>: fitted values<br />
</p>
<p>Although not typically needed for analysis, if the output is assigned to an object named, for example, <code>a</code>, then the complete contents of the object can be viewed directly with the <code><a href="base.html#topic+unclass">unclass</a></code> function, here as <code>unclass(a)</code>. Invoking the <code><a href="base.html#topic+class">class</a></code> function on the saved object reveals a class of <code>out_all</code>. The class of each of the text pieces of output is <code>out</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapters 8 and 9, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+aov">aov</a></code>, <code><a href="stats.html#topic+TukeyHSD">TukeyHSD</a></code>, <code><a href="stats.html#topic+interaction.plot">interaction.plot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# access the PlantGrowth data frame
ANOVA(weight ~ group, data=PlantGrowth)
#brief version
av_brief(weight ~ group, data=PlantGrowth)

# drop the second treatment, just control and 1 treatment
ANOVA(weight ~ group, data=PlantGrowth, rows=(group != "trt2"))

# variables of interest in a data frame that is not the default d
# two-factor between-groups ANOVA with replications and interaction
# warpbreaks is a data set provided with R
ANOVA(breaks ~ wool * tension, data=warpbreaks)

# randomized blocks design with the second term the blocking factor
#   data from Gerbing(2014, Sec 7.3.1)

# Each person is a block. Each person takes four weight-training 
#   supplements on different days and then count the repetitions
#   of the bench presses.
d &lt;- read.csv(header=TRUE, text="
Person,sup1,sup2,sup3,sup4
p1,2,4,4,3
p2,2,5,4,6
p3,8,6,7,9
p4,4,3,5,7
p5,2,1,2,3
p6,5,5,6,8
p7,2,3,2,4")

# reshape data from wide form to long form
# do not need the row names
d &lt;- reshape(d, direction="long",
        idvar="Person", v.names="Reps",
        varying=list(2:5), timevar="Supplement")
rownames(data) &lt;- NULL

ANOVA(Reps ~ Supplement + Person)
</code></pre>

<hr>
<h2 id='BarChart'>Bar Chart for One or Two Variables</h2><span id='topic+BarChart'></span><span id='topic+bc'></span>

<h3>Description</h3>

<p>Abbreviation: <code>bc</code>
</p>
<p>The function plots a bar chart, one categorical variable, <code>x</code>, against one numeric variable, <code>y</code>, possibly including an optional second categorical variable, <code>by</code>. The bar chart is constructed from the usually relatively brief table that pairs each level of the categorical variables with the corresponding numerical value of <code>y</code>. Usually, this table is a summary (pivot) table calculated as a data aggregation from the original data table of measurements, such as average salary of the employees in each department.  
</p>
<p>The calculation of this foundational summary table from which the bar chart is created can occur outside of the function. Or, probably the more usual situation, the table is implicitly calculated by the function in one of two ways. Accordingly, obtain the summary table from one of three possibilities. 
</p>

<ol>
<li><p> Enter the summary table obtained from an external source directly as the value of the <code>data</code> parameter, indicated by specifying categorical variables <code>x</code> and possibly <code>by</code> with the numerical variable <code>y</code>.
</p>
</li>
<li><p> Have the function implicitly summarize the entire data table. If only categorical variable <code>x</code>, and possibly categorical variable <code>by</code>, are specified without a value of numerical <code>y</code>, the entire data table must be input as the value of <code>data</code>. The function then computes numeric variable <code>y</code> as the computed frequency of values in each category or level of the specified categorical variables.
</p>
</li>
<li><p> Have the function implicitly summarize the entire data table entered as the value of <code>data</code> by specifying a <code>y</code> variable. Obtain the summary table from which the bar chart is computed by summarizing (aggregating) the value of <code>y</code> at each level of <code>x</code>, and possibly <code>by</code>, with the chosen statistic specified by the <code>stat</code> parameter. The function will assess if the input data is a summary table or the entire data table. If the entire data table is entered, and the <code>stat</code> parameter is not entered, the value of <code>stat</code> defaults to the mean.
</p>
</li></ol>

<p>The function also displays the foundational summary table, such as frequency table for one or two variables. If a frequency table, also displayed are Cramer's V association, and the corresponding chi-square inferential analysis. For two variables, the frequencies include the joint and marginal frequencies. To activate Trellis graphics or facets, a multi-panel display, specify a <code>by1</code> variable in place of <code>by</code> for the second categorical variable. If the provided object to analyze is a set of multiple variables, including the name of an entire data frame, then a bar chart is calculated for <em>each</em> non-numeric variable in the data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>BarChart(

        # ------------------------------------------
        # Data from which to construct the bar chart
        x=NULL, y=NULL, by=NULL, data=d,
        rows=NULL, top=NULL,

        # ------------------------------------------------------
        # Bar chart from aggregated data of numerical variable y
        stat=c("mean", "sum", "sd", "deviation", "min", "median", "max"),
        stat_x=c("count", "proportion"),

        # --------------------
        # Trellis (facet) plot
        by1=NULL, n_row=NULL, n_col=NULL, aspect="fill",

        # ----------------------------------------------------------------
        # Analogy of physical Marks on paper to create the bars and labels
        theme=getOption("theme"),
        fill=NULL,
        color=getOption("bar_color_discrete"),
        transparency=getOption("trans_bar_fill"),
        fill_split=NULL,

        values=c("%", "input", "off"),
        values_color=getOption("values_color"),
        values_size=getOption("values_size"),
        values_digits=getOption("values_digits"),
        values_position=getOption("values_position"),
        values_cut=NULL,
        
        # -------------------------------
        # Layout and ordering of the bars
        horiz=FALSE, sort=c("0", "-", "+"),
        beside=FALSE, stack100=FALSE,
        gap=NULL, scale_y=NULL, one_plot=NULL,

        # ------------------------------------------------------------------
        # Labels for axes, values, and legend if x and by variables, margins
        xlab=NULL, ylab=NULL, main=NULL, sub=NULL,
        lab_adjust=c(0,0), margin_adjust=c(0,0,0,0),
        pad_y_min=0, pad_y_max=0,

        rotate_x=getOption("rotate_x"), break_x=NULL,    
        offset=getOption("offset"),
        label_max=100,

        legend_title=NULL, legend_position="right_margin",
        legend_labels=NULL, legend_horiz=FALSE,
        legend_size=NULL, legend_abbrev=NULL, legend_adjust=0,

        # ----------------------------------------------------
        # Draw one or more objects, text, or geometric figures
        add=NULL, x1=NULL, y1=NULL, x2=NULL, y2=NULL,

        # --------------------------------------------------------------------
        # Output: text or chart turned off, to PDF file, number decimal digits
        quiet=getOption("quiet"), do_plot=TRUE,
        pdf_file=NULL, width=6.5, height=6, 
        digits_d=NULL, out_size=80, 

        # --------------------------------------
        # Deprecated, removed in future versions
        n_cat=getOption("n_cat"), value_labels=NULL, 

        # -------------
        # Miscellaneous
        eval_df=NULL, ...)

bc(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BarChart_+3A_x">x</code></td>
<td>
<p>Categorical <b>variable(s)</b> to analyze.  Can be a single
variable, either
within a data frame or as a vector in the users workspace,
or multiple variables in a data frame such as designated with the
<code><a href="base.html#topic+c">c</a></code> function, or an entire data frame. If not specified,
then defaults to all non-numerical variables in the specified data
frame, <code>d</code> by default.<br />
To manage large category values, unless <code>break_x</code> is <code>FALSE</code>,
any space in each category value is
converted to new line for the corresponding axis label in the plot.
To keep two (small) words on the same line, replace the space that
separates them with a tilde, which displays as a blank
for the corresponding axis label.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_y">y</code></td>
<td>
<p>Numeric variable with a value for each level of the categorical
variable with the value plotted proportional to the height of the 
corresponding bar. If specified for the original data table, then
the corresponding
<code>stat</code> parameter also must be set. If not specified, then 
its value is by default tabulated as the frequency of each
category or joint category.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_by">by</code></td>
<td>
<p>A second categorical variable to create a two-variable bar chart for
each level of the numeric primary variable
<code>y</code> on the <em>same</em> plot. A similar concept applies to the
panels of a Trellis (facet) plot if <code>by1</code> is specified.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variables of interest.
Can contain data from which frequencies or other statistics for a
<code>y</code>-variable are computed, or can be a summary table that consists
of two columns: the level of a categorical variable paired with the
numeric value that determines the height of the corresponding bar.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the
data frame to analyze.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_top">top</code></td>
<td>
<p>Retain only the specified first number of <code>x</code> values.
Usually, applied to sorted output according to the value of the <code>sort</code> 
parameter, to retain either the specified largest or smallest values of
the <code>x</code>
categorical variable. If <code>by</code> is active, then the retention
is based on the sum of the <code>by</code> variable for each level of <code>x</code></p>
</td></tr></table>
<p>.
</p>
<table>
<tr><td><code id="BarChart_+3A_stat">stat</code></td>
<td>
<p>Statistical transformation of the data for the y-axis across
groups defined by the categorical variable(s), the data aggregation. 
Values include <code>"mean"</code>, <code>"sd"</code>, etc.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_stat_x">stat_x</code></td>
<td>
<p>When no <code>y</code> variable is specified, either do the
default <code>count</code> of each group or the <code>proportion</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_by1">by1</code></td>
<td>
<p>A categorical variable called a conditioning variable that
activates <b>Trellis graphics (facets)</b>, from the <code>lattice</code>
package, to create
a bar chart on a separate panel for each level of the variable.
Contrast to the <code>by</code> parameter that plots on the same panel.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_n_row">n_row</code></td>
<td>
<p>Optional specification for the number of rows in the layout
of a multi-panel display with Trellis graphics (facets). Need not specify
<code>n_col</code>.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_n_col">n_col</code></td>
<td>
<p>Optional specification for the number of columns in the
layout of a multi-panel display with
Trellis graphics (facets). Need not specify <code>n_row</code>. If set to 1, then
the strip that labels each group locates to the left of each plot
instead of the top.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_aspect">aspect</code></td>
<td>
<p>Lattice parameter for the aspect ratio of the panels in
a Trellis plot (multi-panel display or facets), defined as height divided by
width. The default value is <code>"fill"</code> to have the panels
expand to occupy as much space as possible. Set to 1 for square panels.
Set to <code>"xy"</code> to specify a ratio calculated
to &quot;bank&quot; to 45 degrees, that is, with the line slope approximately
45 degrees.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_theme">theme</code></td>
<td>
<p>Theme for the <b>colors</b> for this analysis. Make persistent
across analyses with <code><a href="#topic+style">style</a></code>.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_fill">fill</code></td>
<td>
<p>Fill color of the bars. Default is the qualitative palette
<code>"hues"</code> from default
theme <code>"colors"</code>, unless the categorical variable(s) is(are) ordinal
where the default is the <code>"blues"</code> sequential gradient. For any
other color theme the default is the corresponding color gradient,
such as <code>"reds"</code> for theme <code>"darkred"</code>. Can also specify
any vector of colors to fill the bars, such as generated by 
<code><a href="#topic+getColors">getColors</a></code>, or access more pre-defined
gradients such as palettes that address color-blindness such as
<code>"virdis"</code>. Or
set to the name of <code>y</code> to map the values of bar fill into the
fill colors. Specified the name of <code>y</code> 
as <code>(count)</code> if tabulated from the data. Not applicable if
<code>fill_split</code> is activated.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_color">color</code></td>
<td>
<p>Border color of the bars, can be a vector
to customize the color for each bar. Default is
<code>bar_color_discrete</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_transparency">transparency</code></td>
<td>
<p>Transparency factor of the area of each slice from 0, no
transparency to 1, full transparency. Default is
<code>trans_bar_fill</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_fill_split">fill_split</code></td>
<td>
<p>The value of the numeric variable <code>y</code> for which
bars that correspond to values of <code>y</code> &lt;= <code>fill_split</code> are
displayed in the first <code>fill</code> color and other values displayed
in the second <code>fill</code> color, or as specified by a vector of
exactly two fill colors.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_values">values</code></td>
<td>
<p>If not <code>"off"</code>, adds the
numerical results to the plot according to the default <code>"%"</code>
for tabulated counts and <code>"input"</code> for the input values for
a <code>y</code>-variable explicitly provided, unless there are more than
15 levels or <code>y</code> is present and non-integer in which case
the default is <code>"off"</code>. For tabulated
counts, <code>"prop"</code> is also available for proportions, as well as
<code>"input"</code> to show the computed values such as counts.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_values_color">values_color</code></td>
<td>
<p>Color of the plotted text. Could be a vector to specify
a unique color for each value. If fewer colors are specified than
the number of categories, the colors are recycled.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_values_size">values_size</code></td>
<td>
<p>Character expansion factor, the size, of the plotted text,
for which the default value is 0.95, or 0.9 of value if <code>beside</code>
is <code>TRUE</code> and <code>values_position</code> is <code>"in"</code> because bars are
narrower.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_values_digits">values_digits</code></td>
<td>
<p>Number of decimal digits for which to display the values.
Default is 0, round to the nearest integer for <code>"%"</code>,
2 for <code>"prop"</code>, and if <code>"input"</code> and <code>y</code> is entered
directly, display the literal value unless &gt; 9999, in which case
set to 0.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_values_position">values_position</code></td>
<td>
<p>Position of the plotted text. Default is <code>"in"</code> for
inside the bar, or, if <code>"out"</code>, the label for each value is placed
outside of the bar, on top.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_values_cut">values_cut</code></td>
<td>
<p>Threshold for displaying the value. If <code>values_position</code>
equals <code>"out"</code>, then default is 0.028 unless there is a
<code>by</code> variable or multiple x-variables on the same plot, then
default is 0.040</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_horiz">horiz</code></td>
<td>
<p><b>Bar orientation.</b> By default the value is
<code>FALSE</code> so bars are vertical,
unless <code>one_plot</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_sort">sort</code></td>
<td>
<p>Sort the categories by their frequency for one variable and by
the column sums if a <code>by</code> variable. Not applicable to Trellis plots.
By default <code>"0"</code> for no sort, or sort descending <code>"-"</code> or
ascending <code>"+"</code>, unless <code>one_plot</code> is <code>TRUE</code>, then is
set to <code>"+"</code>.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_beside">beside</code></td>
<td>
<p>For a two variable plot, set to <code>TRUE</code> for the levels of the
first variable to be plotted as adjacent bars instead of stacked on each
other.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_stack100">stack100</code></td>
<td>
<p>100% stacked bar chart when a <code>by</code> variable is present,
also activated by setting <code>stat_x</code> to <code>"proportion"</code> with a
<code>by</code> variable.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_gap">gap</code></td>
<td>
<p>Gap between bars. Provides the value of the <code>space</code> option from
the standard R <code><a href="graphics.html#topic+barplot">barplot</a></code> function with a default of 0.2 unless two
variables are plotted and beside=<code>TRUE</code>, in which case the default is
c(.1,1).</p>
</td></tr>
<tr><td><code id="BarChart_+3A_scale_y">scale_y</code></td>
<td>
<p>If specified, a vector of three values that define the
numerical values of the y-axis, the numerical axis, within the bounds of
plot region: starting value, ending value, and number of intervals.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_one_plot">one_plot</code></td>
<td>
<p>For bar charts of multiple x-variables, indicates
if a bar plot is produced for each x-variable, or all are combined
into a single plot, such as for items that all share common responses
such as survey data with a common Likert scale across variables.
Default is if variables share a common response scale
set to <code>TRUE</code>, otherwise <code>FALSE</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_xlab">xlab</code></td>
<td>
<p><b>Axis label</b> for <code>x</code>-axis. 
If <code>xlab</code> is not specified, then the label becomes
the name of the corresponding variable label if it exists, or, if not, the
variable name. If <code>xy_ticks</code> is <code>FALSE</code>, then no label is displayed.
If no y variable is specified, then <code>xlab</code> is set to Index unless
<code>xlab</code> has been specified.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_ylab">ylab</code></td>
<td>
<p>Label for <code>y</code>-axis.  If <code>xlab</code> is not specified, then
the label becomes
the name of the corresponding variable label if it exists, or, if not, the
variable name. If <code>xy_ticks</code> is <code>FALSE</code>, then no label displayed.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_main">main</code></td>
<td>
<p>Label for the title of the graph.
Can set size with <code>main_cex</code> and color with <code>main_color</code> from the
lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_sub">sub</code></td>
<td>
<p>Sub-title of graph, below <code>xlab</code>. Not yet implemented.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_lab_adjust">lab_adjust</code></td>
<td>
<p>Two-element vector &ndash; x-axis label, y-axis label &ndash; adjusts
the position of the axis labels in approximate inches. + values move
the labels away from plot edge. Not applicable to Trellis graphics.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_margin_adjust">margin_adjust</code></td>
<td>
<p>Four-element vector &ndash; top, right, bottom and left &ndash;
adjusts the margins of the plotted figure in approximate inches.
+ values move the corresponding margin away from plot edge. 
Not applicable to Trellis graphics.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_pad_y_min">pad_y_min</code></td>
<td>
<p>Proportion of padding added to the left side of
the <code>y</code>-axis. Value from 0 to 1.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_pad_y_max">pad_y_max</code></td>
<td>
<p>Proportion of padding added to the right side of
the <code>y</code>-axis. Value from 0 to 1.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_rotate_x">rotate_x</code></td>
<td>
<p>Degrees that the <b>axis values for the category values</b>
axis are rotated, usually to accommodate longer values,
typically used in conjunction with <code>offset</code>. When equal 90
the value labels are perpendicular to the x-axis and a different
algorithm places the labels so that <code>offset</code> is not needed.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_break_x">break_x</code></td>
<td>
<p>Replace spaces in the category values with a new line
and replace tildes with a blank so that there is no separation of words
joined by a tilde. By default, <code>TRUE</code> for 
vertical bar charts with <code>rotate_x</code> set to <code>0</code>,
and <code>FALSE</code> otherwise.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_offset">offset</code></td>
<td>
<p>The amount of spacing between the axis values and the axis. Default
is 0.5. Larger values such as 1.0 create space for the label when
longer axis value names are rotated.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_label_max">label_max</code></td>
<td>
<p>To <b>improve readability</b> of text output, the maximum size
of the value labels before the labels are abbreviated for
text output only. Not a literal maximum as preserving unique
values may require a larger number of characters than specified.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_legend_title">legend_title</code></td>
<td>
<p>Title of the <b>legend</b>, which is usually set 
by default except when raw counts are entered as a matrix.  Then
a title must be specified to generate a legend.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_legend_position">legend_position</code></td>
<td>
<p>When plotting two variables, location of the legend, with the
default in the right margin. Additional options from standard R are
&quot;topleft&quot;, &quot;top&quot;, &quot;topright&quot; and others as shown in the help for the
<code><a href="graphics.html#topic+legend">legend</a></code> function.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_legend_labels">legend_labels</code></td>
<td>
<p>When plotting two variables, labels for the legend, which by
default are the levels for the second or <code>by</code> variable.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_legend_horiz">legend_horiz</code></td>
<td>
<p>By default the legend is vertical, but can be changed to
horizontal.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_legend_size">legend_size</code></td>
<td>
<p>Size of legend text.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_legend_abbrev">legend_abbrev</code></td>
<td>
<p>If specified, abbreviate legend title and legend labels
to the specified number of the maximum number of characters.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_legend_adjust">legend_adjust</code></td>
<td>
<p>Shift legend for a two-categorical bar chart. A positive
number shifts the legend to the right from its default placement.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_add">add</code></td>
<td>
<p><b>Draw one or more objects</b>, text, or geometric figures,
on the plot.
Possible values are any text to be written, the first argument, which is
<code>"text"</code>, or, to indicate a figure,
<code>"rect"</code> (rectangle), <code>"line"</code>, <code>"arrow"</code>,
<code>"v_line"</code> (vertical line), and <code>"h_line"</code> (horizontal line).
The value <code>"means"</code> is short-hand for vertical and horizontal lines
at the respective means. Does not apply to Trellis graphics.
Customize with parameters such as <code>add_fill</code> and <code>add_color</code>
from the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_x1">x1</code></td>
<td>
<p>First x coordinate to be considered for each object.
All coordinates vary from -1 to 1.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_y1">y1</code></td>
<td>
<p>First y coordinate to be considered for each object.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_x2">x2</code></td>
<td>
<p>Second x coordinate to be considered for each object.
Only used for <code>"rect"</code>, <code>"line"</code> and <code>arrow</code>.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_y2">y2</code></td>
<td>
<p>Second y coordinate to be considered for each object.
Only used for <code>"rect"</code>, <code>"line"</code> and <code>arrow</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_do_plot">do_plot</code></td>
<td>
<p>If <code>TRUE</code>, the default, then generate the plot.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Indicate to direct pdf graphics to the specified name of
the pdf file.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_width">width</code></td>
<td>
<p>Width of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_height">height</code></td>
<td>
<p>Height of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_digits_d">digits_d</code></td>
<td>
<p>Provides the number of decimal digits,
set by default to at least 2 or the largest number of digits in the values
of the response variable plus 1.</p>
</td></tr> 
<tr><td><code id="BarChart_+3A_out_size">out_size</code></td>
<td>
<p>To improve the readability of the frequency distribution
of a single variable displayed at the console,
the maximum number of characters on a
line of output at the console for one variable before the frequency
distribution is written vertically.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_n_cat">n_cat</code></td>
<td>
<p>When analyzing all the variables in a data frame, specifies the largest
number of unique values of variable of a numeric data type for which the
variable will be analyzed as a categorical. Default is 0.
<em>[deprecated]</em>: Better to convert a categorical integer variable to
a factor.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_value_labels">value_labels</code></td>
<td>
<p>For factors, default is the factor labels, and for
character variables, default is the character values.
Or, provide labels for the <code>x</code>-axis on the graph to override
these values. If the variable is a
factor and <code>value_labels</code> is not specified (is <code>NULL</code>), then the
value_labels are set to the factor levels with each space replaced by
a new line character. If <code>x</code> and <code>y</code>-axes have the same scale,
they also apply to the <code>y</code>-axis. Control the plotted size
with <code>axis_cex</code> and <code>axis_x_cex</code> from the lessR
<code><a href="#topic+style">style</a> function.</code>
<em>[deprecated]</em>: Better to convert a categorical integer variable to
a factor.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="BarChart_+3A_eval_df">eval_df</code></td>
<td>
<p>Determines if to check for existing data frame and
specified variables. By default is <code>TRUE</code>
unless the <code>shiny</code> package is loaded then set to <code>FALSE</code> so
that Shiny will run. Needs to be set to <code>FALSE</code> if using
the pipe <code>%\&gt;%</code> notation.</p>
</td></tr>
<tr><td><code id="BarChart_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics as defined
by Base R <code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="graphics.html#topic+legend">legend</a></code>, 
and <code><a href="graphics.html#topic+par">par</a></code> including
<code>xlim</code> and <code>ylim</code> for setting the range of the x and y-axes<br />
<code>cex.main</code> for the size of the title<br />
<code>col.main</code> for the color of the title<br />
<code>"dotted"</code>, <code>"dotdash"</code><br />
<code>sub</code> and <code>col.sub</code> for a subtitle and its color<br />
<code>las=3</code> to reorient vertical axis labels<br />
<code>space</code> for one variable only</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
Plot a bar chart with default colors for one or two categorical variables, that is, with a relatively small number of values for each variable.  By default, colors are selected for the bars, background and grid lines, all of which can be customized. The basic computations of the chart are provided with the standard R functions <code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="stats.html#topic+chisq.test">chisq.test</a></code> and, for two variables, <code><a href="graphics.html#topic+legend">legend</a></code>. Horizontal bar charts, specified by <code>horiz=TRUE</code>, list the value labels horizontally and automatically extend the left margin to accommodate both the value labels and the variable label.
</p>
<p>DATA<br />
Ultimately the bar chart is constructed from a simple summary table in which each row consists of a level of the categorical variable <code>x</code> paired with the corresponding value of the numerical variable, <code>y</code>, with as many rows as the number of levels of <code>x</code>. Provide these values of <code>x</code> and <code>y</code> directly, or just provide <code>x</code> for the original data of measurements to compute the counts of each category or provide <code>x</code> and <code>y</code> with a value of <code>stat</code> to define the statistic for which to aggregate the values of <code>y</code> over the levels of <code>x</code>. Also can have a second categorical variable, <code>by</code>.
</p>
<p>The data may either be vectors from the global environment, the user's workspace, as illustrated in the examples below, or a variable in a data frame. The default input data frame is <code>d</code>.  Specify a different data frame name with the <code>data</code> option.  Regardless of its name, the variables in the data frame are referenced directly by their names.
</p>
<p>If the name of the vector is in the global environment and of a variable in the input data frame has the same name, the vector from the global environment is analyzed, unless the data name frame is explicitly provided, not relying upon the default <code>d</code>. If two variables are specified, both variables should be in the data frame, or one of the variables is in the data frame and the other in the global environment.
</p>
<p>To obtain a bar chart of each categorical variable in the <code>d</code> data frame, invoke <code>BarChart()</code>.  Or, for a data frame with a different name, insert the data frame name between the parentheses as the first listed parameter value. To analyze a subset of the variables in a data frame, specify the variable list with either a : or the <code><a href="base.html#topic+c">c</a></code> function, such as m01:m03 or c(m01,m02,m03).
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not. Use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code>. Examples include <code>==</code> for logical equality, <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>The form of the entered data, the first variable, categorical <code>x</code>, and optionally a second variable, numerical <code>y</code>, is flexible.  The data may be entered as factors, numeric values, characters, or a matrix. The data may be entered and the resulting frequencies computed, or the frequencies can be entered directly.  The most natural type of data to enter, when entering the variables, is to enter factors.
</p>
<p>STATISTICAL TRANSFORMATIONS<br />
Ultimately the bar plot is constructed from a small table of data values with each row a level of the categorical variable <code>x</code> paired with the corresponding value of the numerical variable <code>y</code>, with as many rows as values of <code>x</code>. It is also possible to plot transformations of the values of <code>y</code> for each level of categorical variable <code>x</code> from a full data table with many replications of each value of <code>x</code> and corresponding <code>y</code>. Then reduce the larger data table down to the summary table with one of following transformations.
</p>

<table>
<tr>
 <td style="text-align: left;">
Transformation </td><td style="text-align: left;"> Meaning</td>
</tr>
<tr>
 <td style="text-align: left;">
-------------- </td><td style="text-align: left;"> -------------------</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"sum"</code> </td><td style="text-align: left;"> sum</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"mean"</code> </td><td style="text-align: left;"> mean</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"sd"</code> </td><td style="text-align: left;"> standard deviation</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"dev"</code> </td><td style="text-align: left;"> mean deviation</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"min"</code> </td><td style="text-align: left;"> minimum</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"median"</code> </td><td style="text-align: left;"> median</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"max"</code> </td><td style="text-align: left;"> maximum</td>
</tr>
<tr>
 <td style="text-align: left;">
------------- </td><td style="text-align: left;"> -------------------</td>
</tr>
<tr>
 <td style="text-align: left;">

The other statistical transformation is simply counting the number of occurrences of each level of <code>x</code>, which does not involve a value of <code>y</code> read from the data. Instead the value of <code>y</code> for each level of <code>x</code> is tabulated.
</td>
</tr>

</table>

<p>COLORS<br />
For a one variable plot, set the default color of the bars by the current color theme according to <code>bar_fill_discrete</code> argument of the function <code><a href="#topic+style">style</a></code>, which includes the default color theme <code>"hues"</code> that defines a qualitative HCL color scale, or set the bar color with the <code>fill</code> parameter, which references a specified vector of color specifications, such as generated by the lessR <code><a href="#topic+getColors">getColors</a></code> function.
</p>
<p>Set <code>fill</code> to a single color or a color palette, of which there are many possibilities. Pre-defined sequential and divergent color ranges are available as implicit calls to <code><a href="#topic+getColors">getColors</a></code>. Define the default qualitative color palette with <code>"hues"</code> that provides HCL colors of the same chroma (saturation) and luminance (brightness). The full list of pre-defined color ranges defined in 30 degree increments around the HCL color wheel: <code>"reds"</code>, <code>"rusts"</code>, <code>"browns"</code>,
<code>"olives"</code>, <code>"greens"</code>, <code>"emeralds"</code>, <code>"turquoises"</code>, <code>"aquas"</code>, <code>"blues"</code>, <code>"purples"</code>,<code>"violets"</code>, <code>"magentas"</code>, and <code>"grays"</code>.
</p>
<p>Define a <em>divergent color scale</em> with value of <code>fill</code> that consists of a vector of two such pre-defined ranges, such as <code>c("purples", "rusts")</code>. Divergent color palettes are applicable in particular for plotting multiple bar charts on the same plot such as for a set of Likert response items, all on a common response scale. Or, <em>manually specify colors</em>. For example, for a two-level <code>by</code> variable, could set <code>fill</code> to <code>c("coral3","seagreen3")</code>, where the specified colors are <em>not</em> pre-defined color ranges.
</p>
<p>For the pre-defined color scales can obtain more control over the obtained color palettes with an explicit call to <code><a href="#topic+getColors">getColors</a></code> for the argument to <code>fill</code>. Here the value of chroma (<code>c</code>) and luminance (<code>l</code>) can be explicitly manipulated in conjunction with the specification of a pre-defined color range. Or, create a custom color range for any value of hue (<code>h</code>). See  <code><a href="#topic+getColors">getColors</a></code> for more information.
</p>
<p>The values of another variable can be mapped into the fill color of the bars. To do so, set <code>fill</code> to the value of the variable, which would usually be the name of the <code>y</code> variable if explicitly given. Or, if <code>y</code> is tabulated, refer to the variable name as <code>(count)</code>. The larger the count for a level of <code>x</code>, the darker the bar. 
</p>
<p>Also available are the pre-specified R color palettes <code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. The pre-defined palette <code>"distinct"</code> maximally separates colors by hue. The family of color-blind family of viridis palettes are available as <code>"viridis"</code>, <code>"cividis"</code>, <code>"magma"</code>, <code>"inferno"</code>, and <code>"plasma"</code>, as well as the <code>"Okabe-Ito"</code> palette. Pre-defined color palettes are available from many of Wes Anderson's movies such as <code>"Moonrise1"</code>, <code>"Royal1"</code>, <code>"GrandBudapest1"</code>, <code>"Darjeeling1"</code> and <code>"BottleRocket1"</code>. Can substitute a <code>2</code> for a <code>1</code> in the preceding references, and sometimes a <code>3</code>. 
</p>
<p>LEGEND<br />
When two variables are plotted, a legend is produced, with values for each level of the second or <code>by</code> variable.  By default, the location is placed in the right margin of the plot. This position can be changed with the <code>legend_position</code> option, which, in addition to the <code>lessR</code> option of <code>right_margin</code>, accepts any valid value consistent with the standard R <code><a href="graphics.html#topic+legend">legend</a></code> function, used to generate the legend.
</p>
<p>The legend title can be abbreviated with the <code>legend_abbrev</code> parameter. Specify the maximum number of characters of the title. The legend is displayed vertically by default, but can be changed to horizontal with the <code>legend_horiz</code> option.
</p>
<p>LONG CATEGORY NAMES<br />
For many plots, the names of the categories are too long. To adjust the plot for these long names, they can be rotated using the <code>rotate_x</code> and <code>rotate_y</code> parameters, in conjunction with <code>offset</code>. The <code>offset</code> parameter moves the category name out from the axis to compensate for the rotation. The changes can also be specified from <code><a href="#topic+style">style</a></code> to persist until further changes. To reset to the default after obtaining an analysis, use <code>style()</code>.
</p>
<p>Also, the following codes are used to adjust line spacing:<br />
1. Any space in a category name is converted to a new line.<br />
2. If the space should not be converted to a new line, then replace with a tilde, ~, which will display as a space without a line break.<br />
</p>
<p>For the text output at the console, can specify the maximum number of characters in a label with <code>labels.max</code>. Longer value names are abbreviated to the specified length. This facilitates reading cross-tab tables. Also, a provided table pairs the abbreviated names with the actual names. For one variable frequency distributions, <code>out_size</code> provides the maximum number of characters for the text output before the horizontal display of the frequency distribution is shifted to a vertical presentation.
</p>
<p>MULTIPLE BAR CHARTS ON THE SAME PANEL (PLOT)<br />
For multiple x-variables, set the parameter <code>one_plot</code> to <code>TRUE</code> to specify that each bar chart should be produced on the same panel as all other bars. This is most meaningful when all items have the same set of responses, such as a common Likert scale found in survey data. By default the one panel plot is produced when a common response scale is detected.
</p>
<p>The algorithm to detect if the response scale is common first identifies the first variable with the largest set of responses, then checks the responses of all other variables. If all responses to all other variables are contained within the set of responses to the reference variable, then the response scales are the same. This means that on a Likert scale, for example, some items may not contain all possible responses, such as no one selects Strongly Disagree for an item. However, for the response scales to be deemed the same, at least one item (variable) must contain all possible responses.
</p>
<p>Regardless, the <code>one_plot</code> parameter can be set to either <code>TRUE</code> or <code>FALSE</code> regardless of the commonality of responses. Setting this parameter explicitly saves some CPU time as the algorithm to evaluate the communality of responses need not be activated.
</p>
<p>ENTER NUMERIC VARIABLE DIRECTLY<br />
Instead of calculating the counts from the data, the values of any numerical variable, including
the counts, can be entered directly as the <code>y</code>-variable, in addition to the categorical <code>x</code>-variable, and perhaps a categorical <code>by</code>-variable. See the examples below.
</p>
<p>Or, include the already tabulated counts as the data which is read into R, either as a matrix or a data frame.
</p>
<p>STATISTICS<br />
In addition to the bar chart, descriptive and optional inferential statistics are also presented.  First, the frequency table for one variable or the joint frequency table for two variables is displayed. Second, the corresponding Cramer's V and chi-square test are also displayed by default.
</p>
<p>VARIABLE LABELS<br />
If variable labels exist, then the corresponding variable label is listed as the label for the horizontal axis unless xlab is specified in the function call. If there are two variables to plot, the title of the resulting plot is based on the two variable labels, unless a specific title is listed with the <code>main</code> option. The variable label is also listed in the text output, next to the variable name. If the analysis is for two variables, then labels for both variables are included.
</p>
<p>PDF OUTPUT<br />
To obtain pdf output, use the <code>pdf_file</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>
<p>ONLY VARIABLES ARE REFERENCED<br />
The referenced variable in a <code>lessR</code> function can only be a variable name (or list of variable names). This referenced variable must exist in either the referenced data frame, such as the default <code>d</code>, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>    &gt; BarChart(cut(rnorm(50), breaks=seq(-5,5)))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; Y &lt;- cut(rnorm(50), breaks=seq(-5,5))   # create vector Y in user workspace
    &gt; BarChart(Y)     # directly reference Y</pre>


<h3>Value</h3>

<p>The output can optionally be saved into an <code>R</code> object, otherwise it only appears in the console (unless <code>quiet</code> is set to <code>TRUE</code>). Two different types of components are provided: the pieces of readable output, and a variety of statistics. The readable output are character strings such as tables amenable for display. The statistics are numerical values amenable for further analysis. The motivation of these types of output is to facilitate R markdown documents, as the name of each piece, preceded by the name of the saved object and a <code>$</code>, can be inserted into the R~Markdown document (see <code>examples</code>), interspersed with explanation and interpretation. 
</p>
<p>Tabulated numerical variable y<br />
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;<br />
READABLE OUTPUT<br />
<code>out_title</code>: Title<br />
<code>out_lbl</code>:  Variable label<br />
<code>out_counts</code>: Two-way frequency distribution<br />
<code>out_chi</code>: Chi-square test<br />
<em>One variable</em>: <code>out_miss</code>: Number of missing values<br />
<em>Two variables</em>: <code>out_prop</code>: Cell proportions<br />
<em>Two variables</em>: <code>out_row</code>: Cell proportions within each row<br />
<em>Two variables</em>: <code>out_col</code>: Cell proportions within each col<br />
</p>
<p>STATISTICS<br />
<code>n_dim</code>: Number of dimensions, 1 or 2<br />
<code>p_value</code>: p-value for null of equal proportions or independence<br />
<code>freq</code>: Data frame of the frequency distribution <br />
<em>One variable</em>: <code>freq</code>: Frequency distribution<br />
<em>One variable</em>: <code>values</code>: y-values read directly<br />
<em>One variable</em>: <code>prop</code>: Frequency distribution of proportions<br /> 
<em>One variable</em>: <code>n_miss</code>: Number of missing values<br /> 
</p>
<p>Numerical variable y read from data<br />
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&ndash;<br />
<code>out_y</code>: Values of y<br />
<code>n_dim</code>: Number of dimensions, 1 or 2<br />
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapter 4, NY: Routledge.
</p>
<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 3, NY: CRC Press.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getColors">getColors</a></code>, <code><a href="graphics.html#topic+barplot">barplot</a></code>, <code><a href="base.html#topic+table">table</a></code>, <code><a href="graphics.html#topic+legend">legend</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# get the data
d &lt;- rd("Employee")

# --------------------------------------------------------
# bar chart from tabulating the data for a single variable
# --------------------------------------------------------

# for each level of Dept, display the frequencies
BarChart(Dept)
# short name
# bc(Dept)

# save the values output by BarChart into the myOutput list
myOutput &lt;- BarChart(Dept)
# display the saved output
myOutput

# just males with salaries larger than 75,000 USD
BarChart(Dept, rows=(Gender=="M" &amp; Salary &gt; 85000))

# rotate and offset the axis labels, sort categories by frequencies
BarChart(Dept, rotate_x=45, offset=1, sort="-")

# set bars to a single color of blue with some transparency
BarChart(Dept, fill="blue", transparency=0.3)
# progressive (sequential) color scale of blues
BarChart(Dept, fill="blues")

# viridis palate
BarChart(Dept, fill="viridis")

# change the theme just for this analysis, as opposed to style()
BarChart(Dept, theme="darkgreen")

# set bar color to hcl custom hues with chroma and luminance
#   at the values provided by the default hcl colors from
#   the getColors function, which defaults to h=240 and h=60
#   for the first two colors on the qualitative scale
bc(Gender, fill=c(hcl(h=180,c=100,l=55), hcl(h=0,c=100,l=55)))

# or set to unique colors via color names
BarChart(Gender, fill=c("palegreen3","tan"))

# darken the colors with an explicit call to getColors,
#   do a lower value of luminance, set to l=25
BarChart(Dept, fill=getColors(l=25), transparency=0.4)

# column proportions instead of frequencies
BarChart(Gender, stat_x="proportion")

# map value of tabulated count to bar fill
BarChart(Dept, fill=(count))

# data with many values of categorical variable Make and large labels
myd &lt;- Read("Cars93")
# perpendicular labels
bc(Make, rotate_x=90, data=myd)
# manage size of horizontal value labels
bc(Make, horiz=TRUE, label_max=4, data=myd)

# read y variable, Salary
# display bars for values of count &lt;= 0 in a different color
#  than values above
BarChart(Dept, Salary, stat="dev", sort="+", fill_split=0)


# ----------------------------------------------------
# bar chart from tabulating the data for two variables
# ----------------------------------------------------

# at each level of Dept, show the frequencies of the Gender levels
BarChart(Dept, by=Gender)

# Trellis (facet) plot
BarChart(Dept, by1=Gender)

# at each level of Dept, show the row proportions of the Gender levels
#   i.e., 100% stacked bar graph
BarChart(Dept, by=Gender, stack100=TRUE)

# at each level of Gender, show the frequencies of the Dept levels
# do not display percentages directly on the bars
BarChart(Gender, by=JobSat, fill="reds", values="off")

# specify two fill colors for Gender
BarChart(Dept, by=Gender, fill=c("deepskyblue", "black"))

# display bars beside each other instead of stacked, Female and Male
# the levels of Dept are included within each respective bar
# plot horizontally, display the value for each bar at the
#   top of each bar
BarChart(Gender, by=Dept, beside=TRUE, horiz=TRUE, values_position="out")

# horizontal bar chart of two variables, put legend on the top
BarChart(Gender, by=Dept, horiz=TRUE, legend_position="top")

# for more info on base R graphic options, enter:  help(par)
# for lessR options, enter:  style(show=TRUE)
# here fill is set in the style function instead of BarChart
#   along with the others
style(fill=c("coral3","seagreen3"), lab_color="wheat4", lab_cex=1.2,
      panel_fill="wheat1", main_color="wheat4")
BarChart(Dept, by=Gender,
         legend_position="topleft", legend_labels=c("Girls", "Boys"),
         xlab="Dept Level", main="Gender for Different Dept Levels",
         value_labels=c("None", "Some", "Much", "Ouch!"))
style()


# -----------------------------------------------------------------
# multiple bar charts tabulated from data across multiple variables
# -----------------------------------------------------------------

# bar charts for all non-numeric variables in the data frame called d
#   and all numeric variables with a small number of values, &lt; n_cat
# BarChart(one_plot=FALSE)

d &lt;- rd("Mach4", quiet=TRUE)

# all on the same plot, bar charts for 20 6-pt Likert scale items
# default scale is divergent from "browns" to "blues"
BarChart(m01:m20, horiz=TRUE, values="off", sort="+")




# custom scale with explicit call to getColors, HCL chroma at 50
clrs &lt;- getColors("greens", "purples", c=50)
BarChart(m01:m20, horiz=TRUE, values="off", sort="+", fill=clrs)

# custom divergent scale with pre-defined color palettes
#  with implicit call to getColors
BarChart(m01:m20, horiz=TRUE, values="off", fill=c("aquas", "rusts"))


# ----------------------------
# can enter many types of data
# ----------------------------

# generate and enter integer data
X1 &lt;- sample(1:4, size=100, replace=TRUE)
X2 &lt;- sample(1:4, size=100, replace=TRUE)
BarChart(X1)
BarChart(X1, by=X2)

# generate and enter type double data
X1 &lt;- sample(c(1,2,3,4), size=100, replace=TRUE)
X2 &lt;- sample(c(1,2,3,4), size=100, replace=TRUE)
BarChart(X1)
BarChart(X1, by=X2)

# generate and enter character string data
# that is, without first converting to a factor
Travel &lt;- sample(c("Bike", "Bus", "Car", "Motorcycle"), size=25, replace=TRUE)
BarChart(Travel, horiz=TRUE)


# ----------------------------
# bar chart directly from data
# ----------------------------

# include a y-variable, here Salary, in the data table to read directly
d &lt;- read.csv(text="
Dept, Salary
ACCT,51792.78
ADMN,71277.12
FINC,59010.68
MKTG,60257.13
SALE,68830.06", header=TRUE)
BarChart(Dept, Salary)

# specify two variables for a two variable bar chart
# also specify a y-variable to provide the counts directly
# when reading y values directly, must be a summary table,
#   one row of data for each combination of levels with
#   a numerical value of y
# use lessR pivot function to get summary table, cannot process missing data
#   so set na_show_group to FALSE
d &lt;- Read("Employee")
a &lt;- pivot(d, mean, Salary, c(Dept,Gender), na_group_show=FALSE)
BarChart(Dept, Salary_mean, by=Gender, data=a)
# do so just with BarChart, display bars in grayscale
# How does average salary vary by gender across the various departments?
BarChart(Dept, Salary, by=Gender, stat="mean", data=d, fill="grays")


# -----------
# annotations
# -----------

d &lt;- rd("Employee")

# Place a message in the center of the plot
# \n indicates a new line
BarChart(Dept, add="Employees by\nDepartment", x1=3, y1=10)

# Use style to change some parameter values
style(add_trans=.8, add_fill="gold", add_color="gold4", add_lwd=0.5)
# Add a rectangle around the message centered at &lt;3,10&gt;
BarChart(Dept, add=c("rect", "Employees by\nDepartment"),
                     x1=c(2,3), y1=c(11, 10), x2=4, y2=9)

</code></pre>

<hr>
<h2 id='corCFA'>Confirmatory Factor Analysis of a Multiple Indicator Measurement Model</h2><span id='topic+corCFA'></span><span id='topic+cfa'></span><span id='topic+scales'></span>

<h3>Description</h3>

<p>Abbreviation: <code>cfa</code>
</p>
<p>A multiple indicator measurement model partitions a set of indicators, such as items on a survey, into mutually exclusive groups with one common factor per group of indicators. From the input correlation matrix of the indicator variables, this procedure uses iterated centroid estimation to estimate the coefficients of the model, the factor pattern and factor-factor correlations, as well as the correlations of each factor with each indicator. The analysis is an adaptation and extension of John Hunter's program PACKAGE (Hunter and Cohen, 1969).
</p>
<p>Corresponding scale reliabilities are provided, as well as the residuals, the difference between the indicator correlations and those predicted by the model.  To visualize the relationships, a heat map of the re-ordered correlation matrix is also provided, with indicator communalities in the diagonal. To understand the meaning of each factor, the corresponding indicator content is displayed for each factor if the indicators have been read as variable labels. Also provides the code to obtain the maximum likelihood solution of the corresponding multiple indicator measurement model (MIMM) with the <code>cfa</code> function from the <code>lavaan</code> package.
</p>
<p>The <code>scales</code> is a wrapper that retains 1's in the diagonal of the indicator correlation matrix, so provides scale reliabilities and observed indicator-scale and scale-scale correlations.
</p>
<p>Output is generated into distinct pieces by topic, organized and displayed in sequence by default. When the output is assigned to an object, such as <code>f</code> in <code>f &lt;- cfa(Fac =~ X1 + X2 + X3)</code>, the full or partial output can be accessed for later analysis and/or viewing. A primary such analysis is with <code>knitr</code> for dynamic report generation, run from, for example, <code>RStudio</code>. The input instructions written to the R~Markdown file are written comments and interpretation with embedded <code>R</code> code. Doing a <code>knitr</code> analysis is to &quot;knit&quot; these comments and subsequent output together so that the <code>R</code> output is embedded in the resulting document, either html, pdf or Word, by default with explanation and interpretation. Generate a complete R~Markdown set of instructions ready to knit from the <code>Rmd</code> option. Simply specify the option and create the file and then open in <code>RStudio</code> and click the <code>knit</code> button to create a formatted document that consists of the statistical results and interpretative comments. See the following sections <code>arguments</code>, <code>value</code> and <code>examples</code> for more information. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corCFA(mimm=NULL, R=mycor, data=d, fac.names=NULL, 

         Rmd=NULL, explain=getOption("explain"),
         interpret=getOption("interpret"), results=getOption("results"),

         labels=c("include", "exclude", "only"),

         min_cor=.10, min_res=.05, iter=50, grid=TRUE, 

         resid=TRUE, item_cor=TRUE, sort=TRUE,

         main=NULL, heat_map=TRUE, bottom=NULL, right=NULL, 

         pdf_file=NULL, width=5, height=5,

         F1=NULL, F2=NULL, F3=NULL, F4=NULL, F5=NULL,
         F6=NULL, F7=NULL, F8=NULL, F9=NULL, F10=NULL,
         F11=NULL, F12=NULL, F13=NULL, F14=NULL, F15=NULL,
         F16=NULL, F17=NULL, F18=NULL, F19=NULL, F20=NULL,

         fun_call=NULL, ...)

cfa(...)

scales(..., iter=0, resid=FALSE, item_cor=FALSE, sort=FALSE, heat_map=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corCFA_+3A_mimm">mimm</code></td>
<td>
<p>Multiple indicator measurement model, a character string with the
specification of each factor on a separate line: the factor
name, an equals sign, and the indicators separated by plus signs. 
Each indicator is assigned to only one factor.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_r">R</code></td>
<td>
<p>Correlation matrix to be analyzed.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_data">data</code></td>
<td>
<p>Data frame of the original data to be checked for any
variable labels, usually indicator (item) content. This is not to
calculate correlations, which is separately provided for by the
<code>lessR</code> function <code><a href="#topic+Correlation">Correlation</a></code>.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_fac.names">fac.names</code></td>
<td>
<p>Optional factor names for the original, non-lavaan
model specification.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_rmd">Rmd</code></td>
<td>
<p>File name for the file of R Markdown instructions to be written,
if specified. The file type is .Rmd, which automatically opens in
RStudio, but it is a simple text file that can be edited with any text
editor, including RStudio.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_explain">explain</code></td>
<td>
<p>If set to <code>FALSE</code> the explanations of the results are not
provided in the R~Markdown file. Set globally with options(explain=FALSE).</p>
</td></tr>
<tr><td><code id="corCFA_+3A_interpret">interpret</code></td>
<td>
<p>If set to <code>FALSE</code> the interpretations
of the results are not provided in the R~Markdown file. Set globally with
options(interpret=FALSE).</p>
</td></tr>
<tr><td><code id="corCFA_+3A_results">results</code></td>
<td>
<p>If set to <code>FALSE</code> the results
are not provided in the R~Markdown file, relying upon the interpretations.
Set globally with options(results=FALSE).</p>
</td></tr>
<tr><td><code id="corCFA_+3A_labels">labels</code></td>
<td>
<p>If &quot;include&quot; or &quot;exclude&quot; then variable labels are displayed
(if available) or not, organized by the items within each factor.
If &quot;only&quot; then no data analysis performed, only the display of the
labels by factor.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_min_cor">min_cor</code></td>
<td>
<p>Minimum correlation to display. To display all, set to 0.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_min_res">min_res</code></td>
<td>
<p>Minimum residual to display. To display all, set to 0.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_iter">iter</code></td>
<td>
<p>Number of iterations for communality estimates.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_grid">grid</code></td>
<td>
<p>If <code>TRUE</code>, then separate items in different factors
by a grid of horizontal and vertical lines in the output 
correlation matrix.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_resid">resid</code></td>
<td>
<p>If <code>TRUE</code>, then calculate and print the residuals.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_item_cor">item_cor</code></td>
<td>
<p>If <code>TRUE</code>, display the indicator correlations.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_sort">sort</code></td>
<td>
<p>If <code>TRUE</code>, re-order the output correlation matrix so that
indicators within each factor are sorted by their factor loadings on
their own factor.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_main">main</code></td>
<td>
<p>Graph title of heat map. Set to <code>main=""</code> to turn off.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_heat_map">heat_map</code></td>
<td>
<p>If <code>TRUE</code>, display a heat map of the indicator
correlations with indicator communalities in the diagonal.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_bottom">bottom</code></td>
<td>
<p>Number of lines of bottom margin of heat map.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_right">right</code></td>
<td>
<p>Number of lines of right margin of heat map.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f1">F1</code></td>
<td>
<p>Variables that define Factor 1.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f2">F2</code></td>
<td>
<p>Variables that define Factor 2.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f3">F3</code></td>
<td>
<p>Variables that define Factor 3.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f4">F4</code></td>
<td>
<p>Variables that define Factor 4.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f5">F5</code></td>
<td>
<p>Variables that define Factor 5.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f6">F6</code></td>
<td>
<p>Variables that define Factor 6.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f7">F7</code></td>
<td>
<p>Variables that define Factor 7.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f8">F8</code></td>
<td>
<p>Variables that define Factor 8.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f9">F9</code></td>
<td>
<p>Variables that define Factor 9.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f10">F10</code></td>
<td>
<p>Variables that define Factor 10.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f11">F11</code></td>
<td>
<p>Variables that define Factor 11.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f12">F12</code></td>
<td>
<p>Variables that define Factor 12.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f13">F13</code></td>
<td>
<p>Variables that define Factor 13.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f14">F14</code></td>
<td>
<p>Variables that define Factor 14.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f15">F15</code></td>
<td>
<p>Variables that define Factor 15.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f16">F16</code></td>
<td>
<p>Variables that define Factor 16.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f17">F17</code></td>
<td>
<p>Variables that define Factor 17.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f18">F18</code></td>
<td>
<p>Variables that define Factor 18.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f19">F19</code></td>
<td>
<p>Variables that define Factor 19.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_f20">F20</code></td>
<td>
<p>Variables that define Factor 20.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used internally with <code>knitr</code> to pass the 
function call when obtained from the abbreviated function call <code>cfa</code>.
Not usually invoked by the user.</p>
</td></tr>
<tr><td><code id="corCFA_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
A multiple indicator measurement model defines one or more latent variables, called factors, in terms of mutually exclusive sets of indicator variables, such as items from a questionnaire or survey.  That is, each factor is defined by a unique set or group of indicators, and each indicator only contributes to the definition of one factor. Two sets of parameters are estimated by the model, the factor pattern coefficients, the lambda's, and the factor-factor correlations, the phi's. Also estimated here are the correlations of each indicator with the other factors. 
</p>
<p>INPUT<br />
Unless <code>labels="only"</code>, the analysis requires the correlation matrix of the indicators and the specification of the groups of indicators, each of which defines a factor in the multiple indicator measurement model.  The default name for the indicator correlation matrix is <code>mycor</code>, which is also the default name of the matrix produced by the <code>lessR</code> function <code><a href="#topic+Correlation">Correlation</a></code> that computes the correlations from the data, as well as the name of the matrix read by the <code>lessR</code> function <code><a href="#topic+corRead">corRead</a></code> that reads the already computed correlation matrix from an external file.
</p>
<p>For versions of <code>lessR</code> after 3.3, the correlation matrix computed by <code><a href="#topic+Correlation">Correlation</a></code> is now a list element called <code>R</code> within the returned list. For example, <code>mycor$R</code> from <code>mycor &lt;- cr(d)</code>. The function <code>corCFA</code> automatically finds this correlation matrix from just entering the entire list name of the returned list, <code>mycor</code>, or the specific location, <code>mycor$R</code>, or as a stand-alone numerical matrix as done in versions of <code>lessR</code> previous to 3.3. 
</p>
<p>The data frame from which the correlation matrix was computed is required only if any associated variable labels are listed, organized by the items within each factor. By default, <code>labels="include"</code>, these labels are listed as part of the analysis if they are available.
</p>
<p>Define the constituent variables, the indicators, of each factor with a listing of each variable by its name in the correlation matrix. Each of the up to 20 factors is named by default F1, F2, etc. If the specified variables of a factor are in consecutive order in the input correlation matrix, the list can be specified by listing the first variable, a colon, and then the last variable.  To specify multiple variables, a single variable or a list, separate each by a comma, then invoke the R combine or <code><a href="base.html#topic+c">c</a></code> function, preceded by the factor's name and an equals sign. For example, if the first factor is defined by variables in the input correlation matrix from m02 through m05, and the variable Anxiety, then define the factor in the <code>corCFA</code> function call according to <code>F1=c(m02:m05,Anxiety)</code>. 
</p>
<p>OUTPUT<br />
The result of the analysis is the correlation matrix of the indicator variables and resulting factors, plus the reliability analysis of the observed total scores or scale that corresponds to each factor.  Each scale is defined as an unweighted composite. The corresponding code to analyze the model with the <code>cfa</code> function from the <code>lavaan</code> package is also provided with the default maximum likelihood estimation procedure. The comparable <code>lavaan</code> solution appears in the column that represents the fully standardized solution, factors and indicators, <code>Std.all</code>, the last column of the solution output. If the <code>lavaan</code> library is loaded, then explicitly refer to the <code>lessR</code> function <code>cfa</code> with <code>lessR::cfa</code> and the corresponding <code>lavaan</code> function with <code>lavaan::cfa</code>.  
</p>
<p>VARIABLE LABELS<br />
To display the indicator content, first read the indicators as variable labels with the <code>lessR</code> function <code><a href="#topic+Read">Read</a></code>.  If this labels data frame exists, then the corresponding variable labels, such as the actual items on a survey, are listed by factor. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>
<p>HEAT MAP<br />
To help visualize the overall pattering of the correlations, the corresponding heat map of the item correlation matrix with communalities is produced when <code>heat_map=TRUE</code>, the default. As is true of the output correlation matrix, the correlations illustrated in the heat map are also sorted by their ordering within each factor. The corresponding color scheme is dictated by the system setting, according to the <code>lessR</code> function <code><a href="#topic+style">style</a></code>.  The default color scheme is <code>blue</code>.
</p>
<p>ESTIMATION PROCEDURE<br />
The estimation procedure is centroid factor analysis, which defines each factor, parallel to the definition of each scale score, as the unweighted composite of the corresponding items for that scale.  The latent variables are obtained by replacing the 1's in the diagonal of the indicator variable correlation matrix with communality estimates.  These estimates are obtained by iterating the solution to the specified number of iterations according to <code>iter</code>, which defaults to 50.
</p>
<p>A communality is the percentage of the item's correlation attributable to, in this situation of a multiple indicator measurement model, its one underlying factor.  As such, the communality is comparable to the item correlations for items within the same factor, which are also due only to the influence of the one common, underlying factor. A value of 0 for <code>iter</code> implies that the 1's remain in the observed variable correlation matrix, which then means that there are no latent factors defined.  Instead the resulting correlation matrix is of the observed scale scores and the component items.
</p>


<h3>Value</h3>

<p>TEXT OUTPUT<br />
<code>out_labels</code>: variables in the model<br />
<code>out_reliability</code>: reliability analysis with alpha and omega<br />
<code>out_indicators</code>: solution in terms of the analysis of each indicator<br />
<code>out_solution</code>: full solution<br />
<code>out_residuals</code>: residuals<br />
<code>out_res_stats</code>: stats for residuals<br />
<code>out_lavaan</code>: lavaan model specification<br />
</p>
<p>Separated from the rest of the text output are the major headings, which can then be deleted from custom collations of the output.
<code>out_title_scales</code>: scales<br />
<code>out_title_rel</code>: reliability analysis<br />
<code>out_title_solution</code>: solution<br />
<code>out_title_residuals</code>: residual analysis<br />
<code>out_title_lavaan</code>: lavaan specification<br />
</p>
<p>STATISTICS<br />
Returns a list of six components.<br />
1. <code>ff.cor</code>: matrix of the factor correlations<br />
2. <code>if.cor</code>: matrix of the indicator-factor correlations that includes the estimated pattern coefficients of the model that link a factor to its indicators<br />
3. <code>diag.cor</code>: the indicator communalities<br />
4. <code>alpha</code>: coefficient alpha for each set of indicators<br />
5. <code>omega</code>: if a factor analysis with communality estimates (<code>iter</code> &gt; 0), contains coefficient omega for each set of indicators<br />
6. <code>pred</code>: matrix of correlations predicted by the model and its estimates 
7. <code>resid</code>: matrix of raw indicator residuals defined as the observed correlation minus that predicted by the model and its estimates 
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapter 11, NY: Routledge.
</p>
<p>Gerbing, D. W., &amp; Hamilton, J. G. (1994). The surprising viability of a simple alternate estimation procedure for the construction of large-scale structural equation measurement models. Structural Equation Modeling: A Multidisciplinary Journal, 1, 103-115.
</p>
<p>Hunter, J. E., Gerbing, D. W., &amp; Boster, F. J. (1982). Machiavellian beliefs and personality: The construct invalidity of the Machiavellian dimension. Journal of Personality and Social Psychology, 43, 1293-1305.
</p>
<p>Hunter, J. &amp; Cohen, J. (1969). PACKAGE: A system of computer routines for the analysis of correlational data. Educational and Psychological Measurement, 1969, 29, 697-700.
</p>
<p>Yves Rosseel (2012). lavaan: An R Package for Structural Equation
Modeling. Journal of Statistical Software, 48(2), 1-36. URL
http://www.jstatsoft.org/v48/i02/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># perfect input correlation matrix for two-factor model
# Population Factor Pattern of the 3 items for each respective
#   Factor: 0.8, 0.6, 0.4
# Population Factor-Factor correlation: 0.3
mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("X1", "X2", "X3", "X4", "X5", "X6")
rownames(mycor) &lt;- colnames(mycor)

# the confirmatory factor analysis
# first three variables with first factor, last three with second
# default correlation matrix is mycor
MeasModel &lt;- 
" 
   First =~ X1 + X2 + X3 
   Second =~ X4 + X5 + X6
"
c &lt;- cfa(MeasModel)

# access the solution directly by saving to an object called fit
cfa(MeasModel)
fit &lt;- cfa(MeasModel)
fit
# get the pattern coefficients from the communalities
lambda &lt;- sqrt(fit$diag.cor)
lambda

# alternative specification described in Gerbing(2014),
#   retained to be consistent with that description
# can specify the items with a colon and with commas
# abbreviated form of function name: cfa
cfa(F1=c(X4,X5,X6), F2=X1:X3)

# component analysis, show observed scale correlations
scales(F1=X1:X3, F2=X4:X6)

# produce a gray scale heat map of the item correlations
#   with communalities in the diagonal
# all subsequent graphics are in gray scale until changed
style("gray")
corCFA(F1=X1:X3, F2=X4:X6)

# access the lessR data set called datMach4
# read the optional variable labels
d &lt;- Read("Mach4", quiet=TRUE)
l &lt;- Read("Mach4_lbl", var_labels=TRUE)
# calculate the correlations and store in mycor
mycor &lt;- cr(m01:m20)
R &lt;- mycor$R
# specify measurement model in Lavaan notation
MeasModel &lt;- 
" 
   Deceit =~ m07 + m06 + m10 + m09 
   Trust =~ m12 + m05 + m13 + m01 
   Cynicism =~ m11 + m16 + m04 
   Flattery =~ m15 + m02 
"
# confirmatory factor analysis of 4-factor solution of Mach IV scale
# Hunter, Gerbing and Boster (1982)
# generate R Markdown instructions with the option: Rmd
# Output file will be m4.Rmd, a simple text file that can
#   be edited with any text editor including RStudio, from which it
#   can be knit to generate dynamic output such as to a Word document
#c &lt;- cfa(MeasModel, R, Rmd="m4")
# view all the output
#c
# view just the scale reliabilities
#c$out_reliability

# analysis of item content only
cfa(MeasModel, labels="only")


# bad fitting model to illustrate indicator diagnostics
mycor &lt;- corReflect(vars=c(m20))
MeasModel &lt;- 
" 
   F1 =~ m06 + m09 + m19
   F2 =~ m07
   F3 =~ m04 + m11 + m16 
   F4 =~ m15 + m12 + m20 + m18 
"
cfa(MeasModel)
</code></pre>

<hr>
<h2 id='corEFA'>Exploratory Factor Analysis and Multiple Indicator Measurement Model</h2><span id='topic+corEFA'></span><span id='topic+efa'></span>

<h3>Description</h3>

<p>Abbreviation: <code>efa</code>
</p>
<p>A maximum likelihood exploratory factor analysis of an input correlation matrix, provided by the standard R exploratory factor analysis <code><a href="stats.html#topic+factanal">factanal</a></code>, which requires the specified number of factors as an input to the analysis. Then constructs the code to run the corresponding multiple indicator measurement model (MIMM) suggested by the exploratory factor analysis loadings in terms of both the <code>lessR</code> <code><a href="#topic+corCFA">corCFA</a></code> and the <code>cfa</code> function from the <code>lavaan</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corEFA(R=mycor, n_factors, rotate=c("promax", "varimax", "none"), 
          min_loading=.2, sort=TRUE, Rmd=NULL, ...)

efa(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corEFA_+3A_r">R</code></td>
<td>
<p>Correlation matrix.</p>
</td></tr>
<tr><td><code id="corEFA_+3A_n_factors">n_factors</code></td>
<td>
<p>Number of factors.</p>
</td></tr>
<tr><td><code id="corEFA_+3A_rotate">rotate</code></td>
<td>
<p>Rotation method, if any. Choices are promax (obique) or
varimax (orthogonal.</p>
</td></tr>
<tr><td><code id="corEFA_+3A_min_loading">min_loading</code></td>
<td>
<p>Minimum loading to include in suggested factor for
confirmatory analysis and for the display of the loadings for the
exploratory analysis. To ignore, set to 0.</p>
</td></tr>
<tr><td><code id="corEFA_+3A_sort">sort</code></td>
<td>
<p>Sort the input variables by their highest factor loadings (but only
first just list those items with loadings larger than 0.5).</p>
</td></tr>
<tr><td><code id="corEFA_+3A_rmd">Rmd</code></td>
<td>
<p>File name for the file of R markdown to be written,
if specified. The file type is .Rmd, which automatically opens in RStudio,
but it is a simple text file that can be edited with any text editor,
including RStudio.</p>
</td></tr>
<tr><td><code id="corEFA_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only the loadings from the exploratory factor analysis are provided, with either an oblique (promax), by default, or an orthogonal (varimax) rotation.  If more information is desired, run <code><a href="stats.html#topic+factanal">factanal</a></code> directly.
</p>
<p>Also provides the associated multiple indicator measurement model suggested by the exploratory factor analysis. Each MIMM factor is defined by the items that have the highest loading on the corresponding exploratory factor.
</p>
<p>For versions of <code>lessR</code> after 3.3, the correlation matrix computed by <code><a href="#topic+Correlation">Correlation</a></code> is now a list element called <code>R</code> within the returned list. For example, <code>mycor$R</code> from <code>mycor &lt;- cr(d)</code>. The function <code>corEFA</code> automatically finds this correlation matrix from just entering the entire list name of the returned list, <code>mycor</code>, or the specific location, <code>mycor$R</code>, or as a stand-alone numerical matrix as done in versions of <code>lessR</code> previous to 3.3. 
</p>


<h3>Value</h3>

<p>The output can optionally be returned and saved into an <code>R</code> object, otherwise it simply appears at the console. The components of this object are redesigned in <code>lessR</code> version 3.3 into three different types: pieces of text that form the readable output, a variety of statistics, and R markdown instructions. The readable output are character strings such as tables amenable for viewing and interpretation. The statistics are numerical values amenable for further analysis, such as to be referenced in a subsequent R markdown document. The R~Markdown input is available for entry direct into <code>knitr</code>, such as in RStudio. The motivation of these three types of output is to facilitate R markdown documents, as the name of each piece, preceded by the name of the saved object followed by a dollar sign, can be inserted into the R markdown document (see <code>examples</code>).
</p>
<p>READABLE OUTPUT<br />
<code>out_title</code>: Variables in the model, rows of data and retained<br />
<code>out_loadings</code>: Estimated coefficients, hypothesis tests and confidence intervals<br />
<code>out_sum_squares</code>: Fit indices<br />
<code>out_cfa_title</code>: Analysis of variance<br />
<code>out_ice</code>: Correlations among all variables in the model<br />
<code>out_lavaan</code>: Collinearity analysis<br />
<code>out_deleted</code>: R squared adjusted for all (or many) possible subsets<br />
</p>
<p>STATISTICS<br />
<code>Rmd</code>: Instructions to run through <code>knitr</code>, such as copy and paste, to obtain output in the form of a web file, pdf document or Word document. Can also obtain these instructions with the <code>Rmd</code> option, which writes them directly to the specified text file. Obtain a less detailed <code>Rmd</code> file by setting <code>explain=FALSE</code>. 
</p>
<p>Although not typically needed for analysis, if the output is assigned to an object named, for example, <code>fa</code>, then the complete contents of the object can be viewed directly with the <code><a href="base.html#topic+unclass">unclass</a></code> function, here as <code>unclass(fa)</code>. Invoking the <code><a href="base.html#topic+class">class</a></code> function on the saved object reveals a class of <code>out_all</code>. The class of each of the text pieces of output is <code>out</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapter 11, NY: Routledge.
</p>
<p>Yves Rosseel (2012). lavaan: An R Package for Structural Equation
Modeling. Journal of Statistical Software, 48(2), 1-36. URL
http://www.jstatsoft.org/v48/i02/.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># input correlation matrix of perfect two-factor model
# Factor Pattern for each Factor: 0.8, 0.6, 0.4
# Factor-Factor correlation: 0.3
mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("X1", "X2", "X3", "X4", "X5", "X6")
rownames(mycor) &lt;- colnames(mycor) 

# default factor analysis of default correlation matrix mycor
#   with two factors extracted
corEFA(n_factors=2)

# abbreviated form
# use all items to construct the MIMM, regardless of their loadings
#  and show all loadings
# show the initial factor extraction
efa(n_factors=2, min_loading=0, show_initial=TRUE)
</code></pre>

<hr>
<h2 id='corProp'>Proportionality Coefficients from Correlations</h2><span id='topic+corProp'></span><span id='topic+cp'></span>

<h3>Description</h3>

<p>Abbreviation: <code>cp</code>
</p>
<p>In the population, indicators of the same factor or latent variable have parallel correlations with all other variables. Of course, in the presence of sampling error, this parallelism will only be approximate. To assess this parallelism, proportionality coefficients are computed for each pair of variables in the input correlation matrix.  Also output is a heat map of the resulting matrix of proportionality coefficients. Each graph is based on a default color theme. The original default is <code>lightbronze</code>, but other color palettes can be generated as well.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corProp(R=mycor, 
          main=NULL, heat_map=TRUE, bottom=NULL, right=NULL, 
          pdf_file=NULL, width=5, height=5, ...)

cp(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corProp_+3A_r">R</code></td>
<td>
<p>Correlation matrix.</p>
</td></tr>
<tr><td><code id="corProp_+3A_main">main</code></td>
<td>
<p>Graph title. Set to <code>main=""</code> to turn off.</p>
</td></tr>
<tr><td><code id="corProp_+3A_heat_map">heat_map</code></td>
<td>
<p>If <code>TRUE</code>, display a heat map of the item
correlations with the diagonal ignored.</p>
</td></tr>
<tr><td><code id="corProp_+3A_bottom">bottom</code></td>
<td>
<p>Number of lines of bottom margin.</p>
</td></tr>
<tr><td><code id="corProp_+3A_right">right</code></td>
<td>
<p>Number of lines of right margin.</p>
</td></tr>
<tr><td><code id="corProp_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="corProp_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corProp_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corProp_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Proportionality coefficients indicate the extent of proportionality between two variables.  Perfect proportionality of two variables is consistent with both variables being indicators of the same latent variable or factor and indicators of no other factor.
</p>
<p>In the current version the diagonal of the input correlation matrix is ignored.  To maintain parallelism, the diagonal element of 1.00 would need to be replaced the corresponding communalities, which first requires a factor analysis.  
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapter 11, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># input correlation matrix of perfect two-factor model
# Factor Pattern for each Factor: 0.8, 0.6, 0.4
# Factor-Factor correlation: 0.3
mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("X1", "X2", "X3", "X4", "X5", "X6")
rownames(mycor) &lt;- colnames(mycor)

# proportionality coefficients of correlation matrix mycor
# indicators of the same factor have proportional correlations
corProp()

# abbreviated form
cp()

# calculate and store proportionality coefficients in myprop
# order the proportionality coefficients to help identify factors
myprop &lt;- corProp()
corReorder(myprop)
</code></pre>

<hr>
<h2 id='corRead'>Read Specified Correlation Matrix</h2><span id='topic+corRead'></span><span id='topic+rd.cor'></span>

<h3>Description</h3>

<p>Abbreviation: <code>rd.cor</code>
</p>
<p>A wrapper for base~R <code><a href="utils.html#topic+read.table">read.table</a></code>. Read a correlation matrix into R. All coefficients for each variable must be on one physical row.  No variable names are in the file to be read.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corRead(from=NULL, var_names=NULL, ...)

rd.cor(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corRead_+3A_from">from</code></td>
<td>
<p>File reference, either omitted to browse for the data file,
or a full path name or web URL, included in quotes.  A URL
begins with <code>http://</code>.</p>
</td></tr>
<tr><td><code id="corRead_+3A_var_names">var_names</code></td>
<td>
<p>The names of the variables in the matrix.</p>
</td></tr>
<tr><td><code id="corRead_+3A_...">...</code></td>
<td>
<p>Parameter values for base R <code><a href="utils.html#topic+read.table">read.table</a>.</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Read a correlation, or any square, matrix into R. All coefficients for each variable must be on one row.  No variable names are in the file to be read. The coefficients within each row, that is, for a single variable, are delimited by a white space, such as one or more blanks. 
</p>
<p>The standard R function that reads the matrix is <code><a href="utils.html#topic+read.table">read.table</a></code>.
</p>
<p>By default the variables are named X1, X2, etc.  If the <code>var_names</code> option is invoked, then the specified names refer to the respective rows and columns of the matrix.  Here it may be convenient to name the variables with the <code>lessR</code> function <code><a href="#topic+to">to</a></code>.
</p>
<p>The alternative is to calculate the correlations from the data, such as with the <code>lessR</code> function <code><a href="#topic+Correlation">Correlation</a></code> or the standard R function <code><a href="stats.html#topic+cor">cor</a></code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapter 8, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>, <code><a href="utils.html#topic+read.table">read.table</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># browse for the data file because ref is omitted
# name the variables with the lessR function to
# mycor &lt;- corRead(var_names=to("m",20))

# abbreviated form
# read a matrix with 4 variables and specify the names
# mycor &lt;- rd.cor(var_names=c("m06","m07","m09","m10"))
</code></pre>

<hr>
<h2 id='corReflect'>Reflect Specified Variables in a Correlation Matrix</h2><span id='topic+corReflect'></span><span id='topic+reflect'></span>

<h3>Description</h3>

<p>Abbreviation: <code>reflect</code>
</p>
<p>Reflects the specified variables by multiplying each correlation of the variable by -1.
Usually a prelude to a factor analysis, such as provided by <code><a href="#topic+corCFA">corCFA</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corReflect(R=mycor, vars,
          main=NULL, heat_map=TRUE, bottom=NULL,right=NULL, 
          pdf_file=NULL, width=5, height=5, ...)

reflect(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corReflect_+3A_r">R</code></td>
<td>
<p>Correlation matrix.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_vars">vars</code></td>
<td>
<p>List of the re-ordered variables, each variable listed by its ordinal
position in the input correlation matrix.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_main">main</code></td>
<td>
<p>Graph title. Set to <code>main=""</code> to turn off.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_heat_map">heat_map</code></td>
<td>
<p>If <code>TRUE</code>, display a heat map of the item
correlations with item communalities in the diagonal.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_bottom">bottom</code></td>
<td>
<p>Number of lines of bottom margin.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_right">right</code></td>
<td>
<p>Number of lines of right margin.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corReflect_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reflects the specified variables by multiplying each correlation of the variable by -1.
The original data from which the correlations are computed is unmodified unless the output of the function is written into the input correlation matrix, by default <code>mycor</code>.
</p>
<p>Define the constituent variables, the items, with a listing of each variable by its name in the correlation matrix. If the specified variables are in consecutive order in the input correlation matrix, the list can be specified by listing the first variable, a colon, and then the last variable.  To specify multiple variables, a single variable or a list, separate each by a comma, then invoke the R combine or <code><a href="base.html#topic+c">c</a></code> function. For example, if the list of variables in the input correlation matrix is from m02 through m05, and the variable Anxiety, then define the list in the <code>corReflect</code> function call according to <code>vars=c(m02:m05,Anxiety)</code>. 
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>, <code><a href="#topic+recode">recode</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># input correlation matrix of perfect two-factor model
# Factor Pattern for each Factor: 0.8, 0.6, 0.4
# Factor-Factor correlation: 0.3
mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("V1", "V2", "V3", "V4", "V5", "V6")
rownames(mycor) &lt;- colnames(mycor) 

# reflect all 3 indicators of the second factor
mynewcor &lt;- corReflect(vars=c(V4,V5,V6))

# abbreviated form
# replace original mycor
mycor &lt;- reflect(vars=c(V4,V5,V6))
</code></pre>

<hr>
<h2 id='Correlation'>Correlation Analysis</h2><span id='topic+Correlation'></span><span id='topic+cr'></span><span id='topic+cr_brief'></span>

<h3>Description</h3>

<p>Abbreviation: <code>cr</code>, <code>cr_brief</code>
</p>
<p>For two variables, yields the correlation coefficient with hypothesis test and confidence interval. For a data frame or list of variables from a data frame, yields the correlation matrix. The default computed coefficient(s) are the standard Pearson's product-moment correlation, with Spearman and Kendall coefficients available. For the default missing data technique of pairwise deletion, an analysis of missing data for each computed correlation coefficient is provided. For a correlation matrix a statistical summary of the missing data across all cells is provided.
</p>
<p>Versions of this function from <code>lessR</code> 3.3 or earlier returned just a correlation matrix.  Now other values are returned as well so that the correlation matrix is now stored as part of a returned list in <code>R</code>, directly available, for example, as <code>mycor$R</code> from <code>mycor &lt;- cr(d)</code>. This revision is automatically adjusted for in the <code>lessR</code> routines that read the subsequent correlation matrix, so all pre-existing code continues to work. That is, the input into any of these routines could be, for example, <code>mycor</code>, <code>mycor$R</code> or a stand-alone correlation matrix such as in pre-<code>lessR</code> 3.3.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Correlation(x, y, data=d,
         miss=c("pairwise", "listwise", "everything"),
         fill_low=NULL, fill_hi=NULL,
         show_n=NULL, brief=FALSE,
         digits_d=NULL, heat_map=TRUE,
         main=NULL, bottom=3, right=3,
         pdf=FALSE, width=5, height=5, ...)

cr_brief(..., brief=TRUE) 

cr(...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Correlation_+3A_x">x</code></td>
<td>
<p>First variable, or list of variables for a correlation matrix.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_y">y</code></td>
<td>
<p>Second variable or not specified if the first argument is a list.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variables of interest,
default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_miss">miss</code></td>
<td>
<p>Basis for deleting missing data values_</p>
</td></tr>
<tr><td><code id="Correlation_+3A_fill_low">fill_low</code></td>
<td>
<p>Starting color for a custom sequential palette.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_fill_hi">fill_hi</code></td>
<td>
<p>Ending color for a custom sequential palette.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_show_n">show_n</code></td>
<td>
<p>For pairwise deletion, show the matrix of sample sizes for each
correlation coefficient, regardless of sample size.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_brief">brief</code></td>
<td>
<p>Pertains to a single correlation coefficient analysis. If 
<code>FALSE</code>, then the sample covariance and number of non-missing
and missing observations are displayed.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_digits_d">digits_d</code></td>
<td>
<p>Specifies the number of decimal digits to display in the output.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_heat_map">heat_map</code></td>
<td>
<p>If <code>TRUE</code>, generate a heat map.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_main">main</code></td>
<td>
<p>Graph title of heat map. Set to <code>main=""</code> to turn off.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_bottom">bottom</code></td>
<td>
<p>Number of lines of bottom margin of heat map.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_right">right</code></td>
<td>
<p>Number of lines of right margin of heat map.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_pdf">pdf</code></td>
<td>
<p>If <code>TRUE</code>, generate the heat map
and write to pdf files.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="Correlation_+3A_...">...</code></td>
<td>
<p>Other parameter values for internally called functions, which
include <code>method="spearman"</code> and <code>method="kendall"</code> and also
<code>alternative="less"</code> and <code>alternative="more"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When two variables are specified, both <code>x</code> and y, the output is the correlation coefficient with hypothesis test, for a null hypothesis of 0, and confidence interval. Also displays the sample covariance. Based on R functions <code><a href="stats.html#topic+cor">cor</a></code>, <code><a href="stats.html#topic+cor.test">cor.test</a></code>, <code><a href="stats.html#topic+cov">cov</a></code>.
</p>
<p>In place of two variables <code>x</code> and <code>y</code>, <code>x</code> can be a complete data frame, either specified with the name of a data frame, or blank to rely upon the default data frame <code>d</code>. Or, <code>x</code> can be a list of variables from the input data frame. In these situations <code>y</code> is missing. Any non-numeric variables in the data frame or specified variable list are automatically deleted from the analysis. 
</p>
<p>When <code>heat_map=TRUE</code>, generate a heat map to standard graphics windows. Set <code>pdf=TRUE</code> to generate these graphics but have them directed to their respective pdf files.
</p>
<p>For treating missing data, the default is <code>pairwise</code>, which means that an observation is deleted only for the computation of a specific correlation coefficient if one or both variables are missing the value for the relevant variable(s).  For <code>listwise</code> deletion, the entire observation is deleted from the analysis if any of its data values are missing.  For the more extreme <code>everything</code> option, any missing data values for a variable result in all correlations for that variable reported as missing.
</p>


<h3>Value</h3>

<p>From versions of <code>lessR</code> of 3.3 and earlier, if a correlation matrix is computed, the matrix is returned. Now more values are returned, so the matrix is embedded in a list of returned elements.
</p>
<p>READABLE OUTPUT<br />
</p>
<p>single coefficient<br />
<code>out_background</code>: Variables in the model, any variable labels<br />
<code>out_describe</code>: Estimated coefficients<br />
<code>out_inference</code>: Hypothesis test and confidence interval estimated coefficient<br />
</p>
<p>matrix<br />
<code>out_background</code>: Variables in the model, any variable labels<br />
<code>out_missing</code>: Missing values analysis<br />
<code>out_cor</code>: Correlations<br />
</p>
<p>STATISTICS<br />
</p>
<p>single coefficient<br />
<code>r</code>: Model formula that specifies the model<br />
<code>tvalue</code>: t-statistic of estimated value of null hypothesis of no relationship<br />
<code>df</code>: Degrees of freedom of hypothesis test 
<code>pvalue</code>: Number of rows of data submitted for analysis<br />
<code>lb</code>: Lower bound of confidence interval<br />
<code>ub</code>: Upper bound of confidence interval<br />
</p>
<p>matrix<br />
<code>R</code>: Correlations<br />
</p>
<p>Usually assign the name of <code>mycor</code> to the output matrix, as in following examples. This matrix is ready for input into any of the <code>lessR</code> functions that analyze correlational data, including confirmatory factor analysis by <code><a href="#topic+corCFA">corCFA</a></code> and also exploratory factor analysis, either the standard R function <code><a href="stats.html#topic+factanal">factanal</a></code> or the <code>lessR</code> function <code><a href="#topic+corEFA">corEFA</a></code> 
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapter 10, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+cor.test">cor.test</a></code>, <code><a href="stats.html#topic+cov">cov</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># data
n &lt;- 12
f &lt;- sample(c("Group1","Group2"), size=n, replace=TRUE)
x1 &lt;- round(rnorm(n=n, mean=50, sd=10), 2)
x2 &lt;- round(rnorm(n=n, mean=50, sd=10), 2)
x3 &lt;- round(rnorm(n=n, mean=50, sd=10), 2)
x4 &lt;- round(rnorm(n=n, mean=50, sd=10), 2)
d &lt;- data.frame(f,x1, x2, x3, x4)
rm(f); rm(x1); rm(x2); rm(x3); rm(x4)

# correlation and covariance
Correlation(x1, x2)
# short name
cr(x1, x2)
# brief form of output
cr_brief(x1, x2)

# Spearman rank correlation, one-sided test
Correlation(x1, x2, method="spearman", alternative="less")

# correlation matrix of the numerical variables in mycor
mycor &lt;- Correlation()

# correlation matrix of Kendall's tau coefficients
mycor &lt;- cr(method="kendall")

# correlation matrix of specified variables in mycor with heat_map
mycor &lt;- Correlation(x1:x3, heat_map=TRUE)

# analysis with data not from data frame mycor
data(attitude)
mycor &lt;- Correlation(rating, learning, data=attitude)

# analysis of entire data frame that is not mycor
data(attitude)
mycor &lt;- Correlation(attitude)
</code></pre>

<hr>
<h2 id='corReorder'>Reorder Variables in a Correlation Matrix</h2><span id='topic+corReorder'></span><span id='topic+reord'></span>

<h3>Description</h3>

<p>Abbreviation: <code>reord</code>
</p>
<p>Re-arranges the order of the variables in the input correlation matrix.  If no variable list is specified then by default the variables are re-ordered according to hierarchical clustering. Or, re-order with the Hunter (1973) chain method in which the first variable is the variable with the largest sum of squared correlations of all the variables, then the next variable is that with the highest correlation with the first variable, and so forth. Or, re-order manually.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corReorder(R=mycor, order=c("hclust", "chain", "manual", "as_is"),
          hclust_type = c("complete", "ward.D", "ward.D2", "single",
                          "average", "mcquitty", "median", "centroid"),
          dist_type=c("R", "dist"),
          n_clusters=NULL, vars=NULL, chain_first=0,
          heat_map=TRUE, dendrogram=TRUE, diagonal_new=TRUE,
          main=NULL, bottom=NULL, right=NULL,
          pdf=FALSE, width=5, height=5, ...)

reord(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corReorder_+3A_r">R</code></td>
<td>
<p>Correlation matrix.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_order">order</code></td>
<td>
<p>Source of ordering (seriation): Default of hierarchical cluster
analysis,
Hunter(1973) chain method, manually specified with <code>vars</code>, or left
<code>"as_is"</code>.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_hclust_type">hclust_type</code></td>
<td>
<p>Type of hierarchical cluster analysis.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_dist_type">dist_type</code></td>
<td>
<p>Default is a correlation matrix of similarities, otherwise
a distance matrix.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_n_clusters">n_clusters</code></td>
<td>
<p>For a hierarchical cluster analysis, optionally specify
the cluster
membership for the specified number of clusters.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_vars">vars</code></td>
<td>
<p>List of the re-ordered variables, each variable listed by its ordinal
position in the input correlation matrix. If this is set, then
<code>order</code> set to <code>"manual"</code>.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_chain_first">chain_first</code></td>
<td>
<p>The first variable listed in the ordered matrix with
the chain method.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_main">main</code></td>
<td>
<p>Graph title. Set to <code>main=""</code> to turn off.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_heat_map">heat_map</code></td>
<td>
<p>If <code>TRUE</code>, display a heat map of the item correlations.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_dendrogram">dendrogram</code></td>
<td>
<p>If <code>TRUE</code>, display a heat map of the item correlations
for a hierarchical cluster analysis.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_diagonal_new">diagonal_new</code></td>
<td>
<p>If <code>TRUE</code>, replace diagonal for the heat map only
with an average of the correlation of item on the diagonal with the two
adjacent items.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_bottom">bottom</code></td>
<td>
<p>Number of lines of bottom margin.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_right">right</code></td>
<td>
<p>Number of lines of right margin.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_pdf">pdf</code></td>
<td>
<p>Set to <code>TRUE</code> if graphics files written to pdf, the heat map
of the re-ordered matrix, and, if an hierarchical cluster analysis, the
dendrogram.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corReorder_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reorder and/or delete variables in the input correlation matrix.  
</p>
<p>Define the constituent variables, the items, with a listing of each variable by its name in the correlation matrix. If the specified variables are in consecutive order in the input correlation matrix, the list can be specified by listing the first variable, a colon, and then the last variable.  To specify multiple variables, a single variable or a list, separate each by a comma, then invoke the R combine or <code><a href="base.html#topic+c">c</a></code> function. For example, if the list of variables in the input correlation matrix is from m02 through m05, and the variable Anxiety, then define the list in the <code>corReorder</code> function call according to <code>vars=c(m02:m05,Anxiety)</code>. 
</p>
<p>Or, define the ordering with a hierarchical cluster analysis from the base R function <code>hclust()</code>. The same default type of <code>"complete"</code> is provided, though this can be changed with the parameter <code>hclust_type</code> according to <code><a href="stats.html#topic+hclust">hclust</a></code>. Default input is a correlation matrix, converted to a matrix of dissimilarities by subtracting each element from 1.
</p>
<p>Or, use the Hunter (1973) chain method. Define the ordering of the variables according to the following algorithm. If no variable list is specified then the variables are re-ordered such that the first variable is that which has the largest sum of squared correlations of all the variables, then the variable that has the highest correlation with the first variable, and so forth.
</p>
<p>In the absence of a variable list, the first variable in the re-ordered matrix can be specified with the <code>chain_first</code> option.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Hunter, J.E. (1973), Methods of reordering the correlation matrix to facilitate visual inspection and preliminary cluster analysis, Journal of Educational Measurement, 10, p51-61.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>, <code><a href="stats.html#topic+hclust">hclust</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># input correlation matrix of perfect two-factor model
# Factor Pattern for each Factor: 0.8, 0.6, 0.4
# Factor-Factor correlation: 0.3
mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("V1", "V2", "V3", "V4", "V5", "V6")
rownames(mycor) &lt;- colnames(mycor)

# leave only the 3 indicators of the second factor
#  in reverse order
#replace original mycor
mycor &lt;- corReorder(vars=c(V6,V5,V4))

#  reorder according to results of a hierarchical cluster analysis
mynewcor &lt;- corReorder()

#  get cluster membership for two clusters
# specify each parameter
mynewcor &lt;- corReorder(mycor, order="hclust", n_clusters=2)

#  reorder with first variable with largest sums of squares
mynewcor &lt;- corReorder(order="chain")

# reorder the variables according to the ordering algorithm
#  with the 4th variable listed first
# no heat map
mynewcor &lt;- corReorder(chain_first=2, heat_map=FALSE)

mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("V1", "V2", "V3", "V4", "V5", "V6")
rownames(mycor) &lt;- colnames(mycor)

# can also re=order with index position of each variable
mycor &lt;- corReorder(vars=c(4,5,6,1,2,3))

</code></pre>

<hr>
<h2 id='corScree'>Eigenvalue Plot of a Correlation Matrix</h2><span id='topic+corScree'></span><span id='topic+scree'></span>

<h3>Description</h3>

<p>Abbreviation: <code>scree</code>
</p>
<p>Plots the successive eigenvalues of an input correlation matrix. Also plots the successive differences of the eigenvalues. The purpose is usually to help determine the number of factors that explain the correlations in a correlation matrix. So usually a prelude to an exploratory factor analysis, such as provided by the <code>lessR</code> function <code><a href="#topic+corEFA">corEFA</a></code>. This program relies upon the standard R exploratory factor analysis <code><a href="stats.html#topic+factanal">factanal</a></code>, which requires the specified number of factors as an input to the analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>corScree(R=mycor, 
          main=NULL, pdf=FALSE, width=5, height=5, ...)

scree(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="corScree_+3A_r">R</code></td>
<td>
<p>Correlation matrix.</p>
</td></tr>
<tr><td><code id="corScree_+3A_main">main</code></td>
<td>
<p>Graph title, which is blank by default.</p>
</td></tr>
<tr><td><code id="corScree_+3A_pdf">pdf</code></td>
<td>
<p>Indicator as to if the graphic files should be saved as pdf files
instead of directed to the standard graphics windows.</p>
</td></tr>
<tr><td><code id="corScree_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corScree_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="corScree_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Interpretation of the scree plot to assist in the assessment of the number of factors that account for the structure of a correlation matrix depends primarily on the analysis of the differences between the successive eigenvalues_ The differences begin to diminish where the &quot;scree&quot; begins, analogous to the debris that falls off of a hill top.  Accordingly both the scree plot itself, the plot of the successive eigenvalues, and the plot of the differences of the successive eigenvalues are presented.
</p>
<p>PDF OUTPUT<br />
Because of the customized graphic windowing system that maintains a unique graphic window for the Help function, the standard graphic output functions such as <code><a href="grDevices.html#topic+pdf">pdf</a></code> do not work with the <code>lessR</code> graphics functions.  Instead, to obtain pdf output, use the <code>pdf_file</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>
<p>If the two plots, of the population and sample distributions respectively, are written to pdf files, according to <code>pdf=TRUE</code>, they are named Scree.pdf and ScreeDiff.pdf. Their names and the directory to which they are written are provided as part the console output.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapters 9 and 10, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Correlation">Correlation</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># input correlation matrix of perfect two-factor model
# Factor Pattern for each Factor: 0.8, 0.6, 0.4
# Factor-Factor correlation: 0.3
mycor &lt;- matrix(nrow=6, ncol=6, byrow=TRUE,
c(1.000,0.480,0.320,0.192,0.144,0.096,
  0.480,1.000,0.240,0.144,0.108,0.072,
  0.320,0.240,1.000,0.096,0.072,0.048,
  0.192,0.144,0.096,1.000,0.480,0.320,
  0.144,0.108,0.072,0.480,1.000,0.240,
  0.096,0.072,0.048,0.320,0.240,1.000))
colnames(mycor) &lt;- c("V1", "V2", "V3", "V4", "V5", "V6")
rownames(mycor) &lt;- colnames(mycor) 

# obtain the scree plots
corScree()

# abbreviated form
scree()
</code></pre>

<hr>
<h2 id='CountAll'>CountAll Descriptive Analysis of all Variables in the Data Frame</h2><span id='topic+CountAll'></span><span id='topic+ca'></span>

<h3>Description</h3>

<p>Automatically call the following functions in this package:  <code><a href="#topic+SummaryStats">SummaryStats</a></code>, <code><a href="#topic+Histogram">Histogram</a></code> and <code><a href="#topic+BarChart">BarChart</a></code>. The result is set of summary statistics for every variable in the data frame, by default called <code>d</code>, a histogram for each numerical variable and a bar chart for each categorical variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>CountAll(x=d, quiet=FALSE, ...)

ca(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CountAll_+3A_x">x</code></td>
<td>
<p>Data frame that contains the variables to analyze, by default <code>d</code>.</p>
</td></tr>
<tr><td><code id="CountAll_+3A_quiet">quiet</code></td>
<td>
<p>Suppress text output if <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="CountAll_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>CountAll</code> is designed to work in conjunction with the <code>lessR</code> function <code><a href="#topic+Read">Read</a></code>, which reads a <code>csv</code> or other formatted data file into the data frame <code>d</code>. All the bar charts and associated summary statistics are written to one file and all the histograms and associated summary statistics for the numerical variables are written to another file.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+SummaryStats">SummaryStats</a></code>, <code><a href="#topic+Histogram">Histogram</a></code>, <code><a href="#topic+BarChart">BarChart</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create data frame called d
n &lt;- 12
X &lt;- sample(c("Group1","Group2"), size=n, replace=TRUE)
Y &lt;- rnorm(n=n, mean=50, sd=10)
d &lt;- data.frame(X,Y)
rm(X); rm(Y);

# CountAll descriptive analysis of d
CountAll()
# short name
ca()
</code></pre>

<hr>
<h2 id='dataAnova_1way'>Data for a One-Way ANOVA</h2><span id='topic+dataAnova_1way'></span>

<h3>Description</h3>

<p>To study the impact of arousal on the ability to complete a task, 24 laboratory rats were randomly and equally divided into three groups of eight. Each rat was administered one of three dosages of an arousal inducing drug: 0, 5, and 10 milligrams. Following the dosage, each rat completed a maze to obtain a food reward. The response (dependent) variable is the Time in seconds to complete the maze.</p>


<h3>Format</h3>

<p>A data table with 24 rows of data and 2 columns, with variables Dosage and Time.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Gerbing, D. W. (later in 2022). R Data Analysis without Programming, 2nd Edition, Chapter 7, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_1way")
ANOVA(Time ~ Dosage)
</code></pre>

<hr>
<h2 id='dataAnova_2way'>Data for a Two-Way Balanced Factorial Design</h2><span id='topic+dataAnova_2way'></span>

<h3>Description</h3>

<p>Laboratory rats were randomly and equally divided into groups, and then given one of three dosages of an arousal inducing drug: 0, 5, and 10 milligrams. Following the dosage, each rat completed either an easy or a hard maze to obtain a food reward. The response (dependent) variable is the Time in seconds to complete the maze.</p>


<h3>Format</h3>

<p>A data table with 48 rows of data and 3 columns: Difficulty, Dosage, and Time.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Gerbing, D. W. (later in 2022). R Data Analysis without Programming, 2nd Edition, Chapter 7, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_2way")
ANOVA(Time ~ Dosage * Difficulty)
</code></pre>

<hr>
<h2 id='dataAnova_rb'>Data for a Randomized Block ANOVA</h2><span id='topic+dataAnova_rb'></span>

<h3>Description</h3>

<p>Seven people, with differing amounts of muscle strength, took one of four different pre-workout supplements and then did a bench press of 125 lbs as many times as possible. Each person did four workouts at four different times, with a different supplement before each workout. The experimenter randomized the presentation order of the supplements to each person to avoid any artifacts from presentation order.</p>


<h3>Format</h3>

<p>A data table with 7 rows of data and 5 columns: Person, and sup1 through sup4 for the four supplements.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Gerbing, D. W. (later in 2022). R Data Analysis without Programming, 2nd Edition, Chapter 7, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_rb")
d &lt;- reshape_long(d, sup1:sup4, group="Supplement", response="Reps")
ANOVA(Reps ~ Supplement + Person)
</code></pre>

<hr>
<h2 id='dataAnova_rbf'>Data for a Randomized Block Factorial ANOVA</h2><span id='topic+dataAnova_rbf'></span>

<h3>Description</h3>

<p>The data for this randomized blocks factorial is a partitioning of 48 rats into 8 groups of 6 based on an initial assessment of each rat's ability to navigate a maze. That is, some rats in general do better than others. A trial maze served as a sort of a pre-test in which the rats were sorted on the basis of their ability to solve the maze. The first block of 6 rats ran the trial maze the fastest, and the last block the slowest. Within each block the rats were randomly assigned to each of the 6 treatment combinations. Each block of matched rats provides a score on each of the six treatment combinations.
</p>
<p>This design is within-subjects because similar rats in terms of maze running ability provide the data for each block of data values. Each rat in this block only experiences one of the 6 cells, but all the rats in a block are evaluated across all 6 combinations of the levels of the two treatment variables.
</p>


<h3>Format</h3>

<p>A data table in wide format with 48 rows of data and 4 columns: Difficulty, Dosage, Block, and Time.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Gerbing, D. W. (later in 2022). R Data Analysis without Programming, 2nd Edition, Chapter 7, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_rbf")
fit &lt;- aov(Time ~ (Dosage*Difficulty) + Error(Block), data=d)
summary(fit)
</code></pre>

<hr>
<h2 id='dataAnova_sp'>Data for a Split-Plot ANOVA</h2><span id='topic+dataAnova_sp'></span>

<h3>Description</h3>

<p>A study of four different pre-workout supplements analyzed their effectiveness in terms of the number of repetitions of a given exercise and weight. Each of 14 participants were randomly assigned to one of two groups: Hi quality Food, a nutritious breakfast, and Low quality Food, a less nutritious breakfast. Each group of 7 participants took all four Supplements, each in randomized order, one for each workout. The result is a total of 28 data values for each group, 56 data values overall.
</p>
<p>Type of Supplements is a within- groups treatment variable. The other treatment variable, Food quality, is a between-groups treatment variable.
</p>


<h3>Format</h3>

<p>A data table with 56 rows of data and 4 columns: Person, Food, Supplement, and Reps.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Gerbing, D. W. (later in 2022). R Data Analysis without Programming, 2nd Edition, Chapter 7, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_sp")
fit &lt;- aov(Reps ~ (Food*Supplement) + Error(Person/Food), data=d)
summary(fit)
</code></pre>

<hr>
<h2 id='dataBodyMeas'>Data: Body Measurements</h2><span id='topic+dataBodyMeas'></span>

<h3>Description</h3>

<p>Body measurements of 170 women and 170 men who purchased motorcycle clothing.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataBodyMeas)</code></pre>


<h3>Format</h3>

<p>A data table with 340 observations and the following 7 variables.
</p>
<p>Gender, &quot;M&quot; or &quot;F&quot; (factor)<br />
Weight (integer in pounds)<br />
Height (integer in inches)<br />
Waist (integer in inches)<br />
Hips (integer in inches)<br />
Chest (integer in inches)<br />
Hand (numeric, circumference of hand in inches to nearest quarter of an inch)<br />
Shoe (numeric, size including half sizes)
</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataCars93'>Data: Cars93</h2><span id='topic+dataCars93'></span>

<h3>Description</h3>

<p>1993 New Car Data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataCars93)</code></pre>


<h3>Format</h3>

<p>A data table with 93 observations and 25 variables.<br />
</p>
<p>Variables<br />
&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;&mdash;-<br />
Make: Model<br />
Type: Small, Sporty, Compact, Midsize, Large, Van<br />
MinPrice: Minimum Price (in $1,000) - Price for basic version of this model<br />
MidPrice: Midrange Price (in $1,000) - Average of Min and Max prices<br />
MaxPrice: Maximum Price (in $1,000) - Price for a premium version<br />
MPGcity: City MPG<br />
MPGhiway: Highway MPG<br />
Airbags: 0 = none, 1 = driver only, 2 = driver &amp; passenger<br />
DriveTrain: 0 = rear wheel drive, 1 = front wheel drive, 2 = all wheel drive<br />
Cylinders: Number of cylinders<br />
Engine: Engine size (liters)<br />
HP: maximum Horsepower<br />
RPM: revolutions per minute at maximum horsepower<br />
RevMile: Engine revolutions per mile in highest gear<br />
Manual: Manual transmission available, 0 = No, 1 = Yes<br />
FuelCap: Fuel tank capacity (gallons)<br />
PassCap: Passenger capacity (persons)<br />
Length: Length (inches)<br />
Wheelbase: Wheelbase (inches)<br />
Width: Width (inches)<br />
Uturn: U-turn space (feet)<br />
RearSeat: Rear seat room (inches)<br />
LugCap: Luggage capacity (cu. ft.)<br />
Weight: Weight (pounds)<br />
Source: 0=non-USA manufacturer, 1=USA manufacturer<br />
</p>


<h3>Source</h3>

<p>Lock, R. H. (1993). 1993 new car data. Journal of Statistics Education, 1(1).</p>

<hr>
<h2 id='dataEmployee'>Data: Employees</h2><span id='topic+dataEmployee'></span>

<h3>Description</h3>

<p>Some human resource data on 37 employees with 6 variables. Variable labels and variable units are included in the data file.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataEmployee)</code></pre>


<h3>Format</h3>

<p>A data table with 37 observations.
</p>
<p>Years,&quot;Years Employed in the Company&quot;<br />
Gender,&quot;Male or Female&quot;<br />
Dept,&quot;Department Employed&quot;<br />
Salary,&quot;Annual Salary (USD)&quot;<br />
JobSat,&quot;JobSat with Work Environment&quot;<br />
Plan,&quot;1=GoodHealth, 2=YellowCross, 3=BestCare&quot;<br />
Pre,&quot;Test score on legal issues before instruction&quot;<br />
Post,&quot;Test score on legal issues after instruction&quot;
</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataEmployee_lbl'>VariableLabels: Employee Data Set</h2><span id='topic+dataEmployee_lbl'></span>

<h3>Description</h3>

<p>For the data on 37 employees with 6 variables, includes the variable labels and variable units.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataEmployee_lbl)</code></pre>


<h3>Format</h3>

<p>Variable labels, and some unites.
</p>
<p>Years,&quot;Years Employed in the Company&quot;<br />
Gender,&quot;Male or Female&quot;<br />
Dept,&quot;Department Employed&quot;<br />
Salary,&quot;Annual Salary (USD)&quot;<br />
JobSat,&quot;JobSat with Work Environment&quot;<br />
Plan,&quot;1=GoodHealth, 2=YellowCross, 3=BestCare&quot;<br />
Pre,&quot;Test score on legal issues before instruction&quot;<br />
Post,&quot;Test score on legal issues after instruction&quot;
</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataFreqTable99'>Data: Joint Frequency Table</h2><span id='topic+dataFreqTable99'></span>

<h3>Description</h3>

<p>Based on a survey of university students, the joint frequencies for two variables are reported. One variable is Race and the other is undergraduate Class.
</p>
<p><code>
 Level Asian Latino Black White
    FR    33     58     6   105
    SO    41     79     9   207
    JR    86    179    27   484
    SR   143    214    31   824
</code>
</p>
<p>The data file consists just of the frequencies, the numbers, without any labels.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataFreqTable99)</code></pre>


<h3>Format</h3>

<p>A table of joint frequencies or Race and Level.
</p>
<p>Race: Asian, Latino, Black, White<br />
Class: FR, SO, JR, SR<br />
</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataJackets'>Data: Motorcycle Type and Thickness of Jacket</h2><span id='topic+dataJackets'></span>

<h3>Description</h3>

<p>Two variables, one is type of motorcycle and the other is the thickness of the purchased jacket.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataJackets)</code></pre>


<h3>Format</h3>

<p>A data table with 1025 observations.
</p>
<p>Bike,&quot;Type of Motorcycle, Honda or BMW&quot;<br />
Jacket,&quot;Lite, Med or Thick&quot;<br />
</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataLearn'>Data: Distributed vs Massed Practice</h2><span id='topic+dataLearn'></span>

<h3>Description</h3>

<p>Completely Randomized design, one-factor with two levels (CR-2): One grouping variable that specifies type of learning, distributed or massed practice, and one response variable, Learning.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataLearn)</code></pre>


<h3>Format</h3>

<p>A data table with 34 observations.</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataMach4'>Data: Machiavellianism</h2><span id='topic+dataMach4'></span>

<h3>Description</h3>

<p>Likert data responses to Christie and Geiss's (1970) Mach~IV scale from Hunter, Gerbing and Boster (1982).
</p>
<p>All Likert items assessed on a 6-point scale from 0: Strongly Disagree to 5: Strongly Agree. Variable labels, the item content, are included.
</p>
<p>To construct composite scale scores, such as the Mach~IV total score, the following items should first be reverse scored: m03, m04, m06, m07, m09, m10, m11, m14, m16, m17, m19.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataMach4)</code></pre>


<h3>Format</h3>

<p>A data table with 351 observations.
</p>
<p>Gender, 1 column, 0:Male, 1:Female<br />
Mach IV, 20 Likert items: m01, m02, ..., m20, see <code><a href="#topic+dataMach4_lbl">dataMach4_lbl</a></code> for the item content.
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Christie, R., &amp; Geis, F. L., (1970).  Studies in Machiavellianism.  New York:  Academic Press.
</p>
<p>Hunter, J. E., Gerbing, D. W., and Boster, F. J. (1982). Machiavellian beliefs and personality: The construct invalidity of the Machiavellian dimension. Journal of Personality and Social Psychology, 43, 1293-1305.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read data and variable labels (items)
d &lt;- Read("Mach4")
l &lt;- Read("Mach4_lbl")

# Convert to factors, i.e., categorical with value labels
d &lt;- factors(m01:m20,
            levels=0:5,
            labels=c("Strongly Disagree", "Disagree", "Slightly Disagree",
                     "Slightly Agree", "Agree", "Strongly Agree"))
</code></pre>

<hr>
<h2 id='dataMach4_lbl'>VariableLabels: Mach4 Data Set</h2><span id='topic+dataMach4_lbl'></span>

<h3>Description</h3>

<p>For the data of 351 responses to the 20-item Mach IV scale.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataMach4_lbl)</code></pre>


<h3>Format</h3>

<p>Variable labels, the items of the Christie and Geiss Mach IV Scale<br />
<br />
m01: Never tell anyone the real reason you did something unless it is useful to do so<br />
m02: The best way to handle people is to tell them what they want to hear<br />
m03: One should take action only when sure it is morally right<br />
m04: Most people are basically good and kind<br />
m05: It is safest to assume that all people have a vicious streak and it will come out when they are given a chance<br />
m06: Honesty is the best policy in all cases<br />
m07: There is no excuse for lying to someone else<br />
m08: Generally speaking, people won't work hard unless they're forced to do so<br />
m09: All in all, it is better to be humble and honest than to be important and dishonest<br />
m10: When you ask someone to do something for you, it is best to give the real reasons for wanting it rather than giving reasons which carry more weight<br />
m11: Most people who get ahead in the world lead clean, moral lives<br />
m12: Anyone who completely trusts anyone else is asking for trouble<br />
m13: The biggest difference between most criminals and other people is that the criminals are stupid enough to get caught<br />
m14: Most people are brave<br />
m15: It is wise to flatter important people<br />
m16: It is possible to be good in all respects<br />
m17: Barnum was wrong when he said that there's a sucker born every minute<br />
m18: It is hard to get ahead without cutting corners here and there<br />
m19: People suffering from incurable diseases should have the choice of being put painlessly to death<br />
m20: Most people forget more easily the death of a parent than the loss of their property
</p>


<h3>Source</h3>

<p>author</p>


<h3>References</h3>

<p>Christie, R., &amp; Geis, F. L., (1970).  Studies in Machiavellianism.  New York:  Academic Press.
</p>
<p>Hunter, J. E., Gerbing, D. W., and Boster, F. J. (1982). Machiavellian beliefs and personality: The construct invalidity of the Machiavellian dimension. Journal of Personality 
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read data and variable labels (items)
d &lt;- Read("Mach4")
l &lt;- Read("Mach4_lbl")

# Convert to factors, i.e., categorical with value labels
d &lt;- factors(m01:m20,
            levels=0:5,
            labels=c("Strongly Disagree", "Disagree", "Slightly Disagree",
                     "Slightly Agree", "Agree", "Strongly Agree"))

</code></pre>

<hr>
<h2 id='dataReading'>Data: Reading Ability</h2><span id='topic+dataReading'></span>

<h3>Description</h3>

<p>Reading ability test score and also verbal aptitude test score, number of absences from school and family income in USD $1000's. Data are simulated.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataReading)</code></pre>


<h3>Format</h3>

<p>A data table with 100 observations.</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataStockPrice'>Data: Stock price of Apple, IBM and Intel from 1985 through June of 2022</h2><span id='topic+dataStockPrice'></span>

<h3>Description</h3>

<p>Monthly adjusted stock price of Apple, IBM and Intel from 1985 through June of 2022 from finance.yahoo.com.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataStockPrice)</code></pre>


<h3>Format</h3>

<p>A data table in long format with three variables: month, Company and Price. The variable month is a date expression expressed as a four digit year, followed by a month, then a day, separated by either dashes. A total of 1350 rows, 450 rows per company.</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='dataWeightLoss'>Data: WeightLoss</h2><span id='topic+dataWeightLoss'></span>

<h3>Description</h3>

<p>The weights of 10 people were recorded. Then they entered a weight loss program. Following completion of the program, their weights were once again recorded. Data are simulated.</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(dataWeightLoss)</code></pre>


<h3>Format</h3>

<p>A data table with 10 observations.</p>


<h3>Source</h3>

<p>author</p>

<hr>
<h2 id='Density'>Density Curves from Data plus Histogram</h2><span id='topic+Density'></span><span id='topic+dn'></span>

<h3>Description</h3>

<p>Abbreviation: <code>dn</code>
</p>
<p>&lt;&lt;&lt;DEPRECATED in favor of Histogram(x, density=TRUE) &gt;&gt;&gt;
</p>
<p>Plots a normal density curve and/or a general density curve superimposed over a histogram, all estimated from the data. Also reports the Shapiro-Wilk normality test and summary statistics.
</p>
<p>If the provided object to analyze is a set of multiple variables, including an entire data frame, then each non-numeric variable in the data frame is analyzed and the results written to the current graphics device or to a pdf file in the current working directory. The name of each output pdf file that contains a bar chart and its path are specified in the output.
</p>
<p>When output is assigned into an object, such as <code>d</code> in <code>d &lt;- dn(Y)</code>, the pieces of output can be accessed for later analysis. A primary such analysis is <code>knitr</code> for dynamic report generation from an R markdown document in which R output is embedded in documents, facilitated by the <code>Rmd</code> option. See <code>value</code> below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Density(x, data=d, rows=NULL,
        n_cat=getOption("n_cat"), Rmd=NULL, 

       bw=NULL, type=c("general", "normal", "both"),
       histogram=TRUE, bin_start=NULL, bin_width=NULL,

       color_nrm="gray20", color_gen="gray20",
       fill_nrm=NULL, fill_gen=NULL,

       rotate_x=0, rotate_y=0, offset=0.5,

       x.pt=NULL, xlab=NULL, main=NULL, sub=NULL, y_axis=FALSE,
       x.min=NULL, x.max=NULL,
       rug=FALSE, color_rug="black", size_rug=0.5,

       eval_df=NULL, digits_d=NULL, quiet=getOption("quiet"),
       width=4.5, height=4.5, pdf_file=NULL,
       fun_call=NULL, ...)

dn(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Density_+3A_x">x</code></td>
<td>
<p>Variable(s) to analyze.  Can be a single numerical variable, 
either within a data frame or as a vector in the user's workspace,
or multiple variables in a data frame such as designated with the
<code><a href="base.html#topic+c">c</a></code> function, or an entire data frame. If not specified,
then defaults to all numerical variables in the specified data
frame, <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="Density_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variable(s) of interest,
default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="Density_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr>
<tr><td><code id="Density_+3A_n_cat">n_cat</code></td>
<td>
<p>For the analysis of multiple variables, such as a data frame,
specifies the largest number of unique values of variable of a numeric data
type for which the variable will be analyzed as categorical. Default is 0.</p>
</td></tr>
<tr><td><code id="Density_+3A_rmd">Rmd</code></td>
<td>
<p>File name for the file of R markdown to be written, if specified.
The file type is .Rmd, which automatically opens in RStudio, but it is a
simple text file that can be edited with any text editor, including
RStudio.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Density_+3A_bw">bw</code></td>
<td>
<p>Bandwidth of kernel estimation. Initial value is &quot;nrd0&quot;, but unless
specified, then may be iterated upward to create a smoother curve.</p>
</td></tr>
<tr><td><code id="Density_+3A_type">type</code></td>
<td>
<p>Type of density curve plotted.  By default, the general
density is plotted, though can request the normal density and
both densities.</p>
</td></tr>
<tr><td><code id="Density_+3A_histogram">histogram</code></td>
<td>
<p>If <code>TRUE</code> overlay the density plot over a histogram.</p>
</td></tr>
<tr><td><code id="Density_+3A_bin_start">bin_start</code></td>
<td>
<p>Optional specified starting value of the bins.</p>
</td></tr>
<tr><td><code id="Density_+3A_bin_width">bin_width</code></td>
<td>
<p>Optional specified bin width, which can be specified with or
without a <code>bin_start</code> value.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Density_+3A_color_nrm">color_nrm</code></td>
<td>
<p>Color of the normal curve.</p>
</td></tr>
<tr><td><code id="Density_+3A_color_gen">color_gen</code></td>
<td>
<p>Color of the general density curve.</p>
</td></tr>
<tr><td><code id="Density_+3A_fill_nrm">fill_nrm</code></td>
<td>
<p>Fill color for the estimated normal curve, with a partially 
transparent blue as the default, and transparent for the gray theme.</p>
</td></tr>
<tr><td><code id="Density_+3A_fill_gen">fill_gen</code></td>
<td>
<p>Fill color for the estimated general density curve, with a
partially transparent light red as the default, and a light transparent
gray for the gray theme.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Density_+3A_rotate_x">rotate_x</code></td>
<td>
<p>Degrees that the <code>x</code>-axis values are rotated, usually to
accommodate longer values, typically used in conjunction with <code>offset</code>.</p>
</td></tr>
<tr><td><code id="Density_+3A_rotate_y">rotate_y</code></td>
<td>
<p>Degrees that the <code>y</code>-axis values are rotated.</p>
</td></tr>
<tr><td><code id="Density_+3A_offset">offset</code></td>
<td>
<p>The amount of spacing between the axis values and the axis_ Default
is 0.5. Larger values such as 1.0 are used to create space for the label when
longer axis value names are rotated.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Density_+3A_x.pt">x.pt</code></td>
<td>
<p>Value of the point on the x-axis for which to draw a unit interval
around illustrating the corresponding area under the general density curve.
Only applies when requesting <code>type=general</code>.</p>
</td></tr>
<tr><td><code id="Density_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis_ Defaults to variable name unless variable labels
are present, the defaults to also include the corresponding variable
label. Can style with the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Density_+3A_main">main</code></td>
<td>
<p>Label for the title of the graph.
Can set size with <code>main_cex</code> and color with <code>main_color</code> from the
lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Density_+3A_sub">sub</code></td>
<td>
<p>Sub-title of graph, below xlab_</p>
</td></tr>
<tr><td><code id="Density_+3A_y_axis">y_axis</code></td>
<td>
<p>Specifies if the y-axis, the density axis, should be included.</p>
</td></tr>
<tr><td><code id="Density_+3A_x.min">x.min</code></td>
<td>
<p>Smallest value of the variable x plotted on the x-axis_</p>
</td></tr>
<tr><td><code id="Density_+3A_x.max">x.max</code></td>
<td>
<p>Largest value of the variable x plotted on the x-axis_</p>
</td></tr>
<tr><td><code id="Density_+3A_rug">rug</code></td>
<td>
<p>If <code>TRUE</code>, add a rug plot, a direct display of density in the
form of a narrow band beneath the density curve.</p>
</td></tr>
<tr><td><code id="Density_+3A_color_rug">color_rug</code></td>
<td>
<p>Color of the rug ticks.</p>
</td></tr>
<tr><td><code id="Density_+3A_size_rug">size_rug</code></td>
<td>
<p>Line width of the rug ticks.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Density_+3A_eval_df">eval_df</code></td>
<td>
<p>Determines if to check for existing data frame and
specified variables. By default is <code>TRUE</code> 
unless the <code>shiny</code> package is loaded then set to <code>FALSE</code> so
that Shiny will run. Needs to be set to <code>FALSE</code> if using
the pipe <code>%\&gt;%</code> notation.</p>
</td></tr>
<tr><td><code id="Density_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of significant digits for each of the displayed summary
statistics.</p>
</td></tr>
<tr><td><code id="Density_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Density_+3A_width">width</code></td>
<td>
<p>Width of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="Density_+3A_height">height</code></td>
<td>
<p>Height of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="Density_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Indicate to direct pdf graphics to the specified name of
the pdf file.</p>
</td></tr>
<tr><td><code id="Density_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used with <code>knitr</code> to pass the function call when
obtained from the abbreviated function call <code>dn</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Density_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics as defined processed 
by <code><a href="graphics.html#topic+plot">plot</a></code>, including <code>xlim</code>, <code>ylim</code>, <code>lwd</code> and <code>lab_cex</code>, 
<code>color_main</code>, <code>color_lab</code>, <code>sub</code>,
<code>color_sub</code>, and <code>color_ticks</code> to specify the color of
the ticks used to label the axis values, <code>density</code>, for the general
density calculations, can set bandwidth with the standard <code>bw</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
Results are based on the standard <code><a href="stats.html#topic+dnorm">dnorm</a></code> function and <code><a href="stats.html#topic+density">density</a></code> R functions for estimating densities from data, as well as the <code><a href="graphics.html#topic+hist">hist</a></code> function for calculating a histogram.  Colors are provided by default and can also be specified.
</p>
<p>The default histogram can be modified with the <code>bin_start</code> and <code>bin_width</code> options.  Use the <code><a href="#topic+Histogram">Histogram</a></code> function in this package for more control over the parameters of the histogram.
</p>
<p>The limits for the axes are automatically calculated so as to provide sufficient space for the  density curves and histogram, and should generally not require user intervention.  Also, the curves are centered over the plot window so that the resulting density curves are symmetric even if the underlying histogram is not.  The estimated normal curve is based on the corresponding sample mean and standard deviation.
</p>
<p>If <code>x.pt</code> is specified, then <code>type</code> is set to general and <code>y_axis</code> set to <code>TRUE</code>.
</p>
<p>DATA<br />
The data may either be a vector from the global environment, the user's workspace, as illustrated in the examples below, or one or more variable's in a data frame, or a complete data frame. The default input data frame is <code>d</code>. Can specify the source data frame name with the <code>data</code> option.  If multiple variables are specified, only the numerical variables in the list of variables are analyzed. The variables in the data frame are referenced directly by their names, that is, no need to invoke the standard <code>R</code> mechanisms of the <code>d$name</code> notation, the <code><a href="base.html#topic+with">with</a></code> function or the  <code><a href="base.html#topic+attach">attach</a></code> function. If the name of the vector in the global environment and of a variable in the input data frame are the same, the vector is analyzed.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than.
</p>
<p>COLOR THEME<br />
Individual colors in the plot can be manipulated with options such as <code>color_bars</code> for the color of the histogram bars. A color theme for all the colors can be chosen for a specific plot with the <code>colors</code> option with the <code>lessR</code> function <code><a href="#topic+style">style</a></code>. The default color theme is <code>blue</code>, but a gray scale is available with <code>"gray"</code>, and other themes are available as explained in <code><a href="#topic+style">style</a></code>, such as <code>"red"</code> and <code>"green"</code>. Use the option <code>style(sub_theme="black")</code> for a black background and partial transparency of plotted colors. 
</p>
<p>VARIABLE LABELS<br />
If variable labels exist, then the corresponding variable label is by default listed as the label for the horizontal axis and on the text output. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>
<p>PDF OUTPUT<br />
To obtain pdf output, use the <code>pdf</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>
<p>ONLY VARIABLES ARE REFERENCED<br />
The referenced variable in a <code>lessR</code> function can only be a variable name (or list of variable names). This referenced variable must exist in either the referenced data frame, such as the default <code>d</code>, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>    &gt; Density(rnorm(50))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; Y &lt;- rnorm(50)   # create vector Y in user workspace
    &gt; Density(Y)     # directly reference Y</pre>


<h3>Value</h3>

<p>The output can optionally be saved into an <code>R</code> object, otherwise it simply appears in the console. Redesigned in <code>lessR</code> version 3.3 to provide two different types of components: the pieces of readable output, and a variety of statistics. The readable output are character strings such as tables amenable for reading. The statistics are numerical values amenable for further analysis. The motivation of these types of output is to facilitate R markdown documents, as the name of each piece, preceded by the name of the saved object and a <code>$</code>, can be inserted into the R~Markdown document (see <code>examples</code>).
</p>
<p>READABLE OUTPUT<br />
<code>out_title</code>: Title of output<br />
<code>out_stats</code>: Statistics<br />
<code>out_file</code>: Name and location of optional R markdown file<br />
</p>
<p>STATISTICS<br />
<code>bw</code>: Bandwidth parameter<br />
<code>n</code>: Number of data values analyzed<br />
<code>n.miss</code>: Number of missing data values<br />
<code>W</code>: W statistic for Shapiro-Wilk normality test<br />
<code>pvalue</code>: p-value for W statistic<br />
</p>
<p>Although not typically needed, if the output is assigned to an object named, for example, <code>h</code>, then the contents of the object can be viewed directly with the <code><a href="base.html#topic+unclass">unclass</a></code> function, here as <code>unclass(h)</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+dnorm">dnorm</a></code>, <code><a href="stats.html#topic+density">density</a></code>, <code><a href="graphics.html#topic+hist">hist</a></code>, <code><a href="graphics.html#topic+plot">plot</a></code>, <code><a href="grDevices.html#topic+rgb">rgb</a></code>, <code><a href="stats.html#topic+shapiro.test">shapiro.test</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# make sure default style is active
style()

# create data frame, d, to mimic reading data with Read function
# d contains both numeric and non-numeric data
d &lt;- data.frame(rnorm(50), rnorm(50), rnorm(50), rep(c("A","B"),25))
names(d) &lt;- c("X","Y","Z","C")

#  general density curves superimposed over histogram, all defaults
Histogram(Y, density=TRUE)

# see Histogram for more examples, also the corresponding vignette

</code></pre>

<hr>
<h2 id='details'>Display Contents of a Data File and Optional Variable Labels</h2><span id='topic+details'></span><span id='topic+db'></span>

<h3>Description</h3>

<p>Abbreviation: <code>db</code>
</p>
<p>Provides feedback regarding a data frame which includes the variable names, the dimensions of the resulting data frame, the data type for each variable, and the values of the variables in the data file for the first and last rows of the data. In addition, an analysis of missing data is provided, listing the number of missing values for each variable and for each observation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>details(data=d, n_mcut=1, max_lines=30,
         miss_show=30, miss_matrix=FALSE, var_labels=FALSE,
         brief=getOption("brief"))

db(..., brief=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="details_+3A_data">data</code></td>
<td>
<p>Data frame for which to provide the details.</p>
</td></tr>
<tr><td><code id="details_+3A_n_mcut">n_mcut</code></td>
<td>
<p>For the missing value analysis, list the row name and number
of missing values if the number of missing exceeds or equals this
cutoff.</p>
</td></tr>
<tr><td><code id="details_+3A_max_lines">max_lines</code></td>
<td>
<p>Maximum number of lines to list of the data and labels.</p>
</td></tr>
<tr><td><code id="details_+3A_miss_show">miss_show</code></td>
<td>
<p>For the missing value analysis, the number of rows, one
row per observation, that has as many or missing values as <code>n_mcut</code>.</p>
</td></tr>
<tr><td><code id="details_+3A_miss_matrix">miss_matrix</code></td>
<td>
<p>For the missing value analysis, if there is any missing data, 
list a version of the complete data table with a 0 for a non-missing]
value and a 1 for a missing value.</p>
</td></tr>
<tr><td><code id="details_+3A_var_labels">var_labels</code></td>
<td>
<p>The data frame consists of variable labels if <code>TRUE</code>, 
so the message about a column of unique values is not displayed.</p>
</td></tr>
<tr><td><code id="details_+3A_brief">brief</code></td>
<td>
<p>If <code>TRUE</code>, display only variable names table plus any
variable labels. The default for &ldquo;details brief&rdquo; abbreviation <code>db</code>.</p>
</td></tr>
<tr><td><code id="details_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to or from methods consistent
with the R <code><a href="utils.html#topic+read.table">read.table</a></code> function. For example, can set
<code>stringsAsFactors</code> as <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>MISSING DATA<br />
When <code>brief</code> is set to <code>FALSE</code>, <code>details</code> provides a list the row of data with missing values, indicated by the standard R missing value code NA. To view the entire data table in terms of 0's and 1's for non-missing and missing data, respectively, invoke the <code>miss_matrix=TRUE</code> option. 
</p>
<p>VARIABLE LABELS<br />
Standard R does not provide for variable labels, but <code>lessR</code> does. Variable labels can be provided for some or all of the variables in the data frames.  One way to enter the variable labels is to read them from their own file with <code>details</code> with <code>labels</code> set to the full path name or <code>URL</code> of the labels file, or just the file name if the labels file is in the same directory as the data file.  Another method is to include the labels directly in the data file.  To to this, specify the file of variable labels with the <code>label="row2"</code> option. The web survey application Qualtrics downloads <code>csv</code> files in this format.
</p>
<p>For a file that contains only labels, each row of the file, including the first row, consists of the variable name, a comma, and then the label, that is, standard <code>csv</code> format such as obtained with the <code>csv</code> option from a standard worksheet application such as Microsoft Excel or LibreOffice Calc. Not all variables in the data frame that contains the data, usually <code>d</code>, need have a label, and the variables with their corresponding labels can be listed in any order. An example follows.
</p>
<p>I2,This instructor presents material in a clear and organized manner.<br />
I4,Overall, this instructor was highly effective in this class.<br />
I1,This instructor has command of the subject.<br />
I3,This instructor relates course materials to real world situations.<br />
</p>
<p>If there is a comma in the variable label, then the label needs to be enclosed in quotes.
</p>
<p>The <code>lessR</code> functions that provide analysis, such as <code><a href="#topic+Histogram">Histogram</a></code> for a histogram, automatically include the variable labels in their output, such as the title of a graph.  Standard R functions can also use these variable labels by invoking the <code><a href="#topic+label">label</a></code> function, such as setting <code>main=label(I4)</code> to put the variable label for a variable named I4 in the title of a graph.  
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Read">Read</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read the built-in data set datEmployee
# this provides an automatic call to details
d &lt;- Read("Employee")

# manually request the details for d
details()

# manually request just variable names, labels for d
db()
</code></pre>

<hr>
<h2 id='factors'>Create Factor Variables Across a Sequential Range or Vector of Variables</h2><span id='topic+factors'></span>

<h3>Description</h3>

<p>Creates factors for many variables. Specify a range from a given <code>start</code> variable and <code>end</code> variable.  Applies only to variables in a data frame, <code>d</code> by default, and outputs the entire data frame including the factor transformation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factors(x, levels, labels=NULL, data=d, ordered=FALSE,
          new=FALSE, suffix="_f", var_labels=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="factors_+3A_x">x</code></td>
<td>
<p>Name of variable(s) to convert to a factor. List a single
variable or a vector</p>
</td></tr>
<tr><td><code id="factors_+3A_levels">levels</code></td>
<td>
<p>Levels for which to define the factor.</p>
</td></tr>
<tr><td><code id="factors_+3A_labels">labels</code></td>
<td>
<p>Value labels to assign to the levels. If not
present then assumes the character version of the levels.</p>
</td></tr>
<tr><td><code id="factors_+3A_data">data</code></td>
<td>
<p>The data frame of interest.</p>
</td></tr>
<tr><td><code id="factors_+3A_ordered">ordered</code></td>
<td>
<p>If <code>FALSE</code>, factor levels are not ordered.</p>
</td></tr>
<tr><td><code id="factors_+3A_new">new</code></td>
<td>
<p>If <code>FALSE</code>, original variables are replaced,
otherwise new factor variables are created.</p>
</td></tr>
<tr><td><code id="factors_+3A_suffix">suffix</code></td>
<td>
<p>The appended suffix to newly created variables from 
the original variable names when <code>new</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="factors_+3A_var_labels">var_labels</code></td>
<td>
<p>Just create new variable labels for newly created
factor variables, without doing a factor conversion,
presumably after a previous run with factors converted to new
factor variables.</p>
</td></tr>
<tr><td><code id="factors_+3A_...">...</code></td>
<td>
<p>Other parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the entire data frame if applied to one or more variables in a data frame, including the new factors. 
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># get the data, variables Gender plus m01 through m20, 20 Mach IV items
# coded as integers from 0 to 5 on 6-pt Likert scales
d &lt;- rd("Mach4", quiet=TRUE)

# single variable converted to a factor
d &lt;- factors(Gender, 0:1, c("Male", "Female"))

# Define the labels
LikertCats &lt;- c("Strongly Disagree", "Disagree", "Slightly Disagree",
                "Slightly Agree", "Agree", "Strongly Agree")

# Convert the integer responses to factors for the 20 Mach IV items
d &lt;- factors(m01:m20, levels=0:5, labels=LikertCats)

# read the data again and this time also the variable labels
d &lt;- rd("Mach4", quiet=TRUE)
l &lt;- rd("Mach4_lbl")

# convert specified variables to factors according to the given vector
#   of three variables only
# leave the original variables unmodified, create new variables
d &lt;- factors(c(m06, m07, m20), levels=0:5, labels=LikertCats, new=TRUE)
# now copy the variable labels from the original integer variables to the 
#   newly created factor variables
l &lt;- factors(c(m06, m07, m20), var_labels=TRUE)
</code></pre>

<hr>
<h2 id='getColors'>Hue, Chroma, Luminance (HCL) Color Wheel or Specified Colors</h2><span id='topic+getColors'></span>

<h3>Description</h3>

<p>Generates color vectors, including HCL colors for qualitative and sequential color scales, and displays these internally generated as well as manually specified arbitrary colors. To avoid bias in comparing differently colored regions of a visualization, generates HCL colors by default with fixed values of chroma (saturation) and luminance (brightness) for a range of hues, by default ordered so that adjacent colors are as separated as possible. Also generates a sequence of HCL colors according to any chosen hue value in which implicit calls can vary chroma and luminance to Zeileis's et al. <code>sequential_hcl</code> function from Ihaka's et al. <code>colorspace</code> package, and also with pre-defined values such as <code>"blues"</code>. The function also processes any arbitrarily specified set of colors or colors generated from a custom range according to a beginning and ending specified color. The function also includes color palettes from the <code>viridis</code> and <code>wesanderson</code> packages.
</p>
<p>In terms of workflow, use the function to select a set of colors from the resulting color rectangle/wheel. The function outputs the colors so that the function call can serve as an argument to parameters in other functions that require a sequence of one or more colors as input. The visualization of the color wheel or rectangle is not generated in this situation. After selecting the colors, pass to an argument for a visualization function such as for the <code>fill</code> parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  getColors(pal=NULL, end_pal=NULL,
         n=12, h=0, h2=NULL, c=NULL, l=NULL, transparency=0,
         in_order=NULL, fixup=TRUE, power=NULL,
         shape=c("rectangle", "wheel"), radius=0.9, border="lightgray",
         main=NULL, labels=NULL, labels_cex=0.8, lty="solid",
         output=NULL, quiet=getOption("quiet"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getColors_+3A_pal">pal</code></td>
<td>
<p>Palette of optional specified colors to plot. If a set of
specified colors, then the following parameters are not relevant. Can also
be pre-defined color codes that trigger a sequence of colors from light to
dark, such as <code>"blues"</code>, or <code>"distinct"</code> to maximize color
separation.</p>
</td></tr>
<tr><td><code id="getColors_+3A_end_pal">end_pal</code></td>
<td>
<p>If specified, then generate a color continuum that begins at
<code>pal</code> and ends at <code>end_pal</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="getColors_+3A_n">n</code></td>
<td>
<p>Number of colors to display.</p>
</td></tr>
<tr><td><code id="getColors_+3A_h">h</code></td>
<td>
<p>Beginning HCL hue, 0 to 360.</p>
</td></tr>
<tr><td><code id="getColors_+3A_h2">h2</code></td>
<td>
<p>Ending HCL hue, 0 to 360. Defaults to a value close to
360. Requires <code>in_order</code> to be <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="getColors_+3A_c">c</code></td>
<td>
<p>Value of HCL chroma (saturation). Respective default values
for qualitative, sequential, and divergent scales are
60, c(35,75), and 50.</p>
</td></tr>
<tr><td><code id="getColors_+3A_l">l</code></td>
<td>
<p>Value of HCL luminance (brightness).
Respective default values
for qualitative, sequential, and divergent scales are
50, c(80,25), and c(40,70).</p>
</td></tr>
<tr><td><code id="getColors_+3A_transparency">transparency</code></td>
<td>
<p>Transparency factor of the area of each slice from 0,
no transparency to 1, full transparency.</p>
</td></tr>
<tr><td><code id="getColors_+3A_in_order">in_order</code></td>
<td>
<p>If <code>TRUE</code>, orders the colors in order of their
HCL hue values, the default for a &quot;wheel&quot;. Otherwise maximizes
the difference between adjacent colors hues to prepare for
inclusion in visualizations with qualitative, discrete color scales.</p>
</td></tr>
<tr><td><code id="getColors_+3A_fixup">fixup</code></td>
<td>
<p>R parameter name. If <code>TRUE</code>, then HCL values outside of
the displayable RGB color space are transformed to fit into that space
so as to display.</p>
</td></tr>
<tr><td><code id="getColors_+3A_power">power</code></td>
<td>
<p>Power for generating a sequential or divergent HCL scale
(via colorspace package) for potentially non-linear changes
in chroma and luminance across the scale. Default for sequential is 1
and for divergent 0.75.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="getColors_+3A_shape">shape</code></td>
<td>
<p>Default is a &quot;rectangle&quot;, or specify a &quot;wheel&quot;.</p>
</td></tr>
<tr><td><code id="getColors_+3A_radius">radius</code></td>
<td>
<p>Size of wheel. Not applicable to the rectangular shape.</p>
</td></tr>
<tr><td><code id="getColors_+3A_border">border</code></td>
<td>
<p>Color of the borders of each slice. Set to <code>"off"</code> or
<code>"transparent"</code> to turn off.</p>
</td></tr></table>
<p><br /> 
</p>
<table>
<tr><td><code id="getColors_+3A_main">main</code></td>
<td>
<p>Title.</p>
</td></tr>
<tr><td><code id="getColors_+3A_labels">labels</code></td>
<td>
<p>If <code>TRUE</code>, then displayed. For HCL qualitative scale,
default is <code>TRUE</code>, otherwise <code>FALSE</code></p>
</td></tr></table>
<p>.
</p>
<table>
<tr><td><code id="getColors_+3A_labels_cex">labels_cex</code></td>
<td>
<p>Character expansion factor of labels relative to 1.</p>
</td></tr>
<tr><td><code id="getColors_+3A_lty">lty</code></td>
<td>
<p>Line type of the border.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="getColors_+3A_output">output</code></td>
<td>
<p>Default to produce text and graphics output when called
directly from the console but not when called from a visualization
function or a direct call in R Markdown, which requires
<code>output=TRUE</code>.</p>
</td></tr>
<tr><td><code id="getColors_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default with
<code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="getColors_+3A_...">...</code></td>
<td>
<p>Other parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>I. HCL COLORS<br />
Generate a palette of colors according to the parameter <code>pal</code> in the form of a character string vector of their names, and also as a color wheel if not called from another function. The default value (for all but grayscale or white color themes) of <code>pal</code> is <code>"colors"</code>, which generates a qualitative palette of the specified number, <code>n</code>, of discrete HCL colors at the same chroma and luminance, respective default values of 60 and 50. With constant chroma and luminance the HCL color space provides a palette of colors with the same gray-scale intensities if desaturated. That means no brightness bias for viewing different colors that represent different areas, such as in a bar chart of two variables, or a pie chart. The primary qualification is that the HCL color space is not in a one-to-one correspondence with the RGB color space of computer monitors, so some HCL colors are approximated (with the default setting of the <code>fixup</code> parameter set to <code>TRUE</code>).
</p>
<p>For <code>"colors"</code>, the default, the hue values and associated colors are expressed as HEX and RGB values_ The first 12 generated discrete colors are  blue (240), brown (60), green (120), red (0), purple (275), turquoise (180), rust (30), olive (90), aqua (210), mulberry (330), emerald (150), and violet (300).
</p>
<p>To have the generated colors be in the sequential order of hues, set <code>in_order</code> to <code>TRUE</code>, the default when <code>shape</code> is set to <code>"wheel"</code>. For about up to five or six colors adjacent values are still reasonably well distinguished even if in sequential order of hue number in the hcl space.<br />
</p>
<p>II. COLOR SEQUENCE<br />
A second possibility is to generate a sequence of colors according to the value of <code>n</code> from a given start color to an ending color_ To specify a custom range, set <code>pal</code> as the value of the first color, and then <code>end_pal</code> as the value of the last color in the color range. The colors in the sequence may or may not be of the same hue.
</p>
<p>Or, access implicit calls Zeileis (2009) <code><a href="colorspace.html#topic+sequential_hcl">sequential_hcl</a></code> and <code><a href="colorspace.html#topic+diverge_hcl">diverge_hcl</a></code> functions from the <code>colorspace</code> package to access pre-defined color ranges including <code>"grays"</code>, which is the default if the color theme is <code>"gray"</code> or  <code>"white"</code>. Other predefined sequences are shown in the following table. Also can invoke the standard R color ranges of <code>"heat"</code>, <code>"terrain"</code>, and <code>"rainbow"</code>. Can specify any value of hue with <code>h</code>. Can also provide custom values of chroma (c) and luminance (l), with either one a range of values defined as a vector of two values_ Default values are <code>c=100</code> and <code>l=c(75,35)</code>. That is, the color sequence is generated according to the given hue, <code>h</code>, with a chroma of 100 and luminance varying from 75 to the darker 45.
</p>
<p>The predefined sequences consist of the following hues and color names, defined in 30 degree increments around the HCL color wheel. Visualize the color wheel with then discrete colors below with the lessR function <code><a href="#topic+getColors">getColors</a></code>, specifically the function call <code>getColors(shape="wheel")</code>. Visualize sequential color scales for each of the colors below with the lessR function <code><a href="#topic+showPalettes">showPalettes</a></code>.<br />
</p>

<table>
<tr>
 <td style="text-align: left;">
 colors </td><td style="text-align: left;"> param </td><td style="text-align: left;"> value</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ----- </td><td style="text-align: left;"> -----</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"reds"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 0</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"rusts"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 30</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"browns"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 60</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"olives"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 90</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"greens"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 120</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"emeralds"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 150</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"turquoises"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 180</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"aquas"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 210</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"blues"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 240</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"purples"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 270</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"violets"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 300</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"magentas"</code> </td><td style="text-align: left;"> h </td><td style="text-align: left;"> 330</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"grays"</code> </td><td style="text-align: left;"> c </td><td style="text-align: left;"> 0</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ----- </td><td style="text-align: left;"> -----</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The predefined color name can be provided as the first argument of the function call, that is, the value of <code>pal</code>, or the corresponding value of <code>h</code> (or <code>c</code> for gray scale) can be specified. The specifications are equivalent. To specify a divergent color scale, provide both the value of <code>pal</code> as the beginning value and the value of <code>end_pal</code> as the last value, such that both values are one of the pre-specified color ranges. In either situation, of sequential or divergent color scales, custom values of <code>c</code> and <code>l</code> can be provided.<br />
</p>
<p>III. SPECIFIED COLORS<br />
The third possibility is to generate a color wheel from a specified set of color values. Set the value of <code>pal</code> according to the vector of these values_ Specify the values with R color names (see the lessR function <code><a href="#topic+showColors">showColors</a></code>), RGB values according to the <code>rgb</code> function or from related R color space functions such as <code>hcl</code>, or as hexadecimal codes.<br />
</p>
<p>IV. OTHER INCLUDED COLOR PALETTES<br />
The following palettes are based on those from the viridis package: <code>"viridis"</code>, <code>"cividis"</code>, <code>"plasma"</code>, and <code>"spectral"</code>, though the palettes here are generated from the base R function <code><a href="grDevices.html#topic+hcl.colors">hcl.colors</a></code>. These palettes were developed to be more useable for varying types of color-blindness, as is the included palette <code>"Okabe-Ito"</code>. 
</p>
<p>Movie director Wes Anderson is known for is innovative color themes in his movies, which feature a combination of pastel colors and bold primary colors. The following palettes are from the wesanderson package, based the colors from his movies: &quot;BottleRocket1&quot;, &quot;BottleRocket2&quot;, &quot;Rushmore1&quot;, &quot;Rushmore&quot;, &quot;Royal1&quot;, &quot;Royal2&quot;, &quot;Zissou1&quot;, &quot;Darjeeling1&quot;, &quot;Darjeeling2 &quot;, &quot;Chevalier1&quot;, &quot;FantasticFox1&quot;, &quot;Moonrise1&quot;, &quot;Moonrise2&quot;, &quot;Moonrise3&quot;, &quot;Cavalcanti1&quot;, &quot;GrandBudapest1&quot;, &quot;GrandBudapest2&quot;, &quot;IsleofDogs1&quot;, &quot;IsleofDogs2&quot;. The generation of the corresponding palettes are with <code>type</code> set to <code>"continuous"</code> to generalize to palettes of any length. Note that this package is suggested, which means to use the package for the first time you will be prompted to install the package.
</p>
<p>The palette <code>"distinct"</code> specifies a sequence of 20 colors manually chosen for the distinctiveness. The first five colors are from the qualitative sequence of <code>hcl</code> colors with <code>c=90</code> and <code>l=50</code>. To maximise color separation, the remaining 15 colors do not satisfy constance levels of <code>c</code> and <code>l</code>. Use such as for plotting with a <code>by</code> variable with up to 20 levels.
</p>
<p>FUNCTION USAGE<br />
Use the function on its own, in which case the color rectangle/wheel visualization is generated as are the color values_ The vector of color values may be saved in its own R object as the output of the function call. Or, use the function to set colors for other parameter values in other function calls. See the examples.
</p>


<h3>Value</h3>

<p>Colors are invisibly returned as a character string vector.
</p>


<h3>References</h3>

<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 10, NY: CRC Press.
</p>


<h3>See Also</h3>

<p><code><a href="grDevices.html#topic+hcl">hcl</a></code>, <code><a href="grDevices.html#topic+palette.colors">palette.colors</a></code>, <code><a href="grDevices.html#topic+hcl.colors">hcl.colors</a></code>, <code><a href="#topic+showColors">showColors</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># HCL color wheels/rectangles
#----------------------------
# set in_order to TRUE for hues ordered by their number

# color spectrum of 12 hcl colors presented in the order
#  in which they are assigned to discrete levels of a
#  categorical variable
getColors()

# color spectrum of 12 hcl colors ordered by hue from 0
#   by intervals of 360/12 = 30 degrees
getColors(in_order=TRUE)

# pastel hcl colors, set luminance to 85 from default of 50
getColors(in_order=TRUE, l=85)

# color wheel of 36 ordered hues around the wheel
getColors(n=36, shape="wheel", border="off")

# ggplot qualitative colors, here for 3 colors generated
#   in order of their hue numbers across the color wheel
#   starting at a hue of 15 degrees and luminance of 60
getColors(h=15, n=3, l=60, in_order=TRUE)


# HCL Qualitative Scale
# ---------------------
# default pre-defined 12 hcl colors that were manually reordered
#   so that adjacent colors achieve maximum separation
getColors()

# deep rich colors for HCL qualitative scale
getColors(c=90, l=45)


# HCL Sequential Scales
# ---------------------
# generate hcl blue sequence with c=60 and vary l
getColors("blues", labels=FALSE)

# generate yellow hcl sequence with varying chroma
getColors("browns", c=c(20,90), l=60)

# non-linear grayscale, more concentration of colors at the beginning
getColors("black", "white", n=24, power=0.75)

# generate custom hue color sequence close to colorbrewer Blues
# library(RColorBrewer)
# getColors(brewer.pal(6,"Blues"))
# compare, vary both l and c
getColors(h=230, n=6, l=c(96,30), c=c(5,80))

# a standard R color sequence
getColors("heat")

# from viridis
getColors("viridis", n=12)

# maximally distinct
getColors("distinct", n=20)


# HCL Divergent Scales
# --------------------
# seven colors from rust to blue
getColors("rusts", "blues", n=7)

# add a custom value of chroma, c, to make less saturated
getColors("rusts", "blues", n=7, c=45)


# Manual Specification of Colors
# ------------------------------
# individually specified colors
getColors(c("black", "blue", "red"))

# custom sequential range of colors
getColors(pal="aliceblue", end_pal="blue")


# Plots
# -----
d &lt;- rd("Employee")

# default quantitative scale
bc(Dept, fill=getColors())
# or with implicit call to getColors
bc(Dept, fill="colors")
# or an implicit call with the blues
bc(Dept, fill="blues")

# even though we have a bar graph, also want the
#  graph of the colors as well as the text listing of the colors
bc(Dept, fill=getColors("blues", output=TRUE))

# custom hue with different chroma levels (saturations)
BarChart(Dept, fill=getColors(h=230, c=c(20,60), l=60))

# custom hue with different luminance levels (brightness)
# if explicitly calling getColors need to also specify n
Histogram(Salary, fill=getColors(h=230, c=60, l=c(90,30), n=10))

# use the default qualitative viridis color scale
bc(Dept, fill="viridis")
</code></pre>

<hr>
<h2 id='Histogram'>Histogram</h2><span id='topic+Histogram'></span><span id='topic+hs'></span>

<h3>Description</h3>

<p>Abbreviation: <code>hs</code>
</p>
<p>From the standard R function <code><a href="graphics.html#topic+hist">hist</a></code>, the function plots a frequency histogram with default colors, including background color and grid lines plus an option for a relative frequency and/or cumulative histogram, as well as summary statistics and a table that provides the bins, midpoints, counts, proportions, cumulative counts and cumulative proportions. Bins can be selected several different ways besides the default, including specifying just the bin width and/or the bin start. Also provides improved error diagnostics and feedback for the user on how to correct the problem when the bins do not contain all of the specified data.
</p>
<p>If a set of multiple variables is provided, including an entire data frame, then each numeric variable in that set of variables is analyzed, with the option to write the resulting histograms to separate pdf files. The related <code><a href="#topic+CountAll">CountAll</a></code> function does the same for all variables in the set of variables, histograms for continuous variables and bar charts for categorical variables. Specifying a <code>by1</code> or <code>by2</code> variable implements Trellis graphics.
</p>
<p>When output is assigned into an object, such as <code>h</code> in <code>h &lt;- hs(Y)</code>, can assess the pieces of output for later analysis. A primary such analysis is <code>knitr</code> for dynamic report generation from a generated R markdown file according to the <code>Rmd</code> option in which interpretative R output is embedded in documents. See <code>value</code> below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Histogram(

    # ------------------------------------------
    # Data from which to construct the histogram
    x=NULL, data=d, rows=NULL,
    stat_x=c("count", "proportion"),

    # --------------------
    # Trellis (facet) plot
    by1=NULL, by2=NULL,
    n_row=NULL, n_col=NULL, aspect="fill",

    # -----------------------------------------------------------------
    # Analogy of physical Marks on paper that create the bars and labels
    theme=getOption("theme"),
    fill=getOption("bar_fill_cont"),
    color=getOption("bar_color_cont"),
    transparency=getOption("trans_bar_fill"),

    values=FALSE, 

    # ---------------------------------------
    # Form of the histogram
    # ---------------------------------------
    # Binning the continuous variable x
    bin_start=NULL, bin_width=NULL, bin_end=NULL, breaks="Sturges",

    # Cumulative histogram
    cumulate=c("off", "on", "both"), reg="snow2",

    # Density (smooth curve) plot
    density=FALSE, show_histogram=TRUE,
    bandwidth=NULL, type=c("general", "normal", "both"),
    fill_general=NULL, fill_normal=NULL, fill_hist=getOption("se_fill"), 
    color_general="gray20", color_normal="gray20",
    x.pt=NULL, y_axis=FALSE,
    rug=FALSE, color_rug="black", size_rug=0.5,

    # -----------------------------------------------------------------
    # Labels for axes, values, and legend if x and by variables, margins
    xlab=NULL, ylab=NULL, main=NULL, sub=NULL,
    lab_adjust=c(0,0), margin_adjust=c(0,0,0,0),

    rotate_x=getOption("rotate_x"), rotate_y=getOption("rotate_y"),
    offset=getOption("offset"),
    scale_x=NULL, scale_y=NULL,

    # ----------------------------------------------------------------------
    # Draw one or more objects, text, or geometric figures, on the histogram
    add=NULL, x1=NULL, y1=NULL, x2=NULL, y2=NULL,

    # ---------------------------------------
    # Output: turn off, chart to PDF file, decimal digits, markdown file
    quiet=getOption("quiet"), do_plot=TRUE,
    pdf_file=NULL, width=6.5, height=6, 
    digits_d=NULL,
    Rmd=NULL,

    # --------------------------------------
    # Deprecated, removed in future versions
    n_cat=getOption("n_cat"),

    # ---------------------------------
    # Miscellaneous
    eval_df=NULL, fun_call=NULL, ...)


hs(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Histogram_+3A_x">x</code></td>
<td>
<p>Variable(s) to analyze.  Can be a single numerical variable, 
either within a data frame or as a vector in the users workspace,
or multiple variables in a data frame such as designated with the
<code><a href="base.html#topic+c">c</a></code> function, or an entire data frame. If not specified,
then defaults to all numerical variables in the specified data
frame, <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variable(s) of interest,
default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of
the data frame to analyze.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_stat_x">stat_x</code></td>
<td>
<p>Bin and transform values of variable <code>x</code> into
<code>"counts"</code> by default or <code>"proportion"</code> if specified,
that is, frequencies or relative frequencies.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_by1">by1</code></td>
<td>
<p>A categorical variable called a conditioning variable that
activates <b>Trellis graphics</b>, from the lattice package, to provide
a separate scatterplot (panel) of numeric primary variables <code>x</code>
and <code>y</code> for each level of the variable.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_by2">by2</code></td>
<td>
<p>A second conditioning variable to generate Trellis
plots jointly conditioned on both the <code>by1</code> and <code>by2</code> variables,
with <code>by2</code> as the row variable, which yields a scatterplot (panel)
for each cross-classification of the levels of numeric <code>x</code> and
<code>y</code> variables.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_n_row">n_row</code></td>
<td>
<p>Optional specification for the number of rows in the layout
of a multi-panel display with Trellis graphics. Need not specify
<code>ncols</code>.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_n_col">n_col</code></td>
<td>
<p>Optional specification for the number of columns in the
layout a multi-panel display with
Trellis graphics. Need not specify <code>n_row</code> If set to 1, then
the strip that labels each group is moved to the left of each plot
instead of the top.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_aspect">aspect</code></td>
<td>
<p>Lattice parameter for the aspect ratio of the panels,
defined as height divided by width.
The default value is <code>"fill"</code> to have the panels
expand to occupy as much space as possible. Set to 1 for square panels.
Set to <code>"xy"</code> to specify a ratio calculated
to &quot;bank&quot; to 45 degrees, that is, with the line slope approximately
45 degrees.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_theme">theme</code></td>
<td>
<p><b>Color</b> theme for this analysis. Make persistent across analyses
with <code><a href="#topic+style">style</a></code>.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_fill">fill</code></td>
<td>
<p>Fill color of the bars. 
Can explicitly choose <code>"grays"</code>
or <code>"hcl"</code> colors, or pre-specified R color schemes 
<code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. Can also
provide pre-defined color ranges <code>"blues"</code>, <code>"reds"</code>
and <code>"greens"</code>, as well as
custom colors, such as generated by <code><a href="#topic+getColors">getColors</a></code>.
Default is
<code>bar_color</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_color">color</code></td>
<td>
<p>Border color of the bars, can be a vector
to customize the color for each bar. Default is
<code>bar_color</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_transparency">transparency</code></td>
<td>
<p>Transparency factor of the area of each slice.
Default is
<code>trans_bar_fill</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_values">values</code></td>
<td>
<p>Replaces standard R <code>labels</code> options, which has multiple
definitions in R. Specifies to display the count of each bin.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_bin_start">bin_start</code></td>
<td>
<p>Optional specified starting value of the bins.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_bin_width">bin_width</code></td>
<td>
<p>Optional specified bin width, which can be specified with or
without a <code>bin_start</code> value.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_bin_end">bin_end</code></td>
<td>
<p>Optional specified value that is within the last bin, so the
actual endpoint of the last bin may be larger than the specified value.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_breaks">breaks</code></td>
<td>
<p>The method for calculating the bins, or an explicit specification
of the bins, such as with the standard R <code><a href="base.html#topic+seq">seq</a></code> function or
other options provided by the <code><a href="graphics.html#topic+hist">hist</a></code> function that include
the default <code>"Sturges"</code> plus <code>"Scott"</code> and <code>"FD"</code>. Not
applicable and so not allowed if <code>density</code> is <code>TRUE</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_cumulate">cumulate</code></td>
<td>
<p>Specify a <b>cumulative histogram</b>. The value of <code>"on"</code>
displays the 
cumulative histogram, with default of <code>"off"</code>. The value of
<code>"both"</code> superimposes the regular histogram.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_reg">reg</code></td>
<td>
<p>The color of the superimposed, regular histogram when
<code>cumulate="both"</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_density">density</code></td>
<td>
<p>If <code>TRUE</code>, plot the smoothed <b>kernel density</b>
estimate.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_show_histogram">show_histogram</code></td>
<td>
<p>When <code>density</code> is <code>TRUE</code>, plot a histogram
behind the density curve.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_bandwidth">bandwidth</code></td>
<td>
<p>Bandwidth of kernel density estimation, which determines the
smoothness of the resulting density curve, larger values yield more
smooth curves. Initial value is &quot;nrd0&quot;, but unless
specified, may be automatically iterated upward to create a
smoother curve.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_type">type</code></td>
<td>
<p>Type of density curve plotted.  By default, the general
density is plotted, though can request the normal density and
both densities.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_fill_general">fill_general</code></td>
<td>
<p>Fill color for the estimated general density curve, with a
partially transparent light red as the default, and a light transparent
gray for the gray theme. Supplied color names are automatically revised
with moderate transparency, the same level as the default.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_fill_normal">fill_normal</code></td>
<td>
<p>Fill color for the estimated normal curve, with a partially 
transparent blue as the default, and transparent for the gray theme.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_fill_hist">fill_hist</code></td>
<td>
<p>Fill color for the histogram behind density curve,
defaults to a light gray.</p>
</td></tr> 
<tr><td><code id="Histogram_+3A_color_general">color_general</code></td>
<td>
<p>Color of the general density curve border.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_color_normal">color_normal</code></td>
<td>
<p>Color of the normal curve border.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_x.pt">x.pt</code></td>
<td>
<p>Value of the point on the x-axis for which to draw a unit interval
around illustrating the corresponding area under the general density curve.
Only applies when requesting <code>type=general</code>.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_y_axis">y_axis</code></td>
<td>
<p>Specifies if the y-axis, the density axis, should be included.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_rug">rug</code></td>
<td>
<p>If <code>TRUE</code>, add a rug plot, a direct display of density as a
narrow band beneath the density curve.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_color_rug">color_rug</code></td>
<td>
<p>Color of the rug ticks.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_size_rug">size_rug</code></td>
<td>
<p>Line width of the rug ticks.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis_ Defaults to variable name unless variable labels
are present, the defaults to also include the corresponding variable
label. Can style with the lessR <code><a href="#topic+style">style</a></code> function</p>
</td></tr>
<tr><td><code id="Histogram_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis_ Defaults to Frequency or Proportion.
Can style with the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_main">main</code></td>
<td>
<p>Label for the title of the graph.
Can set size with <code>main_cex</code> and color with <code>main_color</code> from the
lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_sub">sub</code></td>
<td>
<p>Sub-title of graph, below xlab. Not yet implemented.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_lab_adjust">lab_adjust</code></td>
<td>
<p>Two-element vector &ndash; x-axis label, y-axis label &ndash; adjusts
the position of the axis labels in approximate inches. + values move
the labels away from plot edge. Not applicable to Trellis graphics.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_margin_adjust">margin_adjust</code></td>
<td>
<p>Four-element vector &ndash; top, right, bottom and left &ndash;
adjusts the margins of the plotted figure in approximate inches.
+ values move the corresponding margin away from plot edge. 
Not applicable to Trellis graphics.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_rotate_x">rotate_x</code></td>
<td>
<p>Degrees that the <code>x</code>-<b>axis values</b> are rotated, usually to
accommodate longer values, typically used in conjunction with <code>offset</code>.
Can set persistently with the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_rotate_y">rotate_y</code></td>
<td>
<p>Degrees that the <code>y</code>-axis values are rotated.
Can set persistently with the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_offset">offset</code></td>
<td>
<p>The amount of spacing between the axis values and the axis_ Default
is 0.5. Larger values such as 1.0 are used to create space for the label when
longer axis value names are rotated.
Can set persistently with the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_scale_x">scale_x</code></td>
<td>
<p>If specified, a vector of three values that define the
numerical values of the x-axis: starting, ending and
number of intervals, within the bounds of plot region.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_scale_y">scale_y</code></td>
<td>
<p>Applies to the y-axis_ See <code>scale_x</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_add">add</code></td>
<td>
<p><b>Draw one or more objects</b>, text or a geometric figures,
on the plot.
Possible values are any text to be written, the first argument, which is
<code>"text"</code>, or, to indicate a figure,
<code>"rect"</code> (rectangle), <code>"line"</code>, <code>"arrow"</code>,
<code>"v.line"</code> (vertical line), and <code>"h.line"</code> (horizontal line).
The value <code>"means"</code> is short-hand for vertical and horizontal lines
at the respective means. Does not apply to Trellis graphics.
Customize with parameters such as <code>add_fill</code> and <code>add_color</code>
from the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_x1">x1</code></td>
<td>
<p>First x coordinate to be considered for each object.
All coordinates vary from -1 to 1.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_y1">y1</code></td>
<td>
<p>First y coordinate to be considered for each object.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_x2">x2</code></td>
<td>
<p>Second x coordinate to be considered for each object.
Only used for <code>"rect"</code>, <code>"line"</code> and <code>arrow</code>.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_y2">y2</code></td>
<td>
<p>Second y coordinate to be considered for each object.
Only used for <code>"rect"</code>, <code>"line"</code> and <code>arrow</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_do_plot">do_plot</code></td>
<td>
<p>If <code>TRUE</code>, the default, then generate the plot.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Indicate to direct pdf graphics to the specified name of
the pdf file.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_width">width</code></td>
<td>
<p>Width of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_height">height</code></td>
<td>
<p>Height of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of significant digits for each of the displayed summary
statistics.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_rmd">Rmd</code></td>
<td>
<p>File name for the file of R markdown to be written, if specified.
The file type is .Rmd, which automatically opens in RStudio, but it is
a simple
text file that can be edited with any text editor, including RStudio.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_n_cat">n_cat</code></td>
<td>
<p>For the analysis of multiple variables, such as a data frame,
specifies the largest number of unique values of variable of a numeric
data type for which the variable will be analyzed as a categorical.
Default is 0. 
<em>[deprecated]</em>: Best to convert a categorical integer variable 
to a factor.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_eval_df">eval_df</code></td>
<td>
<p>Determines if to check for existing data frame and
specified variables. By default is <code>TRUE</code> 
unless the <code>shiny</code> package is loaded then set to <code>FALSE</code> so
that Shiny will run. Needs to be set to <code>FALSE</code> if using
the pipe <code>%\&gt;%</code> notation.</p>
</td></tr>
<tr><td><code id="Histogram_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used with <code>knitr</code> to pass the function call
when obtained from the abbreviated function call <code>hs</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Histogram_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics as defined processed 
by <code><a href="graphics.html#topic+hist">hist</a></code> and <code><a href="graphics.html#topic+par">par</a></code> for general graphics,
<code>xlim</code> and <code>ylim</code> for setting the range of the x and y-axes<br />
<code>cex.main</code> for the size of the title<br />
<code>col.main</code> for the color of the title<br />
<code>cex</code> for the size of the axis value labels<br />
<code>col.lab</code> for the color of the axis labels</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
Results are based on the standard R <code><a href="graphics.html#topic+hist">hist</a></code> function to calculate and plot a histogram, or a multi-panel display of histograms with Trellis graphics, plus the additional provided color capabilities, a relative frequency histogram, summary statistics and outlier analysis. The <code>freq</code> option from the standard R <code><a href="graphics.html#topic+hist">hist</a></code> function has no effect as it is always set to <code>FALSE</code> in each internal call to <code><a href="graphics.html#topic+hist">hist</a></code>. To plot densities, set the parameter <code>density</code> to <code>TRUE</code>.
</p>
<p>VARIABLES and TRELLIS PLOTS<br />
At a minimum there is one primary variable, <code>x</code>, which results in a single histogram. Trellis graphics, from Deepayan Sarkar's <code>lattice</code> package, may be implemented in which multiple panels are displayed according to the levels of one or two categorical variables, called conditioning variables.  A variable specified with <code>by1</code> is a conditioning variable that results in a Trellis plot, the histogram of <code>x</code> produced at <em>each</em> level of the <code>by1</code> variable. Inclusion of a second conditioning variable, <code>by2</code>, results in a separate histogram for <em>each</em> combination of cross-classified values of both <code>by1</code> and <code>by2</code>. 
</p>
<p>DATA<br />
The data may either be a vector from the global environment, the user's workspace, as illustrated in the examples below, or one or more variable's in a data frame, or a complete data frame. The default input data frame is <code>d</code>. Can specify the source data frame name with the <code>data</code> option.  If multiple variables are specified, only the numerical variables in the list of variables are analyzed. The variables in the data frame are referenced directly by their names, that is, no need to invoke the standard <code>R</code> mechanisms of the <code>d$name</code> notation, the <code><a href="base.html#topic+with">with</a></code> function or the  <code><a href="base.html#topic+attach">attach</a></code> function. If the name of the vector in the global environment and of a variable in the input data frame are the same, the vector is analyzed.
</p>
<p>To obtain a histogram of each numerical variable in the <code>d</code> data frame, use <code>Histogram()</code>.  Or, for a data frame with a different name, insert the name between the parentheses. To analyze a subset of the variables in a data frame, specify the list with either a : or the <code><a href="base.html#topic+c">c</a></code> function, such as m01:m03 or c(m01,m02,m03).
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>COLORS<br />
Individual colors in the plot can be manipulated with options such as <code>color_bars</code> for the color of the histogram bars. A color theme for all the colors can be chosen for a specific plot with the <code>colors</code> option with the <code>lessR</code> function <code><a href="#topic+style">style</a></code>. The default color theme is <code>lightbronze</code>, but a gray scale is available with <code>"gray"</code>, and other themes are available as explained in <code><a href="#topic+style">style</a></code>, such as <code>"red"</code> and <code>"green"</code>. Use the option <code>style(sub_theme="black")</code> for a black background and partial transparency of plotted colors. 
</p>
<p>For the color options, such as <code>fill</code>, the value of <code>"off"</code> is the same as <code>"transparent"</code>.
</p>
<p>Set <code>fill</code> to a single color or a color range, of which there are many possibilities. For <code>"hues"</code> colors of the same chroma and luminance set <code>fill</code> to multiple colors all with the same saturation and brightness. Also available are the pre-specified R color schemes <code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. Can also provide pre-defined color ranges <code>"blues"</code>, <code>"reds"</code> and <code>"greens"</code>, or generate custom colors, such as from the lessR function <code><a href="#topic+getColors">getColors</a></code>. 
</p>
<p>VARIABLE LABELS<br />
If variable labels exist, then the corresponding variable label is by default listed as the label for the horizontal axis and on the text output. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>
<p>ONLY VARIABLES ARE REFERENCED<br />
The referenced variable in a <code>lessR</code> function can only be a variable name (or list of variable names). This referenced variable must exist in either the referenced data frame, such as the default <code>d</code>, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>    &gt; Histogram(rnorm(50))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; Y &lt;- rnorm(50)   # create vector Y in user workspace
    &gt; Histogram(Y)     # directly reference Y</pre>
<p>ERROR DETECTION<br />
A somewhat relatively common error by beginning users of the base R <code><a href="graphics.html#topic+hist">hist</a></code> function may encounter is to manually specify a sequence of bins with the <code>seq</code> function that does not fully span the range of specified data values_ The result is a rather cryptic error message and program termination.  Here, <code>Histogram</code> detects this problem before attempting to generate the histogram with <code><a href="graphics.html#topic+hist">hist</a></code>, and then informs the user of the problem with a more detailed and explanatory error message. Moreover, the entire range of bins need not be specified to customize the bins.  Instead, just a bin width need be specified, <code>bin_width</code>, and/or a value that begins the first bin, <code>bin_start</code>.  If a starting value is specified without a bin width, the default Sturges method provides the bin width.
</p>
<p>PDF OUTPUT<br />
To obtain pdf output, use the <code>pdf_file</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>


<h3>Value</h3>

<p>The output can optionally be saved into an <code>R</code> object, otherwise it simply appears in the console. Two different types of components are provided: the pieces of readable output, and a variety of statistics. The readable output are character strings such as tables amenable for display. The statistics are numerical values amenable for further analysis. The motivation of these types of output is to facilitate R markdown documents, as the name of each piece, preceded by the name of the saved object and a <code>$</code>, can be inserted into the R~Markdown document (see <code>examples</code>), interspersed with explanation and interpretation.
</p>
<p>READABLE OUTPUT<br />
<code>out_suggest</code>: Suggestions for other similar analyses<br />
<code>out_summary</code>: Summary statistics<br />
<code>out_freq</code>: Frequency distribution<br />
<code>out_outliers</code>: Outlier analysis<br />
</p>
<p>STATISTICS<br />
<code>bin_width</code>: Bin width<br />
<code>n_bins</code>: Number of bins<br />
<code>breaks</code>: Breaks of the bins<br />
<code>mids</code>: Bin midpoints<br />
<code>counts</code>: Bin counts<br />
<code>prop</code>: Bin proportion<br /> 
<code>cumulate</code>: Bin cumulative counts<br /> 
<code>cprop</code>: Bin cumulative proportion<br />
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapter 5, NY: Routledge.
</p>
<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 4, NY: CRC Press.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>
<p>Sarkar, Deepayan (2008) Lattice: Multivariate Data Visualization with R, Springer. http://lmdvr.r-forge.r-project.org/
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getColors">getColors</a></code>, <code><a href="graphics.html#topic+hist">hist</a></code>, <code><a href="graphics.html#topic+plot">plot</a></code>, <code><a href="graphics.html#topic+par">par</a></code>, <code><a href="#topic+style">style</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get the data
d &lt;- rd("Employee")


# make sure default style is active
style()


# --------------------
# different histograms
# --------------------

# histogram with all defaults
Histogram(Salary)
# short form
#hs(Salary)

# output saved for later analysis into object h
h &lt;- hs(Salary)
# view full text output
h
# view just the outlier analysis
h$out_outliers
# list the names of all the components
names(h)

# histogram with no borders for the bars
Histogram(Salary, color="off")

# save the histogram to a pdf file
#Histogram(Salary, pdf=TRUE)

# just males employed more than 5 years
Histogram(Salary, rows=(Gender=="M" &amp; Years &gt; 5))

# histogram with red bars, black background, and black border
style(panel_fill="black", fill="red", panel_color="black")
Histogram(Salary)
# or use a lessR pre-defined sequential color palette
#   with some transparency
Histogram(Salary, fill="rusts", color="brown", transparency=.1)

# histogram with purple color theme, translucent gold bars
style("purple", sub_theme="black")
Histogram(Salary)
# back to default color theme
style()

# histogram with specified bin width
# can also use bin_start
Histogram(Salary, bin_width=12000)

# histogram with rotated axis values, offset more from axis
# suppress text output
style(rotate_x=45, offset=1)
Histogram(Salary, quiet=TRUE)
style()

# histogram with specified bins and grid lines displayed over the histogram
Histogram(Salary, breaks=seq(0,150000,20000), xlab="My Variable")

# histogram with bins calculated with the Scott method and values displayed
Histogram(Salary, breaks="Scott", values=TRUE, quiet=TRUE)

# histogram with the number of suggested bins, with proportions
Histogram(Salary, breaks=15, stat_x="proportion")

# histogram with non-default values for x- and y-axes
d[2,4] &lt;- 45000
Histogram(Salary, scale_x=c(30000,130000,5), scale_y=c(0,9.5,5))

# ----------------
# Trellis graphics
# ----------------
Histogram(Salary, by1=Dept)


# ---------------------
# cumulative histograms
# ---------------------

# cumulative histogram with superimposed regular histogram, all defaults
Histogram(Salary, cumulate="both")

# cumulative histogram plus regular histogram
Histogram(Salary, cumulate="both", reg="mistyrose")

# -------------
# density plots
# -------------

# default density plot
Histogram(Salary, density=TRUE)

# normal curve and general density curves superimposed over histogram
# all defaults
Histogram(Salary, density=TRUE, type="both")

# display only the general estimated density
#  so do not display the estimated normal curve
# specify the bandwidth for the general density curve,
#  use the standard bandwidth option for the density function
Histogram(Salary, density=TRUE, bandwidth=8000)

# display only the general estimated density and a corresponding
#  interval of unit width around x.pt
Histogram(Salary, density=TRUE, x.pt=40000)

# densities for all specified numeric variables in a list of variables
# e.g., use the combine or c function to specify a list of variables
Histogram(c(Years,Salary), density=TRUE)


# -------------------------------------------------
# histograms for data frames and multiple variables
# -------------------------------------------------

# create data frame, d, to mimic reading data with Read function
# d contains both numeric and non-numeric data
d &lt;- data.frame(rnorm(50), rnorm(50), rnorm(50), rep(c("A","B"),25))
names(d) &lt;- c("X","Y","Z","C")

# although data not attached, access the variable directly by its name
Histogram(X)

# histograms for all numeric variables in data frame called d
#  except for numeric variables with unique values &lt; n_cat
# d is the default name, so does not need to be specified with data
Histogram()

# histogram with specified options, including red axis labels
style(fill="palegreen1", panel_fill="ivory", axis_color="red") 
Histogram(values=TRUE)
style()  # reset

# histograms for all specified numeric variables
# use the combine or c function to specify a list of variables
Histogram(c(X,Y))


# -----------
# annotations
# -----------

d &lt;- rd("Employee")

# Place a message in the top-right of the graph
# Use \n to indicate a new line
hs(Salary, add="Salaries\nin our Company", x1=100000, y1=7)

# Use style to change some parameter values
style(add_trans=.8, add_fill="gold", add_color="gold4",
      add_lwd=0.5, add_cex=1.1)
# Add a rectangle around the message centered at &lt;100000,7&gt;
hs(Salary, add=c("rect", "Salaries\nin our Company"),
      x1=c(82000, 100000), y1=c(7.7, 7), x2=118000, y2=6.2)
</code></pre>

<hr>
<h2 id='interact'>Run Interactive Shiny Data Visualizations</h2><span id='topic+interact'></span>

<h3>Description</h3>

<p>Interactive data visualizations. Choose your data, choose your variables, and set the parameters as desired.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interact(app)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="interact_+3A_app">app</code></td>
<td>
<p>Name of the shiny app to run, enclosed in quotes.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Valid names are <code>"BarChart"</code>, <code>"PieChart"</code>, <code>"Histogram"</code>, <code>"ScatterPlot"</code>, <code>"Trellis"</code>. If missing, then the valid names are listed. Valid abbreviations, respectively, are <code>"bc"</code>, <code>"pc"</code>, <code>"hs"</code>, and <code>"Plot"</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># Commented out as the analyses are interactive
#interact()
#interact("BarChart")
</code></pre>

<hr>
<h2 id='kurtosis'>Kurtosis</h2><span id='topic+kurtosis'></span>

<h3>Description</h3>

<p>Kurtosis computed from the from the unbiased estimates of variance and of the fourth moment about the mean.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kurtosis(x, na.rm=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kurtosis_+3A_x">x</code></td>
<td>
<p>Variable from which to compute kurtosis.</p>
</td></tr>
<tr><td><code id="kurtosis_+3A_na.rm">na.rm</code></td>
<td>
<p>A logical value indicating whether NA values should be
stripped before the computation proceeds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Kurtosis as implemented by SAS, Type 2 formula as classified by Joanes and Gill (1998). This version of the formula relies upon the unbiased estimates of variance and of the fourth moment about the mean. A perfect normal distribution would have a kurtosis of 0.
</p>


<h3>Value</h3>

<p>kurtosis.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Joanes, D.N. and Gill, C.A (1998). Comparing measures of sample skewness and kurtosis. The Statistician, 47, 183-189.</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rnorm(100)
kurtosis(x)
</code></pre>

<hr>
<h2 id='label'>Assign Variable Labels [Superseded by VariableLabels]</h2><span id='topic+label'></span>

<h3>Description</h3>

<p>Deprecated, replaced by <code><a href="#topic+VariableLabels">VariableLabels</a></code>. Display a variable label for output, either text output at the console or graphics, such as a title on a graph.  To return a variable label generally applies to standard R functions such that the functions can access <code>lessR</code> variable labels. Or, the variable name and label can be listed on the standard output. To assign a variable label, invoke the <code>value</code> option and assign the output to a specified data frame. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>label(x, value=NULL, data=d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="label_+3A_x">x</code></td>
<td>
<p>The variable for which to obtain the corresponding variable label.</p>
</td></tr>
<tr><td><code id="label_+3A_value">value</code></td>
<td>
<p>If assigned, then the specified data frame is updated with this
assigned label.</p>
</td></tr>
<tr><td><code id="label_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variable of interest. The output
of the function is assigned to this data frame.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Standard R does not provide for variable labels, but <code>lessR</code> does.  Read the labels with the <code>lessR</code> <code><a href="#topic+Read">Read</a></code> function, as explained in the corresponding documentation. Individual variable labels can also be assigned with this function. Not all variables need have a label, and the variables with their corresponding labels can be listed or assigned in any order.
</p>
<p>The function provides two different modes. The first mode is to return the variable name and label for an existing variable label. One such use is to provide the function as an argument to an existing R function call to access a <code>lessR</code> variable label. For example, use the function as the argument for <code>main</code> in graphics output, where <code>main</code> is the title of the graph. This mode is triggered by not invoking the <code>value</code> option.
</p>
<p>The second mode is to assign a variable label to an existing variable. Invoke this mode by specifying a variable label with the <code>value</code> option. The function accesses the entire specified data frame, and then modifies the specified variable label. As such, assign the output of the function to the data frame of interest, such as the default <code>d</code>. One use of this function is to add a variable label to a data frame that contains a new variable created by a transformation of the existing variables. 
</p>


<h3>Value</h3>

<p>The specified value of <code>value</code> is returned.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Read">Read</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read the data and variable labels
#d &lt;- rd("http://lessRstats.com/data/employee.xlsx")
#l &lt;- vl("http://lessRstats.com/data/employee_lbl.xlsx")

# variable label as the title of a graph for non-lessR functions
# base R
#hist(d$Salary, xlab=label(Salary))
# ggplot2
#ggplot(d, aes(Salary)) + geom_histogram(binwidth=10000) + labs(x=label(Salary))

# assign a new label for the variable Years in d
#d &lt;- label(Years, "Years Worked")
# verify
#label(Years)
# or view all variable labels in d
#db()

#d &lt;- Read("Employee")
# specify a label of variable in a data frame other than d
#myd &lt;- Subset(Gender=="M")
#myd &lt;- label(Gender, "Only is Male", data=myd)
#db(myd)
</code></pre>

<hr>
<h2 id='LineChart'>Line Chart such as a Run Chart or Time-Series Chart</h2><span id='topic+LineChart'></span><span id='topic+lc'></span>

<h3>Description</h3>

<p>Abbreviation: <code>lc</code>
</p>
<p>Plots a line chart, the values of the variable ordered according to their order in the data frame.  Usually this ordering would be an ordering according to time, which yields a run chart. The default run chart provides the index, that is, sequential position, of each value of the variable from 1 to the last value.  Optionally dates can be provided so that a time-series plot is produced. 
</p>
<p>For data of one variable exhibiting little trend, the center line is provided for the generation of a run chart, plotting the values of a variable in order of occurrence over time_  When the center line, the median by default, is plotted, the analyses of the number and composition of the individual runs, number of consecutive values above or below the center line, is also displayed.  Also, the defaults change for each of the types of plots.  The intent is to rely on the default values for a relatively sophisticated plot, particularly when compared to the default values of the standard R <code><a href="graphics.html#topic+plot">plot</a></code> function called with a single variable.
</p>
<p>If the provided object to analyze is a set of multiple variables, including an entire data frame, then each non-numeric variable in the data frame is analyzed and the results written to a pdf file in the current working directory. The name of each output pdf file that contains a bar chart and its path are specified in the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LineChart(x, data=d, rows=NULL,
          n_cat=getOption("n_cat"), type=NULL, 

         line_color=getOption("pt_color"), area=NULL, 

         shape_pts=21, lab_cex=1.0, axis_cex=0.75,
         axis_text_color=getOption("axis_x_text_color"),

         rotate_x=0, rotate_y=0, offset=.5,

         xy_ticks=TRUE, line_width=1,
         xlab=NULL, ylab=NULL, main=NULL, sub=NULL, cex=NULL,

         time_start=NULL, time_by=NULL, time_reverse=FALSE,

         center_line=c("default", "mean", "median", "zero", "off"),

         show_runs=FALSE, eval_df=NULL, quiet=getOption("quiet"),
         width=6, height=6, pdf=FALSE,
         ...)

lc(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LineChart_+3A_x">x</code></td>
<td>
<p>Variable(s) to analyze.  Can be a single numerical variable, 
either within a data frame or as a vector in the user's workspace,
or multiple variables in a data frame such as designated with the
<code><a href="base.html#topic+c">c</a></code> function, or an entire data frame. If not specified,
then defaults to all numerical variables in the specified data
frame, <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variable(s) of interest,
default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_n_cat">n_cat</code></td>
<td>
<p>For the analysis of multiple variables, such as a data frame,
specifies the largest number of unique values of variable of a numeric
data type for which the variable will be analyzed as a categorical.
Default is 0.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_type">type</code></td>
<td>
<p>Character string that indicates the type of plot, either <code>"p"</code> for 
points, <code>"l"</code> for line, or <code>"b"</code> for both. The default is 
<code>"b"</code> for both points and lines.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="LineChart_+3A_line_color">line_color</code></td>
<td>
<p>Color of the plotted line.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_area">area</code></td>
<td>
<p>Color of area under the plotted line segments, which by default is not
applied, equivalent to a color of <code>"transparent"</code>.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_shape_pts">shape_pts</code></td>
<td>
<p>The standard plot character, with values defined in help(points). The
default value is 21, a circle with both a border and filled area, specified here as
<code>color</code> and <code>fill</code>.    <code>fill</code> defaults to
<code>color</code>.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_lab_cex">lab_cex</code></td>
<td>
<p>Scale magnification factor for axis labels.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_axis_cex">axis_cex</code></td>
<td>
<p>Scale magnification factor, which by defaults displays the axis values to be 
smaller than the axis labels.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_axis_text_color">axis_text_color</code></td>
<td>
<p>Color of the font used to label the axis values_</p>
</td></tr>
<tr><td><code id="LineChart_+3A_rotate_x">rotate_x</code></td>
<td>
<p>Degrees that the <code>x</code>-axis values are rotated, usually to
accommodate longer values, typically used in conjunction with <code>offset</code>.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_rotate_y">rotate_y</code></td>
<td>
<p>Degrees that the <code>y</code>-axis values are rotated.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_offset">offset</code></td>
<td>
<p>The amount of spacing between the axis values and the axis_ Default
is 0.5. Larger values such as 1.0 are used to create space for the label when
longer axis value names are rotated.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_xy_ticks">xy_ticks</code></td>
<td>
<p>Flag that indicates if tick marks and associated values on the 
axes are to be displayed.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_line_width">line_width</code></td>
<td>
<p>Width of the line segments_</p>
</td></tr>
<tr><td><code id="LineChart_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis_ For two variables specified, x and y, if <code>xlab</code> not
specified, then the label becomes the name of the corresponding variable. If 
<code>xy_ticks</code> is <code>FALSE</code>, then no label is displayed. If no y variable is specified, 
then <code>xlab</code> is set to Index unless <code>xlab</code> has been specified.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis_ If not specified, then the label becomes the name of
the corresponding variable. If <code>xy_ticks</code> is <code>FALSE</code>, then no label displayed.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_main">main</code></td>
<td>
<p>Label for the title of the graph.  If the corresponding variable labels exist,
then the title is set by default from the corresponding variable labels.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_sub">sub</code></td>
<td>
<p>Sub-title of graph, below xlab_</p>
</td></tr>
<tr><td><code id="LineChart_+3A_cex">cex</code></td>
<td>
<p>Magnification factor for any displayed points, with default of cex=1.0.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_time_start">time_start</code></td>
<td>
<p>Optional starting date for first data value. Format must be 
&quot;%Y-%m-%d&quot; or &quot;%Y/%m/%d&quot;. If using with <code>x.reverse</code>, the first date is after 
the data are reverse sorted. Not needed if data are a time series with
<code><a href="stats.html#topic+ts">ts</a></code> function.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_time_by">time_by</code></td>
<td>
<p>Accompanies the <code>time_start</code> specification, the interval to increment the
date for each sequential data value. A character string, containing one of <code>"day"</code>, 
<code>"week"</code>, <code>"month"</code> or <code>"year"</code>. This string can optionally be preceded by 
a positive or negative integer and a space, or followed by &quot;s&quot;, as specified in 
<code><a href="base.html#topic+seq.Date">seq.Date</a></code>. Not needed if data are a time series.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_time_reverse">time_reverse</code></td>
<td>
<p>When <code>TRUE</code>, reverse the ordering of the dates, particularly when the 
data are listed such that first row of data is the newest. Accompanies the <code>time_start</code>
specification.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_center_line">center_line</code></td>
<td>
<p>Plots a dashed line through the middle of a run chart.  The two
possible values for the line are <code>"mean"</code> and <code>"median"</code>.  Provides a centerline
for the <code>"median"</code> by default when the values randomly vary about the mean. A
value of <code>"zero"</code> specifies the center line should go through zero.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_show_runs">show_runs</code></td>
<td>
<p>If <code>TRUE</code>, display the individual runs in the run analysis.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_eval_df">eval_df</code></td>
<td>
<p>Determines if to check for existing data frame and
specified variables. By default is <code>TRUE</code> 
unless the <code>shiny</code> package is loaded then set to <code>FALSE</code> so
that Shiny will run. Needs to be set to <code>FALSE</code> if using
the pipe <code>%\&gt;%</code> notation.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_width">width</code></td>
<td>
<p>Width of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_height">height</code></td>
<td>
<p>Height of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_pdf">pdf</code></td>
<td>
<p>If <code>TRUE</code>, the pdf file is to be redirected to a pdf file.</p>
</td></tr>
<tr><td><code id="LineChart_+3A_...">...</code></td>
<td>
<p>Other parameters such as from <code><a href="graphics.html#topic+par">par</a></code>, <code>col.lab</code>,
<code>sub</code>, <code>color_sub</code>, <code>color_ticks</code> to set the color of the
ticks used to label the axis values, and
<code>srt</code> to rotate the axis value labels.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
The line chart is based on the standard R function <code><a href="graphics.html#topic+plot">plot</a></code> when called with only a single variable.
</p>
<p>The values on the horizontal axis of the line chart are automatically generated.  The default is the index variable, the ordinal position of each data value, in which case this version of the line chart is a run chart.  Or, dates on the horizontal axis can be specified from the specified starting date given by <code>x.start</code> and the accompanying increment as given by <code>x.by</code>, in which case the line chart is typically referred to as a time series chart.  
</p>
<p>If the data values randomly vary about the mean, the default is to plot the mean as the center line of the graph, otherwise the default is to ignore the center line.  The default plot type for the line chart is <code>type="b"</code>, for both points and the corresponding connected line segments_  The size of the points is automatically reduced according to the number of points of points plotted, and the <code>cex</code> option can override the computed default.  If the area below the plotted values is specified to be filled in with color, then the default line type changes to <code>type="l"</code>.
</p>
<p>DATA<br />
The data may either be a vector from the global environment, the user's workspace, as illustrated in the examples below, or one or more variable's in a data frame, or a complete data frame. The default input data frame is <code>d</code>. Can specify the source data frame name with the <code>data</code> option.  If multiple variables are specified, only the numerical variables in the list of variables are analyzed. The variables in the data frame are referenced directly by their names, that is, no need to invoke the standard <code>R</code> mechanisms of the <code>d$name</code> notation, the <code><a href="base.html#topic+with">with</a></code> function or the  <code><a href="base.html#topic+attach">attach</a></code> function. If the name of the vector in the global environment and of a variable in the input data frame are the same, the vector is analyzed.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than.
</p>
<p>COLORS<br />
Individual colors in the plot can be manipulated with options such as <code>color</code>. A color theme for all the colors can be chosen for a specific plot with the <code>colors</code> option with the <code>lessR</code> function <code><a href="#topic+style">style</a></code>. The default color theme is <code>dodgerblue</code>, but a gray scale is available with <code>"gray"</code>, and other themes are available as explained in <code><a href="#topic+style">style</a></code>, such as <code>"red"</code> and <code>"green"</code>. Use the option <code>style(sub_theme="black")</code> for a black background and partial transparency of plotted colors.  
</p>
<p>For the color options, such as <code>grid_color</code>, the value of <code>"off"</code> is the same as <code>"transparent"</code>.
</p>
<p>VARIABLE LABELS<br />
Although standard R does not provide for variable labels, <code>lessR</code> does, obtained from the <code><a href="#topic+Read">Read</a></code> function.  If the variable labels exist, then the corresponding variable label is by default listed as the label for the horizontal axis and on the text output. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>
<p>PDF OUTPUT<br />
To obtain pdf output, use the <code>pdf</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>
<p>ONLY VARIABLES ARE REFERENCED<br />
The referenced variable in a <code>lessR</code> function can only be a variable name (or list of variable names). This referenced variable must exist in either the referenced data frame, such as the default <code>d</code>, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>    &gt; LineChart(rnorm(50))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; Y &lt;- rnorm(50)   # create vector Y in user workspace
    &gt; LineChart(Y)     # directly reference Y</pre>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+plot">plot</a></code>, <code><a href="#topic+style">style</a></code>. 
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create data frame, d, to mimic reading data with Read function
# d contains both numeric and non-numeric data
d &lt;- data.frame(rnorm(50), rnorm(50), rnorm(50), rep(c("A","B"),25))
names(d) &lt;- c("X","Y","Z","C")

# default run chart
LineChart(Y)
# short name
lc(Y)

# save run chart to a pdf file
#LineChart(Y, pdf=TRUE)

# LineChart in gray scale, then back to default theme
style("gray")
LineChart(Y)
style()
  
# customize run chart with LineChart options
style(panel_fill="mintcream", color="sienna3")
LineChart(Y, line_width=2, area="slategray3", center_line="median")
style()  # reset style

# customize run chart with R par parameters
# 24 is the R value for a half-triangle pointing up
lc(Y, xlab="My xaxis", ylab="My yaxis", main="My Best Title",
   cex.main=1.5, font.main=3, ylim=c(-4,4), shape_pts=24)
  
# generate steadily increasing values
# get a variable named A in the user workspace
A &lt;- sort(rexp(50))
# default line chart
LineChart(A)
# line chart with border around plotted values
LineChart(A, area="off")
# time series chart, i.e., with dates, and filled area
# with option label for the x-axis
LineChart(A, time_start="2000/09/01", time_by="3 months")
# time series chart from a time series object
y.ts &lt;- ts(A, start=c(2000, 9), frequency=4)
LineChart(y.ts)

# LineChart with built-in data set
LineChart(breaks, data=warpbreaks)

# Line charts for all numeric variables in a data frame
LineChart()

# Line charts for all specified numeric variables in a list of variables
# e.g., use the combine or c function to specify a list of variables
LineChart(c(X,Y))
</code></pre>

<hr>
<h2 id='Logit'>Logit Regression Analysis</h2><span id='topic+Logit'></span><span id='topic+lr'></span>

<h3>Description</h3>

<p>Abbreviation: <code>lr</code>
</p>
<p>A wrapper for the standard R <code><a href="stats.html#topic+glm">glm</a></code> function with <code>family="binomial"</code>, automatically provides a logit regression analysis with graphics from a single, simple function call with many default settings, each of which can be re-specified.  By default the data exists as a data frame with the default name of <code>d</code>, such as data read by the <code>lessR</code> <code>Read</code> function.  Specify the model in the function call according to an R <code><a href="stats.html#topic+formula">formula</a></code>, that is, the response variable followed by a tilde, followed by the list of predictor variables, each pair separated by a plus sign.
</p>
<p>The response variable for analysis has values only of 0 and 1, with 1 designating the reference group. If the response variable is a factor with two levels, they factor levels are automatically converted to a numeric variable with values of 0 and 1.
</p>
<p>Default output includes the inferential analysis of the estimated coefficients and model, sorted residuals and Cook's Distance, and sorted fitted values for existing data or new data.  For a single predictor variable model, the scatterplot of the data with plotted logit function is provided.
</p>
<p>Can also be called from the more general <code><a href="#topic+model">model</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Logit(my_formula, data=d, rows=NULL, ref_group=NULL,
      digits_d=4, text_width=120,

     brief=getOption("brief"),

     res_rows=NULL, res_sort=c("cooks","rstudent","dffits","off"),
     pred=TRUE, pred_all=FALSE, prob_cut=0.5, cooks_cut=1,

     X1_new=NULL, X2_new=NULL, X3_new=NULL, X4_new=NULL,
     X5_new=NULL, X6_new=NULL,

     pdf_file=NULL, width=5, height=5, ...)

lr(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Logit_+3A_my_formula">my_formula</code></td>
<td>
<p>Standard R <code><a href="stats.html#topic+formula">formula</a></code> for specifying a model.
For example, for a response variable named Y and two predictor variables,
X1 and X2, specify the corresponding linear model as Y ~ X1 + X2.</p>
</td></tr>
<tr><td><code id="Logit_+3A_data">data</code></td>
<td>
<p>The default name of the data frame that contains the data
for analysis is <code>d</code>, otherwise explicitly specify.</p>
</td></tr>
<tr><td><code id="Logit_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of
the data frame to analyze.</p>
</td></tr>
<tr><td><code id="Logit_+3A_ref_group">ref_group</code></td>
<td>
<p>Value of the response variable that is the reference group, 
otherwise set by default as the value that yields a <code>+</code> slope
for one predictor variable or the largest alphabetical/numerical
value if more than one predictor.</p>
</td></tr>
<tr><td><code id="Logit_+3A_digits_d">digits_d</code></td>
<td>
<p>For the Basic Analysis, it provides the number of decimal
digits. For the rest of the output, it is a suggestion only.</p>
</td></tr>
<tr><td><code id="Logit_+3A_text_width">text_width</code></td>
<td>
<p>Width of the text output at the console.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Logit_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output. Can change system
default with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Logit_+3A_res_rows">res_rows</code></td>
<td>
<p>Default is 25, which lists the first 25 rows of data sorted
by the specified sort criterion.  To turn this option off, specify a
value of 0. To see the output for all observations, specify a value of
<code>"all"</code>.</p>
</td></tr>
<tr><td><code id="Logit_+3A_res_sort">res_sort</code></td>
<td>
<p>Default is <code>"cooks"</code>, for specifying Cook's distance as
the sort criterion for the display of the rows of data and associated
residuals. Other values are <code>"rstudent"</code> for Studentized residuals,
and <code>"off"</code> to not provide the analysis.</p>
</td></tr>
<tr><td><code id="Logit_+3A_pred">pred</code></td>
<td>
<p>Default is <code>TRUE</code>, which, produces confidence and prediction
intervals for each row, or selected rows, of data.</p>
</td></tr>
<tr><td><code id="Logit_+3A_pred_all">pred_all</code></td>
<td>
<p>Default is <code>FALSE</code>, which produces prediction intervals
only for the first, middle and last five rows of data.</p>
</td></tr>
<tr><td><code id="Logit_+3A_prob_cut">prob_cut</code></td>
<td>
<p>Probability threshold for classifying an observation into the
reference group (1) or not (0), applied to the forecasts with prediction
intervals as well as to the confusion matrix. Can be a vector, in which
case if multiple predictors, the forecasts are for a threshold of 0.5,
then the confusion matrices according to the specified values. If a single
specified value, then both the forecasts and the one confusion matrix are
computed with that value.</p>
</td></tr>
<tr><td><code id="Logit_+3A_cooks_cut">cooks_cut</code></td>
<td>
<p>Cutoff value of Cook's Distance at which observations with a
larger value are flagged in red and labeled in the resulting scatterplot
of Residuals and Fitted Values. Default value is 1.0.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Logit_+3A_x1_new">X1_new</code></td>
<td>
<p>Values of the first listed predictor variable for which
forecasted values and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Logit_+3A_x2_new">X2_new</code></td>
<td>
<p>Values of the second listed predictor variable for which
forecasted values and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Logit_+3A_x3_new">X3_new</code></td>
<td>
<p>Values of the third listed predictor variable for which
forecasted values and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Logit_+3A_x4_new">X4_new</code></td>
<td>
<p>Values of the fourth listed predictor variable for which
forecasted values and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Logit_+3A_x5_new">X5_new</code></td>
<td>
<p>Values of the fifth listed predictor variable for which
forecasted values and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Logit_+3A_x6_new">X6_new</code></td>
<td>
<p>Values of the sixth listed predictor variable for which
forecasted values and corresponding prediction intervals are calculated.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Logit_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="Logit_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="Logit_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Logit_+3A_...">...</code></td>
<td>
<p>Other parameter values for R function <code><a href="stats.html#topic+glm">glm</a></code> which provides the core computations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
<code>Logit</code> combines the following function calls into one, as well as provide ancillary analyses such as as graphics, organizing output into tables and sorting to assist interpretation of the output. The basic analysis successively invokes several standard R functions beginning with the standard R function for estimation of the logit model, <code><a href="stats.html#topic+glm">glm</a></code> with <code>family="binomial"</code>. The output of the analysis is stored in the object <code>lm.out</code>, available for further analysis in the R environment upon completion of the <code>Logit</code> function. By default automatically provides the analyses from the standard R functions, <code><a href="base.html#topic+summary">summary</a></code>, <code><a href="stats.html#topic+confint">confint</a></code> and <code><a href="stats.html#topic+anova">anova</a></code>, with some of the standard output modified and enhanced. The residual analysis invokes <code><a href="stats.html#topic+fitted">fitted</a></code>, <code><a href="stats.html#topic+resid">resid</a></code>, <code><a href="stats.html#topic+rstudent">rstudent</a></code>, and <code><a href="stats.html#topic+cooks.distance">cooks.distance</a></code> functions.  The option for prediction intervals calls the standard generic R function <code><a href="stats.html#topic+predict">predict</a></code>.
</p>
<p>The default analysis provides the model's parameter estimates and corresponding hypothesis tests and confidence intervals, goodness of fit indices, the ANOVA table, analysis of residuals and influence as well as the fitted value and standard error for each observation in the model.
</p>
<p>DATA<br />
The name <code>d</code> is by default provided by the <code><a href="#topic+Read">Read</a></code> function included in this package for reading and displaying information about the data in preparation for analysis. If all the variables in the model are not in the same data frame, the analysis will not be complete.  The data frame does not need to be attached, just specified by name with the <code>data</code> option if the name is not the default <code>d</code>.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>GRAPHICS<br />
For models with a single predictor variable, a scatter plot of the data is produced, which also includes the fitted values_ As with the density histogram plot of the residuals and the scatterplot of the fitted values and residuals, the scatterplot includes a colored background with grid lines. If more than a single predictor variable, then a scatter plot matrix is produced.
</p>
<p>FORECASTS<br />
Fitted and forecasted values are listed for all rows of data if the number of rows is less than 25 or if <code>pred_all=TRUE</code>. If only some of the rows are listed, sorted by the fitted value, the first and last four rows of data are listed. Also the 4 rows immediately around the fitted value of 0.5 are listed.
</p>
<p>RESIDUAL ANALYSIS<br />
By default the residual analysis lists the data and fitted value for each observation as well as the residual, Studentized residual, Cook's distance and dffits, with the first 20 observations listed and sorted by Cook's distance. The residual displayed is the actual difference between fitted and observed, that is, with the setting in the <code><a href="stats.html#topic+residuals">residuals</a></code> of <code>type="response"</code>.  The <code>res_sort</code> option provides for sorting by the Studentized residuals or not sorting at all.  The <code>res_rows</code> option provides for listing these rows of data and computed statistics statistics for any specified number of observations (rows).  To turn off the analysis of residuals, specify <code>res_rows=0</code>.
</p>
<p>INVOKED R OPTIONS<br />
The <code><a href="base.html#topic+options">options</a></code> function turns off the stars for different significance levels (show.signif.stars=FALSE), turns off scientific notation for the output (scipen=30), and sets the width of the text output at the console to 120 characters. The later option can be re-specified with the <code>text_width</code> option. After <code>Logit</code> is finished with a normal termination, the options are re-set to their values before the <code>Logit</code> function began executing.
</p>
<p>COLORS<br />
The default color theme is <code>"colors"</code>, but a gray scale is available with <code>"gray"</code>, and other themes are available as explained in <code><a href="#topic+style">style</a></code>, such as <code>"red"</code> and <code>"green"</code>. Use the option <code>style(sub_theme="black")</code> for a black background and partial transparency of plotted colors.
</p>


<h3>Value</h3>

<p>Following the standard <code>R</code> function <code><a href="stats.html#topic+glm">glm</a></code>, invisibly returns an object of <code><a href="base.html#topic+class">class</a></code> inheriting from &quot;glm&quot; which inherits from the <code><a href="base.html#topic+class">class</a></code> &quot;lm&quot;. Particularly useful for comparing nested models. Assign the output of <code>Logit</code> for a model to an object. Then for a nested model. Then use the <code><a href="stats.html#topic+anova">anova</a></code> function to compare the models as shown in the examples below.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapter 13, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+formula">formula</a></code>, <code><a href="stats.html#topic+glm">glm</a></code>, <code><a href="stats.html#topic+summary.glm">summary.glm</a></code>, <code><a href="stats.html#topic+anova">anova</a></code>, <code><a href="stats.html#topic+confint">confint</a></code>, <code><a href="stats.html#topic+fitted">fitted</a></code>, <code><a href="stats.html#topic+resid">resid</a></code>, <code><a href="stats.html#topic+rstudent">rstudent</a></code>, <code><a href="stats.html#topic+cooks.distance">cooks.distance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Gender has values of "M" and "F"
d &lt;- Read("Employee", quiet=TRUE)
# logit regression, rely upon default parameter value: data=d
Logit(Gender ~ Years)

# short name
lr(Gender ~ Years)

# Modify the default settings as specified
Logit(Gender ~ Years, res_row=8, res_sort="rstudent", digits_d=8, pred=FALSE)

Logit(Gender ~ Years)

# Multiple logistic regression model with specified probability thresholds
#  for classification into the reference group
# just for employees who have worked more than 5 years at the firm
Logit(Gender ~ Years + Salary, prob_cut=c(.4, .7), rows=(Years &gt; 3))

# Custom contrasts for categorical predictor
d$JobSat &lt;- factor(d$JobSat, levels=c("low", "med", "high"))
contrasts(d$JobSat) &lt;- contr.sum(n=3)
Logit(Gender ~ JobSat)


# Compare nested models
# easier and better treatment of missing data with lessR function:  Nest
full_model &lt;- Logit(Gender ~ Years + Salary)
reduced_model &lt;- Logit(Gender ~ Years)
anova(reduced_model, full_model)

# Save the three plots as pdf files 4 inches square, gray scale
#Logit(Gender ~ Years, pdf_file="MyModel.pdf",
#      width=4, height=4, colors="gray")

# Specify new values of the predictor variables to calculate
#  forecasted values
d &lt;- Read("Cars93")
Logit(Source ~ HP + MidPrice, X1_new=seq(100,250,50), X2_new=c(10,60,10))
</code></pre>

<hr>
<h2 id='Merge'>Merge Two Data Frames Horizontally or Vertically</h2><span id='topic+Merge'></span><span id='topic+mrg'></span>

<h3>Description</h3>

<p>Abbreviation: <code>mrg</code>
</p>
<p>A horizontal merge combines data frames horizontally, that is, adds variables (columns) to an existing data frame, such as with a common shared ID field. Performs the horizontal merge based directly on the standard R <code><a href="base.html#topic+merge">merge</a></code> function. The vertical merge is based on the <code><a href="base.html#topic+rbind">rbind</a></code> function in which the two data frames have the same variables but different cases (rows), so the rows build vertically, stacked on top of each other. 
</p>
<p>The advantages of this <code>lessR</code> function is that it provides a single function for merging data frames, adds text output to the standard R functions that provide feedback regarding properties of the merge, and provides more detailed and presumably more useful error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Merge(data1, data2, by=NULL, quiet=getOption("quiet"), ...)

mrg(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Merge_+3A_data1">data1</code></td>
<td>
<p>The name of the first data frame from which to create the merged 
data frame.</p>
</td></tr>
<tr><td><code id="Merge_+3A_data2">data2</code></td>
<td>
<p>The name of the second data frame from which to create the merged 
data frame.</p>
</td></tr>
<tr><td><code id="Merge_+3A_by">by</code></td>
<td>
<p>If a variable specified, then signals a horizontal merge with the
ID field by which the data frames are merged as an inner join, that is,
only rows of data are retained that both match on the ID. Specify
<code>"rows"</code> to merge vertically.</p>
</td></tr>
<tr><td><code id="Merge_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Merge_+3A_...">...</code></td>
<td>
<p>Additional arguments available in the base R <code><a href="base.html#topic+merge">merge</a></code>
function such as <code>all.x=TRUE</code> for an left outer join, which retains
all rows of the first data frame even if not matched by a row in the
second data table. Specify a right outer join with <code>all.y=TRUE</code>
and a full outer join, in which all records from both data frames are
retained, with <code>all=TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Merge</code> creates a merged data frame from two input data frames.
</p>
<p>If <code>by</code> is specified the merge is horizontal. That is the variables in the second input data frame are presumed different from the variables in the first input data frame. The merged data frame is the combination of variables from both input data frames, with the rows aligned by the value of <code>by</code>, an ID field common to both data frames. The result is a <em>natural join</em>, a specific instance of an <em>inner join</em> in which merging occurs according a common variable.
</p>
<p>Invoke <code><a href="base.html#topic+merge">merge</a></code> parameters <code>all.x</code>, <code>all.y</code>, and <code>all</code>, set to <code>TRUE</code> for the corresponding condition. These parameters set, respectively, a <em>left-outer join</em>, <em>right-outer join</em>, and a <em>outer join</em> in which all records from both data frames are retained regardless if a matching row in the other data frame. 
</p>
<p>Set <code>by</code> to <code>"rows"</code> for a vertical merge. The variables are presumed the same in each input data frame.  The merged data frame consists of the rows of both input data frames. The rows of the first data frame are stacked upon the rows of the second data frame. 
</p>
<p>Guidance and feedback regarding the merge are provided by default. The first five lines of each of the input data frames are listed before the merge operation, followed by the first five lines of the output data frame.
</p>


<h3>Value</h3>

<p>The merged data frame is returned, usually assigned the name of <code>d</code> as in the examples below. This is the default name for the data frame input into the <code>lessR</code> data analysis functions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+merge">merge</a></code>, <code><a href="base.html#topic+rbind">rbind</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Horizontal
#-----------
d &lt;- Read("Employee", quiet=TRUE)
Emp1a &lt;- d[1:4, .(Years, Gender, Dept, Salary)]
Emp1b &lt;- d[1:4, .(JobSat, Plan)]
# horizontal merge
d &lt;- Merge(Emp1a, Emp1b, by="row.names")
# suppress output to console
d &lt;- Merge(Emp1a, Emp1b, by="row.names", quiet=TRUE)

# Vertical
#---------
d &lt;- Read("Employee", quiet=TRUE)
Emp2a &lt;- d[1:4,]
Emp2b &lt;- d[7:10,]
# vertical merge
d &lt;- Merge(Emp2a, Emp2b, by="rows")


</code></pre>

<hr>
<h2 id='Model'>Regression Analysis, ANOVA or t-test</h2><span id='topic+Model'></span><span id='topic+model'></span><span id='topic+model_brief'></span>

<h3>Description</h3>

<p>Abbreviation: <code>model</code>, <code>model_brief</code>
</p>
<p>Automatically selects and then provides an analysis of a linear model: OLS regression, Logistic regression, ANOVA, or a t-test depending on the proprieties of the data. Comprehensive regression analysis with graphics from a single, simple function call with many default settings, each of which can be re-specified.  By default the data exists as a data frame with the default name of <code>d</code>, such as data read by the <code>lessR</code> <code>rad</code> function.  Specify the model in the function call according to an R <code><a href="stats.html#topic+formula">formula</a></code>, that is, the response variable followed by a tilde, followed by the list of predictor variables, each pair separated by a plus sign.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Model(my_formula, data=d, brief=getOption("brief"), xlab=NULL, ...)

model_brief(..., brief=TRUE) 

model(...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Model_+3A_my_formula">my_formula</code></td>
<td>
<p>Standard R <code><a href="stats.html#topic+formula">formula</a></code> for specifying a model.  For
example, for a response variable named Y and two predictor variables, X1 and 
X2, specify the corresponding linear model as Y ~ X1 + X2.</p>
</td></tr>
<tr><td><code id="Model_+3A_data">data</code></td>
<td>
<p>The default name of the data frame that contains the data for analysis 
is <code>d</code>, otherwise explicitly specify.</p>
</td></tr>
<tr><td><code id="Model_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Model_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label, defaults to variable name, or, if present, variable label.</p>
</td></tr>
<tr><td><code id="Model_+3A_...">...</code></td>
<td>
<p>Other parameter values for R functions such as <code><a href="stats.html#topic+lm">lm</a></code> which provide the core computations.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
The purpose of <code>Model</code> is to combine many standard R function calls into one, as well as provide ancillary analyses such as as graphics, organizing output into tables and sorting to assist interpretation of the output, all from a single function. Currently the supported models are OLS regression, ANOVA and the t-test.  For more details of each of these methods, see the <code>lessR</code> functions <code><a href="#topic+Regression">Regression</a></code>, <code><a href="#topic+Logit">Logit</a></code>,  <code><a href="#topic+ANOVA">ANOVA</a></code> and  <code><a href="#topic+ttest">ttest</a></code>, respectively, which, in turn are based on many standard R functions.
</p>
<p>All invocations of the <code>model</code> function are based on the standard R <code><a href="stats.html#topic+formula">formula</a></code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+formula">formula</a></code>, <code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="stats.html#topic+glm">glm</a></code>, <code><a href="stats.html#topic+summary.lm">summary.lm</a></code>, <code><a href="stats.html#topic+anova">anova</a></code>, <code><a href="stats.html#topic+confint">confint</a></code>, <code><a href="stats.html#topic+fitted">fitted</a></code>, <code><a href="stats.html#topic+resid">resid</a></code>, <code><a href="stats.html#topic+rstudent">rstudent</a></code>, <code><a href="stats.html#topic+cooks.distance">cooks.distance</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate random data, place in data frame d
n &lt;- 200
X1 &lt;- rnorm(n)
X2 &lt;- rnorm(n)
Y &lt;- .7*X1 + .2*X2 + .6*rnorm(n)
Ybin &lt;- cut(Y, breaks=2, labels=FALSE)
#  instead, if read data with the Read function
#   then the result is the data frame called d 
d &lt;- round(data.frame(X1, X2, Y, Ybin),2)
rm(Y); rm(Ybin); rm(X1); rm(X2)

# One-predictor regression
# Provide all default analyses including scatterplot etc.
Model(Y ~ X1)
# alternate form
model(Y ~ X1)

# Multiple regression model
# Provide all default analyses
Model(Y ~ X1 + X2)

# Logit analysis
# Y is binary, 0 or 1
d &lt;- recode(Ybin, old=c(1,2), new=c(0,1), quiet=TRUE)
Model(Ybin ~ X1)

# t-test
Model(breaks ~ wool, data=warpbreaks)

# ANOVA analysis
# from another data frame other than the default \code{d}
# breaks is numerical, wool and tension are categorical
Model(breaks ~ wool + tension, data=warpbreaks)
</code></pre>

<hr>
<h2 id='Nest'>Nest the Values of an Integer or Factor Variable</h2><span id='topic+Nest'></span><span id='topic+nt'></span>

<h3>Description</h3>

<p>Abbreviation: <code>nt</code>
</p>
<p>A nested model has a subset of predictor variables from the corresponding full model. Compare a nested linear model with a full model to evaluate the effectiveness of the predictor variables deleted from the full model to define the nested model. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Nest(y, nested_model, full_model, method=c("lm", "logit"),
         data=d, digits_d=NULL, ...)

nt(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Nest_+3A_y">y</code></td>
<td>
<p>Response variable.</p>
</td></tr>
<tr><td><code id="Nest_+3A_nested_model">nested_model</code></td>
<td>
<p>Predictor variables in the nested model.</p>
</td></tr>
<tr><td><code id="Nest_+3A_full_model">full_model</code></td>
<td>
<p>Predictor variables in either the full model, or
just those that added to the reduced model to derive the
full model.</p>
</td></tr>
<tr><td><code id="Nest_+3A_method">method</code></td>
<td>
<p>Do a least squares analysis, <code>ls</code>, the default, or 
set to <code>logit</code>.</p>
</td></tr>
<tr><td><code id="Nest_+3A_data">data</code></td>
<td>
<p>The name of the data frame from which to create the subset, which
is <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="Nest_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of decimal digits, set by default to at least 2
or the largest number of digits in the values of the response variable
plus 1.</p>
</td></tr>
<tr><td><code id="Nest_+3A_...">...</code></td>
<td>
<p>The specified arguments.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use the standard <code>R</code> function <code><a href="stats.html#topic+anova">anova</a></code> function to compare a nested model with a corresponding full model. By default, compare models estimated with ordinary least squares from the <code>R</code> function <code><a href="stats.html#topic+lm">lm</a></code>, or compare models estimated with logistic regression from the <code>R</code> function <code><a href="stats.html#topic+glm">glm</a></code> with <code>family="binomial"</code>. For the logistic analysis, the <code><a href="stats.html#topic+anova">anova</a></code> analysis is with <code>test="Chisq"</code>.
</p>
<p>To insure that the same data are analyzed for both models, the fit for the full model is first obtained. Then the data frame that is returned by this analysis is input into the analysis for the nested model. This guarantees that any cases with missing data values missing for the full analysis will have been deleted for the nested analysis.  Otherwise rows of data could be retained for the nested analysis that were dropped for the full analysis because of missing data values for the deleted predictor variables. This method also guarantees that cases are not deleted because data was missing on variables not included in full analysis. 
</p>


<h3>Value</h3>

<p>The output can optionally be returned and saved into an <code>R</code> object, otherwise it simply appears at the console. The components of this object are redesigned in <code>lessR</code> version 3.3 into (a) pieces of text that form the readable output and (b) a variety of statistics. The readable output are character strings such as tables amenable for viewing and interpretation. The statistics are numerical values amenable for further analysis, such as to be referenced in a subsequent R markdown document. The motivation of these three types of output is to facilitate R markdown documents, as the name of each piece, preceded by the name of the saved object followed by a dollar sign, can be inserted into the R markdown document (see <code>examples</code>).
</p>
<p>TEXT OUTPUT<br />
<code>out_models</code>: The specification of the two models compared<br />
<code>out_anova</code>: Analysis of variance or, for logit, analysis of deviance<br />
</p>
<p>STATISTICS<br />
<code>fun_call</code>: Function call that generated the analysis<br />
<code>anova_tested</code>: Term that is tested<br />
<code>anova_residual</code>: Residual df, and either ss and ms or deviance for logit<br />
<code>anova_total</code>: For logit, total df and deviance<br />
</p>
<p>Although not typically needed for analysis, if the output is assigned to an object named, for example, <code>n</code>, then the complete contents of the object can be viewed directly with the <code><a href="base.html#topic+unclass">unclass</a></code> function, here as <code>unclass(n)</code>. Invoking the <code><a href="base.html#topic+class">class</a></code> function on the saved object reveals a class of <code>out_all</code>. The class of each of the text pieces of output is <code>out</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapter 12, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+anova">anova</a></code>, <code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="stats.html#topic+glm">glm</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- Read("Reading")

# compare least-squares models
# can specify all the variables in the full model
Nest(Reading, c(Absent), c(Verbal,Absent,Income))
# or, can specify just the additional variables in the full model
Nest(Reading, c(Absent), c(Verbal,Income))

# compare logistic models, save results into an object
# define the full model by adding just the variables
#  not found in the reduced model
d &lt;- Read("BodyMeas")
n &lt;- Nest(Gender, c(Weight, Hips, Hand, Shoe),
      c(Height, Waist, Chest), method="logit")
# view the results
n
# see the names of the available output components
names(n)
</code></pre>

<hr>
<h2 id='PieChart'>Pie Chart</h2><span id='topic+PieChart'></span><span id='topic+pc'></span>

<h3>Description</h3>

<p>Abbreviation: <code>pc</code>
</p>
<p>Plots a pie chart of a categorical variable (<code>x</code>). The default chart is a doughnut or ring version of a pie chart, that is, a hole in the middle of the pie. Either directly enter the corresponding numerical value (<code>y</code>) or have the numerical variable be the tabulated counts for the frequency of occurrence for each value of the categorical variable. Also displays the frequency table for the variable with the corresponding chi-square inferential analysis. Real numbers can also be entered directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PieChart(x, y=NULL, data=d, rows=NULL,

         radius=1, hole=0.65, hole_fill=getOption("panel_fill"),

         theme=getOption("theme"),
         fill=NULL, 
         color="lightgray",
         transparency=getOption("trans_bar_fill"),

         density=NULL, angle=45,
         lty="solid", lwd=1, edges=200,

         clockwise=FALSE, init_angle=ifelse (clockwise, 90, 0), 

         values=getOption("values"),
         values_color=getOption("values_color"),
         values_size=getOption("values_size"),
         values_digits=getOption("values_digits"),
         values_position=getOption("values_position"),

         main=NULL, main_cex=getOption("main_cex")*1.2,
         labels_cex=getOption("lab_cex"), cex,

         add=NULL, x1=NULL, y1=NULL, x2=NULL, y2=NULL,

         eval_df=NULL, quiet=getOption("quiet"),
         width=6.5, height=6, pdf_file=NULL,
         ...)

pc(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PieChart_+3A_x">x</code></td>
<td>
<p>For each level of this categorical variable, x, display the
frequencies as slices of a pie.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_y">y</code></td>
<td>
<p>Numeric variable that sets the area of each slice of the pie.
If not specified,
then its value is the frequency of each category of <code>x</code>,
automatically tabulated.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variable(s) of interest,
default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_radius">radius</code></td>
<td>
<p>The pie is drawn in a box with sides that range from -1 to 1,
so the maximum value of the radius without truncating the pie is 1.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_hole">hole</code></td>
<td>
<p>The proportion of the radius that defines the inner hole
for what is called a doughnut or hole plot. To show the full pie,
set to <code>FALSE</code> or the value of <code>0</code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_hole_fill">hole_fill</code></td>
<td>
<p>Fill color of the hole, which by default is the same color as
<code>panel_fill</code> as set by the color theme or individually with
the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr> </table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_theme">theme</code></td>
<td>
<p>Selected color theme, change with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_fill">fill</code></td>
<td>
<p>Specified color of each slice. Default is the discrete 
scale with, with fixed
chroma (50) and luminance (75) for unbiased comparison 
across colors, for all color themes except 
<code>"gray"</code> and <code>"white"</code>, with default gray scale.
Can explicitly choose <code>"grays"</code>
or <code>"hues"</code> , or pre-specified R color schemes 
<code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. 
Or, set to the name of <code>y</code> to map the values of bar fill,
specified as <code>(count)</code> if tabulated from the data. Can also
provide pre-defined color ranges <code>"blues"</code>, <code>"reds"</code>
and <code>"greens"</code>, as well as
custom colors, such as generated by <code><a href="#topic+getColors">getColors</a></code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_color">color</code></td>
<td>
<p>Border color of sides and the pie, can be a vector
to customize the color for each slice. Default is
<code>bar_color</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_transparency">transparency</code></td>
<td>
<p>Transparency factor of the area of each slice.
Default is
<code>trans_bar_fill</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_density">density</code></td>
<td>
<p>Density of shading lines, in lines per inch. Default value is
<code>NULL</code>, that is, no shading lines.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_angle">angle</code></td>
<td>
<p>Angle of shading lines in degrees.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_lty">lty</code></td>
<td>
<p>Type of line that borders each slice, such as &quot;solid&quot;, the default.
Can be a vector. Acceptable values are <code>"blank"</code>, <code>"solid"</code>,
<code>"dashed"</code>, <code>"dotted"</code>, <code>"dotdash"</code>, and <code>"longdash"</code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_lwd">lwd</code></td>
<td>
<p>Width of line that borders each slice.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_edges">edges</code></td>
<td>
<p>Approximation of a circle with a polygon drawn with the 
number of specified edges.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_clockwise">clockwise</code></td>
<td>
<p>Default value of <code>FALSE</code> specifies to draw the
slices counter-clockwise, otherwise clockwise.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_init_angle">init_angle</code></td>
<td>
<p>Starting angle (in degrees) for the slices. For counter-clockwise
the default value is 0 (3 o'clock), otherwise 90 (12 o'clock).</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_values">values</code></td>
<td>
<p>If not the default value of <code>"off"</code>, adds the
numerical results to the plot according to <code>"%"</code>, 
<code>"prop"</code> or <code>"input"</code>, that is, percentages,
proportions, or the value from which the slices are plotted,
such as tabulated counts if <code>y</code> is not specified,
or the value of <code>y</code> if the plotted values are provided. If
any other <code>values</code> parameter is specified, default is set
to <code>"%"</code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_values_color">values_color</code></td>
<td>
<p>Color of the plotted text. Could be a vector to specify
a unique color for each value. If fewer colors are specified than
the number of categories, the colors are recycled.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_values_size">values_size</code></td>
<td>
<p>Character expansion factor, the size, of the plotted text, 
for which the default value is 0.95.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_values_digits">values_digits</code></td>
<td>
<p>Number of decimal digits for which to display the values_
Default is 0, round to the nearest integer, for <code>"%"</code>
and 2 for <code>"prop"</code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_values_position">values_position</code></td>
<td>
<p>Position of the plotted text. Default is inside the pie,
or, if <code>"label"</code>, as part of the label for each value
outside of the pie.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_main">main</code></td>
<td>
<p>Title of graph. Set the color with <code>main_color</code> with
the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_main_cex">main_cex</code></td>
<td>
<p>Character expansion factor of title relative to 1.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_labels_cex">labels_cex</code></td>
<td>
<p>Character expansion factor of labels relative to 1. No
labels if set to 0.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_cex">cex</code></td>
<td>
<p>General character expansion factor for default values of 
main_cex, labels_cex, and values_size. Useful for adjustment of text
for larger or smaller images.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_add">add</code></td>
<td>
<p><b>Draw one or more objects</b>, text or a geometric figures,
on the plot.
Possible values are any text to be written, the first argument, which is
<code>"text"</code>, or, to indicate a figure,
<code>"rect"</code> (rectangle), <code>"line"</code>, <code>"arrow"</code>,
<code>"v.line"</code> (vertical line), and <code>"h.line"</code> (horizontal line).
The value <code>"means"</code> is short-hand for vertical and horizontal lines
at the respective means. Does not apply to Trellis graphics.
Customize with parameters such as <code>fill</code> and <code>color</code>
from the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_x1">x1</code></td>
<td>
<p>First x coordinate to be considered for each object.
All coordinates vary from -1 to 1.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_y1">y1</code></td>
<td>
<p>First y coordinate to be considered for each object.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_x2">x2</code></td>
<td>
<p>Second x coordinate to be considered for each object.
Only used for <code>"rect"</code>, <code>"line"</code> and <code>arrow</code>.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_y2">y2</code></td>
<td>
<p>Second y coordinate to be considered for each object.
Only used for <code>"rect"</code>, <code>"line"</code> and <code>arrow</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_eval_df">eval_df</code></td>
<td>
<p>Determines if to check for existing data frame and
specified variables. By default is <code>TRUE</code> 
unless the <code>shiny</code> package is loaded then set to <code>FALSE</code> so
that Shiny will run. Needs to be set to <code>FALSE</code> if using
the pipe <code>%\&gt;%</code> notation.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_width">width</code></td>
<td>
<p>Width of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_height">height</code></td>
<td>
<p>Height of the plot window in inches, defaults to 4.5.</p>
</td></tr>
<tr><td><code id="PieChart_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to if graphics to be redirected to a
pdf file.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="PieChart_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics as defined processed 
by <code><a href="graphics.html#topic+pie">pie</a></code> and <code><a href="graphics.html#topic+par">par</a></code> for general graphics,
which includes <code>radius</code> of the pie, and <code>color_main</code> for
the title of the graph.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
Plot a pie chart with default colors, presumably with a relatively small number of values for each variable.  By default, colors are selected for the slices, background and grid lines, all of which can be customized. The basic computations of the chart are provided with the standard R functions <code><a href="graphics.html#topic+pie">pie</a></code> and <code><a href="stats.html#topic+chisq.test">chisq.test</a></code> and the <code>lessR</code> function  <code><a href="stats.html#topic+chisq.test">chisq.test</a></code>. A minor modification of the original <code><a href="graphics.html#topic+pie">pie</a></code> code provides for the hole in the middle of the pie, the default doughnut or ring chart.
</p>
<p>DATA<br />
The data may either be a vector from the global environment, the user's workspace, as illustrated in the examples below, or one or more variable's in a data frame, or a complete data frame. The default input data frame is <code>d</code>. Can specify the source data frame name with the <code>data</code> option.  If multiple variables are specified, only the numerical variables in the list of variables are analyzed. The variables in the data frame are referenced directly by their names, that is, no need to invoke the standard <code>R</code> mechanisms of the <code>d$name</code> notation, the <code><a href="base.html#topic+with">with</a></code> function or the  <code><a href="base.html#topic+attach">attach</a></code> function. If the name of the vector in the global environment and of a variable in the input data frame are the same, the vector is analyzed.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>COLORS<br />
Set the default color of the bars by the current color theme according to <code>bar_fill_discrete</code> argument of the function <code><a href="#topic+style">style</a></code>, which includes the default color theme <code>"colors"</code> that defines a qualitative HCL color scale, or set the bar color with the <code>fill</code> parameter. These parameters reference a specified vector of color specifications, such as generated by the lessR <code><a href="#topic+getColors">getColors</a></code> function.
</p>
<p>Set <code>fill</code> to a single color or a color palette, of which there are many possibilities. Define a qualitative color palette with <code>"hues"</code> that provides HCL colors of the same chroma (saturation) and luminance (brightness). Also available are the pre-specified R color palettes <code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. Pre-defined sequential and divergent color ranges are available as implicit calls to <code><a href="#topic+getColors">getColors</a></code>. The full list of pre-defined color ranges (defined in 30 degree increments around the HCL color wheel): <code>"reds"</code>, <code>"rusts"</code>, <code>"browns"</code>, 
<code>"olives"</code>, <code>"greens"</code>, <code>"emeralds"</code>, <code>"turquoises"</code>, <code>"aquas"</code>, <code>"blues"</code>, <code>"purples"</code>,<code>"violets"</code>, <code>"magentas"</code>, and <code>"grays"</code>.
</p>
<p>Defines a <em>sequential color scale</em> with single value of <code>fill</code> for a pre-defined palette such as <code>"blues"</code>. Or, <em>manually specify colors</em>. For example, for a two-level <code>by</code> variable, could set <code>fill</code> to <code>c("coral3","seagreen3")</code>, where the specified colors are <em>not</em> pre-defined color ranges.
</p>
<p>For the pre-defined color scales can obtain more control over the obtained color palettes with an explicit call to <code><a href="#topic+getColors">getColors</a></code> for the argument to <code>fill</code>. Here the value of chroma (<code>c</code>) and luminance (<code>l</code>) can be explicitly manipulated in conjunction with the specification of a pre-defined color range. Or, create a custom color range for any value of hue (<code>h</code>). See  <code><a href="#topic+getColors">getColors</a></code> for more information. 
</p>
<p>To change the background color, set the <code>"panel_fill"</code> argument of the <code><a href="#topic+style">style</a></code> function. The hole of the pie defaults to that color, which, of course, can also be specified to a different color_ 
</p>
<p>ANNOTATIONS<br />
Use the <code>add</code> and related parameters to annotate the plot with text and/or geometric figures_ Each object is placed according from one to four corresponding coordinates, the required coordinates to plot that object, as shown in the following table. The values of the coordinates vary from -1 to 1.<br />
</p>

<table>
<tr>
 <td style="text-align: left;">
Value </td><td style="text-align: left;"> Object </td><td style="text-align: left;"> Required Coordinates</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ------------------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
text </td><td style="text-align: left;"> text </td><td style="text-align: left;"> x1, x2</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"rect"</code> </td><td style="text-align: left;"> rectangle </td><td style="text-align: left;"> x1, y1, x2, y2</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"line"</code> </td><td style="text-align: left;"> line segment </td><td style="text-align: left;"> x1, y1, x2, y2</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"arrow"</code> </td><td style="text-align: left;"> arrow </td><td style="text-align: left;"> x1, y1, x2, y2</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ------------------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The value of <code>add</code> specifies the object. For a single object, enter a single value. Then specify the value of the needed corresponding coordinates, as specified in the above table. For multiple placements of that object, specify vectors of corresponding coordinates. To annotate multiple objects, specify multiple values for <code>add</code> as a vector. Then list the corresponding coordinates, for up to each of four coordinates, in the order of the objects listed in <code>add</code>. See the examples for illustrations.
</p>
<p>Can also specify vectors of different properties, such as <code>add_color</code>. That is, different objects can be different colors, different transparency levels, etc.
</p>
<p>STATISTICS<br />
In addition to the pie chart, descriptive and inferential statistics are presented.  First, for integer variables such as counts, the frequency table with proportions is displayed. Second, the corresponding chi-square test is also displayed. For real valued variables read from a data frame, the summary statistics such as the mean are reported.
</p>
<p>PDF OUTPUT<br />
Because <code>lessR</code> functions generate their own graphics calls, the standard graphic output functions such as <code><a href="grDevices.html#topic+pdf">pdf</a></code> do not work with the <code>lessR</code> graphics functions.  Instead, to obtain pdf output, use the <code>pdf_file</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>
<p>ONLY VARIABLES ARE REFERENCED<br />
The referenced variable in a <code>lessR</code> function can only be a variable name. This referenced variable must exist in either the referenced data frame, <code>d</code> by default, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>    &gt; PieChart(rnorm(10))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; Y &lt;- rnorm(10)   # create vector Y in user workspace
    &gt; PieChart(Y)     # directly reference Y</pre>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 3, NY: CRC Press.
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+pie">pie</a></code>, <code><a href="stats.html#topic+chisq.test">chisq.test</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get the data from a file included with lessR
d &lt;- rd("Employee")

# --------------------------------------------------------
# pie (doughnut) chart from the data for a single variable
# --------------------------------------------------------

# basic pie chart, actually a doughnut or ring chart
# with default hcl colors (except for themes "gray" and "white")
PieChart(Dept)
# short name
#pc(Dept)

# standard pie chart with no hole
pc(Dept, hole=0)

# specify a unique slice color for each of the two slices
# turn off borders
PieChart(Gender, fill=c("pink","lightblue"), lty="blank")

# just males with a salary larger than 75000 USD
PieChart(Dept, rows=(Gender=="M" &amp; Salary &gt; 75000))

# use getColors function to create the pie slice colors
# here as a separate function call
# need to set the correct number of colors to span the full range
mycolors &lt;- getColors("aliceblue", end_pal="steelblue", n=5)
PieChart(Dept, fill=mycolors)

# specify the colors from a predefined color palette
# see ?getColors
PieChart(Dept, fill="blues")

# viridis color palette
PieChart(Dept, fill="viridis")

# display the percentage inside each slice of the pie
# provide a unique color for each displayed value
PieChart(Dept, values="%",
         values_color=c("yellow", "pink", "blue", "purple", "brown"))

# display the counts inside each slice of the pie
# reduce size of displayed counts to 0.75
PieChart(Dept, values="input", values_size=0.75,
         values_color=getOption("window_fill"))

# add transparency and custom color for the displayed values
PieChart(Dept, transparency=.6, values="%", values_color=rgb(.3,.3,.3))

# map counts of each level to the fill color of the corresponding slice
PieChart(JobSat, fill=(count))


# ------------------------------
# pie chart directly from counts
# ------------------------------

# from vector
# pie chart of one variable with three levels
# enter counts as a vector with the combine function, c
# must supply the level names and variable name
# use abbreviation pc for PieChart
City &lt;- c(206, 94, 382)
names(City) &lt;- c("LA","Chicago","NY")
pc(City, main="Employees in Each City")

# counts from data frame
x &lt;- c("ACCT", "ADMN", "FINC", "MKTG", "SALE")
y &lt;- c(5, 6, 4, 6, 15)
d &lt;- data.frame(x,y)
names(d) &lt;- c("Dept", "Count")
PieChart(Dept, Count)

# real numbers from data frame 
Dept &lt;- c("ACCT", "ADMN", "FINC", "MKTG", "SALE")
Salary &lt;- c(86208.42, 29808.29, 42305.52, 75855.81, 65175.51)
d &lt;- data.frame(x,y)
pc(Dept, Salary)
rm(Dept)
rm(Salary)

# -----------
# annotations
# -----------

d &lt;- rd("Employee")

# Place a message in the center of the pie
# Use \n to indicate a new line
PieChart(Dept, add="Employees by\nDepartment", x1=0, y1=0)

# Use style to change some parameter values
style(add_trans=.8, add_fill="gold", add_color="gold4", add_lwd=0.5)
# Add a rectangle around the message centered at &lt;0,0&gt;
PieChart(Dept, add=c("rect", "Employees by\nDepartment"),
                     x1=c(-.4,0), y1=c(-.2, 0), x2=.4, y2=.2)

</code></pre>

<hr>
<h2 id='pivot'>Create a Pivot (Summary) Table</h2><span id='topic+pivot'></span>

<h3>Description</h3>

<p>Compute one or more designated descriptive statistics (<code>compute</code> over one or more numerical variables (<code>variable</code>) either for all the data or aggregated over one or more categorical variables (<code>by</code>). Because the output is a two-dimensional table, select any two of the three possibilities: Multiple compute functions for the descriptive statistics, multiple continuous variables over which to compute, and multiple categorical variables by which to define groups for aggregation. Displays the sample size for each group. Uses the base R function <code><a href="stats.html#topic+aggregate">aggregate</a></code> for which to perform the aggregation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pivot(data, compute, variable, by=NULL, by_cols=NULL, rows=NULL,
         show_n=TRUE, na_by_show=TRUE, na_remove=TRUE, na_group_show=TRUE,
         out_names=NULL, sort=NULL, sort_var=NULL,  
         table_prop=c("none", "all", "row", "col"), table_long=FALSE,
         factors=TRUE, q_num=4, digits_d=NULL, quiet=getOption("quiet"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pivot_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variables.</p>
</td></tr>
<tr><td><code id="pivot_+3A_compute">compute</code></td>
<td>
<p>One or more statistics, defined as one or more functions,
to aggregate over the combinations of the values of the categorical
variables.</p>
</td></tr>
<tr><td><code id="pivot_+3A_variable">variable</code></td>
<td>
<p>One or more numeric response variables for which to
<code>compute</code> the specified statistics, perhaps aggregated,
i.e., summarized across the groups.</p>
</td></tr>
<tr><td><code id="pivot_+3A_by">by</code></td>
<td>
<p>Categorical variables that define the groups (cells) listed
in the rows of the output long-form data frame, available to input
into other data analysis routines. Ignore to compute over the variables
for all the data, e.g., the grand mean.</p>
</td></tr>
<tr><td><code id="pivot_+3A_by_cols">by_cols</code></td>
<td>
<p>Up to two categorical variables that define the groups
displayed as columns in a two dimensional table.</p>
</td></tr> 
<tr><td><code id="pivot_+3A_rows">rows</code></td>
<td>
<p>Subset, i.e., filter, rows of the input data frame for analysis.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="pivot_+3A_show_n">show_n</code></td>
<td>
<p>By default, display the sample size and number missing for each
computed summary statistic. If <code>FALSE</code>, delete all variables
from the output data frame that end with <code>n_</code> or <code>na_</code>.</p>
</td></tr>
<tr><td><code id="pivot_+3A_na_by_show">na_by_show</code></td>
<td>
<p>If <code>TRUE</code>,
the default, if all values of 'variable' are missing for a group
so that the entire level of the 'by' variables is missing, show those
missing cells with a reported value of computed variable <code>n</code> as 0.
Otherwise delete the row from the output.</p>
</td></tr>
<tr><td><code id="pivot_+3A_na_remove">na_remove</code></td>
<td>
<p>Sets base R parameter <code>na.rm</code>. If <code>TRUE</code>,
the default, removes missing values from the <code>variable</code>(s),
then reports how many values were missing. Otherwise, the 
aggregation statistic for a cell with any missing data returns <code>NA</code>.</p>
</td></tr>
<tr><td><code id="pivot_+3A_na_group_show">na_group_show</code></td>
<td>
<p>If <code>TRUE</code>, the default, display <code>&lt;NA&gt;</code> for missing
data of a grouping variable as a level for that variable. Otherwise, do
not treat a missing value of a group as a level for which to aggregate.</p>
</td></tr>
<tr><td><code id="pivot_+3A_out_names">out_names</code></td>
<td>
<p>Custom names for the aggregated variables. If more than one,
list in the same order as specified in <code>variable</code>. Does not apply
to the <code>table</code> option where the column names are the levels of
the <code>by</code> variable(s).</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="pivot_+3A_sort">sort</code></td>
<td>
<p>Set to <code>"+"</code> for an ascending sort or <code>"-"</code> for
a descending sort according to the last variable in the output data
frame.</p>
</td></tr>
<tr><td><code id="pivot_+3A_sort_var">sort_var</code></td>
<td>
<p>Either the name of the variable in the output data frame
to sort, or its column number. Default is the last column.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="pivot_+3A_table_prop">table_prop</code></td>
<td>
<p>Applies to a created <code>table</code> for the value of
<code>compute</code>. Default value of <code>"none"</code> leaves frequencies.
Value of <code>"all"</code> converts to cell proportions based on the
grand total. Values of <code>"row"</code> and <code>"col"</code> provide
proportions based on row and column sums.</p>
</td></tr>
<tr><td><code id="pivot_+3A_table_long">table_long</code></td>
<td>
<p>Applies to the value of <code>compute</code> of <code>table</code>.
If set to <code>TRUE</code>, then the cross-tabs table is output in
long form, one count per row.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="pivot_+3A_factors">factors</code></td>
<td>
<p>For <code>by</code> variables of type
<code>character</code> and <code>integer</code>, converted to factors
in the summary table by default, except for <code>Date</code>
variables that always retain their type. If <code>FALSE</code>, then
the <code>by</code> variables retain their original character or 
integer type.</p>
</td></tr>
<tr><td><code id="pivot_+3A_q_num">q_num</code></td>
<td>
<p>For the computation of quantiles, number of intervals. Default
value of 4 provides quartiles.</p>
</td></tr>
<tr><td><code id="pivot_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of significant digits for each displayed
summary statistic. Trailing zeros are deleted, so, for example, integers
display as integers. If not specified, defaults to 3
unless there are more than 3 decimal digits and only a single
digit to the left of the decimal point. Then enough digits are
displayed to capture some non-zero decimal digits to avoid rounding
to 0.000. To see all digits without trailing decimal 0's,
set at a large number such as 20.</p>
</td></tr>
<tr><td><code id="pivot_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>pivot</code> uses base R <code><a href="stats.html#topic+aggregate">aggregate</a></code> to generate a pivot table (Excel terminology). Express multiple categorical variables over which to pivot as a vector with the <code><a href="base.html#topic+c">c</a></code> function.
</p>
<p><code>pivot</code> provides two additional features than <code><a href="stats.html#topic+aggregate">aggregate</a></code> provides. First is a complete missing data analysis. If there is no missing data for the numerical variables that are aggregated, then the cell sizes are included with the aggregated data. If there is such missing data, then the amount of available data is displayed for all values to be aggregated for each cell.
</p>
<p>The second is that the data parameter is listed first in the parameter list, which facilitates the use of the pipe operator from the <code>magrittr</code> package. Also, there is a different interface as the <code>by</code> variables are specified as a vector.
</p>
<p>Variable ranges in the specification of <code>by</code> are not needed in general. Only a small number of grouping variables generally define the cells for the aggregation.
</p>
<p>The following table lists available single summary statistics. The list is not necessarily exhaustive as the references are to functions provided by base R, including any not listed below.
</p>

<table>
<tr>
 <td style="text-align: left;">
Statistic </td><td style="text-align: left;"> Meaning</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> --------------------------------</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>sum</code> </td><td style="text-align: left;"> sum</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>mean</code> </td><td style="text-align: left;"> arithmetic mean</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>median</code> </td><td style="text-align: left;"> median</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>min</code> </td><td style="text-align: left;"> minimum</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>max</code> </td><td style="text-align: left;"> maximum</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>sd</code> </td><td style="text-align: left;"> standard deviation</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>var</code> </td><td style="text-align: left;"> variance</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>skew</code> </td><td style="text-align: left;"> skew</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>kurtosis</code> </td><td style="text-align: left;"> kurtosis</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>IQR</code> </td><td style="text-align: left;"> inter-quartile range</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>mad</code> </td><td style="text-align: left;"> mean absolute deviation</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> --------------------------------</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The functions <code>skew()</code> and <code>kurtosis()</code> are provided by this package as they have no counterparts in base R. All other functions are from base R.
</p>
<p>The <code>quantile</code> and <code>table</code> statistical function returns multiple values.
</p>

<table>
<tr>
 <td style="text-align: left;">
Statistic </td><td style="text-align: left;"> Meaning</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> --------------------------------</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>quantile</code> </td><td style="text-align: left;"> min, quartiles, max</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>table</code>    </td><td style="text-align: left;"> frequencies or proportions</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> --------------------------------</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The <code>table</code> computation applies to an aggregated variable that consists of discrete categories, such as the numbers 1 through 5 for responses to a 5-pt Likert scale. The result is a table of frequencies or proportions, a contingency table, referred to for two or more variables as a cross-tabulation table or a joint frequency distribution. Other statistical functions can be simultaneously computed with <code>table</code>, though only meaningful if the aggregated variable consists of a relatively small set of discrete, numeric values. 
</p>
<p>The default quantiles for <code>quantile</code> are quartiles. Specify a custom number of quantiles with the <code>q_num</code> parameter, which has the default value of 4 for quartiles.
</p>


<h3>Value</h3>

<p>Returns a data frame of the aggregated values, unless for two <code>by</code> variables and <code>table_2d</code> is <code>TRUE</code>, when a table is returned. 
</p>
<p>The count of the number of elements in each group is provided as the variable <code>n</code>. If a combination of <code>by</code> variable levels that defines a group is empty, the <code>n</code> is set to 0 with the values of the <code>variable</code> set to <code>NA</code>.
</p>
<p>The number of missing elements of the <code>value</code> variable is provided as the variable <code>miss</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+aggregate">aggregate</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(knitr)  # for kable() called from pivot()
d &lt;- Read("Employee", quiet=TRUE)

# parameter values named
pivot(data=d, compute=mean, variable=Salary, by=c(Dept, Gender))

# visualize the aggregation
# when reading a table of coordinates, a, BarChart cannot deal with
#   with missing data so do not show groups that are missing as
#   another level
a &lt;- pivot(d, mean, Salary, c(Dept, Gender), na_group_show=FALSE)
BarChart(Dept, Salary_mean, by=Gender, data=a)

# calculate mean of Years and Salary for each combination of Dept and Gender
# parameter values by position
pivot(d, mean, c(Years, Salary), c(Dept, Gender))

# output as a 2-d cross-tabulation table
pivot(d, mean, Salary, Dept, Gender)

# cross-tabulation table
pivot(d, table, Dept, Gender)
# long form
pivot(d, table, Dept, Gender, table_long=TRUE)

# multiple functions for which to aggregate
pivot(d, c(mean,sd,median,IQR), Years, c(Gender,Dept), digits_d=2)

# A variety of statistics computed for several variables over the
#  entire data set without aggregation
pivot(d, c(mean,sd,skew,kurtosis), c(Years,Salary,Pre,Post), digits_d=2)
</code></pre>

<hr>
<h2 id='Plot'>Plot One or Two Continuous and/or Categorical Variables</h2><span id='topic+Plot'></span><span id='topic+ScatterPlot'></span><span id='topic+sp'></span><span id='topic+BoxPlot'></span><span id='topic+bx'></span><span id='topic+ViolinPlot'></span><span id='topic+vp'></span>

<h3>Description</h3>

<p>Abbreviation:<br />
<code style="white-space: pre;">&#8288;  &#8288;</code>Violin Plot only: <code>vp</code>, <code>ViolinPlot</code><br />
<code style="white-space: pre;">&#8288;  &#8288;</code>Box Plot only: <code>bx</code>, <code>BoxPlot</code><br />
<code style="white-space: pre;">&#8288;  &#8288;</code>Scatter Plot only: <code>sp</code>, <code>ScatterPlot</code><br />
</p>
<p>A scatterplot displays the values of a distribution, or the relationship between the two distributions in terms of their joint values, as a set of points in an <em>n</em>-dimensional coordinate system, in which the coordinates of each point are the values of <em>n</em> variables for a single observation (row of data). From the identical syntax, from any combination of continuous or categorical variables variables <code>x</code> and <code>y</code>, <code>Plot(x)</code> or <code>Plot(x,y)</code>, where <code>x</code> or <code>y</code> can be a vector, by default generates a family of related 1- or 2-variable scatterplots, possibly enhanced, as well as related statistical analyses. A categorical variable is either non-numeric, such as an R factor, or may be defined to consist of a small number of equally spaced integer values. The maximum number of such values to define such an integer variable as categorical is set by the <code>n_cat</code> parameter, with a default value of 0, that is, by default, all variables with numerical values are defined as continuous variables. 
</p>
<p><code>Plot</code> is a general function, which produces a wide variety of scatterplots, which, for a single variable, can be in the context of violin plots and box plots, as outlined in the following list. The parameter definitions that follow this list are grouped, with parameters that relate to the same type of plot defined in the same group.
</p>
<p><code>Plot(x,y)</code>: x and y continuous yields traditional scatterplot of two continuous variables<br />
<code>Plot(x,y)</code>: x and y categorical, to solve the over-plot problem, yields a bubble (balloon) scatterplot, the size of each bubble based on the corresponding joint frequency as a replacement for the two dimensional bar chart<br />
<code>Plot(x,y)</code>: x (or y) categorical and the other variable continuous, yields a scatterplot with means at each level of the categorical variable<br />
<code>Plot(x,y)</code>: x (or y) categorical with unique (ID) values and the other variable continuous, yields a Cleveland dot plot<br />
<code>Plot(X,y)</code> or <code>Plot(x,Y)</code>: one vector variable defined by several continuous variables, paired with another single continuous variable, yields multiple scatterplots on the same graph<br /> 
<code>Plot(x)</code>: one continuous variable generates either, a violin/box/scatterplot (VBS plot), introduced here, or a run chart with <code>run=TRUE</code>, or <code>x</code> can be an R time series variable for a time series chart<br />
<code>Plot(x)</code>: one categorical variable yields a 1-dimensional bubble plot to solve the over-plot problem for a more compact replacement of the traditional bar chart<br />
<code>Plot(X)</code>: one vector of continuous variables, with no <code>y</code>-variable, results in a scatterplot matrix<br />
<code>Plot(X)</code>: one vector of categorical <code>x</code>-variables, with no <code>y</code>-variable, generalizes to a matrix of 1-dimensional bubble plots, here called the bubble plot frequency matrix, to replace a series of bar charts<br />
</p>
<p>Use <code>by</code> to group separate plots for multiple categorical variables on the same plot. Shift the plots to multiple panels for multiple categorical variables with <code>by1</code> or <code>by2</code>. The plots are Trellis (or facet) plots conditioned on one or two variables from implicit calls to functions from Deepayan Sarkar's (2009) lattice package. If plotting a single continuous variable, the resulting plots are superimposed violin, box, and scatter plots, called here VBS plots.
</p>
<p>For a third variable, which is continuous, specify <code>size</code> for a bubble plot. By default, the <code>values</code> of analysis that generate the plotted points is <code>data</code>, or choose other values to plot, which are statistics computed from the data such as <code>mean</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Plot(

    # -------------------------------------
    # Data from which to construct the plot
    x, y=NULL, data=d, rows=NULL,

    # -----------------------------------
    # Lollipop chart from aggregated data
    stat=c("mean", "sum", "sd", "deviation", "min", "median", "max"),
    stat_x=c("count", "proportion", "%"),

    # --------------------
    # Trellis (facet) plot
    by=NULL, by1=NULL, by2=NULL,
    n_row=NULL, n_col=NULL, aspect="fill",

    # ------------------------------------------------------------------
    # Analogy of physical Marks on paper that create the bars and labels
    theme=getOption("theme"),
    fill=NULL,
    color=NULL,
    transparency=getOption("trans_pt_fill"),

    enhance=FALSE,
    size=NULL, size_cut=NULL, shape="circle", means=TRUE,
    segments=FALSE, segments_y=FALSE, segments_x=FALSE,

    # ----------------------
    # Sort and jitter points
    sort_yx=c("0", "-", "+"),
    jitter_x=0, jitter_y=0, 

    # ----------------
    # Outlier analysis
    ID="row.name", ID_size=0.60,
    MD_cut=0, out_cut=0, out_shape="circle", out_size=1,

    # ----------------------------------
    # Integrated violin/box/scatter plot
    vbs_plot="vbs", vbs_size=0.9, bw=NULL, bw_iter=10,
    violin_fill=getOption("violin_fill"), 
    box_fill=getOption("box_fill"), 
    vbs_pt_fill="black",
    vbs_mean=FALSE, fences=FALSE,
    k=1.5, box_adj=FALSE, a=-4, b=3,

    # -----------
    # Bubble plot
    radius=NULL, power=0.5, low_fill=NULL, hi_fill=NULL,

    # --------------------------------------
    # Large data sets, smoothing and binning
    smooth=FALSE, smooth_points=100, smooth_size=1,
    smooth_exp=0.25, smooth_bins=128,
    n_bins=1,
     
    # -------------------------------------------------
    # Fit line, confidence interval, confidence ellipse
        fit=c("off","loess", "lm", "ls", "null", "exp", "quad",
              "power", "log"),
    fit_power=1, fit_se=0.95,
    fit_color=getOption("fit_color"),
    plot_errors=FALSE, ellipse=0, 

    # ------------------------------------------------------
    # Bins for frequency polygon or text output of VBS plots
    bin=FALSE, bin_start=NULL, bin_width=NULL, bin_end=NULL,
    breaks="Sturges", cumulate=FALSE, 

    # -----------------------------------------------------
    # Time series and run chart, plot x values sequentially
    run=FALSE, lwd=1.5, area_fill="transparent", area_origin=0, 
    center_line=c("off", "mean", "median", "zero"),
    show_runs=FALSE, stack=FALSE,

    # ------------------------------------------------------------------
    # Labels for axes, values, and legend if x and by variables, margins
    xlab=NULL, ylab=NULL, main=NULL, sub=NULL,
    lab_adjust=c(0,0), margin_adjust=c(0,0,0,0),

    rotate_x=getOption("rotate_x"), rotate_y=getOption("rotate_y"),
    offset=getOption("offset"),

    xy_ticks=TRUE, origin_x=NULL,
    scale_x=NULL, scale_y=NULL,
    pad_x=c(0,0), pad_y=c(0,0),
    legend_title=NULL,

    # ----------------------------------------------------
    # Draw one or more objects, text, or geometric figures
    add=NULL, x1=NULL, y1=NULL, x2=NULL, y2=NULL,

    # ------------------------------------------------------------------
    # Output: turn off, chart to PDF file, decimal digits, markdown file
    quiet=getOption("quiet"), do_plot=TRUE,
    pdf_file=NULL, width=6.5, height=6, 
    digits_d=NULL,

    # --------------------------------------
    # Deprecated, removed in future versions
    n_cat=getOption("n_cat"), value_labels=NULL,

    # -------------
    # Miscellaneous
    eval_df=NULL, fun_call=NULL, ...)


ScatterPlot(...)
sp(...)
BoxPlot(...)
bx(...)
ViolinPlot(...)
vp(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Plot_+3A_x">x</code></td>
<td>
<p>By itself, or with <code>y</code>, by default, a <em>primary variable</em>,
that is, plotted by its values mapped to coordinates.
The <b>data values</b> can be
continuous or categorical, cross-sectional or a time series.
If <code>x</code> is sorted, with equal intervals
separating the values, or is a time series, then by default
plots the points sequentially, joined by line segments.
Can specify multiple <code>x</code>-variables or multiple <code>y</code>-variables
as vectors, but not both. Can be in a data frame or defined
in the global environment.</p>
</td></tr>
<tr><td><code id="Plot_+3A_y">y</code></td>
<td>
<p>An optional second <em>primary variable.</em> Variable with values
to be mapped to coordinates of points in
the plot on the vertical axis. Can be continuous or categorical.
Can be in a data frame or defined in the global environment.</p>
</td></tr> 
<tr><td><code id="Plot_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains one or both of <code>x</code> and
<code>y</code>. Default data frame is <code>d</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_stat">stat</code></td>
<td>
<p>Transform data for categorical variable <code>x</code>
into a simple table of paired levels of
<code>x</code> with numerical values of <code>y</code>.
Apply specified aggregation such as <code>"mean"</code>
to each of the levels of <code>x</code>, and, for a provided numerical
variable <code>y</code>, transformations such as <code>"mean"</code>, <code>"sd"</code>, etc.
The resulting dot plot is analogous to a bar chart.</p>
</td></tr>
<tr><td><code id="Plot_+3A_stat_x">stat_x</code></td>
<td>
<p>If no <code>y</code> variable is specified, for constructing a
frequency polygon, with access to the <code>bin_width</code> parameter. 
Either do the
default <code>count</code> for each bin or the <code>proportion</code>, also
indicated by <code>%</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_by">by</code></td>
<td>
<p>A categorical variable to provide a scatterplot for
each level of the numeric primary variables <code>x</code> and
<code>y</code> on the <em>same</em> plot, a <em>grouping variable</em>.
For two-variable plots, applies to the panels of a
<b>Trellis graphic</b> if <code>by1</code> is specified.</p>
</td></tr>
<tr><td><code id="Plot_+3A_by1">by1</code></td>
<td>
<p>A categorical variable called a <em>conditioning variable</em> that
activates Trellis graphics, provided by Deepayan Sarkar's (2007) lattice
package, to provide
a <em>separate</em> panel of numeric primary variables <code>x</code>
and <code>y</code> for each level of the variable. Re-order the levels by
first converting to a factor variable with <code><a href="base.html#topic+factor">factor</a></code> or
lessR <code><a href="#topic+factors">factors</a></code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_by2">by2</code></td>
<td>
<p>A second <em>conditioning variable</em> to generate Trellis
plots jointly conditioned on both the <code>by1</code> and <code>by2</code> variables,
with <code>by2</code> as the row variable, which yields a scatterplot (panel)
for <em>each</em> cross-classification of the levels of numeric <code>x</code> and
<code>y</code> variables.</p>
</td></tr>
<tr><td><code id="Plot_+3A_n_row">n_row</code></td>
<td>
<p>Optional specification for the number of rows and columns
in the layout of a multi-panel display with Trellis graphics. Specify
<code>n_col</code> or <code>n_row</code>, but not both.</p>
</td></tr>
<tr><td><code id="Plot_+3A_n_col">n_col</code></td>
<td>
<p>Optional specification for the number of columns in the
layout of a multi-panel display with
Trellis graphics. Specify <code>n_col</code> or <code>n_row</code>, but 
not both. If set to 1, the default, then
the strip that labels each group locates to the left of each plot
instead of the top.</p>
</td></tr>
<tr><td><code id="Plot_+3A_aspect">aspect</code></td>
<td>
<p>Lattice parameter for the aspect ratio of the panels,
defined as height divided by width.
The default value is <code>"fill"</code> to have the panels
expand to occupy as much space as possible. Set to 1 for square panels.
Set to <code>"xy"</code> to specify a ratio calculated
to &quot;bank&quot; to 45 degrees, that is, with the line slope approximately
45 degrees.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_theme">theme</code></td>
<td>
<p>Color theme for this analysis. Make persistent across analyses
with <code><a href="#topic+style">style</a></code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_fill">fill</code></td>
<td>
<p>Either fill color of the points or the area under a line chart.
Can also set with the lessR function <code><a href="#topic+getColors">getColors</a></code> to
select from a variety of color palettes. For points, default is
<code>pt_fill</code> and for area under a line chart, <code>violin_fill</code>.
For a line chart, set to <code>"on"</code> for default color.</p>
</td></tr>
<tr><td><code id="Plot_+3A_color">color</code></td>
<td>
<p>Border color of the points or line_color for line plot.
Can be a vector to customize the color for each point or a color
range such as &quot;blues&quot; (see <code><a href="#topic+getColors">getColors</a></code>. Default is
<code>pt_color</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_transparency">transparency</code></td>
<td>
<p>Transparency factor of the fill color of each point.
Default is
<code>trans_pt_fill</code> from the lessR <code><a href="#topic+style">style</a></code> function.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_enhance">enhance</code></td>
<td>
<p>For a two-variable scatterplot, if <code>TRUE</code>,
automatically add the 0.95 data ellipse, 
labeling of outliers beyond a Mahalanobis distance of 6 from the 
ellipse center, the best-fitting least squares line of all the data,
the best-fitting least squares line of the regular data without the
outliers, and a horizontal and vertical line to represent the mean of
each of the two variables.</p>
</td></tr>
<tr><td><code id="Plot_+3A_size">size</code></td>
<td>
<p>When set to a constant, the scaling factor for <b>standard points</b>
(not bubbles) or a line, with default of 1.0 for points and 2.0 for a line.
Set to 0 to not plot the points or lines. If <code>area_fill</code> for a line
chart, then default is 0. When set to a variable, activates a 
bubble plot with the size of each bubble further determined
by the value of <code>radius</code>. Applies to the standard two-variable
scatterplot as well as to the scatterplot component of the
integrated Violin-Box-Scatterplot (VBS) of a single continuous variable.</p>
</td></tr>
<tr><td><code id="Plot_+3A_size_cut">size_cut</code></td>
<td>
<p>If <code>1</code> (or <code>TRUE</code>), then for a bubble plot in which the
bubble sizes are defined by a
<code>size</code> variable, show the value
of the sizing variable for selected bubbles in the center of
the bubbles, unless the bubble is too small.
If <code>0</code> (or <code>FALSE</code>), no value is displayed.
If a number greater than 1, then display the value only for the
indicated number of values, such as just the max and min for a setting
of 2, the default value when bubbles represent a size
variable.  Color of the displayed text set by <code>bubble_text</code> from
the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_shape">shape</code></td>
<td>
<p>The plot character(s). The default value is <code>"circle"</code>
with both a default exterior
color and filled interior, explicitly specified with 
<code>"color"</code> and <code>"fill"</code>.
Other possible values, with fillable interiors, 
are <code>"circle"</code>, <code>"square"</code>, <code>"diamond"</code>,
<code>"triup"</code> (triangle up), and <code>"tridown"</code> (triangle down), all
uppercase and lowercase letters, all digits, and most punctuation characters.
The numbers 0 through 25 as defined by the R <code><a href="graphics.html#topic+points">points</a></code> function
also apply. If plotting levels for different groups
according to <code>by</code>, then list as a vector with with one shape for each
level to be plotted or set to <code>"vary"</code> to have shapes selected by
default across the <code>by</code> groups.</p>
</td></tr>
<tr><td><code id="Plot_+3A_means">means</code></td>
<td>
<p>If the one variable is categorical, expressed as a factor, and
the other variable continuous, then if <code>TRUE</code>, by default,
plot means with the scatterplot. Also applies to a 1-D scatterplot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_segments">segments</code></td>
<td>
<p>Designed for interaction plots of means, connects each pair of
successive points with a line segment. Pass a data frame of the means,
such as from <code><a href="#topic+pivot">pivot</a></code>. To turn off connecting line segments
for sorted, equal intervals data, set to <code>FALSE</code>. Currently, does
not apply to Trellis plots.</p>
</td></tr>
<tr><td><code id="Plot_+3A_segments_y">segments_y</code></td>
<td>
<p>For one <code>x</code>-variable, draw a line segment from the
<code>y</code>-axis to
each plotted point, such as for the Cleveland dot plot. For two
<code>x</code>-variables, the line segments connect the two points.</p>
</td></tr>
<tr><td><code id="Plot_+3A_segments_x">segments_x</code></td>
<td>
<p>Draw a line segment from the <code>x</code>-axis for each
plotted point.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_sort_yx">sort_yx</code></td>
<td>
<p>Sort the values of <code>y</code> by the values of <code>x</code>, such as
for a Cleveland dot plot, that is, a numeric <code>x</code>-variable paired
with a categorical <code>y</code>-variable with unique values. If a <code>x</code>
is a vector of two variables, sort by their difference.</p>
</td></tr>
<tr><td><code id="Plot_+3A_jitter_x">jitter_x</code></td>
<td>
<p>Randomly perturbs the plotted points of a scatterplot
horizontally within the limits of the explicitly specified value, or
set to <code>NULL</code> to rely upon the default value of the range of 
<code>x</code> divided by 50.</p>
</td></tr>
<tr><td><code id="Plot_+3A_jitter_y">jitter_y</code></td>
<td>
<p>Same as <code>jitter_x</code> except vertical jitter.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_id">ID</code></td>
<td>
<p>Name of variable to provide the <b>labels for the selected
plotted points for outlier identification</b>, row names of data frame
by default. To label all
the points use the <code>add</code> parameter described later.</p>
</td></tr>
<tr><td><code id="Plot_+3A_id_size">ID_size</code></td>
<td>
<p>Size of the plotted labels.
Modify text color of the labels with the <code><a href="#topic+style">style</a></code> function 
parameter <code>ID_color</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_md_cut">MD_cut</code></td>
<td>
<p>Mahalanobis distance cutoff to define an outlier in a 2-variable
scatterplot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_out_cut">out_cut</code></td>
<td>
<p>Count or proportion of plotted points to label, in order of their 
distance from the scatterplot center (means), counting down from
the more extreme point. For two-variable plots, assess distance
from the center with Mahalanobis distance. For VBS plots of a single
continuous variable, refers to outliers on each side of the plot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_out_shape">out_shape</code></td>
<td>
<p>Shape of outlier points in a 2-variable scatterplot
or a VBS plot.
Modify fill color from the current <code>theme</code> with the
<code><a href="#topic+style">style</a></code> function parameters <code>out_fill</code> and
<code>out2_fill</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_out_size">out_size</code></td>
<td>
<p>Size of outlier points in a 2-variable scatterplot
or VBS plot.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_vbs_plot">vbs_plot</code></td>
<td>
<p>A character string that specifies the components of the 
<b>integrated Violin-Box-Scatterplot (VBS) of a continuous variable</b>.
A <code>"v"</code> in the string indicates a violin plot, a <code>"b"</code>
indicates a box plot with flagged outliers, and a <code>"s"</code>
indicates a 1-variable scatterplot. Default value is <code>"vbs"</code>. 
The characters can be in any order and upper- or lower-case.
Generalize to Trellis plots with the 
<code>by1</code> and <code>by2</code> parameters, but currently only applies
to horizontal displays.
Modify fill and border colors from the current <code>theme</code> with
the <code><a href="#topic+style">style</a></code> function parameters <code>violin_fill</code>,
<code>violin_color</code>, <code>box_fill</code> and <code>box_color</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_vbs_size">vbs_size</code></td>
<td>
<p>Width of the violin plot to the plot area. Make the
violin (and also the accompanying box plot) larger or smaller by
making the plot area and/or this value larger or smaller.</p>
</td></tr>
<tr><td><code id="Plot_+3A_bw">bw</code></td>
<td>
<p>Bandwidth for the smoothness of the violin plot. Higher values 
for smoother plots. Default is to calculate a bandwidth that provides
a relative smooth density plot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_bw_iter">bw_iter</code></td>
<td>
<p>Number of iterations used to modify default R bandwidth
to further smooth the obtained density estimate. When set, also
displays the iterations and corresponding results.</p>
</td></tr>
<tr><td><code id="Plot_+3A_violin_fill">violin_fill</code></td>
<td>
<p>Fill color for a violin plot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_box_fill">box_fill</code></td>
<td>
<p>Fill color for a box plot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_vbs_pt_fill">vbs_pt_fill</code></td>
<td>
<p>Points in a VBS scatterplot are black by default because
the background is the violin, which is based on the current theme
color. To use the values for <code>pt_fill</code> and <code>pt_color</code> 
specified by the <code><a href="#topic+style">style</a></code> function, set to <code>"default"</code>.
Or set to any desired color.</p>
</td></tr>
<tr><td><code id="Plot_+3A_vbs_mean">vbs_mean</code></td>
<td>
<p>Show the mean on the box plot with a strip the color
of <code>out_fill</code>, which can be changed with the 
<code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_fences">fences</code></td>
<td>
<p>If <code>TRUE</code>, draw the inner upper and lower fences as
dotted line segments.</p>
</td></tr>
<tr><td><code id="Plot_+3A_k">k</code></td>
<td>
<p>IQR multiplier for the basis of calculating the distance of the 
whiskers of the box plot from the box. Default is Tukey's setting
of 1.5.</p>
</td></tr>
<tr><td><code id="Plot_+3A_box_adj">box_adj</code></td>
<td>
<p>Adjust the box and whiskers, and thus outlier detection,
for skewness using the medcouple statistic as the robust measure
of skewness according to Hubert and Vandervieren (2008).</p>
</td></tr>
<tr><td><code id="Plot_+3A_a">a</code>, <code id="Plot_+3A_b">b</code></td>
<td>
<p>Scaling factors for the adjusted box plot to set the length
of the whiskers. If explicitly set, activates <code>box_adj</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_radius">radius</code></td>
<td>
<p>Scaling factor of the bubbles in a <b>bubble plot</b>, which
sets the radius of the largest displayed bubble in inches. To
activate, either set the value of <code>size</code> to
a third variable where the default is 0.10,
or for categorical variables, either a
factor or an integer variable with the number of unique values less than
<code>n_cat</code>, the size of the bubbles represents
frequency, with a default of 0.22.</p>
</td></tr> 
<tr><td><code id="Plot_+3A_power">power</code></td>
<td>
<p>Relative size of the scaling of the bubbles to each other.
Default value of 0.5 scales the bubbles so that the area of each
bubble is the value of the corresponding sizing variable. Value of 1
scales so the radius of the bubble 
is the value of the sizing variable, increasing the discrepancy of size
between the variables.</p>
</td></tr>
<tr><td><code id="Plot_+3A_low_fill">low_fill</code></td>
<td>
<p>For a categorical variable and the resulting bubble plot,
or a matrix of these plots, sets a color gradient of the fill color
beginning with this color.</p>
</td></tr>
<tr><td><code id="Plot_+3A_hi_fill">hi_fill</code></td>
<td>
<p>For a categorical variable and the resulting bubble plot,
or a matrix of these plots, sets a color gradient of the fill color
ending with this color.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_smooth">smooth</code></td>
<td>
<p><b>Smoothed density plot</b> for two numerical variables.</p>
</td></tr> 
<tr><td><code id="Plot_+3A_smooth_points">smooth_points</code></td>
<td>
<p>Number of points superimposed on the density plot in the
areas of the lowest density to help identify outliers, which controls
how dark are the smoothed points.</p>
</td></tr>
<tr><td><code id="Plot_+3A_smooth_size">smooth_size</code></td>
<td>
<p>Size of points superimposed on the density plot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_smooth_exp">smooth_exp</code></td>
<td>
<p>Exponent of the function that maps the density scale to
the color scale. Smaller than default of 0.25 yields darker plots.</p>
</td></tr>
<tr><td><code id="Plot_+3A_smooth_bins">smooth_bins</code></td>
<td>
<p>Number of bins in both directions for the density
estimation.</p>
</td></tr>
<tr><td><code id="Plot_+3A_n_bins">n_bins</code></td>
<td>
<p>Specify the number of bins to bin a single numeric 
<code>x</code>-variable from which to compute the mean or median for a
numeric <code>y</code>-variable for each bin of <code>x</code>. Points are plotted
with the size dependent on the sample size for the bin, unless <code>size</code>
is specified at a constant value. Default value is 1 for no binning.
Available parameters include fill, color, transparency, segments, scale_x, and
scale_y.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_fit">fit</code></td>
<td>
<p>The <b>best fit line</b>. Default value is <code>"off"</code>, with
options <code>"loess"</code> for non-linear fit, <code>"lm"</code> for linear model 
least squares, <code>"null"</code> for the null model, <code>"exp"</code> for 
exponential growth or decay, <code>"power"</code> for the general
power model in conjunction with <code>fit_power</code>, and
<code>"quad"</code> for an increasing or decreasing function for
the specific power value of 2. If
potential outliers are identified according to <code>out_cut</code>,
a second (dashed) fit line is displayed calculated <em>without</em>
the outliers.</p>
</td></tr>
<tr><td><code id="Plot_+3A_fit_power">fit_power</code></td>
<td>
<p>Power that describes response Y as a power function of the
predictor variable X, required for <code>"power"</code> .
Optionally, and experimentally, applies to <code>fit</code> values <code>"exp"</code>.</p>
</td></tr> 
<tr><td><code id="Plot_+3A_fit_se">fit_se</code></td>
<td>
<p>Confidence level for the error band displayed around the
line of best fit. On by default at 0.95 if a fit line is specified, 
but turned off if <code>plot_errors=TRUE</code>.
Can be a vector to display multiple ranges. Set to 0 to turn off.</p>
</td></tr>
<tr><td><code id="Plot_+3A_fit_color">fit_color</code></td>
<td>
<p>Color of the fit line.</p>
</td></tr>
<tr><td><code id="Plot_+3A_plot_errors">plot_errors</code></td>
<td>
<p>Plot the line segment that joins each point to the 
regression line, &quot;loess&quot; or &quot;lm&quot;, illustrating the size of the
residuals.</p>
</td></tr>
<tr><td><code id="Plot_+3A_ellipse">ellipse</code></td>
<td>
<p>Confidence level of a data ellipse for a scatterplot 
of only a single
<code>x</code>-variable and a single <code>y</code>-variable according to the
contours of the corresponding bivariate normal density function. Can
specify the confidence level(s) for a single or vector of
numeric values from 0 to 1,
to plot one or more specified ellipses. For Trellis graphics, only the
maximum level applies with only one ellipse per panel.
Modify fill and border colors with the <code><a href="#topic+style">style</a></code> function 
parameters <code>ellipse_fill</code> and <code>ellipse_color</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_bin">bin</code></td>
<td>
<p>If <code>TRUE</code>, display the default frequency distribution
for the text output of the Violin-Box-Scatter (VBS) Plot, or,
if <code>values</code> is set to <code>"count"</code>, a frequency polygon.</p>
</td></tr>
<tr><td><code id="Plot_+3A_bin_start">bin_start</code></td>
<td>
<p>Optional specified starting value of the bins for a
<b>frequency polygon or for the text output of a
Violin-Box-Scatter (VBS) Plot</b>. Also, sets <code>bin</code> to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_bin_width">bin_width</code></td>
<td>
<p>Optional specified bin width value. Also, sets
<code>bin</code> to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_bin_end">bin_end</code></td>
<td>
<p>Optional specified value that is within the last bin, so the
actual endpoint of the last bin may be larger than the specified value.</p>
</td></tr>
<tr><td><code id="Plot_+3A_breaks">breaks</code></td>
<td>
<p>The method for calculating the bins, or an explicit
specification of the bins, such as with the standard R
<code><a href="base.html#topic+seq">seq</a></code> function or other options provided by the 
<code><a href="graphics.html#topic+hist">hist</a></code> function.  Also, sets <code>bin</code> to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_cumulate">cumulate</code></td>
<td>
<p>Specify a cumulative frequency polygon.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_run">run</code></td>
<td>
<p>If set to <code>TRUE</code>, generate a <b>run chart</b>, i.e., line chart,
in which
points are plotted in the sequential order of occurrence in the data table.
By default, the points are connected by line. Set by default when the
<code>x</code>-values
are sorted with equal intervals or a single variable is a time series.
To turn off connecting line segments for sorted, equal intervals data, set
to <code>FALSE</code>.
Customize the color of the line segments with <code>segments_color</code>
with function <code><a href="#topic+style">style</a></code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_lwd">lwd</code></td>
<td>
<p>Width of the line segments. Set to zero to remove the line
segments.</p>
</td></tr>       
<tr><td><code id="Plot_+3A_area_fill">area_fill</code></td>
<td>
<p>Specifies the area under the line segments, if present.
If <code>stack</code> is <code>TRUE</code>, then
default is gradation from default color range, e.g., <code>"blues"</code>.
If not specified, and <code>fill</code> is specified with no plotted points
and <code>area_fill</code> is not specified,,
then <code>fill</code> generally specifies the area under the line segments.</p>
</td></tr>
<tr><td><code id="Plot_+3A_area_origin">area_origin</code></td>
<td>
<p>Origin for the filled area under the time series line. Values
less than this value are below the corresponding reference line, values
larger are above the line.</p>
</td></tr>
<tr><td><code id="Plot_+3A_center_line">center_line</code></td>
<td>
<p>Plots a dashed line through the middle of a run chart.
Provides a center line for the <code>"median"</code> by default, when the values
randomly vary about the mean. <code>"mean"</code> and <code>"zero"</code> specify that
the center line goes through the mean or zero, respectively.
Currently does not apply to Trellis plots.</p>
</td></tr>
<tr><td><code id="Plot_+3A_show_runs">show_runs</code></td>
<td>
<p>If <code>TRUE</code>, display the individual runs in the run analysis.
Also, sets <code>run</code> to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_stack">stack</code></td>
<td>
<p>If <code>TRUE</code>, multiple time plots are stacked on each other, with
<code>area</code> set to <code>TRUE</code> by default.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_xlab">xlab</code>, <code id="Plot_+3A_ylab">ylab</code></td>
<td>
<p><b>Axis label</b> for <code>x</code>-axis or <code>y</code>-axis_
If not specified, then the label becomes
the name of the corresponding variable label if it exists, or, if not, the
variable name. If <code>xy_ticks</code> is <code>FALSE</code>, no <code>ylab</code>
is displayed. Customize these and related parameters with parameters
such as <code>lab_color</code> from the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_main">main</code></td>
<td>
<p>Label for the title of the graph.  If the corresponding variable
labels exist,
then the title is set by default from the corresponding variable labels.</p>
</td></tr>
<tr><td><code id="Plot_+3A_sub">sub</code></td>
<td>
<p>Sub-title of graph, below <code>xlab</code>. Not yet implemented.</p>
</td></tr>
<tr><td><code id="Plot_+3A_lab_adjust">lab_adjust</code></td>
<td>
<p>Two-element vector &ndash; x-axis label, y-axis label &ndash; adjusts
the position of the axis labels in approximate inches. + values move
the labels away from plot edge. Not applicable to Trellis graphics.</p>
</td></tr>
<tr><td><code id="Plot_+3A_margin_adjust">margin_adjust</code></td>
<td>
<p>Four-element vector &ndash; top, right, bottom and left &ndash;
adjusts the margins of the plotted figure in approximate inches.
+ values move the corresponding margin away from plot edge. 
Not applicable to Trellis graphics.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_rotate_x">rotate_x</code></td>
<td>
<p><b>Rotation in degrees of the value labels</b> on
the <code>x</code>-axis, usually to accommodate longer values,
typically used in conjunction with <code>offset</code>. When equal 90
the value labels are perpendicular to the x-axis and a different
algorithm places the labels so that <code>offset</code> is not needed.</p>
</td></tr>
<tr><td><code id="Plot_+3A_rotate_y">rotate_y</code></td>
<td>
<p>Degrees that the axis values for the value labels on
the <code>y</code>-axis are rotated, usually to accommodate longer values,
typically used in conjunction with <code>offset</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_offset">offset</code></td>
<td>
<p>The amount of spacing between the axis values and the axis. Default
is 0.5. Larger values such as 1.0 are used to create space for the label when
longer axis value names are rotated.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_xy_ticks">xy_ticks</code></td>
<td>
<p>Flag that indicates if tick marks and associated <b>value
labels</b> on the axes are to be displayed. To rotate the axis values, use
<code>rotate_x</code>, <code>rotate_y</code>, and <code>offset</code> from the
<code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_origin_x">origin_x</code></td>
<td>
<p>Origin of <code>x</code>-axis. Starting value of <code>x</code>, by
default the minimum value of <code>x</code>, except when <code>stat</code>
is set to <code>"count"</code> or related  where the origin is zero
by default, but can be modified.</p>
</td></tr>
<tr><td><code id="Plot_+3A_scale_x">scale_x</code></td>
<td>
<p>If specified, a vector of three values that define the
x-axis with numerical values: starting value, ending value, and number
of intervals.</p>
</td></tr>
<tr><td><code id="Plot_+3A_scale_y">scale_y</code></td>
<td>
<p>If specified, a vector of three values that define the
y-axis with numerical values: starting value, ending value, and number
of intervals.</p>
</td></tr>
<tr><td><code id="Plot_+3A_pad_x">pad_x</code></td>
<td>
<p>Proportion of padding added to left and right sides of the
<code>x</code>-axis, respectively. Value from 0 to 1 for each of the two 
elements. If only one element specified, value is applied to both
sides.</p>
</td></tr>
<tr><td><code id="Plot_+3A_pad_y">pad_y</code></td>
<td>
<p>Proportion of padding added to bottom and top sides of the
<code>y</code>-axis, respectively. Value from 0 to 1 for each of the two 
elements. If only one element specified, value is applied to both
sides.</p>
</td></tr>
<tr><td><code id="Plot_+3A_legend_title">legend_title</code></td>
<td>
<p>Title of the legend for a multiple-variable <code>x</code>
or <code>y</code> plot.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_add">add</code></td>
<td>
<p><b>Overlay one or more objects</b>, text or a geometric figures,
on the plot.
Possible values are any text to be written, the first argument, which is
<code>"text"</code>, or,
<code>"labels"</code> to label each point with the row name, or, 
<code>"rect"</code> (rectangle), <code>"line"</code>, <code>"arrow"</code>,
<code>"v_line"</code> (vertical line), and <code>"h_line"</code> (horizontal line).
The value <code>"means"</code> is short-hand for vertical and horizontal lines
at the respective means. Does not apply to Trellis graphics.
Customize with parameters such as <code>add_fill</code> and <code>add_color</code>
from the <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_x1">x1</code></td>
<td>
<p>First x-coordinate to be considered for each object, can be
<code>"mean_x"</code>. Not used for <code>"h_line"</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_y1">y1</code></td>
<td>
<p>First y-coordinate to be considered for each object, can be
<code>"mean_y"</code>. Not used for<code>"v_line"</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_x2">x2</code></td>
<td>
<p>Second x-coordinate to be considered for each object, can be
<code>"mean_x"</code>. Only used for <code>"rect"</code>, <code>"line"</code> and
<code>arrow</code>.</p>
</td></tr>
<tr><td><code id="Plot_+3A_y2">y2</code></td>
<td>
<p>Second y-coordinate to be considered for each object, can be
<code>"mean_y"</code>.  Only used for <code>"rect"</code>, <code>"line"</code> and
<code>arrow</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Plot_+3A_do_plot">do_plot</code></td>
<td>
<p>If <code>TRUE</code>, the default, then generate the plot.</p>
</td></tr>
<tr><td><code id="Plot_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Indicate to direct pdf graphics to the specified name of
the pdf file.</p>
</td></tr>
<tr><td><code id="Plot_+3A_width">width</code></td>
<td>
<p>Width of the plot window in inches, defaults to 5 except in RStudio
to maintain an approximate square plotting area.</p>
</td></tr>
<tr><td><code id="Plot_+3A_height">height</code></td>
<td>
<p>Height of the plot window in inches, defaults to 4.5 except for
1-D scatterplots and when in RStudio.</p>
</td></tr>
<tr><td><code id="Plot_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of significant digits for each of the displayed summary
statistics.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_n_cat">n_cat</code></td>
<td>
<p>Number of categories, specifies the largest number of
unique, equally spaced integer values of a variable for which
the variable will be analyzed as categorical instead of continuous.
Default is 0. Use to specify that such variables are to be analyzed
as categorical, a kind of informal R factor.
<em>[deprecated]</em>: Best to convert a categorical integer variable 
to a factor.</p>
</td></tr>
<tr><td><code id="Plot_+3A_value_labels">value_labels</code></td>
<td>
<p>For factors, default is the factor labels, and for
character variables, default is the character values.
Or, provide labels for the <code>x</code>-axis on the graph to override
these values. If the variable is a
factor and <code>value_labels</code> is not specified (is <code>NULL</code>), then the
value_labels are set to the factor levels with each space replaced by
a new line character. If <code>x</code> and <code>y</code>-axes have the same scale,
they also apply to the <code>y</code>-axis. Control the plotted size
with <code>axis_cex</code> and <code>axis_x_cex</code> from the lessR
<code><a href="#topic+style">style</a> function.</code>
<em>[deprecated]</em>: Better to convert a categorical integer variable to
a factor.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_eval_df">eval_df</code></td>
<td>
<p>Determines if to check for existing data frame and
specified variables. By default is <code>TRUE</code> 
unless the <code>shiny</code> package is loaded then set to <code>FALSE</code> so
that Shiny will run. Needs to be set to <code>FALSE</code> if using
the pipe <code>%\&gt;%</code> notation.</p>
</td></tr>
<tr><td><code id="Plot_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used with <code>knitr</code> to pass the function
call when
obtained from the abbreviated function call <code>sp</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Plot_+3A_...">...</code></td>
<td>
<p>Other parameter values for non-Trellis graphics as defined by and
processed by standard R functions <code><a href="graphics.html#topic+plot">plot</a></code> and <code><a href="graphics.html#topic+par">par</a></code>,
including<br />
<code>cex.main</code> for the size of the title<br />
<code>col.main</code> for the color of the title<br />
<code>sub</code> and <code>col.sub</code> for a subtitle and its color
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>VARIABLES and TRELLIS PLOTS<br />
There is at least one primary variable, <code>x</code>, which defines the coordinate system for plotting in terms of the <code>x</code>-axis, the horizontal axis. Plots may also specify a second primary variable, <code>y</code>, which defines the <code>y</code>-axis of the coordinate system. One of these primary variables may be a vector. The simplest plot is from the specification of only one or two primary variables, each as a single variable, which generates a single scatterplot of either one or two variables, necessarily on a single plot, called a panel, defined by a single <code>x</code>-axis and usually a single <code>y</code>-axis_
</p>
<p>For numeric primary variables, a single panel may also contain multiple plots of two types. Form the first type from subsets of observations (rows of data) based on values of a categorical variable. Specify this plot with the <code>by</code> parameter, which identifies the grouping variable to generate a scatterplot of the primary variables for each of its levels. The points for each group are plotted with a different shape and/or color. By default, the colors vary, though to maintain the color scheme, if there are only two levels of the grouping variable, the points for one level are filled with the current theme color and the points for the second level are plotted with transparent interiors. 
</p>
<p>Or, obtain multiple scatterplots on the same panel with multiple numeric <code>x</code>-variables, or multiple <code>y</code>-variables. To obtain this graph, specify one of the primary variables as a vector of multiple variables. 
</p>
<p>Trellis graphics (facets), from Deepayan Sarkar's (2009) <code><a href="lattice.html#topic+lattice">lattice</a></code> package, may be implemented in which multiple panels for one numeric <code>x</code>-variable and one numeric <code>y</code>-variable are displayed according to the levels of one or two categorical variables, called conditioning variables.  A variable specified with <code>by</code> is a conditioning variable that results in a Trellis plot, the scatterplot of <code>x</code> and <code>y</code> produced at <em>each</em> level of the <code>by1</code> variable. The inclusion of a second conditioning variable, <code>by2</code>, results in a separate scatterplot panel for <em>each</em> combination of cross-classified values of both <code>by1</code> and <code>by2</code>. A grouping variable according to <code>by</code> may also be specified, which is then applied to each panel. If there are 1000 or less unique values of <code>x</code>, an analysis of the maximum number of repetitions for each value of <code>by1</code> is provided. 
</p>
<p>Control the panel dimensions and the overall size of the Trellis plot with the following parameters: <code>width</code> and <code>height</code> for the physical dimensions of the plot window, <code>n_row</code> and <code>n_col</code> for the number of rows and columns of panels, and <code>aspect</code> for the ratio of the height to the width of each panel. The plot window is the standard graphics window that displays on the screen, or it can be specified as a pdf file with the <code>pdf_file</code> parameter. 
</p>
<p>CATEGORICAL VARIABLES<br />
Conceptually, there are continuous variables and categorical variables. Categorical variables have relatively few unique data values. However, categorical variables can be defined with non-numeric values, but also with numeric values, such as responses to a five-point Likert scale from Strongly Disagree to Strongly Agree, with responses coded 1 to 5. The three <code>by</code> &ndash;variables &ndash; <code>by1</code>, <code>by2</code> and <code>by</code> &ndash; only apply to graphs created with numeric <code>x</code> and/or <code>y</code> variables, continuous or categorical.
</p>
<p>The standard and most general way to define a categorical variable is as an R factor, such as created with the lessR <code><a href="#topic+factors">factors</a></code> function. <code>lessR</code> provides the option to define an integer variable with equally spaced values as categorical based on the value of <code>n_cat</code>, which can be set locally or globally with the <code><a href="#topic+style">style</a></code> function. For example, for a variable with data values from 5-point Likert scale, a value of <code>n_cat</code> of 5 will define the define the variable as categorical. The default value is 0. To explicitly analyze the values as categorical, set <code>n_cat</code> to a value larger than 0, at least the size of the number of unique integer values. Can also annotate a graph of the values of an integer categorical variable with <code>value_labels</code> option.  
</p>
<p>A scatterplot of Likert type data is problematic because there are so few possibilities for points in the scatterplot. For example, for a scatterplot of two five-point Likert response data, there are only 26 possible paired values to plot, so most of the plotted points overlap with others. In this situation, that is, when a single variable or two variables with Likert response scales are specified, a bubble plot is automatically provided, with the size of each point relative to the joint frequency of the paired data values. To request a sunflower plot in lieu of the bubble plot, set the <code>shape</code> to <code>"sunflower"</code>.
</p>
<p>DATA<br />
The default input data frame is <code>d</code>. Specify another name with the <code>data</code> option.  Regardless of its name, the data frame need not be attached to reference the variables directly by its name, that is, no need to invoke the <code>d$name</code> notation. The referenced variables can be in the data frame and/or the user's workspace, the global environment.
</p>
<p>The data values themselves can be plotted, or for a single variable, counts or proportions can be plotted on the <code>y</code>-axis. For a categorical <code>x</code>-variable paired with a continuous variable, means and other statistics can be plotted  at each level of the <code>x</code>-variable. If <code>x</code> is continuous, it is binned first, with the standard <code><a href="#topic+Histogram">Histogram</a></code> binning parameters available, such as <code>bin_width</code>, to override default values. The <code>stat</code> parameter sets the values to plot, with <code>data</code> the default. By default, the connecting line segments are provided, so a frequency polygon results. Turn off the lines by setting <code>lwd=0</code>.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>VALUE LABELS<br />
The value labels for each axis can be over-ridden from their values in the data to user supplied values with the <code>value_labels</code> option. This option is particularly useful for Likert-style data coded as integers. Then, for example, a 0 in the data can be mapped into a &quot;Strongly Disagree&quot; on the plot. These value labels apply to integer categorical variables, and also to factor variables. To enhance the readability of the labels on the graph, any blanks in a value label translate into a new line in the resulting plot. Blanks are also transformed as such for the labels of factor variables. 
</p>
<p>However, the lessR function <code><a href="#topic+factors">factors</a></code> allows for the easy creation of factors, one variable or a vector of variables, in a single statement, and is generally recommended as the method for providing value labels for the variables.
</p>
<p>VARIABLE LABELS<br />
Although standard R does not provide for variable labels, <code>lessR</code> can store the labels in the data frame with the data, obtained from the <code><a href="#topic+Read">Read</a></code> function or <code><a href="#topic+VariableLabels">VariableLabels</a></code>.  If variable labels exist, then the corresponding variable label is by default listed as the label for the corresponding axis and on the text output. 
</p>
<p>ONE VARIABLE PLOT<br />
The one variable plot of one continuous variable generates either a violin/box/scatterplot (VBS plot), or a run chart with <code>run=TRUE</code>, or <code>x</code> can be an R time series variable for a time series chart. For the box plot,
for gray scale output potential outliers are plotted with squares and outliers are plotted with diamonds, otherwise shades of red are used to highlight outliers. The default definition of outliers is based on the standard boxplot rule of values more than 1.5 IQR's from the box. The definition of outliers may be adjusted (Hubert and Vandervieren, 2008), such that the whiskers are computed from the medcouple index of skewness (Brys, Hubert, &amp; Struyf, 2004).
</p>
<p>The plot can also be obtained as a bubble plot of frequencies for a categorical variable.
</p>
<p>TWO VARIABLE PLOT<br />
When two variables are specified to plot, by default if the values of the first variable, <code>x</code>, are unsorted, or if there are unequal intervals between adjacent values, or if there is missing data for either variable, a scatterplot is produced from a call to the standard R <code><a href="graphics.html#topic+plot">plot</a></code> function. By default, sorted values with equal intervals between adjacent values of the first of the two specified variables yields a function plot if there is no missing data for either variable, that is, a call to the standard R <code><a href="graphics.html#topic+plot">plot</a></code> function with <code>type="l"</code>, which connects each adjacent pair of points with a line segment.
</p>
<p>Specifying multiple, continuous <code>x</code>-variables against a single y variable, or vice versa, results in multiple plots on the same graph. The color of the points of the second variable is the same as that of the first variable, but with a transparent fill. For more than two <code>x</code>-variables, multiple colors are displayed, one for each <code>x</code>-variable.
</p>
<p>BUBBLE PLOT FREQUENCY MATRIX (BPFM)<br />
Multiple categorical variables for <code>x</code> may be specified in the absence of a <code>y</code> variable. (A categorical variable is either a <code>factor</code> variable or an integer variable with <code>n_cat</code> set at least at the number of unique values.) A bubble plot results that illustrates the frequency of each response for each of the variables in a common figure in which the <code>x</code>-axis contains all of the unique labels for all of the variables plotted. Each line of information, the bubbles and counts for a single variable, replaces the standard bar chart in a more compact display. Usually the most meaningful when each variable in the matrix has the same response categories, that is, levels, such as for a set of shared Likert scales. The BPFM is considerably condensed presentation of frequencies for a set of variables than are the corresponding bar charts.
</p>
<p>SCATTERPLOT MATRIX<br />
A single vector of continuous variables specified as <code>x</code>, with no <code>y</code>-variable, generates a scatterplot matrix of the specified variable. A continuous variable is defined as a numeric variable with more than n_cat unique responses. To force an item with a small number of unique responses, such as from a 5-pt Likert scale, to be treated as continuous, set <code>n_cat</code> to a number lower than 5, such as <code>n_cat=0</code> in the function call. 
</p>
<p>The scatterplot matrix is displayed according to the current color theme. Specific colors such as <code>fill</code>, <code>color</code>, etc. can also be provided. The upper triangle shows the correlation coefficient, and the lower triangle each corresponding scatterplot, with, by default, the non-linear loess best fit line. The <code>code</code> fit option can be used to provide the linear least squares line instead, along with the corresponding <code>fit_color</code> for the color of the fit line.   
</p>
<p>SIZE VARIABLE<br />
A variable specified with <code>size=</code> is a numerical variable that activates a bubble plot in which the size of each bubble is determined by the value of the corresponding value of <code>size</code>, which can be a variable or a constant.
</p>
<p>To explicitly vary the shapes, use <code>shape</code> and a list of shape values in the standard R form with the <code><a href="base.html#topic+c">c</a></code> function to combine a list of values, one specified shape for each group, as shown in the examples. To explicitly vary the colors, use <code>fill</code>, such as with R standard color names. If <code>fill</code> is specified without <code>shape</code>, then colors are varied, but not shapes.  To vary both shapes and colors, specify values for both options, always with one shape or color specified for each level of the <code>by</code> variable. 
</p>
<p>Shapes beyond the standard list of named shapes, such as <code>"circle"</code>, are also available as single characters.  Any single letter, uppercase or lowercase, any single digit, and the characters <code>"+"</code>, <code>"*"</code> and <code>"#"</code> are available, as illustrated in the examples. In the use of <code>shape</code>, either use standard named shapes, or individual characters, but not both in a single specification.
</p>
<p>SCATTERPLOT ELLIPSE<br />
For a scatterplot of two numeric variables, the <code>ellipse=TRUE</code> option draws the .95 data ellipse as computed by the <code>ellipse</code> function, written by Duncan Murdoch and E. D. Chow, from the <code>ellipse</code> package. The axes are automatically lengthened to provide space for the entire ellipse that extends beyond the maximum and minimum data values. The specific level of the ellipse can be specified with a numerical value in the form of a proportion. Multiple numerical values of <code>ellipse</code> may also be specified to obtain multiple ellipses. 
</p>
<p>BOXPLOTS<br />
For a single variable the preferred plot is the integrated violin/box/scatter plot or VBS plot. Only the violin or box plot can be obtained with the corresponding aliases <code><a href="#topic+ViolinPlot">ViolinPlot</a></code> and <code><a href="#topic+BoxPlot">BoxPlot</a></code>, or by setting <code>vbs_plot</code> to <code>"v"</code> or <code>"b"</code>. To view a box plot of a continuous variable (Y) across the levels of a categorical variable (X), either as part of the full VBS plot, or by itself, there are two possibilities:<br />
1. Plot(Y,X) or BoxPlot(Y, X)<br />
2. Plot(Y, by1=X) or BoxPlot(Y, by1=X)<br />
Both styles produce the same information. What differs is the color scheme.
</p>
<p>The first possibility places the multiple box plots on a single pane and also, for the default color scheme <code>"colors"</code>, displays the sequence of box plots with the default qualitative color palette from the lessR function <code><a href="#topic+getColors">getColors</a></code>.
All colors are displayed at the same level of gray-scale saturation and brightness to avoid perceptual bias. <code><a href="#topic+BarChart">BarChart</a></code> and <code><a href="#topic+PieChart">PieChart</a></code> use the same default colors as well.
</p>
<p>The second possibility with <code>by1</code> produces the different box plots on a separate panel, that is, a Trellis chart. These box plots are displayed with a single hue, the first color, blue, in the default qualitative sequence.
</p>
<p>TIME CHARTS<br />
Specifying one or more <code>x</code>-variables with no <code>y</code>-variables, and <code>run=TRUE</code> plots the <code>x</code>-variables in a run chart. The values of the specified <code>x</code>-variable are plotted on the <code>y</code>-axis, with Index on the <code>x</code>-axis. Index is the ordinal position of each data value, from 1 to the number of values. 
</p>
<p>If the specified <code>x</code>-variable is of type <code>Date</code>, or is a time series, a time series plot is generated for each specified variable. If a formal R time-series, univariate or multivariate, specify as the <code>x</code>-variable. Or, specify the <code>x</code>-variable of type Date, and then specify the  <code>y</code>-variable as one or more time series to plot. The <code>y</code>-variable can be formatted as tidy data with all the values in a single column, or as wide-formatted data with the time-series variables in separate columns. 
</p>
<p>2-D KERNEL DENSITY<br />
With <code>smooth=TRUE</code>, the R function <code><a href="graphics.html#topic+smoothScatter">smoothScatter</a></code> is invoked according to the current color theme. Useful for very large data sets. The <code>smooth_points</code> parameter plots points from the regions of the lowest density. The <code>smooth_bins</code> parameter specifies the number of bins in both directions for the density estimation. The <code>smooth_exp</code> parameter specifies the exponent in the function that maps the density scale to the color scale to allow customization of the intensity of the plotted gradient colors. Higher values result in less color saturation, de-emphasizing points from regions of lessor density. These parameters are respectively passed directly to the <code><a href="graphics.html#topic+smoothScatter">smoothScatter</a></code> <code>nrpoints</code>, <code>nbin</code> and <code>transformation</code> parameters. Grid lines are turned off,
by default, but can be displayed by setting the <code>grid_color</code> parameter.
</p>
<p>COLORS<br />
A color theme for all the colors can be chosen for a specific plot with the <code>colors</code> option with the <code>lessR</code> function <code><a href="#topic+style">style</a></code>. The default color theme is <code>"lightbronze"</code>. A gray scale is available with <code>"gray"</code>, and other themes are available as explained in <code><a href="#topic+style">style</a></code>, such as <code>"sienna"</code> and <code>"darkred"</code>. Use the option <code>style(sub_theme="black")</code> for a black background and partial transparency of plotted colors. 
</p>
<p>Colors can also be changed for individual aspects of a scatterplot as well with the <code><a href="#topic+style">style</a></code> function. To provide a warmer tone by slightly enhancing red, try a background color such as <code>panel_fill="snow"</code>. Obtain a very light gray with <code>panel_fill="gray99"</code>.  To darken the background gray, try <code>panel_fill="gray97"</code> or lower numbers. See the <code>lessR</code> function <code><a href="#topic+showColors">showColors</a></code>, which provides an example of all available named R colors with their RGB values_
</p>
<p>For the color options, such as <code>violin_color</code>, the value of <code>"off"</code> is the same as <code>"transparent"</code>.
<br />
</p>
<p>ANNOTATIONS<br />
Use the <code>add</code> and related parameters to annotate the plot with text and/or geometric figures. Each object is placed according from one to four corresponding coordinates, the required coordinates to plot that object, as shown in the following table. <code>x</code>-coordinates may have the value of <code>"mean_x"</code> and <code>y</code>-coordinates may have the value of <code>"mean_y"</code>.<br />
</p>

<table>
<tr>
 <td style="text-align: left;">
Value </td><td style="text-align: left;"> Object </td><td style="text-align: left;"> Required Coordinates</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ------------------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"text"</code> </td><td style="text-align: left;"> text </td><td style="text-align: left;"> x1, y1</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"point"</code> </td><td style="text-align: left;"> text </td><td style="text-align: left;"> x1, y1</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"rect"</code> </td><td style="text-align: left;"> rectangle </td><td style="text-align: left;"> x1, y1, x2, y2</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"line"</code> </td><td style="text-align: left;"> line segment </td><td style="text-align: left;"> x1, y1, x2, y2</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"arrow"</code> </td><td style="text-align: left;"> arrow </td><td style="text-align: left;"> x1, y1, x2, y2</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"v_line"</code> </td><td style="text-align: left;"> vertical line  </td><td style="text-align: left;"> x1</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"h_line"</code> </td><td style="text-align: left;"> horizontal line  </td><td style="text-align: left;"> y1</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>"means"</code> </td><td style="text-align: left;"> horiz, vert lines  </td><td style="text-align: left;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ------------------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>The value of <code>add</code> specifies the object. For a single object, enter a single value. Then specify the value of the needed corresponding coordinates, as specified in the above table. For multiple placements of that object, specify vectors of corresponding coordinates. To annotate multiple objects, specify multiple values for <code>add</code> as a vector. Then list the corresponding coordinates, for up to each of four coordinates, in the order of the objects listed in <code>add</code>. 
</p>
<p>Can also specify vectors of different properties, such as <code>add_color</code>. That is, different objects can be different colors, different transparency levels, etc.
</p>
<p>PDF OUTPUT<br />
To obtain pdf output, use the <code>pdf_file</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>
<p>ADDITIONAL OPTIONS<br />
Commonly used graphical parameters that are available to the standard R function <code><a href="graphics.html#topic+plot">plot</a></code> are also generally available to <code><a href="#topic+Plot">Plot</a></code>, such as:
</p>

<dl>
<dt>cex.main, col.lab, font.sub, etc.</dt><dd><p>Settings for main- and sub-title and axis annotation, see <code><a href="graphics.html#topic+title">title</a></code> and <code><a href="graphics.html#topic+par">par</a></code>.</p>
</dd>
<dt>main</dt><dd><p>Title of the graph, see <code><a href="graphics.html#topic+title">title</a></code>.</p>
</dd>
<dt>xlim</dt><dd><p>The limits of the plot on the <code>x</code>-axis, expressed as c(x1,x2), where <code>x1</code> and <code>x2</code> are the limits. Note that <code>x1 &gt; x2</code> is allowed and leads to a reversed axis.</p>
</dd>
<dt>ylim</dt><dd><p>The limits of the plot on the <code>y</code>-axis.</p>
</dd>
</dl>

<p>ONLY VARIABLES ARE REFERENCED<br />
A referenced variable in a <code>lessR</code> function can only be a variable name. This referenced variable must exist in either the referenced data frame, such as the default <code>d</code>, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>    &gt; Plot(rnorm(50), rnorm(50))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; X &lt;- rnorm(50)   # create vector X in user workspace
    &gt; Y &lt;- rnorm(50)   # create vector Y in user workspace
    &gt; Plot(X,Y)     # directly reference X and Y</pre>


<h3>Value</h3>

<p>The output can optionally be saved into an <code>R</code> object, otherwise it simply appears in the console. The output here is just for the outlier analysis of the two-variable scatterplot with continuous variables. The outlier identification must be activated for the analysis, such as from parameter <code>MD_cut</code>.
</p>
<p>READABLE OUTPUT<br />
<code>out_stats</code>: Correlational analysis.<br />
<code>out_outliers</code>: Mahalanobis Distance of each outlier.<br />
</p>
<p>STATISTICS<br />
<code>outliers</code>: Row numbers that contain the outliers.<br />
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Brys, G., Hubert, M., &amp; Struyf, A. (2004). A robust measure of skewness. Journal of Computational and Graphical Statistics, 13(4), 996-1017.
</p>
<p>Murdoch, D, and  Chow, E. D. (2013).  <code>ellipse</code> function from the <code>ellipse</code> package package. 
</p>
<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapter 8, NY: Routledge.
</p>
<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 5, NY: CRC Press.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>
<p>Hubert, M. and Vandervieren, E. (2008). An adjusted boxplot for skewed distributions, Computational Statistics and Data Analysis 52, 51865201.
</p>
<p>Sarkar, Deepayan (2008) Lattice: Multivariate Data Visualization with R, Springer. http://lmdvr.r-forge.r-project.org/
</p>


<h3>See Also</h3>

<p><code><a href="graphics.html#topic+plot">plot</a></code>, <code><a href="graphics.html#topic+stripchart">stripchart</a></code>, <code><a href="graphics.html#topic+title">title</a></code>, <code><a href="graphics.html#topic+par">par</a></code>, <code><a href="stats.html#topic+loess">loess</a></code>, <code><a href="#topic+Correlation">Correlation</a></code>, <code><a href="#topic+style">style</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read the data
d &lt;- rd("Employee", quiet=TRUE)
d &lt;- d[.(random(0.6)),]  # less computationally intensive
dd=d

#---------------------------------------------------
# traditional scatterplot with two numeric variables
#---------------------------------------------------

Plot(Years, Salary, by=Gender, size=2, fit="lm",
     fill=c("olivedrab3", "gold1"), 
     color=c("darkgreen", "gold4"))

# scatterplot with all defaults
Plot(Years, Salary)
# or use abbreviation sp in place of Plot
# or use full expression ScatterPlot in place of Plot

# maximum information, minimum input: scatterplot +
#  means, outliers, ellipse, least-squares lines with and w/o outliers
Plot(Years, Salary, enhance=TRUE)

# extend x and y axes
Plot(Years, Salary, scale_x=c(-10, 35, 10), scale_y=c(0,200000,10))

Plot(Years, Salary, add="Hi", x1=c(12, 16, 18), y1=c(80000, 100000, 60000))

Plot(Salary, row_names)

d &lt;- factors(Gender, levels=c("M", "F"))
Plot(Years, Salary, by1=Gender)
d &lt;- dd



# just males employed more than 5 years
Plot(Years, Salary, rows=(Gender=="M" &amp; Years &gt; 5))

# plot 0.95 data ellipse with the points identified that represent
#   outliers defined by a Mahalanobis Distance larger than 6 
# save outliers into R object out
d[1, "Salary"] &lt;- 200000
out &lt;- Plot(Years, Salary, ellipse=0.95, MD_cut=6)

# new shape and point size, no grid or background color
# then put style back to default
style(panel_fill="powderblue", grid_color="off")
Plot(Years, Salary, size=2, shape="diamond")
style()

# translucent data ellipses without points or edges
#  show the idealized joint distribution for bivariate normality
style(ellipse_color="off")
Plot(Years, Salary, size=0, ellipse=seq(.1,.9,.10))
style()

# bubble plot with size determined by the value of Pre
# display the value for the bubbles with values of  min, median and max
Plot(Years, Salary, size=Pre, size_cut=3)

# variables in a data frame not the default d
# plot 0.6 and 0.9 data ellipses with partially transparent points
# change color theme to gold with black background
style("gold", sub_theme="black")
Plot(eruptions, waiting, transparency=.5, ellipse=seq(.6,.9), data=faithful)

# scatterplot with two x-variables, plotted against Salary
# define a new style, then back to default
style(window_fill=rgb(247,242,230, maxColorValue=255),
  panel_fill="off", panel_color="off", pt_fill="black", transparency=0,
  lab_color="black", axis_text_color="black",
  axis_y_color="off", grid_x_color="off", grid_y_color="black",
  grid_lty="dotted", grid_lwd=1)
Plot(c(Pre, Post), Salary)
style()

# increase span (smoothing) from default of .7 to 1.25
# span is a loess parameter, which generates a caution that can be
#   ignored that it is not a graphical parameter -- we know that
# display confidence intervals about best-fit line at
#   0.95 confidence level
Plot(Years, Salary, fit="loess", span=1.25)

# 2-D kernel density (more useful for larger sample sizes) 
Plot(Years, Salary, smooth=TRUE)


#------------------------------------------------------
# scatterplot matrix from a vector of numeric variables
#------------------------------------------------------

# with least squares fit line
Plot(c(Salary, Years, Pre), fit="lm")


#--------------------------------------------------------------
# Trellis graphics and by for groups with two numeric variables
#--------------------------------------------------------------

# Trellis plot with condition on 1-variable
# optionally re-order default alphabetical R ordering by converting
#   to a factor with lessR factors (which also does multiple variables)
# always save to the full data frame with factors
d &lt;- factors(Gender, levels=c("M", "W"))
Plot(Years, Salary, by1=Gender)
d &lt;- Read("Employee", quiet=TRUE)



# two Trellis classification variables with a single continuous
Plot(Salary, by1=Dept, by2=Gender)

# all three by (categorical) variables
Plot(Years, Salary, by1=Dept, by2=Gender, by=Plan)

# vary both shape and color with a least-squares fit line for each group
style(color=c("darkgreen", "brown"))
Plot(Years, Salary, by1=Gender, fit="lm", shape=c("F","M"), size=.8)
style("gray")

# compare the men and women Salary according to Years worked
#   with an ellipse for each group
Plot(Years, Salary, by=Gender, ellipse=.50)


#--------------------------------------------------
# analysis of a single numeric variable (or vector)
#--------------------------------------------------

# One continuous variable
# -----------------------
# integrated Violin/Box/Scatterplot, a VBS plot
Plot(Salary)

Plot(Years, Salary, by=Gender, size=2, fit="lm",
     fill=c("olivedrab3", "gold1"), 
     color=c("darkgreen", "gold4"))



# by variable, different colors for different values of the variable
# two panels
Plot(Salary, by1=Dept)

# large sample size
x &lt;- rnorm(10000)
Plot(x)

# custom colors for outliers, which might not appear in this subset data
style(out_fill="hotpink", out2_fill="purple")
Plot(Salary)
style()

# no violin plot or scatterplot, just a boxplot
Plot(Salary, vbs_plot="b")
# or, the same with the mnemonic
BoxPlot(Salary)

# two related displays of box plots for different levels of a
#   categorical variable
BoxPlot(Salary, by1=Dept)


# binned values to plot counts
# ----------------------------
# bin the values of Salary to plot counts as a frequency polygon
# the counts are plotted as points instead of the data
Plot(Salary, stat_x="count")  # bin the values

# time charts
#------------
# run chart, with default fill area
Plot(Salary, run=TRUE, area_fill="on")

# two run charts in same plot
# or could do a multivariate time series
Plot(c(Pre, Post), run=TRUE)

# Trellis graphics run chart with custom line width, no points
Plot(Salary, run=TRUE, by1=Gender, lwd=3, size=0)

# daily time series plot
# create the daily time series from R built-in data set airquality
oz.ts &lt;- ts(airquality$Ozone, start=c(1973, 121), frequency=365)
Plot(oz.ts)

# multiple time series plotted from dates and stacked
# black background with translucent areas, then reset theme to default
style(sub_theme="black", color="steelblue2", transparency=.55, 
  window_fill="gray10", grid_color="gray25")
date &lt;- seq(as.Date("2013/1/1"), as.Date("2016/1/1"), by="quarter")
x1 &lt;- rnorm(13, 100, 15)
x2 &lt;- rnorm(13, 100, 15)
x3 &lt;- rnorm(13, 100, 15)
df &lt;- data.frame(date, x1, x2, x3)
rm(date); rm(x1); rm(x2); rm(x3)
Plot(date, x1:x3, data=df)
style()

# trigger a time series with a Date variable specified first
# stock prices for three companies by month:  Apple, IBM, Intel
d &lt;- rd("StockPrice")
# only plot Apple
Plot(date, Price, rows=(Company=="Apple"))
# Trellis plots, one for each company
Plot(date, Price, by1=Company, n_col=1)
# all three plots on the same panel, three shades of blue
Plot(date, Price, by=Company, color="blues")


#------------------------------------------
# analysis of a single categorical variable
#------------------------------------------
d &lt;- rd("Employee")

# default 1-D bubble plot
# frequency plot, replaces bar chart 
Plot(Dept)



# plot of frequencies for each category (level), replaces bar chart 
Plot(Dept, stat_x="count")


#----------------------------------------------------
# scatterplot of numeric against categorical variable 
#----------------------------------------------------

# generate a chart with the plotted mean of each level
# rotate x-axis labels and then offset from the axis
style(rotate_x=45, offset=1)
Plot(Dept, Salary)
style()


#-------------------
# Cleveland dot plot 
#-------------------

# row.names on the y-axis
Plot(Salary, row_names)

# standard scatterplot
Plot(Salary, row_names, sort_yx="0", segments_y=FALSE)

# Cleveland dot plot with two x-variables
Plot(c(Pre, Post), row_names)


#------------
# annotations
#------------

# add text at the one location specified by x1 and x2
Plot(Years, Salary, add="Hi There", x1=12, y1=80000)
# add text at three different specified locations 
Plot(Years, Salary, add="Hi", x1=c(12, 16, 18), y1=c(80000, 100000, 60000))

# add three different text blocks at three different specified locations
Plot(Years, Salary, add=c("Hi", "Bye", "Wow"), x1=c(12, 16, 18),
  y1=c(80000, 100000, 60000))

# add an 0.95 data ellipse and horizontal and vertical lines through the
#  respective means
Plot(Years, Salary, ellipse=0.95, add=c("v_line", "h_line"),
  x1="mean_x", y1="mean_y")
# can be done also with the following short-hand
Plot(Years, Salary, ellipse=0.95, add="means")
 
# a rectangle requires two points, four coordinates, &lt;x1,y1&gt; and &lt;x2,y2&gt;
style(add_trans=.8, add_fill="gold", add_color="gold4", add_lwd=0.5)
Plot(Years, Salary, add="rect", x1=12, y1=80000, x2=16, y2=115000)

# the first object, a rectangle, requires all four coordinates
# the vertical line at x=2 requires only an x1 coordinate, listed 2nd 
Plot(Years, Salary, add=c("rect", "v_line"), x1=c(10, 2),
  y1=80000, x2=12, y2=115000)

# two different rectangles with different locations, fill colors and translucence
style(add_fill=c("gold3", "green"), add_trans=c(.8,.4))
Plot(Years, Salary, add=c("rect", "rect"), 
  x1=c(10, 2), y1=c(60000, 45000), x2=c(12, 75000), y2=c(80000, 55000))


#----------------------------------------------------
# analysis of two categorical variables (Likert data)
#----------------------------------------------------

d &lt;- rd("Mach4", quiet=TRUE)  # Likert data, 0 to 5

# size of each plotted point (bubble) depends on its joint frequency
# triggered by default when replication of joint values and
#   less than 9 unique data values for each 
# n_cat=6 means treat responses as categorical for up to 6 equally-spaced
#   integer values
Plot(m06, m07, n_cat=6)

# use value labels for the integer values, modify color options
LikertCats &lt;- c("Strongly Disagree", "Disagree", "Slightly Disagree",
   "Slightly Agree", "Agree", "Strongly Agree")
style(fill="powderblue", color="blue", bubble_text="darkred")
d &lt;- factors(m01:m20, 0:5, labels=LikertCats)
Plot(m01:m10)
style()  # reset theme



# get correlation analysis instead of cross-tab analysis
# rely upon the default value of n_cat=0 so that integer
#   valued variables are analyzed as numerical
Plot(m06, m07)

#-----------------------------
# Bubble Plot Frequency Matrix
#-----------------------------

#---------------
# function curve
#---------------

x &lt;- seq(10,50,by=2) 
y1 &lt;- sqrt(x)
y2 &lt;- x**.33
# x is sorted with equal intervals so run chart by default
Plot(x, y1)

# multiple plots from variable vectors need to have the variables
#  in a data frame
d &lt;- data.frame(x, y1, y2)
# if variables are in the user workspace and in a data frame
#   with the same names, the user workspace versions are used,
#   which do not work with vectors of variables, so remove
rm(x); rm(y1); rm(y2)
Plot(x, c(y1, y2))


#-----------
# modern art
#-----------
clr &lt;- colors()  # get list of color names
color0 &lt;- clr[sample(1:length(clr), size=1)]
clr &lt;- clr[-(153:353)]  # get rid of most of the grays

n &lt;- sample(5:30, size=1)
x &lt;- rnorm(n)
y &lt;- rnorm(n)
color1 &lt;- clr[sample(1:length(clr), size=1)]
color2 &lt;- clr[sample(1:length(clr), size=1)]

style(window_fill=color0, color=color2)
Plot(x, y, run=TRUE, area_fill="on",
  xy_ticks=FALSE, main="Modern Art", xlab="", ylab="",
  cex.main=2, col.main="lightsteelblue", n_cat=0, center_line="off")
style() # reset style to default

</code></pre>

<hr>
<h2 id='print.out'>Display a Portion of Output from a Saved List Object</h2><span id='topic+print.out'></span>

<h3>Description</h3>

<p>Displays the portions of saved results of an analysis from a <code>lessR</code> function into an object, such as for later display at the console or to be integrated into a <code>Rmd</code> analysis, for example from <code>RStudio</code>. This function is usually implicitly accessed by the user simply by entering the name of an output piece into the console or in a <code>Rmd</code> file, such as, such as <code>r$out_coefs</code> that results from <code>r</code> in <code>r &lt;- reg(Y ~ X)</code>.
</p>
<p>Now just applies to the <code>lessR</code> <code><a href="#topic+Regression">Regression</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'out'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.out_+3A_x">x</code></td>
<td>
<p>The piece of output to display, a character vector or a list of character vectors.</p>
</td></tr>
<tr><td><code id="print.out_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapters 9 and 10, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Regression">Regression</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read internal data set
d &lt;- rd("Employee", quiet=TRUE)
# do the summary statistics
s &lt;- ss_brief(Salary)
# print the piece of output, print function is implicit
s$outliers
</code></pre>

<hr>
<h2 id='print.out_all'>Display All Text Output from a Saved List Object</h2><span id='topic+print.out_all'></span>

<h3>Description</h3>

<p>Displays all the results saved as an <code>R</code> list into an object from a <code>lessR</code> analysis.  An example of a saved object is <code>r</code> in <code>r &lt;- reg(Y ~ X)</code>. The results are displayed at the console or integrated into a <code>knitr</code> analysis, for example from <code>RStudio</code>. This function is usually implicitly accessed by the user simply by entering the name of the saved object at the console or in a <code>knitr</code> file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'out_all'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.out_all_+3A_x">x</code></td>
<td>
<p>The list of components to display.</p>
</td></tr>
<tr><td><code id="print.out_all_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Regression">Regression</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read internal data set
d &lt;- rd("Employee", quiet=TRUE)
# do the summary statistics
s &lt;- ss_brief(Salary)
# display all the output, print function is implicit
s
</code></pre>

<hr>
<h2 id='prob_norm'>Compute and Plot Normal Curve Probabilities over an Interval</h2><span id='topic+prob_norm'></span>

<h3>Description</h3>

<p>Calculate the probability of an interval for a normal distribution with specified mean and standard deviation, providing both the numerical probability and a plot of the interval with the corresponding normal curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prob_norm(lo=NULL, hi=NULL, mu=0, sigma=1, nrm_color="black", 
         fill_nrm="grey91", fill_int="slategray3", 
         ylab="", y_axis=FALSE, z=TRUE, axis_size=.9,
         pdf_file=NULL, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prob_norm_+3A_lo">lo</code></td>
<td>
<p>Lowest value in the interval for which to compute probability.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_hi">hi</code></td>
<td>
<p>Highest value in the interval for which to compute probability.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_mu">mu</code></td>
<td>
<p>Population mean of normal distribution.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_sigma">sigma</code></td>
<td>
<p>Population standard deviation of normal distribution.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_nrm_color">nrm_color</code></td>
<td>
<p>Color of the border of the normal curve.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_fill_nrm">fill_nrm</code></td>
<td>
<p>Fill color of the normal curve.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_fill_int">fill_int</code></td>
<td>
<p>Fill color of the interval for which the probability is computed.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_ylab">ylab</code></td>
<td>
<p>Label for the optional vertical axis_</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_y_axis">y_axis</code></td>
<td>
<p>If <code>TRUE</code>, then a vertical axis is included.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_z">z</code></td>
<td>
<p>If <code>TRUE</code>, then include z-values on the horizontal-axis_ Set to 
<code>FALSE</code> if <code>mu=0</code> and <code>sigma=1</code>.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_axis_size">axis_size</code></td>
<td>
<p>Magnification factor for the axis labels, the value of
<code>axis_cex</code>.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="prob_norm_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate the normal curve probability for the specified interval and normal curve. If there is no upper value of the interval provided, <code>hi</code>, then the upper tail probability is provided, that is, from the specified value until positive infinity.  If there is no lower value, <code>lo</code>, then the lower tail probability is provided.  The probability is calculated with <code><a href="stats.html#topic+pnorm">pnorm</a></code>.
</p>


<h3>Value</h3>

<p><code>prob</code>: Calculated probability.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+pnorm">pnorm</a></code>, <code><a href="graphics.html#topic+plot">plot</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mu=0, Sigma=1: Standard normal prob, values between 0 and 2
prob_norm(0,2)

# Mu=0, Sigma=1: Standard normal prob, values lower than 2
prob_norm(hi=2)

# Mu=0, Sigma=1: Standard normal prob, values larger than 2
prob_norm(lo=2)

# Mu=100, Sigma=15: Change default fill color of plotted interval
prob_norm(lo=115, hi=125, mu=100, sigma=15, fill_int="plum")
</code></pre>

<hr>
<h2 id='prob_tcut'>Plot t-distribution Curve and Specified Cutoffs with Normal Curve</h2><span id='topic+prob_tcut'></span>

<h3>Description</h3>

<p>Plot a specified t-distribution against the standardized normal curve with the corresponding upper and lower tail cutoffs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prob_tcut(df, alpha=0.05, digits_d=3, y_axis=FALSE,
         fill="aliceblue", color_tail="palevioletred4",
         nrm_color=gray(.7), color_t=gray(.08),
         pdf_file=NULL, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prob_tcut_+3A_df">df</code></td>
<td>
<p>Degrees of freedom for t-distribution, must be 2 or larger.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_alpha">alpha</code></td>
<td>
<p>Alpha to define the tail cutoff area.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of decimal digits in the output.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_y_axis">y_axis</code></td>
<td>
<p>If <code>FALSE</code>, then the y axis is not displayed.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_fill">fill</code></td>
<td>
<p>Fill color for the interior of the t-distribution curve.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_color_tail">color_tail</code></td>
<td>
<p>Color of the tail areas of the t-distribution.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_nrm_color">nrm_color</code></td>
<td>
<p>Color of the normal curve.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_color_t">color_t</code></td>
<td>
<p>Color of the t-distribution curve.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="prob_tcut_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Replaces a t-table by providing the corresponding t-cutoff, the critical value based on the corresponding quantile, as well as a plot that illustrates the tail probabilities. Also compare to the standardized normal curve.
</p>


<h3>Value</h3>

<p><code>cutoff</code>: Cutoff-value, the corresponding quantile.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+qt">qt</a></code>, <code><a href="stats.html#topic+pnorm">pnorm</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># t-distribution with 0.025 cutoffs for degrees of freedom of 15
prob_tcut(15)
</code></pre>

<hr>
<h2 id='prob_znorm'>Plot a Normal Curve with Shaded Intervals by Standard Deviation</h2><span id='topic+prob_znorm'></span>

<h3>Description</h3>

<p>Display a normal curve with shading according to the z-score, the number of standard deviations from the mean.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>prob_znorm(mu=0, sigma=1, color_border="gray10",
         r=.10, g=.34, b=.94, a=.20,
         xlab="", ylab="", main="", 
         y_axis=FALSE, z=TRUE, axis_size=.9,
         pdf_file=NULL, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prob_znorm_+3A_mu">mu</code></td>
<td>
<p>Population mean of normal distribution.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_sigma">sigma</code></td>
<td>
<p>Population standard deviation of normal distribution.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_color_border">color_border</code></td>
<td>
<p>Color of the border of the normal curve.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_r">r</code></td>
<td>
<p>Red component of fill color, from 0 to 1.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_g">g</code></td>
<td>
<p>Green component of fill color, from 0 to 1.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_b">b</code></td>
<td>
<p>Blue component of fill color, from 0 to 1.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_a">a</code></td>
<td>
<p>Alpha component of fill color, that is, the transparency, from 0 to 1.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_xlab">xlab</code></td>
<td>
<p>Label for the horizontal axis_</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_ylab">ylab</code></td>
<td>
<p>Label for the optional vertical axis_</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_main">main</code></td>
<td>
<p>Label for the graph title.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_y_axis">y_axis</code></td>
<td>
<p>If <code>TRUE</code>, then a vertical axis is included.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_z">z</code></td>
<td>
<p>If <code>TRUE</code>, then include z-values on the horizontal-axis_
Set to <code>FALSE</code> if <code>mu=0</code> and <code>sigma=1</code>.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_axis_size">axis_size</code></td>
<td>
<p>Magnification factor for the axis labels, the value of
<code>axis_cex</code>.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="prob_znorm_+3A_...">...</code></td>
<td>
<p>Other parameter values for graphics.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provide a normal curve with shading of each interval defined by the number of standard deviations from the mean.  The layers are written with transparency, and over-written so that the middle interval is the darkest and the most extreme intervals, beyond three standard deviations from the mean, are the lightest.  Specify <code>a=0</code> to turn off the colors.  Higher values of the alpha channel, as specified by <code>a</code>, yield darker colors. Specify <code>a=1</code> for the same solid color for all intervals. 
</p>
<p>The normal densities are calculated with <code><a href="stats.html#topic+dnorm">dnorm</a></code> and plotted with <code><a href="graphics.html#topic+plot">plot</a></code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+dnorm">dnorm</a></code>, <code><a href="graphics.html#topic+plot">plot</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Mu=0, Sigma=1: Standard normal 
prob_znorm()

# distribution for height of American women, mu=65.5, sigma=2.5
prob_znorm(65.5, 2.5, xlab="Height of American Women")

# do a red fill color
prob_znorm(65.5, 2.5, r=.9, xlab="Height of American Women")
</code></pre>

<hr>
<h2 id='Prop_test'>Analysis of Prop_test</h2><span id='topic+Prop_test'></span><span id='topic+prop'></span>

<h3>Description</h3>

<p>Abbreviation: <code>prop</code>
</p>
<p>Analyze proportions, either of a single proportion against a fixed alternative, a set of proportions evaluated for equality, or a goodness-of-fit test for a single categorical variable or a test of independence for multiple variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Prop_test(variable=NULL, success=NULL, by=NULL, data=d,
          n_succ=NULL, n_fail=NULL, n_tot=NULL, n_table=NULL,
          Yates=FALSE, pi=NULL, digits_d=3, ...)

prop(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Prop_test_+3A_variable">variable</code></td>
<td>
<p>Numerical variable to analyze.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_success">success</code></td>
<td>
<p>Value of <code>variable</code> considered a success.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_by">by</code></td>
<td>
<p>Compare proportions over groups, the values of this
categorical variable.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_data">data</code></td>
<td>
<p>Data frame that contains the <code>variable</code> to analyze.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_n_succ">n_succ</code></td>
<td>
<p>Number of successes.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_n_fail">n_fail</code></td>
<td>
<p>Number of trials, either provide this or <code>n</code>.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_n_tot">n_tot</code></td>
<td>
<p>Number of trials, either provide this or <code>q</code>.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_n_table">n_table</code></td>
<td>
<p>Path name of the file that contains a frequency table.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_yates">Yates</code></td>
<td>
<p>Set to <code>TRUE</code> to implement Yate's correction factor
where applicable.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_pi">pi</code></td>
<td>
<p>Value of null hypothesized probability.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of significant digits for each of the displayed summary
statistics.</p>
</td></tr>
<tr><td><code id="Prop_test_+3A_...">...</code></td>
<td>
<p>Parameter values passed to <code>Prop_test</code>.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>The analysis of proportions is of two primary types.
</p>
<p>For one or more samples of data, focus on a single value of a categorical variable, traditionally called a success. Analyze the resulting proportion of occurrence for a single sample or compare proportions of occurrence of a success across distinct samples of data, what is called a test of homogeneity.
</p>
<p>For a single sample, compare proportions from a contingency table. These tests are called a goodness-of-fit test for a single variable and a test of independence for multiple variables.
</p>
<p>From standard base R functions, the lessR function <code>Prop_test()</code>, abbreviated <code>prop()</code>, provides for either type of the analysis for proportions. To use, enter either the original data from which the sample proportions are computed, or directly enter already computed sample frequencies from which the proportions are computed.
</p>
<p>TEST OF HOMOGENEITY<br />
When analyzing the original data, an entered value for the parameter <code>success</code> for the categorical variable of interest, indicated by parameter <code>variable</code>, triggers the test of homogeneity. For a single proportion the analysis is the exact binomial test. If the proportions are entered directly, indicate the number of successes and the total number of trials with the <code>n_succ</code> and <code>n_tot</code> parameters, each as a single value for a single sample or as vectors of multiple values for multiple samples. 
</p>
<p>TEST OF UNIFORM GOODNESS-OF-FIT<br />
To test for goodness-of-fit from the original data, just enter the name of the categorical variable. To test from the proportions, specify the proportions as a vector with the <code>n_tot</code> parameter.
</p>
<p>TEST OF INDEPENDENCE<br />
Without a value for <code>success</code> or <code>n_succ</code> the analysis is of goodness-of-fit or independence. For the test of independence, to enter the joint frequency table directly, store the frequencies in a file accessible from your computer system. One possibility is to enter the numbers into a text file with file type '.csv' or '.txt'. Enter the numbers with a text editor, or with a word processor saving the file as a text file. With this file format, separate the adjacent values in each row with a comma, as indicated below. Or, enter the numbers into an MS Excel formatted file with file type '.xlsx'. Enter only the numeric frequencies, no labels. Use the parameter <code>n_table</code> to indicate the path name to the file, enclosed in quotes. Or, leave the quotes empty to browse for the joint frequency table. 
</p>
<p>To conduct the test from the data, enter the names of the two categorical variables. The variable listed first is the parameter 'variable'. The second listed variable is for the parameter 'by', the name of which must be included in the function call.
</p>
<p>See the corresponding vignette for more detail and examples.<br />
Enter <code>browseVignettes("lessR")</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+binom.test">binom.test</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# generate data
Classvalues &lt;- c("Freshman", "Sophomore", "Junior", "Senior")
Goodvalues &lt;- c("Nice", "OK", "Mean")
Class &lt;- sample(Classvalues, size=250, replace=TRUE)
Goodness &lt;- sample(Goodvalues, size=250, replace=TRUE)
d &lt;- data.frame(Class, Goodness)

# Test a single proportion
Prop_test(variable=Goodness, success="Nice")

# Test multiple proportions, one each for each level of Plan
Prop_test(Goodness, "Nice", by=Class)

# Test of independence
Prop_test(Goodness, by=Class)

# Same example as for the base R binom.test
Prop_test(n_succ=682, n_fail=243, p=.75, digits_d=2)

</code></pre>

<hr>
<h2 id='Read'>Read Contents of a Data File with Optional Variable Labels and Feedback</h2><span id='topic+Read'></span><span id='topic+rd'></span><span id='topic+rd_lbl'></span><span id='topic+Read2'></span>

<h3>Description</h3>

<p>Abbreviation: <code>rd</code>, <code>rd_lbl</code>, <code>Read2</code>
</p>
<p>Reads the contents of the specified data file into an R data table, what R calls a data frame.  By default the format of the file is detected from its filetype: comma or tab separated value text file from <code>.csv</code>, SPSS data file from <code>.sav</code>, SAS data from from <code>.sas7bdat</code>, or R data file from <code>.rda</code>, and Excel file from <code>.xls</code>, <code>.xlsx</code> using Alexander Walker's <code><a href="openxlsx.html#topic+openxlsx">openxlsx</a></code> package, or <code>.ods</code> using Gerrit-Jan Schutten and Chung-hong Chan plus other contributor's <code>readODS</code> package. Specify a fixed width formatted text data file to be read with the required R <code>widths</code> option. Identify the data file by either browsing for the file on the local computer system with <code>Read()</code>, or identify the file with the first argument a character string in the form of a path name or a web URL (except for .Rda files which must be on the local computer system).
</p>
<p>Any variable labels in a native SPSS are automatically included in the data file. See the <code>details</code> section below for more information. Variable labels can also be added and modified individually with the <code>lessR</code> function <code><a href="#topic+label">label</a></code>, and more comprehensively with the <code><a href="#topic+VariableLabels">VariableLabels</a></code> function.
</p>
<p>The function provides feedback regarding the data that is read by invoking the <code>lessR</code> function <code><a href="#topic+details">details</a></code>. The default brief form of this function invoked by default only lists the input files, the variable name table, and any variable labels.
</p>
<p>The <code>lessR</code> function <code><a href="#topic+corRead">corRead</a></code> reads a correlation matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Read(from=NULL, format=NULL, var_labels=FALSE, widths=NULL,

         missing="", n_mcut=1,
         miss_show=30, miss_zero=FALSE, miss_matrix=FALSE, 
      
         max_lines=30, sheet=1, row_names=NULL,

         brief=TRUE, quiet=getOption("quiet"),

         fun_call=NULL, ...)

rd(...) 
rd_lbl(..., var_labels=TRUE)
Read2(..., sep=";", dec=",")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Read_+3A_from">from</code></td>
<td>
<p>File reference included in quotes, either empty to browse 
for the data file, a full path name or web URL, or the name of a
data file included with lessR, such as <code>"Employee"</code>. 
A URL begins with <code>http://</code>.</p>
</td></tr>
<tr><td><code id="Read_+3A_format">format</code></td>
<td>
<p>Format of the data in the file, not usually specified because set
by default according to the
file type of the file to read: <code>.csv</code>, <code>.tsv</code> or <code>.txt</code>
read as a text file, <code>.xls</code>, <code>.xlsx</code> read as an Excel file, or
<code>.ods</code> as an OpenDocument Spreadsheet file.
<code>.feather</code> and <code>.parquet</code> for the <code>arrow</code> formats for
feather and parquet dat files.
<code>.sav</code> reads as an SPSS file, which also reads the variable labels
if present, <code>.sas7bdat</code> reads as a SAS file, and <code>.rda</code> reads as a
native R data file. If the data file is not identified by one of these
file types, then explicitly set by setting to one of the following values:
<code>"csv"</code>, <code>"tsv"</code>, <code>"Excel"</code>, <code>"feather"</code>, 
<code>"parquet"</code>, <code>"R"</code>, <code>"SPSS"</code>,
or <code>"SAS"</code>.</p>
</td></tr>
<tr><td><code id="Read_+3A_var_labels">var_labels</code></td>
<td>
<p>Set <code>TRUE</code> if reading a csv or Excel file of 
variable labels into the data frame <code>l</code> in which each
row consists of a variable name in the first
column and the corresponding variable label in the second column, and perhaps
units in the third row if using <code><a href="#topic+Regression">Regression</a></code> function to
generate automatic markdown files of discursive text.</p>
</td></tr>
<tr><td><code id="Read_+3A_widths">widths</code></td>
<td>
<p>Specifies the width of the successive columns for fixed width
formatted data.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Read_+3A_missing">missing</code></td>
<td>
<p>Missing value code, which by default is literally a missing data
value in the data table.</p>
</td></tr>
<tr><td><code id="Read_+3A_n_mcut">n_mcut</code></td>
<td>
<p>For the missing value analysis, list the row name and number of
missing values if the number of missing exceeds or equals this cutoff.
Requires <code>brief=FALSE</code>.</p>
</td></tr>
<tr><td><code id="Read_+3A_miss_show">miss_show</code></td>
<td>
<p>For the missing value analysis, the number of rows, one row per
observation, that has as many or missing values as <code>n_mcut</code>. 
Requires <code>brief=FALSE</code>.</p>
</td></tr>
<tr><td><code id="Read_+3A_miss_zero">miss_zero</code></td>
<td>
<p>For the missing value analysis, list the variable name or the
row name even for values of 0, that is rows with no missing data.
By default only variables and rows with missing data are listed.
Requires <code>brief=FALSE</code>.</p>
</td></tr>
<tr><td><code id="Read_+3A_miss_matrix">miss_matrix</code></td>
<td>
<p>For the missing value analysis, if there is any missing data, 
list a version of the complete data table with a 0 for a non-missing value
and a 1 for a missing value.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Read_+3A_sep">sep</code></td>
<td>
<p>Character that separates adjacent values in a text file of data.</p>
</td></tr>
<tr><td><code id="Read_+3A_dec">dec</code></td>
<td>
<p>Character that serves as the decimal separator in a number.</p>
</td></tr>
<tr><td><code id="Read_+3A_max_lines">max_lines</code></td>
<td>
<p>Maximum number of lines to list of the data and labels.</p>
</td></tr>
<tr><td><code id="Read_+3A_sheet">sheet</code></td>
<td>
<p>For Excel files, specifies the work sheet to read. Provide either
the worksheet number according to its position, or its name enclosed in
quotes. The default is the first work sheet.</p>
</td></tr>
<tr><td><code id="Read_+3A_row_names">row_names</code></td>
<td>
<p><code>FALSE</code> by default so no row names from the input data.
Set to <code>TRUE</code> to convert the first column of input data to row names.
For reading <code>.csv</code> files, can also set to the integer number of the
column to convert to row names. For Excel and ODS files, only acceptable
value is 1 for the first column.</p>
</td></tr>
<tr><td><code id="Read_+3A_brief">brief</code></td>
<td>
<p>If <code>TRUE</code>, display only variable names table plus any variable
labels.</p>
</td></tr>
<tr><td><code id="Read_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change the corresponding
system default with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Read_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used with <code>Rmd</code> to pass the function call when
obtained from the abbreviated function call <code>rd</code>.</p>
</td></tr>
<tr><td><code id="Read_+3A_...">...</code></td>
<td>
<p>Other parameter values define with the R read functions, such as the
<code>read.table</code> function for text files, with row.names and header.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default <code>Read</code> reads text data files which are either comma delimited, <code>csv</code>, or tab-delimited data files, native Excel files of type <code>.xls</code> or <code>.xlsx</code>, native ODS files of type <code>.ods</code>, native R files with file type of <code>.rda</code>, native SAS files with file type <code>.sas7bdat</code>, and native SPSS files with file type <code>.sav</code>. Invoke the <code>widths</code> option to allow for the reading of fixed width formatted data. Calls the <code>lessR</code> function <code><a href="#topic+details">details</a></code> to provide feedback regarding details of the data frame that was read. By default, variables defined by non-numeric variables are read as character strings. To read as <code>factors</code> specify <code>stringsAsFactors</code> as <code>FALSE</code>, unless all the values of a variable a non-numeric and unique, in which case the variable is classified as a character string.
</p>
<p>CREATE csv FILE<br />
One way to create a csv data file is to enter the data into a text editor. A more structured method is to use a worksheet application such as MS Excel, LibreOffice Calc, or Apple Numbers.  Place the variable names in the first row of the worksheet. Each column of the worksheet contains the data for the corresponding variable. Each subsequent row contains the data for a specific observation, such as for a person or a company.  
</p>
<p>Call <code>help(read.table)</code> to view the other R options that can also be implemented from <code>Read</code>.
</p>
<p>MECHANICS<br />
Specify the file as with the <code><a href="#topic+Read">Read</a></code> function for reading the data into a data frame.  If no arguments are passed to the function, then interactively browse for the file.
</p>
<p>Given a csv data file, or tab-delimited text file, read the data into an R data frame called <code>d</code> with <code><a href="#topic+Read">Read</a></code>. Because <code><a href="#topic+Read">Read</a></code> calls the standard R function <code>read.csv</code>, which serves as a wrapper for <code>read.table</code>, the usual options that work with <code>read.table</code>, such as <code>row.names</code>, also can be passed through the call to <code>Read</code>. 
</p>
<p>SPSS DATA<br />
Relies upon <code>read_spss</code> from the <code>haven</code> package to read data in the SPSS <code>.sav</code> or <code>.zsav</code> format.  If the file has a file type of <code>.sav</code>, that is, the file specification ends in <code>.sav</code>, then the <code>format</code> is automatically set to <code>"SPSS"</code>. To invoke this option for a relevant data file of any file type, explicitly specify <code>format="SPSS"</code>. Each (usually) integer variable with value labels is converted into two R variables: the original numeric code with the original variable name, and also the corresponding factor with the variable labels named with the original name plus the suffix <code>_f</code>. The variable labels are also displayed for copying into a variable label file. See the SPSS section from <code>vignette("Read")</code>. 
</p>
<p>R DATA<br />
Relies upon the standard R function <code>load</code>. By convention only, data files in native R format have a file type of <code>.rda</code>. To read a native R data file, if the file type is <code>.rda</code>, the <code>format</code> is automatically set to <code>"R"</code>. To invoke this option for a relevant data file of any file type, explicitly specify <code>format="R"</code>. Create a native R data file by saving the current data frame, usually <code>d</code>, with the <code>lessR</code> function <code><a href="#topic+Write">Write</a></code>.
</p>
<p>Excel DATA<br />
Relies upon the function <code><a href="openxlsx.html#topic+read.xlsx">read.xlsx</a></code> from Alexander Walker's <code>openxlsx</code> package. Files with a file type of <code>.xlsx</code> are assigned a <code>format</code> of <code>"Excel"</code>. The <code>read.xlsx</code> parameter <code>sheet</code> specifies the ordinal position of the worksheet in the Excel file, with a default value of 1. The <code>row.names</code> parameter can only have a value of 1. Dates stored in Excel as an Excel date type are automatically read as an R Date type. See the help file for <code><a href="openxlsx.html#topic+read.xlsx">read.xlsx</a></code> for additional parameters, such as <code>sheet</code> for the name or number of the worksheet to read and <code>startRow</code> for the row number for which to start reading data.  
</p>
<p>lessR DATA<br />
<code>lessR</code> has some data sets included with the package: &quot;BodyMeas&quot;, &quot;Cars93&quot;, &quot;Employee&quot;, &quot;Jackets&quot;, &quot;Learn&quot;, &quot;Mach4&quot;, &quot;Reading&quot;, and &quot;StockPrice&quot;.  <code>Read</code> reads each such data set by specifying its name, such as <code>Read("Employee")</code>. No specificaiton of <code>format</code> and no provided filetype, just enter the name of the data set. 
</p>
<p>FIXED WIDTH FORMATTED DATA<br />
Relies upon <code>read.fwf</code>. Applies to data files in which the width of the column of data values of a variable is the same for each data value and there is no delimiter to separate adjacent data values_  An example is a data file of Likert scale responses from 1 to 5 on a 50 item survey such that the data consist of 50 columns with no spaces or other delimiter to separate adjacent data values_ To read this data set, invoke the <code>widths</code> option of <code>read.fwf</code>.  
</p>
<p>MISSING DATA<br />
By default, <code>Read</code> provides a list of each variable and each row with the display of the number of associated missing values, indicated by the standard R missing value code NA. When reading the data, <code>Read</code> automatically sets any empty values as missing.  Note that this is different from the R default in <code>read.table</code> in which an empty value for character string variables are treated as a regular data value. Any other valid value for any data type can be set to missing as well with the <code>missing</code> option. To mimic the standard R default for missing character values, set <code>missing=NA</code>. 
</p>
<p>To not list the variable name or row name of variables or rows without missing data, invoke the <code>miss_zero=FALSE</code> option, which can appreciably reduce the amount of output for large data sets. To view the entire data table in terms of 0's and 1's for non-missing and missing data, respectively, invoke the <code>miss_matrix=TRUE</code> option. 
</p>
<p>VARIABLE LABELS<br />
Unlike standard R, <code>lessR</code> provides for variable labels, which can be provided for some or all of the variables in a data frame. Store the variable labels in a separate data frame <code>l</code>. The variable labels file that is read by <code>Read</code> consists of one row for each variable for which a variable label is provided. Each row consists of either two columns, the variable name in the first column and the associated variable label in the second column, or three columns with the third column the variable units. Use the units in conjunction for enhanced readability with the automatic markdown generated by the <code>Rmd</code> parameter for the <code><a href="#topic+Regression">Regression</a></code> function. The format of the file can be <code>csv</code> or <code>xlsx</code>. The data frame <code>Read</code> constructs from this input consists of one variable, called <code>label</code>, with the variable names as row names. 
</p>
<p>The <code>lessR</code> legacy approach is to store the variable labels directly with the data in the same data frame. The problem with this approach is that any transformations of the data with any function other than <code>lessR</code> transformation functions remove the variable labels. The option for reading the variable labels with the <code>labels</code> option of <code>Read</code> statement is retained for compatibility.
</p>
<p>Reading the data from an SPSS file, however, retains the SPSS variable labels as part of the data file. The <code>lessR</code> data analysis functions will properly process these variable labels, but any non-<code>lessR</code> data transformations will remove the labels from the data frame. To retain the labels, copy them to the <code>l</code> data frame with the <code><a href="#topic+VariableLabels">VariableLabels</a></code> function with the name of the data frame as the sole argument.
</p>
<p>The <code>lessR</code> functions that provide analysis, such as <code><a href="#topic+Histogram">Histogram</a></code> for a histogram, automatically include the variable labels in their output, such as the title of a graph.  Standard R functions can also use these variable labels by invoking the <code>lessR</code> function <code><a href="#topic+label">label</a></code>, such as setting <code>main=label(I4)</code> to put the variable label for a variable named I4 in the title of a graph.  
</p>


<h3>Value</h3>

<p>The read data frame is returned, usually assigned the name of <code>d</code> as in the examples below.  This is the default name for the data frame input into the <code>lessR</code> data analysis functions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 1, NY: CRC Press.
</p>
<p>Alexander Walker (2018). openxlsx: Read, Write and Edit XLSX Files. R package version 4.1.0. https://CRAN.R-project.org/package=openxlsx
</p>


<h3>See Also</h3>

<p><code><a href="utils.html#topic+read.csv">read.csv</a></code>, <code><a href="openxlsx.html#topic+read.xlsx">read.xlsx</a></code>,  
<code><a href="utils.html#topic+read.fwf">read.fwf</a></code>, <code><a href="#topic+corRead">corRead</a></code>, <code><a href="#topic+label">label</a></code>,
<code><a href="#topic+details">details</a></code>, <code><a href="#topic+VariableLabels">VariableLabels</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># remove the # sign before each of the following Read statements to run

# to browse for a data file on the computer system, invoke Read with 
#   the from argument empty
# d &lt;- Read()
# abbreviated name
# d &lt;- rd()

# read the variable labels from
#  the specified label file, here a Excel file with two columns,
#  the first column of variable names and the second column the 
#  corresponding labels
# l &lt;- Read("Employee_lbl", var_labels=TRUE)

# read a csv data file from the web
# d &lt;- Read("http://web.pdx.edu/~gerbing/data/twogroup.csv")

# read a csv data file with -99 and XXX set to missing
# d &lt;- Read(missing=c(-99, "XXX"))

# do not display any output
# d &lt;- Read(quiet=TRUE)
# display full output
# d &lt;- Read(brief=FALSE)

# read the built-in data set dataEmployee
d &lt;- Read("Employee")

# read a data file organized by columns, with a 
#   5 column ID field, 2 column Age field
#   and 75 single columns of data, no spaces between columns
#   name the variables with lessR function: to
#   the variable names are Q01, Q02, ..., Q74, Q75
# d &lt;- Read(widths=c(5,2,rep(1,75)), col.names=c("ID", "Age", to("Q", 75)))
</code></pre>

<hr>
<h2 id='recode'>Recode the Values of an Integer or Factor Variable</h2><span id='topic+recode'></span>

<h3>Description</h3>

<p>Recodes the values of one or more integer variables in a data frame. The values of the original variable may be overwritten with the recoded values, or the recoded values can be designated to be placed in a new variable, indicated by the <code>new_name</code> option. Valid values may be converted to missing, and missing values may be converted to valid values. Any existing variable labels are retained in the recoded data frame.
</p>
<p>There is no provision to recode integer values to character strings because that task is best accomplished with the standard R <code><a href="base.html#topic+factor">factor</a></code> function. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recode(old_vars, new_vars=NULL, old, new, data=d,
       quiet=getOption("quiet"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recode_+3A_old_vars">old_vars</code></td>
<td>
<p>One or more variables to be recoded.</p>
</td></tr>
<tr><td><code id="recode_+3A_new_vars">new_vars</code></td>
<td>
<p>Name of the new variable or variables that contain the recoded
values, each name in quotes. If not provided, then the values of the
original variable are replaced.</p>
</td></tr>
<tr><td><code id="recode_+3A_old">old</code></td>
<td>
<p>The values of the variables that are to be recoded. If the value is
<code>"missing"</code> then any existing missing values are replaced by the
value specified with <code>new</code>.</p>
</td></tr>
<tr><td><code id="recode_+3A_new">new</code></td>
<td>
<p>The recoded values, which match one-to-one with the values in <code>old</code>. If the 
value is <code>"missing"</code> then instead any values specified in <code>old</code> are
converted to missing.</p>
</td></tr>
<tr><td><code id="recode_+3A_data">data</code></td>
<td>
<p>The name of the data frame from which to create the subset, which
is <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="recode_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="recode_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Specify the values to be recoded with the required <code>old</code> parameter, and the corresponding recoded values with the required <code>new</code> parameter. There must be a 1-to-1 correspondence between the two sets of values, such as 0:5 recoded to 5:0, six items in the <code>old</code> set and six items in the <code>new</code> set. 
</p>
<p>Use <code>new_vars</code> to specify the name of the variable that contains the recoded values. If <code>new_vars</code> is not present, then the values of the original variable are overwritten with the recoded values.
</p>
<p>Not all of the existing values of the variable to be recoded need be specified.  Any value not specified is unchanged in the values of the recoded variable. 
</p>
<p>Unless otherwise specified, missing values are unchanged.  To modify missing values, set <code>old="missing"</code> to covert missing data values to the specified value data value given in <code>new</code>.  Or, set <code>new="missing"</code> to covert the one or more existing valid data values specified in <code>old</code> to missing data values.
</p>
<p>Diagnostic checks are performed before the recode. First, it is verified that the same number of values exist in the <code>old</code> and <code>new</code> lists of values_  Second, it is verified that all of the values specified to be recoded in fact exist in the original data. 
</p>
<p>If the levels of a factor were to be recoded with <code>recode</code>, then the factor attribute would be lost as the resulting recoded variable would be character strings. Accordingly, this type of transformation is not allowed, and instead should be accomplished with the <code>Transform</code> and <code>factor</code> functions as shown in the examples.
</p>


<h3>Value</h3>

<p>The recoded data frame is returned, usually assigned the name of <code>d</code> as in the examples below.  This is the default name for the data frame input into the <code>lessR</code> data analysis functions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+transform">transform</a></code>, <code><a href="base.html#topic+factor">factor</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># construct data frame
d &lt;- read.table(text="Severity Description
1 Mild
4 Moderate
3 Moderate
2 Mild
1 Severe", header=TRUE, stringsAsFactors=FALSE)

# recode Severity into a new variable called SevereNew
d &lt;- recode(Severity, new_vars="SevereNew", old=1:4, new=c(10,20,30,40))

# reverse score four Likert variables: m01, m02, m03, m10 
d &lt;- Read("Mach4")
d &lt;- recode(c(m01:m03,m10), old=0:5, new=5:0)

# convert any 1 for Plan to missing
# use Read to put data into d data frame
# write results to newdata data frame
d &lt;- Read("Employee")
newdata &lt;- recode(Plan, old=1, new="missing")

# for Years and Salary convert any missing value to 99
d &lt;- recode(c(Years, Salary), old="missing", new=99)


# ------------------------------------
# convert between factors and integers
# ------------------------------------

# recode levels of a factor that should remain a factor
#   with the Transform and factor functions
# using recode destroys the factor attribute, converting to
#   character strings instead, so Recode does not allow
d &lt;- Read("Employee")
d &lt;- Transform(
    Gender=factor(Gender, levels=c("F", "M"), labels=c("Female", "Male"))
)

# recode levels of a factor to convert to integer first by
#   converting to integer with Transform and as.numeric
# here Gender has values M and F in the data
# integers start with 1 through the number of levels, can use
#   recode() to change this if desired, such as to 0 and 1
d &lt;- Transform(Gender=as.numeric(Gender))
d &lt;- recode(Gender, old=c(1,2), new=c(0,1))

# recode integer values to levels of a factor with value labels
#   instead of recode()
# here Gender has values 0 and 1 in the data
d &lt;- Read("Mach4")
d &lt;- Transform(
      Gender=factor(Gender, levels=c(0,1), labels=c("Male","Female"))
      )
# ------------------------------------
</code></pre>

<hr>
<h2 id='regPlot'>regPlot Analysis</h2><span id='topic+regPlot'></span>

<h3>Description</h3>

<p>Following a call to the <code>lessR</code> function <code><a href="#topic+Regression">Regression</a></code>, in which the returned values of the function are saved into an object, allows the default plots generated by <code><a href="#topic+Regression">Regression</a></code> to be accessed one at a time_ The specific motivation for this function is to allow custom placement of the graphs from the regression analysis from within <code>knitr</code>. Usually the <code>graphics=FALSE</code> parameter is set on the call to <code><a href="#topic+Regression">Regression</a></code> within <code>knitr</code> to suppress the normal graphic output that leads to the generation of the graphs at the beginning of the <code>knitr</code> output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>regPlot(out, type, d.ancova, digits_d=NULL, pred.intervals=TRUE,
         res_sort=c("cooks","rstudent","dffits","off"),
         n_res_rows=NULL, cooks_cut=1, scatter_coef=NULL, 
         pdf=FALSE, width=5, height=5, manage.gr=FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="regPlot_+3A_out">out</code></td>
<td>
<p>The object returned by the <code>lessR</code> function  <code><a href="#topic+Regression">Regression</a></code>.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_type">type</code></td>
<td>
<p>Type of plot: 1 plots the scatter plot for a single predictor
variable, or the scatter plot matrix for multiple predictors. If a single
scatter plot, then the confidence and prediction intervals are included. 2
plots the density and histogram of residuals and 3 plots a scatter plot of
the residuals with the fitted values_</p>
</td></tr>
<tr><td><code id="regPlot_+3A_d.ancova">d.ancova</code></td>
<td>
<p>If not <code>NULL</code>, then an ANCOVA design with 1 grouping variable
and 1 covariate, which contains the original data.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_digits_d">digits_d</code></td>
<td>
<p>For the Basic Analysis, the number of decimal digits,
set by default to at least 3 or the largest number of digits in the values 
of the response variable plus 1.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_pred.intervals">pred.intervals</code></td>
<td>
<p>If set to <code>FALSE</code>, the scatter plot for a single
predictor with the response does not contain prediction and confidence
intervals.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_res_sort">res_sort</code></td>
<td>
<p>Default is <code>"cooks"</code>, for specifying Cook's distance as
the sort criterion for the display of the rows of data and associated
residuals. Other values are <code>"rstudent"</code> for externally Studentized
residuals, <code>"dffits"</code> for dffits
and <code>"off"</code> to not sort the rows of data.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_n_res_rows">n_res_rows</code></td>
<td>
<p>Default is 20, which lists the first 20 rows of data sorted
by the specified sort criterion.  To disable residuals, specify a value
of 0.  To see the output for all observations, specify a value of
<code>"all"</code>.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_cooks_cut">cooks_cut</code></td>
<td>
<p>Cutoff value of Cook's Distance at which observations with a
larger value are flagged in red and labeled in the resulting scatterplot
of Residuals and Fitted Values.  Default value is 1.0.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_scatter_coef">scatter_coef</code></td>
<td>
<p>Display the correlation coefficients in the upper triangle
of the scatterplot matrix.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_pdf">pdf</code></td>
<td>
<p>If <code>TRUE</code>, then graphics are written to pdf files.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_manage.gr">manage.gr</code></td>
<td>
<p>Usually leave <code>FALSE</code>. Refers to graphic management of
the <code>lessR</code> system.</p>
</td></tr>
<tr><td><code id="regPlot_+3A_...">...</code></td>
<td>
<p>Other parameter values for R function <code><a href="stats.html#topic+lm">lm</a></code> which
provides the core computations.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
The ability to separate plots is particularly useful with <code>knitr</code> to break up the output to intersperse comments between the plots. For Plot 1, for single predictor a scatter plot with the regression line and confidence and prediction intervals is produced.  Otherwise a scatter plot matrix of all the variables in the models is obtained.
</p>
<p>To help assess the validity of the model, Plot 2 is of the distribution of the residuals, histogram and density plots, both general and normal. Plot 3 plots the residuals against the fitted value and also identifies the points with the largest values of Cook's distance.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2014). R Data Analysis without Programming, Chapters 9 and 10, NY: Routledge.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="#topic+Regression">Regression</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read internal data set
d &lt;- rd("Reading", quiet=TRUE)
# do regression analysis, save result into out
reg.out &lt;- reg(Reading ~ Verbal)
# The full output already contains these plots, obtained by
# entering the name of the saved object
reg.out
# Particularly for knitr it is useful to obtain the plots
#   separately from the full output
# Get the scatter plot of the data with the regression line
#   and prediction and confidence intervals 
regPlot(reg.out, 1, NULL)

# Can use with multiple regression for the scatter plot matrix
r &lt;- reg(Reading ~ Verbal + Absent + Income)
regPlot(r, 1, NULL, scatter_coef=TRUE)
</code></pre>

<hr>
<h2 id='Regression'>Regression Analysis</h2><span id='topic+Regression'></span><span id='topic+reg'></span><span id='topic+reg_brief'></span>

<h3>Description</h3>

<p>Abbreviation: <code>reg</code>, <code>reg_brief</code>
</p>
<p>Provides a regression analysis with extensive output, including graphics, from a single, simple function call with many default settings, each of which can be re-specified. The computations are obtained from the <code>R</code> function <code><a href="stats.html#topic+lm">lm</a></code> and related <code>R</code> regression functions. The outputs of these functions are re-arranged and collated.
</p>
<p>By default the data exists as a data frame with the default name of <code>d</code>, or specify explicitly with the <code>data</code> option.  Specify the model in the function call as an R <code><a href="stats.html#topic+formula">formula</a></code>, that is, for a basic model, the response variable followed by a tilde, followed by the list of predictor variables, each pair separated by a plus sign, such as <code>reg(Y ~ X1 + X2)</code>.
</p>
<p>Output is generated into distinct segments by topic, organized and displayed in sequence by default. When the output is assigned to an object, such as <code>r</code> in <code>r &lt;- reg(Y ~ X)</code>, the full or partial output can be accessed for later analysis and/or viewing. A primary such analysis is with <code>knitr</code> for dynamic report generation, run from R directly or from within <code>RStudio</code>. The input instructions to <code>knitr</code> are written comments and interpretation with embedded <code>R</code> code, called R~Markdown. Doing a <code>knitr</code> analysis is to &quot;knit&quot; these comments and subsequent output together so that the <code>R</code> output is embedded in the resulting document &ndash; either html, pdf or Word &ndash; by default with explanation and interpretation. Generate a complete R~Markdown file with filetype (<code>.Rmd</code>) from the <code>Rmd</code> option. Simply specify the option with a file name in quotes, then run the Regression analysis to create the markdown file. Open the newly created <code>.Rmd</code> file in <code>RStudio</code> and click the <code>knit</code> button to create a formatted document that consists of the statistical results plus interpretative comments. See the sections <code>arguments</code>, <code>value</code> and <code>examples</code> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Regression(my_formula, data=d, rows=NULL,
         digits_d=NULL, n_cat=getOption("n_cat"),

         Rmd=NULL, Rmd_browser=TRUE, 
         Rmd_format=c("html", "word", "pdf", "odt", "none"),
         Rmd_data=NULL, Rmd_custom=NULL, Rmd_dir=path.expand("~/reg"),
         Rmd_labels=FALSE,
         results=getOption("results"), explain=getOption("explain"),
         interpret=getOption("interpret"), code=getOption("code"), 

         text_width=120, brief=getOption("brief"), show_R=FALSE,
         plot_errors,

         n_res_rows=NULL, res_sort=c("cooks","rstudent","dffits","off"),
         n_pred_rows=NULL, pred_sort=c("predint", "off"),
         subsets=NULL, best_sub=c("adjr2", "Cp"), cooks_cut=1,

         scatter_coef=TRUE, mod=NULL, mod_transf=c("center", "z", "none"), 

         X1_new=NULL, X2_new=NULL, X3_new=NULL, X4_new=NULL,
         X5_new=NULL, X6_new=NULL,

         kfold=0, seed=NULL,
         new_scale=c("none", "z", "center", "0to1", "robust"),
         scale_response=FALSE,

         quiet=getOption("quiet"),
         graphics=TRUE, pdf=FALSE, width=6.5, height=6.5, refs=FALSE,
         fun_call=NULL, ...)

reg(...)
reg_brief(..., brief=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Regression_+3A_my_formula">my_formula</code></td>
<td>
<p>Standard R <code><a href="stats.html#topic+formula">formula</a></code> for specifying a model.  For
example, for a response variable named Y and two predictor variables, X1 and
X2, specify the corresponding linear model as Y ~ X1 + X2.</p>
</td></tr>
<tr><td><code id="Regression_+3A_data">data</code></td>
<td>
<p>The default name of the data frame that contains the data for analysis
is <code>d</code>, otherwise explicitly specify. If knitting and rendering the
generated R~Markdown for an interpretative output as specified by the
<code>Rmd</code> parameter, then this data frame must first be read by the
<code>lessR</code> function <code><a href="#topic+Read">Read</a></code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr>
<tr><td><code id="Regression_+3A_digits_d">digits_d</code></td>
<td>
<p>For the Basic Analysis, it provides the number of decimal digits,
set by default to at least 2 or the largest number of digits in the values
of the response variable plus 1.</p>
</td></tr> 
<tr><td><code id="Regression_+3A_n_cat">n_cat</code></td>
<td>
<p>Number of categories, specifies the largest number of
unique, equally spaced integer values of a variable for which
the variable will be analyzed as categorical instead of continuous.
Default is 0. Use to specify that such variables are to be analyzed
as categorical, a kind of informal R factor.
<em>[deprecate]</em>: Best to convert a categorical integer variable
to a factor.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_rmd">Rmd</code></td>
<td>
<p>File name for the automatically generated R Markdown file, if specified.
The file type is .Rmd, a simple text file that can be edited with
any text editor, including RStudio to generate custom output.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rmd_browser">Rmd_browser</code></td>
<td>
<p>If <code>html</code> format for Rmd rendering, then automatically
open output in a browser.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rmd_format">Rmd_format</code></td>
<td>
<p>Format of one or more rendered R Markdown file formats,
expressed in any
combination of uppercase and lowercase letters. Default is <code>"html"</code>,
with a browser view automatic, or <code>"word"</code>, <code>"odt"</code>, 
<code>"pdf"</code> (if LaTeX is available), or <code>"none"</code>.
Requires <code>pandoc</code> installed, such as from <code>RStudio</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rmd_data">Rmd_data</code></td>
<td>
<p>The default file reference
of the data file when running the generated
R Markdown file is the last data file as read by <code><a href="#topic+Read">Read</a></code> 
(with the unabbreviated version of the function name). To refer
to a different file to read
specify the path name or web URL of the file.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rmd_custom">Rmd_custom</code></td>
<td>
<p>Vector of input text sections in the Rmd file for which
to convert.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rmd_dir">Rmd_dir</code></td>
<td>
<p>Directory where custom input text files are located
for the <code>Rmd</code> option.</p>
</td></tr>
<tr><td><code id="Regression_+3A_rmd_labels">Rmd_labels</code></td>
<td>
<p>Label each section of the markdown output according to the
name of its input file.</p>
</td></tr>
<tr><td><code id="Regression_+3A_results">results</code></td>
<td>
<p>By default TRUE. If set to <code>FALSE</code> the results
are not provided in the R Markdown document, relying upon the interpretations.
Can set globally with <code>style(results=FALSE)</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_explain">explain</code></td>
<td>
<p>By default TRUE. If set to <code>FALSE</code> the explanations are not
provided in the R Markdown document. Can set globally with
<code>style(explain=FALSE)</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_interpret">interpret</code></td>
<td>
<p>By default TRUE. If set to <code>FALSE</code> the interpretations
of the results are not provided in the R Markdown document.  Can set globally
with <code>style(interpret=FALSE)</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_code">code</code></td>
<td>
<p>By default TRUE. If set to <code>FALSE</code> the R code that generates the
results is not provided in the R Markdown file. Can set globally
with <code>style(code=FALSE)</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_text_width">text_width</code></td>
<td>
<p>Width of the text output at the console.</p>
</td></tr>
<tr><td><code id="Regression_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Regression_+3A_show_r">show_R</code></td>
<td>
<p>Display the R instructions that yielded the <code>lessR</code> output,
albeit without the additional formatting of the results such as combining
output of different functions into a table.</p>
</td></tr>
<tr><td><code id="Regression_+3A_plot_errors">plot_errors</code></td>
<td>
<p>For a one-predictor model, plot the line segment that
joins each point to the regression line, illustrating the size of the
residuals.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_n_res_rows">n_res_rows</code></td>
<td>
<p>Default is 20, which lists the first 20 rows of data sorted by the
specified sort criterion.  To disable residuals, specify a value of 0.  To view
the output for all observations, specify a value of <code>"all"</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_res_sort">res_sort</code></td>
<td>
<p>Default is <code>"cooks"</code>, for specifying Cook's distance as the
sort criterion for the display of the rows of data and associated residuals.
Other values are <code>"rstudent"</code> for externally Studentized residuals,
<code>"dffits"</code> for dffits and <code>"off"</code> to not sort the rows of data.</p>
</td></tr>
<tr><td><code id="Regression_+3A_n_pred_rows">n_pred_rows</code></td>
<td>
<p>Default is 3, which lists prediction intervals only for the
first, middle and last 3 rows of data, unless there are 25 or less
rows of data when all rows are displayed.  To disable prediction intervals,
specify a value of 0.  To see the output for rows of data, specify a value of
<code>"all"</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_pred_sort">pred_sort</code></td>
<td>
<p>Default is <code>"predint"</code>, which sorts the rows of data
and associated intervals by the lower bound of each prediction interval.
Turn off this sort by specifying a value of <code>"off"</code>.</p>
</td></tr>
<tr><td><code id="Regression_+3A_subsets">subsets</code></td>
<td>
<p>Default is to produce the analysis of the fit based on
adjusted R-squared for all possible model subsets of size 10 for
each number of predictors, from the <code>leaps</code> package. Set to
<code>FALSE</code> to turn off. Defaults lists a maximum of the first 50 values.
Specify an integer to change the maximum.</p>
</td></tr>
<tr><td><code id="Regression_+3A_best_sub">best_sub</code></td>
<td>
<p>Criterion for selecting best subsets of predictor variables,
with default of <code>"adjr2"</code> or choose Mallow's <code>"Cp"</code> statistic.</p>
</td></tr>
<tr><td><code id="Regression_+3A_cooks_cut">cooks_cut</code></td>
<td>
<p>Cutoff value of Cook's Distance at which observations with a
larger value are flagged in red and labeled in the resulting scatterplot
of Residuals and Fitted Values. Default value is 1.0.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_scatter_coef">scatter_coef</code></td>
<td>
<p>Display the correlation coefficients in the upper triangle
of the scatterplot matrix.</p>
</td></tr>
<tr><td><code id="Regression_+3A_mod">mod</code></td>
<td>
<p>Declare one continuous (numeric) predictor variable a
moderator variable in a two predictor model.</p>
</td></tr>
<tr><td><code id="Regression_+3A_mod_transf">mod_transf</code></td>
<td>
<p>Applies when <code>mod</code> specified, rescales the
predictor variables, with default <code>"center"</code>, and options of
<code>"z"</code> for standardize and <code>"none"</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_x1_new">X1_new</code></td>
<td>
<p>Values of the first listed numeric predictor variable for
which forecasted values
and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Regression_+3A_x2_new">X2_new</code></td>
<td>
<p>Values of the second listed numeric predictor variable for
which forecasted values
and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Regression_+3A_x3_new">X3_new</code></td>
<td>
<p>Values of the third listed numeric predictor variable for
which forecasted values
and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Regression_+3A_x4_new">X4_new</code></td>
<td>
<p>Values of the fourth listed numeric predictor variable for
which forecasted values
and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Regression_+3A_x5_new">X5_new</code></td>
<td>
<p>Values of the fifth listed numeric predictor variable for
which forecasted values
and corresponding prediction intervals are calculated.</p>
</td></tr>
<tr><td><code id="Regression_+3A_x6_new">X6_new</code></td>
<td>
<p>Values of the sixth listed numeric predictor variable 
for which forecasted values
and corresponding prediction intervals are calculated.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_kfold">kfold</code></td>
<td>
<p>Number of K-fold cross-validations. If conducted, only the
cross-validation output shown.</p>
</td></tr>
<tr><td><code id="Regression_+3A_seed">seed</code></td>
<td>
<p>Parameter <code>kfold</code> generates random partitions, folds, of data.
Set the seed to an integer to recover the same random partitions on
subsequent runs.</p>
</td></tr>
<tr><td><code id="Regression_+3A_new_scale">new_scale</code></td>
<td>
<p>Transform numeric predictor variables with more than two
unique values to the specified metric before
conducting the analysis, <code>"z"</code>, <code>"center"</code>, <code>"0to1"</code>,
or <code>"robust"</code>. Applies to <code>kfold</code> separately to the
training and testing folds as well to avoid data leakage.</p>
</td></tr>
<tr><td><code id="Regression_+3A_scale_response">scale_response</code></td>
<td>
<p>If doing a rescale with <code>new_scale</code>, by default
do not scale the response variable, or set to <code>TRUE</code> to
rescale along with the predictor variables.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Regression_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Regression_+3A_graphics">graphics</code></td>
<td>
<p>Produce graphics. Default is <code>TRUE</code>.  In <code>knitr</code>
can be useful to set to <code>FALSE</code> so that <code><a href="#topic+regPlot">regPlot</a></code>
can be used to place the graphics within the output file.</p>
</td></tr>
<tr><td><code id="Regression_+3A_pdf">pdf</code></td>
<td>
<p>If <code>TRUE</code>, then graphics are written to pdf files.</p>
</td></tr>
<tr><td><code id="Regression_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="Regression_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="Regression_+3A_refs">refs</code></td>
<td>
<p>If <code>TRUE</code>, then list the references for R and the packages
used from which functions were used to generate the output.</p>
</td></tr>
<tr><td><code id="Regression_+3A_fun_call">fun_call</code></td>
<td>
<p>Function call. Used internally with <code>knitr</code> to pass the
function call when obtained from the abbreviated function call <code>reg</code>.
Not usually invoked by the user.</p>
</td></tr>
<tr><td><code id="Regression_+3A_...">...</code></td>
<td>
<p>Other parameter values for R function <code><a href="stats.html#topic+lm">lm</a></code> which
provides the core computations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
The purpose of <code>Regression</code> is to combine the following function calls into one, as well as provide ancillary analyses such as as graphics, organizing output into tables and sorting to assist interpretation of the output, as well as generate R Markdown to run through <code>knitr</code>, such as with <code>RStudio</code>, to provide extensive interpretative output.
</p>
<p>The basic analysis successively invokes several standard R functions beginning with the standard R function for estimation of a linear model, <code><a href="stats.html#topic+lm">lm</a></code>. The output of the analysis of <code><a href="stats.html#topic+lm">lm</a></code> is stored in the object <code>lm.out</code>, available for further analysis in the R environment upon completion of the <code>Regression</code> function. By default <code>reg</code> automatically provides the analyses from the standard R functions, <code><a href="base.html#topic+summary">summary</a></code>, <code><a href="stats.html#topic+confint">confint</a></code> and <code><a href="stats.html#topic+anova">anova</a></code>, with some of the standard output modified and enhanced. The correlation matrix of the model variables is obtained with <code><a href="stats.html#topic+cor">cor</a></code> function. The residual analysis invokes <code><a href="stats.html#topic+fitted">fitted</a></code>, <code><a href="stats.html#topic+resid">resid</a></code>, <code><a href="stats.html#topic+rstudent">rstudent</a></code>, and <code><a href="stats.html#topic+cooks.distance">cooks.distance</a></code> functions.  The option for prediction intervals calls the standard R function <code><a href="stats.html#topic+predict">predict</a></code>, once with the argument <code>interval="confidence"</code> and once with <code>interval="prediction"</code>. The <code>lessR</code> <code><a href="#topic+Density">Density</a></code> function provides the histogram and density plots for the residuals and the <code><a href="#topic+ScatterPlot">ScatterPlot</a></code> function provides the scatter plots of the residuals with the fitted values and of the data for the one-predictor model. The <code>pairs</code> function provides the scatterplot matrix of all the variables in the model. Thomas Lumley's <code>leaps</code> package contains the <code>leaps</code> function that provides the analysis of the fit of all possible model subsets.
</p>
<p>INPUT DATA FRAME<br />
The name <code>d</code> is by default provided by the <code><a href="#topic+Read">Read</a></code> function included in this package for reading and displaying information about the data in preparation for analysis. If all the variables in the model are not in the same data frame, the analysis will not complete.  Specify the name of the data frame for analysis with the <code>data</code> option if the name is not the default <code>d</code>.
</p>
<p>The <code>rows</code> parameter subsets rows (cases) of the input data frame according to a logical expression. Use the standard R operators for logical statements as described in <code><a href="methods.html#topic+Logic">Logic</a></code> such as <code>&amp;</code> for and, <code>|</code> for or and <code>!</code> for not, and use the standard R relational operators as described in <code><a href="base.html#topic+Comparison">Comparison</a></code> such as <code>==</code> for logical equality <code>!=</code> for not equals, and <code>&gt;</code> for greater than. See the Examples.
</p>
<p>TEXT OUTPUT<br />
The output is produced in pieces by topic (see <code>values</code> below), automatically collated by default in the final output. But the pieces are available for later reference if the output of the function is directed toward an object, such as <code>r</code> in <code>r &lt;- reg(Y ~ X)</code>. This is especially useful if the pieces are accessed within <code>knitr</code> or individual pieces are displayed at the console.
</p>
<p>The text output is organized to provide the most relevant information while at the same time minimizing the total amount of output, particularly for analyses with large numbers of observations (rows of data), the display of which is by default restricted to only the most interesting or representative observations in the analyses of the residuals and predicted values. Additional economy can be obtained by invoking the <code>brief=TRUE</code> option, or run <code>reg_brief</code>, which limits the analysis to just the basic analysis of the estimated coefficients and fit, and if <code>X1_new</code>, etc. are requested, the relevant rows of forecasted values:w
.
</p>
<p>R MARKDOWN<br />
An R~Markdown file ready for knitting and rendering into one of several formats can be obtained by specifying a value for <code>Rmd</code>. For the specified file name, the directory to which the file is written is displayed on the console text output, and the file type <code>.Rmd</code> is automatically appended to the specified name if it is not included in the specification. 
</p>
<p>To access the same data file for the regression analysis from running <code>Regression</code> from the R console, and that accomplished by knitting the generated R~Markdown, first read the data into R with the lessR <code><a href="#topic+Read">Read</a></code> function. That function stores the name of the last data file read so that it can be accessed via R as the markdown is knit and then rendered into the specified format. The default rendering is to <code>HTML</code>, but other formats can be specified with <code>Rmd_format</code>. 
</p>
<p>The output from <code>Rmd</code> is conceptually partitioned into five parts:  results, explanations of the results, interpretations of the results, documentation o the code, and the code itself. By default all available output is generated but the flags <code>results</code>, <code>explain</code>, <code>interpret</code>, <code>document</code>, <code>code</code> can be set to <code>FALSE</code> to reduce the output. The options can be specified in a specific function all or set globally, such as with <code>options(explain=FALSE)</code>. Turning off all five flags leaves just the outline of the potential output and a bare minimum of results.
</p>
<p>Both any existing variable labels and variable units are included in the output to the R~Markdown file. Any variable units set as a dollar, are set as USD dollars and cents in the output, displayed with a dollar sign.
</p>
<p>The default analysis provides as text output to the console the model's parameter estimates and corresponding hypothesis tests and confidence intervals, goodness of fit indices, the ANOVA table, correlation matrix of the model's variables, analysis of residuals and influence as well as the confidence and prediction intervals for each observation in the model. Also provided, for multiple regression models, collinearity analysis of the predictor variables and adjusted R-squared for the corresponding models defined by each possible subset of the predictor variables.
</p>
<p>The Markdown is produced from input files, one for each section of the rendered document. Find the default files and their names at:\
<code>system.file("Rmd/reg/", package="lessR")</code>\
The <code>Rmd_dir</code> option specifies a location for custom input files. The <code>Rmd_custom</code> parameter specifies which default files should be replaced by custom files, anywhere from any one of them to all eight. 
</p>
<p>DECIMAL DIGITS<br />
The number of decimal digits displayed on the output is, by default, the maximum number of decimal digits for all the data values of the response variable. Or, this value can be explicitly specified with the <code>digits_d</code> parameter.
</p>
<p>Visualizations<br />
Three default graphs are provided. When running <code>R</code> by itself, by default the graphs are written to separate graphics windows (which may overlap each other completely, in which case move the top graphics windows). Or, the <code>pdf</code> option may be invoked to save the graphs to a single pdf file called <code>regOut.pdf</code>. Within <code>RStudio</code> the graphs are successively written to the <code>Plots</code> window. Within <code>knitr</code> from <code>RStudio</code> the graphics will all appear by default at the beginning of the output. Or set to <code>graphics=FALSE</code>, and generate them individually with the accompanying function <code><a href="#topic+regPlot">regPlot</a></code> at the desired location within the file.
</p>
<p>1. A histogram of the residuals includes the superimposed normal and general density plots from the <code><a href="#topic+Density">Density</a></code> function included in this <code>lessR</code> package.  The overlapping density plots, which both overlap the histogram, are filled with semi-transparent colors to enhance readability.
</p>
<p>2. A scatterplot of the residuals with the fitted values is also provided from the <code><a href="#topic+ScatterPlot">ScatterPlot</a></code> function included in this package. The point corresponding to the largest value of Cook's distance, regardless of its size, is plotted in red and labeled and the corresponding value of Cook's distance specified in the subtitle of the plot. Also by default all points with a Cook's distance value larger than 1.0 are plotted in red, a value that can be specified to any arbitrary value with the <code>cooks_cut</code> option.  This scatterplot also includes the <code><a href="stats.html#topic+lowess">lowess</a></code> curve.
</p>
<p>3. For models with a single predictor variable, a scatterplot of the data is produced, which also includes the regression line and corresponding confidence and prediction intervals. As with the density histogram plot of the residuals and the scatterplot of the fitted values and residuals, the scatterplot includes a colored background with grid lines. For multiple regression models, a scatterplot matrix of the variables in the model with the <code><a href="stats.html#topic+lowess">lowess</a></code> best-fit line of each constituent scatterplot is produced. If the <code>scatter_coef</code> option is invoked, each scatterplot in the upper-diagonal of the correlation matrix is replaced with its correlation coefficient.
</p>
<p>RESIDUAL ANALYSIS<br />
By default the residual analysis lists the data and fitted value for each observation as well as the residual, Studentized residual, Cook's distance and dffits, with the first 20 observations listed and sorted by Cook's distance.  The <code>res_sort</code> option provides for sorting by the Studentized residuals or not sorting at all.  The <code>n_res_rows</code> option provides for listing these rows of data and computed statistics statistics for any specified number of observations (rows).  To turn off the analysis of residuals, specify <code>n_res_rows=0</code>.
</p>
<p>PREDICTION INTERVALS<br />
The output for the confidence and prediction intervals includes a table with the data and fitted value for each observation, the lower and upper bounds for the confidence interval and the prediction interval, and the wide of the prediction interval.  The observations are sorted by the lower bound of each prediction interval.  If there are 25 or more observations then the information for only the first three, the middle three and the last three observations is displayed. To turn off the analysis of prediction intervals, specify <code>n_pred_rows=0</code>, which also removes the corresponding intervals from the scatterplot produced with a model with exactly one predictor variable, yielding just the scatterplot and the regression line.
</p>
<p>The data for the default analysis of the prediction intervals is for the values of the predictor variables for each observation, that is, for each row of the data. New values of the predictor variables can be specified for the calculation of the prediction intervals by providing values for the options <code>X1_new</code> for the values of the first listed predictor variable in the model, <code>X2_new</code> for the second listed predictor variable, and so forth for up to five predictor variables, and all predictor variables are numeric. To provide these values, use functions such as <code><a href="base.html#topic+seq">seq</a></code> for specifying a sequence of values and <code><a href="base.html#topic+c">c</a></code> for specifying a vector of values. For multiple regression models, all combinations of the specified new values for all of the predictor variables are analyzed.
</p>
<p>RELATIONS AMONG THE VARIABLES<br />
By default the correlation matrix of all the variables in the model is displayed, and, for multiple regression models, collinearity analysis is provided. Also provided are the first 50 models with the largest R squared adjusted from each possible model from an analysis of all possible subsets of the predictor variables.  This all subsets analysis requires the <code>leaps</code> function from the <code>leaps</code> package. These contributed packages are automatically loaded if available.  To turn off the all possible sets option, set <code>subsets=FALSE</code>.
</p>
<p>RECODE PREDICTOR VARIABLES<br />
The <code>new_scale</code> parameter provides for recoding the values of the predictor variables according to several different transformations:  <code>"z"</code>, <code>"center"</code>, <code>"0to1"</code>, or <code>"robust"</code>. The later is a robust version of classic standardization in which the mean is replaced by the median and the standard deviation by the IQR. All numeric predictor variables with more than two values are standardized. 
</p>
<p>So any numeric variable with more than two values that is a categorical variable should be first converted to an R factor. If there are some numeric predictor variables that should not be standardized, such as an interaction term with centered variables that define the interaction, then the rescaling should be done separately, such as with base~R function <code><a href="base.html#topic+scale">scale</a></code> or lessR  <code><a href="#topic+rescale">rescale</a></code>. 
</p>
<p>ANCOVA<br />
If there are two predictor variables, one categorical and one continuous, an analysis of covariance is performed. The resulting scatterplot is of the continuous response variable and predictor variable, at each level of the categorical variable. To address the unbalanced ANOVA design, the Type~II sums of squares are reported for each effect. The regression model for each level of the categorical variable are displayed.
</p>
<p>A categorical variable is defined as either an R <code>factor</code> or a non-numeric variable. If numeric and categorical, then explicitly define the categorical variable as a factor. 
</p>
<p>MODERATOR VARIABLE<br />
For two predictor models, one of the predictor variables can be entered into the analysis as a moderator variable with the <code>mod</code> parameter. By default the two predictor variables are centered, so their means become zero. Then a third variable is entered into the model, the interaction of the two centered variables, computed by multiplication of their respective values, row by row. The potential interaction is visually displayed by plotting response Y against predictor X, at three different values of continuous W: the mean and 1 standard deviation above and below the mean.
</p>
<p>For predictor variable, X, second predictor as a potential moderator, W, and response Y, enter the following R input.<br />
<code>reg(Y ~ X + W, mod=W)</code><br />
From this, with now centered variables X and Y, the following multiple regression model is automatically defined.<br />
<code>Y^ = b0 + bx(X) + bw(W) + bxw(XW)</code><br />
From that model, the functions sets the moderator variable W to each of the three constant values, <code>Wc</code>, and solves for the given value <code>Wc</code> to visually plot the potential interaction. 
</p>
<p>INVOKED R OPTIONS<br />
The <code><a href="base.html#topic+options">options</a></code> function is called to turn off the stars for different significance levels (show.signif.stars=FALSE), to turn off scientific notation for the output (scipen=30), and to set the width of the text output at the console to 120 characters. The later option can be re-specified with the <code>text_width</code> option.  After <code>Regression</code> is finished with a normal termination, the options are re-set to their values before the <code>Regression</code> function began executing.
</p>
<p>COLOR THEME<br />
A color theme for all the colors can be chosen for a specific plot with the <code>colors</code> option. Or, the color theme can be changed for all subsequent graphical analysis with the <code>lessR</code> function <code><a href="#topic+style">style</a></code>. The default color theme is <code>lightbronze</code>, but a gray scale is available by removing the bronze background, such as with <code>style(window_fill="white")</code> or with <code>"gray"</code>. Other themes are available as explained in <code><a href="#topic+style">style</a></code>.
</p>
<p>VARIABLE LABELS<br />
If variable labels exist, then the corresponding variable label is by default listed as the label for the horizontal axis and on the text output. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>


<h3>Value</h3>

<p>The output can optionally be returned and saved into an <code>R</code> object, otherwise it simply appears at the console. The components of this object are redesigned in <code>lessR</code> version 3.3 into (a) pieces of text that form the readable output and (b) a variety of statistics. The readable output are character strings such as tables amenable for viewing and interpretation. The statistics are numerical values amenable for further analysis, such as to be referenced in a subsequent <code>knitr</code> document. The motivation of these two types of output is to facilitate <code>knitr</code> documents, as the name of each piece, preceded by the name of the saved object followed by a dollar sign, can be inserted into the <code>knitr</code> document (see <code>examples</code>).
</p>
<p>TEXT OUTPUT<br />
<code>out_background</code>: variables in the model, rows of data and retained<br />
<code>out_estimates</code>: estimated coefficients, hypothesis tests and confidence intervals<br />
<code>out_fit</code>: fit indices; st dev of residuals; R-sq with adj and PRESS versions<br />
<code>out_anova</code>: analysis of variance<br />
<code>out_cor</code>: correlations among all variables in the model<br />
<code>out_collinear</code>: collinearity analysis<br />
<code>out_subsets</code>: R squared adjusted for all (or many) possible subsets<br />
<code>out_residuals</code>: residuals<br />
<code>out_predict</code>: analysis of residuals and influence<br />
<code>out_ref</code>: references if selected on the <code>Regression</code> function call<br />
<code>out_Rmd</code>: lists the name and location of the generated <code>Rmd</code> file<br />
<code>out_plots</code>: list of plots generated if more than one<br />
<code>out_suggest</code>: list of suggested other analyses<br />
</p>
<p>Separated from the rest of the text output are the major headings, which can be not included with custom collations of the output.
<code>out_title_bck</code>: BACKGROUND<br />
<code>out_title_basic</code>: BASIC ANALYSIS<br />
<code>out_title_rel</code>: RELATIONS AMONG THE VARIABLES<br />
<code>out_title_res</code>: ANALYSIS OF RESIDUALS AND INFLUENCE<br />
<code>out_title_pred</code>: FORECASTING ERROR<br />
</p>
<p>STATISTICS<br />
<code>call</code>: function call that generated the analysis<br />
<code>formula</code>: model formula that specifies the model<br />
<code>vars</code>: vector of variable names in the model<br />
<code>n.vars</code>: number of variables in the model<br />
<code>n.obs</code>: number of rows of data submitted for analysis<br />
<code>n.keep</code>: number of rows of data retained in the analysis<br />
<code>coefficients</code>: estimated regression coefficients<br />
<code>sterrs</code>: standard errors of the estimated coefficients<br />
<code>tvalues</code>: t-values of the estimated coefficients for null of 0<br />
<code>pvalues</code>: p-values from the t-tests of the estimated coefficients<br />
<code>cilb</code>: lower bound of 95% confidence interval of estimate<br />
<code>ciub</code>: upper bound of 95% confidence interval of estimate <br />
<code>anova_model</code>: model df, ss, ms, F-value and p-value<br />
<code>anova_residual</code>: residual df, ss and ms<br />
<code>anova_total</code>: total df, ss and ms<br />
<code>se</code>: standard deviation of the residuals<br />
<code>resid_range</code>: 95% range of normally distributed fitted residuals<br />
<code>Rsq</code>: R-squared<br />
<code>Rsqadj</code>: adjusted R-squared<br />
<code>PRESS</code>: PRESS sum of squares<br />
<code>RsqPRESS</code>: PRESS R-squared<br />
<code>m_se</code>: K-fold average of the standard deviation of residuals.
<code>m_MSE</code>: K-fold average of the MSE.
<code>m_Rsq</code>: K-fold average of R-squared.
<code>cor</code>: correlation matrix of all variables in the model<br />
<code>tolerances</code>: tolerance of each predictor variable for collinearity analysis<br />
<code>VIF</code>: variance inflation factor for each predictor variable<br />
<code>resid.max</code>: five largest values of the residuals on which the output is sorted<br />
<code>pred_min_max</code>: Rows with the smallest and largest prediction intervals<br />
<code>residuals</code>: residuals<br />
<code>fitted</code>: fitted values<br />
<code>cooks.distance</code>: Cook's distance<br />
<code>model</code>: data retained for the analysis<br />
<code>terms</code>: terms specified for the analysis<br />
</p>
<p>Although not typically needed for analysis, if the regression output is assigned to an object named, for example, <code>r</code>, then the complete contents of the object can be viewed directly with the <code><a href="base.html#topic+unclass">unclass</a></code> function, here as <code>unclass(r)</code>. Invoking the <code><a href="base.html#topic+class">class</a></code> function on the saved object reveals a class of <code>out_all</code>. The class of each of the text pieces of output is <code>out</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Lumley, T., <code>leaps</code> function from the <code>leaps</code> package.<br />
</p>
<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapters 11-13, NY: Routledge.
</p>
<p>Gerbing, D. W. (2021). Enhancement of the Command-Line Environment for use in the Introductory Statistics Course and Beyond, <em>Journal of Statistics and Data Science Education</em>, 29(3), 251-266, https://www.tandfonline.com/doi/abs/10.1080/26939169.2021.1999871. 
</p>
<p>Xie, Y. (2013). Dynamic Documents with R and knitr, Chapman &amp; Hall/CRC The R Series.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+formula">formula</a></code>, <code><a href="stats.html#topic+lm">lm</a></code>, <code><a href="stats.html#topic+summary.lm">summary.lm</a></code>, <code><a href="stats.html#topic+anova">anova</a></code>, <code><a href="stats.html#topic+confint">confint</a></code>, <code><a href="stats.html#topic+fitted">fitted</a></code>, <code><a href="stats.html#topic+resid">resid</a></code>, <code><a href="stats.html#topic+rstudent">rstudent</a></code>, <code><a href="stats.html#topic+cooks.distance">cooks.distance</a></code>, <code><a href="#topic+Nest">Nest</a></code>, <code><a href="#topic+regPlot">regPlot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read internal data set
d &lt;- rd("Reading", quiet=TRUE)
# do not need all this data, so take only 30% to reduce CPU time
d &lt;- Subset(random=.3)

# one-predictor regression
# Provide all default analyses including scatterplot etc.
# Can abbreviate Regression with reg
Regression(Reading ~ Verbal)
# Provide only the brief analysis on standardized variables
#  with 3-fold cross-validations
reg_brief(Reading ~ Verbal, new_scale="z", kfold=3)

# Access the pieces of output, here in an object named \code{r}
r &lt;- reg(Reading ~ Verbal + Absent + Income)
# Display all output at the console in the standard sequence
r
# list the names of all the saved components
names(r)
# Display just the estimated coefficients and their inferential analysis
r$out_estimates



# Generate an R markdown file with the option: Rmd
# Output file here will be read.Rmd, a simple text file that can
#   be edited with any text editor including RStudio from which it
#   can be knit to generate dynamic output to a Word document,
#   pdf file or html file, as well as automatically rendered
# Here knit into an html file, but do not display
#reg(Reading ~ Verbal + Absent, Rmd="read", Rmd_browser=FALSE)

# generate interpretative R markdown file and render Word and odt
#reg(Reading ~ Verbal + Absent, Rmd="eg", Rmd_format=c("word", "odt"))

# just for incomes &gt; 100000 and less than 5 days absent 
Regression(Reading ~ Verbal, rows=(Income &gt; 100 &amp; Absent &lt; 5))

# standardize
Regression(Reading ~ Verbal, new_scale="z")


# Multiple regression model
# Save the three output plots as pdf files 4 inches square
#Regression(Reading ~ Verbal + Absent + Income, pdf=TRUE,
#   width=4, height=4)

# Compare nested models
# Reduced model:  Reading ~ Verbal
# Full model:  Reading ~ Verbal + Income + Absent
Nest(Reading, Verbal, c(Income, Absent))


# Specify new values of the predictor variables to calculate
#  forecasted values and the corresponding prediction intervals
# Specify an input data frame other than d, see help(mtcars)
Regression(mpg ~ hp + wt, data=mtcars,
  X1_new=seq(50,350,50), X2_new=c(2,3))

# Indicator (dummy) variable
#d &lt;- Read("Employee", quiet=TRUE)
#reg(Salary ~ Dept)
</code></pre>

<hr>
<h2 id='rename'>Rename One or More Variables in a Data Frame</h2><span id='topic+rename'></span>

<h3>Description</h3>

<p><code>rename</code> renames a single variable or a vector of variables in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename(data, from, to)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rename_+3A_data">data</code></td>
<td>
<p>Data frame that contains the relevant variables.</p>
</td></tr>
<tr><td><code id="rename_+3A_from">from</code></td>
<td>
<p>One or more variables to rename.</p>
</td></tr>
<tr><td><code id="rename_+3A_to">to</code></td>
<td>
<p>Corresponding list of new variable names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assign the result to the data frame of interest, which can be the same data frame that contains the variables to rename.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+recode">recode</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
d &lt;- Read("Mach4", quiet=TRUE)
names(d)

# single name change
d &lt;- rename(d, m03, third)
names(d)

# vector of name changes
d &lt;- rename(d, c(m01, m19), c(first, nineteen))
names(d)

</code></pre>

<hr>
<h2 id='rescale'>Rescale a Variable</h2><span id='topic+rescale'></span>

<h3>Description</h3>

<p>Rescale a variable to either z-scores with a mean of 0 and standard deviation of 1, normalized with a minimum of 0 and a maximum of 1, or to a variable computed like a z-score except use the median in place of the mean and the IQR in place of the standard deviation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rescale(x, data=d, kind="z", digits_d=3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rescale_+3A_x">x</code></td>
<td>
<p>Variable to rescale.</p>
</td></tr>
<tr><td><code id="rescale_+3A_data">data</code></td>
<td>
<p>Data frame that contains <code>x</code>.</p>
</td></tr>
<tr><td><code id="rescale_+3A_kind">kind</code></td>
<td>
<p>Type of rescaling.</p>
</td></tr>
<tr><td><code id="rescale_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of significant digits.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The default rescaling is standardization to z-scores, explicit with <code>kind</code> set to <code>"z"</code>, or just centering about the mean with <code>"center"</code>. For the min-max normalization to a range from 0 to 1, set <code>kind</code> to <code>"0to1"</code>. For the robust equivalent of standardization, set <code>kind</code> to <code>"robust"</code>. 
</p>
<p>If <code>x</code> is a vector in the global environment, then set <code>data</code> to <code>NULL</code>.
</p>


<h3>Value</h3>

<p>The rescaled data.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+scale">scale</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# z-score for m01 
d &lt;- Read("Employee")

d[, .("Salary")] 
x &lt;- rescale(Salary)
x
</code></pre>

<hr>
<h2 id='reshape_long'>Reshape a Wide-Form Data Frame to Long-Form</h2><span id='topic+reshape_long'></span>

<h3>Description</h3>

<p>A simple wrapper for Base R <code><a href="stats.html#topic+reshape">reshape</a></code> with sensible parameter names and sensible defaults, and able to specify a range of variables to transform.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reshape_long(data, transform, group="Group", response="Response", ID="ID",
           prefix=ID, sep="")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reshape_long_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variables to reshape.</p>
</td></tr>
<tr><td><code id="reshape_long_+3A_transform">transform</code></td>
<td>
<p>The wide-form column variable names to transform to a
long-form single column.</p>
</td></tr>
<tr><td><code id="reshape_long_+3A_group">group</code></td>
<td>
<p>Name of the grouping variable in the new
long-form column.</p>
</td></tr>
<tr><td><code id="reshape_long_+3A_response">response</code></td>
<td>
<p>Name of the variable of the response values in the new
long-form column.</p>
</td></tr>
<tr><td><code id="reshape_long_+3A_id">ID</code></td>
<td>
<p>Name of the newly created ID field in the new long-form
column, the original row number from the wide-form. If <code>NULL</code>,
the default value, then not created.</p>
</td></tr>
<tr><td><code id="reshape_long_+3A_prefix">prefix</code></td>
<td>
<p>The prefix added to the value of ID for each row of data.</p>
</td></tr>
<tr><td><code id="reshape_long_+3A_sep">sep</code></td>
<td>
<p>Any potential separator of the ID prefix from the given value
of the ID.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>reshape_long</code> takes the <code>transform</code> variables in the wide-form from
which it creates three new columns, <code>group</code>, <code>response</code>, and <code>ID</code>.
</p>
<p>The correspondence between the original  <code><a href="stats.html#topic+reshape">reshape</a></code> parameter names and the <code>reshape_long</code> parameter names is shown in the following table.
</p>

<table>
<tr>
 <td style="text-align: left;">
reshape </td><td style="text-align: left;"> reshape_long</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>varying</code> </td><td style="text-align: left;"> <code>transform</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>v.names</code> </td><td style="text-align: left;"> <code>response</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>timevar</code> </td><td style="text-align: left;"> <code>group</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>times</code> </td><td style="text-align: left;"> <code>transform</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>idvar</code> </td><td style="text-align: left;"> <code>ID</code></td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+reshape">reshape</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_rb")

# with the default variable names in the long-form
reshape_long(d, c("sup1", "sup2", "sup3", "sup4"))

# with a variable range and custom variable names in the long-form
reshape_long(d, sup1:sup4, group="Supplement", response="Reps", ID="Person")
</code></pre>

<hr>
<h2 id='reshape_wide'>Reshape a Wide-Form Data Frame to Wide-Form</h2><span id='topic+reshape_wide'></span>

<h3>Description</h3>

<p>A simple wrapper for Base R <code><a href="stats.html#topic+reshape">reshape</a></code> with sensible parameter names and sensible defaults, and able to specify a range of variables to transform.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reshape_wide(data, group, response, ID, prefix=NULL, sep="_")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="reshape_wide_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variables to analyze
wide-form single column.</p>
</td></tr>
<tr><td><code id="reshape_wide_+3A_group">group</code></td>
<td>
<p>Name of the grouping variable in the input long-form column.</p>
</td></tr>
<tr><td><code id="reshape_wide_+3A_response">response</code></td>
<td>
<p>Name of the variable of the response values in the input
long-form column.</p>
</td></tr>
<tr><td><code id="reshape_wide_+3A_id">ID</code></td>
<td>
<p>Name of the ID field in the long-form column.</p>
</td></tr>
<tr><td><code id="reshape_wide_+3A_prefix">prefix</code></td>
<td>
<p>If <code>TRUE</code>, prefix the column names in the wide form
of each corresponding level of the  
<code>group</code> variable with the name of the <code>response</code>. Unless
the values of <code>group</code> are numeric, the default is <code>FALSE</code>,
just using the level names as the column names.</p>
</td></tr>
<tr><td><code id="reshape_wide_+3A_sep">sep</code></td>
<td>
<p>If <code>prefix</code> is <code>TRUE</code>, the separator between the
name of the level and the name of the <code>response</code> variable, with
default <code>"_"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>reshape_wide</code> takes the variables in the long-form  <code>group</code>, <code>response</code>, and <code>ID</code> and transforms to wide form.
</p>
<p>Here is the correspondence between the original <code><a href="stats.html#topic+reshape">reshape</a></code> parameter names and the <code>reshape_wide</code> parameter names.
</p>

<table>
<tr>
 <td style="text-align: left;">
reshape </td><td style="text-align: left;"> reshape_wide</td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
<code>v.names</code> </td><td style="text-align: left;"> <code>response</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>timevar</code> </td><td style="text-align: left;"> <code>group</code></td>
</tr>
<tr>
 <td style="text-align: left;">
<code>idvar</code> </td><td style="text-align: left;"> <code>ID</code></td>
</tr>
<tr>
 <td style="text-align: left;">
----------- </td><td style="text-align: left;"> ----------------</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+reshape">reshape</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Anova_rb")  # already in wide-form
dl &lt;- reshape_long(d, sup1:sup4)  # convert to long-form

# convert back to wide form 
reshape_wide(dl, group="Group", response="Response", ID="Person")

# with the name of the response prefixed to the column names
reshape_wide(dl, group="Group", response="Response", ID="Person",
             prefix=TRUE, sep=".")
</code></pre>

<hr>
<h2 id='see'>View the Upper and Left Corners of a Data Frame</h2><span id='topic+see'></span>

<h3>Description</h3>

<p>Useful for large data frame. View the top-left corner of the specified data frame and the bottom-right corner of the data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>see(data, n_row=min(nrow(data), 5), n_col=min(ncol(data), 8))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="see_+3A_data">data</code></td>
<td>
<p>Name of the data frame to view.</p>
</td></tr>
<tr><td><code id="see_+3A_n_row">n_row</code></td>
<td>
<p>Number of rows to view.</p>
</td></tr>
<tr><td><code id="see_+3A_n_col">n_col</code></td>
<td>
<p>Number of columns to view.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the specified number of rows and columns, just view the subset of the data frame in terms of the top-left and the bottom-right.
</p>


<h3>Value</h3>

<p>The subset data frame.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Extract">Extract</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Employee", quiet=TRUE)

# view the default top-left and bottom-right four rows and eight columns
see(d)

# view the top-left two rows and bottom-right four columns
see(d, n_row=2, n_col=2)
</code></pre>

<hr>
<h2 id='showColors'>Display All Named R Colors and Corresponding rgb Values</h2><span id='topic+showColors'></span>

<h3>Description</h3>

<p>For each specified color, displays the color, the name and the associated <code>rgb</code> definition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showColors(file="colors.pdf", color=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showColors_+3A_file">file</code></td>
<td>
<p>Name of pdf file that contains the list of colors with a default of <code>colors.pdf</code>.</p>
</td></tr>
<tr><td><code id="showColors_+3A_color">color</code></td>
<td>
<p>NULL for all colors, otherwise specify a color and all colors which include that color as part of their name are displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Every color name is defined in terms of a red, a green and a blue component. This function lists the <code>rgb</code> definitions for the specified colors, as well as the name and a display of each color_ The output should be routed to an external pdf file for storage. The directory and file name of the output file are displayed.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># all colors
#showColors()

# all colors with 'blue' in their name
#showColors(file="theblues.pdf", color="blue")
</code></pre>

<hr>
<h2 id='showPalettes'>Display Color Palettes</h2><span id='topic+showPalettes'></span>

<h3>Description</h3>

<p>For each specified set of palettes display each in the set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>showPalettes(palette="hcl", n=12, border="transparent", file=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="showPalettes_+3A_palette">palette</code></td>
<td>
<p>Name of the palette.</p>
</td></tr>
<tr><td><code id="showPalettes_+3A_n">n</code></td>
<td>
<p>Number of colors per palette with a default of 12.</p>
</td></tr>
<tr><td><code id="showPalettes_+3A_border">border</code></td>
<td>
<p>Border between intervals. By default is off.</p>
</td></tr>
<tr><td><code id="showPalettes_+3A_file">file</code></td>
<td>
<p>Name of pdf file that contains the list of colors with a default of the name of the palette. Default is name of palette with a <code>.pdf</code> filetype.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Available palettes are <code>"hcl"</code> for sequential palettes for each of 12 hues across the hcl color wheel in 30 degree intervals plus the qualitative scale of different hues and grayscale, <code>"viridis"</code>, and <code>"wesanderson"</code>.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># all hcl palettes based on each  hue from 30 degrees of the color wheel,
#   including "colors" and "grays"
# default is 12 colors per palette
#showPalettes()

# viridis palate, simulate continuity
#showPalettes("viridis", n=500, border="off")</code></pre>

<hr>
<h2 id='simCImean'>Pedagogical Simulation for the Confidence Interval of the Mean</h2><span id='topic+simCImean'></span>

<h3>Description</h3>

<p>Show a sequence of confidence intervals, all calculated from repeated samples of simulated data from the same normal population, and show which intervals contain the true population mean.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simCImean(ns, n, mu=0, sigma=1, cl=0.95, seed=NULL, 
         show_data=FALSE, show_title=TRUE, 
         miss_only=FALSE, color_hit="gray40", color_miss="red",
         grid="grey90", ylim_bound=NULL, pause=FALSE,
         main=NULL, pdf_file=NULL, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simCImean_+3A_ns">ns</code></td>
<td>
<p>Number of samples, that is, repetitions of the experiment.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_n">n</code></td>
<td>
<p>Size of each sample.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_mu">mu</code></td>
<td>
<p>Population mean.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_sigma">sigma</code></td>
<td>
<p>Population standard deviation.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_cl">cl</code></td>
<td>
<p>Confidence level.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_seed">seed</code></td>
<td>
<p>Default seed is the R default. Enter a positive integer value
to obtain a reproducible result, the same result for the same seed.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simCImean_+3A_show_data">show_data</code></td>
<td>
<p>Plot the data for each sample over the confidence interval.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_show_title">show_title</code></td>
<td>
<p>Place a title on the graph that contains the parameter values_</p>
</td></tr>
<tr><td><code id="simCImean_+3A_miss_only">miss_only</code></td>
<td>
<p>For the text output, only display information for samples
that missed the mean.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_color_hit">color_hit</code></td>
<td>
<p>Color of the confidence intervals that contains the mean.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_color_miss">color_miss</code></td>
<td>
<p>Color of the confidence intervals that miss the mean.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_grid">grid</code></td>
<td>
<p>Color of the grid lines.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_ylim_bound">ylim_bound</code></td>
<td>
<p>Specify the maximum deviation of the mean in either direction
for the extent of the vertical axis_</p>
</td></tr>
<tr><td><code id="simCImean_+3A_pause">pause</code></td>
<td>
<p>Build the graph and the text output, pausing after each
confidence interval.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_main">main</code></td>
<td>
<p>Title of graph.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simCImean_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of optional pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="simCImean_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simCImean_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Simulate random normal data and display the resulting confidence intervals, with or without the data overlaid on each confidence interval. Highlight confidence intervals that miss the underlying population mean.</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># 25 confidence intervals with a sample size each of 100
# mu=0, sigma=1, that is, sample from the standard normal
simCImean(25, 100)

# set the seed for a reproducible result with the same seed
simCImean(25, 100, seed=43)

# 25 confidence intervals with a sample size each of 100
# mu=100, sigma=15
# overlay the data over each confidence interval
simCImean(25, 100, mu=100, sigma=15, show_data=TRUE)
</code></pre>

<hr>
<h2 id='simCLT'>Pedagogical Simulation for the Central Limit Theorem</h2><span id='topic+simCLT'></span>

<h3>Description</h3>

<p>Show the distribution of sample means and relevant summary statistics, such as the 95% range of variation. Provide a plot of both the specified population and the corresponding distribution of sample means.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simCLT(ns, n, p1=0, p2=1, seed=NULL,
       type=c("normal", "uniform", "lognormal", "antinormal"),
       fill="lightsteelblue3", n_display=0, digits_d=3, 
       subtitle=TRUE, pop=TRUE, 
       main=NULL, pdf=FALSE, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simCLT_+3A_ns">ns</code></td>
<td>
<p>Number of samples, that is, repetitions of the experiment.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_n">n</code></td>
<td>
<p>Size of each sample.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_p1">p1</code></td>
<td>
<p>First parameter value for the population distribution, the mean,
minimum or meanlog for the normal, uniform, and lognormal populations,
respectively. Must be 0, the minimum, for the anti-normal distribution.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_p2">p2</code></td>
<td>
<p>Second parameter value for the population distribution, the standard
deviation, maximum or sdlog for the normal, uniform and lognormal
populations, respectively. Is the maximum for the anti-normal,
usually left at the default value of 1.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_seed">seed</code></td>
<td>
<p>Default seed is the R default. Enter a positive integer value
to obtain a reproducible result, the same result for the same seed.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simCLT_+3A_type">type</code></td>
<td>
<p>The general population distribution.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_fill">fill</code></td>
<td>
<p>Fill color of the graphs.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_n_display">n_display</code></td>
<td>
<p>Number of samples for which to display the sample mean
and data values.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of decimal digits to display on the output.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_subtitle">subtitle</code></td>
<td>
<p>If <code>TRUE</code>, then display the specific parameter values
of the population or sample, depending on the graph.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_pop">pop</code></td>
<td>
<p>If <code>TRUE</code>, then display the graph of the population from
which the data are sampled.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_main">main</code></td>
<td>
<p>Title of graph.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simCLT_+3A_pdf">pdf</code></td>
<td>
<p>Indicator as to if the graphic files should be saved as pdf files
instead of directed to the standard graphics windows.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="simCLT_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simCLT_+3A_...">...</code></td>
<td>
<p>Other parameter values for R function <code><a href="stats.html#topic+lm">lm</a></code>
which provides the core computations.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Provide a plot of both the specified population and the corresponding distribution of sample means. Include descriptive statistics including the 95% range of sampling variation in raw units and standard errors for comparison to the normal distribution.  Also provide a few samples of the data and corresponding means.
</p>
<p>Four different populations are provided: normal, uniform, lognormal for a skewed distribution, and what is called the anti-normal, the combining of two side-by-side triangular distributions so that most of the values are in the extremes and fewer values are close to the middle.
</p>
<p>For the lognormal distribution, increase the skew by increasing the value of <code>p2</code>, which is the population standard deviation.
</p>
<p>The anti-normal distribution requires the <code>triangle</code> package. No population mean and standard deviation are provided for the anti-normal distribution, so the 95% range of sampling variable of the sample mean in terms of standard errors is not provided.  ** Not activated until the triangle package is updated. **
</p>
<p>If the two plots, of the population and sample distributions respectively, are written to pdf files, according to <code>pdf=TRUE</code>, they are named SimPopulation.pdf and SimSample.pdf.  Their names and the directory to which they are written are provided as part the console output.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># plot of the standardized normal 
#  and corresponding sampling distribution with 10000 samples
#  each of size 2
simCLT(ns=1000, n=2)

# plot of the uniform dist from 0 to 4
#  and corresponding sampling distribution with 10000 samples
#  each of size 2
simCLT(ns=1000, n=2, p1=0, p2=4, type="uniform", bin_width=0.01)

# save the population and sample distributions to pdf files
# simCLT(100, 10, pdf=TRUE)
</code></pre>

<hr>
<h2 id='simFlips'>Pedagogical Binomial Simulation, Coin flips</h2><span id='topic+simFlips'></span>

<h3>Description</h3>

<p>Simulate a sequence of coin flips.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simFlips(n, prob=.5, seed=NULL,
         show_title=TRUE, show_flips=TRUE,
         grid="grey90", pause=FALSE,
         main=NULL, pdf_file=NULL, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simFlips_+3A_n">n</code></td>
<td>
<p>Size of each sample, that is, the number of trials or flips.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_prob">prob</code></td>
<td>
<p>Probability of a success on any one trial.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_seed">seed</code></td>
<td>
<p>Default seed is the R default. Enter a positive integer value
to obtain a reproducible result, the same result for the same seed.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simFlips_+3A_show_title">show_title</code></td>
<td>
<p>Place a title on the graph that contains the parameter values_</p>
</td></tr>
<tr><td><code id="simFlips_+3A_show_flips">show_flips</code></td>
<td>
<p>Plot the outcome of each flip.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_grid">grid</code></td>
<td>
<p>Color of the grid lines.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_pause">pause</code></td>
<td>
<p>Build the graph and the text output, pausing after each
confidence interval.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_main">main</code></td>
<td>
<p>Title of graph.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simFlips_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="simFlips_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simFlips_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Generate and plot successive values of a Head or a Tail using standard R <code><a href="stats.html#topic+rbinom">rbinom</a></code> function.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># 10 flips of a fair coin
simFlips(10, .5)

# set the seed for a reproducible result with the same seed
simFlips(10, .5, seed=43)
</code></pre>

<hr>
<h2 id='simMeans'>Pedagogical Simulation of Sample Means over Repeated Samples</h2><span id='topic+simMeans'></span>

<h3>Description</h3>

<p>Show a sequence of sample means and data, all simulated from the same normal population. Useful for developing an intuition for developing an informal confidence interval, that is, specifying a likely range of values that contain the true population mean, but without a formal probability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simMeans(ns, n, mu=0, sigma=1, seed=NULL, 
         show_title=TRUE, show_data=TRUE, max_data=10, 
         grid="grey90", ylim_bound=NULL, pause=FALSE,
         sort=NULL, set_mu=FALSE, digits_d=2,
         main=NULL, pdf_file=NULL, width=5, height=5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simMeans_+3A_ns">ns</code></td>
<td>
<p>Number of samples, that is, repetitions of the experiment.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_n">n</code></td>
<td>
<p>Size of each sample.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_mu">mu</code></td>
<td>
<p>Population mean.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_sigma">sigma</code></td>
<td>
<p>Population standard deviation.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_seed">seed</code></td>
<td>
<p>Default seed is the R default. Enter a positive integer value
to obtain a reproducible result, the same result for the same seed.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simMeans_+3A_show_title">show_title</code></td>
<td>
<p>Place a title on the graph that contains the parameter values_</p>
</td></tr>
<tr><td><code id="simMeans_+3A_show_data">show_data</code></td>
<td>
<p>Show the data values on the text output.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_max_data">max_data</code></td>
<td>
<p>Maximum number of data values per sample on the text output.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_grid">grid</code></td>
<td>
<p>Color of the grid lines.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_ylim_bound">ylim_bound</code></td>
<td>
<p>Specify the maximum deviation of the mean in either
direction for the extent of the vertical axis_</p>
</td></tr>
<tr><td><code id="simMeans_+3A_pause">pause</code></td>
<td>
<p>Build the graph and the text output sample by sample.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simMeans_+3A_sort">sort</code></td>
<td>
<p>Sort the output by the means in ascending order. By default is
<code>TRUE</code> unless <code>se.mu</code> or <code>pause</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_set_mu">set_mu</code></td>
<td>
<p>Have the program randomly set <code>mu</code> and <code>sigma</code>,
usually to guess the correct value.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_digits_d">digits_d</code></td>
<td>
<p>Sort the output by the means in ascending order.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_main">main</code></td>
<td>
<p>Title of graph.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="simMeans_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="simMeans_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Simulate random normal data and display the resulting sample means, both as text output and graphic output.
</p>
<p>If <code>pause=TRUE</code>, then the true population values are not revealed as the simulation progresses. These values are saved in the user's workspace and can be revealed by entering their names at the user prompt, <code>mu</code> and <code>sigma</code>. 
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># 8 samples, each with a sample size of 10
# mu=0, sigma=1, that is, sample from the standard normal
simMeans(8, 10)

# 25 sample means with a sample size each of 100
# mu=100, sigma=15
# pause after each interval and show the data
simMeans(25, 100, mu=100, sigma=15, show_data=FALSE)
</code></pre>

<hr>
<h2 id='skew'>Skew of a variable.</h2><span id='topic+skew'></span>

<h3>Description</h3>

<p>The Fisher-Pearson standardized moment coefficient adjusted for sample size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>skew(x, na.rm=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="skew_+3A_x">x</code></td>
<td>
<p>Variable from which to compute skewness.</p>
</td></tr>
<tr><td><code id="skew_+3A_na.rm">na.rm</code></td>
<td>
<p>A logical value indicating whether NA values should be
removed before the computation proceeds.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>G1</code>, the adjusted Fisher-Pearson standardized moment coefficient. The adjustment is the sample size <code>n</code> divided by the product of <code>n-1</code> and <code>n-2</code>.
</p>
<p>The core component of the skewness expression is for each data value calculate, standardize the value, then raise the standardized value to the third power. The component is the sum of these cubics.  
</p>


<h3>Value</h3>

<p>Skew.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Doane, D. P. &amp; Seward, L. E. (2011). Measuring Skewness: A Forgotten Statistic?,Journal of Statistics Education, 19(2), 1-18. URL: https://doi.org/10.1080/10691898.2011.11889611.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rnorm(100)
skew(x)
</code></pre>

<hr>
<h2 id='sort_by'>sort_by the Rows of a Data Frame</h2><span id='topic+sort_by'></span><span id='topic+Sort'></span>

<h3>Description</h3>

<p>Sorts the values of a data frame according to the values of one or more variables contained in the data frame, or the row names.  Variable types include numeric and factor variables.  Factors are sorted by the ordering of their values, which, by default is alphabetical. Sorting by row names is also possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort_by(data=d, by, direction=NULL, quiet=getOption("quiet"), ...)

Sort(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sort_by_+3A_data">data</code></td>
<td>
<p>The name of the data frame from which to create the subset, which
is <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="sort_by_+3A_by">by</code></td>
<td>
<p>One or more variables to be sorted, or just the character string 
<code>row.names</code> or <code>random</code>.</p>
</td></tr>
<tr><td><code id="sort_by_+3A_direction">direction</code></td>
<td>
<p>Default is ascending for all variables listed in <code>by</code>.
Or, specify a list of <code>"+"</code> for ascending and <code>"-"</code> for
descending, one for each variable to be sorted.</p>
</td></tr>
<tr><td><code id="sort_by_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="sort_by_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>sort_by</code> sorts the rows of a data frame and lists the first five rows of the sorted data frame. Specify the values upon which to base the sort with the required <code>by</code> parameter. If not all sorted variables are sorted in ascending order, then also specify a sequence of <code>"+"</code> for ascending and <code>"-"</code> for descending, respectively, one for each variable to be sorted. If <code>row.names</code> or <code>random</code> is specified, then no other variables can be specified.
</p>
<p>A list of consecutive variables can be specified using the colon notation, such as Years:Salary  To specify a list of multiple variables, or <code>"+"</code> and <code>"-"</code> signs, or sets of variables, separate each set of variables or each sign by a comma, then invoke the R combine or <code><a href="base.html#topic+c">c</a></code> function. For example, if three variables are to be sorted, the first two ascending and the last descending, then specify, <code>direction=c("+","+","-")</code>.
</p>
<p><code>sort_by</code> is based on the standard R function <code><a href="base.html#topic+order">order</a></code>, though  the <code>sort_by</code> function allows for the sorting of factors, whereas <code><a href="base.html#topic+order">order</a></code> does not.
</p>


<h3>Value</h3>

<p>The sorted data frame is returned, usually assigned the name of <code>d</code> as in the examples below.  This is the default name for the data frame input into the <code>lessR</code> data analysis functions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+order">order</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># construct data frame
d &lt;- read.table(text="Severity Description
1 Mild
4 Moderate
3 Moderate
2 Mild
1 Severe", header=TRUE)

# sort the data frame called d according to Severity
#   in ascending order
d &lt;- sort_by(d, Severity)

# sort Description in descending order, sort Severity within
#  each level of Description in ascending order
d &lt;- sort_by(d, c(Description, Severity), direction=c("-", "+"))  

# sort by row names in ascending order
d &lt;- sort_by(d, row.names)

# randomly re-shuffle the rows of data
d &lt;- sort_by(d, random)
</code></pre>

<hr>
<h2 id='style'>Set the Default Color Theme and Other System Settings</h2><span id='topic+style'></span><span id='topic+set'></span>

<h3>Description</h3>

<p>Deprecated Names: <code>set</code>, <code>theme</code>
</p>
<p>The color and style attributes of each plot can be set as a general theme, or individually set from the following list of attributes. For convenience, groups of these attributes are specified to define color themes, plus style sub-themes that apply to any theme, with default values:  <code>theme="colors"</code> and <code>sub_theme="default"</code>. To reset to the default theme: <code>style()</code>. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style(
  theme=c("colors", "lightbronze", "dodgerblue", "darkred", "gray",
      "gold", "darkgreen", "blue", "red", "rose", "slatered", "green",
      "purple", "sienna", "brown", "orange", "white", "light"),
  sub_theme=c("default", "black", "wsj"),
  set=NULL, get=FALSE, reset=TRUE,

  window_fill=getOption("window_fill"),
  panel_fill=getOption("panel_fill"),
  panel_color=getOption("panel_color"),
  panel_lwd=getOption("panel_lwd"),
  panel_lty=getOption("panel_lty"),

  fill=NULL,
  bar_fill=getOption("bar_fill"),
  bar_fill_discrete=getOption("bar_fill_discrete"),
  bar_fill_cont=getOption("bar_fill_cont"),
  trans=NULL,
  trans_bar_fill=getOption("trans_bar_fill"),
  color=NULL,
  bar_color=getOption("bar_color"),
  bar_color_cont=getOption("bar_color_cont"),
  bar_color_discrete=getOption("bar_color_discrete"),
  
  values=getOption("values"),
  values_color=getOption("values_color"), 
  values_size=getOption("values_size"),
  values_digits=getOption("values_digits"),
  values_position=getOption("values_position"),
		 
  pt_fill=getOption("pt_fill"),
  trans_pt_fill=getOption("trans_pt_fill"),
  pt_color=getOption("pt_color"),
  se_fill=getOption("se_fill"),
  ellipse_fill=getOption("ellipse_fill"),
  ellipse_color=getOption("ellipse_color"),
  ellipse_lwd=getOption("ellipse_lwd"),
  fit_color=getOption("fit_color"),
  fit_lwd=getOption("fit_lwd"),
  bubble_text_color=getOption("bubble_text_color"),
  segment_color=getOption("segment_color"),
  ID_color=getOption("ID_color"),
  out_fill=getOption("out_fill"),
  out_color=getOption("out_color"),
  out2_fill=getOption("out2_fill"),
  out2_color=getOption("out2_color"),

  violin_fill=getOption("violin_fill"),
  violin_color=getOption("violin_color"),
  box_fill=getOption("box_fill"),
  box_color=getOption("box_color"),

  axis_color=getOption("axis_color"),
  axis_x_color=getOption("axis_x_color"),
  axis_y_color=getOption("axis_y_color"),
  axis_lwd=getOption("axis_lwd"),
  axis_x_lwd=getOption("axis_x_lwd"),
  axis_y_lwd=getOption("axis_y_lwd"),
  axis_lty=getOption("axis_lty"),
  axis_x_lty=getOption("axis_x_lty"),
  axis_y_lty=getOption("axis_y_lty"),
  axis_cex=getOption("axis_cex"),
  axis_x_cex=getOption("axis_x_cex"),
  axis_y_cex=getOption("axis_y_cex"),
  axis_text_color=getOption("axis_text_color"),
  axis_x_text_color=getOption("axis_x_text_color"),
  axis_y_text_color=getOption("axis_y_text_color"),
  rotate_x=getOption("rotate_x"),
  rotate_y=getOption("rotate_y"),
  offset=getOption("offset"),

  lab_color=getOption("lab_color"),
  lab_x_color=getOption("lab_x_color"),
  lab_y_color=getOption("lab_y_color"),
  lab_cex=getOption("lab_cex"),
  lab_x_cex=getOption("lab_x_cex"),
  lab_y_cex=getOption("lab_y_cex"),
  main_color=getOption("main_color"),
  main_cex=getOption("main_cex"),

  grid_color=getOption("grid_color"),
  grid_x_color=getOption("grid_x_color"),
  grid_y_color=getOption("grid_y_color"),
  grid_lwd=getOption("grid_lwd"),
  grid_x_lwd=getOption("grid_x_lwd"),
  grid_y_lwd=getOption("grid_y_lwd"),
  grid_lty=getOption("grid_lty"),
  grid_x_lty=getOption("grid_x_lty"),
  grid_y_lty=getOption("grid_y_lty"),

  strip_fill=getOption("strip_fill"),
  strip_color=getOption("strip_color"),
  strip_text_color=getOption("strip_text_color"),

  add_fill=getOption("add_fill"),
  add_trans=getOption("add_trans"),
  add_color=getOption("add_color"),
  add_cex=getOption("add_cex"),
  add_lwd=getOption("add_lwd"),
  add_lty=getOption("add_lty"),

  n_cat=getOption("n_cat"), suggest=getOption("suggest"),
  notes=getOption("notes"),
  quiet=getOption("quiet"), brief=getOption("brief"),

  results=getOption("results"), explain=getOption("explain"),
  interpret=getOption("interpret"), document=getOption("document"), 
  code=getOption("code"),

  width=120, show=FALSE, ...)

set(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="style_+3A_theme">theme</code></td>
<td>
<p>The specified color scheme. If specified, re-sets all style
attributes to the values consistent with that theme.</p>
</td></tr>
<tr><td><code id="style_+3A_sub_theme">sub_theme</code></td>
<td>
<p>Further modification of the main themes.</p>
</td></tr>
<tr><td><code id="style_+3A_set">set</code></td>
<td>
<p>A list of parameter values, a theme, that was previously
saved, and now is read back to become the current set of parameter
values_ See the examples.</p>
</td></tr>
<tr><td><code id="style_+3A_get">get</code></td>
<td>
<p>Save the current list of parameter values, a theme, into
an R object.</p>
</td></tr>
<tr><td><code id="style_+3A_reset">reset</code></td>
<td>
<p>Change one or more settings or the entire theme.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_window_fill">window_fill</code></td>
<td>
<p>Fill color of the entire device window.</p>
</td></tr>
<tr><td><code id="style_+3A_panel_fill">panel_fill</code></td>
<td>
<p>Color of the plot background.</p>
</td></tr>
<tr><td><code id="style_+3A_panel_color">panel_color</code></td>
<td>
<p>Color of border around the plot background, the box, that
encloses the plot, with a default of <code>"black"</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_panel_lwd">panel_lwd</code></td>
<td>
<p>Line width of the box around the plot.</p>
</td></tr>
<tr><td><code id="style_+3A_panel_lty">panel_lty</code></td>
<td>
<p>Line type of the box around the plot. Acceptable values are 
<code>"blank"</code>, <code>"solid"</code>, <code>"dashed"</code>, <code>"dotted"</code>,
<code>"dotdash"</code>, and <code>"longdash"</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_fill">fill</code></td>
<td>
<p>Color of a filled region &ndash; bars, points and bubbles &ndash; 
depending on the
objected plotted. Can explicitly choose <code>"grays"</code>
or <code>"hues"</code> , or pre-specified R color schemes 
<code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. Can also
provide pre-defined color ranges <code>"blues"</code>, <code>"reds"</code>
and <code>"greens"</code>, as well as
custom colors, such as generated by <code><a href="#topic+getColors">getColors</a></code></p>
</td></tr>
<tr><td><code id="style_+3A_bar_fill">bar_fill</code></td>
<td>
<p>Color of a filled bar, bubble or box.</p>
</td></tr>
<tr><td><code id="style_+3A_bar_fill_discrete">bar_fill_discrete</code></td>
<td>
<p>Color of a filled bar chart bar or pie chart slice.</p>
</td></tr>
<tr><td><code id="style_+3A_bar_fill_cont">bar_fill_cont</code></td>
<td>
<p>Color of a filled histogram bar.</p>
</td></tr>
<tr><td><code id="style_+3A_trans">trans</code></td>
<td>
<p>Transparency of a filled bar, rectangular region, or points from 0
(none) to 1 (complete).</p>
</td></tr>
<tr><td><code id="style_+3A_trans_bar_fill">trans_bar_fill</code></td>
<td>
<p>The transparency of a filled bar or rectangular region,
such as a histogram bar or the box in a box plot. Value from 0 to 1,
opaque to transparent.</p>
</td></tr>
<tr><td><code id="style_+3A_color">color</code></td>
<td>
<p>Color of a line segment such as the border of bar or point.
Can explicitly choose <code>"grays"</code>
or <code>"hues"</code>, or pre-specified R color schemes 
<code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. Can also
provide pre-defined color ranges <code>"blues"</code>, <code>"reds"</code>
and <code>"greens"</code>, as well as
custom colors, such as generated by <code><a href="#topic+getColors">getColors</a></code></p>
</td></tr>
<tr><td><code id="style_+3A_bar_color">bar_color</code></td>
<td>
<p>Color of the border of a filled region such as a histogram
bar.</p>
</td></tr>
<tr><td><code id="style_+3A_bar_color_discrete">bar_color_discrete</code></td>
<td>
<p>Color of the border of a filled region for
values on a qualitative scale.</p>
</td></tr>
<tr><td><code id="style_+3A_bar_color_cont">bar_color_cont</code></td>
<td>
<p>Color of the border of a filled region for
values on a quantitative scale, such as a histogram bar.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_values">values</code></td>
<td>
<p>If not the default value of <code>"off"</code>, adds the
numerical results to the plot according to <code>"%"</code>, 
<code>"prop"</code> or <code>"input"</code>, that is, percentages,
proportions, or the value from which the slices are plotted,
such as tabulated counts if <code>y</code> is not specified,
or the value of <code>y</code> if the plotted values are provided. If
any other <code>values</code> parameter is specified, default is set
to <code>"%"</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_values_color">values_color</code></td>
<td>
<p>Color of the plotted text. Could be a vector to specify
a unique color for each value. If fewer colors are specified than
the number of categories, the colors are recycled.</p>
</td></tr>
<tr><td><code id="style_+3A_values_size">values_size</code></td>
<td>
<p>Character expansion factor, the size, of the plotted text, 
for which the default value is 0.95.</p>
</td></tr>
<tr><td><code id="style_+3A_values_digits">values_digits</code></td>
<td>
<p>Number of decimal digits for which to display the values_
Default is 0, round to the nearest integer, for <code>"%"</code>
and 2 for <code>"prop"</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_values_position">values_position</code></td>
<td>
<p>Position of the plotted text. Default is inside the pie,
or, if <code>"label"</code>, as part of the label for each value
outside of the pie.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_pt_fill">pt_fill</code></td>
<td>
<p>Color of a filled plotted point.</p>
</td></tr>
<tr><td><code id="style_+3A_trans_pt_fill">trans_pt_fill</code></td>
<td>
<p>The transparency of the inner region of a plotted point.
Value from 0 to 1, opaque to transparent.</p>
</td></tr>
<tr><td><code id="style_+3A_pt_color">pt_color</code></td>
<td>
<p>Color of a line or outline of a filled region, such as the
border of a plotted point.</p>
</td></tr>
<tr><td><code id="style_+3A_se_fill">se_fill</code></td>
<td>
<p>Color of the fill for the standard error plot about a
fit line in a scatter plot.</p>
</td></tr>
<tr><td><code id="style_+3A_ellipse_fill">ellipse_fill</code></td>
<td>
<p>Color of the fill for an ellipse in a scatter plot.</p>
</td></tr>
<tr><td><code id="style_+3A_ellipse_color">ellipse_color</code></td>
<td>
<p>Color of the border for an ellipse in a scatter plot.</p>
</td></tr>
<tr><td><code id="style_+3A_ellipse_lwd">ellipse_lwd</code></td>
<td>
<p>Line width of the border for an ellipse in a scatter plot.</p>
</td></tr>
<tr><td><code id="style_+3A_fit_color">fit_color</code></td>
<td>
<p>Color of the fit line in a scatter plot.</p>
</td></tr>
<tr><td><code id="style_+3A_fit_lwd">fit_lwd</code></td>
<td>
<p>Width of fit line. By default is 2 for Windows and 1.5 for Mac.</p>
</td></tr>
<tr><td><code id="style_+3A_bubble_text_color">bubble_text_color</code></td>
<td>
<p>Color of the displayed text regarding the size of a bubble,
either a tabulated frequency for categorical variables, or the value of a
third variable according to <code>size</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_segment_color">segment_color</code></td>
<td>
<p>Color of connecting line segments when there are also plotted
points, such as in a frequency polygon. Default color is <code>color</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_id_color">ID_color</code></td>
<td>
<p>Color of the text to display the ID labels.</p>
</td></tr>
<tr><td><code id="style_+3A_out_fill">out_fill</code></td>
<td>
<p>For a scatterplot, color of the border of potential outliers, which,
for the unadjusted boxplot, are default values
1.5 IQR's beyond the lower or upper quartile.</p>
</td></tr>
<tr><td><code id="style_+3A_out_color">out_color</code></td>
<td>
<p>For a scatterplot, color of potential outliers.</p>
</td></tr>
<tr><td><code id="style_+3A_out2_fill">out2_fill</code></td>
<td>
<p>For a scatterplot, color of extreme outliers, which,
for the unadjusted boxplot, are default values
3 IQR's beyond the lower or upper quartile.</p>
</td></tr>
<tr><td><code id="style_+3A_out2_color">out2_color</code></td>
<td>
<p>For a scatterplot, color of the border of extreme outliers.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_violin_fill">violin_fill</code></td>
<td>
<p>Fill color for a <b>violin plot.</b></p>
</td></tr>
<tr><td><code id="style_+3A_violin_color">violin_color</code></td>
<td>
<p>Border color for the violin in a violin plot.</p>
</td></tr>
<tr><td><code id="style_+3A_box_fill">box_fill</code></td>
<td>
<p>Fill color for a box plot.</p>
</td></tr>
<tr><td><code id="style_+3A_box_color">box_color</code></td>
<td>
<p>Border color of a box in a box plot.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_axis_color">axis_color</code></td>
<td>
<p>Color of the axes.</p>
</td></tr>
<tr><td><code id="style_+3A_axis_x_color">axis_x_color</code></td>
<td>
<p>Color of the <code>x</code>-axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_y_color">axis_y_color</code></td>
<td>
<p>Color of the <code>y</code>-axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_lwd">axis_lwd</code></td>
<td>
<p>Line width of axes.</p>
</td></tr>
<tr><td><code id="style_+3A_axis_x_lwd">axis_x_lwd</code></td>
<td>
<p>Line width of horizontal axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_y_lwd">axis_y_lwd</code></td>
<td>
<p>Line width of vertical axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_lty">axis_lty</code></td>
<td>
<p>Line type of axes, either &quot;solid&quot;, &quot;dashed&quot;,
&quot;dotted&quot;, &quot;dotdash&quot;, &quot;longdash&quot;, &quot;twodash&quot;, or &quot;blank&quot;.</p>
</td></tr>
<tr><td><code id="style_+3A_axis_x_lty">axis_x_lty</code></td>
<td>
<p>Line type of horizontal axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_y_lty">axis_y_lty</code></td>
<td>
<p>Line type of vertical axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_cex">axis_cex</code></td>
<td>
<p>Scale magnification factor, which by defaults displays the axis
values to be smaller than the axis labels. Provides the functionality of,
and can be replaced by, the standard R <code>cex.axis</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_axis_x_cex">axis_x_cex</code></td>
<td>
<p>Scale magnification factor for the <code>x</code>-axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_y_cex">axis_y_cex</code></td>
<td>
<p>Scale magnification factor for the <code>y</code>-axis_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_text_color">axis_text_color</code></td>
<td>
<p>Color of the font used to label the axis values_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_x_text_color">axis_x_text_color</code></td>
<td>
<p>Color of the font used to label the <code>x</code>-axis values_</p>
</td></tr>
<tr><td><code id="style_+3A_axis_y_text_color">axis_y_text_color</code></td>
<td>
<p>Color of the font used to label the <code>y</code>-axis values_</p>
</td></tr>
<tr><td><code id="style_+3A_rotate_x">rotate_x</code></td>
<td>
<p>Degrees that the <code>x</code>-axis values are rotated, usually to
accommodate longer values, typically used in conjunction with <code>offset</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_rotate_y">rotate_y</code></td>
<td>
<p>Degrees that the <code>y</code>-axis values are rotated.</p>
</td></tr>
<tr><td><code id="style_+3A_offset">offset</code></td>
<td>
<p>The spacing between the axis values and the axis_ Default
is 0.5. Larger values such as 1.0 are used to create space for the label when
longer axis value names are rotated.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_lab_color">lab_color</code></td>
<td>
<p>Color of the axis labels.</p>
</td></tr>
<tr><td><code id="style_+3A_lab_x_color">lab_x_color</code></td>
<td>
<p>Color of the axis labels on the horizontal axis_</p>
</td></tr>
<tr><td><code id="style_+3A_lab_y_color">lab_y_color</code></td>
<td>
<p>Color of the axis labels on the vertical axis_</p>
</td></tr>
<tr><td><code id="style_+3A_lab_cex">lab_cex</code></td>
<td>
<p>Size of labels for x and y axes.</p>
</td></tr>
<tr><td><code id="style_+3A_lab_x_cex">lab_x_cex</code></td>
<td>
<p>Size of labels for x.</p>
</td></tr>
<tr><td><code id="style_+3A_lab_y_cex">lab_y_cex</code></td>
<td>
<p>Size of labels for y.</p>
</td></tr>
<tr><td><code id="style_+3A_main_color">main_color</code></td>
<td>
<p>Color of the title.</p>
</td></tr>
<tr><td><code id="style_+3A_main_cex">main_cex</code></td>
<td>
<p>Size of the title font.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_grid_color">grid_color</code></td>
<td>
<p>Color of the grid lines.</p>
</td></tr>
<tr><td><code id="style_+3A_grid_x_color">grid_x_color</code></td>
<td>
<p>Color of the grid lines for the <code>x</code>-axis_</p>
</td></tr>
<tr><td><code id="style_+3A_grid_y_color">grid_y_color</code></td>
<td>
<p>Color of the grid lines for the <code>y</code>-axis_</p>
</td></tr>
<tr><td><code id="style_+3A_grid_lwd">grid_lwd</code></td>
<td>
<p>Width of grid lines.</p>
</td></tr>
<tr><td><code id="style_+3A_grid_x_lwd">grid_x_lwd</code></td>
<td>
<p>Width of vertical grid lines, inherits from <code>grid_lwd</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_grid_y_lwd">grid_y_lwd</code></td>
<td>
<p>Width of horizontal grid lines, inherits from <code>grid_lwd</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_grid_lty">grid_lty</code></td>
<td>
<p>Line type for grid lines: &quot;solid&quot;, &quot;dashed&quot;,
&quot;dotted&quot;, &quot;dotdash&quot;, &quot;longdash&quot;, or &quot;twodash&quot;, or &quot;blank&quot;.</p>
</td></tr>
<tr><td><code id="style_+3A_grid_x_lty">grid_x_lty</code></td>
<td>
<p>Line-type of vertical grid lines, inherits from <code>grid_lty</code>.</p>
</td></tr>
<tr><td><code id="style_+3A_grid_y_lty">grid_y_lty</code></td>
<td>
<p>Line-type of horizontal grid lines, inherits from <code>grid_lty</code>.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_strip_fill">strip_fill</code></td>
<td>
<p>Fill color for the <b>strip that labels each panel</b> in
a Trellis plot.</p>
</td></tr>
<tr><td><code id="style_+3A_strip_color">strip_color</code></td>
<td>
<p>Border color for the strip that labels each panel in
a Trellis plot.</p>
</td></tr>
<tr><td><code id="style_+3A_strip_text_color">strip_text_color</code></td>
<td>
<p>Color of the label in each strip of a Trellis plot.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_add_fill">add_fill</code></td>
<td>
<p>Interior fill color of added object.
Can explicitly choose <code>"grays"</code>
or <code>"hues"</code>, or pre-specified R color schemes 
<code>"rainbow"</code>, <code>"terrain"</code>, and <code>"heat"</code>. Can also
provide pre-defined color ranges <code>"blues"</code>, <code>"reds"</code>
and <code>"greens"</code>, as well as
custom colors, such as generated by <code><a href="#topic+getColors">getColors</a></code></p>
</td></tr>
<tr><td><code id="style_+3A_add_trans">add_trans</code></td>
<td>
<p>Transparency level of color or fill, which ever is
applicable from 0 (opaque) to 1 (transparent).</p>
</td></tr>
<tr><td><code id="style_+3A_add_color">add_color</code></td>
<td>
<p>Color of borders and lines of added object.</p>
</td></tr>
<tr><td><code id="style_+3A_add_cex">add_cex</code></td>
<td>
<p>Text expansion factor, relative to 1. As with the following
properties, can be a vector for multiple placement or objects.</p>
</td></tr>
<tr><td><code id="style_+3A_add_lwd">add_lwd</code></td>
<td>
<p>Line width of added object.</p>
</td></tr>
<tr><td><code id="style_+3A_add_lty">add_lty</code></td>
<td>
<p>Line type of added object. See <code>panel_lty</code> for types.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_n_cat">n_cat</code></td>
<td>
<p>Number of categories that specifies the largest number of unique
equally-spaced values of variable of a numeric data type for which the
variable will be analyzed as categorical. Default value is 0.
<em>[deprecated]</em>: Best to convert a categorical integer variable
to a factor.</p>
</td></tr>
<tr><td><code id="style_+3A_suggest">suggest</code></td>
<td>
<p>If <code>TRUE</code>, then provide suggestions for alternative analyses.</p>
</td></tr>
<tr><td><code id="style_+3A_notes">notes</code></td>
<td>
<p>If <code>TRUE</code>, then provide notes.</p>
</td></tr>
<tr><td><code id="style_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="style_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_results">results</code></td>
<td>
<p>For the R markdown file generated by the Rmd option, 
show the results.</p>
</td></tr>
<tr><td><code id="style_+3A_explain">explain</code></td>
<td>
<p>For the R markdown file generated by the Rmd option, 
explain the results.</p>
</td></tr>
<tr><td><code id="style_+3A_interpret">interpret</code></td>
<td>
<p>For the R markdown file generated by the Rmd option, 
interpret the results.</p>
</td></tr>
<tr><td><code id="style_+3A_document">document</code></td>
<td>
<p>For the R markdown file generated by the Rmd option,
documents the code that generated the results.</p>
</td></tr> 
<tr><td><code id="style_+3A_code">code</code></td>
<td>
<p>For the R markdown file generated by the Rmd option, 
shows the code that generated the results.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="style_+3A_width">width</code></td>
<td>
<p>Maximum width of each line displayed at the console, just accesses
the standard R options function for width.</p>
</td></tr>
<tr><td><code id="style_+3A_show">show</code></td>
<td>
<p>Option for showing all settings.</p>
</td></tr>
<tr><td><code id="style_+3A_...">...</code></td>
<td>
<p>Parameter values_</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
Sets the default color palette via the R <code><a href="base.html#topic+options">options</a></code> statement, as well as the transparency of plotted bars and points and other non-color characteristics such as the color of the grid lines. For convenience, groups of attributes are organized into themes and sub-themes. When the <code>theme</code> is specified, <em>all</em> options are reset to their default values_ All other modifications, with individual parameters or grouped parameters as a sub-theme, are cumulative. For example, one sub-theme can be followed by another, as well as the specifications of individual attributes. Calling the function with no arguments sets to the default style.
</p>
<p>Available themes:<br />
&quot;lightbronze&quot; [default]<br />
&quot;dodgerblue&quot; [default <code>lessR</code> 3.6.0 and earlier]<br />
&quot;darkred&quot;<br />
&quot;gray&quot;<br />
&quot;gold&quot;<br />
&quot;darkgreen&quot;<br />
&quot;blue&quot;<br />
&quot;red&quot;<br />
&quot;rose&quot;<br />
&quot;green&quot;<br />
&quot;purple&quot;<br />
&quot;sienna&quot;<br />
&quot;brown&quot;<br />
&quot;orange&quot;<br />
&quot;white&quot;<br />
&quot;light&quot;<br />
</p>
<p>The <code>"gray"</code> color theme is based on the colors used in Hadley Wickham's <code>ggplot2</code> package. The <code>"lightbronze"</code> theme, especially with the <code>wsj</code> sub-theme, is based on Jeffrey Arnold's <code>wsj</code> theme from his ggthemes package.
</p>
<p>SUB-THEMES<br />
<code>"black"</code>: Black background of the entire device window with translucent fill colors from the current theme. 
<code>"wsj"</code>: Similar to the <code>wsj</code> theme from the <code>ggthemes</code> package, especially with the theme of <code>"lightbronze"</code>. The <code>y</code>-axis is removed with though the value labels retained, the vertical grid is removed, and the horizontal grid is dotted and thicker than the default.
</p>


<h3>Value</h3>

<p>The current settings can optionally be saved into an <code>R</code> object, and then read back at a later time with the <code>set</code> function.<br />
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Arnold, Jeffrey B., (2017), ggthemes: Extra Themes, Scales and Geoms for 'ggplot2'. R package version 3.4.0. https://CRAN.R-project.org/package=ggthemes
</p>
<p>Gerbing, D. W. (2020). R Visualizations: Derive Meaning from Data, Chapter 10, NY: CRC Press.
</p>
<p>Wickham, Hadley, (2009), ggplot2: Elegant Graphics for Data Analysis, 2nd edition, Springer.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+options">options</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# some data
d &lt;- rd("Employee", quiet=TRUE)

# gold colors embedded in a black background
style("gold", sub_theme="black")
Plot(Years, Salary, size=0, ellipse=seq(.1,.9,.1))

# three ways to do gray scale
style(window_fill="white")
# 1. gray scale with a light gray background
style("gray")
# 2. gray scale with a dark, almost black, background
style("gray", sub_theme="black")
# 3. mostly black and white
style("white")

# reset style to the default "colors"
style()

# set bar fill to qualitative hcl colors
# here also turn off bar borders and set to a mild transparency
Histogram(Salary, fill="greens", color="off")
# same as
# style(bar_fill_cont="greens", bar_color="off")
# Histogram(Salary)

# set bar fill to 6 blue colors
# for continuous band explicitly call getColors and specify n
#   to obtain the full spectrum, such as for analysis of Likert
#   scale responses with six possible responses per item
style(bar_fill=getColors("blues", n=6))

# adjust Trellis strip to a dark background
style(strip_fill="gray60", strip_color="gray20",
      strip_text_color=rgb(247,242,230, maxColorValue=255))
Plot(Years, Salary, by1=Gender)

# define a custom style beyond just colors
style(panel_fill="off", panel_color="off",
      window_fill=rgb(247,242,230, maxColorValue=255),
      pt_fill="black", trans=0,
      lab_color="black", axis_text_color="black",
      axis_y_color="off",
      grid_x_color="off", grid_y_color="black",  grid_lty="dotted", grid_lwd=1)
hs(Salary)

# save the current theme settings into an R object without changes
# unless set to FALSE, get is always TRUE, for all calls to style
mystyle &lt;- style(get=TRUE)
# ...  bunch of changes
# then recall older settings to current theme setting
style(set=mystyle)

# create a gray-scale with a sub-theme of wsj
# save, and then at a later session read back in
grayWSJ &lt;- style("gray", sub_theme="wsj")
# Write(grayWSJ, "grayWSJ", format="R")
# ...
#mystyle &lt;- Read("grayWSJ.rda")  # read grayWSJ.rda
#style(set=mystyle)



# all numeric variables with 8 or less unique values and equally spaced
#  intervals are analyzed as categorical variables
style(n_cat=8)</code></pre>

<hr>
<h2 id='Subset'>Subset the Values of One or More Variables</h2><span id='topic+Subset'></span>

<h3>Description</h3>

<p>Abbreviation: <code>subs</code>
</p>
<p>Deprecated, use <code><a href="#topic+.">.</a></code> instead in conjunction with base R <code>link{Extract}</code>.
</p>
<p>Based directly on the standard R <code><a href="base.html#topic+subset">subset</a></code> function to only include or exclude specified rows or data, and for specified columns of data.  Output provides feedback and guidance regarding the specified subset operations. Rows of data may be randomly extracted, and also with the code provided to generate a hold out validation sample created. The hold out sample is created from the original data frame, usually named d, so the subset data frame must be directed to a data frame with a new name or the data re-read to construct the holdout sample. Any existing variable labels are retained in the subset data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Subset(rows, columns, data=d, holdout=FALSE,
       random=0, quiet=getOption("quiet"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Subset_+3A_rows">rows</code></td>
<td>
<p>Specify the rows, i.e., observations, to be included or deleted,
such as with a logical expression or by direct specification of the
numbers of the corresponding rows of data.</p>
</td></tr>
<tr><td><code id="Subset_+3A_columns">columns</code></td>
<td>
<p>Specify the columns, i.e., variables, to be included or
deleted.</p>
</td></tr>
<tr><td><code id="Subset_+3A_data">data</code></td>
<td>
<p>The name of the data frame from which to create the subset, which
is <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="Subset_+3A_holdout">holdout</code></td>
<td>
<p>Create a hold out sample for validation if rows is a proportion
or an integer to indicate random extraction of rows of data.</p>
</td></tr>
<tr><td><code id="Subset_+3A_random">random</code></td>
<td>
<p>If an integer or proportion, specifies number of rows to data
to randomly extract.</p>
</td></tr>
<tr><td><code id="Subset_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Subset_+3A_...">...</code></td>
<td>
<p>The list of variables, each of the form, <code>variable = equation</code>.
Each <code>variable</code> can be the name of an existing variable in the data frame
or a newly created variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Subset</code> creates a subset data frame based on one or more rows of data and one or more variables in the input data frame, and lists the first five rows of the revised data frame. Guidance and feedback regarding the subsets are provided by default. The first five lines of the input data frame are listed before the subset operation, followed by the first five lines of the output data frame.
</p>
<p>The argument <code>rows</code> can be a logical expression based on values of the variables, or it can be an integer or proportion to indicate random extraction of rows. An integer specifies the number of rows to retain, and a proportion specifies the corresponding proportion, which is then rounded to an integer. If <code>holdout=TRUE</code>, then the code to create a hold out data frame with a subsequent <code>Subset</code> analysis is also created. Copy and run this code on the original data frame to create the hold out sample.
</p>
<p>To indicate retaining an observation, specify at least one variable name and the value of the variable for which to retain the corresponding observations, using two equal signs to indicate the logical equality.  If no rows are specified, all rows are retained. Use the base R <code><a href="base.html#topic+row.names">row.names</a></code> function to identify rows by their row names, as illustrated in the examples below.
</p>
<p>To indicate retaining a variable, specify at least one variable name. To specify multiple variables, separate adjacent variables by a comma, and enclose the list within the standard R combine function, <code><a href="base.html#topic+c">c</a></code>.  A single variable may be replaced by a range of consecutive variables indicated by a colon, which separates the first and last variables of the range.  To delete a variable or variables, put a minus sign, -, in front of the <code>c</code>.
</p>


<h3>Value</h3>

<p>The subset of the data frame is returned, usually assigned the name of <code>d</code> as in the examples below.  This is the default name for the data frame input into the <code>lessR</code> data analysis functions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+subset">subset</a></code>, <code><a href="base.html#topic+factor">factor</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># construct data frame
d &lt;- read.table(text="Severity Description
1 Mild
4 Moderate
3 Moderate
2 Mild
1 Severe", header=TRUE)

# only include those with a value of Moderate for Description
d &lt;- Subset(rows=Description=="Moderate")

# locate, that is, display only, the 2nd and 4th rows of data
Subset(row.names(d)=="2" | row.names(d)=="4")

# retain only the first and fourth rows of data, store in myd
myd &lt;- Subset(c(1,4))

# delete only the first and fourth rows of data, store in myd
myd &lt;- Subset(-c(1,4))

# built-in data table warpbreaks has several levels of wool
#   and breaks plus continuous measure tension
# retain only the A level of wool and the L level of tension,
#   and the one variable breaks
d &lt;- Subset(wool=="A" &amp; tension=="L", columns=breaks, data=warpbreaks)

# delete Years and Salary 
d &lt;- Read("Employee", quiet=TRUE)
d &lt;- Subset(columns=-c(Years, Salary))

# locate, display only, a specified row by its row.name
d &lt;- Read("Employee", quiet=TRUE)
Subset(row.names(d)=="Fulton, Scott")

# randomly extract 60% of the data
# generate code to create the hold out sample of the rest
d &lt;- Read("Employee", quiet=TRUE)
mysubset &lt;- Subset(random=.6, holdout=TRUE)
</code></pre>

<hr>
<h2 id='SummaryStats'>Summary Statistics for One or Two Variables</h2><span id='topic+SummaryStats'></span><span id='topic+ss'></span><span id='topic+ss_brief'></span>

<h3>Description</h3>

<p>Abbreviation: <code>ss</code>
</p>
<p>The summary statistics aspect for continuous variables is deprecated. Use <code><a href="#topic+pivot">pivot</a></code> instead.
</p>
<p>Descriptive or summary statistics for a numeric variable or a factor, one at a time or for all numeric and factor variables in the data frame.  For a single variable, there is also an option for summary statistics at each level of a second, usually categorical variable or factor, with a relatively few number of levels.  For a numeric variable, output includes the sample mean, standard deviation, skewness, kurtosis, minimum, 1st quartile, median, third quartile and maximum, as well as the number of non-missing and missing values_ For a categorical variable, the output includes the table of counts for each value of a factor, the total sample size, and the corresponding proportions.  
</p>
<p>If the provided object to analyze is a set of multiple variables, including an entire data frame, then each non-numeric variable in the data frame is analyzed and the results written to a pdf file in the current working directory. The name of each output pdf file that contains a bar chart and its path are specified in the output.
</p>
<p>When output is assigned into an object, such as <code>s</code> in <code>s &lt;- ss(Y)</code>, the pieces of output can be accessed for later analysis. A primary such analysis is <code>knitr</code> for dynamic report generation in which R output embedded in documents See <code>value</code> below.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SummaryStats(x=NULL, by=NULL, data=d, rows=NULL, n_cat=getOption("n_cat"), 
         digits_d=NULL, brief=getOption("brief"), label_max=20, ...)

ss_brief(..., brief=TRUE)

ss(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SummaryStats_+3A_x">x</code></td>
<td>
<p>Variable(s) to analyze.  Can be a single variable, either
within a data frame or as a vector in the user's workspace,
or multiple variables in a data frame such as designated with the
<code><a href="base.html#topic+c">c</a></code> function, or an entire data frame. If not specified,
then defaults to all variables in the specified data frame,
<code>d</code> by default.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_by">by</code></td>
<td>
<p>Applies to an analysis of a numeric variable, which is then analyzed at
each level of the <code>by</code> variable. The variable is coerced to a factor.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_data">data</code></td>
<td>
<p>Optional data frame that contains the variable of interest, default
is <code>d</code>.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_n_cat">n_cat</code></td>
<td>
<p>Specifies the largest number of unique values of variable of a numeric
data type for which the variable will be analyzed as a categorical. Default is
off, set to 0.
<em>[deprecated]</em>: Best to convert a categorical integer variable to a factor.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_digits_d">digits_d</code></td>
<td>
<p>Specifies the number of decimal digits to display in the output.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_label_max">label_max</code></td>
<td>
<p>Maximum size of labels for the values of a variable.
Not a literal maximum as preserving unique values may require a larger number
of characters than specified.</p>
</td></tr>
<tr><td><code id="SummaryStats_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
The <code>by</code> option specifies a categorical variable or factor, with a relatively few number of values called levels. The variable of interest is analyzed at each level of the factor. 
</p>
<p>The <code>digits_d</code> parameter specifies the number of decimal digits in the output.  It must follow the formula specification when used with the formula version. By default the number of decimal digits displayed for the analysis of a variable is one more than the largest number of decimal digits in the data for that variable.
</p>
<p>Reported outliers are based on the boxplot criterion.  The determination of an outlier is based on the length of the box, which corresponds, but may not equal exactly, the interquartile range.  A value is reported as an outlier if it is more than 1.5 box lengths away from the box.
</p>
<p>Skewness is computed with the usual adjusted Fisher-Pearson standardized moment skewness coefficient, the version found in many commercial packages.
</p>
<p>The <code>lessR</code> function <code><a href="#topic+Read">Read</a></code> reads the data from an external csv file into the data frame called <code>d</code>.  To describe all of the variables in a data frame, invoke <code>SummaryStats(d)</code>, or just <code>SummaryStats()</code>, which then defaults to the former.
</p>
<p>In the analysis of a categorical variable, if there are more than 10 levels then an abbreviated analysis is performed, only reporting the values and the associated frequencies. If all the values are unique, then the user is prompted with a note that perhaps this is actually an ID field which should be specified using the <code>row.names</code> option when reading the data.
</p>
<p>DATA<br />
If the variable is in a data frame, the input data frame has the assumed name of <code>d</code>.  If this data frame is named something different, then specify the name with the <code>data</code> option.  Regardless of its name, the data frame need not be attached to reference the variable directly by its name, that is, no need to invoke the <code>d$name</code> notation.
</p>
<p>To analyze each variable in the <code>d</code> data frame, use <code>SummaryStats()</code>.  Or, for a data frame with a different name, insert the name between the parentheses. To analyze a subset of the variables in a data frame, specify the list with either a : or the <code><a href="base.html#topic+c">c</a></code> function, such as m01:m03 or c(m01,m02,m03).
</p>
<p>VARIABLE LABELS<br />
If variable labels exist, then the corresponding variable label is by default listed as the label for the horizontal axis and on the text output. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>
<p>ONLY VARIABLES ARE REFERENCED<br />
The referenced variable in a <code>lessR</code> function can only be a variable name. This referenced variable must exist in either the referenced data frame, such as the default <code>d</code>, or in the user's workspace, more formally called the global environment. That is, expressions cannot be directly evaluated. For example:
</p>
<p><code>&gt; SummaryStats(rnorm(50))   # does NOT work</code>
</p>
<p>Instead, do the following:
</p>
<pre>    &gt; Y &lt;- rnorm(50)   # create vector Y in user workspace
    &gt; SummaryStats(Y)     # directly reference Y</pre>


<h3>Value</h3>

<p>The output can optionally be saved into an <code>R</code> object, otherwise it simply appears in the console. Redesigned in <code>lessR</code> version 3.3 to provide two different types of components: the pieces of readable output in character format, and a variety of statistics. The readable output are character strings such as tables amenable for reading. The statistics are numerical values amenable for further analysis. A primary motivation of these two types of output is to facilitate <code>knitr</code> documents, as the name of each piece can be inserted into the <code>knitr</code> document.
</p>
<p>If the analysis is of a single numeric variable, the full analysis returns the following statistics: <code>n</code>, <code>miss</code>, <code>mean</code>, <code>sd</code>, <code>skew</code>, <code>kurtosis</code>, <code>min</code>, <code>quartile1</code>, <code>median</code>, <code>quartile3</code>, <code>max</code>, <code>IQR</code>. The brief analysis returns the corresponding subset of the summary statistics. If the anlaysis is conditioned on a <code>by</code> variable, then nothing is returned except the text output. The pieces of readable output are <code>out_stats</code> and <code>out_outliers</code>.
</p>
<p>If the analysis is of a single categorical variable, a list is invisibly returned with two tables, the frequencies and the proportions, respectively named <code>freq</code> and <code>prop</code>. The pieces of readable output are <code>out_title</code> and <code>out_stats</code>.
</p>
<p>If two categorical variables are analyzed, then for the full analysis four tables are returned as readable output, but no numerical statistics. The pieces are <code>out_title</code>, <code>out_freq</code>, <code>out_prop</code>, <code>out_colsum</code>, <code>out_rowsum</code>.
</p>
<p>Although not typically needed, if the output is assigned to an object named, for example, <code>s</code>, as in <code>s &lt;- ss(Y)</code>, then the contents of the object can be viewed directly with the <code><a href="base.html#topic+unclass">unclass</a></code> function, here as <code>unclass(s)</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+summary">summary</a></code>, <code><a href="stats.html#topic+formula">formula</a></code>, <code><a href="graphics.html#topic+boxplot">boxplot</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# -------------------------------------------
# one or two numeric or categorical variables
# -------------------------------------------

# create data frame, d, to mimic reading data with rad function
# d contains both numeric and non-numeric data
# X has two character values, Y is numeric
n &lt;- 15
X &lt;- sample(c("Group1","Group2"), size=n, replace=TRUE)
Y &lt;- round(rnorm(n=n, mean=50, sd=10),3)
d &lt;- data.frame(X,Y)
rm(X); rm(Y)

# Analyze the values of numerical Y
# Calculate n, mean, sd, skew, kurtosis, min, max, quartiles
SummaryStats(Y)
# short name
ss(Y)
# output saved for later analysis
s &lt;- ss(Y)
# view full text output
s
# view just the outlier analysis
s$out_outliers
# list the names of all the components
names(s)

# Analyze the values of categorical X
# Calculate frequencies and proportions, totals, chi-square
SummaryStats(X)

# Only a subset of available summary statistics
ss_brief(Y)
ss_brief(X, label_max=3)

# Reference the summary stats in the object: stats
stats &lt;- ss(Y)
my.mean &lt;- stats$mean

# Get the summary statistics for Y at each level of X
# Specify 2 decimal digits for each statistic displayed
SummaryStats(Y, by=X, digits_d=2)


# ----------
# data frame 
# ----------

# Analyze all variables in data frame d at once
# Any variables with a numeric data type and 4 or less
#  unique values will be analyzed as a categorical variable
SummaryStats()

# Analyze all variables in data frame d at once
# Any variables with a numeric data type and 7 or less
#  unique values will be analyzed as a categorical variable
SummaryStats(n_cat=7)

# analyze just a subset of a data frame
d &lt;- Read("Employee", quiet=TRUE)
SummaryStats(c(Salary,Years))


# ----------------------------------------
# data frame different from default d
# ----------------------------------------

# variables in a data frame which is not the default d
# access the breaks variable in the R provided warpbreaks data set
# although data not attached, access the variable directly by its name
data(warpbreaks)
SummaryStats(breaks, by=wool, data=warpbreaks)

# Analyze all variables in data frame warpbreaks at once
SummaryStats(warpbreaks)


# ----------------------------
# can enter many types of data
# ----------------------------

# generate and enter integer data
X1 &lt;- sample(1:4, size=100, replace=TRUE)
X2 &lt;- sample(1:4, size=100, replace=TRUE)
SummaryStats(X1)
SummaryStats(X1,X2)

# generate and enter type double data
X1 &lt;- sample(c(1,2,3,4), size=100, replace=TRUE)
X2 &lt;- sample(c(1,2,3,4), size=100, replace=TRUE)
SummaryStats(X1)
SummaryStats(X1, by=X2)

# generate and enter character string data
# that is, without first converting to a factor
Travel &lt;- sample(c("Bike", "Bus", "Car", "Motorcycle"), size=25, replace=TRUE)
SummaryStats(Travel)
</code></pre>

<hr>
<h2 id='to'>Create a Sequence of Numbered Variable Names with a Common Prefix and Width</h2><span id='topic+to'></span>

<h3>Description</h3>

<p>Generates sequentially numbered variable names, all starting with the same prefix, usually in conjunction with reading data values into R. The advantage over the standard R function  <code><a href="base.html#topic+paste0">paste0</a></code> is that <code>to</code> maintains equal widths of the names, such as m08 instead of m8 if some values are m10 or larger up to m99.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to(prefix, until, from=1, same_size=TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_+3A_prefix">prefix</code></td>
<td>
<p>Character string that begins each variable name.</p>
</td></tr>
<tr><td><code id="to_+3A_until">until</code></td>
<td>
<p>Last name in the sequence, the one with the last number.</p>
</td></tr>
<tr><td><code id="to_+3A_from">from</code></td>
<td>
<p>First name in the sequence, the one with the initial number.</p>
</td></tr>
<tr><td><code id="to_+3A_same_size">same_size</code></td>
<td>
<p>If <code>TRUE</code>, pads the beginning of each number for the variable
name with leading zeros so that all names are of the same width.</p>
</td></tr>
<tr><td><code id="to_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Some data sets, particularly those from surveys, have sequentially numbered variable names, each beginning with the same prefix, such as the first later of the name of a set of related attitude items. This function generates the string of such variable names, generally intended for use in a <code>read</code> statement for reading the data and then naming the variables, or for a subsequent assignment of the names with a <code><a href="base.html#topic+names">names</a></code>. Relies upon the R <code><a href="base.html#topic+paste">paste</a></code> function.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+paste">paste</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate: "m01" "m02" "m03" "m04" "m05" "m06" "m07" "m08" "m09" "m10"
to("m", 10)

# generate: "m1"  "m2"  "m3"  "m4"  "m5"  "m6"  "m7"  "m8"  "m9"  "m10"
to("m",10, same_size=FALSE)
# equivalent to standard R function
paste0("m", 1:10)

# generate a 10 x 10 data frame
d &lt;- data.frame(matrix(rnorm(100), nrow=10))
# name the variables in the data frame
names(d) &lt;- to("m", 10)
</code></pre>

<hr>
<h2 id='train_test'>Create Training and Testing Data</h2><span id='topic+train_test'></span>

<h3>Description</h3>

<p>Given a data frame, create a list of either two components, <code>train</code> and <code>test</code>, or four components, for training and testing data: <code>train_x</code>, <code>train_y</code>, <code>test_x</code>, and <code>test_y</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>train_test(data, response=NULL, p_train=0.75, seed=NULL, matrix_out=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="train_test_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variables.</p>
</td></tr>
<tr><td><code id="train_test_+3A_response">response</code></td>
<td>
<p>Optional name of the response variable of the response values.</p>
</td></tr>
<tr><td><code id="train_test_+3A_p_train">p_train</code></td>
<td>
<p>Percentage of the input data frame to be retained for training.</p>
</td></tr>
<tr><td><code id="train_test_+3A_seed">seed</code></td>
<td>
<p>Set to a usually odd value to reproduce results.</p>
</td></tr>
<tr><td><code id="train_test_+3A_matrix_out">matrix_out</code></td>
<td>
<p>If <code>TRUE</code> then output data structures as matrices
instead of data frames.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>From the input data frame create training and testing data frames. If the <code>response</code> is specified, create four component data frames with x and y variables separated. Otherwise create two component data frames, <code>train</code> and <code>test</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>d &lt;- Read("Employee")

# create four component data frames that separate the response variable, y,
#   from predictor variables, X: train_x, train_y, test_x, and test_y
out &lt;- train_test(d, response=Salary)
names(out)
# then can copy to regular data frames apart from the list output structure
X_train &lt;- out$train_x
y_train &lt;- out$train_y
X_test &lt;- out$test_x
y_test &lt;- out$test_y

# create two component data frames, train and test, which retain all
#   variables for the model in the same data frame
out &lt;- train_test(d)
names(out)
# then can copy to regular data frames apart from the list output structure
d_train &lt;- out$train
d_test &lt;- out$test
</code></pre>

<hr>
<h2 id='Transform'>Deprecated: Transform the Values of an Integer or Factor Variable</h2><span id='topic+Transform'></span>

<h3>Description</h3>

<p>This function is deprecated. Instead use base R  transform() function or just enter the transformation formula directly. Example, <code>d$Xsq &lt;- d$X^2</code> to create a squared version of Variable X in the d data frame.
</p>
<p>A wrapper for the base R <code><a href="base.html#topic+transform">transform</a></code> function that defaults to the d data frame and provides output regarding the specified transformation(s). 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Transform(data=d, quiet=getOption("quiet"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Transform_+3A_data">data</code></td>
<td>
<p>The name of the data frame from which to create the subset, which
is <code>d</code> by default.</p>
</td></tr>
<tr><td><code id="Transform_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Transform_+3A_...">...</code></td>
<td>
<p>The list of transformations, each of the form, <code>variable = equation</code>. Each <code>variable</code> can be the name of an existing variable in the data frame or a newly created variable.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The first five rows of the data frame are listed before the transformation, and the first five values of the transformed variables are listed after the transformation. The default input data frame is <code>d</code>.
</p>
<p>Guidance and feedback regarding the transformations are provided by default. The first five lines of the input data frame are listed before the transformation, then the specified transformations are listed, followed by the first five lines of the transformed data frame.
</p>
<p>Multiple transformations can be defined with a single statement. Note that a newly created transformed variable cannot then be used to define another transformed variable in the same <code>Transform()</code> function call.  Instead, the transformed variable that depends on an earlier created transformed variable must be defined in its own <code>Transform()</code> function call.
</p>


<h3>Value</h3>

<p>The transformed data frame is returned, usually assigned the name of <code>d</code> as in the examples below.  This is the default name for the data frame input into the <code>lessR</code> data analysis functions.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+transform">transform</a></code>, <code><a href="base.html#topic+factor">factor</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># construct data frame
d &lt;- read.table(text="Status Severity
1 Mild
4 Moderate
3 Moderate
2 Mild
1 Severe", header=TRUE)

# replace Status with a transformed version
d &lt;- Transform(Status=Status-1)

# replace Status with a transformed version
# leave input d unmodified
# save transformed data frame to the created data frame called newdata
newdata &lt;- Transform(Status=Status-1)

# construct data frame
# recode Status into a factor
d &lt;- Transform(Status=factor(Status, labels=c("OK","Hurts","Painful","Yikes")))

# read lessR data set dataEmployee into data frame d
d &lt;- Read("Employee")
# multiple transformations in one statement
#  Months is a new variable
#  Salary is a new version of the old Salary
#  JobSat was read as non-numeric, so as a factor, but is also ordinal
#  Plan was read as numeric values 0,1,2, now converted to a factor
d &lt;- Transform(
  Months=Years*12, 
  Salary=Salary/1000,
  Plan=factor(Plan,
     levels=c(0,1,2), labels=c("GoodHealth", "YellowCross", "BestCare"))
)
# new variable Months now exists
# if relevant, supply a corresponding variable label
# d &lt;- label(Months, "Months Employed in the Company")
# confirm
db()


# ----------------------------
# transformations with factors
# ----------------------------

# transform a nominal variable to ordinal, re-order the categories
d &lt;- Transform(JobSat=
  factor(JobSat, levels=c("low", "med", "high"), ordered=TRUE))

# recode levels of a factor that should remain a factor
#   with the Transform and factor functions
# using Recode destroys the factor attribute, converting to
#   character strings instead, so Recode does not allow
d &lt;- Read("Employee")
d &lt;- Transform(
    Gender=factor(Gender, levels=c("F", "M"), labels=c("Female", "Male"))
)

# recode levels of a factor to convert to integer first by
#   converting to integer with Transform and as.numeric
# here Gender has values M and F in the data
# integers start with 1 through the number of levels, can use
#    Recode to change this if desired, such as to 0 and 1
# Gender is now a factor to illustrate
d &lt;- Transform(Gender=as.numeric(Gender))
d &lt;- recode(Gender, old=c(1,2), new=c(0,1))

# recode integer values to levels of a factor with value labels
#   with the Transform function instead of Recode
# here Gender has values 0 and 1 in the data
d &lt;- Read("Mach4")
d &lt;- Transform(
      Gender=factor(Gender, levels=c(0,1), labels=c("Male","Female"))
      )
# ----------------------------
</code></pre>

<hr>
<h2 id='ttest'>Generic Method for t-test and Standardized Mean Difference with Enhanced Graphics</h2><span id='topic+ttest'></span><span id='topic+tt'></span><span id='topic+tt_brief'></span>

<h3>Description</h3>

<p>Abbreviation: <code>tt</code>, <code>tt_brief</code>
</p>
<p>Provides enhanced output from the standard <code><a href="stats.html#topic+t.test">t.test</a></code> function applied to the analysis of the mean of a single variable, or the independent groups analysis of the mean difference, from either data or summary statistics. Includes the analysis of a dependent-groups analysis from the data. The data can be in the form of a data frame or separate vectors of data, one for each group. This output includes the basic descriptive statistics, analysis of assumptions and the hypothesis test and confidence interval. For two groups the output also includes the analysis for both with and without the assumption of homogeneous variances, the pooled or within-group standard deviation, and the standardized mean difference or Cohen's <em>d</em> and its confidence interval.
</p>
<p>The output from data for two groups introduces the <abbr><span class="acronym">ODDSMD</span></abbr> plot, which displays the Overlapping Density Distributions of the two groups as well as the means, mean difference and Standardized Mean Difference. The plot also includes the results of the descriptive and inferential analyses. For the dependent-groups analysis, a scatter plot of the two groups of data also is produced, which includes the diagonal line through the scatter plot that represents equality, and a line segment for each point in the scatter plot which is the vertical distance from the point to the diagonal line to display the amount of change.
</p>
<p>Can also be called from the more general <code><a href="#topic+model">model</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ttest(x=NULL, y=NULL, data=d, rows=NULL, paired=FALSE,

         n=NULL, m=NULL, s=NULL, mu=NULL, 
         n1=NULL, n2=NULL, m1=NULL, m2=NULL, s1=NULL, s2=NULL, 

         Ynm="Y", Xnm="X", X1nm="Group1", X2nm="Group2", xlab=NULL, 

         brief=getOption("brief"), digits_d=NULL, conf_level=0.95,
         alternative=c("two_sided", "less", "greater"),
         mmd=NULL, msmd=NULL, Edesired=NULL, 

         show_title=TRUE, bw1="bcv", bw2="bcv",

         graph=TRUE, line_chart=FALSE, quiet=getOption("quiet"),
         width=5, height=5, pdf_file=NULL, ...)       

tt_brief(...)

tt(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ttest_+3A_x">x</code></td>
<td>
<p>A <code><a href="stats.html#topic+formula">formula</a></code> of the form Y ~ X, where Y is the 
numeric response variable compared across the two groups, and X is a
grouping variable with two levels that define the corresponding groups,
or, if the data are submitted in the form of two vectors, the responses
for the first group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_y">y</code></td>
<td>
<p>If <code>x</code> is not a formula, the responses for the second group,
otherwise <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ttest_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variable of interest, default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="ttest_+3A_rows">rows</code></td>
<td>
<p>A logical expression that specifies a subset of rows of the data frame
to analyze.</p>
</td></tr>
<tr><td><code id="ttest_+3A_paired">paired</code></td>
<td>
<p>Set to <code>TRUE</code> for a dependent-samples t-test with two data
vectors or variables from a data frame, with the difference computed
from subtracting the first vector from the second.</p>
</td></tr>
<tr><td><code id="ttest_+3A_n">n</code></td>
<td>
<p>Sample size for one group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_m">m</code></td>
<td>
<p>Sample size for one group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_s">s</code></td>
<td>
<p>Sample size for one group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_mu">mu</code></td>
<td>
<p>Hypothesized mean for one group. If not present, then confidence interval only.</p>
</td></tr>
<tr><td><code id="ttest_+3A_n1">n1</code></td>
<td>
<p>Sample size for first of two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_n2">n2</code></td>
<td>
<p>Sample size for second of two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_m1">m1</code></td>
<td>
<p>Sample mean for first of two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_m2">m2</code></td>
<td>
<p>Sample mean for second of two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_s1">s1</code></td>
<td>
<p>Sample standard deviation for first of two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_s2">s2</code></td>
<td>
<p>Sample standard deviation for second of two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_ynm">Ynm</code></td>
<td>
<p>Name of response variable.</p>
</td></tr>
<tr><td><code id="ttest_+3A_xnm">Xnm</code></td>
<td>
<p>Name of predictor variable, the grouping variable or factor with exactly
two levels.</p>
</td></tr>
<tr><td><code id="ttest_+3A_x1nm">X1nm</code></td>
<td>
<p>Value of grouping variable, the level that defines the first group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_x2nm">X2nm</code></td>
<td>
<p>Value of grouping variable, the level that defines the second group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label, defaults to variable name, or, if present, variable label.</p>
</td></tr>
<tr><td><code id="ttest_+3A_brief">brief</code></td>
<td>
<p>If set to <code>TRUE</code>, reduced text output. Can change system default with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="ttest_+3A_digits_d">digits_d</code></td>
<td>
<p>Number of decimal places for which to display numeric values_ Suggestion only.</p>
</td></tr>
<tr><td><code id="ttest_+3A_conf_level">conf_level</code></td>
<td>
<p>Confidence level of the interval, expressed as a proportion.</p>
</td></tr>
<tr><td><code id="ttest_+3A_alternative">alternative</code></td>
<td>
<p>Default is <code>"two_sided"</code>. Other values are <code>"less"</code>
and <code>"greater"</code>.</p>
</td></tr>
<tr><td><code id="ttest_+3A_mmd">mmd</code></td>
<td>
<p>Minimum Mean Difference of practical importance, the difference of the
response variable between two group means. The concept is optional, and
only one of mmd and msmd is provided.</p>
</td></tr>
<tr><td><code id="ttest_+3A_msmd">msmd</code></td>
<td>
<p>For the Standardized Mean Difference, Cohen's d, the Minimum value of
practical importance. The concept is optional, and only one of mmd and msmd
is provided.</p>
</td></tr>
<tr><td><code id="ttest_+3A_edesired">Edesired</code></td>
<td>
<p>The desired margin of error for the needed sample size
calculation for a 95% confidence interval, based on Kupper and Hafner (1989).</p>
</td></tr>
<tr><td><code id="ttest_+3A_show_title">show_title</code></td>
<td>
<p>Show the title on the graph of the density functions for
two groups.</p>
</td></tr>
<tr><td><code id="ttest_+3A_bw1">bw1</code></td>
<td>
<p>Bandwidth for the computation of the densities for the first group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_bw2">bw2</code></td>
<td>
<p>Bandwidth for the computation of the densities for the second group.</p>
</td></tr>
<tr><td><code id="ttest_+3A_graph">graph</code></td>
<td>
<p>If <code>TRUE</code>, then display the graph of the overlapping density distributions.</p>
</td></tr>
<tr><td><code id="ttest_+3A_line_chart">line_chart</code></td>
<td>
<p>Plot the run chart for the response variable for each group
in the analysis.</p>
</td></tr>
<tr><td><code id="ttest_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default
with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="ttest_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="ttest_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="ttest_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which the density graph is redirected.
Also specifies to save the line charts with pre-assigned names if they
are computed.</p>
</td></tr>
<tr><td><code id="ttest_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>OVERVIEW<br />
If <code>n</code> or <code>n1</code> are set to numeric values, then the analysis proceeds from the summary statistics, the sample size and mean and standard deviation of each group. Missing data are counted and then removed for further analysis of the non-missing data values_  Otherwise the analysis proceeds from data, which can be in a data frame, by default named <code>d</code>, with a grouping variable and response variable, or in two data vectors, one for each group.
</p>
<p>Following the format and syntax of the standard <code><a href="stats.html#topic+t.test">t.test</a></code> function, to specify the two-group test with a formula, <code><a href="stats.html#topic+formula">formula</a></code>, the data must include a variable that has exactly two values, a grouping variable or factor generically referred to as X, and a numerical response variable, generically referred to as Y. The formula is of the form Y ~ X, with the names Y and X replaced by the actual variable names specific to a particular analysis.  The formula method automatically retrieves the names of the variables and data values for display on the resulting output.
</p>
<p>The values of the response variable Y can be organized into two vectors, the values of Y for each group in its corresponding vector. When submitting data in this form, the output is enhanced if the actual names of the variables referred to generically as X and Y, as well as the names of the levels of the factor X, are explicitly provided. 
</p>
<p>For the output, when computed from the data the two groups are automatically arranged so that the group with the larger mean is listed as the first group.  The result is that the resulting mean difference, as well as the standardized mean difference, is always non-negative.
</p>
<p>The inferential analysis in the full version provides both homogeneity of variance and the Welch test which does not assume homogeneity of variance. Only a two-sided test is provided.  The null hypothesis is a population mean difference of 0.
</p>
<p>If computed from the data, the bandwidth parameter controls the smoothness of the estimated density curve.  To obtain a smoother curve, increase the bandwidth from the default value.
</p>
<p>DATA<br />
If the input data frame is named something different than <code>d</code>, then specify the name with the <code>data</code> option.  Regardless of its name, the data frame need not be attached to reference the variable directly by its name without having to invoke the d$name notation. 
</p>
<p>PRACTICAL IMPORTANCE<br />
The practical importance of the size of the mean difference is addressed when one of two parameter values are supplied, the minimum mean difference of practical importance, mmd, or the corresponding standardized version, msmd.  The  remaining value is calculated and both values are added to the graph and the console output.
</p>
<p>DECIMAL DIGITS<br />
The number of decimal digits is determined by default from the largest number of decimal digits of the entered descriptive statistics.  The number of decimal digits is then set at that value, plus one more with a minimum of two decimal digits by default.  Or, override the default with the <code>digits_d</code> parameter.
</p>
<p>VARIABLE LABELS<br />
If variable labels exist, then the corresponding variable label is by default listed as the label for the horizontal axis and on the text output. For more information, see <code><a href="#topic+Read">Read</a></code>.
</p>
<p>PDF OUTPUT<br />
To obtain pdf output, use the <code>pdf_file</code> option, perhaps with the optional <code>width</code> and <code>height</code> options. These files are written to the default working directory, which can be explicitly specified with the R <code><a href="base.html#topic+setwd">setwd</a></code> function.
</p>


<h3>Value</h3>

<p>Returned value is NULL except for a two-group analysis from a formula.  Then the values for the response variable of the two groups are separated and returned invisibly as a list for further analysis as indicated in the examples below. The first group of data values is the group with the largest sample mean.
</p>
<table>
<tr><td><code>value1</code></td>
<td>
<p>Value of the grouping variable for the first group.</p>
</td></tr>
<tr><td><code>group1</code></td>
<td>
<p>Data values for the first group.</p>
</td></tr>
<tr><td><code>value2</code></td>
<td>
<p>Value of the grouping variable for the second group.</p>
</td></tr>
<tr><td><code>group2</code></td>
<td>
<p>Data values for the second group.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>References</h3>

<p>Gerbing, D. W. (2023). <em>R Data Analysis without Programming: Explanation and Interpretation</em>, 2nd edition, Chapters 6 and 7, NY: Routledge.
</p>
<p>Kupper and Hafner (1989). The American Statistician, 43(2):101-105.
</p>


<h3>See Also</h3>

<p><code><a href="stats.html#topic+t.test">t.test</a></code>, <code><a href="stats.html#topic+density">density</a></code>, <code><a href="stats.html#topic+plot.density">plot.density</a></code>, <code><a href="#topic+ttestPower">ttestPower</a></code>, <code><a href="stats.html#topic+formula">formula</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># ----------------------------------------------------------
# tt for two groups, from a formula
# ----------------------------------------------------------

d &lt;- Read("Employee", quiet=TRUE)


# analyze data with formula version
# variable names and levels of X are automatically obtained from data
# although data frame not attached, reference variable names directly
ttest(Salary ~ Gender)

# short form
#tt(Salary ~ Gender)

# brief version of results
tt_brief(Salary ~ Gender)

# return the vectors group1 and group2 into the object t.out
# separate the data values for the two groups and analyze separately
Y &lt;- rnorm(100)
ttest(Y)
t.out &lt;- ttest(Salary ~ Gender)
Histogram(group1, data=t.out)
Histogram(group2, data=t.out)

# compare to standard R function t.test
t.test(d$Salary ~ d$Gender, var.equal=TRUE)

# consider the practical importance of the difference
ttest(Salary ~ Gender, msmd=.5)

# obtain the line chart of the response variable for each group
ttest(Salary ~ Gender, line_chart=TRUE)

# variable of interest is in a data frame which is not the default d
# access the data frame in the lessR dataLearn data set
# although data not attached, access the variables directly by their name
data(dataLearn)
ttest(Score ~ StudyType, data=dataLearn)


# ----------------------------------------------------------
# tt for a single group, from data
# ----------------------------------------------------------

# summary statistics, confidence interval only, from data
ttest(Salary)

# confidence interval and hypothesis test, from data
ttest(Salary, mu=52000)

# just with employees with salaries less than $100,000
ttest(Salary, mu=52000, rows=(Salary &lt; 100000))


# -------------------------------------------------------
# tt for two groups from data stored in two vectors 
# -------------------------------------------------------

# create two separate vectors of response variable Y
# the vectors exist are not in a data frame
#   their lengths need not be equal
Y1 &lt;- round(rnorm(n=10, mean=50, sd=10),2)
Y2 &lt;- round(rnorm(n=10, mean=60, sd=10),2)

# analyze the two vectors directly
# usually explicitly specify variable names and levels of X
#   to enhance the readability of the output
ttest(Y1, Y2, Ynm="MyY", Xnm="MyX", X1nm="Group1", X2nm="Group2")

# dependent groups t-test from vectors in global environment
ttest(Y1, Y2, paired=TRUE)

# dependent groups t-test from variables in data frame d
d &lt;- data.frame(Y1,Y2)
rm(Y1);  rm(Y2)
ttest(Y1, Y2, paired=TRUE)
# independent groups t-test from variables (vectors) in a data frame
ttest(Y1, Y2)


# -------------------------------------------------------
# tt from summary statistics
# -------------------------------------------------------

# one group: sample size, mean and sd
# optional variable name added
tt(n=34, m=8.92, s=1.67, Ynm="Time")

# confidence interval and hypothesis test, from descriptive stats
# get rid of the data frame, analysis should still proceed
rm(d)
tt_brief(n=34, m=8.92, s=1.67, mu=9, conf_level=0.90)

# two groups: sample size, mean and sd for each group
# specify the briefer form of the output
tt_brief(n1=19, m1=9.57, s1=1.45, n2=15, m2=8.09, s2=1.59)
</code></pre>

<hr>
<h2 id='ttestPower'>Compute a Power Curve for a One or Two Group t-test</h2><span id='topic+ttestPower'></span><span id='topic+ttp'></span>

<h3>Description</h3>

<p>Abbreviation: <code>ttp</code>
</p>
<p>From one or two sample sizes, and either the within-cell (pooled) standard deviation, or one or two separate group standard deviations, generate and calibrate a power curve for either the one-sample t-test or the independent-groups t-test, as well as ancillary statistics.  Uses the standard R function <code>power.t.test</code> to calculate power and then the <code><a href="#topic+ScatterPlot">ScatterPlot</a></code> function in this package to automatically display the annotated power curve with colors.
</p>
<p>For both the one and two-group t-tests, power is calculated from a single sample size and single standard deviation. For the two-sample test, the within-group standard deviation is automatically calculated from the two separate group standard deviations if not provided directly. Similarly, the harmonic mean of two separate sample sizes is calculated if two separate sample sizes are provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ttestPower(n=NULL, s=NULL, n1=NULL, n2=NULL, s1=NULL, s2=NULL, 
         mmd=NULL, msmd=NULL, mdp=.8, mu=NULL, 
         pdf_file=NULL, width=5, height=5, ...)

ttp(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ttestPower_+3A_n">n</code></td>
<td>
<p>Sample size for each of the two groups.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_s">s</code></td>
<td>
<p>Within-group, or pooled, standard deviation.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_n1">n1</code></td>
<td>
<p>Sample size for Group 1.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_n2">n2</code></td>
<td>
<p>Sample size for Group 2.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_s1">s1</code></td>
<td>
<p>Sample standard deviation for Group 1.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_s2">s2</code></td>
<td>
<p>Sample standard deviation for Group 2.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_mmd">mmd</code></td>
<td>
<p>Minimum Mean Difference of practical importance, the difference of the
response variable between two group means. The concept is optional, and only one of <code>mmd</code> and <code>msmd</code> is provided.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_msmd">msmd</code></td>
<td>
<p>For the Standardized Mean Difference, Cohen's <code>d</code>, the Minimum value of
practical importance. The concept is optional, and only one of <code>mmd</code> and <code>msmd</code> is provided.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_mdp">mdp</code></td>
<td>
<p>Minimum Desired Power, the smallest value of power considered to provide
sufficient power. Default is 0.8. If changed to 0 then the concept is dropped from the analysis.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_mu">mu</code></td>
<td>
<p>Hypothesized mean, of which a provided value triggers a one-sample 
analysis.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_pdf_file">pdf_file</code></td>
<td>
<p>Name of the pdf file to which graphics are redirected.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_width">width</code></td>
<td>
<p>Width of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_height">height</code></td>
<td>
<p>Height of the pdf file in inches.</p>
</td></tr>
<tr><td><code id="ttestPower_+3A_...">...</code></td>
<td>
<p>Other parameter values, such as <code>lwd</code> and <code>lab_cex</code> from <code><a href="graphics.html#topic+plot">plot</a></code>
and <code>col.line</code> and <code>col.bg</code> from <code><a href="#topic+ScatterPlot">ScatterPlot</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function relies upon the standard <code><a href="stats.html#topic+power.t.test">power.t.test</a></code> function to calibrate and then calculate the power curve according to the relevant non-central t-distribution. The <code><a href="#topic+Plot">Plot</a></code> function from this package, which in turn relies upon the standard <code><a href="graphics.html#topic+plot">plot</a></code> function, plots the power curve. As such, parameters in <code><a href="#topic+Plot">Plot</a></code> for controlling the different colors and other aspects of the display are also available, as are many of the more basic parameters in the usual <code><a href="graphics.html#topic+plot">plot</a></code> function.
</p>
<p>Also plotted, if provided, is the minimal meaningful difference, <code>mmd</code>, as well as the minimal desired power, <code>mdp</code>, provided by default.  Relevant calculations regarding these values are also displayed at the console.  One or both concepts can be deleted from the analysis.  Not providing a value <code>mmd</code> implies that the concept will not be considered, and similarly for setting <code>mdp</code> to 0.
</p>
<p>Invoke the function with the either the within-group (pooled) standard deviation, <code>s</code>, or the two separate group standard deviations, <code>s1</code> and <code>s2</code>, from which <code>s</code> is computed.  If the separate standard deviations are provided, then also provide the sample sizes, either as a single value of <code>n</code> or as two separate sample sizes, <code>n1</code> and <code>n2</code>.  If separate sample sizes <code>n1</code> and <code>n2</code> are entered, their harmonic mean serves as the value of <code>n</code>.
</p>
<p>For power analysis of the two-sample t-test, the null hypothesis is a zero population mean difference.  For a one-sample test, the null hypothesis is specified, and it is this non-null specification of mu that triggers the one-sample analysis. Only non-directional or two-tailed tests are analyzed.
</p>
<p>The  effect size that achieves a power of 0.8 is displayed. If a minimal meaningful difference, <code>mmd</code>, is provided, then the  associated power is also displayed, as well as the needed sample size to achieve a power of 0.8.
</p>
<p>If the function is called with no parameter values, that is, as <code>ttp()</code>, then the values of <code>n1</code>, <code>n2</code> and sw must already exist before the function call.  If they do, these values are used in the power computations.  
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Plot">Plot</a></code>, <code><a href="graphics.html#topic+plot">plot</a></code>, <code><a href="stats.html#topic+power.t.test">power.t.test</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># default power curve and colors
ttestPower(n=20, s=5)
# short name
ttp(n=20, s=5)

# default power curve and colors
# plus optional smallest meaningful effect to enhance the analysis
ttestPower(n=20, s=5, mmd=2)

# power curve from both group standard deviations and sample sizes
# also provide the minimum standardized mean difference of 
#   practical importance to obtain corresponding power
ttestPower(n1=14, n2=27, s1=4, s2=6, msmd=.5)
  
# power curve for one sample t-test, triggered by non-null mu
ttestPower(n=20, s=5, mu=30, mmd=2)
</code></pre>

<hr>
<h2 id='values'>List the Values of a Variable</h2><span id='topic+values'></span>

<h3>Description</h3>

<p>List the values of a variable from the global environment or a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>values(x, data=d, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="values_+3A_x">x</code></td>
<td>
<p>Variable for which to construct the histogram and density plots.</p>
</td></tr>
<tr><td><code id="values_+3A_data">data</code></td>
<td>
<p>Data frame that contains the variable of interest, default is <code>d</code>.</p>
</td></tr>
<tr><td><code id="values_+3A_...">...</code></td>
<td>
<p>Other parameter values for as defined processed 
by <code><a href="base.html#topic+print">print</a></code>, including <code>digits</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provided for listing the values of a variable in an unattached data frame.  All <code>lessR</code> functions that access data for analysis from a data frame, such as the default <code>d</code> provided by the <code><a href="#topic+Read">Read</a></code> function that reads the data frame from an external data file, do not require the data frame to be attached.  Attaching a data frame can lead to some confusing issues, but one negative of not attaching is that simply listing the name of a variable within the data frame leads to an 'object not found' error.  The <code>values</code> function provides access to that variable within a data frame just as is true for any other <code>lessR</code> function that accesses data.
</p>
<p>The function displays the values of the specified variable with the standard R <code><a href="base.html#topic+print">print</a></code> function, so parameter values for <code><a href="base.html#topic+print">print</a></code> can also be passed to <code>values</code>.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+print">print</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># generate 10 random normal data values
Y &lt;- rnorm(10)
d &lt;- data.frame(Y)
rm(Y)

# list the values of Y
values(Y)

# variable of interest is in a data frame which is not the default d
# access the breaks variable in the R provided warpbreaks data set
# although data not attached, access the variable directly by its name
data(warpbreaks)
values(breaks, data=warpbreaks)
</code></pre>

<hr>
<h2 id='VariableLabels'>Create or Display Variable Labels</h2><span id='topic+VariableLabels'></span><span id='topic+vl'></span>

<h3>Description</h3>

<p>Assign and/or display variable labels stored in the data frame <code>l</code>. Variable labels enhance output of analyses either as text output at the console or as graphics, such as an axis label on a graph.  The variable labels can be assigned individually, or for some or all variables. 
</p>
<p>NOTE: Mostly deprecated. Can just set <code>var_labels=TRUE</code> on for a call to 
<code><a href="#topic+Read">Read</a></code> to read a file of variable labels, and assign the output to <code>l</code>. Still needed to pull labels out of data frame from an SPSS read, or to read units to generate Rmd files from <code><a href="#topic+Regression">Regression</a></code> .
</p>


<h3>Usage</h3>

<pre><code class='language-R'>VariableLabels(x, value=NULL, quiet=getOption("quiet"))

vl(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="VariableLabels_+3A_x">x</code></td>
<td>
<p>The file reference or character string variable (see examples)
from which to obtain the variable labels, or a variable name for which
to assign or obtain the corresponding variable label in conjunction with
the <code>value</code> parameter. Can also be a data frame from which to
extract any existing variable labels.</p>
</td></tr>
<tr><td><code id="VariableLabels_+3A_value">value</code></td>
<td>
<p>The variable label assigned to a specific variable,
otherwise <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="VariableLabels_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system
default with <code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="VariableLabels_+3A_...">...</code></td>
<td>
<p>Other parameter values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Unlike standard R, <code>lessR</code> provides for variable labels, here stored in the data frame <code>l</code>. To read the labels from an external file, specify a file reference as the first argument of the function call. Or create a character string of variable names and labels and specify the character string as the first argument to the function call. To assign an individual variable label with this function specify the variable name as the first argument followed by the label in quotes. Not all variables need have a label, and the variables with their corresponding labels can be listed or assigned in any order. If the <code>l</code> data frame is created or modified, the output of the function must be assigned to <code>l</code>, as shown in the following examples.
</p>
<p>When all or some of the labels are read, either from the console or an external <code>csv</code> or <code>Excel</code> file, each line of the file contains the variable name and then the associated variable label. The file types of <code>.csv</code> and <code>.xlsx</code> in the file reference listed in the first position of the function call are what trigger the interpretation of the argument as a file reference. 
</p>
<p>For a file that contains only labels, each row of the file, including the first row, consists of the variable name, a comma if a <code>csv</code> file, and then the label. For the <code>csv</code> form of the file, this is the standard <code>csv</code> format such as obtained with the <code>csv</code> option from a standard worksheet application such as Microsoft Excel or LibreOffice Calc. Not all variables in the data frame that contains the data, usually <code>d</code>, need have a label, and the variables with their corresponding labels can be listed in any order. An example of this file follows for four variables, I1 through I4, and their associated labels.
</p>
<p>I2,This instructor presents material in a clear and organized manner.<br />
I4,Overall, this instructor was highly effective in this class.<br />
I1,This instructor has command of the subject.<br />
I3,This instructor relates course materials to real world situations.<br />
</p>
<p>If there is a comma in the variable label, then the label needs to be enclosed in quotes.
</p>
<p>The <code>lessR</code> functions that provide analysis, such as <code><a href="#topic+Histogram">Histogram</a></code> for a histogram, automatically include the variable labels in their output, such as the title of a graph.  Standard R functions can also use these variable labels by invoking the <code>lessR</code> function <code><a href="#topic+label">label</a></code>, such as setting <code>main=label(I4)</code> to put the variable label for a variable named I4 in the title of a graph.  
</p>
<p>Variable units may also be added to the third column of a variable label file. These are used for generating a better natural language text in the generation of R~Markdown files with the <code>Rmd</code> option on supporting functions such as <code><a href="#topic+Regression">Regression</a></code>. For currency (USD), indicate with unit: dollar.
a
</p>


<h3>Value</h3>

<p>The data frame with the variable labels is returned. 
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Read">Read</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# read file and then variable labels from csv files
# l &lt;- Read("http://lessRstats.com/data/employee.csv")
# l &lt;- VariableLabels("http://lessRstats.com/data/employee_lbl.csv")

# construct and read variable labels from console
lbl &lt;- "
Years, Years of Company Employment
Gender, Male or Female
Dept, Department Employed
Salary, Annual Salary (USD)
JobSat, JobSat with Work Environment
Plan, 1=GoodHealth 2=YellowCross 3=BestCare
"
l &lt;- VariableLabels(lbl)
l

# add/modify a single variable label
l &lt;- VariableLabels(Salary, "Annual Salaries in USD")
l

# list the contents of a single variable label
VariableLabels(Salary)

# display all variable labels
VariableLabels()

</code></pre>

<hr>
<h2 id='Write'>Write the Contents of a Data Frame to an External File</h2><span id='topic+Write'></span><span id='topic+wrt'></span><span id='topic+wrt_r'></span><span id='topic+wrt_x'></span>

<h3>Description</h3>

<p>Abbreviation: <code>wrt</code>, <code>wrt_r</code>, <code>wrt_x</code>
</p>
<p>Writes the contents of the specified data frame, such as with the default <code>d</code>, to the current working directory as either the default <code>csv</code> data file, an Excel data table, an OpenDocument Spreadsheet file, an arrow <code>feather</code> or <code>parquet</code> file, or a native R data file of the specified data frame. If the write is for a <code>csv</code> file, then any variable labels are written to a second <code>csv</code> file with &quot;_lbl&quot; appended to the file name. Any variable labels and variable units are automatically included in a native R data file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Write(data=d, to=NULL, 

         format=c("csv", "R", "Excel", "ODS", "SPSS", "feather", "parquet"),

         rowNames=NULL,

         ExcelTable=FALSE, ExcelColWidth=TRUE,

         quiet=getOption("quiet"), ...)

wrt(...)

wrt_r(..., format="R")
wrt_x(..., format="Excel")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Write_+3A_to">to</code></td>
<td>
<p>Name of the output file as a character string, that is, with quotes.
If not included in the name, the file type is automatically added to the
name, either <code>.csv</code> or <code>.rda</code>, depending of the value of
<code>format</code>.</p>
</td></tr>
<tr><td><code id="Write_+3A_data">data</code></td>
<td>
<p>Data frame to be written as an object, that is, no quotes.</p>
</td></tr>
<tr><td><code id="Write_+3A_format">format</code></td>
<td>
<p>Format of file to be written with <code>.csv</code> as the default.</p>
</td></tr>
<tr><td><code id="Write_+3A_rownames">rowNames</code></td>
<td>
<p>Format of file to be written with <code>.csv</code> as the default.
Set to <code>TRUE</code> by default unless writing to Excel or csv file
and row names are just the integers from 1 to the number of rows.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Write_+3A_exceltable">ExcelTable</code></td>
<td>
<p>If <code>TRUE</code>, write the Excel file as an Excel table.</p>
</td></tr>
<tr><td><code id="Write_+3A_excelcolwidth">ExcelColWidth</code></td>
<td>
<p><code>TRUE</code> by default but calculation of column widths for
large files takes more time, so option to turn off.</p>
</td></tr></table>
<p><br />
</p>
<table>
<tr><td><code id="Write_+3A_quiet">quiet</code></td>
<td>
<p>If set to <code>TRUE</code>, no text output. Can change system default with
<code><a href="#topic+style">style</a></code> function.</p>
</td></tr>
<tr><td><code id="Write_+3A_...">...</code></td>
<td>
<p>Other parameter values for <code>csv</code> files consistent with the
usual <code><a href="utils.html#topic+write.table">write.table</a></code>, including <code>na=""</code> to write missing
data to a <code>csv</code> file as blanks instead of <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Can specify the file name without the file type, which <code>Write</code> adds automatically, <code>.csv</code> for a comma separated values data file and <code>.rda</code> for a native R data file. The default file name is the name of the data frame to be written. The name of the file that is written, as well as the name of the working directory into which the file was written, are displayed at the console. 
</p>
<p>An Excel file is written using functions from Alexander Walker's <code><a href="openxlsx.html#topic+openxlsx">openxlsx</a></code> package.
</p>
<p><code>Write</code> is designed to work in conjunction with the function <code><a href="#topic+Read">Read</a></code> from this package, which reads a csv, fixed width format, or native SPSS or R data files into the data frame <code>d</code>. <code>Write</code> relies upon the R functions <code><a href="utils.html#topic+write.csv">write.csv</a></code> and <code><a href="base.html#topic+save">save</a></code>.
</p>
<p>When writing the data frame in native R format, the specified name of the resulting <code>.rda</code> file is distinct from the name of the data frame as stored within R.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>See Also</h3>

<p><code><a href="#topic+Read">Read</a></code>, <code><a href="utils.html#topic+write.csv">write.csv</a></code>, <code><a href="base.html#topic+save">save</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># create data frame called d
#n &lt;- 12
#X &lt;- sample(c("Group1","Group2"), size=n, replace=TRUE)
#Y &lt;- rnorm(n=n, mean=50, sd=10)
#d &lt;- data.frame(X,Y)

# write the current contents of default data frame d to GoodData.csv
# Write(d, "GoodData")
# short name
# write the default data frame d to the R data file d.rda
#  wrt_r()

# write the data as an Excel data table in an Excel file
# Write(d, "GoodData", format="Excel")
# with abbreviation
# wrt_x(d, "GoodData")

# access the R data frame warpbreaks
#   then, write the file warpbreaks.rda
# data(warpbreaks)
# wrt_r(warpbreaks)

</code></pre>

<hr>
<h2 id='xAnd'>Text Processing: Insert and Into a List</h2><span id='topic+xAnd'></span>

<h3>Description</h3>

<p>Inserts the word <code>and</code> into a vector of words, each a separate character string. Primarily for internal use in text processing of <code>knitr</code> output. Not usually referenced by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xAnd(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xAnd_+3A_x">x</code></td>
<td>
<p>The set of character strings for which to insert <code>and</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input is a vector of character strings, output is a single character string with <code>and</code> inserted if needed.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>xAnd(c("sky", "land", "mountains"))
</code></pre>

<hr>
<h2 id='xNum'>Text Processing: Convert a Number to a Word</h2><span id='topic+xNum'></span>

<h3>Description</h3>

<p>Converts a number to a word. Primarily for internal use in text processing of <code>knitr</code> output. Not usually referenced by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  xNum(x) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xNum_+3A_x">x</code></td>
<td>
<p>The integer to convert.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input is an integer, or coerced to integer after rounding. For integers from 0 to 12, output is the single English word. For values larger than 12, or negative, the integer is just converted to character format.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>xNum(5)
</code></pre>

<hr>
<h2 id='xP'>Text Processing: Print Formatted Numbers</h2><span id='topic+xP'></span>

<h3>Description</h3>

<p>Prints numbers nicely formatted, with optional units. Primarily for internal use in text processing of <code>knitr</code> output. Not usually referenced by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xP(x, d_d=NULL, unit=NULL, semi=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xP_+3A_x">x</code></td>
<td>
<p>The variable.</p>
</td></tr>
<tr><td><code id="xP_+3A_d_d">d_d</code></td>
<td>
<p>The digits.</p>
</td></tr>
<tr><td><code id="xP_+3A_unit">unit</code></td>
<td>
<p>Unit of measurement for the variable.</p>
</td></tr>
<tr><td><code id="xP_+3A_semi">semi</code></td>
<td>
<p>Add a semicolon before the unit to add some horizontal spacing
in math mode.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input is numeric, output is formatted text. A special unit is <code>"$"</code>, which is added to the front of the number instead of as a trailing descriptor.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>xP(12345678.9, d_d=2, unit="$")

xP(12345678.9, d_d=2, unit="lbs")
</code></pre>

<hr>
<h2 id='xRow'>Text Processing: Add the Word Row to Case Labels that Could be Numeric</h2><span id='topic+xRow'></span>

<h3>Description</h3>

<p>For a vector of row names, if the names can be represented as integers the word Row is added to the beginning of each name in the vector. Primarily for internal use in text processing of <code>knitr</code> output. Not usually referenced by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xRow(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xRow_+3A_x">x</code></td>
<td>
<p>Vector with names for each value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input is a vector of values, output is vector of associated row labels, perhaps with the added word Row.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'># The word Row gets added
v &lt;- c(2, 4, 6)
names(v) &lt;- c("1", "2", "3")
xRow(v)

# The word Row does not get added
v &lt;- c(2, 4, 6)
names(v) &lt;- c("Bill", "Tulane", "Hanna")
xRow(v)
</code></pre>

<hr>
<h2 id='xU'>Text Processing: Capitalize First Letter of a Word</h2><span id='topic+xU'></span>

<h3>Description</h3>

<p>Capitalize the first letter of a word. Primarily for internal use in text processing of <code>knitr</code> output. Not usually referenced by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xU(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xU_+3A_x">x</code></td>
<td>
<p>The character string (word) for which to capitalize the first letter.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input is a single word.  Output is the word with its first letter capitalized.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>xU("the")
</code></pre>

<hr>
<h2 id='xW'>Text Processing: Wrap Words to Create New Lines From a Specified Line</h2><span id='topic+xW'></span>

<h3>Description</h3>

<p>Split a larger line into multiple lines by wrapping words with inserted line feeds. Primarily for internal use in text processing of <code>knitr</code> output. Not usually referenced by the user.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>xW(x, w=90, indent=5) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xW_+3A_x">x</code></td>
<td>
<p>The character string to split into separate lines.</p>
</td></tr>
<tr><td><code id="xW_+3A_w">w</code></td>
<td>
<p>Maximum width of each line.</p>
</td></tr>
<tr><td><code id="xW_+3A_indent">indent</code></td>
<td>
<p>Amount of spaces to indent lines after the first line.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Input is a sentence. Output is the sentence word wrapped into multiple lines, each line up to the maximum width.
</p>


<h3>Author(s)</h3>

<p>David W. Gerbing (Portland State University; <a href="mailto:gerbing@pdx.edu">gerbing@pdx.edu</a>)</p>


<h3>Examples</h3>

<pre><code class='language-R'>xW("The quick brown fox jumped over the lazy dog's back.", w=30)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

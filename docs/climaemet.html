<!DOCTYPE html><html><head><title>Help for package climaemet</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {climaemet}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#climaemet-package'><p>climaemet: Climate AEMET Tools</p></a></li>
<li><a href='#aemet_api_key'><p>Install an AEMET API Key</p></a></li>
<li><a href='#aemet_beaches'><p>AEMET beaches</p></a></li>
<li><a href='#aemet_daily_clim'><p>Daily/annual climatology values</p></a></li>
<li><a href='#aemet_detect_api_key'><p>Check if an AEMET API Key is present for the current session</p></a></li>
<li><a href='#aemet_extremes_clim'><p>Extreme values for a station</p></a></li>
<li><a href='#aemet_forecast_beaches'><p>Forecast database for beaches</p></a></li>
<li><a href='#aemet_forecast_daily'><p>Forecast database by municipality</p></a></li>
<li><a href='#aemet_forecast_tidy'><p>Helper functions for extracting forecasts</p></a></li>
<li><a href='#aemet_last_obs'><p>Last observation values for a station</p></a></li>
<li><a href='#aemet_monthly'><p>Monthly/annual climatology</p></a></li>
<li><a href='#aemet_munic'><p>Data set with all the municipalities of Spain</p></a></li>
<li><a href='#aemet_normal'><p>Normal climatology values</p></a></li>
<li><a href='#aemet_stations'><p>AEMET stations</p></a></li>
<li><a href='#climaemet_9434_climatogram'><p>Climatogram data for Zaragoza Airport (&quot;9434&quot;) period 1981-2010</p></a></li>
<li><a href='#climaemet_9434_temp'><p>Average annual temperatures for Zaragoza Airport (&quot;9434&quot;) period 1950-2020</p></a></li>
<li><a href='#climaemet_9434_wind'><p>Wind conditions for Zaragoza Airport (&quot;9434&quot;) period 2000-2020</p></a></li>
<li><a href='#climaemet_news'><p>climaemet_news</p></a></li>
<li><a href='#climatestripes_station'><p>Station climate stripes graph</p></a></li>
<li><a href='#climatogram_normal'><p>Walter &amp; Lieth climatic diagram from normal climatology values</p></a></li>
<li><a href='#climatogram_period'><p>Walter &amp; Lieth climatic diagram for a time period</p></a></li>
<li><a href='#dms2decdegrees'><p>Converts dms to decimal degrees</p></a></li>
<li><a href='#first_day_of_year'><p>First and last day of year</p></a></li>
<li><a href='#get_data_aemet'><p>Client tool for AEMET API</p></a></li>
<li><a href='#ggclimat_walter_lieth'><p>Walter and Lieth climatic diagram on <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a></p></a></li>
<li><a href='#ggstripes'><p>Warming stripes graph</p></a></li>
<li><a href='#ggwindrose'><p>Windrose (speed/direction) diagram</p></a></li>
<li><a href='#windrose_days'><p>Windrose (speed/direction) diagram of a station over a days period</p></a></li>
<li><a href='#windrose_period'><p>Windrose (speed/direction) diagram of a station over a time period</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Climate AEMET Tools</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Tools to download the climatic data of the Spanish
    Meteorological Agency (AEMET) directly from R using their API and
    create scientific graphs (climate charts, trend analysis of climate
    time series, temperature and precipitation anomalies maps, warming
    stripes graphics, climatograms, etc.).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://ropenspain.github.io/climaemet/">https://ropenspain.github.io/climaemet/</a>,
<a href="https://github.com/rOpenSpain/climaemet">https://github.com/rOpenSpain/climaemet</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/rOpenSpain/climaemet/issues">https://github.com/rOpenSpain/climaemet/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 3.0.0), dplyr (&ge; 1.0.0), ggplot2 (&ge; 3.3.2), httr2
(&ge; 1.0.0), jsonlite (&ge; 1.7.0), rappdirs (&ge; 0.3.3), readr (&ge;
1.4.0), rlang (&ge; 0.4.6), tibble (&ge; 3.0.3), tidyr (&ge; 1.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>climatol (&ge; 3.1.2), gganimate (&ge; 1.0.5), jpeg (&ge; 0.1.8),
knitr, lifecycle, lubridate, mapSpain, rmarkdown, scales, sf
(&ge; 0.9.0), testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>cpp11, crosstalk, devtools, geofacet, geoR,
gifski, gstat, leaflet, reactable, scales, sf, terra,
tidyterra, tidyverse, usethis</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Copyright:</td>
<td>© AEMET. See file COPYRIGHTS</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>X-schema.org-applicationCategory:</td>
<td>Meteorology</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>https://ropenspain.es/</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-23 20:47:44 UTC; diego</td>
</tr>
<tr>
<td>Author:</td>
<td>Manuel Pizarro <a href="https://orcid.org/0000-0002-6981-0154"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph],
  Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre] (rOpenSpain),
  Gema Fernández-Avilés
    <a href="https://orcid.org/0000-0001-5934-1916"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Diego Hernangómez &lt;diego.hernangomezherrero@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-23 21:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='climaemet-package'>climaemet: Climate AEMET Tools</h2><span id='topic+climaemet'></span><span id='topic+climaemet-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Tools to download the climatic data of the Spanish Meteorological Agency (AEMET) directly from R using their API and create scientific graphs (climate charts, trend analysis of climate time series, temperature and precipitation anomalies maps, warming stripes graphics, climatograms, etc.).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Diego Hernangómez <a href="mailto:diego.hernangomezherrero@gmail.com">diego.hernangomezherrero@gmail.com</a> (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) (rOpenSpain)
</p>
<p>Authors:
</p>

<ul>
<li><p> Manuel Pizarro (<a href="https://orcid.org/0000-0002-6981-0154">ORCID</a>) [copyright holder]
</p>
</li>
<li><p> Gema Fernández-Avilés (<a href="https://orcid.org/0000-0001-5934-1916">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://ropenspain.github.io/climaemet/">https://ropenspain.github.io/climaemet/</a>
</p>
</li>
<li> <p><a href="https://github.com/rOpenSpain/climaemet">https://github.com/rOpenSpain/climaemet</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/rOpenSpain/climaemet/issues">https://github.com/rOpenSpain/climaemet/issues</a>
</p>
</li></ul>


<hr>
<h2 id='aemet_api_key'>Install an AEMET API Key</h2><span id='topic+aemet_api_key'></span>

<h3>Description</h3>

<p>This function will store your AEMET API key on your local machine so it can
be called securely without being stored in your code.
</p>
<p>Alternatively, you can install the API Key manually:
</p>

<ul>
<li><p> Run <code>Sys.setenv(AEMET_API_KEY = "Your_Key")</code>. You would need to run this
command on each session (Similar to <code>install = FALSE</code>).
</p>
</li>
<li><p> Write this line on your .Renviron file: <code>AEMET_API_KEY = "Your_Key"</code>
(same behavior than <code>install = TRUE</code>). This would store your API key
permanently.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>aemet_api_key(apikey, overwrite = FALSE, install = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_api_key_+3A_apikey">apikey</code></td>
<td>
<p>The API key provided to you from the AEMET formatted in quotes.
A key can be acquired at
<a href="https://opendata.aemet.es/centrodedescargas/inicio">https://opendata.aemet.es/centrodedescargas/inicio</a>. You can install
several API Keys as a vector of characters, see <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="aemet_api_key_+3A_overwrite">overwrite</code></td>
<td>
<p>If this is set to <code>TRUE</code>, it will overwrite an existing
<code>AEMET_API_KEY</code> that you already have in local machine.</p>
</td></tr>
<tr><td><code id="aemet_api_key_+3A_install">install</code></td>
<td>
<p>if <code>TRUE</code>, will install the key in your local machine for
use in future sessions.  Defaults to <code>FALSE.</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>You can pass several <code>apikey</code> values as a vector <code>c(api1, api2)</code>, in this
case several <code>AEMET_API_KEY</code> values would be generated. In each subsequent
api call <a href="https://CRAN.R-project.org/package=climaemet"><span class="pkg">climaemet</span></a> would randomly choose one of the provided
API keys.
</p>
<p>This is useful when performing batch queries to avoid API throttling.
</p>


<h3>Value</h3>

<p>None
</p>


<h3>Note</h3>

<p>To locate your API Key on your local machine, run
<code>rappdirs::user_cache_dir("climaemet", "R")</code>.
</p>


<h3>See Also</h3>

<p>Other aemet_auth: 
<code><a href="#topic+aemet_detect_api_key">aemet_detect_api_key</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Don't run these examples!

if (FALSE) {
  aemet_api_key("111111abc", install = TRUE)

  # You can check it with:
  Sys.getenv("AEMET_API_KEY")
}

if (FALSE) {
  # If you need to overwrite an existing key:
  aemet_api_key("222222abc", overwrite = TRUE, install = TRUE)

  # You can check it with:
  Sys.getenv("AEMET_API_KEY")
}
</code></pre>

<hr>
<h2 id='aemet_beaches'>AEMET beaches</h2><span id='topic+aemet_beaches'></span>

<h3>Description</h3>

<p>Get AEMET beaches.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_beaches(verbose = FALSE, return_sf = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_beaches_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_beaches_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The first result of the API call on each session is (temporarily) cached in
the assigned <code><a href="base.html#topic+tempdir">tempdir()</a></code> for avoiding unneeded API calls.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches()</a></code>
</p>
<p>Other aemet_api_data: 
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(tibble)
beaches &lt;- aemet_beaches()
beaches

# Cached during this R session
beaches2 &lt;- aemet_beaches(verbose = TRUE)

identical(beaches, beaches2)

# Select an map beaches
library(dplyr)
library(ggplot2)
library(mapSpain)

# Alicante / Alacant
beaches_sf &lt;- aemet_beaches(return_sf = TRUE) %&gt;%
  filter(ID_PROVINCIA == "03")

prov &lt;- mapSpain::esp_get_prov("Alicante")

ggplot(prov) +
  geom_sf() +
  geom_sf(
    data = beaches_sf, shape = 4, size = 2.5,
    color = "blue"
  )

</code></pre>

<hr>
<h2 id='aemet_daily_clim'>Daily/annual climatology values</h2><span id='topic+aemet_daily_clim'></span><span id='topic+aemet_daily'></span><span id='topic+aemet_daily_period'></span><span id='topic+aemet_daily_period_all'></span>

<h3>Description</h3>

<p>Get climatology values for a station or for all the available stations.
Note that <code>aemet_daily_period()</code> and <code>aemet_daily_period_all()</code> are shortcuts
of <code>aemet_daily_clim()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_daily_clim(
  station = "all",
  start = Sys.Date() - 7,
  end = Sys.Date(),
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)

aemet_daily_period(
  station,
  start = as.integer(format(Sys.Date(), "%Y")),
  end = start,
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)

aemet_daily_period_all(
  start = as.integer(format(Sys.Date(), "%Y")),
  end = start,
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_daily_clim_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>) or &quot;all&quot; for all the stations.</p>
</td></tr>
<tr><td><code id="aemet_daily_clim_+3A_start">start</code>, <code id="aemet_daily_clim_+3A_end">end</code></td>
<td>
<p>Character string with start and end date. See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="aemet_daily_clim_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_daily_clim_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
<tr><td><code id="aemet_daily_clim_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_daily_clim_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>start</code> and <code>end</code> parameters should be:
</p>

<ul>
<li><p> For <code>aemet_daily_clim()</code>: A <code>Date</code> object or a string with format:
<code>YYYY-MM-DD</code> (<code>"2020-12-31"</code>) coercible with <code><a href="base.html#topic+as.Date">as.Date()</a></code>.
</p>
</li>
<li><p> For <code>aemet_daily_period()</code> and <code>aemet_daily_period_all()</code>: A string
representing the year(s) to be extracted: <code>"2020"</code>, <code>"2018"</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>, <code><a href="base.html#topic+as.Date">as.Date()</a></code>
</p>
<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(tibble)
obs &lt;- aemet_daily_clim(c("9434", "3195"))
glimpse(obs)

# Metadata
meta &lt;- aemet_daily_clim(c("9434", "3195"), extract_metadata = TRUE)

glimpse(meta$campos)

</code></pre>

<hr>
<h2 id='aemet_detect_api_key'>Check if an AEMET API Key is present for the current session</h2><span id='topic+aemet_detect_api_key'></span><span id='topic+aemet_show_api_key'></span>

<h3>Description</h3>

<p>The function would detect if an API Key is available on this session:
</p>

<ul>
<li><p> If an API Key is already set as an environment variable it would be
preserved
</p>
</li>
<li><p> If no environment variable has been set and you have stored permanently
an API Key using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>, the latter would be loaded.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>aemet_detect_api_key(...)

aemet_show_api_key(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_detect_api_key_+3A_...">...</code></td>
<td>
<p>Ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>. <code>aemet_show_api_key()</code> would display your stored API keys.
</p>


<h3>See Also</h3>

<p>Other aemet_auth: 
<code><a href="#topic+aemet_api_key">aemet_api_key</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
aemet_detect_api_key()

# CAUTION: This may reveal API Keys
if (FALSE) {
  aemet_show_api_key()
}
</code></pre>

<hr>
<h2 id='aemet_extremes_clim'>Extreme values for a station</h2><span id='topic+aemet_extremes_clim'></span>

<h3>Description</h3>

<p>Get recorded extreme values for a station.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_extremes_clim(
  station = NULL,
  parameter = "T",
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_extremes_clim_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>).</p>
</td></tr>
<tr><td><code id="aemet_extremes_clim_+3A_parameter">parameter</code></td>
<td>
<p>Character string as temperature (<code>"T"</code>),
precipitation (<code>"P"</code>) or wind (<code>"V"</code>) parameter.</p>
</td></tr>
<tr><td><code id="aemet_extremes_clim_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_extremes_clim_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
<tr><td><code id="aemet_extremes_clim_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_extremes_clim_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object. If the function
finds an error when parsing it would return the result as a <code>list()</code> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>
</p>
<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(tibble)
obs &lt;- aemet_extremes_clim(c("9434", "3195"))
glimpse(obs)

</code></pre>

<hr>
<h2 id='aemet_forecast_beaches'>Forecast database for beaches</h2><span id='topic+aemet_forecast_beaches'></span>

<h3>Description</h3>

<p>Get a database of daily weather forecasts for a beach. Beach database can
be accessed with <code><a href="#topic+aemet_beaches">aemet_beaches()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_forecast_beaches(
  x,
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_forecast_beaches_+3A_x">x</code></td>
<td>
<p>A vector of beaches codes to extract. See <code><a href="#topic+aemet_beaches">aemet_beaches()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_forecast_beaches_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_forecast_beaches_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
<tr><td><code id="aemet_forecast_beaches_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_forecast_beaches_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_beaches">aemet_beaches()</a></code> for beaches codes.
</p>
<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>
<p>Other forecasts: 
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_forecast_tidy">aemet_forecast_tidy</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Forecast for beaches in Palma, Mallorca
library(dplyr)
library(ggplot2)

palma_b &lt;- aemet_beaches() %&gt;%
  filter(ID_MUNICIPIO == "07040")

forecast_b &lt;- aemet_forecast_beaches(palma_b$ID_PLAYA)
glimpse(forecast_b)

ggplot(forecast_b) +
  geom_line(aes(fecha, tagua_valor1, color = nombre)) +
  facet_wrap(~nombre, ncol = 1) +
  labs(
    title = "Water temperature in beaches of Palma (ES)",
    subtitle = "Forecast 3-days",
    x = "Date",
    y = "Temperature (Celsius)",
    color = "Beach"
  )

</code></pre>

<hr>
<h2 id='aemet_forecast_daily'>Forecast database by municipality</h2><span id='topic+aemet_forecast_daily'></span><span id='topic+aemet_forecast_hourly'></span>

<h3>Description</h3>

<p>Get a database of daily or hourly weather forecasts for a given municipality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_forecast_daily(
  x,
  verbose = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)

aemet_forecast_hourly(
  x,
  verbose = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_forecast_daily_+3A_x">x</code></td>
<td>
<p>A vector of municipality codes to extract. For convenience,
<a href="https://CRAN.R-project.org/package=climaemet"><span class="pkg">climaemet</span></a> provides this data on the dataset <a href="#topic+aemet_munic">aemet_munic</a>
(see <code>municipio</code> field) as of January 2024.</p>
</td></tr>
<tr><td><code id="aemet_forecast_daily_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_forecast_daily_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_forecast_daily_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Forecasts format provided by the AEMET API have a complex structure.
Although <a href="https://CRAN.R-project.org/package=climaemet"><span class="pkg">climaemet</span></a> returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>, each
forecasted value is provided as a nested <code><a href="tibble.html#topic+tibble">tibble</a></code>.
<code><a href="#topic+aemet_forecast_tidy">aemet_forecast_tidy()</a></code> helper function can unnest these values an provide a
single unnested <code><a href="tibble.html#topic+tibble">tibble</a></code> for the requested variable.
</p>
<p>If <code>extract_metadata = TRUE</code> a simple <code><a href="tibble.html#topic+tibble">tibble</a></code> describing
the value of each field of the forecast is returned.
</p>


<h3>Value</h3>

<p>A nested <code><a href="tibble.html#topic+tibble">tibble</a></code>. Forecasted values can be
extracted with <code><a href="#topic+aemet_forecast_tidy">aemet_forecast_tidy()</a></code>. See also <strong>Details</strong>.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><a href="#topic+aemet_munic">aemet_munic</a> for municipality codes and <a href="https://CRAN.R-project.org/package=mapSpain"><span class="pkg">mapSpain</span></a> package for
working with <code>sf</code> objects of municipalities (see
<code><a href="mapSpain.html#topic+esp_get_munic">mapSpain::esp_get_munic()</a></code> and <strong>Examples</strong>).
</p>
<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>
<p>Other forecasts: 
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_tidy">aemet_forecast_tidy</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

# Select a city
data("aemet_munic")
library(dplyr)
munis &lt;- aemet_munic %&gt;%
  filter(municipio_nombre %in% c("Santiago de Compostela", "Lugo")) %&gt;%
  pull(municipio)

daily &lt;- aemet_forecast_daily(munis)

# Metadata
meta &lt;- aemet_forecast_daily(munis, extract_metadata = TRUE)
glimpse(meta$campos)

# Vars available
aemet_forecast_vars_available(daily)


# This is nested
daily %&gt;%
  select(municipio, fecha, nombre, temperatura)

# Select and unnest
daily_temp &lt;- aemet_forecast_tidy(daily, "temperatura")

# This is not
daily_temp

# Wrangle and plot
daily_temp_end &lt;- daily_temp %&gt;%
  select(
    elaborado, fecha, municipio, nombre, temperatura_minima,
    temperatura_maxima
  ) %&gt;%
  tidyr::pivot_longer(cols = contains("temperatura"))

# Plot
library(ggplot2)
ggplot(daily_temp_end) +
  geom_line(aes(fecha, value, color = name)) +
  facet_wrap(~nombre, ncol = 1) +
  scale_color_manual(
    values = c("red", "blue"),
    labels = c("max", "min")
  ) +
  scale_x_date(
    labels = scales::label_date_short(),
    breaks = "day"
  ) +
  scale_y_continuous(
    labels = scales::label_comma(suffix = "º")
  ) +
  theme_minimal() +
  labs(
    x = "", y = "",
    color = "",
    title = "Forecast: 7-day temperature",
    subtitle = paste(
      "Forecast produced on",
      format(daily_temp_end$elaborado[1], usetz = TRUE)
    )
  )

# Spatial with mapSpain
library(mapSpain)
library(sf)

lugo_sf &lt;- esp_get_munic(munic = "Lugo") %&gt;%
  select(LAU_CODE)

daily_temp_end_lugo_sf &lt;- daily_temp_end %&gt;%
  filter(nombre == "Lugo" &amp; name == "temperatura_maxima") %&gt;%
  # Join by LAU_CODE
  left_join(lugo_sf, by = c("municipio" = "LAU_CODE")) %&gt;%
  st_as_sf()

ggplot(daily_temp_end_lugo_sf) +
  geom_sf(aes(fill = value)) +
  facet_wrap(~fecha) +
  scale_fill_gradientn(
    colors = c("blue", "red"),
    guide = guide_legend()
  ) +
  labs(
    main = "Forecast: 7-day max temperature",
    subtitle = "Lugo, ES"
  )

</code></pre>

<hr>
<h2 id='aemet_forecast_tidy'>Helper functions for extracting forecasts</h2><span id='topic+aemet_forecast_tidy'></span><span id='topic+aemet_forecast_vars_available'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a> Helpers for <code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily()</a></code>
and <code><a href="#topic+aemet_forecast_hourly">aemet_forecast_hourly()</a></code>:
</p>

<ul>
<li> <p><code><a href="#topic+aemet_forecast_vars_available">aemet_forecast_vars_available()</a></code> extracts the values available on
the dataset.
</p>
</li>
<li> <p><code><a href="#topic+aemet_forecast_tidy">aemet_forecast_tidy()</a></code> produces a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the
forecast for <code>var</code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>aemet_forecast_tidy(x, var)

aemet_forecast_vars_available(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_forecast_tidy_+3A_x">x</code></td>
<td>
<p>A database extracted with <code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily()</a></code> or
<code><a href="#topic+aemet_forecast_hourly">aemet_forecast_hourly()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_forecast_tidy_+3A_var">var</code></td>
<td>
<p>Name of the desired var to extract</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of characters (<code><a href="#topic+aemet_forecast_vars_available">aemet_forecast_vars_available()</a></code>)
or a <code><a href="tibble.html#topic+tibble">tibble</a></code> (<code><a href="#topic+aemet_forecast_tidy">aemet_forecast_tidy()</a></code>).
</p>


<h3>See Also</h3>

<p>Other forecasts: 
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Hourly values
hourly &lt;- aemet_forecast_hourly(c("15030", "28080"))

# Vars available
aemet_forecast_vars_available(hourly)

# Get temperature
temp &lt;- aemet_forecast_tidy(hourly, "temperatura")

library(dplyr)
# Make hour - Need lubridate to adjust timezones
temp_end &lt;- temp %&gt;%
  mutate(
    forecast_time = lubridate::force_tz(
      as.POSIXct(fecha) + hora,
      tz = "Europe/Madrid"
    )
  )

# Add also sunset and sunrise
suns &lt;- temp_end %&gt;%
  select(nombre, fecha, orto, ocaso) %&gt;%
  distinct_all() %&gt;%
  group_by(nombre) %&gt;%
  mutate(
    ocaso_end = lubridate::force_tz(
      as.POSIXct(fecha) + ocaso,
      tz = "Europe/Madrid"
    ),
    orto_end = lubridate::force_tz(
      as.POSIXct(fecha) + orto,
      tz = "Europe/Madrid"
    ),
    orto_lead = lead(orto_end)
  ) %&gt;%
  tidyr::drop_na()



# Plot

library(ggplot2)

ggplot(temp_end) +
  geom_rect(data = suns, aes(
    xmin = ocaso_end, xmax = orto_lead,
    ymin = min(temp_end$temperatura),
    ymax = max(temp_end$temperatura)
  ), alpha = .4) +
  geom_line(aes(forecast_time, temperatura), color = "blue4") +
  facet_wrap(~nombre, nrow = 2) +
  scale_x_datetime(labels = scales::label_date_short()) +
  scale_y_continuous(labels = scales::label_number(suffix = "º")) +
  labs(
    x = "", y = "",
    title = "Forecast: Temperature",
    subtitle = paste("Forecast produced on", format(temp_end$elaborado[1],
      usetz = TRUE
    ))
  )

</code></pre>

<hr>
<h2 id='aemet_last_obs'>Last observation values for a station</h2><span id='topic+aemet_last_obs'></span>

<h3>Description</h3>

<p>Get last observation values for a station.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_last_obs(
  station = "all",
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_last_obs_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>) or &quot;all&quot; for all the stations.</p>
</td></tr>
<tr><td><code id="aemet_last_obs_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_last_obs_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
<tr><td><code id="aemet_last_obs_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_last_obs_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(tibble)
obs &lt;- aemet_last_obs(c("9434", "3195"))
glimpse(obs)

</code></pre>

<hr>
<h2 id='aemet_monthly'>Monthly/annual climatology</h2><span id='topic+aemet_monthly'></span><span id='topic+aemet_monthly_clim'></span><span id='topic+aemet_monthly_period'></span><span id='topic+aemet_monthly_period_all'></span>

<h3>Description</h3>

<p>Get monthly/annual climatology values for a station or all the stations.
<code>aemet_monthly_period()</code> and <code>aemet_monthly_period_all()</code> allows requests
that span several years.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_monthly_clim(
  station = NULL,
  year = as.integer(format(Sys.Date(), "%Y")),
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)

aemet_monthly_period(
  station = NULL,
  start = as.integer(format(Sys.Date(), "%Y")),
  end = start,
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)

aemet_monthly_period_all(
  start = as.integer(format(Sys.Date(), "%Y")),
  end = start,
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_monthly_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>).</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_year">year</code></td>
<td>
<p>Numeric value as date (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_start">start</code></td>
<td>
<p>Numeric value as start year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="aemet_monthly_+3A_end">end</code></td>
<td>
<p>Numeric value as end year (format: <code>YYYY</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(tibble)
obs &lt;- aemet_monthly_clim(station = c("9434", "3195"), year = 2000)
glimpse(obs)

</code></pre>

<hr>
<h2 id='aemet_munic'>Data set with all the municipalities of Spain</h2><span id='topic+aemet_munic'></span>

<h3>Description</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with all the municipalities of  Spain as
defined by the INE (Instituto Nacional de Estadistica) as of January 2024.
</p>


<h3>Format</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with
8,132 rows and fields:
</p>

<dl>
<dt>municipio</dt><dd><p>INE code of the municipality.</p>
</dd>
<dt>municipio_nombre</dt><dd><p>INE name of the municipality.</p>
</dd>
<dt>cpro</dt><dd><p>INE code of the province.</p>
</dd>
<dt>cpro_nombre</dt><dd><p>INE name of the province.</p>
</dd>
<dt>codauto</dt><dd><p>INE code of the autonomous community.</p>
</dd>
<dt>codauto_nombre</dt><dd><p>INE code of the autonomous community.</p>
</dd>
</dl>



<h3>Source</h3>

<p>INE, <a href="https://www.ine.es/dyngs/INEbase/es/operacion.htm?c=Estadistica_C&amp;cid=1254736177031&amp;menu=ultiDatos&amp;idp=1254734710990">Municipality codes by province</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily()</a></code>,
<code><a href="#topic+aemet_forecast_hourly">aemet_forecast_hourly()</a></code>
</p>
<p>Other dataset: 
<code><a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a></code>,
<code><a href="#topic+climaemet_9434_temp">climaemet_9434_temp</a></code>,
<code><a href="#topic+climaemet_9434_wind">climaemet_9434_wind</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(aemet_munic)

aemet_munic
</code></pre>

<hr>
<h2 id='aemet_normal'>Normal climatology values</h2><span id='topic+aemet_normal'></span><span id='topic+aemet_normal_clim'></span><span id='topic+aemet_normal_clim_all'></span>

<h3>Description</h3>

<p>Get normal climatology values for a station (or all the stations with
<code>aemet_normal_clim_all()</code>. Standard climatology from 1981 to 2010.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_normal_clim(
  station = NULL,
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)

aemet_normal_clim_all(
  verbose = FALSE,
  return_sf = FALSE,
  extract_metadata = FALSE,
  progress = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_normal_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>) or &quot;all&quot; for all the stations.</p>
</td></tr>
<tr><td><code id="aemet_normal_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_normal_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
<tr><td><code id="aemet_normal_+3A_extract_metadata">extract_metadata</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the output is
a <code><a href="tibble.html#topic+tibble">tibble</a></code> with the description of the fields. See also
<code><a href="#topic+get_metadata_aemet">get_metadata_aemet()</a></code>.</p>
</td></tr>
<tr><td><code id="aemet_normal_+3A_progress">progress</code></td>
<td>
<p>Logical, display a <code><a href="cli.html#topic+cli_progress_bar">cli::cli_progress_bar()</a></code> object. If
<code>verbose = TRUE</code> won't be displayed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>Note</h3>

<p>Code modified from project <a href="https://github.com/SevillaR/aemet">https://github.com/SevillaR/aemet</a>.
</p>


<h3>See Also</h3>

<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_stations">aemet_stations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(tibble)
obs &lt;- aemet_normal_clim(c("9434", "3195"))
glimpse(obs)

</code></pre>

<hr>
<h2 id='aemet_stations'>AEMET stations</h2><span id='topic+aemet_stations'></span>

<h3>Description</h3>

<p>Get AEMET stations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aemet_stations(verbose = FALSE, return_sf = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aemet_stations_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="aemet_stations_+3A_return_sf">return_sf</code></td>
<td>
<p>Logical <code>TRUE</code> or <code>FALSE</code>.
Should the function return an <code><a href="sf.html#topic+sf">sf</a></code> spatial object? If <code>FALSE</code>
(the default value) it returns a <code><a href="tibble.html#topic+tibble">tibble</a></code>. Note that
you need to have the <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> package installed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The first result of the API call on each session is (temporarily) cached in
the assigned <code><a href="base.html#topic+tempdir">tempdir()</a></code> for avoiding unneeded API calls.
</p>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> or a <a href="https://CRAN.R-project.org/package=sf"><span class="pkg">sf</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>Note</h3>

<p>Code modified from project <a href="https://github.com/SevillaR/aemet">https://github.com/SevillaR/aemet</a>.
</p>


<h3>See Also</h3>

<p>Other aemet_api_data: 
<code><a href="#topic+aemet_beaches">aemet_beaches</a>()</code>,
<code><a href="#topic+aemet_daily_clim">aemet_daily_clim</a>()</code>,
<code><a href="#topic+aemet_extremes_clim">aemet_extremes_clim</a>()</code>,
<code><a href="#topic+aemet_forecast_beaches">aemet_forecast_beaches</a>()</code>,
<code><a href="#topic+aemet_forecast_daily">aemet_forecast_daily</a>()</code>,
<code><a href="#topic+aemet_last_obs">aemet_last_obs</a>()</code>,
<code><a href="#topic+aemet_monthly">aemet_monthly</a></code>,
<code><a href="#topic+aemet_normal">aemet_normal</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(tibble)
stations &lt;- aemet_stations()
stations

# Cached during this R session
stations2 &lt;- aemet_stations(verbose = TRUE)

identical(stations, stations2)

</code></pre>

<hr>
<h2 id='climaemet_9434_climatogram'>Climatogram data for Zaragoza Airport (&quot;9434&quot;) period 1981-2010</h2><span id='topic+climaemet_9434_climatogram'></span>

<h3>Description</h3>

<p>Normal data for Zaragoza Airport (1981-2010). This is an example dataset
used to plot climatograms.
</p>


<h3>Format</h3>

<p>A data.frame with columns 1 to 12 (months) and rows:
</p>

<dl>
<dt>p_mes_md</dt><dd><p>Precipitation (mm).</p>
</dd>
<dt>tm_max_md</dt><dd><p>Maximum temperature (Celsius).</p>
</dd>
<dt>tm_min_md</dt><dd><p>Minimum temperature (Celsius).</p>
</dd>
<dt>ta_min_md</dt><dd><p>Absolute monthly minimum temperature (Celsius).</p>
</dd>
</dl>



<h3>Source</h3>

<p>AEMET.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth()</a></code>, <code><a href="#topic+climatogram_period">climatogram_period()</a></code>,
<code><a href="#topic+climatogram_normal">climatogram_normal()</a></code>
</p>
<p>Other dataset: 
<code><a href="#topic+aemet_munic">aemet_munic</a></code>,
<code><a href="#topic+climaemet_9434_temp">climaemet_9434_temp</a></code>,
<code><a href="#topic+climaemet_9434_wind">climaemet_9434_wind</a></code>
</p>
<p>Other climatogram: 
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(climaemet_9434_climatogram)
</code></pre>

<hr>
<h2 id='climaemet_9434_temp'>Average annual temperatures for Zaragoza Airport (&quot;9434&quot;) period 1950-2020</h2><span id='topic+climaemet_9434_temp'></span>

<h3>Description</h3>

<p>Yearly observations of average temperature for Zaragoza Airport
(1950-2020). This is an example dataset.
</p>


<h3>Format</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with columns:
</p>

<dl>
<dt>year</dt><dd><p>Year of reference.</p>
</dd>
<dt>indicativo</dt><dd><p>Identifier of the station.</p>
</dd>
<dt>temp</dt><dd><p>Average temperature (Celsius).</p>
</dd>
</dl>



<h3>Source</h3>

<p>AEMET.
</p>


<h3>See Also</h3>

<p>Other dataset: 
<code><a href="#topic+aemet_munic">aemet_munic</a></code>,
<code><a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a></code>,
<code><a href="#topic+climaemet_9434_wind">climaemet_9434_wind</a></code>
</p>
<p>Other stripes: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(climaemet_9434_temp)
</code></pre>

<hr>
<h2 id='climaemet_9434_wind'>Wind conditions for Zaragoza Airport (&quot;9434&quot;) period 2000-2020</h2><span id='topic+climaemet_9434_wind'></span>

<h3>Description</h3>

<p>Daily observations of wind speed and directions for Zaragoza Airport
(2000-2020). This is an example dataset.
</p>


<h3>Format</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> with columns:
</p>

<dl>
<dt>fecha</dt><dd><p>Date of observation.</p>
</dd>
<dt>dir</dt><dd><p>Wind directions (0-360).</p>
</dd>
<dt>velmedia</dt><dd><p>Average wind speed (km/h)</p>
</dd>
</dl>



<h3>Source</h3>

<p>AEMET.
</p>


<h3>See Also</h3>

<p>Other dataset: 
<code><a href="#topic+aemet_munic">aemet_munic</a></code>,
<code><a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a></code>,
<code><a href="#topic+climaemet_9434_temp">climaemet_9434_temp</a></code>
</p>
<p>Other wind: 
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(climaemet_9434_wind)
</code></pre>

<hr>
<h2 id='climaemet_news'>climaemet_news</h2><span id='topic+climaemet_news'></span>

<h3>Description</h3>

<p>Show the NEWS file of the <a href="https://CRAN.R-project.org/package=climaemet"><span class="pkg">climaemet</span></a> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>climaemet_news()
</code></pre>


<h3>Details</h3>

<p>(See description)
</p>


<h3>Value</h3>

<p>Open NEWS from <code>climaemet</code>.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+dms2decdegrees">dms2decdegrees</a>()</code>,
<code><a href="#topic+first_day_of_year">first_day_of_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
climaemet_news()

## End(Not run)

</code></pre>

<hr>
<h2 id='climatestripes_station'>Station climate stripes graph</h2><span id='topic+climatestripes_station'></span>

<h3>Description</h3>

<p>Plot climate stripes graph for a station.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>climatestripes_station(
  station,
  start = 1950,
  end = 2020,
  with_labels = "yes",
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="climatestripes_station_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>).</p>
</td></tr>
<tr><td><code id="climatestripes_station_+3A_start">start</code></td>
<td>
<p>Numeric value as start year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="climatestripes_station_+3A_end">end</code></td>
<td>
<p>Numeric value as end year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="climatestripes_station_+3A_with_labels">with_labels</code></td>
<td>
<p>Character string as yes/no. Indicates whether to use
labels for the graph or not.</p>
</td></tr>
<tr><td><code id="climatestripes_station_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="climatestripes_station_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+ggstripes">ggstripes</a></code>
</p>

<dl>
<dt><code>n_temp</code></dt><dd><p>Numeric value as the number of colors of the palette.
(default <code>11</code>).</p>
</dd>
<dt><code>col_pal</code></dt><dd><p>Character string indicating the name of the
<code><a href="grDevices.html#topic+hcl.pals">hcl.pals()</a></code> color palette to be used for plotting.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> object
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ggstripes">ggstripes()</a></code>
</p>
<p>Other aemet_plots: 
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other stripes: 
<code><a href="#topic+climaemet_9434_temp">climaemet_9434_temp</a></code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

climatestripes_station(
  "9434",
  start = 2010,
  end = 2020,
  with_labels = "yes",
  col_pal = "Inferno"
)


</code></pre>

<hr>
<h2 id='climatogram_normal'>Walter &amp; Lieth climatic diagram from normal climatology values</h2><span id='topic+climatogram_normal'></span>

<h3>Description</h3>

<p>Plot of a Walter &amp; Lieth climatic diagram from normal climatology data for
a station. This climatogram are great for showing a summary of climate
conditions for a place over a time period (1981-2010).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>climatogram_normal(
  station,
  labels = "en",
  verbose = FALSE,
  ggplot2 = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="climatogram_normal_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>).</p>
</td></tr>
<tr><td><code id="climatogram_normal_+3A_labels">labels</code></td>
<td>
<p>Character string as month labels for the X axis: <code>"en"</code>
(english), <code>"es"</code> (spanish), <code>"fr"</code> (french), etc.</p>
</td></tr>
<tr><td><code id="climatogram_normal_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="climatogram_normal_+3A_ggplot2">ggplot2</code></td>
<td>
<p><code>TRUE/FALSE</code>. On <code>TRUE</code> the function uses
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth()</a></code>, if <code>FALSE</code> uses <code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code>.</p>
</td></tr>
<tr><td><code id="climatogram_normal_+3A_...">...</code></td>
<td>
<p>Further arguments to
<code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code> or <code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth()</a></code>, depending on the
value of <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>Note</h3>

<p>The code is based on code from the CRAN package <a href="https://CRAN.R-project.org/package=climatol"><span class="pkg">climatol</span></a>.
</p>


<h3>References</h3>


<ul>
<li><p> Walter, H. K., Harnickell, E., Lieth, F. H. H., &amp; Rehder, H. (1967).
<em>Klimadiagramm-weltatlas</em>. Jena: Fischer, 1967.
</p>
</li>
<li><p> Guijarro J. A. (2023).
<em>climatol: Climate Tools (Series Homogenization and Derived Products)</em>. R
package version 4.0.0, <a href="https://climatol.eu">https://climatol.eu</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other climatogram: 
<code><a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a></code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
climatogram_normal("9434")

</code></pre>

<hr>
<h2 id='climatogram_period'>Walter &amp; Lieth climatic diagram for a time period</h2><span id='topic+climatogram_period'></span>

<h3>Description</h3>

<p>Plot of a Walter &amp; Lieth climatic diagram from monthly climatology data for
a station. This climatogram are great for showing a summary of climate
conditions for a place over a specific time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>climatogram_period(
  station = NULL,
  start = 1990,
  end = 2020,
  labels = "en",
  verbose = FALSE,
  ggplot2 = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="climatogram_period_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>).</p>
</td></tr>
<tr><td><code id="climatogram_period_+3A_start">start</code></td>
<td>
<p>Numeric value as start year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="climatogram_period_+3A_end">end</code></td>
<td>
<p>Numeric value as end year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="climatogram_period_+3A_labels">labels</code></td>
<td>
<p>Character string as month labels for the X axis: <code>"en"</code>
(english), <code>"es"</code> (spanish), <code>"fr"</code> (french), etc.</p>
</td></tr>
<tr><td><code id="climatogram_period_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
<tr><td><code id="climatogram_period_+3A_ggplot2">ggplot2</code></td>
<td>
<p><code>TRUE/FALSE</code>. On <code>TRUE</code> the function uses
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth()</a></code>, if <code>FALSE</code> uses <code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code>.</p>
</td></tr>
<tr><td><code id="climatogram_period_+3A_...">...</code></td>
<td>
<p>Further arguments to
<code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code> or <code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth()</a></code>, depending on the
value of <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A plot.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>Note</h3>

<p>The code is based on code from the CRAN package <a href="https://CRAN.R-project.org/package=climatol"><span class="pkg">climatol</span></a>.
</p>


<h3>References</h3>


<ul>
<li><p> Walter, H. K., Harnickell, E., Lieth, F. H. H., &amp; Rehder, H. (1967).
<em>Klimadiagramm-weltatlas</em>. Jena: Fischer, 1967.
</p>
</li>
<li><p> Guijarro J. A. (2023).
<em>climatol: Climate Tools (Series Homogenization and Derived Products)</em>. R
package version 4.0.0, <a href="https://climatol.eu">https://climatol.eu</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other climatogram: 
<code><a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a></code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

climatogram_period("9434", start = 2015, end = 2020, labels = "en")


</code></pre>

<hr>
<h2 id='dms2decdegrees'>Converts dms to decimal degrees</h2><span id='topic+dms2decdegrees'></span><span id='topic+dms2decdegrees_2'></span>

<h3>Description</h3>

<p>Converts degrees, minutes and seconds to decimal degrees.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dms2decdegrees(input = NULL)

dms2decdegrees_2(input = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dms2decdegrees_+3A_input">input</code></td>
<td>
<p>Character string as DMS coordinates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value.
</p>


<h3>Note</h3>

<p>Code for <code>dms2decdegrees()</code> modified from project
<a href="https://github.com/SevillaR/aemet">https://github.com/SevillaR/aemet</a>.
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+climaemet_news">climaemet_news</a>()</code>,
<code><a href="#topic+first_day_of_year">first_day_of_year</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dms2decdegrees("055245W")
dms2decdegrees_2("-3º 40' 37\"")
</code></pre>

<hr>
<h2 id='first_day_of_year'>First and last day of year</h2><span id='topic+first_day_of_year'></span><span id='topic+last_day_of_year'></span>

<h3>Description</h3>

<p>Get first and last day of year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>first_day_of_year(year = NULL)

last_day_of_year(year = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="first_day_of_year_+3A_year">year</code></td>
<td>
<p>Numeric value as year (format: YYYY).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Character string as date (format: YYYY-MM-DD).
</p>


<h3>See Also</h3>

<p>Other helpers: 
<code><a href="#topic+climaemet_news">climaemet_news</a>()</code>,
<code><a href="#topic+dms2decdegrees">dms2decdegrees</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>first_day_of_year(2000)
last_day_of_year(2020)
</code></pre>

<hr>
<h2 id='get_data_aemet'>Client tool for AEMET API</h2><span id='topic+get_data_aemet'></span><span id='topic+get_metadata_aemet'></span>

<h3>Description</h3>

<p>Client tool to get data and metadata from AEMET and convert json to
<code><a href="tibble.html#topic+tibble">tibble</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_data_aemet(apidest, verbose = FALSE)

get_metadata_aemet(apidest, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_data_aemet_+3A_apidest">apidest</code></td>
<td>
<p>Character string as destination URL. See
<a href="https://opendata.aemet.es/dist/index.html">https://opendata.aemet.es/dist/index.html</a>.</p>
</td></tr>
<tr><td><code id="get_data_aemet_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code><a href="tibble.html#topic+tibble">tibble</a></code> (if possible) or the results of the query as
provided by <code><a href="httr2.html#topic+resp_body_raw">httr2::resp_body_raw()</a></code> or <code><a href="httr2.html#topic+resp_body_raw">httr2::resp_body_string()</a></code>.
</p>


<h3>Source</h3>

<p><a href="https://opendata.aemet.es/dist/index.html">https://opendata.aemet.es/dist/index.html</a>.
</p>


<h3>See Also</h3>

<p>Some examples on how to use these functions on
<code>vignette("extending-climaemet")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Run this example only if AEMET_API_KEY is detected

url &lt;- "/api/valores/climatologicos/inventarioestaciones/todasestaciones"

get_data_aemet(url)


# Metadata

get_metadata_aemet(url)

# We can get data from any API endpoint

# Plain text

plain &lt;- get_data_aemet("/api/prediccion/nacional/hoy")

cat(plain)

# An image

image &lt;- get_data_aemet("/api/mapasygraficos/analisis")

# Write and read
tmp &lt;- tempfile(fileext = ".gif")

writeBin(image, tmp)

gganimate::gif_file(tmp)

</code></pre>

<hr>
<h2 id='ggclimat_walter_lieth'>Walter and Lieth climatic diagram on <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a></h2><span id='topic+ggclimat_walter_lieth'></span>

<h3>Description</h3>

<p>Plot of a Walter and Lieth climatic diagram of a station. This function is
an updated version of <code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code>, by Jose A. Guijarro.
</p>
<p><img src="../help/figures/lifecycle-experimental.svg" alt="[Experimental]" />
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggclimat_walter_lieth(
  dat,
  est = "",
  alt = NA,
  per = NA,
  mlab = "es",
  pcol = "#002F70",
  tcol = "#ff0000",
  pfcol = "#9BAEE2",
  sfcol = "#3C6FC4",
  shem = FALSE,
  p3line = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggclimat_walter_lieth_+3A_dat">dat</code></td>
<td>
<p>Monthly climatic data for which the diagram will be plotted.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_est">est</code></td>
<td>
<p>Name of the climatological station.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_alt">alt</code></td>
<td>
<p>Altitude of the climatological station.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_per">per</code></td>
<td>
<p>Period on which the averages have been computed.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_mlab">mlab</code></td>
<td>
<p>Month labels for the X axis. Use 2-digit language code (<code>"en"</code>,
<code>"es"</code>, etc.). See <code><a href="readr.html#topic+locale">readr::locale()</a></code> for info.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_pcol">pcol</code></td>
<td>
<p>Color for precipitation.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_tcol">tcol</code></td>
<td>
<p>Color for temperature.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_pfcol">pfcol</code></td>
<td>
<p>Fill color for probable frosts.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_sfcol">sfcol</code></td>
<td>
<p>Fill color for sure frosts.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_shem">shem</code></td>
<td>
<p>Set to <code>TRUE</code> for southern hemisphere stations.</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_p3line">p3line</code></td>
<td>
<p>Set to <code>TRUE</code> to draw a supplementary precipitation line
referenced to three times the temperature (as suggested by Bogdan Rosca).</p>
</td></tr>
<tr><td><code id="ggclimat_walter_lieth_+3A_...">...</code></td>
<td>
<p>Other graphic parameters</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See Details on <code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code>.
</p>
<p>Climatic data must be passed as a 4x12 matrix or <code>data.frame</code> of monthly
(January to December) data, in the following order:
</p>

<ul>
<li><p> Row 1: Mean precipitation.
</p>
</li>
<li><p> Row 2: Mean maximum daily temperature.
</p>
</li>
<li><p> Row 3: Mean minimum daily temperature.
</p>
</li>
<li><p> Row 4: Absolute monthly minimum temperature.
</p>
</li></ul>

<p>See <a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a> for a sample dataset.
</p>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> object. See <code>help("ggplot2")</code>.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>References</h3>


<ul>
<li><p> Walter, H. K., Harnickell, E., Lieth, F. H. H., &amp; Rehder, H. (1967).
<em>Klimadiagramm-weltatlas</em>. Jena: Fischer, 1967.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="climatol.html#topic+diagwl">climatol::diagwl()</a></code>, <code><a href="readr.html#topic+locale">readr::locale()</a></code>
</p>
<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other climatogram: 
<code><a href="#topic+climaemet_9434_climatogram">climaemet_9434_climatogram</a></code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)

wl &lt;- ggclimat_walter_lieth(
  climaemet::climaemet_9434_climatogram,
  alt = "249",
  per = "1981-2010",
  est = "Zaragoza Airport"
)

wl

# As it is a ggplot object we can modify it

wl + theme(
  plot.background = element_rect(fill = "grey80"),
  panel.background = element_rect(fill = "grey70"),
  axis.text.y.left = element_text(
    colour = "black",
    face = "italic"
  ),
  axis.text.y.right = element_text(
    colour = "black",
    face = "bold"
  )
)
</code></pre>

<hr>
<h2 id='ggstripes'>Warming stripes graph</h2><span id='topic+ggstripes'></span>

<h3>Description</h3>

<p>Plot different &quot;climate stripes&quot; or &quot;warming stripes&quot; using
<a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>. This graphics are visual representations of the change
in temperature as measured in each location over the past 70-100+ years. Each
stripe represents the temperature in that station averaged over a year.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggstripes(
  data,
  plot_type = "stripes",
  plot_title = "",
  n_temp = 11,
  col_pal = "RdBu",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggstripes_+3A_data">data</code></td>
<td>
<p>a data.frame with date(<code>year</code>) and temperature(<code>temp</code>) variables.</p>
</td></tr>
<tr><td><code id="ggstripes_+3A_plot_type">plot_type</code></td>
<td>
<p>plot type (with labels, background, stripes with line
trend and animation). Accepted values are <code>"background"</code>, <code>"stripes"</code>,
<code>"trend"</code> or <code>"animation"</code>.</p>
</td></tr>
<tr><td><code id="ggstripes_+3A_plot_title">plot_title</code></td>
<td>
<p>character string to be used for the graph title.</p>
</td></tr>
<tr><td><code id="ggstripes_+3A_n_temp">n_temp</code></td>
<td>
<p>Numeric value as the number of colors of the palette.
(default <code>11</code>).</p>
</td></tr>
<tr><td><code id="ggstripes_+3A_col_pal">col_pal</code></td>
<td>
<p>Character string indicating the name of the
<code><a href="grDevices.html#topic+hcl.pals">hcl.pals()</a></code> color palette to be used for plotting.</p>
</td></tr>
<tr><td><code id="ggstripes_+3A_...">...</code></td>
<td>
<p>further arguments passed to <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> object
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>Note</h3>

<p>&quot;Warming stripes&quot; charts are a conceptual idea of Professor Ed Hawkins
(University of Reading) and are specifically designed to be as simple as
possible and alert about risks of climate change. For more details see
<a href="https://showyourstripes.info/">ShowYourStripes</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+climatestripes_station">climatestripes_station()</a></code>, <code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code> for more possible
arguments to pass to <code>ggstripes</code>.
</p>
<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other stripes: 
<code><a href="#topic+climaemet_9434_temp">climaemet_9434_temp</a></code>,
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)

data &lt;- climaemet::climaemet_9434_temp

ggstripes(data, plot_title = "Zaragoza Airport") +
  labs(subtitle = "(1950-2020)")

ggstripes(data, plot_title = "Zaragoza Airport", plot_type = "trend") +
  labs(subtitle = "(1950-2020)")

</code></pre>

<hr>
<h2 id='ggwindrose'>Windrose (speed/direction) diagram</h2><span id='topic+ggwindrose'></span>

<h3>Description</h3>

<p>Plot a windrose showing the wind speed and direction using <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggwindrose(
  speed,
  direction,
  n_directions = 8,
  n_speeds = 5,
  speed_cuts = NA,
  col_pal = "GnBu",
  legend_title = "Wind speed (m/s)",
  calm_wind = 0,
  n_col = 1,
  facet = NULL,
  plot_title = "",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggwindrose_+3A_speed">speed</code></td>
<td>
<p>Numeric vector of wind speeds.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_direction">direction</code></td>
<td>
<p>Numeric vector of wind directions.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_n_directions">n_directions</code></td>
<td>
<p>Numeric value as the number of direction bins to plot
(petals on the rose). The number of directions defaults to <code>8</code>.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_n_speeds">n_speeds</code></td>
<td>
<p>Numeric value as the number of equally spaced wind speed
bins to plot. This is used if <code>speed_cuts</code> is <code>NA</code> (default <code>5</code>).</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_speed_cuts">speed_cuts</code></td>
<td>
<p>Numeric vector containing the cut points for the wind
speed intervals, or <code>NA</code> (default).</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_col_pal">col_pal</code></td>
<td>
<p>Character string indicating the name of the
<code><a href="grDevices.html#topic+hcl.pals">hcl.pals()</a></code> color palette to be used for plotting.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_legend_title">legend_title</code></td>
<td>
<p>Character string to be used for the legend title.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_calm_wind">calm_wind</code></td>
<td>
<p>Numeric value as the upper limit for wind speed that is
considered calm (default <code>0</code>).</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_n_col">n_col</code></td>
<td>
<p>The number of columns of plots (default 1).</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_facet">facet</code></td>
<td>
<p>Character or factor vector of the facets used to plot the
various windroses.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_plot_title">plot_title</code></td>
<td>
<p>Character string to be used for the plot title.</p>
</td></tr>
<tr><td><code id="ggwindrose_+3A_...">...</code></td>
<td>
<p>further arguments (ignored).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> object<code>.</code>
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+theme">ggplot2::theme()</a></code> for more possible arguments to pass to
<code>ggwindrose</code>.
</p>
<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other wind: 
<code><a href="#topic+climaemet_9434_wind">climaemet_9434_wind</a></code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)

speed &lt;- climaemet::climaemet_9434_wind$velmedia
direction &lt;- climaemet::climaemet_9434_wind$dir

rose &lt;- ggwindrose(
  speed = speed,
  direction = direction,
  speed_cuts = seq(0, 16, 4),
  legend_title = "Wind speed (m/s)",
  calm_wind = 0,
  n_col = 1,
  plot_title = "Zaragoza Airport"
)
rose + labs(
  subtitle = "2000-2020",
  caption = "Source: AEMET"
)
</code></pre>

<hr>
<h2 id='windrose_days'>Windrose (speed/direction) diagram of a station over a days period</h2><span id='topic+windrose_days'></span>

<h3>Description</h3>

<p>Plot a windrose showing the wind speed and direction for a station over a
days period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>windrose_days(
  station,
  start = "2000-12-01",
  end = "2000-12-31",
  n_directions = 8,
  n_speeds = 5,
  speed_cuts = NA,
  col_pal = "GnBu",
  calm_wind = 0,
  legend_title = "Wind Speed (m/s)",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="windrose_days_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>) or &quot;all&quot; for all the stations.</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_start">start</code></td>
<td>
<p>Character string as start date (format: <code>"YYYY-MM-DD"</code>).</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_end">end</code></td>
<td>
<p>Character string as end date (format: <code>"YYYY-MM-DD"</code>).</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_n_directions">n_directions</code></td>
<td>
<p>Numeric value as the number of direction bins to plot
(petals on the rose). The number of directions defaults to <code>8</code>.</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_n_speeds">n_speeds</code></td>
<td>
<p>Numeric value as the number of equally spaced wind speed
bins to plot. This is used if <code>speed_cuts</code> is <code>NA</code> (default <code>5</code>).</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_speed_cuts">speed_cuts</code></td>
<td>
<p>Numeric vector containing the cut points for the wind
speed intervals, or <code>NA</code> (default).</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_col_pal">col_pal</code></td>
<td>
<p>Character string indicating the name of the
<code><a href="grDevices.html#topic+hcl.pals">hcl.pals()</a></code> color palette to be used for plotting.</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_calm_wind">calm_wind</code></td>
<td>
<p>Numeric value as the upper limit for wind speed that is
considered calm (default <code>0</code>).</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_legend_title">legend_title</code></td>
<td>
<p>Character string to be used for the legend title.</p>
</td></tr>
<tr><td><code id="windrose_days_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> object.
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_daily_clim">aemet_daily_clim()</a></code>
</p>
<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>
<p>Other wind: 
<code><a href="#topic+climaemet_9434_wind">climaemet_9434_wind</a></code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_period">windrose_period</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
windrose_days("9434",
  start = "2000-12-01",
  end = "2000-12-31",
  speed_cuts = 4
)

</code></pre>

<hr>
<h2 id='windrose_period'>Windrose (speed/direction) diagram of a station over a time period</h2><span id='topic+windrose_period'></span>

<h3>Description</h3>

<p>Plot a windrose showing the wind speed and direction for a station over a
time period.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>windrose_period(
  station,
  start = 2000,
  end = 2010,
  n_directions = 8,
  n_speeds = 5,
  speed_cuts = NA,
  col_pal = "GnBu",
  calm_wind = 0,
  legend_title = "Wind Speed (m/s)",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="windrose_period_+3A_station">station</code></td>
<td>
<p>Character string with station identifier code(s)
(see <code><a href="#topic+aemet_stations">aemet_stations()</a></code>) or &quot;all&quot; for all the stations.</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_start">start</code></td>
<td>
<p>Numeric value as start year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_end">end</code></td>
<td>
<p>Numeric value as end year (format: <code>YYYY</code>).</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_n_directions">n_directions</code></td>
<td>
<p>Numeric value as the number of direction bins to plot
(petals on the rose). The number of directions defaults to <code>8</code>.</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_n_speeds">n_speeds</code></td>
<td>
<p>Numeric value as the number of equally spaced wind speed
bins to plot. This is used if <code>speed_cuts</code> is <code>NA</code> (default <code>5</code>).</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_speed_cuts">speed_cuts</code></td>
<td>
<p>Numeric vector containing the cut points for the wind
speed intervals, or <code>NA</code> (default).</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_col_pal">col_pal</code></td>
<td>
<p>Character string indicating the name of the
<code><a href="grDevices.html#topic+hcl.pals">hcl.pals()</a></code> color palette to be used for plotting.</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_calm_wind">calm_wind</code></td>
<td>
<p>Numeric value as the upper limit for wind speed that is
considered calm (default <code>0</code>).</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_legend_title">legend_title</code></td>
<td>
<p>Character string to be used for the legend title.</p>
</td></tr>
<tr><td><code id="windrose_period_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Provides information about the flow of
information between the client and server.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="https://CRAN.R-project.org/package=ggplot2"><span class="pkg">ggplot2</span></a> object
</p>


<h3>API Key</h3>

<p>You need to set your API Key globally using <code><a href="#topic+aemet_api_key">aemet_api_key()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aemet_daily_period">aemet_daily_period()</a></code>
</p>
<p>Other aemet_plots: 
<code><a href="#topic+climatestripes_station">climatestripes_station</a>()</code>,
<code><a href="#topic+climatogram_normal">climatogram_normal</a>()</code>,
<code><a href="#topic+climatogram_period">climatogram_period</a>()</code>,
<code><a href="#topic+ggclimat_walter_lieth">ggclimat_walter_lieth</a>()</code>,
<code><a href="#topic+ggstripes">ggstripes</a>()</code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>
</p>
<p>Other wind: 
<code><a href="#topic+climaemet_9434_wind">climaemet_9434_wind</a></code>,
<code><a href="#topic+ggwindrose">ggwindrose</a>()</code>,
<code><a href="#topic+windrose_days">windrose_days</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

windrose_period("9434",
  start = 2000, end = 2010,
  speed_cuts = 4
)


</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

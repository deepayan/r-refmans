<!DOCTYPE html><html><head><title>Help for package ggrain</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggrain}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#geom_paired_raincloud'><p>Paired raincloud plot</p></a></li>
<li><a href='#geom_rain'><p>Raincloud Plots</p></a></li>
<li><a href='#ggname'><p>Points</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>A Rainclouds Geom for 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.4</td>
</tr>
<tr>
<td>Description:</td>
<td>The 'geom_rain()' function adds different geoms together using 'ggplot2' to create raincloud plots. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 3.4.0), R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>grid, gghalves, ggpp (&ge; 0.5.6), rlang, vctrs (&ge; 0.5.0), cli</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.0</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/njudd/ggrain">https://github.com/njudd/ggrain</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/njudd/ggrain/issues">https://github.com/njudd/ggrain/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-23 10:46:27 UTC; njudd</td>
</tr>
<tr>
<td>Author:</td>
<td>Nicholas Judd <a href="https://orcid.org/0000-0002-0196-9871"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Jordy van Langen <a href="https://orcid.org/0000-0003-2504-2381"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Micah Allen <a href="https://orcid.org/0000-0001-9399-4179"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb],
  Rogier Kievit <a href="https://orcid.org/0000-0003-0700-4568"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Nicholas Judd &lt;nickkjudd@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-23 11:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='geom_paired_raincloud'>Paired raincloud plot</h2><span id='topic+geom_paired_raincloud'></span>

<h3>Description</h3>

<p>Taking from https://raw.githubusercontent.com/yjunechoe/geom_paired_raincloud/master/geom_paired_raincloud.R
on 30-10-22 attribution to https://yjunechoe.github.io/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_paired_raincloud(
  mapping = NULL,
  data = NULL,
  stat = "ydensity",
  position = "dodge",
  trim = TRUE,
  scale = "area",
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_paired_raincloud_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_trim">trim</code></td>
<td>
<p>If <code>TRUE</code> (default), trim the tails of the violins
to the range of the data. If <code>FALSE</code>, don't trim the tails.</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_scale">scale</code></td>
<td>
<p>if &quot;area&quot; (default), all violins have the same area (before trimming
the tails). If &quot;count&quot;, areas are scaled proportionally to the number of
observations. If &quot;width&quot;, all violins have the same maximum width.</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_paired_raincloud_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Create a paired raincloud plot (useful for visualizing difference between experimental conditions tested on the same subjects or items).
</p>
<p>Adopted from the geom_violinhalf() source code from the see package
</p>


<h3>See Also</h3>

<p>https://github.com/easystats/see/blob/master/R/geom_violinhalf.R
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ggplot2)

</code></pre>

<hr>
<h2 id='geom_rain'>Raincloud Plots</h2><span id='topic+geom_rain'></span>

<h3>Description</h3>

<p>This function displays individual data points, a boxplot and half a violin plot.
It also has the option to connect data points with lines across groups by specifying
an id to connect by. Lastly, if desired one can color the dots based of another variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_rain(
  mapping = NULL,
  data = NULL,
  inherit.aes = TRUE,
  id.long.var = NULL,
  cov = NULL,
  rain.side = NULL,
  likert = FALSE,
  seed = 42,
  ...,
  point.args = rlang::list2(...),
  point.args.pos = rlang::list2(position = position_jitter(width = 0.04, height = 0, seed
    = seed)),
  line.args = rlang::list2(alpha = 0.2, ...),
  line.args.pos = rlang::list2(position = position_jitter(width = 0.04, height = 0, seed
    = seed), ),
  boxplot.args = rlang::list2(outlier.shape = NA, ...),
  boxplot.args.pos = rlang::list2(width = 0.05, position = position_nudge(x = 0.1), ),
  violin.args = rlang::list2(...),
  violin.args.pos = rlang::list2(side = "r", width = 0.7, position = position_nudge(x =
    0.15), )
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_rain_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_id.long.var">id.long.var</code></td>
<td>
<p>A group to connect the lines by - must be a string (e.g., &quot;id&quot;).</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_cov">cov</code></td>
<td>
<p>A covariate to color the dots by - must be as a string (e.g., &quot;cov&quot;)</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_rain.side">rain.side</code></td>
<td>
<p>How you want the rainclouds displayed, right (&quot;r&quot;), left (&quot;l&quot;) or flanking (&quot;f&quot;), for a 1-by-1 flanking raincloud use (&quot;f1x1&quot;) and for a 2-by-2 use (&quot;f2x2&quot;).</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_likert">likert</code></td>
<td>
<p>Currently developing, right now just addes y-jitter.</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_seed">seed</code></td>
<td>
<p>For the jittering in point &amp; line to match.</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_point.args">point.args</code></td>
<td>
<p>A list of args for the dots</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_point.args.pos">point.args.pos</code></td>
<td>
<p>A list of positional args for the points</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_line.args">line.args</code></td>
<td>
<p>A list of args for the lines, you need to specify a group to connect them with id.long.var</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_line.args.pos">line.args.pos</code></td>
<td>
<p>A list of positional args for the lines</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_boxplot.args">boxplot.args</code></td>
<td>
<p>A list of args for the boxplot</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_boxplot.args.pos">boxplot.args.pos</code></td>
<td>
<p>A list of positional args for the boxplot</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_violin.args">violin.args</code></td>
<td>
<p>A list of args for the violin</p>
</td></tr>
<tr><td><code id="geom_rain_+3A_violin.args.pos">violin.args.pos</code></td>
<td>
<p>A list of positional args for the violin</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of three environments to be used with the 'ggplot()' function in the 'ggplot2' package.
</p>
<p>If the id.long.var argument is used the output will be a list of 4 environments.
</p>
<p>These 4 environments have a similar structure to 'geom_boxplot()', 'geom_violin()', 'geom_point()' and 'geom_line()' from 'ggplot2'.
need library(rlang)
need library(ggplot2)
depends = ggplot2
</p>


<h3>References</h3>

<p>Allen, M., Poggiali, D., Whitaker, K., Marshall, T. R.,
van Langen, J., &amp; Kievit, R. A.
Raincloud plots: a multi-platform tool for robust data visualization
Wellcome Open Research 2021, 4:63.
https://doi.org/10.12688/wellcomeopenres.15191.2
</p>


<h3>Examples</h3>

<pre><code class='language-R'>e1 &lt;- ggplot(iris, aes(Species, Sepal.Width, fill = Species))
e1 + geom_rain()

# x must be the discrete variable
# orinetation can be changed with coord_flip()
e1 + geom_rain(alpha = .5) + coord_flip()

# we can color the dots by a covariate
e1 + geom_rain(cov = "Sepal.Length")

# we can edit elements individually
e1 + geom_rain(violin.args = list(alpha = .3, color = NA))

# we can flip them
e1 + geom_rain(rain.side = 'l')
# and move them
e1 +
geom_rain(boxplot.args.pos = list(width = .1, position = position_nudge(x = -.2)))

# they also work longitudinally
e2 &lt;- ggplot(sleep, aes(group, extra, fill = group))
e2 + geom_rain(id.long.var = "ID")

# we can add groups
sleep_dat &lt;- cbind(sleep, data.frame(sex = c(rep("male", 5),
rep("female", 5), rep("male", 5), rep("female", 5))))
e3 &lt;- ggplot(sleep_dat, aes(group, extra, fill = sex))
e3 + geom_rain(alpha = .6)

# add likert example
e4 &lt;- ggplot(mpg, aes(1, hwy, fill = manufacturer))
e4 + geom_rain(likert= TRUE)

# lets make it look nicer
e4 + geom_rain(likert= TRUE,
 boxplot.args.pos = list(position = ggpp::position_dodgenudge(x = .095), width = .1),
 violin.args = list(color = NA, alpha = .5))
</code></pre>

<hr>
<h2 id='ggname'>Points</h2><span id='topic+ggname'></span><span id='topic+GeomPairedRaincloud'></span>

<h3>Description</h3>

<p>The point geom is used to create scatterplots. The scatterplot is most
useful for displaying the relationship between two continuous variables.
It can be used to compare one continuous and one categorical variable, or
two categorical variables, but a variation like <code><a href="ggplot2.html#topic+geom_jitter">geom_jitter()</a></code>,
<code><a href="ggplot2.html#topic+geom_count">geom_count()</a></code>, or <code><a href="ggplot2.html#topic+geom_bin2d">geom_bin2d()</a></code> is usually more
appropriate. A <em>bubblechart</em> is a scatterplot with a third variable
mapped to the size of points.
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="ggname_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="ggname_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
</table>


<h3>Overplotting</h3>

<p>The biggest potential problem with a scatterplot is overplotting: whenever
you have more than a few points, points may be plotted on top of one
another. This can severely distort the visual appearance of the plot.
There is no one solution to this problem, but there are some techniques
that can help. You can add additional information with
<code><a href="ggplot2.html#topic+geom_smooth">geom_smooth()</a></code>, <code><a href="ggplot2.html#topic+geom_quantile">geom_quantile()</a></code> or
<code><a href="ggplot2.html#topic+geom_density_2d">geom_density_2d()</a></code>. If you have few unique <code>x</code> values,
<code><a href="ggplot2.html#topic+geom_boxplot">geom_boxplot()</a></code> may also be useful.
</p>
<p>Alternatively, you can
summarise the number of points at each location and display that in some
way, using <code><a href="ggplot2.html#topic+geom_count">geom_count()</a></code>, <code><a href="ggplot2.html#topic+geom_hex">geom_hex()</a></code>, or
<code><a href="ggplot2.html#topic+geom_density2d">geom_density2d()</a></code>.
</p>
<p>Another technique is to make the points transparent (e.g.
<code>geom_point(alpha = 0.05)</code>) or very small (e.g.
<code>geom_point(shape = ".")</code>).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;- ggplot(mtcars, aes(wt, mpg))
p + geom_point()

# Add aesthetic mappings
p + geom_point(aes(colour = factor(cyl)))
p + geom_point(aes(shape = factor(cyl)))
# A "bubblechart":
p + geom_point(aes(size = qsec))

# Set aesthetics to fixed value
ggplot(mtcars, aes(wt, mpg)) + geom_point(colour = "red", size = 3)


# Varying alpha is useful for large datasets
d &lt;- ggplot(diamonds, aes(carat, price))
d + geom_point(alpha = 1/10)
d + geom_point(alpha = 1/20)
d + geom_point(alpha = 1/100)


# For shapes that have a border (like 21), you can colour the inside and
# outside separately. Use the stroke aesthetic to modify the width of the
# border
ggplot(mtcars, aes(wt, mpg)) +
  geom_point(shape = 21, colour = "black", fill = "white", size = 5, stroke = 5)


# You can create interesting shapes by layering multiple points of
# different sizes
p &lt;- ggplot(mtcars, aes(mpg, wt, shape = factor(cyl)))
p +
  geom_point(aes(colour = factor(cyl)), size = 4) +
  geom_point(colour = "grey90", size = 1.5)
p +
  geom_point(colour = "black", size = 4.5) +
  geom_point(colour = "pink", size = 4) +
  geom_point(aes(shape = factor(cyl)))

# geom_point warns when missing values have been dropped from the data set
# and not plotted, you can turn this off by setting na.rm = TRUE
set.seed(1)
mtcars2 &lt;- transform(mtcars, mpg = ifelse(runif(32) &lt; 0.2, NA, mpg))
ggplot(mtcars2, aes(wt, mpg)) +
  geom_point()
ggplot(mtcars2, aes(wt, mpg)) +
  geom_point(na.rm = TRUE)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

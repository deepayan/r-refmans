<!DOCTYPE html><html lang="en"><head><title>Help for package manipulate</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {manipulate}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#manipulate-package'><p>Interactive Plots for RStudio</p></a></li>
<li><a href='#button'><p>Create a button control</p></a></li>
<li><a href='#checkbox'><p>Create a checkbox control</p></a></li>
<li><a href='#isAvailable'><p>Check whether manipulate is available</p></a></li>
<li><a href='#manipulate'><p>Create an interactive plot</p></a></li>
<li><a href='#Manipulator+20Custom+20State'><p>Modify manipulator state</p></a></li>
<li><a href='#manipulatorMouseClick'><p>Receive notification of mouse clicks on a manipulator plot</p></a></li>
<li><a href='#picker'><p>Create a picker control</p></a></li>
<li><a href='#slider'><p>Create a slider control</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interactive Plots for RStudio</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2014-12-23</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>JJ Allaire &lt;jj@rstudio.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Interactive plotting functions for use within RStudio.
  The manipulate function accepts a plotting expression and a set of
  controls (e.g. slider, picker, checkbox, or button) which are used
  to dynamically change values within the expression. When a value is
  changed using its corresponding control the expression is
  automatically re-executed and the plot is redrawn.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.11.1)</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>RStudio - http://www.rstudio.com/products/rstudio/</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2014-12-23 18:00:41 UTC; jjallaire</td>
</tr>
<tr>
<td>Author:</td>
<td>JJ Allaire [aut, cre] (R interface),
  RStudio [cph]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2014-12-24 01:18:44</td>
</tr>
</table>
<hr>
<h2 id='manipulate-package'>Interactive Plots for RStudio</h2><span id='topic+manipulate-package'></span>

<h3>Description</h3>

<p>Interactive plotting functions for use within RStudio.
</p>


<h3>Details</h3>

<p>The <code><a href="#topic+manipulate">manipulate</a></code> function accepts a plotting expression and a set of controls (e.g. <code><a href="#topic+slider">slider</a></code>, <code><a href="#topic+picker">picker</a></code>, <code><a href="#topic+checkbox">checkbox</a></code>, or <code><a href="#topic+button">button</a></code>) which are used to dynamically change values within the expression. When a value is changed using its corresponding control the expression is automatically re-executed and the plot is redrawn.
</p>
<p>For example, to create a plot that enables manipulation of a parameter using a slider control you could use syntax like this:
</p>
<p><code>manipulate(plot(1:x), x = slider(1, 10))</code>
</p>
<p>After this code is executed the plot is drawn using an initial value of 1 for <code>x</code>. A manipulator panel is also opened adjacent to the plot which contains a slider control used to change the value of <code>x</code> from 1 to 10.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Create a plot with a manipulator
manipulate(plot(1:x), x = slider(5, 10))

## Using more than one slider
manipulate(
  plot(cars, xlim=c(x.min,x.max)),
  x.min=slider(0,15),
  x.max=slider(15,30))

## Filtering data with a picker
manipulate(
  barplot(as.matrix(longley[,factor]),
          beside = TRUE, main = factor),
  factor = picker("GNP", "Unemployed", "Employed"))

## Create a picker with labels
manipulate(
  plot(pressure, type = type),
  type = picker("points" = "p", "line" = "l", "step" = "s"))

## Toggle boxplot outlier display using checkbox
manipulate(
  boxplot(Freq ~ Class, data = Titanic, outline = outline),
  outline = checkbox(FALSE, "Show outliers"))

## Combining controls
manipulate(
  plot(cars, xlim = c(x.min, x.max), type = type,
       axes = axes, ann = label),
  x.min = slider(0,15),
  x.max = slider(15,30, initial = 25),
  type = picker("p", "l", "b", "c", "o", "h", "s", "S", "n"),
  axes = checkbox(TRUE, "Draw Axes"),
  label = checkbox(FALSE, "Draw Labels"))

## End(Not run)
</code></pre>

<hr>
<h2 id='button'>Create a button control</h2><span id='topic+button'></span>

<h3>Description</h3>

<p>Create a button control to enable triggering of conditional actions within manipulate expressions. When the user presses the button the manipulate expression will be executed with its associated value set to TRUE (in all other cases the value will be set to FALSE).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>button(label)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="button_+3A_label">label</code></td>
<td>

<p>Label for button.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;manipulator.button&quot; which can be passed to the <code><a href="#topic+manipulate">manipulate</a></code> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+manipulate">manipulate</a></code>, <code><a href="#topic+slider">slider</a></code>, <code><a href="#topic+picker">picker</a></code>, <code><a href="#topic+checkbox">checkbox</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## use a button to reset a random seed
manipulate(
  {
    if(resetSeed)
      set.seed(sample(1:1000))

    hist(rnorm(n=100, mean=0, sd=3), breaks=bins)
  },
  bins = slider(1, 20, step=1, initial =5, label="Bins"),
  resetSeed = button("Reset Seed")
)


## End(Not run)
</code></pre>

<hr>
<h2 id='checkbox'>Create a checkbox control</h2><span id='topic+checkbox'></span>

<h3>Description</h3>

<p>Create a checkbox control to enable manipulation of logical plot variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>checkbox(initial = FALSE, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="checkbox_+3A_initial">initial</code></td>
<td>

<p>Initial value for checkbox. Must be logical (defaults to <code>FALSE</code>).
</p>
</td></tr>
<tr><td><code id="checkbox_+3A_label">label</code></td>
<td>

<p>Display label for checkbox. Defaults to the variable name if not specified.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;manipulator.checkbox&quot; which can be passed to the <code><a href="#topic+manipulate">manipulate</a></code> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+manipulate">manipulate</a></code>, <code><a href="#topic+slider">slider</a></code>, <code><a href="#topic+picker">picker</a></code>, <code><a href="#topic+button">button</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Using checkboxes for boolean parameters
manipulate(
  plot(cars, axes = axes, ann = label),
  axes = checkbox(TRUE, "Draw Axes"),
  label = checkbox(FALSE, "Draw Labels"))

## Toggle boxplot outlier display using checkbox
manipulate(
  boxplot(Freq ~ Class, data = Titanic, outline = outline),
  outline = checkbox(FALSE, "Show outliers"))


## End(Not run)
</code></pre>

<hr>
<h2 id='isAvailable'>Check whether manipulate is available</h2><span id='topic+isAvailable'></span>

<h3>Description</h3>

<p>Check whether manipulate is available in the current front-end environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>isAvailable()
</code></pre>


<h3>Details</h3>

<p>The manipulate package works only within the RStudio front-end.
</p>


<h3>Value</h3>

<p><code>TRUE</code> if manipulate is available, otherwise <code>FALSE</code>.
</p>

<hr>
<h2 id='manipulate'>Create an interactive plot</h2><span id='topic+manipulate'></span>

<h3>Description</h3>

<p>The <code><a href="#topic+manipulate">manipulate</a></code> function accepts a plotting expression and a set of controls (e.g. <code><a href="#topic+slider">slider</a></code>, <code><a href="#topic+picker">picker</a></code>,  <code><a href="#topic+checkbox">checkbox</a></code>, or <code><a href="#topic+button">button</a></code>) which are used to dynamically change values within the expression. When a value is changed using its corresponding control the expression is automatically re-executed and the plot is redrawn.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manipulate(`_expr`, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="manipulate_+3A__expr">_expr</code></td>
<td>

<p>Expression to evalulate. The expression should result in the creation of a plot (e.g. <code>plot</code> or <code>qplot</code>). Note that the expression need not be a top-level plotting function, it could also be a custom function that creates a plot as part of its implementation. This expression will be re-evaluated with appropriate parameter substitution each time one of the manipulator control values is changed.
</p>
</td></tr>
<tr><td><code id="manipulate_+3A_...">...</code></td>
<td>

<p>One or more named control arguments (i.e. <code><a href="#topic+slider">slider</a></code>, <code><a href="#topic+picker">picker</a></code>, <code><a href="#topic+checkbox">checkbox</a></code>, or <code><a href="#topic+button">button</a></code>), or a list containing named controls.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Once a set of manipulator controls are attached to a plot they remain attached and can be recalled whenever viewing the plot (a gear button is added to the top-left of the plot to indicate that it has a manipulator).
</p>
<p>The <code>_expr</code> argument is evaluated using <code><a href="base.html#topic+withVisible">withVisible</a></code>. If it's return value is visible then <code><a href="base.html#topic+print">print</a></code> is called. This enables manipulate expressions to behave simillarly to their being executed directly at the console.
</p>
<p>The <code>_expr</code> argument uses a syntactially invalid (but backtick quoted) name to avoid clashes with named control arguments.
</p>
<p>The <code><a href="#topic+manipulatorSetState">manipulatorSetState</a></code> and <code><a href="#topic+manipulatorGetState">manipulatorGetState</a></code> functions can be used to associate custom state with a manipulator (for example, to track the values used for previous plot executions). These values are stored in a custom environment which is stored along with the rest of the manipulator context.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Create a plot with a manipulator
manipulate(plot(1:x), x = slider(5, 10))

## Using more than one slider
manipulate(
  plot(cars, xlim=c(x.min,x.max)),
  x.min=slider(0,15),
  x.max=slider(15,30))

## Filtering data with a picker
manipulate(
  barplot(as.matrix(longley[,factor]),
          beside = TRUE, main = factor),
  factor = picker("GNP", "Unemployed", "Employed"))

## Create a picker with labels
manipulate(
  plot(pressure, type = type),
  type = picker("points" = "p", "line" = "l", "step" = "s"))

## Toggle boxplot outlier display using checkbox
manipulate(
  boxplot(Freq ~ Class, data = Titanic, outline = outline),
  outline = checkbox(FALSE, "Show outliers"))

## Combining controls
manipulate(
  plot(cars, xlim = c(x.min, x.max), type = type,
       axes = axes, ann = label),
  x.min = slider(0,15),
  x.max = slider(15,30, initial = 25),
  type = picker("p", "l", "b", "c", "o", "h", "s", "S", "n"),
  axes = checkbox(TRUE, "Draw Axes"),
  label = checkbox(FALSE, "Draw Labels"))

## End(Not run)
</code></pre>

<hr>
<h2 id='Manipulator+20Custom+20State'>Modify manipulator state</h2><span id='topic+manipulatorSetState'></span><span id='topic+manipulatorGetState'></span>

<h3>Description</h3>

<p>These functions allow the storage of custom state variables across multiple evaluations of manipulator expressions. These functions are useful if the manipulate expression is a custom function (rather than a high level plotting function like <code><a href="base.html#topic+plot">plot</a></code>) which requires reading and writing of persistent values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manipulatorSetState(name, value)
manipulatorGetState(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Manipulator+2B20Custom+2B20State_+3A_name">name</code></td>
<td>

<p>A chraracter string holding a state variable name.
</p>
</td></tr>
<tr><td><code id="Manipulator+2B20Custom+2B20State_+3A_value">value</code></td>
<td>

<p>An object holding a state value.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>manipulatorGetState</code> returns a custom state value which was previously set by <code>manipulatorSetState</code> (or <code>NULL</code> if the specified name is not found).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+manipulate">manipulate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## set custom state variable
manipulatorSetState("last", x)

## get custom state variable
last &lt;- manipulatorGetState("last")
if ( !is.null(last) ) {
  # do something interesting
}


## End(Not run)
</code></pre>

<hr>
<h2 id='manipulatorMouseClick'>Receive notification of mouse clicks on a manipulator plot</h2><span id='topic+manipulatorMouseClick'></span>

<h3>Description</h3>

<p>This function can be called to determine if a mouse click on the plot was what caused the current invocation of the manipulate expression, and to determine the coordinates which were clicked.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>manipulatorMouseClick()
</code></pre>


<h3>Details</h3>

<p>If a mouse click did occur, then the function returns a list with the coordinates which the user clicked on.
</p>
<p>If a mouse click did not cause the current invocation of the manipulate expression (e.g. if it was caused by the user changing the value of a control) then the function returns NULL.
</p>
<p>The mouse click coordinates are provided in device, user, and ndc coordinates. To convert these coordinates into other coordinate systems (e.g. cm or npc) you can use the   <code><a href="graphics.html#topic+grconvertX">grconvertX</a></code> and <code><a href="graphics.html#topic+grconvertY">grconvertY</a></code> functions.
</p>
<p>Note that the userX and userY coordinates are only applicable for base graphics plots (they are not applicable for grid, lattice, ggplot, etc). Therefore, for non-base graphics the userX and userY values will not contain valid coordinates.
</p>


<h3>Value</h3>

<p>Returns a list containing the coordinates that user clicked (or NULL if a mouse click didn't occur):
</p>

<table>
<tr>
 <td style="text-align: left;">
   <code>deviceX</code> </td><td style="text-align: left;"> Device X coordinate (expressed in pixels)</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>deviceY</code> </td><td style="text-align: left;"> Device Y coordinate (expressed in pixels)</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>userX</code> </td><td style="text-align: left;"> User X coordinate (expressed in plot x units). Note that this value is only valid for base graphics.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>userY</code> </td><td style="text-align: left;"> User Y coordinate (expressed in plot y units). Note that this value is only valid for base graphics.</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ndcX</code> </td><td style="text-align: left;"> NDC X coordinate (0 to 1 from left to right)</td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ndcY</code> </td><td style="text-align: left;"> NDC Y coordinate (0 to 1 from bottom to top)</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+manipulate">manipulate</a></code>, <code><a href="graphics.html#topic+grconvertX">grconvertX</a></code>, <code><a href="graphics.html#topic+grconvertY">grconvertY</a></code>
</p>

<hr>
<h2 id='picker'>Create a picker control</h2><span id='topic+picker'></span>

<h3>Description</h3>

<p>Create a picker control to enable manipulation of plot variables based on a set of fixed choices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>picker(..., initial = NULL, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="picker_+3A_...">...</code></td>
<td>

<p>Arguments containing objects to be presented as choices for the picker (or a list containing the choices). If an element is named then the name is used to display it within the picker. If an element is not named then it is displayed within the picker using <code><a href="base.html#topic+as.character">as.character</a></code>.
</p>
</td></tr>
<tr><td><code id="picker_+3A_initial">initial</code></td>
<td>

<p>Initial value for picker. Value must be present in the list of choices specified. If not specified defaults to the first choice.
</p>
</td></tr>
<tr><td><code id="picker_+3A_label">label</code></td>
<td>

<p>Display label for picker. Defaults to the variable name if not specified.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;manipulator.picker&quot; which can be passed to the <code><a href="#topic+manipulate">manipulate</a></code> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+manipulate">manipulate</a></code>, <code><a href="#topic+slider">slider</a></code>, <code><a href="#topic+checkbox">checkbox</a></code>, <code><a href="#topic+button">button</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Filtering data with a picker
manipulate(
  barplot(as.matrix(longley[,factor]),
          beside = TRUE, main = factor),
  factor = picker("GNP", "Unemployed", "Employed"))

## Create a picker with labels
manipulate(
  plot(pressure, type = type),
  type = picker("points" = "p", "line" = "l", "step" = "s"))

## Picker with groups
manipulate(
  barplot(as.matrix(mtcars[group,"mpg"]), beside=TRUE),
  group = picker("Group 1" = 1:11,
                 "Group 2" = 12:22,
                 "Group 3" = 23:32))

## Histogram w/ picker to select type
require(lattice)
require(stats)
manipulate(
  histogram(~ height | voice.part,
            data = singer, type = type),
  type = picker("percent", "count", "density"))


## End(Not run)
</code></pre>

<hr>
<h2 id='slider'>Create a slider control</h2><span id='topic+slider'></span>

<h3>Description</h3>

<p>Create a slider control to allow manipulation of a plot variable along a numeric range.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slider(min, max, initial = min,
       label = NULL, step = NULL, ticks = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="slider_+3A_min">min</code></td>
<td>

<p>Minimum value for slider.
</p>
</td></tr>
<tr><td><code id="slider_+3A_max">max</code></td>
<td>

<p>Maximum value for slider.
</p>
</td></tr>
<tr><td><code id="slider_+3A_initial">initial</code></td>
<td>

<p>Initial value for slider. Defaults to <code>min</code> if not specified.
</p>
</td></tr>
<tr><td><code id="slider_+3A_label">label</code></td>
<td>

<p>Display label for slider. Defaults to the variable name if not specified.
</p>
</td></tr>
<tr><td><code id="slider_+3A_step">step</code></td>
<td>

<p>Step value for slider. If not specified then defaults to 1 for integer ranges and single pixel granularity for floating point ranges (<code>max</code> - <code>min</code> divided by the number of pixels in the slider).
</p>
</td></tr>
<tr><td><code id="slider_+3A_ticks">ticks</code></td>
<td>

<p>Show tick marks on the slider. Note that if the granularity of the step value is very low (more than 25 ticks would be shown) then ticks are automatically turned off.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;manipulator.slider&quot; which can be passed to the <code><a href="#topic+manipulate">manipulate</a></code> function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+manipulate">manipulate</a></code>, <code><a href="#topic+picker">picker</a></code>, <code><a href="#topic+checkbox">checkbox</a></code>, <code><a href="#topic+button">button</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## Create a plot with a slider
manipulate(plot(1:x), x = slider(5, 10))

## Use multiple sliders
manipulate(
  plot(cars, xlim = c(x.min, x.max)),
  x.min = slider(0,15),
  x.max = slider(15,30))

## Specify a custom initial value for a slider
manipulate(
  barplot(1:x),
  x = slider(5, 25, initial = 10))

## Specify a custom label for a slider
manipulate(
  barplot(1:x),
  x = slider(5, 25, label = "Limit"))

## Specify a step value for a slider
manipulate(
  barplot(1:x),
  x = slider(5, 25, step = 5))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

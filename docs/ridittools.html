<!DOCTYPE html><html><head><title>Help for package ridittools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ridittools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ridittools-package'>
<p>Useful Functions for Ridit Analysis</p></a></li>
<li><a href='#acc'>
<p>Vehicle accident injuries</p></a></li>
<li><a href='#flu.age'>
<p>Flu subtype by age group</p></a></li>
<li><a href='#handgun'>
<p>Favorability of handgun ban by party</p></a></li>
<li><a href='#meanridit'>
<p>Compute mean ridit of group given reference group</p></a></li>
<li><a href='#meanridits'>
<p>Compute mean ridits of multiple groups</p></a></li>
<li><a href='#riditsrefgroup'>
<p>Utility to determine reference group. Primarily for internal use/</p></a></li>
<li><a href='#semiauto'>
<p>Favorability of semiautomatic weapons ban by party</p></a></li>
<li><a href='#seridit'>
<p>Compute standard error of mean ridit for group given reference group</p></a></li>
<li><a href='#seridits'>
<p>Compute standard errors of mean ridits of multiple groups</p></a></li>
<li><a href='#seritdiff'>
<p>Compute standard error of difference between two mean ridits</p></a></li>
<li><a href='#toridit'>
<p>Compute ridit scores for group</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Useful Functions for Ridit Analysis</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-03-11</td>
</tr>
<tr>
<td>Author:</td>
<td>Eric Bohlman</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Eric Bohlman &lt;ericbohlman@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to compute ridit scores of vectors, compute mean ridits
  and their standard errors for vectors compared to a reference vector,
  as described in Fleiss (1981, ISBN:0-471-06428-9), and compute
  means/SEs for multiple groups in matrices. Data can be either
  counts or proportions. Emphasis is on ridit analysis of ordered categorical
  data such as Likert items and pain-rating scales.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> | <a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-03-14 16:26:47 UTC; ebohlman</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-03-14 17:25:50 UTC</td>
</tr>
</table>
<hr>
<h2 id='ridittools-package'>
Useful Functions for Ridit Analysis
</h2><span id='topic+ridittools-package'></span><span id='topic+ridittools'></span>

<h3>Description</h3>

<p>Functions to compute ridit scores of vectors, compute mean ridits
and their standard errors for vectors compared to a reference vector,
as described in Fleiss (1981, ISBN:0-471-06428-9), and compute
means/SEs for multiple groups in matrices. Data can be either
counts or proportions. Emphasis is on ridit analysis of ordered categorical
data such as Likert items and pain-rating scales.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ridittools</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Useful Functions for Ridit Analysis</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2018-03-11</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Eric Bohlman</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Eric Bohlman &lt;ericbohlman@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Functions to compute ridit scores of vectors, compute mean ridits
  and their standard errors for vectors compared to a reference vector,
  as described in Fleiss (1981, ISBN:0-471-06428-9), and compute
  means/SEs for multiple groups in matrices. Data can be either
  counts or proportions. Emphasis is on ridit analysis of ordered categorical
  data such as Likert items and pain-rating scales.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2 | GPL-3 | MIT + file LICENSE</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyData: </td><td style="text-align: left;"> TRUE</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index of help topics:
</p>
<pre>
acc                     Vehicle accident injuries
flu.age                 Flu subtype by age group
handgun                 Favorability of handgun ban by party
meanridit               Compute mean ridit of group given reference
                        group
meanridits              Compute mean ridits of multiple groups
riditsrefgroup          Utility to determine reference group. Primarily
                        for internal use/
ridittools-package      Useful Functions for Ridit Analysis
semiauto                Favorability of semiautomatic weapons ban by
                        party
seridit                 Compute standard error of mean ridit for group
                        given reference group
seriditdiff             Compute standard error of difference between
                        two mean ridits
seridits                Compute standard errors of mean ridits of
                        multiple groups
toridit                 Compute ridit scores for group
</pre>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>
<p>Maintainer: Eric Bohlman &lt;ericbohlman@gmail.com&gt;
</p>


<h3>References</h3>

<p>Fleiss, Joseph L., (1981), Statistical Methods for Rates and Proportions. New York: John Wiley &amp; Sons.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ref &lt;- acc[ , 1]
toridit(ref)
g &lt;- acc[ , 2]
meanridit(g, ref)
seridit(g, ref)
meanridits(flu.age, 2, "H3")
meanridits(flu.age, 2) # Uses group totals as reference
seridits(handgun, 2, 1)
</code></pre>

<hr>
<h2 id='acc'>
Vehicle accident injuries
</h2><span id='topic+acc'></span>

<h3>Description</h3>

<p>Counts of motor vehicle accident injuries; rows are ordered by increasing severity
First column is total injuries for all drivers; second is injuries to slightly intoxicated drivers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>acc</code></pre>


<h3>Format</h3>

<p>7x2 matrix of counts
</p>


<h3>Source</h3>

<p>Fleiss, pp. 152-153
</p>


<h3>Examples</h3>

<pre><code class='language-R'>acc
</code></pre>

<hr>
<h2 id='flu.age'>
Flu subtype by age group
</h2><span id='topic+flu.age'></span>

<h3>Description</h3>

<p>Cross-tabulation of influenza virus subtypes by age group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>flu.age</code></pre>


<h3>Format</h3>

<p>4x5 matrix of counts; rows are age groups in increasing order, columns are viral subtypes
</p>


<h3>Source</h3>

<p><a href="http://cdc.gov/flu/weekly">http://cdc.gov/flu/weekly</a> for week ending 24 Feb 2018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>flu.age
</code></pre>

<hr>
<h2 id='handgun'>
Favorability of handgun ban by party
</h2><span id='topic+handgun'></span>

<h3>Description</h3>

<p>Likert ratings of American favorability toward a handgun ban, cross-tabulated by political party identification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>handgun</code></pre>


<h3>Format</h3>

<p>5x4 matrix of counts; rows are ratings, first column is total responses,
remaining columns are Democrats, independents, and Republicans.
</p>


<h3>Details</h3>

<p>These data were originally specified as proportions and were derived by multiplication by
sample sizes. As such, the first column slightly differs, due to rounding error, from the row sums of the remaining columns.
</p>


<h3>Source</h3>

<p>YouGov poll of 1500 adult Americans, Feb. 25-27 2018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>handgun
</code></pre>

<hr>
<h2 id='meanridit'>
Compute mean ridit of group given reference group
</h2><span id='topic+meanridit'></span>

<h3>Description</h3>

<p>Compute mean ridit for a group given a reference group
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanridit(v, ref)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanridit_+3A_v">v</code></td>
<td>

<p>Vector of counts or proportions
</p>
</td></tr>
<tr><td><code id="meanridit_+3A_ref">ref</code></td>
<td>

<p>Vector of counts or proportions to use as reference group
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The group's mean ridit
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>References</h3>

<p>Fleiss, J.,L., (1981), Statistical Methods for Rates and Proportions. New York: John Wiley &amp; Sons., p.153
</p>


<h3>Examples</h3>

<pre><code class='language-R'># PolitiFact ratings in order of increasing truthfulness (8 Mar 2018)
obama &lt;- c(9, 71, 70, 161, 165, 123)
trump &lt;- c(77, 169, 114, 78, 60, 24)
# Probability that a random Trump statement is at least as truthful as a random Obama statement
meanridit(trump, obama)

## The function is currently defined as
function (v, ref)
{
    sum(to.ridit(ref) * v)/sum(v)
  }
</code></pre>

<hr>
<h2 id='meanridits'>
Compute mean ridits of multiple groups
</h2><span id='topic+meanridits'></span>

<h3>Description</h3>

<p>Computes mean ridits of multiple groups in a crosstab matrix. Groups can be either rows or columns,
with the other dimension representing the response categories.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meanridits(x, margin, ref = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meanridits_+3A_x">x</code></td>
<td>

<p>matrix of cross-tabulated counts or proportions
</p>
</td></tr>
<tr><td><code id="meanridits_+3A_margin">margin</code></td>
<td>

<p>1 for groups in rows, 2 for groups in columns
</p>
</td></tr>
<tr><td><code id="meanridits_+3A_ref">ref</code></td>
<td>

<p>if omitted, use totals across groups as reference group
</p>
<p>if vector of counts (or proportions), use as reference group
</p>
<p>otherwise, number (or name if it exists) of group to use as reference
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of mean ridits
</p>


<h3>Note</h3>

<p>using group totals as reference will not give meaningful results if data are proportions
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>Examples</h3>

<pre><code class='language-R'>meanridits(flu.age, 2)
meanridits(flu.age, 2, "H3")
meanridits(handgun, 2, 1)
meanridits(handgun, 2, rowSums(handgun[ , 2:4]))

## The function is currently defined as
function (x, margin, ref = NULL)
{
    apply(x, margin, meanridit, riditsrefgroup(x, margin, ref))
  }
</code></pre>

<hr>
<h2 id='riditsrefgroup'>
Utility to determine reference group. Primarily for internal use/
</h2><span id='topic+riditsrefgroup'></span>

<h3>Description</h3>

<p>For internal use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>riditsrefgroup(x, margin, ref = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="riditsrefgroup_+3A_x">x</code></td>
<td>

<p>matrix of counts or proportions
</p>
</td></tr>
<tr><td><code id="riditsrefgroup_+3A_margin">margin</code></td>
<td>

<p>margin that represents groups. 1 for rows, 2 for columns
</p>
</td></tr>
<tr><td><code id="riditsrefgroup_+3A_ref">ref</code></td>
<td>

<p>group to use as reference. if omitted, use totals across groups. if a vector, use it. otherwise
use the group with its number (or name if available)
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of counts/proportions to use as reference group
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## The function is currently defined as
function (x, margin, ref = NULL)
{
    if (length(ref) &gt; 1) {
        refgroup &lt;- ref
    }
    else if (length(ref) == 1) {
        if (margin == 1) {
            refgroup &lt;- x[ref, ]
        }
        else {
            refgroup &lt;- x[, ref]
        }
    }
    else {
        refgroup &lt;- apply(x, 3 - margin, sum)
    }
  }
</code></pre>

<hr>
<h2 id='semiauto'>
Favorability of semiautomatic weapons ban by party
</h2><span id='topic+semiauto'></span>

<h3>Description</h3>

<p>Likert ratings of American favorability toward a ban on semi-automatic weapons, cross-tabulated by political party identification.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>semiauto</code></pre>


<h3>Format</h3>

<p>5x4 matrix of counts; rows are ratings, first column is total responses,
remaining columns are Democrats, independents, and Republicans.
</p>


<h3>Details</h3>

<p>These data were originally specified as proportions and were derived by multiplication by
sample sizes. As such, the first column slightly differs, due to rounding error, from the row sums of the remaining columns.
</p>


<h3>Source</h3>

<p>YouGov poll of 1500 adult Americans, Feb. 25-27 2018
</p>


<h3>Examples</h3>

<pre><code class='language-R'>semiauto
</code></pre>

<hr>
<h2 id='seridit'>
Compute standard error of mean ridit for group given reference group
</h2><span id='topic+seridit'></span>

<h3>Description</h3>

<p>Given a vector of counts for a group and a vector of counts for a reference group, computes the
standard error of the mean ridit for the group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seridit(v, ref)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seridit_+3A_v">v</code></td>
<td>

<p>same as <code>meanridit()</code>, but must be counts
</p>
</td></tr>
<tr><td><code id="seridit_+3A_ref">ref</code></td>
<td>

<p>same as <code>meanridit()</code>, but must be counts
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>standard error of mean ridit
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>References</h3>

<p>Fleiss, J.,L., (1981), Statistical Methods for Rates and Proportions. New York: John Wiley &amp; Sons, p. 154
</p>


<h3>Examples</h3>

<pre><code class='language-R'># PolitiFact ratings in order of increasing truthfulness (8 Mar 2018)
obama &lt;- c(9, 71, 70, 161, 165, 123)
trump &lt;- c(77, 169, 114, 78, 60, 24)
# Result is approximately standard normal
(meanridit(trump, obama) - 0.5) / seridit(trump, obama)

## The function is currently defined as
function (v, ref)
{
    N &lt;- sum(ref)
    n &lt;- sum(v)
    term1 &lt;- (n + 1)/N
    term2 &lt;- 1/(N * (N + n - 1))
    term3 &lt;- sum((ref + v)^3)/(N * (N + n) * (N + n - 1))
    (1/(2 * sqrt(3 * n))) * sqrt(1 + term1 + term2 - term3)
  }
</code></pre>

<hr>
<h2 id='seridits'>
Compute standard errors of mean ridits of multiple groups
</h2><span id='topic+seridits'></span>

<h3>Description</h3>

<p>Takes the same data as <code>meanridits()</code>, bui returns standard errors rather than means.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seridits(x, margin, ref = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seridits_+3A_x">x</code></td>
<td>

<p>same as for <code>meanridits()</code>, but must be counts rather than proportions
</p>
</td></tr>
<tr><td><code id="seridits_+3A_margin">margin</code></td>
<td>

<p>same as for <code>meanridits()</code>
</p>
</td></tr>
<tr><td><code id="seridits_+3A_ref">ref</code></td>
<td>

<p>same as for <code>meanridits()</code>
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>note that if the results include the reference group, its standard error will
not be meaningful; by definition its mean ridit will be exactly 0.5
</p>


<h3>Value</h3>

<p>a vector of standard errors for each group's mean ridits
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>See Also</h3>

<p><code><a href="#topic+meanridits">meanridits</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>(meanridits(semiauto, 2, 1) - 0.5) / seridits(semiauto, 2, 1)

## The function is currently defined as
function (x, margin, ref = NULL)
{
    apply(x, margin, se.ridit, riditsrefgroup(x, margin, ref))
  }
</code></pre>

<hr>
<h2 id='seritdiff'>
Compute standard error of difference between two mean ridits
</h2><span id='topic+seriditdiff'></span>

<h3>Description</h3>

<p>Computes the approximate standard error of the difference between the mean ridits of
two groups. This does not depend on the reference group the mean ridits are relative to, only on the sizes of the two groups.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seriditdiff(g1, g2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="seritdiff_+3A_g1">g1</code></td>
<td>

<p>vector of counts (not ridits) for first group
</p>
</td></tr>
<tr><td><code id="seritdiff_+3A_g2">g2</code></td>
<td>

<p>vector of counts (not ridits) for second group
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>the order of the two groups doesn't matter.
</p>


<h3>Value</h3>

<p>approximate standard error of difference between mean ridits
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>References</h3>

<p>Fleiss, J.,L., (1981), Statistical Methods for Rates and Proportions. New York: John Wiley &amp; Sons., p. 155
</p>


<h3>Examples</h3>

<pre><code class='language-R'>seriditdiff(semiauto[ , "Ind"], semiauto[ , "Rep"])

## The function is currently defined as
function(g1, g2) {
  sqrt(sum(g1) + sum(g2)) / (2 * sqrt(3 * sum(g1) * sum(g2)))
}
</code></pre>

<hr>
<h2 id='toridit'>
Compute ridit scores for group
</h2><span id='topic+toridit'></span>

<h3>Description</h3>

<p>Computes the vector of ridit scores corresponding to a vector of counts or proportions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toridit(v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="toridit_+3A_v">v</code></td>
<td>

<p>vector of counts or proportions
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>vector of ridit scores
</p>


<h3>Author(s)</h3>

<p>Eric Bohlman
</p>


<h3>References</h3>

<p>Fleiss, J.,L., (1981), Statistical Methods for Rates and Proportions. New York: John Wiley &amp; Sons, p. 152
</p>


<h3>Examples</h3>

<pre><code class='language-R'># PolitiFact ratings for Barack Obama in order of increasing truthfulness (8 Mar 2018)
toridit(c(9, 71, 70, 161, 165, 123)) # counts
toridit(c(.02, .12, .12, .27, .28, .21)) # proportions

## The function is currently defined as
function (v)
{
    (cumsum(v) - 0.5 * v)/sum(v)
  }
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

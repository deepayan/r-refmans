<!DOCTYPE html><html lang="en"><head><title>Help for package loon.shiny</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {loon.shiny}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#loon.shiny-package'><p>loon.shiny: Automatically Create a 'Shiny' App Based on Interactive 'Loon' Widgets</p></a></li>
<li><a href='#loon.shiny'><p>Automatically Create a <code>shiny</code> App Based on Interactive <code>Loon</code> Widgets</p></a></li>
<li><a href='#loon.shiny-deprecated'><p>Deprecated functions in package <span class="pkg">loon.shiny</span>.</p></a></li>
<li><a href='#shiny.loon-deprecated'><p>shiny.loon (deprecated)</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Automatically Create a 'Shiny' App Based on Interactive 'Loon'
Widgets</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Package 'shiny' provides interactive web applications in R. Package 'loon' is an interactive toolkit engaged in open-ended, creative and unscripted data exploration. The 'loon.shiny' package can take 'loon' widgets and display a selfsame 'shiny' app. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0), loon (&ge; 1.3.7), tcltk, methods, shiny</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, grDevices, grid, gridExtra, loon.ggplot (&ge; 1.1.0),
colourpicker, base64enc</td>
</tr>
<tr>
<td>Suggests:</td>
<td>magrittr, dplyr, ggmulti, tools, testthat, knitr, rmarkdown,
tidyverse, covr, png</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-08 14:41:06 UTC; zehaoxu</td>
</tr>
<tr>
<td>Author:</td>
<td>Zehao Xu [aut, cre],
  R. Wayne Oldford [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zehao Xu &lt;z267xu@uwaterloo.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-08 15:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='loon.shiny-package'>loon.shiny: Automatically Create a 'Shiny' App Based on Interactive 'Loon' Widgets</h2><span id='topic+loon.shiny-package'></span><span id='topic+_PACKAGE'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Package 'shiny' provides interactive web applications in R. Package 'loon' is an interactive toolkit engaged in open-ended, creative and unscripted data exploration. The 'loon.shiny' package can take 'loon' widgets and display a selfsame 'shiny' app.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Zehao Xu <a href="mailto:z267xu@uwaterloo.ca">z267xu@uwaterloo.ca</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> R. Wayne Oldford <a href="mailto:rwoldford@uwaterloo.ca">rwoldford@uwaterloo.ca</a>
</p>
</li></ul>


<hr>
<h2 id='loon.shiny'>Automatically Create a <code>shiny</code> App Based on Interactive <code>Loon</code> Widgets</h2><span id='topic+loon.shiny'></span>

<h3>Description</h3>

<p>Interactive <code>loon</code> widgets displayed in a <code>shiny</code> app
</p>


<h3>Usage</h3>

<pre><code class='language-R'>loon.shiny(
  widgets,
  selectBy = c("byDefault", "brushing", "sweeping"),
  showWorldView = TRUE,
  plotRegionWidth = "500px",
  plotRegionHeight = "500px",
  plotRegionBackground = "gray92",
  layoutMatrix = NULL,
  nrow = NULL,
  ncol = NULL,
  widths = NULL,
  heights = NULL,
  displayedPanel = "",
  colorList = loon::l_getColorList(),
  inspectorLocation = c("auto", "auto", "60px", "20px"),
  inspectorWidth = "350px",
  inspectorHeight = "auto",
  toolboxWidth = "300px",
  toolboxLocation = c(10, -20),
  options = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="loon.shiny_+3A_widgets">widgets</code></td>
<td>
<p>A <code>loon</code> widget or a list of <code>loon</code> widgets. If the input is a
<code>ggplot</code> object, the <code>ggplot</code> object will be turned into a <code>loon</code> widget
via <code><a href="loon.ggplot.html#topic+ggplot2loon">ggplot2loon</a></code>.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_selectby">selectBy</code></td>
<td>
<p>The way to brush, can be 'brushing' (keep the brush whenever the plot is updated),
'sweeping' (clear the brush whenever the plot is updated) or 'byDefault' (determined by <code>loon</code> widget 'selectBy')</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_showworldview">showWorldView</code></td>
<td>
<p>Logical; whether to show the world view.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_plotregionwidth">plotRegionWidth</code></td>
<td>
<p>Plot region width. Must be a valid <code>CSS</code> unit (like '100
which will be coerced to a string and have 'px' appended.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_plotregionheight">plotRegionHeight</code></td>
<td>
<p>Plot region height.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_plotregionbackground">plotRegionBackground</code></td>
<td>
<p>Plot region background color</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_layoutmatrix">layoutMatrix</code></td>
<td>
<p>Optional layout matrix to place <code>loon</code> widgets. See <code>layout_matrix</code> in <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows, see <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns, see <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_widths">widths</code></td>
<td>
<p>A unit vector giving the width of each plot.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_heights">heights</code></td>
<td>
<p>A unit vector giving the height of each plot.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_displayedpanel">displayedPanel</code></td>
<td>
<p>A string vector. The default is an empty string <code>""</code> so that
none inspector components (<code>Plot</code>, <code>Linking</code>, <code>Select</code>, etc) are open automatically.
The available strings are <code>c("Plot", "Select", "Linking", "Modify", "Layer", "Glyph")</code></p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_colorlist">colorList</code></td>
<td>
<p>A list of colors displayed on modify panel.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_inspectorlocation">inspectorLocation</code></td>
<td>
<p>A length four vector representing the distance between the
<code>bottom</code>, <code>left</code>, <code>top</code> and <code>right</code> of the inspector panel
and the <code>bottom</code>, <code>left</code>, <code>top</code> and <code>right</code> of the page or
parent container.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_inspectorwidth">inspectorWidth</code></td>
<td>
<p>Width of the inspector panel.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_inspectorheight">inspectorHeight</code></td>
<td>
<p>Height of the inspector panel.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_toolboxwidth">toolboxWidth</code></td>
<td>
<p>The width of a toolbox</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_toolboxlocation">toolboxLocation</code></td>
<td>
<p>The position of a toolbox (if any) which is
a length two numerical vector (&quot;pixel&quot;) representing the location (<code>x</code>, <code>y</code>) of
the top-left corner. A positive <code>x</code> pushes the toolbox to the right of the mouse and
a positive <code>y</code> pushes the toolbox down.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_options">options</code></td>
<td>
<p><code>shinyApp</code> argument that should be passed to the <code>runApp</code> call, see <code><a href="shiny.html#topic+shinyApp">shinyApp</a></code>.</p>
</td></tr>
<tr><td><code id="loon.shiny_+3A_...">...</code></td>
<td>
<p>Named arguments to modify shiny app.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p>Useful hints for a <code>loon.shiny</code> app

</p>

<ul>
<li><p>The inspector can be switched either by &ldquo;toggling tabpanel&rdquo; in the bar menu or
the last mouse gesture input (<code>&lt;double-click&gt;</code>) on the plot region
</p>
</li>
<li><p>To downlight the selected elements, one has to double click on the plot region
</p>
</li>
<li><p>In <code>loon</code>, holding down the <code>&lt;shift&gt;</code> key while pressing the left button keeps the current selection states.
In <code>loon.shiny</code> app, <code>&lt;shift&gt;</code> key is replaced by a 'sticky' radiobutton. If the 'sticky' mode is on,
while sweeping, current selection states remain; else new selection will eliminate the previous selection states.
</p>
</li></ul>


</li>
<li><p>Useful hints for a <code>loon.shiny</code> markdown file
</p>

<ul>
<li><p>Based on our experience, setting 'out.width' or 'out.height' (try &quot;10px&quot;) in the chunk could give a better layout
</p>
</li>
<li><p>To modify the app size, set 'options = list(height = **, width = **)' in <code>loon.shiny()</code>
</p>
</li></ul>


</li></ul>



<h3>Value</h3>

<p>A <code>shiny.appobj</code> object that represents the <code>loon.shiny</code> app.
Printing the object or passing it to <code><a href="shiny.html#topic+runApp">runApp</a></code> will run the app.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Only run this example in interactive R sessions
if(interactive()) {
  ############## Querying ##############
  lp &lt;- with(mpg,
             l_plot(displ, hwy,
                    showItemLabels = TRUE,
                    itemLabel = with(mpg,
                      paste0("model:", manufacturer, " ",
                              model, "\n",
                             "year:", year, "\n",
                             "drive way:", drv, "\n",
                             "fuel type:", fl)),
                    color = "black"))
  loon.shiny(lp)

  ############### Link multiple plots ###############
  p1 &lt;- l_plot(iris,
               linkingGroup = 'iris',
               showLabels = FALSE)
  p2 &lt;- l_hist(iris$Sepal.Length,
               linkingGroup = 'iris',
               showLabels = FALSE,
               showStackedColors = TRUE)
  p3 &lt;- l_hist(iris$Sepal.Width, linkingGroup = 'iris',
               color = iris$Species, sync = 'push',
               showLabels = FALSE, swapAxes = TRUE,
               showStackedColors = TRUE)
  loon.shiny(list(p1, p2, p3),
             layoutMatrix = matrix(c(2,NA,1,3),
             nrow = 2, byrow = TRUE))

if (requireNamespace('loon.ggplot', quietly = TRUE)) {
    # ggplot -&gt; loon -&gt; shiny
    p &lt;- ggplot(mpg, aes(displ, hwy)) +
      geom_point(data = transform(mpg, class = NULL), colour = 'grey85') +
      geom_point() +
      facet_wrap(~class)
    g &lt;- loon.ggplot(p,
                     activeGeomLayers = 2,
                     itemLabel = mpg$model) # active the second layer
    # with facets
    loon.shiny(g, toolboxWidth = "100px")
}
}
</code></pre>

<hr>
<h2 id='loon.shiny-deprecated'>Deprecated functions in package <span class="pkg">loon.shiny</span>.</h2><span id='topic+loon.shiny-deprecated'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for deprecated functions are
available at <code>help("shiny.loon")</code>
</p>

<hr>
<h2 id='shiny.loon-deprecated'>shiny.loon (deprecated)</h2><span id='topic+shiny.loon-deprecated'></span><span id='topic+shiny.loon'></span>

<h3>Description</h3>

<p>Package <code>loon.shiny</code> only provides one exported function. To make it easier for
users to remember, we decide to name the function with the selfsame name, <code>loon.shiny</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>shiny.loon(
  widgets,
  selectBy = c("byDefault", "brushing", "sweeping"),
  showWorldView = TRUE,
  plotRegionWidth = "500px",
  plotRegionHeight = "500px",
  plotRegionBackground = "gray92",
  layoutMatrix = NULL,
  nrow = NULL,
  ncol = NULL,
  widths = NULL,
  heights = NULL,
  displayedPanel = "",
  colorList = loon::l_getColorList(),
  inspectorLocation = c("auto", "auto", "60px", "20px"),
  inspectorWidth = "350px",
  inspectorHeight = "auto",
  options = list(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shiny.loon-deprecated_+3A_widgets">widgets</code></td>
<td>
<p>A <code>loon</code> widget or a list of <code>loon</code> widgets. If the input is a
<code>ggplot</code> object, the <code>ggplot</code> object will be turned into a <code>loon</code> widget
via <code><a href="loon.ggplot.html#topic+ggplot2loon">ggplot2loon</a></code>.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_selectby">selectBy</code></td>
<td>
<p>The way to brush, can be 'brushing' (keep the brush whenever the plot is updated),
'sweeping' (clear the brush whenever the plot is updated) or 'byDefault' (determined by <code>loon</code> widget 'selectBy')</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_showworldview">showWorldView</code></td>
<td>
<p>Logical; whether to show the world view.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_plotregionwidth">plotRegionWidth</code></td>
<td>
<p>Plot region width. Must be a valid <code>CSS</code> unit (like '100
which will be coerced to a string and have 'px' appended.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_plotregionheight">plotRegionHeight</code></td>
<td>
<p>Plot region height.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_plotregionbackground">plotRegionBackground</code></td>
<td>
<p>Plot region background color</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_layoutmatrix">layoutMatrix</code></td>
<td>
<p>Optional layout matrix to place <code>loon</code> widgets. See <code>layout_matrix</code> in <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_nrow">nrow</code></td>
<td>
<p>Number of rows, see <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_ncol">ncol</code></td>
<td>
<p>Number of columns, see <code><a href="gridExtra.html#topic+grid.arrange">grid.arrange</a></code>.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_widths">widths</code></td>
<td>
<p>A unit vector giving the width of each plot.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_heights">heights</code></td>
<td>
<p>A unit vector giving the height of each plot.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_displayedpanel">displayedPanel</code></td>
<td>
<p>A string vector. The default is an empty string <code>""</code> so that
none inspector components (<code>Plot</code>, <code>Linking</code>, <code>Select</code>, etc) are open automatically.
The available strings are <code>c("Plot", "Select", "Linking", "Modify", "Layer", "Glyph")</code></p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_colorlist">colorList</code></td>
<td>
<p>A list of colors displayed on modify panel.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_inspectorlocation">inspectorLocation</code></td>
<td>
<p>A length four vector representing the distance between the
<code>bottom</code>, <code>left</code>, <code>top</code> and <code>right</code> of the inspector panel
and the <code>bottom</code>, <code>left</code>, <code>top</code> and <code>right</code> of the page or
parent container.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_inspectorwidth">inspectorWidth</code></td>
<td>
<p>Width of the inspector panel.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_inspectorheight">inspectorHeight</code></td>
<td>
<p>Height of the inspector panel.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_options">options</code></td>
<td>
<p><code>shinyApp</code> argument that should be passed to the <code>runApp</code> call, see <code><a href="shiny.html#topic+shinyApp">shinyApp</a></code>.</p>
</td></tr>
<tr><td><code id="shiny.loon-deprecated_+3A_...">...</code></td>
<td>
<p>Named arguments to modify shiny app.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

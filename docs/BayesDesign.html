<!DOCTYPE html><html lang="en"><head><title>Help for package BayesDesign</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BayesDesign}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#optimal_OneStage'>
<p>Obtain design settings for one-stage Bayesian Single-Arm Phase II Trial with Time-to-Event Endpoints</p></a></li>
<li><a href='#optimal_TwoStage'>
<p>Obtain design settings for two-stage Bayesian Single-Arm Phase II Trial with Time-to-Event Endpoints</p></a></li>
<li><a href='#tot_time'>
<p>Sum up transformed observation time for each patient</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Bayesian Single-Arm Design with Survival Endpoints</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>The proposed event-driven approach for Bayesian two-stage single-arm phase II trial design is a novel clinical trial design and can be regarded as an extension of the Simonâ€™s two-stage design with the time-to-event endpoint. This design is motivated by cancer clinical trials with immunotherapy and molecularly targeted therapy, in which time-to-event endpoint is often a desired endpoint.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-05-03 03:22:23 UTC; chsu1</td>
</tr>
<tr>
<td>Author:</td>
<td>Chia-Wei Hsu [aut, cre],
  Haitao Pan [aut],
  Jianrong Wu [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Chia-Wei Hsu &lt;Chia-Wei.Hsu@stjude.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-05-04 06:30:16 UTC</td>
</tr>
</table>
<hr>
<h2 id='optimal_OneStage'>
Obtain design settings for one-stage Bayesian Single-Arm Phase II Trial with Time-to-Event Endpoints
</h2><span id='topic+optimal_OneStage'></span>

<h3>Description</h3>

<p>Obtain design parameters, type I error, power and operating characteristics of the Bayesian Single-Arm Phase II Trial Designs with Time-to-Event Endpoints (Wu et al. 2021). The exponential distribution is assumed for the survival time. The gamma prior is used here
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_OneStage(alphacutoff, powercutoff, S0,
                 x, ta, tf, a = 2, delta, ntrial,
                 complete = "partial", seed = 8232)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="optimal_OneStage_+3A_alphacutoff">alphacutoff</code></td>
<td>

<p>the desired type I error to be controlled
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_powercutoff">powercutoff</code></td>
<td>

<p>the desired power to be achieved
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_s0">S0</code></td>
<td>

<p>the survival probability at timepoint x
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_x">x</code></td>
<td>

<p>the survival probability S0 at timepoint x
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_ta">ta</code></td>
<td>

<p>accrual duration
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_tf">tf</code></td>
<td>

<p>follow-up duration
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_a">a</code></td>
<td>

<p>shape parameter of prior distribution. The default value is a = 2
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_delta">delta</code></td>
<td>

<p>hazard ratio
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_ntrial">ntrial</code></td>
<td>

<p>the number of simulated trials
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_complete">complete</code></td>
<td>

<p>whether output the full or partial information. The default value is complete = &quot;partial&quot;. If want to show full results, it would be complete = &quot;complete&quot;
</p>
</td></tr>
<tr><td><code id="optimal_OneStage_+3A_seed">seed</code></td>
<td>

<p>the seed. The default value is seed = 8232
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>optimal_OneStage()</code> depending on the argument &quot;complete&quot;, it returns a vector of partial information/complete information which includes:
</p>
<p>partial information:
(1) m: number of events of the whole design
(2) n: number of patients of the whole design
(3) k: total observation time of the whole design
(4) typeI: type I error of the whole design
(5) power: power of the whole design
(6) ES1: expected sample size under alternative hypothesis
(7) ES0: expected sample size under null hypothesis
</p>
<p>full information:
(1) eta: cutoff point of &quot;Go&quot; at final stage of analysis
(2) zeta: cutoff point of &quot;no-Go&quot; at final stage of analysis
(3) m: number of events of the whole design
(4) n: number of patients of the whole design
(5) k: total observation time of the whole design
(6) typeI: type I error of the whole design
(7) power: power of the whole design
(8) ES1: expected sample size under alternative hypothesis
(9) ES0: expected sample size under null hypothesis
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Bayesian Single-Arm Phase II Trial Designs with Time-to-Event Endpoints.&quot; Pharmaceutical Statistics. Accepted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Design 1

# H0 vs. H1: 17% vs. 40% (4-month PFS)
# that is, S0 = 0.17, and hazard ratio, e.g., delta = 0.517
# x = 4

optimal_OneStage(alphacutoff = 0.1, powercutoff = 0.8,
                 S0 = 0.17, x = 4, ta = 6, tf = 6,
                 delta = 0.517, ntrial = 10)

### Design 2

# H0 vs. H1: 17% vs. 30% (4-month PFS)
# that is, S0 = 0.17, and hazard ratio, e.g., delta = 0.679
# x = 4

optimal_OneStage(alphacutoff = 0.1, powercutoff = 0.8,
                 S0 = 0.17, x = 4, ta = 6, tf = 6,
                 delta = 0.679, ntrial = 10)
</code></pre>

<hr>
<h2 id='optimal_TwoStage'>
Obtain design settings for two-stage Bayesian Single-Arm Phase II Trial with Time-to-Event Endpoints
</h2><span id='topic+optimal_TwoStage'></span>

<h3>Description</h3>

<p>Obtain design parameters, type I error, power and operating characteristics of the Bayesian Single-Arm Phase II Trial Designs with Time-to-Event Endpoints (Wu et al. 2021). The exponential distribution is assumed for the survival time. The gamma prior is used here
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimal_TwoStage(alphacutoff, powercutoff, S0, x,
                 ta, tf, a = 2, delta, frac = .5,
                 ntrial, complete = "partial", seed = 8232)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="optimal_TwoStage_+3A_alphacutoff">alphacutoff</code></td>
<td>

<p>the desired type I error to be controlled
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_powercutoff">powercutoff</code></td>
<td>

<p>the desired power to be achieved
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_s0">S0</code></td>
<td>

<p>the survival probability at timepoint x
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_x">x</code></td>
<td>

<p>the survival probability S0 at timepoint x
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_ta">ta</code></td>
<td>

<p>accrual duration
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_tf">tf</code></td>
<td>

<p>follow-up duration
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_a">a</code></td>
<td>

<p>shape parameter of prior distribution. The default value is a = 2
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_delta">delta</code></td>
<td>

<p>hazard ratio
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_frac">frac</code></td>
<td>

<p>a information fraction for interim analysis. The fefault value is
frac = 0.5
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_ntrial">ntrial</code></td>
<td>

<p>the number of simulated trials
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_complete">complete</code></td>
<td>

<p>whether output the full or partial information. The default value is complete = &quot;partial&quot;. If want to show full results, it would be complete = &quot;complete&quot;
</p>
</td></tr>
<tr><td><code id="optimal_TwoStage_+3A_seed">seed</code></td>
<td>

<p>the seed. The default value is seed = 8232
</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>optimal()</code> depending on the argument &quot;complete&quot;, it returns a vector of partial information/complete information which includes:
</p>
<p>partial information:
(1) m1: number of events at stage 1
(2) n1: number of patients at stage 1
(3) k1: total observation time at stage 1
(4) m: number of events of the whole design
(5) n: number of patients of the whole design
(6) k: total observation time of the whole design
(7) typeI: type I error of the whole design
(8) power: power of the whole design
(9) PET1: early stopping probabilites under alternative hypothesis
(10) ES1: expected sample size under alternative hypothesis
(11) PET0: early stopping probabilites under null hypothesis
(12) ES0: expected sample size under null hypothesis
</p>
<p>full information:
(1) eta: cutoff point of &quot;Go&quot; at final stage of analysis
(2) xi: cutoff point of &quot;no-Go&quot; at final stage of analysis
(3) m1: number of events at stage 1
(4) n1: number of patients at stage 1
(5) k1: total observation time at stage 1
(6) m: number of events of the whole design
(7) n: number of patients of the whole design
(8) k: total observation time of the whole design
(9) typeI: type I error of the whole design
(10) power: power of the whole design
(11) PET1: early stopping probabilites under alternative hypothesis
(12) ES1: expected sample size under alternative hypothesis
(13) PET0: early stopping probabilites under null hypothesis
(14) ES0: expected sample size under null hypothesis
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Bayesian Single-Arm Phase II Trial Designs with Time-to-Event Endpoints.&quot; Pharmaceutical Statistics. Accepted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
### Design 1

# H0 vs. H1: 17% vs. 40% (4-month PFS)
# that is, S0 = 0.17, and hazard ratio, e.g., delta = 0.517
# x = 4

optimal_TwoStage(alphacutoff = 0.1, powercutoff = 0.8, S0 = 0.17,
                 x = 4, ta = 6, tf = 6, delta = 0.517, ntrial = 10)

### Design 2

# H0 vs. H1: 17% vs. 30% (4-month PFS)
# that is, S0 = 0.17, and hazard ratio, e.g., delta = 0.679
# x = 4

optimal_TwoStage(alphacutoff = 0.1, powercutoff = 0.8, S0 = 0.17,
                 x = 4, ta = 6, tf = 6, delta = 0.679, ntrial = 10)
</code></pre>

<hr>
<h2 id='tot_time'>
Sum up transformed observation time for each patient
</h2><span id='topic+tot_time'></span>

<h3>Description</h3>

<p>Sum up transformed observation time for each patient to get
U in order to determine the trial: (1) goes to second stage
(2) stops for futility (3) declares the treatment is promising and
warrants for further study in a large scale phase III trial
(4) declares the treatment is unpromising and
is not worth for further study.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tot_time(obs_time, S0, x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tot_time_+3A_obs_time">obs_time</code></td>
<td>

<p>a vector. Each element represents an observation time of the patient
</p>
</td></tr>
<tr><td><code id="tot_time_+3A_s0">S0</code></td>
<td>

<p>the survival probability at timepoint x
</p>
</td></tr>
<tr><td><code id="tot_time_+3A_x">x</code></td>
<td>

<p>the survival probability S0 at timepoint x
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the function returns the total transformed observation time for all patients
</p>


<h3>Author(s)</h3>

<p>Chia-Wei Hsu, Haitao Pan, Jianrong Wu
</p>


<h3>References</h3>

<p>Jianrong Wu, Haitao Pan, Chia-Wei Hsu (2021). &quot;Bayesian Single-Arm Phase II Trial Designs with Time-to-Event Endpoints.&quot; Pharmaceutical Statistics. Accepted
</p>


<h3>Examples</h3>

<pre><code class='language-R'>obs_time &lt;- c(3.003, 11.987, 4.306, 2.561, 1.575, 0.329, 1.940,
              0.869, 7.481, 1.861, 7.279, 0.007, 6.485, 1.981,
              4.257, 0.967, 2.619, 0.040, 0.426, 4.628)
S0 &lt;- 0.17
x &lt;- 4
tot_time(obs_time = obs_time, S0 = S0, x = x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package rjstat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rjstat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rjstat'><p>Read and write JSON-stat data sets</p></a></li>
<li><a href='#as.json'><p>Convert to jsonlite json object</p></a></li>
<li><a href='#as.jsonstat'><p>Create a JSON-stat object</p></a></li>
<li><a href='#fromJSONstat'><p>Convert JSON-stat format to data frame(s)</p></a></li>
<li><a href='#id'><p><code>id</code> accessors of <code>jsonstat</code> objects</p></a></li>
<li><a href='#status'><p><code>status</code> accessors of <code>jsonstat</code> objects</p></a></li>
<li><a href='#toJSONstat'><p>Convert data frame(s) to JSON-stat format</p></a></li>
<li><a href='#validate_jsonstat'><p>Function to validate json stat</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Handle 'JSON-stat' Format in R</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.3</td>
</tr>
<tr>
<td>Author:</td>
<td>Aaron Schumacher, Håkon Malmedal, Måns Magnusson</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Aaron Schumacher &lt;ajschumacher@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Handle 'JSON-stat' format (<a href="https://json-stat.org">https://json-stat.org</a>) in R.
    Not all features are supported, especially the extensive metadata
    features of 'JSON-stat'.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ajschumacher/rjstat">https://github.com/ajschumacher/rjstat</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ajschumacher/rjstat/issues">https://github.com/ajschumacher/rjstat/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite (&ge; 0.9.8), checkmate (&ge; 1.7.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 1.0.0), reshape (&ge; 0.7)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-04 16:37:33 UTC; hmalm</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-05 09:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='rjstat'>Read and write JSON-stat data sets</h2><span id='topic+rjstat'></span><span id='topic+rjstat-package'></span>

<h3>Description</h3>

<p><a href="https://json-stat.org">JSON-stat</a> is a JSON format for data
dissemination. The <span class="pkg">rjstat</span> package converts data frames to and from this
format. The extensive metadata features of JSON-stat are not supported.
</p>

<hr>
<h2 id='as.json'>Convert to jsonlite json object</h2><span id='topic+as.json'></span>

<h3>Description</h3>

<p>Convert to jsonlite json object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.json(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.json_+3A_x">x</code></td>
<td>
<p>an object to coerce to a json object.</p>
</td></tr>
<tr><td><code id="as.json_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to or from methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently only methods for <code>jsonstat</code> objects are implemented.
</p>

<hr>
<h2 id='as.jsonstat'>Create a JSON-stat object</h2><span id='topic+as.jsonstat'></span><span id='topic+is.jsonstat'></span><span id='topic+is.jsonstat_dataset'></span><span id='topic+is.jsonstat_collection'></span><span id='topic+is.jsonstat_dimension'></span>

<h3>Description</h3>

<p>Create a JSON-stat object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.jsonstat(x)

is.jsonstat(x)

is.jsonstat_dataset(x)

is.jsonstat_collection(x)

is.jsonstat_dimension(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.jsonstat_+3A_x">x</code></td>
<td>
<p>a JSON-stat string, URL or file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a JSON-stat object with subclass dataset, dimension or collection
</p>


<h3>Examples</h3>

<pre><code class='language-R'>file_path &lt;- system.file("extdata", "oecd.json", package = "rjstat")
x &lt;- as.jsonstat(file_path)
print(x)
is.jsonstat(x)
is.jsonstat_dataset(x)
is.jsonstat_dimension(x)

</code></pre>

<hr>
<h2 id='fromJSONstat'>Convert JSON-stat format to data frame(s)</h2><span id='topic+fromJSONstat'></span>

<h3>Description</h3>

<p>This function takes a JSON-stat format response and returns a data frame or a
list of data frames, with columns for each dimension and one <code>value</code>
column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fromJSONstat(x, naming = "label", use_factors = FALSE, silent = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fromJSONstat_+3A_x">x</code></td>
<td>
<p>JSON-stat format response, or path or URL to such a response</p>
</td></tr>
<tr><td><code id="fromJSONstat_+3A_naming">naming</code></td>
<td>
<p>whether to use (longer) <code>label</code>s or (shorter) <code>id</code>s</p>
</td></tr>
<tr><td><code id="fromJSONstat_+3A_use_factors">use_factors</code></td>
<td>
<p>whether dimension categories should be factors or
character objects</p>
</td></tr>
<tr><td><code id="fromJSONstat_+3A_silent">silent</code></td>
<td>
<p>suppress warnings</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For responses with class <code>dataset</code>: A data frame. For responses
with class <code>collection</code>: An unnamed list of one or more lists or data
frames. For responses with class <code>bundle</code>: A named list of one or more
data frames.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
oecd.canada.url &lt;- "https://json-stat.org/samples/oecd-canada.json"
results &lt;- fromJSONstat(oecd.canada.url)
names(results)

## End(Not run)
</code></pre>

<hr>
<h2 id='id'><code>id</code> accessors of <code>jsonstat</code> objects</h2><span id='topic+id'></span><span id='topic+id+3C-'></span>

<h3>Description</h3>

<p>Access and change <code>id</code>s of jsonstat objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id(x)

id(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="id_+3A_x">x</code></td>
<td>
<p>a <code>jsonstat_dataset</code> object</p>
</td></tr>
<tr><td><code id="id_+3A_value">value</code></td>
<td>
<p>a character vector of up to the same length as <code>id(x)</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='status'><code>status</code> accessors of <code>jsonstat</code> objects</h2><span id='topic+status'></span><span id='topic+status+3C-'></span>

<h3>Description</h3>

<p>Access and change <code>status</code>s of jsonstat objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>status(x)

status(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="status_+3A_x">x</code></td>
<td>
<p>a <code>jsonstat_dataset</code> object</p>
</td></tr>
<tr><td><code id="status_+3A_value">value</code></td>
<td>
<p>a character vector of up to the same length as <code>as.vector(x)</code> or a named list with index as vector names.</p>
</td></tr>
</table>

<hr>
<h2 id='toJSONstat'>Convert data frame(s) to JSON-stat format</h2><span id='topic+toJSONstat'></span>

<h3>Description</h3>

<p>This function takes a data frame or list of data frames and returns
a string representation in JSON-stat format. The input data frame(s)
must be in maximally long tidy format: with only one <code>value</code>
column and all other columns representing dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toJSONstat(x, value = "value", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toJSONstat_+3A_x">x</code></td>
<td>
<p>a data frame or list of data frames</p>
</td></tr>
<tr><td><code id="toJSONstat_+3A_value">value</code></td>
<td>
<p>name of value column</p>
</td></tr>
<tr><td><code id="toJSONstat_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="jsonlite.html#topic+toJSON">toJSON</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>For a data frame: A JSON-stat format response with class
<code>dataset</code>. For a list of data frames: A JSON-stat format response with
class <code>collection</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(reshape)
irises &lt;- melt(cbind(iris, Specimen=rep(1:50, 3)),
               id.vars=c("Species", "Specimen"))
irisJSONstat &lt;- toJSONstat(list(iris=irises))
cat(substr(irisJSONstat, 1, 76))

# Add indentation whitespace
toJSONstat(as.data.frame(Titanic), value = "Freq", pretty = TRUE)
</code></pre>

<hr>
<h2 id='validate_jsonstat'>Function to validate json stat</h2><span id='topic+validate_jsonstat'></span>

<h3>Description</h3>

<p>Now this is just a simple light-weight validation.
Hopefully this can be complemented with a real json stat
schema validator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_jsonstat(x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

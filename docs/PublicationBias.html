<!DOCTYPE html><html lang="en"><head><title>Help for package PublicationBias</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {PublicationBias}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#PublicationBias-package'><p>PublicationBias: Sensitivity Analysis for Publication Bias in Meta-Analyses</p></a></li>
<li><a href='#pubbias_meta'><p>Estimate publication bias-corrected meta-analysis</p></a></li>
<li><a href='#pubbias_svalue'><p>Severity of publication bias needed to &quot;explain away&quot; results</p></a></li>
<li><a href='#pval_plot'><p>Plot one-tailed p-values</p></a></li>
<li><a href='#significance_funnel'><p>Make significance funnel plot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Sensitivity Analysis for Publication Bias in Meta-Analyses</td>
</tr>
<tr>
<td>Version:</td>
<td>2.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Performs sensitivity analysis for publication bias in meta-analyses
    (per Mathur &amp; VanderWeele, 2020 [&lt;<a href="https://doi.org/10.31219%2Fosf.io%2Fs9dp6">doi:10.31219/osf.io/s9dp6</a>&gt;]). These analyses
    enable statements such as: "For publication bias to shift the observed point
    estimate to the null, 'significant' results would need to be at least
    30-fold more likely to be published than negative or 'nonsignificant'
    results." Comparable statements can be made regarding shifting to a chosen
    non-null value or shifting the confidence interval. Provides a worst-case
    meta-analytic point estimate under maximal publication bias obtained simply
    by conducting a standard meta-analysis of only the negative and
    "nonsignificant" studies.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mathurlabstanford/PublicationBias">https://github.com/mathurlabstanford/PublicationBias</a>,
<a href="https://mathurlabstanford.github.io/PublicationBias/">https://mathurlabstanford.github.io/PublicationBias/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mathurlabstanford/PublicationBias/issues">https://github.com/mathurlabstanford/PublicationBias/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, glue, lifecycle, metabias, metafor, stats,
Rdpack, rlang, robumeta</td>
</tr>
<tr>
<td>Suggests:</td>
<td>purrr, testthat (&ge; 3.0.0), withr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>Rdpack</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-18 19:49:30 UTC; Peter</td>
</tr>
<tr>
<td>Author:</td>
<td>Mika Braginsky [aut],
  Maya Mathur [aut],
  Tyler J. VanderWeele [aut],
  Peter Solymos <a href="https://orcid.org/0000-0001-7337-1740"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [cre, ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter Solymos &lt;peter@analythium.io&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-18 23:42:32 UTC</td>
</tr>
</table>
<hr>
<h2 id='PublicationBias-package'>PublicationBias: Sensitivity Analysis for Publication Bias in Meta-Analyses</h2><span id='topic+PublicationBias'></span><span id='topic+PublicationBias-package'></span>

<h3>Description</h3>

<p>Performs sensitivity analysis for publication bias in meta-analyses (per Mathur &amp; VanderWeele, 2020 [<a href="https://doi.org/10.31219/osf.io/s9dp6">doi:10.31219/osf.io/s9dp6</a>]). These analyses enable statements such as: &quot;For publication bias to shift the observed point estimate to the null, 'significant' results would need to be at least 30-fold more likely to be published than negative or 'nonsignificant' results.&quot; Comparable statements can be made regarding shifting to a chosen non-null value or shifting the confidence interval. Provides a worst-case meta-analytic point estimate under maximal publication bias obtained simply by conducting a standard meta-analysis of only the negative and &quot;nonsignificant&quot; studies.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Peter Solymos <a href="mailto:peter@analythium.io">peter@analythium.io</a> (<a href="https://orcid.org/0000-0001-7337-1740">ORCID</a>) [contributor]
</p>
<p>Authors:
</p>

<ul>
<li><p> Mika Braginsky <a href="mailto:mika.br@gmail.com">mika.br@gmail.com</a>
</p>
</li>
<li><p> Maya Mathur <a href="mailto:mmathur@stanford.edu">mmathur@stanford.edu</a>
</p>
</li>
<li><p> Tyler J. VanderWeele <a href="mailto:tvanderw@hsph.harvard.edu">tvanderw@hsph.harvard.edu</a>
</p>
</li></ul>



<h3>References</h3>

<p>Mathur MB, VanderWeele TJ (2020).
&ldquo;Sensitivity analysis for publication bias in meta-analyses.&rdquo;
<em>Journal of the Royal Statistical Society: Series C (Applied Statistics)</em>, <b>69</b>(5), 1091&ndash;1119.
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/mathurlabstanford/PublicationBias">https://github.com/mathurlabstanford/PublicationBias</a>
</p>
</li>
<li> <p><a href="https://mathurlabstanford.github.io/PublicationBias/">https://mathurlabstanford.github.io/PublicationBias/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/mathurlabstanford/PublicationBias/issues">https://github.com/mathurlabstanford/PublicationBias/issues</a>
</p>
</li></ul>


<hr>
<h2 id='pubbias_meta'>Estimate publication bias-corrected meta-analysis</h2><span id='topic+pubbias_meta'></span><span id='topic+corrected_meta'></span>

<h3>Description</h3>

<p>For a chosen ratio of publication probabilities, <code>selection_ratio</code>, estimates
a publication bias-corrected pooled point estimate and confidence interval
per Mathur and VanderWeele (2020). Model options include
fixed-effects (a.k.a. &quot;common-effect&quot;), robust independent, and robust
clustered specifications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pubbias_meta(
  yi,
  vi,
  sei,
  cluster = 1:length(yi),
  selection_ratio,
  selection_tails = 1,
  model_type = "robust",
  favor_positive = TRUE,
  alpha_select = 0.05,
  ci_level = 0.95,
  small = TRUE,
  return_worst_meta = FALSE
)

corrected_meta(
  yi,
  vi,
  eta,
  clustervar = 1:length(yi),
  model,
  selection.tails = 1,
  favor.positive,
  alpha.select = 0.05,
  CI.level = 0.95,
  small = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pubbias_meta_+3A_yi">yi</code></td>
<td>
<p>A vector of point estimates to be meta-analyzed.</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_vi">vi</code></td>
<td>
<p>A vector of estimated variances (i.e., squared standard errors) for
the point estimates.</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_sei">sei</code></td>
<td>
<p>A vector of estimated standard errors for the point estimates.
(Only one of <code>vi</code> or <code>sei</code> needs to be specified).</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_cluster">cluster</code></td>
<td>
<p>Vector of the same length as the number of rows in the data,
indicating which cluster each study should be considered part of (defaults
to treating studies as independent; i.e., each study is in its own cluster).</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_selection_ratio">selection_ratio</code></td>
<td>
<p>Ratio by which publication bias favors affirmative
studies (i.e., studies with p-values less than <code>alpha_select</code> and
estimates in the direction indicated by <code>favor_positive</code>).</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_selection_tails">selection_tails</code></td>
<td>
<p>1 (for one-tailed selection, recommended for its
conservatism) or 2 (for two-tailed selection).</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_model_type">model_type</code></td>
<td>
<p>&quot;fixed&quot; for fixed-effects (a.k.a. &quot;common-effect&quot;) or
&quot;robust&quot; for robust random-effects.</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_favor_positive">favor_positive</code></td>
<td>
<p><code>TRUE</code> if publication bias are
assumed to favor significant positive estimates; <code>FALSE</code> if assumed to
favor significant negative estimates.</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_alpha_select">alpha_select</code></td>
<td>
<p>Alpha level at which an estimate's probability of being
favored by publication bias is assumed to change (i.e.,
the threshold at which study investigators, journal editors, etc., consider
an estimate to be significant).</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_ci_level">ci_level</code></td>
<td>
<p>Confidence interval level (as proportion) for the corrected
point estimate. (The alpha level for inference on the corrected point
estimate will be calculated from <code>ci_level</code>.)</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_small">small</code></td>
<td>
<p>Should inference allow for a small meta-analysis? We recommend
always using <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_return_worst_meta">return_worst_meta</code></td>
<td>
<p>Should the worst-case meta-analysis of only the
nonaffirmative studies be returned?</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_eta">eta</code></td>
<td>
<p>(deprecated) see selection_ratio</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_clustervar">clustervar</code></td>
<td>
<p>(deprecated) see cluster</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_model">model</code></td>
<td>
<p>(deprecated) see model_type</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_selection.tails">selection.tails</code></td>
<td>
<p>(deprecated) see selection_tails</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_favor.positive">favor.positive</code></td>
<td>
<p>(deprecated) see favor_positive</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_alpha.select">alpha.select</code></td>
<td>
<p>(deprecated) see alpha_select</p>
</td></tr>
<tr><td><code id="pubbias_meta_+3A_ci.level">CI.level</code></td>
<td>
<p>(deprecated) see ci_level</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>selection_ratio</code> represents the number of times more likely
affirmative studies (i.e., those with a &quot;statistically significant&quot; and
positive estimate) are to be published than nonaffirmative studies (i.e.,
those with a &quot;nonsignificant&quot; or negative estimate).
</p>
<p>If <code>favor_positive</code> is <code>FALSE</code>, such that publication bias is assumed to
favor negative rather than positive estimates, the signs of <code>yi</code> will be
reversed prior to performing analyses. The corrected estimate will be
reported based on the recoded signs rather than the original sign
convention.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="metabias.html#topic+metabias-class">metabias::metabias()</a></code>, a list containing:
</p>

<dl>
<dt>data</dt><dd><p>A tibble with one row per study and the columns
<code>yi</code>, <code>yif</code>, <code>vi</code>, <code>affirm</code>, <code>cluster</code>.</p>
</dd>
<dt>values</dt><dd><p>A list with the elements <code>selection_ratio</code>, <code>selection_tails</code>, <code>model_type</code>, <code>favor_positive</code>, <code>alpha_select</code>, <code>ci_level</code>, <code>small</code>, <code>k</code>, <code>k_affirmative</code>, <code>k_nonaffirmative</code>.</p>
</dd>
<dt>stats</dt><dd><p>A tibble with the columns <code>model</code>, <code>estimate</code>, <code>se</code>, <code>ci_lower</code>, <code>ci_upper</code>, <code>p_value</code>.</p>
</dd>
<dt>fit</dt><dd><p>A list of fitted models, if any.</p>
</dd>
</dl>



<h3>References</h3>

<p>Mathur MB, VanderWeele TJ (2020).
&ldquo;Sensitivity analysis for publication bias in meta-analyses.&rdquo;
<em>Journal of the Royal Statistical Society: Series C (Applied Statistics)</em>, <b>69</b>(5), 1091&ndash;1119.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># calculate effect sizes from example dataset in metafor
require(metafor)
dat &lt;- metafor::escalc(measure = "RR", ai = tpos, bi = tneg, ci = cpos,
                       di = cneg, data = dat.bcg)

# first fit fixed-effects model without any bias correction
# since the point estimate is negative here, we'll assume publication bias
# favors negative log-RRs rather than positive ones
metafor::rma(yi, vi, data = dat, method = "FE")

# warmup
# note that passing selection_ratio = 1 (no publication bias) yields the naive
# point estimate from rma above, which makes sense
meta &lt;- pubbias_meta(yi = dat$yi,
                     vi = dat$vi,
                     selection_ratio = 1,
                     model_type = "fixed",
                     favor_positive = FALSE)
summary(meta)

# assume a known selection ratio of 5
# i.e., affirmative results are 5x more likely to be published than
# nonaffirmative ones
meta &lt;- pubbias_meta(yi = dat$yi,
                     vi = dat$vi,
                     selection_ratio = 5,
                     model_type = "fixed",
                     favor_positive = FALSE)
summary(meta)

# same selection ratio, but now account for heterogeneity and clustering via
# robust specification
meta &lt;- pubbias_meta(yi = dat$yi,
                     vi = dat$vi,
                     cluster = dat$author,
                     selection_ratio = 5,
                     model_type = "robust",
                     favor_positive = FALSE)
summary(meta)

##### Make sensitivity plot as in Mathur &amp; VanderWeele (2020) #####
# range of parameters to try (more dense at the very small ones)
selection_ratios &lt;- c(200, 150, 100, 50, 40, 30, 20, seq(15, 1))

# compute estimate for each value of selection_ratio
estimates &lt;- lapply(selection_ratios, function(e) {
  pubbias_meta(yi = dat$yi, vi = dat$vi, cluster = dat$author,
               selection_ratio = e, model_type = "robust",
               favor_positive = FALSE)$stats
})
estimates &lt;- dplyr::bind_rows(estimates)
estimates$selection_ratio &lt;- selection_ratios

require(ggplot2)
ggplot(estimates, aes(x = selection_ratio, y = estimate)) +
  geom_ribbon(aes(ymin = ci_lower, ymax = ci_upper), fill = "gray") +
  geom_line(lwd = 1.2) +
  labs(x = bquote(eta), y = bquote(hat(mu)[eta])) +
  theme_classic()
</code></pre>

<hr>
<h2 id='pubbias_svalue'>Severity of publication bias needed to &quot;explain away&quot; results</h2><span id='topic+pubbias_svalue'></span><span id='topic+svalue'></span>

<h3>Description</h3>

<p>Estimates the S-value, defined as the severity of publication bias (i.e., the
ratio by which affirmative studies are more likely to be published than
nonaffirmative studies) that would be required to shift the pooled point
estimate or its confidence interval limit to the value <code>q</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pubbias_svalue(
  yi,
  vi,
  sei,
  cluster = 1:length(yi),
  q = 0,
  model_type = "robust",
  favor_positive = TRUE,
  alpha_select = 0.05,
  ci_level = 0.95,
  small = TRUE,
  selection_ratio_max = 200,
  return_worst_meta = FALSE
)

svalue(
  yi,
  vi,
  q,
  clustervar = 1:length(yi),
  model,
  alpha.select = 0.05,
  eta.grid.hi = 200,
  favor.positive,
  CI.level = 0.95,
  small = TRUE,
  return.worst.meta = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pubbias_svalue_+3A_yi">yi</code></td>
<td>
<p>A vector of point estimates to be meta-analyzed.</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_vi">vi</code></td>
<td>
<p>A vector of estimated variances (i.e., squared standard errors) for
the point estimates.</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_sei">sei</code></td>
<td>
<p>A vector of estimated standard errors for the point estimates.
(Only one of <code>vi</code> or <code>sei</code> needs to be specified).</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_cluster">cluster</code></td>
<td>
<p>Vector of the same length as the number of rows in the data,
indicating which cluster each study should be considered part of (defaults
to treating studies as independent; i.e., each study is in its own cluster).</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_q">q</code></td>
<td>
<p>The attenuated value to which to shift the point estimate or CI.
Should be specified on the same scale as <code>yi</code> (e.g., if
<code>yi</code> is on the log-RR scale, then <code>q</code> should be as well).</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_model_type">model_type</code></td>
<td>
<p>&quot;fixed&quot; for fixed-effects (a.k.a. &quot;common-effect&quot;) or
&quot;robust&quot; for robust random-effects.</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_favor_positive">favor_positive</code></td>
<td>
<p><code>TRUE</code> if publication bias are
assumed to favor significant positive estimates; <code>FALSE</code> if assumed to
favor significant negative estimates.</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_alpha_select">alpha_select</code></td>
<td>
<p>Alpha level at which an estimate's probability of being
favored by publication bias is assumed to change (i.e.,
the threshold at which study investigators, journal editors, etc., consider
an estimate to be significant).</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_ci_level">ci_level</code></td>
<td>
<p>Confidence interval level (as proportion) for the corrected
point estimate. (The alpha level for inference on the corrected point
estimate will be calculated from <code>ci_level</code>.)</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_small">small</code></td>
<td>
<p>Should inference allow for a small meta-analysis? We recommend
always using <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_selection_ratio_max">selection_ratio_max</code></td>
<td>
<p>The largest value of <code>selection_ratio</code> that should
be included in the grid search. This argument is only needed when
<code>model_type = "robust"</code>.</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_return_worst_meta">return_worst_meta</code></td>
<td>
<p>Should the worst-case meta-analysis of only the
nonaffirmative studies be returned?</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_clustervar">clustervar</code></td>
<td>
<p>(deprecated) see cluster</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_model">model</code></td>
<td>
<p>(deprecated) see model_type</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_alpha.select">alpha.select</code></td>
<td>
<p>(deprecated) see alpha_select</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_eta.grid.hi">eta.grid.hi</code></td>
<td>
<p>(deprecated) see selection_ratio_max</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_favor.positive">favor.positive</code></td>
<td>
<p>(deprecated) see favor_positive</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_ci.level">CI.level</code></td>
<td>
<p>(deprecated) see ci_level</p>
</td></tr>
<tr><td><code id="pubbias_svalue_+3A_return.worst.meta">return.worst.meta</code></td>
<td>
<p>(deprecated) see return_worst_meta</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To illustrate interpretation of the S-value, if the S-value for the
point estimate is 30 with <code>q=0</code>, this indicates that affirmative studies
(i.e., those with a &quot;statistically significant&quot; and positive estimate)
would need to be 30-fold more likely to be published than nonaffirmative
studies (i.e., those with a &quot;nonsignificant&quot; or negative estimate) to
attenuate the pooled point estimate to <code>q</code>.
</p>
<p>If <code>favor_positive = FALSE</code>, such that publication bias is assumed to favor
negative rather than positive estimates, the signs of <code>yi</code> will be reversed
prior to performing analyses. The returned number of affirmative and
nonaffirmative studies will reflect the recoded signs.
</p>
<p>If <code>return_worst_meta = TRUE</code>, also returns the worst-case meta-analysis of
only the nonaffirmative studies. If <code>model_type = "fixed"</code>, the worst-case
meta-analysis is fit by <code>metafor::rma.uni()</code>. If <code>model_type = "robust"</code>,
it is fit by <code>robumeta::robu()</code>. Note that in the latter case, custom
inverse-variance weights are used, which are the inverse of the sum of the
study's variance and a heterogeneity estimate from a naive random-effects
meta-analysis (Mathur &amp; VanderWeele, 2020). This is done for consistency
with the results of <code>pubbias_meta()</code>, which is used to determine <code>sval_est</code>
and <code>sval_ci</code>. Therefore, the worst-case meta-analysis results may differ
slightly from what you would obtain if you simply fit <code>robumeta::robu()</code> on
the nonaffirmative studies with the default weights.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="metabias.html#topic+metabias-class">metabias::metabias()</a></code>, a list containing:
</p>

<dl>
<dt>data</dt><dd><p>A tibble with one row per study and the columns
<code>yi</code>, <code>yif</code>, <code>vi</code>, <code>affirm</code>, <code>cluster</code>.</p>
</dd>
<dt>values</dt><dd><p>A list with the elements <code>selection_ratio</code>, <code>selection_tails</code>, <code>model_type</code>, <code>favor_positive</code>, <code>alpha_select</code>, <code>ci_level</code>, <code>small</code>, <code>k</code>, <code>k_affirmative</code>, <code>k_nonaffirmative</code>.</p>
</dd>
<dt>stats</dt><dd><p>A tibble with the columns <code>model</code>, <code>estimate</code>, <code>se</code>, <code>ci_lower</code>, <code>ci_upper</code>, <code>p_value</code>.
<code>sval_est</code> represents the amount of publication bias required
to attenuate the pooled point estimate to <code>q</code>; <code>sval_ci</code>
represents the amount of publication bias required to
attenuate the confidence interval limit of the pooled point
estimate to <code>q</code>.</p>
</dd>
<dt>fit</dt><dd><p>A list of fitted models, if any.</p>
</dd>
</dl>



<h3>References</h3>

<p>Mathur MB, VanderWeele TJ (2020).
&ldquo;Sensitivity analysis for publication bias in meta-analyses.&rdquo;
<em>Journal of the Royal Statistical Society: Series C (Applied Statistics)</em>, <b>69</b>(5), 1091&ndash;1119.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># calculate effect sizes from example dataset in metafor
require(metafor)
dat &lt;- metafor::escalc(measure = "RR", ai = tpos, bi = tneg, ci = cpos,
                       di = cneg, data = dat.bcg)

##### Fixed-Effects Specification #####
# S-values and worst-case meta-analysis under fixed-effects specification
svals_fixed_0 &lt;- pubbias_svalue(yi = dat$yi,
                                vi = dat$vi,
                                q = 0,
                                model_type = "fixed",
                                favor_positive = FALSE)

# publication bias required to shift point estimate to 0
svals_fixed_0$stats$sval_est

# and to shift CI to include 0
svals_fixed_0$stats$sval_ci

# now try shifting to a nonzero value (RR = 0.90)
svals_fixed_q &lt;- pubbias_svalue(yi = dat$yi,
                                vi = dat$vi,
                                q = log(.9),
                                model_type = "fixed",
                                favor_positive = FALSE)

# publication bias required to shift point estimate to RR = 0.90
svals_fixed_q$stats$sval_est

# and to shift CI to RR = 0.90
svals_fixed_q$stats$sval_ci

##### Robust Clustered Specification #####
svals &lt;- pubbias_svalue(yi = dat$yi,
                        vi = dat$vi,
                        q = 0,
                        model_type = "robust",
                        favor_positive = FALSE)
summary(svals)
</code></pre>

<hr>
<h2 id='pval_plot'>Plot one-tailed p-values</h2><span id='topic+pval_plot'></span>

<h3>Description</h3>

<p>Plots the one-tailed p-values. The leftmost red line indicates the cutoff for
one-tailed p-values less than 0.025 (corresponding to &quot;affirmative&quot; studies;
i.e., those with a positive point estimate and a two-tailed p-value less than
0.05). The rightmost red line indicates one-tailed p-values greater than
0.975 (i.e., studies with a negative point estimate and a two-tailed p-value
less than 0.05). If there is a substantial point mass of p-values to the
right of the rightmost red line, this suggests that selection may be
two-tailed rather than one-tailed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pval_plot(yi, vi, sei, alpha_select = 0.05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pval_plot_+3A_yi">yi</code></td>
<td>
<p>A vector of point estimates to be meta-analyzed. The signs of the
estimates should be chosen such that publication bias is assumed to operate
in favor of positive estimates.</p>
</td></tr>
<tr><td><code id="pval_plot_+3A_vi">vi</code></td>
<td>
<p>A vector of estimated variances (i.e., squared standard errors) for
the point estimates.</p>
</td></tr>
<tr><td><code id="pval_plot_+3A_sei">sei</code></td>
<td>
<p>A vector of estimated standard errors for the point estimates.
(Only one of <code>vi</code> or <code>sei</code> needs to be specified).</p>
</td></tr>
<tr><td><code id="pval_plot_+3A_alpha_select">alpha_select</code></td>
<td>
<p>Alpha level at which an estimate's probability of being
favored by publication bias is assumed to change (i.e.,
the threshold at which study investigators, journal editors, etc., consider
an estimate to be significant).</p>
</td></tr>
</table>


<h3>References</h3>

<p>Mathur MB, VanderWeele TJ (2020).
&ldquo;Sensitivity analysis for publication bias in meta-analyses.&rdquo;
<em>Journal of the Royal Statistical Society: Series C (Applied Statistics)</em>, <b>69</b>(5), 1091&ndash;1119.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># compute meta-analytic effect sizes
require(metafor)
dat &lt;- metafor::escalc(measure = "RR", ai = tpos, bi = tneg, ci = cpos,
                       di = cneg, data = dat.bcg)

# flip signs since we think publication bias favors negative effects
dat$yi &lt;- -dat$yi

pval_plot(yi = dat$yi, vi = dat$vi)
</code></pre>

<hr>
<h2 id='significance_funnel'>Make significance funnel plot</h2><span id='topic+significance_funnel'></span>

<h3>Description</h3>

<p>Creates a modified funnel plot that distinguishes between affirmative and
nonaffirmative studies, helping to detect the extent to which the
nonaffirmative studies' point estimates are systematically smaller than the
entire set of point estimates. The estimate among only nonaffirmative studies
(gray diamond) represents a corrected estimate under worst-case publication
bias. If the gray diamond represents a negligible effect size or if it is
much smaller than the pooled estimate among all studies (black diamond), this
suggests that the meta-analysis may not be robust to extreme publication
bias. Numerical sensitivity analyses (via <code><a href="#topic+pubbias_svalue">pubbias_svalue()</a></code>) should still be
carried out for more precise quantitative conclusions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>significance_funnel(
  yi,
  vi,
  sei,
  favor_positive = TRUE,
  alpha_select = 0.05,
  plot_pooled = TRUE,
  est_all = NA,
  est_worst = NA,
  xmin = min(yi),
  xmax = max(yi),
  ymin = 0,
  ymax = max(sqrt(vi)),
  xlab = "Point estimate",
  ylab = "Estimated standard error"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="significance_funnel_+3A_yi">yi</code></td>
<td>
<p>A vector of point estimates to be meta-analyzed.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_vi">vi</code></td>
<td>
<p>A vector of estimated variances (i.e., squared standard errors) for
the point estimates.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_sei">sei</code></td>
<td>
<p>A vector of estimated standard errors for the point estimates.
(Only one of <code>vi</code> or <code>sei</code> needs to be specified).</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_favor_positive">favor_positive</code></td>
<td>
<p><code>TRUE</code> if publication bias are
assumed to favor significant positive estimates; <code>FALSE</code> if assumed to
favor significant negative estimates.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_alpha_select">alpha_select</code></td>
<td>
<p>Alpha level at which an estimate's probability of being
favored by publication bias is assumed to change (i.e.,
the threshold at which study investigators, journal editors, etc., consider
an estimate to be significant).</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_plot_pooled">plot_pooled</code></td>
<td>
<p>Should the pooled estimates within all studies and within
only the nonaffirmative studies be plotted as well?</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_est_all">est_all</code></td>
<td>
<p>Regular meta-analytic estimate among all studies (optional).</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_est_worst">est_worst</code></td>
<td>
<p>Worst-case meta-analytic estimate among only nonaffirmative
studies (optional).</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_xmin">xmin</code></td>
<td>
<p>x-axis (point estimate) lower limit for plot.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_xmax">xmax</code></td>
<td>
<p>x-axis (point estimate) upper limit for plot.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_ymin">ymin</code></td>
<td>
<p>y-axis (standard error) lower limit for plot.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_ymax">ymax</code></td>
<td>
<p>y-axis (standard error) upper limit for plot.</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_xlab">xlab</code></td>
<td>
<p>Label for x-axis (point estimate).</p>
</td></tr>
<tr><td><code id="significance_funnel_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis (standard error).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default (<code>plot_pooled = TRUE</code>), also plots the pooled point
estimate within all studies, supplied by the user as <code>est_all</code> (black
diamond), and within only the nonaffirmative studies, supplied by the user
as <code>est_worst</code> (gray diamond). The user can calculate <code>est_all</code> and
<code>est_worst</code> using their choice of meta-analysis model. If instead these
are not supplied but <code>plot_pooled = TRUE</code>, these pooled estimates will
be automatically calculated using a fixed-effects (a.k.a. &quot;common-effect&quot;)
model.
</p>


<h3>References</h3>

<p>Mathur MB, VanderWeele TJ (2020).
&ldquo;Sensitivity analysis for publication bias in meta-analyses.&rdquo;
<em>Journal of the Royal Statistical Society: Series C (Applied Statistics)</em>, <b>69</b>(5), 1091&ndash;1119.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>##### Make Significance Funnel #####
# compute meta-analytic effect sizes for an example dataset
require(metafor)
dat &lt;- metafor::escalc(measure = "RR", ai = tpos, bi = tneg, ci = cpos,
                       di = cneg, data = dat.bcg)

# favor_positive = FALSE since we think publication bias is in favor of negative
significance_funnel(yi = dat$yi, vi = dat$vi, favor_positive = FALSE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

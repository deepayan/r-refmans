<!DOCTYPE html><html><head><title>Help for package pbo</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pbo}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#pbo-package'><p>Probability of backtest overfitting.</p></a></li>
<li><a href='#dotplot.pbo'><p>PBO in-sample selection dot plot.</p></a></li>
<li><a href='#histogram.pbo'><p>PBO rank logits histogram.</p></a></li>
<li><a href='#pbo'><p>Probability of backtest overfitting</p></a></li>
<li><a href='#pbo_show_config'><p>Writes grid text to a default predetermined location.</p></a></li>
<li><a href='#xyplot.pbo'><p>PBO xy-plots</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Probability of Backtest Overfitting</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.5</td>
</tr>
<tr>
<td>Description:</td>
<td>Following the method of Bailey et al., computes for a collection
    of candidate models the probability of backtest overfitting, the
    performance degradation and probability of loss, and the stochastic
    dominance.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mrbcuda/pbo">https://github.com/mrbcuda/pbo</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mrbcuda/pbo/issues">https://github.com/mrbcuda/pbo/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils (&ge; 4.1.2), lattice (&ge; 0.20.45), latticeExtra (&ge;
0.6.29), foreach (&ge; 1.5.2)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>PerformanceAnalytics, grid, testthat, doParallel, parallel,
knitr, spelling</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-26 14:18:57 UTC; mrb</td>
</tr>
<tr>
<td>Author:</td>
<td>Matt Barry [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Matt Barry &lt;mrb@softisms.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-26 14:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='pbo-package'>Probability of backtest overfitting.</h2><span id='topic+pbo-package'></span>

<h3>Description</h3>

<p>Computes the probability of backtest overfitting
</p>


<h3>Details</h3>

<p>Implements algorithms for computing the probability of
backtest overfitting, performance degradation and probability of loss,
and first- and second-order stochastic dominance,
based on the approach specified in Bailey et al., September 2013.
Provides a collection of pre-configured plots based on <code>lattice</code> graphics.
</p>


<h3>Author(s)</h3>

<p>Matt Barry <a href="mailto:mrb@softisms.com">mrb@softisms.com</a>
</p>


<h3>References</h3>

<p>See Bailey, David H. and Borwein, Jonathan M. and
Lopez de Prado, Marcos and Zhu, Qiji Jim, The Probability of Back-Test
Overfitting (September 1, 2013). Available at SSRN. See
<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2326253">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2326253</a>.
</p>

<hr>
<h2 id='dotplot.pbo'>PBO in-sample selection dot plot.</h2><span id='topic+dotplot.pbo'></span>

<h3>Description</h3>

<p>Draws an annotated dot plot of study selection sorted
by in-sample selection frequency.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pbo'
dotplot(
  x,
  data = NULL,
  main,
  xlab = "Sorted Study Number (N)",
  ylab = "IS Selection Frequency",
  show_config = TRUE,
  show_grid = TRUE,
  sel_threshold = 0,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dotplot.pbo_+3A_x">x</code></td>
<td>
<p>a <code>pbo</code> object as returned by <code><a href="#topic+pbo">pbo</a></code>.</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_data">data</code></td>
<td>
<p>should not be used</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_main">main</code></td>
<td>
<p>plot title, default computed internally,
passed to <code><a href="lattice.html#topic+dotplot">dotplot</a></code>.</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label with default,
passed to <code><a href="lattice.html#topic+dotplot">dotplot</a></code>.</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_ylab">ylab</code></td>
<td>
<p>y-axis label with default,
passed to <code><a href="lattice.html#topic+dotplot">dotplot</a></code>.</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_show_config">show_config</code></td>
<td>
<p>whether to show the study dimension annotations,
default TRUE</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_show_grid">show_grid</code></td>
<td>
<p>whether to show the grid panel, default TRUE</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_sel_threshold">sel_threshold</code></td>
<td>
<p>the minimum in-sample frequency subsetting threshold,
default 0; selection frequencies at or below this value will be omitted</p>
</td></tr>
<tr><td><code id="dotplot.pbo_+3A_...">...</code></td>
<td>
<p>other parameters as passed to <code><a href="lattice.html#topic+dotplot">dotplot</a></code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>pbo, histogram.pbo, xyplot.pbo
</p>

<hr>
<h2 id='histogram.pbo'>PBO rank logits histogram.</h2><span id='topic+histogram.pbo'></span>

<h3>Description</h3>

<p>Draws an annotated histogram of PBO rank logits.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pbo'
histogram(
  x,
  data = NULL,
  show_pbo = TRUE,
  show_regions = TRUE,
  show_config = TRUE,
  col_bar = "#cc99cc",
  col_line = "#3366cc",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="histogram.pbo_+3A_x">x</code></td>
<td>
<p>an object of class <code>pbo</code> as returned by <code><a href="#topic+pbo">pbo</a></code>.</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_data">data</code></td>
<td>
<p>should not be used</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_show_pbo">show_pbo</code></td>
<td>
<p>whether to show the PBO value annotation,
default TRUE</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_show_regions">show_regions</code></td>
<td>
<p>whether to show the overfit region annotations,
default TRUE</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_show_config">show_config</code></td>
<td>
<p>whether to show the study dimension annotations,
default TRUE</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_col_bar">col_bar</code></td>
<td>
<p>histogram bar fill color passed to histogram panel</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_col_line">col_line</code></td>
<td>
<p>density plot line color passed to density plot panel</p>
</td></tr>
<tr><td><code id="histogram.pbo_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="lattice.html#topic+histogram">histogram</a></code>,
<code><a href="lattice.html#topic+densityplot">densityplot</a></code>, or <code><a href="lattice.html#topic+panel.abline">panel.abline</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <span class="pkg">lattice</span> function <code><a href="lattice.html#topic+histogram">histogram</a></code>,
<code><a href="lattice.html#topic+densityplot">densityplot</a></code>, and
<code><a href="lattice.html#topic+panel.abline">panel.abline</a></code> panels together with
class-specific annotations.
</p>


<h3>See Also</h3>

<p>pbo, dotplot.pbo, xyplot.pbo
</p>

<hr>
<h2 id='pbo'>Probability of backtest overfitting</h2><span id='topic+pbo'></span>

<h3>Description</h3>

<p>Performs the probability of backtest overfitting computations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pbo(m, s = 4, f = NA, threshold = 0, inf_sub = 6, allow_parallel = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pbo_+3A_m">m</code></td>
<td>
<p>a <code class="reqn">TxN</code> data frame of returns, where <code class="reqn">T</code> is the samples per study and <code class="reqn">N</code> is the number of studies.</p>
</td></tr>
<tr><td><code id="pbo_+3A_s">s</code></td>
<td>
<p>the number of subsets of <code>m</code> for CSCV combinations;
must evenly divide <code>m</code></p>
</td></tr>
<tr><td><code id="pbo_+3A_f">f</code></td>
<td>
<p>the function to evaluate a study's performance; required</p>
</td></tr>
<tr><td><code id="pbo_+3A_threshold">threshold</code></td>
<td>
<p>the performance metric threshold
(e.g. 0 for Sharpe, 1 for Omega)</p>
</td></tr>
<tr><td><code id="pbo_+3A_inf_sub">inf_sub</code></td>
<td>
<p>infinity substitution value for reasonable plotting</p>
</td></tr>
<tr><td><code id="pbo_+3A_allow_parallel">allow_parallel</code></td>
<td>
<p>whether to enable parallel processing, default FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function performs the probability of backtest overfitting calculation
using a combinatorially-symmetric cross validation (CSCV) approach.
</p>


<h3>Value</h3>

<p>object of class <code>pbo</code> containing list of PBO calculation results
and settings
</p>


<h3>References</h3>

<p>Baily et al., &quot;The Probability of Backtest Overfitting,&quot;
<a href="https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2326253">https://papers.ssrn.com/sol3/papers.cfm?abstract_id=2326253</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
require(pbo)
require(PerformanceAnalytics)
n &lt;- 100
t &lt;- 1000
s &lt;- 8
m &lt;- data.frame(matrix(rnorm(n*t,mean=0,sd=1),
  nrow=t,ncol=n,byrow=TRUE,
  dimnames=list(1:t,1:n)),
  check.names=FALSE)
p &lt;- pbo(m,s,f=Omega,threshold=1)

## End(Not run)
</code></pre>

<hr>
<h2 id='pbo_show_config'>Writes grid text to a default predetermined location.</h2><span id='topic+pbo_show_config'></span>

<h3>Description</h3>

<p>Writes grid text to a default predetermined location.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pbo_show_config(p)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pbo_show_config_+3A_p">p</code></td>
<td>
<p>an object of class <code>pbo</code> as returned by <code><a href="#topic+pbo">pbo</a></code>.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Meant for internal use only.
</p>

<hr>
<h2 id='xyplot.pbo'>PBO xy-plots</h2><span id='topic+xyplot.pbo'></span>

<h3>Description</h3>

<p>Draws an annotated plot of performance degradation and
probability of loss.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'pbo'
xyplot(
  x,
  data = NULL,
  plotType = "cscv",
  show_eqn = TRUE,
  show_threshold = TRUE,
  show_config = TRUE,
  show_rug = TRUE,
  show_prob = TRUE,
  show_grid = TRUE,
  increment = 0.01,
  osr_threshold = 0,
  sel_threshold = 0,
  xlab,
  ylab,
  main,
  lwd = 1,
  ylab_left,
  ylab_right,
  col_bar,
  col_line,
  col_sd1 = "#3366cc",
  col_sd2 = "#339999",
  lty_sd = c(1, 2, 4),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="xyplot.pbo_+3A_x">x</code></td>
<td>
<p>a <code>pbo</code> object as returned by <code><a href="#topic+pbo">pbo</a></code>.</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_data">data</code></td>
<td>
<p>should not be used</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_plottype">plotType</code></td>
<td>
<p>one of <code>cscv</code>, <code>degradation</code>, <code>dominance</code>,
<code>pairs</code>, <code>ranks</code> or <code>selection</code>.</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_show_eqn">show_eqn</code></td>
<td>
<p>whether to show the line equation annotation, default TRUE</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_show_threshold">show_threshold</code></td>
<td>
<p>whether to show the probability of loss annotation,
default TRUE</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_show_config">show_config</code></td>
<td>
<p>whether to show the study dimension annotations,
default TRUE</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_show_rug">show_rug</code></td>
<td>
<p>whether to show scatter rugs near the axes,
default TRUE</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_show_prob">show_prob</code></td>
<td>
<p>whether to show the probability value in dominance plot,
default TRUE</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_show_grid">show_grid</code></td>
<td>
<p>whether to show the panel grid,
default TRUE</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_increment">increment</code></td>
<td>
<p>stochastic dominance distribution generator increment,
e.g. 0.1 steps</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_osr_threshold">osr_threshold</code></td>
<td>
<p>out-of-sample rank threshold for filtering, default 0</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_sel_threshold">sel_threshold</code></td>
<td>
<p>selection frequency threshold for filtering, default 0</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label, default computed if not provided</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_ylab">ylab</code></td>
<td>
<p>y-axis label, default computed if not provided</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_main">main</code></td>
<td>
<p>plot title, default computed if not provided</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_lwd">lwd</code></td>
<td>
<p>line width, default 1, passed to panels and legends</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_ylab_left">ylab_left</code></td>
<td>
<p>dominance plot left-hand axis label</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_ylab_right">ylab_right</code></td>
<td>
<p>dominance plot right-hand axis label</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_col_bar">col_bar</code></td>
<td>
<p>histogram bar fill color</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_col_line">col_line</code></td>
<td>
<p>density plot line color</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_col_sd1">col_sd1</code></td>
<td>
<p>color of two first-order stochastic dominance lines</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_col_sd2">col_sd2</code></td>
<td>
<p>color of the single second-order stochastic dominance line</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_lty_sd">lty_sd</code></td>
<td>
<p>line type array for stochastic dominance plot,
e.g. c(2,3,5)</p>
</td></tr>
<tr><td><code id="xyplot.pbo_+3A_...">...</code></td>
<td>
<p>other parameters passed to <code><a href="lattice.html#topic+xyplot">xyplot</a></code>
or its panels</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provides several variations of xy-plots suitable for presentation
of PBO analysis results.  Use the <code>plotType</code> argument to indicate
which variation or result to plot:
</p>

<ul>
<li><p> The <code>cscv</code> type shows in-sample
and out-of-sample results by CSCV iteration case (default).
</p>
</li>
<li><p> The <code>degradation</code> type shows the performance degradation regression
fit results and the probability of loss.
</p>
</li>
<li><p> The <code>dominance</code> type shows the results of the first-order and
second-order stochastic dominance analysis using two axes.
</p>
</li>
<li><p> The <code>pairs</code> type shows the in-sample and out-of-sample
case selections.
</p>
</li>
<li><p> The <code>ranks</code> type shows the sorted performance ranks results.
</p>
</li>
<li><p> The <code>selection</code> type shows the case selection frequencies.
</p>
</li></ul>



<h3>See Also</h3>

<p>pbo, histogram.pbo, xyplot.pbo
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

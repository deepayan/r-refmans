<!DOCTYPE html><html lang="en"><head><title>Help for package ENMTools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ENMTools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add.env'><p>Takes an enmtools.species object and a set of environment layers, and adds the environmental predictor values to the occurrence data.  Typically not called by the user directly.</p>
Code modified from Elith and Hijmans SDM with R tutorial</a></li>
<li><a href='#assert.extras'><p>Assert that the extra packages needed for an ENMTools function are installed and available</p></a></li>
<li><a href='#background.buffer'><p>Takes a set of points, a buffer radius, a buffer type, and a mask and returns</p>
either a raster, a polygon, or background points representing the species background.
Code modified from Elith and Hijmans SDM with R tutorial</a></li>
<li><a href='#background.points.buffer'><p>Takes a set of points, a buffer radius, a sample size, and a mask and returns</p>
randomly sampled points from within that buffer radius.
Code modified from Elith and Hijmans SDM with R tutorial</a></li>
<li><a href='#background.raster.buffer'><p>Takes a set of points, a buffer radius, and a mask and returns</p>
a raster based on that buffer radius.
Code modified from Elith and Hijmans SDM with R tutorial</a></li>
<li><a href='#background.shape.buffer'><p>Takes a set of points and a buffer radius, and returns</p>
a polygon.
Code modified from Elith and Hijmans SDM with R tutorial</a></li>
<li><a href='#background.test'><p>background.test Conduct a background test (also called a similarity test), as described in Warren et al. 2008.</p>
This test can either be run as an asymmetric test (species.1 vs background of species.2) or as a symmetric test
(background of species.1 vs background of species.2).  For GLM, Bioclim, and Domain models the replicates will be
constructed from the background points supplied for each species.  For Maxent, the replicates will be constructed
from the range rasters stored in the enmtools.species objects.</a></li>
<li><a href='#calc.B1'><p>calc.B1, Calculates standardized version of Levins (1968) B1 measure of niche breadth given a vector of suitabilities</p></a></li>
<li><a href='#calc.B2'><p>calc.B2, Calculates standardized version of Levins (1968) B2 measure of niche breadth given a vector of suitabilities</p></a></li>
<li><a href='#check.bg'><p>Takes an emtools.species object and adds background points if they're missing. Looks for range raster first, then goes for environmental layers.</p></a></li>
<li><a href='#check.clade'><p>Checking for complians of an enmtools.clade object</p></a></li>
<li><a href='#check.env'><p>Automating some basic tasks for using a raster stack for modeling.  Checks rasters for same extent and resolution, and sets values in each layer to NA if there is an NA in any other layer.</p></a></li>
<li><a href='#check.extras'><p>Check that the extra packages needed for an ENMTools function are installed and available</p></a></li>
<li><a href='#check.species'><p>Checking compliance for an object of class enmtools.species.</p></a></li>
<li><a href='#clamp.env'><p>Takes an emtools.model object and a set of environment layers and clamps the environment layers so that no variable falls outside of the range available in the training data.</p></a></li>
<li><a href='#combine.species'><p>Takes a list of enmtools.species objects and combines them into a single enmtools.species object</p></a></li>
<li><a href='#drop.species'><p>Takes a an ENMTools clade object and a vector of species names.  Drops the species from the tree and removes data from the clade object.</p></a></li>
<li><a href='#enmtools.aoc'><p>Takes an overlap matrix and a tree and runs permutation tests to</p>
determine the statistical significance of the relationship between
overlap and time</a></li>
<li><a href='#enmtools.bc'><p>Takes an emtools.species object with presence and background points, and builds a Bioclim model</p></a></li>
<li><a href='#enmtools.calibrate'><p>Takes an emtools.model object, and reformats it to run through the CalibratR package, calculates Continuous Boyce Index, and runs a Hosmer-Lemeshow goodness-of-fit test.  Can either do a full CalibratR run or just return ECE/MCE statistics and plots.</p></a></li>
<li><a href='#enmtools.clade'><p>Defining a class for enmtools.clade.  Each clade gets:</p></a></li>
<li><a href='#enmtools.dm'><p>Takes an emtools.species object with presence and background points, and builds a Domain model</p></a></li>
<li><a href='#enmtools.ecospat.bg'><p>enmtools.ecospat.bg, Runs an ecospat background/similarity test using enmtool.species objects.</p></a></li>
<li><a href='#enmtools.ecospat.id'><p>enmtools.ecospat.id, Runs an ecospat identity test using enmtool.species objects.</p></a></li>
<li><a href='#enmtools.gam'><p>Takes an emtools.species object with presence and background points, and builds a gam</p></a></li>
<li><a href='#enmtools.glm'><p>Takes an enmtools.species object with presence and background points, and builds a GLM</p></a></li>
<li><a href='#enmtools.hypervolume'><p>THIS FUNCTION IS CURRENTLY DISABLED.  Takes an emtools.species object and environmental layers, and constructs a hypervolume using the R package hypervolume</p></a></li>
<li><a href='#enmtools.maxent'><p>Takes an emtools.species object with presence and background points, and builds a maxent model</p></a></li>
<li><a href='#enmtools.rf'><p>Takes an emtools.species object with presence and background points, and builds a random forest model</p></a></li>
<li><a href='#enmtools.rf.ranger'><p>Takes an emtools.species object with presence and background points, and builds a random forest model using the 'probability mode' in package 'ranger'</p></a></li>
<li><a href='#enmtools.species'><p>Defining a class for enmtools.species.</p></a></li>
<li><a href='#enmtools.vip'><p>Takes an enmtools.model object, and performs variable importance analyses on it using methods from the vip package</p></a></li>
<li><a href='#env.breadth'><p>Calculates breadth of a model in environment space using latin hypercube sampling</p></a></li>
<li><a href='#env.evaluate'><p>Calculates evaluation metrics (AUC, etc.) using latin hypercube sampling in environment space</p></a></li>
<li><a href='#env.overlap'><p>Calculates overlap between models in environment space using latin hypercube sampling</p></a></li>
<li><a href='#euro.worldclim'><p>Worldclim data for Europe</p></a></li>
<li><a href='#find.extras'><p>Find the extra packages needed for an ENMTools function</p></a></li>
<li><a href='#find.extras.missing'><p>Find the extra packages needed for an ENMTools function that are currently missing (not available)</p></a></li>
<li><a href='#geog.range.overlap'><p>Takes two emtools.species objects with range rasters, calculates overlap between them as in Fitzpatrick and Turelli 2006.  This metric divides the area of overlap between two species ranges by the smaller of the two areas of the species' individual ranges.  It therefore ranges from 0 (no overlap) to 1 (ranges are the same or the smaller species' range is contained entirely within the larger).</p></a></li>
<li><a href='#hypervolume.overlap'><p>Takes an emtools.species object and environmental layers, and constructs a hypervolume using the R package hypervolume</p></a></li>
<li><a href='#iberolacerta.clade'><p>GBIF data for a clade of Iberolacerta lizards from spain</p></a></li>
<li><a href='#identity.test'><p>identity.test Conduct a niche identity/equivalency test as described in Warren et al. 2008.</p></a></li>
<li><a href='#install.extras'><p>install.extras</p></a></li>
<li><a href='#interactive.plot'><p>Generic function for making interactive plots of ENMTools models and species</p></a></li>
<li><a href='#interactive.plot.enmtools.model'><p>Plot an enmtools.model object on an interactive map</p></a></li>
<li><a href='#interactive.plot.enmtools.species'><p>Plot an enmtools.species object on an interactive map</p></a></li>
<li><a href='#marginal.plots'><p>marginal.plots Plots the marginal response of a model to an environmental variable with all other variables held at their mean in env</p></a></li>
<li><a href='#moses.list'><p>Takes a list of enmtools.species objects and uses model selection to ask whether they're better treated jointly or separately</p></a></li>
<li><a href='#multistack.pca'><p>multistack.pca, simultaneous PCA on more than one stack of environmental rasters</p></a></li>
<li><a href='#node.overlap'><p>Takes an overlap matrix and a tree and returns average overlap at nodes using Fitzpatrick &amp; Turelli averaging method.  Typicall called via enmtools.aoc rather than used directly.</p></a></li>
<li><a href='#point.overlap'><p>Takes two emtools.species objects with range rasters, calculates overlap between them as in Cardillo and Warren 2016</p></a></li>
<li><a href='#rangebreak.blob'><p>rangebreak.blob Conduct a blob rangebreak test as described in Glor and Warren 2011.</p></a></li>
<li><a href='#rangebreak.linear'><p>rangebreak.linear Conduct a linear rangebreak test as described in Glor and Warren 2011.</p></a></li>
<li><a href='#rangebreak.ribbon'><p>rangebreak.ribbon Conduct a ribbon rangebreak test as described in Glor and Warren 2011.</p></a></li>
<li><a href='#raster.breadth'><p>raster.breadth, applies measures of niche breadth to an ENM</p></a></li>
<li><a href='#raster.cor'><p>Calculates the correlation coefficient between two rasters.</p></a></li>
<li><a href='#raster.cor.matrix'><p>Takes a raster stack and returns a data frame containing Pearson correlation coefficients</p>
between the included rasters</a></li>
<li><a href='#raster.cor.plot'><p>Takes a raster stack and returns a data frame containing Pearson correlation coefficients</p>
between the included rasters</a></li>
<li><a href='#raster.overlap'><p>raster.overlap, measures overlap between two ENMs</p></a></li>
<li><a href='#raster.pca'><p>raster.pca, PCA on a set of environmental rasters</p></a></li>
<li><a href='#raster.resid'><p>raster.resid Measure standardized residuals from a linear regression between two rasters.</p></a></li>
<li><a href='#raster.standardize'><p>raster.standardize, standardizes all values in a raster file</p></a></li>
<li><a href='#rasterToPoints2'><p>get terra to produce same output as raster::rasterToPoints</p></a></li>
<li><a href='#sim.points'><p>Simulate a point process from an enmtools.model object</p></a></li>
<li><a href='#species.from.file'><p>Takes a csv file and uses it to construct one or more enmtools.species objects. It constructs one object per unique value in the &quot;species.col&quot; column.</p></a></li>
<li><a href='#threespace.plot'><p>threespace.plot, A plot that compares the environmental distribution of presence points, background points, and the set of supplied environmental layers.</p></a></li>
<li><a href='#trimdupes.by.raster'><p>Takes a set of points and a raster mask and returns a data frame trimmed so that only one point is returned per grid cell in the mask raster.</p></a></li>
<li><a href='#unwrap_list'><p>export</p></a></li>
<li><a href='#visualize.enm'><p>visualize.enm, Makes a heatmap of suitability of habitat in environment space according to a given model</p></a></li>
<li><a href='#visualize.overlap'><p>visualize.overlap, Makes a contour map of suitability of habitat in environment space for two models</p></a></li>
<li><a href='#wrap_list'><p>export</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analysis of Niche Evolution using Niche and Distribution Models</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-10</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dan Warren &lt;dan.l.warren@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Constructing niche models and analyzing patterns of niche evolution.  Acts as an interface for many popular modeling algorithms, and allows users to conduct Monte Carlo tests to address basic questions in evolutionary ecology and biogeography.  Warren, D.L., R.E. Glor, and M. Turelli (2008) &lt;<a href="https://doi.org/10.1111%2Fj.1558-5646.2008.00482.x">doi:10.1111/j.1558-5646.2008.00482.x</a>&gt; Glor, R.E., and D.L. Warren (2011) &lt;<a href="https://doi.org/10.1111%2Fj.1558-5646.2010.01177.x">doi:10.1111/j.1558-5646.2010.01177.x</a>&gt;  Warren, D.L., R.E. Glor, and M. Turelli (2010) &lt;<a href="https://doi.org/10.1111%2Fj.1600-0587.2009.06142.x">doi:10.1111/j.1600-0587.2009.06142.x</a>&gt; Cardillo, M., and D.L. Warren (2016) &lt;<a href="https://doi.org/10.1111%2Fgeb.12455">doi:10.1111/geb.12455</a>&gt; D.L. Warren, L.J. Beaumont, R. Dinnage, and J.B. Baumgartner (2019) &lt;<a href="https://doi.org/10.1111%2Fecog.03900">doi:10.1111/ecog.03900</a>&gt;.  </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>knitr, ggplot2, gridExtra, lhs, magrittr, ENMeval,
spatstat.geom, spatstat.random, ggpubr, forcats, terra, raster
(&ge; 3.6.3)</td>
</tr>
<tr>
<td>Depends:</td>
<td>dismo, R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, hypervolume, leaflet, mgcv, ecospat (&ge; 3.2.1),
randomForest, ranger, caret, CalibratR, ape, ResourceSelection,
reshape2, vip, pdp, fastshap, viridis, progress, rmarkdown, sf</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-15 18:58:57 UTC; danwarren</td>
</tr>
<tr>
<td>Author:</td>
<td>Dan Warren <a href="https://orcid.org/0000-0002-8747-2451"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Russell Dinnage <a href="https://orcid.org/0000-0003-0846-2819"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-16 12:50:11 UTC</td>
</tr>
</table>
<hr>
<h2 id='add.env'>Takes an enmtools.species object and a set of environment layers, and adds the environmental predictor values to the occurrence data.  Typically not called by the user directly.
Code modified from Elith and Hijmans SDM with R tutorial</h2><span id='topic+add.env'></span>

<h3>Description</h3>

<p>Takes an enmtools.species object and a set of environment layers, and adds the environmental predictor values to the occurrence data.  Typically not called by the user directly.
Code modified from Elith and Hijmans SDM with R tutorial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.env(species, env, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add.env_+3A_species">species</code></td>
<td>
<p>An enmtools.species or enmtools.clade object</p>
</td></tr>
<tr><td><code id="add.env_+3A_env">env</code></td>
<td>
<p>A raster stack of environmental variables</p>
</td></tr>
<tr><td><code id="add.env_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of progress messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.species object with environmental data attached to it.
</p>

<hr>
<h2 id='assert.extras'>Assert that the extra packages needed for an ENMTools function are installed and available</h2><span id='topic+assert.extras'></span>

<h3>Description</h3>

<p>Triggers an error if any of the extra packages required for an ENMTools function are not available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert.extras(funs = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assert.extras_+3A_funs">funs</code></td>
<td>
<p>character vector of ENMTools function names to install extra dependencies for. If 'NULL', extras for all ENMTools functions will be installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>None, this function is used for its side-effects
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(check.extras("enmtools.gam")) {
  assert.extras("enmtools.gam")
}
</code></pre>

<hr>
<h2 id='background.buffer'>Takes a set of points, a buffer radius, a buffer type, and a mask and returns
either a raster, a polygon, or background points representing the species background.
Code modified from Elith and Hijmans SDM with R tutorial</h2><span id='topic+background.buffer'></span>

<h3>Description</h3>

<p>Takes a set of points, a buffer radius, a buffer type, and a mask and returns
either a raster, a polygon, or background points representing the species background.
Code modified from Elith and Hijmans SDM with R tutorial
</p>


<h3>Usage</h3>

<pre><code class='language-R'>background.buffer(
  points,
  buffer.width,
  buffer.type = "circles",
  mask = NA,
  return.type = "raster",
  n = 1000
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="background.buffer_+3A_points">points</code></td>
<td>
<p>A two column data frame with X and Y coordinates</p>
</td></tr>
<tr><td><code id="background.buffer_+3A_buffer.width">buffer.width</code></td>
<td>
<p>Radius for circular buffers to draw around points, for buffer.type = circular.  If buffer.type = &quot;convhull&quot;, denotes the amount to which the initial polygon should be buffered.  It's worth noting that this argument may in some cases be treated as map units (e.g., lat and long), but in other caess may be treated as meters.  If you're getting weird behavior, you might try changing the units you're using to specify buffer.width.</p>
</td></tr>
<tr><td><code id="background.buffer_+3A_buffer.type">buffer.type</code></td>
<td>
<p>Which method to use for buffering species occurrence points.  Currently accepts &quot;circles&quot; and &quot;convhull&quot;.</p>
</td></tr>
<tr><td><code id="background.buffer_+3A_mask">mask</code></td>
<td>
<p>A raster to use as a mask for trimming the buffer if the return type is &quot;raster&quot; or &quot;points&quot;</p>
</td></tr>
<tr><td><code id="background.buffer_+3A_return.type">return.type</code></td>
<td>
<p>What type of object to return.  Can be &quot;raster&quot;, &quot;polygon&quot;, or &quot;points&quot;.</p>
</td></tr>
<tr><td><code id="background.buffer_+3A_n">n</code></td>
<td>
<p>Sample size for number of background points to return, for return.type = &quot;points&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a raster, a polygon, or a data frame of points representing the species background.
</p>

<hr>
<h2 id='background.points.buffer'>Takes a set of points, a buffer radius, a sample size, and a mask and returns
randomly sampled points from within that buffer radius.
Code modified from Elith and Hijmans SDM with R tutorial</h2><span id='topic+background.points.buffer'></span>

<h3>Description</h3>

<p>NOTE: This function has been replaced by background.buffer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>background.points.buffer(points, radius, n, mask)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="background.points.buffer_+3A_points">points</code></td>
<td>
<p>A two column data frame with X and Y coordinates</p>
</td></tr>
<tr><td><code id="background.points.buffer_+3A_radius">radius</code></td>
<td>
<p>Radius for circular buffers to draw around points, in meters.</p>
</td></tr>
<tr><td><code id="background.points.buffer_+3A_n">n</code></td>
<td>
<p>Sample size for number of background points to return</p>
</td></tr>
<tr><td><code id="background.points.buffer_+3A_mask">mask</code></td>
<td>
<p>A raster to use as a mask for drawing points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of points drawn at random from circular buffers around the occurrence points.
</p>

<hr>
<h2 id='background.raster.buffer'>Takes a set of points, a buffer radius, and a mask and returns
a raster based on that buffer radius.
Code modified from Elith and Hijmans SDM with R tutorial</h2><span id='topic+background.raster.buffer'></span>

<h3>Description</h3>

<p>NOTE: This function has been replaced by background.buffer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>background.raster.buffer(points, radius, mask)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="background.raster.buffer_+3A_points">points</code></td>
<td>
<p>A two column data frame with X and Y coordinates</p>
</td></tr>
<tr><td><code id="background.raster.buffer_+3A_radius">radius</code></td>
<td>
<p>Radius for circular buffers to draw around points, in meters.</p>
</td></tr>
<tr><td><code id="background.raster.buffer_+3A_mask">mask</code></td>
<td>
<p>A raster to use as a mask</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A raster object with values of 1 in every grid cell falling within the buffer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ENMTools)
background.raster.buffer(iberolacerta.clade$species$cyreni$presence.points, 100000, euro.worldclim)
</code></pre>

<hr>
<h2 id='background.shape.buffer'>Takes a set of points and a buffer radius, and returns
a polygon.
Code modified from Elith and Hijmans SDM with R tutorial</h2><span id='topic+background.shape.buffer'></span>

<h3>Description</h3>

<p>NOTE: This function has been replaced by background.buffer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>background.shape.buffer(points, radius)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="background.shape.buffer_+3A_points">points</code></td>
<td>
<p>A two column data frame with X and Y coordinates</p>
</td></tr>
<tr><td><code id="background.shape.buffer_+3A_radius">radius</code></td>
<td>
<p>Radius for circular buffers to draw around points, in meters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A polygon shapefile.
</p>

<hr>
<h2 id='background.test'>background.test Conduct a background test (also called a similarity test), as described in Warren et al. 2008.
This test can either be run as an asymmetric test (species.1 vs background of species.2) or as a symmetric test
(background of species.1 vs background of species.2).  For GLM, Bioclim, and Domain models the replicates will be
constructed from the background points supplied for each species.  For Maxent, the replicates will be constructed
from the range rasters stored in the enmtools.species objects.</h2><span id='topic+background.test'></span>

<h3>Description</h3>

<p>background.test Conduct a background test (also called a similarity test), as described in Warren et al. 2008.
This test can either be run as an asymmetric test (species.1 vs background of species.2) or as a symmetric test
(background of species.1 vs background of species.2).  For GLM, Bioclim, and Domain models the replicates will be
constructed from the background points supplied for each species.  For Maxent, the replicates will be constructed
from the range rasters stored in the enmtools.species objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>background.test(
  species.1,
  species.2,
  env,
  type,
  f = NULL,
  nreps = 99,
  test.type = "asymmetric",
  nback = 1000,
  bg.source = "default",
  low.memory = FALSE,
  rep.dir = NA,
  verbose = FALSE,
  clamp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="background.test_+3A_species.1">species.1</code></td>
<td>
<p>An emtools.species object from which presence points (asymmetric) or background (symmetric) will be sampled.</p>
</td></tr>
<tr><td><code id="background.test_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object from which background will be sampled.</p>
</td></tr>
<tr><td><code id="background.test_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing environmental data</p>
</td></tr>
<tr><td><code id="background.test_+3A_type">type</code></td>
<td>
<p>The type of model to construct, currently accepts &quot;glm&quot;, &quot;mx&quot;, &quot;bc&quot;, &quot;gam&quot;, or &quot;dm&quot;</p>
</td></tr>
<tr><td><code id="background.test_+3A_f">f</code></td>
<td>
<p>A function to use for model fitting.  Only required for GLM models at the moment.</p>
</td></tr>
<tr><td><code id="background.test_+3A_nreps">nreps</code></td>
<td>
<p>Number of replicates to perform</p>
</td></tr>
<tr><td><code id="background.test_+3A_test.type">test.type</code></td>
<td>
<p>Controls whether the background test will be &quot;symmetric&quot; or &quot;asymmetric&quot;</p>
</td></tr>
<tr><td><code id="background.test_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models</p>
</td></tr>
<tr><td><code id="background.test_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="background.test_+3A_low.memory">low.memory</code></td>
<td>
<p>When set to TRUE, replicate models are written to disc instead of being stored in the output object.  Replicate models stored in the output object contain paths to the replicate models on disk instead of the rasters themselves.</p>
</td></tr>
<tr><td><code id="background.test_+3A_rep.dir">rep.dir</code></td>
<td>
<p>Directory for storing replicate models when low.memory is set to TRUE.  If not specified, the working directory will be used.</p>
</td></tr>
<tr><td><code id="background.test_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="background.test_+3A_clamp">clamp</code></td>
<td>
<p>Controls whether empirical and replicate models should be clamped to the environment space used for training.</p>
</td></tr>
<tr><td><code id="background.test_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to model fitting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A list containing replicates, models for the empirical data, and summary statistics and plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
monticola &lt;- iberolacerta.clade$species$monticola
cyreni$range &lt;- background.raster.buffer(cyreni$presence.points, 100000, euro.worldclim)
monticola$range &lt;- background.raster.buffer(monticola$presence.points, 100000, euro.worldclim)
background.test(cyreni, monticola, env = euro.worldclim, type = "glm",
f = pres ~ bio1 + bio12, nreps = 10)

</code></pre>

<hr>
<h2 id='calc.B1'>calc.B1, Calculates standardized version of Levins (1968) B1 measure of niche breadth given a vector of suitabilities</h2><span id='topic+calc.B1'></span>

<h3>Description</h3>

<p>calc.B1, Calculates standardized version of Levins (1968) B1 measure of niche breadth given a vector of suitabilities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc.B1(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calc.B1_+3A_x">x</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>B1 A calculation of Levins (1968) B1 metric
</p>


<h3>Examples</h3>

<pre><code class='language-R'>calc.B1(c(1, .001, .001))
</code></pre>

<hr>
<h2 id='calc.B2'>calc.B2, Calculates standardized version of Levins (1968) B2 measure of niche breadth given a vector of suitabilities</h2><span id='topic+calc.B2'></span>

<h3>Description</h3>

<p>calc.B2, Calculates standardized version of Levins (1968) B2 measure of niche breadth given a vector of suitabilities
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc.B2(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calc.B2_+3A_x">x</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>B2 A calculation of Levins (1968) B2 metric
</p>


<h3>Examples</h3>

<pre><code class='language-R'>calc.B2(c(1, .001, .001))
</code></pre>

<hr>
<h2 id='check.bg'>Takes an emtools.species object and adds background points if they're missing. Looks for range raster first, then goes for environmental layers.</h2><span id='topic+check.bg'></span>

<h3>Description</h3>

<p>Takes an emtools.species object and adds background points if they're missing. Looks for range raster first, then goes for environmental layers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.bg(
  species,
  env = NA,
  nback = 1000,
  bg.source = "default",
  verbose = FALSE,
  bias = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.bg_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="check.bg_+3A_env">env</code></td>
<td>
<p>A SpatRaster containing environmental data.</p>
</td></tr>
<tr><td><code id="check.bg_+3A_nback">nback</code></td>
<td>
<p>Number of background points to generate, if any</p>
</td></tr>
<tr><td><code id="check.bg_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="check.bg_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="check.bg_+3A_bias">bias</code></td>
<td>
<p>A SpatRaster representing estimated relative sampling bias.  Used when bg.source is either &quot;range&quot; or &quot;env&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.species object with background points.
</p>

<hr>
<h2 id='check.clade'>Checking for complians of an enmtools.clade object</h2><span id='topic+check.clade'></span>

<h3>Description</h3>

<p>Checking for complians of an enmtools.clade object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.clade(this.clade)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.clade_+3A_this.clade">this.clade</code></td>
<td>
<p>An enmtools.clade object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.clade object with appropriate formatting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check.clade(iberolacerta.clade)
</code></pre>

<hr>
<h2 id='check.env'>Automating some basic tasks for using a raster stack for modeling.  Checks rasters for same extent and resolution, and sets values in each layer to NA if there is an NA in any other layer.</h2><span id='topic+check.env'></span>

<h3>Description</h3>

<p>Automating some basic tasks for using a raster stack for modeling.  Checks rasters for same extent and resolution, and sets values in each layer to NA if there is an NA in any other layer.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.env(env, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.env_+3A_env">env</code></td>
<td>
<p>A stack of environmental rasters</p>
</td></tr>
<tr><td><code id="check.env_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of progress messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A raster stack.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check.env(euro.worldclim)
</code></pre>

<hr>
<h2 id='check.extras'>Check that the extra packages needed for an ENMTools function are installed and available</h2><span id='topic+check.extras'></span>

<h3>Description</h3>

<p>Check that the extra packages needed for an ENMTools function are installed and available
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.extras(funs = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.extras_+3A_funs">funs</code></td>
<td>
<p>character vector of ENMTools function names to install extra dependencies for. If 'NULL', extras for all ENMTools functions will be installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical, 'TRUE' if all required extra packages are available, 'FALSE' otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check.extras("enmtools.gam")
</code></pre>

<hr>
<h2 id='check.species'>Checking compliance for an object of class enmtools.species.</h2><span id='topic+check.species'></span>

<h3>Description</h3>

<p>Checking compliance for an object of class enmtools.species.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check.species(this.species, env = NA, trim.dupes = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check.species_+3A_this.species">this.species</code></td>
<td>
<p>An enmtools.species object to be checked.</p>
</td></tr>
<tr><td><code id="check.species_+3A_env">env</code></td>
<td>
<p>Environmental rasters that will be used for modeling.  If provided to check.species, ENMTools will remove occurrence points that have NA values for any layer in env.</p>
</td></tr>
<tr><td><code id="check.species_+3A_trim.dupes">trim.dupes</code></td>
<td>
<p>Controls whether to trim duplicate occurrence points from the presence data.  Defaults to FALSE, which leaves duplicates in place.  Alternatives are &quot;exact&quot;, which will remove points with the same lat/long as another point, or &quot;grid&quot;, which will trim data so that there is at most one point per grid cell for the rasters in env, and centers those points in the cells.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.species object with appropriate formatting.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>check.species(iberolacerta.clade$species$monticola)
</code></pre>

<hr>
<h2 id='clamp.env'>Takes an emtools.model object and a set of environment layers and clamps the environment layers so that no variable falls outside of the range available in the training data.</h2><span id='topic+clamp.env'></span>

<h3>Description</h3>

<p>Takes an emtools.model object and a set of environment layers and clamps the environment layers so that no variable falls outside of the range available in the training data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clamp.env(model, env)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="clamp.env_+3A_model">model</code></td>
<td>
<p>An enmtools.model object.  Alternatively the analysis.df component of an enmtools.model object.</p>
</td></tr>
<tr><td><code id="clamp.env_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
monticola.gam &lt;- enmtools.gam(iberolacerta.clade$species$monticola, euro.worldclim[[c(1,5,9,13)]])
euro.clamped &lt;- clamp.env(monticola.gam, euro.worldclim)
clamped.prediction &lt;- predict(monticola.gam, euro.clamped)
terra::plot(clamped.prediction$suitability - monticola.gam$suitability)

</code></pre>

<hr>
<h2 id='combine.species'>Takes a list of enmtools.species objects and combines them into a single enmtools.species object</h2><span id='topic+combine.species'></span>

<h3>Description</h3>

<p>Takes a list of enmtools.species objects and combines them into a single enmtools.species object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>combine.species(species.list)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="combine.species_+3A_species.list">species.list</code></td>
<td>
<p>List of enmtools.species objects that you want to combine together</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.species object with the occurrence data, names, and range rasters for the species list combined into one.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>combine.species(iberolacerta.clade$species)
</code></pre>

<hr>
<h2 id='drop.species'>Takes a an ENMTools clade object and a vector of species names.  Drops the species from the tree and removes data from the clade object.</h2><span id='topic+drop.species'></span>

<h3>Description</h3>

<p>Takes a an ENMTools clade object and a vector of species names.  Drops the species from the tree and removes data from the clade object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop.species(clade, species)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="drop.species_+3A_clade">clade</code></td>
<td>
<p>An ENMTools clade object</p>
</td></tr>
<tr><td><code id="drop.species_+3A_species">species</code></td>
<td>
<p>A name or vector of names of species within the enmtools.clade object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.clade object with the provided species dropped both from the tree and from the set of enmtools.species objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(requireNamespace("ape", quietly = TRUE)) {
    new.clade &lt;- drop.species(iberolacerta.clade, c("cyreni", "monticola"))
}

</code></pre>

<hr>
<h2 id='enmtools.aoc'>Takes an overlap matrix and a tree and runs permutation tests to
determine the statistical significance of the relationship between
overlap and time</h2><span id='topic+enmtools.aoc'></span>

<h3>Description</h3>

<p>Takes an overlap matrix and a tree and runs permutation tests to
determine the statistical significance of the relationship between
overlap and time
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.aoc(
  clade,
  env = NULL,
  overlap.source,
  nreps = 100,
  f = NULL,
  overlap.matrix = NULL,
  metric = "D",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.aoc_+3A_clade">clade</code></td>
<td>
<p>An enmtools.clade object containing species data and a phylogeny</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_env">env</code></td>
<td>
<p>Environmental layers for use when overlap is calculated using niche models.</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_overlap.source">overlap.source</code></td>
<td>
<p>The source of the overlaps to calculate.  Choices are &quot;bc&quot;, &quot;dm&quot;, &quot;gam&quot;, &quot;glm&quot;, &quot;mx&quot;, &quot;range&quot;, and &quot;point&quot;</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_nreps">nreps</code></td>
<td>
<p>A number of reps to do</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_f">f</code></td>
<td>
<p>The model to be used for GLM and GAM comparisons</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_overlap.matrix">overlap.matrix</code></td>
<td>
<p>A matrix of overlaps to use, for option overlap.source = &quot;matrix&quot;</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_metric">metric</code></td>
<td>
<p>The overlap metric to use. For ENM sources, this can be any combination of &quot;D&quot;, &quot;I&quot;, &quot;cor&quot;, &quot;env.D&quot;, &quot;env.I&quot;, and &quot;env.cor&quot;.
for range and point overlap this argument is ignored.</p>
</td></tr>
<tr><td><code id="enmtools.aoc_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to modeling functions for ENM-based overlaps.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a data frame of coefficients from the empirical regression of overlap on time along with the coefficients from all Monte Carlo replicates, along with plots and p values for the accompanying statistical tests.
</p>

<hr>
<h2 id='enmtools.bc'>Takes an emtools.species object with presence and background points, and builds a Bioclim model</h2><span id='topic+enmtools.bc'></span>

<h3>Description</h3>

<p>Takes an emtools.species object with presence and background points, and builds a Bioclim model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.bc(
  species,
  env = NA,
  test.prop = 0,
  report = NULL,
  overwrite = FALSE,
  nback = 1000,
  env.nback = 10000,
  rts.reps = 0,
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.bc_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models. In the case of bioclim models these are only used for evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.bc_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to bioclim()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
enmtools.bc(iberolacerta.clade$species$monticola, env = euro.worldclim)

</code></pre>

<hr>
<h2 id='enmtools.calibrate'>Takes an emtools.model object, and reformats it to run through the CalibratR package, calculates Continuous Boyce Index, and runs a Hosmer-Lemeshow goodness-of-fit test.  Can either do a full CalibratR run or just return ECE/MCE statistics and plots.</h2><span id='topic+enmtools.calibrate'></span>

<h3>Description</h3>

<p>Takes an emtools.model object, and reformats it to run through the CalibratR package, calculates Continuous Boyce Index, and runs a Hosmer-Lemeshow goodness-of-fit test.  Can either do a full CalibratR run or just return ECE/MCE statistics and plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.calibrate(
  model,
  recalibrate = FALSE,
  cuts = 11,
  env = NA,
  n.background = 10000,
  recal.methods = c(1, 2, 3, 4),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.calibrate_+3A_model">model</code></td>
<td>
<p>An enmtools.model object</p>
</td></tr>
<tr><td><code id="enmtools.calibrate_+3A_recalibrate">recalibrate</code></td>
<td>
<p>When TRUE, does a full CalibratR &quot;calibrate&quot; run to recalibrate the model.  When FALSE, just returns metrics and plots measuring calibration of the model as is.</p>
</td></tr>
<tr><td><code id="enmtools.calibrate_+3A_cuts">cuts</code></td>
<td>
<p>The number of bins to split suitability scores into for calculating calibration.</p>
</td></tr>
<tr><td><code id="enmtools.calibrate_+3A_env">env</code></td>
<td>
<p>A set of environment layers to be used for optional env space metrics</p>
</td></tr>
<tr><td><code id="enmtools.calibrate_+3A_n.background">n.background</code></td>
<td>
<p>Number of background points to be used for env space metrics</p>
</td></tr>
<tr><td><code id="enmtools.calibrate_+3A_recal.methods">recal.methods</code></td>
<td>
<p>Numeric or vector specifying which methods the CalibratR package should use for recalibration.   1=hist_scaled, 2=hist_transformed, 3=BBQ_scaled, 4=BBQ_transformed.  Option 5 is disabled by default due to errors.</p>
</td></tr>
<tr><td><code id="enmtools.calibrate_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to CalibratR's &quot;calibrate&quot; function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.calibrate object containing calibration and classificaction plots, metrics of model calibration, and (optionally) versions of the model that were recalibrated using various methods.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#install.extras(repos='http://cran.us.r-project.org')
monticola.glm &lt;- enmtools.glm(iberolacerta.clade$species$monticola,
                              env = euro.worldclim,
                              f = pres ~ bio1 + bio9,
                              test.prop = 0.3)
if(check.extras("enmtools.calibrate")) {
  enmtools.calibrate(monticola.glm)
}

</code></pre>

<hr>
<h2 id='enmtools.clade'>Defining a class for enmtools.clade.  Each clade gets:</h2><span id='topic+enmtools.clade'></span><span id='topic+save.enmtools.clade'></span><span id='topic+load.enmtools.clade'></span>

<h3>Description</h3>

<p>Defining a class for enmtools.clade.  Each clade gets:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.clade(species = NA, tree = NA)

save.enmtools.clade(x, ...)

load.enmtools.clade(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.clade_+3A_species">species</code></td>
<td>
<p>A list of enmtools.species objects</p>
</td></tr>
<tr><td><code id="enmtools.clade_+3A_tree">tree</code></td>
<td>
<p>A tree showing the relationships between the species</p>
</td></tr>
<tr><td><code id="enmtools.clade_+3A_x">x</code></td>
<td>
<p>Path to an enmtools.species file</p>
</td></tr>
<tr><td><code id="enmtools.clade_+3A_...">...</code></td>
<td>
<p>Other arguments passed to R's load function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.clade object, either empty or containing a formatted version of the data that was passed into the function.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>save.enmtools.clade()</code>: Save an ENMTools clade object
</p>
</li>
<li> <p><code>load.enmtools.clade()</code>: Load an ENMTools clade object
</p>
</li></ul>

<hr>
<h2 id='enmtools.dm'>Takes an emtools.species object with presence and background points, and builds a Domain model</h2><span id='topic+enmtools.dm'></span>

<h3>Description</h3>

<p>Takes an emtools.species object with presence and background points, and builds a Domain model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.dm(
  species,
  env = NA,
  test.prop = 0,
  report = NULL,
  nback = 1000,
  env.nback = 10000,
  overwrite = FALSE,
  rts.reps = 0,
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.dm_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models.  In the case of Domain, these are only used for evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.dm_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to domain()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
enmtools.dm(iberolacerta.clade$species$monticola, env = euro.worldclim)

</code></pre>

<hr>
<h2 id='enmtools.ecospat.bg'>enmtools.ecospat.bg, Runs an ecospat background/similarity test using enmtool.species objects.</h2><span id='topic+enmtools.ecospat.bg'></span>

<h3>Description</h3>

<p>enmtools.ecospat.bg, Runs an ecospat background/similarity test using enmtool.species objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.ecospat.bg(
  species.1,
  species.2,
  env,
  nreps = 99,
  layers = NULL,
  test.type = "symmetric",
  th.sp = 0,
  th.env = 0,
  R = 100,
  nback = 1000,
  bg.source = "default",
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.ecospat.bg_+3A_species.1">species.1</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_env">env</code></td>
<td>
<p>A set of environmental layers</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_nreps">nreps</code></td>
<td>
<p>The number of pseudoreplicates to perform</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_layers">layers</code></td>
<td>
<p>A vector of length 2 containing the names of the layers to be used.  If no layer names are provided and there are more than two layers in env, enmtools will perform a pca and use the top two layers from that.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_test.type">test.type</code></td>
<td>
<p>Symmetric or asymmetric test.  An asymmetric test is bguivalent to the &quot;one.sided&quot; option in the ecospat documentation, while a symmetric one would be two-sided.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_th.sp">th.sp</code></td>
<td>
<p>Quantile of species densities used as a threshold to exclude low species density values.  See documentation for ecospat.grid.clim.dyn.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_th.env">th.env</code></td>
<td>
<p>Quantile of environmental densities across study sites used as threshold to exclude low
environmental density values.  See documentation for ecospat.grid.clim.dyn.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_r">R</code></td>
<td>
<p>Resolution of the grid. See documentation for ecospat.grid.clim.dyn.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_nback">nback</code></td>
<td>
<p>Number of background points to use for density calculations.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.bg_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to check.bg</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the ecospat output kernel density estimates for each species and their background, as well as the results of hypothesis tests and their accompanying plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#install.extras(repos='http://cran.us.r-project.org')
monticola &lt;- iberolacerta.clade$species$monticola
cyreni &lt;- iberolacerta.clade$species$cyreni
if(check.extras("enmtools.ecospat.bg")) {
  enmtools.ecospat.bg(monticola, cyreni, euro.worldclim[[1:2]], nback = 500)
}

</code></pre>

<hr>
<h2 id='enmtools.ecospat.id'>enmtools.ecospat.id, Runs an ecospat identity test using enmtool.species objects.</h2><span id='topic+enmtools.ecospat.id'></span>

<h3>Description</h3>

<p>enmtools.ecospat.id, Runs an ecospat identity test using enmtool.species objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.ecospat.id(
  species.1,
  species.2,
  env,
  nreps = 99,
  layers = NULL,
  th.sp = 0,
  th.env = 0,
  R = 100,
  nback = 1000,
  bg.source = "default",
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.ecospat.id_+3A_species.1">species.1</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_env">env</code></td>
<td>
<p>A set of environmental layers</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_nreps">nreps</code></td>
<td>
<p>The number of pseudoreplicates to perform</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_layers">layers</code></td>
<td>
<p>A vector of length 2 containing the names of the layers to be used.  If no layer names are provided and there are more than two layers in env, enmtools will perform a pca and use the top two layers from that.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_th.sp">th.sp</code></td>
<td>
<p>Quantile of species densities used as a threshold to exclude low species density values.  See documentation for ecospat.grid.clim.dyn.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_th.env">th.env</code></td>
<td>
<p>Quantile of environmental densities across study sites used as threshold to exclude low
environmental density values.  See documentation for ecospat.grid.clim.dyn.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_r">R</code></td>
<td>
<p>Resolution of the grid. See documentation for ecospat.grid.clim.dyn.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_nback">nback</code></td>
<td>
<p>Number of background points to use for density calculations.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.ecospat.id_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the ecospat output kernel density estimates for each species and their background, as well as the results of hypothesis tests and their accompanying plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#install.extras(repos='http://cran.us.r-project.org')
monticola &lt;- iberolacerta.clade$species$monticola
cyreni &lt;- iberolacerta.clade$species$cyreni
if(check.extras("enmtools.ecospat.id")) {
  enmtools.ecospat.id(monticola, cyreni, euro.worldclim[[1:2]], nback = 500)
}

</code></pre>

<hr>
<h2 id='enmtools.gam'>Takes an emtools.species object with presence and background points, and builds a gam</h2><span id='topic+enmtools.gam'></span>

<h3>Description</h3>

<p>Takes an emtools.species object with presence and background points, and builds a gam
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.gam(
  species,
  env,
  f = NULL,
  test.prop = 0,
  k = 4,
  nback = 1000,
  env.nback = 10000,
  report = NULL,
  overwrite = FALSE,
  rts.reps = 0,
  weights = "equal",
  gam.method = "REML",
  gam.select = TRUE,
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.gam_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_f">f</code></td>
<td>
<p>Standard gam formula</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_k">k</code></td>
<td>
<p>Dimension of the basis used to represent the smooth term.  See documentation for s() for details.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_nback">nback</code></td>
<td>
<p>Number of background points to draw from range or env, if background points aren't provided</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_weights">weights</code></td>
<td>
<p>If this is set to &quot;equal&quot;, presences and background data will be assigned weights so that the sum of all presence points weights equals the sum of all background point weights.  Otherwise, weights are not provided to the model.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_gam.method">gam.method</code></td>
<td>
<p>Defaults to restricted maximum likelihood to facilitate predictor selection, but if you want to use another method you can pass anything here that gam's &quot;method&quot; argument understands.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_gam.select">gam.select</code></td>
<td>
<p>Controls whether gam algorithm attempts to optimize smoothness and reduce model complexity.  See help(&quot;gam.selection&quot;) for details.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.gam_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to gam()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if(requireNamespace("mgcv", quietly = TRUE)) {
    enmtools.gam(iberolacerta.clade$species$monticola, env = euro.worldclim, f = pres ~ bio1 + bio9)
}

</code></pre>

<hr>
<h2 id='enmtools.glm'>Takes an enmtools.species object with presence and background points, and builds a GLM</h2><span id='topic+enmtools.glm'></span>

<h3>Description</h3>

<p>Takes an enmtools.species object with presence and background points, and builds a GLM
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.glm(
  species,
  env,
  f = NULL,
  test.prop = 0,
  eval = TRUE,
  nback = 1000,
  env.nback = 10000,
  report = NULL,
  overwrite = FALSE,
  rts.reps = 0,
  weights = "equal",
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  step = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.glm_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_f">f</code></td>
<td>
<p>Standard GLM formula</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_eval">eval</code></td>
<td>
<p>Determines whether model evaluation should be done.  Turned on by default, but moses turns it off to speed things up.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_nback">nback</code></td>
<td>
<p>Number of background points to draw from range or env, if background points aren't provided</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_weights">weights</code></td>
<td>
<p>If this is set to &quot;equal&quot;, presences and background data will be assigned weights so that the sum of all presence points weights equals the sum of all background point weights.  Otherwise, weights are not provided to the model.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_step">step</code></td>
<td>
<p>Logical determining whether to do stepwise model selection or not</p>
</td></tr>
<tr><td><code id="enmtools.glm_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to glm()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>enmtools.glm(iberolacerta.clade$species$monticola, env = euro.worldclim, f = pres ~ bio1 + bio9)
</code></pre>

<hr>
<h2 id='enmtools.hypervolume'>THIS FUNCTION IS CURRENTLY DISABLED.  Takes an emtools.species object and environmental layers, and constructs a hypervolume using the R package hypervolume</h2><span id='topic+enmtools.hypervolume'></span>

<h3>Description</h3>

<p>THIS FUNCTION IS CURRENTLY DISABLED.  Takes an emtools.species object and environmental layers, and constructs a hypervolume using the R package hypervolume
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.hypervolume(
  species,
  env,
  samples.per.point = 10,
  reduction.factor = 0.1,
  method = "gaussian",
  verbose = FALSE,
  clamp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.hypervolume_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_env">env</code></td>
<td>
<p>A stack of environmental rasters</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_samples.per.point">samples.per.point</code></td>
<td>
<p>To be passed to hypervolume_gaussian</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_reduction.factor">reduction.factor</code></td>
<td>
<p>To be passed to hypervolume_project</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_method">method</code></td>
<td>
<p>Method for constructing hypervolumes, defaults to &quot;gaussian&quot;</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.hypervolume_+3A_...">...</code></td>
<td>
<p>Extra parameters to be passed to hypervolume_gaussian</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools hypvervolume object containing a hypervolume object, a raster of suitability scores, the species name, and the occurrence data frame.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#install.extras(repos='http://cran.us.r-project.org')
env &lt;- euro.worldclim[[c(1,8,12,17)]]
if(requireNamespace("hypervolume", quietly = TRUE)) {
    monticola.hv &lt;- enmtools.hypervolume(iberolacerta.clade$species$monticola, env = env)
}

</code></pre>

<hr>
<h2 id='enmtools.maxent'>Takes an emtools.species object with presence and background points, and builds a maxent model</h2><span id='topic+enmtools.maxent'></span>

<h3>Description</h3>

<p>Takes an emtools.species object with presence and background points, and builds a maxent model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.maxent(
  species,
  env,
  test.prop = 0,
  nback = 1000,
  env.nback = 10000,
  report = NULL,
  overwrite = FALSE,
  rts.reps = 0,
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.maxent_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_nback">nback</code></td>
<td>
<p>Number of background points to draw from range or env, if background points aren't provided</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.maxent_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to maxent()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(check.extras("enmtools.maxent")) {
    ## maxent is not working on some platforms so use try()
    try(enmtools.maxent(iberolacerta.clade$species$monticola, env = euro.worldclim))
}
</code></pre>

<hr>
<h2 id='enmtools.rf'>Takes an emtools.species object with presence and background points, and builds a random forest model</h2><span id='topic+enmtools.rf'></span>

<h3>Description</h3>

<p>Takes an emtools.species object with presence and background points, and builds a random forest model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.rf(
  species,
  env,
  f = NULL,
  test.prop = 0,
  eval = TRUE,
  nback = 1000,
  env.nback = 10000,
  report = NULL,
  overwrite = FALSE,
  rts.reps = 0,
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.rf_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_f">f</code></td>
<td>
<p>A formula for fitting the model</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_eval">eval</code></td>
<td>
<p>Determines whether model evaluation should be done.  Turned on by default, but moses turns it off to speed things up.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_nback">nback</code></td>
<td>
<p>Number of background points to draw from range or env, if background points aren't provided</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.rf_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to rf()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
enmtools.rf(iberolacerta.clade$species$monticola, env = euro.worldclim, nback = 500)

</code></pre>

<hr>
<h2 id='enmtools.rf.ranger'>Takes an emtools.species object with presence and background points, and builds a random forest model using the 'probability mode' in package 'ranger'</h2><span id='topic+enmtools.rf.ranger'></span>

<h3>Description</h3>

<p>Takes an emtools.species object with presence and background points, and builds a random forest model using the 'probability mode' in package 'ranger'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.rf.ranger(
  species,
  env,
  f = NULL,
  test.prop = 0,
  eval = TRUE,
  nback = 1000,
  env.nback = 10000,
  report = NULL,
  overwrite = FALSE,
  rts.reps = 0,
  bg.source = "default",
  verbose = FALSE,
  clamp = TRUE,
  corner = NA,
  bias = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.rf.ranger_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_f">f</code></td>
<td>
<p>A formula for fitting the model</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_test.prop">test.prop</code></td>
<td>
<p>Proportion of data to withhold randomly for model evaluation, or &quot;block&quot; for spatially structured evaluation.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_eval">eval</code></td>
<td>
<p>Determines whether model evaluation should be done.  Turned on by default, but moses turns it off to speed things up.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_nback">nback</code></td>
<td>
<p>Number of background points to draw from range or env, if background points aren't provided</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_env.nback">env.nback</code></td>
<td>
<p>Number of points to draw from environment space for environment space discrimination metrics.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_report">report</code></td>
<td>
<p>Optional name of an html file for generating reports</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_overwrite">overwrite</code></td>
<td>
<p>TRUE/FALSE whether to overwrite a report file if it already exists</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_rts.reps">rts.reps</code></td>
<td>
<p>The number of replicates to do for a Raes and ter Steege-style test of significance</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_clamp">clamp</code></td>
<td>
<p>When set to TRUE, clamps the environmental layers so that predictions made outside the min/max of the training data for each predictor are set to the value for the min/max for that predictor. Prevents the model from extrapolating beyond the min/max bounds of the predictor space the model was trained in, although there could still be projections outside the multivariate training space if predictors are strongly correlated.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_corner">corner</code></td>
<td>
<p>An integer from 1 to 4.  Selects which corner to use for &quot;block&quot; test data.  By default the corner is selected randomly.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_bias">bias</code></td>
<td>
<p>An optional raster estimating relative sampling effort per grid cell.  Will be used for drawing background data.</p>
</td></tr>
<tr><td><code id="enmtools.rf.ranger_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to <code><a href="ranger.html#topic+ranger">ranger</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools model object containing species name, model formula (if any), model object, suitability raster, marginal response plots, and any evaluation objects that were created.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
enmtools.rf.ranger(iberolacerta.clade$species$monticola, env = euro.worldclim, nback = 500)

</code></pre>

<hr>
<h2 id='enmtools.species'>Defining a class for enmtools.species.</h2><span id='topic+enmtools.species'></span><span id='topic+save.enmtools.species'></span><span id='topic+load.enmtools.species'></span>

<h3>Description</h3>

<p>Each species gets:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.species(
  range = NA,
  presence.points = NA,
  background.points = NA,
  species.name = NA,
  models = NA
)

save.enmtools.species(x, ...)

load.enmtools.species(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.species_+3A_range">range</code></td>
<td>
<p>A raster or SpatialPolygon with the actual range they occur in</p>
</td></tr>
<tr><td><code id="enmtools.species_+3A_presence.points">presence.points</code></td>
<td>
<p>A data frame with sampled localities</p>
</td></tr>
<tr><td><code id="enmtools.species_+3A_background.points">background.points</code></td>
<td>
<p>A data frame with absence/pseudoabsence/background localities</p>
</td></tr>
<tr><td><code id="enmtools.species_+3A_species.name">species.name</code></td>
<td>
<p>A character vector with the species name</p>
</td></tr>
<tr><td><code id="enmtools.species_+3A_models">models</code></td>
<td>
<p>A list of models that are made for the species, which will be stuffed in there as we go along
to pass the check.  This is used by internal enmtools functions to make sure the necessary data is present
before processing anything.</p>
</td></tr>
<tr><td><code id="enmtools.species_+3A_x">x</code></td>
<td>
<p>Path to an enmtools.species file</p>
</td></tr>
<tr><td><code id="enmtools.species_+3A_...">...</code></td>
<td>
<p>Other arguments passed to R's load function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an enmtools.species object, either empty or populated with the parameter values that were passed into the function.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>save.enmtools.species()</code>: Save an ENMTools species object
</p>
</li>
<li> <p><code>load.enmtools.species()</code>: Load an ENMTools species object
</p>
</li></ul>

<hr>
<h2 id='enmtools.vip'>Takes an enmtools.model object, and performs variable importance analyses on it using methods from the vip package</h2><span id='topic+enmtools.vip'></span>

<h3>Description</h3>

<p>Takes an enmtools.model object, and performs variable importance analyses on it using methods from the vip package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>enmtools.vip(
  model,
  metric = "roc_auc",
  nsim = 10,
  method = "permute",
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="enmtools.vip_+3A_model">model</code></td>
<td>
<p>An enmtools.model object</p>
</td></tr>
<tr><td><code id="enmtools.vip_+3A_metric">metric</code></td>
<td>
<p>The metric to use for measuring how variables affect model predictions</p>
</td></tr>
<tr><td><code id="enmtools.vip_+3A_nsim">nsim</code></td>
<td>
<p>The number of simulations to be run for method &quot;permute&quot;</p>
</td></tr>
<tr><td><code id="enmtools.vip_+3A_method">method</code></td>
<td>
<p>A character string or vector containing any combination of &quot;model&quot;, &quot;permute&quot;, &quot;shap&quot;, or &quot;firm&quot;.  For details on what these mean, see the vip package help.</p>
</td></tr>
<tr><td><code id="enmtools.vip_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of messages</p>
</td></tr>
<tr><td><code id="enmtools.vip_+3A_...">...</code></td>
<td>
<p>Further arguments to be passed to vip's &quot;vi&quot; functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An enmtools.vip object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#install.extras(repos='http://cran.us.r-project.org')
monticola.glm &lt;- enmtools.glm(iberolacerta.clade$species$monticola,
                              env = euro.worldclim,
                              test.prop = 0.3)
if(check.extras("enmtools.vip")) {
  enmtools.vip(monticola.glm)
}

</code></pre>

<hr>
<h2 id='env.breadth'>Calculates breadth of a model in environment space using latin hypercube sampling</h2><span id='topic+env.breadth'></span>

<h3>Description</h3>

<p>Calculates breadth of a model in environment space using latin hypercube sampling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>env.breadth(model, env, tolerance = 1e-04, max.reps = 10, chunk.size = 1e+05)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="env.breadth_+3A_model">model</code></td>
<td>
<p>An enmtools.model object or a model object that can be projected using the predict() function</p>
</td></tr>
<tr><td><code id="env.breadth_+3A_env">env</code></td>
<td>
<p>A raster, raster stack of environmental data, or a list of minima and maxima for the environmental space to evaluate models over.</p>
</td></tr>
<tr><td><code id="env.breadth_+3A_tolerance">tolerance</code></td>
<td>
<p>How close do successive overlap metrics have to be before we decide we're close enough to the final answer</p>
</td></tr>
<tr><td><code id="env.breadth_+3A_max.reps">max.reps</code></td>
<td>
<p>Maximum number of attempts that will be made to find suitable starting conditions</p>
</td></tr>
<tr><td><code id="env.breadth_+3A_chunk.size">chunk.size</code></td>
<td>
<p>How many combinations of environmental variables to try at a time.  If your niche breadth in environment space is small, increasing this value may help you get a result.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the environmental space version of the B2 metric and a plot of B2 estimates as a function of sample size, used as a convergence diagnostic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
cyreni.glm &lt;- enmtools.glm(cyreni, euro.worldclim, test.prop = 0.2,
f = pres ~ bio1 + bio12, nback = 500)
env.breadth(cyreni.glm,  euro.worldclim)

</code></pre>

<hr>
<h2 id='env.evaluate'>Calculates evaluation metrics (AUC, etc.) using latin hypercube sampling in environment space</h2><span id='topic+env.evaluate'></span>

<h3>Description</h3>

<p>Calculates evaluation metrics (AUC, etc.) using latin hypercube sampling in environment space
</p>


<h3>Usage</h3>

<pre><code class='language-R'>env.evaluate(
  species,
  model,
  env,
  bg.source = "background",
  n.background = 10000,
  test.eval = FALSE,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="env.evaluate_+3A_species">species</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_model">model</code></td>
<td>
<p>An enmtools.model object or a model that can be projected using the predict() function of dismo</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_bg.source">bg.source</code></td>
<td>
<p>Determines whether minima and maxima of the environment space should be picked using the environment layers or the background points.</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_n.background">n.background</code></td>
<td>
<p>The number of background points to sample from the environment space.</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_test.eval">test.eval</code></td>
<td>
<p>When set to &quot;true&quot;, env.evaluate evaluates the test data stored in the model object instead of the training data.</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="env.evaluate_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to othfer functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dismo evaluate object measuring the performance of model predictions in environment space.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
cyreni.glm &lt;- enmtools.glm(cyreni, euro.worldclim, test.prop = 0.2,
f = pres ~ bio1 + bio12, nback = 500)
env.evaluate(cyreni, cyreni.glm,  euro.worldclim)

</code></pre>

<hr>
<h2 id='env.overlap'>Calculates overlap between models in environment space using latin hypercube sampling</h2><span id='topic+env.overlap'></span>

<h3>Description</h3>

<p>Calculates overlap between models in environment space using latin hypercube sampling
</p>


<h3>Usage</h3>

<pre><code class='language-R'>env.overlap(
  model.1,
  model.2,
  env,
  tolerance = 0.001,
  max.reps = 10,
  cor.method = "spearman",
  chunk.size = 1e+05,
  recal.model.1 = NA,
  recal.model.2 = NA,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="env.overlap_+3A_model.1">model.1</code></td>
<td>
<p>An enmtools.model object model object that can be projected using the predict() function</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_model.2">model.2</code></td>
<td>
<p>Another enmtools.model object or other model object that can be projected using the predict() function</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_env">env</code></td>
<td>
<p>A raster, raster stack of environmental data, or a list of minima and maxima for the environmental space to evaluate models over</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_tolerance">tolerance</code></td>
<td>
<p>How close do successive overlap metrics have to be before we decide we're close enough to the final answer</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_max.reps">max.reps</code></td>
<td>
<p>Maximum number of attempts that will be made to find suitable starting conditions</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_cor.method">cor.method</code></td>
<td>
<p>Which method to use for calculating correlations between models</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_chunk.size">chunk.size</code></td>
<td>
<p>How many combinations of environmental variables to try at a time.  If your niche breadth in environment space is small, increasing this value may help you get a result.</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_recal.model.1">recal.model.1</code></td>
<td>
<p>Optional.  The output of enmtools.recalibrate for model 1, which needs to have been run with &quot;recalibrate = TRUE&quot;.</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_recal.model.2">recal.model.2</code></td>
<td>
<p>Optional.  The output of enmtools.recalibrate for model 2, which needs to have been run with &quot;recalibrate = TRUE&quot;.</p>
</td></tr>
<tr><td><code id="env.overlap_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of values measuring the overlap between models in environment space, as well as some plots depicting change of the estimates as a function of how many samples were used, which are included as a sort of convergence diagnostic.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
monticola &lt;- iberolacerta.clade$species$monticola
cyreni.glm &lt;- enmtools.glm(cyreni, euro.worldclim, f = pres ~ bio1 + bio12, nback = 500)
monticola.glm &lt;- enmtools.glm(monticola, euro.worldclim, f = pres ~ bio1 + bio12, nback = 500)
env.overlap(cyreni.glm, monticola.glm, euro.worldclim)

</code></pre>

<hr>
<h2 id='euro.worldclim'>Worldclim data for Europe</h2><span id='topic+euro.worldclim'></span>

<h3>Description</h3>

<p>This is a fairly low-resolution set of Worldclim layers for Europe to be used in demonstrating ENMTools functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>euro.worldclim
</code></pre>


<h3>Format</h3>

<p>A SpatRaster object with 19 worldclim layers.
</p>

<hr>
<h2 id='find.extras'>Find the extra packages needed for an ENMTools function</h2><span id='topic+find.extras'></span>

<h3>Description</h3>

<p>Find the extra packages needed for an ENMTools function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.extras(funs = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.extras_+3A_funs">funs</code></td>
<td>
<p>character vector of ENMTools function names to install extra dependencies for. If 'NULL', extras for all ENMTools functions will be installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the names of extra packages required by 'funs'
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find.extras("enmtools.calibrate")
</code></pre>

<hr>
<h2 id='find.extras.missing'>Find the extra packages needed for an ENMTools function that are currently missing (not available)</h2><span id='topic+find.extras.missing'></span>

<h3>Description</h3>

<p>Find the extra packages needed for an ENMTools function that are currently missing (not available)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find.extras.missing(funs = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="find.extras.missing_+3A_funs">funs</code></td>
<td>
<p>character vector of ENMTools function names to install extra dependencies for. If 'NULL', extras for all ENMTools functions will be installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the names of extra packages required by 'funs' that are currently not available
</p>


<h3>Examples</h3>

<pre><code class='language-R'>find.extras.missing("enmtools.calibrate")
</code></pre>

<hr>
<h2 id='geog.range.overlap'>Takes two emtools.species objects with range rasters, calculates overlap between them as in Fitzpatrick and Turelli 2006.  This metric divides the area of overlap between two species ranges by the smaller of the two areas of the species' individual ranges.  It therefore ranges from 0 (no overlap) to 1 (ranges are the same or the smaller species' range is contained entirely within the larger).</h2><span id='topic+geog.range.overlap'></span>

<h3>Description</h3>

<p>Takes two emtools.species objects with range rasters, calculates overlap between them as in Fitzpatrick and Turelli 2006.  This metric divides the area of overlap between two species ranges by the smaller of the two areas of the species' individual ranges.  It therefore ranges from 0 (no overlap) to 1 (ranges are the same or the smaller species' range is contained entirely within the larger).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geog.range.overlap(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geog.range.overlap_+3A_x">x</code></td>
<td>
<p>An enmtools.species object containing a range raster</p>
</td></tr>
<tr><td><code id="geog.range.overlap_+3A_y">y</code></td>
<td>
<p>An enmtools.species object containing a range raster</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value measuring range overlap.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cyreni &lt;- iberolacerta.clade$species$cyreni
monticola &lt;- iberolacerta.clade$species$monticola
cyreni$range &lt;- background.raster.buffer(cyreni$presence.points, 100000, euro.worldclim)
monticola$range &lt;- background.raster.buffer(monticola$presence.points, 100000, euro.worldclim)
geog.range.overlap(cyreni, monticola)
</code></pre>

<hr>
<h2 id='hypervolume.overlap'>Takes an emtools.species object and environmental layers, and constructs a hypervolume using the R package hypervolume</h2><span id='topic+hypervolume.overlap'></span>

<h3>Description</h3>

<p>Takes an emtools.species object and environmental layers, and constructs a hypervolume using the R package hypervolume
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hypervolume.overlap(
  species.1,
  species.2,
  env = NA,
  reduction.factor = 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hypervolume.overlap_+3A_species.1">species.1</code></td>
<td>
<p>An enmtools.species or enmtools.hypervolume object</p>
</td></tr>
<tr><td><code id="hypervolume.overlap_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species or enmtools.hypervolume object</p>
</td></tr>
<tr><td><code id="hypervolume.overlap_+3A_env">env</code></td>
<td>
<p>A stack of environmental rasters, required when enmtools.species objects are passed</p>
</td></tr>
<tr><td><code id="hypervolume.overlap_+3A_reduction.factor">reduction.factor</code></td>
<td>
<p>Passed to hypervolume functions</p>
</td></tr>
<tr><td><code id="hypervolume.overlap_+3A_...">...</code></td>
<td>
<p>Extra parameters to be passed to enmtools.hypervolume</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a set of hypervolume objects and the overlap that was measured between them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#install.extras(repos='http://cran.us.r-project.org')
mont &lt;- iberolacerta.clade$species$monticola
cyr &lt;- iberolacerta.clade$species$cyreni
env &lt;- euro.worldclim[[c(1,8,12,17)]]
if(requireNamespace("hypervolume", quietly = TRUE)) {
    hypervolume.overlap(mont, cyr, env = env)
}

</code></pre>

<hr>
<h2 id='iberolacerta.clade'>GBIF data for a clade of Iberolacerta lizards from spain</h2><span id='topic+iberolacerta.clade'></span>

<h3>Description</h3>

<p>This is some sample data downloaded from GBIF for the purposes of demonstrating ENMTools functionality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>iberolacerta.clade
</code></pre>


<h3>Format</h3>

<p>An enmtools.clade object with seven species and a phylogeny.
</p>

<hr>
<h2 id='identity.test'>identity.test Conduct a niche identity/equivalency test as described in Warren et al. 2008.</h2><span id='topic+identity.test'></span>

<h3>Description</h3>

<p>identity.test Conduct a niche identity/equivalency test as described in Warren et al. 2008.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>identity.test(
  species.1,
  species.2,
  env,
  type,
  f = NULL,
  nreps = 99,
  nback = 1000,
  bg.source = "default",
  low.memory = FALSE,
  rep.dir = NA,
  verbose = FALSE,
  clamp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="identity.test_+3A_species.1">species.1</code></td>
<td>
<p>An emtools.species object</p>
</td></tr>
<tr><td><code id="identity.test_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="identity.test_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing environmental data</p>
</td></tr>
<tr><td><code id="identity.test_+3A_type">type</code></td>
<td>
<p>The type of model to construct, currently accepts &quot;glm&quot;, &quot;mx&quot;, &quot;bc&quot;, &quot;gam&quot;, &quot;rf&quot;, or &quot;dm&quot;</p>
</td></tr>
<tr><td><code id="identity.test_+3A_f">f</code></td>
<td>
<p>A function to use for model fitting.  Only required for GLM models at the moment.</p>
</td></tr>
<tr><td><code id="identity.test_+3A_nreps">nreps</code></td>
<td>
<p>Number of replicates to perform</p>
</td></tr>
<tr><td><code id="identity.test_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models</p>
</td></tr>
<tr><td><code id="identity.test_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="identity.test_+3A_low.memory">low.memory</code></td>
<td>
<p>When set to TRUE, replicate models are written to disc instead of being stored in the output object.  Replicate models stored in the output object contain paths to the replicate models on disk instead of the rasters themselves.</p>
</td></tr>
<tr><td><code id="identity.test_+3A_rep.dir">rep.dir</code></td>
<td>
<p>Directory for storing replicate models when low.memory is set to TRUE.  If not specified, the working directory will be used.</p>
</td></tr>
<tr><td><code id="identity.test_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="identity.test_+3A_clamp">clamp</code></td>
<td>
<p>Controls whether empirical and replicate models should be clamped to the environment space used for training.</p>
</td></tr>
<tr><td><code id="identity.test_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to model fitting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A list containing the replicates, models for the empirical data, and summary statistics and plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
monticola &lt;- iberolacerta.clade$species$monticola
cyreni$range &lt;- background.raster.buffer(cyreni$presence.points, 100000, euro.worldclim)
monticola$range &lt;- background.raster.buffer(monticola$presence.points, 100000, euro.worldclim)
identity.test(cyreni, monticola, env = euro.worldclim, type = "glm",
f = pres ~ bio1 + bio12, nreps = 10)

</code></pre>

<hr>
<h2 id='install.extras'>install.extras</h2><span id='topic+install.extras'></span>

<h3>Description</h3>

<p>Convenience function that installs all extra packages used in ENMTools.  ENMTools uses
functions from a lot of external packages, and due to CRAN best practices it doesn't install
those packages by default.  The function install.extras() calls install.packages with a
list of all of the extra packages that are not already available. Use [check.extras()] to find out which packages are needed for a list of functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install.extras(funs = NULL, install = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="install.extras_+3A_funs">funs</code></td>
<td>
<p>character vector of ENMTools function names to install extra dependencies for. If 'NULL', extras for all ENMTools functions will be installed.</p>
</td></tr>
<tr><td><code id="install.extras_+3A_install">install</code></td>
<td>
<p>Should the packages be installed?</p>
</td></tr>
<tr><td><code id="install.extras_+3A_...">...</code></td>
<td>
<p>Other parameters to be passed to <code>install.packages</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>The list of missing packages is return invisibly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
install.extras(install = FALSE)

</code></pre>

<hr>
<h2 id='interactive.plot'>Generic function for making interactive plots of ENMTools models and species</h2><span id='topic+interactive.plot'></span>

<h3>Description</h3>

<p>Function that takes an <code>enmtools.model</code> or <code>enmtools.species</code>  object and
calls the class-appropriate <code>interactive.plot.xx</code> function for it.
These functions use <code><a href="leaflet.html#topic+leaflet">leaflet</a></code> for mapping
and will only function properly if you have an active internet connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>interactive.plot(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="interactive.plot_+3A_x">x</code></td>
<td>
<p>entools.model or species object to plot</p>
</td></tr>
<tr><td><code id="interactive.plot_+3A_...">...</code></td>
<td>
<p>other arguments passed to interactive.plot.enmtools.model or interactive.plot.enmtools.species</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An interactive leaflet plot depicting the predictions and data from the enmtools.model object.
</p>

<hr>
<h2 id='interactive.plot.enmtools.model'>Plot an enmtools.model object on an interactive map</h2><span id='topic+interactive.plot.enmtools.model'></span>

<h3>Description</h3>

<p>Function that take an <code>enmtools.model</code> object and plots an
interactive map of the presence points, background points (if applicable), and
species suitability map. This function uses <code><a href="leaflet.html#topic+leaflet">leaflet</a></code> for mapping
and will only function properly if you have an active internet connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enmtools.model'
interactive.plot(
  x,
  map.provider = "Esri.WorldPhysical",
  cluster.points = FALSE,
  raster.opacity = 1,
  max.bytes = 4194304,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="interactive.plot.enmtools.model_+3A_x">x</code></td>
<td>
<p>entools.model object to plot</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.model_+3A_map.provider">map.provider</code></td>
<td>
<p>Name of a map provider for the underlying interactive base map.
Default is &quot;Esri.WorldPhysical&quot;, and attractive topographic map with no place labels. A
preview of all map provider options can be viewed at <a href="http://leaflet-extras.github.io/leaflet-providers/preview/">http://leaflet-extras.github.io/leaflet-providers/preview/</a></p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.model_+3A_cluster.points">cluster.points</code></td>
<td>
<p>Should points be clustered? If TRUE, points close together
will be grouped into clusters that can be interactively expanded by clicking on them.</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.model_+3A_raster.opacity">raster.opacity</code></td>
<td>
<p>Specifies the opacity level of the suitability raster.</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.model_+3A_max.bytes">max.bytes</code></td>
<td>
<p>Maximum size of raster image to plot.  Defaults to 4MB (4194304 bytes) but can be overridden if you have a large raster.  Be aware that the image will be knitted into an output file if you're working in R Markdown, causing your output file to be huge if the raster is huge.</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.model_+3A_...">...</code></td>
<td>
<p>other arguments (not used currently)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An interactive leaflet plot depicting the predictions and data from the enmtools.model object.
</p>

<hr>
<h2 id='interactive.plot.enmtools.species'>Plot an enmtools.species object on an interactive map</h2><span id='topic+interactive.plot.enmtools.species'></span>

<h3>Description</h3>

<p>Function that take an <code><a href="#topic+enmtools.species">enmtools.species</a></code> object and plots an
interactive map of the presence points, background points (if applicable), and
species range raster (if applicable). This function uses <code><a href="leaflet.html#topic+leaflet">leaflet</a></code> for mapping
and will only function properly if you have an active internet connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'enmtools.species'
interactive.plot(
  x,
  map.provider = "Esri.WorldPhysical",
  cluster.points = FALSE,
  max.bytes = 4194304,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="interactive.plot.enmtools.species_+3A_x">x</code></td>
<td>
<p>entools.species object to plot</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.species_+3A_map.provider">map.provider</code></td>
<td>
<p>Name of a map provider for the underlying interactive base map.
Default is &quot;Esri.WorldPhysical&quot;, and attractive topographic map with no place labels. A
preview of all map provider options can be viewed at <a href="http://leaflet-extras.github.io/leaflet-providers/preview/">http://leaflet-extras.github.io/leaflet-providers/preview/</a></p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.species_+3A_cluster.points">cluster.points</code></td>
<td>
<p>Should points be clustered? If TRUE, points close together
will be grouped into clusters that can be interactively expanded by clicking
on them.</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.species_+3A_max.bytes">max.bytes</code></td>
<td>
<p>Maximum size of range raster image to plot.  Defaults to 4MB (4194304 bytes) but can be overridden if you have a large range raster.  Be aware that the image will be knitted into an output file if you're working in R Markdown, causing your output file to be huge if the raster is huge.</p>
</td></tr>
<tr><td><code id="interactive.plot.enmtools.species_+3A_...">...</code></td>
<td>
<p>other arguments (not used currently)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An interactive leaflet plot visualizing the data present in the species object.
</p>

<hr>
<h2 id='marginal.plots'>marginal.plots Plots the marginal response of a model to an environmental variable with all other variables held at their mean in env</h2><span id='topic+marginal.plots'></span>

<h3>Description</h3>

<p>marginal.plots Plots the marginal response of a model to an environmental variable with all other variables held at their mean in env
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marginal.plots(model, env, layer, standardize = TRUE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="marginal.plots_+3A_model">model</code></td>
<td>
<p>An enmtools model object</p>
</td></tr>
<tr><td><code id="marginal.plots_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing environmental data</p>
</td></tr>
<tr><td><code id="marginal.plots_+3A_layer">layer</code></td>
<td>
<p>The name of the layer to plot</p>
</td></tr>
<tr><td><code id="marginal.plots_+3A_standardize">standardize</code></td>
<td>
<p>Whether to set the maximum of the response function to 1, or to instead use the raw values.</p>
</td></tr>
<tr><td><code id="marginal.plots_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A plot of the marginal response of the model to the environmental variable.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cyreni.glm &lt;- enmtools.glm(iberolacerta.clade$species$cyreni,
f = pres ~ bio1 + bio12, euro.worldclim)
marginal.plots(cyreni.glm, euro.worldclim, "bio1")
</code></pre>

<hr>
<h2 id='moses.list'>Takes a list of enmtools.species objects and uses model selection to ask whether they're better treated jointly or separately</h2><span id='topic+moses.list'></span>

<h3>Description</h3>

<p>Takes a list of enmtools.species objects and uses model selection to ask whether they're better treated jointly or separately
</p>


<h3>Usage</h3>

<pre><code class='language-R'>moses.list(
  species.list,
  env,
  f = NULL,
  eval = FALSE,
  nback = 1000,
  bg.source = "default",
  verbose = FALSE,
  step = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="moses.list_+3A_species.list">species.list</code></td>
<td>
<p>A list of enmtools.species objects, or an enmtools.clade object.</p>
</td></tr>
<tr><td><code id="moses.list_+3A_env">env</code></td>
<td>
<p>A SpatRaster of environmental data.</p>
</td></tr>
<tr><td><code id="moses.list_+3A_f">f</code></td>
<td>
<p>A GLM-style function for model fitting</p>
</td></tr>
<tr><td><code id="moses.list_+3A_eval">eval</code></td>
<td>
<p>Boolean indicating whether or not GLMs should be evaluated using AUC/TSS/etc.</p>
</td></tr>
<tr><td><code id="moses.list_+3A_nback">nback</code></td>
<td>
<p>Number of background points to generate, if any</p>
</td></tr>
<tr><td><code id="moses.list_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="moses.list_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="moses.list_+3A_step">step</code></td>
<td>
<p>Logical determining whether to do stepwise model selection or not</p>
</td></tr>
<tr><td><code id="moses.list_+3A_...">...</code></td>
<td>
<p>further arguments to be passed to enmtools.glm</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing GLMs for the groups separately and together, as well as AIC values for those models.
</p>

<hr>
<h2 id='multistack.pca'>multistack.pca, simultaneous PCA on more than one stack of environmental rasters</h2><span id='topic+multistack.pca'></span>

<h3>Description</h3>

<p>multistack.pca, simultaneous PCA on more than one stack of environmental rasters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multistack.pca(..., n = 2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="multistack.pca_+3A_...">...</code></td>
<td>
<p>Any number of environmental raster stacks or bricks</p>
</td></tr>
<tr><td><code id="multistack.pca_+3A_n">n</code></td>
<td>
<p>The number of PCA layers to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a stack or brick of rasters for each input set representing the top n pca axes of the initial environmental variables, as well as the pca object from the analysis that produced them and some useful plots showing the distribution of each PC in the different stacks.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>test1 &lt;- terra::crop(euro.worldclim, terra::ext(-10, -5, 40, 43))
test2 &lt;- terra::crop(euro.worldclim, terra::ext(-5, 5, 40, 48))
test3 &lt;- terra::crop(euro.worldclim, terra::ext(5, 15, 44, 48))
multistack.pca(test1, test2, test3)
</code></pre>

<hr>
<h2 id='node.overlap'>Takes an overlap matrix and a tree and returns average overlap at nodes using Fitzpatrick &amp; Turelli averaging method.  Typicall called via enmtools.aoc rather than used directly.</h2><span id='topic+node.overlap'></span>

<h3>Description</h3>

<p>Takes an overlap matrix and a tree and returns average overlap at nodes using Fitzpatrick &amp; Turelli averaging method.  Typicall called via enmtools.aoc rather than used directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>node.overlap(overlap, tree)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="node.overlap_+3A_overlap">overlap</code></td>
<td>
<p>An overlap matrix</p>
</td></tr>
<tr><td><code id="node.overlap_+3A_tree">tree</code></td>
<td>
<p>A tree</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of node ages and overlaps
</p>

<hr>
<h2 id='point.overlap'>Takes two emtools.species objects with range rasters, calculates overlap between them as in Cardillo and Warren 2016</h2><span id='topic+point.overlap'></span>

<h3>Description</h3>

<p>Takes two emtools.species objects with range rasters, calculates overlap between them as in Cardillo and Warren 2016
</p>


<h3>Usage</h3>

<pre><code class='language-R'>point.overlap(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="point.overlap_+3A_x">x</code></td>
<td>
<p>An enmtools.species object containing presence points</p>
</td></tr>
<tr><td><code id="point.overlap_+3A_y">y</code></td>
<td>
<p>An enmtools.species object containing presence points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric value measuring the overlap between point distributions.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
monticola &lt;- iberolacerta.clade$species$monticola
point.overlap(cyreni, monticola)

</code></pre>

<hr>
<h2 id='rangebreak.blob'>rangebreak.blob Conduct a blob rangebreak test as described in Glor and Warren 2011.</h2><span id='topic+rangebreak.blob'></span>

<h3>Description</h3>

<p>rangebreak.blob Conduct a blob rangebreak test as described in Glor and Warren 2011.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rangebreak.blob(
  species.1,
  species.2,
  env,
  type,
  f = NULL,
  nreps = 99,
  nback = 1000,
  bg.source = "default",
  low.memory = FALSE,
  rep.dir = NA,
  verbose = FALSE,
  clamp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rangebreak.blob_+3A_species.1">species.1</code></td>
<td>
<p>An emtools.species object</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing environmental data</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_type">type</code></td>
<td>
<p>The type of model to construct, currently accepts &quot;glm&quot;, &quot;mx&quot;, &quot;bc&quot;, &quot;gam&quot;, or &quot;dm&quot;</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_f">f</code></td>
<td>
<p>A function to use for model fitting.  Only required for GLM models at the moment.</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_nreps">nreps</code></td>
<td>
<p>Number of replicates to perform</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_low.memory">low.memory</code></td>
<td>
<p>When set to TRUE, replicate models are written to disc instead of being stored in the output object.  Replicate models stored in the output object contain paths to the replicate models on disk instead of the rasters themselves.</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_rep.dir">rep.dir</code></td>
<td>
<p>Directory for storing replicate models when low.memory is set to TRUE.  If not specified, the working directory will be used.</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_clamp">clamp</code></td>
<td>
<p>Controls whether empirical and replicate models should be clamped to the environment space used for training.</p>
</td></tr>
<tr><td><code id="rangebreak.blob_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to model fitting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A list containing the replicates, models for the empirical data, and summary statistics and plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
aranica &lt;- iberolacerta.clade$species$aranica

</code></pre>

<hr>
<h2 id='rangebreak.linear'>rangebreak.linear Conduct a linear rangebreak test as described in Glor and Warren 2011.</h2><span id='topic+rangebreak.linear'></span>

<h3>Description</h3>

<p>rangebreak.linear Conduct a linear rangebreak test as described in Glor and Warren 2011.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rangebreak.linear(
  species.1,
  species.2,
  env,
  type,
  f = NULL,
  nreps = 99,
  nback = 1000,
  bg.source = "default",
  low.memory = FALSE,
  rep.dir = NA,
  verbose = FALSE,
  clamp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rangebreak.linear_+3A_species.1">species.1</code></td>
<td>
<p>An emtools.species object</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing environmental data</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_type">type</code></td>
<td>
<p>The type of model to construct, currently accepts &quot;glm&quot;, &quot;mx&quot;, &quot;bc&quot;, &quot;gam&quot;, or &quot;dm&quot;</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_f">f</code></td>
<td>
<p>A function to use for model fitting.  Only required for GLM models at the moment.</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_nreps">nreps</code></td>
<td>
<p>Number of replicates to perform</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_low.memory">low.memory</code></td>
<td>
<p>When set to TRUE, replicate models are written to disc instead of being stored in the output object.  Replicate models stored in the output object contain paths to the replicate models on disk instead of the rasters themselves.</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_rep.dir">rep.dir</code></td>
<td>
<p>Directory for storing replicate models when low.memory is set to TRUE.  If not specified, the working directory will be used.</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_clamp">clamp</code></td>
<td>
<p>Controls whether empirical and replicate models should be clamped to the environment space used for training.</p>
</td></tr>
<tr><td><code id="rangebreak.linear_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to model fitting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A list containing the replicates, models for the empirical data, and summary statistics and plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
aranica &lt;- iberolacerta.clade$species$aranica
rangebreak.linear(cyreni, aranica, env = euro.worldclim, type = "glm",
f= pres ~ bio1 + bio12, nreps = 10)

</code></pre>

<hr>
<h2 id='rangebreak.ribbon'>rangebreak.ribbon Conduct a ribbon rangebreak test as described in Glor and Warren 2011.</h2><span id='topic+rangebreak.ribbon'></span>

<h3>Description</h3>

<p>rangebreak.ribbon Conduct a ribbon rangebreak test as described in Glor and Warren 2011.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rangebreak.ribbon(
  species.1,
  species.2,
  ribbon,
  env,
  type,
  f = NULL,
  width = 1,
  nreps = 99,
  nback = 1000,
  bg.source = "default",
  low.memory = FALSE,
  rep.dir = NA,
  verbose = FALSE,
  clamp = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rangebreak.ribbon_+3A_species.1">species.1</code></td>
<td>
<p>An emtools.species object</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_species.2">species.2</code></td>
<td>
<p>An enmtools.species object</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_ribbon">ribbon</code></td>
<td>
<p>An enmtools.species object representing the region of marginal habtiat in the overlap between the species' ranges</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing environmental data</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_type">type</code></td>
<td>
<p>The type of model to construct, currently accepts &quot;glm&quot;, &quot;mx&quot;, &quot;bc&quot;, or &quot;dm&quot;</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_f">f</code></td>
<td>
<p>A function to use for model fitting.  Only required for GLM models at the moment.</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_width">width</code></td>
<td>
<p>Width of the ribbon, in the same units as the occurrence points (e.g, decimal degrees)</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_nreps">nreps</code></td>
<td>
<p>Number of replicates to perform</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_nback">nback</code></td>
<td>
<p>Number of background points for models</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_bg.source">bg.source</code></td>
<td>
<p>Source for drawing background points.  If &quot;points&quot;, it just uses the background points that are already in the species object.  If &quot;range&quot;, it uses the range raster.  If &quot;env&quot;, it draws points at randome from the entire study area outlined by the first environmental layer.</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_low.memory">low.memory</code></td>
<td>
<p>When set to TRUE, replicate models are written to disc instead of being stored in the output object.  Replicate models stored in the output object contain paths to the replicate models on disk instead of the rasters themselves.</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_rep.dir">rep.dir</code></td>
<td>
<p>Directory for storing replicate models when low.memory is set to TRUE.  If not specified, the working directory will be used.</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of various messages progress reports.  Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_clamp">clamp</code></td>
<td>
<p>Controls whether empirical and replicate models should be clamped to the environment space used for training.</p>
</td></tr>
<tr><td><code id="rangebreak.ribbon_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to model fitting functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A list containing models for the replicates, models for the empirical data, and summary statistics and plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cyreni &lt;- iberolacerta.clade$species$cyreni
aranica &lt;- iberolacerta.clade$species$aranica

# We're just going to fudge together occurrence data from a ribbon here
# from random points between the two species' ranges
p &lt;- data.frame(x = runif(50, -4, -2), y = runif(50, 40, 43))
p &lt;- terra::vect(p, geom = c("x", "y"), crs = terra::crs(cyreni$presence.points))
bg &lt;- background.buffer(p, 100000, mask = euro.worldclim[[1]], n = 100, return.type = "points")
ribbon &lt;- enmtools.species(species.name = "ribbon", presence.points = p, background.points = bg)

rangebreak.ribbon(cyreni, aranica, ribbon = ribbon, env = euro.worldclim,
type = "glm", f= pres ~ bio1 + bio12, nreps = 10)

</code></pre>

<hr>
<h2 id='raster.breadth'>raster.breadth, applies measures of niche breadth to an ENM</h2><span id='topic+raster.breadth'></span>

<h3>Description</h3>

<p>This function measures the spatial heterogeneity of the distribution of suitability
scores from an ENM.  It returns Levins' (1968) two metrics of niche breadth.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.breadth(x, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.breadth_+3A_x">x</code></td>
<td>
<p>An object of class raster or RasterLayer, or an ENMTools model object containing a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.breadth_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of diagnostic messages</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Levins, R. 1968. Evolution in changing environments: some theoretical explorations. Princeton University Press.
</p>


<h3>Value</h3>

<p>results A vector containing the two metrics B1 and B2 for niche breadth.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aurelioi.glm &lt;- enmtools.glm(iberolacerta.clade$species$aurelioi, euro.worldclim,
f = pres ~ bio1 + bio12)
raster.breadth(aurelioi.glm)
</code></pre>

<hr>
<h2 id='raster.cor'>Calculates the correlation coefficient between two rasters.</h2><span id='topic+raster.cor'></span>

<h3>Description</h3>

<p>Calculates the correlation coefficient between two rasters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.cor(x, y, method = "spearman")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.cor_+3A_x">x</code></td>
<td>
<p>Either a raster or an ENMTools model object with a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.cor_+3A_y">y</code></td>
<td>
<p>Either a raster or an ENMTools model object with a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.cor_+3A_method">method</code></td>
<td>
<p>The method to be used for calculating correlations.  Defaults to spearman, but can take &quot;kendall&quot; or &quot;pearson&quot; as well.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric correlation coefficient.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(euro.worldclim)
raster.cor(euro.worldclim[[1]], euro.worldclim[[2]])
</code></pre>

<hr>
<h2 id='raster.cor.matrix'>Takes a raster stack and returns a data frame containing Pearson correlation coefficients
between the included rasters</h2><span id='topic+raster.cor.matrix'></span>

<h3>Description</h3>

<p>Takes a raster stack and returns a data frame containing Pearson correlation coefficients
between the included rasters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.cor.matrix(env, method = "pearson")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.cor.matrix_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing two or more rasters</p>
</td></tr>
<tr><td><code id="raster.cor.matrix_+3A_method">method</code></td>
<td>
<p>Type of correlation to measure.  Can do &quot;pearson&quot;, &quot;kendall&quot;, or &quot;spearman&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of correlation coefficients for a set of rasters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data(euro.worldclim)
raster.cor.matrix(euro.worldclim)

</code></pre>

<hr>
<h2 id='raster.cor.plot'>Takes a raster stack and returns a data frame containing Pearson correlation coefficients
between the included rasters</h2><span id='topic+raster.cor.plot'></span>

<h3>Description</h3>

<p>Takes a raster stack and returns a data frame containing Pearson correlation coefficients
between the included rasters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.cor.plot(env, method = "pearson")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.cor.plot_+3A_env">env</code></td>
<td>
<p>A SpatRaster object containing two or more rasters</p>
</td></tr>
<tr><td><code id="raster.cor.plot_+3A_method">method</code></td>
<td>
<p>Type of correlation to measure.  Can do &quot;pearson&quot;, &quot;kendall&quot;, or &quot;spearman&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of two plots.  The first maps the correlations between rasters into an MDS space, so that predictors that fall close together in that space are more correlated.  The second plot is a heatmap depicting the correlations between pairs of layers.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(euro.worldclim)
raster.cor.plot(euro.worldclim)
</code></pre>

<hr>
<h2 id='raster.overlap'>raster.overlap, measures overlap between two ENMs</h2><span id='topic+raster.overlap'></span>

<h3>Description</h3>

<p>This function measures similarity in the geographic distribution of suitability scores
from two ENMs.  It returns two metrics, I and D.  These metrics are described in
Warren et al. 2008.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.overlap(x, y, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.overlap_+3A_x">x</code></td>
<td>
<p>A raster or RasterLayer object, or ENMTools model object containing a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.overlap_+3A_y">y</code></td>
<td>
<p>Another raster or RasterLayer object, or ENMTools model object containing a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.overlap_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A vector containing the three metrics (I, D, and Spearman rank correlation)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aurelioi.glm &lt;- enmtools.glm(iberolacerta.clade$species$aurelioi,
euro.worldclim, f = pres ~ bio1 + bio12)
aranica.glm &lt;- enmtools.glm(iberolacerta.clade$species$aranica,
euro.worldclim, f = pres ~ bio1 + bio12)
raster.overlap(aurelioi.glm, aranica.glm)
</code></pre>

<hr>
<h2 id='raster.pca'>raster.pca, PCA on a set of environmental rasters</h2><span id='topic+raster.pca'></span>

<h3>Description</h3>

<p>raster.pca, PCA on a set of environmental rasters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.pca(env, n)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.pca_+3A_env">env</code></td>
<td>
<p>A set of environmental layers</p>
</td></tr>
<tr><td><code id="raster.pca_+3A_n">n</code></td>
<td>
<p>The number of PCA layers to return</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing a stack of rasters representing the top n pca axes of the initial environmental variables, as well as the pca object from the analysis that produced them.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>env.pca &lt;- raster.pca(euro.worldclim, 2)
</code></pre>

<hr>
<h2 id='raster.resid'>raster.resid Measure standardized residuals from a linear regression between two rasters.</h2><span id='topic+raster.resid'></span>

<h3>Description</h3>

<p>This function builds a linear model for the relationship between two rasters, and returns the linear model
and a spatial raster of the residuals from that model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.resid(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.resid_+3A_x">x</code></td>
<td>
<p>A raster or RasterLayer object, or ENMTools model object containing a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.resid_+3A_y">y</code></td>
<td>
<p>Another raster  or RasterLayer object, or ENMTools model object containing a suitability raster.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>results A list containing a raster of residuals from a linear regression between the two supplied rasters and the linear model itself.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(euro.worldclim)
raster.resid(euro.worldclim[[1]], euro.worldclim[[2]])
</code></pre>

<hr>
<h2 id='raster.standardize'>raster.standardize, standardizes all values in a raster file</h2><span id='topic+raster.standardize'></span>

<h3>Description</h3>

<p>This function is used by a lot of the metrics calculated by ENMTools, in order to
standardize suitability scores so they sum to 1 over a geographic space.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raster.standardize(x, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raster.standardize_+3A_x">x</code></td>
<td>
<p>A raster or RasterLayer object, or an ENMTools model object containing a suitability raster.</p>
</td></tr>
<tr><td><code id="raster.standardize_+3A_verbose">verbose</code></td>
<td>
<p>Controls printing of diagnostic messages</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new raster object, standardized so that values sum to 1
</p>


<h3>Examples</h3>

<pre><code class='language-R'>raster.standardize(euro.worldclim[[1]])
</code></pre>

<hr>
<h2 id='rasterToPoints2'>get terra to produce same output as raster::rasterToPoints</h2><span id='topic+rasterToPoints2'></span>

<h3>Description</h3>

<p>get terra to produce same output as raster::rasterToPoints
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rasterToPoints2(rast)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rasterToPoints2_+3A_rast">rast</code></td>
<td>
<p>A raster to convert to points</p>
</td></tr>
</table>

<hr>
<h2 id='sim.points'>Simulate a point process from an enmtools.model object</h2><span id='topic+sim.points'></span>

<h3>Description</h3>

<p>Function that takes an <code>enmtools.model</code> object and simulates points
from it using a point process.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sim.points(
  object,
  n.points = 1000,
  seed = NA,
  sample.type = "ppp",
  replace = FALSE,
  threshold = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sim.points_+3A_object">object</code></td>
<td>
<p>entools.model object to simulate from</p>
</td></tr>
<tr><td><code id="sim.points_+3A_n.points">n.points</code></td>
<td>
<p>approximate number of points to simulate. You may get small number fewer or greater.  If you need an exact number of points, generate too many, then drop the extra ones.</p>
</td></tr>
<tr><td><code id="sim.points_+3A_seed">seed</code></td>
<td>
<p>optional seed for the random number generator</p>
</td></tr>
<tr><td><code id="sim.points_+3A_sample.type">sample.type</code></td>
<td>
<p>method for sampling occurrence points.  Default is &quot;ppp&quot;, which is a poisson point process.  Also accepts &quot;binomial&quot; for treating suitabilities as binomial trials, &quot;thresh.pa&quot; for sampling with equal probability every grid cell above a certain threshold value, and &quot;thresh.con&quot; for sampling in proportion to suitability above a certain threshold value.</p>
</td></tr>
<tr><td><code id="sim.points_+3A_replace">replace</code></td>
<td>
<p>whether to sample with replacement.</p>
</td></tr>
<tr><td><code id="sim.points_+3A_threshold">threshold</code></td>
<td>
<p>a threshold suitability below which probability of sampling drops to zero.  Used for &quot;thresh.pa&quot; and &quot;thresh.con&quot; sampling.</p>
</td></tr>
<tr><td><code id="sim.points_+3A_...">...</code></td>
<td>
<p>additional parameters, not currently used but included for S3 compatability</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of simulated points from the enmtools.model object
</p>

<hr>
<h2 id='species.from.file'>Takes a csv file and uses it to construct one or more enmtools.species objects. It constructs one object per unique value in the &quot;species.col&quot; column.</h2><span id='topic+species.from.file'></span>

<h3>Description</h3>

<p>Takes a csv file and uses it to construct one or more enmtools.species objects. It constructs one object per unique value in the &quot;species.col&quot; column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>species.from.file(filename, species.col = "species")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="species.from.file_+3A_filename">filename</code></td>
<td>
<p>Name of a .csv file</p>
</td></tr>
<tr><td><code id="species.from.file_+3A_species.col">species.col</code></td>
<td>
<p>Name of the column from the csv file to use for species names.  Default is &quot;species&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing species objects, one for each unique value in species.col.
</p>

<hr>
<h2 id='threespace.plot'>threespace.plot, A plot that compares the environmental distribution of presence points, background points, and the set of supplied environmental layers.</h2><span id='topic+threespace.plot'></span>

<h3>Description</h3>

<p>threespace.plot, A plot that compares the environmental distribution of presence points, background points, and the set of supplied environmental layers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>threespace.plot(model, env, maxpts = NA)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="threespace.plot_+3A_model">model</code></td>
<td>
<p>An enmtools.model object</p>
</td></tr>
<tr><td><code id="threespace.plot_+3A_env">env</code></td>
<td>
<p>A set of environment layers</p>
</td></tr>
<tr><td><code id="threespace.plot_+3A_maxpts">maxpts</code></td>
<td>
<p>Maximum number of points to plot from env layers</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 object that plots the distribution of environments in the climate layers to the distribution of environments at background and presence localities.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
my.model&lt;- enmtools.gam(iberolacerta.clade$species$monticola, euro.worldclim)
threespace.plot(my.model, euro.worldclim)

</code></pre>

<hr>
<h2 id='trimdupes.by.raster'>Takes a set of points and a raster mask and returns a data frame trimmed so that only one point is returned per grid cell in the mask raster.</h2><span id='topic+trimdupes.by.raster'></span>

<h3>Description</h3>

<p>Takes a set of points and a raster mask and returns a data frame trimmed so that only one point is returned per grid cell in the mask raster.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trimdupes.by.raster(points, mask)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trimdupes.by.raster_+3A_points">points</code></td>
<td>
<p>A two column data frame with X and Y coordinates</p>
</td></tr>
<tr><td><code id="trimdupes.by.raster_+3A_mask">mask</code></td>
<td>
<p>A raster to use as a mask for drawing points</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new data frame with one point per grid cell.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pts &lt;- iberolacerta.clade$species$monticola$presence.points
trimdupes.by.raster(pts, euro.worldclim)
</code></pre>

<hr>
<h2 id='unwrap_list'>export</h2><span id='topic+unwrap_list'></span>

<h3>Description</h3>

<p>export
</p>


<h3>Usage</h3>

<pre><code class='language-R'>unwrap_list(l)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="unwrap_list_+3A_l">l</code></td>
<td>
<p>A list containing species objects that need to be converted</p>
</td></tr>
</table>

<hr>
<h2 id='visualize.enm'>visualize.enm, Makes a heatmap of suitability of habitat in environment space according to a given model</h2><span id='topic+visualize.enm'></span>

<h3>Description</h3>

<p>visualize.enm, Makes a heatmap of suitability of habitat in environment space according to a given model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>visualize.enm(
  model,
  env,
  nbins = 100,
  layers = names(env)[1:2],
  plot.test.data = FALSE,
  plot.points = TRUE,
  minmax = NA
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="visualize.enm_+3A_model">model</code></td>
<td>
<p>An enmtools.model object</p>
</td></tr>
<tr><td><code id="visualize.enm_+3A_env">env</code></td>
<td>
<p>A set of environmental layers</p>
</td></tr>
<tr><td><code id="visualize.enm_+3A_nbins">nbins</code></td>
<td>
<p>The number of bins per layer to use for drawing environment space</p>
</td></tr>
<tr><td><code id="visualize.enm_+3A_layers">layers</code></td>
<td>
<p>A vector of layer names to use for drawing environment space</p>
</td></tr>
<tr><td><code id="visualize.enm_+3A_plot.test.data">plot.test.data</code></td>
<td>
<p>Logical determining whether test data should be plotted, if present.  If test data is plotted, it will appear as translucent green triangles.</p>
</td></tr>
<tr><td><code id="visualize.enm_+3A_plot.points">plot.points</code></td>
<td>
<p>Logical determining whether presence points should be plotted on suitability plot</p>
</td></tr>
<tr><td><code id="visualize.enm_+3A_minmax">minmax</code></td>
<td>
<p>A named list of minima and maxima for each axis, in case the user wants to constrain or expand the space over which models are plotted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>suit.plot A list containing two dimensional plot of an ENM in environment space and a plot of the available environments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>aurelioi.glm &lt;- enmtools.glm(iberolacerta.clade$species$aurelioi, euro.worldclim,
f = pres ~ poly(bio1, 4) + poly(bio12, 4))
visualize.enm(aurelioi.glm, euro.worldclim, layers = c("bio1", "bio12"))
</code></pre>

<hr>
<h2 id='visualize.overlap'>visualize.overlap, Makes a contour map of suitability of habitat in environment space for two models</h2><span id='topic+visualize.overlap'></span>

<h3>Description</h3>

<p>visualize.overlap, Makes a contour map of suitability of habitat in environment space for two models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>visualize.overlap(
  model.1,
  model.2,
  env,
  nbins = 100,
  layers,
  plot.points = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="visualize.overlap_+3A_model.1">model.1</code></td>
<td>
<p>An enmtools.model object</p>
</td></tr>
<tr><td><code id="visualize.overlap_+3A_model.2">model.2</code></td>
<td>
<p>An enmtools.model object</p>
</td></tr>
<tr><td><code id="visualize.overlap_+3A_env">env</code></td>
<td>
<p>A set of environmental layers</p>
</td></tr>
<tr><td><code id="visualize.overlap_+3A_nbins">nbins</code></td>
<td>
<p>The number of bins per layer to use for drawing environment space</p>
</td></tr>
<tr><td><code id="visualize.overlap_+3A_layers">layers</code></td>
<td>
<p>A vector of layer names to use for drawing environment space</p>
</td></tr>
<tr><td><code id="visualize.overlap_+3A_plot.points">plot.points</code></td>
<td>
<p>Logical determining whether presence points should be plotted on suitability plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>overlap.plot A two dimensional plot of an ENM
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
ar &lt;- iberolacerta.clade$species$aranica
au &lt;- iberolacerta.clade$species$aurelioi
aranica.dm &lt;- enmtools.dm(ar, euro.worldclim)
aurelioi.dm &lt;- enmtools.dm(au, euro.worldclim)
visualize.overlap(aranica.dm, aurelioi.dm, euro.worldclim, layers = c("bio1", "bio9"))

</code></pre>

<hr>
<h2 id='wrap_list'>export</h2><span id='topic+wrap_list'></span>

<h3>Description</h3>

<p>export
</p>


<h3>Usage</h3>

<pre><code class='language-R'>wrap_list(l)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="wrap_list_+3A_l">l</code></td>
<td>
<p>A list containing species objects that need to be converted</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

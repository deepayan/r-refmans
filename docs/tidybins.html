<!DOCTYPE html><html><head><title>Help for package tidybins</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {tidybins}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#add_clusters'><p>add_clusters</p></a></li>
<li><a href='#bin_cols'><p>Bin Cols</p></a></li>
<li><a href='#bin_equal_value'><p>bin equal value</p></a></li>
<li><a href='#bin_summary'><p>summarize bins</p></a></li>
<li><a href='#drop_original_cols'><p>Drop Original Cols</p></a></li>
<li><a href='#five_number_summary'><p>five number summary</p></a></li>
<li><a href='#make_labels'><p>make labels</p></a></li>
<li><a href='#numeric_summary'><p>numeric summary</p></a></li>
<li><a href='#oner_wrapper'><p>one_wrapper</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Make Tidy Bins</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Harrison Tietze &lt;Harrison4192@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Multiple ways to bin numeric columns with a tidy output. Wraps a variety of existing binning methods into one function, and includes a new method for binning by equal value, which is useful for sales data. Provides a function to automatically summarize the properties of the binned columns. </td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://harrison4192.github.io/tidybins/">https://harrison4192.github.io/tidybins/</a>,
<a href="https://github.com/Harrison4192/tidybins">https://github.com/Harrison4192/tidybins</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Harrison4192/tidybins/issues">https://github.com/Harrison4192/tidybins/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr, dplyr, stringr, tidyselect, purrr, janitor, tibble,
rlang, lubridate, stats, scales, ggplot2, rlist, OneR, strex,
ClusterR, framecleaner, xgboost, badger, autostats</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, arulesCBA, embed, woeBinning, recipes</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-12 00:22:02 UTC; harrisontietze</td>
</tr>
<tr>
<td>Author:</td>
<td>Harrison Tietze [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-12 04:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>

<hr>
<h2 id='add_clusters'>add_clusters</h2><span id='topic+add_clusters'></span>

<h3>Description</h3>

<p>Wraps <code><a href="ClusterR.html#topic+KMeans_rcpp">KMeans_rcpp</a></code> to create a column that is a cluster formed from select columns in the data frame.
Clusters names are specified by capital letters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_clusters(.data, ..., n_clusters = 4, cluster_name = "cluster")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_clusters_+3A_.data">.data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="add_clusters_+3A_...">...</code></td>
<td>
<p>columns to cluster (tidyselect)</p>
</td></tr>
<tr><td><code id="add_clusters_+3A_n_clusters">n_clusters</code></td>
<td>
<p>integer</p>
</td></tr>
<tr><td><code id="add_clusters_+3A_cluster_name">cluster_name</code></td>
<td>
<p>column name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris %&gt;%
tibble::as_tibble() %&gt;%
add_clusters(Sepal.Width, Sepal.Length, n_clusters = 3, cluster_name = "Sepal_Cluster") -&gt; iris1

iris1

iris1 %&gt;%
numeric_summary(original_col = Sepal.Width, bucket_col = Sepal_Cluster)
</code></pre>

<hr>
<h2 id='bin_cols'>Bin Cols</h2><span id='topic+bin_cols'></span>

<h3>Description</h3>

<p>Make bins in a tidy fashion. Adds a column to your data frame containing the integer codes of the specified bins of a certain column.
Specifying multiple columns is only intended for supervised binning, so mutliple columns can be simultaneously binned
optimally with respect to a target variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bin_cols(
  .data,
  col,
  n_bins = 10,
  bin_type = "frequency",
  ...,
  target = NULL,
  pretty_labels = FALSE,
  seed = 1,
  method = "mdlp"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bin_cols_+3A_.data">.data</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_col">col</code></td>
<td>
<p>a column, vector of columns, or tidyselect</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_n_bins">n_bins</code></td>
<td>
<p>number of bins</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_bin_type">bin_type</code></td>
<td>
<p>method to make bins</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_...">...</code></td>
<td>
<p>params to be passed to selected binning method</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_target">target</code></td>
<td>
<p>unquoted column for supervised binning</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_pretty_labels">pretty_labels</code></td>
<td>
<p>logical. If T returns interval label rather than integer rank</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_seed">seed</code></td>
<td>
<p>seed for stochastic binning (xgboost)</p>
</td></tr>
<tr><td><code id="bin_cols_+3A_method">method</code></td>
<td>
<p>method for bin mdlp</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Description of the arguments for bin_type
</p>

<dl>
<dt><em>frequency (fr)</em></dt><dd><p> creates bins of equal content via quantiles. Wraps <code><a href="OneR.html#topic+bin">bin</a></code> with method &quot;content&quot;. Similar to  <code><a href="dplyr.html#topic+ntile">ntile</a></code></p>
</dd>
<dt><em>width (wi)</em></dt><dd><p> create bins of equal numeric width. Wraps <code><a href="OneR.html#topic+bin">bin</a></code> with method &quot;length&quot;</p>
</dd>
<dt><em>kmeans (km)</em></dt><dd><p> create bins using 1-dimensional kmeans. Wraps <code><a href="OneR.html#topic+bin">bin</a></code> with method &quot;clusters&quot;</p>
</dd>
<dt><em>value (va)</em></dt><dd><p> each bin has equal sum of values</p>
</dd>
<dt><em>xgboost (xg)</em></dt><dd><p> column is binned by best predictor of a target column using  <code><a href="embed.html#topic+step_discretize_xgb">step_discretize_xgb</a></code> </p>
</dd>
<dt><em>cart (ca)</em></dt><dd><p> if the col does not have enough distinct values, xgboost will fail and automatically revert to <code><a href="embed.html#topic+step_discretize_cart">step_discretize_cart</a></code> </p>
</dd>
<dt><em>woe (wo)</em></dt><dd><p> column is binned by weight of evidence. Requires binary target</p>
</dd>
<dt><em>logreg (lr)</em></dt><dd><p> column is binned by logistic regression. Requires binary target.</p>
</dd>
<dt><em>mdlp</em></dt><dd><p> uses the <code><a href="arulesCBA.html#topic+discretizeDF.supervised">discretizeDF.supervised</a></code> algorithm with a variety of methods.</p>
</dd>
</dl>



<h3>Value</h3>

<p>a data frame
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris %&gt;%
bin_cols(Sepal.Width, n_bins = 5, pretty_labels = TRUE) %&gt;%
bin_cols(Petal.Width, n_bins = 3, bin_type = c("width", "kmeans")) %&gt;%
bin_cols(Sepal.Width, bin_type = "xgboost", target = Species, seed = 1) -&gt; iris1

#binned columns are named by original name + method abbreviation + number bins created.
#Sometimes the actual number of bins is less than n_bins if the col lacks enough variance.
iris1 %&gt;%
print(width = Inf)

iris1 %&gt;%
bin_summary() %&gt;%
print(width = Inf)
</code></pre>

<hr>
<h2 id='bin_equal_value'>bin equal value</h2><span id='topic+bin_equal_value'></span>

<h3>Description</h3>

<p>Bins a numeric column such that each bin contains 10
Intended for positive numeric vectors that make sense to sum, such as sales. Negative and NAs get treated as 0.
The function never puts two rows with the same value into different bins. Accessed by the &quot;value&quot; method of the
bin_cols function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bin_equal_value(mdb, col, n_bins = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bin_equal_value_+3A_mdb">mdb</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="bin_equal_value_+3A_col">col</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
<tr><td><code id="bin_equal_value_+3A_n_bins">n_bins</code></td>
<td>
<p>number of bins</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an integer vector
</p>

<hr>
<h2 id='bin_summary'>summarize bins</h2><span id='topic+bin_summary'></span>

<h3>Description</h3>

<p>Returns a summary of all bins created by 'bin_cols' in a data frame. Takes no arguments other than the data frame
but relies on regular expressions based of the 'bin_cols' output in order to identify the corresponding columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bin_summary(mdb, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bin_summary_+3A_mdb">mdb</code></td>
<td>
<p>dataframe output from bin_cols</p>
</td></tr>
<tr><td><code id="bin_summary_+3A_...">...</code></td>
<td>
<p>optional tidyselect specification for specific cols</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris %&gt;%
bin_cols(Sepal.Width) %&gt;%
bin_summary()
</code></pre>

<hr>
<h2 id='drop_original_cols'>Drop Original Cols</h2><span id='topic+drop_original_cols'></span>

<h3>Description</h3>

<p>Drops the original column from the dataframe once bins are made.  Throws an error if the same column has multiple bin cols.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>drop_original_cols(.data, ..., restore_names = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="drop_original_cols_+3A_.data">.data</code></td>
<td>
<p>dataframe output from bin_cols</p>
</td></tr>
<tr><td><code id="drop_original_cols_+3A_...">...</code></td>
<td>
<p>tidyselect. default chooses all cols created from binning</p>
</td></tr>
<tr><td><code id="drop_original_cols_+3A_restore_names">restore_names</code></td>
<td>
<p>Logical, default FALSE. rename the binned cols with the original column names?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris %&gt;%
 bin_cols(Sepal.Length) %&gt;%
 bin_cols(Sepal.Width, pretty_labels = TRUE) -&gt; iris1

iris1

iris1 %&gt;%
 drop_original_cols(restore_names = TRUE)

iris1 %&gt;%
 drop_original_cols(restore_names = FALSE)
</code></pre>

<hr>
<h2 id='five_number_summary'>five number summary</h2><span id='topic+five_number_summary'></span>

<h3>Description</h3>

<p>The five number summary of a numeric vector you would get from 'summary' but returned with a tidy output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>five_number_summary(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="five_number_summary_+3A_x">x</code></td>
<td>
<p>a numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris$Petal.Width %&gt;%
five_number_summary()
</code></pre>

<hr>
<h2 id='make_labels'>make labels</h2><span id='topic+make_labels'></span>

<h3>Description</h3>

<p>make labels
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_labels(mdb, original_col, bucket_col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_labels_+3A_mdb">mdb</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="make_labels_+3A_original_col">original_col</code></td>
<td>
<p>original col</p>
</td></tr>
<tr><td><code id="make_labels_+3A_bucket_col">bucket_col</code></td>
<td>
<p>bucket col</p>
</td></tr>
</table>


<h3>Value</h3>

<p>dataframe
</p>

<hr>
<h2 id='numeric_summary'>numeric summary</h2><span id='topic+numeric_summary'></span>

<h3>Description</h3>

<p>This function summarizes an arbitrary bin column, with respect to its original column. Can be used to summarize
bins created from any package, or any arbitrary categorical column paired with a numeric column.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>numeric_summary(mdb, original_col, bucket_col)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="numeric_summary_+3A_mdb">mdb</code></td>
<td>
<p>a data frame</p>
</td></tr>
<tr><td><code id="numeric_summary_+3A_original_col">original_col</code></td>
<td>
<p>original numeric column</p>
</td></tr>
<tr><td><code id="numeric_summary_+3A_bucket_col">bucket_col</code></td>
<td>
<p>columns of bins</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
iris %&gt;%
numeric_summary(original_col = Sepal.Length, bucket_col = Species)

</code></pre>

<hr>
<h2 id='oner_wrapper'>one_wrapper</h2><span id='topic+oner_wrapper'></span>

<h3>Description</h3>

<p>one_wrapper
</p>


<h3>Usage</h3>

<pre><code class='language-R'>oner_wrapper(
  bin_cols,
  .data,
  abbv,
  bin_method,
  n_bins = n_bins,
  pretty_labels = pretty_labels
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="oner_wrapper_+3A_bin_cols">bin_cols</code></td>
<td>
<p>cols</p>
</td></tr>
<tr><td><code id="oner_wrapper_+3A_.data">.data</code></td>
<td>
<p>dataframe</p>
</td></tr>
<tr><td><code id="oner_wrapper_+3A_abbv">abbv</code></td>
<td>
<p>char</p>
</td></tr>
<tr><td><code id="oner_wrapper_+3A_bin_method">bin_method</code></td>
<td>
<p>char. bin method.</p>
</td></tr>
<tr><td><code id="oner_wrapper_+3A_n_bins">n_bins</code></td>
<td>
<p>integer. number of bins</p>
</td></tr>
<tr><td><code id="oner_wrapper_+3A_pretty_labels">pretty_labels</code></td>
<td>
<p>pretty_labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>output
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

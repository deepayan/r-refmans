<!DOCTYPE html><html><head><title>Help for package perryExamples</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {perryExamples}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#Bundesliga'>
<p>Austrian Bundesliga football player data</p></a></li>
<li><a href='#ladlasso'><p>LAD-lasso with penalty parameter selection</p></a></li>
<li><a href='#lasso'><p>Lasso with penalty parameter selection</p></a></li>
<li><a href='#perry-methods'><p>Resampling-based prediction error for fitted models</p></a></li>
<li><a href='#perryExamples-package'>
<p>Examples for Integrating Prediction Error Estimation into Regression Models</p></a></li>
<li><a href='#ridge'><p>Ridge regression with penalty parameter selection</p></a></li>
<li><a href='#TopGearMPG'>
<p>Top Gear fuel consumption data</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Examples for Integrating Prediction Error Estimation into
Regression Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-11-03</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.14.1), perry (&ge; 0.3.0), robustbase</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, quantreg, lars</td>
</tr>
<tr>
<td>Description:</td>
<td>Examples for integrating package 'perry' for prediction error estimation into regression models.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>Author:</td>
<td>Andreas Alfons [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-11-03 10:28:20 UTC; andreas</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-11-03 11:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='Bundesliga'>
Austrian Bundesliga football player data
</h2><span id='topic+Bundesliga'></span>

<h3>Description</h3>

<p>The data set contains information on the market value of midfielders and
forwards in the Austrian <em>Bundesliga</em>, together with player information
and performance measures.  The data are collected for the (still ongoing)
2013/14 season, with performance measures referring to competitions on the
Austrian level (Bundesliga, Cup) or the European level (UEFA Champions League,
UEFA Europa League).  Only players with complete information are included in
the data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("Bundesliga")</code></pre>


<h3>Format</h3>

<p>A data frame with 123 observations on the following 20 variables.
</p>

<dl>
<dt><code>Player</code></dt><dd><p>factor; the player's name.</p>
</dd>
<dt><code>Team</code></dt><dd><p>factor; the player's team.</p>
</dd>
<dt><code>MarketValue</code></dt><dd><p>numeric; the player's market value (in Euros).</p>
</dd>
<dt><code>Age</code></dt><dd><p>numeric; the player's age (in years).</p>
</dd>
<dt><code>Height</code></dt><dd><p>numeric; the player's height (in cm).</p>
</dd>
<dt><code>Foreign</code></dt><dd><p>a dummy variable indicating whether the player is
foreign or Austrian.</p>
</dd>
<dt><code>Forward</code></dt><dd><p>a dummy variable indicating whether the player is a
forward or midfielder.</p>
</dd>
<dt><code>BothFeet</code></dt><dd><p>a dummy variable indicating whether the player is
equally strong with both feet or has one stronger foot.</p>
</dd>
<dt><code>AtClub</code></dt><dd><p>numeric; the number of seasons the player is with his
current club (at the upcoming transfer window).</p>
</dd>
<dt><code>Contract</code></dt><dd><p>numeric; the remaining number of seasons in the
player's contract (at the upcoming transfer window).</p>
</dd>
<dt><code>Matches</code></dt><dd><p>numeric; the number of matches in which the player
was on the field.</p>
</dd>
<dt><code>Goals</code></dt><dd><p>numeric; the number of goals the player scored.</p>
</dd>
<dt><code>OwnGoals</code></dt><dd><p>numeric; the number of own goals the player scored.</p>
</dd>
<dt><code>Assists</code></dt><dd><p>numeric; the number of assists the player gave.</p>
</dd>
<dt><code>Yellow</code></dt><dd><p>numeric; the number of yellow cards the player
received.</p>
</dd>
<dt><code>YellowRed</code></dt><dd><p>numeric; the number of times the player was sent
off with two yellow cards within one game.</p>
</dd>
<dt><code>Red</code></dt><dd><p>numeric; the number of times the player was sent off with
a red card.</p>
</dd>
<dt><code>SubOn</code></dt><dd><p>numeric; the number of times the player was substituted
on.</p>
</dd>
<dt><code>SubOff</code></dt><dd><p>numeric; the number of times the player was
substituted off.</p>
</dd>
<dt><code>Minutes</code></dt><dd><p>numeric; the total number of minutes the player was
on the field.</p>
</dd>
</dl>



<h3>Source</h3>

<p>The data were scraped from <code>http://www.transfermarkt.com</code> on 2014-03-02.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Bundesliga")
summary(Bundesliga)
</code></pre>

<hr>
<h2 id='ladlasso'>LAD-lasso with penalty parameter selection</h2><span id='topic+ladlasso'></span><span id='topic+ladlasso.fit'></span>

<h3>Description</h3>

<p>Fit LAD-lasso models and select the penalty parameter by estimating the
respective prediction error via (repeated) <code class="reqn">K</code>-fold cross-validation,
(repeated) random splitting (also known as random subsampling or Monte Carlo
cross-validation), or the bootstrap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ladlasso(
  x,
  y,
  lambda,
  standardize = TRUE,
  intercept = TRUE,
  splits = foldControl(),
  cost = mape,
  selectBest = c("hastie", "min"),
  seFactor = 1,
  ncores = 1,
  cl = NULL,
  seed = NULL,
  ...
)

ladlasso.fit(x, y, lambda, standardize = TRUE, intercept = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ladlasso_+3A_x">x</code></td>
<td>
<p>a numeric matrix containing the predictor variables.</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_y">y</code></td>
<td>
<p>a numeric vector containing the response variable.</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_lambda">lambda</code></td>
<td>
<p>for <code>ladlasso</code>, a numeric vector of non-negative values
to be used as penalty parameter.  For <code>ladlasso.fit</code>, a single
non-negative value to be used as penalty parameter.</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_standardize">standardize</code></td>
<td>
<p>a logical indicating whether the predictor variables
should be standardized to have unit MAD (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_intercept">intercept</code></td>
<td>
<p>a logical indicating whether a constant term should be
included in the model (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_splits">splits</code></td>
<td>
<p>an object giving data splits to be used for prediction error
estimation (see <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_cost">cost</code></td>
<td>
<p>a cost function measuring prediction loss (see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code> for some requirements).  The
default is to use the mean absolute prediction error (see
<code><a href="perry.html#topic+cost">cost</a></code>).</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_selectbest">selectBest</code>, <code id="ladlasso_+3A_sefactor">seFactor</code></td>
<td>
<p>arguments specifying a criterion for selecting
the best model (see <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).  The default is to
use a one-standard-error rule.</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_ncores">ncores</code>, <code id="ladlasso_+3A_cl">cl</code></td>
<td>
<p>arguments for parallel computing (see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_seed">seed</code></td>
<td>
<p>optional initial seed for the random number generator (see
<code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> and <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="ladlasso_+3A_...">...</code></td>
<td>
<p>for <code>ladlasso</code>, additional arguments to be passed to the
prediction loss function <code>cost</code>.  For <code>ladlasso.fit</code>, additional
arguments to be passed to <code><a href="quantreg.html#topic+rq.fit.lasso">rq.fit.lasso</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>ladlasso</code>, an object of class <code>"perryTuning"</code>, see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).  It contains information on the
prediction error criterion, and includes the final model with the optimal
tuning paramter as component <code>finalModel</code>.
</p>
<p>For <code>ladlasso.fit</code>, an object of class <code>ladlasso</code> with the
following components:
</p>

<dl>
<dt><code>lambda</code></dt><dd><p>numeric; the value of the penalty parameter.</p>
</dd>
<dt><code>coefficients</code></dt><dd><p>a numeric vector containing the coefficient
estimates.</p>
</dd>
<dt><code>fitted.values</code></dt><dd><p>a numeric vector containing the fitted values.</p>
</dd>
<dt><code>residuals</code></dt><dd><p>a numeric vector containing the residuals.</p>
</dd>
<dt><code>standardize</code></dt><dd><p>a logical indicating whether the predictor
variables were standardized to have unit MAD.</p>
</dd>
<dt><code>intercept</code></dt><dd><p>a logical indicating whether the model includes a
constant term.</p>
</dd>
<dt><code>muX</code></dt><dd><p>a numeric vector containing the medians of the
predictors.</p>
</dd>
<dt><code>sigmaX</code></dt><dd><p>a numeric vector containing the MADs of the
predictors.</p>
</dd>
<dt><code>muY</code></dt><dd><p>numeric; the median of the response.</p>
</dd>
<dt><code>call</code></dt><dd><p>the matched function call.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Wang, H., Li, G. and Jiang, G. (2007) Robust regression shrinkage and
consistent variable selection through the LAD-lasso.  <em>Journal of
Business &amp; Economic Statistics</em>, <b>25</b>(3), 347&ndash;355.
</p>


<h3>See Also</h3>

<p><code><a href="perry.html#topic+perryTuning">perryTuning</a></code>, <code><a href="quantreg.html#topic+rq.fit.lasso">rq.fit.lasso</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data("Bundesliga")
Bundesliga &lt;- Bundesliga[, -(1:2)]
f &lt;- log(MarketValue) ~ Age + I(Age^2) + .
mf &lt;- model.frame(f, data=Bundesliga)
x &lt;- model.matrix(terms(mf), mf)[, -1]
y &lt;- model.response(mf)

## set up repeated random splits
splits &lt;- splitControl(m = 40, R = 10)

## select optimal penalty parameter
lambda &lt;- seq(40, 0, length.out = 20)
fit &lt;- ladlasso(x, y, lambda = lambda, splits = splits, seed = 2014)
fit

## plot prediction error results
plot(fit, method = "line")
</code></pre>

<hr>
<h2 id='lasso'>Lasso with penalty parameter selection</h2><span id='topic+lasso'></span><span id='topic+lasso.fit'></span>

<h3>Description</h3>

<p>Fit lasso models and select the penalty parameter by estimating the
respective prediction error via (repeated) <code class="reqn">K</code>-fold cross-validation,
(repeated) random splitting (also known as random subsampling or Monte Carlo
cross-validation), or the bootstrap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lasso(
  x,
  y,
  lambda = seq(1, 0, length.out = 50),
  mode = c("fraction", "lambda"),
  standardize = TRUE,
  intercept = TRUE,
  splits = foldControl(),
  cost = rmspe,
  selectBest = c("hastie", "min"),
  seFactor = 1,
  ncores = 1,
  cl = NULL,
  seed = NULL,
  ...
)

lasso.fit(
  x,
  y,
  lambda = seq(1, 0, length.out = 50),
  mode = c("fraction", "lambda"),
  standardize = TRUE,
  intercept = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lasso_+3A_x">x</code></td>
<td>
<p>a numeric matrix containing the predictor variables.</p>
</td></tr>
<tr><td><code id="lasso_+3A_y">y</code></td>
<td>
<p>a numeric vector containing the response variable.</p>
</td></tr>
<tr><td><code id="lasso_+3A_lambda">lambda</code></td>
<td>
<p>for <code>lasso</code>, a numeric vector of non-negative values to
be used as penalty parameter.  For <code>lasso.fit</code>, a single non-negative
value to be used as penalty parameter.</p>
</td></tr>
<tr><td><code id="lasso_+3A_mode">mode</code></td>
<td>
<p>a character string specifying the type of penalty parameter.  If
<code>"fraction"</code>, <code>lambda</code> gives the fractions of the smallest value
of the penalty parameter that sets all coefficients to 0 (hence all values
of <code>lambda</code> should be in the interval [0,1] in that case).  If
<code>"lambda"</code>, <code>lambda</code> gives the grid of values for the penalty
parameter directly.</p>
</td></tr>
<tr><td><code id="lasso_+3A_standardize">standardize</code></td>
<td>
<p>a logical indicating whether the predictor variables
should be standardized to have unit variance (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="lasso_+3A_intercept">intercept</code></td>
<td>
<p>a logical indicating whether a constant term should be
included in the model (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="lasso_+3A_splits">splits</code></td>
<td>
<p>an object giving data splits to be used for prediction error
estimation (see <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="lasso_+3A_cost">cost</code></td>
<td>
<p>a cost function measuring prediction loss (see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code> for some requirements).  The
default is to use the root mean squared prediction error (see
<code><a href="perry.html#topic+cost">cost</a></code>).</p>
</td></tr>
<tr><td><code id="lasso_+3A_selectbest">selectBest</code>, <code id="lasso_+3A_sefactor">seFactor</code></td>
<td>
<p>arguments specifying a criterion for selecting
the best model (see <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).  The default is to
use a one-standard-error rule.</p>
</td></tr>
<tr><td><code id="lasso_+3A_ncores">ncores</code>, <code id="lasso_+3A_cl">cl</code></td>
<td>
<p>arguments for parallel computing (see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="lasso_+3A_seed">seed</code></td>
<td>
<p>optional initial seed for the random number generator (see
<code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> and <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="lasso_+3A_...">...</code></td>
<td>
<p>for <code>lasso</code>, additional arguments to be passed to the
prediction loss function <code>cost</code>.  For <code>lasso.fit</code>, additional
arguments to be passed to <code><a href="lars.html#topic+lars">lars</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>lasso</code>, an object of class <code>"perryTuning"</code>, see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).  It contains information on the
prediction error criterion, and includes the final model with the optimal
tuning paramter as component <code>finalModel</code>.
</p>
<p>For <code>lasso.fit</code>, an object of class <code>lasso</code> with the following
components:
</p>

<dl>
<dt><code>lambda</code></dt><dd><p>numeric; the value of the penalty parameter.</p>
</dd>
<dt><code>coefficients</code></dt><dd><p>a numeric vector containing the coefficient
estimates.</p>
</dd>
<dt><code>fitted.values</code></dt><dd><p>a numeric vector containing the fitted values.</p>
</dd>
<dt><code>residuals</code></dt><dd><p>a numeric vector containing the residuals.</p>
</dd>
<dt><code>standardize</code></dt><dd><p>a logical indicating whether the predictor
variables were standardized to have unit variance.</p>
</dd>
<dt><code>intercept</code></dt><dd><p>a logical indicating whether the model includes a
constant term.</p>
</dd>
<dt><code>muX</code></dt><dd><p>a numeric vector containing the means of the predictors.</p>
</dd>
<dt><code>sigmaX</code></dt><dd><p>a numeric vector containing the standard deviations of
the predictors.</p>
</dd>
<dt><code>mu</code></dt><dd><p>numeric; the mean of the response.</p>
</dd>
<dt><code>call</code></dt><dd><p>the matched function call.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Tibshirani, R. (1996) Regression shrinkage and selection via the
lasso.  <em>Journal of the Royal Statistical Society, Series B</em>,
<b>58</b>(1), 267&ndash;288.
</p>


<h3>See Also</h3>

<p><code><a href="perry.html#topic+perryTuning">perryTuning</a></code>, <code><a href="lars.html#topic+lars">lars</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data("Bundesliga")
Bundesliga &lt;- Bundesliga[, -(1:2)]
f &lt;- log(MarketValue) ~ Age + I(Age^2) + .
mf &lt;- model.frame(f, data=Bundesliga)
x &lt;- model.matrix(terms(mf), mf)[, -1]
y &lt;- model.response(mf)

## set up repeated random splits
splits &lt;- splitControl(m = 40, R = 10)

## select optimal penalty parameter
fit &lt;- lasso(x, y, splits = splits, seed = 2014)
fit

## plot prediction error results
plot(fit, method = "line")
</code></pre>

<hr>
<h2 id='perry-methods'>Resampling-based prediction error for fitted models</h2><span id='topic+perry-methods'></span><span id='topic+perry.lm'></span><span id='topic+perry.lmrob'></span><span id='topic+perry.lts'></span>

<h3>Description</h3>

<p>Estimate the prediction error of a fitted model via (repeated) <code class="reqn">K</code>-fold
cross-validation, (repeated) random splitting (also known as random
subsampling or Monte Carlo cross-validation), or the bootstrap.  Methods are
available for least squares fits computed with <code><a href="stats.html#topic+lm">lm</a></code> as
well as for the following robust alternatives: MM-type models computed with
<code><a href="robustbase.html#topic+lmrob">lmrob</a></code> and least trimmed squares fits computed with
<code><a href="robustbase.html#topic+ltsReg">ltsReg</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lm'
perry(
  object,
  splits = foldControl(),
  cost = rmspe,
  ncores = 1,
  cl = NULL,
  seed = NULL,
  ...
)

## S3 method for class 'lmrob'
perry(
  object,
  splits = foldControl(),
  cost = rtmspe,
  ncores = 1,
  cl = NULL,
  seed = NULL,
  ...
)

## S3 method for class 'lts'
perry(
  object,
  splits = foldControl(),
  fit = c("reweighted", "raw", "both"),
  cost = rtmspe,
  ncores = 1,
  cl = NULL,
  seed = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="perry-methods_+3A_object">object</code></td>
<td>
<p>the fitted model for which to estimate the prediction error.</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_splits">splits</code></td>
<td>
<p>an object of class <code>"cvFolds"</code> (as returned by
<code><a href="perry.html#topic+cvFolds">cvFolds</a></code>) or a control object of class
<code>"foldControl"</code> (see <code><a href="perry.html#topic+foldControl">foldControl</a></code>) defining the
folds of the data for (repeated) <code class="reqn">K</code>-fold cross-validation, an object of
class <code>"randomSplits"</code> (as returned by
<code><a href="perry.html#topic+randomSplits">randomSplits</a></code>) or a control object of class
<code>"splitControl"</code> (see <code><a href="perry.html#topic+splitControl">splitControl</a></code>) defining
random data splits, or an object of class <code>"bootSamples"</code> (as returned
by <code><a href="perry.html#topic+bootSamples">bootSamples</a></code>) or a control object of class
<code>"bootControl"</code> (see <code><a href="perry.html#topic+bootControl">bootControl</a></code>) defining
bootstrap samples.</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_cost">cost</code></td>
<td>
<p>a cost function measuring prediction loss.  It should expect
the observed values of the response to be passed as the first argument and
the predicted values as the second argument, and must return either a
non-negative scalar value, or a list with the first component containing
the prediction error and the second component containing the standard
error.  The default is to use the root mean squared prediction error
for the <code>"lm"</code> method and the root trimmed mean squared prediction
error for the <code>"lmrob"</code> and <code>"lts"</code> methods (see
<code><a href="perry.html#topic+cost">cost</a></code>).</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_ncores">ncores</code></td>
<td>
<p>a positive integer giving the number of processor cores to be
used for parallel computing (the default is 1 for no parallelization).  If
this is set to <code>NA</code>, all available processor cores are used.</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_cl">cl</code></td>
<td>
<p>a <span class="pkg">parallel</span> cluster for parallel computing as generated by
<code><a href="parallel.html#topic+makeCluster">makeCluster</a></code>.  If supplied, this is preferred over
<code>ncores</code>.</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_seed">seed</code></td>
<td>
<p>optional initial seed for the random number generator (see
<code><a href="base.html#topic+.Random.seed">.Random.seed</a></code>).  Note that also in case of parallel computing,
resampling is performed on the manager process rather than the worker
processes. On the parallel worker processes, random number streams are
used and the seed is set via <code><a href="parallel.html#topic+clusterSetRNGStream">clusterSetRNGStream</a></code>.</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_...">...</code></td>
<td>
<p>additional arguments to be passed to the prediction loss
function <code>cost</code>.</p>
</td></tr>
<tr><td><code id="perry-methods_+3A_fit">fit</code></td>
<td>
<p>a character string specifying for which fit to estimate the
prediction error.  Possible values are <code>"reweighted"</code> (the default) for
the prediction error of the reweighted fit, <code>"raw"</code> for the prediction
error of the raw fit, or <code>"both"</code> for the prediction error of both
fits.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"perry"</code> with the following components:
</p>

<dl>
<dt><code>pe</code></dt><dd><p>a numeric vector containing the estimated prediction
errors.  For the <code>"lm"</code> and <code>"lmrob"</code> methods, this is a single
numeric value.  For the <code>"lts"</code> method, this contains one value for
each of the requested fits.  In case of more than one replication, those
are average values over all replications.</p>
</dd>
<dt><code>se</code></dt><dd><p>a numeric vector containing the estimated standard
errors of the prediction loss.  For the <code>"lm"</code> and <code>"lmrob"</code>
methods, this is a single numeric value.  For the <code>"lts"</code> method,
this contains one value for each of the requested fits.</p>
</dd>
<dt><code>reps</code></dt><dd><p>a numeric matrix containing the estimated prediction
errors from all replications.  For the <code>"lm"</code> and <code>"lmrob"</code>
methods, this is a matrix with one column.  For the <code>"lts"</code> method,
this contains one column for each of the requested fits.  However, this
is only returned in case of more than one replication.</p>
</dd>
<dt><code>splits</code></dt><dd><p>an object giving the data splits used to estimate the
prediction error.</p>
</dd>
<dt><code>y</code></dt><dd><p>the response.</p>
</dd>
<dt><code>yHat</code></dt><dd><p>a list containing the predicted values from all
replications.</p>
</dd>
<dt><code>call</code></dt><dd><p>the matched function call.</p>
</dd>
</dl>



<h3>Note</h3>

<p>The <code>perry</code> methods extract the data from the fitted model and
call <code><a href="perry.html#topic+perryFit">perryFit</a></code> to perform resampling-based prediction
error estimation.
</p>


<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>See Also</h3>

<p><code><a href="perry.html#topic+perryFit">perryFit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data("Bundesliga")
n &lt;- nrow(Bundesliga)

## fit linear model
Bundesliga$logMarketValue &lt;- log(Bundesliga$MarketValue)
fit &lt;- lm(logMarketValue ~ Contract + Matches + Goals + Assists, 
          data=Bundesliga)

## perform K-fold cross-validation
perry(fit, foldControl(K = 5, R = 10), seed = 1234)

## perform random splitting
perry(fit, splitControl(m = n/3, R = 10), seed = 1234)

## perform bootstrap prediction error estimation
# 0.632 estimator
perry(fit, bootControl(R = 10, type = "0.632"), seed = 1234)
# out-of-bag estimator
perry(fit, bootControl(R = 10, type = "out-of-bag"), seed = 1234)
</code></pre>

<hr>
<h2 id='perryExamples-package'>
Examples for Integrating Prediction Error Estimation into Regression Models
</h2><span id='topic+perryExamples-package'></span><span id='topic+perryExamples'></span>

<h3>Description</h3>

<p>Examples for integrating package 'perry' for prediction error estimation into regression models.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> perryExamples</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Examples for Integrating Prediction Error Estimation into Regression Models</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.1.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-11-03</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 2.14.1),
perry (&gt;= 0.3.0),
robustbase</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> stats, quantreg, lars</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Examples for integrating package 'perry' for prediction error estimation into regression models.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 2)</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
Authors@R: </td><td style="text-align: left;"> person("Andreas", "Alfons",
    email = "alfons@ese.eur.nl",
    role = c("aut", "cre"))</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Andreas Alfons [aut, cre]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Andreas Alfons &lt;alfons@ese.eur.nl&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
Encoding: </td><td style="text-align: left;"> UTF-8</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 7.1.2</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
Bundesliga              Austrian Bundesliga football player data
TopGearMPG              Top Gear fuel consumption data
ladlasso                LAD-lasso with penalty parameter selection
lasso                   Lasso with penalty parameter selection
perry-methods           Resampling-based prediction error for fitted
                        models
perryExamples-package   Examples for Integrating Prediction Error
                        Estimation into Regression Models
ridge                   Ridge regression with penalty parameter
                        selection
</pre>


<h3>Author(s)</h3>

<p>Andreas Alfons [aut, cre]
</p>
<p>Maintainer: Andreas Alfons &lt;alfons@ese.eur.nl&gt;
</p>

<hr>
<h2 id='ridge'>Ridge regression with penalty parameter selection</h2><span id='topic+ridge'></span><span id='topic+ridge.fit'></span>

<h3>Description</h3>

<p>Fit ridge regression models and select the penalty parameter by estimating
the respective prediction error via (repeated) <code class="reqn">K</code>-fold
cross-validation, (repeated) random splitting (also known as random
subsampling or Monte Carlo cross-validation), or the bootstrap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ridge(
  x,
  y,
  lambda,
  standardize = TRUE,
  intercept = TRUE,
  splits = foldControl(),
  cost = rmspe,
  selectBest = c("hastie", "min"),
  seFactor = 1,
  ncores = 1,
  cl = NULL,
  seed = NULL,
  ...
)

ridge.fit(x, y, lambda, standardize = TRUE, intercept = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ridge_+3A_x">x</code></td>
<td>
<p>a numeric matrix containing the predictor variables.</p>
</td></tr>
<tr><td><code id="ridge_+3A_y">y</code></td>
<td>
<p>a numeric vector containing the response variable.</p>
</td></tr>
<tr><td><code id="ridge_+3A_lambda">lambda</code></td>
<td>
<p>a numeric vector of non-negative values to be used as penalty
parameter.</p>
</td></tr>
<tr><td><code id="ridge_+3A_standardize">standardize</code></td>
<td>
<p>a logical indicating whether the predictor variables
should be standardized to have unit variance (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="ridge_+3A_intercept">intercept</code></td>
<td>
<p>a logical indicating whether a constant term should be
included in the model (the default is <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="ridge_+3A_splits">splits</code></td>
<td>
<p>an object giving data splits to be used for prediction error
estimation (see <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="ridge_+3A_cost">cost</code></td>
<td>
<p>a cost function measuring prediction loss (see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code> for some requirements).  The
default is to use the root mean squared prediction error (see
<code><a href="perry.html#topic+cost">cost</a></code>).</p>
</td></tr>
<tr><td><code id="ridge_+3A_selectbest">selectBest</code>, <code id="ridge_+3A_sefactor">seFactor</code></td>
<td>
<p>arguments specifying a criterion for selecting
the best model (see <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).  The default is to
use a one-standard-error rule.</p>
</td></tr>
<tr><td><code id="ridge_+3A_ncores">ncores</code>, <code id="ridge_+3A_cl">cl</code></td>
<td>
<p>arguments for parallel computing (see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="ridge_+3A_seed">seed</code></td>
<td>
<p>optional initial seed for the random number generator (see
<code><a href="base.html#topic+.Random.seed">.Random.seed</a></code> and <code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).</p>
</td></tr>
<tr><td><code id="ridge_+3A_...">...</code></td>
<td>
<p>for <code>ridge</code>, additional arguments to be passed to the
prediction loss function <code>cost</code>.  For <code>ridge.fit</code>, additional
arguments are currently ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>For <code>ridge</code>, an object of class <code>"perryTuning"</code>, see
<code><a href="perry.html#topic+perryTuning">perryTuning</a></code>).  It contains information on the
prediction error criterion, and includes the final model with the optimal
tuning paramter as component <code>finalModel</code>.
</p>
<p>For <code>ridge.fit</code>, an object of class <code>ridge</code> with the following
components:
</p>

<dl>
<dt><code>lambda</code></dt><dd><p>a numeric vector containing the values of the penalty
parameter.</p>
</dd>
<dt><code>coefficients</code></dt><dd><p>a numeric vector or matrix containing the
coefficient estimates.</p>
</dd>
<dt><code>fitted.values</code></dt><dd><p>a numeric vector or matrix containing the
fitted values.</p>
</dd>
<dt><code>residuals</code></dt><dd><p>a numeric vector or matrix containing the
residuals.</p>
</dd>
<dt><code>standardize</code></dt><dd><p>a logical indicating whether the predictor
variables were standardized to have unit variance.</p>
</dd>
<dt><code>intercept</code></dt><dd><p>a logical indicating whether the model includes a
constant term.</p>
</dd>
<dt><code>muX</code></dt><dd><p>a numeric vector containing the means of the predictors.</p>
</dd>
<dt><code>sigmaX</code></dt><dd><p>a numeric vector containing the standard deviations
of the predictors.</p>
</dd>
<dt><code>muY</code></dt><dd><p>numeric; the mean of the response.</p>
</dd>
<dt><code>call</code></dt><dd><p>the matched function call.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Andreas Alfons
</p>


<h3>References</h3>

<p>Hoerl, A.E. and Kennard, R.W. (1970) Ridge regression: biased estimation for
nonorthogonal problems.  <em>Technometrics</em>, <b>12</b>(1), 55&ndash;67.
</p>


<h3>See Also</h3>

<p><code><a href="perry.html#topic+perryTuning">perryTuning</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## load data
data("Bundesliga")
Bundesliga &lt;- Bundesliga[, -(1:2)]
f &lt;- log(MarketValue) ~ Age + I(Age^2) + .
mf &lt;- model.frame(f, data=Bundesliga)
x &lt;- model.matrix(terms(mf), mf)[, -1]
y &lt;- model.response(mf)

## set up repeated random splits
splits &lt;- splitControl(m = 40, R = 10)

## select optimal penalty parameter
lambda &lt;- seq(600, 0, length.out = 50)
fit &lt;- ridge(x, y, lambda = lambda, splits = splits, seed = 2014)
fit

## plot prediction error results
plot(fit, method = "line")
</code></pre>

<hr>
<h2 id='TopGearMPG'>
Top Gear fuel consumption data
</h2><span id='topic+TopGearMPG'></span>

<h3>Description</h3>

<p>The data set contains information on fuel consumption of cars featured on the
website of the popular BBC television show <em>Top Gear</em>, together with
car information and performance measures.  Only cars with complete information
are included in the data set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data("TopGearMPG")</code></pre>


<h3>Format</h3>

<p>A data frame with 255 observations on the following 11 variables.
</p>

<dl>
<dt><code>Maker</code></dt><dd><p>factor; the car maker.</p>
</dd>
<dt><code>Model</code></dt><dd><p>factor; the car model.</p>
</dd>
<dt><code>Type</code></dt><dd><p>factor; the exact model type.</p>
</dd>
<dt><code>MPG</code></dt><dd><p>numeric; the combined fuel consuption (urban + extra
urban; in miles per gallon).</p>
</dd>
<dt><code>Cylinders</code></dt><dd><p>numeric; the number of cylinders in the engine.</p>
</dd>
<dt><code>Displacement</code></dt><dd><p>numeric; the displacement of the engine (in cc).</p>
</dd>
<dt><code>BHP</code></dt><dd><p>numeric; the power of the engine (in bhp).</p>
</dd>
<dt><code>Torque</code></dt><dd><p>numeric; the torque of the engine (in lb/ft).</p>
</dd>
<dt><code>Acceleration</code></dt><dd><p>numeric; the time it takes the car to get from 0
to 62 mph (in seconds).</p>
</dd>
<dt><code>TopSpeed</code></dt><dd><p>numeric; the car's top speed (in mph).</p>
</dd>
<dt><code>Weight</code></dt><dd><p>numeric; the car's curb weight (in kg).</p>
</dd>
</dl>



<h3>Source</h3>

<p>The data were scraped from <code>http://www.topgear.com/uk/</code> on 2014-02-24.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("TopGearMPG")
plot(TopGearMPG[, -(1:3)])
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package googleway</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {googleway}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#%&gt;%'><p>Pipe</p></a></li>
<li><a href='#access_result'><p>Access Result</p></a></li>
<li><a href='#add_bicycling'><p>Add bicycling</p></a></li>
<li><a href='#add_circles'><p>Add circle</p></a></li>
<li><a href='#add_dragdrop'><p>Drag Drop Geojson</p></a></li>
<li><a href='#add_drawing'><p>Add Drawing</p></a></li>
<li><a href='#add_geojson'><p>Add GeoJson</p></a></li>
<li><a href='#add_heatmap'><p>Add heatmap</p></a></li>
<li><a href='#add_kml'><p>Add KML</p></a></li>
<li><a href='#add_markers'><p>Add markers</p></a></li>
<li><a href='#add_overlay'><p>Add Overlay</p></a></li>
<li><a href='#add_polygons'><p>Add polygon</p></a></li>
<li><a href='#add_polylines'><p>Add polyline</p></a></li>
<li><a href='#add_rectangles'><p>Add Rectangles</p></a></li>
<li><a href='#add_traffic'><p>Add Traffic</p></a></li>
<li><a href='#add_transit'><p>Add transit</p></a></li>
<li><a href='#clear_bounds'><p>Clear bounds</p></a></li>
<li><a href='#clear_circles'><p>Remove drawing</p></a></li>
<li><a href='#clear_keys'><p>Clear Keys</p></a></li>
<li><a href='#clear_search'><p>Clear search</p></a></li>
<li><a href='#decode_pl'><p>Decode PL</p></a></li>
<li><a href='#encode_pl'><p>Encode PL</p></a></li>
<li><a href='#geo_melbourne'><p>geo_melbourne</p></a></li>
<li><a href='#google_charts'><p>Google Charts</p></a></li>
<li><a href='#google_directions'><p>Google Directions</p></a></li>
<li><a href='#google_dispatch'><p>Google dispatch</p></a></li>
<li><a href='#google_distance'><p>Google Distance</p></a></li>
<li><a href='#google_elevation'><p>Google elevation</p></a></li>
<li><a href='#google_find_place'><p>Google Find Place</p></a></li>
<li><a href='#google_geocode'><p>Google geocoding</p></a></li>
<li><a href='#google_keys'><p>Google Keys</p></a></li>
<li><a href='#google_map'><p>Google map</p></a></li>
<li><a href='#google_map_directions'><p>Google Map Directions</p></a></li>
<li><a href='#google_map_panorama'><p>Google Map Panorama</p></a></li>
<li><a href='#google_map_search'><p>Google Map Search</p></a></li>
<li><a href='#google_map_update'><p>Google map update</p></a></li>
<li><a href='#google_map_url'><p>Google Map Url</p></a></li>
<li><a href='#google_map_view'><p>google map view</p></a></li>
<li><a href='#google_map-shiny'><p>Shiny bindings for google_map</p></a></li>
<li><a href='#google_nearestRoads'><p>Nearest Roads</p></a></li>
<li><a href='#google_place_autocomplete'><p>Google place autocomplete</p></a></li>
<li><a href='#google_place_details'><p>Google place details</p></a></li>
<li><a href='#google_places'><p>Google places</p></a></li>
<li><a href='#google_reverse_geocode'><p>Google reverse geocoding</p></a></li>
<li><a href='#google_snapToRoads'><p>Snap To Roads</p></a></li>
<li><a href='#google_speedLimits'><p>Speed Limits</p></a></li>
<li><a href='#google_streetview'><p>Google street view</p></a></li>
<li><a href='#google_timezone'><p>Google timezone</p></a></li>
<li><a href='#map_styles'><p>Map Styles</p></a></li>
<li><a href='#melbourne'><p>Melbourne</p></a></li>
<li><a href='#place_fields'><p>Place Fields</p></a></li>
<li><a href='#set_key'><p>Set Key</p></a></li>
<li><a href='#tram_route'><p>Tram Route</p></a></li>
<li><a href='#tram_stops'><p>Tram stops along tram route 35 in Melbourne</p></a></li>
<li><a href='#update_circles'><p>Update circles</p></a></li>
<li><a href='#update_geojson'><p>update geojson</p></a></li>
<li><a href='#update_heatmap'><p>update heatmap</p></a></li>
<li><a href='#update_polygons'><p>Update polygons</p></a></li>
<li><a href='#update_polylines'><p>Update polylines</p></a></li>
<li><a href='#update_rectangles'><p>Update rectangles</p></a></li>
<li><a href='#update_style'><p>Update style</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Accesses Google Maps APIs to Retrieve Data and Plot Maps</td>
</tr>
<tr>
<td>Version:</td>
<td>2.7.8</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-08-22</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a mechanism to plot a 'Google Map' from 'R' and overlay
    it with shapes and markers. Also provides access to 'Google Maps' APIs,
    including places, directions, roads, distances, geocoding, elevation and
    timezone.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>jsonlite (&ge; 0.9.20), curl, htmlwidgets, htmltools, magrittr,
shiny, jpeg, utils, jqr, viridisLite, scales, grDevices,
googlePolylines (&ge; 0.7.1)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/SymbolixAU/googleway/issues">https://github.com/SymbolixAU/googleway/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-21 23:00:00 UTC; dave</td>
</tr>
<tr>
<td>Author:</td>
<td>David Cooley [aut, cre],
  Paulo Barcelos [ctb] (Author of c++ decode_pl),
  Rstudio [ctb] (Functions written for the Leaflet pacakge)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>David Cooley &lt;dcooley@symbolix.com.au&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-22 06:40:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>Uses the pipe operator (<code>%&gt;%</code>) to chain statements. Useful for adding
layers to a <code>google_map</code>
</p>


<h3>Arguments</h3>

<table>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code>, <code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A google map and a layer to add to it</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

key &lt;- "your_api_key"
google_map(key = key) %&gt;%
add_traffic()


## End(Not run)
</code></pre>

<hr>
<h2 id='access_result'>Access Result</h2><span id='topic+access_result'></span><span id='topic+direction_instructions'></span><span id='topic+direction_routes'></span><span id='topic+direction_legs'></span><span id='topic+direction_steps'></span><span id='topic+direction_points'></span><span id='topic+direction_polyline'></span><span id='topic+distance_origins'></span><span id='topic+distance_destinations'></span><span id='topic+distance_elements'></span><span id='topic+elevation'></span><span id='topic+elevation_location'></span><span id='topic+geocode_coordinates'></span><span id='topic+geocode_address'></span><span id='topic+geocode_address_components'></span><span id='topic+geocode_place'></span><span id='topic+geocode_type'></span><span id='topic+place'></span><span id='topic+place_next_page'></span><span id='topic+place_name'></span><span id='topic+place_location'></span><span id='topic+place_type'></span><span id='topic+place_hours'></span><span id='topic+place_open'></span><span id='topic+nearest_roads_coordinates'></span>

<h3>Description</h3>

<p>Methods for accessing specific elements of a Google API query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>access_result(
  res,
  result = c("instructions", "routes", "legs", "steps", "points", "polyline",
    "coordinates", "address", "address_components", "geo_place_id", "dist_origins",
    "dist_destinations", "elevation", "elev_location", "place", "place_name",
    "next_page", "place_location", "place_type", "place_hours", "place_open")
)

direction_instructions(res)

direction_routes(res)

direction_legs(res)

direction_steps(res)

direction_points(res)

direction_polyline(res)

distance_origins(res)

distance_destinations(res)

distance_elements(res)

elevation(res)

elevation_location(res)

geocode_coordinates(res)

geocode_address(res)

geocode_address_components(res)

geocode_place(res)

geocode_type(res)

place(res)

place_next_page(res)

place_name(res)

place_location(res)

place_type(res)

place_hours(res)

place_open(res)

nearest_roads_coordinates(res)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="access_result_+3A_res">res</code></td>
<td>
<p>result from a Google API query</p>
</td></tr>
<tr><td><code id="access_result_+3A_result">result</code></td>
<td>
<p>the specific field of the result you want to access</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>direction_instructions</code>: the instructions from a directions query
</p>
</li>
<li> <p><code>direction_routes</code>: the routes from a directions query
</p>
</li>
<li> <p><code>direction_legs</code>: the legs from a directions query
</p>
</li>
<li> <p><code>direction_steps</code>: the steps from a directions query
</p>
</li>
<li> <p><code>direction_points</code>: the points from a directions query
</p>
</li>
<li> <p><code>direction_polyline</code>: the encoded polyline from a direction query
</p>
</li>
<li> <p><code>distance_origins</code>: the origin addresses from a distance query
</p>
</li>
<li> <p><code>distance_destinations</code>: the destination addresses from a distance query
</p>
</li>
<li> <p><code>distance_elements</code>: the element results from a distance query
</p>
</li>
<li> <p><code>elevation</code>: the elevation from an elevation query
</p>
</li>
<li> <p><code>elevation_location</code>: the elevation from an elevation query
</p>
</li>
<li> <p><code>geocode_coordinates</code>: the coordinates from a geocode or reverse geocode query
</p>
</li>
<li> <p><code>geocode_address</code>: the formatted address from a geocode or reverse geocode query
</p>
</li>
<li> <p><code>geocode_address_components</code>: the address components from a geocode or reverse geocode query
</p>
</li>
<li> <p><code>geocode_place</code>: the place id from a geocode or reverse geocode query
</p>
</li>
<li> <p><code>geocode_type</code>: the geocoded place types from a geocode or reverse geocode query
</p>
</li>
<li> <p><code>place</code>: the place_id from a places query
</p>
</li>
<li> <p><code>place_next_page</code>: the next page token from a places query
</p>
</li>
<li> <p><code>place_name</code>: the place name from a places query
</p>
</li>
<li> <p><code>place_location</code>: the location from a places query
</p>
</li>
<li> <p><code>place_type</code>: the type of place from a places query
</p>
</li>
<li> <p><code>place_hours</code>: the opening hours from a place details query
</p>
</li>
<li> <p><code>place_open</code>: the open now result from a place details query
</p>
</li>
<li> <p><code>nearest_roads_coordinates</code>: the coordinates from a nearest roads query
</p>
</li></ul>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

apiKey &lt;- "your_api_key"

## results returned as a list (simplify == TRUE)
lst &lt;- google_directions(origin = c(-37.8179746, 144.9668636),
                        destination = c(-37.81659, 144.9841),
                        mode = "walking",
                        key = apiKey,
                        simplify = TRUE)

## results returned as raw JSON character vector
js &lt;- google_directions(origin = c(-37.8179746, 144.9668636),
                         destination = c(-37.81659, 144.9841),
                        mode = "walking",
                         key = apiKey,
                         simplify = FALSE)

access_result(js, "polyline")

direction_polyline(js)


## End(Not run)
</code></pre>

<hr>
<h2 id='add_bicycling'>Add bicycling</h2><span id='topic+add_bicycling'></span>

<h3>Description</h3>

<p>Adds bicycle route information to a googleway map object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_bicycling(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_bicycling_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- "your_api_key"
google_map(key = map_key) %&gt;%
  add_bicycling()


## End(Not run)
</code></pre>

<hr>
<h2 id='add_circles'>Add circle</h2><span id='topic+add_circles'></span>

<h3>Description</h3>

<p>Add circles to a google map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_circles(
  map,
  data = get_map_data(map),
  id = NULL,
  lat = NULL,
  lon = NULL,
  polyline = NULL,
  radius = NULL,
  editable = NULL,
  draggable = NULL,
  stroke_colour = NULL,
  stroke_opacity = NULL,
  stroke_weight = NULL,
  fill_colour = NULL,
  fill_opacity = NULL,
  mouse_over = NULL,
  mouse_over_group = NULL,
  info_window = NULL,
  layer_id = NULL,
  update_map_view = TRUE,
  z_index = NULL,
  digits = 4,
  palette = NULL,
  legend = F,
  legend_options = NULL,
  load_interval = 0,
  focus_layer = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_circles_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_circles_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_id">id</code></td>
<td>
<p>string specifying the column containing an identifier for a shape</p>
</td></tr>
<tr><td><code id="add_circles_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_circles_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_circles_+3A_polyline">polyline</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the encoded polyline.
For circles and markers the encoded string will represent a single point.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_radius">radius</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing the
radius of each circle, OR a numeric value specifying the radius of all the circles
(radius is expressed in metres)</p>
</td></tr>
<tr><td><code id="add_circles_+3A_editable">editable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if the polygon
is 'editable' (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_circles_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if
the polygon is 'draggable'. The column of data should be logical (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_circles_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_circles_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_circles_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_circles_+3A_fill_colour">fill_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_circles_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill opacity of each shape, or a value between 0 and 1 that will be applied
to all the shapes</p>
</td></tr>
<tr><td><code id="add_circles_+3A_mouse_over">mouse_over</code></td>
<td>
<p>string specifying the column of data to display when the
mouse rolls over the shape</p>
</td></tr>
<tr><td><code id="add_circles_+3A_mouse_over_group">mouse_over_group</code></td>
<td>
<p>string specifying the column of data specifying which
groups of shapes to highlight on mouseover</p>
</td></tr>
<tr><td><code id="add_circles_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_circles_+3A_z_index">z_index</code></td>
<td>
<p>single value specifying where the circles appear in the layering
of the map objects. Layers with a higher <code>z_index</code> appear on top of those with
a lower <code>z_index</code>. See details.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
<tr><td><code id="add_circles_+3A_load_interval">load_interval</code></td>
<td>
<p>time in miliseconds to wait between plotting each shape</p>
</td></tr>
<tr><td><code id="add_circles_+3A_focus_layer">focus_layer</code></td>
<td>
<p>logical indicating if the map should re-centre according to this layer</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>z_index</code> values define the order in which objects appear on the map.
Those with a higher value appear on top of those with a lower value. The default
order of objects is (1 being underneath all other objects)
</p>

<ul>
<li><p>1. Polygon
</p>
</li>
<li><p>2. Rectangle
</p>
</li>
<li><p>3. Polyline
</p>
</li>
<li><p>4. Circle
</p>
</li></ul>

<p>Markers are always the top layer
</p>


<h3>palette</h3>

<p>The <code>palette</code> is used to specify the colours that will map to variables.
You can specify a single function to map to all variables, or a named list
that specifies a separate function to map to each variable. The elements must
be named either <code>fill_colour</code> or <code>stroke_colour</code>, and their values
are the colour generating functions. The default is <code>viridisLite::viridis</code>
</p>
<p>The <code>legend_options</code> can be used to control the appearance of the legend.
This should be a named list, where the names are one of
</p>

<ul>
<li><p>position - one of <code>c("TOP_LEFT", "TOP_CENTER", "TOP_RIGHT", "RIGHT_TOP",
  "RIGHT_CENTER", "RIGHT_BOTTOM", "BOTTOM_RIGHT", "BOTTOM_CENTER", "BOTTOM_LEFT",
  "LEFT_BOTTOM", "LEFT_CENTER", "LEFT_TOP")</code>
</p>
</li>
<li><p>css - a string of valid <code>css</code> for controlling the appearance of the legend
</p>
</li>
<li><p>title - a string to use for the title of the legend
</p>
</li></ul>

<p>if <code>legend_options</code> are NULL, the default values will apply
</p>
<p>If you are displaying two legends, one for <code>stroke_colour</code> and one
for <code>fill_colour</code>, you can specify different options for the different
colour attributes. See examples for <a href="#topic+add_circles">add_circles</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

google_map(key = map_key, data = tram_stops) %&gt;%
 add_circles(lat = "stop_lat", lon = "stop_lon", fill_colour = "stop_name",
 stroke_weight = 0.3, stroke_colour = "stop_name", info_window ="stop_id")

## different colour palettes
lstPalette &lt;- list(fill_colour = colorRampPalette(c("red","blue")),
    stroke_colour = viridisLite::plasma)

## set the key via set_key()
set_key(key = map_key)

google_map(data = tram_stops) %&gt;%
 add_circles(lat = "stop_lat", lon = "stop_lon", fill_colour = "stop_lat",
 stroke_weight = 2, stroke_colour = "stop_name", palette = lstPalette, legend = T)

## controlling the legend
google_map(data = tram_stops) %&gt;%
 add_circles(lat = "stop_lat", lon = "stop_lon", fill_colour = "stop_lat",
 stroke_weight = 2, stroke_colour = "stop_name",
 legend = c(fill_colour = T, stroke_colour = F),
 legend_options = list(position = "TOP_RIGHT", css = "max-height: 100px;"))

google_map(data = tram_stops) %&gt;%
 add_circles(lat = "stop_lat", lon = "stop_lon", fill_colour = "stop_lat",
 stroke_weight = 2, stroke_colour = "stop_name",
 legend = T,
 legend_options = list(
   fill_colour = list(position = "TOP_RIGHT", css = "max-height: 100px;"),
   stroke_colour = list(position = "LEFT_BOTTOM", title = "Stop Name")
   ))


 
## End(Not run)
</code></pre>

<hr>
<h2 id='add_dragdrop'>Drag Drop Geojson</h2><span id='topic+add_dragdrop'></span>

<h3>Description</h3>

<p>A function that enables you to drag data and drop it onto a map. Currently
only supports GeoJSON files / text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_dragdrop(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_dragdrop_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
</table>

<hr>
<h2 id='add_drawing'>Add Drawing</h2><span id='topic+add_drawing'></span>

<h3>Description</h3>

<p>Adds drawing tools to the map. Particularly useful when in an interactive (shiny) environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_drawing(
  map,
  drawing_modes = c("marker", "circle", "polygon", "polyline", "rectangle"),
  delete_on_change = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_drawing_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_drawing_+3A_drawing_modes">drawing_modes</code></td>
<td>
<p>string vector giving the drawing controls required.
One of one or more of marker, circle, polygon, polyline and rectangle</p>
</td></tr>
<tr><td><code id="add_drawing_+3A_delete_on_change">delete_on_change</code></td>
<td>
<p>logical indicating if the currently drawn shapes
should be deleted when a new drawing mode is selected (only works in a reactive environment)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'
google_map(key = map_key) %&gt;%
  add_drawing()


## End(Not run)
</code></pre>

<hr>
<h2 id='add_geojson'>Add GeoJson</h2><span id='topic+add_geojson'></span>

<h3>Description</h3>

<p>Add GeoJson
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_geojson(
  map,
  data = get_map_data(map),
  layer_id = NULL,
  style = NULL,
  mouse_over = FALSE,
  update_map_view = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_geojson_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_geojson_+3A_data">data</code></td>
<td>
<p>A character string or geoJSON literal of correctly formatted geoJSON</p>
</td></tr>
<tr><td><code id="add_geojson_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer.</p>
</td></tr>
<tr><td><code id="add_geojson_+3A_style">style</code></td>
<td>
<p>Style options for the geoJSON. See details</p>
</td></tr>
<tr><td><code id="add_geojson_+3A_mouse_over">mouse_over</code></td>
<td>
<p>logical indicating if a feature should be highlighted when
the mouse passess over</p>
</td></tr>
<tr><td><code id="add_geojson_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according
to the geoJSON</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The style of the geoJSON features can be defined inside the geoJSON itself,
or specified as a JSON string or R list that's used to style all the features the same
</p>
<p>To use the properties in the geoJSON to define the styles, set the <code>style</code>
argument to a JSON string or a named list, where each name is one of
</p>
<p>All Geometries
</p>

<ul>
<li><p>clickable
</p>
</li>
<li><p>visible
</p>
</li>
<li><p>zIndex
</p>
</li></ul>

<p>Point Geometries
</p>

<ul>
<li><p>cursor
</p>
</li>
<li><p>icon
</p>
</li>
<li><p>shape
</p>
</li>
<li><p>title
</p>
</li></ul>

<p>Line Geometries
</p>

<ul>
<li><p>strokeColor
</p>
</li>
<li><p>strokeOpacity
</p>
</li>
<li><p>strokeWeight
</p>
</li></ul>

<p>Polygon Geometries (Line Geometries, plus)
</p>

<ul>
<li><p>fillColor
</p>
</li>
<li><p>fillOpacity
</p>
</li></ul>

<p>and where the values are the the properties of the geoJSON that contain the relevant style
for those properties.
</p>
<p>To style all the features the same, supply a JSON string or R list that
defines a value for each of the style options (listed above)
</p>
<p>See examples.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 


## use the properties inside the geoJSON to style each feature
google_map(key = map_key) %&gt;%
  add_geojson(data = geo_melbourne)

## use a JSON string to style all features
style &lt;- '{ "fillColor" : "green" , "strokeColor" : "black", "strokeWeight" : 0.5}'
google_map(key = map_key) %&gt;%
  add_geojson(data = geo_melbourne, style = style)


## use a named list to style all features
style &lt;- list(fillColor = "red" , strokeColor = "blue", strokeWeight = 0.5)
google_map(key = map_key) %&gt;%
  add_geojson(data = geo_melbourne, style = style)

## GeoJSON from a URL
url &lt;- 'https://storage.googleapis.com/mapsdevsite/json/google.json'
google_map(key = map_key) %&gt;%
  add_geojson(data = url, mouse_over = T)


## End(Not run)

</code></pre>

<hr>
<h2 id='add_heatmap'>Add heatmap</h2><span id='topic+add_heatmap'></span>

<h3>Description</h3>

<p>Adds a heatmap to a google map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_heatmap(
  map,
  data = get_map_data(map),
  lat = NULL,
  lon = NULL,
  weight = NULL,
  option_gradient = NULL,
  option_dissipating = FALSE,
  option_radius = 0.01,
  option_opacity = 0.6,
  layer_id = NULL,
  update_map_view = TRUE,
  digits = 4,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_heatmap_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_weight">weight</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'weight'
associated with each point. If NULL, each point will get a weight of 1.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_option_gradient">option_gradient</code></td>
<td>
<p>vector of colours to use as the gradient colours. see Details</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_option_dissipating">option_dissipating</code></td>
<td>
<p>logical Specifies whether heatmaps dissipate on zoom.
When dissipating is FALSE the radius of influence increases with zoom level to
ensure that the color intensity is preserved at any given geographic location.
When set to TRUE you will likely need a greater <code>option_radius</code> value.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_option_radius">option_radius</code></td>
<td>
<p>numeric. The radius of influence for each data point, in pixels.
Defaults to 0.01</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_option_opacity">option_opacity</code></td>
<td>
<p>The opacity of the heatmap, expressed as a number between
0 and 1. Defaults to 0.6.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="add_heatmap_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The legend will only show if you supply a <code>weight</code> variable.
</p>
<p><code>option_gradient</code> colours can be two of the R colour specifications;
either a colour name (as listed by <code>colors()</code>, or a hexadecimal string of the
form <code>"#rrggbb"</code>).
</p>
<p>The first colour in the vector will be used as the colour that fades to transparent,
and is not actually mapped to any data points (and therefore won't be included
in the legend).
The last colour in the vector will be use in the centre of the 'heat'.
</p>
<p>The <code>option_gradient</code>, <code>option_dissipating</code>, <code>option_radius</code> and
<code>option_opacity</code> values apply to all points in the data.8
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

set.seed(20170417)
df &lt;- tram_route
df$weight &lt;- sample(1:10, size = nrow(df), replace = T)

google_map(key = map_key, data = df) %&gt;%
 add_heatmap(lat = "shape_pt_lat", lon = "shape_pt_lon", weight = "weight",
              option_radius = 0.001, legend = T)

## specifying different colour gradient
option_gradient &lt;- c('orange', 'blue', 'mediumpurple4', 'snow4', 'thistle1')

google_map(key = map_key, data = df) %&gt;%
 add_heatmap(lat = "shape_pt_lat", lon = "shape_pt_lon", weight = "weight",
              option_radius = 0.001, option_gradient = option_gradient, legend = T)

 
## End(Not run)
</code></pre>

<hr>
<h2 id='add_kml'>Add KML</h2><span id='topic+add_kml'></span>

<h3>Description</h3>

<p>Adds a KML layer to a map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_kml(map, kml_url, layer_id = NULL, update_map_view = TRUE, z_index = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_kml_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_kml_+3A_kml_url">kml_url</code></td>
<td>
<p>URL string specifying the location of the kml layer</p>
</td></tr>
<tr><td><code id="add_kml_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_kml_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_kml_+3A_z_index">z_index</code></td>
<td>
<p>single value specifying where the circles appear in the layering
of the map objects. Layers with a higher <code>z_index</code> appear on top of those with
a lower <code>z_index</code>. See details.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

kmlUrl &lt;- paste0('https://developers.google.com/maps/',
'documentation/javascript/examples/kml/westcampus.kml')

google_map(key = map_key) %&gt;%
  add_kml(kml_url = kmlUrl)


## End(Not run)
</code></pre>

<hr>
<h2 id='add_markers'>Add markers</h2><span id='topic+add_markers'></span>

<h3>Description</h3>

<p>Add markers to a google map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_markers(
  map,
  data = get_map_data(map),
  id = NULL,
  colour = NULL,
  lat = NULL,
  lon = NULL,
  polyline = NULL,
  title = NULL,
  draggable = NULL,
  opacity = NULL,
  label = NULL,
  info_window = NULL,
  mouse_over = NULL,
  mouse_over_group = NULL,
  marker_icon = NULL,
  layer_id = NULL,
  cluster = FALSE,
  cluster_options = list(),
  update_map_view = TRUE,
  digits = 4,
  load_interval = 0,
  focus_layer = FALSE,
  close_info_window = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_markers_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_markers_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_id">id</code></td>
<td>
<p>string specifying the column containing an identifier for a shape</p>
</td></tr>
<tr><td><code id="add_markers_+3A_colour">colour</code></td>
<td>
<p>string specifying the column containing the 'colour' to use for
the markers. One of 'red', 'blue', 'green' or 'lavender'.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_markers_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_markers_+3A_polyline">polyline</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the encoded polyline.
For circles and markers the encoded string will represent a single point.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_title">title</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'title'
of the markers. The title is displayed when you hover over a marker. If blank,
no title will be displayed for the markers.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if the
marker is 'draggable' (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_markers_+3A_opacity">opacity</code></td>
<td>
<p>string specifying the column of <code>data</code> defining the 'opacity'
of the maker. Values must be between 0 and 1 (inclusive).</p>
</td></tr>
<tr><td><code id="add_markers_+3A_label">label</code></td>
<td>
<p>string specifying the column of <code>data</code> defining the character
to appear in the centre of the marker. Values will be coerced to strings, and
only the first character will be used.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_mouse_over">mouse_over</code></td>
<td>
<p>string specifying the column of data to display when the
mouse rolls over the shape</p>
</td></tr>
<tr><td><code id="add_markers_+3A_mouse_over_group">mouse_over_group</code></td>
<td>
<p>string specifying the column of data specifying which
groups of shapes to highlight on mouseover</p>
</td></tr>
<tr><td><code id="add_markers_+3A_marker_icon">marker_icon</code></td>
<td>
<p>string specifying the column of data containing a link/URL to
an image to use for a marker</p>
</td></tr>
<tr><td><code id="add_markers_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_cluster">cluster</code></td>
<td>
<p>logical indicating if co-located markers should be clustered
when the map zoomed out</p>
</td></tr>
<tr><td><code id="add_markers_+3A_cluster_options">cluster_options</code></td>
<td>
<p>list of options used in clustering. See details.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_markers_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_markers_+3A_load_interval">load_interval</code></td>
<td>
<p>time in miliseconds to wait between plotting each shape</p>
</td></tr>
<tr><td><code id="add_markers_+3A_focus_layer">focus_layer</code></td>
<td>
<p>logical indicating if the map should re-centre according to this layer</p>
</td></tr>
<tr><td><code id="add_markers_+3A_close_info_window">close_info_window</code></td>
<td>
<p>logical indicating if all <code>info_windows</code> should close
when the user clicks on the map</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Cluster Options can be supplied as a named list. The available names are
</p>

<ul>
<li><p>gridSize (number) - The grid size of a cluster in pixels
</p>
</li>
<li><p>maxZoom (number) - The maximum zoom level that a marker can be part of a cluster
</p>
</li>
<li><p>zoomOnClick (logical) - Whether the default behaviour of clicking on a cluster is to
zoom into it
</p>
</li>
<li><p>averageCenter (logical) - Whether the center of each cluster should be the
average of all markers in the cluster
</p>
</li>
<li><p>minimumClusterSize (number) - The minimum number of markers required for a cluster
</p>
</li></ul>

<p>opts &lt;- list(
minimumClusterSize = 3
)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- "your api key"

google_map(
  key = map_key
  , data = tram_stops
  ) %&gt;%
 add_markers(
   lat = "stop_lat"
   , lon = "stop_lon"
   , info_window = "stop_name"
   )


## using marker icons
iconUrl &lt;- paste0("https://developers.google.com/maps/documentation/",
"javascript/examples/full/images/beachflag.png")

tram_stops$icon &lt;- iconUrl

google_map(
  key = map_key
  , data = tram_stops
  ) %&gt;%
  add_markers(
    lat = "stop_lat"
    , lon = "stop_lon"
    , marker_icon = "icon"
  )

## Clustering
google_map(
  key = map_key
  , data = tram_stops
  ) %&gt;%
 add_markers(
   lat = "stop_lat"
   , lon = "stop_lon"
   , info_window = "stop_name"
   , cluster = TRUE
   , cluster_options = list( minimumClusterSize = 5 )
   )


## End(Not run)
</code></pre>

<hr>
<h2 id='add_overlay'>Add Overlay</h2><span id='topic+add_overlay'></span>

<h3>Description</h3>

<p>Adds a ground overlay to a map. The overlay can only be added from a URL
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_overlay(
  map,
  north,
  east,
  south,
  west,
  overlay_url,
  layer_id = NULL,
  digits = 4,
  update_map_view = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_overlay_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_overlay_+3A_north">north</code></td>
<td>
<p>northern-most latitude coordinate</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_east">east</code></td>
<td>
<p>eastern-most longitude</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_south">south</code></td>
<td>
<p>southern-most latitude coordinate</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_west">west</code></td>
<td>
<p>western-most longitude</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_overlay_url">overlay_url</code></td>
<td>
<p>URL string specifying the location of the overlay layer</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer.</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_overlay_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical. Use this parameter to specify if the map should
re-centre according to the overlay extent.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

google_map(key = map_key) %&gt;%
  add_overlay(north = 40.773941, south = 40.712216, east = -74.12544, west = -74.22655,
               overlay_url = "https://www.lib.utexas.edu/maps/historical/newark_nj_1922.jpg")


url &lt;- paste0("https://developers.google.com/maps/documentation/javascript",
  "/examples/full/images/talkeetna.png")

google_map(key = map_key) %&gt;%
  add_overlay(north = 62.400471, south = 62.281819, east = -150.005608, west = -150.287132,
               overlay_url = url)



## End(Not run)
</code></pre>

<hr>
<h2 id='add_polygons'>Add polygon</h2><span id='topic+add_polygons'></span>

<h3>Description</h3>

<p>Add a polygon to a google map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_polygons(
  map,
  data = get_map_data(map),
  polyline = NULL,
  lat = NULL,
  lon = NULL,
  id = NULL,
  pathId = NULL,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  fill_colour = NULL,
  fill_opacity = NULL,
  info_window = NULL,
  mouse_over = NULL,
  mouse_over_group = NULL,
  draggable = NULL,
  editable = NULL,
  update_map_view = TRUE,
  layer_id = NULL,
  z_index = NULL,
  digits = 4,
  palette = NULL,
  legend = F,
  legend_options = NULL,
  load_interval = 0,
  focus_layer = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_polygons_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_polygons_+3A_data">data</code></td>
<td>
<p>data frame containing at least a <code>polyline</code> column,
or a <code>lat</code> and a <code>lon</code> column. If Null, the data passed into
<code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_polyline">polyline</code></td>
<td>
<p>string specifying the column of <code>data</code> containing
the encoded polyline</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_id">id</code></td>
<td>
<p>string specifying the column containing an identifier for a shape</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_pathid">pathId</code></td>
<td>
<p>string specifying the column containing an identifer for each
path that forms the complete polygon. Not required when using <code>polyline</code>,
as each polyline is itself a path.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_fill_colour">fill_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill opacity of each shape, or a value between 0 and 1 that will be applied
to all the shapes</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_mouse_over">mouse_over</code></td>
<td>
<p>string specifying the column of data to display when the
mouse rolls over the shape</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_mouse_over_group">mouse_over_group</code></td>
<td>
<p>string specifying the column of data specifying which
groups of shapes to highlight on mouseover</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if
the polygon is 'draggable'. The column of data should be logical (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_editable">editable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if the polygon
is 'editable' (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_z_index">z_index</code></td>
<td>
<p>single value specifying where the circles appear in the layering
of the map objects. Layers with a higher <code>z_index</code> appear on top of those with
a lower <code>z_index</code>. See details.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_load_interval">load_interval</code></td>
<td>
<p>time in miliseconds to wait between plotting each shape</p>
</td></tr>
<tr><td><code id="add_polygons_+3A_focus_layer">focus_layer</code></td>
<td>
<p>logical indicating if the map should re-centre according to this layer</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>z_index</code> values define the order in which objects appear on the map.
Those with a higher value appear on top of those with a lower value. The default
order of objects is (1 being underneath all other objects)
</p>

<ul>
<li><p>1. Polygon
</p>
</li>
<li><p>2. Rectangle
</p>
</li>
<li><p>3. Polyline
</p>
</li>
<li><p>4. Circle
</p>
</li></ul>

<p>Markers are always the top layer
</p>


<h3>palette</h3>

<p>The <code>palette</code> is used to specify the colours that will map to variables.
You can specify a single function to map to all variables, or a named list
that specifies a separate function to map to each variable. The elements must
be named either <code>fill_colour</code> or <code>stroke_colour</code>, and their values
are the colour generating functions. The default is <code>viridisLite::viridis</code>
</p>
<p>The <code>legend_options</code> can be used to control the appearance of the legend.
This should be a named list, where the names are one of
</p>

<ul>
<li><p>position - one of <code>c("TOP_LEFT", "TOP_CENTER", "TOP_RIGHT", "RIGHT_TOP",
  "RIGHT_CENTER", "RIGHT_BOTTOM", "BOTTOM_RIGHT", "BOTTOM_CENTER", "BOTTOM_LEFT",
  "LEFT_BOTTOM", "LEFT_CENTER", "LEFT_TOP")</code>
</p>
</li>
<li><p>css - a string of valid <code>css</code> for controlling the appearance of the legend
</p>
</li>
<li><p>title - a string to use for the title of the legend
</p>
</li></ul>

<p>if <code>legend_options</code> are NULL, the default values will apply
</p>
<p>If you are displaying two legends, one for <code>stroke_colour</code> and one
for <code>fill_colour</code>, you can specify different options for the different
colour attributes. See examples for <a href="#topic+add_circles">add_circles</a>.
</p>


<h3>Note</h3>

<p>A polygon represents an area enclosed by a closed path. Polygon objects
are similar to polylines in that they consist of a series of coordinates in an ordered sequence.
Polygon objects can describe complex shapes, including
</p>

<ul>
<li><p>Multiple non-contiguous areas defined by a single polygon
</p>
</li>
<li><p>Areas with holes in them
</p>
</li>
<li><p>Intersections of one or more areas
</p>
</li></ul>

<p>To define a complex shape, you use a polygon with multiple paths.
</p>
<p>To create a hole in a polygon, you need to create two paths, one inside the other.
To create the hole, the coordinates of the inner path must be wound in the opposite
order to those defining the outer path. For example, if the coordinates of
the outer path are in clockwise order, then the inner path must be anti-clockwise.
</p>
<p>You can represent a polygon in one of three ways
</p>

<ul>
<li><p>as a series of coordinates defining a path (or paths) with both an
<code>id</code> and <code>pathId</code> argument that make up the polygon
</p>
</li>
<li><p>as an encoded polyline using an <code>id</code> column to specify multiple
polylines for a polygon
</p>
</li>
<li><p>as a list column in a data.frame, where each row of the data.frame
contains the polylines that comprise the polygon
</p>
</li></ul>

<p>See Examples
</p>


<h3>See Also</h3>

<p><a href="#topic+encode_pl">encode_pl</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

## polygon with a hole - Bermuda triangle
## using one row per polygon, and a list-column of encoded polylines
pl_outer &lt;- encode_pl(lat = c(25.774, 18.466,32.321),
      lon = c(-80.190, -66.118, -64.757))

pl_inner &lt;- encode_pl(lat = c(28.745, 29.570, 27.339),
       lon = c(-70.579, -67.514, -66.668))

df &lt;- data.frame(id = c(1, 1),
       polyline = c(pl_outer, pl_inner),
       stringsAsFactors = FALSE)

df &lt;- aggregate(polyline ~ id, data = df, list)

google_map(key = map_key, height = 800) %&gt;%
    add_polygons(data = df, polyline = "polyline")

## the same polygon, but using an 'id' to specify the polygon
df &lt;- data.frame(id = c(1,1),
       polyline = c(pl_outer, pl_inner),
       stringsAsFactors = FALSE)

google_map(key = map_key, height = 800) %&gt;%
    add_polygons(data = df, polyline = "polyline", id = "id")

## the same polygon, specified using coordinates, and with a second independent
## polygon
df &lt;- data.frame(myId = c(1,1,1,1,1,1,2,2,2),
      lineId = c(1,1,1,2,2,2,1,1,1),
      lat = c(26.774, 18.466, 32.321, 28.745, 29.570, 27.339, 22, 23, 22),
      lon = c(-80.190, -66.118, -64.757, -70.579, -67.514, -66.668, -50, -49, -51),
      colour = c(rep("#00FF0F", 6), rep("#FF00FF", 3)),
      stringsAsFactors = FALSE)

google_map(key = map_key) %&gt;%
  add_polygons(data = df, lat = 'lat', lon = 'lon', id = 'myId', pathId = 'lineId',
               fill_colour = 'colour')




## End(Not run)

</code></pre>

<hr>
<h2 id='add_polylines'>Add polyline</h2><span id='topic+add_polylines'></span>

<h3>Description</h3>

<p>Add a polyline to a google map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_polylines(
  map,
  data = get_map_data(map),
  polyline = NULL,
  lat = NULL,
  lon = NULL,
  id = NULL,
  geodesic = NULL,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  info_window = NULL,
  mouse_over = NULL,
  mouse_over_group = NULL,
  draggable = NULL,
  editable = NULL,
  update_map_view = TRUE,
  layer_id = NULL,
  z_index = NULL,
  digits = 4,
  palette = NULL,
  legend = F,
  legend_options = NULL,
  load_interval = 0,
  focus_layer = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_polylines_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_polylines_+3A_data">data</code></td>
<td>
<p>data frame containing at least a <code>polyline</code> column,
or a <code>lat</code> and a <code>lon</code> column. If Null, the data passed into
<code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_polyline">polyline</code></td>
<td>
<p>string specifying the column of <code>data</code> containing
the encoded polyline</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_id">id</code></td>
<td>
<p>string specifying the column containing an identifier for a shape</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_geodesic">geodesic</code></td>
<td>
<p>logical</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_mouse_over">mouse_over</code></td>
<td>
<p>string specifying the column of data to display when the
mouse rolls over the shape</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_mouse_over_group">mouse_over_group</code></td>
<td>
<p>string specifying the column of data specifying which
groups of shapes to highlight on mouseover</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if
the polygon is 'draggable'. The column of data should be logical (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_editable">editable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if the polygon
is 'editable' (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_z_index">z_index</code></td>
<td>
<p>single value specifying where the circles appear in the layering
of the map objects. Layers with a higher <code>z_index</code> appear on top of those with
a lower <code>z_index</code>. See details.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_load_interval">load_interval</code></td>
<td>
<p>time in miliseconds to wait between plotting each shape</p>
</td></tr>
<tr><td><code id="add_polylines_+3A_focus_layer">focus_layer</code></td>
<td>
<p>logical indicating if the map should re-centre according to this layer</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>z_index</code> values define the order in which objects appear on the map.
Those with a higher value appear on top of those with a lower value. The default
order of objects is (1 being underneath all other objects)
</p>

<ul>
<li><p>1. Polygon
</p>
</li>
<li><p>2. Rectangle
</p>
</li>
<li><p>3. Polyline
</p>
</li>
<li><p>4. Circle
</p>
</li></ul>

<p>Markers are always the top layer
</p>


<h3>palette</h3>

<p>The <code>palette</code> is used to specify the colours that will map to variables.
You can specify a single function to map to all variables, or a named list
that specifies a separate function to map to each variable. The elements must
be named either <code>fill_colour</code> or <code>stroke_colour</code>, and their values
are the colour generating functions. The default is <code>viridisLite::viridis</code>
</p>
<p>The <code>legend_options</code> can be used to control the appearance of the legend.
This should be a named list, where the names are one of
</p>

<ul>
<li><p>position - one of <code>c("TOP_LEFT", "TOP_CENTER", "TOP_RIGHT", "RIGHT_TOP",
  "RIGHT_CENTER", "RIGHT_BOTTOM", "BOTTOM_RIGHT", "BOTTOM_CENTER", "BOTTOM_LEFT",
  "LEFT_BOTTOM", "LEFT_CENTER", "LEFT_TOP")</code>
</p>
</li>
<li><p>css - a string of valid <code>css</code> for controlling the appearance of the legend
</p>
</li>
<li><p>title - a string to use for the title of the legend
</p>
</li></ul>

<p>if <code>legend_options</code> are NULL, the default values will apply
</p>
<p>If you are displaying two legends, one for <code>stroke_colour</code> and one
for <code>fill_colour</code>, you can specify different options for the different
colour attributes. See examples for <a href="#topic+add_circles">add_circles</a>.
</p>


<h3>Note</h3>

<p>The lines can be generated by either using an encoded polyline, or by a
set of lat/lon coordinates.
You sould specify either the column containing an encoded polyline, OR the
lat / lon colulmns.
</p>
<p>Using <code>update_map_view = TRUE</code> for multiple polylines may be slow, so it
may be more appropriate to set the view of the map using the location argument
of <code>google_map()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## using lat/lon coordinates

set_key("your_api_key")

google_map(data = tram_route) %&gt;%
  add_polylines(lat = "shape_pt_lat", lon = "shape_pt_lon")


google_map() %&gt;%
  add_polylines(data = melbourne, polyline = "polyline", stroke_weight = 1,
      stroke_colour = "SA4_NAME")

## using encoded polyline and various colour / fill options
url &lt;- 'https://raw.githubusercontent.com/plotly/datasets/master/2011_february_aa_flight_paths.csv'
flights &lt;- read.csv(url)
flights$id &lt;- seq_len(nrow(flights))


## encode the routes as polylines
lst &lt;- lapply(unique(flights$id), function(x){
  lat = c(flights[flights["id"] == x, c("start_lat")], flights[flights["id"] == x, c("end_lat")])
  lon = c(flights[flights["id"] == x, c("start_lon")], flights[flights["id"] == x, c("end_lon")])
  data.frame(id = x, polyline = encode_pl(lat = lat, lon = lon))
})

flights &lt;- merge(flights, do.call(rbind, lst), by = "id")

style &lt;- map_styles()$night

google_map(key = map_key, style = style) %&gt;%
  add_polylines(data = flights, polyline = "polyline", mouse_over_group = "airport1",
               stroke_weight = 1, stroke_opacity = 0.3, stroke_colour = "#ccffff")



## End(Not run)
</code></pre>

<hr>
<h2 id='add_rectangles'>Add Rectangles</h2><span id='topic+add_rectangles'></span>

<h3>Description</h3>

<p>Adds a rectangle to a google map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_rectangles(
  map,
  data = get_map_data(map),
  north,
  east,
  south,
  west,
  id = NULL,
  draggable = NULL,
  editable = NULL,
  stroke_colour = NULL,
  stroke_opacity = NULL,
  stroke_weight = NULL,
  fill_colour = NULL,
  fill_opacity = NULL,
  mouse_over = NULL,
  mouse_over_group = NULL,
  info_window = NULL,
  layer_id = NULL,
  update_map_view = TRUE,
  z_index = NULL,
  digits = 4,
  palette = NULL,
  legend = F,
  legend_options = NULL,
  load_interval = 0,
  focus_layer = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_rectangles_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_data">data</code></td>
<td>
<p>data frame containing the bounds for the rectangles</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_north">north</code></td>
<td>
<p>String specifying the column of <code>data</code> that contains the
northern most latitude coordinate</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_east">east</code></td>
<td>
<p>String specifying the column of <code>data</code> that contains the
eastern most longitude</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_south">south</code></td>
<td>
<p>String specifying the column of <code>data</code> that contains the
southern most latitude coordinate</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_west">west</code></td>
<td>
<p>String specifying the column of <code>data</code> that contains the
western most longitude</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_id">id</code></td>
<td>
<p>string specifying the column containing an identifier for a shape</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if
the polygon is 'draggable'. The column of data should be logical (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_editable">editable</code></td>
<td>
<p>String specifying the column of <code>data</code> that indicates if the
rectangle is editable. The value in the column should be logical</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_fill_colour">fill_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill opacity of each shape, or a value between 0 and 1 that will be applied
to all the shapes</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_mouse_over">mouse_over</code></td>
<td>
<p>string specifying the column of data to display when the
mouse rolls over the shape</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_mouse_over_group">mouse_over_group</code></td>
<td>
<p>string specifying the column of data specifying which
groups of shapes to highlight on mouseover</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_z_index">z_index</code></td>
<td>
<p>single value specifying where the circles appear in the layering
of the map objects. Layers with a higher <code>z_index</code> appear on top of those with
a lower <code>z_index</code>. See details.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_load_interval">load_interval</code></td>
<td>
<p>time in miliseconds to wait between plotting each shape</p>
</td></tr>
<tr><td><code id="add_rectangles_+3A_focus_layer">focus_layer</code></td>
<td>
<p>logical indicating if the map should re-centre according to this layer</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>z_index</code> values define the order in which objects appear on the map.
Those with a higher value appear on top of those with a lower value. The default
order of objects is (1 being underneath all other objects)
</p>

<ul>
<li><p>1. Polygon
</p>
</li>
<li><p>2. Rectangle
</p>
</li>
<li><p>3. Polyline
</p>
</li>
<li><p>4. Circle
</p>
</li></ul>

<p>Markers are always the top layer
</p>


<h3>palette</h3>

<p>The <code>palette</code> is used to specify the colours that will map to variables.
You can specify a single function to map to all variables, or a named list
that specifies a separate function to map to each variable. The elements must
be named either <code>fill_colour</code> or <code>stroke_colour</code>, and their values
are the colour generating functions. The default is <code>viridisLite::viridis</code>
</p>
<p>The <code>legend_options</code> can be used to control the appearance of the legend.
This should be a named list, where the names are one of
</p>

<ul>
<li><p>position - one of <code>c("TOP_LEFT", "TOP_CENTER", "TOP_RIGHT", "RIGHT_TOP",
  "RIGHT_CENTER", "RIGHT_BOTTOM", "BOTTOM_RIGHT", "BOTTOM_CENTER", "BOTTOM_LEFT",
  "LEFT_BOTTOM", "LEFT_CENTER", "LEFT_TOP")</code>
</p>
</li>
<li><p>css - a string of valid <code>css</code> for controlling the appearance of the legend
</p>
</li>
<li><p>title - a string to use for the title of the legend
</p>
</li></ul>

<p>if <code>legend_options</code> are NULL, the default values will apply
</p>
<p>If you are displaying two legends, one for <code>stroke_colour</code> and one
for <code>fill_colour</code>, you can specify different options for the different
colour attributes. See examples for <a href="#topic+add_circles">add_circles</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

df &lt;- data.frame(north = 33.685, south = 33.671, east = -116.234, west = -116.251)

google_map(key = map_key) %&gt;%
  add_rectangles(data = df, north = 'north', south = 'south',
                 east = 'east', west = 'west')

## editable rectangle
df &lt;- data.frame(north = -37.8459, south = -37.8508, east = 144.9378,
                  west = 144.9236, editable = T, draggable = T)

google_map(key = map_key) %&gt;%
  add_rectangles(data = df, north = 'north', south = 'south',
                 east = 'east', west = 'west',
                 editable = 'editable', draggable = 'draggable')


## End(Not run)
</code></pre>

<hr>
<h2 id='add_traffic'>Add Traffic</h2><span id='topic+add_traffic'></span>

<h3>Description</h3>

<p>Adds live traffic information to a googleway map object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_traffic(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_traffic_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'
google_map(key = map_key) %&gt;%
  add_traffic()


## End(Not run)
</code></pre>

<hr>
<h2 id='add_transit'>Add transit</h2><span id='topic+add_transit'></span>

<h3>Description</h3>

<p>Adds public transport information to a googleway map object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_transit(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_transit_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'
google_map(key = map_key) %&gt;%
  add_transit()


## End(Not run)
</code></pre>

<hr>
<h2 id='clear_bounds'>Clear bounds</h2><span id='topic+clear_bounds'></span>

<h3>Description</h3>

<p>A helper function to clear the javascript array of lat/lon bounds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_bounds(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clear_bounds_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
</table>

<hr>
<h2 id='clear_circles'>Remove drawing</h2><span id='topic+clear_circles'></span><span id='topic+clear_drawing'></span><span id='topic+remove_drawing'></span><span id='topic+clear_fusion'></span><span id='topic+clear_geojson'></span><span id='topic+clear_heatmap'></span><span id='topic+clear_kml'></span><span id='topic+clear'></span><span id='topic+clear_markers'></span><span id='topic+clear_overlay'></span><span id='topic+clear_polygons'></span><span id='topic+clear_polylines'></span><span id='topic+clear_rectangles'></span><span id='topic+clear_traffic'></span><span id='topic+clear_transit'></span><span id='topic+clear_bicycling'></span>

<h3>Description</h3>

<p>clears elements from a map
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_circles(map, layer_id = NULL)

clear_drawing(map)

remove_drawing(map)

clear_fusion(map, layer_id = NULL)

clear_geojson(map, layer_id = NULL)

clear_heatmap(map, layer_id = NULL)

clear_kml(map, layer_id = NULL)

clear_markers(map, layer_id = NULL)

clear_overlay(map, layer_id = NULL)

clear_polygons(map, layer_id = NULL)

clear_polylines(map, layer_id = NULL)

clear_rectangles(map, layer_id = NULL)

clear_traffic(map)

clear_transit(map)

clear_bicycling(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clear_circles_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="clear_circles_+3A_layer_id">layer_id</code></td>
<td>
<p>id value of the layer to be removed from the map</p>
</td></tr>
</table>


<h3>Functions</h3>


<ul>
<li> <p><code>remove_drawing</code>: removes drawing controls from a map
</p>
</li></ul>


<h3>Note</h3>

<p>These operations are intended for use in conjunction with
<a href="#topic+google_map_update">google_map_update</a> in an interactive shiny environment
</p>

<hr>
<h2 id='clear_keys'>Clear Keys</h2><span id='topic+clear_keys'></span>

<h3>Description</h3>

<p>Clears all the API keys
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_keys()
</code></pre>

<hr>
<h2 id='clear_search'>Clear search</h2><span id='topic+clear_search'></span>

<h3>Description</h3>

<p>clears the markers placed on the map after using the search box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clear_search(map)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clear_search_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
</table>

<hr>
<h2 id='decode_pl'>Decode PL</h2><span id='topic+decode_pl'></span>

<h3>Description</h3>

<p>Decodes an encoded polyline into the series of lat/lon coordinates that specify the path
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decode_pl(encoded)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="decode_pl_+3A_encoded">encoded</code></td>
<td>
<p>String. An encoded polyline</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame of lat/lon coordinates
</p>


<h3>Note</h3>

<p>An encoded polyline is generated from google's polyline encoding algorithm (<a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm">https://developers.google.com/maps/documentation/utilities/polylinealgorithm</a>).
</p>


<h3>See Also</h3>

<p><a href="#topic+encode_pl">encode_pl</a>, <a href="#topic+google_directions">google_directions</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## polyline joining the capital cities of Australian states
pl &lt;- "nnseFmpzsZgalNytrXetrG}krKsaif@kivIccvzAvvqfClp~uBlymzA~ocQ}_}iCthxo@srst@"

df_polyline &lt;- decode_pl(pl)
df_polyline
</code></pre>

<hr>
<h2 id='encode_pl'>Encode PL</h2><span id='topic+encode_pl'></span>

<h3>Description</h3>

<p>Encodes a series of lat/lon coordinates that specify a path into an encoded polyline
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encode_pl(lat, lon)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="encode_pl_+3A_lat">lat</code></td>
<td>
<p>vector of latitude coordinates</p>
</td></tr>
<tr><td><code id="encode_pl_+3A_lon">lon</code></td>
<td>
<p>vector of longitude coordinates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>string encoded polyline
</p>


<h3>Note</h3>

<p>An encoded polyline is generated from google's polyline encoding algorithm (<a href="https://developers.google.com/maps/documentation/utilities/polylinealgorithm">https://developers.google.com/maps/documentation/utilities/polylinealgorithm</a>).
</p>


<h3>See Also</h3>

<p><a href="#topic+decode_pl">decode_pl</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>encode_pl(lat = c(38.5, 40.7, 43.252), lon = c(-120.2, -120.95, -126.453))
## "_p~iF~ps|U_ulLnnqC_mqNvxq`@"


</code></pre>

<hr>
<h2 id='geo_melbourne'>geo_melbourne</h2><span id='topic+geo_melbourne'></span>

<h3>Description</h3>

<p>GeoJSON data of Melbourne's Inner suburbs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geo_melbourne
</code></pre>


<h3>Format</h3>

<p>An object of class <code>json</code> (inherits from <code>geo_json</code>) of length 1.
</p>


<h3>Details</h3>

<p>This is a subset of the <code>melbourne</code> data.
</p>

<hr>
<h2 id='google_charts'>Google Charts</h2><span id='topic+google_charts'></span>

<h3>Description</h3>

<p>Google Charts can be displayed inside an <code>info_window</code>
</p>


<h3><code>info_window</code></h3>

<p>When using a chart in an <code>info_window</code> you need to use a <code>list</code> with at least
two elements named <code>data</code> and <code>type</code>. You can also use a third element called <code>options</code>
for controlling the appearance of the chart.
</p>
<p>You must also supply the <code>id</code> argument to the layer your are adding (e.g. <code>add_markers()</code>),
and the <strong><code>data</code></strong> must have a column with the same name as the <code>id</code> (and therefore
the same name as the <code>id</code> column in the original <code>data</code> supplied to the <code>add_</code> function).
</p>
<p>See the specific chart sections for details on how to structure the <code>data</code>.
</p>


<h3>chart types</h3>

<p>the <code>type</code> element can be one of
</p>

<ul>
<li> <p><code>area</code>
</p>
</li>
<li> <p><code>bar</code>
</p>
</li>
<li> <p><code>bubble</code>
</p>
</li>
<li> <p><code>candlestick</code>
</p>
</li>
<li> <p><code>column</code>
</p>
</li>
<li> <p><code>combo</code>
</p>
</li>
<li> <p><code>histogram</code>
</p>
</li>
<li> <p><code>line</code>
</p>
</li>
<li> <p><code>pie</code>
</p>
</li>
<li> <p><code>scatter</code>
</p>
</li></ul>



<h3>Area</h3>

<p><strong>data</strong>
</p>
<p>An area chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third or more columns: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>area</code>
</p>
<p><strong>options</strong>
see the area charts documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/areachart">https://developers.google.com/chart/interactive/docs/gallery/areachart</a>
</p>
<p>Each row of data represents a data point at the same x-axis location
</p>


<h3>Bar</h3>

<p><strong>data</strong>
</p>
<p>A bar chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third or more columns: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>bar</code>
</p>
<p><strong>options</strong>
</p>
<p>See the bar chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/barchart">https://developers.google.com/chart/interactive/docs/gallery/barchart</a>
</p>


<h3>Bubble</h3>

<p><strong>data</strong>
</p>
<p>A bubble chart requires a <code>data.frame</code> of at least four, and at most six columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third column: x-axis value
</p>
</li>
<li><p> Fourth column: y-axis value
</p>
</li>
<li><p> Fith column: visualised as colour
</p>
</li>
<li><p> Sixth column: visualised as size
</p>
</li></ol>

<p><strong>type</strong> - <code>bubble</code>
</p>
<p><strong>options</strong>
</p>
<p>See the bubble chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/bubblechart">https://developers.google.com/chart/interactive/docs/gallery/bubblechart</a>
</p>


<h3>Candlestick</h3>

<p><strong>data</strong>
</p>
<p>A candlestick chart requires a <code>data.frame</code> of at least six columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third column: Number specifying the 'low' number for the data
</p>
</li>
<li><p> Fourth column: Number specifying the opening/initial value of the data.
This is one vertical border of the candle. If less than the column 4 value,
the candle will be filled; otherwise it will be hollow.
</p>
</li>
<li><p> Fith column: Number specifying the closing/final value of the data.
This is the second vertical border of the candle. If less than the column 3 value,
the candle will be hollow; otherwise it will be filled.
</p>
</li>
<li><p> Sixth column: Number specifying the high/maximum value of this marker.
This is the top of the candle's center line.
</p>
</li></ol>

<p><strong>type</strong> - <code>candlestick</code>
</p>
<p><strong>options</strong>
</p>
<p>See the candlestick chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/candlestickchart">https://developers.google.com/chart/interactive/docs/gallery/candlestickchart</a>
</p>


<h3>Column</h3>

<p><strong>data</strong>
</p>
<p>A column chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third or more columns: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>column</code>
</p>
<p><strong>options</strong>
</p>
<p>See the column chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/columnchart">https://developers.google.com/chart/interactive/docs/gallery/columnchart</a>
</p>


<h3>Combo</h3>

<p>A combo chart lets you render each series as a different marker type from the following list:
line, area, bars, candlesticks, and stepped area.
</p>
<p><strong>data</strong>
</p>
<p>A combo chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third or more columns: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>combo</code>
</p>
<p><strong>options</strong>
</p>
<p>See the column chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/combochart">https://developers.google.com/chart/interactive/docs/gallery/combochart</a>
</p>


<h3>Histogram</h3>

<p><strong>data</strong>
</p>
<p>A histogram chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third or more columns: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>histogram</code>
</p>
<p><strong>options</strong>
</p>
<p>See the histogram chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/histogram">https://developers.google.com/chart/interactive/docs/gallery/histogram</a>
</p>


<h3>Line</h3>

<p><strong>data</strong>
</p>
<p>A line chart requires a <code>data.frame</code> of at least three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third or more columns: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>line</code>
</p>
<p><strong>options</strong>
</p>
<p>See the line chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/linechart">https://developers.google.com/chart/interactive/docs/gallery/linechart</a>
</p>


<h3>Pie</h3>

<p><strong>data</strong>
</p>
<p>A pie chart requires a <code>data.frame</code> of three columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third column: the data used in the chart
</p>
</li></ol>

<p><strong>type</strong> - <code>pie</code>
</p>
<p><strong>options</strong>
</p>
<p>See the pie chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/piechart">https://developers.google.com/chart/interactive/docs/gallery/piechart</a>
</p>


<h3>Scatter</h3>

<p><strong>data</strong>
</p>
<p>A scatter chart requires a <code>data.frame</code> of at least four columns:
</p>

<ol>
<li><p> First column: a column of id values, where the column has the same name as the
id column in the <code>data</code> argument, and therefore the same name as the value supplied
to the <code>id</code> argument.
</p>
</li>
<li><p> Second column: variable names used for labelling the data
</p>
</li>
<li><p> Third column: the data plotted on x-axis
</p>
</li>
<li><p> Fourth or more columns: the data plotted on y-axis
</p>
</li></ol>

<p><strong>type</strong> - <code>scatter</code>
</p>
<p><strong>options</strong>
</p>
<p>See the scatter chart documentation for various other examples
<a href="https://developers.google.com/chart/interactive/docs/gallery/scatterchart">https://developers.google.com/chart/interactive/docs/gallery/scatterchart</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set_key("your_api_key")

## AREA
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'area',
   options = list(width = 400, chartArea = list(width = "50%")))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

tram_route$id &lt;- c(rep(1, 30), rep(2, 25))

lineCharts &lt;- data.frame(id = rep(c(1,2), each = 2),
    year = rep( c("year1", "year2") ),
    arrivals = sample(1:100, size = 4),
    departures = sample(1:100, size = 4))

chartList &lt;- list(data = lineCharts,
   type = 'area')

google_map() %&gt;%
  add_polylines(data = tram_route, id = 'id',
    stroke_colour = "id", stroke_weight = 10,
    lat = "shape_pt_lat", lon = "shape_pt_lon",
    info_window = chartList
    )


## End(Not run)

## Not run: 

## BAR
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'bar')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


lineChart &lt;- data.frame(id = 33,
    year = c("year1","year2"),
    val1 = c(1,2),
    val2 = c(2,1))

chartList &lt;- list(data = lineChart, type = 'bar')

google_map() %&gt;%
  add_polylines(data = melbourne[melbourne$polygonId == 33, ],
  polyline = "polyline",
  info_window = chartList)


## End(Not run)


## Not run: 

## BUBBLE
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 4),
    ID = sample(letters, size = nrow(tram_stops) * 4, replace = T),
    time = sample(1:1440, size = nrow(tram_stops) * 4, replace = T),
    passengers = sample(1:100, size = nrow(tram_stops) * 4, replace = T),
    year = c("year1", "year2", "year3", "year4"),
    group = sample(50:100, size = nrow(tram_stops) * 4, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'bubble')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)

## Not run: 

## CANDLESTICK
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 5),
    day = rep(c("Mon", "Tues", "Weds", "Thurs", "Fri"), times = nrow(tram_stops) ),
    val1 = rep(c(20, 31, 50, 77, 68), times = nrow(tram_stops) ),
    val2 = rep(c(28, 38, 55, 77, 66), times = nrow(tram_stops) ),
    val3 = rep(c(38, 55, 77, 66, 22), times = nrow(tram_stops) ),
    val4 = rep(c(45, 66, 80, 50, 15), times = nrow(tram_stops) ) )

chartList &lt;- list(data = markerCharts,
   type = 'candlestick',
   options = list(legend = 'none',
     bar = list(groupWidth = "100%"),
     candlestick = list(
       fallingColor = list( strokeWidth = 0, fill = "#a52714"),
       risingColor = list( strokeWidth = 0, fill = "#0f9d58")
       )
     ))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## COLUMN
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'column')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

polyChart &lt;- data.frame(id = 33,
    year = c("year1","year2"),
    val1 = c(1,2),
    val2 = c(2,1))

chartList &lt;- list(data = polyChart, type = 'column')

google_map() %&gt;%
  add_polygons(data = melbourne[melbourne$polygonId == 33, ],
  polyline = "polyline",
  info_window = chartList)

tram_route$id &lt;- 1

polyChart &lt;- data.frame(id = 1,
    year = c("year1","year2"),
    val1 = c(1,2),
    val2 = c(2,1))

chartList &lt;- list(data = polyChart, type = 'column')

google_map() %&gt;%
  add_polygons(data = tram_route,
    lon = "shape_pt_lon", lat = "shape_pt_lat",
    info_window = chartList)



## End(Not run)

## Not run: 


## COMBO
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 2),
    year = rep( c("year1", "year2")),
    arrivals = sample(1:100, size = nrow(tram_stops) * 2, replace = T),
    departures = sample(1:100, size = nrow(tram_stops) * 2, replace = T))

markerCharts$val &lt;- sample(1:100, size = nrow(markerCharts), replace = T)

chartList &lt;- list(data = markerCharts,
   type = 'combo',
   options = list(
     "title" = "Passengers at stops",
     "vAxis" = list( title = "passengers" ),
     "hAxis" = list( title = "load" ),
     "seriesType" = "bars",
     "series" = list( "2" = list( "type" = "line" )))) ## 0-indexed

google_map() %&gt;%
  add_circles(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## HISTOGRAM
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 20),
    day = as.character(1:20))

markerCharts$wait &lt;- rnorm(nrow(markerCharts), 0, 1)

chartList &lt;- list(data = markerCharts,
   type = 'histogram')

google_map() %&gt;%
  add_circles(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## Line
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 20),
    day = as.character(1:20),
    value = sample(1:100, size = nrow(tram_stops) * 20, replace = T))

chartList &lt;- list(data = markerCharts,
   type = 'line')

google_map() %&gt;%
  add_circles(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## PIE
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 3))
markerCharts$variable &lt;- c("yes", "no", "maybe")
markerCharts$value &lt;- sample(1:10, size = nrow(markerCharts), replace = T)

chartList &lt;- list(data = markerCharts,
   type = 'pie',
   options = list(title = "my pie",
     is3D = TRUE,
     height = 240,
     width = 240,
     colors = c('#440154', '#21908C', '#FDE725')))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

## use pieHole option to make a donut chart

chartList &lt;- list(data = markerCharts,
   type = 'pie',
   options = list(title = "my pie",
     pieHole = 0.4,
     height = 240,
     width = 240,
     colors = c('#440154', '#21908C', '#FDE725')))

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")


## End(Not run)


## Not run: 

## SCATTER
markerCharts &lt;- data.frame(stop_id = rep(tram_stops$stop_id, each = 5))
markerCharts$arrival &lt;- sample(1:10, size = nrow(markerCharts), replace = T)
markerCharts$departure &lt;- sample(1:10, size = nrow(markerCharts), replace = T)

chartList &lt;- list(data = markerCharts,
   type = 'scatter')

google_map() %&gt;%
  add_markers(data = tram_stops, info_window = chartList, id = "stop_id")

## End(Not run)


</code></pre>

<hr>
<h2 id='google_directions'>Google Directions</h2><span id='topic+google_directions'></span>

<h3>Description</h3>

<p>The Google Maps Directions API is a service that calculates directions between
locations. You can search for directions for several modes of transportation,
including transit, driving, walking, or cycling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_directions(
  origin,
  destination,
  mode = c("driving", "walking", "bicycling", "transit"),
  departure_time = NULL,
  arrival_time = NULL,
  waypoints = NULL,
  optimise_waypoints = FALSE,
  alternatives = FALSE,
  avoid = NULL,
  units = c("metric", "imperial"),
  traffic_model = NULL,
  transit_mode = NULL,
  transit_routing_preference = NULL,
  language = NULL,
  region = NULL,
  key = get_api_key("directions"),
  simplify = TRUE,
  curl_proxy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_directions_+3A_origin">origin</code></td>
<td>
<p>Origin location as either a one or two column data.frame, a
list of unnamed elements, each element is either a numeric vector of lat/lon
coordinates, an address string or a place_id, or a vector of a pair of lat / lon coordinates</p>
</td></tr>
<tr><td><code id="google_directions_+3A_destination">destination</code></td>
<td>
<p>destination location as either a one or two column data.frame, a
list of unnamed elements, each element is either a numeric vector of lat/lon
coordinates, an address string or place_id, or a vector of a pair of lat / lon coordinates</p>
</td></tr>
<tr><td><code id="google_directions_+3A_mode">mode</code></td>
<td>
<p><code>string</code> One of 'driving', 'walking', 'bicycling' or 'transit'.</p>
</td></tr>
<tr><td><code id="google_directions_+3A_departure_time">departure_time</code></td>
<td>
<p>The desired time of departure.
Use either a <code>POSIXct</code> time since 1st January 1970, or the string 'now'.
If no value is specified it defaults to <code>Sys.time()</code>.</p>
</td></tr>
<tr><td><code id="google_directions_+3A_arrival_time">arrival_time</code></td>
<td>
<p>Specifies the desired time of arrival for transit requests.
Use either a <code>POSIXct</code> time since 1st January 1970.
Note you can only specify one of <code>arrival_time</code> or <code>departure_time</code>, not both.
If both are supplied, <code>departure_time</code> will be used.</p>
</td></tr>
<tr><td><code id="google_directions_+3A_waypoints">waypoints</code></td>
<td>
<p>list of waypoints, expressed as either <code>vectors</code> of
lat/lon coordinates, or a <code>string</code> address to be geocoded, or an encoded
polyline enclosed by <code>enc:</code> and <code>:</code>. Only available for driving,
walking or bicycling modes. List elements must be named either 'stop' or 'via',
where 'stop' is used to indicate a stopover for a waypoint, and 'via' will
not stop at the waypoint.
See <a href="https://developers.google.com/maps/documentation/directions/overview#Waypoints">https://developers.google.com/maps/documentation/directions/overview#Waypoints</a> for details</p>
</td></tr>
<tr><td><code id="google_directions_+3A_optimise_waypoints">optimise_waypoints</code></td>
<td>
<p><code>boolean</code> allow the Directions service to optimize the
provided route by rearranging the waypoints in a more efficient order.
(This optimization is an application of the Travelling Salesman Problem.)
Travel time is the primary factor which is optimized, but other factors such
as distance, number of turns and many more may be taken into account when
deciding which route is the most efficient. All waypoints must be stopovers
for the Directions service to optimize their route.</p>
</td></tr>
<tr><td><code id="google_directions_+3A_alternatives">alternatives</code></td>
<td>
<p><code>logical</code> If set to true, specifies that the Directions
service may provide more than one route alternative in the response</p>
</td></tr>
<tr><td><code id="google_directions_+3A_avoid">avoid</code></td>
<td>
<p><code>character</code> vector stating which features should be avoided.
One of 'tolls', 'highways', 'ferries' or 'indoor'</p>
</td></tr>
<tr><td><code id="google_directions_+3A_units">units</code></td>
<td>
<p><code>string</code> metric or imperial. Note: Only affects the text displayed
within the distance field. The values are always in metric</p>
</td></tr>
<tr><td><code id="google_directions_+3A_traffic_model">traffic_model</code></td>
<td>
<p><code>string</code> - one of 'best_guess', 'pessimistic' or 'optimistic'.
Only valid with a departure time</p>
</td></tr>
<tr><td><code id="google_directions_+3A_transit_mode">transit_mode</code></td>
<td>
<p><code>vector</code> of strings, either 'bus', 'subway', 'train', 'tram' or 'rail'.
Only vaid where <code>mode = 'transit'</code>. Note that 'rail' is equivalent
to <code>transit_mode=c("train", "tram", "subway")</code></p>
</td></tr>
<tr><td><code id="google_directions_+3A_transit_routing_preference">transit_routing_preference</code></td>
<td>
<p><code>vector</code> of strings - one of 'less_walking' and
'fewer_transfers'. specifies preferences for transit routes. Only valid for
transit directions.</p>
</td></tr>
<tr><td><code id="google_directions_+3A_language">language</code></td>
<td>
<p><code>string</code> - specifies the language in which to return the results.
See the list of supported languages: <a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a>.
If no langauge is supplied, the service will attempt to use the language of the domain from which the request was sent</p>
</td></tr>
<tr><td><code id="google_directions_+3A_region">region</code></td>
<td>
<p><code>string</code> - specifies the region code, specified as a ccTLD
(&quot;top-level domain&quot;). See region basing for details
<a href="https://developers.google.com/maps/documentation/directions/overview#RegionBiasing">https://developers.google.com/maps/documentation/directions/overview#RegionBiasing</a></p>
</td></tr>
<tr><td><code id="google_directions_+3A_key">key</code></td>
<td>
<p><code>string</code> - a valid Google Developers Directions API key</p>
</td></tr>
<tr><td><code id="google_directions_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list.
FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_directions_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either list or JSON string of the route between origin and destination
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set_key("YOUR_GOOGLE_API_KEY")

## using lat/long coordinates
google_directions(origin = c(-37.8179746, 144.9668636),
          destination = c(-37.81659, 144.9841),
          mode = "walking")


## using address string
google_directions(origin = "Flinders Street Station, Melbourne",
         destination = "MCG, Melbourne",
         mode = "walking")


google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         departure_time =  Sys.time() + (24 * 60 * 60),
         waypoints = list(stop = c(-37.81659, 144.9841),
                           via = "Ringwood, Victoria"),
         mode = "driving",
         alternatives = FALSE,
         avoid = c("TOLLS", "highways"),
         units = "imperial",
         simplify = TRUE)

## using 'now' as departure time
google_directions(origin = "Flinders Street Station, Melbourne",
         destination = "MCG, Melbourne",
         departure_time = 'now')

## waypoints expressed as an encoded polyline
polyWaypoints &lt;- encode_pl(tram_stops[1:2, c("stop_lat")], tram_stops[1:2, c("stop_lon")])
polyWaypoints &lt;- list(via = paste0("enc:", polyWaypoints, ":"))

google_directions(origin = "Melbourne Zoo, Melbourne",
         destination = "Studley Park, Melbourne",
         waypoints = polyWaypoints)


## using bus and less walking
res &lt;- google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         departure_time =  Sys.time() + (24 * 60 * 60),
         mode = "transit",
         transit_mode = "bus",
         transit_routing_preference = "less_walking",
         simplify = FALSE)

## using arrival time
res &lt;- google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         arrival_time =  Sys.time() + (24 * 60 * 60),
         mode = "transit",
         transit_mode = "bus",
         transit_routing_preference = "less_walking",
         simplify = FALSE)

## return results in French
res &lt;- google_directions(origin = "Melbourne Airport, Australia",
         destination = "Portsea, Melbourne, Australia",
         arrival_time =  Sys.time() + (24 * 60 * 60),
         mode = "transit",
         transit_mode = "bus",
         transit_routing_preference = "less_walking",
         language = "fr",
         simplify = FALSE)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_dispatch'>Google dispatch</h2><span id='topic+google_dispatch'></span><span id='topic+invoke_method'></span>

<h3>Description</h3>

<p>Extension points for plugins
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_dispatch(
  map,
  funcName,
  google_map = stop(paste(funcName, "requires a map update object")),
  google_map_update = stop(paste(funcName, "does not support map udpate objects"))
)

invoke_method(map, method, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_dispatch_+3A_map">map</code></td>
<td>
<p>a map object, as returned from <code><a href="#topic+google_map">google_map</a></code></p>
</td></tr>
<tr><td><code id="google_dispatch_+3A_funcname">funcName</code></td>
<td>
<p>the name of the function that the user called that caused
this <code>google_dispatch</code> call; for error message purposes</p>
</td></tr>
<tr><td><code id="google_dispatch_+3A_google_map">google_map</code></td>
<td>
<p>an action to be performed if the map is from
<code><a href="#topic+google_map">google_map</a></code></p>
</td></tr>
<tr><td><code id="google_dispatch_+3A_google_map_update">google_map_update</code></td>
<td>
<p>an action to be performed if the map is from
<code><a href="#topic+google_map_update">google_map_update</a></code></p>
</td></tr>
<tr><td><code id="google_dispatch_+3A_method">method</code></td>
<td>
<p>the name of the JavaScript method to invoke</p>
</td></tr>
<tr><td><code id="google_dispatch_+3A_...">...</code></td>
<td>
<p>unnamed arguments to be passed to the JavaScript method</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>google_dispatch</code> returns the value of <code>google_map</code> or
or an error. <code>invokeMethod</code> returns the
<code>map</code> object that was passed in, possibly modified.
</p>

<hr>
<h2 id='google_distance'>Google Distance</h2><span id='topic+google_distance'></span>

<h3>Description</h3>

<p>The Google Maps Distance Matrix API is a service that provides travel distance
and time for a matrix of origins and destinations, based on the recommended
route between start and end points.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_distance(
  origins,
  destinations,
  mode = c("driving", "walking", "bicycling", "transit"),
  departure_time = NULL,
  arrival_time = NULL,
  avoid = NULL,
  units = c("metric", "imperial"),
  traffic_model = NULL,
  transit_mode = NULL,
  transit_routing_preference = NULL,
  language = NULL,
  key = get_api_key("distance"),
  simplify = TRUE,
  curl_proxy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_distance_+3A_origins">origins</code></td>
<td>
<p>Origin locations as either a one or two column data.frame, a
list of unnamed elements, each element is either a numeric vector of lat/lon
coordinates, an address string or a place_id, or a vector of a pair of lat / lon coordinates</p>
</td></tr>
<tr><td><code id="google_distance_+3A_destinations">destinations</code></td>
<td>
<p>destination locations as either a one or two column data.frame, a
list of unnamed elements, each element is either a numeric vector of lat/lon
coordinates, an address string or place_id, or a vector of a pair of lat / lon coordinates</p>
</td></tr>
<tr><td><code id="google_distance_+3A_mode">mode</code></td>
<td>
<p><code>string</code> One of 'driving', 'walking', 'bicycling' or 'transit'.</p>
</td></tr>
<tr><td><code id="google_distance_+3A_departure_time">departure_time</code></td>
<td>
<p>The desired time of departure.
Use either a <code>POSIXct</code> time since 1st January 1970, or the string 'now'.
If no value is specified it defaults to <code>Sys.time()</code>.</p>
</td></tr>
<tr><td><code id="google_distance_+3A_arrival_time">arrival_time</code></td>
<td>
<p>Specifies the desired time of arrival for transit requests.
Use either a <code>POSIXct</code> time since 1st January 1970.
Note you can only specify one of <code>arrival_time</code> or <code>departure_time</code>, not both.
If both are supplied, <code>departure_time</code> will be used.</p>
</td></tr>
<tr><td><code id="google_distance_+3A_avoid">avoid</code></td>
<td>
<p><code>character</code> vector stating which features should be avoided.
One of 'tolls', 'highways', 'ferries' or 'indoor'</p>
</td></tr>
<tr><td><code id="google_distance_+3A_units">units</code></td>
<td>
<p><code>string</code> metric or imperial. Note: Only affects the text displayed
within the distance field. The values are always in metric</p>
</td></tr>
<tr><td><code id="google_distance_+3A_traffic_model">traffic_model</code></td>
<td>
<p><code>string</code> - one of 'best_guess', 'pessimistic' or 'optimistic'.
Only valid with a departure time</p>
</td></tr>
<tr><td><code id="google_distance_+3A_transit_mode">transit_mode</code></td>
<td>
<p><code>vector</code> of strings, either 'bus', 'subway', 'train', 'tram' or 'rail'.
Only vaid where <code>mode = 'transit'</code>. Note that 'rail' is equivalent
to <code>transit_mode=c("train", "tram", "subway")</code></p>
</td></tr>
<tr><td><code id="google_distance_+3A_transit_routing_preference">transit_routing_preference</code></td>
<td>
<p><code>vector</code> strings - one of 'less_walking' and
'fewer_transfers'. specifies preferences for transit routes. Only valid for
transit directions.</p>
</td></tr>
<tr><td><code id="google_distance_+3A_language">language</code></td>
<td>
<p><code>string</code> - specifies the language in which to return the results.
See the list of supported languages: <a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a>.
If no langauge is supplied, the service will attempt to use the language of the domain from which the request was sent</p>
</td></tr>
<tr><td><code id="google_distance_+3A_key">key</code></td>
<td>
<p><code>string</code> - a valid Google Developers Directions API key</p>
</td></tr>
<tr><td><code id="google_distance_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list.
FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_distance_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either list or JSON string of the distance between origins and destinations
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set_key("YOUR_GOOGLE_API_KEY")
google_distance(origins = list(c("Melbourne Airport, Australia"),
                             c("MCG, Melbourne, Australia"),
                             c(-37.81659, 144.9841)),
                             destinations = c("Portsea, Melbourne, Australia"),
                             simplify = FALSE)

google_distance(origins = c(-37.816, 144.9841),
    destinations = c("Melbourne Airport, Australia", "Flinders Street Station, Melbourne"))

google_distance(origins = tram_stops[1:5, c("stop_lat", "stop_lon")],
     destinations = tram_stops[10:12, c("stop_lat", "stop_lon")],)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_elevation'>Google elevation</h2><span id='topic+google_elevation'></span>

<h3>Description</h3>

<p>The Google Maps Elevation API provides elevation data for all locations on
the surface of the earth, including depth locations on the ocean floor
(which return negative values).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_elevation(
  df_locations = NULL,
  polyline = NULL,
  location_type = c("individual", "path"),
  samples = NULL,
  key = get_api_key("elevation"),
  simplify = TRUE,
  curl_proxy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_elevation_+3A_df_locations">df_locations</code></td>
<td>
<p><code>data.frame</code> of with two columns called 'lat' and 'lon'
(or 'latitude' / 'longitude') used as the locations</p>
</td></tr>
<tr><td><code id="google_elevation_+3A_polyline">polyline</code></td>
<td>
<p><code>string</code> encoded polyline</p>
</td></tr>
<tr><td><code id="google_elevation_+3A_location_type">location_type</code></td>
<td>
<p><code>string</code> Specifies the results to be returned as individual
locations or as a path. One of 'individual' or 'path'. If 'path', the data.frame
<code>df_locations</code> must contain at least two rows. The order of the path is
determined by the order of the rows.</p>
</td></tr>
<tr><td><code id="google_elevation_+3A_samples">samples</code></td>
<td>
<p><code>integer</code> Required if <code>location_type == "path"</code>.
Specifies the number of sample points along a path for which to return elevation data.
The samples parameter divides the given path into an ordered set of equidistant
points along the path.</p>
</td></tr>
<tr><td><code id="google_elevation_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Elevation API key</p>
</td></tr>
<tr><td><code id="google_elevation_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_elevation_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Locations can be specified as either a data.frame containing both a lat/latitude
and lon/longitude column, or
a single encoded polyline
</p>


<h3>Value</h3>

<p>Either list or JSON string of the elevation data
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set_key("YOUR_GOOGLE_API_KEY")
## elevation data for the MCG in Melbourne
df &lt;- data.frame(lat = -37.81659,
                 lon = 144.9841)

google_elevation(df_locations = df,
                 simplify = TRUE)



## elevation data from the MCG to the beach at Elwood (due south)
df &lt;- data.frame(lat = c(-37.81659, -37.88950),
                 lon = c(144.9841, 144.9841))

df &lt;- google_elevation(df_locations = df,
                       location_type = "path",
                       samples = 20,
                       simplify = TRUE)

## plot results
library(ggplot2)
df_plot &lt;- data.frame(elevation = df$results$elevation,
                       location = as.integer(rownames(df$results)))

ggplot(data = df_plot, aes(x = location, y = elevation)) +
 geom_line()

## End(Not run)


</code></pre>

<hr>
<h2 id='google_find_place'>Google Find Place</h2><span id='topic+google_find_place'></span>

<h3>Description</h3>

<p>A Find Place request takes a text input, and returns a place.
The text input can be any kind of Places data, for example, a name, address, or phone number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_find_place(
  input,
  inputtype = c("textquery", "phonenumber"),
  language = NULL,
  fields = place_fields(),
  point = NULL,
  circle = NULL,
  rectangle = NULL,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("find_place")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_find_place_+3A_input">input</code></td>
<td>
<p>The text input specifying which place to search for
(for example, a name, address, or phone number).</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_inputtype">inputtype</code></td>
<td>
<p>The type of input. This can be one of either textquery or phonenumber.
Phone numbers must be in international format (prefixed by a plus sign (&quot;+&quot;),
followed by the country code, then the phone number itself).</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_language">language</code></td>
<td>
<p><code>string</code> The language code, indicating in which language
the results should be returned, if possible. Searches are also biased to the
selected language; results in the selected language may be given a higher ranking.
See the list of supported languages and their codes
<a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a>.</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_fields">fields</code></td>
<td>
<p>vector of place data types to return. All Basic fields are returned by default.
See details</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_point">point</code></td>
<td>
<p>vector of lat &amp; lon values. Prefer results near this point.</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_circle">circle</code></td>
<td>
<p>list of two elements, point (vector of lat &amp; lon) and radius.
Prefer results in this circle. Ignored if point is supplied</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_rectangle">rectangle</code></td>
<td>
<p>list of two elements, sw (vector of lat &amp; lon) and ne (vector of lat &amp; lon)
specifying the south-west and north-east bounds of a rectangle. Prefer results
in this rectangle. Ignored if either point or circle are supplied</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list. FALSE indicates the returend JSON will be returned as a string
into a list.</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_find_place_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Fields correspond to place search results
<a href="https://developers.google.com/maps/documentation/places/web-service/search">https://developers.google.com/maps/documentation/places/web-service/search</a>
and are divided into three billing categories: Basic, Contact and Atmosphere.
</p>
<p>Basic fields are billed at base rate, and incur no additional charges. Contact
and atmosphere fields are billed at a hihger rate. See pricing sheet for more information
<a href="https://mapsplatform.google.com/pricing/">https://mapsplatform.google.com/pricing/</a>
</p>

<ul>
<li><p>Basic - formatted_address, geometry, icon, id, name, permanently_closed, photos, place_id, plus_code, types
</p>
</li>
<li><p>Contact - opening_hours
</p>
</li>
<li><p>Atmosphere - price_level, rating
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+google_place_details">google_place_details</a> <a href="#topic+google_places">google_places</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## specifying fields

set_key( "your_api_key" )

google_find_place(
  input = "Museum of Contemporary Art Australia"
  , fields = c("photos","formatted_address","name","rating","opening_hours","geometry")
)

## Using location bias - circle
google_find_place(
  input = "Mongolian Grill"
  , circle = list(point = c(47.7, -122.2), radius = 2000)
)

## finding by a phone number
google_find_place(
 input = "+61293744000"
 , inputtype = "phonenumber"
)



</code></pre>

<hr>
<h2 id='google_geocode'>Google geocoding</h2><span id='topic+google_geocode'></span>

<h3>Description</h3>

<p>Geocoding is the process of converting addresses (like &quot;1600 Amphitheatre
Parkway, Mountain View, CA&quot;) into geographic coordinates (like latitude 37.423021
and longitude -122.083739), which you can use to place markers on a map, or position the map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_geocode(
  address,
  bounds = NULL,
  key = get_api_key("geocode"),
  language = NULL,
  region = NULL,
  components = NULL,
  simplify = TRUE,
  curl_proxy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_geocode_+3A_address">address</code></td>
<td>
<p><code>string</code>. The street address that you want to geocode, in the
format used by the national postal service of the country concerned</p>
</td></tr>
<tr><td><code id="google_geocode_+3A_bounds">bounds</code></td>
<td>
<p>list of two, each element is a vector of lat/lon coordinates
representing the south-west and north-east bounding box</p>
</td></tr>
<tr><td><code id="google_geocode_+3A_key">key</code></td>
<td>
<p><code>string</code>. A valid Google Developers Geocode API key</p>
</td></tr>
<tr><td><code id="google_geocode_+3A_language">language</code></td>
<td>
<p><code>string</code>. Specifies the language in which to return the results.
See the list of supported languages:
<a href="https://developers.google.com/maps/faq#using-google-maps-apis">https://developers.google.com/maps/faq#using-google-maps-apis</a>. If no
langauge is supplied, the service will attempt to use the language of the domain
from which the request was sent</p>
</td></tr>
<tr><td><code id="google_geocode_+3A_region">region</code></td>
<td>
<p><code>string</code>. Specifies the region code, specified as a ccTLD
(&quot;top-level domain&quot;). See region basing for details
<a href="https://developers.google.com/maps/documentation/directions/overview#RegionBiasing">https://developers.google.com/maps/documentation/directions/overview#RegionBiasing</a></p>
</td></tr>
<tr><td><code id="google_geocode_+3A_components">components</code></td>
<td>
<p><code>data.frame</code> of two columns, component and value. Restricts
the results to a specific area. One or more of &quot;route&quot;,&quot;locality&quot;,&quot;administrative_area&quot;,
&quot;postal_code&quot;,&quot;country&quot;</p>
</td></tr>
<tr><td><code id="google_geocode_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_geocode_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either list or JSON string of the geocoded address
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

set_key("YOUR_GOOGLE_API_KEY")
df &lt;- google_geocode(address = "MCG, Melbourne, Australia",
                     simplify = TRUE)

df$results$geometry$location
        lat      lng
1 -37.81659 144.9841

## using bounds
bounds &lt;- list(c(34.172684,-118.604794),
               c(34.236144,-118.500938))

js &lt;- google_geocode(address = "Winnetka",
                     bounds = bounds,
                     simplify = FALSE)

## using components
components &lt;- data.frame(component = c("postal_code", "country"),
                         value = c("3000", "AU"))

df &lt;- google_geocode(address = "Flinders Street Station",
                   components = components,
                   simplify = FALSE)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_keys'>Google Keys</h2><span id='topic+google_keys'></span>

<h3>Description</h3>

<p>Retrieves the list of Google Keys that have been set.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_keys()
</code></pre>

<hr>
<h2 id='google_map'>Google map</h2><span id='topic+google_map'></span><span id='topic+googleway'></span>

<h3>Description</h3>

<p>Generates a google map object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map(
  data = NULL,
  key = get_api_key("map"),
  location = NULL,
  zoom = NULL,
  min_zoom = NULL,
  max_zoom = NULL,
  map_bounds = c(-180, -90, 180, 90),
  width = NULL,
  height = NULL,
  padding = 0,
  styles = NULL,
  search_box = FALSE,
  update_map_view = TRUE,
  zoom_control = TRUE,
  map_type = c("roadmap", "satellite", "hybrid", "terrain"),
  map_type_control = TRUE,
  scale_control = FALSE,
  street_view_control = TRUE,
  rotate_control = TRUE,
  fullscreen_control = TRUE,
  libraries = NULL,
  split_view = NULL,
  split_view_options = NULL,
  geolocation = FALSE,
  event_return_type = c("list", "json")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_+3A_data">data</code></td>
<td>
<p>data to be used on the map. Either a data.frame, or an <code>sf</code> object. See details</p>
</td></tr>
<tr><td><code id="google_map_+3A_key">key</code></td>
<td>
<p>A valid Google Maps API key.</p>
</td></tr>
<tr><td><code id="google_map_+3A_location">location</code></td>
<td>
<p><code>numeric</code> vector of latitude/longitude (in that order)
coordinates for the initial starting position of the map.
The map will automatically set the location and zoom if data is added through one
of the various <code>add_</code> functions. If null, the map will default to Melbourne, Australia.</p>
</td></tr>
<tr><td><code id="google_map_+3A_zoom">zoom</code></td>
<td>
<p><code>integer</code> representing the zoom level of the map (0 is fully zoomed out)</p>
</td></tr>
<tr><td><code id="google_map_+3A_min_zoom">min_zoom</code></td>
<td>
<p>the maximum zoom level which will be displayed on the map</p>
</td></tr>
<tr><td><code id="google_map_+3A_max_zoom">max_zoom</code></td>
<td>
<p>the minimum zoom level which will be displayed on the map</p>
</td></tr>
<tr><td><code id="google_map_+3A_map_bounds">map_bounds</code></td>
<td>
<p>the visible bounds of the map, specified as a vector of four
values of the form (xmin, ymin, xmax, ymax) (i.e., the form of the bounding box
of 'sf' objects).</p>
</td></tr>
<tr><td><code id="google_map_+3A_width">width</code></td>
<td>
<p>the width of the map</p>
</td></tr>
<tr><td><code id="google_map_+3A_height">height</code></td>
<td>
<p>the height of the map</p>
</td></tr>
<tr><td><code id="google_map_+3A_padding">padding</code></td>
<td>
<p>the padding of the map</p>
</td></tr>
<tr><td><code id="google_map_+3A_styles">styles</code></td>
<td>
<p>JSON string representation of a valid Google Maps styles Array.
See the Google documentation for details <a href="https://developers.google.com/maps/documentation/cloud-customization/cloud-based-map-styling">https://developers.google.com/maps/documentation/cloud-customization/cloud-based-map-styling</a></p>
</td></tr>
<tr><td><code id="google_map_+3A_search_box">search_box</code></td>
<td>
<p><code>boolean</code> indicating if a search box should be placed on the map</p>
</td></tr>
<tr><td><code id="google_map_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical indicating if the map should center on the searched location</p>
</td></tr>
<tr><td><code id="google_map_+3A_zoom_control">zoom_control</code></td>
<td>
<p>logical indicating if the zoom control should be displayed</p>
</td></tr>
<tr><td><code id="google_map_+3A_map_type">map_type</code></td>
<td>
<p>defines the type of map to display. One of 'roadmap', 'satellite', 'terrain' or 'hybrid'</p>
</td></tr>
<tr><td><code id="google_map_+3A_map_type_control">map_type_control</code></td>
<td>
<p>logical indicating if the map type control should be displayed</p>
</td></tr>
<tr><td><code id="google_map_+3A_scale_control">scale_control</code></td>
<td>
<p>logical indicating if the scale control should be displayed</p>
</td></tr>
<tr><td><code id="google_map_+3A_street_view_control">street_view_control</code></td>
<td>
<p>logical indicating if the street view control should be displayed</p>
</td></tr>
<tr><td><code id="google_map_+3A_rotate_control">rotate_control</code></td>
<td>
<p>logical indicating if the rotate control should be displayed</p>
</td></tr>
<tr><td><code id="google_map_+3A_fullscreen_control">fullscreen_control</code></td>
<td>
<p>logical indicating if the full screen control should be displayed</p>
</td></tr>
<tr><td><code id="google_map_+3A_libraries">libraries</code></td>
<td>
<p>vector containing the libraries you want to load. See details</p>
</td></tr>
<tr><td><code id="google_map_+3A_split_view">split_view</code></td>
<td>
<p>string giving the name of a UI output element in which to place
a streetview representation of the map. Will only work in an interactive environment (shiny).</p>
</td></tr>
<tr><td><code id="google_map_+3A_split_view_options">split_view_options</code></td>
<td>
<p>list of options to pass to the split street view.
valid list elements are <code>heading</code> and <code>pitch</code>
see <a href="#topic+google_mapOutput">google_mapOutput</a></p>
</td></tr>
<tr><td><code id="google_map_+3A_geolocation">geolocation</code></td>
<td>
<p>logical indicating if you want geolocation enabled</p>
</td></tr>
<tr><td><code id="google_map_+3A_event_return_type">event_return_type</code></td>
<td>
<p>the type of data to return to R from an interactive environment (shiny),
either an R list, or raw json string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In order to use Google Maps you need a valid Google Maps Web JavaScript API key.
See the Google Maps API documentation <a href="https://mapsplatform.google.com/">https://mapsplatform.google.com/</a>
</p>
<p>The data argument is only needed if you call other functions to add layers to the map,
such as <code>add_markers()</code> or <code>add_polylines</code>. However, the data argument
can also be passed into those functions as well.
</p>
<p>The data can either be a data.frame containing longitude and latitude columns
or an encoded polyline for plotting polylines and polygons, or an <code>sf</code> object.
</p>
<p>The supported <code>sf</code> object types are
</p>

<ul>
<li><p>POINT
</p>
</li>
<li><p>MULTIPOINT
</p>
</li>
<li><p>LINESTRING
</p>
</li>
<li><p>MULTILINESTRING
</p>
</li>
<li><p>POLYGON
</p>
</li>
<li><p>MULTIPOLYGON
</p>
</li>
<li><p>GEOMETRY
</p>
</li></ul>

<p>The libraries argument can be used to turn-off certain libraries from being called.
By default the map will load
</p>

<ul>
<li><p>visualization - includes the HeatmapLayer for visualising heatmaps
<a href="https://developers.google.com/maps/documentation/javascript/visualization">https://developers.google.com/maps/documentation/javascript/visualization</a>
</p>
</li>
<li><p>geometry - utility functions for computation of geometric data on the surface of
the earth, including plotting encoded polylines.
<a href="https://developers.google.com/maps/documentation/javascript/geometry">https://developers.google.com/maps/documentation/javascript/geometry</a>
</p>
</li>
<li><p>places - enables searching for places.
<a href="https://developers.google.com/maps/documentation/javascript/places">https://developers.google.com/maps/documentation/javascript/places</a>
</p>
</li>
<li><p>drawing - provides a graphical interface for users to draw polygons, rectangles,
circles and markers on the map. <a href="https://developers.google.com/maps/documentation/javascript/drawinglayer">https://developers.google.com/maps/documentation/javascript/drawinglayer</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><a href="#topic+google_mapOutput">google_mapOutput</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- "your_api_key"

google_map(key = map_key, data = tram_stops) %&gt;%
 add_markers() %&gt;%
 add_traffic()

## style map using 'cobalt simplified' style
style &lt;- '[{"featureType":"all","elementType":"all","stylers":[{"invert_lightness":true},
{"saturation":10},{"lightness":30},{"gamma":0.5},{"hue":"#435158"}]},
{"featureType":"road.arterial","elementType":"all","stylers":[{"visibility":"simplified"}]},
{"featureType":"transit.station","elementType":"labels.text","stylers":[{"visibility":"off"}]}]'

google_map(key = map_key, styles = style)


## End(Not run)

</code></pre>

<hr>
<h2 id='google_map_directions'>Google Map Directions</h2><span id='topic+google_map_directions'></span>

<h3>Description</h3>

<p>Opens Google Maps in a browser with the resutls of the specified directions query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map_directions(
  origin = NULL,
  origin_place_id = NULL,
  destination = NULL,
  destination_place_id = NULL,
  travel_mode = NULL,
  dir_action = NULL,
  waypoints = NULL,
  waypoint_place_ids = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_directions_+3A_origin">origin</code></td>
<td>
<p>string of an address or search term, or vector of lat/lon coordinates</p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_origin_place_id">origin_place_id</code></td>
<td>
<p>a Google place id (<a href="https://developers.google.com/maps/documentation/places/web-service/place-id">https://developers.google.com/maps/documentation/places/web-service/place-id</a>).
If used, you must also specify an <code>origin</code></p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_destination">destination</code></td>
<td>
<p>string of an address or vector of lat/lon coordinates</p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_destination_place_id">destination_place_id</code></td>
<td>
<p>a Google place id (<a href="https://developers.google.com/maps/documentation/places/web-service/place-id">https://developers.google.com/maps/documentation/places/web-service/place-id</a>).
If used, you must also specify an <code>destination</code></p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_travel_mode">travel_mode</code></td>
<td>
<p>one of <code>driving</code>, <code>walking</code>, <code>bicycling</code> or
<code>transit</code>. If not supplied, the Google Map will show one or more of the
most relevant modes for the route.</p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_dir_action">dir_action</code></td>
<td>
<p>can only be &quot;navigate&quot;. If set, the map will attempt to launch turn-by-turn navigation
or route preview to the destination.</p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_waypoints">waypoints</code></td>
<td>
<p>List of either place names, addresses, or <code>vectors</code> of lat/lon coordinates.
Up to 3 are allowed on mobile devices, and up to 9 otherwise.</p>
</td></tr>
<tr><td><code id="google_map_directions_+3A_waypoint_place_ids">waypoint_place_ids</code></td>
<td>
<p>vector of <code>place_id</code>s to match against the list of <code>waypoints</code>.
If used, the <code>waypoints</code> must also be used.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>There is no need for an api key
</p>
<p>Waypoints are not supported on all Google Map products. In those cases, this parameter
will be ignored.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

google_map_directions(origin = "Google Pyrmont NSW",
  destination = "QVB, Sydney", destination_place_id = "ChIJISz8NjyuEmsRFTQ9Iw7Ear8",
  travel_mode = "walking")


google_map_directions(origin = "Melbourne Cricket Ground",
  destination = "Flinders Street Station",
  dir_action = "navigate")

google_map_directions(origin = "Melbourne Cricket Ground",
  destination = "Flinders Street Station",
  travel_mode = "walking",
  waypoints = list("National Gallery of Victoria", c(-37.820860, 144.961894)))


google_map_directions(origin = "Paris, France",
  destination = "Cherbourg, France",
  travel_mode = "driving",
  waypoints = list("Versailles, France", "Chartres, France", "Le Mans, France",
    "Caen, France"))


google_map_directions(origin = "Paris, France",
  destination = "Cherbourg, France",
  travel_mode = "driving",
  waypoints = list("Versailles, France", "Chartres, France", "Le Mans, France",
    "Caen, France"),
  waypoint_place_ids = list("ChIJdUyx15R95kcRj85ZX8H8OAU",
  "ChIJKzGHdEgM5EcR_OBTT3nQoEA", "ChIJG2LvQNCI4kcRKXNoAsPi1Mc", "ChIJ06tnGbxCCkgRsfNjEQMwUsc"))


## End(Not run)

</code></pre>

<hr>
<h2 id='google_map_panorama'>Google Map Panorama</h2><span id='topic+google_map_panorama'></span>

<h3>Description</h3>

<p>Opens an interactive street view panorama in a browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map_panorama(
  viewpoint = NULL,
  pano = NULL,
  heading = NULL,
  pitch = 0,
  fov = 90
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_panorama_+3A_viewpoint">viewpoint</code></td>
<td>
<p>vector of lat/lon coordinates. If NULL, <code>pano</code> must be used.</p>
</td></tr>
<tr><td><code id="google_map_panorama_+3A_pano">pano</code></td>
<td>
<p>string of a specific panorama ID (see <a href="https://developers.google.com/maps/documentation/urls/get-started#pano-id">https://developers.google.com/maps/documentation/urls/get-started#pano-id</a>).
If NULL, <code>viewpoint</code> must be used.</p>
</td></tr>
<tr><td><code id="google_map_panorama_+3A_heading">heading</code></td>
<td>
<p>number between -180 and 360. Indicates the compass heading of the camera
in degrees clockwise from north.</p>
</td></tr>
<tr><td><code id="google_map_panorama_+3A_pitch">pitch</code></td>
<td>
<p>number between -90 and 90, specifying the angle, up or down, of the camera</p>
</td></tr>
<tr><td><code id="google_map_panorama_+3A_fov">fov</code></td>
<td>
<p>number between 10 and 100, determines the orizontal field of view
of the image.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

google_map_panorama(viewpoint = c(48.857832, 2.295226))

google_map_panorama(viewpoint = c(48.857832,2.295226),
  heading = -90, pitch = 38, fov = 80)

google_map_panorama(pano = "4U-oRQCNsC6u7r8gp02sLA")



## End(Not run)
</code></pre>

<hr>
<h2 id='google_map_search'>Google Map Search</h2><span id='topic+google_map_search'></span>

<h3>Description</h3>

<p>Opens a Google Map in a browser with the result of the specified search query.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map_search(query, place_id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_search_+3A_query">query</code></td>
<td>
<p>string or vector of lat/lon coordinates (in that order)</p>
</td></tr>
<tr><td><code id="google_map_search_+3A_place_id">place_id</code></td>
<td>
<p>a Google place id (<a href="https://developers.google.com/maps/documentation/places/web-service/place-id">https://developers.google.com/maps/documentation/places/web-service/place-id</a>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If both parameters are given, the <code>query</code> is only used if Google Maps cannot
find the <code>place_id</code>.
</p>


<h3>Note</h3>

<p>There is no need for an api key
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

google_map_search("Melbourne, Victoria")

google_map_search("Restaruants")

## Melbourne Cricket Ground
google_map_search(c(-37.81997, 144.9834), place_id = "ChIJgWIaV5VC1moR-bKgR9ZfV2M")

## Without the place_id, no additional place inforamtion is displayed on the map
google_map_search(c(-37.81997, 144.9834))


## End(Not run)

</code></pre>

<hr>
<h2 id='google_map_update'>Google map update</h2><span id='topic+google_map_update'></span>

<h3>Description</h3>

<p>Update a Google map in a shiny app. Use this function whenever the map needs
to respond to reactive content.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map_update(
  map_id,
  session = shiny::getDefaultReactiveDomain(),
  data = NULL,
  deferUntilFlush = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_update_+3A_map_id">map_id</code></td>
<td>
<p>string containing the output ID of the map in a shiny application.</p>
</td></tr>
<tr><td><code id="google_map_update_+3A_session">session</code></td>
<td>
<p>the Shiny session object to which the map belongs; usually the
default value will suffice.</p>
</td></tr>
<tr><td><code id="google_map_update_+3A_data">data</code></td>
<td>
<p>data to be used in the map. See the details section for <code><a href="#topic+google_map">google_map</a></code>.</p>
</td></tr>
<tr><td><code id="google_map_update_+3A_deferuntilflush">deferUntilFlush</code></td>
<td>
<p>indicates whether actions performed against this
instance should be carried out right away, or whether they should be held until
after the next time all of the outputs are updated; defaults to TRUE.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

library(shiny)
library(googleway)

ui &lt;- pageWithSidebar(
  headerPanel("Toggle markers"),
  sidebarPanel(
    actionButton(inputId = "markers", label = "toggle markers")
  ),
  mainPanel(
    google_mapOutput("map")
  )
)

server &lt;- function(input, output, session){

  # api_key &lt;- "your_api_key"

  df &lt;- structure(list(lat = c(-37.8201904296875, -37.8197288513184,
  -37.8191299438477, -37.8187675476074, -37.8186187744141, -37.8181076049805
  ), lon = c(144.968612670898, 144.968414306641, 144.968139648438,
 144.967971801758, 144.967864990234, 144.967636108398), weight = c(31.5698964400217,
 97.1629025738221, 58.9051092562731, 76.3215389118996, 37.8982300488278,
 77.1501972114202), opacity = c(0.2, 0.2, 0.2, 0.2, 0.2, 0.2)), .Names = c("lat",
 "lon", "weight", "opacity"), row.names = 379:384, class = "data.frame")


  output$map &lt;- renderGoogle_map({
    google_map(key = api_key)
  })

  observeEvent(input$markers,{

    if(input$markers %% 2 == 1){
      google_map_update(map_id = "map") %&gt;%
        add_markers(data = df)
    }else{
      google_map_update(map_id = "map") %&gt;%
        clear_markers()
    }
  })
 }
shinyApp(ui, server)

## End(Not run)
</code></pre>

<hr>
<h2 id='google_map_url'>Google Map Url</h2><span id='topic+google_map_url'></span>

<h3>Description</h3>

<p>Opens a Google Map in a browser
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map_url(
  center = NULL,
  zoom = 15,
  basemap = c("roadmap", "satellite", "hybrid", "terrain"),
  layer = c("none", "transit", "traffic", "bicycling")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_url_+3A_center">center</code></td>
<td>
<p>vector of lat/lon coordinates which defines the centre of the map window</p>
</td></tr>
<tr><td><code id="google_map_url_+3A_zoom">zoom</code></td>
<td>
<p>number that sets the zoom level of the map (from 0 to 21)</p>
</td></tr>
<tr><td><code id="google_map_url_+3A_basemap">basemap</code></td>
<td>
<p>defines the typ eof map to display.</p>
</td></tr>
<tr><td><code id="google_map_url_+3A_layer">layer</code></td>
<td>
<p>defines an extra layer to display on the map, if any.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

google_map_url()

google_map_url(center = c(-37.817727, 144.968246))

google_map_url(center = c(-37.817727, 144.968246), zoom = 5)

google_map_url(center = c(-37.817727, 144.968246), basemap = "terrain")

google_map_url(center = c(-37.817727, 144.968246), layer = "traffic")


## End(Not run)
</code></pre>

<hr>
<h2 id='google_map_view'>google map view</h2><span id='topic+google_map_view'></span>

<h3>Description</h3>

<p>google map view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_map_view(map, location, zoom)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map_view_+3A_map">map</code></td>
<td>
<p>a googleway map object created from google_map()</p>
</td></tr>
<tr><td><code id="google_map_view_+3A_location">location</code></td>
<td>
<p><code>numeric</code> vector of latitude/longitude (in that order)
coordinates for the initial starting position of the map.
The map will automatically set the location and zoom if data is added through one
of the various <code>add_</code> functions. If null, the map will default to Melbourne, Australia.</p>
</td></tr>
<tr><td><code id="google_map_view_+3A_zoom">zoom</code></td>
<td>
<p><code>integer</code> representing the zoom level of the map (0 is fully zoomed out)</p>
</td></tr>
</table>

<hr>
<h2 id='google_map-shiny'>Shiny bindings for google_map</h2><span id='topic+google_map-shiny'></span><span id='topic+google_mapOutput'></span><span id='topic+renderGoogle_map'></span>

<h3>Description</h3>

<p>Output and render functions for using google_map within Shiny applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_mapOutput(outputId, width = "100%", height = "400px")

renderGoogle_map(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_map-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="google_map-shiny_+3A_width">width</code>, <code id="google_map-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="google_map-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a google_map</p>
</td></tr>
<tr><td><code id="google_map-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="google_map-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(shiny)
library(googleway)

ui &lt;- fluidPage(google_mapOutput("map"))

server &lt;- function(input, output, session){

  api_key &lt;- "your_api_key"

  output$map &lt;- renderGoogle_map({
    google_map(key = api_key)
  })
}

shinyApp(ui, server)

## using split view

library(shinydashboard)
library(googleway)

ui &lt;- dashboardPage(

  dashboardHeader(),
  dashboardSidebar(),
  dashboardBody(
    box(width = 6,
        google_mapOutput(outputId = "map")
    ),
    box(width = 6,
        google_mapOutput(outputId = "pano")
    )
  )
)

server &lt;- function(input, output) {
  #set_key("your_api_key")

  output$map &lt;- renderGoogle_map({
    google_map(location = c(-37.817386, 144.967463),
                zoom = 10,
                split_view = "pano")
  })
}

shinyApp(ui, server)


## End(Not run)

</code></pre>

<hr>
<h2 id='google_nearestRoads'>Nearest Roads</h2><span id='topic+google_nearestRoads'></span>

<h3>Description</h3>

<p>Takes up to 100 independent coordinates and returns the closest road segment for each point.
The points passed do not need to be part of a continuous path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_nearestRoads(
  df_points,
  lat = NULL,
  lon = NULL,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("roads")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_nearestRoads_+3A_df_points">df_points</code></td>
<td>
<p><code>data.frame</code> with at least two columns specifying the latitude &amp; longitude coordinates,
with a maximum of 100 pairs of coordinates.</p>
</td></tr>
<tr><td><code id="google_nearestRoads_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>df_path</code> containing the
'latitude' coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="google_nearestRoads_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>df_path</code> containing the
'longitude' coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="google_nearestRoads_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be
coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_nearestRoads_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_nearestRoads_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><a href="#topic+google_snapToRoads">google_snapToRoads</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

key &lt;- 'your_api_key'

df_points &lt;- read.table(text = "lat lon
 60.1707 24.9426
 60.1708 24.9424
 60.1709 24.9423", header = T)

google_nearestRoads(df_points, key = key)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_place_autocomplete'>Google place autocomplete</h2><span id='topic+google_place_autocomplete'></span>

<h3>Description</h3>

<p>The Place Autocomplete service is a web service that returns place predictions
in response to an HTTP request. The request specifies a textual search string
and optional geographic bounds. The service can be used to provide autocomplete
functionality for text-based geographic searches, by returning places such as
businesses, addresses and points of interest as a user types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_place_autocomplete(
  place_input,
  location = NULL,
  radius = NULL,
  language = NULL,
  place_type = NULL,
  components = NULL,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("place_autocomplete")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_place_autocomplete_+3A_place_input">place_input</code></td>
<td>
<p><code>string</code> The text string on which to search.
The Place Autocomplete service will return candidate matches based on this
string and order results based on their perceived relevance.</p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_location">location</code></td>
<td>
<p><code>numeric</code> vector of latitude/longitude coordinates (in that order)
the point around which you wish to retrieve place information</p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_radius">radius</code></td>
<td>
<p><code>numeric</code> The distance (in meters) within which to return
place results. Note that setting a radius biases results to the indicated area,
but may not fully restrict results to the specified area</p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_language">language</code></td>
<td>
<p><code>string</code> The language code, indicating in which language
the results should be returned, if possible. Searches are also biased to the
selected language; results in the selected language may be given a higher ranking.
See the list of supported languages and their codes
<a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a></p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_place_type">place_type</code></td>
<td>
<p><code>string</code> Restricts the results to places matching the
specified type. Only one type may be specified (if more than one type is provided,
all types following the first entry are ignored). For a list of valid types,
please visit <a href="https://developers.google.com/maps/documentation/places/web-service/autocomplete">https://developers.google.com/maps/documentation/places/web-service/autocomplete</a></p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_components">components</code></td>
<td>
<p><code>string</code> of length 1 which identifies a grouping of places
to which you would like to restrict your results. Currently, you can use
components to filter by country only. The country must be passed as a two
character, ISO 3166-1 Alpha-2 compatible country code.
For example: components=country:fr would restrict your results to places within France.</p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be
coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_place_autocomplete_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## search for 'Maha' Restaurant, Melbourne
google_place_autocomplete("Maha Restaurant", key = key)

## search for 'Maha' Restaurant, exclusively in Australia
google_place_autocomplete("maha Restaurant", component = "au", key = key)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_place_details'>Google place details</h2><span id='topic+google_place_details'></span>

<h3>Description</h3>

<p>Once you have a place_id from a Place Search, you can request more details
about a particular establishment or point of interest by initiating a Place
Details request. A Place Details request returns more comprehensive information
about the indicated place such as its complete address, phone number, user
rating and reviews.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_place_details(
  place_id,
  language = NULL,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("place_details")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_place_details_+3A_place_id">place_id</code></td>
<td>
<p><code>string</code> A textual identifier that uniquely identifies a
place, usually of the form <code>ChIJrTLr-GyuEmsRBfy61i59si0</code>, returned from
a place search</p>
</td></tr>
<tr><td><code id="google_place_details_+3A_language">language</code></td>
<td>
<p><code>string</code> The language code, indicating in which language
the results should be returned, if possible. Searches are also biased to the
selected language; results in the selected language may be given a higher ranking.
See the list of supported languages and their codes
<a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a></p>
</td></tr>
<tr><td><code id="google_place_details_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be
coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_place_details_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_place_details_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key</p>
</td></tr>
</table>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>See Also</h3>

<p><a href="#topic+google_places">google_places</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## search for a specific restaurant, Maha, in Melbourne, firstly using google_places()
res &lt;- google_places(search_string = "Maha Restaurant, Melbourne, Australia",
                     radius = 1000,
                     key = key)

## request more details about the restaurant using google_place_details()
google_place_details(place_id = res$results$place_id, key = key)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_places'>Google places</h2><span id='topic+google_places'></span>

<h3>Description</h3>

<p>The Google Places API Web Service allows you to query for place information
on a variety of categories, such as: establishments, prominent points of interest,
geographic locations, and more.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_places(
  search_string = NULL,
  location = NULL,
  radius = NULL,
  rankby = NULL,
  keyword = NULL,
  language = NULL,
  name = NULL,
  place_type = NULL,
  price_range = NULL,
  open_now = NULL,
  page_token = NULL,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("places"),
  radar = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_places_+3A_search_string">search_string</code></td>
<td>
<p><code>string</code> A search term representing a place for
which to search. If blank, the <code>location</code> argument must be used.</p>
</td></tr>
<tr><td><code id="google_places_+3A_location">location</code></td>
<td>
<p><code>numeric</code> vector of latitude/longitude coordinates
(in that order) around which to retrieve place information.</p>
</td></tr>
<tr><td><code id="google_places_+3A_radius">radius</code></td>
<td>
<p><code>numeric</code> Defines the distance (in meters) within which to
return place results. Required if only a <code>location</code> search is specified.
The maximum allowed radius is 50,000 meters. Radius must not be included if
<code>rankby</code> is used. see Details.</p>
</td></tr>
<tr><td><code id="google_places_+3A_rankby">rankby</code></td>
<td>
<p><code>string</code> Specifies the order in which results are listed.
Possible values are <code>"prominence"</code> or <code>"distance"</code>.
If <code>rankby = distance</code>, then one of <code>keyword</code>, <code>name</code> or
<code>place_type</code> must be specified. If a <code>search_string</code> is used then
<code>rankby</code> is ignored.</p>
</td></tr>
<tr><td><code id="google_places_+3A_keyword">keyword</code></td>
<td>
<p><code>string</code> A term to be matched against all content that
Google has indexed for this place, including but not limited to name, type,
and address, as well as customer reviews and other third-party content.</p>
</td></tr>
<tr><td><code id="google_places_+3A_language">language</code></td>
<td>
<p><code>string</code> The language code, indicating in which language
the results should be returned, if possible. Searches are also biased to the
selected language; results in the selected language may be given a higher ranking.
See the list of supported languages and their codes
<a href="https://developers.google.com/maps/faq#languagesupport">https://developers.google.com/maps/faq#languagesupport</a>.</p>
</td></tr>
<tr><td><code id="google_places_+3A_name">name</code></td>
<td>
<p><code>string</code> <code>vector</code> One or more terms to be matched against
the names of places. Ignored when used with a <code>search_string</code>. Results will
be restricted to those containing the passed <code>name</code> values. Note that a
place may have additional names associated with it, beyond its listed name.
The API will try to match the passed name value against all of these names.
As a result, places may be returned in the results whose listed names do not
match the search term, but whose associated names do.</p>
</td></tr>
<tr><td><code id="google_places_+3A_place_type">place_type</code></td>
<td>
<p><code>string</code> Restricts the results to places matching the
specified type. Only one type may be specified. For a list of valid types,
please visit <a href="https://developers.google.com/maps/documentation/places/web-service/supported_types">https://developers.google.com/maps/documentation/places/web-service/supported_types</a>.</p>
</td></tr>
<tr><td><code id="google_places_+3A_price_range">price_range</code></td>
<td>
<p><code>numeric</code> <code>vector</code> Specifying the minimum and
maximum price ranges. Values range between 0 (most affordable) and 4 (most expensive).</p>
</td></tr>
<tr><td><code id="google_places_+3A_open_now">open_now</code></td>
<td>
<p><code>logical</code> Returns only those places that are open for
business at the time the query is sent. Places that do not specify opening
hours in the Google Places database will not be returned if you include this
parameter in your query.</p>
</td></tr>
<tr><td><code id="google_places_+3A_page_token">page_token</code></td>
<td>
<p><code>string</code> Returns the next 20 results from a previously
run search. Setting a <code>page_token</code> parameter will execute a search with
the same parameters used in a previous search. All parameters other than
<code>page_token</code> will be ignored. The <code>page_token</code> can be found in the
result set of a previously run query.</p>
</td></tr>
<tr><td><code id="google_places_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list. FALSE indicates the returend JSON will be returned as a string
into a list.</p>
</td></tr>
<tr><td><code id="google_places_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_places_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key.</p>
</td></tr>
<tr><td><code id="google_places_+3A_radar">radar</code></td>
<td>
<p>deprecated, no longer used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A Nearby Search (using <code>google_places</code>) lets you search for places within a specified area.
You can refine your search request by supplying keywords or specifying the type of place you are searching for.
</p>
<p>With the Places service you can perform three kinds of searches:
</p>

<ul>
<li><p>Nearby Search
</p>
</li>
<li><p>Text Search
</p>
</li>
<li><p>Place Details request
</p>
</li></ul>

<p>A Nearby search lets you search for places within a specified area or by keyword.
A Nearby search must always include a <code>location</code>, which can be specified
as a point defined by a pair of lat/lon coordinates, or a circle defined by a
point and a <code>radius</code>.
</p>
<p>A Text search returns information about a set of places based on the <code>search_string</code>.
The service responds with a list of places matching the string and any location
bias that has been set.
</p>
<p>A Place Detail search (using <a href="#topic+google_place_details">google_place_details</a>) can be performed when
you have a given <code>place_id</code>
from one of the other three search methods.
</p>
<p><code>radius</code> - Required when only using a <code>location</code> search, <code>radius</code>
defines the distance (in meters) within which to return place results. The maximum
allowed radius is 50,000 meters. Note that radius must not be included if
<code>rankby = distance</code> is specified.
</p>
<p><code>radius</code> - Optional when using a <code>search_string</code>. Defines the distance
(in meters) within which to bias place results. The maximum allowed radius is
50,000 meters. Results inside of this region will be ranked higher than results
outside of the search circle; however, prominent results from outside of the
search radius may be included.
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Note</h3>

<p>The Google Places API Web Service enforces a default limit of 1,000 free requests
per 24 hour period, calculated as the sum of client-side and server-side requets.
See <a href="https://developers.google.com/maps/documentation/places/web-service/usage-and-billing">https://developers.google.com/maps/documentation/places/web-service/usage-and-billing</a> for details.
</p>
<p>Use of the Places Library must be in accordance with the polices described
for the Google Places API Web Service <a href="https://developers.google.com/maps/documentation/places/web-service/policies">https://developers.google.com/maps/documentation/places/web-service/policies</a>
</p>


<h3>See Also</h3>

<p><a href="#topic+google_place_details">google_place_details</a> <a href="#topic+google_find_place">google_find_place</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## query restaurants in Melbourne (will return 20 results)
api_key &lt;- 'your_api_key'

res &lt;- google_places(search_string = "Restaurants in Melbourne, Australia",
                     key = api_key)

## use the 'next_page_token' from the previous search to get the next 20 results
res_next &lt;- google_places(search_string = "Restaurants in Melbourne, Australia",
                          page_token = res$next_page_token,
                          key = api_key)

## search for a specific place type
google_places(location = c(-37.817839,144.9673254),
              place_type = "bicycle_store",
              radius = 20000,
              key = api_key)

## search for places that are open at the time of query
 google_places(search_string = "Bicycle shop, Melbourne, Australia",
               open_now = TRUE,
               key = api_key)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_reverse_geocode'>Google reverse geocoding</h2><span id='topic+google_reverse_geocode'></span>

<h3>Description</h3>

<p>Reverse geocoding is the process of converting geographic coordinates into a
human-readable address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_reverse_geocode(
  location,
  result_type = NULL,
  location_type = NULL,
  language = NULL,
  key = get_api_key("reverse_geocode"),
  simplify = TRUE,
  curl_proxy = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_reverse_geocode_+3A_location">location</code></td>
<td>
<p>numeric vector of lat/lon coordinates.</p>
</td></tr>
<tr><td><code id="google_reverse_geocode_+3A_result_type">result_type</code></td>
<td>
<p>string vector - one or more address types.
See <a href="https://developers.google.com/maps/documentation/geocoding/overview#Types">https://developers.google.com/maps/documentation/geocoding/overview#Types</a>
for list of available types.</p>
</td></tr>
<tr><td><code id="google_reverse_geocode_+3A_location_type">location_type</code></td>
<td>
<p>string vector specifying a location type will restrict the
results to this type. If multiple types are specified, the API will return all
addresses that match any of the types</p>
</td></tr>
<tr><td><code id="google_reverse_geocode_+3A_language">language</code></td>
<td>
<p>string specifies the language in which to return the results.
See the list of supported languages: <a href="https://developers.google.com/maps/faq#using-google-maps-apis">https://developers.google.com/maps/faq#using-google-maps-apis</a>.
If no langauge is supplied, the service will attempt to use the language of the
domain from which the request was sent</p>
</td></tr>
<tr><td><code id="google_reverse_geocode_+3A_key">key</code></td>
<td>
<p>string. A valid Google Developers Geocode API key</p>
</td></tr>
<tr><td><code id="google_reverse_geocode_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be
coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_reverse_geocode_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either list or JSON string of the geocoded address
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
## searching for the street address for the rooftop location type
google_reverse_geocode(location = c(-37.81659, 144.9841),
                       result_type = c("street_address"),
                       location_type = "rooftop",
                       key = "&lt;your valid api key&gt;")

## End(Not run)
</code></pre>

<hr>
<h2 id='google_snapToRoads'>Snap To Roads</h2><span id='topic+google_snapToRoads'></span>

<h3>Description</h3>

<p>Takes up to 100 GPS coordinates collected along a route and returns a similar set of data,
with the points snapped to the most likely roads the vehicle was treveling along
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_snapToRoads(
  df_path,
  lat = NULL,
  lon = NULL,
  interpolate = FALSE,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("roads")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_snapToRoads_+3A_df_path">df_path</code></td>
<td>
<p><code>data.frame</code> with at least two columns specifying the latitude &amp; longitude coordinates,
with a maximum of 100 pairs of coordinates.</p>
</td></tr>
<tr><td><code id="google_snapToRoads_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>df_path</code> containing the
'latitude' coordinates. If left NULL, a best-guess will be made.</p>
</td></tr>
<tr><td><code id="google_snapToRoads_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>df_path</code> containing the '
longitude' coordinates. If left NULL, a best-guess will be made.</p>
</td></tr>
<tr><td><code id="google_snapToRoads_+3A_interpolate">interpolate</code></td>
<td>
<p>logical indicating whether to interpolate a path to
include all points forming the full road-geometry.
When <code>TRUE</code>, additional interpolated points will also be returned, resulting in a path
that smoothly follows the geometry of the road, even around corners and through
tunnels. Interpolated paths will most likely contain more ponts that the original path.</p>
</td></tr>
<tr><td><code id="google_snapToRoads_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be coerced into a list.
FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_snapToRoads_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_snapToRoads_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key</p>
</td></tr>
</table>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Note</h3>

<p>The snapping algorithm works best for points that are not too far apart.
If you observe odd snapping behaviour, try creating paths that have points closer together.
To ensure the best snap-to-road quality, you should aim to provide paths on which consecutive
pairs of points are within 300m of each other. This will also help in handling any
isolated, long jumps between consecutive points caused by GPS signal loss or noise.
</p>


<h3>See Also</h3>

<p><a href="#topic+google_nearestRoads">google_nearestRoads</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

key &lt;- 'your_api_key'

df_path &lt;- read.table(text = "lat lon
-35.27801 149.12958
-35.28032 149.12907
-35.28099 149.12929
-35.28144 149.12984
-35.28194 149.13003
-35.28282 149.12956
-35.28302 149.12881
-35.28473 149.12836", header = T)

google_snapToRoads(df_path, key = key, interpolate = TRUE, simplify = TRUE)



## End(Not run)
</code></pre>

<hr>
<h2 id='google_speedLimits'>Speed Limits</h2><span id='topic+google_speedLimits'></span>

<h3>Description</h3>

<p>Returns the posted speed limit for a given road segment. In the case of road segments
with variable speed limits, the default speed limit for the segment is returned.
The speed limits service is only available to Google Maps API Premium Plan customers with an Asset Tracking license.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_speedLimits(
  df_path = NULL,
  lat = NULL,
  lon = NULL,
  placeIds = NULL,
  units = c("KPH", "MPH"),
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("roads")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_speedLimits_+3A_df_path">df_path</code></td>
<td>
<p><code>data.frame</code> with at least two columns specifying the
latitude &amp; longitude coordinates, with a maximum of 100 pairs of coordinates.</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_lat">lat</code></td>
<td>
<p>string specifying the latitude column</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_lon">lon</code></td>
<td>
<p>string specifying the longitude column</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_placeids">placeIds</code></td>
<td>
<p>vector of Place IDs of the road segments. Place IDs are returned in
response to <a href="#topic+google_snapToRoads">google_snapToRoads</a>
and <a href="#topic+google_nearestRoads">google_nearestRoads</a> reqeusts. You can pass up to 100 placeIds at a time</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_units">units</code></td>
<td>
<p>Whether to return speed limits in kilometers or miles per hour</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be
coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_speedLimits_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Places API key</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The accuracy of speed limit data returned by Google Maps Roads API can not be
guaranteed. The speed limit data provided is not real-time, and may be estimated,
inaccurate, incomplete, and / or outdated.
</p>

<hr>
<h2 id='google_streetview'>Google street view</h2><span id='topic+google_streetview'></span>

<h3>Description</h3>

<p>Displays a static street view image from Google Maps Street View Image API
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_streetview(
  location = NULL,
  panorama_id = NULL,
  size = c(400, 400),
  heading = NULL,
  fov = 90,
  pitch = 0,
  output = c("plot", "html"),
  response_check = FALSE,
  signature = NULL,
  key = get_api_key("streetview")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_streetview_+3A_location">location</code></td>
<td>
<p>numeric vector of lat/lon coordinates, or an address string.</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_panorama_id">panorama_id</code></td>
<td>
<p>a specific panorama ID.</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_size">size</code></td>
<td>
<p>numeric vector of length 2, specifying the output size of the
image in pixels, given in <code>width x height</code>. For example, <code>c(600, 400)</code>
returns an image 600 pixles wide and 400 pixles high.</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_heading">heading</code></td>
<td>
<p>indicates the compass heading of the camera. Accepted values are
from 0 to 360 (both 0 and 360 indicate north), 90 indicates east, 180 south and 270 west.
If no heading is specified a value will be calculated that directs the camera
to wards the specified <code>location</code>, from the point at which the closest
photograph was taken.</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_fov">fov</code></td>
<td>
<p>determines the horizontal field of view of the image. The field of
view is expressed in degrees, with a maximum allowed value of 120. When dealing
with a fixed-size viewport, as with Street View image of a set size, field of
view in essence represents zoom, with small numbers indicating a higher level of zoom</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_pitch">pitch</code></td>
<td>
<p>specifies the up or down angle of the camera relative to the
Street View vehicle. This is often, but not always, flat horizontal.
Positive values angle the camera up (with 90 degrees indicating straight up);
negative values angle the camera down (with -90 indicating straight down)</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_output">output</code></td>
<td>
<p>specifies whether the result should be displayed in R's viewer,
or embedded as HTML inside a webpage.</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_response_check">response_check</code></td>
<td>
<p>logical indicating if the function should first check if
the image is available. If TRUE and no image is available, a warning message
is printed and no image will be downloaded. if FALSE and no image is available,
a blank image will be displayed saying 'Sorry, we have no imagery here'.</p>
</td></tr>
<tr><td><code id="google_streetview_+3A_signature">signature</code></td>
<td>
<p>a digitial signature used to verify that any site generating
requests using your API key is authorised to do so. See Google Documentation
for further details <a href="https://developers.google.com/maps/documentation/streetview/overview">https://developers.google.com/maps/documentation/streetview/overview</a></p>
</td></tr>
<tr><td><code id="google_streetview_+3A_key">key</code></td>
<td>
<p>string. A valid Google Developers Street View Image API key</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

## download and display an image
# key &lt;- "your_api_key"
google_streetview(location = c(-37.817714, 144.96726),
    size = c(400,400), output = "plot",
    key = key)


## no response check - display 'sorry' message
google_streetview(location = c(-37.8, 144),
   size = c(400,400),
   panorama_id = NULL,
   output = "plot",
   heading = 90,
   fov = 90,
   pitch = 0,
   response_check = FALSE,
   key = key)


## embed an image of Flinders Street Station into a Shiny webpage
library(shiny)
library(googleway)

ui &lt;- fluidPage(
  uiOutput(outputId = "myStreetview")
)

server &lt;- function(input, output){
  key &lt;- "your_api_key"

  output$myStreetview &lt;- renderUI({
    tags$img(src = google_streetview(location = c(-37.817714, 144.96726),
                                     size = c(400,400), output = "html",
                                     key = key),  width = "400px", height = "400px")
  })
}

shinyApp(ui, server)


## End(Not run)
</code></pre>

<hr>
<h2 id='google_timezone'>Google timezone</h2><span id='topic+google_timezone'></span>

<h3>Description</h3>

<p>The Google Maps Time Zone API provides time offset data for locations on the
surface of the earth. You request the time zone information for a specific
latitude/longitude pair and date.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>google_timezone(
  location,
  timestamp = Sys.time(),
  language = NULL,
  simplify = TRUE,
  curl_proxy = NULL,
  key = get_api_key("timezone")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="google_timezone_+3A_location">location</code></td>
<td>
<p><code>vector</code> of lat/lon pair</p>
</td></tr>
<tr><td><code id="google_timezone_+3A_timestamp">timestamp</code></td>
<td>
<p><code>POSIXct</code> The Google Maps Time Zone API uses the timestamp to
determine whether or not Daylight Savings should be applied. Will default to
the current system time.</p>
</td></tr>
<tr><td><code id="google_timezone_+3A_language">language</code></td>
<td>
<p><code>string</code> specifies the language in which to return the results.
See the list of supported languages:
<a href="https://developers.google.com/maps/faq#using-google-maps-apis">https://developers.google.com/maps/faq#using-google-maps-apis</a>.
If no langauge is supplied, the service will attempt to use the language of
the domain from which the request was sent.</p>
</td></tr>
<tr><td><code id="google_timezone_+3A_simplify">simplify</code></td>
<td>
<p><code>logical</code> - TRUE indicates the returned JSON will be
coerced into a list. FALSE indicates the returend JSON will be returned as a string</p>
</td></tr>
<tr><td><code id="google_timezone_+3A_curl_proxy">curl_proxy</code></td>
<td>
<p>a curl proxy object</p>
</td></tr>
<tr><td><code id="google_timezone_+3A_key">key</code></td>
<td>
<p><code>string</code> A valid Google Developers Timezone API key.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either list or JSON string of the timezone
</p>


<h3>API use and limits</h3>

<p>The amount of queries you can make to Google's APIs is dependent on both the service
and the API you are using.
</p>
<p>Each API has specific quotas and limits. Check Google's API documentation for details.
</p>
<p>View your usage at the Google Cloud Console <a href="https://console.cloud.google.com/">https://console.cloud.google.com/</a>
</p>
<p>Each API can only accept and return one request at a time. If you write a loop
to make multiple API calls you should ensure you don't go over your quota / limits
during the loop.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
google_timezone(location = c(-37.81659, 144.9841),
               timestamp = as.POSIXct("2016-06-05"),
               key = "&lt;your valid api key&gt;")

## End(Not run)

</code></pre>

<hr>
<h2 id='map_styles'>Map Styles</h2><span id='topic+map_styles'></span>

<h3>Description</h3>

<p>Various styles for a <code>google_map()</code> map.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_styles()
</code></pre>


<h3>Value</h3>

<p>list of styles
</p>


<h3>Note</h3>

<p>you can generate your own map styles at <a href="https://mapstyle.withgoogle.com/">https://mapstyle.withgoogle.com/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
map_key &lt;- "your_map_key"
google_map(key = map_key, style = map_styles()$silver)


## End(Not run)

</code></pre>

<hr>
<h2 id='melbourne'>Melbourne</h2><span id='topic+melbourne'></span>

<h3>Description</h3>

<p>Polygons for Melbourne and the surrounding area
</p>


<h3>Usage</h3>

<pre><code class='language-R'>melbourne
</code></pre>


<h3>Format</h3>

<p>A data frame with 397 observations and 7 variables
</p>

<dl>
<dt>polygonId</dt><dd><p>a unique identifier for each polygon</p>
</dd>
<dt>pathId</dt><dd><p>an identifier for each path that define a polygon</p>
</dd>
<dt>SA2_NAME</dt><dd><p>statistical area 2 name of the polygon</p>
</dd>
<dt>SA3_NAME</dt><dd><p>statistical area 3 name of the polygon</p>
</dd>
<dt>SA4_NAME</dt><dd><p>statistical area 4 name of the polygon</p>
</dd>
<dt>AREASQKM</dt><dd><p>area of the SA2 polygon</p>
</dd>
<dt>polyline</dt><dd><p>encoded polyline that defines each <code>pathId</code></p>
</dd>
</dl>



<h3>Details</h3>

<p>This data set is a subset of the Statistical Area Level 2 (SA2) ASGS
Edition 2016 data released by the Australian Bureau of Statistics
<a href="https://www.abs.gov.au">https://www.abs.gov.au</a>
</p>
<p>The data is realsed under a Creative Commons Attribution 2.5 Australia licence
<a href="https://creativecommons.org/licenses/by/2.5/au/">https://creativecommons.org/licenses/by/2.5/au/</a>
</p>

<hr>
<h2 id='place_fields'>Place Fields</h2><span id='topic+place_fields'></span>

<h3>Description</h3>

<p>Convenience function to return all the valid basic field values for use in a <a href="#topic+google_find_place">google_find_place</a>
search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>place_fields()
</code></pre>

<hr>
<h2 id='set_key'>Set Key</h2><span id='topic+set_key'></span>

<h3>Description</h3>

<p>Sets an API key so it's available for all API calls. See details
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set_key(
  key,
  api = c("default", "map", "directions", "distance", "elevation", "geocode", "places",
    "find_place", "place_autocomplete", "places_details", "roads", "streetview",
    "timezone")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set_key_+3A_key">key</code></td>
<td>
<p>Google API key</p>
</td></tr>
<tr><td><code id="set_key_+3A_api">api</code></td>
<td>
<p>The api for which the key applies. If NULL, the <code>api_key</code> is
assumed to apply to all APIs</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>set_key</code> to make API keys available for all the <code>google_</code>
functions, so you don't need to specify the <code>key</code> parameter within those
functions (for example, see <a href="#topic+google_directions">google_directions</a>).
</p>
<p>The <code>api</code> argument is useful if you use a different API key to access
different APIs. If you just use one API key to access all the APIs,
there is no need to specify the <code>api</code> parameter, the default value <code>api_key</code>
will be used.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## not specifying 'api' will add the key to the 'api_key' list element
set_key(key = "xxx_your_api_key_xxx")

## api key for directions
set_key(key = "xxx_your_api_key_xxx", api = "directions")

## api key for maps
set_key(key = "xxx_your_api_key_xxx", api = "map")


</code></pre>

<hr>
<h2 id='tram_route'>Tram Route</h2><span id='topic+tram_route'></span>

<h3>Description</h3>

<p>The latitude and longitude coordinates specifying the path tram 35 follows in Melbourne.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tram_route
</code></pre>


<h3>Format</h3>

<p>A data frame with 55 observations and 3 variables
</p>

<dl>
<dt>shape_pt_lat</dt><dd><p>the latitude of each point in the route</p>
</dd>
<dt>shape_pt_lon</dt><dd><p>the longitude of each point in the route</p>
</dd>
<dt>shape_pt_sequence</dt><dd><p>the position in the sequence of coordinates for each point</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data is taken from the PTV GTFS data
</p>

<hr>
<h2 id='tram_stops'>Tram stops along tram route 35 in Melbourne</h2><span id='topic+tram_stops'></span>

<h3>Description</h3>

<p>A data set containing the latitude and longitude coordinates of tram stops along route 35 in Melbourne.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tram_stops
</code></pre>


<h3>Format</h3>

<p>A data frame with 41 observations and 4 variables
</p>

<dl>
<dt>stop_id</dt><dd><p>unique ID for each stop</p>
</dd>
<dt>stop_name</dt><dd><p>the name of each stop</p>
</dd>
<dt>stop_lat</dt><dd><p>the latitude of the stop</p>
</dd>
<dt>stop_lon</dt><dd><p>the longitude of the stop</p>
</dd>
</dl>



<h3>Details</h3>

<p>The data is taken from the PTV GTFS data
</p>

<hr>
<h2 id='update_circles'>Update circles</h2><span id='topic+update_circles'></span>

<h3>Description</h3>

<p>Updates specific colours and opacities of specified circles Designed to be
used in a shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_circles(
  map,
  data,
  id,
  radius = NULL,
  draggable = NULL,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  fill_colour = NULL,
  fill_opacity = NULL,
  info_window = NULL,
  layer_id = NULL,
  digits = 4,
  palette = NULL,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_circles_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_circles_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_id">id</code></td>
<td>
<p>string representing the column of <code>data</code> containing the id values
for the shapes. The id values must be present in the original data supplied to in order
for the shape to be udpated.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_radius">radius</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing the
radius of each circle, OR a numeric value specifying the radius of all the circles
(radius is expressed in metres)</p>
</td></tr>
<tr><td><code id="update_circles_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if
the polygon is 'draggable'. The column of data should be logical (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="update_circles_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_circles_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_circles_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_circles_+3A_fill_colour">fill_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_circles_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill opacity of each shape, or a value between 0 and 1 that will be applied
to all the shapes</p>
</td></tr>
<tr><td><code id="update_circles_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="update_circles_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Any circles (as specified by the <code>id</code> argument) that do not exist
in the <code>data</code> passed into <code>add_circles()</code> will not be added to the map.
This function will only update the circles that currently exist on the map when
the function is called.
</p>

<hr>
<h2 id='update_geojson'>update geojson</h2><span id='topic+update_geojson'></span>

<h3>Description</h3>

<p>Updates a geojson layer by a specified style. Designed to work within an interactive
environment (e.g. shiny)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_geojson(map, layer_id = NULL, style)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_geojson_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_geojson_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer.</p>
</td></tr>
<tr><td><code id="update_geojson_+3A_style">style</code></td>
<td>
<p>Style options for the geoJSON. See details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The style object can either be a valid JSON string, or a named list.
The style object will contain the following fields
</p>

<ul>
<li><p>property : the property of the geoJSON that contains the <code>value</code>
</p>
</li>
<li><p>value : the value of the geoJSON that identifies the feature to be updated
</p>
</li>
<li><p>features : a list (or JSON object) of features to be updated
</p>
</li></ul>

<p>see <a href="#topic+add_geojson">add_geojson</a> for valid features
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

style &lt;- paste0('{
    "property" : "AREASQKM",
    "value" : 5,
    "operator" : "&gt;=",
    "features" : {
      "fillColor" : "red",
      "strokeColor" : "red"
    }
  }')

google_map(key = map_key) %&gt;%
    add_geojson(data = geo_melbourne) %&gt;%
    update_geojson(style = style)

lst_style &lt;- list(property = "AREASQKM", operator = "&lt;=", value = 5,
   features = list(fillColor = "red",
   strokeColor = "red"))

google_map(key = map_key) %&gt;%
    add_geojson(data = geo_melbourne) %&gt;%
    update_geojson(style = lst_style)

## Styling a specific feature
style &lt;- '{"property" : "SA2_NAME", "value" : "Abbotsford", "features" : { "fillColor" : "red" } }'
google_map(key = map_key) %&gt;%
  add_geojson(data = geo_melbourne) %&gt;%
  update_geojson(style = style)


## End(Not run)

</code></pre>

<hr>
<h2 id='update_heatmap'>update heatmap</h2><span id='topic+update_heatmap'></span>

<h3>Description</h3>

<p>updates a heatmap layer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_heatmap(
  map,
  data,
  lat = NULL,
  lon = NULL,
  weight = NULL,
  option_gradient = NULL,
  option_dissipating = FALSE,
  option_radius = 0.01,
  option_opacity = 0.6,
  layer_id = NULL,
  update_map_view = TRUE,
  digits = 4,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_heatmap_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_lat">lat</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'latitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_lon">lon</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'longitude'
coordinates. If left NULL, a best-guess will be made</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_weight">weight</code></td>
<td>
<p>string specifying the column of <code>data</code> containing the 'weight'
associated with each point. If NULL, each point will get a weight of 1.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_option_gradient">option_gradient</code></td>
<td>
<p>vector of colours to use as the gradient colours. see Details</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_option_dissipating">option_dissipating</code></td>
<td>
<p>logical Specifies whether heatmaps dissipate on zoom.
When dissipating is FALSE the radius of influence increases with zoom level to
ensure that the color intensity is preserved at any given geographic location.
When set to TRUE you will likely need a greater <code>option_radius</code> value.
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_option_radius">option_radius</code></td>
<td>
<p>numeric. The radius of influence for each data point, in pixels.
Defaults to 0.01</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_option_opacity">option_opacity</code></td>
<td>
<p>The opacity of the heatmap, expressed as a number between
0 and 1. Defaults to 0.6.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_update_map_view">update_map_view</code></td>
<td>
<p>logical specifying if the map should re-centre according to
the shapes</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="update_heatmap_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>option_gradient</code> is only used to craete the legend, and not to change
the colours of the heat layer. If you are not displaying
a legend this argument is not needed. If you are displaying a legend, you should
provide the same gardient as in the <code>add_heatmap</code> call.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

set.seed(20170417)
df &lt;- tram_route
df$weight &lt;- sample(1:10, size = nrow(df), replace = T)

google_map(key = map_key, data = df) %&gt;%
 add_heatmap(lat = "shape_pt_lat", lon = "shape_pt_lon", weight = "weight",
              option_radius = 0.001)

## update by adding the same data again to double the number of points at each location
df_update &lt;- df
google_map(key = map_key, data = df) %&gt;%
 add_heatmap(lat = "shape_pt_lat", lon = "shape_pt_lon", weight = "weight",
              option_radius = 0.001) %&gt;%
 update_heatmap(df_update, lat = "shape_pt_lat", lon = "shape_pt_lon")


## End(Not run)

</code></pre>

<hr>
<h2 id='update_polygons'>Update polygons</h2><span id='topic+update_polygons'></span>

<h3>Description</h3>

<p>Updates specific colours and opacities of specified polygons. Designed to be
used in a shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_polygons(
  map,
  data,
  id,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  fill_colour = NULL,
  fill_opacity = NULL,
  info_window = NULL,
  layer_id = NULL,
  palette = NULL,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_polygons_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_polygons_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_id">id</code></td>
<td>
<p>string representing the column of <code>data</code> containing the id values
for the shapes. The id values must be present in the original data supplied to in order
for the shape to be udpated.</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_fill_colour">fill_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill opacity of each shape, or a value between 0 and 1 that will be applied
to all the shapes</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="update_polygons_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Any polygons (as specified by the <code>id</code> argument) that do not exist
in the <code>data</code> passed into <code>add_polygons()</code> will not be added to the map.
This function will only update the polygons that currently exist on the map
when the function is called.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

pl_outer &lt;- encode_pl(lat = c(25.774, 18.466,32.321),
                      lon = c(-80.190, -66.118, -64.757))

pl_inner &lt;- encode_pl(lat = c(28.745, 29.570, 27.339),
                      lon = c(-70.579, -67.514, -66.668))

pl_other &lt;- encode_pl(c(21,23,22), c(-50, -49, -51))

## using encoded polylines
df &lt;- data.frame(id = c(1,1,2),
                 colour = c("#00FF00", "#00FF00", "#FFFF00"),
                 polyline = c(pl_outer, pl_inner, pl_other),
                 stringsAsFactors = FALSE)

google_map(key = map_key) %&gt;%
  add_polygons(data = df, polyline = 'polyline', id = 'id', fill_colour = 'colour')

df_update &lt;- df[, c("id", "colour")]
df_update$colour &lt;- c("#FFFFFF", "#FFFFFF", "#000000")

google_map(key = map_key) %&gt;%
  add_polygons(data = df, polyline = 'polyline', id = 'id', fill_colour = 'colour') %&gt;%
  update_polygons(data = df_update, id = 'id', fill_colour = 'colour')


df &lt;- aggregate(polyline ~ id + colour, data = df, list)

google_map(key = map_key) %&gt;%
  add_polygons(data = df, polyline = 'polyline', fill_colour = 'colour')

google_map(key = map_key) %&gt;%
  add_polygons(data = df, polyline = 'polyline', id = 'id', fill_colour = 'colour') %&gt;%
  update_polygons(data = df_update, id = 'id', fill_colour = 'colour')


## using coordinates
df &lt;- data.frame(id = c(rep(1, 6), rep(2, 3)),
                 lineId = c(rep(1, 3), rep(2, 3), rep(1, 3)),
                 lat = c(25.774, 18.466, 32.321, 28.745, 29.570, 27.339, 21, 23, 22),
                 lon = c(-80.190, -66.118, -64.757, -70.579, -67.514, -66.668, -50, -49, -51))

google_map(key = map_key) %&gt;%
  add_polygons(data = df, lat = 'lat', lon = 'lon', id = 'id', pathId = 'lineId')

google_map(key = map_key) %&gt;%
  add_polygons(data = df, lat = 'lat', lon = 'lon', id = 'id', pathId = 'lineId') %&gt;%
  update_polygons(data = df_update, id = 'id', fill_colour = 'colour')


## End(Not run)

</code></pre>

<hr>
<h2 id='update_polylines'>Update polylines</h2><span id='topic+update_polylines'></span>

<h3>Description</h3>

<p>Updates specific attributes of polylines. Designed to be
used in a shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_polylines(
  map,
  data,
  id,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  info_window = NULL,
  layer_id = NULL,
  palette = NULL,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_polylines_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_polylines_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_id">id</code></td>
<td>
<p>string representing the column of <code>data</code> containing the id values
for the shapes. The id values must be present in the original data supplied to in order
for the shape to be udpated.</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="update_polylines_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Any polylines (as specified by the <code>id</code> argument) that do not exist
in the <code>data</code> passed into <code>add_polylines()</code> will not be added to the
map. This function will only update the polylines that currently exist on
the map when the function is called.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

map_key &lt;- 'your_api_key'

## coordinate columns
## plot polylines using default attributes
df &lt;- tram_route
df$id &lt;- c(rep(1, 27), rep(2, 28))

df$colour &lt;- c(rep("#00FFFF", 27), rep("#FF00FF", 28))

google_map(key = map_key) %&gt;%
  add_polylines(data = df, lat = 'shape_pt_lat', lon = 'shape_pt_lon',
                stroke_colour = "colour", id = 'id')

## specify width and colour attributes to update
df_update &lt;- data.frame(id = c(1,2),
                        width = c(3,10),
                        colour = c("#00FF00", "#DCAB00"))

google_map(key = map_key) %&gt;%
  add_polylines(data = df, lat = 'shape_pt_lat', lon = 'shape_pt_lon',
                stroke_colour = "colour", id = 'id') %&gt;%
  update_polylines(data = df_update, id = 'id', stroke_weight = "width",
                   stroke_colour = 'colour')


## encoded polylines
pl &lt;- sapply(unique(df$id), function(x){
  encode_pl(lat = df[ df$id == x , 'shape_pt_lat'], lon = df[ df$id == x, 'shape_pt_lon'])
})

df &lt;- data.frame(id = c(1, 2), polyline = pl)

df_update &lt;- data.frame(id = c(1,2),
                        width = c(3,10),
                        var = c("a","b"))

google_map(key = map_key) %&gt;%
  add_polylines(data = df, polyline = 'polyline')

google_map(key = map_key) %&gt;%
  add_polylines(data = df, polyline = 'polyline') %&gt;%
  update_polylines(data = df_update, id = 'id', stroke_weight = "width",
                   stroke_colour = 'var')


## End(Not run)

</code></pre>

<hr>
<h2 id='update_rectangles'>Update rectangles</h2><span id='topic+update_rectangles'></span>

<h3>Description</h3>

<p>Updates specific colours and opacities of specified rectangles Designed to be
used in a shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_rectangles(
  map,
  data,
  id,
  draggable = NULL,
  stroke_colour = NULL,
  stroke_weight = NULL,
  stroke_opacity = NULL,
  fill_colour = NULL,
  fill_opacity = NULL,
  info_window = NULL,
  layer_id = NULL,
  digits = 4,
  palette = NULL,
  legend = F,
  legend_options = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_rectangles_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_data">data</code></td>
<td>
<p>data frame containing the data to use in the layer. If Null, the
data passed into <code>google_map()</code> will be used.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_id">id</code></td>
<td>
<p>string representing the column of <code>data</code> containing the id values
for the shapes. The id values must be present in the original data supplied to in order
for the shape to be udpated.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_draggable">draggable</code></td>
<td>
<p>string specifying the column of <code>data</code> defining if
the polygon is 'draggable'. The column of data should be logical (either TRUE or FALSE)</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_stroke_colour">stroke_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_stroke_weight">stroke_weight</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke weight of each shape, or a number indicating the width of pixels
in the line to be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_stroke_opacity">stroke_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the stroke opacity of each shape, or a value between 0 and 1 that will be
applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_fill_colour">fill_colour</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill colour of each shape, or a valid hexadecimal numeric HTML style to
be applied to all the shapes</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_fill_opacity">fill_opacity</code></td>
<td>
<p>either a string specifying the column of <code>data</code> containing
the fill opacity of each shape, or a value between 0 and 1 that will be applied
to all the shapes</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_info_window">info_window</code></td>
<td>
<p>string specifying the column of data to display in an info
window when a shape is clicked.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_layer_id">layer_id</code></td>
<td>
<p>single value specifying an id for the layer. Use this value to
distinguish between shape layers for when using any <code>update_</code> function, and
for separating legends.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_digits">digits</code></td>
<td>
<p>integer. Use this parameter to specify how many digits (decimal places)
should be used for the latitude / longitude coordinates.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_palette">palette</code></td>
<td>
<p>a function, or list of functions, that generates hex colours
given a single number as an input. See details.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_legend">legend</code></td>
<td>
<p>either a logical indiciating if the legend(s) should be displayed, or
a named list indicating which colour attributes should be included in the legend.</p>
</td></tr>
<tr><td><code id="update_rectangles_+3A_legend_options">legend_options</code></td>
<td>
<p>A list of options for controlling the legend.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Any rectangles (as specified by the <code>id</code> argument) that do not exist
in the <code>data</code> passed into <code>add_rectangles()</code> will not be added to the map.
This function will only update the rectangles that currently exist on the map when
the function is called.
</p>

<hr>
<h2 id='update_style'>Update style</h2><span id='topic+update_style'></span>

<h3>Description</h3>

<p>Updates the map with the given styles
</p>


<h3>Usage</h3>

<pre><code class='language-R'>update_style(map, styles = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update_style_+3A_map">map</code></td>
<td>
<p>a googleway map object created from <code>google_map()</code></p>
</td></tr>
<tr><td><code id="update_style_+3A_styles">styles</code></td>
<td>
<p>JSON string representation of a valid Google Maps styles Array.
See the Google documentation for details <a href="https://developers.google.com/maps/documentation/cloud-customization/cloud-based-map-styling">https://developers.google.com/maps/documentation/cloud-customization/cloud-based-map-styling</a></p>
</td></tr>
</table>


<h3>Note</h3>

<p>This function is intended for use with <a href="#topic+google_map_update">google_map_update</a> in an
interactive shiny environment. You can set the styles of the original map
using the <code>styles</code> argument of <a href="#topic+google_map">google_map</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

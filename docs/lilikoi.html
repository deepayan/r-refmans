<!DOCTYPE html><html><head><title>Help for package lilikoi</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {lilikoi}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#lilikoi.explr'><p>Exploratory analysis</p></a></li>
<li><a href='#lilikoi.featuresSelection'><p>A featuresSelection Function</p></a></li>
<li><a href='#lilikoi.KEGGplot'><p>lilikoi.KEGGplot</p></a></li>
<li><a href='#lilikoi.Loaddata'><p>A Loaddata Function</p></a></li>
<li><a href='#lilikoi.machine_learning'><p>A machine learning Function</p></a></li>
<li><a href='#lilikoi.meta_path'><p>Metabolite-pathway regression</p></a></li>
<li><a href='#lilikoi.MetaTOpathway'><p>A MetaTOpathway Function</p></a></li>
<li><a href='#lilikoi.PDSfun'><p>A PDSfun Function</p></a></li>
<li><a href='#lilikoi.preproc_knn'><p>An imputation function.</p></a></li>
<li><a href='#lilikoi.preproc_norm'><p>A Normalization function.</p></a></li>
<li><a href='#lilikoi.prognosis'><p>Pathway-based prognosis model</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Metabolomics Personalized Pathway Analysis Tool</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>A comprehensive analysis tool for metabolomics data.  It consists a variety of functional modules, including several new modules: a pre-processing module for normalization and imputation, an exploratory data analysis module for dimension reduction and source of variation analysis, a classification module with the new deep-learning method and other machine-learning methods, a prognosis module with cox-PH and neural-network based Cox-nnet methods, and pathway analysis module to visualize the pathway and interpret metabolite-pathway relationships. References: H. Paul Benton <a href="http://www.metabolomics-forum.com/index.php?topic=281.0">http://www.metabolomics-forum.com/index.php?topic=281.0</a> Jeff Xia <a href="https://github.com/cangfengzhe/Metabo/blob/master/MetaboAnalyst/website/name_match.R">https://github.com/cangfengzhe/Metabo/blob/master/MetaboAnalyst/website/name_match.R</a> Travers Ching, Xun Zhu, Lana X. Garmire (2018) &lt;<a href="https://doi.org/10.1371%2Fjournal.pcbi.1006076">doi:10.1371/journal.pcbi.1006076</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>car, caret, dplyr, gbm, ggplot2, glmnet, h2o, impute,
infotheo, limma, M3C, Metrics, MLmetrics, parallel, princurve,
pathview, plyr, preprocessCore, pROC, RCy3, reticulate,
reshape, RWeka, scales, stats, stringr, survminer, survival</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-10-05 18:08:07 UTC; rrrrrita</td>
</tr>
<tr>
<td>Author:</td>
<td>Xinying Fang [aut],
  Yu Liu [aut],
  Zhijie Ren [aut],
  Fadhl Alakwaa [aut],
  Sijia Huang [aut],
  Lana Garmire [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lana Garmire &lt;lana.garmire.group@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-10-05 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='lilikoi.explr'>Exploratory analysis</h2><span id='topic+lilikoi.explr'></span>

<h3>Description</h3>

<p>Performs source of variation test and build PCA and t-SNE plots to visualize important information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.explr(data, demo.data, pca = FALSE, tsne = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.explr_+3A_data">data</code></td>
<td>
<p>is a input data frame for analysis with sample ids as row names and metabolite names or pathway names as column names.</p>
</td></tr>
<tr><td><code id="lilikoi.explr_+3A_demo.data">demo.data</code></td>
<td>
<p>is a demographic data frame with sample ids as row names, sample groups and demographic variable names as column names.</p>
</td></tr>
<tr><td><code id="lilikoi.explr_+3A_pca">pca</code></td>
<td>
<p>if TRUE, PCA plot will be out.</p>
</td></tr>
<tr><td><code id="lilikoi.explr_+3A_tsne">tsne</code></td>
<td>
<p>if TRUE, T-SNE plot will be out.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Source of variation test results and PCA and t-SNE plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# lilikoi.explr(data, demo.data, pca=TRUE, tsne=FALSE)

</code></pre>

<hr>
<h2 id='lilikoi.featuresSelection'>A featuresSelection Function</h2><span id='topic+lilikoi.featuresSelection'></span>

<h3>Description</h3>

<p>This function allows you to reduce the pathway diemsion using xxxx
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.featuresSelection(PDSmatrix, threshold = 0.5, method = "info")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.featuresSelection_+3A_pdsmatrix">PDSmatrix</code></td>
<td>
<p>from PDSfun function</p>
</td></tr>
<tr><td><code id="lilikoi.featuresSelection_+3A_threshold">threshold</code></td>
<td>
<p>to select the top pathways</p>
</td></tr>
<tr><td><code id="lilikoi.featuresSelection_+3A_method">method</code></td>
<td>
<p>information gain (&quot;info&quot;) or gain ratio (&quot;gain&quot;)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of top metabolites or pathways.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt &lt;- lilikoi.Loaddata(file=system.file("extdata",
  "plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
dataSet &lt;- dt$dataSet
# Metabolite_pathway_table=lilikoi.MetaTOpathway('name')
# PDSmatrix= lilikoi.PDSfun(Metabolite_pathway_table)
# selected_Pathways_Weka= lilikoi.featuresSelection(PDSmatrix,threshold= 0.50,method="gain")


</code></pre>

<hr>
<h2 id='lilikoi.KEGGplot'>lilikoi.KEGGplot</h2><span id='topic+lilikoi.KEGGplot'></span>

<h3>Description</h3>

<p>Visualizes selected pathways based on their metabolites expression data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.KEGGplot(
  metamat,
  sampleinfo,
  grouporder,
  pathid = "00250",
  specie = "hsa",
  filesuffix = "GSE16873",
  Metabolite_pathway_table = Metabolite_pathway_table
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.KEGGplot_+3A_metamat">metamat</code></td>
<td>
<p>metabolite expression data matrix</p>
</td></tr>
<tr><td><code id="lilikoi.KEGGplot_+3A_sampleinfo">sampleinfo</code></td>
<td>
<p>is a vector of sample group, with element names as sample IDs.</p>
</td></tr>
<tr><td><code id="lilikoi.KEGGplot_+3A_grouporder">grouporder</code></td>
<td>
<p>grouporder is a vector with 2 elements,
the first element is the reference group name, like 'Normal', the second one is the experimental group name like 'Cancer'.</p>
</td></tr>
<tr><td><code id="lilikoi.KEGGplot_+3A_pathid">pathid</code></td>
<td>
<p>character variable, Pathway ID, usually 5 digits.</p>
</td></tr>
<tr><td><code id="lilikoi.KEGGplot_+3A_specie">specie</code></td>
<td>
<p>character, scientific name of the targeted species.</p>
</td></tr>
<tr><td><code id="lilikoi.KEGGplot_+3A_filesuffix">filesuffix</code></td>
<td>
<p>output file suffix</p>
</td></tr>
<tr><td><code id="lilikoi.KEGGplot_+3A_metabolite_pathway_table">Metabolite_pathway_table</code></td>
<td>
<p>Metabolites mapping table</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Pathview visualization output
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt = lilikoi.Loaddata(file=system.file("extdata","plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
dataSet &lt;- dt$dataSet
# convertResults=lilikoi.MetaTOpathway('name')
# Metabolite_pathway_table = convertResults$table

# data_dir=system.file("extdata", "plasma_breast_cancer.csv", package = "lilikoi")
# plasma_data &lt;- read.csv(data_dir, check.names=FALSE, row.names=1, stringsAsFactors = FALSE)
# sampleinfo &lt;- plasma_data$Label
# names(sampleinfo) &lt;- row.names(plasma_data)

# metamat &lt;- t(t(plasma_data[-1]))
# metamat &lt;- log2(metamat)
# grouporder &lt;- c('Normal', 'Cancer')
# make sure install pathview package first before running the following code.
# library(pathview)
# data("bods", package = "pathview")
# options(bitmapType='cairo')
 #lilikoi.KEGGplot(metamat = metamat, sampleinfo = sampleinfo, grouporder = grouporder,
  #pathid = '00250', specie = 'hsa',filesuffix = 'GSE16873',
  #Metabolite_pathway_table = Metabolite_pathway_table)

</code></pre>

<hr>
<h2 id='lilikoi.Loaddata'>A Loaddata Function</h2><span id='topic+lilikoi.Loaddata'></span>

<h3>Description</h3>

<p>This function allows you to load your metabolomics data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.Loaddata(filename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.Loaddata_+3A_filename">filename</code></td>
<td>
<p>file name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame named Metadata.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
 lilikoi.Loaddata(file=system.file("extdata", "plasma_breast_cancer.csv", package = "lilikoi"))

</code></pre>

<hr>
<h2 id='lilikoi.machine_learning'>A machine learning Function</h2><span id='topic+lilikoi.machine_learning'></span>

<h3>Description</h3>

<p>This function for classification using 8 different machine learning algorithms
and it plots the ROC curves and the AUC, SEN, and specificty
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.machine_learning(
  MLmatrix = PDSmatrix,
  measurementLabels = Label,
  significantPathways = selected_Pathways_Weka,
  trainportion = 0.8,
  cvnum = 10,
  dlround = 50,
  nrun = 10,
  Rpart = TRUE,
  LDA = TRUE,
  SVM = TRUE,
  RF = TRUE,
  GBM = TRUE,
  PAM = TRUE,
  LOG = TRUE,
  DL = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.machine_learning_+3A_mlmatrix">MLmatrix</code></td>
<td>
<p>selected pathway deregulation score or metabolites expression matrix</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_measurementlabels">measurementLabels</code></td>
<td>
<p>measurement label for samples</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_significantpathways">significantPathways</code></td>
<td>
<p>selected pathway names</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_trainportion">trainportion</code></td>
<td>
<p>train percentage of the total sample size</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_cvnum">cvnum</code></td>
<td>
<p>number of folds</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_dlround">dlround</code></td>
<td>
<p>epoch number for the deep learning method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_nrun">nrun</code></td>
<td>
<p>denotes the total number of runs of each method to get their averaged performance metrics</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_rpart">Rpart</code></td>
<td>
<p>TRUE if run Rpart method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_lda">LDA</code></td>
<td>
<p>TRUE if run LDA method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_svm">SVM</code></td>
<td>
<p>TRUE if run SVM method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_rf">RF</code></td>
<td>
<p>TRUE if run random forest method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_gbm">GBM</code></td>
<td>
<p>TRUE if run GBM method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_pam">PAM</code></td>
<td>
<p>TRUE if run PAM method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_log">LOG</code></td>
<td>
<p>TRUE if run LOG method</p>
</td></tr>
<tr><td><code id="lilikoi.machine_learning_+3A_dl">DL</code></td>
<td>
<p>TRUE if run deep learning method</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Evaluation results and plots of all 8 machine learning algorithms, along with variable importance plots.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt = lilikoi.Loaddata(file=system.file("extdata","plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
# lilikoi.machine_learning(MLmatrix = Metadata, measurementLabels = Metadata$Label,
# significantPathways = 0,
# trainportion = 0.8, cvnum = 10, dlround=50,Rpart=TRUE,
# LDA=FALSE,SVM=FALSE,RF=FALSE,GBM=FALSE,PAM=FALSE,LOG=FALSE,DL=FALSE)

</code></pre>

<hr>
<h2 id='lilikoi.meta_path'>Metabolite-pathway regression</h2><span id='topic+lilikoi.meta_path'></span>

<h3>Description</h3>

<p>Performs single variate linear regression between selected pathways and each of their metabolites.
Output the network plot between pathways and metabolties.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.meta_path(
  PDSmatrix,
  selected_Pathways_Weka,
  Metabolite_pathway_table,
  pathway = "Pyruvate Metabolism"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.meta_path_+3A_pdsmatrix">PDSmatrix</code></td>
<td>
<p>Pathway deregulation score matrix</p>
</td></tr>
<tr><td><code id="lilikoi.meta_path_+3A_selected_pathways_weka">selected_Pathways_Weka</code></td>
<td>
<p>Selected top pathways from the featureSelection function</p>
</td></tr>
<tr><td><code id="lilikoi.meta_path_+3A_metabolite_pathway_table">Metabolite_pathway_table</code></td>
<td>
<p>Metabolites mapping table</p>
</td></tr>
<tr><td><code id="lilikoi.meta_path_+3A_pathway">pathway</code></td>
<td>
<p>interested pathway name</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A bipartite graph of the relationships between pathways and their corresponding metabolites.
</p>

<hr>
<h2 id='lilikoi.MetaTOpathway'>A MetaTOpathway Function</h2><span id='topic+lilikoi.MetaTOpathway'></span>

<h3>Description</h3>

<p>This function allows you to convert your metabolites id such as names, kegg ids, pubchem ids.
into pathways. Metabolites which have not pathways will be excluded from any downstream analysis
make sure that you have three database files which are used for exact and fuzzy matching:
cmpd_db.rda, syn_nms_db.rda and Sijia_pathway.rda
This function was modified version of the name.match function in the below link:
https://github.com/cangfengzhe/Metabo/blob/master/MetaboAnalyst/website/name_match.R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.MetaTOpathway(
  q.type,
  hmdb = TRUE,
  pubchem = TRUE,
  chebi = FALSE,
  kegg = TRUE,
  metlin = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.MetaTOpathway_+3A_q.type">q.type</code></td>
<td>
<p>The type of the metabolites id such as 'name', 'kegg', 'hmdb','pubchem'</p>
</td></tr>
<tr><td><code id="lilikoi.MetaTOpathway_+3A_hmdb">hmdb</code></td>
<td>
<p>if TRUE, match metabolites id to the HMDB database.</p>
</td></tr>
<tr><td><code id="lilikoi.MetaTOpathway_+3A_pubchem">pubchem</code></td>
<td>
<p>if TRUE, match metabolites id to the PubChem database.</p>
</td></tr>
<tr><td><code id="lilikoi.MetaTOpathway_+3A_chebi">chebi</code></td>
<td>
<p>if TRUE, match metabolites id to the ChEBI database.</p>
</td></tr>
<tr><td><code id="lilikoi.MetaTOpathway_+3A_kegg">kegg</code></td>
<td>
<p>if TRUE, match metabolites id to the KEGG database.</p>
</td></tr>
<tr><td><code id="lilikoi.MetaTOpathway_+3A_metlin">metlin</code></td>
<td>
<p>if TRUE, match metabolites id to the METLIN database.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A table showing the convertion results from metabolites ids to ids in different metabolomics databases and pathway ids and names.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt &lt;- lilikoi.Loaddata(file=system.file("extdata",
  "plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
dataSet &lt;- dt$dataSet
# Metabolite_pathway_table=lilikoi.MetaTOpathway('name')


</code></pre>

<hr>
<h2 id='lilikoi.PDSfun'>A PDSfun Function</h2><span id='topic+lilikoi.PDSfun'></span>

<h3>Description</h3>

<p>This function allows you to compute Pathway Desregulation Score deriving
make sure that you have the below database for the metabolites and pathway list:
meta_path.RData
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.PDSfun(qvec)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.PDSfun_+3A_qvec">qvec</code></td>
<td>
<p>This is the Metabolite_pathway_table from MetaTOpathway function. This table includes the metabolites ids and the its corssponding hmdb ids</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A large matrix of the pathway deregulation scores for each pathway in different samples.
</p>


<h3>References</h3>

<p>Nygård, S., Lingjærde, O.C., Caldas, C. et al.
PathTracer: High-sensitivity detection of differential pathway activity in tumours.
Sci Rep 9, 16332 (2019). https://doi.org/10.1038/s41598-019-52529-3
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt &lt;- lilikoi.Loaddata(file=system.file("extdata",
  "plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
dataSet &lt;- dt$dataSet
convertResults=lilikoi.MetaTOpathway('name')
Metabolite_pathway_table = convertResults$table
# PDSmatrix= lilikoi.PDSfun(Metabolite_pathway_table)

</code></pre>

<hr>
<h2 id='lilikoi.preproc_knn'>An imputation function.</h2><span id='topic+lilikoi.preproc_knn'></span>

<h3>Description</h3>

<p>This function is used to preprocess data via knn imputation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.preproc_knn(inputdata = Metadata, method = c("knn"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.preproc_knn_+3A_inputdata">inputdata</code></td>
<td>
<p>An expression data frame with samples in the rows, metabolites in the columns</p>
</td></tr>
<tr><td><code id="lilikoi.preproc_knn_+3A_method">method</code></td>
<td>
<p>The method to be used to process data, including</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A KNN imputed dataset with samples in the rows, metabolites in the columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt &lt;- lilikoi.Loaddata(file=system.file("extdata",
  "plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
dataSet &lt;- dt$dataSet
lilikoi.preproc_knn(inputdata=Metadata, method="knn")

</code></pre>

<hr>
<h2 id='lilikoi.preproc_norm'>A Normalization function.</h2><span id='topic+lilikoi.preproc_norm'></span>

<h3>Description</h3>

<p>This function is used to preprocess data via normalization.
It provides three normalization methods: standard normalization, quantile
normalization and median fold normalization. The median fold normalization is adapted
from http://www.metabolomics-forum.com/index.php?topic=281.0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.preproc_norm(
  inputdata = Metadata,
  method = c("standard", "quantile", "median")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.preproc_norm_+3A_inputdata">inputdata</code></td>
<td>
<p>An expression data frame with samples in the rows, metabolites in the columns</p>
</td></tr>
<tr><td><code id="lilikoi.preproc_norm_+3A_method">method</code></td>
<td>
<p>The method to be used to process data, including standard normalization (standard), quantile
normalization (quantile) and median fold normalization (median).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A normalized dataset with samples in the rows, metabolites in the columns.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
dt &lt;- lilikoi.Loaddata(file=system.file("extdata",
 "plasma_breast_cancer.csv", package = "lilikoi"))
Metadata &lt;- dt$Metadata
dataSet &lt;- dt$dataSet
lilikoi.preproc_norm(inputdata=Metadata, method="standard")

</code></pre>

<hr>
<h2 id='lilikoi.prognosis'>Pathway-based prognosis model</h2><span id='topic+lilikoi.prognosis'></span>

<h3>Description</h3>

<p>Fits a Cox proportional hazards regression model or a Cox neural network model
to predict survival results.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lilikoi.prognosis(
  event,
  time,
  exprdata,
  percent = NULL,
  alpha = 1,
  nfold = 5,
  method = "median",
  cvlambda = "lambda.1se",
  python.path = NULL,
  path = NULL,
  coxnnet = FALSE,
  coxnnet_method = "gradient"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lilikoi.prognosis_+3A_event">event</code></td>
<td>
<p>survival event</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_time">time</code></td>
<td>
<p>survival time</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_exprdata">exprdata</code></td>
<td>
<p>dataset for penalization, with id in the rownames and pathway or metabolites
names in the column names.</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_percent">percent</code></td>
<td>
<p>train-test separation percentage</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_alpha">alpha</code></td>
<td>
<p>denote which penalization method to use.</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_nfold">nfold</code></td>
<td>
<p>fold number for cross validation</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_method">method</code></td>
<td>
<p>determine the prognosis index, &quot;quantile&quot;, &quot;quantile&quot; or &quot;ratio&quot;.</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_cvlambda">cvlambda</code></td>
<td>
<p>determine the lambda for prediction, &quot;lambda.min&quot; or &quot;lambda.1se&quot;.</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_python.path">python.path</code></td>
<td>
<p>saved path for python3</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_path">path</code></td>
<td>
<p>saved path for the L2cross_nopercent.py and L2cross.py files in lilikoi</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_coxnnet">coxnnet</code></td>
<td>
<p>if TRUE, coxnnet will be used.</p>
</td></tr>
<tr><td><code id="lilikoi.prognosis_+3A_coxnnet_method">coxnnet_method</code></td>
<td>
<p>the algorithm for gradient descent. Includes standard gradient descent (&quot;gradient&quot;), Nesterov accelerated gradient &quot;nesterov&quot; and momentum gradient descent (&quot;momentum&quot;).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of components: </p>
<table>
<tr><td><code>c_index</code></td>
<td>
<p>C-index of the Cox-PH model</p>
</td></tr> <tr><td><code>difftest</code></td>
<td>
<p>Test results of the survival curve difference test</p>
</td></tr>
<tr><td><code>survp</code></td>
<td>
<p>Kaplan Meier plot</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
# inst.path = path.package('lilikoi', quiet = FALSE) # path = "lilikoi/inst/", use R to run
# inst.path = file.path(inst.path, 'inst')
# python.path = "/Library/Frameworks/Python.framework/Versions/3.8/bin/python3"
# Prepare survival event, survival time and exprdata from your dataset.
# lilikoi.prognosis(event, time, exprdata, percent=NULL, alpha=0, nfold=5, method="median",
#   cvlambda=NULL,python.path=NULL, path=inst.path, python.path=python.path,
#   coxnnet=FALSE,coxnnet_method="gradient")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

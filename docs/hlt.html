<!DOCTYPE html><html lang="en"><head><title>Help for package hlt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {hlt}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#asti'><p>asti data</p></a></li>
<li><a href='#get_hlt_start'><p>hlt Starting Values</p></a></li>
<li><a href='#hlt'><p>Explanatory and Descriptive Higher-Order Item Response Theory</p>
(Latent Trait Theory)</a></li>
<li><a href='#hltsim'><p>Simulate the HLT model</p></a></li>
<li><a href='#merge_chains'><p>Merge Chains from hlt method</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Higher-Order Item Response Theory</td>
</tr>
<tr>
<td>Version:</td>
<td>1.3.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-08-14</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Kleinsasser &lt;mjkleinsa@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Higher-order latent trait theory (item response theory). We
    implement the generalized partial credit model with a second-order latent
    trait structure. Latent regression can be done on the second-order latent
    trait. For a pre-print of the methods,
    see, "Latent Regression in Higher-Order Item Response Theory with the R
    Package hlt" <a href="https://mkleinsa.github.io/doc/hlt_proof_draft_brmic.pdf">https://mkleinsa.github.io/doc/hlt_proof_draft_brmic.pdf</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp (&ge; 1.0.8), RcppDist, RcppProgress, tidyr, ggplot2,
truncnorm, foreach, doParallel</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppDist, RcppProgress</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/mkleinsa/hlt">https://github.com/mkleinsa/hlt</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/mkleinsa/hlt/issues">https://github.com/mkleinsa/hlt/issues</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-19 15:55:47 UTC; mk</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Kleinsasser [aut, cre]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-22 10:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='asti'>asti data</h2><span id='topic+asti'></span>

<h3>Description</h3>

<p>asti data
</p>


<h3>References</h3>

<p>Levenson, M. R., Jennings, P. A., Aldwin, C. M., &amp; Shiraishi,
R. W. (2005). Self-transcendence: conceptualization and measurement. The 
International Journal of Aging and Human Development, 60, 127-143.
</p>

<hr>
<h2 id='get_hlt_start'>hlt Starting Values</h2><span id='topic+get_hlt_start'></span>

<h3>Description</h3>

<p>Get starting values from hlt fit object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_hlt_start(x, nchains = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_hlt_start_+3A_x">x</code></td>
<td>
<p>hlt model fit object</p>
</td></tr>
<tr><td><code id="get_hlt_start_+3A_nchains">nchains</code></td>
<td>
<p>number of chains to get starting values</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of lists with starting values for each chain
</p>

<hr>
<h2 id='hlt'>Explanatory and Descriptive Higher-Order Item Response Theory 
(Latent Trait Theory)</h2><span id='topic+hlt'></span>

<h3>Description</h3>

<p>Fit a higher-order item response theory model under the generalized 
partial credit measurement model. The goal is to explain multiple latent dimensions
by a single higher-order dimension. We extend this model with an option to perform regression 
on the general latent dimension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hlt(
  x,
  z = NULL,
  id,
  iter,
  burn = iter/2,
  delta,
  type = "2p",
  start = list(list(lambda = c(), theta = c(), delta = c(), alpha = c(), beta = c())),
  nchains = 1,
  progress = TRUE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hlt_+3A_x">x</code></td>
<td>
<p>matrix of item responses. Responses must be integers where the 
lowest value is 0 and the highest value is the maximum possible response
for the item with no gaps. If a question is asked with 5 possible responses,
then the possible values should be c(0,1,2,3,4). For binary items, use
c(0,1).</p>
</td></tr>
<tr><td><code id="hlt_+3A_z">z</code></td>
<td>
<p>centered numeric matrix of predictors for the latent regression. 
Default is 'z = NULL' so that no regression is performed. All columns
of this matrix must be numeric. For binary items, use the values c(0,1).
For continuous items, center the values on the mean and divide by the 
standard deviation (normalized). For factors with more than two levels, 
recode into multiple columns of c(0,1).</p>
</td></tr>
<tr><td><code id="hlt_+3A_id">id</code></td>
<td>
<p>I.D. vector indexing first-order latent dimension membership
for each of the first-order latent dimensions. We index starting from zero,
not one. If there are three first-order .
latent dimensions with 5 questions per dimension, then the vector will look
like c(0,0,0,0,0,1,1,1,1,1,2,2,2,2,2).</p>
</td></tr>
<tr><td><code id="hlt_+3A_iter">iter</code></td>
<td>
<p>number of total iterations.</p>
</td></tr>
<tr><td><code id="hlt_+3A_burn">burn</code></td>
<td>
<p>number of burn in iterations.</p>
</td></tr>
<tr><td><code id="hlt_+3A_delta">delta</code></td>
<td>
<p>tuning parameter for Metropolis-Hanstings algorithm. Alter 
delta until acceptance.ratio =~ 0.234.</p>
</td></tr>
<tr><td><code id="hlt_+3A_type">type</code></td>
<td>
<p>type of Partial Credit Model to fit. If the partial credit model
is desired (i.e. all alpha parameters = 1), then choose 'type = &quot;1p&quot;'.
If the Generalized Parial Credit Model is desired, then choose
'type = &quot;2p&quot;'. The default is 'type = &quot;2p&quot;'.</p>
</td></tr>
<tr><td><code id="hlt_+3A_start">start</code></td>
<td>
<p>starting values for the Metropolis-Hastings algorithm.</p>
</td></tr>
<tr><td><code id="hlt_+3A_nchains">nchains</code></td>
<td>
<p>number of independent MCMC chains. Default is 'nchains = 1'.</p>
</td></tr>
<tr><td><code id="hlt_+3A_progress">progress</code></td>
<td>
<p>boolean, show progress bar? Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="hlt_+3A_verbose">verbose</code></td>
<td>
<p>print verbose messages. Defaults to 'FALSE'.
Provide a 'list' with the following named arguments:
'list(lambda = c(), theta = c(), delta = c(), alpha = c(), beta = c())'
</p>

<ul>
<li><p>lambda - vector of starting values for the latent factor loadings.
</p>
</li>
<li><p>theta - vector of starting values for the abilities.
</p>
</li>
<li><p>delta - vector of starting values for the difficulties.
</p>
</li>
<li><p>alpha - vector of starting values for the slope parameters.
</p>
</li>
<li><p>beta - vector of starting values for the latent regression parameters
</p>
</li></ul>

<p>If you choose specify starting values, then the lengths of the starting value
vectors must match the number of parameters in the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'list' containing:
</p>

<ul>
<li><p>post - A 'matrix' of posterior estimates. Rows are the draws and columns 
are the named parameters.
</p>
</li>
<li><p>accept.rate - acceptance rate of MH algorithm
</p>
</li>
<li><p>theta - 'matrix' of mean (first column) and standard deviation 
(second column) of posterior estimates of ability parameters
</p>
</li>
<li><p>nT - number of latent factors estimated
</p>
</li>
<li><p>args - returns the arguments to hlt
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# set seed
set.seed(153)

# load the asti data set
data("asti")

# shift responses to range from 0 instead of 1
x = as.matrix(asti[, 1:25]) - 1

# subset and transform predictor data
z = asti[, 26:27]
z[, 1] = (z[, 1] == "students") * 1
z[, 2] = (z[, 2] == "male") * 1
z = as.matrix(z)

# specify which items from x belong to each domain
id = c(0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,3,3,3,4,4,4,4,4,4)

# fit the model
mod = hlt(x, z = z, id = id, iter = 20, burn = 10, delta = 0.002)

mod$accept.rate # ideally 0.234


plot(mod, param = "lambda1", type = "trace")
plot(mod, param = "lambda2", type = "trace")
plot(mod, param = "lambda3", type = "trace")
plot(mod, param = "a1", type = "trace")
plot(mod, param = "d2_3", type = "trace")
plot(mod, param = "beta1", type = "trace")

plot(mod, item = 1, type = "icc")
plot(mod, item = 2, type = "icc")
plot(mod, item = 3, type = "icc")
plot(mod, item = 4, type = "icc")
plot(mod, item = 5, type = "icc")
plot(mod, item = 6, type = "icc")
plot(mod, item = 7, type = "icc", min = -10, max = 10)

summary(mod, param = "all")
summary(mod, param = "delta", digits = 2)
summary(mod, param = "lambda")
summary(mod, param = "alpha")
summary(mod, param = "delta")
summary(mod, param = "theta", dimension = 1)
summary(mod, param = "theta", dimension = 2)
summary(mod, param = "theta", dimension = 3)
summary(mod, param = "theta", dimension = 4)

# start from a previous run's solution
post = tail(mod$post, 1)
start = list(lambda = post[1, c("lambda1", "lambda2", "lambda3", "lambda4", "lambda5")],
             theta = mod$theta_mean, 
             delta = post[1, grepl("^[d]", colnames(post))], 
             alpha = post[1, paste0("a", 1:25)], 
             beta = post[1, c("beta1", "beta2")])
             
mod = hlt(x, z = z, id = id, start = start, iter = 20, burn = 10, delta = 0.002)




</code></pre>

<hr>
<h2 id='hltsim'>Simulate the HLT model</h2><span id='topic+hltsim'></span>

<h3>Description</h3>

<p>Simulate the HLT model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hltsim(type, n, ntheta, lambda, id, dL, nB, beta = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="hltsim_+3A_type">type</code></td>
<td>
<p>type of model to simulate. 'type = &quot;1p&quot;' for the partial
credit model. 'type = &quot;2p&quot;' for the generalized partial
credit model.</p>
</td></tr>
<tr><td><code id="hltsim_+3A_n">n</code></td>
<td>
<p>number of observations</p>
</td></tr>
<tr><td><code id="hltsim_+3A_ntheta">ntheta</code></td>
<td>
<p>number first-level of latent dimensions</p>
</td></tr>
<tr><td><code id="hltsim_+3A_lambda">lambda</code></td>
<td>
<p>latent factor coefficients</p>
</td></tr>
<tr><td><code id="hltsim_+3A_id">id</code></td>
<td>
<p>number of questions</p>
</td></tr>
<tr><td><code id="hltsim_+3A_dl">dL</code></td>
<td>
<p>number of levels for each question</p>
</td></tr>
<tr><td><code id="hltsim_+3A_nb">nB</code></td>
<td>
<p>number of regression parameters. nB = ncol(z).</p>
</td></tr>
<tr><td><code id="hltsim_+3A_beta">beta</code></td>
<td>
<p>what value to set the regression parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a 'list' containing 
</p>

<ul>
<li><p>x - matrix of simulated item responses
</p>
</li>
<li><p>theta - matrix of true latent ability
</p>
</li>
<li><p>id - I.Ds for item membership to each dimension
</p>
</li>
<li><p>namesx - vector of column names for each item
</p>
</li>
<li><p>s.cor - true correlations between latent ability dimensions
</p>
</li>
<li><p>s.delta - true difficulty parameters
</p>
</li>
<li><p>s.lambda - true loading parameters
</p>
</li>
<li><p>s.alpha - true discrimination parameters
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>xdat = hltsim(n = 250, type = "2p", ntheta = 4, 
              lambda = c(0.5, 0.8, 0.9, 0.4), id = c(rep(0, 15),         
              rep(1, 15), rep(2, 15), rep(3, 15)), dL = 2)
mod1 = hlt(x = xdat$x, id = xdat$id, iter = 12e1, 
           burn = 6e1, delta = 0.023)

xdat = hltsim(n = 250, type = "2p", ntheta = 4, 
              lambda = c(0.5, 0.8, 0.9, 0.4), id = c(rep(0, 15),         
              rep(1, 15), rep(2, 15), rep(3, 15)), dL = 2,
              beta = c(0.5, -0.7), nB = 2)
mod2 = hlt(x = xdat$x, id = xdat$id, z = xdat$z, 
           iter = 12e1, burn = 6e1, delta = 0.023, nchains = 1)


</code></pre>

<hr>
<h2 id='merge_chains'>Merge Chains from hlt method</h2><span id='topic+merge_chains'></span>

<h3>Description</h3>

<p>Merge Chains from hlt method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>merge_chains(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="merge_chains_+3A_x">x</code></td>
<td>
<p>object of class &quot;hltObjList&quot;</p>
</td></tr>
<tr><td><code id="merge_chains_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of class 'hltObj'. This class constructs a single 'hltObj'
from a list of model fits by merging the chains into one matrix of draws.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

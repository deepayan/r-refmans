<!DOCTYPE html><html lang="en"><head><title>Help for package adobeanalyticsr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {adobeanalyticsr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#aw_anomaly_report'><p>Anomaly Report</p></a></li>
<li><a href='#aw_auth'><p>Generate an Access Token for the Adobe Analytics v2.0 API</p></a></li>
<li><a href='#aw_auth_with'><p>Set authorization options</p></a></li>
<li><a href='#aw_freeform_table'><p>Get a freeform table</p></a></li>
<li><a href='#aw_get_calculatedmetrics'><p>Get a list of calculated metrics.</p></a></li>
<li><a href='#aw_get_dimensions'><p>Get list of dimensions</p></a></li>
<li><a href='#aw_get_metrics'><p>Get list of metrics</p></a></li>
<li><a href='#aw_get_project_config'><p>Pull a project configuration</p></a></li>
<li><a href='#aw_get_projects'><p>Pull a list of projects</p></a></li>
<li><a href='#aw_get_reportsuites'><p>Get list of report suites</p></a></li>
<li><a href='#aw_get_segments'><p>Get a list of segments</p></a></li>
<li><a href='#aw_get_tags'><p>Get a list of tags</p></a></li>
<li><a href='#aw_segment_table'><p>Get a segment-row freeform table</p></a></li>
<li><a href='#aw_token'><p>OAuth2 Token for Adobe Analytics (deprecated)</p></a></li>
<li><a href='#aw_workspace_report'><p>Use a prebuilt json query to pull a ranked report</p></a></li>
<li><a href='#cm_build'><p>Build a Calculated Metric</p></a></li>
<li><a href='#cm_copy'><p>Copy a Calculated Metric</p></a></li>
<li><a href='#cm_delete'><p>Delete A Calculated Metric Function</p></a></li>
<li><a href='#cm_formula'><p>Create A Calculated Metric Formula</p></a></li>
<li><a href='#cm_function'><p>Create A Calculated Metric Function</p></a></li>
<li><a href='#cm_update'><p>Update Calculated Metric Functions</p></a></li>
<li><a href='#cm_val'><p>Validate the definition of a Calculated Metric</p></a></li>
<li><a href='#get_cm_functions'><p>Get Calculated Metric Functions</p></a></li>
<li><a href='#get_me'><p>Get Company Ids</p></a></li>
<li><a href='#get_usage_logs'><p>Get a list of user usage</p></a></li>
<li><a href='#get_users'><p>Get list of users</p></a></li>
<li><a href='#proj_build'><p>Create a project in Adobe</p></a></li>
<li><a href='#proj_update'><p>Edit a project in Adobe</p></a></li>
<li><a href='#retrieve_aw_token'><p>Retrieve a token</p></a></li>
<li><a href='#seg_build'><p>Build the Segment in Adobe Analytics</p></a></li>
<li><a href='#seg_con'><p>Create the segment container</p></a></li>
<li><a href='#seg_copy'><p>Copy a segment in Adobe Analytics</p></a></li>
<li><a href='#seg_delete'><p>Delete A Segment</p></a></li>
<li><a href='#seg_rule'><p>Create the segment rule</p></a></li>
<li><a href='#seg_seq'><p>Create the segment sequence container</p></a></li>
<li><a href='#seg_then'><p>Create the segment sequence then object</p></a></li>
<li><a href='#seg_update'><p>Update A Segment</p></a></li>
<li><a href='#seg_val'><p>Validate a segment</p></a></li>
<li><a href='#seg_verbs'><p>Verbs available in segment rules.</p></a></li>
<li><a href='#tags_add'><p>Add a tag to a component</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.0</td>
</tr>
<tr>
<td>Title:</td>
<td>R Client for 'Adobe Analytics' API 2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Connect to the 'Adobe Analytics' API v2.0 <a href="https://github.com/AdobeDocs/analytics-2.0-apis">https://github.com/AdobeDocs/analytics-2.0-apis</a>
             which powers 'Analysis Workspace'. The package was developed
             with the analyst in mind, and it will continue to be
             developed with the guiding principles of iterative,
             repeatable, timely analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>assertthat (&ge; 0.2.0), jsonlite (&ge; 1.5), dplyr (&ge; 0.8.1),
stringr (&ge; 1.4.0), purrr (&ge; 0.3.3), httr (&ge; 1.3.1), tidyr
(&ge; 1.0.0), rlang (&ge; 0.4.8), lubridate (&ge; 1.7.9), ggplot2 (&ge;
3.3.2), scales (&ge; 1.1.1), R6, jose, openssl, lifecycle, glue,
vctrs, progress, memoise, utils, httr2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, testthat (&ge; 3.0.0), rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>lifecycle</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/benrwoodard/adobeanalyticsr/issues">https://github.com/benrwoodard/adobeanalyticsr/issues</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/benrwoodard/adobeanalyticsr">https://github.com/benrwoodard/adobeanalyticsr</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-16 05:48:25 UTC; benwoodard</td>
</tr>
<tr>
<td>Author:</td>
<td>Ben Woodard [aut, cre],
  Tim Wilson [aut, ctb],
  Charles Gallagher [ctb],
  Mark Edmondson [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ben Woodard &lt;benrwoodard@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-16 06:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='aw_anomaly_report'>Anomaly Report</h2><span id='topic+aw_anomaly_report'></span>

<h3>Description</h3>

<p>Get an anomaly report for one or more metrics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_anomaly_report(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  date_range = c(Sys.Date() - 31, Sys.Date() - 1),
  metrics,
  granularity = "day",
  segmentId = NA,
  quickView = FALSE,
  anomalyDetection = TRUE,
  countRepeatInstances = TRUE,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_anomaly_report_+3A_company_id">company_id</code></td>
<td>
<p>Company Id.  Taken from the global environment by default if not provided.</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report number</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_date_range">date_range</code></td>
<td>
<p>A two length vector of start and end Date objects (default set to show last 30 days)</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_metrics">metrics</code></td>
<td>
<p>Metric to request the anomaly detection. If multiple metrics, each metric and date will have it's own row.</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_granularity">granularity</code></td>
<td>
<p>Use either hour, day (default), week, or month</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_segmentid">segmentId</code></td>
<td>
<p>Use segments to globally filter the results. Use 1 or many.</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_quickview">quickView</code></td>
<td>
<p>Return a list of 3 lists per metric. 1. All Data 2. Data filtered to include only anomalous rows 3. Interactive ggplot line graph</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_anomalydetection">anomalyDetection</code></td>
<td>
<p>logical statement for including anomaly. Default is TRUE</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_countrepeatinstances">countRepeatInstances</code></td>
<td>
<p>Should the data include repeat instances</p>
</td></tr>
<tr><td><code id="aw_anomaly_report_+3A_debug">debug</code></td>
<td>
<p>default is FALSE but set to TRUE to see the json request being sent to the Adobe API</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If quickView = 'FALSE' (default) then a data frame including the day, metric, data, dataExpected, dataUpperBound, dataLowerBound, and
dataAnomalyDetected will be returned.  If quickView = 'TRUE' then a list of three lists will be returned. The first list will be a data frame including
all the default columns. The second list item will be a filtered data frame that includes rows where dataAnomalyDetected = 'TRUE'.  The third list
item is a visual made using 'ggplot2'  with the error band and points where the dataAnomalyDetected = 'TRUE'. If more than one metric is in the request
and quickView is set to TRUE then the lists will be split by each metric requested.
</p>

<hr>
<h2 id='aw_auth'>Generate an Access Token for the Adobe Analytics v2.0 API</h2><span id='topic+aw_auth'></span><span id='topic+auth_jwt'></span><span id='topic+auth_oauth'></span><span id='topic+auth_s2s'></span>

<h3>Description</h3>

<p><strong>Note:</strong> <code>aw_auth()</code> is the primary function used for authorization. <code>auth_oauth()</code>
and <code>auth_s2s()</code> should typically not be called directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_auth(type = aw_auth_with(), ...)

auth_jwt(
  file = Sys.getenv("AW_AUTH_FILE"),
  private_key = Sys.getenv("AW_PRIVATE_KEY"),
  jwt_token = NULL,
  ...
)

auth_s2s(
  file = Sys.getenv("AW_AUTH_FILE"),
  s2s_token = NULL,
  type = "s2s",
  ...
)

auth_oauth(
  client_id = Sys.getenv("AW_CLIENT_ID"),
  client_secret = Sys.getenv("AW_CLIENT_SECRET"),
  use_oob = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_auth_+3A_type">type</code></td>
<td>
<p>Either 's2s' or 'oauth'. This can be set explicitly, but a best practice is
to run <code>aw_auth_with()</code> to set the authorization type as an environment variable before
running <code>aw_auth()</code></p>
</td></tr>
<tr><td><code id="aw_auth_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to auth functions.</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_file">file</code></td>
<td>
<p>A JSON file containing service account credentials required for JWT
authentication. This file can be downloaded directly from the Adobe Console,
and should minimally have the fields <code>API_KEY</code>, <code>CLIENT_SECRET</code>, <code>ORG_ID</code>,
and <code>TECHNICAL_ACCOUNT_ID</code>.</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_private_key">private_key</code></td>
<td>
<p>Filename of the private key for JWT authentication.</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_jwt_token">jwt_token</code></td>
<td>
<p><em>(Optional)</em> A custom, encoded, signed JWT claim. If used,
<code>client_id</code> and <code>client_secret</code> are still required.</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_s2s_token">s2s_token</code></td>
<td>
<p><em>(Optional)</em> A custom, encoded, S2S authentication token.</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_client_id">client_id</code></td>
<td>
<p>The client ID, defined by a global variable or manually defined</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_client_secret">client_secret</code></td>
<td>
<p>The client secret, defined by a global variable or manually defined</p>
</td></tr>
<tr><td><code id="aw_auth_+3A_use_oob">use_oob</code></td>
<td>
<p>if <code>FALSE</code>, use a local webserver for the OAuth dance.
Otherwise, provide a URL to the user and prompt for a validation code.
Defaults to the value of the <code>httr_oob_default</code> default, or TRUE if
<code>httpuv</code> is not installed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The path of the cached token. This is returned invisibly.
</p>


<h3>Functions</h3>


<ul>
<li> <p><code>auth_jwt()</code>: Authenticate with JWT token
</p>
</li>
<li> <p><code>auth_s2s()</code>: Authenticate with S2S token
</p>
</li>
<li> <p><code>auth_oauth()</code>: Authorize via OAuth 2.0
</p>
</li></ul>


<h3>See Also</h3>

<p><code><a href="#topic+aw_auth_with">aw_auth_with()</a></code>
</p>

<hr>
<h2 id='aw_auth_with'>Set authorization options</h2><span id='topic+aw_auth_with'></span><span id='topic+aw_auth_path'></span><span id='topic+aw_auth_name'></span>

<h3>Description</h3>

<p><strong>Get</strong> or <strong>set</strong> various authorization options. If called without an argument, then
these functions return the current setting for the requested option (which can be
<code>NULL</code> if the option has not been set). To clear the setting, pass <code>NULL</code> as an
argument.
</p>
<p><code>aw_auth_with</code> sets the type of authorization for the session. This is used
as the default by <code>aw_auth()</code> when no specific option is given.
</p>
<p><code>aw_auth_path</code> sets the file path for the cached authorization token. It
should be a directory, rather than a filename. If this option is not set, the
current working directory is used instead.
</p>
<p><code>aw_auth_name</code> sets the file name for the cached authorization token. If this
option is not set, the default filename is <code>aw_auth.rds</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_auth_with(type)

aw_auth_path(path)

aw_auth_name(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_auth_with_+3A_type">type</code></td>
<td>
<p>The authorization type: 'oauth', 's2s', or 'jwt'</p>
</td></tr>
<tr><td><code id="aw_auth_with_+3A_path">path</code></td>
<td>
<p>The location for the cached authorization token. It should be a
directory, rather than a filename. If this option is not set, the current
working directory is used instead. If the location does not exist, it will
be created the first time a token is cached.</p>
</td></tr>
<tr><td><code id="aw_auth_with_+3A_name">name</code></td>
<td>
<p>The filename, such as <code>aw_auth.rds</code> for the cached authorization
token file. The file is stored as an RDS file, but there is no requirement
for the <code>.rds</code> file extension. <code>.rds</code> is not appended automatically.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The option value, invisibly
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aw_auth">aw_auth()</a></code>
</p>

<hr>
<h2 id='aw_freeform_table'>Get a freeform table</h2><span id='topic+aw_freeform_table'></span>

<h3>Description</h3>

<p>Get a report analogous to a <strong>Freeform Table</strong> visualization in Analysis Workspace. The function uses
the arguments to construct and execute a JSON-based query to the Adobe Analytics API and then returns
the results as a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_freeform_table(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  date_range = c(Sys.Date() - 30, Sys.Date() - 1),
  dimensions = c("page", "lasttouchchannel", "mobiledevicetype"),
  metrics = c("visits", "visitors"),
  top = c(5),
  page = 0,
  filterType = "breakdown",
  segmentId = NA,
  metricSort = "desc",
  include_unspecified = TRUE,
  search = NA,
  prettynames = FALSE,
  debug = FALSE,
  check_components = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_freeform_table_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called <code>AW_REPORTSUITE_ID</code> exists
in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument is provided, then the <code>AW_REPORTSUITE_ID</code> value will
be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code> to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_date_range">date_range</code></td>
<td>
<p>A length-2 vector with a start date and an end date.
<code>POSIXt</code> objects are sent as is, for fine control over the date range.
Numeric values are automatically converted to dates.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_dimensions">dimensions</code></td>
<td>
<p>A character vector of dimensions. There is currently a limit of 20 dimension
breakdowns. Each dimension value that gets broken down by another dimension requires an additional API
call, so the more dimensions that are included, the longer the function will take to return results.
This is how the Adobe Analytics API works. Use <code><a href="#topic+aw_get_dimensions">aw_get_dimensions()</a></code> to get a list of available
<code>dimensions</code> IDs.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_metrics">metrics</code></td>
<td>
<p>A character vector of metrics. Use <code><a href="#topic+aw_get_metrics">aw_get_metrics()</a></code> and <code><a href="#topic+aw_get_calculatedmetrics">aw_get_calculatedmetrics()</a></code>
to get a list of available <code>metrics</code> IDs.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_top">top</code></td>
<td>
<p>The number of values to be pulled for each dimension. The default is 5 and the &quot;top&quot; is based on
the first <code>metric</code> value (along with <code>metricSort</code>). If there are multiple dimensions, then this argument can
either be a vector that includes the number of values to include at each level (each breakdown) or, if a single
value is used, then that will be the maximum number of values to return at each level. See the <strong>Details</strong> for
information on the unique handling of <code>daterange...</code> values.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_page">page</code></td>
<td>
<p>Used in combination with <code>top</code> to return the next page of results. Uses 0-based numbering (e.g.,
<code>top = 50000</code> and <code>page = 1</code> will return the top 50,000 items <em>starting at 50,001</em>).</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_filtertype">filterType</code></td>
<td>
<p>This is a placeholder argument for use as additional functionality is added to the package.
Currently, it defaults to <code>breakdown</code>, and that is the only supported value.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_segmentid">segmentId</code></td>
<td>
<p>A single segment ID or a vector of multiple segment IDs to apply to the overall report.
If multiple <code>segmentId</code> values are included, the segments will be effectived ANDed together, just as if
multiple segments were added to the header of an Analysis Workspace panel. Use <code><a href="#topic+aw_get_segments">aw_get_segments()</a></code>
to get a list of available <code>segmentId</code> values.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_metricsort">metricSort</code></td>
<td>
<p>Pre-sorts the table by metrics. Values are either <code>asc</code> (ascending) or <code>desc</code> (descending).</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_include_unspecified">include_unspecified</code></td>
<td>
<p>Whether or not to include <strong>Unspecified</strong> values in the results. This is the equivalent
of the <strong>Include Unspecified (None)</strong> checkbox in freeform tables in Analysis Workspace. This defaults to <code>TRUE</code>,
which includes <strong>Unspecified</strong> values in the results.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_search">search</code></td>
<td>
<p>Criteria to filter the results by one or more dimensions. Searches are case-insenstive. Refer to
the <strong>Details</strong> for more information on constructing values for this argument.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_prettynames">prettynames</code></td>
<td>
<p>A logical that determines whether the column names in the results use the API field name
(e.g., &quot;mobiledevicetype&quot;, &quot;pageviews&quot;) or the &quot;pretty name&quot; for the field (e.g., &quot;Mobile Device Type&quot;,
&quot;Page Views&quot;). This applies to both dimensions and metrics. The default value is <code>FALSE</code>, which returns the
API field names. For custom eVars, props, and events, the non-pretty values are simply the variable number
(e.g., &quot;evar2&quot;, &quot;prop3&quot;, &quot;event15&quot;). If <code>TRUE</code>, undoes any efficiency gains
from setting <code>check_components</code> to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="aw_freeform_table_+3A_check_components">check_components</code></td>
<td>
<p>Specifies whether to check the validity of metrics and
dimensions before running the query. This defaults to <code>TRUE</code>, which triggers
several additional API calls behind the scenes to retrieve all dimensions and
metrics from the API. This has a nominal performance impact and may not be
ideal if you are running many queries. If you have many queries, consider
implementing validity checking through other means (manually or within the
code) and then set this value to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is based on the <strong>Freeform Table</strong> visualization in Analysis Workspace. It is accessing
the same API call type that is used to generate those visualizations.
</p>


<h4>Dimension Ordering</h4>

<p>Adobe Analytics only queries one dimension at a time, even though the results get returned in a single data
frame (or table in the case of Analysis Workspace). The more dimensions are included in the report&ndash;the more
breakdowns of the data&ndash;the more queries are required. As a result, the <em>order</em> of the dimensions <em>can</em>
have a dramatic impact on the total query time, even if the resulting data is essentially identical.
</p>
<p>One way to understand this is to consider how much dragging and dropping would be required to return the
data in Analysis Workspace.
</p>
<p>Consider a scenario where you are pulling metrics for the last 30 days (<code>daterangeday</code>) for <strong>Mobile Device Type</strong>
(<code>mobiledevicetype</code>), which has 7 unique values. Setting <code>dimensions = c("daterangeday", "mobiledevicetype")</code>
would make one query to get the values of the 30 days included. The query would then run a separate query
for <em>each of those 30 days</em> to get the <code>mobiledevicetype</code> results for each day. So, this would be <strong>31 API calls</strong>.
</p>
<p>If, instead, the function was called with the <code>dimension</code> values reversed (<code>dimensions = c("mobiledevicetype", "daterangeday")</code>), then
the first query would return the 7 <code>mobiledevicetype</code> values, and then would run an additional query for each of
those <em>7 mobile device type values</em> to return the results for the 30 days within each device type. This would be only <strong>7 API calls</strong>.
</p>
<p>Strategically ordering dimensions&ndash;and then wrangling the resulting data set as needed&ndash;is one of the best
ways to improve query performance.
</p>



<h4>Date Handling</h4>

<p>Date handling has several special characteristics that are worth getting familiar with:
</p>

<ul>
<li><p> The API names for day, week, month, etc. are prepended with <code>daterange</code>, so daily data uses
<code>daterangeday</code>, weekly data uses <code>daterangeweek</code>, monthly data uses <code>daterangemonth</code>, etc.
</p>
</li>
<li><p> When setting the argument for <code>top</code>, if the first (or only) <code>dimension</code> value is a <code>daterange...</code> object,
then, if this argument is not explicitly specified <em>or</em> if it uses only a single value (e.g., <code>top = 10</code>),
the function will still return all of the values that fall in that date range. For instance, if the
<code>date_range</code> was set for a 30-day period and the first <code>dimension</code> value was <code>daterangeday</code>, <em>and</em> no value
is specified for <code>top</code>, rather than simply returning the first 5 dates in the range, all 30 days will be
returned. In the same scenario, if <code>top = 10</code> was set, then all 30 days would still be returned, and the
<code>10</code> would simply be applied to the additional dimensions.
</p>
</li>
<li><p> If you want to return all of the date/time values but then have specific control over the number of
values returned for each of the drilldown dimensions, then set <code>0</code> as the first value in the <code>top</code>
argument and then specify different numbers for each breakdown (e.g., <code>top = c(0, 3, 10)</code> would return
all of the date/time values for the specified <code>date_range</code>, the top 3 values for the second specified
<code>dimension</code>, and then the top 10 values for each of the next dimension's results).
</p>
</li>
<li><p> If you are using a <code>daterange...</code> value <em>not</em> as the first dimension, then simply using <code>0</code> at the
same level in the <code>top</code> argument specification will return all of the values for that date/time value.
</p>
</li></ul>




<h4>Search/Filtering</h4>

<p>There are powerful filtering abilities within the function. However, to support that power requires a
syntax that can feel a bit cumbersome for simple queries. <strong><em>Note:</em></strong> search filters are case-insensitive.
This is Adobe Analytics API functionality and can not be specified otherwise in queries.
</p>
<p>The <code>search</code> argument takes a vector of search strings, with each value in the vector corresponding to
the <code>dimension</code> value that is at the same position. These search strings support a range of operators,
including <code>AND</code>, <code>OR</code>, <code>NOT</code>, <code>MATCH</code>, <code>CONTAINS</code>, <code>BEGINS-WITH</code>, and <code>ENDS-WITH</code>.
</p>
<p>The default for any search string is to use <code>CONTAINS</code>. Consider a query where
<code>dimensions = c("mobiledevicetype", "lasttouchchannel")</code>:
</p>

<ul>
<li> <p><code>search = "CONTAINS 'mobile'"</code> will return results where <code>mobiledevicetype</code> contains &quot;mobile&quot;, so would return all rows for <strong>Mobile Phone</strong>.
</p>
</li>
<li><p> This could be shortened to <code>search = "'mobile'"</code> and would behave exactly the same, since <code>CONTAINS</code> is the default operator
</p>
</li>
<li> <p><code>search = c("CONTAINS 'mobile'", "CONTAINS 'search'")</code> will return results where <code>mobiledevicetype</code> contains &quot;mobile&quot; and, within those results, results where <code>lasttouchchannel</code> contains &quot;search&quot;.
</p>
</li>
<li> <p><code>search = c("(CONTAINS 'mobile') OR (CONTAINS 'tablet')", "(MATCH 'paid search')")</code> will return results where <code>mobiledevicetype</code> contains &quot;mobile&quot; <em>or</em> &quot;tablet&quot; and, within those results, will only include results where <code>lasttouchchannel</code> exactly matches &quot;paid search&quot; (but is case-insensitive, so would return &quot;Paid Search&quot; values).
</p>
</li></ul>




<h3>Value</h3>

<p>A data frame with the specified dimensions and metrics.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_me">get_me()</a></code>, <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>, <code><a href="#topic+aw_get_segments">aw_get_segments()</a></code>,
<code><a href="#topic+aw_get_dimensions">aw_get_dimensions()</a></code>, <code><a href="#topic+aw_get_metrics">aw_get_metrics()</a></code>, <code><a href="#topic+aw_get_calculatedmetrics">aw_get_calculatedmetrics()</a></code>,
<code><a href="#topic+aw_segment_table">aw_segment_table()</a></code>
</p>

<hr>
<h2 id='aw_get_calculatedmetrics'>Get a list of calculated metrics.</h2><span id='topic+aw_get_calculatedmetrics'></span>

<h3>Description</h3>

<p>Retrieve a list of available calculated metrics. The results will always include these default items:
<code>id</code>, <code>name</code>, <code>description</code>, <code>rsid</code>, <code>owner</code>, <code>polarity</code>, <code>precision</code>, <code>type</code>. Other attributes can
be optionally requested through the <code>expansion</code> field.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_calculatedmetrics(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  rsids = NULL,
  ownerId = NULL,
  filterByIds = NULL,
  toBeUsedInRsid = NULL,
  locale = "en_US",
  name = NULL,
  tagNames = NULL,
  favorite = NULL,
  approved = NULL,
  limit = 1000,
  page = 0,
  sortDirection = "DESC",
  sortProperty = NULL,
  expansion = NULL,
  includeType = "all",
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_calculatedmetrics_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_rsids">rsids</code></td>
<td>
<p>Filter the list to only include calculated metrics tied to a specified RSID or
list of RSIDs. Specify multiple RSIDs as a vector (i.e., &quot;<code style="white-space: pre;">&#8288;rsids = c("rsid_1", rsid_2",...rsid_n")&#8288;</code>&quot;).
Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites</a></code> to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_ownerid">ownerId</code></td>
<td>
<p>Filter the list to only include calculated metrics owned by the specified loginId.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_filterbyids">filterByIds</code></td>
<td>
<p>Filter the list to only include calculated metrics in the specified list as
specified by a single string or as a vector of strings.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_tobeusedinrsid">toBeUsedInRsid</code></td>
<td>
<p>The report suite where the calculated metric is intended to be used. This
report suite is used to determine things like compatibility and permissions. If it is not specified,
then the permissions will be calculated based on the union of all metrics authorized in all groups
the user belongs to. If <strong>compatibility</strong> is specified for <code>expansion</code>, and <code>toBeUsedInRsid</code> is not,
then the compatibility returned is based off of the compatibility from the last time the calculated
metric was saved.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_locale">locale</code></td>
<td>
<p>The locale that system-named metrics should be returned in. Non-localized values will
be returned for title, name, description, etc. if a localized value is not available.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_name">name</code></td>
<td>
<p>Filter the list to only include calculated metrics that contain the specified <strong>name</strong>.
This is case-insensitive and is a simple, single string match.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_tagnames">tagNames</code></td>
<td>
<p>Filter the list to only include calculated metrics that contain one of the tags as specified by
a single string or vector of strings.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_favorite">favorite</code></td>
<td>
<p>Set to <code>TRUE</code> to only include calculated metrics that are favorites in the results. A
value of <code>FALSE</code> will return all calculated metrics, including those that are favorites.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_approved">approved</code></td>
<td>
<p>Set to <code>TRUE</code> to only include calculated metrics that are approved in the results. A
value of <code>FALSE</code> will return all calculated metrics, including those that are approved and those that are not.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per page. The default is 1,000.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_page">page</code></td>
<td>
<p>The &quot;page&quot; of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 10</code> and <code>page = 1</code>, the results returned would be 11 through 20.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_sortdirection">sortDirection</code></td>
<td>
<p>The sort direction for the results: <code>ASC</code> (default) for ascending or <code>DESC</code> for
descending. (This is case insensitive, so <code>asc</code> and <code>desc</code> work as well.)</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_sortproperty">sortProperty</code></td>
<td>
<p>The property to sort the results by. Currently available values are <code>id</code> (default), <code>name</code>,
and <code>modified_date</code>. Note that setting <code>expansion = modified</code> returns results with a column added called
<code>modified</code>, which is the last date the calculated metric was modified. When using this value for <code>sortProperty</code>,
though, the name of the argument is <code>modified_date</code>, because why would we expect locked-in consistency
from Adobe?</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_expansion">expansion</code></td>
<td>
<p>Additional calculated metric metadata fields to include in the results:
<code>reportSuiteName</code>, <code>ownerFullName</code>, <code>modified</code>, <code>tags</code>, <code>definition</code>, <code>compatability</code>, <code>categories</code>.
See <strong>Details</strong> for more information about the quirks of this argument.</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_includetype">includeType</code></td>
<td>
<p>Include additional calculated metrics not owned by user. Available values are <code>all</code> (default),
<code>shared</code>, and <code>templates</code>. The <code>all</code> option takes precedence over &quot;shared&quot;</p>
</td></tr>
<tr><td><code id="aw_get_calculatedmetrics_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is useful/needed to identify the specific ID of a calculated metric for use in other
functions like <code>aw_freeform_report</code>.
</p>
<p>The <code>expansion</code> argument accepts the following values, which will then include additional columns
in the results:
</p>

<ul>
<li> <p><strong>ownerFullName</strong>: adds <code>owner.name</code> and <code>owner.login</code> columns to the results (<code>owner.id</code> is
already included by default).
</p>
</li>
<li> <p><strong>modified</strong>: adds a <code>modified</code> column to the output with the date (ISO 8601 format) each
calculated metric was last modified.
</p>
</li>
<li> <p><strong>definition</strong>: adds <em>multiple</em> columns (the number will vary based on the number and complexity
of calculated metrics returns) that provide the actual formula for each of the calculated metrics.
This is returned from the API as a JSON object and converted into columns by the function, which
means it is pretty messy, so, really, it's not recommended that you use this value.
</p>
</li>
<li> <p><strong>compatability</strong>: should add a column with the products that the metric is compatible with, but this
behavior has not actually been shown to be true, so this may actually do nothing if included.
</p>
</li>
<li> <p><strong>reportSuiteName</strong>: adds a <code>reportSuiteName</code> and a <code>siteTitle</code> column with the friendly report
suite name for the RSID.
</p>
</li>
<li> <p><strong>tags</strong>: adds a column with an embedded data frame with all of the existing tags that are
associated with the calculated metric. This can be a bit messy to work with, but the information
is, at least, there.
</p>
</li></ul>

<p>Multiple values for <code>expansion</code> can be included in the argument as a vector. For instance,
<code>expansion = c("tags", "modified")</code> will add both a <code>tags</code> column and a <code>modified</code> column to the output.
</p>


<h3>Value</h3>

<p>A data frame of calculated metrics and their metadata.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aw_get_metrics">aw_get_metrics</a></code>
</p>

<hr>
<h2 id='aw_get_dimensions'>Get list of dimensions</h2><span id='topic+aw_get_dimensions'></span>

<h3>Description</h3>

<p>This will generate an extensive list of all the dimensions in the reportsuite.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_dimensions(
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  locale = "en_US",
  segmentable = FALSE,
  reportable = FALSE,
  classifiable = FALSE,
  expansion = NULL,
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_dimensions_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called <code>AW_REPORTSUITE_ID</code> exists
in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument is provided, then the <code>AW_REPORTSUITE_ID</code> value will
be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites</a></code> to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_locale">locale</code></td>
<td>
<p>The locale that dimension details should be returned in. The default is <code>en_US</code>.</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_segmentable">segmentable</code></td>
<td>
<p>Boolean that determines whether or not to include dimensions that can be used in
segments. <code>FALSE</code> (the default) returns <em>all</em> dimensions (<em>not</em> just the non-segmentable ones).
Examples of dimensions that cannot be used in segments are <code>clickmapaction</code>, <code>codeversion</code>, <code>newvisit</code>,
and <code>pageurl</code>.</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_reportable">reportable</code></td>
<td>
<p>Boolean that determines whether or not to include dimensions that can be used in
reports <code>FALSE</code> (the default) returns <em>all</em> dimensions (<em>not</em> just the non-segmentable ones).</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_classifiable">classifiable</code></td>
<td>
<p>Boolean that determines whether or not to include dimensions that can be used in
classifications <code>FALSE</code> (the default) returns <em>all</em> dimensions (<em>not</em> just the non-segmentable ones).</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_expansion">expansion</code></td>
<td>
<p>Additional dimension metadata to include in the results: <code>tags</code>, <code>allowedForReporting</code>,
and <code>categories</code>. This argument takes a single value (e.g., <code>expansion = "tags"</code>) or a vector  of
values (e.g., <code>expansion = c("tags", "categories")</code>).</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
<tr><td><code id="aw_get_dimensions_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of dimensions and their meta data.
</p>

<hr>
<h2 id='aw_get_metrics'>Get list of metrics</h2><span id='topic+aw_get_metrics'></span>

<h3>Description</h3>

<p>Get a data frame with all of the standard (non-calculated) metrics (measures) in the report suite.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_metrics(
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  locale = "en_US",
  segmentable = "NULL",
  expansion = NULL,
  company_id = Sys.getenv("AW_COMPANY_ID"),
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_metrics_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called <code>AW_REPORTSUITE_ID</code> exists
in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument is provided, then the <code>AW_REPORTSUITE_ID</code> value will
be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites</a></code> to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_metrics_+3A_locale">locale</code></td>
<td>
<p>The locale that system-named metrics should be returned in. Non-localized values will
be returned for title, name, description, etc. if a localized value is not available.</p>
</td></tr>
<tr><td><code id="aw_get_metrics_+3A_segmentable">segmentable</code></td>
<td>
<p>Boolean that determines whether or not to include metrics that can be used in
segments. <code>NULL</code> (the default) and <code>FALSE</code> return <em>all</em> metrics (<em>not</em> just the non-segmentable ones).
Examples of metrics that cannot be used in segments are <code>bounces</code>, <code style="white-space: pre;">&#8288;bounce rate&#8288;</code>, <code>entries</code>, and <code>visitors</code>.</p>
</td></tr>
<tr><td><code id="aw_get_metrics_+3A_expansion">expansion</code></td>
<td>
<p>Additional metrics metadata to include in the results: <code>tags</code>, <code>allowedForReporting</code>,
and <code>categories</code>. This argument takes a single value (e.g., <code>expansion = "tags"</code>) or a vector  of
values (e.g., <code>expansion = c("tags", "categories")</code>).</p>
</td></tr>
<tr><td><code id="aw_get_metrics_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_metrics_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is commonly used to get the correct ID for a specific metric or metrics that will be used in
other function calls. The results returned are:
</p>

<ul>
<li><p> All of the &quot;out of the box&quot; metrics like visits, page views, visitors, orders, revenue, bounce rate, etc.
</p>
</li>
<li><p> All of the enabled events that are configured in the report suite.
</p>
</li>
<li><p> An instances metric for each enabled eVar.
</p>
</li></ul>

<p>This function does <em>not</em> return calculated metrics.
</p>


<h3>Value</h3>

<p>A data frame of metrics (excluding calculated metrics) and their meta data.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aw_get_calculatedmetrics">aw_get_calculatedmetrics</a></code>
</p>

<hr>
<h2 id='aw_get_project_config'>Pull a project configuration</h2><span id='topic+aw_get_project_config'></span>

<h3>Description</h3>

<p>Returns a project configuration json string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_project_config(
  projectId = NULL,
  expansion = NULL,
  locale = "en_US",
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_project_config_+3A_projectid">projectId</code></td>
<td>
<p>The Project id for which to retrieve information</p>
</td></tr>
<tr><td><code id="aw_get_project_config_+3A_expansion">expansion</code></td>
<td>
<p>Comma-delimited list of additional project metadata fields to include on response. Available values : reportSuiteName, shares, tags, accessLevel, modified, externalReferences, definition</p>
</td></tr>
<tr><td><code id="aw_get_project_config_+3A_locale">locale</code></td>
<td>
<p>Locale Default value : en_US</p>
</td></tr>
<tr><td><code id="aw_get_project_config_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="aw_get_project_config_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A json string
</p>

<hr>
<h2 id='aw_get_projects'>Pull a list of projects</h2><span id='topic+aw_get_projects'></span>

<h3>Description</h3>

<p>A list of projects in the account
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_projects(
  includeType = "all",
  expansion = NULL,
  locale = "en_US",
  limit = 1000,
  page = 0,
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_projects_+3A_includetype">includeType</code></td>
<td>
<p>Include additional projects not owned by user. The &quot;all&quot; option takes precedence over &quot;shared&quot;.
If neither guided, or project is included, both types are returned</p>
</td></tr>
<tr><td><code id="aw_get_projects_+3A_expansion">expansion</code></td>
<td>
<p>Comma-delimited list of additional project metadata fields to include on response.
Available values : reportSuiteName, ownerFullName, modified, tags, accessLevel, externalReferences, definition</p>
</td></tr>
<tr><td><code id="aw_get_projects_+3A_locale">locale</code></td>
<td>
<p>Locale Default value : en_US</p>
</td></tr>
<tr><td><code id="aw_get_projects_+3A_limit">limit</code></td>
<td>
<p>Number of results per page. Default value: 1000</p>
</td></tr>
<tr><td><code id="aw_get_projects_+3A_page">page</code></td>
<td>
<p>Page number (base 0 - first page is &quot;0&quot;)</p>
</td></tr>
<tr><td><code id="aw_get_projects_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="aw_get_projects_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame
</p>

<hr>
<h2 id='aw_get_reportsuites'>Get list of report suites</h2><span id='topic+aw_get_reportsuites'></span>

<h3>Description</h3>

<p>Retrieve a list of report suites and meta data about each one.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_reportsuites(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  rsids = NULL,
  rsidContains = NULL,
  limit = 10,
  page = 0,
  expansion = NULL,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_reportsuites_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_reportsuites_+3A_rsids">rsids</code></td>
<td>
<p>Filter the results to include one or more specific report suites. Specify multiple RSIDs as
a vector (i.e., &quot;<code style="white-space: pre;">&#8288;rsids = c("rsid_1", rsid_2",...rsid_n")&#8288;</code>&quot;).</p>
</td></tr>
<tr><td><code id="aw_get_reportsuites_+3A_rsidcontains">rsidContains</code></td>
<td>
<p>Filter the results list to only include suites that contain the specified string
within the RSID. This is case-insensitive and is a simple, single string match.</p>
</td></tr>
<tr><td><code id="aw_get_reportsuites_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per page. This argument works in conjunction with the
<code>page</code> argument. The default is 10.</p>
</td></tr>
<tr><td><code id="aw_get_reportsuites_+3A_page">page</code></td>
<td>
<p>The &quot;page&quot; of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 20</code> and <code>page = 1</code>, the results returned would be 21 through 40.</p>
</td></tr>
<tr><td><code id="aw_get_reportsuites_+3A_expansion">expansion</code></td>
<td>
<p>Additional segment metadata fields to include in the results: <code>name</code>, <code>parentRsid</code>,
<code>currency</code>, <code>calendarType</code>, <code>timezoneZoneinfo</code>. This argument takes a single value (e.g., <code>expansion = "name"</code>)
or a vector of values (e.g., <code>expansion = c("name", "currency")</code>).</p>
</td></tr>
<tr><td><code id="aw_get_reportsuites_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of report suites and their meta data.
</p>

<hr>
<h2 id='aw_get_segments'>Get a list of segments</h2><span id='topic+aw_get_segments'></span>

<h3>Description</h3>

<p>Retrieve all segments or a filtered list of segments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_segments(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  rsids = NULL,
  segmentFilter = NULL,
  locale = "en_US",
  name = NULL,
  tagNames = NULL,
  filterByPublishedSegments = "all",
  limit = 10,
  page = 0,
  sortDirection = "ASC",
  sortProperty = "id",
  expansion = NULL,
  includeType = "all",
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_segments_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_rsids">rsids</code></td>
<td>
<p>Filter the list to only include segments tied to a specified RSID or
list of RSIDs. Specify multiple RSIDs as a vector (i.e., &quot;<code style="white-space: pre;">&#8288;rsids = c("rsid_1", rsid_2",...rsid_n")&#8288;</code>&quot;).
Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites</a></code> to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_segmentfilter">segmentFilter</code></td>
<td>
<p>Filter list to only include segments in the list of segment IDs (comma-delimited)</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_locale">locale</code></td>
<td>
<p>The locale that segment details should be returned in. The default is <code>en_US</code>.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_name">name</code></td>
<td>
<p>Filter the list to only include segments that contain the specified <strong>name</strong>.
This is case-insensitive and is a simple, single string match.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_tagnames">tagNames</code></td>
<td>
<p>Filter the list to only include segments that contain one of the tags.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_filterbypublishedsegments">filterByPublishedSegments</code></td>
<td>
<p>Filter the list to only include segments where the published field is set to one of the allowable values:
<code>all</code> (the default), <code>TRUE</code>, or <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per page. This argument works in conjunction with the
<code>page</code> argument. The default is 10.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_page">page</code></td>
<td>
<p>The &quot;page&quot; of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 20</code> and <code>page = 1</code>, the results returned would be 21 through 40.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_sortdirection">sortDirection</code></td>
<td>
<p>The sort direction for the results: <code>ASC</code> (default) for ascending or <code>DESC</code> for
descending. (This is case insensitive, so <code>asc</code> and <code>desc</code> work as well.)</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_sortproperty">sortProperty</code></td>
<td>
<p>The property to sort the results by. Currently available values are <code>id</code> (default), <code>name</code>,
and <code>modified_date</code>. Note that setting <code>expansion = modified</code> returns results with a column added called
<code>modified</code>, which is the last date the calculated metric was modified. When using this value for <code>sortProperty</code>,
though, the name of the argument is <code>modified_date</code>, because why would we expect locked-in consistency
from Adobe?</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_expansion">expansion</code></td>
<td>
<p>Additional segment metadata fields to include in the results: <code>reportSuiteName</code>,
<code>ownerFullName</code>, <code>modified</code>, <code>tags</code>, <code>compatibility</code>, <code>definition</code>, <code>publishingStatus</code>, <code>definitionLastModified</code>,
and <code>categories</code>. This argument takes a single value (e.g., <code>expansion = "modified"</code>)
or a vector of values (e.g., <code>expansion = c("modified", "ownerFullName")</code>).</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_includetype">includeType</code></td>
<td>
<p>Include additional segments not owned by the user. Available values are <code>all</code> (default),
<code>shared</code>, and <code>templates</code>. The <code>all</code> option takes precedence over &quot;shared&quot;.</p>
</td></tr>
<tr><td><code id="aw_get_segments_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of segments and their meta data.
</p>

<hr>
<h2 id='aw_get_tags'>Get a list of tags</h2><span id='topic+aw_get_tags'></span>

<h3>Description</h3>

<p>Retrieve all tag names or search by component id or tag names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_get_tags(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  componentId = NULL,
  componentType = NULL,
  tagNames = NULL,
  limit = 1000,
  page = 0,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_get_tags_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="aw_get_tags_+3A_componentid">componentId</code></td>
<td>
<p>The component id being requested. Default is <code>NULL</code></p>
</td></tr>
<tr><td><code id="aw_get_tags_+3A_componenttype">componentType</code></td>
<td>
<p>The component type being requested. Options include segment, dashboard, bookmark,
calculatedMetric, project, dateRange, metric, dimension, virtualReportSuite, scheduledJob, alert, classification.
Default is NULL</p>
</td></tr>
<tr><td><code id="aw_get_tags_+3A_tagnames">tagNames</code></td>
<td>
<p>Comma separated vector of tag names. componentType</p>
</td></tr>
<tr><td><code id="aw_get_tags_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per page. This argument works in conjunction with the
<code>page</code> argument. The default is 10.</p>
</td></tr>
<tr><td><code id="aw_get_tags_+3A_page">page</code></td>
<td>
<p>The &quot;page&quot; of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 20</code> and <code>page = 1</code>, the results returned would be 21 through 40.</p>
</td></tr>
<tr><td><code id="aw_get_tags_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of tags and the associated meta data.
</p>

<hr>
<h2 id='aw_segment_table'>Get a segment-row freeform table</h2><span id='topic+aw_segment_table'></span>

<h3>Description</h3>

<p>This is the equivalent of a freeform table with segments as the row
components. This type of table offers a few components that <code>aw_freeform_table</code>
does not. For example, this function does not require (or allow) dimensions
to be included in the breakdown. Segment IDs are automatically translated
into their human-readable names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_segment_table(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  segmentRsids,
  date_range = c(Sys.Date() - 30, Sys.Date() - 1),
  metrics = c("visits", "visitors"),
  globalSegment = NULL,
  segmentIds = NULL,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_segment_table_+3A_company_id">company_id</code></td>
<td>
<p>Company ID</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_rsid">rsid</code></td>
<td>
<p>Report suite ID for the data pull</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_segmentrsids">segmentRsids</code></td>
<td>
<p>Deprecated.</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_date_range">date_range</code></td>
<td>
<p>Date range</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_metrics">metrics</code></td>
<td>
<p>Metrics to request for each segment</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_globalsegment">globalSegment</code></td>
<td>
<p>One or more segments to apply globally over all other
segments</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_segmentids">segmentIds</code></td>
<td>
<p>One or more segments that will compose the rows of the
table</p>
</td></tr>
<tr><td><code id="aw_segment_table_+3A_debug">debug</code></td>
<td>
<p>Logical, whether to make verbose requests to the API and view
the whole exchange</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a specialized function.
To see segments broken down by dimensions, we recommend making multiple
requests to <code>aw_freeform_table</code> with different global segments applied, and
then row-binding them together yourself.
</p>
<p>Unlike <code>aw_freeform_table</code>, this function automatically handles the 10-metric
restriction imposed by the API.
</p>


<h4>Efficiency</h4>

<p>In short, segments are cheap, metrics are expensive. Adding 1 metric is the
equivalent of adding 10 segments, judging by the number of requests necessary
to collect the data.
</p>



<h4>Stacking segments</h4>

<p>The function does not currently support segment breakdowns, but you can
stack segments by applying a global segment to your query.
</p>



<h3>Value</h3>

<p><code><a href="tibble.html#topic+tibble">tibble::tibble()</a></code> of segments and metrics. Rows are returned with
segments in the order they were requested, not by metric sorting.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aw_freeform_table">aw_freeform_table()</a></code>
</p>

<hr>
<h2 id='aw_token'>OAuth2 Token for Adobe Analytics (deprecated)</h2><span id='topic+aw_token'></span>

<h3>Description</h3>

<p>This is the legacy mechanism for retrieving the authorization token using
OAuth. It has been replaced by <code>aw_auth()</code>.
</p>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_token(
  client_id = Sys.getenv("AW_CLIENT_ID"),
  client_secret = Sys.getenv("AW_CLIENT_SECRET"),
  use_oob = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_token_+3A_client_id">client_id</code></td>
<td>
<p>defined by global variable or manually defined</p>
</td></tr>
<tr><td><code id="aw_token_+3A_client_secret">client_secret</code></td>
<td>
<p>defined by global variable or manually defined</p>
</td></tr>
<tr><td><code id="aw_token_+3A_use_oob">use_oob</code></td>
<td>
<p>for the purpose of testing. Default is set to TRUE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An authorization token is saved the file name aa.oauth. If the
file aa.oauth does not exist then one will be created at the end of the
authorization process.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+aw_auth">aw_auth()</a></code>
</p>

<hr>
<h2 id='aw_workspace_report'>Use a prebuilt json query to pull a ranked report</h2><span id='topic+aw_workspace_report'></span>

<h3>Description</h3>

<p>Organizes the arguments into a json string and then structures the data after the internal function makes
the api call. Only runs a single dimension with as many metrics as you want.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aw_workspace_report(req_body = "", company_id = Sys.getenv("AW_COMPANY_ID"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="aw_workspace_report_+3A_req_body">req_body</code></td>
<td>
<p>The json string copied from Workspace</p>
</td></tr>
<tr><td><code id="aw_workspace_report_+3A_company_id">company_id</code></td>
<td>
<p>Company Id.  Taken from the global environment by default if not provided.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of dimensions and metrics
</p>

<hr>
<h2 id='cm_build'>Build a Calculated Metric</h2><span id='topic+cm_build'></span>

<h3>Description</h3>

<p>This function combines formulas to create calculated metrics in Adobe Analytics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_build(
  name = NULL,
  description = NULL,
  formula = NULL,
  seg_filter = NULL,
  polarity = "positive",
  precision = 0,
  type = "decimal",
  create_cm = FALSE,
  tagNames = NULL,
  internal = FALSE,
  debug = FALSE,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_build_+3A_name">name</code></td>
<td>
<p>This is the name of the new calculated metric (required)</p>
</td></tr>
<tr><td><code id="cm_build_+3A_description">description</code></td>
<td>
<p>This is the description of the segment (optional)</p>
</td></tr>
<tr><td><code id="cm_build_+3A_formula">formula</code></td>
<td>
<p>Formulas are list objects created using the <code><a href="#topic+cm_formula">cm_formula()</a></code> function.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_seg_filter">seg_filter</code></td>
<td>
<p>A segment filter to be added to a metric in the formula</p>
</td></tr>
<tr><td><code id="cm_build_+3A_polarity">polarity</code></td>
<td>
<p>Also known as 'Show Upward Trend As' in the UI. Options include 'positive' (default) or 'negative'.
This metric polarity setting shows whether Analytics should consider an upward trend in the metric as good (green) or bad (red).
As a result, the report’s graph will show as green or red when it’s going up.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_precision">precision</code></td>
<td>
<p>Shows how many decimal places will be shown in the report.
The maximum number of decimal places you can specify is 10. Also known as 'Decimal Places' in the UI.
Default is <code>0</code>. Must be a numeric.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_type">type</code></td>
<td>
<p>Choices include Decimal (default), Time, Percent, and Currency. Also known as 'Format' in the UI.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_create_cm">create_cm</code></td>
<td>
<p>Used to determine if the segment should be created in the
report suite or if the definition should be returned to be validated using cm_validate.
Default is FALSE</p>
</td></tr>
<tr><td><code id="cm_build_+3A_tagnames">tagNames</code></td>
<td>
<p>Apply tag names to the newly created calculated metric. Single string or a vector.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_internal">internal</code></td>
<td>
<p>Determines if this segment is to be available in the UI.
Default is FALSE, meaning the segment will not be available in the UI, nor will
the ID be available in the <code>aw_get_segments</code> function call.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_debug">debug</code></td>
<td>
<p>This enables the api call information to show in the console for
help with debugging issues. default is FALSE</p>
</td></tr>
<tr><td><code id="cm_build_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="cm_build_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See more information <a href="https://experienceleague.adobe.com/en/docs/analytics/components/calculated-metrics/calcmetric-workflow/cm-build-metrics">here</a>
</p>


<h3>Value</h3>

<p>If the &quot;create_cm&quot; argument is set to FALSE a list object definition
will be returned. If the &quot;create_cm&quot; argument is set to TRUE and the calculated metric
is valid it will return a data frame of the newly created calculated metric id along
with some other basic meta data. If it returns an error then the error
response will be returned to help understand what needs to be corrected.
</p>

<hr>
<h2 id='cm_copy'>Copy a Calculated Metric</h2><span id='topic+cm_copy'></span>

<h3>Description</h3>

<p>This function copies and existing function and creates a duplicate based on the definition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_copy(
  id,
  name = NULL,
  description = NULL,
  polarity = NULL,
  precision = NULL,
  type = NULL,
  create_cm = FALSE,
  debug = FALSE,
  rsid = NULL,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_copy_+3A_id">id</code></td>
<td>
<p>The id of the old calculated metric</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_name">name</code></td>
<td>
<p>This is the name of the new calculated metric.  If not provided, the prefix &quot;Copy_&quot; will be added to the existing name. (optional)</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_description">description</code></td>
<td>
<p>This is the description of the segment (optional)</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_polarity">polarity</code></td>
<td>
<p>Also known as 'Show Upward Trend As' in the UI. Options include 'positive' or 'negative'.
Default is based on original calculated metric definition.
This metric polarity setting shows whether Analytics should consider an upward trend in the metric as good (green) or bad (red).
As a result, the report’s graph will show as green or red when it’s going up.
Default is based on original calculated metric definition.</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_precision">precision</code></td>
<td>
<p>Shows how many decimal places will be shown in the report.
The maximum number of decimal places you can specify is 10. Also known as 'Decimal Places' in the UI.
Default is based on original calculated metric definition.</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_type">type</code></td>
<td>
<p>Choices include decimal (default), time, percent, and currency.
Also known as 'Format' in the UI. Default is based on original calculated metric definition.</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_create_cm">create_cm</code></td>
<td>
<p>Used to determine if the segment should be created in the
report suite or if the definition should be returned to be validated using cm_validate.
Default is FALSE</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_debug">debug</code></td>
<td>
<p>This enables the api call information to show in the console for
help with debugging issues. default is FALSE</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="cm_copy_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See more information <a href="https://experienceleague.adobe.com/en/docs/analytics/components/calculated-metrics/calcmetric-workflow/cm-build-metrics">here</a>
</p>


<h3>Value</h3>

<p>If the &quot;create_cm&quot; argument is set to FALSE a list object definition
will be returned. If the &quot;create_cm&quot; argument is set to TRUE and the calculated metric
is valid it will return a data frame of the newly created calculated metric id along
with some other basic meta data. If it returns an error then the error
response will be returned to help understand what needs to be corrected.
</p>

<hr>
<h2 id='cm_delete'>Delete A Calculated Metric Function</h2><span id='topic+cm_delete'></span>

<h3>Description</h3>

<p>Use this function to delete a specific calculated metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_delete(
  id = NULL,
  warn = TRUE,
  locale = "en_US",
  debug = FALSE,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_delete_+3A_id">id</code></td>
<td>
<p>Calculated Metric ID to be deleted.</p>
</td></tr>
<tr><td><code id="cm_delete_+3A_warn">warn</code></td>
<td>
<p>Boolean of whether or not to include a warning message.</p>
</td></tr>
<tr><td><code id="cm_delete_+3A_locale">locale</code></td>
<td>
<p>language - default 'en_US'</p>
</td></tr>
<tr><td><code id="cm_delete_+3A_debug">debug</code></td>
<td>
<p>Default <code>FALSE</code>. Set this to TRUE to see the information about the api calls as they happen.</p>
</td></tr>
<tr><td><code id="cm_delete_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="cm_delete_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string confirming the calculated metric is deleted
</p>

<hr>
<h2 id='cm_formula'>Create A Calculated Metric Formula</h2><span id='topic+cm_formula'></span>

<h3>Description</h3>

<p>Returns a JSON string formula to be used to build a calculated (derived) metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_formula(
  operator = c("divide", "multiply", "subtract", "add"),
  metrics = c("visits", "singlepagevisits"),
  seg_filters = NA,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_formula_+3A_operator">operator</code></td>
<td>
<p>Formula operators are divide (default), multiply, subtract, or add.</p>
</td></tr>
<tr><td><code id="cm_formula_+3A_metrics">metrics</code></td>
<td>
<p>The one or two metrics in a formula calculation</p>
</td></tr>
<tr><td><code id="cm_formula_+3A_seg_filters">seg_filters</code></td>
<td>
<p>A vector of segment filters to be added to a metric in the formula</p>
</td></tr>
<tr><td><code id="cm_formula_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="cm_formula_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A JSON string formula to be used in a calculated metric
</p>

<hr>
<h2 id='cm_function'>Create A Calculated Metric Function</h2><span id='topic+cm_function'></span>

<h3>Description</h3>

<p>Returns a JSON string defining a function to be used to build a calculated (derived) metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_function(
  func = "col-sum",
  metric = "visits",
  dimension = NULL,
  seg_filter = NULL,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_function_+3A_func">func</code></td>
<td>
<p>Calculated function id. Only Basic single metric functions are able to be used.</p>
</td></tr>
<tr><td><code id="cm_function_+3A_metric">metric</code></td>
<td>
<p>The metric to be used in the functional metric calculation. Default is <code>visits</code></p>
</td></tr>
<tr><td><code id="cm_function_+3A_dimension">dimension</code></td>
<td>
<p>The dimension to be used in the functional metric calculation. Default is <code>NULL</code></p>
</td></tr>
<tr><td><code id="cm_function_+3A_seg_filter">seg_filter</code></td>
<td>
<p>A segment filter to be added to a metric in the formula</p>
</td></tr>
<tr><td><code id="cm_function_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="cm_function_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a full list of calculated metric functions or a specified function that the user can access.
</p>

<hr>
<h2 id='cm_update'>Update Calculated Metric Functions</h2><span id='topic+cm_update'></span>

<h3>Description</h3>

<p>Update a specific calculated metric.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_update(
  id = NULL,
  updates = NULL,
  locale = "en_US",
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_update_+3A_id">id</code></td>
<td>
<p>Returns details around a single calculated metric function if you specify the id.
You can obtain the desired id by not including an ID value and finding the function in the results.</p>
</td></tr>
<tr><td><code id="cm_update_+3A_updates">updates</code></td>
<td>
<p>List of changes or entire JSON definition object.</p>
</td></tr>
<tr><td><code id="cm_update_+3A_locale">locale</code></td>
<td>
<p>All calculated metrics endpoints support the URL query parameter locale.
Supported values are en_US, fr_FR, ja_JP, de_DE, es_ES, ko_KR, pt_BR, zh_CN, and zh_TW.
This argument specifies which language is to be used for localized sections of responses.</p>
</td></tr>
<tr><td><code id="cm_update_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cm_update_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a json string of information about the updated calculated metric
</p>

<hr>
<h2 id='cm_val'>Validate the definition of a Calculated Metric</h2><span id='topic+cm_val'></span>

<h3>Description</h3>

<p>This function checks if a calculated metric JSON string is valid
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cm_val(
  definition = NULL,
  locale = "en_US",
  migrating = FALSE,
  debug = FALSE,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cm_val_+3A_definition">definition</code></td>
<td>
<p>json string definition of a calculated metric</p>
</td></tr>
<tr><td><code id="cm_val_+3A_locale">locale</code></td>
<td>
<p>The location of the language. en-US is default.</p>
</td></tr>
<tr><td><code id="cm_val_+3A_migrating">migrating</code></td>
<td>
<p>Include migration functions in validation. FALSE is default.</p>
</td></tr>
<tr><td><code id="cm_val_+3A_debug">debug</code></td>
<td>
<p>This enables the api call information to show in the console for
help with debugging issues. default is FALSE</p>
</td></tr>
<tr><td><code id="cm_val_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="cm_val_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See more information <a href="https://experienceleague.adobe.com/en/docs/analytics/components/calculated-metrics/calcmetric-workflow/cm-build-metrics">here</a>
</p>


<h3>Value</h3>

<p>A string confirming the calculated metric is valid or is not valid.
</p>

<hr>
<h2 id='get_cm_functions'>Get Calculated Metric Functions</h2><span id='topic+get_cm_functions'></span>

<h3>Description</h3>

<p>Returns a full list of calculated metric functions that the user can access.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_cm_functions(
  id = NULL,
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_cm_functions_+3A_id">id</code></td>
<td>
<p>Returns details around a single calculated metric function if you specify the id.
You can obtain the desired id by not including an ID value and finding the function in the results.</p>
</td></tr>
<tr><td><code id="get_cm_functions_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="get_cm_functions_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a full list of calculated metric functions or a specified function that the user can access.
</p>

<hr>
<h2 id='get_me'>Get Company Ids</h2><span id='topic+get_me'></span>

<h3>Description</h3>

<p>This function will quickly pull the list of company ids that you have access to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_me(req_path = "discovery/me")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_me_+3A_req_path">req_path</code></td>
<td>
<p>The endpoint for that particular report</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of company ids and company names
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_me()

## End(Not run)
</code></pre>

<hr>
<h2 id='get_usage_logs'>Get a list of user usage</h2><span id='topic+get_usage_logs'></span>

<h3>Description</h3>

<p>This function returns the usage and access logs for a given date range within a 3 month period.
The user must have Admin Console / Logs permissions (must be able to view the <strong>Usage &amp; Access Log</strong>
data in the web interface) in order to use this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_usage_logs(
  startDate = Sys.Date() - 91,
  endDate = Sys.Date() - 1,
  login = NULL,
  ip = NULL,
  rsid = NULL,
  eventType = NULL,
  event = NULL,
  limit = 100,
  page = 0,
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_usage_logs_+3A_startdate">startDate</code></td>
<td>
<p>Start date for the maximum of a 3 month period.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_enddate">endDate</code></td>
<td>
<p>End date for the maximum of a 3 month period.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_login">login</code></td>
<td>
<p>The login value of the user you want to filter logs by.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_ip">ip</code></td>
<td>
<p>The IP address you want to filter logs by.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_rsid">rsid</code></td>
<td>
<p>The report suite ID you want to filter logs by.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_eventtype">eventType</code></td>
<td>
<p>The numeric id for the event type you want to filter logs by. Leaving this blank returns
all events. See the <a href="https://github.com/AdobeDocs/analytics-2.0-apis/blob/master/usage-logs.md">Usage Logs API Guide</a>
for a complete list of event types.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_event">event</code></td>
<td>
<p>The event description you want to filter logs by. No wildcards are permitted.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per page. This argument works in conjunction with the
<code>page</code> argument. The default is 10.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_page">page</code></td>
<td>
<p>The &quot;page&quot; of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 20</code> and <code>page = 1</code>, the results returned would be 21 through 40.</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
<tr><td><code id="get_usage_logs_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of logged events and the event meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_usage_logs(startDate = Sys.Date()-91, endDate = Sys.Date()-1, limit = 100, page = 0)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_users'>Get list of users</h2><span id='topic+get_users'></span>

<h3>Description</h3>

<p>Retrieves a list of all users for the company designated by the auth token.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_users(company_id = Sys.getenv("AW_COMPANY_ID"), limit = 10, page = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_users_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="get_users_+3A_limit">limit</code></td>
<td>
<p>The number of results to return per page. This argument works in conjunction with the
<code>page</code> argument. The default is 10.</p>
</td></tr>
<tr><td><code id="get_users_+3A_page">page</code></td>
<td>
<p>The &quot;page&quot; of results to display. This works in conjunction with the <code>limit</code> argument and is
zero-based. For instance, if <code>limit = 20</code> and <code>page = 1</code>, the results returned would be 21 through 40.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of users and their meta data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
get_users(limit = 10, page = 0)

## End(Not run)

</code></pre>

<hr>
<h2 id='proj_build'>Create a project in Adobe</h2><span id='topic+proj_build'></span>

<h3>Description</h3>

<p>Creates a new project in Adobe. Note: very early in development
</p>


<h3>Usage</h3>

<pre><code class='language-R'>proj_build(
  body = NULL,
  expansion = NULL,
  locale = "en_US",
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="proj_build_+3A_body">body</code></td>
<td>
<p>The project json string which include the configuration and definition</p>
</td></tr>
<tr><td><code id="proj_build_+3A_expansion">expansion</code></td>
<td>
<p>Comma-delimited list of additional project metadata fields to include on response. Available values : reportSuiteName, shares, tags, accessLevel, modified, externalReferences, definition</p>
</td></tr>
<tr><td><code id="proj_build_+3A_locale">locale</code></td>
<td>
<p>Locale Default value : en_US</p>
</td></tr>
<tr><td><code id="proj_build_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="proj_build_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A json string
</p>

<hr>
<h2 id='proj_update'>Edit a project in Adobe</h2><span id='topic+proj_update'></span>

<h3>Description</h3>

<p>Edits an existing project in Adobe. Note: very early in development
</p>


<h3>Usage</h3>

<pre><code class='language-R'>proj_update(
  projectId = NULL,
  body = NULL,
  expansion = NULL,
  locale = "en_US",
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="proj_update_+3A_projectid">projectId</code></td>
<td>
<p>The project id to be edited</p>
</td></tr>
<tr><td><code id="proj_update_+3A_body">body</code></td>
<td>
<p>The json string in list format which includes the edits to be made</p>
</td></tr>
<tr><td><code id="proj_update_+3A_expansion">expansion</code></td>
<td>
<p>Comma-delimited list of additional project metadata fields to include on response. Available values : reportSuiteName, shares, tags, accessLevel, modified, externalReferences, definition</p>
</td></tr>
<tr><td><code id="proj_update_+3A_locale">locale</code></td>
<td>
<p>Locale Default value : en_US</p>
</td></tr>
<tr><td><code id="proj_update_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="proj_update_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A json string
</p>

<hr>
<h2 id='retrieve_aw_token'>Retrieve a token</h2><span id='topic+retrieve_aw_token'></span>

<h3>Description</h3>

<p>Updates (if necessary) and returns a session token. This function first checks
for a session token, then for a cached token, and, finally, generates a
new token. The default type may be set for the session with <code>aw_auth_with()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>retrieve_aw_token(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="retrieve_aw_token_+3A_...">...</code></td>
<td>
<p>Further arguments passed to auth functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A token object of type <code>response</code> (JWT) or <code>Token2.0</code> (OAuth)
</p>

<hr>
<h2 id='seg_build'>Build the Segment in Adobe Analytics</h2><span id='topic+seg_build'></span>

<h3>Description</h3>

<p>This function combines rules, containers and/or sequences into a single JSON
string and can then make the post call to create the segment in Adobe Analytics
or return the json string for use in other api calls or for validation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_build(
  name = NULL,
  description = NULL,
  containers = NULL,
  rules = NULL,
  sequences = NULL,
  context = "hits",
  conjunction = "and",
  sequence = "in_order",
  sequence_context = "hits",
  exclude = FALSE,
  create_seg = FALSE,
  tagNames = NULL,
  internal = FALSE,
  debug = FALSE,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_build_+3A_name">name</code></td>
<td>
<p>This is the name of the new segment (required)</p>
</td></tr>
<tr><td><code id="seg_build_+3A_description">description</code></td>
<td>
<p>This is the description of the segment (required)</p>
</td></tr>
<tr><td><code id="seg_build_+3A_containers">containers</code></td>
<td>
<p>List of the container(s) that make up the segment. Containers
are list objects created using the <code><a href="#topic+seg_con">seg_con()</a></code> function.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_rules">rules</code></td>
<td>
<p>List of the rule(s) to create a segment. Rules are list objects
created using the <code><a href="#topic+seg_rule">seg_rule()</a></code> function.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_sequences">sequences</code></td>
<td>
<p>List of the rule(s) and sequence container(s) that are combined
to make a segment. Sequence containers are list objects created using the <code><a href="#topic+seg_seq">seg_seq()</a></code> function.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_context">context</code></td>
<td>
<p>Defines the level that the segment logic should operate on.
Valid values are visitors, visits, and hits. See Details</p>
</td></tr>
<tr><td><code id="seg_build_+3A_conjunction">conjunction</code></td>
<td>
<p>This will tell how the different containers and rules should
be compared. Use either 'and' or 'or'.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_sequence">sequence</code></td>
<td>
<p>Used to define if the segment should be 'in_order' (default),
'after', or 'before' the sequence of events</p>
</td></tr>
<tr><td><code id="seg_build_+3A_sequence_context">sequence_context</code></td>
<td>
<p>Used to define the sequential items context which should
be below the container context. ex. if container context is visitors then the
sequence_context should be visits or hits</p>
</td></tr>
<tr><td><code id="seg_build_+3A_exclude">exclude</code></td>
<td>
<p>Excludes the main container which will include all rules.
Only used when the rule arguments are used.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_create_seg">create_seg</code></td>
<td>
<p>Used to determine if the segment should be created in the
report suite or if the definition should be returned to be used in a freeform
table API call. Default is FALSE</p>
</td></tr>
<tr><td><code id="seg_build_+3A_tagnames">tagNames</code></td>
<td>
<p>Apply tag names to the newly created calculated metric. Single
string or a vector.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_internal">internal</code></td>
<td>
<p>Determines if this segment is to be available in the UI.
Default is FALSE, meaning the segment will not be available in the UI, nor will
the ID be available in the <code>aw_get_segments</code> function call.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_debug">debug</code></td>
<td>
<p>This enables the api call information to show in the console for
help with debugging issues. default is FALSE</p>
</td></tr>
<tr><td><code id="seg_build_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="seg_build_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Context</strong>
</p>
<p>The rules in a segment have a context that specify the level of operation.
The context can be &quot;visitors&quot;, &quot;visits&quot; or &quot;hits.&quot;
As an example, let's build a segment rule where revenue is greater than 0
(meaning a purchase took place) and change the context to see how things change.
If the context is set to &quot;visitors&quot;, the segment includes all hits from visitors
that have a purchase of some kind during a visit. This is useful in analyzing
customer behavior in visits leading up to a purchase and possibly behavior after a purchase.
If the context is set to &quot;visits&quot;, the segment includes all hits from visits where
a purchase occurred. This is useful for seeing the behavior of a visitor in
immediate page views leading up to the purchase.
If the context is set to &quot;hits&quot;, the segment only includes hits where a purchase
occurred, and no other hits. This is useful in seeing which products were most
popular.
In the above example, the context for the container listed is hits. This means
that the container only evaluates data at the hit level, (in contrast to visit
or visitor level). The rows in the container are also at the hit level.
</p>


<h3>Value</h3>

<p>If the &quot;create_seg&quot; argument is set to FALSE a JSON string definition
will be returned. If the &quot;create_seg&quot; argument is set to TRUE and the segment
is valid it will return a data frame of the newly created segment id along
with some other basic meta data. If it returns an error then the error
response will be returned to help understand what needs to be corrected.
</p>

<hr>
<h2 id='seg_con'>Create the segment container</h2><span id='topic+seg_con'></span>

<h3>Description</h3>

<p>This function combines rules into a container.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_con(context = "hits", conjunction = "and", rules = NULL, exclude = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_con_+3A_context">context</code></td>
<td>
<p>Defines the level that the segment logic should operate on.
Valid values are visitors, visits, and hits. See Details</p>
</td></tr>
<tr><td><code id="seg_con_+3A_conjunction">conjunction</code></td>
<td>
<p>This defines the relationship of the rules.  <code>And</code> (default)
and <code>or</code> are the two options.</p>
</td></tr>
<tr><td><code id="seg_con_+3A_rules">rules</code></td>
<td>
<p>List of rules and/or containers. Must be wrapped in a list()
function. Adding a container list item will nest it within a container.</p>
</td></tr>
<tr><td><code id="seg_con_+3A_exclude">exclude</code></td>
<td>
<p>Exclude the entire container</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Context</strong>
</p>
<p>The rules in a segment have a context that specify the level of operation.
The context can be &quot;visitors&quot;, &quot;visits&quot; or &quot;hits.&quot;
As an example, let's build a segment rule where revenue is greater than 0
(meaning a purchase took place) and change the context to see how things change.
If the context is set to &quot;visitors&quot;, the segment includes all hits from visitors
that have a purchase of some kind during a visit. This is useful in analyzing
customer behavior in visits leading up to a purchase and possibly behavior after a purchase.
If the context is set to &quot;visits&quot;, the segment includes all hits from visits where
a purchase occurred. This is useful for seeing the behavior of a visitor in
immediate page views leading up to the purchase.
If the context is set to &quot;hit&quot;, the segment only includes hits where a purchase
occurred, and no other hits. This is useful in seeing which products were most popular.
In the above example, the context for the container listed is hits. This means
that the container only evaluates data at the hit level,
(in contrast to visit or visitor level). The rules in the container are also at the hit level.
</p>


<h3>Value</h3>

<p>a structured list of containers to be used to build the segment
</p>

<hr>
<h2 id='seg_copy'>Copy a segment in Adobe Analytics</h2><span id='topic+seg_copy'></span>

<h3>Description</h3>

<p>This function copies and existing function and creates a duplicate based on the definition.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_copy(
  id,
  name = NULL,
  description = NULL,
  polarity = NULL,
  precision = NULL,
  type = NULL,
  create_seg = FALSE,
  debug = FALSE,
  rsid = NULL,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_copy_+3A_id">id</code></td>
<td>
<p>The id of the old segment</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_name">name</code></td>
<td>
<p>This is the name of the new segment. If not provided, the prefix &quot;Copy_&quot; will be added to the existing name. (optional)</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_description">description</code></td>
<td>
<p>This is the description of the segment (optional)</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_polarity">polarity</code></td>
<td>
<p>Also known as 'Show Upward Trend As' in the UI. Options include 'positive' or 'negative'.
Default is based on original segment definition.
This metric polarity setting shows whether Analytics should consider an upward trend in the metric as good (green) or bad (red).
As a result, the report’s graph will show as green or red when it’s going up.
Default is based on original segment definition.</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_precision">precision</code></td>
<td>
<p>Shows how many decimal places will be shown in the report.
The maximum number of decimal places you can specify is 10. Also known as 'Decimal Places' in the UI.
Default is based on original segment definition.</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_type">type</code></td>
<td>
<p>Choices include decimal (default), time, percent, and currency.
Also known as 'Format' in the UI. Default is based on original segment definition.</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_create_seg">create_seg</code></td>
<td>
<p>Used to determine if the segment should be created in the
report suite or if the definition should be returned to be validated using seg_val.
Default is FALSE</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_debug">debug</code></td>
<td>
<p>This enables the api call information to show in the console for
help with debugging issues. default is FALSE</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="seg_copy_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See more information <a href="https://experienceleague.adobe.com/en/docs/analytics/components/segmentation/segmentation-workflow/seg-build">here</a>
</p>


<h3>Value</h3>

<p>If the &quot;create_seg&quot; argument is set to FALSE a list object definition
will be returned. If the &quot;create_seg&quot; argument is set to TRUE and the segment
is valid it will return a data frame of the newly created segment id along
with some other basic meta data. If it returns an error then the error
response will be returned to help understand what needs to be corrected.
</p>

<hr>
<h2 id='seg_delete'>Delete A Segment</h2><span id='topic+seg_delete'></span>

<h3>Description</h3>

<p>Use this function to delete a specific segment in Adobe Analytics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_delete(
  id = NULL,
  warn = TRUE,
  locale = "en_US",
  debug = FALSE,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_delete_+3A_id">id</code></td>
<td>
<p>Segment ID to be deleted.</p>
</td></tr>
<tr><td><code id="seg_delete_+3A_warn">warn</code></td>
<td>
<p>Boolean of whether or not to include a warning message.</p>
</td></tr>
<tr><td><code id="seg_delete_+3A_locale">locale</code></td>
<td>
<p>language - default 'en_US'</p>
</td></tr>
<tr><td><code id="seg_delete_+3A_debug">debug</code></td>
<td>
<p>Default <code>FALSE</code>. Set this to TRUE to see the information about the api calls as they happen.</p>
</td></tr>
<tr><td><code id="seg_delete_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="seg_delete_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string confirming the segment has or has not been deleted
</p>

<hr>
<h2 id='seg_rule'>Create the segment rule</h2><span id='topic+seg_rule'></span>

<h3>Description</h3>

<p>This function creates the simple rule of a segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_rule(
  dimension = NULL,
  metric = NULL,
  verb = NULL,
  object = NULL,
  description = NULL,
  is_distinct = FALSE,
  attribution = "repeating",
  attribution_context = "visitors",
  validate = FALSE,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_rule_+3A_dimension">dimension</code></td>
<td>
<p>This is the subject of the rule. The value should be the dimension
id. Only the dimension or metric can be used at a time.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_metric">metric</code></td>
<td>
<p>This is the subject of the rule. The value should be the metric id.
Only the dimension or metric can be used at a time.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_verb">verb</code></td>
<td>
<p>Choose from any of the 30 different verbs. Use the <code><a href="#topic+seg_verbs">seg_verbs</a></code>
package data to see all available verbs along with the descriptions.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_object">object</code></td>
<td>
<p>This is the object of the rule and answers the question <code>what</code> or <code style="white-space: pre;">&#8288;how many&#8288;</code></p>
</td></tr>
<tr><td><code id="seg_rule_+3A_description">description</code></td>
<td>
<p>The internal description for the rule. (optional) This will
not show in the UI but could be very helpful when using the API.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_is_distinct">is_distinct</code></td>
<td>
<p>This will segment on a distinct count of items within a dimension.
Examples: “Visitors who viewed more than 5 distinct products,” or “Visits where
more than 5 distinct pages were seen.”</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_attribution">attribution</code></td>
<td>
<p>Define the type of attribution. Either <code>repeating</code> (default),
<code>instance</code>, or <code>nonrepeating</code>. See Details for more information.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_attribution_context">attribution_context</code></td>
<td>
<p>When applying a non-repeating instance attribution
model to a rule the context for the attribution must be <code>visitors</code> (default) or <code>visits</code></p>
</td></tr>
<tr><td><code id="seg_rule_+3A_validate">validate</code></td>
<td>
<p>Set to TRUE when metric or dimension validation is preferred.
Default is FALSE. Validation will slow down the function response time but
ensure a valid rule result.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called
<code>AW_REPORTSUITE_ID</code> exists in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument
is provided, then the <code>AW_REPORTSUITE_ID</code> value will be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code>
to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="seg_rule_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code>
exists in <code>.Renviron</code> or elsewhere and no <code>company_id</code> argument is provided,
then the <code>AW_COMPANY_ID</code> value will be used. Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of
available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Attribution Models</strong>
Available for dimensions only, these models determine what values in a dimension to segment for.
Dimension models are particularly useful in sequential segmentation.
</p>

<ul>
<li> <p><em>repeating</em> (default): Includes instances and persisted values for the dimension.
</p>
</li>
<li> <p><em>instance</em>: Includes instances for the dimension.
</p>
</li>
<li> <p><em>nonrepeating</em> instance: Includes unique instances (non-repeating) for the dimension.
This is the model applied in Flow when repeat instances are excluded.
</p>
</li></ul>



<h3>Value</h3>

<p>A structured list defining the rule for a segment
</p>

<hr>
<h2 id='seg_seq'>Create the segment sequence container</h2><span id='topic+seg_seq'></span>

<h3>Description</h3>

<p>This function combines rules into a sequence container.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_seq(
  context = "visits",
  rules = NULL,
  sequence = "in_order",
  exclude = FALSE,
  exclude_checkpoint = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_seq_+3A_context">context</code></td>
<td>
<p>Defines the level that the segment logic should operate on.
Valid values for sequential segments is visitors and visits. See Details</p>
</td></tr>
<tr><td><code id="seg_seq_+3A_rules">rules</code></td>
<td>
<p>List of rules created using <code><a href="#topic+seg_rule">seg_rule()</a></code> function. Must be wrapped
in a list() function.</p>
</td></tr>
<tr><td><code id="seg_seq_+3A_sequence">sequence</code></td>
<td>
<p>How should the sequence of items be considered.
Options: <code>in_order</code> (default), <code>before</code>, <code>after</code>, <code>and</code>, <code>or</code></p>
</td></tr>
<tr><td><code id="seg_seq_+3A_exclude">exclude</code></td>
<td>
<p>Excludes the entire sequence container which will include all rules.</p>
</td></tr>
<tr><td><code id="seg_seq_+3A_exclude_checkpoint">exclude_checkpoint</code></td>
<td>
<p>Which checkpoints (rules) should be excluded.
Example <code>c(1, 4)</code>. See Details</p>
</td></tr>
</table>


<h3>Details</h3>

<p><strong>Context</strong>
</p>
<p>The rules in a segment have a context that specify the level of operation.
The context can be &quot;visitors&quot;, &quot;visits&quot; or &quot;hits.&quot;
As an example, let's build a segment rule where revenue is greater than 0
(meaning a purchase took place) and change the context to see how things change.
If the context is set to &quot;visitors&quot;, the segment includes all hits from visitors
that have a purchase of some kind during a visit. This is useful in analyzing
customer behavior in visits leading up to a purchase and possibly behavior
after a purchase.
If the context is set to &quot;visits&quot;, the segment includes all hits from visits where
a purchase occurred. This is useful for seeing the behavior of a visitor in
immediate page views leading up to the purchase.
If the context is set to &quot;hits&quot;, the segment only includes hits where a purchase
occurred, and no other hits. This is useful in seeing which products were most
popular.
In the above example, the context for the container listed is hits. This means
that the container only evaluates data at the hit level, (in contrast to visit
or visitor level). The rows in the container are also at the hit level.
</p>
<p><strong>Exclude checkpoint</strong>
</p>
<p>Ensures the next checkpoint doesn't happen between the
preceding checkpoint and the subsequent checkpoint. If there is no subsequent
checkpoint then the excluded checkpoint must not occur at any point after
the preceding checkpoint. If there is no preceding checkpoint then the
excluded checkpoint must not have occurred at any point preceding the
subsequent checkpoint.
</p>
<p><strong>More Information</strong>
</p>
<p>Sequential segments can be difficult to get right. Referencing this article
can help: https://experienceleague.adobe.com/docs/analytics/components/segmentation/segmentation-workflow/seg-sequential-build.html?lang=en
</p>


<h3>Value</h3>

<p>a structured list of containers to be used to build the segment
</p>

<hr>
<h2 id='seg_then'>Create the segment sequence then object</h2><span id='topic+seg_then'></span>

<h3>Description</h3>

<p>This function creates a then list object which restricts the time constraint of a segment to be added to a sequence segment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_then(limit = "within", count = 1, unit = "year")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_then_+3A_limit">limit</code></td>
<td>
<p>The limitation of the restriction. Either <code>within</code> (default) or <code>after</code></p>
</td></tr>
<tr><td><code id="seg_then_+3A_count">count</code></td>
<td>
<p>How many of the units should be used. <code>1</code> is set as default.</p>
</td></tr>
<tr><td><code id="seg_then_+3A_unit">unit</code></td>
<td>
<p>A unit of time. Valid values are <code>hit</code>, <code>visit</code>, <code>minute</code>, <code>hour</code>, <code>day</code>, <code>week</code> (default), <code>month</code>, <code>quarter</code>, or <code>year</code>. Always use the singular form.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Combining <code>seg_then</code> arguments</h4>

<p>In the UI you can add 'after' and 'within' statements to create a more complex time restriction.
The same can be accomplished using this function by listing the limits, counts, and units in a c()
function. This would look like:  <code style="white-space: pre;">&#8288;limit = c('within', 'after'), count = c(5, 1), unit = c('hit', 'visit')&#8288;</code>
</p>



<h4>Using within and after in the same time <code>seg_then</code> function call</h4>

<p>Time restrictions can only be combined using 'within' first before 'after'.
The function will automatically align these to be in the correct list item order.
</p>



<h4>A word about unit values</h4>

<p>Currently <code>pageviews</code> and <code>dimensions</code> are not supported unit values.
</p>



<h3>Value</h3>

<p>a structured list of time restrictions to be used to build the sequential segment
</p>

<hr>
<h2 id='seg_update'>Update A Segment</h2><span id='topic+seg_update'></span>

<h3>Description</h3>

<p>Update a specific segment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_update(
  id = NULL,
  updates = NULL,
  locale = "en_US",
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_update_+3A_id">id</code></td>
<td>
<p>The id of the segment you are wanting to update</p>
</td></tr>
<tr><td><code id="seg_update_+3A_updates">updates</code></td>
<td>
<p>List of changes or entire definition object as a list object.</p>
</td></tr>
<tr><td><code id="seg_update_+3A_locale">locale</code></td>
<td>
<p>The URL query parameter locale. Supported values are en_US, fr_FR,
ja_JP, de_DE, es_ES, ko_KR, pt_BR, zh_CN, and zh_TW. This argument specifies
which language is to be used for localized sections of responses.</p>
</td></tr>
<tr><td><code id="seg_update_+3A_debug">debug</code></td>
<td>
<p>Set to <code>TRUE</code> to publish the full JSON request(s) being sent to the API to the console when the
function is called. The default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="seg_update_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>json string of updated segment information
</p>

<hr>
<h2 id='seg_val'>Validate a segment</h2><span id='topic+seg_val'></span>

<h3>Description</h3>

<p>Returns a segment validation response for a segment contained in a json string object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_val(
  segment_body = NULL,
  rsid = Sys.getenv("AW_REPORTSUITE_ID"),
  debug = FALSE,
  company_id = Sys.getenv("AW_COMPANY_ID")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="seg_val_+3A_segment_body">segment_body</code></td>
<td>
<p>The json string of the segment that is being validated (required)</p>
</td></tr>
<tr><td><code id="seg_val_+3A_rsid">rsid</code></td>
<td>
<p>Adobe report suite ID (RSID).  If an environment variable called <code>AW_REPORTSUITE_ID</code> exists
in <code>.Renviron</code> or elsewhere and no <code>rsid</code> argument is provided, then the <code>AW_REPORTSUITE_ID</code> value will
be used. Use <code><a href="#topic+aw_get_reportsuites">aw_get_reportsuites()</a></code> to get a list of available <code>rsid</code> values.</p>
</td></tr>
<tr><td><code id="seg_val_+3A_debug">debug</code></td>
<td>
<p>This enables the api call information to show in the console for help with debugging issues. default is FALSE</p>
</td></tr>
<tr><td><code id="seg_val_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me()</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If the segment is valid a message saying the segment validates is returned.
If the segment doesn't validate the errors are returned in a data frame.
</p>

<hr>
<h2 id='seg_verbs'>Verbs available in segment rules.</h2><span id='topic+seg_verbs'></span>

<h3>Description</h3>

<p>A dataset containing the list of available verbs to be used in segment rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>seg_verbs
</code></pre>


<h3>Format</h3>

<p>A data frame with 34 rows and 5 variables:
</p>

<dl>
<dt>type</dt><dd><p>one of number, string, or exists</p>
</dd>
<dt>class</dt><dd><p>gives the context of the type of value is expected, either
string, list, glob, number, or exists</p>
</dd>
<dt>verb</dt><dd><p>the actual verb id to be used in the segment defition</p>
</dd>
<dt>description</dt><dd><p>a simple description of the verb</p>
</dd>
<dt>arg</dt><dd><p>specifies what argument to use when building the segment verb function</p>
</dd>
</dl>
<p>...

</p>


<h3>Source</h3>

<p><a href="https://developer.adobe.com/analytics-apis/docs/2.0/guides/endpoints/segments/definition/#available-data-comparison-functions">https://developer.adobe.com/analytics-apis/docs/2.0/guides/endpoints/segments/definition/#available-data-comparison-functions</a>
</p>

<hr>
<h2 id='tags_add'>Add a tag to a component</h2><span id='topic+tags_add'></span>

<h3>Description</h3>

<p>Enables the creation of a new tag and applies the new tag to the passed component
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tags_add(
  company_id = Sys.getenv("AW_COMPANY_ID"),
  componentId = NULL,
  componentType = NULL,
  tagNames = NULL,
  overwrite = FALSE,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tags_add_+3A_company_id">company_id</code></td>
<td>
<p>Company ID. If an environment variable called <code>AW_COMPANY_ID</code> exists in <code>.Renviron</code> or
elsewhere and no <code>company_id</code> argument is provided, then the <code>AW_COMPANY_ID</code> value will be used.
Use <code><a href="#topic+get_me">get_me</a></code> to get a list of available <code>company_id</code> values.</p>
</td></tr>
<tr><td><code id="tags_add_+3A_componentid">componentId</code></td>
<td>
<p>The component id being requested. Default is <code>NULL</code></p>
</td></tr>
<tr><td><code id="tags_add_+3A_componenttype">componentType</code></td>
<td>
<p>The component type being requested. Options include segment, dashboard, bookmark,
calculatedMetric, project, dateRange, metric, dimension, virtualReportSuite, scheduledJob, alert, classification.
Default is NULL</p>
</td></tr>
<tr><td><code id="tags_add_+3A_tagnames">tagNames</code></td>
<td>
<p>Comma separated vector of tag names.</p>
</td></tr>
<tr><td><code id="tags_add_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite the existing tag names on a component. To append a
new tag name use FALSE (default). To overwrite the existing tags on a component
use TRUE.</p>
</td></tr>
<tr><td><code id="tags_add_+3A_debug">debug</code></td>
<td>
<p>Include the output and input of the api call in the console for debugging. Default is FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of segments and their meta data.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

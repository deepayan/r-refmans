<!DOCTYPE html><html><head><title>Help for package swfscDAS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {swfscDAS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as_das_df'><p>Coerce object to a das_df object</p></a></li>
<li><a href='#as_das_dfr'><p>Coerce object to a das_dfr object</p></a></li>
<li><a href='#das_check'><p>Check DAS file</p></a></li>
<li><a href='#das_chop_condition'><p>Chop DAS data - condition</p></a></li>
<li><a href='#das_chop_equallength'><p>Chop DAS data - equal length</p></a></li>
<li><a href='#das_chop_section'><p>Chop DAS data - section</p></a></li>
<li><a href='#das_comments'><p>Extract comments from DAS data</p></a></li>
<li><a href='#das_df-class'><p><code>das_df</code> class</p></a></li>
<li><a href='#das_dfr-class'><p><code>das_dfr</code> class</p></a></li>
<li><a href='#das_effort'><p>Summarize DAS effort</p></a></li>
<li><a href='#das_effort_sight'><p>Summarize DAS sightings by effort segment</p></a></li>
<li><a href='#das_effort_strata'><p>Split effort by strata</p></a></li>
<li><a href='#das_format_pdf'><p>DAS format requirements</p></a></li>
<li><a href='#das_intersects_strata'><p>DAS strata - points</p></a></li>
<li><a href='#das_process'><p>Process DAS data</p></a></li>
<li><a href='#das_read'><p>Read DAS file(s)</p></a></li>
<li><a href='#das_segdata'><p>Summarize DAS data for a continuous effort section</p></a></li>
<li><a href='#das_sight'><p>DAS sightings</p></a></li>
<li><a href='#distance_greatcircle'><p>Calculate great-circle distance</p></a></li>
<li><a href='#randpicks_convert'><p>Convert randpicks file</p></a></li>
<li><a href='#subsetting'><p>Subsetting objects created using swfscDAS</p></a></li>
<li><a href='#swfscAirDAS-internals'><p>Internal functions for swfscAirDAS</p></a></li>
<li><a href='#swfscDAS-package'><p>Southwest Fisheries Science Center DAS</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Southwest Fisheries Science Center Shipboard DAS Data Processing</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Process and summarize shipboard 
    'DAS' <a href="https://swfsc-publications.fisheries.noaa.gov/publications/TM/SWFSC/NOAA-TM-NMFS-SWFSC-305.PDF">https://swfsc-publications.fisheries.noaa.gov/publications/TM/SWFSC/NOAA-TM-NMFS-SWFSC-305.PDF</a> data
    produced by the Southwest Fisheries Science Center (SWFSC) program 'WinCruz' 
    <a href="https://www.fisheries.noaa.gov/west-coast/science-data/california-current-marine-mammal-assessment-program">https://www.fisheries.noaa.gov/west-coast/science-data/california-current-marine-mammal-assessment-program</a>.
    This package standardizes and streamlines basic DAS data processing,
    and includes a PDF with the DAS data format requirements.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://smwoodman.github.io/swfscDAS/">https://smwoodman.github.io/swfscDAS/</a>,
<a href="https://github.com/smwoodman/swfscDAS/">https://github.com/smwoodman/swfscDAS/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/smwoodman/swfscDAS/issues/">https://github.com/smwoodman/swfscDAS/issues/</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.1.0), lubridate, magrittr, methods, parallel,
purrr, readr, rlang, sf, swfscMisc, tidyr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, stringr, testthat (&ge; 2.1.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-08-08 23:34:27 UTC; sam.woodman</td>
</tr>
<tr>
<td>Author:</td>
<td>Sam Woodman <a href="https://orcid.org/0000-0001-6071-8186"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sam Woodman &lt;sam.woodman@noaa.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-08-10 07:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='as_das_df'>Coerce object to a das_df object</h2><span id='topic+as_das_df'></span><span id='topic+as_das_df.das_df'></span><span id='topic+as_das_df.data.frame'></span>

<h3>Description</h3>

<p>Check if an object is of class <code>das_df</code>, or coerce it if possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_das_df(x)

## S3 method for class 'das_df'
as_das_df(x)

## S3 method for class 'data.frame'
as_das_df(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_das_df_+3A_x">x</code></td>
<td>
<p>an object to be coerced to class <code>das_df</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only data frames can be coerced to an object of class <code>das_df</code>.
If <code>x</code> does not have column names and classes as specified in <code><a href="#topic+das_df-class">das_df-class</a></code>,
then the function returns an error message detailing the first column that does not
meet the requirements of a <code>das_df</code> object.
</p>


<h3>Value</h3>

<p>An object of class 'das_df'
</p>


<h3>See Also</h3>

<p><code><a href="#topic+das_df-class">das_df-class</a></code>
</p>

<hr>
<h2 id='as_das_dfr'>Coerce object to a das_dfr object</h2><span id='topic+as_das_dfr'></span><span id='topic+as_das_dfr.das_dfr'></span><span id='topic+as_das_dfr.data.frame'></span>

<h3>Description</h3>

<p>Check if an object is of class <code>das_dfr</code>, or coerce it if possible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_das_dfr(x)

## S3 method for class 'das_dfr'
as_das_dfr(x)

## S3 method for class 'data.frame'
as_das_dfr(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_das_dfr_+3A_x">x</code></td>
<td>
<p>an object to be coerced to class <code>das_dfr</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Only data frames can be coerced to an object of class <code>das_dfr</code>.
If <code>x</code> does not have column names and classes as specified in <code><a href="#topic+das_dfr-class">das_dfr-class</a></code>,
then the function returns an error message detailing the first column that does not
meet the requirements of a <code>das_dfr</code> object.
</p>


<h3>Value</h3>

<p>An object of class 'das_dfr'
</p>


<h3>See Also</h3>

<p><code><a href="#topic+das_dfr-class">das_dfr-class</a></code>
</p>

<hr>
<h2 id='das_check'>Check DAS file</h2><span id='topic+das_check'></span>

<h3>Description</h3>

<p>Check that DAS file has accepted formatting and values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_check(
  file,
  skip = 0,
  file.out = NULL,
  sp.codes = NULL,
  print.cruise.nums = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_check_+3A_file">file</code></td>
<td>
<p>filename(s) of one or more DAS files</p>
</td></tr>
<tr><td><code id="das_check_+3A_skip">skip</code></td>
<td>
<p>integer: see <code><a href="readr.html#topic+read_fwf">read_fwf</a></code>. Default is 0</p>
</td></tr>
<tr><td><code id="das_check_+3A_file.out">file.out</code></td>
<td>
<p>filename to which to write the error log;
default is <code>NULL</code></p>
</td></tr>
<tr><td><code id="das_check_+3A_sp.codes">sp.codes</code></td>
<td>
<p>character; filename of .dat file from which to read
accepted species codes. If <code>NULL</code>, species codes will not be checked.
Default is <code>NULL</code></p>
</td></tr>
<tr><td><code id="das_check_+3A_print.cruise.nums">print.cruise.nums</code></td>
<td>
<p>logical; indicates if a table with all the
cruise numbers in the <code>x</code> should be printed using
<code><a href="base.html#topic+table">table</a></code>. Default is <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Precursor to a more comprehensive DASCHECK program.
This function checks that the following is true:
</p>

<ul>
<li><p> Event codes are one of the following: #, *, ?, 1, 2, 3, 4, 5, 6, 7, 8,
A, B, C, E, F, k, K, N, P, Q, r, R, s, S, t, V, W, g, G, p, X, Y, Z
</p>
</li>
<li><p> Latitude values are between -90 and 90 (inclusive; NA values are ignored)
</p>
</li>
<li><p> Longitude values are between -180 and 180 (inclusive; NA values are ignored)
</p>
</li>
<li><p> The effort dot matches effort determined using B, R, and E events
</p>
</li>
<li><p> There are an equal number of R and E events, and they alternate occurrences
</p>
</li>
<li><p> A BR event series or R event does not occur while already on effort
</p>
</li>
<li><p> An E event does not occur while already off effort
</p>
</li>
<li><p> All Data# columns for non-C events are right-justified
</p>
</li>
<li><p> Only C events have data past the 99th column in the DAS file
</p>
</li>
<li><p> The following events have NA (blank) Data# columns: *
</p>
</li>
<li><p> All of  *, B, R, E, V, W, N, P, and Q events have NA Data# columns
where specified (see format pdf for more details)
</p>
</li>
<li><p> Event/column pairs meet the following requirements:
</p>
</li></ul>


<table>
<tr>
 <td style="text-align: left;">
  <em>Item</em>              </td><td style="text-align: left;"> <em>Event</em>  </td><td style="text-align: left;"> <em>Column</em>  </td><td style="text-align: left;"> <em>Requirement</em>                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
  Cruise number            </td><td style="text-align: left;"> B             </td><td style="text-align: left;"> Data1          </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Mode                     </td><td style="text-align: left;"> B             </td><td style="text-align: left;"> Data2          </td><td style="text-align: left;"> Must be one of C, P, c, p, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Echo sounder             </td><td style="text-align: left;"> B             </td><td style="text-align: left;"> Data4          </td><td style="text-align: left;"> Must be one of Y, N, y, n, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Effort type              </td><td style="text-align: left;"> R             </td><td style="text-align: left;"> Data1          </td><td style="text-align: left;"> Must be one of F, N, S, or NA (blank)                                     </td>
</tr>
<tr>
 <td style="text-align: left;">
  ESW sides                </td><td style="text-align: left;"> R             </td><td style="text-align: left;"> Data2          </td><td style="text-align: left;"> Effective strip width; must be one of F, H, or NA (blank)                 </td>
</tr>
<tr>
 <td style="text-align: left;">
  Course                   </td><td style="text-align: left;"> N             </td><td style="text-align: left;"> Data1          </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Speed                    </td><td style="text-align: left;"> N             </td><td style="text-align: left;"> Data2          </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Beaufort                 </td><td style="text-align: left;"> V             </td><td style="text-align: left;"> Data1          </td><td style="text-align: left;"> Must be a whole number between 0 and 9                                    </td>
</tr>
<tr>
 <td style="text-align: left;">
  Swell height             </td><td style="text-align: left;"> V             </td><td style="text-align: left;"> Data2          </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Wind speed               </td><td style="text-align: left;"> V             </td><td style="text-align: left;"> Data5          </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Rain or fog              </td><td style="text-align: left;"> W             </td><td style="text-align: left;"> Data1          </td><td style="text-align: left;"> Must be between 0 and 5 and either a whole number or have decimal value .5</td>
</tr>
<tr>
 <td style="text-align: left;">
  Horizontal sun           </td><td style="text-align: left;"> W             </td><td style="text-align: left;"> Data2          </td><td style="text-align: left;"> Must be a whole number between 0 and 12                                   </td>
</tr>
<tr>
 <td style="text-align: left;">
  Vertical sun             </td><td style="text-align: left;"> W             </td><td style="text-align: left;"> Data3          </td><td style="text-align: left;"> Must be a whole number between 0 and 12                                   </td>
</tr>
<tr>
 <td style="text-align: left;">
  Visibility               </td><td style="text-align: left;"> W             </td><td style="text-align: left;"> Data5          </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Sighting (mammal)        </td><td style="text-align: left;"> S, K, M       </td><td style="text-align: left;"> Data3-7        </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Sighting (mammal)        </td><td style="text-align: left;"> G             </td><td style="text-align: left;"> Data5-7        </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Sighting cue (mammal)    </td><td style="text-align: left;"> S, K, M       </td><td style="text-align: left;"> Data3          </td><td style="text-align: left;"> Must be a whole number between 1 and 6                                    </td>
</tr>
<tr>
 <td style="text-align: left;">
  Sighting method (mammal) </td><td style="text-align: left;"> S, K, M, G    </td><td style="text-align: left;"> Data4          </td><td style="text-align: left;"> Must be a whole number between 1 and 7                                    </td>
</tr>
<tr>
 <td style="text-align: left;">
  Bearing (mammal)         </td><td style="text-align: left;"> S, K, M, G    </td><td style="text-align: left;"> Data5          </td><td style="text-align: left;"> Must be a whole number between 0 and 360                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Photos                   </td><td style="text-align: left;"> A             </td><td style="text-align: left;"> Data3          </td><td style="text-align: left;"> Must be one of N, Y, n, y, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Birds                    </td><td style="text-align: left;"> A             </td><td style="text-align: left;"> Data4          </td><td style="text-align: left;"> Must be one of N, Y, n, y, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Calibration school       </td><td style="text-align: left;"> S, K, M       </td><td style="text-align: left;"> Data10         </td><td style="text-align: left;"> Must be one of N, Y, n, y, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Aerial photos taken      </td><td style="text-align: left;"> S, K, M       </td><td style="text-align: left;"> Data11         </td><td style="text-align: left;"> Must be one of N, Y, n, y, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Biopsy taken             </td><td style="text-align: left;"> S, K, M       </td><td style="text-align: left;"> Data12         </td><td style="text-align: left;"> Must be one of N, Y, n, y, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Species codes            </td><td style="text-align: left;"> A             </td><td style="text-align: left;"> Data5-8        </td><td style="text-align: left;"> If a species codes file is provided, must be one of the provided codes    </td>
</tr>
<tr>
 <td style="text-align: left;">
  Resight                  </td><td style="text-align: left;"> s, k          </td><td style="text-align: left;"> Data2-5        </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Turtle species           </td><td style="text-align: left;"> t             </td><td style="text-align: left;"> Data2          </td><td style="text-align: left;"> If a species codes file is provided, must be one of the provided codes    </td>
</tr>
<tr>
 <td style="text-align: left;">
  Turtle sighting          </td><td style="text-align: left;"> t             </td><td style="text-align: left;"> Data3-5, 7     </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Turtle JFR               </td><td style="text-align: left;"> t             </td><td style="text-align: left;"> Data6          </td><td style="text-align: left;"> Must be one of F, J, N, R, or NA (blank)                                  </td>
</tr>
<tr>
 <td style="text-align: left;">
  Fishing vessel           </td><td style="text-align: left;"> F             </td><td style="text-align: left;"> Data2-4        </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Sighting info            </td><td style="text-align: left;"> 1-8           </td><td style="text-align: left;"> Data2-8        </td><td style="text-align: left;"> Can be converted to a numeric value                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
  Sighting info            </td><td style="text-align: left;"> 1-8           </td><td style="text-align: left;"> Data9          </td><td style="text-align: left;"> The Data9 column must be NA (blank) for events 1-8
</td>
</tr>

</table>

<p>In the table above, 'between' means inclusive.
</p>
<p>Long-term items, and checks that are not performed:
</p>

<ul>
<li><p> Check that datetimes are sequential, meaning they
1) are the same as or 2) come after the previous event
</p>
</li>
<li><p> Check that A events only come immediately after a G/S/K/M event,
and all G/S/K/M events have an A after them.
And that each has at least one group size estimate (1:8 event)
</p>
</li></ul>



<h3>Value</h3>

<p>A data frame with columns: the file name, line number, cruise number,
'ID' (columns 4-39 from the DAS file), and description of the issue
</p>
<p>If <code>file.out</code> is not <code>NULL</code>, then the error log data frame is also
written to <code>file.out</code> using <code><a href="utils.html#topic+write.table">write.csv</a></code>
</p>
<p>A warning is printed if any events are r events; see <code><a href="#topic+das_process">das_process</a></code> for details about r events
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
if (interactive()) das_check(y)

</code></pre>

<hr>
<h2 id='das_chop_condition'>Chop DAS data - condition</h2><span id='topic+das_chop_condition'></span><span id='topic+das_chop_condition.data.frame'></span><span id='topic+das_chop_condition.das_df'></span>

<h3>Description</h3>

<p>Chop DAS data into a new effort segment every time a specified condition changes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_chop_condition(x, ...)

## S3 method for class 'data.frame'
das_chop_condition(x, ...)

## S3 method for class 'das_df'
das_chop_condition(
  x,
  conditions,
  seg.min.km = 0.1,
  distance.method = NULL,
  num.cores = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_chop_condition_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code>.
This data must be filtered for continuous effort sections;
see the Details section below</p>
</td></tr>
<tr><td><code id="das_chop_condition_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_chop_condition_+3A_conditions">conditions</code></td>
<td>
<p>the conditions that trigger a new segment;
see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
<tr><td><code id="das_chop_condition_+3A_seg.min.km">seg.min.km</code></td>
<td>
<p>numeric; minimum allowable segment length (in kilometers).
Default is 0.1. See the Details section below for more information</p>
</td></tr>
<tr><td><code id="das_chop_condition_+3A_distance.method">distance.method</code></td>
<td>
<p>character; see <code><a href="#topic+das_effort">das_effort</a></code>.
Default is <code>NULL</code> since these distances should have already been calculated</p>
</td></tr>
<tr><td><code id="das_chop_condition_+3A_num.cores">num.cores</code></td>
<td>
<p>see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>WARNING - do not call this function directly!
It is exported for documentation purposes, but is intended for internal package use only.
</p>
<p>This function is intended to be called by <code><a href="#topic+das_effort">das_effort</a></code>
when the &quot;condition&quot; method is specified.
Thus, <code>x</code> must be filtered for events (rows) where either
the 'OnEffort' column is <code>TRUE</code> or the 'Event' column is &quot;E&quot;;
see <code><a href="#topic+das_effort">das_effort</a></code> for more details.
This function chops each continuous effort section (henceforth 'effort sections')
in <code>x</code> into modeling segments (henceforth 'segments') by
creating a new segment every time a specified condition changes.
Each effort section runs from an &quot;R&quot; event to its corresponding &quot;E&quot; event.
After chopping, <code><a href="#topic+das_segdata">das_segdata</a></code> is called
(with <code>segdata.method = "maxdist"</code>)
to get relevant segdata information for each segment.
</p>
<p>Changes in the one of the conditions specified in the <code>conditions</code>
argument triggers a new segment.
One exception is if the event at which this condition change occurs is part of an event series,
meaning one of several events in a row at the same lat/lon points (such as a PVNW event series).
In this situation, the final event of the event series is considered the last event
of the current effort segment, and thus also the start of the next effort segment.
</p>
<p>Related, when multiple condition changes happen at the same lat/lon points,
such as a &quot;RPVNW&quot; series of events at the beginning of the effort section.
When this happens, no segments of length zero are created;
rather, a single segment is created that includes all of the condition changes
(i.e. all of the events in the event series) that happened during
the series of events (i.e. at the same location).
Note that this combining of events at the same position happens
even if <code>seg.min.km = 0</code>.
</p>
<p>In addition, (almost) all segments whose length is less than <code>seg.min.km</code>
are combined with the segment immediately following them to ensure that the length
of (almost) all segments is at least <code>seg.min.km</code>.
This allows users to account for situations where multiple conditions,
such as Beaufort and the visibility, change in rapid succession, for instance &lt;0.1 km apart.
When segments are combined, a message is printed, and the condition that was
recorded for the maximum distance within the new segment is reported.
See <code><a href="#topic+das_segdata">das_segdata</a></code>, <code>segdata.method = "maxdist"</code>, for more details
about how the segdata information is determined.
The only exception to this rule is if the short segment ends in an &quot;E&quot; event,
meaning it is the last segment of the effort section.
Since in this case there is no 'next' segment,
this short segment is left as-is.
</p>
<p>If the column <code>dist_from_prev</code> does not exist, the distance between
subsequent events is calculated as described in <code><a href="#topic+das_effort">das_effort</a></code>
</p>


<h3>Value</h3>

<p>List of two data frames:
</p>

<ul>
<li> <p><code>x</code>, with columns added for the corresponding unique segment code and number
</p>
</li>
<li><p> segdata: data frame with one row for each segment, and columns with
relevant data (see <code><a href="#topic+das_effort">das_effort</a></code> for specifics)
</p>
</li></ul>


<hr>
<h2 id='das_chop_equallength'>Chop DAS data - equal length</h2><span id='topic+das_chop_equallength'></span><span id='topic+das_chop_equallength.data.frame'></span><span id='topic+das_chop_equallength.das_df'></span>

<h3>Description</h3>

<p>Chop DAS data into approximately equal-length effort segments, averaging conditions by segment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_chop_equallength(x, ...)

## S3 method for class 'data.frame'
das_chop_equallength(x, ...)

## S3 method for class 'das_df'
das_chop_equallength(
  x,
  conditions,
  seg.km,
  randpicks.load = NULL,
  distance.method = NULL,
  num.cores = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_chop_equallength_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code>.
This data must be filtered for 'continuous effort sections;
see the Details section below</p>
</td></tr>
<tr><td><code id="das_chop_equallength_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_chop_equallength_+3A_conditions">conditions</code></td>
<td>
<p>see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
<tr><td><code id="das_chop_equallength_+3A_seg.km">seg.km</code></td>
<td>
<p>numeric; target segment length in kilometers</p>
</td></tr>
<tr><td><code id="das_chop_equallength_+3A_randpicks.load">randpicks.load</code></td>
<td>
<p>character, data frame, or <code>NULL</code>.
If character, must be filename of past randpicks output to load and use
(passed to <code>file</code> argument of <code><a href="utils.html#topic+read.table">read.csv</a></code>).
If data frame, randpicks values will be extracted from the data frame.
If <code>NULL</code>, new randpicks values will be generated by the function</p>
</td></tr>
<tr><td><code id="das_chop_equallength_+3A_distance.method">distance.method</code></td>
<td>
<p>character; see <code><a href="#topic+das_effort">das_effort</a></code>.
Default is <code>NULL</code> since these distances should have already been calculated</p>
</td></tr>
<tr><td><code id="das_chop_equallength_+3A_num.cores">num.cores</code></td>
<td>
<p>see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>WARNING - do not call this function directly!
It is exported for documentation purposes, but is intended for internal package use only.
</p>
<p>This function is intended to be called by <code><a href="#topic+das_effort">das_effort</a></code>
when the &quot;equallength&quot; method is specified.
Thus, <code>x</code> must be filtered for events (rows) where either
the 'OnEffort' column is <code>TRUE</code> or the 'Event' column is &quot;E&quot;;
see <code><a href="#topic+das_effort">das_effort</a></code> for more details.
This function chops each continuous effort section (henceforth 'effort sections')
in <code>x</code> into modeling segments (henceforth 'segments') of equal length.
Each effort section runs from an &quot;R&quot; event to its corresponding &quot;E&quot; event.
After chopping, <code><a href="#topic+das_segdata">das_segdata</a></code> is called to get relevant
segdata information for each segment.
</p>
<p>When chopping the effort sections in segments of length <code>seg.km</code>,
there are several possible scenarios:
</p>

<ul>
<li><p> The extra length remaining after chopping is greater than or equal to
half of the target segment length (i.e. <code>&gt;= 0.5*seg.km</code>):
the extra length is assigned to a random portion of the effort section as its own segment
(<a href="https://github.com/smwoodman/swfscDAS/blob/master/inst/DAS_chop_equallength_figures.pdf">see Fig. 1a</a>)
</p>
</li>
<li><p> The extra length remaining after chopping is less than half of the
target segment length (i.e. <code>&lt; 0.5*seg.km</code>):
the extra length is added to one of the (randomly selected) equal-length segments
(<a href="https://github.com/smwoodman/swfscDAS/blob/master/inst/DAS_chop_equallength_figures.pdf">see Fig. 1b</a>)
</p>
</li>
<li><p> The length of the effort section is less than or equal to
the target segment length: the entire segment becomes a segment
(<a href="https://github.com/smwoodman/swfscDAS/blob/master/inst/DAS_chop_equallength_figures.pdf">see Fig. 1c</a>)
</p>
</li>
<li><p> The length of the effort section is zero: a segment of length zero.
If there are more than two events (the &quot;B&quot;/R&quot; and &quot;E&quot; events),
the function throws a warning
</p>
</li></ul>

<p>Therefore, the length of each segment is constrained to be between
one half and one and one half of <code>seg.km</code> (i.e. <code>0.5*seg.km &lt;=</code>
segment length <code>&gt;=1.5*seg.km</code>),
and the central tendency is approximately equal to the target segment length.
The only exception is when a continuous effort section is less than
one half of the target segment length (i.e. <code>&lt; 0.5*seg.km</code>;
<a href="https://github.com/smwoodman/swfscDAS/blob/master/inst/DAS_chop_equallength_figures.pdf">see Fig. 1c</a>).
</p>
<p>Note the PDF with Figs. 1a - 1c is included in the package, and can be found at:
<code>system.file("DAS_chop_equal_figures.pdf", package = "swfscDAS")</code>
</p>
<p>'Randpicks' is a record of the random assignments that were made when
chopping the effort sections into segments, and can be saved to allow
users to recreate the same random allocation of extra km when chopping.
The randpicks returned by this function is a data frame with two columns:
the number of the effort section and the randpick value.
Users should save the randpicks output to a CSV file,
which then can be specified using the <code>randpicks.load</code> argument
to recreate the same effort segments from <code>x</code>
(i.e., using the same DAS data) in the future.
Note that when saving with <code><a href="utils.html#topic+read.table">write.csv</a></code>, users must
specify <code>row.names = FALSE</code> so that the CSV file only has two columns.
For an example randpicks file, see
<code>system.file("das_sample_randpicks.csv", package = "swfscDAS")</code>
</p>
<p>If the column <code>dist_from_prev</code> does not exist, the distance between
subsequent events is calculated as described in <code><a href="#topic+das_effort">das_effort</a></code>
</p>


<h3>Value</h3>

<p>List of three data frames:
</p>

<ul>
<li> <p><code>x</code>, with columns added for the corresponding unique segment code and number
</p>
</li>
<li><p> segdata: data frame with one row for each segment, and columns with
relevant data (see <code><a href="#topic+das_effort">das_effort</a></code> for specifics)
</p>
</li>
<li><p> randpicks: data frame with record of length allocations
(see Details section above)
</p>
</li></ul>


<hr>
<h2 id='das_chop_section'>Chop DAS data - section</h2><span id='topic+das_chop_section'></span><span id='topic+das_chop_section.data.frame'></span><span id='topic+das_chop_section.das_df'></span>

<h3>Description</h3>

<p>Chop DAS data into effort segments by continuous effort section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_chop_section(x, ...)

## S3 method for class 'data.frame'
das_chop_section(x, ...)

## S3 method for class 'das_df'
das_chop_section(x, conditions, distance.method = NULL, num.cores = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_chop_section_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code>
This data must be filtered for 'OnEffort' events;
see the Details section below</p>
</td></tr>
<tr><td><code id="das_chop_section_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_chop_section_+3A_conditions">conditions</code></td>
<td>
<p>see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
<tr><td><code id="das_chop_section_+3A_distance.method">distance.method</code></td>
<td>
<p>character; see <code><a href="#topic+das_effort">das_effort</a></code>.
Default is <code>NULL</code> since these distances should have already been calculated</p>
</td></tr>
<tr><td><code id="das_chop_section_+3A_num.cores">num.cores</code></td>
<td>
<p>see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>WARNING - do not call this function directly!
It is exported for documentation purposes, but is intended for internal package use only.
</p>
<p>This function is simply a wrapper for <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code>.
It calls <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code>, with <code>seg.km</code> set to a
value larger than the longest continuous effort section in <code>x</code>.
Thus, the effort is 'chopped' into the continuous effort sections and then summarized.
</p>
<p>See the Examples section for an example where the two methods give the same output.
Note that the longest continuous effort section in the sample data is ~22km.
</p>


<h3>Value</h3>

<p>See <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code>. The randpicks values will all be <code>NA</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.proc &lt;- das_process(y)

y.eff1 &lt;- das_effort(y.proc, method = "equallength", seg.km = 25, num.cores = 1)
y.eff2 &lt;- das_effort(y.proc, method = "section", num.cores = 1)

all.equal(y.eff1, y.eff2)

</code></pre>

<hr>
<h2 id='das_comments'>Extract comments from DAS data</h2><span id='topic+das_comments'></span><span id='topic+das_comments.data.frame'></span><span id='topic+das_comments.das_df'></span><span id='topic+das_comments.das_dfr'></span>

<h3>Description</h3>

<p>Extract comments from DAS data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_comments(x)

## S3 method for class 'data.frame'
das_comments(x)

## S3 method for class 'das_df'
das_comments(x)

## S3 method for class 'das_dfr'
das_comments(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_comments_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_dfr</code> or <code>das_df</code>,
or a data frame that can be coerced to a <code>das_dfr</code> object</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function recreates the comment strings by
pasting the Data# columns back together for the C events (comments).
See the examples section for how to search for comments with certain phrases
</p>


<h3>Value</h3>

<p><code>x</code>, filtered for C events and with the added column
comment_str containing the concatenated comment strings
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.proc &lt;- das_process(y)

das_comments(y.proc)

# Extract all comments containing "record" - could also use stringr pacakge
y.comm &lt;- das_comments(y.proc)
y.comm[grepl("record", y.comm$comment_str, ignore.case = TRUE), ]

# Join comments with processed data
dplyr::left_join(y.proc, y.comm[, c("file_das", "line_num", "comment_str")],
                 by = c("file_das", "line_num"))

</code></pre>

<hr>
<h2 id='das_df-class'><code>das_df</code> class</h2><span id='topic+das_df-class'></span><span id='topic+das_df'></span>

<h3>Description</h3>

<p>The <code>das_df</code> class is a subclass of <code><a href="base.html#topic+data.frame">data.frame</a></code>,
created to provide a concise and robust way to ensure that the input to downstream DAS processing functions,
such as <code><a href="#topic+das_sight">das_sight</a></code>, adheres to certain requirements.
Specifically, objects of class <code>das_df</code> are data frames with specific column names and classes,
as detailed in the 'Properties of <code>das_df</code>' section. Objects of class <code>das_df</code> are created by
<code><a href="#topic+das_process">das_process</a></code> or <code><a href="#topic+as_das_df">as_das_df</a></code>, and are intended to be passed directly to
DAS processing functions such as <code><a href="#topic+das_sight">das_sight</a></code>.
</p>
<p>Subsetting, say for a specific date or cruise number, or otherwise altering an object of class <code>das_df</code>
will cause the object to drop its <code>das_df</code> class attribute.
If this object is then passed to a DAS processing function such as <code><a href="#topic+das_sight">das_sight</a></code>, the function
will try to coerce the object to a <code>das_df</code> object.
</p>


<h3>Properties of <code>das_df</code> objects</h3>

<p>All values in the Event column must not be <code>NA</code>.
</p>
<p>Objects of class <code>das_df</code> have a class attribute of <code>c("das_df", "data.frame")</code>.
In addition, they must have the following column names and classes:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Column name</em> </td><td style="text-align: left;"> <em>Column class</em></td>
</tr>
<tr>
 <td style="text-align: left;">
    Event    </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    DateTime </td><td style="text-align: left;"> c("POSIXct", "POSIXt")</td>
</tr>
<tr>
 <td style="text-align: left;">
    Lat      </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Lon      </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    OnEffort  </td><td style="text-align: left;"> "logical"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Cruise    </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Mode      </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    EffType   </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Course    </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    SpdKt     </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Bft       </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    SwellHght </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    WindSpdKt </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    RainFog   </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    HorizSun  </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    VertSun   </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Glare     </td><td style="text-align: left;"> "logical"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Vis       </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    ObsL      </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Rec       </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    ObsR      </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    ObsInd    </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data1 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data2 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data3 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data4 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data5 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data6 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data7 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data8 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data9 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data10 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data11 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data12 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    EffortDot </td><td style="text-align: left;"> "logical"</td>
</tr>
<tr>
 <td style="text-align: left;">
    EventNum </td><td style="text-align: left;"> "integer"</td>
</tr>
<tr>
 <td style="text-align: left;">
    file_das </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    line_num </td><td style="text-align: left;"> "integer"</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+as_das_df">as_das_df</a></code>
</p>

<hr>
<h2 id='das_dfr-class'><code>das_dfr</code> class</h2><span id='topic+das_dfr-class'></span><span id='topic+das_dfr'></span>

<h3>Description</h3>

<p>The <code>das_dfr</code> class is a subclass of <code><a href="base.html#topic+data.frame">data.frame</a></code>,
created to provide a concise and robust way to ensure that the input to <code><a href="#topic+das_process">das_process</a></code>
adheres to certain requirements.
Specifically, objects of class <code>das_dfr</code> are data frames with specific column names and classes,
as detailed in the 'Properties of <code>das_dfr</code>' section. Objects of class <code>das_dfr</code> are created by
<code><a href="#topic+das_read">das_read</a></code> or <code><a href="#topic+as_das_dfr">as_das_dfr</a></code>, and are intended to be passed directly to
<code><a href="#topic+das_process">das_process</a></code>.
</p>
<p>Subsetting or otherwise altering an object of class <code>das_dfr</code> will cause the object to drop its
<code>das_dfr</code> class attribute. <code><a href="#topic+das_process">das_process</a></code> will then try to coerce the object to a
<code>das_dfr</code> object. It is <b>strongly</b> recommended to pass an object of class <code>das_dfr</code> to
<code><a href="#topic+das_process">das_process</a></code> before subsetting, e.g. for events from a certain date range.
</p>


<h3>Properties of <code>das_dfr</code> objects</h3>

<p>Objects of class <code>das_dfr</code> have a class attribute of <code>c("das_dfr", "data.frame")</code>.
In addition, they must have the following column names and classes:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Column name</em> </td><td style="text-align: left;"> <em>Column class</em></td>
</tr>
<tr>
 <td style="text-align: left;">
    Event     </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    EffortDot </td><td style="text-align: left;"> "logical"</td>
</tr>
<tr>
 <td style="text-align: left;">
    DateTime  </td><td style="text-align: left;"> c("POSIXct", "POSIXt")</td>
</tr>
<tr>
 <td style="text-align: left;">
    Lat       </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Lon       </td><td style="text-align: left;"> "numeric"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data1 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data2 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data3 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data4 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data5 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data6 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data7 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data8 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data9 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data10 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data11 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data12 </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    EventNum </td><td style="text-align: left;"> "integer"</td>
</tr>
<tr>
 <td style="text-align: left;">
    file_das </td><td style="text-align: left;"> "character"</td>
</tr>
<tr>
 <td style="text-align: left;">
    line_num </td><td style="text-align: left;"> "integer"</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+as_das_dfr">as_das_dfr</a></code>
</p>

<hr>
<h2 id='das_effort'>Summarize DAS effort</h2><span id='topic+das_effort'></span><span id='topic+das_effort.data.frame'></span><span id='topic+das_effort.das_df'></span>

<h3>Description</h3>

<p>Chop DAS data into effort segments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_effort(x, ...)

## S3 method for class 'data.frame'
das_effort(x, ...)

## S3 method for class 'das_df'
das_effort(
  x,
  method = c("condition", "equallength", "section"),
  conditions = NULL,
  strata.files = NULL,
  distance.method = c("greatcircle", "lawofcosines", "haversine", "vincenty"),
  seg0.drop = FALSE,
  comment.drop = FALSE,
  event.touse = NULL,
  num.cores = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_effort_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code></p>
</td></tr>
<tr><td><code id="das_effort_+3A_...">...</code></td>
<td>
<p>arguments passed to the specified chopping function,
such as <code>seg.km</code> or <code>seg.min.km</code></p>
</td></tr>
<tr><td><code id="das_effort_+3A_method">method</code></td>
<td>
<p>character; method to use to chop DAS data into effort segments
Can be &quot;condition&quot;, &quot;equallength&quot;, &quot;section&quot;,
or any partial match thereof (case sensitive)</p>
</td></tr>
<tr><td><code id="das_effort_+3A_conditions">conditions</code></td>
<td>
<p>character vector of names of conditions to include in segdata output.
These values must be column names from the output of <code><a href="#topic+das_process">das_process</a></code>,
e.g. 'Bft', 'SwellHght', etc.
If <code>method == "condition"</code>, then these also are the conditions which
trigger segment chopping when they change. Only the following conditions can be used for chopping:
'Bft', 'SwellHght', 'RainFog', 'HorizSun', 'VertSun', 'Glare', 'Vis', 'Course', 'SpdKt'</p>
</td></tr>
<tr><td><code id="das_effort_+3A_strata.files">strata.files</code></td>
<td>
<p>list of path(s) of the CSV file(s) with points defining each stratum.
The CSV files must contain headers and be a closed polygon.
The list should be named; see the Details section.
If <code>NULL</code> (the default), then no effort segments are not classified by strata.</p>
</td></tr>
<tr><td><code id="das_effort_+3A_distance.method">distance.method</code></td>
<td>
<p>character;
method to use to calculate distance between lat/lon coordinates.
Can be &quot;greatcircle&quot;, &quot;lawofcosines&quot;, &quot;haversine&quot;, &quot;vincenty&quot;,
or any partial match thereof (case sensitive).
Default is &quot;greatcircle&quot;</p>
</td></tr>
<tr><td><code id="das_effort_+3A_seg0.drop">seg0.drop</code></td>
<td>
<p>logical; flag indicating whether or not to drop segments
of length 0 that contain no sighting (S, K, M, G, t) events.
Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="das_effort_+3A_comment.drop">comment.drop</code></td>
<td>
<p>logical; flag indicating if comments (&quot;C&quot; events)
should be ignored (i.e. position information should not be used)
when segment chopping. Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="das_effort_+3A_event.touse">event.touse</code></td>
<td>
<p>character vector of events to use to determine
segment lengths; overrides <code>comment.drop</code>.
If <code>NULL</code> (the default), then all on effort events are used.
If used, this argument must include at least R, E, S, and A events,
and cannot include ? or 1:8 events</p>
</td></tr>
<tr><td><code id="das_effort_+3A_num.cores">num.cores</code></td>
<td>
<p>Number of CPUs to over which to distribute computations.
Defaults to <code>NULL</code>, which uses one fewer than the number of cores
reported by <code><a href="parallel.html#topic+detectCores">detectCores</a></code>.
Using 1 core likely will be faster for smaller datasets</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is the top-level function for chopping processed DAS data
into modeling segments (henceforth 'segments'), and assigning sightings
and related information (e.g., weather conditions) to each segment.
This function returns data frames with all relevant information for the
effort segments and associated sightings ('segdata' and 'sightinfo', respectively).
Before chopping, the DAS data is filtered for events (rows) where either
the 'OnEffort' column is <code>TRUE</code> or the 'Event' column &quot;E&quot;.
In other words, the data is filtered for continuous effort sections (henceforth 'effort sections'),
where effort sections run from &quot;R&quot; to &quot;E&quot; events (inclusive),
and then passed to the chopping function specified using <code>method</code>.
Note that while B events immediately preceding an R are on effort,
they are ignored during effort chopping.
In addition, all on effort events (other than ? and numeric events)
with <code>NA</code> DateTime, Lat, or Lon values are verbosely removed.
</p>
<p>If <code>strata.files</code> is not <code>NULL</code>, then the effort lines
will be split by the user-provided stratum (strata).
In this case, a column 'stratum' will be added to the end of the segdata
data frame with the user-provided name of the stratum that the segment was in,
or <code>NA</code> if the segment was not in any of the strata.
If no name was provided for the stratum in <code>strata.files</code>,
then the value will be &quot;Stratum#&quot;,
where &quot;#&quot; is the index of the applicable stratum in <code>strata.files</code>.
While the user can provide as many strata as they want,
these strata can share boundaries but they cannot overlap.
See <code><a href="#topic+das_effort_strata">das_effort_strata</a></code> for more details.
</p>
<p>The following chopping methods are currently available:
&quot;condition&quot;, &quot;equallength&quot;, and &quot;section.
When using the &quot;condition&quot; method, effort sections are chopped
into segments every time a condition changes,
thereby ensuring that the conditions are consistent across the entire segment.
See <code><a href="#topic+das_chop_condition">das_chop_condition</a></code> for more details about this method,
including arguments that must be passed to it via the argument <code>...</code>
</p>
<p>The &quot;equallength&quot; method consists of
chopping effort sections into equal-length segments of length <code>seg.km</code>,
and doing a weighted average of the conditions for the length of that segment.
See <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code> for more details about this method,
including arguments that must be passed to it via the argument <code>...</code>
</p>
<p>The &quot;section&quot; method involves 'chopping' the effort into continuous effort sections,
i.e. each continuous effort section is a single effort segment.
See <code><a href="#topic+das_chop_section">das_chop_section</a></code> for more details about this method.
</p>
<p>The distance between the lat/lon points of subsequent events
is calculated using the method specified in <code>distance.method</code>.
If &quot;greatcircle&quot;, <code><a href="#topic+distance_greatcircle">distance_greatcircle</a></code> is used,
while <code><a href="swfscMisc.html#topic+distance">distance</a></code> is used otherwise.
See <code><a href="#topic+das_sight">das_sight</a></code> for how the sightings are processed.
</p>
<p>The sightinfo data frame includes the column 'included',
which is used in <code><a href="#topic+das_effort_sight">das_effort_sight</a></code> when summarizing
the number of sightings and animals for selected species.
<code><a href="#topic+das_effort_sight">das_effort_sight</a></code> is a separate function to allow users to
personalize the included values as desired for their analysis.
By default, i.e. in the output of this function, 'included' is <code>TRUE</code> if:
the sighting was made when on effort,
by a standard observer (see <code><a href="#topic+das_sight">das_sight</a></code>),
and in a Beaufort sea state less than or equal to five.
</p>


<h3>Value</h3>

<p>List of three data frames:
</p>

<ul>
<li><p> segdata: one row for every segment, and columns for information including
unique segment number (segnum), the corresponding effort section (section_id),
the segment index within the corresponding effort section (section_sub_id),
the starting and ending line of the segment in the DAS file (stlin, endlin),
start/end/midpoint coordinates(lat1/lon1, lat2/lon2, and mlat/mlon, respectively),
the start/end/midpoint date/time of the segment (DateTime1, DateTime2, and mDateTime, respectively;
mDateTime is the average of DateTime1 and DateTime2), segment length (dist),
conditions (e.g. Beaufort), and, if applicable, stratum (InStratumName).
</p>
</li>
<li><p> sightinfo: details for all sightings in <code>x</code>, including:
the unique segment number it is associated with, segment mid points (lat/lon),
the 'included' column described in the 'Details' section,
and the output information described in <code><a href="#topic+das_sight">das_sight</a></code> for <code>return.format</code> is &quot;default&quot;
</p>
</li>
<li><p> randpicks: see <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code>;
<code>NULL</code> if using &quot;condition&quot; method
</p>
</li></ul>



<h3>See Also</h3>

<p>Internal functions called by <code>das_effort</code>:
<code><a href="#topic+das_chop_condition">das_chop_condition</a></code>, <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code>,
<code><a href="#topic+das_chop_section">das_chop_section</a></code>, <code><a href="#topic+das_segdata">das_segdata</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.proc &lt;- das_process(y)

# Using "condition" method
das_effort(
  y.proc, method = "condition", conditions = c("Bft", "SwellHght", "Vis"),
  seg.min.km = 0.05, num.cores = 1
)

# Using "section" method
das_effort(y.proc, method = "section", num.cores = 1)


# Using "equallength" method
y.rand &lt;- system.file("das_sample_randpicks.csv", package = "swfscDAS")
das_effort(
  y.proc, method = "equallength", seg.km = 10, randpicks.load = y.rand,
  num.cores = 1
)

# Using "section" method and chop by strata
stratum.file &lt;- system.file("das_sample_stratum.csv", package = "swfscDAS")
das_effort(
  y.proc, method = "section", strata.files = list(Poly1 = stratum.file),
  num.cores = 1
)


</code></pre>

<hr>
<h2 id='das_effort_sight'>Summarize DAS sightings by effort segment</h2><span id='topic+das_effort_sight'></span>

<h3>Description</h3>

<p>Summarize number of sightings and animals for selected species by segment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_effort_sight(
  x.list,
  sp.codes,
  sp.events = c("S", "G", "K", "M", "t", "p"),
  gs.columns = c("GsSpBest", "GsSpLow", "GsSpHigh")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_effort_sight_+3A_x.list">x.list</code></td>
<td>
<p>output of <code><a href="#topic+das_effort">das_effort</a></code>; a list of three data frames
named 'segdata', 'sightinfo', and 'randpicks', respectively</p>
</td></tr>
<tr><td><code id="das_effort_sight_+3A_sp.codes">sp.codes</code></td>
<td>
<p>character; species code(s) to include in segdata output.
These must exactly match the species codes in the data,
such as including leading zeros</p>
</td></tr>
<tr><td><code id="das_effort_sight_+3A_sp.events">sp.events</code></td>
<td>
<p>character; event code(s) to include in the sightinfo output.
This argument supersedes the 'included' value when determining
whether a sighting is included in the segment summaries.
Must be one or more of: &quot;S&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;t&quot;, &quot;p&quot; (case-sensitive).
The default is that all of these event codes are kept</p>
</td></tr>
<tr><td><code id="das_effort_sight_+3A_gs.columns">gs.columns</code></td>
<td>
<p>character; the column(s) to use to get the group size
values that will be summarized in the segdata output.
Must be one or more of 'GsSpBest', 'GsSpLow', and 'GsSpBest' (case-sensitive).
See Details section for more information</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function takes the output of <code><a href="#topic+das_effort">das_effort</a></code> and
adds columns for the number of sightings (nSI) and number of animals (ANI)
for selected species (selected via <code>sp.codes</code>) for each segment
to the segdata element of <code>x.list</code>.
However, only sightings with an included value of <code>TRUE</code>
(included is a column in sightinfo) are included in the summaries.
Having this step separate from <code><a href="#topic+das_effort">das_effort</a></code> allows users to
personalize the included values as desired for their analysis.
</p>
<p>The ANI columns are the sum of the 'GsSp...' column(s) from
<code><a href="#topic+das_sight">das_sight</a></code> specified using <code>gs.columns</code>.
If <code>gs.columns</code> specifies more than one column,
then the secondary columns will only be used if
the values for the previous columns are <code>NA</code>.
For instance, if <code>gs.columns = c('GsSpBest', 'GsSpLow')</code>,
then for each row in sightinfo, the value from GsSpLow
will be used only if the value from GsSpBest is <code>NA</code>
</p>


<h3>Value</h3>

<p>A list, identical to <code>x.list</code> except for
1) the nSI and ANI columns added to <code>x.list$segdata</code>,
one each for each element of <code>sp.codes</code>, and
2) the 'included' column of <code>x.list$sightinfo</code>, which has been set as
<code>FALSE</code> for sightings of species not listed in <code>sp.codes</code>.
Thus, the 'included' column in the output accurately reflects
the sightings that were included in the effort segment summaries
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.proc &lt;- das_process(y)
y.eff.cond &lt;- das_effort(
  y.proc, method = "condition", conditions = "Bft", seg.min.km = 0.05,
  num.cores = 1
)

das_effort_sight(y.eff.cond, sp.codes = c("013", "076", "DC"), sp.events = c("S", "t"))

</code></pre>

<hr>
<h2 id='das_effort_strata'>Split effort by strata</h2><span id='topic+das_effort_strata'></span><span id='topic+das_effort_strata.data.frame'></span><span id='topic+das_effort_strata.das_df'></span>

<h3>Description</h3>

<p>Split DAS effort where it intersects with a stratum boundary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_effort_strata(x, ...)

## S3 method for class 'data.frame'
das_effort_strata(x, ...)

## S3 method for class 'das_df'
das_effort_strata(x, strata.files, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_effort_strata_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code></p>
</td></tr>
<tr><td><code id="das_effort_strata_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_effort_strata_+3A_strata.files">strata.files</code></td>
<td>
<p>list of path(s) of the stratum CSV file(s);
see <code><a href="#topic+das_effort">das_effort</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function should only be called by <code><a href="#topic+das_effort">das_effort</a></code>,
i.e. it should not be called by users in their personal scripts.
Practically speaking, this functions splits the effort line wherever it crosses a stratum line.
This point of intersection is interpolated;
specifically, it is determined using <code><a href="sf.html#topic+geos_binary_ops">st_intersection</a></code>.
Thus, any effort will be first split at these effort-stratum boundary intersection points,
and then using the specified method (e.g. condition).
</p>


<h3>Value</h3>

<p>The data frame x, with 1) columns added that
indicate a) if the point was in a particular stratum (see <code><a href="#topic+das_intersects_strata">das_intersects_strata</a></code>), and
b) the index of the stratum in <code>strata.files</code>
(column name 'stratum'; 0 if the point intersects with no strata), and
2) two rows added for each strata crossing
that occurs between something other than an E and R.
These rows are necessary because of how <code>das_effort</code> processes effort.
The added rows are the same as the event previous to the strata crossing, except:
</p>

<ul>
<li><p> They have the event code &quot;strataE&quot; and &quot;strataR&quot;, respectively
</p>
</li>
<li><p> Their coordinates are the coordinates of the intersection of
the effort line and the stratum boundary
</p>
</li>
<li><p> Their 'idx_eff' values are plus 0.4 and 0.5, respectively
</p>
</li>
<li><p> The second added row has the same stratum info as the point
immediately after the stratum boundary crossing
</p>
</li></ul>


<hr>
<h2 id='das_format_pdf'>DAS format requirements</h2><span id='topic+das_format_pdf'></span>

<h3>Description</h3>

<p>Save the PDF document describing the DAS format required by <code>swfscDAS</code> to a specified file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_format_pdf(file, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_format_pdf_+3A_file">file</code></td>
<td>
<p>character, the name of the file where the PDF will be saved</p>
</td></tr>
<tr><td><code id="das_format_pdf_+3A_...">...</code></td>
<td>
<p>passed on to <code><a href="base.html#topic+files">file.copy</a></code>; might included named argument <code>overwrite</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A wrapper function for <code><a href="base.html#topic+files">file.copy</a></code>.
This function saves the PDF document describing the DAS data format requirements by
copying the PDF document located at <code>system.file("DAS_Format.pdf", package = "swfscDAS")</code>
to <code>file</code>
</p>
<p>This file can also be downloaded from
<a href="https://github.com/smwoodman/swfscDAS/blob/master/inst/DAS_Format.pdf">https://github.com/smwoodman/swfscDAS/blob/master/inst/DAS_Format.pdf</a>
</p>


<h3>Value</h3>

<p>output of <code><a href="base.html#topic+files">file.copy</a></code>;
<code>TRUE</code> if writing of file was successful, and <code>FALSE</code> otherwise
</p>


<h3>Examples</h3>

<pre><code class='language-R'>das_format_pdf(file.path(tempdir(), "DAS_Format.pdf"), overwrite = FALSE)

</code></pre>

<hr>
<h2 id='das_intersects_strata'>DAS strata - points</h2><span id='topic+das_intersects_strata'></span><span id='topic+das_intersects_strata.list'></span><span id='topic+das_intersects_strata.data.frame'></span>

<h3>Description</h3>

<p>Determine if swfscDAS outputs intersect with strata polygons
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_intersects_strata(x, ...)

## S3 method for class 'list'
das_intersects_strata(x, strata.files, ...)

## S3 method for class 'data.frame'
das_intersects_strata(
  x,
  strata.files,
  x.lon = "Lon",
  x.lat = "Lat",
  strata.which = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_intersects_strata_+3A_x">x</code></td>
<td>
<p>a data frame (such as an object of class <code>das_df</code>) or a list.
If <code>x</code> is a list, then it must be the output of
<code><a href="#topic+das_effort">das_effort</a></code> or <code><a href="#topic+das_effort_sight">das_effort_sight</a></code>.
If <code>x</code> is a data frame, the user must also specify
the coordinate columns of <code>x</code> using <code>x.lon</code> and <code>x.lat</code></p>
</td></tr>
<tr><td><code id="das_intersects_strata_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_intersects_strata_+3A_strata.files">strata.files</code></td>
<td>
<p>list of path(s) of the CSV file(s) with points defining each stratum.
The CSV files must contain headers and be a closed polygon.
The list may be named; see 'Value' section for how these names are used</p>
</td></tr>
<tr><td><code id="das_intersects_strata_+3A_x.lon">x.lon</code></td>
<td>
<p>character; name of the longitude column of <code>x</code>.
Ignored if <code>x</code> is a list; default is &quot;Lon&quot;</p>
</td></tr>
<tr><td><code id="das_intersects_strata_+3A_x.lat">x.lat</code></td>
<td>
<p>character; name of the latitude column of <code>x</code>.
Ignored if <code>x</code> is a list; default is &quot;Lat&quot;</p>
</td></tr>
<tr><td><code id="das_intersects_strata_+3A_strata.which">strata.which</code></td>
<td>
<p>logical; indicates if the numeric column 'strata_which' should
be included in the output data frame.
Ignored if <code>x</code> is a list; default is <code>FALSE</code>.
See 'Value' section for more details</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Assigns DAS event points or segment midpoints to strata polygons
using <code><a href="sf.html#topic+geos_binary_pred">st_intersects</a></code>.
</p>
<p>If <code>x</code> is a list, then 1) it must be the output of
<code><a href="#topic+das_effort">das_effort</a></code> or <code><a href="#topic+das_effort_sight">das_effort_sight</a></code> and
2) the segment midpoints (column names mlon and mlat, respectively)
are the points checked if they intersect with each provided stratum.
If <code>x</code> is a data frame, then the user must provide the columns
that specify the point coordinates to check.
</p>
<p><code>x</code> should not be an object of class <code>das_dfr</code>,
or an object of class <code>das_df</code> created with <code>add.dtll.sight = FALSE</code>,
because the ? and numeric event codes will have NA latitude and longitude values.
</p>


<h3>Value</h3>

<p>If <code>x</code> is a data frame, then logical columns are added to <code>x</code>
indicating if each point intersected with the corresponding stratum polygon.
The names of these columns are the names of <code>strata.files</code>;
the element(s) of <code>strata.files</code> will have the name InPoly#,
where '#' is the index of that stratum polygon in <code>strata.files</code>.
If <code>strata.which</code>, then the column 'strata_which' is added to the end of the data frame.
This column contains either a 0 if the point intersects with no strata or
2) a numeric indicating the index (in <code>strata.files</code>) of
the (first) strata polygon that the point intersects with.
</p>
<p>Otherwise, i.e. if <code>x</code> is a list and thus the output of one of the effort functions,
then the stratum columns are added to both the segdata and sightinfo data frames.
However, note that the columns added to the sightinfo data frame still indicate
whether or not the segment midpoint was in the corresponding stratum,
rather than the sighting point itself.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.proc &lt;- das_process(y)
y.eff &lt;- das_effort(y.proc, method = "section", num.cores = 1)

stratum.file &lt;- system.file("das_sample_stratum.csv", package = "swfscDAS")
das_intersects_strata(y.eff, list(InPoly = stratum.file), x.lon = "Lon", x.lat = "Lat")

das_intersects_strata(y.proc, list(stratum.file))

# Visualize effort midpoints and stratum polygon
require(sf)
y.eff.strata &lt;- das_intersects_strata(y.eff, list(InPoly = stratum.file))
segdata &lt;- st_as_sf(y.eff.strata$segdata, coords = c("mlon", "mlat"), crs = 4326)

# Make stratum polygon
stratum.df &lt;- read.csv(stratum.file)
stratum.sfc &lt;- st_sfc(
  st_polygon(list(matrix(c(stratum.df$Lon, stratum.df$Lat), ncol = 2))),
  crs = 4326
)

plot(segdata["InPoly"], axes = TRUE, reset = FALSE,
     xlim = c(-137, -142.5), ylim = c(42, 47))
plot(stratum.sfc, add = TRUE)

</code></pre>

<hr>
<h2 id='das_process'>Process DAS data</h2><span id='topic+das_process'></span><span id='topic+das_process.character'></span><span id='topic+das_process.data.frame'></span><span id='topic+das_process.das_dfr'></span>

<h3>Description</h3>

<p>Process DAS data (the output of <code><a href="#topic+das_read">das_read</a></code>),
including extracting state and condition information for each DAS event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_process(x, ...)

## S3 method for class 'character'
das_process(x, ...)

## S3 method for class 'data.frame'
das_process(x, ...)

## S3 method for class 'das_dfr'
das_process(
  x,
  days.gap = 20,
  reset.event = TRUE,
  reset.effort = TRUE,
  reset.day = TRUE,
  add.dtll.sight = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_process_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_dfr</code>,
an object that can be coerced to class <code>das_dfr</code>,
or a character (filepath) which is first passed to <code><a href="#topic+das_read">das_read</a></code></p>
</td></tr>
<tr><td><code id="das_process_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="#topic+das_read">das_read</a></code> if <code>x</code> is a character.
Otherwise ignored</p>
</td></tr>
<tr><td><code id="das_process_+3A_days.gap">days.gap</code></td>
<td>
<p>numeric of length 1; default is <code>20</code>.
Time gap (in days) used to identify a new cruise in concatenated DAS files,
and thus also when state/condition information
(cruise number, weather, Bft, Mode, etc) is reset</p>
</td></tr>
<tr><td><code id="das_process_+3A_reset.event">reset.event</code></td>
<td>
<p>logical; default is <code>TRUE</code>.
Indicates if state/condition information (weather, Bft, Mode, etc)
should be reset to <code>NA</code>
if there is an applicable event with an <code>NA</code> for that state/condition</p>
</td></tr>
<tr><td><code id="das_process_+3A_reset.effort">reset.effort</code></td>
<td>
<p>logical; default is <code>TRUE</code>.
Indicates if state/condition information should be reset to <code>NA</code>
when beginning a new continuous effort section. See Details section</p>
</td></tr>
<tr><td><code id="das_process_+3A_reset.day">reset.day</code></td>
<td>
<p>logical; default is <code>TRUE</code>.
Indicates if state/condition information should be reset to <code>NA</code>
at the beginning of each day. This argument should only
be set to <code>FALSE</code> for comparison with older methods, such as REPORT</p>
</td></tr>
<tr><td><code id="das_process_+3A_add.dtll.sight">add.dtll.sight</code></td>
<td>
<p>logical indicating if the DateTime (dt)
and latitude and longitude (ll)
columns should be added to the sighting events (?, 1, 2, 3, 4, 5, 6, 7, and 8)
from the corresponding (immediately preceding) A event</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> is a character,
it is assumed to be a filepath and first passed to <code><a href="#topic+das_read">das_read</a></code>.
This output is then passed to <code>das_process</code>.
</p>
<p>DAS data is event-based, meaning most events indicate when a
state or weather condition changes.
For instance, a 'V' event indicates when one or more sea state viewing conditions
(such as Beaufort sea state) change, and these conditions
are the same for subsequent events until the next 'V' event.
For each state/condition: a new column is created,
the state/condition information is extracted from relevant events,
and extracted information is propagated to appropriate subsequent rows (events).
Thus, each row in the output data frame contains all
pertinent state/condition information for that row.
</p>
<p>The following assumptions/decisions are made during processing:
</p>

<ul>
<li><p> Event codes are expected to be one of the following:
#, *, ?, 1, 2, 3, 4, 5, 6, 7, 8, A, B, C, E, F, k, K, M, N,
P, Q, r, R, s, S, t, V, W, g, G, p, X, Y, Z
</p>
</li>
<li><p> All '#' events (deleted events) are removed
</p>
</li>
<li><p> r events are converted to R events with non-standard effort;
see <code><a href="#topic+das_format_pdf">das_format_pdf</a></code> for more details
</p>
</li>
<li><p> An event is considered 'on effort' if it is 1) an R event,
2) a B event immediately preceding an R event, or
3) between corresponding R and E events (not including the E event).
The 'EffortDot' column is not used when determining on effort data.
Note that effort is reset to 'off effort' at the beginning of a new day.
</p>
</li>
<li><p> All state/condition information is reset at the beginning of each cruise.
New cruises are identified using <code>days.gap</code>.
</p>
</li>
<li><p> All state/condition information relating to B, R, P, V, N, and W events
are reset every time there is a BR event sequence if <code>reset.effort == TRUE</code>,
because in WinCruz a BR event sequence should always be a BRPVNW event sequence.
An event sequence means that all of the events have the same Lat/Lon/DateTime info,
and thus previous values for conditions set during the event sequence should not
carry over to any part of the event sequence.
</p>
</li>
<li><p> 'OffsetGMT' is converted to an integer. Values are expected to be
consistent within a day for each cruise, so events will have an
OffsetGMT value if there is any B event with the offset data on
the same day, whether that event is before or after the B event.
Thus, if any date/cruise combinations have multiple OffsetGMT values
in the data, then a warning message will be printed and the
OffsetGMT values will be all NA (for the entire output).
</p>
</li>
<li><p> 'Mode' is capitalized, and 'Mode' values of <code>NA</code> are assigned a value of &quot;C&quot;
</p>
</li>
<li><p> 'EffType' is capitalized, and values of <code>NA</code> are assigned a value of &quot;S&quot;
</p>
</li>
<li><p> 'ESWsides' represents the number of sides being searched during that effort section -
a value of <code>NA</code> (for compatibility with older data) or &quot;F&quot; means 2 sides are being searched,
and a value of &quot;H&quot; means 1 side is being searched.
ESWsides will be <code>NA</code> for values that are not one of &quot;F&quot;, <code>NA</code>, or &quot;H&quot;
</p>
</li>
<li><p> 'Glare': <code>TRUE</code> if 'HorizSun' is 11, 12 or 1 and 'VertSun' is 2 or 3,
or if 'HorizSun' is 12 and 'VertSun' is 1;
<code>NA</code> if 'HorizSun' or 'VertSun' is <code>NA</code>;
otherwise <code>FALSE</code>
</p>
</li>
<li><p> Missing values are <code>NA</code> rather than <code>-1</code>
</p>
</li></ul>



<h3>Value</h3>

<p>A <code>das_df</code> object, which is also a data frame.
It consists of the input data frame, i.e. the output of <code><a href="#topic+das_read">das_read</a></code>,
with the following columns added:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>State/condition</em>        </td><td style="text-align: left;"> <em>Column name</em> </td><td style="text-align: left;"> <em>Data source</em></td>
</tr>
<tr>
 <td style="text-align: left;">
    On/off effort                 </td><td style="text-align: left;"> OnEffort  </td><td style="text-align: left;"> B/R and E events</td>
</tr>
<tr>
 <td style="text-align: left;">
    Cruise number                 </td><td style="text-align: left;"> Cruise    </td><td style="text-align: left;"> Event: B; Column: Data1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Effort mode                   </td><td style="text-align: left;"> Mode      </td><td style="text-align: left;"> Event: B; Column: Data2</td>
</tr>
<tr>
 <td style="text-align: left;">
    GMT offset of DateTime data   </td><td style="text-align: left;"> OffsetGMT </td><td style="text-align: left;"> Event: B; Column: Data3</td>
</tr>
<tr>
 <td style="text-align: left;">
    Effort type                   </td><td style="text-align: left;"> EffType   </td><td style="text-align: left;"> Event: R; Column: Data1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Number of sides with observer </td><td style="text-align: left;"> ESWSide   </td><td style="text-align: left;"> Event: R; Column: Data2</td>
</tr>
<tr>
 <td style="text-align: left;">
    Course (ship direction)       </td><td style="text-align: left;"> Course    </td><td style="text-align: left;"> Event: N; Column: Data1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Speed (ship speed, knots)     </td><td style="text-align: left;"> SpdKt     </td><td style="text-align: left;"> Event: N; Column: Data2</td>
</tr>
<tr>
 <td style="text-align: left;">
    Beaufort sea state            </td><td style="text-align: left;"> Bft       </td><td style="text-align: left;"> Event: V; Column: Data1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Swell height (ft)             </td><td style="text-align: left;"> SwellHght </td><td style="text-align: left;"> Event: V; Column: Data2</td>
</tr>
<tr>
 <td style="text-align: left;">
    Wind speed (knots)            </td><td style="text-align: left;"> WindSpdKt </td><td style="text-align: left;"> Event: V; Column: Data5</td>
</tr>
<tr>
 <td style="text-align: left;">
    Rain/fog/haze code            </td><td style="text-align: left;"> RainFog   </td><td style="text-align: left;"> Event: W; Column: Data1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Horizontal sun (clock system) </td><td style="text-align: left;"> HorizSun  </td><td style="text-align: left;"> Event: W; Column: Data2</td>
</tr>
<tr>
 <td style="text-align: left;">
    Vertical sun (clock system)   </td><td style="text-align: left;"> VertSun   </td><td style="text-align: left;"> Event: W; Column: Data3</td>
</tr>
<tr>
 <td style="text-align: left;">
    Glare                         </td><td style="text-align: left;"> Glare     </td><td style="text-align: left;"> HorizSun and VertSun</td>
</tr>
<tr>
 <td style="text-align: left;">
    Visibility (nm)               </td><td style="text-align: left;"> Vis       </td><td style="text-align: left;"> Event: W; Column: Data5</td>
</tr>
<tr>
 <td style="text-align: left;">
    Left observer                 </td><td style="text-align: left;"> ObsL      </td><td style="text-align: left;"> Event: P; Column: Data1</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data recorder                 </td><td style="text-align: left;"> Rec       </td><td style="text-align: left;"> Event: P; Column: Data2</td>
</tr>
<tr>
 <td style="text-align: left;">
    Right observer                </td><td style="text-align: left;"> ObsR      </td><td style="text-align: left;"> Event: P; Column: Data3</td>
</tr>
<tr>
 <td style="text-align: left;">
    Independent observer          </td><td style="text-align: left;"> ObsInd    </td><td style="text-align: left;"> Event: P; Column: Data4</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>OffsetGMT represents the difference in hours between the DateTime data
(which should be in local time) and GMT (i.e., UTC).
</p>
<p>Internal warning messages are printed with row numbers of the input file
(NOT of the output data frame) of unexpected event codes and r events,
as well as if there is are potential issues with the number and/or order
of R and E events
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
das_process(y)

y.read &lt;- das_read(y)
das_process(y.read)
das_process(y.read, reset.effort = FALSE)

</code></pre>

<hr>
<h2 id='das_read'>Read DAS file(s)</h2><span id='topic+das_read'></span>

<h3>Description</h3>

<p>Read one or more fixed-width DAS text file(s) generated by WinCruz into a data frame,
where each line is data for a specific event
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_read(file, skip = 0, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_read_+3A_file">file</code></td>
<td>
<p>filename(s) of one or more DAS files</p>
</td></tr>
<tr><td><code id="das_read_+3A_skip">skip</code></td>
<td>
<p>integer; see <code><a href="readr.html#topic+read_fwf">read_fwf</a></code>. Default is 0</p>
</td></tr>
<tr><td><code id="das_read_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Reads/parses DAS data into columns of a data frame.
If <code>file</code> contains multiple filenames, then the individual
data frames will be concatenated.
</p>
<p>The provided DAS file must adhere to the following column number and format specifications:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Item</em>  </td><td style="text-align: right;"> <em>Columns</em> </td><td style="text-align: right;"> <em>Format</em></td>
</tr>
<tr>
 <td style="text-align: left;">
    Event number </td><td style="text-align: right;"> 1-3   </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Event        </td><td style="text-align: right;"> 4     </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Effort dot   </td><td style="text-align: right;"> 5     </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Time         </td><td style="text-align: right;"> 6-11  </td><td style="text-align: right;"> HHMMSS or HHMM</td>
</tr>
<tr>
 <td style="text-align: left;">
    Date         </td><td style="text-align: right;"> 13-18 </td><td style="text-align: right;"> MMDDYY</td>
</tr>
<tr>
 <td style="text-align: left;">
    Latitude     </td><td style="text-align: right;"> 20-28 </td><td style="text-align: right;"> NDD:MM.MM</td>
</tr>
<tr>
 <td style="text-align: left;">
    Longitude    </td><td style="text-align: right;"> 30-39 </td><td style="text-align: right;"> WDDD:MM.MM</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data1        </td><td style="text-align: right;"> 40-44 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data2        </td><td style="text-align: right;"> 45-49 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data3        </td><td style="text-align: right;"> 50-54 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data4        </td><td style="text-align: right;"> 55-59 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data5        </td><td style="text-align: right;"> 60-64 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data6        </td><td style="text-align: right;"> 65-69 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data7        </td><td style="text-align: right;"> 70-74 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data8        </td><td style="text-align: right;"> 75-79 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data9        </td><td style="text-align: right;"> 80-84 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data10       </td><td style="text-align: right;"> 85-89 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data11       </td><td style="text-align: right;"> 90-94 </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Data12       </td><td style="text-align: right;"> 95+   </td><td style="text-align: right;"> </td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>See <code><a href="#topic+das_format_pdf">das_format_pdf</a></code> for more information about DAS format requirements, and
note that 'Data#' columns may be referred to as 'Field#' columns in other documentation.
</p>


<h3>Value</h3>

<p>A <code>das_dfr</code> object, which is also a data frame, with DAS data read into columns.
The data are read into the data frame as characters as described in 'Details',
with the following exceptions:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Name</em> </td><td style="text-align: left;"> <em>Class</em> </td><td style="text-align: left;"> <em>Details</em></td>
</tr>
<tr>
 <td style="text-align: left;">
    EffortDot </td><td style="text-align: left;"> logical   </td><td style="text-align: left;"> <code>TRUE</code> if "." was present, and <code>FALSE</code> otherwise</td>
</tr>
<tr>
 <td style="text-align: left;">
    DateTime  </td><td style="text-align: left;"> POSIXct   </td><td style="text-align: left;"> combination of 'Date' and 'Time' columns</td>
</tr>
<tr>
 <td style="text-align: left;">
    Lat       </td><td style="text-align: left;"> numeric   </td><td style="text-align: left;"> 'Latitude' column converted to decimal degrees in range [-90, 90]</td>
</tr>
<tr>
 <td style="text-align: left;">
    Lon       </td><td style="text-align: left;"> numeric   </td><td style="text-align: left;"> 'Longitude' column converted to decimal degrees in range [-180, 180]</td>
</tr>
<tr>
 <td style="text-align: left;">
    Data#     </td><td style="text-align: left;"> character </td><td style="text-align: left;"> leading/trailing whitespace trimmed for non-comment events (i.e. where 'Event' is not "C")</td>
</tr>
<tr>
 <td style="text-align: left;">
    EventNum  </td><td style="text-align: left;"> character </td><td style="text-align: left;"> leading/trailing whitespace trimmed; left as character for some project-specific codes</td>
</tr>
<tr>
 <td style="text-align: left;">
    file_das  </td><td style="text-align: left;"> character </td><td style="text-align: left;"> base filename, extracted from the <code>file</code> argument</td>
</tr>
<tr>
 <td style="text-align: left;">
    line_num  </td><td style="text-align: left;"> integer   </td><td style="text-align: left;"> line number of each data row</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>DateTime values have a (meaningless) time zone value of &quot;UTC&quot;.
See the OffsetGMT column from <code><a href="#topic+das_process">das_process</a></code>
for relevant time zone information
</p>
<p>Warnings are printed if any unexpected events have <code>NA</code> DateTime/Lat/Lon values,
or if any Lat/Lon values cannot be converted to numeric values.
Events that are 'expected' to have <code>NA</code> DateTime/Lat/Lon values are:
C, ?, 1, 2, 3, 4, 5, 6, 7, 8
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
das_read(y)

</code></pre>

<hr>
<h2 id='das_segdata'>Summarize DAS data for a continuous effort section</h2><span id='topic+das_segdata'></span><span id='topic+das_segdata.data.frame'></span><span id='topic+das_segdata.das_df'></span>

<h3>Description</h3>

<p>Summarize DAS effort data by effort segment, while averaging or getting the max for each condition
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_segdata(x, ...)

## S3 method for class 'data.frame'
das_segdata(x, ...)

## S3 method for class 'das_df'
das_segdata(
  x,
  conditions,
  segdata.method = c("avg", "maxdist"),
  seg.lengths,
  section.id,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_segdata_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code>
Must contain a single continuous effort section of DAS data;
see the Details section below</p>
</td></tr>
<tr><td><code id="das_segdata_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_segdata_+3A_conditions">conditions</code></td>
<td>
<p>see <code><a href="#topic+das_effort">das_effort</a></code>, or
see Details section for more information</p>
</td></tr>
<tr><td><code id="das_segdata_+3A_segdata.method">segdata.method</code></td>
<td>
<p>character; either avg&quot; or &quot;maxdist&quot;.
See Details section for more information</p>
</td></tr>
<tr><td><code id="das_segdata_+3A_seg.lengths">seg.lengths</code></td>
<td>
<p>numeric; length of the modeling segments
into which <code>x</code> will be chopped</p>
</td></tr>
<tr><td><code id="das_segdata_+3A_section.id">section.id</code></td>
<td>
<p>numeric; the ID of <code>x</code> (the current continuous effort section)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>WARNING - do not call this function directly!
It is exported for documentation purposes, but is intended for internal package use only.
</p>
<p>This function was designed to be called by one of the das_chop_ functions,
e.g. <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code>, and thus
users should avoid calling it themselves.
It loops through the events in <code>x</code>, chopping <code>x</code> into modeling segments
while calculating and storing relevant information for each segment.
Because <code>x</code> is a continuous effort section, it must begin with
a &quot;B&quot; or &quot;R&quot; event and end with the corresponding &quot;E&quot; event.
</p>
<p>For each segment, this function reports the segment number,
segment ID, cruise number, the start/end/mid coordinates (lat/lon),
start/end/mid date/times (DateTime), segment length,
year, month, day, midpoint time, mode, effort type,
effective strip width sides (number of sides searched),
and average conditions (which are specified by <code>conditions</code>).
The segment ID is designated as <code>section.id</code> _ index of the modeling segment.
Thus, if <code>section.id</code> is <code>1</code>, then the segment ID for
the second segment from <code>x</code> is <code>"1_2"</code>.
The start/end coordinates and date/times are interpolated as needed,
e.g. when using the 'equallength' method.
</p>
<p>When <code>segdata.method</code> is &quot;avg&quot;, the condition values are
calculated as a weighted average by distance.
The reported value for logical columns (e.g. Glare) is the percentage
(in decimals) of the segment in which that condition was <code>TRUE</code>.
For character columns, the reported value for each segment is
the unique value(s) present in the segment, with <code>NA</code>s omitted,
pasted together via <code>paste(..., collapse = "; ")</code>.
When <code>segdata.method</code> is &quot;maxdist&quot;, the reported values
are, for each condition, the value recorded for the longest distance
during that segment (with <code>NA</code>s omitted).
</p>
<p>Cruise number, mode, effort type, sides searched, and file name are
also included in the segdata output.
These values (excluding <code>NA</code>s) must be consistent across the
entire effort section, and thus across all segments in <code>x</code>;
a warning is printed if there are any inconsistencies
</p>
<p><code><a href="swfscMisc.html#topic+bearing">bearing</a></code> and <code><a href="swfscMisc.html#topic+destination">destination</a></code>
are used to calculate the segment start, mid, and end points,
with <code>method = "vincenty"</code>.
</p>


<h3>Value</h3>

<p>Data frame with the segdata information described in Details
and in <code><a href="#topic+das_effort">das_effort</a></code>
</p>

<hr>
<h2 id='das_sight'>DAS sightings</h2><span id='topic+das_sight'></span><span id='topic+das_sight.data.frame'></span><span id='topic+das_sight.das_df'></span>

<h3>Description</h3>

<p>Extract sightings and associated information from processed DAS data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>das_sight(x, ...)

## S3 method for class 'data.frame'
das_sight(x, ...)

## S3 method for class 'das_df'
das_sight(
  x,
  return.format = c("default", "wide", "complete"),
  return.events = c("S", "K", "M", "G", "s", "k", "m", "g", "t", "p", "F"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="das_sight_+3A_x">x</code></td>
<td>
<p>an object of class <code>das_df</code>,
or a data frame that can be coerced to class <code>das_df</code></p>
</td></tr>
<tr><td><code id="das_sight_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
<tr><td><code id="das_sight_+3A_return.format">return.format</code></td>
<td>
<p>character; can be one of &quot;default&quot;, &quot;wide&quot;, &quot;complete&quot;,
or any partial match thereof (case sensitive). Formats described below</p>
</td></tr>
<tr><td><code id="das_sight_+3A_return.events">return.events</code></td>
<td>
<p>character; event codes included in the output.
Must be one or more of: &quot;S&quot;, &quot;K&quot;, &quot;M&quot;, &quot;G&quot;, &quot;s&quot;, &quot;k&quot;, &quot;m&quot;, &quot;g&quot;, &quot;t&quot;, &quot;p&quot;, &quot;F&quot;
(case-sensitive). The default is all of these event codes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>DAS events contain specific information in the 'Data#' columns,
with the information depending on the event code for that row.
The output data frame contains columns with this specific information
extracted to dedicated columns as described below.
This function recognizes the following types of sightings:
marine mammal sightings (event codes &quot;S&quot;, &quot;K&quot;, or &quot;M&quot;),
marine mammal resights (codes &quot;s&quot;, &quot;k&quot;, &quot;m&quot;),
marine mammal subgroup sightings (code &quot;G&quot;),
marine mammal subgroup resights (code &quot;g&quot;),
turtle sightings (code &quot;t&quot;),
pinniped sightings (code &quot;p&quot;),
and fishing vessel sightings (code &quot;F&quot;).
Warnings are printed if all S, K, M, and G events (and only these events) are not
followed by an A event and at least one numeric event.
See <code><a href="#topic+das_format_pdf">das_format_pdf</a></code> for more information about events and event formats.
Of specific note - sperm whale sightings (species code 046) often contain additional estimates
recorded as &quot;C&quot; events immediately following the S, A, and numeric events.
Because these estimates are recorded as&quot;C&quot; events, they are NOT included in the
<code>das_sight</code> calculations or output for any <code>return.format</code>
</p>
<p>The <code>return.events</code> argument simply provides a shortcut for
filtering the output of <code>das_sight</code> by event codes
</p>
<p>Abbreviations used in output column names: Gs = group size, Sp = species,
Nm = nautical mile, Perc = percentage, Prob = probable,
GsSchool = school-level group size info
</p>
<p>This function makes the following assumptions, and alterations to the raw DAS data:
</p>

<ul>
<li><p> &quot;A&quot; events immediately following an S/K/M/G event have
the same sighting number (Data1 value) as the S/K/M/G event
</p>
</li>
<li><p> The 'nSp' column is equivalent to the number of non-<code>NA</code> values across the
'Data5', 'Data6', 'Data7', and 'Data8' columns
for the pertinent &quot;A&quot; event
</p>
</li>
<li><p> The following data are coerced to a numeric using
<code><a href="base.html#topic+numeric">as.numeric</a></code>:
Bearing, Reticle, DistNm, Cue, Method,
species percentages, and group sizes (including for t, p, and F events).
Note that if there are any formatting errors and these data are not numeric,
the function will likely print a warning message
</p>
</li>
<li><p> The values for the following columns are capitalized using
<code><a href="base.html#topic+chartr">toupper</a></code>:
'Birds', 'Photos', 'CalibSchool', 'PhotosAerial', 'Biopsy',
'TurtleAge', and 'TurtleCapt'
</p>
</li></ul>



<h3>Value</h3>

<p>Data frame with 1) the columns from <code>x</code>, excluding the 'Data#' columns,
and 2) columns with sighting information extracted from 'Data#' columns.
See <code><a href="#topic+das_format_pdf">das_format_pdf</a></code> for more information the sighting information.
If <code>return.format</code> is &quot;default&quot;, then there is one row for each species of each sighting event;
if <code>return.format</code> is &quot;wide&quot;, then there is one row for each sighting event;
if <code>return.format</code> is &quot;complete&quot;, then there is one row for every
group size estimate for each sighting event (excluding sperm whale &quot;C&quot; events - see the Details section).
</p>
<p>The format-specific columns are described in their respective sections.
The following sighting information columns are included in all return formats:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Sighting information</em>                </td><td style="text-align: left;"> <em>Column name</em> </td><td style="text-align: left;"> <em>Notes</em> </td>
</tr>
<tr>
 <td style="text-align: left;">
    Sighting number                            </td><td style="text-align: left;"> SightNo      </td><td style="text-align: left;"> Character                                                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Subgroup code                              </td><td style="text-align: left;"> Subgroup     </td><td style="text-align: left;"> Character                                                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Daily sighting number                      </td><td style="text-align: left;"> SightNoDaily </td><td style="text-align: left;"> See below                                                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Observer that made the sighting            </td><td style="text-align: left;"> Obs          </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Standard observer                          </td><td style="text-align: left;"> ObsStd       </td><td style="text-align: left;"> Logical; <code>TRUE</code> if Obs is one of ObsL, Rec or ObsR, and <code>FALSE</code> otherwise    </td>
</tr>
<tr>
 <td style="text-align: left;">
    Bearing to the sighting                    </td><td style="text-align: left;"> Bearing      </td><td style="text-align: left;"> Numeric; degrees, expected range 0 to 360                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Number of reticle marks                    </td><td style="text-align: left;"> Reticle      </td><td style="text-align: left;"> Numeric                                                                                </td>
</tr>
<tr>
 <td style="text-align: left;">
    Distance (nautical miles)                  </td><td style="text-align: left;"> DistNm       </td><td style="text-align: left;"> Numeric                                                                                </td>
</tr>
<tr>
 <td style="text-align: left;">
    Sighting cue                               </td><td style="text-align: left;"> Cue          </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Sighting method                            </td><td style="text-align: left;"> Method       </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Photos of school?                          </td><td style="text-align: left;"> Photos       </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Birds present with school?                 </td><td style="text-align: left;"> Birds        </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Calibration school?                        </td><td style="text-align: left;"> CalibSchool  </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Aerial photos taken?                       </td><td style="text-align: left;"> PhotosAerial </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Biopsy taken?                              </td><td style="text-align: left;"> Biopsy       </td><td style="text-align: left;">                                                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Probable sighting                          </td><td style="text-align: left;"> Prob         </td><td style="text-align: left;"> Logical indicating if sighting has associated ? event; <code>NA</code> for non-S/K/M/G events</td>
</tr>
<tr>
 <td style="text-align: left;">
    Number of species in sighting              </td><td style="text-align: left;"> nSp          </td><td style="text-align: left;"> <code>NA</code> for non-S/K/M/G events                                                       </td>
</tr>
<tr>
 <td style="text-align: left;">
    Mixed species sighting                     </td><td style="text-align: left;"> Mixed        </td><td style="text-align: left;"> Logical; <code>TRUE</code> if nSp &gt; 1                                                        </td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of school - best estimate       </td><td style="text-align: left;"> GsSchoolBest </td><td style="text-align: left;"> See below                                                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of school - high estimate       </td><td style="text-align: left;"> GsSchoolHigh </td><td style="text-align: left;"> See below                                                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of school - low estimate        </td><td style="text-align: left;"> GsSchoolLow  </td><td style="text-align: left;"> See below                                                                              </td>
</tr>
<tr>
 <td style="text-align: left;">
    Course (true heading) of school at resight </td><td style="text-align: left;"> CourseSchool </td><td style="text-align: left;"> <code>NA</code> for non-s/k/m events                                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Presence of associated JFR                 </td><td style="text-align: left;"> TurtleJFR    </td><td style="text-align: left;"> <code>NA</code> for non-"t" events; JFR = jellyfish, floating debris, or red tide            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Estimated turtle maturity                  </td><td style="text-align: left;"> TurtleAge    </td><td style="text-align: left;"> <code>NA</code> for non-"t" events                                                           </td>
</tr>
<tr>
 <td style="text-align: left;">
    Perpendicular distance (km) to sighting    </td><td style="text-align: left;"> PerpDistKm   </td><td style="text-align: left;"> Calculated via <code>(abs(sin(Bearing*pi/180) * DistNm) * 1.852)</code>
  </td>
</tr>

</table>

<p>SightNoDaily is a running count of the number of S/K/M/G sightings that occurred on each day.
It is formatted as 'YYYYMMDD'_'running count', e.g. &quot;20050101_1&quot;.
</p>
<p>The GsSchoolBest, GsSchoolHigh, and GsSchoolLow columns are either:
1) the arithmetic mean across observer estimates, for the &quot;default&quot; and &quot;wide&quot; formats, or
2) the individual observer estimates, for the &quot;complete&quot; format.
Note that for non-&quot;complete&quot; formats, <code>na.rm = TRUE</code> is used when calculating the mean,
and thus blank elements of estimates (but not the whole incomplete estimate) are ignored.
</p>
<p>To convert the perpendicular distance back to nautical miles,
one would divide PerpDistKm by 1.852
</p>


<h3>The &quot;default&quot; format output</h3>

<p>This output data frame contains 'long' sighting data, meaning there is one row for each species of each sighting event.
The GsSp... columns are calculated as follows:
for each species and for each observer estimate, the best/high/low school size estimate is multiplied by the applicable species percent estimate.
The values are grouped by species and then averaged to get single GsSpBest, GsSpHigh, and GsSpLow values for each species.
(using <code><a href="base.html#topic+mean">mean</a></code> with <code>na.rm = TRUE</code>)
</p>
<p>Sighting information columns/formats present specifically in the &quot;default&quot; format output:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Sighting information</em> </td><td style="text-align: left;"> <em>Column name</em> </td><td style="text-align: left;"> <em>Notes</em></td>
</tr>
<tr>
 <td style="text-align: left;">
    Species code          </td><td style="text-align: left;"> SpCode </td><td style="text-align: left;"> Boat type or mammal, turtle, or pinniped species codes</td>
</tr>
<tr>
 <td style="text-align: left;">
    Probable species code </td><td style="text-align: left;"> SpCodeProb </td><td style="text-align: left;"> Probable mammal species codes; <code>NA</code> if none or not applicable</td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species - best estimate </td><td style="text-align: left;"> GsSpBest </td><td style="text-align: left;">
      The product of the arithmetic means of GsSchoolBest and the corresponding species percentage</td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species - high estimate </td><td style="text-align: left;"> GsSpHigh </td><td style="text-align: left;">
      The product of the arithmetic means of GsSchoolHigh and the corresponding species percentage</td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species - low estimate </td><td style="text-align: left;"> GsSpLow </td><td style="text-align: left;">
      The product of the arithmetic means of GsSchoolLow and the corresponding species percentage</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p>Note that for the above calculations,
the GsSchoolX value and corresponding species percentages were each
averaged across observers, using <code>na.rm = TRUE</code>,
before being multiplied to calculate GsSpX. For example, in the workflow:
<code>GsSpBest1 = mean(.data$Data2, na.rm = TRUE) * mean(.data$Data5, na.rm = TRUE)</code>
</p>


<h3>The &quot;wide&quot; and &quot;complete&quot; format outputs</h3>

<p>The &quot;wide&quot; and &quot;complete&quot; options have very similar columns in their output date frames.
There are two main differences: 1) the &quot;wide&quot; format has one row for each sighting event,
while the complete format has a row for every observer estimate for each sightings, and thus
2) in the &quot;wide&quot; format, all numeric information for which there are multiple observer estimates
(school group size, species percentage, etc.) are averaged across estimated via
an arithmetic mean (using <code><a href="base.html#topic+mean">mean</a></code> with <code>na.rm = TRUE</code>)
</p>
<p>With these formats, note that the species/type code and group size for
turtle, pinniped, and boat sightings are in their own column
</p>
<p>Sighting information columns present in the &quot;wide&quot; and &quot;complete&quot; format outputs:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <em>Sighting information</em>  </td><td style="text-align: left;"> <em>Column name</em>  </td><td style="text-align: left;"> <em>Notes</em>                            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Observer code - estimate     </td><td style="text-align: left;"> ObsEstimate         </td><td style="text-align: left;"> See below                               </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 1 code               </td><td style="text-align: left;"> SpCode1             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 2 code               </td><td style="text-align: left;"> SpCode2             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 3 code               </td><td style="text-align: left;"> SpCode3             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 4 code               </td><td style="text-align: left;"> SpCode4             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 1 probable code      </td><td style="text-align: left;"> SpCodeProb1         </td><td style="text-align: left;"> Extracted from '?' event                </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 2 probable code      </td><td style="text-align: left;"> SpCodeProb2         </td><td style="text-align: left;"> Extracted from '?' event                </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 3 probable code      </td><td style="text-align: left;"> SpCodeProb3         </td><td style="text-align: left;"> Extracted from '?' event                </td>
</tr>
<tr>
 <td style="text-align: left;">
    Species 4 probable code      </td><td style="text-align: left;"> SpCodeProb4         </td><td style="text-align: left;"> Extracted from '?' event                </td>
</tr>
<tr>
 <td style="text-align: left;">
    Percentage of Sp 1 in school </td><td style="text-align: left;"> SpPerc1             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Percentage of Sp 2 in school </td><td style="text-align: left;"> SpPerc2             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Percentage of Sp 3 in school </td><td style="text-align: left;"> SpPerc3             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Percentage of Sp 4 in school </td><td style="text-align: left;"> SpPerc4             </td><td style="text-align: left;">                                         </td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species 1      </td><td style="text-align: left;"> GsSpBest1           </td><td style="text-align: left;"> Present in "wide" output only; see below</td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species 2      </td><td style="text-align: left;"> GsSpBest2           </td><td style="text-align: left;"> Present in "wide" output only; see below</td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species 3      </td><td style="text-align: left;"> GsSpBest3           </td><td style="text-align: left;"> Present in "wide" output only; see below</td>
</tr>
<tr>
 <td style="text-align: left;">
    Group size of species 4      </td><td style="text-align: left;"> GsSpBest4           </td><td style="text-align: left;"> Present in "wide" output only; see below</td>
</tr>
<tr>
 <td style="text-align: left;">
    Turtle species               </td><td style="text-align: left;"> TurtleSp            </td><td style="text-align: left;"> <code>NA</code> for non-"t" events            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Turtle group size            </td><td style="text-align: left;"> TurtleGs            </td><td style="text-align: left;"> <code>NA</code> for non-"t" events            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Was turtle captured?         </td><td style="text-align: left;"> TurtleCapt          </td><td style="text-align: left;"> <code>NA</code> for non-"t" events            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Pinniped species             </td><td style="text-align: left;"> PinnipedSp          </td><td style="text-align: left;"> <code>NA</code> for non-"p" events            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Pinniped group size          </td><td style="text-align: left;"> PinnipedGs          </td><td style="text-align: left;"> <code>NA</code> for non-"p" events            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Boat or gear type            </td><td style="text-align: left;"> BoatType            </td><td style="text-align: left;"> <code>NA</code> for non-"F" events            </td>
</tr>
<tr>
 <td style="text-align: left;">
    Number of boats              </td><td style="text-align: left;"> BoatGs              </td><td style="text-align: left;"> <code>NA</code> for non-"F" events
  </td>
</tr>

</table>

<p>ObsEstimate refers to the code of the observer that made the corresponding estimate.
For the &quot;wide&quot; format, ObsEstimate is a list-column of all of the observer codes
that provided an estimate.
Also in the &quot;wide&quot; format, the GsSpBest# columns are the product of
the means of GsSchoolBest and the corresponding species percentage
(see the Default section for calculation details).
These numbers, 1 to 4, correspond to the order of the data as it appears in the DAS file
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.proc &lt;- das_process(y)

das_sight(y.proc)
das_sight(y.proc, return.format = "complete")

</code></pre>

<hr>
<h2 id='distance_greatcircle'>Calculate great-circle distance</h2><span id='topic+distance_greatcircle'></span>

<h3>Description</h3>

<p>Calculate the great-circle distance between two lat/lon points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>distance_greatcircle(lat1, lon1, lat2, lon2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="distance_greatcircle_+3A_lat1">lat1</code></td>
<td>
<p>numeric; starting latitude coordinate(s)</p>
</td></tr>
<tr><td><code id="distance_greatcircle_+3A_lon1">lon1</code></td>
<td>
<p>numeric; starting longitude coordinate(s)</p>
</td></tr>
<tr><td><code id="distance_greatcircle_+3A_lat2">lat2</code></td>
<td>
<p>numeric; ending latitude coordinate(s)</p>
</td></tr>
<tr><td><code id="distance_greatcircle_+3A_lon2">lon2</code></td>
<td>
<p>numeric; ending longitude coordinate(s)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Distance in kilometers between lat1/lon1 and lat2/lon2
</p>


<h3>See Also</h3>

<p><a href="https://en.wikipedia.org/wiki/Great-circle_distance">https://en.wikipedia.org/wiki/Great-circle_distance</a>
</p>

<hr>
<h2 id='randpicks_convert'>Convert randpicks file</h2><span id='topic+randpicks_convert'></span>

<h3>Description</h3>

<p>Convert randpicks file from segchopr format to swfscDAS format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>randpicks_convert(x.randpicks, x.segdata, seg.km)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="randpicks_convert_+3A_x.randpicks">x.randpicks</code></td>
<td>
<p>Data frame with two columns;
randpick values formatted for segchopr that correspond to <code>x.segdata</code></p>
</td></tr>
<tr><td><code id="randpicks_convert_+3A_x.segdata">x.segdata</code></td>
<td>
<p>Data frame; segdata that corresponds to <code>x.randpicks</code></p>
</td></tr>
<tr><td><code id="randpicks_convert_+3A_seg.km">seg.km</code></td>
<td>
<p>numeric; target segment length used when creating <code>x.segdata</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Past DAS processing code (segchopr) only recorded the generated random values,
whereas swfscDAS randpicks files contain one line for each continuous effort section.
See <code><a href="#topic+das_chop_equallength">das_chop_equallength</a></code> for more details about the swfscDAS randpicks format.
This function 'converts' a randpicks data frame generated by segchopr
to a data frame that meets the swfscDAS randpicks format requirements
</p>


<h3>Value</h3>

<p>Data frame with one line for each continuous effort section in <code>x.segdata</code>,
and two columns: <code>effort_section</code> and <code>randpicks</code>
</p>

<hr>
<h2 id='subsetting'>Subsetting objects created using swfscDAS</h2><span id='topic+subsetting'></span><span id='topic++5B.das_dfr'></span><span id='topic++24+3C-.das_dfr'></span><span id='topic++5B+3C-.das_dfr'></span><span id='topic++5B+5B+3C-.das_dfr'></span><span id='topic++5B.das_df'></span><span id='topic++24+3C-.das_df'></span><span id='topic++5B+3C-.das_df'></span><span id='topic++5B+5B+3C-.das_df'></span>

<h3>Description</h3>

<p>Subsetting <code>das_dfr</code> or <code>das_df</code> objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'das_dfr'
x[i, j, ..., drop = TRUE]

## S3 replacement method for class 'das_dfr'
x$name &lt;- value

## S3 replacement method for class 'das_dfr'
x[i, j, ...] &lt;- value

## S3 replacement method for class 'das_dfr'
x[[i]] &lt;- value

## S3 method for class 'das_df'
x[i, j, ..., drop = TRUE]

## S3 replacement method for class 'das_df'
x$name &lt;- value

## S3 replacement method for class 'das_df'
x[i, j, ...] &lt;- value

## S3 replacement method for class 'das_df'
x[[i]] &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subsetting_+3A_x">x</code></td>
<td>
<p>object of class <code>das_dfr</code> or <code>das_df</code></p>
</td></tr>
<tr><td><code id="subsetting_+3A_i">i</code>, <code id="subsetting_+3A_j">j</code>, <code id="subsetting_+3A_...">...</code></td>
<td>
<p>elements to extract or replace, see <code><a href="base.html#topic++5B.data.frame">[.data.frame</a></code></p>
</td></tr>
<tr><td><code id="subsetting_+3A_drop">drop</code></td>
<td>
<p>logical, see <code><a href="base.html#topic++5B.data.frame">[.data.frame</a></code></p>
</td></tr>
<tr><td><code id="subsetting_+3A_name">name</code></td>
<td>
<p>A literal character string or ..., see <code><a href="base.html#topic++5B.data.frame">[.data.frame</a></code></p>
</td></tr>
<tr><td><code id="subsetting_+3A_value">value</code></td>
<td>
<p>A suitable replacement value, see <code><a href="base.html#topic++5B.data.frame">[.data.frame</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>When subsetting a <code>das_dfr</code> or <code>das_df</code> object, henceforth a <code>das_</code> object,
using any of the functions described in <code><a href="base.html#topic++5B.data.frame">[.data.frame</a></code>,
then then the <code>das_</code> class is simply dropped and the object is of class <code>data.frame</code>.
This is because of the strict format requirements of <code>das_</code> objects;
it is likely that a subsetted <code>das_</code> object will not have
the format required by subsequent swfscDAS functions,
and thus it is safest to drop the <code>das_</code> class.
If a data frame is passed to downstream <code>swfscDAS</code> functions that require a <code>das_</code> object,
then they will attempt to coerce the object to the necessary <code>das_</code> class
See <code><a href="#topic+as_das_dfr">as_das_dfr</a></code> and <code><a href="#topic+as_das_df">as_das_df</a></code> for more details.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>y &lt;- system.file("das_sample.das", package = "swfscDAS")
y.read &lt;- das_read(y)

# All return a data frame:
class(y.read[1:10, ])
class(y.read[, 1:10])

y.df &lt;- y.read
y.df[, 1] &lt;- "a"
class(y.df)

y.df &lt;- y.read
y.df$Event &lt;- "a"
class(y.df)

y.df &lt;- y.read
y.df[["Event"]] &lt;- "a"
class(y.df)
</code></pre>

<hr>
<h2 id='swfscAirDAS-internals'>Internal functions for swfscAirDAS</h2><span id='topic+swfscAirDAS-internals'></span><span id='topic+.chop_condition_eff'></span><span id='topic+.chop_equallength_eff'></span><span id='topic+.process_num'></span><span id='topic+.process_chr'></span><span id='topic+.segdata_proc'></span><span id='topic+.segdata_aggr'></span><span id='topic+.dist_from_prev'></span>

<h3>Description</h3>

<p>These functions are exported only to be used internally by swfscAirDAS.
They implement functionality that is used when processing both
DAS and AirDAS data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.chop_condition_eff(i, call.x, call.conditions, call.seg.min.km, call.func1)

.chop_equallength_eff(
  i,
  call.x,
  call.conditions,
  call.seg.km,
  call.r.pos,
  call.func1
)

.process_num(init.val, das.df, col.name, event.curr, event.na)

.process_chr(init.val, das.df, col.name, event.curr, event.na)

.segdata_proc(
  das.df,
  conditions,
  segdata.method,
  seg.lengths,
  section.id,
  df.out1
)

.segdata_aggr(data.list, curr.df, idx, dist.perc)

.dist_from_prev(
  z,
  z.distance.method = c("greatcircle", "lawofcosines", "haversine", "vincenty")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="swfscAirDAS-internals_+3A_i">i</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_call.x">call.x</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_call.conditions">call.conditions</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_call.seg.min.km">call.seg.min.km</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_call.func1">call.func1</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_call.seg.km">call.seg.km</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_call.r.pos">call.r.pos</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_init.val">init.val</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_das.df">das.df</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_col.name">col.name</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_event.curr">event.curr</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_event.na">event.na</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_conditions">conditions</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_segdata.method">segdata.method</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_seg.lengths">seg.lengths</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_section.id">section.id</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_df.out1">df.out1</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_data.list">data.list</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_curr.df">curr.df</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_idx">idx</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_dist.perc">dist.perc</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_z">z</code></td>
<td>
<p>ignore</p>
</td></tr>
<tr><td><code id="swfscAirDAS-internals_+3A_z.distance.method">z.distance.method</code></td>
<td>
<p>ignore</p>
</td></tr>
</table>

<hr>
<h2 id='swfscDAS-package'>Southwest Fisheries Science Center DAS</h2><span id='topic+swfscDAS-package'></span><span id='topic+swfscDAS'></span>

<h3>Description</h3>

<p>Process and summarize shipboard DAS data
</p>


<h3>Details</h3>

<p>This package contains functions designed for processing and analyzing DAS data
generated using the WinCruz program by the Southwest Fisheries Science Center.
It is intended to standardize and streamline basic DAS data processing.
</p>


<h3>Author(s)</h3>

<p>Sam Woodman <a href="mailto:sam.woodman@noaa.gov">sam.woodman@noaa.gov</a>
</p>


<h3>See Also</h3>

<p><a href="https://smwoodman.github.io/swfscDAS/">https://smwoodman.github.io/swfscDAS/</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

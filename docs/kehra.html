<!DOCTYPE html><html><head><title>Help for package kehra</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {kehra}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#kehra-package'>
<p>Collect, Assemble and Model Air Pollution, Weather and Health Data</p></a></li>
<li><a href='#fillMissingValues'><p>Fill missing values</p></a></li>
<li><a href='#getSeason'><p>Get season a date belongs to</p></a></li>
<li><a href='#pointInspection'><p>Get data from ECMWF ERA_Interim</p></a></li>
<li><a href='#windDirection'><p>Wind Direction</p></a></li>
<li><a href='#windSpeed'><p>Wind Speed</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Collect, Assemble and Model Air Pollution, Weather and Health
Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2016-06-09</td>
</tr>
<tr>
<td>Author:</td>
<td>Claudia Vitolo [aut, cre], Allan Tucker [aut], Andrew Russell [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Claudia Vitolo &lt;cvitolodev@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/kehraProject/r_kehra">https://github.com/kehraProject/r_kehra</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/kehraProject/r_kehra/issues">https://github.com/kehraProject/r_kehra/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Collection of utility functions used in the KEHRA project (see http://www.brunel.ac.uk/ife/britishcouncil). It refers to the multidimensional analysis of air pollution, weather and health data.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.14.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Hmisc, raster, reshape2, stringr, sp, xts, zoo</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2016-06-10 11:07:52 UTC; claudia</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2016-06-10 13:48:43</td>
</tr>
</table>
<hr>
<h2 id='kehra-package'>
Collect, Assemble and Model Air Pollution, Weather and Health Data
</h2><span id='topic+kehra-package'></span><span id='topic+kehra'></span>

<h3>Description</h3>

<p>Collection of utility functions used in the KEHRA project (see http://www.brunel.ac.uk/ife/britishcouncil). It refers to the multidimensional analysis of air pollution, weather and health data.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> kehra</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Collect, Assemble and Model Air Pollution, Weather and Health Data</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2016-06-09</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Claudia Vitolo [aut, cre], Allan Tucker [aut], Andrew Russell [aut]</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Claudia Vitolo &lt;cvitolodev@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> https://github.com/kehraProject/r_kehra</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/kehraProject/r_kehra/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Collection of utility functions used in the KEHRA project (see http://www.brunel.ac.uk/ife/britishcouncil). It refers to the multidimensional analysis of air pollution, weather and health data.</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> R (&gt;= 2.14.0)</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> Hmisc, raster, reshape2, stringr, sp, xts, zoo</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-3</td>
</tr>
<tr>
 <td style="text-align: left;">
Repository: </td><td style="text-align: left;"> CRAN</td>
</tr>
<tr>
 <td style="text-align: left;">
RoxygenNote: </td><td style="text-align: left;"> 5.0.1</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Index of help topics:
</p>
<pre>
fillMissingValues       Fill missing values
getSeason               Get season a date belongs to
kehra-package           Collect, Assemble and Model Air Pollution,
                        Weather and Health Data
pointInspection         Get data from ECMWF ERA_Interim
windDirection           Wind Direction
windSpeed               Wind Speed
</pre>
<p>Collection of utility functions used in the KEHRA project
</p>


<h3>Author(s)</h3>

<p>Claudia Vitolo [aut, cre], Allan Tucker [aut], Andrew Russell [aut]
Maintainer: Claudia Vitolo &lt;cvitolodev@gmail.com&gt;
</p>

<hr>
<h2 id='fillMissingValues'>Fill missing values</h2><span id='topic+fillMissingValues'></span>

<h3>Description</h3>

<p>Fill missing values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fillMissingValues(ids, df, maxgap = 12, parallel = FALSE,
  formatDT = "%Y-%m-%d %H:%M")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fillMissingValues_+3A_ids">ids</code></td>
<td>
<p>site identification codes</p>
</td></tr>
<tr><td><code id="fillMissingValues_+3A_df">df</code></td>
<td>
<p>dataframe containing the timeseries in columns separated by ID (header must follow this convention: column 1 = &quot;datetime&quot;, column 2 = &quot;SiteID&quot;, column 3 = &quot;variable name&quot;). df can be the result of GetDataFromECMWF().</p>
</td></tr>
<tr><td><code id="fillMissingValues_+3A_maxgap">maxgap</code></td>
<td>
<p>maximum gap to interpolate (e.g. 6 hours)</p>
</td></tr>
<tr><td><code id="fillMissingValues_+3A_parallel">parallel</code></td>
<td>
<p>Bolean, if TRUE parallel jobs are allowed</p>
</td></tr>
<tr><td><code id="fillMissingValues_+3A_formatdt">formatDT</code></td>
<td>
<p>format of the datetime variable</p>
</td></tr>
</table>


<h3>Value</h3>

<p>updated df with infilled values
</p>


<h3>Examples</h3>

<pre><code class='language-R'># fillMissingValues(clima)

</code></pre>

<hr>
<h2 id='getSeason'>Get season a date belongs to</h2><span id='topic+getSeason'></span>

<h3>Description</h3>

<p>Get season a date belongs to. This function was taken from the following stackoverflow post: http://stackoverflow.com/questions/9500114/find-which-season-a-particular-date-belongs-to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSeason(DATES)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getSeason_+3A_dates">DATES</code></td>
<td>
<p>a date.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns the name of the season (e.g. &quot;Fall&quot;)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># my.dates &lt;- as.Date("2011-12-01", format = "%Y-%m-%d") + 0:60
# getSeason(my.dates)

</code></pre>

<hr>
<h2 id='pointInspection'>Get data from ECMWF ERA_Interim</h2><span id='topic+pointInspection'></span>

<h3>Description</h3>

<p>Get data from ECMWF ERA_Interim
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pointInspection(years, points, var, prefix = "", path = "~",
  parallel = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pointInspection_+3A_years">years</code></td>
<td>
<p>years to retrieve data for</p>
</td></tr>
<tr><td><code id="pointInspection_+3A_points">points</code></td>
<td>
<p>are lat/lon coordinates of points (e.g. stations)</p>
</td></tr>
<tr><td><code id="pointInspection_+3A_var">var</code></td>
<td>
<p>variable to retrieve</p>
</td></tr>
<tr><td><code id="pointInspection_+3A_prefix">prefix</code></td>
<td>
<p>string starting netcdf file name</p>
</td></tr>
<tr><td><code id="pointInspection_+3A_path">path</code></td>
<td>
<p>folder path where netcdf files are stored</p>
</td></tr>
<tr><td><code id="pointInspection_+3A_parallel">parallel</code></td>
<td>
<p>Bolean, if TRUE parallel jobs are allowed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Possible variables names are: &quot;t2m&quot; (2m temperature, in K), &quot;u10&quot; (10 metres wind U component, in m/s), &quot;v10&quot; (10 metres wind V component, in m/s), &quot;tp&quot; (total precipitation, in m), &quot;blh&quot; (boundary layer height, in m), &quot;ssr&quot; (surface net solar radiation, in W/m2s).
</p>


<h3>Value</h3>

<p>time series variable
</p>


<h3>Examples</h3>

<pre><code class='language-R'># pointInspection(years = 1981:2014, points, var = "t2m")

</code></pre>

<hr>
<h2 id='windDirection'>Wind Direction</h2><span id='topic+windDirection'></span>

<h3>Description</h3>

<p>Calculate wind direction in degrees from u &amp; v components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>windDirection(u, v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="windDirection_+3A_u">u</code></td>
<td>
<p>first component of wind speed</p>
</td></tr>
<tr><td><code id="windDirection_+3A_v">v</code></td>
<td>
<p>second component of wind speed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>direction in degrees from u &amp; v components
</p>


<h3>Examples</h3>

<pre><code class='language-R'># windDirection(u, v)

</code></pre>

<hr>
<h2 id='windSpeed'>Wind Speed</h2><span id='topic+windSpeed'></span>

<h3>Description</h3>

<p>Calculate wind speed in m/s from u &amp; v components
</p>


<h3>Usage</h3>

<pre><code class='language-R'>windSpeed(u, v)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="windSpeed_+3A_u">u</code></td>
<td>
<p>first component of wind speed</p>
</td></tr>
<tr><td><code id="windSpeed_+3A_v">v</code></td>
<td>
<p>second component of wind speed</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Speed in m/s
</p>


<h3>Examples</h3>

<pre><code class='language-R'># windSpeed(u, v)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package stepmixr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stepmixr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bootstrap'>
<p>Non-parametric bootstrap of StepMix estimator.</p></a></li>
<li><a href='#bootstrap_stats'>
<p>Non-parametric boostrap of StepMix estimator.</p></a></li>
<li><a href='#Datasets'>
<p>Series of function to simulate data.</p></a></li>
<li><a href='#fit'>
<p>Fit a mixture using the stepmix python package.</p></a></li>
<li><a href='#install.stepmix'>
<p>Install stepmix python package into python via reticulate.</p></a></li>
<li><a href='#mixed_descriptor'>
<p>Utility function for mixture using mixed description.</p></a></li>
<li><a href='#predict.stepmix.stepmix.StepMix'>
<p>Predict the membership (probabilities) using the fit of the stepmix python package.</p></a></li>
<li><a href='#savefit'>
<p>Save the fit of a mixture using the stepmix python package.</p></a></li>
<li><a href='#stepmix'>
<p>R interface to stepmix in StepMix python.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Note:</td>
<td>-*- Encoding: utf-8 -*-</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface to 'Python' Package 'StepMix'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-01-03</td>
</tr>
<tr>
<td>Author:</td>
<td>Éric Lacourse [aut],
  Roxane de la Sablonnière [aut],
  Charles-Édouard Giguère [aut, cre],
  Sacha Morin [aut],
  Robin Legault [aut],
  Félix Laliberté [aut],
  Zsusza Bakk [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Charles-Édouard Giguère &lt;ce.giguere@gmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>reticulate (&ge; 1.8)</td>
</tr>
<tr>
<td>Description:</td>
<td>This is an interface for the 'Python' package
  'StepMix'. It is a 'Python' package following the scikit-learn API for
  model-based clustering and generalized mixture modeling (latent class/profile
  analysis) of continuous and categorical data. 'StepMix' handles missing values
  through Full Information Maximum Likelihood (FIML) and provides multiple stepwise
  Expectation-Maximization (EM) estimation methods based on pseudolikelihood
  theory. Additional features include support for covariates and distal outcomes,
  various simulation utilities, and non-parametric bootstrapping, which allows
  inference in semi-supervised and unsupervised settings. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>TRUE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/Labo-Lacourse/StepMixr">https://github.com/Labo-Lacourse/StepMixr</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-01-09 22:06:46 UTC; gigc2</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-01-09 22:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bootstrap'>
Non-parametric bootstrap of StepMix estimator. 
</h2><span id='topic+bootstrap'></span><span id='topic+bootstrap.stepmix.stepmix.StepMix'></span>

<h3>Description</h3>

<p>Non-parametric boostrap of StepMix estimator. Fit the estimator on X,Y
then fit n_repetitions on resampled datasets. Repetition parameters
are aligned with the class order of the main estimator. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stepmix.stepmix.StepMix'
bootstrap(x, X = NULL, y = NULL, n_repetitions = 10, ...)
bootstrap(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootstrap_+3A_x">x</code></td>
<td>
<p>An object created with the fit function</p>
</td></tr>
<tr><td><code id="bootstrap_+3A_x">X</code></td>
<td>
<p>The X matrix or data.frame for the measurement part of the model</p>
</td></tr>
<tr><td><code id="bootstrap_+3A_y">y</code></td>
<td>
<p>The Y matrix or data.frame for the structural part of the model</p>
</td></tr>   
<tr><td><code id="bootstrap_+3A_n_repetitions">n_repetitions</code></td>
<td>
<p>The number of bootsrap sample</p>
</td></tr>
<tr><td><code id="bootstrap_+3A_...">...</code></td>
<td>
<p> For future options. This option is actually unused.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This methods returns a list with bootstrap samples (<code>samples</code>)
and the log-likelihood (<code>rep_stats</code>).
</p>


<h3>Value</h3>

<p>A list containing bootstrap samples of the parameters.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (reticulate::py_module_available("stepmix")) {
    require(stepmixr)
    model1 &lt;- stepmix(n_components = 3, n_steps = 2, measurement = "continuous", progress_bar = 0)
    X &lt;- iris[c(1:10, 51:60, 101:110), 1:4]
    fit1 &lt;- fit(model1, X)
    fit1_bs &lt;- bootstrap(fit1, X, n_repetitions = 5, progress_bar = FALSE)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='bootstrap_stats'>
Non-parametric boostrap of StepMix estimator. 
</h2><span id='topic+bootstrap_stats'></span><span id='topic+bootstrap_stats.stepmix.stepmix.StepMix'></span>

<h3>Description</h3>

<p>Non-parametric boostrap of StepMix estimator. Obtain boostrapped
parameters and some statistics (mean and standard deviation). If a
covariate model is used in the structural model, the output keys
&quot;cw_mean&quot; and &quot;cw_std&quot; are omitted. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stepmix.stepmix.StepMix'
bootstrap_stats(x, X = NULL, y = NULL, n_repetitions = 10, ...)
bootstrap_stats(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bootstrap_stats_+3A_x">x</code></td>
<td>
<p>An object created with the fit function</p>
</td></tr>
<tr><td><code id="bootstrap_stats_+3A_x">X</code></td>
<td>
<p>The X matrix or data.frame for the measurement part of the model</p>
</td></tr>
<tr><td><code id="bootstrap_stats_+3A_y">y</code></td>
<td>
<p>The y matrix or data.frame for the structural part of the model</p>
</td></tr>   
<tr><td><code id="bootstrap_stats_+3A_n_repetitions">n_repetitions</code></td>
<td>
<p>The number of bootsrap sample</p>
</td></tr>
<tr><td><code id="bootstrap_stats_+3A_...">...</code></td>
<td>
<p>for future options. Currently not used</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This methods returns a list with bootstrap samples (<code>samples</code>)
and the log-likelihood (<code>rep_stats</code>). Mean and standard deviation
are added to the results.
</p>


<h3>Value</h3>

<p>A list containing bootstrap samples of the parameters. The mean and
standard of class weights (<code>cw_mean</code>, <code>cw_std</code>),
measurement model parameters (<code>mm_mean</code>, <code>mm_std</code>),
structural model parameters (<code>sm_mean</code>, <code>sm_std</code>) are also
added.  If a covariate model is used in the structural model, the
output keys <code>cw_mean</code> and <code>cw_std</code> are omitted.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>

<hr>
<h2 id='Datasets'>
Series of function to simulate data.
</h2><span id='topic+random_nan'></span><span id='topic+bakk_measurements'></span><span id='topic+data_bakk_response'></span><span id='topic+data_bakk_covariate'></span><span id='topic+data_bakk_complete'></span><span id='topic+data_generation_gaussian'></span><span id='topic+data_gaussian_diag'></span>

<h3>Description</h3>

<p>These functions generates data with multiple groups using different distributions and optionnaly
adding a level of missing value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>random_nan(X, Y, nan_ratio, random_state=NULL)
bakk_measurements(n_classes, n_mm, sep_level)
data_bakk_response(n_samples, sep_level, n_classes = 3, n_mm = 6, random_state = NULL)
data_bakk_covariate(n_samples, sep_level, n_mm = 6, random_state = NULL)
data_bakk_complete(n_samples, sep_level, n_mm=6, random_state=NULL, nan_ratio=0.0)
data_generation_gaussian(n_samples, sep_level, n_mm=6, random_state=NULL)
data_gaussian_diag(n_samples, sep_level, n_mm = 6, random_state = NULL, nan_ratio = 0.0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Datasets_+3A_x">X</code></td>
<td>
<p>The X matrix or data.frame for the measurement part of the model</p>
</td></tr>
<tr><td><code id="Datasets_+3A_y">Y</code></td>
<td>
<p>The Y matrix or data.frame for the structural part of the model</p>
</td></tr>
<tr><td><code id="Datasets_+3A_nan_ratio">nan_ratio</code></td>
<td>
<p>The ratio of missing values. A value between 0 and 1.</p>
</td></tr>
<tr><td><code id="Datasets_+3A_random_state">random_state</code></td>
<td>
<p>An integer initializing the seed of the random generator.</p>
</td></tr>
<tr><td><code id="Datasets_+3A_n_classes">n_classes</code></td>
<td>
<p>Number of latent classes required.</p>
</td></tr>
<tr><td><code id="Datasets_+3A_n_mm">n_mm</code></td>
<td>
<p>Number of features in the measurement model.</p>
</td></tr>
<tr><td><code id="Datasets_+3A_sep_level">sep_level</code></td>
<td>
<p>Separation level in the measurement data.</p>
</td></tr>
<tr><td><code id="Datasets_+3A_n_samples">n_samples</code></td>
<td>
<p>Number of samples.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These function returns simulated data used to test the package.
</p>


<h3>Value</h3>

<p>list of data.frame simulated according to the function parameters.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse,
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018
</p>

<hr>
<h2 id='fit'>
Fit a mixture using the stepmix python package. 
</h2><span id='topic+fit'></span><span id='topic+print.stepmix.stepmix.StepMix'></span><span id='topic+identify_coef'></span>

<h3>Description</h3>

<p>This function initializes the stepmix object in python and fit X and
optionnally Y to the object.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit(smx, X = NULL, Y = NULL, ...)
## S3 method for class 'stepmix.stepmix.StepMix'
print(x, x_names = NULL, y_names = NULL, ...)
identify_coef(coef)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_+3A_smx">smx</code></td>
<td>
<p>An object created with the stepmix function.</p>
</td></tr>
<tr><td><code id="fit_+3A_x">X</code></td>
<td>
<p>The X matrix or data.frame for the measurement part of the model</p>
</td></tr>
<tr><td><code id="fit_+3A_y">Y</code></td>
<td>
<p>The Y matrix or data.frame for the structural part of the
model</p>
</td></tr>   
<tr><td><code id="fit_+3A_x">x</code></td>
<td>
<p>An object fitted with the fit method</p>
</td></tr>
<tr><td><code id="fit_+3A_coef">coef</code></td>
<td>
<p>Matrix of coefficients to be modified</p>
</td></tr>
<tr><td><code id="fit_+3A_x_names">x_names</code></td>
<td>
<p>Optional name of x variables</p>
</td></tr>
<tr><td><code id="fit_+3A_y_names">y_names</code></td>
<td>
<p>Optional name of y variables</p>
</td></tr>
<tr><td><code id="fit_+3A_...">...</code></td>
<td>
<p>unused but included to be inline with requirement of generic function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This methods returns a pointer to a python object of type StepMix. It can be
used within reticulate but not within R. To save this type of object,
you need to use the savefit function. The print method, uses the same
print methods used when verbose = TRUE, it takes the last X and Y
arguments used with the fit method. identify_coef find a reference
configuration of the coefficients. 
</p>


<h3>Value</h3>

<p>A pointer to a python object of type StepMix.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (reticulate::py_module_available("stepmix")) {
  model1 &lt;- stepmix(n_components = 3, n_steps = 2, measurement = "continuous", progress_bar = 0)
  X &lt;- iris[c(1:10, 51:60, 101:110), 1:4]
  fit1 &lt;- fit(model1, X)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='install.stepmix'>
Install stepmix python package into python via reticulate. 
</h2><span id='topic+install.stepmix'></span><span id='topic+check_pystepmix_version'></span>

<h3>Description</h3>

<p>Install the stepmix python package in the python instance used by reticulate.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>install.stepmix(envname, method, conda, pip, ...)
check_pystepmix_version()
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="install.stepmix_+3A_envname">envname</code></td>
<td>
<p>Name of the python environment. &quot;r-reticulate&quot; by
default.</p>
</td></tr>
<tr><td><code id="install.stepmix_+3A_method">method</code></td>
<td>
<p>installation method. See doc in reticulate</p>
</td></tr>
<tr><td><code id="install.stepmix_+3A_conda">conda</code></td>
<td>
<p>Path to a conda install. See doc in reticulate</p>
</td></tr>
<tr><td><code id="install.stepmix_+3A_pip">pip</code></td>
<td>
<p>Logical value to choose pip as the install method</p>
</td></tr>
<tr><td><code id="install.stepmix_+3A_...">...</code></td>
<td>
<p>Not used in function</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This methods installs stepmix in the python instance or environment
used by reticulate. It uses reticulate::py_install.  
</p>


<h3>Value</h3>

<p>It doesn't return anything.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>

<hr>
<h2 id='mixed_descriptor'>
Utility function for mixture using mixed description.  
</h2><span id='topic+mixed_descriptor'></span>

<h3>Description</h3>

<p>This function creates a data.frame ordered by continuous, binary and
categorical columns. It also creates a list used if the model uses
mixed column types.   
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mixed_descriptor(data, continuous = NULL, binary = NULL,
                 categorical = NULL, covariate = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mixed_descriptor_+3A_data">data</code></td>
<td>
<p>Data.frame with the mixed data</p>
</td></tr>
<tr><td><code id="mixed_descriptor_+3A_continuous">continuous</code></td>
<td>
<p>index or name of continuous column</p>
</td></tr>
<tr><td><code id="mixed_descriptor_+3A_binary">binary</code></td>
<td>
<p>index or name of binary column</p>
</td></tr>
<tr><td><code id="mixed_descriptor_+3A_categorical">categorical</code></td>
<td>
<p>index or name of categorical column</p>
</td></tr>
<tr><td><code id="mixed_descriptor_+3A_covariate">covariate</code></td>
<td>
<p>index or name of covariate column</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This methods returns a list of a data.frame sorted by continuous,
binary and categorical columns. It contains also a descriptor that can
be used in the measurement section. 
</p>


<h3>Value</h3>

<p>A list containing data and a descriptor.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>md &lt;- mixed_descriptor(iris, continuous = 1:4, categorical = 5)
</code></pre>

<hr>
<h2 id='predict.stepmix.stepmix.StepMix'>
Predict the membership (probabilities) using the fit of the stepmix python package. 
</h2><span id='topic+predict.stepmix.stepmix.StepMix'></span><span id='topic+predict_proba'></span><span id='topic+predict_proba.stepmix.stepmix.StepMix'></span>

<h3>Description</h3>

<p>Predict the membership (probabilities) of a mixture using a stepmix object in python using X and
optionally Y to the object.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'stepmix.stepmix.StepMix'
predict(object, X = NULL, Y = NULL, ...)
## S3 method for class 'stepmix.stepmix.StepMix'
predict_proba(object, X = NULL, Y = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.stepmix.stepmix.StepMix_+3A_object">object</code></td>
<td>
<p>An object created with the fit function.</p>
</td></tr>
<tr><td><code id="predict.stepmix.stepmix.StepMix_+3A_x">X</code></td>
<td>
<p>The X matrix or data.frame for the measurement part of the model</p>
</td></tr>
<tr><td><code id="predict.stepmix.stepmix.StepMix_+3A_y">Y</code></td>
<td>
<p>The Y matrix or data.frame for the structural part of the
model</p>
</td></tr> 
<tr><td><code id="predict.stepmix.stepmix.StepMix_+3A_...">...</code></td>
<td>
<p>not used in this function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector containing the membership (probabilities) of the mixture.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (reticulate::py_module_available("stepmix")) {
  require(stepmixr)
  model1 &lt;- stepmix(n_components = 3, n_steps = 2, measurement = "continuous", progress_bar = 0)
  X &lt;- iris[c(1:10, 51:60, 101:110), 1:4]
  fit1 &lt;- fit(model1, X)
  pr1 &lt;- predict(fit1, X)
}

## End(Not run)
</code></pre>

<hr>
<h2 id='savefit'>
Save the fit of a mixture using the stepmix python package. 
</h2><span id='topic+savefit'></span><span id='topic+loadfit'></span>

<h3>Description</h3>

<p>This function saves the stepmix fitted object in python using the
pickle package. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>savefit(fitx, f)
loadfit(f)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="savefit_+3A_fitx">fitx</code></td>
<td>
<p>An object created with the stepmix function.</p>
</td></tr>
<tr><td><code id="savefit_+3A_f">f</code></td>
<td>
<p>String indicating the name of the file</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This methods allows to save/load the stepmix object in a binary file using
the pickle package.  
</p>


<h3>Value</h3>

<p>A pointer to a python object of type StepMix.
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
if (reticulate::py_module_available("stepmix")) {
  model1 &lt;- stepmix(n_components = 2, n_steps = 3, progress_bar = 0)
  X &lt;- data.frame(x1 = c(0,1,1,1,1,0,0,0,0,0,1,1,0),
                  x2 = c(0,1,1,0,0,1,1,0,0,0,1,0,1))
  fit1 &lt;- fit(model1, X)
  savefit(fit1, "fit1.pickle")
  
  ### clean the directory.
  file.remove("fit1.pickle")
}

## End(Not run)
</code></pre>

<hr>
<h2 id='stepmix'>
R interface to stepmix in StepMix python. 
</h2><span id='topic+stepmix'></span>

<h3>Description</h3>

<p>This function creates a basic R list that will be used to initialize the
stepmix object in python, in order to use the fit and predict function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stepmix(n_components = 2, n_steps = 1, 
        measurement = "bernoulli", structural = "gaussian_unit",
        assignment = "modal", correction = NULL, 
        abs_tol = 1e-10, rel_tol = 0, max_iter = 1000,
        n_init = 1, init_params = "random", random_state = NULL,
        verbose = 0, progress_bar = 1, measurement_params = NULL,
        structural_params = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stepmix_+3A_n_components">n_components</code></td>
<td>
<p>The number of latent class. 2 by default.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_n_steps">n_steps</code></td>
<td>
<p>1, 2, or 3, 1 by default. 
Number of steps in the estimation. Must be one of :
1: run EM on both the measurement and structural models.
</p>
<p>2: first run EM on the measurement model, then on the complete
model, but keep the measurement parameters fixed for the second
step. See Bakk, 2018. 
</p>
<p>3: first run EM on the measurement model, assign class
probabilities, then fit the structural model via maximum
likelihood. See the correction parameter for bias correction.
</p>
<p>See Bakk &amp; Kuha (2018) for more details.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_measurement">measurement</code></td>
<td>
<p>String describing the measurement model. See
details for the different available model. The default model
is &quot;bernouilli&quot;</p>
</td></tr>
<tr><td><code id="stepmix_+3A_structural">structural</code></td>
<td>
<p>String describing the structural model. See
details for the different available model. The default model
is &quot;bernouilli&quot;</p>
</td></tr>
<tr><td><code id="stepmix_+3A_assignment">assignment</code></td>
<td>
<p>String indicating the type of class assignments for
3-step estimation, &quot;modal&quot; by default. Must be one of: 
</p>
<p>soft: keep class responsibilities (posterior probabilities) as is.
</p>
<p>modal: assign 1 to the class with max probability, 0 otherwise
(one-hot encoding).</p>
</td></tr>
<tr><td><code id="stepmix_+3A_correction">correction</code></td>
<td>
<p>Bias correction for 3-step estimation. Must be one of :
</p>
<p>None: No correction. Run Naive 3-step.
</p>
<p>BCH: Apply the empirical BCH correction from Vermunt, 2004.
</p>
<p>ML: Apply the ML correction from Vermunt, 2010, Bakk et al., 2013.
</p>
</td></tr>
<tr><td><code id="stepmix_+3A_abs_tol">abs_tol</code></td>
<td>
<p>The convergence threshold. EM iterations will stop
when the lower bound average gain is below this threshold. The
default value is 1e-3.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_rel_tol">rel_tol</code></td>
<td>
<p>The convergence threshold. EM iterations will stop
when the relative lower bound average gain is below this threshold.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_max_iter">max_iter</code></td>
<td>
<p>The number of EM iterations to perform.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_n_init">n_init</code></td>
<td>
<p>The number of initializations to perform. The best
results are kept.</p>
</td></tr> 
<tr><td><code id="stepmix_+3A_init_params">init_params</code></td>
<td>
<p>&quot;kmeans&quot;, or  &quot;random&quot;, default=&quot;random&quot;. The
method used to initialize the weights, the means and the
precisions. Must be one of: 
</p>
<p>kmeans : responsibilities are initialized using kmeans.
</p>
<p>random : responsibilities are initialized randomly.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_random_state">random_state</code></td>
<td>
<p>State instance or NULL, default=NULL. Controls the
random seed given to the method chosen to initialize the
parameters. Pass an int  for reproducible output across multiple
function calls.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_verbose">verbose</code></td>
<td>
<p>Default=0. Enable verbose output. If 1, will print
detailed report of the model and the performance metrics after
fitting.</p>
</td></tr>
<tr><td><code id="stepmix_+3A_progress_bar">progress_bar</code></td>
<td>
<p>Display a tqdm progress bar during fitting</p>
</td></tr>
<tr><td><code id="stepmix_+3A_measurement_params">measurement_params</code></td>
<td>
<p>Default=NULL, Additional params passed to
the measurement model class. Particularly useful to specify
optimization parameters for
stepmix.emission.covariate.Covariate. Ignored if the measurement
descriptor is a nested object (see stepmix.emission.nested.Nested).</p>
</td></tr>
<tr><td><code id="stepmix_+3A_structural_params">structural_params</code></td>
<td>
<p>Default=NULL, Additional params passed to
the structural model class. Particularly useful to specify
optimization parameters for
stepmix.emission.covariate.Covariate. Ignored if the structural
descriptor is a nested object (see stepmix.emission.nested.Nested).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The options for both the measurement and structural part are describe
here:
</p>
<p>bernoulli: The observed data consists of n_features bernoulli
(binary) random variables.
</p>
<p>bernoulli_nan: the observed data consists of n_features bernoulli
(binary) random variables. Supports missing values. 
</p>
<p>binary: alias for bernoulli.
</p>
<p>binary_nan: alias for bernoulli_nan.
</p>
<p>categorical: alias for multinoulli.
</p>
<p>categorical_nan: alias for multinoulli_nan.
</p>
<p>continuous: alias for gaussian diag.
</p>
<p>continuous_nan: alias for gaussian_diag_nan. supports missing values.
</p>
<p>covariate: covariate model where class probabilities are a multinomial
logistic model of the features. 
</p>
<p>gaussian: alias for gaussian_unit.
</p>
<p>gaussian_nan: alias for gaussian_unit. Supports missing values.
</p>
<p>gaussian_unit: each gaussian component has unit variance. Only fit the mean.
</p>
<p>gaussian_unit_nan: each gaussian component has unit variance. Only fit
the mean. Supports missing values. 
</p>
<p>gaussian_spherical: each gaussian component has its own single variance.
</p>
<p>gaussian_spherical_nan: each gaussian component has its own single
variance. Supports missing values. 
</p>
<p>gaussian_tied: all gaussian components share the same general covariance matrix.
</p>
<p>gaussian_diag: each gaussian component has its own diagonal covariance matrix.
</p>
<p>gaussian_diag_nan: each gaussian component has its own diagonal
covariance matrix. Supports missing values. 
</p>
<p>gaussian_full: each gaussian component has its own general covariance matrix.
</p>
<p>multinoulli: the observed data consists of n_features multinoulli
(categorical) random variables. 
</p>
<p>multinoulli_nan: the observed data consists of n_features multinoulli
(categorical) random variables. Supports missing values. 
</p>


<h3>Value</h3>

<p>It returns a list of type stepmixr that contains the arguments of the
object. 
</p>


<h3>Author(s)</h3>

<p>Éric Lacourse, 
Roxane de la Sablonnière,
Charles-Édouard Giguère,
Sacha Morin,
Robin Legault,
Félix Laliberté,
Zsusza Bakk
</p>


<h3>References</h3>

<p>Bolck, A., Croon, M., and Hagenaars, J. Estimating latent structure
models with categorical variables: One-step versus three-step
estimators. Political analysis, 12(1): 3-27, 2004. 
</p>
<p>Vermunt, J. K. Latent class modeling with covariates: Two improved
three-step approaches. Political analysis, 18 (4):450-469, 2010. 
</p>
<p>Bakk, Z., Tekle, F. B., and Vermunt, J. K. Estimating the association
between latent class membership and external variables using
bias-adjusted three-step approaches. Sociological Methodology,
43(1):272-311, 2013. 
</p>
<p>Bakk, Z. and Kuha, J. Two-step estimation of models between latent
classes and external variables. Psychometrika, 83(4):871-892, 2018 
</p>


<h3>See Also</h3>

<p><code><a href="#topic+fit">fit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
model1 &lt;- stepmix(n_components = 2, n_steps = 3) 

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ivgets</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ivgets}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ivgets-package'><p>ivgets: General to Specific Modeling and Indicator Saturation in 2SLS Models</p></a></li>
<li><a href='#artificial2sls'><p>Artificial data set for illustration.</p></a></li>
<li><a href='#artificial2sls_contaminated'><p>Artificial data set with outliers for illustration.</p></a></li>
<li><a href='#artificial2sls_shiny'><p>Artificial data set without outliers prepared for shiny application.</p></a></li>
<li><a href='#extract_variables'><p>Extract the first and second stage regressors of ivreg formula</p></a></li>
<li><a href='#factory_indicators'><p>Function factory for creating indicators from their names</p></a></li>
<li><a href='#gets.ivreg'><p>Gets modeling on an ivreg object</p></a></li>
<li><a href='#isat.ivreg'><p>Indicator saturation modeling on an ivreg object</p></a></li>
<li><a href='#ivDiag'><p>User diagnostics for getsFun() and isat()</p></a></li>
<li><a href='#ivgets'><p>General-to-specific modeling for 2SLS models</p></a></li>
<li><a href='#ivisat'><p>Indicator saturation modeling for 2SLS models</p></a></li>
<li><a href='#ivregFun'><p>User estimator ivreg for getsFun() and isat()</p></a></li>
<li><a href='#new_formula'><p>Takes ivreg formula and returns formula compatible with model selection</p></a></li>
<li><a href='#twosls'><p>2SLS estimator</p></a></li>
<li><a href='#twosls.alt'><p>2SLS estimator alternative</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>General to Specific Modeling and Indicator Saturation in 2SLS
Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides facilities of general to specific model selection for
    exogenous regressors in 2SLS models. Furthermore, indicator saturation
    methods can be used to detect outliers and structural breaks in the sample.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), gets (&ge; 0.38), ivreg</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, Formula, knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/jkurle/ivgets">https://github.com/jkurle/ivgets</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/jkurle/ivgets/issues">https://github.com/jkurle/ivgets/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-07-15 09:34:35 UTC; jonas</td>
</tr>
<tr>
<td>Author:</td>
<td>Kurle Jonas <a href="https://orcid.org/0000-0003-2197-2012"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kurle Jonas &lt;mail@jonaskurle.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-07-15 10:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ivgets-package'>ivgets: General to Specific Modeling and Indicator Saturation in 2SLS Models</h2><span id='topic+ivgets-package'></span>

<h3>Description</h3>

<p>Provides facilities of general to specific model selection for exogenous regressors in 2SLS models. Furthermore, indicator saturation methods can be used to detect outliers and structural breaks in the sample.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Kurle Jonas <a href="mailto:mail@jonaskurle.com">mail@jonaskurle.com</a> (<a href="https://orcid.org/0000-0003-2197-2012">ORCID</a>)
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/jkurle/ivgets">https://github.com/jkurle/ivgets</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/jkurle/ivgets/issues">https://github.com/jkurle/ivgets/issues</a>
</p>
</li></ul>


<hr>
<h2 id='artificial2sls'>Artificial data set for illustration.</h2><span id='topic+artificial2sls'></span>

<h3>Description</h3>

<p>A data set containing dependent variable, endogenous and exogenous
regressors, and excluded instruments for 2SLS models. The structural error is
also stored even though not observed in practice.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>artificial2sls
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 observations (rows) and 16 variables (columns):
</p>

<table>
<tr>
 <td style="text-align: right;">
<strong>name</strong> </td><td style="text-align: left;"> <strong>variable description</strong> </td>
</tr>
<tr>
 <td style="text-align: right;">
y </td><td style="text-align: left;"> dependent variable </td>
</tr>
<tr>
 <td style="text-align: right;">
x1 </td><td style="text-align: left;"> intercept </td>
</tr>
<tr>
 <td style="text-align: right;">
x2 </td><td style="text-align: left;"> relevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x3 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x4 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x5 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x6 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x7 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x8 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x9 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x10 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x11 </td><td style="text-align: left;"> relevant endogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
u </td><td style="text-align: left;"> structural error (in practice unobserved) </td>
</tr>
<tr>
 <td style="text-align: right;">
z11 </td><td style="text-align: left;"> excluded instrument </td>
</tr>
<tr>
 <td style="text-align: right;">
z12 </td><td style="text-align: left;"> excluded instrument </td>
</tr>
<tr>
 <td style="text-align: right;">
id </td><td style="text-align: left;"> unique observation identifier
</td>
</tr>

</table>


<hr>
<h2 id='artificial2sls_contaminated'>Artificial data set with outliers for illustration.</h2><span id='topic+artificial2sls_contaminated'></span>

<h3>Description</h3>

<p>A data set containing dependent variable, endogenous and exogenous
regressors, and excluded instruments for 2SLS models. The structural error is
also stored even though not observed in practice. Some errors are
contaminated, making these observations outliers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>artificial2sls_contaminated
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 observations (rows) and 16 variables (columns):
</p>

<table>
<tr>
 <td style="text-align: right;">
<strong>name</strong> </td><td style="text-align: left;"> <strong>variable description</strong> </td>
</tr>
<tr>
 <td style="text-align: right;">
y </td><td style="text-align: left;"> dependent variable </td>
</tr>
<tr>
 <td style="text-align: right;">
x1 </td><td style="text-align: left;"> intercept </td>
</tr>
<tr>
 <td style="text-align: right;">
x2 </td><td style="text-align: left;"> relevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x3 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x4 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x5 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x6 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x7 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x8 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x9 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x10 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x11 </td><td style="text-align: left;"> relevant endogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
u </td><td style="text-align: left;"> structural error (in practice unobserved) </td>
</tr>
<tr>
 <td style="text-align: right;">
z11 </td><td style="text-align: left;"> excluded instrument </td>
</tr>
<tr>
 <td style="text-align: right;">
z12 </td><td style="text-align: left;"> excluded instrument </td>
</tr>
<tr>
 <td style="text-align: right;">
id </td><td style="text-align: left;"> unique observation identifier
</td>
</tr>

</table>



<h3>Details</h3>

<p>The data frame has two additional attributes that store the indices
of the outliers, <code>"outliers"</code>, and their magnitudes
<code>"magnitude"</code>.
</p>

<hr>
<h2 id='artificial2sls_shiny'>Artificial data set without outliers prepared for shiny application.</h2><span id='topic+artificial2sls_shiny'></span>

<h3>Description</h3>

<p>Artificial data set without outliers prepared for shiny application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>artificial2sls_shiny
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 observations (rows) and 17 variables (columns):
</p>

<table>
<tr>
 <td style="text-align: right;">
<strong>name</strong> </td><td style="text-align: left;"> <strong>variable description</strong> </td>
</tr>
<tr>
 <td style="text-align: right;">
y </td><td style="text-align: left;"> dependent variable </td>
</tr>
<tr>
 <td style="text-align: right;">
x1 </td><td style="text-align: left;"> intercept </td>
</tr>
<tr>
 <td style="text-align: right;">
x2 </td><td style="text-align: left;"> relevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x3 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x4 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x5 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x6 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x7 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x8 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x9 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x10 </td><td style="text-align: left;"> irrelevant exogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
x11 </td><td style="text-align: left;"> relevant endogenous regressor </td>
</tr>
<tr>
 <td style="text-align: right;">
u </td><td style="text-align: left;"> structural error (in practice unobserved) </td>
</tr>
<tr>
 <td style="text-align: right;">
z11 </td><td style="text-align: left;"> excluded instrument </td>
</tr>
<tr>
 <td style="text-align: right;">
z12 </td><td style="text-align: left;"> excluded instrument </td>
</tr>
<tr>
 <td style="text-align: right;">
id </td><td style="text-align: left;"> unique observation identifier </td>
</tr>
<tr>
 <td style="text-align: right;">
is.outlier </td><td style="text-align: left;"> factor variable whether the observation is an outlier (<code>1</code>) or not (<code>0</code>)
</td>
</tr>

</table>


<hr>
<h2 id='extract_variables'>Extract the first and second stage regressors of ivreg formula</h2><span id='topic+extract_variables'></span>

<h3>Description</h3>

<p><code>extract_variables</code> takes a formula object for <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code>, i.e.
in a format of <code>y ~ x1 + x2 | x1 + z2</code> and extracts the different
elements in a list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_variables(formula)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_variables_+3A_formula">formula</code></td>
<td>
<p>A formula for the <a href="ivreg.html#topic+ivreg">ivreg::ivreg</a> function, i.e. in format
<code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>extract_variables</code> returns a list with three components:
<code>$yvar</code> stores the name of the dependent variable, <code>$first</code> the
names of the regressors of the first stage and <code>$second</code> the names of
the second stage regressors.
</p>

<hr>
<h2 id='factory_indicators'>Function factory for creating indicators from their names</h2><span id='topic+factory_indicators'></span>

<h3>Description</h3>

<p><code>factory_indicators</code> creates a function that takes the name of an
indicator and returns the corresponding indicator to be used in a regression.
For user-specified indicators, it extracts the corresponding column from the
uis matrix.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factory_indicators(n)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="factory_indicators_+3A_n">n</code></td>
<td>
<p>An integer specifying the length of the indicators.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Argument <code>n</code> should equal the number of observations in the
data set which will be augmented with the indicators.
</p>
<p>The created function takes a name of an indicator and the original uis
argument that was used in indicator saturation and returns the indicator.
</p>


<h3>Value</h3>

<p><code>factory_indicators</code> returns a function called <code>creator()</code>.
</p>

<hr>
<h2 id='gets.ivreg'>Gets modeling on an ivreg object</h2><span id='topic+gets.ivreg'></span>

<h3>Description</h3>

<p><code>gets.ivreg</code> conducts general-to-specific model selection on an ivreg
object returned by <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ivreg'
gets(
  x,
  gum.result = NULL,
  t.pval = 0.05,
  wald.pval = t.pval,
  do.pet = TRUE,
  ar.LjungB = NULL,
  arch.LjungB = NULL,
  normality.JarqueB = NULL,
  include.gum = FALSE,
  include.1cut = FALSE,
  include.empty = FALSE,
  max.paths = NULL,
  turbo = FALSE,
  tol = 1e-07,
  max.regs = NULL,
  print.searchinfo = TRUE,
  alarm = FALSE,
  keep_exog = NULL,
  overid = NULL,
  weak = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gets.ivreg_+3A_x">x</code></td>
<td>
<p>An object of class <code>"ivreg"</code>, as returned by
<code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code>.</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_gum.result">gum.result</code></td>
<td>
<p>a <code>list</code> with the estimation results of the General Unrestricted Model (GUM), or <code>NULL</code> (default). If the estimation results of the GUM are already available, then re-estimation of the GUM is skipped if the estimation results are provided via this argument</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_t.pval">t.pval</code></td>
<td>
<p><code>numeric</code> value between 0 and 1. The significance level used for the two-sided regressor significance t-tests </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_wald.pval">wald.pval</code></td>
<td>
<p><code>numeric</code> value between 0 and 1. The significance level used for the Parsimonious Encompassing Tests (PETs) </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_do.pet">do.pet</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> (default), then a Parsimonious Encompassing Test (PET) against the GUM is undertaken at each regressor removal for the joint significance of all the deleted regressors along the current path. If <code>FALSE</code>, then a PET is not undertaken at each regressor removal</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_ar.ljungb">ar.LjungB</code></td>
<td>
<p>a two element <code>vector</code> or <code>NULL</code> (default). In the former case, the first element contains the AR-order, the second element the significance level. If <code>NULL</code>, then a test for autocorrelation is not conducted</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_arch.ljungb">arch.LjungB</code></td>
<td>
<p>a two element <code>vector</code> or <code>NULL</code> (default). In the former case, the first element contains the ARCH-order, the second element the significance level. If <code>NULL</code>, then a test for ARCH is not conducted</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_normality.jarqueb">normality.JarqueB</code></td>
<td>
<p><code>NULL</code> or a <code>numeric</code> value between 0 and 1. In the latter case, a test for non-normality is conducted using a significance level equal to <code>normality.JarqueB</code>. If <code>NULL</code>, then no test for non-normality is conducted</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_include.gum">include.gum</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then the GUM (i.e. the starting model) is included among the terminal models. If <code>FALSE</code> (default), then the GUM is not included</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_include.1cut">include.1cut</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then the 1-cut model is added to the list of terminal models. If <code>FALSE</code> (default), then the 1-cut is not added, unless it is a terminal model in one of the paths </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_include.empty">include.empty</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then the empty model is added to the list of terminal models. If <code>FALSE</code> (default), then the empty model is not added, unless it is a terminal model in one of the paths </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_max.paths">max.paths</code></td>
<td>
<p><code>NULL</code> (default) or an integer equal to or greater than 0. If <code>NULL</code>, then there is no limit to the number of paths. If an integer, for example 1, then this integer constitutes the maximum number of paths searched </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_turbo">turbo</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then (parts of) paths are not searched twice (or more) unnecessarily, thus yielding a significant potential for speed-gain. However, the checking of whether the search has arrived at a point it has already been comes with a slight computational overhead. Accordingly, if <code>turbo=TRUE</code>, then the total search time might in fact be higher than if <code>turbo=FALSE</code>. This happens if estimation is very fast, say, less than quarter of a second. Hence the default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_tol">tol</code></td>
<td>
<p>numeric value (<code>default = 1e-07</code>). The tolerance for detecting linear dependencies in the columns of the variance-covariance matrix when computing the Wald-statistic used in the Parsimonious Encompassing Tests (PETs), see the <code><a href="base.html#topic+qr.solve">qr.solve</a></code> function</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_max.regs">max.regs</code></td>
<td>
<p><code>integer</code>. The maximum number of regressions along a deletion path. Do not alter unless you know what you are doing! </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_print.searchinfo">print.searchinfo</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> (default), then a print is returned whenever simiplification along a new path is started</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_alarm">alarm</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then a sound or beep is emitted (in order to alert the user) when the model selection ends </p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_keep_exog">keep_exog</code></td>
<td>
<p>A numeric vector of indices or a character vector of names
corresponding to the exogenous regressors in the <code>data</code> that should not
be selected over. Default <code>NULL</code> means that selection is over all
exogenous regressors. If an intercept has been specified in the
<code>formula</code> but is not already included in the <code>data</code>, then it can be
kept by either including the index <code>0</code> or the character
<code>"Intercept"</code>, respectively, as an element in <code>keep_exog</code>.</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_overid">overid</code></td>
<td>
<p><code>NULL</code> if no Sargan test of overidentifying restrictions
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_weak">weak</code></td>
<td>
<p><code>NULL</code> if no weak instrument F-test on the first stage
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="gets.ivreg_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of class <code>"ivgets"</code> with three named elements.
<code>$selection</code> stores the selection results from
<code><a href="gets.html#topic+getsFun">getsFun</a></code> (including paths, terminal models, and best
specification). <code>$final</code> stores the <code><a href="ivreg.html#topic+ivreg">ivreg</a></code> model
object of the best specification or <code>NULL</code> if the GUM does not pass
all diagnostics. <code>$keep</code> stores the names of the regressors that were
not selected over, including the endogenous regressors, which are always
kept.
</p>

<hr>
<h2 id='isat.ivreg'>Indicator saturation modeling on an ivreg object</h2><span id='topic+isat.ivreg'></span>

<h3>Description</h3>

<p><code>isat.ivreg</code> conducts indicator saturation model selection on an ivreg
object returned by <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'ivreg'
isat(
  y,
  iis = TRUE,
  sis = FALSE,
  tis = FALSE,
  uis = FALSE,
  blocks = NULL,
  ratio.threshold = 0.8,
  max.block.size = 30,
  t.pval = 1/NROW(data),
  wald.pval = t.pval,
  do.pet = FALSE,
  ar.LjungB = NULL,
  arch.LjungB = NULL,
  normality.JarqueB = NULL,
  info.method = c("sc", "aic", "hq"),
  include.1cut = FALSE,
  include.empty = FALSE,
  max.paths = NULL,
  parallel.options = NULL,
  turbo = FALSE,
  tol = 1e-07,
  max.regs = NULL,
  print.searchinfo = TRUE,
  plot = NULL,
  alarm = FALSE,
  overid = NULL,
  weak = NULL,
  fast = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="isat.ivreg_+3A_y">y</code></td>
<td>
<p>An object of class <code>"ivreg"</code>, as returned by
<code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code>.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_iis">iis</code></td>
<td>
<p>logical. If <code>TRUE</code>, impulse indicator saturation is performed.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_sis">sis</code></td>
<td>
<p>logical. If <code>TRUE</code>, step indicator saturation is performed.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_tis">tis</code></td>
<td>
<p>logical. If <code>TRUE</code>, trend indicator saturation is performed.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_uis">uis</code></td>
<td>
<p>a matrix of regressors, or a list of matrices. If a list, the
matrices must have named columns that should not overlap with column names
of any other matrices in the list.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_blocks">blocks</code></td>
<td>
<p><code>NULL</code> (default), an integer (the number of blocks) or a user-specified <code>list</code> that indicates how blocks should be put together. If <code>NULL</code>, then the number of blocks is determined automatically</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_ratio.threshold">ratio.threshold</code></td>
<td>
<p>Minimum ratio of variables in each block to total observations to determine the block size, default=0.8. Only relevant if blocks = <code>NULL</code> </p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_max.block.size">max.block.size</code></td>
<td>
<p>Maximum size of block of variables to be selected over, default=30. Block size used is the maximum of given by either the ratio.threshold and max.block.size </p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_t.pval">t.pval</code></td>
<td>
<p>numeric value between 0 and 1. The significance level used for the two-sided regressor significance t-tests</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_wald.pval">wald.pval</code></td>
<td>
<p>numeric value between 0 and 1. The significance level used for the Parsimonious Encompassing Tests (PETs)</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_do.pet">do.pet</code></td>
<td>
<p>logical. If <code>TRUE</code>, then a Parsimonious Encompassing Test (PET) against the GUM is undertaken at each regressor removal for the joint significance of all the deleted regressors along the current path. If FALSE (default), then a PET is not undertaken at each regressor removal. By default, the numeric value is the same as that of <code>t.pval</code></p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_ar.ljungb">ar.LjungB</code></td>
<td>
<p>a two-item list with names <code>lag</code> and <code>pval</code>, or NULL (default). In the former case <code>lag</code> contains the order of the Ljung and Box (1979) test for serial correlation in the standardised residuals, and <code>pval</code> contains the significance level. If <code>lag=NULL</code> (default), then the order used is that of the estimated 'arx' object. If <code>ar.Ljungb=NULL</code>, then the standardised residuals are not checked for serial correlation</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_arch.ljungb">arch.LjungB</code></td>
<td>
<p>a two-item list with names <code>lag</code> and <code>pval</code>, or NULL (default). In the former case, <code>lag</code> contains the order of the Ljung and Box (1979) test for serial correlation in the squared standardised residuals, and <code>pval</code> contains the significance level. If <code>lag=NULL</code> (default), then the order used is that of the estimated 'arx' object. If <code>arch.Ljungb=NULL</code>, then the standardised residuals are not checked for ARCH</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_normality.jarqueb">normality.JarqueB</code></td>
<td>
<p><code>NULL</code> (the default) or a value between 0 and 1. In the latter case, a test for non-normality is conducted using a significance level equal to <code>normality.JarqueB</code>. If <code>NULL</code>, then no test for non-normality is conducted</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_info.method">info.method</code></td>
<td>
<p>character string, &quot;sc&quot; (default), &quot;aic&quot; or &quot;hq&quot;, which determines the information criterion to be used when selecting among terminal models. The abbreviations are short for the Schwarz or Bayesian information criterion (sc), the Akaike information criterion (aic) and the Hannan-Quinn (hq) information criterion</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_include.1cut">include.1cut</code></td>
<td>
<p>logical. If <code>TRUE</code>, then the 1-cut model is included among the terminal models, if it passes the diagnostic tests, even if it is not equal to one of the terminals. If FALSE (default), then the 1-cut model is not included (unless it is one of the terminals)</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_include.empty">include.empty</code></td>
<td>
<p>logical. If <code>TRUE</code>, then an empty model is included among the terminal models, if it passes the diagnostic tests, even if it is not equal to one of the terminals. If FALSE (default), then the empty model is not included (unless it is one of the terminals)</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_max.paths">max.paths</code></td>
<td>
<p><code>NULL</code> (default) or an integer indicating the maximum number of paths to search</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_parallel.options">parallel.options</code></td>
<td>
<p><code>NULL</code> or an integer, i.e. the number of cores/threads to be used for parallel computing (implemented w/<code>makeCluster</code> and <code>parLapply</code>)</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_turbo">turbo</code></td>
<td>
<p>logical. If <code>TRUE</code>, then (parts of) paths are not searched twice (or more) unnecessarily, thus yielding a significant potential for speed-gain. However, the checking of whether the search has arrived at a point it has already been comes with a slight computational overhead. Accordingly, if <code>turbo=TRUE</code>, then the total search time might in fact be higher than if <code>turbo=FALSE</code>. This happens if estimation is very fast, say, less than quarter of a second. Hence the default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_tol">tol</code></td>
<td>
<p>numeric value (default = 1e-07). The tolerance for detecting linear dependencies in the columns of the regressors (see <code><a href="base.html#topic+qr">qr</a></code> function). Only used if LAPACK is FALSE (default)</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_max.regs">max.regs</code></td>
<td>
<p>integer. The maximum number of regressions along a deletion path. It is not recommended that this is altered</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_print.searchinfo">print.searchinfo</code></td>
<td>
<p>logical. If <code>TRUE</code> (default), then a print is returned whenever simiplification along a new path is started, and whenever regressors are dropped due to exact multicolinearity</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_plot">plot</code></td>
<td>
<p>NULL or logical. If <code>TRUE</code>, then the fitted values and the residuals of the final model are plotted after model selection. If NULL (default), then the value set by <code><a href="base.html#topic+options">options</a></code> determines whether a plot is produced or not.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_alarm">alarm</code></td>
<td>
<p>logical. If <code>TRUE</code>, then a sound is emitted (in order to alert the user) when the model selection ends</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_overid">overid</code></td>
<td>
<p><code>NULL</code> if no Sargan test of overidentifying restrictions
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_weak">weak</code></td>
<td>
<p><code>NULL</code> if no weak instrument F-test on the first stage
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_fast">fast</code></td>
<td>
<p>A logical value indicating whether to speed up the 2SLS
estimation but providing less details. Requires <code>overid == NULL</code> and
<code>weak == NULL</code>.</p>
</td></tr>
<tr><td><code id="isat.ivreg_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of class <code>"ivisat"</code> with two named elements.
<code>$selection</code> stores the selection results from
<code><a href="gets.html#topic+isat">isat</a></code> (including paths, terminal models, and best
specification). <code>$final</code> stores the <code><a href="ivreg.html#topic+ivreg">ivreg</a></code> model
object of the best specification or <code>NULL</code> if the GUM does not pass
all diagnostics.
</p>

<hr>
<h2 id='ivDiag'>User diagnostics for getsFun() and isat()</h2><span id='topic+ivDiag'></span>

<h3>Description</h3>

<p><code>ivDiag</code> provides several diagnostic tests for 2SLS models that can be
used during model selection. Currently, a weak instrument F-test of the first
stage(s) and the Sargan test of overidentifying restrictions on the validity
of the instruments are implemented.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ivDiag(x, weak = FALSE, overid = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ivDiag_+3A_x">x</code></td>
<td>
<p>A list containing the estimation results of the 2SLS model. Must
contain an entry <code>$diag</code> that contains the diagnostics provided by the
<code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code> command.</p>
</td></tr>
<tr><td><code id="ivDiag_+3A_weak">weak</code></td>
<td>
<p>A logical value whether to conduct weak instrument tests.</p>
</td></tr>
<tr><td><code id="ivDiag_+3A_overid">overid</code></td>
<td>
<p>A logical value whether to conduct the Sargan test of
overidentifying restrictions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The resulting matrix also has an attribute named
<code>"is.reject.bad"</code>, which is a logical vector of length <em>m</em>. Each
entry records whether a rejection of the test means that the diagnostics
have failed or vice versa. The first entry refers to the first row, the
second entry to the second row etc. However, this attribute is not used in
the following estimations. Instead, the decision rule is specified inside
the <code>user.fun</code> argument of <code><a href="gets.html#topic+diagnostics">gets::diagnostics()</a></code>, which allows for a
named entry <code>$is.reject.bad</code>.
</p>


<h3>Value</h3>

<p>Returns a matrix with three columns named <code>"statistic"</code>,
<code>"df"</code>, and <code>"p-value"</code> and <em>m</em> rows. Each row records these
results for one of the tests, so the number of rows varies by the arguments
specified and the model (e.g. how many first stages equations there are).
</p>

<hr>
<h2 id='ivgets'>General-to-specific modeling for 2SLS models</h2><span id='topic+ivgets'></span>

<h3>Description</h3>

<p>General-to-specific modeling for 2SLS models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ivgets(
  formula,
  data,
  gum.result = NULL,
  t.pval = 0.05,
  wald.pval = t.pval,
  do.pet = TRUE,
  ar.LjungB = NULL,
  arch.LjungB = NULL,
  normality.JarqueB = NULL,
  include.gum = FALSE,
  include.1cut = FALSE,
  include.empty = FALSE,
  max.paths = NULL,
  turbo = FALSE,
  tol = 1e-07,
  max.regs = NULL,
  print.searchinfo = TRUE,
  alarm = FALSE,
  keep_exog = NULL,
  overid = NULL,
  weak = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ivgets_+3A_formula">formula</code></td>
<td>
<p>A formula in the format <code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
<tr><td><code id="ivgets_+3A_data">data</code></td>
<td>
<p>A data frame with all necessary variables y, x, and z.</p>
</td></tr>
<tr><td><code id="ivgets_+3A_gum.result">gum.result</code></td>
<td>
<p>a <code>list</code> with the estimation results of the General Unrestricted Model (GUM), or <code>NULL</code> (default). If the estimation results of the GUM are already available, then re-estimation of the GUM is skipped if the estimation results are provided via this argument</p>
</td></tr>
<tr><td><code id="ivgets_+3A_t.pval">t.pval</code></td>
<td>
<p><code>numeric</code> value between 0 and 1. The significance level used for the two-sided regressor significance t-tests </p>
</td></tr>
<tr><td><code id="ivgets_+3A_wald.pval">wald.pval</code></td>
<td>
<p><code>numeric</code> value between 0 and 1. The significance level used for the Parsimonious Encompassing Tests (PETs) </p>
</td></tr>
<tr><td><code id="ivgets_+3A_do.pet">do.pet</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> (default), then a Parsimonious Encompassing Test (PET) against the GUM is undertaken at each regressor removal for the joint significance of all the deleted regressors along the current path. If <code>FALSE</code>, then a PET is not undertaken at each regressor removal</p>
</td></tr>
<tr><td><code id="ivgets_+3A_ar.ljungb">ar.LjungB</code></td>
<td>
<p>a two element <code>vector</code> or <code>NULL</code> (default). In the former case, the first element contains the AR-order, the second element the significance level. If <code>NULL</code>, then a test for autocorrelation is not conducted</p>
</td></tr>
<tr><td><code id="ivgets_+3A_arch.ljungb">arch.LjungB</code></td>
<td>
<p>a two element <code>vector</code> or <code>NULL</code> (default). In the former case, the first element contains the ARCH-order, the second element the significance level. If <code>NULL</code>, then a test for ARCH is not conducted</p>
</td></tr>
<tr><td><code id="ivgets_+3A_normality.jarqueb">normality.JarqueB</code></td>
<td>
<p><code>NULL</code> or a <code>numeric</code> value between 0 and 1. In the latter case, a test for non-normality is conducted using a significance level equal to <code>normality.JarqueB</code>. If <code>NULL</code>, then no test for non-normality is conducted</p>
</td></tr>
<tr><td><code id="ivgets_+3A_include.gum">include.gum</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then the GUM (i.e. the starting model) is included among the terminal models. If <code>FALSE</code> (default), then the GUM is not included</p>
</td></tr>
<tr><td><code id="ivgets_+3A_include.1cut">include.1cut</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then the 1-cut model is added to the list of terminal models. If <code>FALSE</code> (default), then the 1-cut is not added, unless it is a terminal model in one of the paths </p>
</td></tr>
<tr><td><code id="ivgets_+3A_include.empty">include.empty</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then the empty model is added to the list of terminal models. If <code>FALSE</code> (default), then the empty model is not added, unless it is a terminal model in one of the paths </p>
</td></tr>
<tr><td><code id="ivgets_+3A_max.paths">max.paths</code></td>
<td>
<p><code>NULL</code> (default) or an integer equal to or greater than 0. If <code>NULL</code>, then there is no limit to the number of paths. If an integer, for example 1, then this integer constitutes the maximum number of paths searched </p>
</td></tr>
<tr><td><code id="ivgets_+3A_turbo">turbo</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then (parts of) paths are not searched twice (or more) unnecessarily, thus yielding a significant potential for speed-gain. However, the checking of whether the search has arrived at a point it has already been comes with a slight computational overhead. Accordingly, if <code>turbo=TRUE</code>, then the total search time might in fact be higher than if <code>turbo=FALSE</code>. This happens if estimation is very fast, say, less than quarter of a second. Hence the default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="ivgets_+3A_tol">tol</code></td>
<td>
<p>numeric value (<code>default = 1e-07</code>). The tolerance for detecting linear dependencies in the columns of the variance-covariance matrix when computing the Wald-statistic used in the Parsimonious Encompassing Tests (PETs), see the <code><a href="base.html#topic+qr.solve">qr.solve</a></code> function</p>
</td></tr>
<tr><td><code id="ivgets_+3A_max.regs">max.regs</code></td>
<td>
<p><code>integer</code>. The maximum number of regressions along a deletion path. Do not alter unless you know what you are doing! </p>
</td></tr>
<tr><td><code id="ivgets_+3A_print.searchinfo">print.searchinfo</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code> (default), then a print is returned whenever simiplification along a new path is started</p>
</td></tr>
<tr><td><code id="ivgets_+3A_alarm">alarm</code></td>
<td>
<p><code>logical</code>. If <code>TRUE</code>, then a sound or beep is emitted (in order to alert the user) when the model selection ends </p>
</td></tr>
<tr><td><code id="ivgets_+3A_keep_exog">keep_exog</code></td>
<td>
<p>A numeric vector of indices or a character vector of names
corresponding to the exogenous regressors in the <code>data</code> that should not
be selected over. Default <code>NULL</code> means that selection is over all
exogenous regressors. If an intercept has been specified in the
<code>formula</code> but is not already included in the <code>data</code>, then it can be
kept by either including the index <code>0</code> or the character
<code>"Intercept"</code>, respectively, as an element in <code>keep_exog</code>.</p>
</td></tr>
<tr><td><code id="ivgets_+3A_overid">overid</code></td>
<td>
<p><code>NULL</code> if no Sargan test of overidentifying restrictions
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="ivgets_+3A_weak">weak</code></td>
<td>
<p><code>NULL</code> if no weak instrument F-test on the first stage
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of class <code>"ivgets"</code> with three named elements.
<code>$selection</code> stores the selection results from
<code><a href="gets.html#topic+getsFun">getsFun</a></code> (including paths, terminal models, and best
specification). <code>$final</code> stores the <code><a href="ivreg.html#topic+ivreg">ivreg</a></code> model
object of the best specification or <code>NULL</code> if the GUM does not pass
all diagnostics. <code>$keep</code> stores the names of the regressors that were
not selected over, including the endogenous regressors, which are always
kept.
</p>

<hr>
<h2 id='ivisat'>Indicator saturation modeling for 2SLS models</h2><span id='topic+ivisat'></span>

<h3>Description</h3>

<p>Indicator saturation modeling for 2SLS models
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ivisat(
  formula,
  data,
  iis = TRUE,
  sis = FALSE,
  tis = FALSE,
  uis = FALSE,
  blocks = NULL,
  ratio.threshold = 0.8,
  max.block.size = 30,
  t.pval = 1/NROW(data),
  wald.pval = t.pval,
  do.pet = FALSE,
  ar.LjungB = NULL,
  arch.LjungB = NULL,
  normality.JarqueB = NULL,
  info.method = c("sc", "aic", "hq"),
  include.1cut = FALSE,
  include.empty = FALSE,
  max.paths = NULL,
  parallel.options = NULL,
  turbo = FALSE,
  tol = 1e-07,
  max.regs = NULL,
  print.searchinfo = TRUE,
  plot = NULL,
  alarm = FALSE,
  overid = NULL,
  weak = NULL,
  fast = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ivisat_+3A_formula">formula</code></td>
<td>
<p>A formula in the format <code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_data">data</code></td>
<td>
<p>A data frame with all necessary variables y, x, and z.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_iis">iis</code></td>
<td>
<p>logical. If <code>TRUE</code>, impulse indicator saturation is performed.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_sis">sis</code></td>
<td>
<p>logical. If <code>TRUE</code>, step indicator saturation is performed.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_tis">tis</code></td>
<td>
<p>logical. If <code>TRUE</code>, trend indicator saturation is performed.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_uis">uis</code></td>
<td>
<p>a matrix of regressors, or a list of matrices. If a list, the
matrices must have named columns that should not overlap with column names
of any other matrices in the list.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_blocks">blocks</code></td>
<td>
<p><code>NULL</code> (default), an integer (the number of blocks) or a user-specified <code>list</code> that indicates how blocks should be put together. If <code>NULL</code>, then the number of blocks is determined automatically</p>
</td></tr>
<tr><td><code id="ivisat_+3A_ratio.threshold">ratio.threshold</code></td>
<td>
<p>Minimum ratio of variables in each block to total observations to determine the block size, default=0.8. Only relevant if blocks = <code>NULL</code> </p>
</td></tr>
<tr><td><code id="ivisat_+3A_max.block.size">max.block.size</code></td>
<td>
<p>Maximum size of block of variables to be selected over, default=30. Block size used is the maximum of given by either the ratio.threshold and max.block.size </p>
</td></tr>
<tr><td><code id="ivisat_+3A_t.pval">t.pval</code></td>
<td>
<p>numeric value between 0 and 1. The significance level used for the two-sided regressor significance t-tests</p>
</td></tr>
<tr><td><code id="ivisat_+3A_wald.pval">wald.pval</code></td>
<td>
<p>numeric value between 0 and 1. The significance level used for the Parsimonious Encompassing Tests (PETs)</p>
</td></tr>
<tr><td><code id="ivisat_+3A_do.pet">do.pet</code></td>
<td>
<p>logical. If <code>TRUE</code>, then a Parsimonious Encompassing Test (PET) against the GUM is undertaken at each regressor removal for the joint significance of all the deleted regressors along the current path. If FALSE (default), then a PET is not undertaken at each regressor removal. By default, the numeric value is the same as that of <code>t.pval</code></p>
</td></tr>
<tr><td><code id="ivisat_+3A_ar.ljungb">ar.LjungB</code></td>
<td>
<p>a two-item list with names <code>lag</code> and <code>pval</code>, or NULL (default). In the former case <code>lag</code> contains the order of the Ljung and Box (1979) test for serial correlation in the standardised residuals, and <code>pval</code> contains the significance level. If <code>lag=NULL</code> (default), then the order used is that of the estimated 'arx' object. If <code>ar.Ljungb=NULL</code>, then the standardised residuals are not checked for serial correlation</p>
</td></tr>
<tr><td><code id="ivisat_+3A_arch.ljungb">arch.LjungB</code></td>
<td>
<p>a two-item list with names <code>lag</code> and <code>pval</code>, or NULL (default). In the former case, <code>lag</code> contains the order of the Ljung and Box (1979) test for serial correlation in the squared standardised residuals, and <code>pval</code> contains the significance level. If <code>lag=NULL</code> (default), then the order used is that of the estimated 'arx' object. If <code>arch.Ljungb=NULL</code>, then the standardised residuals are not checked for ARCH</p>
</td></tr>
<tr><td><code id="ivisat_+3A_normality.jarqueb">normality.JarqueB</code></td>
<td>
<p><code>NULL</code> (the default) or a value between 0 and 1. In the latter case, a test for non-normality is conducted using a significance level equal to <code>normality.JarqueB</code>. If <code>NULL</code>, then no test for non-normality is conducted</p>
</td></tr>
<tr><td><code id="ivisat_+3A_info.method">info.method</code></td>
<td>
<p>character string, &quot;sc&quot; (default), &quot;aic&quot; or &quot;hq&quot;, which determines the information criterion to be used when selecting among terminal models. The abbreviations are short for the Schwarz or Bayesian information criterion (sc), the Akaike information criterion (aic) and the Hannan-Quinn (hq) information criterion</p>
</td></tr>
<tr><td><code id="ivisat_+3A_include.1cut">include.1cut</code></td>
<td>
<p>logical. If <code>TRUE</code>, then the 1-cut model is included among the terminal models, if it passes the diagnostic tests, even if it is not equal to one of the terminals. If FALSE (default), then the 1-cut model is not included (unless it is one of the terminals)</p>
</td></tr>
<tr><td><code id="ivisat_+3A_include.empty">include.empty</code></td>
<td>
<p>logical. If <code>TRUE</code>, then an empty model is included among the terminal models, if it passes the diagnostic tests, even if it is not equal to one of the terminals. If FALSE (default), then the empty model is not included (unless it is one of the terminals)</p>
</td></tr>
<tr><td><code id="ivisat_+3A_max.paths">max.paths</code></td>
<td>
<p><code>NULL</code> (default) or an integer indicating the maximum number of paths to search</p>
</td></tr>
<tr><td><code id="ivisat_+3A_parallel.options">parallel.options</code></td>
<td>
<p><code>NULL</code> or an integer, i.e. the number of cores/threads to be used for parallel computing (implemented w/<code>makeCluster</code> and <code>parLapply</code>)</p>
</td></tr>
<tr><td><code id="ivisat_+3A_turbo">turbo</code></td>
<td>
<p>logical. If <code>TRUE</code>, then (parts of) paths are not searched twice (or more) unnecessarily, thus yielding a significant potential for speed-gain. However, the checking of whether the search has arrived at a point it has already been comes with a slight computational overhead. Accordingly, if <code>turbo=TRUE</code>, then the total search time might in fact be higher than if <code>turbo=FALSE</code>. This happens if estimation is very fast, say, less than quarter of a second. Hence the default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="ivisat_+3A_tol">tol</code></td>
<td>
<p>numeric value (default = 1e-07). The tolerance for detecting linear dependencies in the columns of the regressors (see <code><a href="base.html#topic+qr">qr</a></code> function). Only used if LAPACK is FALSE (default)</p>
</td></tr>
<tr><td><code id="ivisat_+3A_max.regs">max.regs</code></td>
<td>
<p>integer. The maximum number of regressions along a deletion path. It is not recommended that this is altered</p>
</td></tr>
<tr><td><code id="ivisat_+3A_print.searchinfo">print.searchinfo</code></td>
<td>
<p>logical. If <code>TRUE</code> (default), then a print is returned whenever simiplification along a new path is started, and whenever regressors are dropped due to exact multicolinearity</p>
</td></tr>
<tr><td><code id="ivisat_+3A_plot">plot</code></td>
<td>
<p>NULL or logical. If <code>TRUE</code>, then the fitted values and the residuals of the final model are plotted after model selection. If NULL (default), then the value set by <code><a href="base.html#topic+options">options</a></code> determines whether a plot is produced or not.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_alarm">alarm</code></td>
<td>
<p>logical. If <code>TRUE</code>, then a sound is emitted (in order to alert the user) when the model selection ends</p>
</td></tr>
<tr><td><code id="ivisat_+3A_overid">overid</code></td>
<td>
<p><code>NULL</code> if no Sargan test of overidentifying restrictions
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_weak">weak</code></td>
<td>
<p><code>NULL</code> if no weak instrument F-test on the first stage
should be used as a diagnostic check for model selection or a numeric value
between 0 and 1. In the latter case, the test is conducted using this value
as the significance level.</p>
</td></tr>
<tr><td><code id="ivisat_+3A_fast">fast</code></td>
<td>
<p>A logical value indicating whether to speed up the 2SLS
estimation but providing less details. Requires <code>overid == NULL</code> and
<code>weak == NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list of class <code>"ivisat"</code> with two named elements.
<code>$selection</code> stores the selection results from
<code><a href="gets.html#topic+isat">isat</a></code> (including paths, terminal models, and best
specification). <code>$final</code> stores the <code><a href="ivreg.html#topic+ivreg">ivreg</a></code> model
object of the best specification or <code>NULL</code> if the GUM does not pass
all diagnostics.
</p>

<hr>
<h2 id='ivregFun'>User estimator ivreg for getsFun() and isat()</h2><span id='topic+ivregFun'></span>

<h3>Description</h3>

<p><code>ivregFun</code> calls <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code> in a format that is suitable for the
model selection function <code><a href="gets.html#topic+getsFun">gets::getsFun()</a></code> and for the indicator saturation
function <code><a href="gets.html#topic+isat">gets::isat()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ivregFun(y, x, z, formula, tests, fast = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ivregFun_+3A_y">y</code></td>
<td>
<p>A numeric vector with no missing values.</p>
</td></tr>
<tr><td><code id="ivregFun_+3A_x">x</code></td>
<td>
<p>A matrix or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ivregFun_+3A_z">z</code></td>
<td>
<p>A numeric vector or matrix.</p>
</td></tr>
<tr><td><code id="ivregFun_+3A_formula">formula</code></td>
<td>
<p>A formula in the format <code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
<tr><td><code id="ivregFun_+3A_tests">tests</code></td>
<td>
<p>A logical value whether to calculate the
<code><a href="ivreg.html#topic+ivregMethods">ivreg::summary.ivreg()</a></code> diagnostics.</p>
</td></tr>
<tr><td><code id="ivregFun_+3A_fast">fast</code></td>
<td>
<p>A logical value whether to speed up the 2SLS estimation but
providing less details. Requires <code>tests == FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For the required outputs of user-specified estimators, see the
article &quot;User-Specified General-to-Specific and Indicator Saturation
Methods&quot; by Genaro Sucarrat, published in the R Journal:
<a href="https://journal.r-project.org/archive/2021/RJ-2021-024/index.html">https://journal.r-project.org/archive/2021/RJ-2021-024/index.html</a>
</p>


<h3>Value</h3>

<p>A list with entries needed for model selection via <code><a href="gets.html#topic+getsFun">gets::getsFun()</a></code>
or <code><a href="gets.html#topic+isat">gets::isat()</a></code>.
</p>

<hr>
<h2 id='new_formula'>Takes ivreg formula and returns formula compatible with model selection</h2><span id='topic+new_formula'></span>

<h3>Description</h3>

<p><code>new_formula</code> takes a formula object for <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code>, i.e. in a
format of <code>y ~ x1 + x2 | x1 + z2</code>, and returns a list with element
suitable for model selection. For example, it updates the data by creating
an intercept if specified in the formula, checks for collinearity among the
regressors, and updates the formula accordingly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_formula(formula, data, keep_exog)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_formula_+3A_formula">formula</code></td>
<td>
<p>A formula for the <a href="ivreg.html#topic+ivreg">ivreg::ivreg</a> function, i.e. in format
<code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
<tr><td><code id="new_formula_+3A_data">data</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="new_formula_+3A_keep_exog">keep_exog</code></td>
<td>
<p>A numeric vector of indices or a character vector of names
corresponding to the exogenous regressors in the <code>data</code> that should not
be selected over. Default <code>NULL</code> means that selection is over all
exogenous regressors. If an intercept has been specified in the
<code>formula</code> but is not already included in the <code>data</code>, then it can be
kept by either including the index <code>0</code> or the character
<code>"Intercept"</code>, respectively, as an element in <code>keep_exog</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with several named elements. Component <code>$fml</code> stores the
new baseline formula that will be used for model selection. Components
<code>y</code>, <code>x</code>, and <code>z</code> store the data of the dependent variable,
structural regressors, and excluded instruments. The entries
<code>$depvar</code>, <code>$x1</code>, <code>$x2</code>, <code>$z1</code>, and <code>$z2</code> contain
the names of the dependent variable, endogenous and exogenous regressors,
included and excluded instruments. <code>$dx1</code>, <code>$dx2</code>, <code>$dz1</code>,
<code>$dz2</code> store the dimensions of the respective variables. Finally,
<code>$keep</code> and <code>$keep.names</code> contain the indices and names of the
regressors that will not be selected over.
</p>

<hr>
<h2 id='twosls'>2SLS estimator</h2><span id='topic+twosls'></span>

<h3>Description</h3>

<p>2SLS estimator that does not allow for weights, offset, other methods than
2SLS, and does not calculate influence statistics. Supposedly faster but
returns little output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>twosls(formula, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="twosls_+3A_formula">formula</code></td>
<td>
<p>A formula in the format <code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
<tr><td><code id="twosls_+3A_data">data</code></td>
<td>
<p>A data frame with all necessary variables y, x, and z.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>twosls()</code> returns a list with eight names elements:
<code>$coefficients</code> stores the coefficient estimates of the second stage,
<code>$residuals</code> the residuals of the structural equation (i.e. using X
and not Xhat), <code>$fitted.values</code> the fitted values of the second stage,
<code>$n</code> and <code>$nobs</code> the sample size, <code>$k</code> the number of
regressors in the structural equation, <code>$cov.unscaled</code> the unscaled
variance-covariance matrix, and <code>$sigma</code> the degrees-of-freedom
adjusted equation standard error.
</p>


<h3>WARNING</h3>

<p>The return value is given class <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code> but it is not a true
<code>"ivreg"</code> object. This does not pose any problems for internal use but
should not be used outside of its usage in its current form. The class
assignment is likely to change in the future.
</p>

<hr>
<h2 id='twosls.alt'>2SLS estimator alternative</h2><span id='topic+twosls.alt'></span>

<h3>Description</h3>

<p>Test whether is faster than <code><a href="#topic+twosls">twosls()</a></code> but this does not seem to be
the case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>twosls.alt(formula, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="twosls.alt_+3A_formula">formula</code></td>
<td>
<p>A formula in the format <code>y ~ x1 + x2 | z1 + z2</code>.</p>
</td></tr>
<tr><td><code id="twosls.alt_+3A_data">data</code></td>
<td>
<p>A data frame with all necessary variables y, x, and z.</p>
</td></tr>
</table>


<h3>WARNING</h3>

<p>The return value is given class <code><a href="ivreg.html#topic+ivreg">ivreg::ivreg()</a></code> but it is not a true
<code>"ivreg"</code> object. This does not pose any problems for internal use but
should not be used outside of its usage in its current form. The class
assignment is likely to change in the future.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

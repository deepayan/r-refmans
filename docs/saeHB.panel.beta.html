<!DOCTYPE html><html><head><title>Help for package saeHB.panel.beta</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {saeHB.panel.beta}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataBetaAr1'><p>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model</p></a></li>
<li><a href='#dataBetaAr1Ns'><p>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model with Non Sampled Area</p></a></li>
<li><a href='#dataPanelbeta'><p>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code></p></a></li>
<li><a href='#dataPanelbetaNs'><p>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code> with Non Sampled Area</p></a></li>
<li><a href='#Panel.beta'><p>Small Area Estimation using Hierarchical Bayesian for Rao-Yu Model under Beta Distribution with <code>rho=0</code></p></a></li>
<li><a href='#RaoYuAr1.beta'><p>Small Area Estimation using Hierarchical Bayesian for Rao-Yu Model under Beta Distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Small Area Estimation using HB for Rao Yu Model under Beta
Distribution</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dian Rahmawati Salis &lt;dianrahmawatisalis03@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Several functions are provided for small area estimation at
    the area level using the hierarchical bayesian (HB) method with panel
    data under beta distribution for variable interest. This package also
    provides a dataset produced by data generation. The 'rjags' package is
    employed to obtain parameter estimates. Model-based estimators involve
    the HB estimators, which include the mean and the variation of the
    mean. For the reference, see Rao and Molina (2015, ISBN:
    978-1-118-73578-7).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DianRahmawatiSalis/saeHB.panel.beta">https://github.com/DianRahmawatiSalis/saeHB.panel.beta</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/DianRahmawatiSalis/saeHB.panel.beta/issues">https://github.com/DianRahmawatiSalis/saeHB.panel.beta/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda, dplyr, graphics, grDevices, rjags, stats, stringr</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, R.rsp, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, R.rsp</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>JAGS (http://mcmc-jags.sourceforge.net)</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-04 06:50:07 UTC; LENOVO</td>
</tr>
<tr>
<td>Author:</td>
<td>Dian Rahmawati Salis [aut, cre],
  Azka Ubaidillah [aut]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-04 07:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataBetaAr1'>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model</h2><span id='topic+dataBetaAr1'></span>

<h3>Description</h3>

<p>Dataset under Beta Distribution to simulate Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model
This data is generated by these following steps:
</p>

<ol>
<li><p> Generate random effect area <code>v</code>, random effect for area i at time point j <code>u</code>, epsilon <code class="reqn">\epsilon</code>, variance of ydi <code>vardir</code>, sampling error <code>e</code>, auxiliary <code>xdi1</code> and <code>xdi2</code>
</p>

<ul>
<li><p> Set coefficient <code class="reqn">\beta_{0}=\beta_{1}=\beta_{2}=2</code> and <code class="reqn">\rho = -0,5</code>
</p>
</li>
<li><p> Generate random effect area <code>v_{i}~N(0,1)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi1_{ij}~U(0,1)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi2_{ij}~U(0,1)</code>
</p>
</li>
<li><p> Generate epsilon <code class="reqn">\epsilon_{ij}</code><code>~N(0,1)</code>
</p>
</li>
<li><p> Generate sampling error <code>e_{ij}~N(0,vardir_{ij})</code>
</p>
</li>
<li><p> Generate  <code class="reqn">\phi_{ij}</code><code>~Gamma(1,0.5)</code>
</p>
</li>
<li><p> Calculate random effect for area i at time point j <code class="reqn">u_{ij}=\rho*u_{ij-1}+\epsilon_{ij}</code>
</p>
</li>
<li><p> Calculate <code class="reqn">\mu_{ij}=\frac{(\exp{\beta_{0}+\beta_{1}xdi1_{ij}+\beta_{2}xdi2_{ij}+v_{i}+\epsilon_{ij}})}{(1+\exp{\beta_{0}+\beta_{1}xdi1_{ij}+\beta_{2}xdi2_{ij}+v_{i}+\epsilon_{ij}}})</code>
</p>
</li>
<li><p> Calculate <code class="reqn">A_{ij}=\mu_{ij}*\phi_{ij}</code>
</p>
</li>
<li><p> Calculate <code class="reqn">B_{ij}=(1-\mu_{ij})*\phi_{ij}</code>
</p>
</li>
<li><p> Generate ydi <code>y_{ij}~Beta(A_{ij},B_{ij})</code>
</p>
</li>
<li><p> Calculate variance of ydi with <code class="reqn">vardir_{ij}=\frac{(A_{ij})(B_{ij})}{(A_{ij}+B_{ij})^2(A_{ij}+B_{ij}+1)}</code>
</p>
</li>
<li><p> Set <code>area=20</code> and <code>period=5</code>
</p>
</li></ul>

</li>
<li><p> Auxiliary variables <code>xdi1,xdi2</code>, direct estimation <code>y</code>, <code>area</code>, <code>period</code>, and <code>vardir</code> are combined in a dataframe called <code>dataAr1</code>
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataBetaAr1
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 6 variables:
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='dataBetaAr1Ns'>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model with Non Sampled Area</h2><span id='topic+dataBetaAr1Ns'></span>

<h3>Description</h3>


<ol>
<li><p> A dataset under Beta Distribution to simulate Small Area Estimation using Hierarchical Bayesian method for Rao-Yu Model with Non-sampled Area
</p>
</li>
<li><p> This data contains NA values that indicates no sampled in at least one area.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataBetaAr1Ns
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 row and 6 column:
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='dataPanelbeta'>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code></h2><span id='topic+dataPanelbeta'></span>

<h3>Description</h3>

<p>Dataset under Beta Distribution to simulate Small Area Estimation using Hierarchical Bayesian Method for Rao-Yu Model with rho = 0
This data is generated by these following steps:
</p>

<ol>
<li><p> Generate random effect area <code>v</code>, random effect for area i at time point j <code>u</code>, epsilon <code class="reqn">\epsilon</code>, variance of ydi <code>vardir</code>, sampling error <code>e</code>, auxiliary <code>xdi1</code> and <code>xdi2</code>
</p>

<ul>
<li><p> Set coefficient <code class="reqn">\beta_{0}=\beta_{1}=\beta_{2}=2</code>
</p>
</li>
<li><p> Generate random effect area <code>v_{i}~N(0,1)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi1_{ij}~U(0,1)</code>
</p>
</li>
<li><p> Generate auxiliary variable <code>xdi2_{ij}~U(0,1)</code>
</p>
</li>
<li><p> Generate epsilon <code class="reqn">\epsilon_{ij}</code><code>~N(0,1)</code>
</p>
</li>
<li><p> Generate  <code class="reqn">\phi_{ij}</code><code>~Gamma(1,0.5)</code>
</p>
</li>
<li><p> Calculate <code class="reqn">\mu_{ij}=\frac{\exp{\beta_{0}+\beta_{1}xdi1_{ij}+\beta_{2}xdi2_{ij}+v_{i}+\epsilon_{ij}}}{(1+\exp{\beta_{0}+\beta_{1}xdi1_{ij}+\beta_{2}xdi2_{ij}+v_{i}+\epsilon_{ij}})}</code>
</p>
</li>
<li><p> Calculate <code class="reqn">A_{ij}=\mu_{ij}*\phi_{ij}</code>
</p>
</li>
<li><p> Calculate <code class="reqn">B_{ij}=(1-\mu_{ij})*\phi_{ij}</code>
</p>
</li>
<li><p> Generate ydi <code>y_{ij}~Beta(A_{ij},B_{ij})</code>
</p>
</li>
<li><p> Calculate variance of ydi with <code class="reqn">vardir_{ij}=\frac{(A_{ij})(B_{ij})}{(A_{ij}+B_{ij})^2(A_{ij}+B_{ij}+1)}</code>
</p>
</li>
<li><p> Set <code>area=20</code> and <code>period=5</code>
</p>
</li></ul>

</li>
<li><p> Auxiliary variables <code>xdi1,xdi2</code>, direct estimation <code>y</code>, <code>area</code>, <code>period</code>, and <code>vardir</code> are combined in a dataframe called <code>dataPanel</code>
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataPanelbeta
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 rows and 6 variables:
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='dataPanelbetaNs'>Sample Data under Beta Distribution for Small Area Estimation using Hierarchical Bayesian Method for Rao Yu Model when <code>rho = 0</code> with Non Sampled Area</h2><span id='topic+dataPanelbetaNs'></span>

<h3>Description</h3>


<ol>
<li><p> A dataset under Beta Distribution to simulate Small Area Estimation using Hierarchical Bayesian method for Rao-Yu Model with Non-sampled area
</p>
</li>
<li><p> This data contains NA values that indicates no sampled in at least one area.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>dataPanelbetaNs
</code></pre>


<h3>Format</h3>

<p>A data frame with 100 row and 6 column:
</p>

<dl>
<dt>ydi</dt><dd><p>Direct Estimation of y</p>
</dd>
<dt>area</dt><dd><p>Area (domain) of the data</p>
</dd>
<dt>period</dt><dd><p>Period (subdomain) of the data</p>
</dd>
<dt>vardir</dt><dd><p>Sampling Variance of y</p>
</dd>
<dt>xdi1</dt><dd><p>Auxiliary variable of xdi1</p>
</dd>
<dt>xdi2</dt><dd><p>Auxiliary variable of xdi2</p>
</dd>
</dl>


<hr>
<h2 id='Panel.beta'>Small Area Estimation using Hierarchical Bayesian for Rao-Yu Model under Beta Distribution with <code>rho=0</code></h2><span id='topic+Panel.beta'></span>

<h3>Description</h3>

<p>This function is implemented to variable of interest <code>ydi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Panel.beta(
  formula,
  area,
  period,
  iter.update = 3,
  iter.mcmc = 2000,
  thin = 1,
  burn.in = 1000,
  tau.e = 1,
  tau.v = 1,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Panel.beta_+3A_formula">formula</code></td>
<td>
<p>Formula that describe the fitted model</p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_area">area</code></td>
<td>
<p>Number of areas (domain) of the data</p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_period">period</code></td>
<td>
<p>Number of periods (subdomains) for each area of the data</p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_iter.update">iter.update</code></td>
<td>
<p>Number of updates with default <code>3</code></p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>Number of total iterations per chain with default <code>2000</code></p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_thin">thin</code></td>
<td>
<p>Thinning rate, must be a positive integer with default <code>1</code></p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_burn.in">burn.in</code></td>
<td>
<p>Number of iterations to discard at the beginning with default <code>1000</code></p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_tau.e">tau.e</code></td>
<td>
<p>Variance of area-by-time effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_tau.v">tau.v</code></td>
<td>
<p>Variance of random area effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="Panel.beta_+3A_data">data</code></td>
<td>
<p>The data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list of the following objects:
</p>
<table>
<tr><td><code>Est</code></td>
<td>
<p>A vector with the values of Small Area mean Estimates using Hierarchical bayesian method</p>
</td></tr>
<tr><td><code>refVar</code></td>
<td>
<p>Estimated random effect variances</p>
</td></tr>
<tr><td><code>coef</code></td>
<td>
<p>A dataframe with the estimated model coefficient</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>Trace, Density, Autocorrelation Function Plot of MCMC samples</p>
</td></tr>
<tr><td><code>convergence.test</code></td>
<td>
<p>Convergence diagnostic for Markov chains based on Geweke test</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>##For data without any non-sampled area
data(dataPanelbeta)     # Load dataset
dataPanelbeta = dataPanelbeta[1:25,] #for the example only use part of the dataset
formula = ydi ~ xdi1 + xdi2
area = max(dataPanelbeta[, "area"])
period = max(dataPanelbeta[,"period"])

result &lt;- Panel.beta(formula, area, period, data = dataPanelbeta)

result$Est
result$refVar
result$coef
result$plot
result$convergence.test


## For data with non-sampled area use dataPanelbetaNs

</code></pre>

<hr>
<h2 id='RaoYuAr1.beta'>Small Area Estimation using Hierarchical Bayesian for Rao-Yu Model under Beta Distribution</h2><span id='topic+RaoYuAr1.beta'></span>

<h3>Description</h3>

<p>This function is implemented to variable of interest <code>ydi</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RaoYuAr1.beta(
  formula,
  area,
  period,
  iter.update = 3,
  iter.mcmc = 2000,
  thin = 1,
  burn.in = 1000,
  tau.e = 1,
  tau.v = 1,
  data
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RaoYuAr1.beta_+3A_formula">formula</code></td>
<td>
<p>Formula that describe the fitted model</p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_area">area</code></td>
<td>
<p>Number of areas (domain) of the data</p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_period">period</code></td>
<td>
<p>Number of periods (subdomains) for each area of the data</p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_iter.update">iter.update</code></td>
<td>
<p>Number of updates with default <code>3</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_iter.mcmc">iter.mcmc</code></td>
<td>
<p>Number of total iterations per chain with default <code>2000</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_thin">thin</code></td>
<td>
<p>Thinning rate, must be a positive integer with default <code>1</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_burn.in">burn.in</code></td>
<td>
<p>Number of iterations to discard at the beginning with default <code>1000</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_tau.e">tau.e</code></td>
<td>
<p>Variance of area-by-time effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_tau.v">tau.v</code></td>
<td>
<p>Variance of random area effect of variable interest with default <code>1</code></p>
</td></tr>
<tr><td><code id="RaoYuAr1.beta_+3A_data">data</code></td>
<td>
<p>The data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>This function returns a list of the following objects:
</p>
<table>
<tr><td><code>Est</code></td>
<td>
<p>A vector with the values of Small Area mean Estimates using Hierarchical bayesian method</p>
</td></tr>
<tr><td><code>refVar</code></td>
<td>
<p>Estimated random effect variances</p>
</td></tr>
<tr><td><code>coefficient</code></td>
<td>
<p>A dataframe with the estimated model coefficient</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>Parameter dispersion of Generalized Poisson distribution</p>
</td></tr>
<tr><td><code>plot</code></td>
<td>
<p>Trace, Density, Autocorrelation Function Plot of MCMC samples</p>
</td></tr>
<tr><td><code>convergence.test</code></td>
<td>
<p>Convergence diagnostic for Markov chains based on Geweke test</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>##For data without any non-sampled area
data(dataBetaAr1)     # Load dataset
dataBetaAr1 = dataBetaAr1[1:25,] #for the example only use part of the dataset
formula = ydi ~ xdi1 + xdi2
area = max(dataBetaAr1[, "area"])
period = max(dataBetaAr1[,"period"])

result &lt;- RaoYuAr1.beta(formula, area, period, data = dataBetaAr1)


result$Est
result$refVar
result$coefficient
result$plot
result$convergence.test

## For data with non-sampled area use dataBetaAr1Ns

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

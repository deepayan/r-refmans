<!DOCTYPE html><html><head><title>Help for package stratvns</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {stratvns}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#STRATENUM'><p>Enumeration Algorithm</p></a></li>
<li><a href='#STRATVNS'><p>Vns Algorithm</p></a></li>
<li><a href='#U1'><p>Population U1</p></a></li>
<li><a href='#U15'><p>Population U15</p></a></li>
<li><a href='#U21'><p>Population U21</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Optimal Stratification in Stratified Sampling</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1</td>
</tr>
<tr>
<td>Author:</td>
<td>Leonardo de Lima, Jose Brito, Pedro Gonzalez and Breno Oliveira</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jose Brito &lt;jambrito@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>An Optimization Algorithm Applied to
    Stratification Problem.This function aims
    at constructing optimal strata with an optimization algorithm
    based on a global optimisation technique called vns.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), parallel, purrr, partitions, MultAlloc</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-07-09 12:01:51 UTC; AMANDOCA_AMD</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-07-09 12:30:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='STRATENUM'>Enumeration Algorithm</h2><span id='topic+STRATENUM'></span>

<h3>Description</h3>

<p>This function enumerates all feasible solutions to
the stratification problem and produces the global optimum,
applying an integer formulation proposed by Brito et al (2015).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>STRATENUM(X, L, cvt = 0.1, nhmin = 2)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="STRATENUM_+3A_x">X</code></td>
<td>
<p>Stratification Variable</p>
</td></tr>
<tr><td><code id="STRATENUM_+3A_l">L</code></td>
<td>
<p>Number of strata</p>
</td></tr>
<tr><td><code id="STRATENUM_+3A_cvt">cvt</code></td>
<td>
<p>Target cv</p>
</td></tr>
<tr><td><code id="STRATENUM_+3A_nhmin">nhmin</code></td>
<td>
<p>Mininum sample size by stratum</p>
</td></tr>
</table>


<h3>Details</h3>

<p>STRATENUM
</p>


<h3>Value</h3>

<table>
<tr><td><code>n</code></td>
<td>
<p>Sample size</p>
</td></tr>
<tr><td><code>nh</code></td>
<td>
<p>Sample size by strata</p>
</td></tr>
<tr><td><code>cv</code></td>
<td>
<p>coefficient of variation</p>
</td></tr>
<tr><td><code>Nh</code></td>
<td>
<p>Strata sizes</p>
</td></tr>
<tr><td><code>Vh</code></td>
<td>
<p>Strata variances</p>
</td></tr>
<tr><td><code>totoptg</code></td>
<td>
<p>Total global optimal solutions</p>
</td></tr>
<tr><td><code>tfeasible</code></td>
<td>
<p>Total feasible solutions</p>
</td></tr>
<tr><td><code>cputime</code></td>
<td>
<p>Runtime in seconds</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Leonardo de Lima, Jose Brito, Pedro Gonzalez and Breno Oliveira
</p>


<h3>References</h3>

<p>1. Brito, J.A.M., Silva, P.L.N., Semaan, G.S., Maculan, N.,
2015. Integer programming formulations applied to optimal allocation
in stratified sampling. Survey Methodology 41, 2, 427–442.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Example1:
s&lt;-STRATENUM(U21,L=3,cvt=0.05)
Example2:
s&lt;-STRATENUM(U15,L=4)
Example3:
s&lt;-STRATENUM(U1,L=3,nhmin=4)

## End(Not run)
</code></pre>

<hr>
<h2 id='STRATVNS'>Vns Algorithm</h2><span id='topic+STRATVNS'></span>

<h3>Description</h3>

<p>This function aims at constructing optimal
strata with an optimization algorithm based on a global
optimisation technique called Variable neighborhood search (VNS).
The optimization algorithm is applied to solve the one
dimensional case, which reduces the stratification problem
to just determining strata boundaries. Assuming that the
number L of strata and the coefficient of variation are fixed,
it is possible to produce the strata boundaries by taking
into consideration an objective function associated with
the sample size. This function determines strata boundaries
so that the elements in each stratum are more homogeneous
among themselves and produce minimum sample size applying
an integer formulation proposed by Brito et al (2015).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>STRATVNS(
  X,
  L = 3,
  cvt = 0.1,
  nhmin = 2,
  maxstart = 3,
  imax = 3,
  kmax = 3,
  s = 30,
  sl = 50,
  tmax = 15,
  nsols = 20,
  cputime = 3600,
  nIterWithNoImpMax = 5,
  parallelize = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="STRATVNS_+3A_x">X</code></td>
<td>
<p>Stratification Variable</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_l">L</code></td>
<td>
<p>Number of strata</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_cvt">cvt</code></td>
<td>
<p>Target cv</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_nhmin">nhmin</code></td>
<td>
<p>Mininum sample size by stratum</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_maxstart">maxstart</code></td>
<td>
<p>Number  of iterations in multstart</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_imax">imax</code></td>
<td>
<p>Maximum Number  Iterations - VNS</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_kmax">kmax</code></td>
<td>
<p>Maximum Neighborhoods  = number of cut points selected to apply shaking and local search</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_s">s</code></td>
<td>
<p>Range of shaking procedure</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_sl">sl</code></td>
<td>
<p>Range of RVNS procedure</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_tmax">tmax</code></td>
<td>
<p>Maximum number cut points in neighborhoods</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_nsols">nsols</code></td>
<td>
<p>Number of initial solutions generated</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_cputime">cputime</code></td>
<td>
<p>Maximum cpu time in seconds</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_niterwithnoimpmax">nIterWithNoImpMax</code></td>
<td>
<p>Maximum number of iterations without improvement in VNS</p>
</td></tr>
<tr><td><code id="STRATVNS_+3A_parallelize">parallelize</code></td>
<td>
<p>TRUE = Performs multiple vns calls in parallel</p>
</td></tr>
</table>


<h3>Details</h3>

<p>STRATVNS
</p>


<h3>Value</h3>

<table>
<tr><td><code>bk</code></td>
<td>
<p>Cut points</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>Minimum sample size</p>
</td></tr>
<tr><td><code>nh</code></td>
<td>
<p>Sample size by strata</p>
</td></tr>
<tr><td><code>cv</code></td>
<td>
<p>coefficient of variation</p>
</td></tr>
<tr><td><code>Nh</code></td>
<td>
<p>Strata sizes</p>
</td></tr>
<tr><td><code>Vh</code></td>
<td>
<p>Strata variances</p>
</td></tr>
<tr><td><code>cputime</code></td>
<td>
<p>Runtime in seconds</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Leonardo de Lima, Jose Brito, Pedro Gonzalez and Breno Oliveira
</p>


<h3>References</h3>

<p>1. Hansen, P., Mladenovi´c, N., 2001. Variable neighborhood search:
Principles and applications. European Journal of Operational
Research 130, 3, 449 – 467.
</p>
<p>2. Brito, J.A.M., Silva, P.L.N., Semaan, G.S., Maculan, N.,
2015. Integer programming formulations applied to optimal allocation
in stratified sampling. Survey Methodology 41, 2, 427–442.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Example1:
s&lt;-STRATVNS(U1,L=4,cvt=0.05,nhmin=3)
Example2:
s&lt;-STRATVNS(U15,L=3)
#'Example3:
s&lt;-STRATVNS(U21,L=5)
Example4:
s&lt;-STRATVNS(U1,L=3,nhmin=4)

## End(Not run)
</code></pre>

<hr>
<h2 id='U1'>Population U1</h2><span id='topic+U1'></span>

<h3>Description</h3>

<p>Australian cattle farms stratified by industrial regions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>U1
</code></pre>


<h3>Format</h3>

<p>A vector 430x1:
</p>


<h3>Details</h3>

<p>U1
</p>


<h3>References</h3>

<p>1. Chambers, R., Dunstan, R., 1986.
Estimating distribution functions from survey data. Biometrika 73, 3, 597–604.
</p>

<hr>
<h2 id='U15'>Population U15</h2><span id='topic+U15'></span>

<h3>Description</h3>

<p>Population in thousands of 284 municipalities in Sweden in 1975
</p>


<h3>Usage</h3>

<pre><code class='language-R'>U15
</code></pre>


<h3>Format</h3>

<p>A vector 284x1:
</p>


<h3>Details</h3>

<p>U15
</p>


<h3>References</h3>

<p>Särndal, C.E., Swensson,B., Wretman, J. (2003).
Model Assisted Survey Sampling, 1st edition, Springer.
</p>

<hr>
<h2 id='U21'>Population U21</h2><span id='topic+U21'></span>

<h3>Description</h3>

<p>Million dollar funds from major US commercial banks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>U21
</code></pre>


<h3>Format</h3>

<p>A vector 357x1:
</p>


<h3>Details</h3>

<p>U21
</p>


<h3>References</h3>

<p>Särndal, C.E., Swensson,B., Wretman, J. (2003).
Model Assisted Survey Sampling, 1st edition, Springer.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package gstar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gstar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gstar'><p>Fit Generalized Space-Time Autoregressive Model</p></a></li>
<li><a href='#Loc'><p>Coordinate of several region In Indonesia</p></a></li>
<li><a href='#LocationCPI'><p>Consumer Price Index (CPI) in several region In Indonesia</p></a></li>
<li><a href='#performance'><p>Calculate performance of prediction or forecasting</p></a></li>
<li><a href='#plot.gstar'><p>Plotting the gstar object</p></a></li>
<li><a href='#predict.gstar'><p>Predicting the gstar object</p></a></li>
<li><a href='#summary.gstar'><p>Summarizing Generalized Space-Time Autoregressive Fits</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Generalized Space-Time Autoregressive Model</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Multivariate time series analysis based on Generalized Space-Time Autoregressive Model by Ruchjana et al.(2012) &lt;<a href="https://doi.org/10.1063%2F1.4724118">doi:10.1063/1.4724118</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10), ggplot2</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, xts, zoo, reshape2</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-06-28 00:58:02 UTC; zaenal</td>
</tr>
<tr>
<td>Author:</td>
<td>Ahmad Zaenal [aut, cre],
  Fiqry Revadiansyah [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ahmad Zaenal &lt;ahmadzaenal125@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-06-28 15:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='gstar'>Fit Generalized Space-Time Autoregressive Model</h2><span id='topic+gstar'></span>

<h3>Description</h3>

<p>gstar function return the parameter estimation of Generalized Space-Time Autoregressive Model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gstar(x, weight, p = 1, d = 0, est = "OLS")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gstar_+3A_x">x</code></td>
<td>
<p>a dataframe, matrix or xts or ts object that contain time series data.</p>
</td></tr>
<tr><td><code id="gstar_+3A_weight">weight</code></td>
<td>
<p>a spatial weight ncol(x) * ncol(x) with diagonal = 0.</p>
</td></tr>
<tr><td><code id="gstar_+3A_p">p</code></td>
<td>
<p>an autoregressive order, value must be greater than 0.</p>
</td></tr>
<tr><td><code id="gstar_+3A_d">d</code></td>
<td>
<p>a lag differencing order, value must be greater than 0.</p>
</td></tr>
<tr><td><code id="gstar_+3A_est">est</code></td>
<td>
<p>estimation method, currently only OLS available, another estimation will be added later.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>gstar returns output similar to lm, the detail are shown in the following list :
</p>

<ul>
<li><p> coefficients - a named vector of coefficients.
</p>
</li>
<li><p> AIC - A version of Akaike's An Information Criterion (the calculation is similar to aic in <em>lm</em> method )</p>
</li></ul>



<h3>References</h3>

<p>Budi Nurani Ruchjana, Svetlana A. Borovkova and H. P. Lopuhaa (2012), <em>Least Squares Estimation of Generalized Space Time Autoregressive (GSTAR) Model and Its Properties</em>, The 5th International Conference on Research and Education in Mathematics AIP Conf. Proc. 1450, 61-64 &lt;doi : 10.1063/1.4724118&gt;.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+summary">summary</a></code> for summarize the model that has been built. Also use <code><a href="stats.html#topic+predict">predict</a></code> to predict model to testing or new data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(gstar)
library(xts)
data("LocationCPI")

#-----Use data with xts object----#
x = xts(LocationCPI[, -1], order.by = as.Date(LocationCPI[, 1]))

s &lt;- round(nrow(x) * 0.8) ## split into training and testing (80:20)
x_train &lt;- x[1:s, ]
x_test &lt;- x[-c(1:s), ]


weight = matrix(c(0, 1, 1, 1,                    # create the uniform weight.
                1, 0, 1, 1,
                1, 1, 0, 1,
                1, 1, 1, 0), ncol = 4, nrow = 4)


weight = weight/(ncol(x) - 1) #the sum of weight is equal to 1 every row.


fit &lt;-  gstar(x_train, weight = weight,
    p = 1, d = 0, est = "OLS")
summary(fit)

performance(fit)
performance(fit, x_test) ## to check the performance with testing data

predict(fit, n = 10) #forecast 10 data ahead

plot(fit)
plot(fit, n_predict = 10) #plot with 10 forecasting data
plot(fit, testing = x_test)

#---- Use dataframe or matrix---#
x2 &lt;- LocationCPI
x2$Date &lt;- NULL # remove the date column

data(Loc)
dst &lt;- as.matrix(dist(Loc[, -1], diag = TRUE, upper = TRUE))
dst1 &lt;- matrix(0, nrow = nrow(dst), ncol = ncol(dst))


for(i in 1:nrow(dst)) {
   for(j in 1:ncol(dst)){
     if(j == i) next
     dst1[i, j] &lt;- sum(dst[i, -j])/sum(dst[i,])
 }
}

weight_inverse_distance &lt;- matrix(0, nrow =
       nrow(dst), ncol = ncol(dst))

for(i in 1:nrow(dst)) {
   for(j in 1:ncol(dst)){
     if(j == i) next
     weight_inverse_distance[i, j] &lt;- sum(dst1[i, j])/sum(dst1[i,])

 }
}

fit_inverse_distance &lt;-  gstar(x2, weight =
     weight_inverse_distance, p = 2, d = 1, est = "OLS")

summary(fit_inverse_distance)
performance(fit_inverse_distance)
predict(fit_inverse_distance)
plot(fit_inverse_distance)

</code></pre>

<hr>
<h2 id='Loc'>Coordinate of several region In Indonesia</h2><span id='topic+Loc'></span>

<h3>Description</h3>

<p>A dataset containing the coordinate several region In Indonesia i.e Semarang, Surakarta, Tegal and Purwokerto.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(Loc)
</code></pre>


<h3>Format</h3>

<p>A data frame with 4 rows and 3 variables:
</p>

<dl>
<dt>City</dt><dd><p>Name of region/city</p>
</dd>
<dt>latitude</dt><dd><p>The latitude coordinate of each location</p>
</dd>
<dt>longitude</dt><dd><p>The longitude coordinate of each location</p>
</dd>
</dl>

<hr>
<h2 id='LocationCPI'>Consumer Price Index (CPI) in several region In Indonesia</h2><span id='topic+LocationCPI'></span>

<h3>Description</h3>

<p>A dataset containing the Consumer Price Index (CPI) in several region In Indonesia i.e Semarang, Surakarta, Tegal and Purwokerto, it is time series data with monthly periodicity from Jan 2006 to Sep 2014
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(LocationCPI)
</code></pre>


<h3>Format</h3>

<p>A time series data frame with 105 rows and 5 variables:
</p>

<dl>
<dt>Date</dt><dd><p>date of CPI, monthly</p>
</dd>
<dt>Purwokerto</dt><dd><p>The CPI of Purwokerto region</p>
</dd>
<dt>Surakarta</dt><dd><p>The CPI of Purwokerto region</p>
</dd>
<dt>Semarang</dt><dd><p>The CPI of Purwokerto region</p>
</dd>
<dt>Tegal</dt><dd><p>The CPI of Purwokerto region</p>
</dd>
</dl>


<h3>Source</h3>

<p><a href="https://www.bps.go.id/">https://www.bps.go.id/</a>
</p>

<hr>
<h2 id='performance'>Calculate performance of prediction or forecasting</h2><span id='topic+performance'></span>

<h3>Description</h3>

<p>Calculate performance of prediction or forecasting
</p>


<h3>Usage</h3>

<pre><code class='language-R'>performance(object, testing = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="performance_+3A_object">object</code></td>
<td>
<p>an object of class &quot;gstar&quot;.</p>
</td></tr>
<tr><td><code id="performance_+3A_testing">testing</code></td>
<td>
<p>a dataframe or matrix or xts object that contain testing data. <strong>Please be noted, if you fill the differencing order in the model estimation, you do not need difference your data anymore because we already cover that in this function</strong></p>
</td></tr>
<tr><td><code id="performance_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> MSE fol all data - Mean Square Error for all the data combined
</p>
</li>
<li><p> MSE fol each location - Mean Square Error for each spatial location
</p>
</li>
<li><p> MAPE fol all data - Mean Absolute Percentage Error for all the data combined
</p>
</li>
<li><p> MAPE fol each location - Mean Absolute Percentage Error for each spatial location </p>
</li></ul>


<hr>
<h2 id='plot.gstar'>Plotting the gstar object</h2><span id='topic+plot.gstar'></span>

<h3>Description</h3>

<p>plotting the gstar object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gstar'
plot(x, testing = NULL, n_predict = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.gstar_+3A_x">x</code></td>
<td>
<p>an object of class &quot;gstar&quot;.</p>
</td></tr>
<tr><td><code id="plot.gstar_+3A_testing">testing</code></td>
<td>
<p>The testing data to be plotted.</p>
</td></tr>
<tr><td><code id="plot.gstar_+3A_n_predict">n_predict</code></td>
<td>
<p>The number of steps ahead for which prediction is required.</p>
</td></tr>
<tr><td><code id="plot.gstar_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='predict.gstar'>Predicting the gstar object</h2><span id='topic+predict.gstar'></span>

<h3>Description</h3>

<p>Predicted values based on gstar object object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gstar'
predict(object, n = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.gstar_+3A_object">object</code></td>
<td>
<p>an object of class &quot;gstar&quot;.</p>
</td></tr>
<tr><td><code id="predict.gstar_+3A_n">n</code></td>
<td>
<p>The number of steps ahead for which prediction is required.</p>
</td></tr>
<tr><td><code id="predict.gstar_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='summary.gstar'>Summarizing Generalized Space-Time Autoregressive Fits</h2><span id='topic+summary.gstar'></span>

<h3>Description</h3>

<p>This function are similar to summary of &quot;lm&quot; or &quot;glm&quot; object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gstar'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="summary.gstar_+3A_object">object</code></td>
<td>
<p>an object of class &quot;gstar&quot;.</p>
</td></tr>
<tr><td><code id="summary.gstar_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.
</p>

<ul>
<li><p> coefficients - a named vector of coefficients.
</p>
</li>
<li><p> AIC - A version of Akaike's An Information Criterion.
</p>
</li></ul>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

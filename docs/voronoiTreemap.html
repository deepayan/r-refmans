<!DOCTYPE html><html lang="en"><head><title>Help for package voronoiTreemap</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {voronoiTreemap}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#canada'><p>canada</p></a></li>
<li><a href='#ExampleGDP'><p>ExampleGDP</p></a></li>
<li><a href='#vt_add_nodes'><p>vt_add_nodes</p></a></li>
<li><a href='#vt_app'><p>vt_app</p></a></li>
<li><a href='#vt_create_node'><p>vt_create_node</p></a></li>
<li><a href='#vt_d3'><p>Voronoi Treemap in an htmlwidget</p></a></li>
<li><a href='#vt_d3-shiny'><p>Shiny bindings for d3vt</p></a></li>
<li><a href='#vt_export_json'><p>vt_export_json</p></a></li>
<li><a href='#vt_input_from_df'><p>vt_input_from_df</p></a></li>
<li><a href='#vt_testdata'><p>vt_testdata</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Voronoi Treemaps with Added Interactivity by Shiny</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-01-08</td>
</tr>
<tr>
<td>Description:</td>
<td>The d3.js framework with the plugins d3-voronoi-map, d3-voronoi-treemap and d3-weighted-voronoi
        are used to generate Voronoi treemaps in R and in a shiny application.
        The computation of the Voronoi treemaps are based on Nocaj and Brandes (2012)
        &lt;<a href="https://doi.org/10.1111%2Fj.1467-8659.2012.03078.x">doi:10.1111/j.1467-8659.2012.03078.x</a>&gt;.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/uRosConf/voronoiTreemap">https://github.com/uRosConf/voronoiTreemap</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>data.tree,rlang,htmlwidgets,shiny,shinyjs,DT</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>rmarkdown, scales, testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-01-08 13:14:29 UTC; kowarik</td>
</tr>
<tr>
<td>Author:</td>
<td>Alexander Kowarik <a href="https://orcid.org/0000-0001-8598-4130"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Bernhard Meindl [aut],
  Malaver Vojvodic [aut],
  Mike Bostock [aut, cph] (d3.js library, http://d3js.org),
  Franck Lebeau [aut, cph] (d3-voronoi-treemap library,
    https://github.com/Kcnarf/d3-voronoi-treemap)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Alexander Kowarik &lt;alexander.kowarik@statistik.gv.at&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-11 17:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='canada'>canada</h2><span id='topic+canada'></span>

<h3>Description</h3>

<p>An example data.frame using Canadian Consumer Price Index (CPI) to demonstrate the
voronoiTree package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(canada)
</code></pre>


<h3>Format</h3>

<p>A data frame with 247 rows and 5 variables:
</p>

<dl>
<dt>h1</dt><dd><p>Name of first-level (region)</p>
</dd>
<dt>h2</dt><dd><p>Leaf names of second-level (elementary_aggregate)</p>
</dd>
<dt>h3</dt><dd><p>Leaf names of third-level values (intermediate_aggregate)</p>
</dd>
<dt>color</dt><dd><p>colors in which the plot-regions will be filled</p>
</dd>
<dt>weight</dt><dd><p>CPI in percent of the overall total</p>
</dd>
<dt>codes</dt><dd><p>NAs</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>data("canada")
head(canada)
</code></pre>

<hr>
<h2 id='ExampleGDP'>ExampleGDP</h2><span id='topic+ExampleGDP'></span>

<h3>Description</h3>

<p>An example data.frame using GDP data to demonstrate the
voronoiTree package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(ExampleGDP)
</code></pre>


<h3>Format</h3>

<p>A data frame with 42 rows and 6 variables:
</p>

<dl>
<dt>h1</dt><dd><p>Name of first-level (redundant)</p>
</dd>
<dt>h2</dt><dd><p>Leaf names of second-level (continents)</p>
</dd>
<dt>h3</dt><dd><p>Leaf names of third-level values (countries)</p>
</dd>
<dt>color</dt><dd><p>colors in which the plot-regions will be filled</p>
</dd>
<dt>weight</dt><dd><p>GDP values in percent of the overall total</p>
</dd>
<dt>codes</dt><dd><p>short labels used for overlays in plotting</p>
</dd>
</dl>


<h3>Examples</h3>

<pre><code class='language-R'>data("ExampleGDP")
head(ExampleGDP)
</code></pre>

<hr>
<h2 id='vt_add_nodes'>vt_add_nodes</h2><span id='topic+vt_add_nodes'></span>

<h3>Description</h3>

<p>add (sub)nodes to a node generated by <code><a href="#topic+vt_create_node">vt_create_node</a></code> or returned
from  <code><a href="#topic+vt_add_nodes">vt_add_nodes</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_add_nodes(node, refnode, node_names, colors = NULL, weights = NULL,
  codes = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_add_nodes_+3A_node">node</code></td>
<td>
<p>a node object</p>
</td></tr>
<tr><td><code id="vt_add_nodes_+3A_refnode">refnode</code></td>
<td>
<p>name of the reference node</p>
</td></tr>
<tr><td><code id="vt_add_nodes_+3A_node_names">node_names</code></td>
<td>
<p>new node names</p>
</td></tr>
<tr><td><code id="vt_add_nodes_+3A_colors">colors</code></td>
<td>
<p>optionally a vector of colors matching the length of <code>node_names</code></p>
</td></tr>
<tr><td><code id="vt_add_nodes_+3A_weights">weights</code></td>
<td>
<p>optionally a vector of weights matching the length of <code>node_names</code></p>
</td></tr>
<tr><td><code id="vt_add_nodes_+3A_codes">codes</code></td>
<td>
<p>optionally a vector of short labels matching the length of <code>node_names</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Node object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- vt_create_node("Total")
n &lt;- vt_add_nodes(n, refnode="Total",node_names=c("Asia","Europe"), colors=c("red","blue"))
n &lt;- vt_add_nodes(n, refnode="Asia",node_names=c("China","Thailand"),
  weights=c(0.5, 0.8), codes=c("CN","TH"))
n &lt;- vt_add_nodes(n, refnode="Europe",node_names=c("Netherlands","Austria"),
  weights=c(0.9, 1.1), codes=c("NL","AT"))
print(n, "weight", "code", "color")
</code></pre>

<hr>
<h2 id='vt_app'>vt_app</h2><span id='topic+vt_app'></span>

<h3>Description</h3>

<p>starts the graphical user interface developed with <em>shiny</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_app(maxRequestSize = 50, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_app_+3A_maxrequestsize">maxRequestSize</code></td>
<td>
<p>(numeric) number defining the maximum allowed filesize (in megabytes)
for uploaded files, defaults to 50MB</p>
</td></tr>
<tr><td><code id="vt_app_+3A_...">...</code></td>
<td>
<p>arguments (e.g <code>host</code>) that are passed through
<code><a href="#topic+vt_app">vt_app</a></code> when starting the shiny application</p>
</td></tr>
</table>


<h3>Value</h3>

<p>starts the interactive graphical user interface which may be used to perform the
anonymisation process.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vt_app()

## End(Not run)
</code></pre>

<hr>
<h2 id='vt_create_node'>vt_create_node</h2><span id='topic+vt_create_node'></span>

<h3>Description</h3>

<p>vt_create_node
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_create_node(total_lab = "Total")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_create_node_+3A_total_lab">total_lab</code></td>
<td>
<p>name of the total level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Node
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vt_create_node("Total")
</code></pre>

<hr>
<h2 id='vt_d3'>Voronoi Treemap in an htmlwidget</h2><span id='topic+vt_d3'></span>

<h3>Description</h3>

<p>Function to generate an htmlwidget with a voronoi treemap
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_d3(data, elementId = NULL, width = NULL, height = NULL,
  seed = NULL, title = NULL, legend = FALSE, legend_title = NULL,
  footer = NULL, label = TRUE, color_circle = "#aaaaaa",
  color_border = "#ffffff", color_label = "#000000",
  size_border = "1px", size_border_hover = "3px",
  size_circle = "2px")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_d3_+3A_data">data</code></td>
<td>
<p>a correct json data object</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_elementid">elementId</code></td>
<td>
<p>optional a custom elementId to be returned</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_width">width</code></td>
<td>
<p>width of the widget</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_height">height</code></td>
<td>
<p>height of the widget</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_seed">seed</code></td>
<td>
<p>if defined, the plot is fixed</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_title">title</code></td>
<td>
<p>NULL or a string for the title</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_legend">legend</code></td>
<td>
<p>TRUE/FALSE if a legend should be printed</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_legend_title">legend_title</code></td>
<td>
<p>NULL or a string for the title of the legend</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_footer">footer</code></td>
<td>
<p>NULL or a string for the footer text</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_label">label</code></td>
<td>
<p>TRUE/FALSE if the labels should be printed</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_color_circle">color_circle</code></td>
<td>
<p>color for the outer circle</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_color_border">color_border</code></td>
<td>
<p>color for the inner lines</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_color_label">color_label</code></td>
<td>
<p>color for the label in the plot</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_size_border">size_border</code></td>
<td>
<p>thickness of the borders in css style, e.g. '1px'</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_size_border_hover">size_border_hover</code></td>
<td>
<p>thickness of the borders when hovering in css style, e.g. '3px'</p>
</td></tr>
<tr><td><code id="vt_d3_+3A_size_circle">size_circle</code></td>
<td>
<p>thickness of the circle in css style, e.g. '2px'</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The JavaScript library d3-voronoi treemap can be found here <a href="https://github.com/Kcnarf/d3-voronoi-treemap">https://github.com/Kcnarf/d3-voronoi-treemap</a>
and the example is based on the
remake of HowMuch.net's article 'The Global Economy by GDP' by _Kcnarf <a href="https://bl.ocks.org/Kcnarf/fa95aa7b076f537c00aed614c29bb568">https://bl.ocks.org/Kcnarf/fa95aa7b076f537c00aed614c29bb568</a>.
</p>


<h3>References</h3>

<p>Arlind Nocaj and Ulrik Brandes. (2012). Computing Voronoi Treempas: Faster, Simpler and Resolution-independent.
Computer Graphics Forum. Vol.31. 855-864.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vt_d3(vt_export_json(vt_testdata()))
data(ExampleGDP)
gdp_json &lt;- vt_export_json(vt_input_from_df(ExampleGDP))
vt_d3(gdp_json)
data(canada)
canada$codes &lt;- canada$h3
canada &lt;- canada[canada$h1=="Canada",]
canadaH &lt;- vt_input_from_df(canada,scaleToPerc = FALSE)
vt_d3(vt_export_json(canadaH))
#without label
vt_d3(vt_export_json(canadaH), label=FALSE)
#Example with coloring from scales package
library(scales)
canada$color &lt;- seq_gradient_pal()(exp(canada$weight)/500)
canadaH &lt;- vt_input_from_df(canada,scaleToPerc = FALSE)
vt_d3(vt_export_json(canadaH))
</code></pre>

<hr>
<h2 id='vt_d3-shiny'>Shiny bindings for d3vt</h2><span id='topic+vt_d3-shiny'></span><span id='topic+vt_d3_output'></span><span id='topic+render_vt_d3'></span>

<h3>Description</h3>

<p>Output and render functions for using d3vt within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_d3_output(outputId, width = "100%", height = "400px")

render_vt_d3(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_d3-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="vt_d3-shiny_+3A_width">width</code>, <code id="vt_d3-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="vt_d3-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a d3vt</p>
</td></tr>
<tr><td><code id="vt_d3-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="vt_d3-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>

<hr>
<h2 id='vt_export_json'>vt_export_json</h2><span id='topic+vt_export_json'></span>

<h3>Description</h3>

<p>exports a node to suitable json required by voronoi javascript function
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_export_json(node, file = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_export_json_+3A_node">node</code></td>
<td>
<p>a Node object generated by <code><a href="#topic+vt_create_node">vt_create_node</a></code> or returned
from  <code><a href="#topic+vt_add_nodes">vt_add_nodes</a></code></p>
</td></tr>
<tr><td><code id="vt_export_json_+3A_file">file</code></td>
<td>
<p>path where the json should be written to, if <code>NULL</code>, the json is returned as
a character</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NULL or a character vector
</p>


<h3>See Also</h3>

<p>vt_create_node vt_add_nodes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>n &lt;- vt_testdata()
vt_export_json(n)
vt_export_json(n, file=tempfile())
</code></pre>

<hr>
<h2 id='vt_input_from_df'>vt_input_from_df</h2><span id='topic+vt_input_from_df'></span>

<h3>Description</h3>

<p>create a tree-structure from a data.frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_input_from_df(inp, scaleToPerc = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="vt_input_from_df_+3A_inp">inp</code></td>
<td>
<p>a data.frame with specific format</p>
</td></tr>
<tr><td><code id="vt_input_from_df_+3A_scaletoperc">scaleToPerc</code></td>
<td>
<p>(logical) scale to percent</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a Node that can be written to json using <code><a href="#topic+vt_export_json">vt_export_json</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## non yet
</code></pre>

<hr>
<h2 id='vt_testdata'>vt_testdata</h2><span id='topic+vt_testdata'></span>

<h3>Description</h3>

<p>vt_testdata
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vt_testdata()
</code></pre>


<h3>Value</h3>

<p>returns a json-string as in the example
from https://bl.ocks.org/Kcnarf/fa95aa7b076f537c00aed614c29bb568
</p>


<h3>Examples</h3>

<pre><code class='language-R'>vt_testdata()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package piratings</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {piratings}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calculate_pi_ratings'><p>Calculate Pi Ratings</p></a></li>
<li><a href='#EPL2008_2015'><p>English Premier League match outcomes</p></a></li>
<li><a href='#optimize_pi_ratings'><p>Optimize Pi Ratings</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Calculate Pi Ratings for Teams Competing in Sport Matches</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.9</td>
</tr>
<tr>
<td>Author:</td>
<td>Lars Van Cutsem</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lars Van Cutsem &lt;lars.vancutsem@hotmail.com&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, ggplot2</td>
</tr>
<tr>
<td>Description:</td>
<td>Calculate and optimize dynamic performance ratings of association football 
  teams competing in matches, in accordance with the method used in 
  the research paper "Determining the level of ability of football teams by 
  dynamic ratings based on the relative discrepancies in scores between adversaries", 
  by Constantinou and Fenton (2013) 
  &lt;<a href="https://doi.org/10.1515%2Fjqas-2012-0036">doi:10.1515/jqas-2012-0036</a>&gt;    
  This dynamic rating system has proven to provide superior 
  results for predicting association football outcomes.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/larsvancutsem/piratings/issues">https://github.com/larsvancutsem/piratings/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-05-24 17:24:54 UTC; Lars</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-05-27 08:30:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='calculate_pi_ratings'>Calculate Pi Ratings</h2><span id='topic+calculate_pi_ratings'></span>

<h3>Description</h3>

<p>This function calculates dynamic performance ratings
called &quot;pi ratings&quot; for sport teams in competitive matches.
The pi rating system was developed by Constantinou and Fenton (2013)
&lt;doi:10.1515/jqas-2012-0036&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_pi_ratings(teams, outcomes, lambda, gamma, b, c, return_e)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calculate_pi_ratings_+3A_teams">teams</code></td>
<td>
<p>an (n x 2) character matrix,
contains unique names for the respective home and away teams in n
subsequent matches</p>
</td></tr>
<tr><td><code id="calculate_pi_ratings_+3A_outcomes">outcomes</code></td>
<td>
<p>an (n x 2) numeric matrix,
contains the points that the respective home and away teams scored in n
subsequent matches</p>
</td></tr>
<tr><td><code id="calculate_pi_ratings_+3A_lambda">lambda</code></td>
<td>
<p>a constant, the learning rate for performance from
recent matches, default value: 0.035</p>
</td></tr>
<tr><td><code id="calculate_pi_ratings_+3A_gamma">gamma</code></td>
<td>
<p>a constant, the learning rate for performance from
home to away and vice versa, default value: 0.7</p>
</td></tr>
<tr><td><code id="calculate_pi_ratings_+3A_b">b</code></td>
<td>
<p>a constant, logarithmic base, default value: 10</p>
</td></tr>
<tr><td><code id="calculate_pi_ratings_+3A_c">c</code></td>
<td>
<p>a constant, default value: 3</p>
</td></tr>
<tr><td><code id="calculate_pi_ratings_+3A_return_e">return_e</code></td>
<td>
<p>a boolean variable, conditions the function
to return either the mean squared error when return_e = TRUE,
or the pi ratings when return_e = FALSE, default value: FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>either an (n x 2) matrix containing the pi ratings for the teams in
the n input matches or the mean squared error for the specific parameter
setting, conditional on boolean parameter return_e being FALSE or TRUE
</p>


<h3>Examples</h3>

<pre><code class='language-R'># toy example
teams &lt;- matrix(c("team A", "team B", "team B", "team A"), nrow = 2)
outcomes &lt;- matrix(c(1, 3, 2, 1), nrow = 2)
calculate_pi_ratings(teams, outcomes)
</code></pre>

<hr>
<h2 id='EPL2008_2015'>English Premier League match outcomes</h2><span id='topic+EPL2008_2015'></span>

<h3>Description</h3>

<p>All English Premier League match outcomes
during the seasons 2008/2009 to 2014/2015
</p>


<h3>Usage</h3>

<pre><code class='language-R'>EPL2008_2015
</code></pre>


<h3>Format</h3>

<p>A data frame with 3040 rows and 5 variables:
</p>

<dl>
<dt>date</dt><dd><p>date of the match</p>
</dd>
<dt>home_team</dt><dd><p>name of the home team</p>
</dd>
<dt>away_team</dt><dd><p>name of the away team</p>
</dd>
<dt>home_goals</dt><dd><p>number of goals the home team scored</p>
</dd>
<dt>away_goals</dt><dd><p>number of goals the away team scored</p>
</dd>
</dl>
<p>...
</p>


<h3>Source</h3>

<p><a href="https://www.kaggle.com/hugomathien/soccer">https://www.kaggle.com/hugomathien/soccer</a>
</p>

<hr>
<h2 id='optimize_pi_ratings'>Optimize Pi Ratings</h2><span id='topic+optimize_pi_ratings'></span>

<h3>Description</h3>

<p>This function performs grid optimization on a prespecified set
of parameters to find the optimal learning rates for calculating
the pi ratings for sport teams in competitive matches
for a set of teams in their respective set of sport matches.
The pi rating system was developed by Constantinou and
Fenton Constantinou and Fenton (2013)
&lt;doi:10.1515/jqas-2012-0036&gt;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimize_pi_ratings(teams, outcomes, lambda_in, gamma_in, b_in, c_in)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="optimize_pi_ratings_+3A_teams">teams</code></td>
<td>
<p>an (n x 2) character matrix,
contains unique names for the respective home and away teams in n
subsequent matches</p>
</td></tr>
<tr><td><code id="optimize_pi_ratings_+3A_outcomes">outcomes</code></td>
<td>
<p>an (n x 2) numeric matrix,
contains the points that the respective home and away teams scored in n
subsequent matches</p>
</td></tr>
<tr><td><code id="optimize_pi_ratings_+3A_lambda_in">lambda_in</code></td>
<td>
<p>a numerical vector, learning rate values to consider in
the grid optimization, default value: seq(0, 0.1, 0.005)</p>
</td></tr>
<tr><td><code id="optimize_pi_ratings_+3A_gamma_in">gamma_in</code></td>
<td>
<p>a numerical vector, learning rate values to consider in
the grid optimization, default value: seq(0, 1, 0.05)</p>
</td></tr>
<tr><td><code id="optimize_pi_ratings_+3A_b_in">b_in</code></td>
<td>
<p>a constant, logarithmic base, default value: 10</p>
</td></tr>
<tr><td><code id="optimize_pi_ratings_+3A_c_in">c_in</code></td>
<td>
<p>a constant, default value: 3</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a dataframe with the results of the grid optimization,
the mean squared error for every combination of learning rates
lambda and gamma specified in the parameter vectors
</p>


<h3>Examples</h3>

<pre><code class='language-R'># toy example
teams &lt;- matrix(c("team A", "team B", "team B", "team A"), nrow = 2)
outcomes &lt;- matrix(c(1, 3, 2, 1), nrow = 2)
optimize_pi_ratings(teams, outcomes, seq(0.05, 0.07, 0.005), seq(0.4, 0.6, 0.05))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

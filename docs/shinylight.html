<!DOCTYPE html><html lang="en"><head><title>Help for package shinylight</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {shinylight}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#browseTo'><p>Opens a browser to look at the server</p></a></li>
<li><a href='#downloadCsv'><p>Encodes a data frame as a CSV file to be downloaded</p></a></li>
<li><a href='#encodePlot'><p>Renders a plot as a base64-encoded image</p></a></li>
<li><a href='#encodePlotAs'><p>Renders a plot as a base64-encoded PNG</p></a></li>
<li><a href='#framework.shinylightFrameworkStart'><p>JavaScript function: Starts the Shinylight Framework, if you want to use it.</p></a></li>
<li><a href='#getAddress'><p>Obtains the address that the server is listening on</p></a></li>
<li><a href='#indexWithInit'><p>Get index.html with (potentially) the JSON data in 'text'</p>
inserted.</a></li>
<li><a href='#rrpcServer'><p>Makes and starts a server for serving R calculations</p></a></li>
<li><a href='#runR'><p>Returns a function that runs an R command</p></a></li>
<li><a href='#sendInfoText'><p>Sends informational text to the client.</p></a></li>
<li><a href='#sendProgress'><p>Sends a progress update to the client.</p></a></li>
<li><a href='#shinylight.call'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.initialize'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.makeTable'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.passToOther'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.runR'><p>JavaScript function: Runs an R function.</p></a></li>
<li><a href='#shinylight.setElementJson'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.setElementPlot'><p>JavaScript function: Sets an <code>&lt;img&gt;</code> element to display a plot returned by</p>
<code>runR</code>.</a></li>
<li><a href='#shinylight.setElementText'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.setGridResult'><p>JavaScript function</p></a></li>
<li><a href='#shinylight.setGridResultWithNamedRows'><p>JavaScript function</p></a></li>
<li><a href='#slRunRServer'><p>Start a ShinyLight server which runs R that it is sent</p></a></li>
<li><a href='#slServer'><p>Start a ShinyLight server</p></a></li>
<li><a href='#slStop'><p>Stops a ShinyLight GUI</p></a></li>
<li><a href='#toolkit.all'><p>JavaScript function: Finds if a predicate is true for all members of an array or object.</p></a></li>
<li><a href='#toolkit.any'><p>JavaScript function: Finds if a predicate is true for any member of an array or object.</p></a></li>
<li><a href='#toolkit.banner'><p>JavaScript function</p></a></li>
<li><a href='#toolkit.button'><p>JavaScript function: Returns a button.</p></a></li>
<li><a href='#toolkit.deref'><p>JavaScript function: Dereferences an object or array through multiple indices.</p></a></li>
<li><a href='#toolkit.footer'><p>JavaScript function: A panel with a smaller footer.</p></a></li>
<li><a href='#toolkit.forEach'><p>JavaScript function</p></a></li>
<li><a href='#toolkit.groupTitle'><p>JavaScript function: Option group title</p></a></li>
<li><a href='#toolkit.header'><p>JavaScript function: A panel with a smaller header.</p></a></li>
<li><a href='#toolkit.HTMLContainerElement'><p>JavaScript class: A monkey-patched <code>HTMLElement</code>.</p></a></li>
<li><a href='#toolkit.HTMLControlContainerElement'><p>JavaScript class</p></a></li>
<li><a href='#toolkit.HTMLControlElement'><p>JavaScript class</p></a></li>
<li><a href='#toolkit.HTMLPositionedElement'><p>JavaScript class: A monkey-patched <code>HTMLElement</code> with some extra methods.</p></a></li>
<li><a href='#toolkit.image'><p>JavaScript function</p></a></li>
<li><a href='#toolkit.leftSideBar'><p>JavaScript function: A panel with a side bar.</p></a></li>
<li><a href='#toolkit.loadFileButton'><p>JavaScript function: Returns a button that uploads a file from the client.</p></a></li>
<li><a href='#toolkit.makeLabel'><p>JavaScript function: Makes a label suitable for labelling a control.</p></a></li>
<li><a href='#toolkit.nonScrollingWrapper'><p>JavaScript function: Returns a Positioned Element just containing one element.</p></a></li>
<li><a href='#toolkit.optionsPage'><p>JavaScript function: Returns a Container Element for displaying controls vertically.</p></a></li>
<li><a href='#toolkit.overlay'><p>JavaScript function: A panel with an overlay.</p></a></li>
<li><a href='#toolkit.pages'><p>JavaScript function: Returns a Positioned Element for displaying controls in</p>
tabbed pages.</a></li>
<li><a href='#toolkit.paramBoolean'><p>JavaScript function: Returns a checkbox input Toolkit Control.</p></a></li>
<li><a href='#toolkit.paramColor'><p>JavaScript function: Returns a colour input Toolkit Control.</p></a></li>
<li><a href='#toolkit.paramFloat'><p>JavaScript function: Returns a floating point input Toolkit Control.</p></a></li>
<li><a href='#toolkit.paramInteger'><p>JavaScript function: Returns an integer input Toolkit Control.</p></a></li>
<li><a href='#toolkit.paramSelector'><p>JavaScript function: Returns a custom selection box Toolkit Control.</p></a></li>
<li><a href='#toolkit.paramText'><p>JavaScript function: Returns a text input Toolkit Control.</p></a></li>
<li><a href='#toolkit.preformattedText'><p>JavaScript function: A static text Toolkit Control in a preformatted style.</p></a></li>
<li><a href='#toolkit.progressBar'><p>JavaScript function: Returns a Positioned Element progress bar.</p></a></li>
<li><a href='#toolkit.rightSideBar'><p>JavaScript function: A panel with a side bar.</p></a></li>
<li><a href='#toolkit.scrollingWrapper'><p>JavaScript function: Returns a Positioned Element just containing one element.</p></a></li>
<li><a href='#toolkit.setAsBody'><p>JavaScript function: Replaces the <code>&lt;main&gt;</code> tag in the document with this element.</p></a></li>
<li><a href='#toolkit.stack'><p>JavaScript function: Returns a Container Element for displaying controls</p>
vertically.</a></li>
<li><a href='#toolkit.staticText'><p>JavaScript function: A static text Toolkit Control.</p></a></li>
<li><a href='#toolkit.verticalDivide'><p>JavaScript function: Left/right panels with a draggable divider.</p></a></li>
<li><a href='#toolkit.whenQuiet'><p>JavaScript function: Transforms a function that should not be called too often into</p>
a function that can be called as often as you like.</a></li>
<li><a href='#toolkit.withTimeout'><p>JavaScript function: Adds a fake callback argument to a nullary function.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Web Interface to 'R' Functions</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-04-22</td>
</tr>
<tr>
<td>Description:</td>
<td>Web front end for your 'R' functions producing plots or tables.
    If you have a function or set of related functions, you can make them
    available over the internet through a web browser. This is the same
    motivation as the 'shiny' package, but note that the development of
    'shinylight' is not in any way linked to that of 'shiny' (beyond the use of
    the 'httpuv' package). You might prefer 'shinylight' to 'shiny' if you want
    a lighter weight deployment with easier horizontal scaling, or if you want
    to develop your front end yourself in JavaScript and HTML just using
    a lightweight remote procedure call interface to your R code on the
    server.</td>
</tr>
<tr>
<td>Author:</td>
<td>Pieter Vermeesch [aut],
  Tim Band [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Tim Band &lt;t.band@ucl.ac.uk&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>grDevices (&ge; 3.6.2), httpuv (&ge; 1.5.4), jsonlite (&ge; 1.6.1),
later (&ge; 1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>websocket (&ge; 1.4.1)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-22 18:31:05 UTC; ucfbtpb</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-23 00:00:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='browseTo'>Opens a browser to look at the server</h2><span id='topic+browseTo'></span>

<h3>Description</h3>

<p>Opens a browser to look at the server
</p>


<h3>Usage</h3>

<pre><code class='language-R'>browseTo(server)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="browseTo_+3A_server">server</code></td>
<td>
<p>The server to browse to</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>

<hr>
<h2 id='downloadCsv'>Encodes a data frame as a CSV file to be downloaded</h2><span id='topic+downloadCsv'></span>

<h3>Description</h3>

<p>Encodes a data frame as a CSV file to be downloaded
</p>


<h3>Usage</h3>

<pre><code class='language-R'>downloadCsv(results)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="downloadCsv_+3A_results">results</code></td>
<td>
<p>Data frame to be returned</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list to be returned to the browser describing a CSV
file to be downloaded.
</p>

<hr>
<h2 id='encodePlot'>Renders a plot as a base64-encoded image</h2><span id='topic+encodePlot'></span>

<h3>Description</h3>

<p>Renders a plot as a base64-encoded image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encodePlot(device, mimeType, width, height, plotFn)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="encodePlot_+3A_device">device</code></td>
<td>
<p>Graphics device function, such as
<code><a href="grDevices.html#topic+png">grDevices::png</a></code> or
<code><a href="grDevices.html#topic+pdf">grDevices::pdf</a></code></p>
</td></tr>
<tr><td><code id="encodePlot_+3A_mimetype">mimeType</code></td>
<td>
<p>Mime type for the data produced by <code>device</code></p>
</td></tr>
<tr><td><code id="encodePlot_+3A_width">width</code></td>
<td>
<p>Width of the plot in units applicable to <code>device</code></p>
</td></tr>
<tr><td><code id="encodePlot_+3A_height">height</code></td>
<td>
<p>Height of the plot in units applicable to <code>device</code></p>
</td></tr>
<tr><td><code id="encodePlot_+3A_plotfn">plotFn</code></td>
<td>
<p>Function to call to perform the plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list with two keys, whose values can each be NULL:
<code>'plot'</code> is a plot in HTML img src form and <code>'data'</code> is a
data frame or other non-plot result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pdf &lt;- encodePlot(grDevices::png, "image/png", 200, 300, function() {
  barplot(c(1, 2, 3, 4))
})
grDevices::png()  # workaround; you do not have to do this
</code></pre>

<hr>
<h2 id='encodePlotAs'>Renders a plot as a base64-encoded PNG</h2><span id='topic+encodePlotAs'></span>

<h3>Description</h3>

<p>The result can be set as the <code>src</code> attribute of an <code>&lt;img&gt;</code>
element in HTML.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encodePlotAs(format, plotFn)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="encodePlotAs_+3A_format">format</code></td>
<td>
<p>An object specifying the output, with the following members:
format$type is <code>"png"</code>, <code>"pdf"</code> or <code>"csv"</code>, and
<code>format$width</code> and <code>format$height</code> are
the dimensions of the PDF (in inches) or PNG (in pixels) if appropriate.</p>
</td></tr>
<tr><td><code id="encodePlotAs_+3A_plotfn">plotFn</code></td>
<td>
<p>Function to call to perform the plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>You will not need to call this function unless you want to return more
than one plot per call, as the last plot produced will be returned
in the <code>plot</code> property of the result from <code>shinylight.call</code>
anyway.
</p>


<h3>Value</h3>

<p>list with two keys, whose values can each be NULL:
<code>'plot'</code> is a plot in HTML img src form and <code>'data'</code> is a
data frame or other non-plot result.
</p>
<p>A list with an element named <code>plot</code> containing the
plot encoded as required either for an HTML <code>image</code> element's
<code>src</code> attribute, or <code>a</code> element's <code>href</code> attribute.
If the function returns a matrix or data frame, this will be returned
in the list's <code>data</code> element.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rrpcServer">rrpcServer</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>pdf &lt;- encodePlotAs(list(type="pdf", width=7, height=8), function() {
  barplot(c(1, 2, 3, 4))
})
grDevices::png()  # workaround; you do not have to do this
</code></pre>

<hr>
<h2 id='framework.shinylightFrameworkStart'>JavaScript function: Starts the Shinylight Framework, if you want to use it.</h2><span id='topic+framework.shinylightFrameworkStart'></span>

<h3>Description</h3>

<p>The Shinylight Framework allows you to declare all your functions
in R and have a nice-looking web front end for your code without
having to write any JavaScript.
</p>
<p>You should never need to call this function yourself; if you do not
provide your own <code>index.html</code>, the default Shinylight one
will be used that will call this function on page load.
</p>
<p>Using the Shinylight Framework entails calling the <code><a href="#topic+slServer">slServer</a></code>
function with the <code>interface</code> argument set to
<code>list(getSchema=schema)</code>, where
<code>schema</code> is defined in the following section.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="framework.shinylightFrameworkStart_+3A_options">options</code></td>
<td>
<p><code>object</code> [optional] An optional object containing options
to modify the behaviour of the framework.</p>
</td></tr>
<tr><td><code id="framework.shinylightFrameworkStart_+3A_options.createfileinput">options.createFileInput</code></td>
<td>
<p><code>function</code> [optional] A function to create
an element that uploads a file, as required for
<code>toolkit.loadFileButton</code>.</p>
</td></tr>
</table>


<h3>The Schema</h3>

<p>It is a list with the following members:
</p>

<dl>
<dt><code>functions</code></dt><dd><p>a list of functions (keyed by their names),
each of which is a list with the following members: </p>

<dl>
<dt><code>params</code></dt><dd><p>a list of the main parameters the function
accepts. The keys are the parameter names and the values are
keys into the schema's <code>params</code> list.</p>
</dd>
<dt><code>optiongroups</code></dt><dd><p>a vector of keys into the schema's
<code>optiongroups</code> list giving other parameters to this function.</p>
</dd>
</dl>
</dd>
<dt><code>functiongroups</code></dt><dd><p>optional: the menu structure for the
functions menu. Each item in the list is either a function name (a
string referencing a key in the <code>functions</code> list) or a list
representing a submenu. Submenu keys are the name to be
displayed in the list, which can be overridden in the app.json
file's <code>functions</code> object, just like providing localized
names for functions.
</p>
</dd>
<dt><code>params</code></dt><dd><p>a list of the parameters the functions take,
each of which is a list with the following members: </p>

<dl>
<dt><code>type</code></dt><dd><p>either a key into the schema's <code>types</code> list,
giving the type of this parameter or the values it can take, or one
of a set of standard types: </p>

<dl>
<dt><code>'b'</code></dt><dd><p>Boolean</p>
</dd>
<dt><code>'f'</code></dt><dd><p>Floating point</p>
</dd>
<dt><code>'u8'</code></dt><dd><p>8-bit unsigned integer</p>
</dd>
<dt><code>'color'</code></dt><dd><p>Colour</p>
</dd>
<dt><code>'subheader'</code></dt><dd><p>Vector of settings the user can choose
for each column using selectors in the subheader row. This is
usually used to select units (for example percent-by-weight versus
parts-per-million) for the columns.</p>
</dd>
</dl>
</dd>
<dt><code>data</code></dt><dd><p>a key into the schema's <code>data</code> list,
giving initial or example data for this parameter.</p>
</dd>
</dl>
</dd>
<dt><code>types</code></dt><dd><p>a list of types with keys referened from the
schema's <code>params</code> lists's <code>type</code> values. The values
are a list with the following members: </p>

<dl>
<dt><code>kind</code></dt><dd><p>Mandatory; one of: </p>

<dl>
<dt><code>'enum'</code></dt><dd><p>Enumeration type</p>
</dd>
<dt><code>'column'</code></dt><dd><p>A column from the input grid</p>
</dd>
</dl>
</dd>
<dt><code>values</code></dt><dd><p>A vector of permitted values (only if
<code>kind='enum'</code>)</p>
</dd>
<dt><code>factors</code></dt><dd><p>Only if <code>kind='enum'</code> and this enum
is used as the unit type for some column; a vector of factors to
multiply column data by if the unit is changed by the user. Must
have the same number of elements as the <code>values</code>
vector. For every n, <code>factors[[n]]</code> of unit
<code>values[[n]]</code> must be equal. For example, if
<code>values=c('mm', 'cm', 'inch')</code> then <code>factors</code> could be
<code>c(25.4, 2.54, 1.0)</code>.</p>
</dd>
<dt><code>subtype</code></dt><dd><p>Only if <code>kind='column'</code>. The type of
data that can be entered into the column. Currenly only <code>'f'</code>
works well.</p>
</dd>
<dt><code>unittype</code></dt><dd><p>Optional and only if <code>kind='column'</code>.
The name of an enum type defining the units that the data in this
column can be expressed in.</p>
</dd>
</dl>
</dd>
<dt><code>data</code></dt><dd><p>A list of initial data with which table columns and
controls will be populated. Can be a single value or vector (or list)
as appropriate.</p>
</dd>
<dt><code>optiongroups</code></dt><dd><p>A list of option groups. Each one is a set
of parameters that can be added as a block to functions that want
them. Each element is a list with the following keys: </p>

<dl>
<dt><code>type</code></dt><dd><p>The same as for <code>param</code>'s <code>type</code>:
either a key into the schema's <code>types</code> list or one of the
standard types (<code>'b'</code>, <code>'u8'</code>, <code>'f'</code> or
<code>'color'</code>).</p>
</dd>
<dt><code>initial</code></dt><dd><p>The initial value for this option.</p>
</dd>
</dl>

<p>There is one special key in the <code>optiongroups</code> list; this is the
<code>framework</code> key. This is reserved for options that apply to
the framework itself, not to any of your functions. So far, the only
option it has is <code>autorefresh=list(type="b", initial=FALSE)</code>.
You can set its initial value to <code>TRUE</code> if you prefer. If you add
this option, it controls whether the GUI has a &quot;Calculate&quot; button
(<code>FALSE</code>) or whether the output should refresh a second or
two after the user finishes changing parameters (<code>TRUE</code>).
</p>
</dd></dl>



<h3>Localization</h3>

<p>To display human-friendly text on the controls and to get tooltip
help text, you need one or more localization files. These files
are named <code>inst/www/locales/XX/app.json</code> where
<code>XX</code> is replaced with the appropriate ISO language code.
</p>
<p>These files are JSON files containing an object with the following
keys: </p>

<dl>
<dt><code>title</code></dt><dd><p>Text for the link to put in the top left</p>
</dd>
<dt><code>homepage</code></dt><dd><p>Destination for the link to put in the top left</p>
</dd>
<dt><code>functions</code></dt><dd><p>One pair of translations for each
function in the schema.</p>
</dd>
<dt><code>params</code></dt><dd><p>One pair of translations for each
parameter in the schema.</p>
</dd>
<dt><code>optiongroups</code></dt><dd><p>Each of the <code>optiongroups</code>
in the schema gets a key which maps to an object which has
the following keys: </p>

<dl>
<dt><code>@title</code></dt><dd><p>A translation pair for the option group itself.</p>
</dd>
<dt>...</dt><dd><p>One translation pair for each option in the group.</p>
</dd>
</dl>
</dd>
<dt><code>types</code></dt><dd><p>One object for each <code>'enum'</code> type in
the schema. Each value is an object with one key per possible
enum value. Each value in this object is that enum value's
translation pair.</p>
</dd>
</dl>

<p>A &quot;translation pair&quot; is an object with the following keys: </p>

<dl>
<dt><code>name</code></dt><dd><p>A short name</p>
</dd>
<dt><code>help</code></dt><dd><p>Tooltip text</p>
</dd>
</dl>



<h3>See Also</h3>

<p>toolkit.loadFileButton
</p>

<hr>
<h2 id='getAddress'>Obtains the address that the server is listening on</h2><span id='topic+getAddress'></span>

<h3>Description</h3>

<p>Obtains the address that the server is listening on
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getAddress(server)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getAddress_+3A_server">server</code></td>
<td>
<p>The server (returned by <code><a href="#topic+slServer">slServer</a></code>
or <code><a href="#topic+slRunRServer">slRunRServer</a></code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The HTTP address as <code>protocol://address:port</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- slServer(
  port = 50051,
  interface = list(
    multiply = function(x, y) { x * y }
  )
)
address &lt;- getAddress(server)
# ...
slStop(server)
stopifnot(address == "http://127.0.0.1:50051")
</code></pre>

<hr>
<h2 id='indexWithInit'>Get index.html with (potentially) the JSON data in 'text'
inserted.</h2><span id='topic+indexWithInit'></span>

<h3>Description</h3>

<p>Get index.html with (potentially) the JSON data in 'text'
inserted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>indexWithInit(text, path)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="indexWithInit_+3A_text">text</code></td>
<td>
<p>The text to insert as shinylight_initial_data</p>
</td></tr>
<tr><td><code id="indexWithInit_+3A_path">path</code></td>
<td>
<p>File system path to the index.html file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The updated text
</p>

<hr>
<h2 id='rrpcServer'>Makes and starts a server for serving R calculations</h2><span id='topic+rrpcServer'></span>

<h3>Description</h3>

<p>It will serve files from the app directories specified by appDirs.
If a file is requested that is not in one of those directories, the
files in Shinylight's own inst/www directory will be served.
Some paths have special meanings: <code>/</code> returns
<code>/index.html</code>, <code>/lang/</code> is redirected to
<code>/locales/&lt;language-code&gt;/</code> depending
on the language selected in the request's Accept-Language
header (that is, the browser's language setting) and the
availability of the file requested. A POST request to <code>/init</code>
with a <code>data</code> parameter will return <code>/index.html</code>, except
that if the file has a line containing <code>shinylight_initial_data =</code>
then this line with be replaced with a line initializing
<code>shinylight_initial_data</code> to the data passed. This is used in
<code>shinylight-framework</code> to permit linking to a framework app
with specific data preloaded &ndash; the text should be as is downloaded
with the &quot;Save Data&quot; button. Of course, this is available to
non-framework apps, too.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rrpcServer(
  interface,
  host = "0.0.0.0",
  port = NULL,
  appDirs = NULL,
  root = "/",
  initialize = NULL,
  testFunction = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rrpcServer_+3A_interface">interface</code></td>
<td>
<p>List of functions to be served. The names of the elements
are the names that the client will use to call them.</p>
</td></tr>
<tr><td><code id="rrpcServer_+3A_host">host</code></td>
<td>
<p>Interface to listen on (default is <code>'0.0.0.0'</code>, that
is, all interfaces)</p>
</td></tr>
<tr><td><code id="rrpcServer_+3A_port">port</code></td>
<td>
<p>Port to listen on</p>
</td></tr>
<tr><td><code id="rrpcServer_+3A_appdirs">appDirs</code></td>
<td>
<p>List of directories in which to find static files to serve</p>
</td></tr>
<tr><td><code id="rrpcServer_+3A_root">root</code></td>
<td>
<p>Root of the app on the server (with trailing slash)</p>
</td></tr>
<tr><td><code id="rrpcServer_+3A_initialize">initialize</code></td>
<td>
<p>A json string or list (that will be converted to a
JSON string) to be passed to the JavaScript as initial data. For
non-framework apps, the index.html must contain a line containing
<code>var shinylight_initial_data=</code>, which will be replaced with
code that sets <code>shinylight_initial_data</code> to this supplied JSON
string.</p>
</td></tr>
<tr><td><code id="rrpcServer_+3A_testfunction">testFunction</code></td>
<td>
<p>Function to be called if the <code>/test</code>
endpoint is requested. If the function returns successfully, a 200
status will be returned. If not, a 500 status will be returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The server object, can be passed to <code><a href="#topic+slStop">slStop</a></code>
</p>

<hr>
<h2 id='runR'>Returns a function that runs an R command</h2><span id='topic+runR'></span>

<h3>Description</h3>

<p>If you set this as a part of your interface, like:
<code>runR=shinylight::runR(c("+", "plot", "c", "x", "y"))</code>
then you can call it from Javascript like this:
</p>
<div class="sourceCode"><pre>rrpc.call("runR", {
 Rcommand:"2+2"
}, function(x) {console.log(x);});
rrpc.call("runR", {
 Rcommand:"y&lt;-c(2,0,1);plot(c(1,2,3),y);y",
 'rrpc.resultformat': {
   type: 'png',
   width: 200,
   height: 300,
 }
}, function(x) {img.setAttribute('src', x.plot[0])});
</pre></div>


<h3>Usage</h3>

<pre><code class='language-R'>runR(symbolList)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="runR_+3A_symbollist">symbolList</code></td>
<td>
<p>A list of permitted symbols in the R command</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that can be passed as one of the elements of
<code><a href="#topic+slServer">slServer</a></code>'s <code>interface</code> argument.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- slServer(
  port = 50050,
  interface = list(
    run_the_users_r_code = runR(
      list("c", "$", "list", "+", "-", "/", "*", "sqrt")
    )
  )
)
# ...
slStop(server)
</code></pre>

<hr>
<h2 id='sendInfoText'>Sends informational text to the client.</h2><span id='topic+sendInfoText'></span>

<h3>Description</h3>

<p>During a slow remote procedure call, call this to inform the client
of progress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sendInfoText(text)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sendInfoText_+3A_text">text</code></td>
<td>
<p>The text to send</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sendProgress">sendProgress</a></code> for sending a progress completion
ratio to the user.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- slServer(
  port = 50051,
  interface = list(long_and_complicated = function(x) {
    # First part of work that takes some time
    # ...
    sendInfoText("We are about half way through")
    # Second part of work that takes some time
    # ...
  })
)
# ...
slStop(server)
</code></pre>

<hr>
<h2 id='sendProgress'>Sends a progress update to the client.</h2><span id='topic+sendProgress'></span>

<h3>Description</h3>

<p>During a slow remote procedure call, call this to inform the client
of progress.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sendProgress(numerator, denominator = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sendProgress_+3A_numerator">numerator</code></td>
<td>
<p>The progress, out of <code>denominator</code></p>
</td></tr>
<tr><td><code id="sendProgress_+3A_denominator">denominator</code></td>
<td>
<p>What the progress is out of. You could use this for the
number of known items to be completed so that each call increases either
the numerator (for more items done) and/or the denominator (for more items
discovered that need to be done). However, it is not necessary to be so
precise; you can set the numerator and denominator however you like on
each call as long as it makes sense to the user.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sendInfoText">sendInfoText</a></code> for sending text to the user.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- slServer(
  port = 50051,
  interface = list(long_and_complicated = function(x) {
    sendProgress(0,3)
    # First part of work that takes some time
    # ...
    sendProgress(1,3)
    # Second part of work that takes some time
    # ...
    sendProgress(2,3)
    # Last part of work that takes some time
    # ...
    sendProgress(3,3)
  })
)
# ...
slStop(server)
</code></pre>

<hr>
<h2 id='shinylight.call'>JavaScript function</h2><span id='topic+shinylight.call'></span>

<h3>Description</h3>

<p>Calls a server function as defined in the server's call to the
<code>slServer</code> function.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.call_+3A_fn">fn</code></td>
<td>
<p><code>string</code> The name of the R function to call.</p>
</td></tr>
<tr><td><code id="shinylight.call_+3A_data">data</code></td>
<td>
<p><code>object</code> An object whose keys are the arguments
to the function being called.</p>
</td></tr>
<tr><td><code id="shinylight.call_+3A_plotelement">plotElement</code></td>
<td>
<p><code>string</code>, <code>HTMLElement</code> If provided, the
<code>&lt;img&gt;</code> element (or id of the element) that will receive the
plot output (if any). The plot returned will be the size that this
element already has, so ensure that it is styled in a way that it has
the correct size even if no image (or an old image) has been set.</p>
</td></tr>
<tr><td><code id="shinylight.call_+3A_extra">extra</code></td>
<td>
<p><code>object</code> [optional] An object whose keys can be:
<code>"imgType"</code>: Type of image required, <code>"png"</code>
(default) or <code>"svg"</code>; <code>"info"</code>: Function to be called
if the R function <code><a href="#topic+sendInfoText">sendInfoText</a></code> is called;
<code>"progress"</code>: Function to be called if the R function
<code><a href="#topic+sendProgress">sendProgress</a></code> is called.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result object that might have a <code>plot</code>
property (giving a string that would work as the <code>src</code>
attribute of an <code>img</code> element, representing graphics
drawn by the command), a <code>data</code> property (giving
the value returned by the command) and a <code>headers</code>
property (giving the column names in the data returned if any).
If the promise resolves to an error, the argument to the error
function is a string representing the cause of the error.
</p>

<hr>
<h2 id='shinylight.initialize'>JavaScript function</h2><span id='topic+shinylight.initialize'></span>

<h3>Description</h3>

<p>Call this before calling any other ShinyLight function.
Returns a promise that resolves (to nothing) when the
connection is ready.
</p>

<hr>
<h2 id='shinylight.makeTable'>JavaScript function</h2><span id='topic+shinylight.makeTable'></span>

<h3>Description</h3>

<p>Turns data received from R into a form that can be set into
dataentrygrid.js.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.makeTable_+3A_data">data</code></td>
<td>
<p><code>object</code> Data as returned from R</p>
</td></tr>
<tr><td><code id="shinylight.makeTable_+3A_extracolumns">extraColumns</code></td>
<td>
<p><code>Array.&lt;string&gt;</code>, <code>number</code> The extra column headers
required or the number of extra columns required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Headers and rows
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
t = shinylight.makeTable(data);
grid.init(t.headers, t.rows);

## End(Not run)</code></pre>

<hr>
<h2 id='shinylight.passToOther'>JavaScript function</h2><span id='topic+shinylight.passToOther'></span>

<h3>Description</h3>

<p>Open another tab with another (possibly remote from this one)
instance of shinylight, initializing it with our own data.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.passToOther_+3A_url">url</code></td>
<td>
<p><code>string</code> The URL of the other shinylight instance</p>
</td></tr>
<tr><td><code id="shinylight.passToOther_+3A_data">data</code></td>
<td>
<p><code>any</code> The JSON to send. If a string is passed, this
is assumed to be JSON and sent as-is. Otherwise it is stringified
into JSON before being sent.</p>
</td></tr>
</table>

<hr>
<h2 id='shinylight.runR'>JavaScript function: Runs an R function.</h2><span id='topic+shinylight.runR'></span>

<h3>Description</h3>

<p>The R side must be running the slRunRServer function.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.runR_+3A_rcommand">rCommand</code></td>
<td>
<p><code>string</code> The R text to run. It can plot a graph
and/or return some R data structure (such as a data frame).</p>
</td></tr>
<tr><td><code id="shinylight.runR_+3A_data">data</code></td>
<td>
<p><code>any</code> A javascript value that will be translated
to the R command as a value also called 'data'.</p>
</td></tr>
<tr><td><code id="shinylight.runR_+3A_plotelement">plotElement</code></td>
<td>
<p><code>string</code>, <code>HTMLElement</code> If provided, the
<code>&lt;img&gt;</code> element (or id of the element) that will receive the
plot output (if any). The plot returned will be the size that this
element already has, so ensure that it is styled in a way that it has
the correct size even if no image (or an old image) has been set.</p>
</td></tr>
<tr><td><code id="shinylight.runR_+3A_extra">extra</code></td>
<td>
<p><code>object</code> [optional] An object whose keys can be:
<code>"imgType"</code>: Type of image required, <code>"png"</code>
(default) or <code>"svg"</code>; <code>"info"</code>: Function to be called
if the R function <code><a href="#topic+sendInfoText">sendInfoText</a></code> is called;
<code>"progress"</code>: Function to be called if the R function
<code><a href="#topic+sendProgress">sendProgress</a></code> is called.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Result object that might have a <code>plot</code>
property (giving a string that would work as the <code>src</code>
attribute of an <code>img</code> element, representing graphics
drawn by the command) and a <code>data</code> property (giving
the value returned by the command). If the promise resolves
to an error, the argument to the error function is a string
representing the cause of the error.
</p>

<hr>
<h2 id='shinylight.setElementJson'>JavaScript function</h2><span id='topic+shinylight.setElementJson'></span>

<h3>Description</h3>

<p>Sets the text content of an element (or its <code>value</code> as
appropriate) to the JSON representation of an object.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.setElementJson_+3A_elementorid">elementOrId</code></td>
<td>
<p><code>string</code>, <code>HTMLElement</code> The element (or its id)
that will have its text set</p>
</td></tr>
<tr><td><code id="shinylight.setElementJson_+3A_object">object</code></td>
<td>
<p><code>any</code> The object whose JSON representation will be
set as the text content of the element</p>
</td></tr>
</table>

<hr>
<h2 id='shinylight.setElementPlot'>JavaScript function: Sets an <code>&lt;img&gt;</code> element to display a plot returned by
<code><a href="#topic+runR">runR</a></code>.</h2><span id='topic+shinylight.setElementPlot'></span>

<h3>Description</h3>

<p>Normally you do not need to call this because to get
<code>shinylight</code> to produce a plot you need to set the
<code>plotElement</code> argument, and doing so will cause this
element to receive the plot automatically.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.setElementPlot_+3A_elementorid">elementOrId</code></td>
<td>
<p><code>string</code>, <code>HTMLImageElement</code> The
<code>&lt;img&gt;</code> element (or its id) that will receive the image.</p>
</td></tr>
<tr><td><code id="shinylight.setElementPlot_+3A_result">result</code></td>
<td>
<p><code>object</code> The result from <code><a href="#topic+runR">runR</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='shinylight.setElementText'>JavaScript function</h2><span id='topic+shinylight.setElementText'></span>

<h3>Description</h3>

<p>Sets the text content of an element (or its <code>value</code> as
appropriate).
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.setElementText_+3A_elementorid">elementOrId</code></td>
<td>
<p><code>string</code>, <code>HTMLElement</code> The element (or its id)
that will have its text set</p>
</td></tr>
<tr><td><code id="shinylight.setElementText_+3A_text">text</code></td>
<td>
<p><code>string</code> The text to set into the element</p>
</td></tr>
</table>

<hr>
<h2 id='shinylight.setGridResult'>JavaScript function</h2><span id='topic+shinylight.setGridResult'></span>

<h3>Description</h3>

<p>Sets a <code>dataentrygrid</code> object to the result of
<code><a href="#topic+runR">runR</a></code>, if appropriate.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.setGridResult_+3A_grid">grid</code></td>
<td>
<p><code>DataEntryGrid</code> Table that receives the result</p>
</td></tr>
<tr><td><code id="shinylight.setGridResult_+3A_result">result</code></td>
<td>
<p><code>object</code> Return value promised by <code><a href="#topic+runR">runR</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='shinylight.setGridResultWithNamedRows'>JavaScript function</h2><span id='topic+shinylight.setGridResultWithNamedRows'></span>

<h3>Description</h3>

<p>Sets a <code>dataentrygrid</code> object to the result of
<code><a href="#topic+runR">runR</a></code>. The object will have fixed rows, with
names derived from the row names in the original
data frame.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="shinylight.setGridResultWithNamedRows_+3A_grid">grid</code></td>
<td>
<p><code>DataEntryGrid</code> Table that receives the result</p>
</td></tr>
<tr><td><code id="shinylight.setGridResultWithNamedRows_+3A_result">result</code></td>
<td>
<p><code>object</code> Return value promised by <code><a href="#topic+runR">runR</a></code></p>
</td></tr>
</table>

<hr>
<h2 id='slRunRServer'>Start a ShinyLight server which runs R that it is sent</h2><span id='topic+slRunRServer'></span>

<h3>Description</h3>

<p>Start a ShinyLight server which runs R that it is sent
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slRunRServer(
  permittedSymbols,
  appDir = NULL,
  host = "127.0.0.1",
  port = NULL,
  daemonize = FALSE,
  initialize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="slRunRServer_+3A_permittedsymbols">permittedSymbols</code></td>
<td>
<p>List of symbols that are permitted in the R
commands passed. Remember to include <code>data</code>, <code>$</code> and
<code>&lt;-</code>.</p>
</td></tr>
<tr><td><code id="slRunRServer_+3A_appdir">appDir</code></td>
<td>
<p>Directory containing files to serve (for example
system.file(&quot;www&quot;, package = &quot;your-package&quot;))</p>
</td></tr>
<tr><td><code id="slRunRServer_+3A_host">host</code></td>
<td>
<p>IP address to listen on, default is <code>"127.0.0.1"</code>
(localhost). Use <code>"0.0.0.0"</code> to run in a docker container.</p>
</td></tr>
<tr><td><code id="slRunRServer_+3A_port">port</code></td>
<td>
<p>Internet port of the virtual server. If not defined, a
random free port will be chosen and the browser will be opened
to show the GUI.</p>
</td></tr>
<tr><td><code id="slRunRServer_+3A_daemonize">daemonize</code></td>
<td>
<p>If TRUE, keep serving forever without returning.
This is useful when called from <code>RScript</code>, to keep</p>
</td></tr>
<tr><td><code id="slRunRServer_+3A_initialize">initialize</code></td>
<td>
<p>A json string or list (that will be converted to a
JSON string) to be passed to the JavaScript as initial data. The
index.html must contain a line containing
<code>var shinylight_initial_data=</code>, which will be replaced with
code that sets <code>shinylight_initial_data</code> to this supplied JSON
string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>server object, unless daemonize is TRUE.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slServer">slServer</a></code> for the more general form of this
function, or <code><a href="#topic+slStop">slStop</a></code> to stop a running server.
<code><a href="#topic+shinylight.runR">shinylight.runR</a></code> is the JavaScript function you need
to call to pass R code from the browser to the server.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- slRunRServer(
  permitted = list("*"),
  port = 50053
)
# Normally we would use shinylight.js to send the function over
# and receive the result, not R and websocket.
ws &lt;- websocket::WebSocket$new("ws://127.0.0.1:50053/x")
resultdata &lt;- NULL
ws$onMessage(function(event) {
  resultdata &lt;&lt;- jsonlite::fromJSON(event$data)$result$data
})
ws$onOpen(function(event) {
  ws$send('{"method":"runR","params":{"Rcommand":"3 * 57"}}')
})
timeout = 30
while(is.null(resultdata) &amp;&amp; 0 &lt; timeout) {
  later::run_now()
  Sys.sleep(0.1)
  timeout &lt;- timeout - 1
}
ws$close()
slStop(server)
stopifnot(resultdata == 171)  # 3 * 57 == 171
grDevices::png()  # workaround; you do not have to do this
</code></pre>

<hr>
<h2 id='slServer'>Start a ShinyLight server</h2><span id='topic+slServer'></span>

<h3>Description</h3>

<p>Start a ShinyLight server
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slServer(
  interface,
  appDir = NULL,
  host = "127.0.0.1",
  port = NULL,
  daemonize = FALSE,
  initialize = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="slServer_+3A_interface">interface</code></td>
<td>
<p>List of functions you want to be able to call from
the browser. If you want to use the Shinylight Framework, this should
have one member <code>getSchema</code>. For details of this, see the
documentation for [shinylightFrameworkStart].</p>
</td></tr>
<tr><td><code id="slServer_+3A_appdir">appDir</code></td>
<td>
<p>Directory containing files to serve (for example
system.file(&quot;www&quot;, package = &quot;your-package&quot;))</p>
</td></tr>
<tr><td><code id="slServer_+3A_host">host</code></td>
<td>
<p>IP address to listen on, default is <code>"127.0.0.1"</code>
(localhost). Use <code>"0.0.0.0"</code> to run in a docker container.</p>
</td></tr>
<tr><td><code id="slServer_+3A_port">port</code></td>
<td>
<p>Internet port of the virtual server. If not defined, a
random free port will be chosen and the browser will be opened
to show the GUI.</p>
</td></tr>
<tr><td><code id="slServer_+3A_daemonize">daemonize</code></td>
<td>
<p>If TRUE, keep serving forever without returning.
This is useful when called from <code>RScript</code>, to keep</p>
</td></tr>
<tr><td><code id="slServer_+3A_initialize">initialize</code></td>
<td>
<p>A json string or list (that will be converted to a
JSON string) to be passed to the JavaScript as initial data. For
non-framework apps, the index.html must contain a line containing
<code>var shinylight_initial_data=</code>, which will be replaced with
code that sets <code>shinylight_initial_data</code> to this supplied JSON
string.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>server object, unless daemonize is TRUE in which case the
function will not return.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+slStop">slStop</a></code> to stop a running server, and
<code><a href="#topic+slRunRServer">slRunRServer</a></code> to run a server that just accepts R code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># You can leave out port and daemonize to launch a browser
# pointing at your server
server &lt;- slServer(
  port = 50052,
  interface = list(
    multiply = function(x, y) { x * y }
  )
)
# Normally we would use shinylight.js to send the function over
# and receive the result, not R and websocket.
ws &lt;- websocket::WebSocket$new("ws://127.0.0.1:50052/x")
resultdata &lt;- NULL
ws$onMessage(function(event) {
  resultdata &lt;&lt;- jsonlite::fromJSON(event$data)$result$data
})
ws$onOpen(function(event) {
  ws$send('{ "method": "multiply", "params": { "x": 3, "y": 47 } }')
})
timeout = 30
while(is.null(resultdata) &amp;&amp; 0 &lt; timeout) {
  later::run_now()
  Sys.sleep(0.1)
  timeout &lt;- timeout - 1
}
ws$close()
slStop(server)
stopifnot(resultdata == 141)  # multiply(3, 47) == 141
grDevices::png()  # workaround; you do not have to do this
</code></pre>

<hr>
<h2 id='slStop'>Stops a ShinyLight GUI</h2><span id='topic+slStop'></span>

<h3>Description</h3>

<p>Stops a ShinyLight GUI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slStop(server = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="slStop_+3A_server">server</code></td>
<td>
<p>The server (returned by <code><a href="#topic+slServer">slServer</a></code>
or <code><a href="#topic+slRunRServer">slRunRServer</a></code>)
to stop. If not supplied all servers will be stopped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>server &lt;- slServer(
  port = 50051,  # leave this out if you don't care about the port number
  interface = list(
    multiply = function(x, y) { x * y }
  )
)
# ...
slStop(server)
</code></pre>

<hr>
<h2 id='toolkit.all'>JavaScript function: Finds if a predicate is true for all members of an array or object.</h2><span id='topic+toolkit.all'></span>

<h3>Description</h3>

<p>Calls a function for each member of an array or object until either
one of them returns false (in which case <code>all</code> returns false) or
we run out of elements (in which case <code>all</code> returns true).
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.all_+3A_a">a</code></td>
<td>
<p><code>object</code> Object or array to be iterated through.</p>
</td></tr>
<tr><td><code id="toolkit.all_+3A_p">p</code></td>
<td>
<p><code>function</code> Function to call with two arguments: the key
of the element (or index in the case of an array) and the value;
should return a boolean.</p>
</td></tr>
</table>

<hr>
<h2 id='toolkit.any'>JavaScript function: Finds if a predicate is true for any member of an array or object.</h2><span id='topic+toolkit.any'></span>

<h3>Description</h3>

<p>Calls a function for each member of an array or object until either
one of them returns true (in which case <code>any</code> returns true) or
we run out of elements (in which case <code>any</code> returns false).
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.any_+3A_a">a</code></td>
<td>
<p><code>object</code> Object or array to be iterated through.</p>
</td></tr>
<tr><td><code id="toolkit.any_+3A_p">p</code></td>
<td>
<p><code>function</code> Function to call with two arguments: the key
of the element (or index in the case of an array) and the value;
should return a boolean.</p>
</td></tr>
</table>

<hr>
<h2 id='toolkit.banner'>JavaScript function</h2><span id='topic+toolkit.banner'></span>

<h3>Description</h3>

<p>Returns a Container Element for displaying controls horizontally.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.banner_+3A_elements">elements</code></td>
<td>
<p><code>Array.&lt;HTMLControlElement&gt;</code> Initial array of elements to be added.</p>
</td></tr>
<tr><td><code id="toolkit.banner_+3A_classname">className</code></td>
<td>
<p><code>string</code> HTML class for the returned banner.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The banner element.
</p>

<hr>
<h2 id='toolkit.button'>JavaScript function: Returns a button.</h2><span id='topic+toolkit.button'></span>

<h3>Description</h3>

<p>This button is an HTML element, but it is not an HTML button.
Styling and JavaScript provide the button-like look-and-feel.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.button_+3A_id">id</code></td>
<td>
<p><code>string</code> The HTML id of the button will be
<code>'button-' + id</code>. It is also used in the interpretation of
the <code>translations</code> argument.</p>
</td></tr>
<tr><td><code id="toolkit.button_+3A_fn">fn</code></td>
<td>
<p><code>function</code> Unary function that takes a single parameter
of a nullary function. This function will be called on completion
of the work (which will be used to remove the button's 'click'
animation). If the function want to use as a callback does not take
an argument, you can wrap it in <code><a href="#topic+toolkit.withTimeout">toolkit.withTimeout</a></code>. You
might also want to use <code><a href="#topic+toolkit.withTimeout">toolkit.withTimeout</a></code> if your
function returns too quickly, otherwise the user might not see
the button click.</p>
</td></tr>
<tr><td><code id="toolkit.button_+3A_translations">translations</code></td>
<td>
<p><code>object</code> An object with a key <code>id</code>
having a value that is an object having a key <code>'name'</code>
with value the display name of the button, and optionally a key
<code>'help'</code> with value of the tooltip text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The button.
</p>

<hr>
<h2 id='toolkit.deref'>JavaScript function: Dereferences an object or array through multiple indices.</h2><span id='topic+toolkit.deref'></span>

<h3>Description</h3>

<p><code>deref(o, [a,b,c], d)</code> is a safe way of doing
<code>o[a][b][c]</code>. If that path does not exist, d is returned.
If d is not supplied, null is returned. Any undefined values in
path are ignored.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.deref_+3A_object">object</code></td>
<td>
<p><code>object</code> The object to be dereferenced.</p>
</td></tr>
<tr><td><code id="toolkit.deref_+3A_path">path</code></td>
<td>
<p><code>Array</code> The series of indices to be applied.</p>
</td></tr>
<tr><td><code id="toolkit.deref_+3A_defaultvalue">defaultValue</code></td>
<td>
<p><code><a href="#topic+toolkit.any">toolkit.any</a></code> The default value to be returned if
the path cannot be followed to the end.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Object dereferenced, <code>defaultValue</code>, or null.
</p>

<hr>
<h2 id='toolkit.footer'>JavaScript function: A panel with a smaller footer.</h2><span id='topic+toolkit.footer'></span>

<h3>Description</h3>

<p>Returns a Positioned Element consisting of a body and a footer.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.footer_+3A_ftr">ftr</code></td>
<td>
<p><code>HTMLElement</code> The footer element.</p>
</td></tr>
<tr><td><code id="toolkit.footer_+3A_main">main</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The body element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The element containing
the footer and body.
</p>

<hr>
<h2 id='toolkit.forEach'>JavaScript function</h2><span id='topic+toolkit.forEach'></span>

<h3>Description</h3>

<p>Calls a function for each member of an array or object.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.forEach_+3A_a">a</code></td>
<td>
<p><code>object</code> Object or array to be iterated through.</p>
</td></tr>
<tr><td><code id="toolkit.forEach_+3A_f">f</code></td>
<td>
<p><code>function</code> Function to call with two arguments: the key
of the element (or index in the case of an array) and the value.</p>
</td></tr>
</table>

<hr>
<h2 id='toolkit.groupTitle'>JavaScript function: Option group title</h2><span id='topic+toolkit.groupTitle'></span>

<h3>Description</h3>

<p>Adds a group title to an <code><a href="#topic+toolkit.optionsPage">toolkit.optionsPage</a></code>.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.groupTitle_+3A_container">container</code></td>
<td>
<p><code>HTMLElement</code> The container, preferably the
return value from <code><a href="#topic+toolkit.optionsPage">toolkit.optionsPage</a></code>.</p>
</td></tr>
<tr><td><code id="toolkit.groupTitle_+3A_labeltranslations">labelTranslations</code></td>
<td>
<p><code>object</code> An object with two keys:
<code>'name'</code> is the display text for this title,
<code>'help'</code> (optional) is the tooltip text.</p>
</td></tr>
</table>

<hr>
<h2 id='toolkit.header'>JavaScript function: A panel with a smaller header.</h2><span id='topic+toolkit.header'></span>

<h3>Description</h3>

<p>Returns a Positioned Element consisting of a header and a body.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.header_+3A_hdr">hdr</code></td>
<td>
<p><code>HTMLElement</code> The header element.</p>
</td></tr>
<tr><td><code id="toolkit.header_+3A_main">main</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The body element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The element containing
the header and body.
</p>

<hr>
<h2 id='toolkit.HTMLContainerElement'>JavaScript class: A monkey-patched <code>HTMLElement</code>.</h2><span id='topic+toolkit.HTMLContainerElement'></span>

<h3>Description</h3>

<p>A Container Element is an element for displaying a set of controls and their labels.
</p>


<h3>Properties</h3>


<dl>
<dt>makeSubElement</dt><dd><p><code>function</code> Gets an element in which a control and its label can be stored. You do not need
to call this unless you have made your own custom control; it will be called
by functions such as <code><a href="#topic+toolkit.paramText">toolkit.paramText</a></code>. Pass in the ID of the control
(you will need the ID for the <code>getData</code> and <code>setData</code> calls).</p>
</dd>
<dt>getData</dt><dd><p><code>function</code> Returns an object mapping contained
controls (or nested containers) to their current values.</p>
</dd>
<dt>setData</dt><dd><p><code>function</code> Sets the values
of the contained controls. <code>data</code> is a mapping from the IDs of
the contained controls to the data that should be set on them.</p>
</dd>
</dl>


<h3>See Also</h3>

<p><code><a href="#topic+toolkit.stack">toolkit.stack</a></code>
</p>
<p><code><a href="#topic+toolkit.banner">toolkit.banner</a></code>
</p>
<p><code><a href="#topic+toolkit.optionsPage">toolkit.optionsPage</a></code>
</p>

<hr>
<h2 id='toolkit.HTMLControlContainerElement'>JavaScript class</h2><span id='topic+toolkit.HTMLControlContainerElement'></span>

<h3>Description</h3>

<p>A container for a single control.
</p>


<h3>Properties</h3>


<dl>
<dt>addElement</dt><dd><p><code>function</code> Adds an element. Should be called once with a control's label, and then
again with the control itself.</p>
</dd>
</dl>


<h3>See Also</h3>

<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code>
</p>

<hr>
<h2 id='toolkit.HTMLControlElement'>JavaScript class</h2><span id='topic+toolkit.HTMLControlElement'></span>

<h3>Description</h3>

<p>A monkey-patched <code>HTMLElement</code> representing a control with its
label.
</p>


<h3>Properties</h3>


<dl>
<dt>getData</dt><dd><p><code>function</code> Returns the current displayed value.</p>
</dd>
<dt>setData</dt><dd><p><code>function</code> Sets the value.</p>
</dd>
<dt>hide</dt><dd><p><code>function</code> Makes the element invisible and non-interactive</p>
</dd>
<dt>show</dt><dd><p><code>function</code> makes the element visible and (potentially) interactive</p>
</dd>
</dl>


<h3>See Also</h3>

<p><code><a href="#topic+toolkit.paramBoolean">toolkit.paramBoolean</a></code>
</p>
<p><code><a href="#topic+toolkit.paramColor">toolkit.paramColor</a></code>
</p>
<p><code><a href="#topic+toolkit.paramFloat">toolkit.paramFloat</a></code>
</p>
<p><code><a href="#topic+toolkit.paramInteger">toolkit.paramInteger</a></code>
</p>
<p><code><a href="#topic+toolkit.paramSelector">toolkit.paramSelector</a></code>
</p>
<p><code><a href="#topic+toolkit.paramText">toolkit.paramText</a></code>
</p>

<hr>
<h2 id='toolkit.HTMLPositionedElement'>JavaScript class: A monkey-patched <code>HTMLElement</code> with some extra methods.</h2><span id='topic+toolkit.HTMLPositionedElement'></span>

<h3>Description</h3>

<p>Certain elements returned by Toolkit methods are Positioned Elements. It is
necessary for elements in some places in the document to be Positioned
Elements for the document resizing and formatting to work.
</p>
<p>If you have an HTML element that is not a Positioned Element that you want
to add to a place where only Positioned Elements are required, wrap it in
<code><a href="#topic+toolkit.scrollingWrapper">toolkit.scrollingWrapper</a></code> or <code><a href="#topic+toolkit.nonScrollingWrapper">toolkit.nonScrollingWrapper</a></code>.
</p>


<h3>Properties</h3>


<dl>
<dt>setSize</dt><dd><p><code>function</code> Sets the position of the element on the document in pixels, with parameters
for left, top, width and height in that order.</p>
</dd>
<dt>getSize</dt><dd><p><code>function</code> Returns an object with members <code>left</code>, <code>top</code>, <code>width</code>
and <code>height</code> for the position of the element.</p>
</dd>
<dt>hide</dt><dd><p><code>function</code> Makes the element invisible and non-interactive</p>
</dd>
<dt>show</dt><dd><p><code>function</code> makes the element visible and (potentially) interactive</p>
</dd>
</dl>

<hr>
<h2 id='toolkit.image'>JavaScript function</h2><span id='topic+toolkit.image'></span>

<h3>Description</h3>

<p>An image element.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.image_+3A_updatesizefunction">updateSizeFunction</code></td>
<td>
<p><code>function</code> Nullary function called when
the object's size is changed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Image element. It has a
<code>getSize()</code> method, returning an object with width and height
members. This is the width and height set by <code>reposition()</code>,
not the actual on-screen width and height, if that is different
for some reason. In other words, it returns the width and height
the image &quot;should&quot; have.
</p>

<hr>
<h2 id='toolkit.leftSideBar'>JavaScript function: A panel with a side bar.</h2><span id='topic+toolkit.leftSideBar'></span>

<h3>Description</h3>

<p>Returns a Positioned Element consisting of a left side bar and a body.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.leftSideBar_+3A_bar">bar</code></td>
<td>
<p><code>HTMLElement</code> The side bar element.</p>
</td></tr>
<tr><td><code id="toolkit.leftSideBar_+3A_main">main</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The body element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Toolkit Positioned Element containing
the side bar and body.
</p>

<hr>
<h2 id='toolkit.loadFileButton'>JavaScript function: Returns a button that uploads a file from the client.</h2><span id='topic+toolkit.loadFileButton'></span>

<h3>Description</h3>

<p>This button is an HTML element, but it is not an HTML button.
Styling and JavaScript provide the button-like look-and-feel.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.loadFileButton_+3A_id">id</code></td>
<td>
<p><code>string</code> The HTML id of the button will be
<code>'button-' + id</code>. It is also used in the interpretation of
the <code>translations</code> argument.</p>
</td></tr>
<tr><td><code id="toolkit.loadFileButton_+3A_fn">fn</code></td>
<td>
<p><code>function</code> A binary callback function. Its two
parameters are the File object uploaded and a (nullary)
function that will be called when the operation completes.</p>
</td></tr>
<tr><td><code id="toolkit.loadFileButton_+3A_translations">translations</code></td>
<td>
<p><code>object</code> An object with a key <code>id</code>
having a value that is an object having a key <code>'name'</code>
with value the display name of the button, and optionally a key
<code>'help'</code> with value of the tooltip text.</p>
</td></tr>
<tr><td><code id="toolkit.loadFileButton_+3A_createfileinput">createFileInput</code></td>
<td>
<p><code>function</code> [optional] A function to create an element that
uploads a file. By default this is a normal <code>&lt;input type="file"&gt;</code>
with an extra <code>show</code> member function that does nothing.
The function takes two parameters: <code>uploadFn</code> and <code>doneFn</code>.
<code>uploadFn</code> must be called when a file has been chosen for upload;
it takes two parameters: a File object and a callback function that is
called on completion. You should either pass <code>doneFn</code> as this
second parameter, or a function that performs some actions then
calls <code>doneFn()</code> itself. The return value of <code>createFileInput</code>
should be the element itself, monkey-patched to include a <code>show()</code>
method that will be called when the Load button is clicked.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The button.
</p>

<hr>
<h2 id='toolkit.makeLabel'>JavaScript function: Makes a label suitable for labelling a control.</h2><span id='topic+toolkit.makeLabel'></span>

<h3>Description</h3>

<p>The label has translatable text and a help tooltip (if translated for).
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.makeLabel_+3A_translations">translations</code></td>
<td>
<p><code>object</code> <code>translations[id].name</code> is the string
to use as label's text, <code>translations[id].help</code> is the string to use as
the label's tooltip. If <code>id</code> is undefined or null, <code>translations.name</code>
and <code>translations.help</code> are used.</p>
</td></tr>
<tr><td><code id="toolkit.makeLabel_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLControlContainerElement">toolkit.HTMLControlContainerElement</a></code> [optional] Where to put the
label.</p>
</td></tr>
<tr><td><code id="toolkit.makeLabel_+3A_id">id</code></td>
<td>
<p><code>string</code> [optional] Where to look in <code>translations</code> for the text.</p>
</td></tr>
<tr><td><code id="toolkit.makeLabel_+3A_idfor">idFor</code></td>
<td>
<p><code>string</code> [optional] The <code>id</code> attribute of the HTML element
that this element refers to.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The label.
</p>

<hr>
<h2 id='toolkit.nonScrollingWrapper'>JavaScript function: Returns a Positioned Element just containing one element.</h2><span id='topic+toolkit.nonScrollingWrapper'></span>

<h3>Description</h3>

<p>This element does not gain scrollbars if it is too large for this returned
container, and it will try to take up its full size in the layout.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.nonScrollingWrapper_+3A_element">element</code></td>
<td>
<p><code>HTMLElement</code> The element to be wrapped</p>
</td></tr>
<tr><td><code id="toolkit.nonScrollingWrapper_+3A_verticalpadding">verticalPadding</code></td>
<td>
<p><code>int</code> The number of extra pixels above the element's
height to use as the returned element's default height.</p>
</td></tr>
<tr><td><code id="toolkit.nonScrollingWrapper_+3A_horizontalpadding">horizontalPadding</code></td>
<td>
<p><code>int</code> The number of extra pixels above the element's
width to use as the returned element's default width.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The wrapper.
</p>

<hr>
<h2 id='toolkit.optionsPage'>JavaScript function: Returns a Container Element for displaying controls vertically.</h2><span id='topic+toolkit.optionsPage'></span>

<h3>Description</h3>

<p>Returns an element with a <code>makeSubElement</code> method that
adds elements vertically. This differs from <code><a href="#topic+toolkit.stack">toolkit.stack</a></code> in that the
labels will be aligned on the left and the controls will be aligned on the
right. It would make a nice options page, for example.
</p>


<h3>Value</h3>

<p>A Container Element for displaying elements vertically.
</p>

<hr>
<h2 id='toolkit.overlay'>JavaScript function: A panel with an overlay.</h2><span id='topic+toolkit.overlay'></span>

<h3>Description</h3>

<p>Returns a Positioned Element consisting of two elements
placed in the same position. To be able to see the lower (main)
element you must either call <code>hide()</code> on the overlay,
or make it transparent with CSS.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.overlay_+3A_overlay">overlay</code></td>
<td>
<p><code>HTMLElement</code> The higher element. Any
<code>getData()</code> or <code>setData()</code> call on the
returned element will not be passed on to this overlay element.</p>
</td></tr>
<tr><td><code id="toolkit.overlay_+3A_main">main</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The lower element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The element containing both elements.
</p>

<hr>
<h2 id='toolkit.pages'>JavaScript function: Returns a Positioned Element for displaying controls in
tabbed pages.</h2><span id='topic+toolkit.pages'></span>

<h3>Description</h3>

<p>Only one page will be visible at a time. The returned element
has <code>getData</code> and <code>setData</code> methods that take or
return (respectively) an object with keys that are the IDs of the
pages.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.pages_+3A_pageelements">pageElements</code></td>
<td>
<p><code>object</code> dictionary of pageIds to elements
(that will be added to the return value of this function). These
elements each need methods <code>show</code>, <code>hide</code> and
<code>setData</code> (like the ones returned by <code><a href="#topic+toolkit.header">toolkit.header</a></code>,
<code><a href="#topic+toolkit.scrollingWrapper">toolkit.scrollingWrapper</a></code>,
<code><a href="#topic+toolkit.nonScrollingWrapper">toolkit.nonScrollingWrapper</a></code>, <code><a href="#topic+toolkit.leftSideBar">toolkit.leftSideBar</a></code>,
(that is to say, Positioned Elements) if they are to be
output pages. Only <code>show</code> and <code>hide</code> if they are to be
available permanently and not be set through the <code>setData</code> call.</p>
</td></tr>
<tr><td><code id="toolkit.pages_+3A_labeltranslations">labelTranslations</code></td>
<td>
<p><code>object</code> dictionary of pageIds to objects
with keys <code>name</code> (for the label text) and <code>help</code> (for
tooltip help HTML)</p>
</td></tr>
<tr><td><code id="toolkit.pages_+3A_tabidprefix">tabIdPrefix</code></td>
<td>
<p><code>string</code> If you want HTML IDs for your tab
elements, set this and the ID will be set to
<code>tabIdPrefix + pageId</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An element that has the
tabs and the tabs that switch between them. The active tab has
the &quot;active&quot; class. It has the following extra methods:
<code>setData(data)</code>: data is a dictionary with keys matching the
pageIds. The values are passed to the <code>setData()</code> functions
of the corresponding elements. Pages without any data (and their
corresponding radio buttons) are summarily disabled. Pages with
data are enabled. <code>reposition()</code>: sets each page to the same
dimensions as the container and calls each page's
<code>reposition()</code> method (if it exists).
</p>

<hr>
<h2 id='toolkit.paramBoolean'>JavaScript function: Returns a checkbox input Toolkit Control.</h2><span id='topic+toolkit.paramBoolean'></span>

<h3>Description</h3>

<p>A control for a boolean value rendered as a checkbox.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.paramBoolean_+3A_id">id</code></td>
<td>
<p><code>string</code> when <code>getData</code> or <code>setData</code> is
called on the container, the value at <code>'id'</code> refers to this
selector. The HTML id is set to <code>'param-' + id</code>.</p>
</td></tr>
<tr><td><code id="toolkit.paramBoolean_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.paramBoolean_+3A_translations">translations</code></td>
<td>
<p><code>object</code> Optional mapping: <code>translations.id</code>
is the name of the control to be displayed and <code>translations.help</code>
is help text to be displayed if the user hovers over the label</p>
</td></tr>
<tr><td><code id="toolkit.paramBoolean_+3A_initial">initial</code></td>
<td>
<p><code>string</code> Optional initial value for the control</p>
</td></tr>
<tr><td><code id="toolkit.paramBoolean_+3A_callback">callback</code></td>
<td>
<p><code>function</code> Optional function to be called whenever the
input value changes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Checkbox input control.
</p>

<hr>
<h2 id='toolkit.paramColor'>JavaScript function: Returns a colour input Toolkit Control.</h2><span id='topic+toolkit.paramColor'></span>

<h3>Description</h3>

<p>It is a standard HTML input control with type <code>color</code>. The value
returned is a six-hex-digit string prefixed with a <code>#</code>.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.paramColor_+3A_id">id</code></td>
<td>
<p><code>string</code> when <code>getData</code> or <code>setData</code> is
called on the container, the value at <code>'id'</code> refers to this
selector. The HTML id is set to <code>'param-' + id</code>.</p>
</td></tr>
<tr><td><code id="toolkit.paramColor_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.paramColor_+3A_translations">translations</code></td>
<td>
<p><code>object</code> Optional mapping: <code>translations.id</code>
is the name of the control to be displayed and <code>translations.help</code>
is help text to be displayed if the user hovers over the label</p>
</td></tr>
<tr><td><code id="toolkit.paramColor_+3A_initial">initial</code></td>
<td>
<p><code>string</code> Optional initial value for the control</p>
</td></tr>
<tr><td><code id="toolkit.paramColor_+3A_callback">callback</code></td>
<td>
<p><code>function</code> Optional function to be called whenever the
input value changes</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text input control.
</p>

<hr>
<h2 id='toolkit.paramFloat'>JavaScript function: Returns a floating point input Toolkit Control.</h2><span id='topic+toolkit.paramFloat'></span>

<h3>Description</h3>

<p>Values outside the permitted range will gain the &quot;invalid&quot; class,
but there is no other effect.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.paramFloat_+3A_id">id</code></td>
<td>
<p><code>string</code> when <code>getData</code> or <code>setData</code> is
called on the container, the value at <code>'id'</code> refers to this
selector. The HTML id is set to <code>'param-' + id</code>.</p>
</td></tr>
<tr><td><code id="toolkit.paramFloat_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.paramFloat_+3A_translations">translations</code></td>
<td>
<p><code>object</code> Optional mapping: <code>translations.id</code>
is the name of the control to be displayed and <code>translations.help</code>
is help text to be displayed if the user hovers over the label</p>
</td></tr>
<tr><td><code id="toolkit.paramFloat_+3A_initial">initial</code></td>
<td>
<p><code>string</code> Optional initial value for the control</p>
</td></tr>
<tr><td><code id="toolkit.paramFloat_+3A_callback">callback</code></td>
<td>
<p><code>function</code> Optional function to be called whenever the
input value changes</p>
</td></tr>
<tr><td><code id="toolkit.paramFloat_+3A_min">min</code></td>
<td>
<p><code>float</code> Minimum permitted value (optional).</p>
</td></tr>
<tr><td><code id="toolkit.paramFloat_+3A_max">max</code></td>
<td>
<p><code>float</code> Maximum permitted value (optional).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text input control.
</p>

<hr>
<h2 id='toolkit.paramInteger'>JavaScript function: Returns an integer input Toolkit Control.</h2><span id='topic+toolkit.paramInteger'></span>

<h3>Description</h3>

<p>Values outside the permitted range will gain the &quot;invalid&quot; class,
but there is no other effect.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.paramInteger_+3A_id">id</code></td>
<td>
<p><code>string</code> when <code>getData</code> or <code>setData</code> is
called on the container, the value at <code>'id'</code> refers to this
selector. The HTML id is set to <code>'param-' + id</code>.</p>
</td></tr>
<tr><td><code id="toolkit.paramInteger_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.paramInteger_+3A_translations">translations</code></td>
<td>
<p><code>object</code> Optional mapping: <code>translations.id</code>
is the name of the control to be displayed and <code>translations.help</code>
is help text to be displayed if the user hovers over the label</p>
</td></tr>
<tr><td><code id="toolkit.paramInteger_+3A_initial">initial</code></td>
<td>
<p><code>string</code> Optional initial value for the control</p>
</td></tr>
<tr><td><code id="toolkit.paramInteger_+3A_callback">callback</code></td>
<td>
<p><code>function</code> Optional function to be called whenever the
input value changes</p>
</td></tr>
<tr><td><code id="toolkit.paramInteger_+3A_min">min</code></td>
<td>
<p><code>int</code> Minimum permitted value (optional).</p>
</td></tr>
<tr><td><code id="toolkit.paramInteger_+3A_max">max</code></td>
<td>
<p><code>int</code> Maximum permitted value (optional).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text input control.
</p>

<hr>
<h2 id='toolkit.paramSelector'>JavaScript function: Returns a custom selection box Toolkit Control.</h2><span id='topic+toolkit.paramSelector'></span>

<h3>Description</h3>

<p>This is different to a normal selection box because it allows
tooltips on the items within the list.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.paramSelector_+3A_id">id</code></td>
<td>
<p><code>string</code> when <code>getData</code> or <code>setData</code> is
called on the container, the value at <code>'id'</code> refers to this
selector. The HTML id is set to <code>'param-' + id</code>.</p>
</td></tr>
<tr><td><code id="toolkit.paramSelector_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.
the container came from <code>optionsPage()</code> the new selection box
will be formatted as a table row.</p>
</td></tr>
<tr><td><code id="toolkit.paramSelector_+3A_labeltranslations">labelTranslations</code></td>
<td>
<p><code>object</code> A dictionary with two optional keys;
'name' gives the label to display and 'help' gives HTML help text.
'help' has no effect unless 'name' is also present.</p>
</td></tr>
<tr><td><code id="toolkit.paramSelector_+3A_values">values</code></td>
<td>
<p><code>Array.&lt;int&gt;</code> An array of the IDs of the options
in the selection.</p>
</td></tr>
<tr><td><code id="toolkit.paramSelector_+3A_valuetranslations">valueTranslations</code></td>
<td>
<p><code>object</code> A dictionary whose keys are the
IDs of the options in the selection, the values are more dictionaries.
These dictionaries have two optional keys; <code>'name'</code> (giving
the name to display for this option) and <code>'help'</code> (giving tooltip
HTML text).</p>
</td></tr>
<tr><td><code id="toolkit.paramSelector_+3A_initial">initial</code></td>
<td>
<p><code>string</code> ID of the option to start selecting (optional)</p>
</td></tr>
<tr><td><code id="toolkit.paramSelector_+3A_callback">callback</code></td>
<td>
<p><code>function</code> The (nullary) function to call when the
value changes (optional)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The selection box.
</p>

<hr>
<h2 id='toolkit.paramText'>JavaScript function: Returns a text input Toolkit Control.</h2><span id='topic+toolkit.paramText'></span>

<h3>Description</h3>

<p>Any text is permitted unless a <code>validate</code> function is supplied.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.paramText_+3A_id">id</code></td>
<td>
<p><code>string</code> when <code>getData</code> or <code>setData</code> is
called on the container, the value at <code>'id'</code> refers to this
selector. The HTML id is set to <code>'param-' + id</code>.</p>
</td></tr>
<tr><td><code id="toolkit.paramText_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.paramText_+3A_translations">translations</code></td>
<td>
<p><code>object</code> Optional mapping: <code>translations.id</code>
is the name of the control to be displayed and <code>translations.help</code>
is help text to be displayed if the user hovers over the label</p>
</td></tr>
<tr><td><code id="toolkit.paramText_+3A_initial">initial</code></td>
<td>
<p><code>string</code> Optional initial value for the control</p>
</td></tr>
<tr><td><code id="toolkit.paramText_+3A_callback">callback</code></td>
<td>
<p><code>function</code> Optional function to be called whenever the
input value changes</p>
</td></tr>
<tr><td><code id="toolkit.paramText_+3A_validate">validate</code></td>
<td>
<p><code>function</code> Optional function returning <code>true</code>
if passed a value that this control should accept or <code>false</code>
otherwise.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Text input control.
</p>

<hr>
<h2 id='toolkit.preformattedText'>JavaScript function: A static text Toolkit Control in a preformatted style.</h2><span id='topic+toolkit.preformattedText'></span>

<h3>Description</h3>

<p>This element is like a control in that it has a label and actual
text content, but it is not interactive.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.preformattedText_+3A_id">id</code></td>
<td>
<p><code>string</code> The ID of this control within the container</p>
</td></tr>
<tr><td><code id="toolkit.preformattedText_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.preformattedText_+3A_translations">translations</code></td>
<td>
<p><code>object</code> An object with keys <code>'name'</code>
for the label displayed by the text and <code>'help'</code> for tooltop text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The static text element. The text content
can be set by calling its <code>setData()</code> function with any plain
text.
</p>

<hr>
<h2 id='toolkit.progressBar'>JavaScript function: Returns a Positioned Element progress bar.</h2><span id='topic+toolkit.progressBar'></span>

<h3>Description</h3>

<p>The progress is set by calling the <code>setData()</code> method.
</p>


<h3>Value</h3>

<p>The progress bar element.
</p>

<hr>
<h2 id='toolkit.rightSideBar'>JavaScript function: A panel with a side bar.</h2><span id='topic+toolkit.rightSideBar'></span>

<h3>Description</h3>

<p>Returns a Positioned Element consisting of a right side bar and a body.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.rightSideBar_+3A_bar">bar</code></td>
<td>
<p><code>HTMLElement</code> The side bar element.</p>
</td></tr>
<tr><td><code id="toolkit.rightSideBar_+3A_main">main</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The body element.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The Toolkit Positioned Element containing
the side bar and body.
</p>

<hr>
<h2 id='toolkit.scrollingWrapper'>JavaScript function: Returns a Positioned Element just containing one element.</h2><span id='topic+toolkit.scrollingWrapper'></span>

<h3>Description</h3>

<p>This element gains scrollbars if it is too large for this returned container.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.scrollingWrapper_+3A_element">element</code></td>
<td>
<p><code>HTMLElement</code> The element to be wrapped</p>
</td></tr>
<tr><td><code id="toolkit.scrollingWrapper_+3A_verticalpadding">verticalPadding</code></td>
<td>
<p><code>int</code> The number of extra pixels above the element's
height to use as the returned element's default height.</p>
</td></tr>
<tr><td><code id="toolkit.scrollingWrapper_+3A_horizontalpadding">horizontalPadding</code></td>
<td>
<p><code>int</code> The number of extra pixels above the element's
width to use as the returned element's default width.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The wrapper.
</p>

<hr>
<h2 id='toolkit.setAsBody'>JavaScript function: Replaces the <code>&lt;main&gt;</code> tag in the document with this element.</h2><span id='topic+toolkit.setAsBody'></span>

<h3>Description</h3>

<p>The element will have its <code>resize</code> event wired up. If <code>el</code>
is a Toolkit Positioned Element, it will be resized correctly when the
window is resized.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.setAsBody_+3A_el">el</code></td>
<td>
<p><code>HTMLElement</code> The element to set as <code>&lt;main&gt;</code></p>
</td></tr>
</table>

<hr>
<h2 id='toolkit.stack'>JavaScript function: Returns a Container Element for displaying controls
vertically.</h2><span id='topic+toolkit.stack'></span>

<h3>Description</h3>

<p>Returns a Container Element with a
<code>makeSubElement</code> method that adds elements vertically,
with the labels above the controls they correspond to.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.stack_+3A_elements">elements</code></td>
<td>
<p><code>Array.&lt;HTMLElement&gt;</code> Initial array of elements to be added.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Container Element for displaying elements vertically.
</p>

<hr>
<h2 id='toolkit.staticText'>JavaScript function: A static text Toolkit Control.</h2><span id='topic+toolkit.staticText'></span>

<h3>Description</h3>

<p>This element is like a control in that it has a label and actual
text content, but it is not interactive.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.staticText_+3A_id">id</code></td>
<td>
<p><code>string</code> The ID of this control within the container</p>
</td></tr>
<tr><td><code id="toolkit.staticText_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLContainerElement">toolkit.HTMLContainerElement</a></code> [optional] Where to put the control.</p>
</td></tr>
<tr><td><code id="toolkit.staticText_+3A_translations">translations</code></td>
<td>
<p><code>object</code> An object with keys <code>'name'</code>
for the label displayed by the text and <code>'help'</code> for tooltop text.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The static text element. The text
content can be set by calling its <code>setData()</code> function. This text
can include HTML entities, so you might want to replace <code>&amp;</code>
with <code>&amp;amp;</code> and <code>&lt;</code> with <code>&amp;lt;</code> if it is plain
text.
</p>

<hr>
<h2 id='toolkit.verticalDivide'>JavaScript function: Left/right panels with a draggable divider.</h2><span id='topic+toolkit.verticalDivide'></span>

<h3>Description</h3>

<p>Returns a Positioned Element with a draggable vertical divider
bordering two other Positioned Elements.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.verticalDivide_+3A_container">container</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The container to divide.
If null, a container will be created for you.</p>
</td></tr>
<tr><td><code id="toolkit.verticalDivide_+3A_left">left</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The element to put on
the left of the divider.</p>
</td></tr>
<tr><td><code id="toolkit.verticalDivide_+3A_right">right</code></td>
<td>
<p><code><a href="#topic+toolkit.HTMLPositionedElement">toolkit.HTMLPositionedElement</a></code> The element to put
on the right of the divider.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The element created.
If a container was provided it is this argument.
</p>

<hr>
<h2 id='toolkit.whenQuiet'>JavaScript function: Transforms a function that should not be called too often into
a function that can be called as often as you like.</h2><span id='topic+toolkit.whenQuiet'></span>

<h3>Description</h3>

<p>The returned function can be called as often as you like with
whatever arguments you like. If it is called again within
<code>ticks</code> ticks (a tick is 100ms), this call is ignored. If
it is not called again within this time, the arguments are passed
on to the delegate function. In other words, in a string of calls
less than <code>ticks</code> x 100ms apart from each other, only
the last of these calls actually happens.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.whenQuiet_+3A_ticks">ticks</code></td>
<td>
<p><code>int</code> Duration (x 100ms) to wait until calling the
delgate function.</p>
</td></tr>
<tr><td><code id="toolkit.whenQuiet_+3A_f">f</code></td>
<td>
<p><code>function</code> Delegate function to be called
<code>ticks</code> ticks after the last call to the retuned function.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Function that can be called often, resulting in fewer
calls to the delegate function <code>f</code>.
</p>

<hr>
<h2 id='toolkit.withTimeout'>JavaScript function: Adds a fake callback argument to a nullary function.</h2><span id='topic+toolkit.withTimeout'></span>

<h3>Description</h3>

<p>Perhaps you have a nullary function that you want called
when the user clicks a button, but the <code><a href="#topic+toolkit.button">toolkit.button</a></code>
function wants a unary function that has a completion callback
so that the button knows when to pop back up again. In this
situation you might wrap your function with a call to
<code><a href="#topic+toolkit.withTimeout">toolkit.withTimeout</a></code>.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toolkit.withTimeout_+3A_fn">fn</code></td>
<td>
<p><code>function</code> Nullary function to wrap.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Unary function (taking one function as
an argument) that simply calls <code>fn</code> immediately then
calls its argument again after 200ms.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

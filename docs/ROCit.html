<!DOCTYPE html><html lang="en-US"><head><title>Help for package ROCit</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ROCit}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cartesian_2D'><p>Cartesian Product of Two Vectors</p></a></li>
<li><a href='#ciAUC'><p>Confidence Interval of AUC</p></a></li>
<li><a href='#ciAUC.rocit'><p>Confidence Interval of AUC</p></a></li>
<li><a href='#ciROC'><p>Confidence Interval of ROC curve</p></a></li>
<li><a href='#ciROC.rocit'><p>Confidence Interval of ROC curve</p></a></li>
<li><a href='#ciROCbin'><p>Confidence Interval of Binormal ROC Curve</p></a></li>
<li><a href='#ciROCemp'><p>Confidence Interval of Empirical ROC Curve</p></a></li>
<li><a href='#convertclass'><p>Converts Binary Vector into 1 and 0</p></a></li>
<li><a href='#Diabetes'><p>Diabetes Data</p></a></li>
<li><a href='#gainstable'><p>Gains Table for Binary Classifier</p></a></li>
<li><a href='#gainstable.default'><p>Gains Table for Binary Classifier</p></a></li>
<li><a href='#gainstable.rocit'><p>Gains Table for Binary Classifier</p></a></li>
<li><a href='#getsurvival'><p>Survival Probability</p></a></li>
<li><a href='#gettptnfpfn-defunct'><p>Get number of TP, FP, TN and FN</p></a></li>
<li><a href='#invlogit-deprecated'><p>Logistic Transformation</p></a></li>
<li><a href='#ksplot'><p>KS Plot</p></a></li>
<li><a href='#ksplot.rocit'><p>KS Plot</p></a></li>
<li><a href='#Loan'><p>Loan Data</p></a></li>
<li><a href='#logit-deprecated'><p>Log Odds of Probability</p></a></li>
<li><a href='#measureit'><p>Performance Metrics of Binary Classifier</p></a></li>
<li><a href='#measureit.default'><p>Performance Metrics of Binary Classifier</p></a></li>
<li><a href='#measureit.rocit'><p>Performance Metrics of Binary Classifier</p></a></li>
<li><a href='#MLestimates'><p>ML Estimate of Normal Parameters</p></a></li>
<li><a href='#plot.gainstable'><p>Plot <code>"gainstable"</code> Object</p></a></li>
<li><a href='#plot.rocci'><p>Plot ROC Curve with confidence limits</p></a></li>
<li><a href='#plot.rocit'><p>Plot ROC Curve</p></a></li>
<li><a href='#print.gainstable'><p>Print <code>'gainstable'</code> Object</p></a></li>
<li><a href='#print.measureit'><p>Print <code>'measureit'</code> Object</p></a></li>
<li><a href='#print.rocci'><p>Print <code>rocci</code> Object</p></a></li>
<li><a href='#print.rocit'><p>Print <code>rocit</code> Object</p></a></li>
<li><a href='#print.rocitaucci'><p>Print Confidence Interval of AUC</p></a></li>
<li><a href='#rankorderdata'><p>Rank order data</p></a></li>
<li><a href='#rocit'><p>ROC Analysis of Binary Classifier</p></a></li>
<li><a href='#ROCit-defunct'><p>Removed functions in package <span class="pkg">ROCit</span>.</p></a></li>
<li><a href='#ROCit-deprecated'><p>Deprecated functions in package <span class="pkg">ROCit</span>.</p></a></li>
<li><a href='#summary.rocit'><p>Summary of rocit object</p></a></li>
<li><a href='#trapezoidarea'><p>Approximate Area with Trapezoid Rule</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Performance Assessment of Binary Classifier with Visualization</td>
</tr>
<tr>
<td>Version:</td>
<td>2.1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2024-05-14</td>
</tr>
<tr>
<td>Description:</td>
<td>Sensitivity (or recall or true positive rate), false positive rate, specificity, precision (or positive predictive value), negative predictive value, misclassification rate, accuracy, F-score- these are popular metrics for assessing performance of binary classifier for certain threshold. These metrics are calculated at certain threshold values. Receiver operating characteristic (ROC) curve is a common tool for assessing overall diagnostic ability of the binary classifier. Unlike depending on a certain threshold, area under ROC curve (also known as AUC), is a summary statistic about how well a binary classifier performs overall for the classification task. ROCit package provides flexibility to easily evaluate threshold-bound metrics. Also, ROC curve, along with AUC, can be obtained using different methods, such as empirical, binormal and non-parametric. ROCit encompasses a wide variety of methods for constructing confidence interval of ROC curve and AUC. ROCit also features the option of constructing empirical gains table, which is a handy tool for direct marketing. The package offers options for commonly used visualization, such as, ROC curve, KS plot, lift plot. Along with in-built default graphics setting, there are rooms for manual tweak by providing the necessary values as function arguments. ROCit is a powerful tool offering a range of things, yet it is very easy to use. </td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, graphics, utils, methods</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-16 14:09:53 UTC; riaza</td>
</tr>
<tr>
<td>Author:</td>
<td>Md Riaz Ahmed Khan [aut, cre],
  Thomas Brandenburger [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Md Riaz Ahmed Khan &lt;mdriazahmed.khan@jacks.sdstate.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-16 14:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cartesian_2D'>Cartesian Product of Two Vectors</h2><span id='topic+cartesian_2D'></span>

<h3>Description</h3>

<p>Function <code>cartesian_2D</code> takes two vectors as input and
returns the two dimensional cartesian product.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cartesian_2D(array_x, array_y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cartesian_2D_+3A_array_x">array_x</code></td>
<td>
<p>A vector, indicating the first set.</p>
</td></tr>
<tr><td><code id="cartesian_2D_+3A_array_y">array_y</code></td>
<td>
<p>A vector, indicating the second set.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A matrix of <code>length(array_x)</code> * <code>length(array_y)</code> rows
and two columns. Each row indicates an ordered pair.
</p>


<h3>Comment</h3>

<p><code>cartesian_2D</code> is used internally in other function(s) of <span class="pkg">ROCit</span>.
Works if matrix/data frames are passed as arguments. However,
returns might not be valid if arguments are not one dimensional.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- seq(3)
y &lt;- c(10,20,30)
cartesian_2D(x,y)


</code></pre>

<hr>
<h2 id='ciAUC'>Confidence Interval of AUC</h2><span id='topic+ciAUC'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+ciAUC.rocit">ciAUC.rocit</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ciAUC(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ciAUC_+3A_object">object</code></td>
<td>
<p>An object of class <code>"rocit"</code>, returned by
<code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="ciAUC_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods.
See <code><a href="#topic+ciAUC.rocit">ciAUC.rocit</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='ciAUC.rocit'>Confidence Interval of AUC</h2><span id='topic+ciAUC.rocit'></span>

<h3>Description</h3>

<p><code>ciAUC</code> constructs confidence interval
of area under curve (AUC) of receiver operating characteristic (ROC)
curve. This is an S3 method defined for object of class <code>"rocit"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
ciAUC(
  object,
  level = 0.95,
  delong = FALSE,
  logit = FALSE,
  nboot = NULL,
  step = FALSE,
  ... = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ciAUC.rocit_+3A_object">object</code></td>
<td>
<p>An object of class <code>"rocit"</code>, returned by
<code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="ciAUC.rocit_+3A_level">level</code></td>
<td>
<p>Level of confidence, must be within the range (0 1).
Default is 0.95.</p>
</td></tr>
<tr><td><code id="ciAUC.rocit_+3A_delong">delong</code></td>
<td>
<p>Logical; indicates whether DeLong formula should
be used to estimate the variance of AUC. Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ciAUC.rocit_+3A_logit">logit</code></td>
<td>
<p>Logical; indicates whether confidence interval of
logit transformed AUC should be evaluated first. Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="ciAUC.rocit_+3A_nboot">nboot</code></td>
<td>
<p>Number of bootstrap samples, if bootstrap method is desired.
Default is NULL. If a numeric value is specified, overrides
<code>logit</code> and <code>delong</code> arguments.</p>
</td></tr>
<tr><td><code id="ciAUC.rocit_+3A_step">step</code></td>
<td>
<p>Logical, default in <code>FALSE</code>.  See <code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="ciAUC.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"rocitaucci"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
logistic.model &lt;- glm(as.factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
score &lt;- logistic.model$fitted.values
class &lt;- logistic.model$y
# Make the rocit objects
rocit_bin &lt;- rocit(score = score, class = class, method = "bin")
# Confidence interval of AUC
ciAUC(rocit_bin, level = 0.9)
ciAUC(rocit_bin, delong = TRUE, logit = TRUE)

</code></pre>

<hr>
<h2 id='ciROC'>Confidence Interval of ROC curve</h2><span id='topic+ciROC'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ciROC(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ciROC_+3A_object">object</code></td>
<td>
<p>An object of class <code>"rocit"</code>, returned by
<code><a href="#topic+rocit">rocit</a></code>. Supports <code>"empirical"</code> and <code>"binormal"</code>
ROC curve.</p>
</td></tr>
<tr><td><code id="ciROC_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods.
See <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='ciROC.rocit'>Confidence Interval of ROC curve</h2><span id='topic+ciROC.rocit'></span>

<h3>Description</h3>

<p><code>ciROC</code> constructs confidence interval
of receiver operating characteristic (ROC)
curve. This is an S3 method defined for object of class <code>"rocit"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
ciROC(object, level = 0.95, nboot = 500, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ciROC.rocit_+3A_object">object</code></td>
<td>
<p>An object of class <code>"rocit"</code>, returned by
<code><a href="#topic+rocit">rocit</a></code>. Supports <code>"empirical"</code> and <code>"binormal"</code>
ROC curve.</p>
</td></tr>
<tr><td><code id="ciROC.rocit_+3A_level">level</code></td>
<td>
<p>Level of confidence, must be within the range (0 1).
Default is 0.95.</p>
</td></tr>
<tr><td><code id="ciROC.rocit_+3A_nboot">nboot</code></td>
<td>
<p>Number of bootstrap samples, used to estimate <code>var(A)</code>,
<code>var(B)</code>, <code>cov(A,B)</code>. Only used for <code>method = "binomial"</code>.
See 'Details'.</p>
</td></tr>
<tr><td><code id="ciROC.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For large values of <code class="reqn">n_Y</code> and <code class="reqn">n_{\bar{Y}}</code>,
the distribution of <code class="reqn">TPR(c)</code> at
<code class="reqn">FPR(c)</code> can be approximated as a normal distribution
with following mean and variance:
</p>
<p style="text-align: center;"><code class="reqn">\mu_{TPR(c)}=\sum_{i=1}^{n_Y}I(D_{Y_i}\geq c)/n_Y</code>
</p>

<p style="text-align: center;"><code class="reqn">V ( TPR(c) )=	\frac{  TPR(c) ( 1-  TPR(c))  }{n_Y}
+ ( \frac{g(c^*)}{f(c^*) } )^2 * K </code>
</p>

<p>where <code class="reqn">K=\frac{ FPR(c) (1-FPR(c))}{n_{\bar{Y}} } </code>, <code class="reqn">g</code>
and <code class="reqn">f</code> are the probability distribution functions  of
the diagnostic variable in positive and negative groups
(with corresponding cumulative distribution functions <code class="reqn">G</code> and <code class="reqn">F</code>),
<code class="reqn">c^*=S^{-1}_{D_{\bar{ Y}}}( FPR(c) )</code>, and <code class="reqn">S</code> is the survival
function given by: <code class="reqn">S(t)=P(T&gt;t)=1-F(t)</code>. <code>density</code> and
<code>approxfun</code> were used to approximate PDF and CDF
of the diagnostic score in the two groups and the inverse survival
of the diagnostic in the negative responses.
</p>
<p>For <code>"binomial"</code> type, variance of <code class="reqn">A+BZ_x</code> is given by
<code class="reqn">V(A)+Z_x^2V(B)+2Z_xCov(A, B)</code>. Bootstrap method was used to estimate
<code class="reqn">V(A)</code>, <code class="reqn">V(B)</code> and <code class="reqn">Cov{A,B}</code>. The lower and upper limit of
<code class="reqn">A+BZ_x</code> are inverse probit transformed to obtain the confidence interval
of the ROC curve.
</p>


<h3>Value</h3>

<p>A list of class <code>"rocci"</code>, having following elements:
</p>
<table role = "presentation">
<tr><td><code>`ROC estimation method``</code></td>
<td>
<p>The method applied to estimate ROC curve in the
<code>rocit</code> object.</p>
</td></tr>
<tr><td><code>`Confidence level`</code></td>
<td>
<p>Level of confidence as supplied as argument.</p>
</td></tr>
<tr><td><code>FPR</code></td>
<td>
<p>An array containing all the FPR values,
for which TPR and confidence
interval of TPR were estimated.</p>
</td></tr>
<tr><td><code>TPR</code></td>
<td>
<p>Array containing the TPR values associated with the FPR values.</p>
</td></tr>
<tr><td><code>LowerTPR</code></td>
<td>
<p>Lower limits of the TPR values. Forced to zero for
<code>type = "empirical"</code>, where empirical TPR is zero.</p>
</td></tr>
<tr><td><code>UpperTPR</code></td>
<td>
<p>Upper limits of the TPR values. Forced to one for
<code>type = "empirical"</code>, where empirical TPR is one.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Pepe, Margaret Sullivan. <em>The statistical evaluation
of medical tests for classification and prediction.</em> Medicine, 2003.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.rocci">plot.rocci</a></code>, <code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+ciAUC.rocit">ciAUC.rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
score &lt;- Loan$Score
class &lt;- ifelse(Loan$Status == "CO", 1, 0)
rocit_emp &lt;- rocit(score = score, class = class, method = "emp")
# ------------------------------------------------
ciROC_emp90 &lt;- ciROC(rocit_emp, level = 0.9)
plot(ciROC_emp90, egend = TRUE)

</code></pre>

<hr>
<h2 id='ciROCbin'>Confidence Interval of Binormal ROC Curve</h2><span id='topic+ciROCbin'></span>

<h3>Description</h3>

<p>Function <code>ciROCbin</code> estimates confidence interval
of binormally estimated ROC curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ciROCbin(rocit_bin, level, nboot)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ciROCbin_+3A_rocit_bin">rocit_bin</code></td>
<td>
<p>An object of class <code>rocit</code>, (<code>method = "binormal"</code>).</p>
</td></tr>
<tr><td><code id="ciROCbin_+3A_level">level</code></td>
<td>
<p>Desired level of confidence to be estimated.</p>
</td></tr>
<tr><td><code id="ciROCbin_+3A_nboot">nboot</code></td>
<td>
<p>Number of bootstrap samples, used to estimate <code>var(A)</code>,
<code>var(B)</code>, <code>cov(A,B)</code>. See <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object containing TPR, upper and lower bound of TPR
at certain FPR values.
</p>


<h3>Comment</h3>

<p><code>ciROCbin</code> is used internally in <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code>
of <span class="pkg">ROCit</span>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+ciROC">ciROC</a></code>, <code><a href="#topic+plot.rocci">plot.rocci</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
score &lt;- Loan$Score
class &lt;- ifelse(Loan$Status == "CO", 1, 0)
rocit_bin &lt;- rocit(score = score, class = class, method = "bin")
ciROC_bin90 &lt;- ciROCbin(rocit_bin, level = 0.9, nboot = 300)
TPR &lt;- ciROC_bin90$TPR
FPR &lt;- ciROC_bin90$FPR
Upper90 &lt;- ciROC_bin90$UpperTPR
Lower90 &lt;- ciROC_bin90$LowerTPR
plot(TPR~FPR, type = "l")
lines(Upper90~FPR, lty = 2)
lines(Lower90~FPR, lty = 2)
grid()
legend("bottomright", c("Binormal ROC curve", "90% CI"), lty = c(1,2))

</code></pre>

<hr>
<h2 id='ciROCemp'>Confidence Interval of Empirical ROC Curve</h2><span id='topic+ciROCemp'></span>

<h3>Description</h3>

<p>Function <code>ciROCemp</code> estimates confidence interval
of empirically estimated ROC curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ciROCemp(rocit_emp, level)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ciROCemp_+3A_rocit_emp">rocit_emp</code></td>
<td>
<p>An object of class <code>rocit</code>, (<code>method = "empirical"</code>).</p>
</td></tr>
<tr><td><code id="ciROCemp_+3A_level">level</code></td>
<td>
<p>Desired level of confidence to be estimated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list object containing TPR, upper and lower bound of TPR
at certain FPR values.
</p>


<h3>Comment</h3>

<p><code>ciROCemp</code> is used internally in <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code>
of <span class="pkg">ROCit</span>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+ciROC">ciROC</a></code>, <code><a href="#topic+plot.rocci">plot.rocci</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(100)
score &lt;- c(runif(20, 15, 35), runif(15, 25, 45))
class &lt;- c(rep(1, 20), rep(0, 15))
rocit_object &lt;- rocit(score, class)
ciROC &lt;- ciROCemp(rocit_object, level = 0.9)
names(ciROC)
</code></pre>

<hr>
<h2 id='convertclass'>Converts Binary Vector into 1 and 0</h2><span id='topic+convertclass'></span>

<h3>Description</h3>

<p><code>convertclass</code> converts a binary variable with any
response into 1/0 response. It is used internally in other functions of
package <span class="pkg">ROCit</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>convertclass(x, reference = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="convertclass_+3A_x">x</code></td>
<td>
<p>A vector of exactly two unique values.</p>
</td></tr>
<tr><td><code id="convertclass_+3A_reference">reference</code></td>
<td>
<p>The reference value. Depending on the class of <code>x</code>,
it can be numeric or character type. If specified, this value
is converted to 0 and other is converted to 1. If NULL, reference is
set alphabetically.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A numeric vector of 1 and 0. Gives warning if there exists <code>NA</code>(s)
in <code>x</code>.
</p>


<h3>Comment</h3>

<p><code>convertclass</code> is used internally in other function(s) of <span class="pkg">ROCit</span>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- c("cat", "cat", "dog", "cat")
convertclass(x) # by default, "cat" is converted to 0
convertclass(x, reference = "dog")

# ----------------------------

set.seed(10)
x &lt;- round(runif(10, 2, 3))
convertclass(x, reference = 3)
# numeric reference can be supplied as character
convertclass(x, reference = "3") # same result


</code></pre>

<hr>
<h2 id='Diabetes'>Diabetes Data</h2><span id='topic+Diabetes'></span>

<h3>Description</h3>

<p>These data are courtesy of Dr John Schorling,
Department of Medicine, University of Virginia School of Medicine.
</p>
<p>The data contains information on 403 subjects from 1046
subjects who were interviewed in a study to understand the
prevalence of obesity, diabetes, and other cardiovascular risk
factors in central Virginia for African Americans. According to
Dr John Hong, Diabetes Mellitus Type II (adult onset diabetes) is
associated most strongly with obesity. The waist/hip ratio may be a
predictor in diabetes and heart disease. DM II is also associated
with hypertension - they may both be part of &quot;Syndrome X&quot;. The 403
subjects were the ones who were actually screened for diabetes.
Glycosylated hemoglobin &gt; 7.0 is usually taken as a positive diagnosis
of diabetes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Diabetes
</code></pre>


<h3>Format</h3>

<p>A data frame with 403 rows and 22 variables (See &quot;Note&quot;):
</p>

<dl>
<dt>id</dt><dd><p>Subject id</p>
</dd>
<dt>chol</dt><dd><p>Total cholesterol</p>
</dd>
<dt>stab.glu</dt><dd><p>Stabilized glucose</p>
</dd>
<dt>hdl</dt><dd><p>High density lipoprotein</p>
</dd>
<dt>ratio</dt><dd><p>Cholesterol/hdl ratio</p>
</dd>
<dt>glyhb</dt><dd><p>Glycosylated hemoglobin</p>
</dd>
<dt>location</dt><dd><p>A factor with levels <code>Buckingham</code> and <code>Louisa</code></p>
</dd>
<dt>age</dt><dd><p>Age (years)</p>
</dd>
<dt>gender</dt><dd><p>Gender, <code>male</code> or <code>female</code></p>
</dd>
<dt>height</dt><dd><p>Height (inches)</p>
</dd>
<dt>weight</dt><dd><p>Weight (pounds)</p>
</dd>
<dt>frame</dt><dd><p>A factor with levels <code>small</code>,
<code>medium</code> and <code>large</code></p>
</dd>
<dt>bp.1s</dt><dd><p>First systolic blood pressure</p>
</dd>
<dt>bp.1d</dt><dd><p>First diastolic blood pressure</p>
</dd>
<dt>bp.2s</dt><dd><p>Second systolic blood pressure</p>
</dd>
<dt>bp.2d</dt><dd><p>Second diastolic blood pressure</p>
</dd>
<dt>waist</dt><dd><p>Waist (inches)</p>
</dd>
<dt>hip</dt><dd><p>Hip (inches)</p>
</dd>
<dt>time.ppn</dt><dd><p>Postprandial time when labs were
drawn in minutes</p>
</dd>
<dt>bmi</dt><dd><p>Body mass index</p>
</dd>
<dt>dtest</dt><dd><p>An indicator whether <code>glyhb</code> is greater than 7 or not</p>
</dd>
<dt>whr</dt><dd><p>Waist to hip ratio</p>
</dd>
</dl>



<h3>Note</h3>

<p>The last three variables (<code>bmi</code>, <code>dtest</code>, <code>whr</code>)
were created. For <code>bmi</code>, following formula was used:
</p>
<p style="text-align: center;"><code class="reqn">bmi = 703 * (weight_lbs) / (height_inches)^2</code>
</p>



<h3>Source</h3>

<p>staff.pubhealth.ku.dk/~tag/Teaching/share/data/Diabetes.html#sec-2
</p>


<h3>References</h3>

<p>Willems, James P., J. Terry Saunders, Dawn E. Hunt, and
John B. Schorling. &quot;Prevalence of coronary heart disease risk factors
among rural blacks: a community-based study.&quot; <em>Southern medical journal</em>
90, no. 8 (1997): 814-820.
</p>
<p>Schorling, John B., Julienne Roach, Marjorie Siegel,
Natalie Baturka, Dawn E. Hunt, Thomas M. Guterbock, and Herbert
L. Stewart. &quot;A trial of church-based smoking cessation interventions
for rural African Americans.&quot; <em>Preventive Medicine</em> 26, no. 1
(1997): 92-101.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
plot(Diabetes$hdl~Diabetes$weight, pch = 16,
       col =ifelse(Diabetes$gender=="male",1,2))
#------------------------------------------
## density plot
femaleBMI &lt;- density(subset(Diabetes, gender == "female")$bmi, na.rm = TRUE)
maleBMI &lt;- density(subset(Diabetes, gender == "male")$bmi, na.rm = TRUE)
## -------
plot(NULL, ylim = c(0,0.08), xlim = c(10,60),
     xlab = "BMI", ylab = "Density", main = "")
grid(col = 1)
polygon(maleBMI, col = rgb(0,0,1,0.2), border = 4)
polygon(femaleBMI, col = rgb(1,0,0,0.2), border = 2)
abline(h = 0)
legend("topright", c("Male", "Female"), pch = 15,
       col = c(rgb(0,0,1,0.2), rgb(1,0,0,0.2)), bty = "n")
#------------------------------------------
logistic.model &lt;- glm(as.factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
summary(logistic.model)
#------------------------------------------
class &lt;- logistic.model$y
score &lt;- logistic.model$fitted.values
rocit_object &lt;- rocit(score = score, class = class)
summary(rocit_object)
plot(rocit_object)
</code></pre>

<hr>
<h2 id='gainstable'>Gains Table for Binary Classifier</h2><span id='topic+gainstable'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+gainstable.default">gainstable.default</a></code>,
<code><a href="#topic+gainstable.rocit">gainstable.rocit</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gainstable(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gainstable_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods.
See <code><a href="#topic+gainstable.default">gainstable.default</a></code>, <code><a href="#topic+gainstable.rocit">gainstable.rocit</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='gainstable.default'>Gains Table for Binary Classifier</h2><span id='topic+gainstable.default'></span>

<h3>Description</h3>

<p>Default S3 method to create gains table from a vector of
diagnostic score and the class of observations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
gainstable(score, class, negref = NULL, ngroup = 10, breaks = NULL, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gainstable.default_+3A_score">score</code></td>
<td>
<p>An numeric array of diagnostic score. Same as in
<code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="gainstable.default_+3A_class">class</code></td>
<td>
<p>An array of equal length of score,
containing the class of the observations. Same as in <code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="gainstable.default_+3A_negref">negref</code></td>
<td>
<p>The reference value, same as the
<code>reference</code> in <code><a href="#topic+convertclass">convertclass</a></code>.
Depending on the class of <code>x</code>,
it can be numeric or character type. If specified, this value
is converted to 0 and other is converted to 1. If NULL, reference is
set alphabetically. Same as in <code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="gainstable.default_+3A_ngroup">ngroup</code></td>
<td>
<p>Number of desired groups in gains table. Ignored if
<code>breaks</code> is specified.
See &quot;Details&quot;.</p>
</td></tr>
<tr><td><code id="gainstable.default_+3A_breaks">breaks</code></td>
<td>
<p>Percentiles (in percentage) at which observations
should be separated to
form groups. If specified, <code>ngroup</code> is ignored. See &quot;Details&quot;.</p>
</td></tr>
<tr><td><code id="gainstable.default_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>gainstable</code> function creates gains table containing
<code>ngroup</code> number of groups or buckets. The algorithm first orders
the score variable with respect to score variable. In case of tie,
it class becomes the ordering variable, keeping the positive responses first.
The algorithm calculates the ending index in each bucket as
<code class="reqn">round((length(score) / ngroup) * (1:ngroup))</code>. Each bucket should have
at least 5 observations.
</p>
<p>If buckets' end index are to be ended at desired level of
population, then <code>breaks</code> should be specified.
If specified, it overrides <code>ngroup</code> and <code>ngroup</code> is ignored.
<code>breaks</code> by default always includes 100. If whole number does not exist
at specified population, nearest integers are considered.
</p>


<h3>Value</h3>

<p>A list of class <code>"gainstable"</code>. It has the following components:
</p>
<table role = "presentation">
<tr><td><code>Bucket</code></td>
<td>
<p>The serial number of buckets or groups.</p>
</td></tr>
<tr><td><code>Obs</code></td>
<td>
<p>Number of observation in the group.</p>
</td></tr>
<tr><td><code>CObs</code></td>
<td>
<p>Cumulative number of observations up to the group.</p>
</td></tr>
<tr><td><code>Depth</code></td>
<td>
<p>Cumulative population depth up to the group.</p>
</td></tr>
<tr><td><code>Resp</code></td>
<td>
<p>Number of (positive) responses in the group.</p>
</td></tr>
<tr><td><code>CResp</code></td>
<td>
<p>Cumulative number of (positive) responses up to the group.</p>
</td></tr>
<tr><td><code>RespRate</code></td>
<td>
<p>(Positive) response rate in the group.</p>
</td></tr>
<tr><td><code>CRespRate</code></td>
<td>
<p>Cumulative (positive) response rate up to the group</p>
</td></tr>
<tr><td><code>CCapRate</code></td>
<td>
<p>Cumulative overall capture rate of (positive) responses
up to the group.</p>
</td></tr>
<tr><td><code>Lift</code></td>
<td>
<p>Lift index in the group. Calculated as
<code class="reqn">GroupResponseRate / OverallResponseRate</code>.</p>
</td></tr>
<tr><td><code>CLift</code></td>
<td>
<p>Cumulative lift index up to the group.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The algorithm is designed for complete cases. If NA(s) found in
either <code>score</code> or <code>class</code>, then removed.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gainstable.rocit">gainstable.rocit</a></code>, <code><a href="#topic+plot.gainstable">plot.gainstable</a></code>,
<code><a href="#topic+rocit">rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
class &lt;- Loan$Status
score &lt;- Loan$Score
# ----------------------------------------------------------------
gtable15 &lt;- gainstable(score = score, class = class,
                       negref = "FP", ngroup = 15)
gtable_custom &lt;- gainstable(score = score, class = class,
                            negref = "FP", breaks = seq(1,100,15))
# ----------------------------------------------------------------
print(gtable15)
print(gtable_custom)
# ----------------------------------------------------------------
plot(gtable15)
plot(gtable_custom)
plot(gtable_custom, type = 2)
plot(gtable_custom, type = 3)

</code></pre>

<hr>
<h2 id='gainstable.rocit'>Gains Table for Binary Classifier</h2><span id='topic+gainstable.rocit'></span>

<h3>Description</h3>

<p>S3 method to create gains table from object of
class <code>"rocit"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
gainstable(x, ngroup = 10, breaks = NULL, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gainstable.rocit_+3A_x">x</code></td>
<td>
<p>A <code>"rocit"</code> object, created with <code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="gainstable.rocit_+3A_ngroup">ngroup</code></td>
<td>
<p>Number of desired groups in gains table. See
<code><a href="#topic+gainstable.default">gainstable.default</a></code>.</p>
</td></tr>
<tr><td><code id="gainstable.rocit_+3A_breaks">breaks</code></td>
<td>
<p>Percentiles (in percentage) at which observations
should be separated to
form groups. See <code><a href="#topic+gainstable.default">gainstable.default</a></code></p>
</td></tr>
<tr><td><code id="gainstable.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>gainstable.rocit</code> calls <code><a href="#topic+gainstable.default">gainstable.default</a></code>.
It creates the <code>score</code> and <code>class</code> variables from the
supplied <code>"rocit"</code> object internally. See
<code><a href="#topic+gainstable.default">gainstable.default</a></code> for details.
</p>


<h3>Value</h3>

<p>A list of class <code>"gainstable"</code>, same as returned by
<code><a href="#topic+gainstable.default">gainstable.default</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gainstable.default">gainstable.default</a></code>, <code><a href="#topic+plot.gainstable">plot.gainstable</a></code>,
<code><a href="#topic+rocit">rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
class &lt;- Loan$Status
score &lt;- Loan$Score
rocit_emp &lt;- rocit(score = score, class = class, negref = "FP")
# ----------------------------------------------------------------
gtable15 &lt;- gainstable(rocit_emp, ngroup = 15)
gtable_custom &lt;- gainstable(rocit_emp, breaks = seq(1,100,15))
print(gtable15)
print(gtable_custom)
# ----------------------------------------------------------------
plot(gtable15)
plot(gtable_custom)
plot(gtable_custom, type = 2)
plot(gtable_custom, type = 3)

</code></pre>

<hr>
<h2 id='getsurvival'>Survival Probability</h2><span id='topic+getsurvival'></span>

<h3>Description</h3>

<p>Function <code>getsurvival</code> calculates survival probability
from an object of class &quot;density&quot; at specified value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getsurvival(x, cutoff)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getsurvival_+3A_x">x</code></td>
<td>
<p>An object of class &quot;density&quot;.</p>
</td></tr>
<tr><td><code id="getsurvival_+3A_cutoff">cutoff</code></td>
<td>
<p>Value at which survival probability will be calculated.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The survival function S, of a random variable <code class="reqn">X</code> is defined by,
</p>
<p style="text-align: center;"><code class="reqn">S(X=x) = 1 - F(X=x)</code>
</p>
<p> where <code class="reqn">F</code> is the cumulative density
function (CDF) of <code class="reqn">X</code>.
</p>


<h3>Value</h3>

<p>Survival probability.
</p>


<h3>Comment</h3>

<p><code>getsurvival</code> is used internally in other function(s) of <span class="pkg">ROCit</span>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
k &lt;- density(Loan$Income)
# What portion have income over 100,000
getsurvival(k,100000)


</code></pre>

<hr>
<h2 id='gettptnfpfn-defunct'>Get number of TP, FP, TN and FN</h2><span id='topic+gettptnfpfn-defunct'></span>

<h3>Description</h3>

<p>Function <code>gettptnfpfn</code> calculates the number of
true positive (TP), false positive (FP),
true negative (TN) and false negative (FN), if certain depth of the
observations are treated as positive. Generally it applies to the
observations that are rank-ordered with respect to some diagnostic score.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gettptnfpfn-defunct_+3A_x">x</code></td>
<td>
<p>A response vector, consisting of only 1's and 0's.</p>
</td></tr>
<tr><td><code id="gettptnfpfn-defunct_+3A_depth">depth</code></td>
<td>
<p>Depth, up to which the positive predictions are made.</p>
</td></tr>
<tr><td><code id="gettptnfpfn-defunct_+3A_npos">npos</code></td>
<td>
<p>Number of positive responses.</p>
</td></tr>
<tr><td><code id="gettptnfpfn-defunct_+3A_nneg">nneg</code></td>
<td>
<p>Number of negative responses.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function <code>gettptnfpfn</code> calculates the number of TP, FP,
TN, FN at specified depth. This is designed for numeric 1/0 coding
of the responses. Usually it applies to the observations, which are
rank-ordered with respect to some diagnostic score.
</p>


<h3>Value</h3>

<p>A numeric vector of length 4 indicating number of TP , FP, TN, FN,
respectively.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ROCit-defunct">ROCit-defunct</a></code>
</p>

<hr>
<h2 id='invlogit-deprecated'>Logistic Transformation</h2><span id='topic+invlogit-deprecated'></span>

<h3>Description</h3>

<p><code>invlogit</code> returns the logistic transformed value.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>invlogit(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="invlogit-deprecated_+3A_x">x</code></td>
<td>
<p>A number or numeric vector from <code class="reqn">(-Inf Inf)</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logistic transformed value of <code>x</code>, <code class="reqn">1/(1+exp(-x))</code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ROCit-deprecated">ROCit-deprecated</a></code>
</p>

<hr>
<h2 id='ksplot'>KS Plot</h2><span id='topic+ksplot'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+ksplot.rocit">ksplot.rocit</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ksplot(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ksplot_+3A_object">object</code></td>
<td>
<p>An object of class <code>"rocit"</code>, returned by
<code><a href="#topic+rocit">rocit</a></code> function.</p>
</td></tr>
<tr><td><code id="ksplot_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods.
See <code><a href="#topic+ksplot.rocit">ksplot.rocit</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='ksplot.rocit'>KS Plot</h2><span id='topic+ksplot.rocit'></span>

<h3>Description</h3>

<p>Generates  cumulative density of
diagnostic variable in positive and negative responses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
ksplot(
  object,
  col = c("#26484F", "#BEBEBE", "#FFA54F"),
  lty = c(1, 1, 1),
  legend = T,
  legendpos = "bottomright",
  values = T,
  ... = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ksplot.rocit_+3A_object">object</code></td>
<td>
<p>An object of class <code>"rocit"</code>, returned by
<code><a href="#topic+rocit">rocit</a></code> function.</p>
</td></tr>
<tr><td><code id="ksplot.rocit_+3A_col">col</code></td>
<td>
<p>Colors to be used for plot. Minimum three colors need
to be supplied for F(c), G(c) and KS Stat mark.</p>
</td></tr>
<tr><td><code id="ksplot.rocit_+3A_lty">lty</code></td>
<td>
<p>Line types of the plots.</p>
</td></tr>
<tr><td><code id="ksplot.rocit_+3A_legend">legend</code></td>
<td>
<p>A logical value indicating whether legends to
appear in the plot.</p>
</td></tr>
<tr><td><code id="ksplot.rocit_+3A_legendpos">legendpos</code></td>
<td>
<p>Position of the legend. A single keyword from
<code>"bottomright"</code>, <code>"bottom"</code>,
<code>"bottomleft"</code>, <code>"left"</code>, <code>"topleft"</code>,
<code>"top"</code>, <code>"topright"</code>, <code>"right"</code> and <code>"center"</code>,
as in <code><a href="graphics.html#topic+legend">legend</a></code>. Ignored if
<code>legend</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ksplot.rocit_+3A_values">values</code></td>
<td>
<p>A logical value, indicating whether values to be returned.</p>
</td></tr>
<tr><td><code id="ksplot.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function plots the cumulative density functions
$F(c)$ and $G(c) of the
diagnostic variable in the negative and positive populations.
If the positive population have higher value then
negative curve ($F(c)$) ramps up quickly. The KS statistic is the maximum
difference of $F(c)$ and $G(c)$.
</p>


<h3>Value</h3>

<p>If <code>values = TRUE</code>, then  Cutoff, F(c), G(c), KS stat,
KS Cutoff  are returned silently.
</p>


<h3>Note</h3>

<p>Customized plots can be made by using the
returned values of the function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
logistic.model &lt;- glm(as.factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
class &lt;- logistic.model$y
score &lt;- qlogis(logistic.model$fitted.values)
# -------------------------------------------------------------
roc_emp &lt;- rocit(score = score, class = class) # default method empirical
# -------------------------------------------------------------
kplot1 &lt;- ksplot(roc_emp)
message("KS Stat (empirical) : ", kplot1$`KS stat`)
message("KS Stat (empirical) cutoff : ", kplot1$`KS Cutoff`)


</code></pre>

<hr>
<h2 id='Loan'>Loan Data</h2><span id='topic+Loan'></span>

<h3>Description</h3>

<p>A data containing information about 900 borrowers. It is a
modified version of publicly available real data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Loan
</code></pre>


<h3>Format</h3>

<p>A data frame with 900 rows and 9 variables:
</p>

<dl>
<dt>Amount</dt><dd><p>Amount of loan, shown as
percentage of a certain amount.</p>
</dd>
<dt>Term</dt><dd><p>The number of payments on the loan.
Values are in months.</p>
</dd>
<dt>IntRate</dt><dd><p>Interest rate.</p>
</dd>
<dt>ILR</dt><dd><p>Ratio of installment amount and total loan amount.</p>
</dd>
<dt>EmpLen</dt><dd><p>Employment length, categorized.
</p>

<ul>
<li><p><code>A:</code> 0-2 years
</p>
</li>
<li><p><code>B:</code> 3-5 years
</p>
</li>
<li><p><code>C:</code> 7-8 years
</p>
</li>
<li><p><code>D:</code> 8+ years
</p>
</li>
<li><p><code>U:</code> Unknown
</p>
</li></ul>

</dd>
<dt>Home</dt><dd><p>Status of home ownership.</p>
</dd>
<dt>Income</dt><dd><p>Annual income.</p>
</dd>
<dt>Status</dt><dd><p>A factor indicating whether the loan was fully paid
(<code>FP</code>) or charged off (<code>CO</code>) after full term.</p>
</dd>
<dt>Score</dt><dd><p>A risk score calculated from loan amount, interest rate and
annual income. The log-odds of  logistic regression were transformed into
scores using <code class="reqn">PDO = 30</code>, <code class="reqn">OddsBase = 20</code> and <code class="reqn">ScoreBase = 400</code>.
See &quot;References&quot;.</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="http://www.lendingclub.com/info/download-data.action">http://www.lendingclub.com/info/download-data.action</a>
</p>


<h3>References</h3>

<p>Siddiqi, Naeem. <em>Credit risk scorecards:
developing and implementing intelligent credit scoring.</em>
Vol. 3. John Wiley &amp; Sons, 2012.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
boxplot(Income~Home, data = Loan, col = c(2:4), pch = 16,
        ylim = c(0,200000), ylab = "Income",
        xlab = "Home Ownership Status",
        main = "Annual Income Boxplot")
grid()

</code></pre>

<hr>
<h2 id='logit-deprecated'>Log Odds of Probability</h2><span id='topic+logit-deprecated'></span>

<h3>Description</h3>

<p><code>logit</code> transforms probability value(s) into log-odds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="logit-deprecated_+3A_x">x</code></td>
<td>
<p>A number or numeric vector from <code class="reqn">[0 1]</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Log-odds of <code>x</code>, <code class="reqn">log(x/(1-x))</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ROCit-deprecated">ROCit-deprecated</a></code>
</p>

<hr>
<h2 id='measureit'>Performance Metrics of Binary Classifier</h2><span id='topic+measureit'></span>

<h3>Description</h3>

<p>See <code><a href="#topic+measureit.default">measureit.default</a></code>,
<code><a href="#topic+measureit.rocit">measureit.rocit</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>measureit(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="measureit_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to methods.
See <code><a href="#topic+measureit.default">measureit.default</a></code>, <code><a href="#topic+measureit.rocit">measureit.rocit</a></code>.</p>
</td></tr>
</table>

<hr>
<h2 id='measureit.default'>Performance Metrics of Binary Classifier</h2><span id='topic+measureit.default'></span>

<h3>Description</h3>

<p>This function  computes various performance metrics
at different cutoff values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
measureit(
  score,
  class,
  negref = NULL,
  measure = c("ACC", "SENS"),
  step = FALSE,
  ... = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="measureit.default_+3A_score">score</code></td>
<td>
<p>An numeric array of diagnostic score.</p>
</td></tr>
<tr><td><code id="measureit.default_+3A_class">class</code></td>
<td>
<p>An array of equal length of score,
containing the class of the observations.</p>
</td></tr>
<tr><td><code id="measureit.default_+3A_negref">negref</code></td>
<td>
<p>The reference value, same as the
<code>reference</code> in <code><a href="#topic+convertclass">convertclass</a></code>.
Depending on the class of <code>x</code>,
it can be numeric or character type. If specified, this value
is converted to 0 and other is converted to 1. If NULL, reference is
set alphabetically.</p>
</td></tr>
<tr><td><code id="measureit.default_+3A_measure">measure</code></td>
<td>
<p>The performance metrics to be evaluated. See &quot;Details&quot;
for available options.</p>
</td></tr>
<tr><td><code id="measureit.default_+3A_step">step</code></td>
<td>
<p>Logical, default in <code>FALSE</code>.The algorithm used in
<code>measureit</code> first rank orders the
data and calculates TP, FP, TN, FN by treating all predicted
up to certain level as positive. If <code>step</code> is <code>TRUE</code>,
then these numbers are evaluated for all the observations,
regardless of tie in the data. If <code>step</code> is
<code>FALSE</code>, only one set of stats are retained for a single value of
<code>D</code>.</p>
</td></tr>
<tr><td><code id="measureit.default_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Various performance metrics for binary classifier are
available that are cutoff specific. For a certain cutoff value, all the
observations having score equal or greater are predicted as
positive. Following metrics can be called for
via <code>measure</code> argument:
</p>

<ul>
<li><p><code>ACC:</code> Overall accuracy of  classification =
<code class="reqn">P(Y = \hat{Y})</code> = (TP + TN) / (TP + FP + TN + FN)
</p>
</li>
<li><p><code>MIS:</code> Misclassification rate = <code class="reqn">1 - ACC</code>
</p>
</li>
<li><p><code>SENS:</code> Sensitivity = <code class="reqn">P(\hat{Y} = 1|Y = 1) = TP / (TP + FN)</code>
</p>
</li>
<li><p><code>SPEC:</code> Specificity = <code class="reqn">P(\hat{Y} = 0|Y = 0) = TN / (TN + FP)</code>
</p>
</li>
<li><p><code>PREC:</code> Precision  = <code class="reqn">P(Y = 1| \hat{Y} = 1) = TP / (TP + FP)</code>
</p>
</li>
<li><p><code>REC:</code> Recall. Same as sensitivity.
</p>
</li>
<li><p><code>PPV:</code> Positive predictive value. Same as precision
</p>
</li>
<li><p><code>NPV:</code> Positive predictive value = <code class="reqn">P(Y = 0| \hat{Y} = 0) =
TN / (TN + FN)</code>
</p>
</li>
<li><p><code>TPR:</code> True positive rate. Same as sensitivity.
</p>
</li>
<li><p><code>FPR:</code> False positive rate. Same as <code class="reqn">1 - specificity</code>.
</p>
</li>
<li><p><code>TNR:</code> True negative rate. Same as specificity.
</p>
</li>
<li><p><code>FNR:</code> False negative rate = <code class="reqn">P(\hat{Y} = 0|Y = 1) =
FN / (FN +TP)</code>
</p>
</li>
<li><p><code>pDLR:</code> Positive diagnostic likelihood ratio = <code class="reqn">TPR / FPR</code>
</p>
</li>
<li><p><code>nDLR:</code> Negative diagnostic likelihood ratio = <code class="reqn">FNR / TNR</code>
</p>
</li>
<li><p><code>FSCR:</code> F-score, defined as <code class="reqn">2 * (PPV * TPR) / (PPV + TPR)</code>
</p>
</li></ul>

<p><em>Exact match</em> is required. If the values passed in the
<code>measure</code> argument do not match with the
available options, then ignored.
</p>


<h3>Value</h3>

<p>An object of class <code>"measureit"</code>. By default it contains the
followings:
</p>
<table role = "presentation">
<tr><td><code>Cutoff</code></td>
<td>
<p>Cutoff at which metrics are evaluated.</p>
</td></tr>
<tr><td><code>Depth</code></td>
<td>
<p>What portion of the observations fall on or above the cutoff.</p>
</td></tr>
<tr><td><code>TP</code></td>
<td>
<p>Number of true positives, when the observations having
score equal or greater than cutoff are predicted positive.</p>
</td></tr>
<tr><td><code>FP</code></td>
<td>
<p>Number of false positives, when the observations having
score equal or greater than cutoff are predicted positive.</p>
</td></tr>
<tr><td><code>TN</code></td>
<td>
<p>Number of true negatives, when the observations having
score equal or greater than cutoff are predicted positive.</p>
</td></tr>
<tr><td><code>FN</code></td>
<td>
<p>Number of false negatives, when the observations having
score equal or greater than cutoff are predicted positive.</p>
</td></tr>
</table>
<p>When other metrics are called via <code>measure</code>, those also appear
in the return in the order they are listed above.
</p>


<h3>Note</h3>

<p>The algorithm is designed for complete cases. If NA(s) found in
either <code>score</code> or <code>class</code>, then removed.
</p>
<p>Internally sorting is performed, with respect to the
<code>score</code>. In case of tie, sorting is done with respect to <code>class</code>.
</p>


<h3>Author(s)</h3>

<p>Riaz Khan, <a href="mailto:mdriazahmed.khan@jacks.sdstate.edu">mdriazahmed.khan@jacks.sdstate.edu</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+measureit.rocit">measureit.rocit</a></code>, <code><a href="#topic+print.measureit">print.measureit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
logistic.model &lt;- glm(factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
class &lt;- logistic.model$y
score &lt;- logistic.model$fitted.values
# -------------------------------------------------------------
measure &lt;- measureit(score = score, class = class,
                     measure = c("ACC", "SENS", "FSCR"))
names(measure)
plot(measure$ACC~measure$Cutoff, type = "l")
plot(measure$TP~measure$FP, type = "l")

</code></pre>

<hr>
<h2 id='measureit.rocit'>Performance Metrics of Binary Classifier</h2><span id='topic+measureit.rocit'></span>

<h3>Description</h3>

<p>This is an S3 method for object of class <code>"rocit"</code>.
It computes various performance metrics at different cutoff values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
measureit(x, measure = c("ACC", "SENS"), ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="measureit.rocit_+3A_x">x</code></td>
<td>
<p>An object of class <code>"rocit"</code> created with <code><a href="#topic+rocit">rocit</a></code>.</p>
</td></tr>
<tr><td><code id="measureit.rocit_+3A_measure">measure</code></td>
<td>
<p>The performance metrics to be evaluated. See &quot;Details&quot;
for available options.</p>
</td></tr>
<tr><td><code id="measureit.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calls <code><a href="#topic+measureit.default">measureit.default</a></code>. From the
components of <code>"rocit"</code> objects, it calculates the <code>score</code>
and <code>class</code>
variables internally. See <code><a href="#topic+measureit.default">measureit.default</a></code> for other
details and available options for <code>measure</code> argument.
</p>


<h3>Value</h3>

<p>An object of class <code>"measureit"</code>, same as returned by
<code><a href="#topic+measureit.default">measureit.default</a></code>.
</p>


<h3>Note</h3>

<p>See <code><a href="#topic+measureit.default">measureit.default</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+measureit.default">measureit.default</a></code>, <code><a href="#topic+print.measureit">print.measureit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
logistic.model &lt;- glm(as.factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
class &lt;- logistic.model$y
score &lt;- logistic.model$fitted.values
rocit_object &lt;- rocit(score = score, class = class)
# -------------------------------------------------------------
measure &lt;- measureit(rocit_object, measure = c("ACC", "SENS", "FSCR"))
names(measure)
plot(measure$ACC~measure$Cutoff, type = "l")
plot(measure$TP~measure$FP, type = "l")

</code></pre>

<hr>
<h2 id='MLestimates'>ML Estimate of Normal Parameters</h2><span id='topic+MLestimates'></span>

<h3>Description</h3>

<p>The function calculates the maximum likelihood (ML) estimates
of the two parameters <code class="reqn">\mu</code> and <code class="reqn">\sigma</code>, when a set of numbers are
assumed to be normally distributed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>MLestimates(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="MLestimates_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If a set of observations
are assumed to be normally
distributed, two parameters, mean <code class="reqn">\mu</code> and the variance (the square
of <code class="reqn">\sigma</code>)
are to be estimated. In theory, the ML estimate of <code class="reqn">\mu</code> is the mean of the
observations. And the ML estimate of square of <code class="reqn">\sigma</code> is the mean
squared deviation of the observations from the estimated <code class="reqn">\mu</code>.
</p>


<h3>Value</h3>

<p>A <code>"list"</code> object of two numeric components,
<code class="reqn">\mu</code> and <code class="reqn">\sigma</code>.
</p>


<h3>Comment</h3>

<p><code>MLestimates</code> is used internally in other function(s) of <span class="pkg">ROCit</span>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Find the two parameters
set.seed(10)
points &lt;- rnorm(200, 10, 5)
ML &lt;- MLestimates(points)
message("The ML estimates are: mean = ", round(ML$mu, 3),
        " , SD = ", round(ML$sigma, 3))

#-----------------------------------------

# Superimpose smooth curve over hostogram
set.seed(100)
x &lt;- rnorm(400)
hist(x, probability = TRUE, col = "gray90")
ML &lt;- MLestimates(x)
x &lt;- seq(-3, 3, 0.01)
density &lt;- dnorm(x, mean = ML$mu, sd = ML$sigma)
lines(density~x, lwd = 2)

</code></pre>

<hr>
<h2 id='plot.gainstable'>Plot <code>"gainstable"</code> Object</h2><span id='topic+plot.gainstable'></span>

<h3>Description</h3>

<p>An S3 method to make different plots using
entries of gains table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gainstable'
plot(
  x,
  y = NULL,
  type = 1,
  col = c("#BEBEBE", "#26484F", "#8B4500"),
  legend = TRUE,
  ... = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.gainstable_+3A_x">x</code></td>
<td>
<p>An object of class <code>"gainstable"</code>, created with
the function <code><a href="#topic+gainstable">gainstable</a></code>.</p>
</td></tr>
<tr><td><code id="plot.gainstable_+3A_y">y</code></td>
<td>
<p><code>NULL</code>.</p>
</td></tr>
<tr><td><code id="plot.gainstable_+3A_type">type</code></td>
<td>
<p>Plot type. See &quot;Details&quot;.</p>
</td></tr>
<tr><td><code id="plot.gainstable_+3A_col">col</code></td>
<td>
<p>Colors to be used for plot.</p>
</td></tr>
<tr><td><code id="plot.gainstable_+3A_legend">legend</code></td>
<td>
<p>A logical value indicating whether legend to appear.
See &quot;Details&quot;</p>
</td></tr>
<tr><td><code id="plot.gainstable_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently three types are available. <code>type = 1</code> shows
lift and cumulative lift against population depth. <code>type = 2</code>
shows response
rate and cumulative response rate against population depth.
<code>type = 3</code> shows
cumulative capture rate of positive responses against population depth.
For <code>type</code> 1 and 2, three colors and for 3, two colors
are required.
If more than required specified, then first 3 (for <code>type</code> 1, 2) or
2 (for <code>type</code> 3) colors are used. If less than required specified,
then
specified colors are repeated.
If <code>legend</code> is <code>TRUE</code>,
then legend appears in the plot. For <code>type</code> 1 and 2, legend
position is <code>"topright"</code>, for 3, <code>"bottomright"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gainstable">gainstable</a></code>, <code><a href="#topic+rocit">rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
class &lt;- Loan$Status
score &lt;- Loan$Score
rocit_emp &lt;- rocit(score = score, class = class, negref = "FP")
# ----------------------------------------------------------------
gtable &lt;- gainstable(rocit_emp)
# ----------------------------------------------------------------
plot(gtable)
plot(gtable, legend = FALSE)
plot(gtable, col = 2:4)
plot(gtable, type = 2, col = 2:4)
plot(gtable, type = 3, col = 2:3)
</code></pre>

<hr>
<h2 id='plot.rocci'>Plot ROC Curve with confidence limits</h2><span id='topic+plot.rocci'></span>

<h3>Description</h3>

<p>This function plots  receiver operating
characteristic (ROC) curve with confidence limits.
This is an S3 method for object of class
<code>"rocci"</code>, returned by <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocci'
plot(
  x,
  col = c("#2F4F4F", "#404040"),
  lty = c(1, 2),
  lwd = c(2, 1),
  grid = TRUE,
  legend = TRUE,
  legendpos = "bottomright",
  ... = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.rocci_+3A_x">x</code></td>
<td>
<p>An object of class <code>"rocci"</code>,
returned by <code><a href="#topic+ciROC.rocit">ciROC.rocit</a></code> function.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_col">col</code></td>
<td>
<p>Color(s) to be used for the plot. First two colors are used
for the ROC curve and confidence limits if multiple colors supplied. Same
color is used if single color supplied.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_lty">lty</code></td>
<td>
<p>The line type. Same as in <code><a href="graphics.html#topic+par">par</a></code>. First two or one are
used (like <code>col</code>) depending on the length of <code>lty</code>.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_lwd">lwd</code></td>
<td>
<p>The line width. Same as in <code><a href="graphics.html#topic+par">par</a></code>. First two or one are
used (like <code>col</code>) depending on the length of <code>lwd</code>.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_grid">grid</code></td>
<td>
<p>Logical, indicating whether to add rectangular grid. Calls
<code><a href="graphics.html#topic+grid">grid</a></code> with default settings.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_legend">legend</code></td>
<td>
<p>Logical, indicating whether to add legends to the plot.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_legendpos">legendpos</code></td>
<td>
<p>Position of the legend. A single keyword from
<code>"bottomright"</code>, <code>"bottom"</code>,
<code>"bottomleft"</code>, <code>"left"</code>, <code>"topleft"</code>,
<code>"top"</code>, <code>"topright"</code>, <code>"right"</code> and <code>"center"</code>,
as in <code><a href="graphics.html#topic+legend">legend</a></code>. Ignored if
<code>legend</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plot.rocci_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+ciROC">ciROC</a></code>, <code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+plot.rocit">plot.rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>score &lt;- c(rnorm(300,30,15), rnorm(300,50,15))
class &lt;- c(rep(0,300), rep(1,300))
rocit_object &lt;- rocit(score = score, class = class, method = "bi")
rocci_object &lt;- ciROC(rocit_object)
# ---------------------------
plot(rocci_object)
plot(rocci_object, col = c(2,4))
plot(rocci_object, col = c(2,4), legendpos = "bottom", lty = c(1,3))


</code></pre>

<hr>
<h2 id='plot.rocit'>Plot ROC Curve</h2><span id='topic+plot.rocit'></span>

<h3>Description</h3>

<p>This function generates receiver operating
characteristic (ROC) curve. This is an S3 method for object of class
<code>"rocit"</code>, returned by <code><a href="#topic+rocit">rocit</a></code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
plot(
  x,
  col = c("#2F4F4F", "#BEBEBE"),
  legend = TRUE,
  legendpos = "bottomright",
  YIndex = TRUE,
  values = TRUE,
  ... = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot.rocit_+3A_x">x</code></td>
<td>
<p>An object of class <code>"rocit"</code>,
returned by <code><a href="#topic+rocit">rocit</a></code> function.</p>
</td></tr>
<tr><td><code id="plot.rocit_+3A_col">col</code></td>
<td>
<p>Colors to be used in the plot. If multiple specified,
the first color is used for the ROC curve, and the second color is used for
the chance line (<code class="reqn">y = x</code> line), otherwise single color is used.</p>
</td></tr>
<tr><td><code id="plot.rocit_+3A_legend">legend</code></td>
<td>
<p>A logical value indicating whether legends to appear in the plot.</p>
</td></tr>
<tr><td><code id="plot.rocit_+3A_legendpos">legendpos</code></td>
<td>
<p>Position of the legend. A single keyword from
<code>"bottomright"</code>, <code>"bottom"</code>,
<code>"bottomleft"</code>, <code>"left"</code>, <code>"topleft"</code>,
<code>"top"</code>, <code>"topright"</code>, <code>"right"</code> and <code>"center"</code>,
as in <code><a href="graphics.html#topic+legend">legend</a></code>. Ignored if
<code>legend</code> is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="plot.rocit_+3A_yindex">YIndex</code></td>
<td>
<p>A logical value indicating whether optimal
<em>Youden Index</em> (i.e where <code class="reqn">|TPR - FPR| is maximum</code>) to
be marked in the plot.</p>
</td></tr>
<tr><td><code id="plot.rocit_+3A_values">values</code></td>
<td>
<p>A logical value, indicating whether values to be returned.</p>
</td></tr>
<tr><td><code id="plot.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If <code>values = TRUE</code>, then AUC, Cutoff, TPR, FPR,
optimal Youden Index with
associated TPR, FPR, Cutoff are returned silently.
</p>


<h3>Note</h3>

<p>Customized plots can be made by using the
returned values of the function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
score &lt;- Loan$Score
class &lt;- ifelse(Loan$Status == "FP", 0, 1)
rocit_emp &lt;- rocit(score = score, class = class)
# -----------------------
plot(rocit_emp)
plot(rocit_emp, col = c(2,4), legendpos = "bottom",
     YIndex = FALSE, values = FALSE)
# -----------------------
rocit_bin &lt;- rocit(score = score, class = class, method = "bin")
# -----------------------
plot(rocit_emp, col = c(1,"gray50"), legend = FALSE, YIndex = FALSE)
lines(rocit_bin$TPR~rocit_bin$FPR, col = 2, lwd = 2)
legend("bottomright", col = c(1,2),
       c("Empirical ROC", "Binormal ROC"), lwd = 2)

</code></pre>

<hr>
<h2 id='print.gainstable'>Print <code>'gainstable'</code> Object</h2><span id='topic+print.gainstable'></span>

<h3>Description</h3>

<p>S3 print method to print <code>"gainstable"</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'gainstable'
print(x, maxdigit = 3, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.gainstable_+3A_x">x</code></td>
<td>
<p>An object of class <code>"gainstable"</code>, created with either
<code><a href="#topic+gainstable.default">gainstable.default</a></code> or <code><a href="#topic+gainstable.rocit">gainstable.rocit</a></code>.</p>
</td></tr>
<tr><td><code id="print.gainstable_+3A_maxdigit">maxdigit</code></td>
<td>
<p>How many digits after decimal to be printed.</p>
</td></tr>
<tr><td><code id="print.gainstable_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("Loan")
class &lt;- Loan$Status
score &lt;- Loan$Score
rocit_emp &lt;- rocit(score = score, class = class, negref = "FP")
# ----------------------------------------------------------------
gtable8 &lt;- gainstable(rocit_emp, ngroup = 8)
print(gtable8)
print(gtable8, maxdigit = 4)
</code></pre>

<hr>
<h2 id='print.measureit'>Print <code>'measureit'</code> Object</h2><span id='topic+print.measureit'></span>

<h3>Description</h3>

<p>S3 method to print object of <code>"measureit"</code> class
in organized way.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'measureit'
print(x, n = NULL, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.measureit_+3A_x">x</code></td>
<td>
<p>An object of class <code>"measureit"</code>, created with the function
<code><a href="#topic+measureit">measureit</a></code>.</p>
</td></tr>
<tr><td><code id="print.measureit_+3A_n">n</code></td>
<td>
<p>How many rows of output is desired in the output. If NULL, then
prints all the rows. If specified, then first n rows are printed. If specified
n is bigger than the number of possible rows, then n is adjusted. If
non integer or negative, default (10 or number of possible rows,
whichever is smaller) is set. If <code>NULL</code>, all rows printed.</p>
</td></tr>
<tr><td><code id="print.measureit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+measureit">measureit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
logistic.model &lt;- glm(as.factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
class &lt;- logistic.model$y
score &lt;- logistic.model$fitted.values
# -------------------------------------------------------------
measure &lt;- measureit(score = score, class = class,
                     measure = c("ACC", "SENS", "FSCR"))
print(measure, n = 5)
print(measure, n = 10)




</code></pre>

<hr>
<h2 id='print.rocci'>Print <code>rocci</code> Object</h2><span id='topic+print.rocci'></span>

<h3>Description</h3>

<p>Print <code>rocci</code> Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocci'
print(x, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rocci_+3A_x">x</code></td>
<td>
<p>An object of class <code>"rocci"</code>,
returned by <code><a href="#topic+ciROC">ciROC</a></code> function.</p>
</td></tr>
<tr><td><code id="print.rocci_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+ciROC">ciROC</a></code>, <code><a href="#topic+rocit">rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
roc_empirical &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                       negref = "-") # default method empirical
roc_binormal &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                     negref = "-", method = "bin")

# ---------------------
print(ciROC(roc_empirical))
print(ciROC(roc_binormal))



</code></pre>

<hr>
<h2 id='print.rocit'>Print <code>rocit</code> Object</h2><span id='topic+print.rocit'></span>

<h3>Description</h3>

<p>Print <code>rocit</code> Object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
print(x, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rocit_+3A_x">x</code></td>
<td>
<p>An object of class <code>"rocit"</code>,
returned by <code><a href="#topic+rocit">rocit</a></code> function.</p>
</td></tr>
<tr><td><code id="print.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+summary.rocit">summary.rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
roc_empirical &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                       negref = "-") # default method empirical
roc_binormal &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                     negref = "-", method = "bin")

# ---------------------
print(roc_empirical)
print(roc_binormal)


</code></pre>

<hr>
<h2 id='print.rocitaucci'>Print Confidence Interval of AUC</h2><span id='topic+print.rocitaucci'></span>

<h3>Description</h3>

<p>Print Confidence Interval of AUC
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocitaucci'
print(x, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.rocitaucci_+3A_x">x</code></td>
<td>
<p>An object of class <code>rocitaucci</code> created with
<code><a href="#topic+ciAUC">ciAUC</a></code>.</p>
</td></tr>
<tr><td><code id="print.rocitaucci_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
logistic.model &lt;- glm(as.factor(dtest)~chol+age+bmi,
                      data = Diabetes,family = "binomial")
score &lt;- logistic.model$fitted.values
class &lt;- logistic.model$y
# Make the rocit objects
rocit_bin &lt;- rocit(score = score, class = class, method = "bin")
obj_1 &lt;- ciAUC(rocit_bin, level = 0.9)
obj_2 &lt;- ciAUC(rocit_bin, delong = TRUE)
obj_3 &lt;- ciAUC(rocit_bin, delong = TRUE, logit = TRUE)
# Print
print(obj_1)
print(obj_2)
print(obj_3)
</code></pre>

<hr>
<h2 id='rankorderdata'>Rank order data</h2><span id='topic+rankorderdata'></span>

<h3>Description</h3>

<p>Function <code>rankorderdata</code> rank-orders the data
with respect to some variable (diagnostic variable).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rankorderdata(score, class, dec = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rankorderdata_+3A_score">score</code></td>
<td>
<p>A vector containing (diagnostic) scores.</p>
</td></tr>
<tr><td><code id="rankorderdata_+3A_class">class</code></td>
<td>
<p>A vector containing the class.</p>
</td></tr>
<tr><td><code id="rankorderdata_+3A_dec">dec</code></td>
<td>
<p>Logical. <code>TRUE</code> for descending order, <code>FALSE</code> for
ascending order.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe, rank-ordered with respect to the score.
</p>


<h3>Comment</h3>

<p><code>rankorderdata</code> is used internally in other function(s) of <span class="pkg">ROCit</span>.
</p>


<h3>Author(s)</h3>

<p>Riaz Khan, <a href="mailto:mdriazahmed.khan@jacks.sdstate.edu">mdriazahmed.khan@jacks.sdstate.edu</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>score &lt;- c(0.4 * runif(20) + 0.2, 0.4*runif(20))
class &lt;- c(rep("A",20), rep("B",20))
returndata &lt;- rankorderdata(score, class, dec = FALSE)
returndata

</code></pre>

<hr>
<h2 id='rocit'>ROC Analysis of Binary Classifier</h2><span id='topic+rocit'></span>

<h3>Description</h3>

<p><code>rocit</code> is the main function of <span class="pkg">ROCit</span> package.
With the diagnostic score and the class of each observation,
it calculates true positive rate (sensitivity) and
false positive rate (1-Specificity) at convenient cutoff values
to construct ROC curve. The function returns <code>"rocit"</code> object,
which can be passed as arguments for other S3 methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rocit(score, class, negref = NULL, method = "empirical", step = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rocit_+3A_score">score</code></td>
<td>
<p>An numeric array of diagnostic score.</p>
</td></tr>
<tr><td><code id="rocit_+3A_class">class</code></td>
<td>
<p>An array of equal length of score,
containing the class of the observations.</p>
</td></tr>
<tr><td><code id="rocit_+3A_negref">negref</code></td>
<td>
<p>The reference value, same as the
<code>reference</code> in <code><a href="#topic+convertclass">convertclass</a></code>.
Depending on the class of <code>x</code>,
it can be numeric or character type. If specified, this value
is converted to 0 and other is converted to 1. If NULL, reference is
set alphabetically.</p>
</td></tr>
<tr><td><code id="rocit_+3A_method">method</code></td>
<td>
<p>The method of estimating ROC curve. Currently supports
<code>"empirical"</code>, <code>"binormal"</code> and <code>"nonparametric"</code>.
Pattern matching allowed thorough <code><a href="base.html#topic+grep">grep</a></code>.</p>
</td></tr>
<tr><td><code id="rocit_+3A_step">step</code></td>
<td>
<p>Logical, default in <code>FALSE</code>. Only applicable for
<code>empirical</code> method and ignored for others. Indicates
whether only horizontal and vertical steps should be used
to produce the ROC curve. See &quot;Details&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>ROC curve is defined as the set of ordered pairs,
<code class="reqn">(FPR(c), TPR(c))</code>, where, <code class="reqn">-\infty &lt; c &lt; \infty</code>,
where, <code class="reqn">FPR(c) = P(D \ge c | Y = 0)</code> and <code class="reqn">FPR(c) = P(D \ge c | Y = 1)</code>
at cutoff <code class="reqn">c</code>.
Alternately, it can be defined as:
</p>
<p style="text-align: center;"><code class="reqn">y(x) = 1 - G[F^{-1}(1-x)],  0 \le x \le 1</code>
</p>

<p>where <code class="reqn">F</code> and <code class="reqn">G</code> are the cumulative density functions of the
diagnostic score in negative and positive responses respectively.
<code>rocit</code> evaluates TPR and FPR values at convenient cutoffs.
</p>
<p>As the name implies, empirical TPR and FPR values are evaluated
for <code>method = "empirical"</code>. For <code>"binormal"</code>, the distribution
of diagnostic are assumed to be normal and maximum likelihood parameters
are estimated. If <code>method = "nonparametric"</code>, then kernel density
estimates (using <code><a href="stats.html#topic+density">density</a></code>) are applied with
following bandwidth:
</p>

<ul>
<li> <p><code class="reqn">h_Y = 0.9 * min(\sigma_Y, IQR(D_Y)/1.34)/((n_Y)^{(1/5)})</code>
</p>
</li>
<li> <p><code class="reqn">h_{\bar{Y}} = 0.9 * min(\sigma_{\bar{Y}},
 IQR(D_{\bar{Y}})/1.34)/((n_{\bar{Y}})^{(1/5)})</code>
</p>
</li></ul>

<p>as described in Zou et al. From the kernel estimates of PDFs, CDFs are
estimated using trapezoidal rule.
</p>
<p>For <code>"empirical"</code> ROC, the algorithm firt rank orders the
data and calculates TPR and FPR by treating all predicted
up to certain level as positive. If <code>step</code> is <code>TRUE</code>,
then the ROC curve is generated based on all the calculated
{FPR, TPR} pairs regardless of tie in the data. If <code>step</code> is
<code>FALSE</code>, then the ROC curve follows a diagonal path for the ties.
</p>
<p>For <code>"empirical"</code> ROC, trapezoidal rule is
applied to estimate area under curve (AUC). For <code>"binormal"</code>, AUC is estimated by
<code class="reqn">\Phi(A/\sqrt(1 + B^2)</code>, where <code class="reqn">A</code> and <code class="reqn">B</code> are functions
of mean and variance of the diagnostic in two groups.
For <code>"nonparametric"</code>, AUC is estimated as
by
</p>
<p style="text-align: center;"><code class="reqn">\frac{1}{n_Yn_{\bar{Y}}}
\sum_{i=1}^{n_{\bar{Y}}}
\sum_{j=1}^{n_{Y}}
\Phi(
  \frac{D_{Y_j}-D_{{\bar{Y}}_i}}{\sqrt{h_Y^2+h_{\bar{Y}}^2}}
 )</code>
</p>



<h3>Value</h3>

<p>A list of class <code>"rocit"</code>, having following elements:
</p>
<table role = "presentation">
<tr><td><code>method</code></td>
<td>
<p>The method applied to estimate ROC curve.</p>
</td></tr>
<tr><td><code>pos_count</code></td>
<td>
<p>Number of positive responses.</p>
</td></tr>
<tr><td><code>neg_count</code></td>
<td>
<p>Number of negative responses.</p>
</td></tr>
<tr><td><code>pos_D</code></td>
<td>
<p>Array of diagnostic scores in positive responses.</p>
</td></tr>
<tr><td><code>neg_D</code></td>
<td>
<p>Array of diagnostic scores in negative responses.</p>
</td></tr>
<tr><td><code>AUC</code></td>
<td>
<p>Area under curve. See &quot;Details&quot;.</p>
</td></tr>
<tr><td><code>Cutoff</code></td>
<td>
<p>Array of cutoff values at which the
true positive rates and  false positive rates
are evaluated. Applicable for <code>"empirical"</code> and
<code>"nonparametric"</code>.</p>
</td></tr>
<tr><td><code>param</code></td>
<td>
<p>Maximum likelihood estimates of <code class="reqn">\mu</code> and <code class="reqn">\sigma</code> of
the diagnostic score in two groups. Applicable for <code>"binormal"</code>.</p>
</td></tr>
<tr><td><code>TPR</code></td>
<td>
<p>Array of true positive rates (or sensitivities or recalls),
evaluated at the cutoff values.</p>
</td></tr>
<tr><td><code>FPR</code></td>
<td>
<p>Array of false positive rates (or 1-specificity),
evaluated at the cutoff values.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The algorithm is designed for complete cases. If NA(s) found in
either <code>score</code> or <code>class</code>, then removed.
</p>


<h3>References</h3>

<p>Pepe, Margaret Sullivan. <em>The statistical evaluation
of medical tests for classification and prediction.</em> Medicine, 2003.
</p>
<p>Zou, Kelly H., W. J. Hall, and David E. Shapiro.
&quot;Smooth non-parametric receiver operating characteristic (ROC)
curves for continuous diagnostic tests.&quot; <em>Statistics in medicine</em>
16, no. 19 (1997): 2143-2156.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+ciROC">ciROC</a></code>, <code><a href="#topic+ciAUC">ciAUC</a></code>, <code><a href="#topic+plot.rocit">plot.rocit</a></code>,
<code><a href="#topic+gainstable">gainstable</a></code>, <code><a href="#topic+ksplot">ksplot</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># ---------------------
data("Diabetes")
roc_empirical &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                       negref = "-") # default method empirical
roc_binormal &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                     negref = "-", method = "bin")

# ---------------------
summary(roc_empirical)
summary(roc_binormal)

# ---------------------
plot(roc_empirical)
plot(roc_binormal, col = c("#00BA37", "#F8766D"),
       legend = FALSE, YIndex = FALSE)


</code></pre>

<hr>
<h2 id='ROCit-defunct'>Removed functions in package <span class="pkg">ROCit</span>.</h2><span id='topic+ROCit-defunct'></span><span id='topic+gettptnfpfn'></span>

<h3>Description</h3>

<p>The function(s) listed below are removed from
<span class="pkg">ROCit</span>. Help pages for deprecated functions are
available at <code>help("-defunct")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gettptnfpfn(x, depth, npos = sum(x), nneg = length(x) - npos)
</code></pre>

<hr>
<h2 id='ROCit-deprecated'>Deprecated functions in package <span class="pkg">ROCit</span>.</h2><span id='topic+ROCit-deprecated'></span><span id='topic+logit'></span><span id='topic+invlogit'></span>

<h3>Description</h3>

<p>The functions listed below are deprecated and will be defunct in
the near future. When possible, alternative functions with similar
functionality are also mentioned. Help pages for deprecated functions are
available at <code>help("-deprecated")</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>logit(x)

invlogit(x)
</code></pre>


<h3><code>logit</code></h3>

<p>For <code>logit</code>, use <code><a href="stats.html#topic+qlogis">qlogis</a></code>.
</p>


<h3><code>invlogit</code></h3>

<p>For <code>invlogit</code>, use <code><a href="stats.html#topic+plogis">plogis</a></code>.
</p>

<hr>
<h2 id='summary.rocit'>Summary of rocit object</h2><span id='topic+summary.rocit'></span>

<h3>Description</h3>

<p>Prints the summary of rocit object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rocit'
summary(object, ... = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.rocit_+3A_object">object</code></td>
<td>
<p>An object of class <code>rocit</code>, returned by rocit function.</p>
</td></tr>
<tr><td><code id="summary.rocit_+3A_...">...</code></td>
<td>
<p><code>NULL</code>. Used for S3 generic/method consistency.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+rocit">rocit</a></code>, <code><a href="#topic+print.rocit">print.rocit</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("Diabetes")
roc_empirical &lt;- rocit(score = Diabetes$chol, class = Diabetes$dtest,
                       negref = "-")
# ---------------------
summary(roc_empirical)


</code></pre>

<hr>
<h2 id='trapezoidarea'>Approximate Area with Trapezoid Rule</h2><span id='topic+trapezoidarea'></span>

<h3>Description</h3>

<p><code>trapezoidarea</code> calculates the approximated area
under curve, using trapezoidal rule.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>trapezoidarea(x, y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="trapezoidarea_+3A_x">x</code>, <code id="trapezoidarea_+3A_y">y</code></td>
<td>
<p>Numeric vectors of same length, representing the <code>x</code> and <code>y</code> coordinates
of the points.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function approximates the area bounded by the following 4 curves:
</p>
<p style="text-align: center;"><code class="reqn">x = a, x = b, y = 0, y = f(x)</code>
</p>

<p><code class="reqn">a</code> and <code class="reqn">b</code> are set at the min and max value of given <code>x</code>
coordinates. <code class="reqn">(x, y)</code> are some points on the <code class="reqn">y = f(x)</code> curve.
</p>


<h3>Value</h3>

<p>Numeric value of the area under curve approximated with trapezoid rule.
</p>


<h3>Comment</h3>

<p><code>trapezoidarea</code> is used internally in other function(s) of <span class="pkg">ROCit</span>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Area under rectangle -----------------
trapezoidarea(seq(0, 10), rep(1, 11))

# Area under triangle ------------------
trapezoidarea(seq(0, 10), seq(0, 10))

# Area under normal pdf ----------------
x_vals &lt;- seq(-3, 3, 0.01); y_vals &lt;- dnorm(x_vals)
trapezoidarea(x = x_vals, y = y_vals) # theoretically 1

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package BayesESS</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BayesESS}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ess'>
<p>Determines effective sample size of a parametric prior distribution</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Determining Effective Sample Size</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.19</td>
</tr>
<tr>
<td>Author:</td>
<td>Jaejoon Song, Satoshi Morita, J. Jack Lee</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jaejoon Song &lt;jaejoonsong@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Determines effective sample size of a parametric prior distribution
    in Bayesian models. For a web-based Shiny application related to this package, see <a href="https://implement.shinyapps.io/bayesess/">https://implement.shinyapps.io/bayesess/</a>. </td>
</tr>
<tr>
<td>Depends:</td>
<td>MCMCpack, stats, LaplacesDemon</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp, dfcrm, MatrixModels, MASS</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo, RcppEigen</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>5.0.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-11-25 15:09:13 UTC; JS</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-11-25 19:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='ess'>
Determines effective sample size of a parametric prior distribution
</h2><span id='topic+ess'></span>

<h3>Description</h3>

<p>Determines effective sample size of a parametric prior distribution
in Bayesian conjugate models (beta-binomial, gamma-exponential, gamma-Poisson, dirichlet-multinomial, normal-normal, inverse-chi-squared-normal, inverse-gamma-normal), Bayesian linear and logistic regression models, Bayesian continual reassessment method (CRM), and Bayesian time to event model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ess(model,label,prior,m,nsim,ncov,svec1,svec2,
    PI,betaSD,target,
    obswin,rate,accrual,
    shapeParam,scaleParam,
    fast=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ess_+3A_model">model</code></td>
<td>
<p>Model specifications. Options are: 'betaBin' for beta-binomial model; 'gammaEx' for gamma-exponential model; 'gammaPois' for gamma-Poisson model; 'dirMult' for dirichlet-multinomial model; 'normNorm' for normal-normal model; 'invChisqNorm' for scaled-inverse-chi-squared-normal model; or 'invGammaNorm' for inverse-gamma-normal models. For non-conjugate models, options are: 'linreg' for linear regression model; and 'logistic' for logistic regression models.  In addition, the continual reassessment method (CRM) can be specified as: model = 'crm', or as 'tite.crm' for the time-to-event CRM (TITE CRM). Finally, time to event models can be specified as model = 'surv'</p>
</td></tr>
<tr><td><code id="ess_+3A_label">label</code></td>
<td>
<p>Optional labeling for hyperparameters. Please see examples for sample usage.</p>
</td></tr>
<tr><td><code id="ess_+3A_prior">prior</code></td>
<td>
<p>Prior distribution specification specified as a list. Options are 'beta', 'gamma', 'dirichlet', 'norm' (for normal prior), 'scaled-inverse-chisquared', and 'inverse-gamma'.</p>
</td></tr>
<tr><td><code id="ess_+3A_m">m</code></td>
<td>
<p>A positive integer specified as an maximum value in which ESS is searched.</p>
</td></tr>
<tr><td><code id="ess_+3A_nsim">nsim</code></td>
<td>
<p>Number of simulations for numerical approximation (specified only for model = 'linreg' or model = 'logistic').</p>
</td></tr>
<tr><td><code id="ess_+3A_ncov">ncov</code></td>
<td>
<p>(Required for linear or logistic regression model) Number of covariates</p>
</td></tr>
<tr><td><code id="ess_+3A_svec1">svec1</code></td>
<td>
<p>(Required for linear or logistic regression model) Specification of first subvector for calculating ESS</p>
</td></tr>
<tr><td><code id="ess_+3A_svec2">svec2</code></td>
<td>
<p>(Required for linear or logistic regression model) Specification of second subvector for calculating ESS</p>
</td></tr>
<tr><td><code id="ess_+3A_pi">PI</code></td>
<td>
<p>(Required for CRM) A vector of the true toxicity probabilites associated with the doses.</p>
</td></tr>
<tr><td><code id="ess_+3A_betasd">betaSD</code></td>
<td>
<p>(Required for CRM) Standard deviation of the normal prior of the model parameter.</p>
</td></tr>
<tr><td><code id="ess_+3A_target">target</code></td>
<td>
<p>(Required for CRM) The target dose limiting toxicity (DLT) rate.</p>
</td></tr>
<tr><td><code id="ess_+3A_obswin">obswin</code></td>
<td>
<p>(Further required for TITE (time-to-event) CRM) The observation window with respect to which the maximum tolerated dose (MTD) is defined. Default is obswin=30.</p>
</td></tr>
<tr><td><code id="ess_+3A_rate">rate</code></td>
<td>
<p>(Further required for TITE (time-to-event) CRM) Patient arrival rate: Expected number of arrivals per observation window. Example: obswin=6 and rate=3 means expecting 3 patients arrive in 6 time units. Default is rate=2.</p>
</td></tr>
<tr><td><code id="ess_+3A_accrual">accrual</code></td>
<td>
<p>(Further required for TITE (time-to-event) CRM) Patient accrual scheme. Default is accrual=&quot;poisson&quot;. Alternatively use accrual=&quot;fixed&quot; whereby inter-patient arrival is fixed.</p>
</td></tr>
<tr><td><code id="ess_+3A_shapeparam">shapeParam</code></td>
<td>
<p>(Required for time to event model) Shape parameter of the inverse gamma prior</p>
</td></tr>
<tr><td><code id="ess_+3A_scaleparam">scaleParam</code></td>
<td>
<p>(Required for time to event model) Scale parameter of the inverse gamma prior</p>
</td></tr>
<tr><td><code id="ess_+3A_fast">fast</code></td>
<td>
<p>Accelerate ESS computation for linear or logistic regression models with C++ code? Default is fast=TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>ESS</code></td>
<td>
<p>Returns ESS</p>
</td></tr>
<tr><td><code>ESSsubvec1</code></td>
<td>
<p>(For linear or logistic regression model) ESS for the first sub-vector</p>
</td></tr>
<tr><td><code>ESSsubvec2</code></td>
<td>
<p>(For linear or logistic regression model) ESS for the second sub-vector</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jaejoon Song &lt;jjsong2@mdanderson.org&gt;, Satoshi Morita &lt;smorita@kuhp.kyoto-u.ac.jp&gt;, J. Jack Lee &lt;jjlee@mdanderson.org&gt;
</p>


<h3>References</h3>

<p>Morita, S., Thall, P. F., and Muller, P. (2008). Determining the effective sample size of a parametric prior. Biometrics, 64, 595-602.
</p>
<p>Morita, S., Thall, P. F., and Muller, P. (2010). Evaluating the impact of prior assumptions in Bayesian biostatistics. Stat Biosci, 2, 1-17.
</p>
<p>O'Quigley J., Pepe M., Fisher, L. (1990).Continual reassessment method: A practical design for phase I clinical trials in cancer. Biometrics, 46, 33-48.
</p>
<p>Thall, P. F., Wooten, L. H., Tannir, N. M. (2005). Monitoring event times in early phase clinical trials: some practical issues. Clinical Trials, 2, 467-478.
</p>


<h3>See Also</h3>

<p><a href="https://biostatistics.mdanderson.org/SoftwareDownload/">https://biostatistics.mdanderson.org/SoftwareDownload/</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(BayesESS)
# Calculating ESS for a beta-binomial model with
# beta(1,2) prior
ess(model='betaBin',prior=c('beta',1,2))

# Calculating ESS for a gamma-exponential model with
# gamma(2,4) prior
ess(model='gammaEx',prior=c('gamma',2,4))

# Calculating ESS for a gamma-Poisson model with
# gamma(2,4) prior
ess(model='gammaPois',prior=c('gamma',2,4))

# Calculating ESS for a dirichlet-multinomial model with
# dirichlet(10,15,20) prior
ess(model='dirMult',prior=c('dirichlet',10,15,20))

# Calculating ESS for a scaled-inverse-chi-squared-normal model
# when mean is known and variance is unknown
# with scaled-inverse-chi-squared(nu_0=10,sigma^2_0=1) prior for variance
# ESS for such model can be found analytically
ess(model='invChisqNorm',prior=c(10,1))

# Calculating ESS for a normal-normal model
# when mean is unknown and variance is known
# with normal(mu_0=10,sigma^2=1,n_0=30) prior (i.e. known variance is sigma^2=1)
# ESS for such model can be found analytically (ESS = n_0)
ess(model='normNorm',prior=c('norm',10,1,30))

# Calculating ESS for a scaled-inverse-chi-squared-normal model
# when mean and variance are both unknown
# with scaled-inverse-chi-squared(nu_0=10,sigma^2_0=1) prior for variance
# and normal(mu_0=1,sigma^2/phi=sigma^2/30) prior for mean
# Smaller nsim = 1000 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
## Not run: 
ess(model='invChisqNorm',prior=c(10,1,1,30),m=20,nsim=1000)

## End(Not run)

# Calculating ESS for a inverse-gamma-normal model
# when mean is known and variance is unknown
# with inverse-gamma(alpha=5,beta=5) prior
# Note: the inverse-gamma(nu_0/2,nu_0*sigma^2_0/2) prior is
# equivalent to scaled-inverse-chi-squared(nu_0,sigma^2_0)
# ESS for such model can be found analytically
ess(model='invGammaNorm',prior=c(5,5))

# Calculating ESS for a inverse-gamma-normal model
# when mean and variance are both unknown
# with inverse-gamma(alpha=5,beta=5) prior
# and normal(mu_0=1,sigma^2/phi=sigma^2/30) prior for mean
# Note: the inverse-gamma(nu_0/2,nu_0*sigma^2_0/2) prior is
# equivalent to scaled-inverse-chi-squared(nu_0,sigma^2_0)
# Smaller nsim = 1000 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
## Not run: 
ess(model='invGammaNorm',prior=c(5,5,1,30),m=20,nsim=1000)

## End(Not run)

# Calculating ESS for a linear regression model with
# three covariates, with priors specified as
# beta0 ~ N(0,1); beta1 ~ N(0,.1); beta2 ~ N(0,.2); beta3 ~ N(0,.3); tau ~ Gamma(1,1);
# Smaller nsim = 50 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
# The value of nsim as low as 1,000 may be used to reduce runtime.
## Not run: 
ess(model='linreg',label=c('beta0','beta1','beta2','beta3','tau'),
prior=list(c('norm',0,1),c('norm',0,.1),c('norm',0,.2),c('norm',0,.3),c('gamma',1,1)),
ncov=3,m=50,nsim=50,svec1=c(0,1,1,1,0),svec2=c(0,0,0,0,1))

## End(Not run)

# Calculating ESS for a linear regression model with
# two covariates, with priors specified as
# beta0 ~ N(0,1); beta1 ~ N(0,.1); beta2 ~ N(0,.2); tau ~ Gamma(1,1);
# Smaller nsim = 50 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
# The value of nsim as low as 1,000 may be used to reduce runtime.
## Not run: 
ess(model='linreg',label=c('beta0','beta1','beta2','tau'),
prior=list(c('norm',0,1),c('norm',0,.1),c('norm',0,.2),c('gamma',1,1)),
ncov=2,m=50,nsim=50,svec1=c(0,1,1,0),svec2=c(0,0,0,1))

## End(Not run)

# Calculating ESS for a logistic regression model with
# three covariates, with priors specified as
# beta0 ~ N(0,1); beta1 ~ N(0,1); beta2 ~ N(0,1); beta3 ~ N(0,1)
# Smaller nsim = 50 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
# The value of nsim as low as 1,000 may be used to reduce runtime.
## Not run: 
ess(model='logistic',label=c('beta0','beta1','beta2','beta3'),
prior=list(c('norm',0,1),c('norm',0,1),c('norm',0,1),c('norm',0,1)),
ncov=3,m=50,nsim=50,svec1=c(1,0,0,0),svec2=c(0,1,1,1))

## End(Not run)

# Calculating ESS for a continual reassessment method (CRM)
# with true toxicity probabilites PI=c(.02,.06,.10,.18,.30)
# prior is specified as N(0,2.5) with target DLT = 0.2
# Smaller nsim = 50 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
# The value of nsim as low as 1,000 may be used to reduce runtime.
## Not run: 
ess(model='crm',prior=c(.02,.06,.10,.18,.30),
       m=7,nsim=50,
       PI=c(.02,.06,.10,.18,.30),
       betaSD=sqrt(2.5),target=0.2)

## End(Not run)

# Calculating ESS for a TITE CRM
# with true toxicity probabilites PI=c(.02,.06,.10,.18,.30)
# prior is specified as N(0,1.5) with target DLT = 0.2
# Smaller nsim = 50 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
# The value of nsim as low as 1,000 may be used to reduce runtime.
## Not run: 
ess(model='tite.crm',prior=c(.02,.06,.10,.18,.30),
       m=7,nsim=50,
       PI=c(.02,.06,.10,.18,.30),
       betaSD=sqrt(1.5),target=0.2,obswin=30,rate=2,
       accrual="poisson")

## End(Not run)

# Calculating ESS for a time to event model
# prior is specified as inverse-gamma(5.348,30.161)
# Smaller nsim = 50 is specified for illustration purposes
# The user can use nsim = 10,000 to carry out the most accurate ESS computations.
# The value of nsim as low as 1,000 may be used to reduce runtime.
## Not run: 
ess(model='surv',shapeParam=5.348,scaleParam=30.161,m=7,nsim=50)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

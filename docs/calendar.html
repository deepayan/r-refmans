<!DOCTYPE html><html><head><title>Help for package calendar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {calendar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#calendar'><p>ics files with R</p></a></li>
<li><a href='#formats'><p>Convenient datetime formats</p></a></li>
<li><a href='#holidays'><p>Example ics file on English and Welsh holidays</p></a></li>
<li><a href='#ic_attributes_vec'><p>Extract attributes from ical text</p></a></li>
<li><a href='#ic_bind_list'><p>Bind list of named vectors of variable length into data frame</p></a></li>
<li><a href='#ic_char_datetime'><p>Convert datetime object to character string</p></a></li>
<li><a href='#ic_char_event'><p>Convert ical object to character strings of events</p></a></li>
<li><a href='#ic_character'><p>Convert ical object to character strings of attributes</p></a></li>
<li><a href='#ic_dataframe'><p>Convert iCal lines of text into a data frame</p></a></li>
<li><a href='#ic_date'><p>Convert ical date into R date</p></a></li>
<li><a href='#ic_datetime'><p>Convert ical datetime into R datetime</p>
Z at the end of an ical stamp stands of Zulu time
https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones
which is UTC = GMT https://greenwichmeantime.com/info/zulu/</a></li>
<li><a href='#ic_event'><p>Create ical object from properties_core inputs</p></a></li>
<li><a href='#ic_extract'><p>Extract contents of iCal fields</p></a></li>
<li><a href='#ic_extract_raw'><p>Extract raw contents of iCal fields</p></a></li>
<li><a href='#ic_find'><p>Find contents of iCal fields</p></a></li>
<li><a href='#ic_guid'><p>Get an ical GUID</p></a></li>
<li><a href='#ic_list'><p>Convert raw ical text into a list of items</p></a></li>
<li><a href='#ic_read'><p>Read ics file</p></a></li>
<li><a href='#ic_spec'><p>View or download the ical specification</p></a></li>
<li><a href='#ic_vector'><p>Return a named vector from raw iCal text</p></a></li>
<li><a href='#ic_write'><p>Write ics file</p></a></li>
<li><a href='#ical'><p>Create object of class ical</p></a></li>
<li><a href='#ical_example'><p>Minimal example of raw ical data</p></a></li>
<li><a href='#ical_outlook'><p>Example of event data with multi-line description from Outlook</p></a></li>
<li><a href='#properties'><p>The key 'properties' that are allowed in ical files</p></a></li>
<li><a href='#properties_core'><p>The key 'properties' that are allowed in ical files</p></a></li>
<li><a href='#properties_ical'><p>ical default VCALENDAR properties in one line vectors.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Create, Read, Write, and Work with 'iCalander' Files, Calendars
and Scheduling Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides function to create, read, write, and work with
    'iCalander' files (which typically have '.ics' or '.ical' extensions),
    and the scheduling data, calendars and timelines of people,
    organisations and other entities that they represent.  'iCalendar' is
    an open standard for exchanging calendar and scheduling information
    between users and computers, described at <a href="https://icalendar.org/">https://icalendar.org/</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2.0)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/atfutures/calendar">https://github.com/atfutures/calendar</a>,
<a href="https://atfutures.github.io/calendar/">https://atfutures.github.io/calendar/</a>,
<a href="https://github.com/ATFutures/calendar">https://github.com/ATFutures/calendar</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ATFutures/calendar/issues">https://github.com/ATFutures/calendar/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>lubridate, methods, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, knitr, rmarkdown, testthat</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-28 05:34:44 UTC; robin</td>
</tr>
<tr>
<td>Author:</td>
<td>Robin Lovelace <a href="https://orcid.org/0000-0001-5679-6536"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Layik Hama <a href="https://orcid.org/0000-0003-1912-4890"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Ollie Lloyd <a href="https://orcid.org/0000-0002-9385-1634"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Robin Lovelace &lt;rob00x@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-28 05:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='calendar'>ics files with R</h2><span id='topic+calendar'></span>

<h3>Description</h3>

<p><a href="https://icalendar.org/">iCalendar</a> is an open standard for
&quot;exchanging calendar and scheduling information between users and computers&quot;.
Files adhering to this standard are save as <code>.ics</code> files.
</p>


<h3>Details</h3>

<p>The <code>ical</code> package is for interacting with such files
</p>

<hr>
<h2 id='formats'>Convenient datetime formats</h2><span id='topic+formats'></span>

<h3>Description</h3>

<p>Convenient datetime formats
</p>


<h3>Usage</h3>

<pre><code class='language-R'>formats
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 8.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>formats
formats &lt;- list(
 "ddmmyy"="%d%m%y",
 "ddmmyyyy"="%d%m%Y",
 "ddmmyyyy hh"="%d%m%Y %H",
 "ddmmyyyy hhmm"="%d%m%Y %H%M",
 "yyyy-mm-dd"="%Y-%m-%d",
 "yyyy-mm-dd hh:mm"="%Y-%m-%d %H:%M",
 "yyyy-mm-dd hh"="%Y-%m-%d %H",
 "yy-mm-dd"="%y-%m-%d"
)
# usethis::use_data(datetime_formats)
</code></pre>

<hr>
<h2 id='holidays'>Example ics file on English and Welsh holidays</h2><span id='topic+holidays'></span>

<h3>Description</h3>

<p>This file is documented at
https://www.gov.uk/government/publications/open-standards-for-government/exchange-of-calendar-events
</p>


<h3>Usage</h3>

<pre><code class='language-R'>holidays
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># dataset was stored as follows:
u = "https://www.gov.uk/bank-holidays/england-and-wales.ics"
# download.file(u, "inst/extdata/england-and-wales.ics")
# holidays = "holidays"
</code></pre>

<hr>
<h2 id='ic_attributes_vec'>Extract attributes from ical text</h2><span id='topic+ic_attributes_vec'></span>

<h3>Description</h3>

<p>Extract attributes from ical text
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_attributes_vec(
  x = NULL,
  ic_attributes = c(BEGIN = "VCALENDAR", PRODID = "ATFutures/calendar", VERSION =
    "2.0", CALSCALE = "GREGORIAN", METHOD = "PUBLISH")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_attributes_vec_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ic_attributes_vec_+3A_ic_attributes">ic_attributes</code></td>
<td>
<p>Calendar attributes, e.g. as provided by <code>ic_attributes_vec()</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_attributes_vec() # default attributes (can be changed)
ic_attributes_vec(ical_example)
</code></pre>

<hr>
<h2 id='ic_bind_list'>Bind list of named vectors of variable length into data frame</h2><span id='topic+ic_bind_list'></span>

<h3>Description</h3>

<p>Based on: https://stackoverflow.com/questions/17308551/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_bind_list(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_bind_list_+3A_x">x</code></td>
<td>
<p>list of named vectors</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_bind_list(list(ic_vector(ical_example)))
ics_file &lt;- system.file("extdata", "england-and-wales.ics", package = "ical")
ics_raw = readLines(ics_file)
x &lt;- lapply(ic_list(ics_raw), function(x) {
  ic_vector(x)
})
ic_df &lt;- ic_bind_list(x)
head(ic_df)
x &lt;- lapply(ical_outlook, function(x) {
  ic_vector(x)
})
ic_bind_list(x)
</code></pre>

<hr>
<h2 id='ic_char_datetime'>Convert datetime object to character string</h2><span id='topic+ic_char_datetime'></span><span id='topic+ic_char_date'></span>

<h3>Description</h3>

<p>Convert datetime object to character string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_char_datetime(x, zulu = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_char_datetime_+3A_x">x</code></td>
<td>
<p>datetime object</p>
</td></tr>
<tr><td><code id="ic_char_datetime_+3A_zulu">zulu</code></td>
<td>
<p>is the datetime in Zulu time?
<code>FALSE</code> by default, which means the calendar's current timezone
is used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- ic_datetime("20180809T160000")
ic_char_datetime(x) == "20180809T160000"
x &lt;- ic_datetime("20180809T160000Z")
ic_char_datetime(x, zulu = TRUE) == "20180809T160000Z"
ic_char_date(as.Date("1985-12-26"))
</code></pre>

<hr>
<h2 id='ic_char_event'>Convert ical object to character strings of events</h2><span id='topic+ic_char_event'></span>

<h3>Description</h3>

<p>Convert ical object to character strings of events
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_char_event(ic, zulu = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_char_event_+3A_ic">ic</code></td>
<td>
<p>object of class <code>ical</code></p>
</td></tr>
<tr><td><code id="ic_char_event_+3A_zulu">zulu</code></td>
<td>
<p>is the datetime in Zulu time?
<code>FALSE</code> by default, which means the calendar's current timezone
is used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic &lt;- ical(ical_example)
ic_char_event(ic)
ic_char_event(ic[c(1, 1), ])
</code></pre>

<hr>
<h2 id='ic_character'>Convert ical object to character strings of attributes</h2><span id='topic+ic_character'></span>

<h3>Description</h3>

<p>Convert ical object to character strings of attributes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_character(ic, zulu = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_character_+3A_ic">ic</code></td>
<td>
<p>object of class <code>ical</code></p>
</td></tr>
<tr><td><code id="ic_character_+3A_zulu">zulu</code></td>
<td>
<p>is the datetime in Zulu time?
<code>FALSE</code> by default, which means the calendar's current timezone
is used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic &lt;- ical(ical_example)
ic_character(ic)
identical(ical_example, ic_character(ic))
</code></pre>

<hr>
<h2 id='ic_dataframe'>Convert iCal lines of text into a data frame</h2><span id='topic+ic_dataframe'></span>

<h3>Description</h3>

<p>Returns a data frame
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_dataframe(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_dataframe_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_dataframe(ical_example)
ic_dataframe(ical_outlook)
ics_file &lt;- system.file("extdata", "england-and-wales.ics", package = "calendar")
x = readLines(ics_file)
x_df = ic_dataframe(x)
head(x_df)
x = data.frame(x_df)
x_df2 = ic_dataframe(x)
identical(x, x_df2)
</code></pre>

<hr>
<h2 id='ic_date'>Convert ical date into R date</h2><span id='topic+ic_date'></span>

<h3>Description</h3>

<p>Convert ical date into R date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_date(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_date_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_date("20120103")
</code></pre>

<hr>
<h2 id='ic_datetime'>Convert ical datetime into R datetime
Z at the end of an ical stamp stands of Zulu time
https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones
which is UTC = GMT https://greenwichmeantime.com/info/zulu/</h2><span id='topic+ic_datetime'></span>

<h3>Description</h3>

<p>Convert ical datetime into R datetime
Z at the end of an ical stamp stands of Zulu time
https://en.wikipedia.org/wiki/Coordinated_Universal_Time#Time_zones
which is UTC = GMT https://greenwichmeantime.com/info/zulu/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_datetime(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_datetime_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_datetime("20180809T160000Z")
ic_date("20120103")
</code></pre>

<hr>
<h2 id='ic_event'>Create ical object from properties_core inputs</h2><span id='topic+ic_event'></span>

<h3>Description</h3>

<p>Create an ical event using either POSIXct type or character type with format parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_event(
  uid = ic_guid(),
  start_time = as.POSIXct(round.POSIXt(Sys.time(), units = "hours")),
  end_time = 1,
  format = "%Y-%m-%d %H:%M",
  summary = "ical event",
  more_properties = FALSE,
  event_properties = calendar::properties
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_event_+3A_uid">uid</code></td>
<td>
<p>the unique id of the event, by default generated by <code>ic_uid()</code></p>
</td></tr>
<tr><td><code id="ic_event_+3A_start_time">start_time</code></td>
<td>
<p>start time, by default the start time plus one hour</p>
</td></tr>
<tr><td><code id="ic_event_+3A_end_time">end_time</code></td>
<td>
<p>a number representing the number of hours
after <code>start_time</code> or an datetime object (of class <code>POSIXct</code>) when
the event ends. By default set to <code>1</code>, meaning 1 hour after <code>start_time</code>.</p>
</td></tr>
<tr><td><code id="ic_event_+3A_format">format</code></td>
<td>
<p>required if start_time and end_time are vectors and are not of datetime format
&quot;%Y-%m-%d %H:%M&quot;, you can use <code>calendar::formats</code> object for convenience.</p>
</td></tr>
<tr><td><code id="ic_event_+3A_summary">summary</code></td>
<td>
<p>short outline of the event</p>
</td></tr>
<tr><td><code id="ic_event_+3A_more_properties">more_properties</code></td>
<td>
<p>add placeholder columns for properties in addition to <code>properties_core</code>,
dy default <code>FALSE</code></p>
</td></tr>
<tr><td><code id="ic_event_+3A_event_properties">event_properties</code></td>
<td>
<p>named vector of additional properties to include. By default
These include names stored in the data object <code>properties</code> (a packaged dataset),
containing <code>NA</code>s to be subsequently populated.</p>
</td></tr>
</table>


<h3>Format</h3>

<p>in case of start_time and end_time being character values, a format must be provided.
</p>


<h3>Value</h3>

<p>object of class ics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ic_event()
s &lt;- lubridate::ymd_h("2019-01-01 00")
ic_event(start_time = s, end_time = 3)
# also accepts this format by default, thanks to lubridate::ymd_h:
ic_event(start_time = "2019-01-01 00")
ic_event(more_properties = TRUE)
ic_event(start_time = "18-10-12", end_time = "18-10-13", format = calendar::formats$`yy-mm-dd`)
</code></pre>

<hr>
<h2 id='ic_extract'>Extract contents of iCal fields</h2><span id='topic+ic_extract'></span>

<h3>Description</h3>

<p>Return formatted data from iCal fields
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_extract(x, pattern)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_extract_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ic_extract_+3A_pattern">pattern</code></td>
<td>
<p>A text string to search from (an ical field)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_extract(ical_example, "DTSTART")
</code></pre>

<hr>
<h2 id='ic_extract_raw'>Extract raw contents of iCal fields</h2><span id='topic+ic_extract_raw'></span>

<h3>Description</h3>

<p>Return info from iCal files, return raw unprocessed text.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_extract_raw(x, pattern)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_extract_raw_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ic_extract_raw_+3A_pattern">pattern</code></td>
<td>
<p>A text string to search from (an ical field)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>pattern = "TSTAMP"
ic_extract_raw(ical_example, pattern)
</code></pre>

<hr>
<h2 id='ic_find'>Find contents of iCal fields</h2><span id='topic+ic_find'></span>

<h3>Description</h3>

<p>Find contents of iCal fields
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_find(x, pattern)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_find_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ic_find_+3A_pattern">pattern</code></td>
<td>
<p>A text string to search from (an ical field)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>pattern = "DTSTAMP"
ic_find(ical_example, pattern)
</code></pre>

<hr>
<h2 id='ic_guid'>Get an ical GUID</h2><span id='topic+ic_guid'></span>

<h3>Description</h3>

<p>Provided without any testing. Slight improvement from
<a href="https://stackoverflow.com/a/10493590/2332101">SO question</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_guid()
</code></pre>


<h3>Examples</h3>

<pre><code class='language-R'>ic_guid()
</code></pre>

<hr>
<h2 id='ic_list'>Convert raw ical text into a list of items</h2><span id='topic+ic_list'></span>

<h3>Description</h3>

<p>This function breaks-up the iCalendar object into a list.
By default it breaks it into events, where the number of events
is the number of <code>BEGIN:VEVENT</code> event initiation lines
(assumes all events start and end with <code style="white-space: pre;">&#8288;:VEVENT&#8288;</code>),
as per the specification (see <code><a href="#topic+ic_spec">ic_spec()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_list(x, pattern = ":VEVENT", include_pattern = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_list_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ic_list_+3A_pattern">pattern</code></td>
<td>
<p>A text string to search from (an ical field)</p>
</td></tr>
<tr><td><code id="ic_list_+3A_include_pattern">include_pattern</code></td>
<td>
<p>should the pattern be included
in the output? <code>FALSE</code> by default.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic_list(ical_example)
ics_file &lt;- system.file("extdata", "england-and-wales.ics", package = "ical")
x = readLines(ics_file)
ics_list = ic_list(x)
ics_list[1:2]
ic_list(x, include_pattern = TRUE)
</code></pre>

<hr>
<h2 id='ic_read'>Read ics file</h2><span id='topic+ic_read'></span>

<h3>Description</h3>

<p>Read ics file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_read(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_read_+3A_file">file</code></td>
<td>
<p>ics file to read</p>
</td></tr>
</table>


<h3>Value</h3>

<p>object of class ics
</p>


<h3>Examples</h3>

<pre><code class='language-R'>f &lt;- system.file("extdata", "england-and-wales.ics", package = "calendar")
ics_df = ic_read(f)
head(ics_df)
</code></pre>

<hr>
<h2 id='ic_spec'>View or download the ical specification</h2><span id='topic+ic_spec'></span>

<h3>Description</h3>

<p>This function shows the spec underlying iCal files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_spec(mode = "view", spec_url = "https://tools.ietf.org/rfc/rfc5545.txt")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_spec_+3A_mode">mode</code></td>
<td>
<p>character string specifying whether to look at the spec (<code>mode = "view"</code>, the default)
or read it in (<code>mode = "read"</code>)</p>
</td></tr>
<tr><td><code id="ic_spec_+3A_spec_url">spec_url</code></td>
<td>
<p>the location of the latest version of the spec, from
tools.ietf.org/rfc/rfc5545.txt by default</p>
</td></tr>
</table>

<hr>
<h2 id='ic_vector'>Return a named vector from raw iCal text</h2><span id='topic+ic_vector'></span>

<h3>Description</h3>

<p>This is designed to be a helper function for creating data frames
ical lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_vector(x, pattern = "[A-Z]-?[A-Z]")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_vector_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ic_vector_+3A_pattern">pattern</code></td>
<td>
<p>A text string to search from (an ical field)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>x = ical_example[18:19]
ic_vector(x)
</code></pre>

<hr>
<h2 id='ic_write'>Write ics file</h2><span id='topic+ic_write'></span>

<h3>Description</h3>

<p>Write ics file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ic_write(ic, file, zulu = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ic_write_+3A_ic">ic</code></td>
<td>
<p>object of class <code>ical</code></p>
</td></tr>
<tr><td><code id="ic_write_+3A_file">file</code></td>
<td>
<p>ics file to write</p>
</td></tr>
<tr><td><code id="ic_write_+3A_zulu">zulu</code></td>
<td>
<p>is the datetime in Zulu time?
<code>FALSE</code> by default, which means the calendar's current timezone
is used.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ic &lt;- ical(ical_example)
ic_write(ic, file.path(tempdir(), "ic.ics"))
f &lt;- system.file("extdata", "example.ics", package = "calendar")
identical(readLines(file.path(tempdir(), "ic.ics")), readLines(f))
f &lt;- system.file("extdata", "england-and-wales.ics", package = "calendar")
ics_df &lt;- ic_read(f)
ic_write(ics_df, file.path(tempdir(), "ic.ics"))
# test similarity between files with diff tool like meld - from shell:
# meld ic.ics inst/extdata/england-and-wales.ics
</code></pre>

<hr>
<h2 id='ical'>Create object of class ical</h2><span id='topic+ical'></span>

<h3>Description</h3>

<p>Create object of class ical
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ical(x, ic_attributes = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ical_+3A_x">x</code></td>
<td>
<p>Lines read-in in from an iCal file</p>
</td></tr>
<tr><td><code id="ical_+3A_ic_attributes">ic_attributes</code></td>
<td>
<p>Calendar attributes, e.g. as provided by <code>ic_attributes_vec()</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># ical from .ics characters:
class(ical_example)
ic &lt;- ical(ical_example)
attributes(ic)
class(ic)
# ical from data frame:
ic_df &lt;- data.frame(ic)
ic2 &lt;- ical(ic_df)
class(ic2)
attributes(ic2)
</code></pre>

<hr>
<h2 id='ical_example'>Minimal example of raw ical data</h2><span id='topic+ical_example'></span>

<h3>Description</h3>

<p>See https://calendar.google.com/calendar/ical/9sl1qu3qh2vdnq26bjgvtnos94%40group.calendar.google.com/private-85cbe5d781da1b7efc91e01032cfc264/basic.ics for the file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ical_example
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 22.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># download.file("long_url", "inst/extdata/example.ics")
ical_example = readLines(system.file("extdata", "example.ics", package = "ical"))
# usethis::use_data(ical_example)
</code></pre>

<hr>
<h2 id='ical_outlook'>Example of event data with multi-line description from Outlook</h2><span id='topic+ical_outlook'></span>

<h3>Description</h3>

<p>See <a href="https://outlook.office365.com/owa/calendar/63f6c4e85d124df6a20656ade8e71faa@leeds.ac.uk/32e1cb4137f4414b8d7644453ec4b10414316826143036893453/calendar.ics">here</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ical_outlook
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 2.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># ical_outlook_raw &lt;- readLines(long_url)
# ical_outlook_list &lt;- ic_list(ical_outlook_raw)
# ical_outlook &lt;- ical_outlook_list[1:2]
# ical_outlook[[2]][c(1:38)] &lt;- gsub("a|e|i|o|f|l|t|n|b", "a", ical_outlook[[2]][c(1:38)])
# ical_outlook[[2]] &lt;- ical_outlook[[2]][c(1, 5, 35, 36:55)]
# usethis::use_data(ical_outlook)
</code></pre>

<hr>
<h2 id='properties'>The key 'properties' that are allowed in ical files</h2><span id='topic+properties'></span>

<h3>Description</h3>

<p>The key 'properties' that are allowed in ical files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>properties
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 54.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># doc = ic_spec(mode = "read")
# key_locations = grepl(pattern = " \| [A-Z]", x = doc)
# summary(key_locations)
# doc_key = doc[key_locations]
# # regexplain::regex_gadget(text = doc_key) # explore
# key_properties = grepl(pattern = "3.7|3.8", x = doc)
# doc_properties = doc[key_locations &amp; key_properties]
# # regexplain::regex_gadget(text = doc_properties) # explore
# properties = regmatches(doc_properties, regexpr('[A-Z][A-Z]+', doc_properties))
# usethis::use_data(properties)
</code></pre>

<hr>
<h2 id='properties_core'>The key 'properties' that are allowed in ical files</h2><span id='topic+properties_core'></span>

<h3>Description</h3>

<p>The key 'properties' that are allowed in ical files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>properties_core
</code></pre>


<h3>Format</h3>

<p>An object of class <code>list</code> of length 4.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>properties_core = list(
"UID"="UID",
"DTSTART"="DTSTART",
"DTEND"="DTEND",
"SUMMARY"="SUMMARY"
)
</code></pre>

<hr>
<h2 id='properties_ical'>ical default VCALENDAR properties in one line vectors.</h2><span id='topic+properties_ical'></span>

<h3>Description</h3>

<p>ical default VCALENDAR properties in one line vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>properties_ical
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 5.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># properties_ical &lt;- ical_example[1:5]
# properties_ical
# properties_ical[2] &lt;- "PRODID:-//ATFutures/ical //EN"
# usethis::use_data(properties_ical)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

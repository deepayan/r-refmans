<!DOCTYPE html><html><head><title>Help for package bigrquerystorage</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {bigrquerystorage}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bigrquerystorage-package'><p>bigrquerystorage: An Interface to Google's 'BigQuery Storage' API</p></a></li>
<li><a href='#bqs_auth'><p>Initialize bigrquerystorage client</p></a></li>
<li><a href='#bqs_table_download'><p>Download table data</p></a></li>
<li><a href='#DBI'><p>DBI methods</p></a></li>
<li><a href='#overload_bq_table_download'><p>Overload <code>bigrquery::bq_table_download</code></p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>An Interface to Google's 'BigQuery Storage' API</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Bruno Tremblay &lt;openr@neoxone.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Easily talk to Google's 'BigQuery Storage' API from R
    (<a href="https://cloud.google.com/bigquery/docs/reference/storage/rpc">https://cloud.google.com/bigquery/docs/reference/storage/rpc</a>).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License (&ge; 2)</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>arrow, methods, rlang, DBI, bigrquery, assertthat, Rcpp,
lifecycle, bit64, tibble</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, hms, wk, tzdb, base64enc</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/meztez/bigrquerystorage">https://github.com/meztez/bigrquerystorage</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/meztez/bigrquerystorage/issues">https://github.com/meztez/bigrquerystorage/issues</a></td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>grpc/protobuf headers and compilers. For example
libprotobuf-dev libgrpc++-dev protobuf-compiler-grpc (Debian)
or protobuf-devel grpc-devel grpc-plugins (Fedora/RHEL)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Biarch:</td>
<td>TRUE</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-04-03 01:10:31 UTC; bruno</td>
</tr>
<tr>
<td>Author:</td>
<td>Bruno Tremblay [aut, cre],
  Google LLC [cph, fnd]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-04-03 04:22:59 UTC</td>
</tr>
</table>
<hr>
<h2 id='bigrquerystorage-package'>bigrquerystorage: An Interface to Google's 'BigQuery Storage' API</h2><span id='topic+bigrquerystorage'></span><span id='topic+bigrquerystorage-package'></span>

<h3>Description</h3>

<p>Easily talk to Google's 'BigQuery Storage' API from R (<a href="https://cloud.google.com/bigquery/docs/reference/storage/rpc">https://cloud.google.com/bigquery/docs/reference/storage/rpc</a>).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Bruno Tremblay <a href="mailto:openr@neoxone.com">openr@neoxone.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p>  Google LLC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/meztez/bigrquerystorage">https://github.com/meztez/bigrquerystorage</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/meztez/bigrquerystorage/issues">https://github.com/meztez/bigrquerystorage/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bqs_auth'>Initialize bigrquerystorage client</h2><span id='topic+bqs_auth'></span><span id='topic+bqs_deauth'></span>

<h3>Description</h3>

<p>Initialize bigrquerystorage client
</p>
<p>Close bigrquerystorage client
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bqs_auth()

bqs_deauth()
</code></pre>


<h3>Details</h3>

<p>Will attempt to reuse <code>bigrquery</code> credentials.
</p>
<p>About Crendentials
</p>
<p>If your application runs inside a Google Cloud environment that has
a default service account, your application can retrieve the service
account credentials to call Google Cloud APIs. Such environments
include Compute Engine, Google Kubernetes Engine, App Engine,
Cloud Run, and Cloud Functions. We recommend using this strategy
because it is more convenient and secure than manually passing credentials.
</p>
<p>Additionally, we recommend you use Google Cloud Client Libraries for
your application. Google Cloud Client Libraries use a library called
Application Default Credentials (ADC) to automatically find your service
account credentials. ADC looks for service account credentials
in the following order:
</p>

<ol>
<li><p> If the environment variable GOOGLE_APPLICATION_CREDENTIALS is set,
ADC uses the service account file that the variable points to.
</p>
</li>
<li><p> If the environment variable GOOGLE_APPLICATION_CREDENTIALS isn't
set, ADC uses the default service account that Compute Engine,
Google Kubernetes Engine, App Engine, Cloud Run, and Cloud
Functions provide.
</p>
</li>
<li><p> If ADC can't use either of the above credentials, an error occurs.
</p>
</li></ol>



<h3>Value</h3>

<p>No return value, called for side effects.
</p>

<hr>
<h2 id='bqs_table_download'>Download table data</h2><span id='topic+bqs_table_download'></span>

<h3>Description</h3>

<p>This retrieves rows block in a stream using a grpc protocol.
It is most suitable for results of larger queries (&gt;100 MB, say).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bqs_table_download(
  x,
  parent = getOption("bigquerystorage.project", ""),
  snapshot_time = NA,
  selected_fields = character(),
  row_restriction = "",
  sample_percentage,
  n_max = Inf,
  quiet = NA,
  as_tibble = FALSE,
  bigint = c("integer", "integer64", "numeric", "character"),
  max_results = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bqs_table_download_+3A_x">x</code></td>
<td>
<p>Table reference <code style="white-space: pre;">&#8288;{project}.{dataset}.{table_name}&#8288;</code></p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_parent">parent</code></td>
<td>
<p>Used as parent for <code>CreateReadSession</code>.
grpc method. Default is to use option <code>bigquerystorage.project</code> value.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_snapshot_time">snapshot_time</code></td>
<td>
<p>Table modifier <code style="white-space: pre;">&#8288;snapshot time&#8288;</code> as <code>POSIXct</code>.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_selected_fields">selected_fields</code></td>
<td>
<p>Table read option <code>selected_fields</code>. A character vector of field to select from table.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_row_restriction">row_restriction</code></td>
<td>
<p>Table read option <code>row_restriction</code>. A character. SQL text filtering statement.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_sample_percentage">sample_percentage</code></td>
<td>
<p>Table read option <code>sample_percentage</code>. A numeric <code style="white-space: pre;">&#8288;0 &lt;= sample_percentage &lt;= 100&#8288;</code>. Not compatible with <code>row_restriction</code>.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_n_max">n_max</code></td>
<td>
<p>Maximum number of results to retrieve. Use <code>Inf</code> or <code>-1L</code>
retrieve all rows.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_quiet">quiet</code></td>
<td>
<p>Should information be printed to console.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_as_tibble">as_tibble</code></td>
<td>
<p>Should data be returned as tibble. Default (FALSE) is to return
as arrow Table from raw IPC stream.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_bigint">bigint</code></td>
<td>
<p>The R type that BigQuery's 64-bit integer types should be mapped to.
The default is <code>"integer"</code> which returns R's <code>integer</code> type but results in <code>NA</code> for
values above/below +/- 2147483647. <code>"integer64"</code> returns a <a href="bit64.html#topic+bit64-package">bit64::integer64</a>,
which allows the full range of 64 bit integers.</p>
</td></tr>
<tr><td><code id="bqs_table_download_+3A_max_results">max_results</code></td>
<td>
<p>Deprecated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>More details about table modifiers and table options are available from the
API Reference documentation. (See <a href="https://cloud.google.com/bigquery/docs/reference/storage/rpc/google.cloud.bigquery.storage.v1#tablemodifiers">TableModifiers</a> and
<a href="https://cloud.google.com/bigquery/docs/reference/storage/rpc/google.cloud.bigquery.storage.v1#tablereadoptions">TableReadOptions</a>)
</p>


<h3>Value</h3>

<p>This method returns a <a href="arrow.html#topic+Table-class">arrow::Table</a> Table or optionally a tibble.
If you need a <code>data.frame</code>, leave parameter as_tibble to FALSE and coerce
the results with <code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code>.
</p>

<hr>
<h2 id='DBI'>DBI methods</h2><span id='topic+DBI'></span><span id='topic+dbFetch+2CBigQueryResult-method'></span><span id='topic+dbReadTable+2CBigQueryConnection+2Ccharacter-method'></span>

<h3>Description</h3>

<p>Implementations of pure virtual functions defined in the <code>DBI</code> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S4 method for signature 'BigQueryResult'
dbFetch(res, n = -1, ...)

## S4 method for signature 'BigQueryConnection,character'
dbReadTable(conn, name, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DBI_+3A_res">res</code></td>
<td>
<p>An object inheriting from <a href="DBI.html#topic+DBIResult-class">DBIResult</a>, created by
<code><a href="DBI.html#topic+dbSendQuery">dbSendQuery()</a></code>.</p>
</td></tr>
<tr><td><code id="DBI_+3A_n">n</code></td>
<td>
<p>maximum number of records to retrieve per fetch. Use <code>n = -1</code>
or <code>n = Inf</code>
to retrieve all pending records.  Some implementations may recognize other
special values.</p>
</td></tr>
<tr><td><code id="DBI_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to methods.</p>
</td></tr>
<tr><td><code id="DBI_+3A_conn">conn</code></td>
<td>
<p>A <a href="DBI.html#topic+DBIConnection-class">DBIConnection</a> object, as returned by
<code><a href="DBI.html#topic+dbConnect">dbConnect()</a></code>.</p>
</td></tr>
<tr><td><code id="DBI_+3A_name">name</code></td>
<td>
<p>The table name, passed on to <code><a href="DBI.html#topic+dbQuoteIdentifier">dbQuoteIdentifier()</a></code>. Options are:
</p>

<ul>
<li><p> a character string with the unquoted DBMS table name,
e.g. <code>"table_name"</code>,
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+Id">Id()</a></code> with components to the fully qualified table name,
e.g. <code>Id(schema = "my_schema", table = "table_name")</code>
</p>
</li>
<li><p> a call to <code><a href="DBI.html#topic+SQL">SQL()</a></code> with the quoted and fully qualified table name
given verbatim, e.g. <code>SQL('"my_schema"."table_name"')</code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a tibble.
</p>

<hr>
<h2 id='overload_bq_table_download'>Overload <code>bigrquery::bq_table_download</code></h2><span id='topic+overload_bq_table_download'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Replace bigrquery bq_table_download method in bigrquery namespace.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>overload_bq_table_download(parent)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="overload_bq_table_download_+3A_parent">parent</code></td>
<td>
<p>Parent project used by the API for billing.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package NGLVieweR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {NGLVieweR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addRepresentation'><p>Add representation</p></a></li>
<li><a href='#addSelection'><p>Add a selection</p></a></li>
<li><a href='#addStructure'><p>Add structure</p></a></li>
<li><a href='#NGLVieweR'><p>Create a NGLVieweR</p></a></li>
<li><a href='#NGLVieweR_example'><p>Run NGLVieweR example Shiny app</p></a></li>
<li><a href='#NGLVieweR-shiny'><p>Shiny bindings for NGLVieweR</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#removeSelection'><p>Remove a selection</p></a></li>
<li><a href='#selectionParameters'><p>Set selection parameters</p></a></li>
<li><a href='#setFocus'><p>Set Focus</p></a></li>
<li><a href='#setPosition'><p>Set Position</p></a></li>
<li><a href='#setQuality'><p>Set Quality</p></a></li>
<li><a href='#setRock'><p>Set rock</p></a></li>
<li><a href='#setRotation'><p>Rotate View</p></a></li>
<li><a href='#setScale'><p>Set Scale</p></a></li>
<li><a href='#setSpin'><p>Set Spin</p></a></li>
<li><a href='#setSuperpose'><p>Set superpose</p></a></li>
<li><a href='#snapShot'><p>Snapshot</p></a></li>
<li><a href='#stageParameters'><p>Set stage parameters</p></a></li>
<li><a href='#updateColor'><p>Update color of a selection</p></a></li>
<li><a href='#updateFocus'><p>Update Focus</p></a></li>
<li><a href='#updateFullscreen'><p>Fullscreen</p></a></li>
<li><a href='#updateRepresentation'><p>Update Representation</p></a></li>
<li><a href='#updateRock'><p>Update Rock</p></a></li>
<li><a href='#updateSelection'><p>Update a selection</p></a></li>
<li><a href='#updateSpin'><p>Update Spin</p></a></li>
<li><a href='#updateStage'><p>Update Stage</p></a></li>
<li><a href='#updateVisibility'><p>Update visibility</p></a></li>
<li><a href='#updateZoomMove'><p>Update zoomMove</p></a></li>
<li><a href='#zoomMove'><p>Set zoomMove</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Interactive 3D Visualization of Molecular Structures</td>
</tr>
<tr>
<td>Version:</td>
<td>1.4.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Niels van der Velden &lt;n.s.j.vandervelden@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides an 'htmlwidgets' <a href="https://www.htmlwidgets.org/">https://www.htmlwidgets.org/</a> interface to 'NGL.js' <a href="http://nglviewer.org/ngl/api/">http://nglviewer.org/ngl/api/</a>.
    'NGLvieweR' can be used to visualize and interact with protein databank ('PDB') and structural files in R and Shiny applications.
    It includes a set of API functions to manipulate the viewer after creation in Shiny.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Imports:</td>
<td>htmlwidgets, magrittr, tools, shiny</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, webshot, markdown, rmarkdown, colourpicker</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/nvelden/NGLVieweR">https://github.com/nvelden/NGLVieweR</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/nvelden/NGLVieweR/issues">https://github.com/nvelden/NGLVieweR/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-22 18:57:06 UTC; nielsvandervelden</td>
</tr>
<tr>
<td>Author:</td>
<td>Niels van der Velden [aut, cre],
  Alexander Rose [cph] (NGL.js library)</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-22 19:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addRepresentation'>Add representation</h2><span id='topic+addRepresentation'></span>

<h3>Description</h3>

<p>Add a representation and its parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRepresentation(NGLVieweR, type, param = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addRepresentation_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="addRepresentation_+3A_type">type</code></td>
<td>
<p>Type of representation. Most common options are &quot;cartoon&quot;,
&quot;ball+stick&quot;, &quot;line&quot;, &quot;surface&quot;, &quot;ribbon&quot; and &quot;label&quot;. For a full list of
options, see the &quot;structureRepresentation&quot; method in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
<tr><td><code id="addRepresentation_+3A_param">param</code></td>
<td>
<p>Options for the different types of representations. Most common
options are <code>name</code>, <code>opacity</code>, <code>colorScheme</code>, <code>sele</code>,
<code>colorValue</code> and <code>visibility</code>. For a full list of options, see the
general &quot;RepresentationParameters&quot; method and type specific Label-,
Structure- and Surface- RepresentationParameters in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of representation parameters to <code>NGLVieweR</code>
<code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+addSelection">addSelection()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;basic&quot;.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
  stageParameters(backgroundColor = "black") %&gt;%
  addRepresentation("cartoon", 
  param = list(name = "cartoon", colorValue = "blue")) %&gt;%
  addRepresentation("ball+stick",
    param = list(
      name = "ball+stick", sele = "241",
      colorScheme = "element", colorValue = "yellow"
    ) 
  ) %&gt;%
  addRepresentation("label",
    param = list(
      name = "label",
      showBackground = TRUE,
      labelType = "res",
      color = "black",
      backgroundColor = "white",
      backgroundOpacity = 0.8,
      sele = ":A and 241 and .CG"
    )
  )

# Shiny context
if (interactive()) {
  library(shiny)
  ui &lt;- fluidPage(NGLVieweROutput("structure"))
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        stageParameters(backgroundColor = "black") %&gt;%
        addRepresentation("cartoon",
          param = list(name = "cartoon", colorValue = "blue")
        ) %&gt;%
        addRepresentation("ball+stick",
          param = list(
            name = "ball+stick", sele = "241",
            colorScheme = "element"
          )
        ) %&gt;%
        addRepresentation("label",
          param = list(
            name = "label",
            showBackground = TRUE,
            labelType = "res",
            colorValue = "black",
            backgroundColor = "white",
            backgroundOpacity = 0.8,
            sele = ":A and 241 and .CG"
          )
        )
    })
  }
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='addSelection'>Add a selection</h2><span id='topic+addSelection'></span>

<h3>Description</h3>

<p>Add a new selection to a NGLVieweR object in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSelection(NGLVieweR_proxy, type, param = list(), structureIndex = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addSelection_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="addSelection_+3A_type">type</code></td>
<td>
<p>Type of representation. Most common options are &quot;cartoon&quot;,
&quot;ball+stick&quot;, &quot;surface&quot;, &quot;ribbon&quot; and &quot;label&quot;.</p>
</td></tr>
<tr><td><code id="addSelection_+3A_param">param</code></td>
<td>
<p>Options for the different types of representations. Most common
options are <code>name</code>, <code>opacity</code>, <code>colorScheme</code>, <code>sele</code>,
<code>colorValue</code> and <code>visibility</code>. For a full list of options, see the
general &quot;RepresentationParameters&quot; method and type specific Label-,
Structure- and Surface- RepresentationParameters in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
<tr><td><code id="addSelection_+3A_structureindex">structureIndex</code></td>
<td>
<p>(optional) The index of the specific structure to which
the selection should be added (index 0 for the first). If not specified, the
selection will be applied to all loaded structures.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+updateRepresentation">updateRepresentation()</a></code> Update an existing NGLVieweR representation.
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;addSelection&quot;.
</p>
</li></ul>

<p>Other selections: 
<code><a href="#topic+removeSelection">removeSelection</a>()</code>,
<code><a href="#topic+updateSelection">updateSelection</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("7CID") %&gt;%
 addSelection("ball+stick", param = list(name="sel1",
                                         sele="1-20",
                                         colorValue="yellow",
                                         colorScheme="element"
                                         ))

## End(Not run)

if (interactive()) {
library(shiny)

ui &lt;- fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      textInput("selection", "Selection", "1-20"),
      selectInput("type", "Type", c("ball+stick", "cartoon", "backbone")),
      selectInput("color", "Color", c("orange", "grey", "white")),
      actionButton("add", "Add"),
      actionButton("remove", "Remove")
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server &lt;- function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
        param = list(name = "cartoon", colorScheme = "residueindex")
      )
  })
  observeEvent(input$add, {
    NGLVieweR_proxy("structure") %&gt;%
      addSelection(isolate(input$type),
        param =
          list(
            name = "sel1",
            sele = isolate(input$selection),
            colorValue = isolate(input$color)
          )
      )
  })

  observeEvent(input$remove, {
    NGLVieweR_proxy("structure") %&gt;%
      removeSelection("sel1")
  })
}
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='addStructure'>Add structure</h2><span id='topic+addStructure'></span>

<h3>Description</h3>

<p>Add a structure to the NGLVieweR object, either from a PDB entry
code, a file, or directly from the R environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addStructure(NGLVieweR, data, format = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addStructure_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="addStructure_+3A_data">data</code></td>
<td>
<p>Structure data to be added. Can be a PDB entry code (e.g. &quot;7CID&quot;),
a file path to a structure file, or a text representation of the structure.</p>
</td></tr>
<tr><td><code id="addStructure_+3A_format">format</code></td>
<td>
<p>Format of the structure file, if reading from a file. Supported
formats are &quot;pdb&quot;, &quot;cif&quot;, etc. If the file format cannot be inferred from
the file name, this parameter must be specified.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows you to add a structure to the NGLVieweR widget.
You can add the structure using a PDB entry code, by specifying a local
file, or by providing the structure data directly. If the format is not
clear from the input, you may need to specify it using the <code>format</code>
parameter.
</p>


<h3>Value</h3>

<p>An updated NGLVieweR object with the added structure.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("1CRN") %&gt;%
  addRepresentation("cartoon", param = list(color = "blue")) %&gt;%
  addStructure("1CRN") %&gt;%
  addRepresentation("cartoon", param = list(color = "orange")) %&gt;%
  setPosition(x = 20, y = 0, z = 0) %&gt;%
  setRotation(x = 2, y = 0, z = 0, degrees = FALSE) %&gt;% 
  setScale(0.5)

# Note: The first "1CRN" structure is represented in blue, while the second 
# "1CRN" structure is represented in orange. Transformations such as 
# setPosition, setRotation, and setScale apply to the second 
# (most recently added) structure.

</code></pre>

<hr>
<h2 id='NGLVieweR'>Create a NGLVieweR</h2><span id='topic+NGLVieweR'></span>

<h3>Description</h3>

<p>NGLVieweR can be used to visualize and interact with Protein Data
Bank (PDB) and structural files in R and Shiny applications. It includes a set
of API functions to manipulate the viewer after creation in Shiny.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NGLVieweR(data, format = NULL, width = NULL, height = NULL, elementId = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NGLVieweR_+3A_data">data</code></td>
<td>
<p>PDB file or PDB entry code</p>
</td></tr>
<tr><td><code id="NGLVieweR_+3A_format">format</code></td>
<td>
<p>Input format (.mmcif, .cif, .mcif, .pdb, .ent, .pqr, .gro, .sdf,
.sd, .mol2, .mmtf). Needed when no file extension is provided.</p>
</td></tr>
<tr><td><code id="NGLVieweR_+3A_width">width</code>, <code id="NGLVieweR_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="NGLVieweR_+3A_elementid">elementId</code></td>
<td>
<p>optional element Id</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The package is based on the
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> JavaScript library. To see the
full set of features please read the official manual of NGL.js.
</p>


<h3>Value</h3>

<p>A <code>NGLVieweR</code> <code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+NGLVieweR_proxy">NGLVieweR_proxy()</a></code> for handling of API calls after rendering.
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;API&quot; and &quot;basic&quot;.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1: Most Basic
NGLVieweR("7CID") %&gt;%
 addRepresentation("cartoon", 
 param = list(name = "cartoon", colorScheme="residueindex"))

# Example 2: Advanced
NGLVieweR("7CID") %&gt;%
  stageParameters(backgroundColor = "white") %&gt;%
  setQuality("high") %&gt;%
  setSpin(FALSE) %&gt;%
  addRepresentation("cartoon",
    param = list(
      name = "cartoon",
      colorScheme = "residueindex"
    )
  ) %&gt;%
  addRepresentation("ball+stick",
    param = list(
      name = "ball+stick",
      colorValue = "red",
      colorScheme = "element",
      sele = "200"
    )
  ) %&gt;%
  addRepresentation("label",
    param = list(
      name = "label", sele = "200:A.O",
      showBackground = TRUE,
      backgroundColor = "black",
      backgroundMargin = 2,
      backgroundOpacity = 0.5,
      showBorder = TRUE,
      colorValue = "white"
    )
  ) %&gt;%
  addRepresentation("surface",
    param = list(
      name = "surface",
      colorValue = "white",
      opacity = 0.1
    )
  ) %&gt;%
  zoomMove("200", "200", 2000, -20)

#---------------------Using Shiny-------------------------

# App 1: Basic Example
if (interactive()) {
  library(shiny)
  ui &lt;- fluidPage(NGLVieweROutput("structure"))
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon",
          param = list(
            name = "cartoon",
            colorScheme = "residueindex"
          )
        ) %&gt;%
        addRepresentation("ball+stick",
          param = list(
            name = "cartoon",
            sele = "1-20",
            colorScheme = "element"
          )
        ) %&gt;%
        stageParameters(backgroundColor = "black") %&gt;%
        setQuality("high") %&gt;%
        setFocus(0) %&gt;%
        setSpin(TRUE)
    })
  }
  shinyApp(ui, server)
}

# App 2: Example with API calls
if (interactive()) {
library(shiny)

ui &lt;- fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      textInput("selection", "Selection", "1-20"),
      selectInput("type", "Type", c("ball+stick", "cartoon", "backbone")),
      selectInput("color", "Color", c("orange", "grey", "white")),
      actionButton("add", "Add"),
      actionButton("remove", "Remove")
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server &lt;- function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
        param = list(name = "cartoon", colorScheme = "residueindex")
      ) %&gt;%
      stageParameters(backgroundColor = input$backgroundColor) %&gt;%
      setQuality("high") %&gt;%
      setFocus(0) %&gt;%
      setSpin(TRUE)
  })
  observeEvent(input$add, {
    NGLVieweR_proxy("structure") %&gt;%
      addSelection(isolate(input$type),
        param =
          list(
            name = "sel1",
            sele = isolate(input$selection),
            colorValue = isolate(input$color)
          )
      )
  })

  observeEvent(input$remove, {
    NGLVieweR_proxy("structure") %&gt;%
      removeSelection("sel1")
  })
}
shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='NGLVieweR_example'>Run NGLVieweR example Shiny app</h2><span id='topic+NGLVieweR_example'></span>

<h3>Description</h3>

<p>Launch an example to demonstrate how to use <code>NGLvieweR</code> in
Shiny.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NGLVieweR_example(example = "basic")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NGLVieweR_example_+3A_example">example</code></td>
<td>
<p>Example type for which to see an example, possible values are:
&quot;basic&quot;, &quot;API&quot;, &quot;addSelection&quot;, &quot;removeSelection&quot;, &quot;snapshot&quot;,
&quot;updateAnimation&quot;, &quot;updateColor&quot;, &quot;updateFocus&quot;, &quot;updateFullscreen&quot;,
&quot;updateRepresentation&quot;, &quot;updateSelection&quot;, &quot;updateStage&quot;, &quot;updateVisibility&quot;,
&quot;updateZoomMove&quot;, &quot;multiStructureSelection&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Call to load Shiny example.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
if (interactive()) {

# Basic example
NGLVieweR_example("basic")

# Example with API calls
NGLVieweR_example("API")

# Function specific example
NGLVieweR_example("addSelection")
}

</code></pre>

<hr>
<h2 id='NGLVieweR-shiny'>Shiny bindings for NGLVieweR</h2><span id='topic+NGLVieweR-shiny'></span><span id='topic+NGLVieweROutput'></span><span id='topic+renderNGLVieweR'></span><span id='topic+NGLVieweR_proxy'></span>

<h3>Description</h3>

<p>Output and render functions for using NGLVieweR within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NGLVieweROutput(outputId, width = "100%", height = "400px")

renderNGLVieweR(expr, env = parent.frame(), quoted = FALSE)

NGLVieweR_proxy(id, session = shiny::getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="NGLVieweR-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="NGLVieweR-shiny_+3A_width">width</code>, <code id="NGLVieweR-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="NGLVieweR-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a NGLVieweR.</p>
</td></tr>
<tr><td><code id="NGLVieweR-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="NGLVieweR-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
<tr><td><code id="NGLVieweR-shiny_+3A_id">id</code></td>
<td>
<p>single-element character vector indicating the output ID of the
chart to modify (if invoked from a Shiny module, the namespace will be added
automatically)</p>
</td></tr>
<tr><td><code id="NGLVieweR-shiny_+3A_session">session</code></td>
<td>
<p>The Shiny session object to which the map belongs; usually
the default value will suffice.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NGLVieweR</code> object that can be placed in the UI.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
library(shiny)

ui &lt;- fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      textInput("selection", "Selection", "1-20"),
      selectInput("type", "Type", c("ball+stick", "cartoon", "backbone")),
      selectInput("color", "Color", c("orange", "grey", "white")),
      actionButton("add", "Add"),
      actionButton("remove", "Remove")
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server &lt;- function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
        param = list(name = "cartoon", color = "residueindex")
      ) %&gt;%
      stageParameters(backgroundColor = input$backgroundColor) %&gt;%
      setQuality("high") %&gt;%
      setFocus(0) %&gt;%
      setSpin(TRUE)
  })
  observeEvent(input$add, {
    NGLVieweR_proxy("structure") %&gt;%
      addSelection(isolate(input$type),
        param =
          list(
            name = "sel1",
            sele = isolate(input$selection),
            color = isolate(input$color)
          )
      )
  })

  observeEvent(input$remove, {
    NGLVieweR_proxy("structure") %&gt;%
      removeSelection("sel1")
  })
}
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+file_ext'></span><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>magrittr</dt><dd><p><code><a href="magrittr.html#topic+pipe">%&gt;%</a></code></p>
</dd>
<dt>tools</dt><dd><p><code><a href="tools.html#topic+fileutils">file_ext</a></code></p>
</dd>
</dl>

<hr>
<h2 id='removeSelection'>Remove a selection</h2><span id='topic+removeSelection'></span>

<h3>Description</h3>

<p>Remove an existing NGLVieweR selection in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removeSelection(NGLVieweR_proxy, name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="removeSelection_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="removeSelection_+3A_name">name</code></td>
<td>
<p>Name of selection to be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;removeSelection&quot;.
</p>
</li></ul>

<p>Other selections: 
<code><a href="#topic+addSelection">addSelection</a>()</code>,
<code><a href="#topic+updateSelection">updateSelection</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
     removeSelection("sel1")

## End(Not run)

if (interactive()) {
  library(shiny)

  ui &lt;- fluidPage(
    titlePanel("Viewer with API inputs"),
    sidebarLayout(
      sidebarPanel(
        textInput("selection", "Selection", "1-20"),
        selectInput("type", "Type", c("ball+stick", "cartoon", "backbone")),
        selectInput("color", "Color", c("orange", "grey", "white")),
        actionButton("add", "Add"),
        actionButton("remove", "Remove")
      ),
      mainPanel(
        NGLVieweROutput("structure")
      )
    )
  )
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon",
          param = list(name = "cartoon", colorScheme = "residueindex")
        )
    })
    observeEvent(input$add, {
      NGLVieweR_proxy("structure") %&gt;%
        addSelection(isolate(input$type),
          param =
            list(
              name = "sel1",
              sele = isolate(input$selection),
              colorValue = isolate(input$color)
            )
        )
    })

    observeEvent(input$remove, {
      NGLVieweR_proxy("structure") %&gt;%
        removeSelection("sel1")
    })
  }
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='selectionParameters'>Set selection parameters</h2><span id='topic+selectionParameters'></span>

<h3>Description</h3>

<p>Set selection parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selectionParameters(NGLVieweR, proximity = 3, level = "residue")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="selectionParameters_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="selectionParameters_+3A_proximity">proximity</code></td>
<td>
<p>Set distance in angstrom for atoms to return in proximity of
selection. Default = <code>3</code>.</p>
</td></tr>
<tr><td><code id="selectionParameters_+3A_level">level</code></td>
<td>
<p>Set level on which atoms in proximity of selection are returned.
Options are &quot;residue&quot; (default) or atom&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns list of selection parameters to <code>NGLVieweR</code>
<code>htmlwidgets</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
 addRepresentation("cartoon") %&gt;%
 selectionParameters(3, "residue")

# Shiny context
if (interactive()) {
   library(shiny)
   ui &lt;- fluidPage(NGLVieweROutput("structure"))
   server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon") %&gt;%
        selectionParameters(3, "residue")
    })
    observeEvent(input$structure_selAround, {
      NGLVieweR_proxy("structure") %&gt;% removeSelection("selAround")
      NGLVieweR_proxy("structure") %&gt;%
        addSelection(
          "ball+stick",
          param =
            list(
              name = "selAround",
              sele = input$structure_selAround,
              colorValue = "grey"
            )
        )
    })
  }
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='setFocus'>Set Focus</h2><span id='topic+setFocus'></span>

<h3>Description</h3>

<p>Set Focus
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setFocus(NGLVieweR, focus = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setFocus_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setFocus_+3A_focus">focus</code></td>
<td>
<p>Set focus between 0 (default) to 100.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>setFocus parameter in <code>NGLVieweR</code> <code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+updateFocus">updateFocus()</a></code>
</p>
<p>Other options: 
<code><a href="#topic+setQuality">setQuality</a>()</code>,
<code><a href="#topic+snapShot">snapShot</a>()</code>,
<code><a href="#topic+updateFocus">updateFocus</a>()</code>,
<code><a href="#topic+updateFullscreen">updateFullscreen</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
  addRepresentation("cartoon", 
  param=list(name="cartoon", colorValue="blue")) %&gt;%
  setFocus(0)
</code></pre>

<hr>
<h2 id='setPosition'>Set Position</h2><span id='topic+setPosition'></span>

<h3>Description</h3>

<p>Set position for the representation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setPosition(NGLVieweR, x = 0, y = 0, z = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setPosition_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setPosition_+3A_x">x</code></td>
<td>
<p>Position along the x-axis in angstroms. Default is 0.</p>
</td></tr>
<tr><td><code id="setPosition_+3A_y">y</code></td>
<td>
<p>Position along the y-axis in angstroms. Default is 0.</p>
</td></tr>
<tr><td><code id="setPosition_+3A_z">z</code></td>
<td>
<p>Position along the z-axis in angstroms. Default is 0.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NGLVieweR object with updated setPosition parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setScale">setScale()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+zoomMove">zoomMove()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+setRotation">setRotation()</a></code>
</p>
</li></ul>

<p>Other transformations: 
<code><a href="#topic+setRotation">setRotation</a>()</code>,
<code><a href="#topic+setScale">setScale</a>()</code>,
<code><a href="#topic+zoomMove">zoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
stageParameters(backgroundColor = "white") %&gt;%
addRepresentation("cartoon", param=list(name="cartoon", colorValue="red")) %&gt;%
addRepresentation("ball+stick", param=list(name="ball+stick",
colorValue="yellow",
colorScheme="element",
sele="200")) %&gt;%
setPosition(25, 0, 0)
</code></pre>

<hr>
<h2 id='setQuality'>Set Quality</h2><span id='topic+setQuality'></span>

<h3>Description</h3>

<p>Set Quality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setQuality(NGLVieweR, quality = "medium")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setQuality_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setQuality_+3A_quality">quality</code></td>
<td>
<p>Set rendering quality. Can be &quot;low&quot;, &quot;medium&quot; (default) or
&quot;high&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>setQuality parameter in <code>NGLVieweR</code> <code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>

<p>Other options: 
<code><a href="#topic+setFocus">setFocus</a>()</code>,
<code><a href="#topic+snapShot">snapShot</a>()</code>,
<code><a href="#topic+updateFocus">updateFocus</a>()</code>,
<code><a href="#topic+updateFullscreen">updateFullscreen</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
  addRepresentation("cartoon",
  param=list(name="cartoon", colorValue="blue")) %&gt;%
  setQuality("medium")
</code></pre>

<hr>
<h2 id='setRock'>Set rock</h2><span id='topic+setRock'></span>

<h3>Description</h3>

<p>Set rock animation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setRock(NGLVieweR, rock = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setRock_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setRock_+3A_rock">rock</code></td>
<td>
<p>If <code>TRUE</code> (default), start rocking and stop spinning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>setRock parameter to <code>TRUE</code> or <code>FALSE</code> in <code>NGLVieweR</code>
<code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setSpin">setSpin()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+updateRock">updateRock()</a></code>
</p>
</li></ul>

<p>Other animations: 
<code><a href="#topic+setSpin">setSpin</a>()</code>,
<code><a href="#topic+updateRock">updateRock</a>()</code>,
<code><a href="#topic+updateSpin">updateSpin</a>()</code>,
<code><a href="#topic+updateZoomMove">updateZoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
 addRepresentation("cartoon", param=list(name="cartoon", colorValue="blue")) %&gt;%
 setRock(TRUE)
</code></pre>

<hr>
<h2 id='setRotation'>Rotate View</h2><span id='topic+setRotation'></span>

<h3>Description</h3>

<p>Set rotation for the representation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setRotation(NGLVieweR, x = 0, y = 0, z = 0, degrees = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setRotation_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setRotation_+3A_x">x</code></td>
<td>
<p>Rotation angle around the x-axis. Default is 0.</p>
</td></tr>
<tr><td><code id="setRotation_+3A_y">y</code></td>
<td>
<p>Rotation angle around the y-axis. Default is 0.</p>
</td></tr>
<tr><td><code id="setRotation_+3A_z">z</code></td>
<td>
<p>Rotation angle around the z-axis. Default is 0.</p>
</td></tr>
<tr><td><code id="setRotation_+3A_degrees">degrees</code></td>
<td>
<p>A logical value. If TRUE (default), the input angles are
assumed to be in degrees and will be converted to radians. If FALSE, the
angles are assumed to be in radians.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>NGLVieweR object with updated rotateView parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setScale">setScale()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+zoomMove">zoomMove()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+setPosition">setPosition()</a></code>
</p>
</li></ul>

<p>Other transformations: 
<code><a href="#topic+setPosition">setPosition</a>()</code>,
<code><a href="#topic+setScale">setScale</a>()</code>,
<code><a href="#topic+zoomMove">zoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
stageParameters(backgroundColor = "white") %&gt;%
addRepresentation("cartoon", param=list(name="cartoon", colorValue="red")) %&gt;%
addRepresentation("ball+stick", param=list(name="ball+stick",
colorValue="yellow",
colorScheme="element",
sele="200")) %&gt;%
setRotation(30, 45, 60, degrees = TRUE)
</code></pre>

<hr>
<h2 id='setScale'>Set Scale</h2><span id='topic+setScale'></span>

<h3>Description</h3>

<p>Set the scale factor for the representation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setScale(NGLVieweR, scale = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setScale_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setScale_+3A_scale">scale</code></td>
<td>
<p>A numeric value indicating the scale factor (default is 1).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Updated <code>NGLVieweR</code> object with new scale parameter.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+zoomMove">zoomMove()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+setRotation">setRotation()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+setPosition">setPosition()</a></code>
</p>
</li></ul>

<p>Other transformations: 
<code><a href="#topic+setPosition">setPosition</a>()</code>,
<code><a href="#topic+setRotation">setRotation</a>()</code>,
<code><a href="#topic+zoomMove">zoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
addRepresentation("cartoon", 
param=list(name="cartoon", colorValue="blue")) %&gt;%
setScale(2)
</code></pre>

<hr>
<h2 id='setSpin'>Set Spin</h2><span id='topic+setSpin'></span>

<h3>Description</h3>

<p>Set Spin animation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setSpin(NGLVieweR, spin = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setSpin_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setSpin_+3A_spin">spin</code></td>
<td>
<p>If <code>TRUE</code> (default), start spinning and stop rocking</p>
</td></tr>
</table>


<h3>Value</h3>

<p>setSpin parameter to <code>TRUE</code> or <code>FALSE</code> in <code>NGLVieweR</code>
<code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setRock">setRock()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+updateSpin">updateSpin()</a></code>
</p>
</li></ul>

<p>Other animations: 
<code><a href="#topic+setRock">setRock</a>()</code>,
<code><a href="#topic+updateRock">updateRock</a>()</code>,
<code><a href="#topic+updateSpin">updateSpin</a>()</code>,
<code><a href="#topic+updateZoomMove">updateZoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
 addRepresentation("cartoon", param=list(name="cartoon", colorValue="blue")) %&gt;%
 setSpin(TRUE)
</code></pre>

<hr>
<h2 id='setSuperpose'>Set superpose</h2><span id='topic+setSuperpose'></span>

<h3>Description</h3>

<p>Enable or disable superposition of multiple structures, with
options to specify the reference structure and selection strings for
alignment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setSuperpose(
  NGLVieweR,
  reference = 1,
  sele_reference,
  sele_target,
  superpose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setSuperpose_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="setSuperpose_+3A_reference">reference</code></td>
<td>
<p>The index of the reference structure to align other
structures to. Defaults to 1 (the first loaded structure).</p>
</td></tr>
<tr><td><code id="setSuperpose_+3A_sele_reference">sele_reference</code></td>
<td>
<p>Selection string for the reference structure,
specifying which parts to align. Mandatory.</p>
</td></tr>
<tr><td><code id="setSuperpose_+3A_sele_target">sele_target</code></td>
<td>
<p>Selection string for each target structure, specifying
which parts to align. Mandatory.</p>
</td></tr>
<tr><td><code id="setSuperpose_+3A_superpose">superpose</code></td>
<td>
<p>Logical; if <code>TRUE</code> (default), enable superposition of
multiple structures. Set to <code>FALSE</code> to disable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Sets the <code>superpose</code> list in the <code>NGLVieweR</code> <code>htmlwidgets</code>
object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("1GZM") %&gt;%
  addRepresentation("cartoon", param = list(color = "blue")) %&gt;%
  addStructure("1U19") %&gt;%
  addRepresentation("cartoon", param = list(color = "orange")) %&gt;%
  setSuperpose(
    reference = 1, 
    sele_reference = ":A", 
    sele_target = ":A", 
    superpose = TRUE
  )
</code></pre>

<hr>
<h2 id='snapShot'>Snapshot</h2><span id='topic+snapShot'></span>

<h3>Description</h3>

<p>Make a snapshot of a NGLVieweR object in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>snapShot(NGLVieweR_proxy, fileName = "Snapshot", param = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="snapShot_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="snapShot_+3A_filename">fileName</code></td>
<td>
<p>Optional name for Snapshot (default = &quot;Snapshot&quot;).</p>
</td></tr>
<tr><td><code id="snapShot_+3A_param">param</code></td>
<td>
<p>Of type list, can be; antialias <code>TRUE/FALSE</code>, trim
<code>TRUE/FALSE</code>, transparent <code>TRUE/FALSE</code> or scale <code>numeric</code>.
For a full list of options, see &quot;makeImage&quot; and &quot;ImageParameters&quot; in the
official <a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;snapshot&quot;.
</p>
<p>Other options: 
<code><a href="#topic+setFocus">setFocus</a>()</code>,
<code><a href="#topic+setQuality">setQuality</a>()</code>,
<code><a href="#topic+updateFocus">updateFocus</a>()</code>,
<code><a href="#topic+updateFullscreen">updateFullscreen</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
snapShot("Snapshot", param = list(
                               antialias = TRUE,
                               trim = TRUE,
                               transparent = TRUE,
                               scale = 1))

## End(Not run)

if (interactive()) {
  library(shiny)

  ui &lt;- fluidPage(
    titlePanel("Viewer with API inputs"),
    sidebarLayout(
      sidebarPanel(
        actionButton("snapshot", "Snapshot"),
      ),
      mainPanel(
        NGLVieweROutput("structure")
      )
    )
  )
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon",
          param = list(
            name = "cartoon",
            color = "residueindex"
          )
        )
    })
    observeEvent(input$snapshot, {
      NGLVieweR_proxy("structure") %&gt;%
        snapShot("Snapshot",
          param = list(
            antialias = TRUE,
            trim = TRUE,
            transparent = TRUE,
            scale = 1
          )
        )
    })
  }
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='stageParameters'>Set stage parameters</h2><span id='topic+stageParameters'></span>

<h3>Description</h3>

<p>Set stage parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stageParameters(NGLVieweR, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="stageParameters_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="stageParameters_+3A_...">...</code></td>
<td>
<p>Options controlling the stage. Most common options are
<code>backgroundColor</code>, <code>rotateSpeed</code>, <code>zoomSpeed</code>,
<code>hoverTimeout</code> and <code>lightIntensity</code>. For a full list of options,
see the &quot;stageParameters&quot; method in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns list of stage parameters to <code>NGLVieweR</code>
<code>htmlwidgets</code> object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+updateStage">updateStage()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;basic&quot;.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
 stageParameters(backgroundColor = "white", zoomSpeed = 1) %&gt;%
 addRepresentation("cartoon", param = list(name = "cartoon", colorScheme="residueindex"))

if (interactive()) {
  library(shiny)
  ui &lt;- fluidPage(NGLVieweROutput("structure"))
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        stageParameters(backgroundColor = "white", zoomSpeed = 1) %&gt;%
        addRepresentation("cartoon",
          param = list(name = "cartoon", colorScheme = "residueindex")
        )
    })
  }
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='updateColor'>Update color of a selection</h2><span id='topic+updateColor'></span>

<h3>Description</h3>

<p>Update color of an existing NGLVieweR selection in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateColor(NGLVieweR_proxy, name, color)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateColor_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateColor_+3A_name">name</code></td>
<td>
<p>Name of selection to alter the color.</p>
</td></tr>
<tr><td><code id="updateColor_+3A_color">color</code></td>
<td>
<p>Can be a colorValue (color name or HEX code) or colorScheme (e.g.
&quot;element&quot;, &quot;resname&quot;, &quot;random&quot; or &quot;residueindex&quot;). For a full list of
options, see the &quot;Colormaker&quot; section in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateColor&quot;.
</p>
</li></ul>

<p>Other updates: 
<code><a href="#topic+updateRepresentation">updateRepresentation</a>()</code>,
<code><a href="#topic+updateStage">updateStage</a>()</code>,
<code><a href="#topic+updateVisibility">updateVisibility</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
     updateColor("cartoon", "red")

## End(Not run)

if (interactive()) {
  library(shiny)
  library(colourpicker)

  ui &lt;- fluidPage(
    titlePanel("Viewer with API inputs"),
    sidebarLayout(
      sidebarPanel(
        colourInput("color", "red", "red"),
        actionButton("update", "Update"),
      ),
      mainPanel(
        NGLVieweROutput("structure")
      )
    )
  )
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon",
          param = list(name = "cartoon", color = "residueindex")
        )
    })
    observeEvent(input$update, {
      NGLVieweR_proxy("structure") %&gt;%
        updateColor("cartoon", isolate(input$color))
    })
  }
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateFocus'>Update Focus</h2><span id='topic+updateFocus'></span>

<h3>Description</h3>

<p>Update the focus of an existing NGLVieweR object in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateFocus(NGLVieweR_proxy, focus = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateFocus_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateFocus_+3A_focus">focus</code></td>
<td>
<p>Numeric value between 0-100 (default = 0).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setFocus">setFocus()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateFocus&quot;.
</p>
</li></ul>

<p>Other options: 
<code><a href="#topic+setFocus">setFocus</a>()</code>,
<code><a href="#topic+setQuality">setQuality</a>()</code>,
<code><a href="#topic+snapShot">snapShot</a>()</code>,
<code><a href="#topic+updateFullscreen">updateFullscreen</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
  updateFocus(focus = 50)

## End(Not run)

if (interactive()) {
  library(shiny)
  ui = fluidPage(
    titlePanel("Viewer with API inputs"),
    sidebarLayout(
      sidebarPanel(
        sliderInput("focus", "Focus", 0, 100, 50)
      ),
      mainPanel(
        NGLVieweROutput("structure")
      )
    )
  )
  server = function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon",
        param = list(name = "cartoon", color= "red"))
    })
    observeEvent(input$focus, {
      NGLVieweR_proxy("structure") %&gt;%
        updateFocus(input$focus)
    })
  }
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateFullscreen'>Fullscreen</h2><span id='topic+updateFullscreen'></span>

<h3>Description</h3>

<p>Put viewer in fullscreen. Works in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateFullscreen(NGLVieweR_proxy, fullscreen = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateFullscreen_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateFullscreen_+3A_fullscreen">fullscreen</code></td>
<td>
<p>If <code>TRUE</code> put viewer in fullscreen.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateFullscreen&quot;.
</p>
<p>Other options: 
<code><a href="#topic+setFocus">setFocus</a>()</code>,
<code><a href="#topic+setQuality">setQuality</a>()</code>,
<code><a href="#topic+snapShot">snapShot</a>()</code>,
<code><a href="#topic+updateFocus">updateFocus</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;% updateFullscreen()

## End(Not run)

if (interactive()) {
library(shiny)

ui &lt;- fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      actionButton("fullscreen", "Fullscreen"),
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server = function(input, output) {
 output$structure &lt;- renderNGLVieweR({
  NGLVieweR("7CID") %&gt;%
    addRepresentation("cartoon",
      param = list(name = "cartoon", color = "red")
    )
})

  observeEvent(input$fullscreen, {
  NGLVieweR_proxy("structure") %&gt;%
    updateFullscreen()
})
}
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateRepresentation'>Update Representation</h2><span id='topic+updateRepresentation'></span>

<h3>Description</h3>

<p>Update an existing NGLVieweR representation in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateRepresentation(NGLVieweR_proxy, name, param = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateRepresentation_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateRepresentation_+3A_name">name</code></td>
<td>
<p>Name of representation to alter the color.</p>
</td></tr>
<tr><td><code id="updateRepresentation_+3A_param">param</code></td>
<td>
<p>Options for the different types of representations. Most common
options are <code>name</code>, <code>opacity</code>, <code>colorScheme</code>,
<code>colorValue</code> and <code>visibility</code>. For a full list of options, see the
general &quot;RepresentationParameters&quot; method and type specific Label-,
Structure- and Surface- RepresentationParameters in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+addSelection">addSelection()</a></code> Add a new selection to a NGLVieweR object.
</p>
</li>
<li> <p><code><a href="#topic+addRepresentation">addRepresentation()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateRepresentation&quot;.
</p>
</li></ul>

<p>Other updates: 
<code><a href="#topic+updateColor">updateColor</a>()</code>,
<code><a href="#topic+updateStage">updateStage</a>()</code>,
<code><a href="#topic+updateVisibility">updateVisibility</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
  updateRepresentation("cartoon",
    param = list(
      name = "cartoon",
      color = isolate(input$color),
      opacity = isolate(input$opacity)
    )
  )

## End(Not run)

if (interactive()) {
library(shiny)

ui = fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      selectInput("color", "Color", c("red", "white", "blue")),
      sliderInput("opacity", "Opacity", 0, 1, 1),
      actionButton("update", "Update"),
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server = function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
                        param = list(name = "cartoon", color="red"))
  })
observeEvent(input$update, {
  NGLVieweR_proxy("structure") %&gt;%
    updateRepresentation("cartoon",
      param = list(
        color = isolate(input$color),
        opacity = isolate(input$opacity)
      )
    )
})
 }
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateRock'>Update Rock</h2><span id='topic+updateRock'></span>

<h3>Description</h3>

<p>Start rock animation and stop spinning. Works on an existing
NGLVieweR object in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateRock(NGLVieweR_proxy, rock = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateRock_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateRock_+3A_rock">rock</code></td>
<td>
<p>If <code>TRUE</code> (default), start rocking and stop spinning.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setRock">setRock()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateAnimation&quot;.
</p>
</li></ul>

<p>Other animations: 
<code><a href="#topic+setRock">setRock</a>()</code>,
<code><a href="#topic+setSpin">setSpin</a>()</code>,
<code><a href="#topic+updateSpin">updateSpin</a>()</code>,
<code><a href="#topic+updateZoomMove">updateZoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;% updateRock(TRUE)

## End(Not run)

if (interactive()) {
library(shiny)

ui = fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      radioButtons("animate", label = "Animation",
      choices = c("None", "Spin", "Rock"), selected = "None")
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server = function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
      param = list(name = "cartoon", color="red"))
  })

  observeEvent(input$animate,{
    if(input$animate == "Rock"){
      NGLVieweR_proxy("structure") %&gt;%
      updateRock(TRUE)
    } else if(input$animate == "Spin") {
      NGLVieweR_proxy("structure") %&gt;%
      updateSpin(TRUE)
    } else{
      NGLVieweR_proxy("structure") %&gt;%
      updateRock(FALSE) %&gt;%
      updateSpin(FALSE)
    }
  })
 }
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateSelection'>Update a selection</h2><span id='topic+updateSelection'></span>

<h3>Description</h3>

<p>Update the selected residues of an existing NGLVieweR selection
in
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateSelection(NGLVieweR_proxy, name = name, sele = "none")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateSelection_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateSelection_+3A_name">name</code></td>
<td>
<p>Name of selection.</p>
</td></tr>
<tr><td><code id="updateSelection_+3A_sele">sele</code></td>
<td>
<p>Selected atoms/residues. See the section &quot;selection-language&quot; in
the official <a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateSelection&quot;.
</p>
</li></ul>

<p>Other selections: 
<code><a href="#topic+addSelection">addSelection</a>()</code>,
<code><a href="#topic+removeSelection">removeSelection</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
  updateSelection("ball+stick", sele = "1-20")

## End(Not run)

if (interactive()) {
  library(shiny)
  ui &lt;- fluidPage(
    titlePanel("Viewer with API inputs"),
    sidebarLayout(
      sidebarPanel(
        textInput("selection", "Selection", "1-20"),
        actionButton("update", "Update")
      ),
      mainPanel(
        NGLVieweROutput("structure")
      )
    )
  )
  server &lt;- function(input, output) {
    output$structure &lt;- renderNGLVieweR({
      NGLVieweR("7CID") %&gt;%
        addRepresentation("cartoon",
          param = list(name = "cartoon", color = "red")
        ) %&gt;%
        addRepresentation("ball+stick",
          param = list(
            name = "ball+stick",
            colorValue = "yellow",
            colorScheme = "element",
            sele = "1-20"
          )
        )
    })
    observeEvent(input$update, {
      NGLVieweR_proxy("structure") %&gt;%
        updateSelection("ball+stick", sele = isolate(input$selection))
    })
  }
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateSpin'>Update Spin</h2><span id='topic+updateSpin'></span>

<h3>Description</h3>

<p>Start spin animation and stop rocking. Works on an existing
NGLVieweR object in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateSpin(NGLVieweR_proxy, spin = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateSpin_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateSpin_+3A_spin">spin</code></td>
<td>
<p>If <code>TRUE</code> (default), start spinning and stop rocking.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setSpin">setSpin()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateAnimation&quot;.
</p>
</li></ul>

<p>Other animations: 
<code><a href="#topic+setRock">setRock</a>()</code>,
<code><a href="#topic+setSpin">setSpin</a>()</code>,
<code><a href="#topic+updateRock">updateRock</a>()</code>,
<code><a href="#topic+updateZoomMove">updateZoomMove</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;% updateRock(TRUE)

## End(Not run)
if (interactive()) {
library(shiny)

ui = fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      radioButtons("animate", label = "Animation",
                   choices = c("None", "Spin", "Rock"), selected = "None")
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server = function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
      param = list(name = "cartoon", color="red"))
  })

  observeEvent(input$animate,{
    if(input$animate == "Rock"){
      NGLVieweR_proxy("structure") %&gt;%
       updateRock(TRUE)
    } else if(input$animate == "Spin") {
      NGLVieweR_proxy("structure") %&gt;%
       updateSpin(TRUE)
    } else{
      NGLVieweR_proxy("structure") %&gt;%
       updateRock(FALSE) %&gt;%
       updateSpin(FALSE)
    }
  })
 }
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateStage'>Update Stage</h2><span id='topic+updateStage'></span>

<h3>Description</h3>

<p>Update an existing NGLVieweR stage in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateStage(NGLVieweR_proxy, param = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateStage_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateStage_+3A_param">param</code></td>
<td>
<p>Of type list. Most common options are <code>backgroundColor</code>,
<code>rotateSpeed</code>, <code>zoomSpeed</code>, <code>hoverTimeout</code> and
<code>lightIntensity</code>. For a full list of options, see the &quot;StageParameters&quot;
method in the official <a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+stageParameters">stageParameters()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateStage&quot;.
</p>
</li></ul>

<p>Other updates: 
<code><a href="#topic+updateColor">updateColor</a>()</code>,
<code><a href="#topic+updateRepresentation">updateRepresentation</a>()</code>,
<code><a href="#topic+updateVisibility">updateVisibility</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR("7CID") %&gt;%
 addRepresentation("cartoon",
                   param = list(name = "cartoon", color="red")) %&gt;%
 stageParameters(backgroundColor = "black")

## End(Not run)

if (interactive()) {
library(shiny)

ui = fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      selectInput("background", "Background", c("black", "white", "blue")),
      actionButton("update", "Update"),
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server &lt;- function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
        param = list(name = "cartoon", color = "red")
      ) %&gt;%
      stageParameters(backgroundColor = "black")
  })
  observeEvent(input$update, {
    NGLVieweR_proxy("structure") %&gt;%
      updateStage(
      param = list("backgroundColor" = isolate(input$background)))
  })
}
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateVisibility'>Update visibility</h2><span id='topic+updateVisibility'></span>

<h3>Description</h3>

<p>Hide or show an existing NGLVieweR selection in Shinymode.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateVisibility(NGLVieweR_proxy, name, value = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateVisibility_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateVisibility_+3A_name">name</code></td>
<td>
<p>Name of selection to alter the color.</p>
</td></tr>
<tr><td><code id="updateVisibility_+3A_value">value</code></td>
<td>
<p>Hide <code>FALSE</code> or show <code>TRUE</code> selection. For a full
description see &quot;setVisibility&quot; in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updateVisibility&quot;.
</p>
<p>Other updates: 
<code><a href="#topic+updateColor">updateColor</a>()</code>,
<code><a href="#topic+updateRepresentation">updateRepresentation</a>()</code>,
<code><a href="#topic+updateStage">updateStage</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;%
 updateVisibility("cartoon", value = TRUE)

## End(Not run)

if (interactive()) {
library(shiny)

ui = fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      actionButton("show", "Show"),
      actionButton("hide", "Hide"),
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server = function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
                        param = list(name = "cartoon", color="residueindex"))
  })
  observeEvent(input$show, {
    NGLVieweR_proxy("structure") %&gt;%
      updateVisibility("cartoon", value = TRUE)

  })
  observeEvent(input$hide, {
    NGLVieweR_proxy("structure") %&gt;%
      updateVisibility("cartoon", value = FALSE)

  })
}
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='updateZoomMove'>Update zoomMove</h2><span id='topic+updateZoomMove'></span>

<h3>Description</h3>

<p>Add a zoom animation on an existing NGLVieweR object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>updateZoomMove(
  NGLVieweR_proxy,
  center,
  zoom,
  duration = 0,
  z_offSet = 0,
  structureIndex = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="updateZoomMove_+3A_nglviewer_proxy">NGLVieweR_proxy</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="updateZoomMove_+3A_center">center</code></td>
<td>
<p>Target distance of selected atoms/residues. See the section
&quot;selection-language&quot; in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
<tr><td><code id="updateZoomMove_+3A_zoom">zoom</code></td>
<td>
<p>Target zoom of selected atoms/residues. See the section
&quot;selection-language&quot; in the official
<a href="http://nglviewer.org/ngl/api/">NGL.js</a> manual.</p>
</td></tr>
<tr><td><code id="updateZoomMove_+3A_duration">duration</code></td>
<td>
<p>Optional animation time in milliseconds (default = 0).</p>
</td></tr>
<tr><td><code id="updateZoomMove_+3A_z_offset">z_offSet</code></td>
<td>
<p>Optional zoom offset value (default = 0).</p>
</td></tr>
<tr><td><code id="updateZoomMove_+3A_structureindex">structureIndex</code></td>
<td>
<p>Optional index of the structure to target for the zoom
animation. If <code>NULL</code> (default), the first structure (index 0) is targeted.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>API call containing <code>NGLVieweR</code> <code>id</code> and list of message
parameters.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+zoomMove">zoomMove()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+NGLVieweR_example">NGLVieweR_example()</a></code> See example &quot;updatezoomMove&quot;.
</p>
</li></ul>

<p>Other animations: 
<code><a href="#topic+setRock">setRock</a>()</code>,
<code><a href="#topic+setSpin">setSpin</a>()</code>,
<code><a href="#topic+updateRock">updateRock</a>()</code>,
<code><a href="#topic+updateSpin">updateSpin</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
NGLVieweR_proxy("structure") %&gt;% updateZoomMove(center = "200",
                                               zoom = "200",
                                               z_offSet = 80,
                                               duration = 2000)

## End(Not run)

if (interactive()) {
library(shiny)

ui = fluidPage(
  titlePanel("Viewer with API inputs"),
  sidebarLayout(
    sidebarPanel(
      textInput("center", "Center", "200"),
      textInput("zoom", "Zoom", "200"),
      numericInput("zoomOffset", "Zoom offset", 80,0,100),
      numericInput("duration", "Duration", 2000,0,2000),
      actionButton("zoom", "Zoom"),
      actionButton("reset", "Reset")
    ),
    mainPanel(
      NGLVieweROutput("structure")
    )
  )
)
server = function(input, output) {
  output$structure &lt;- renderNGLVieweR({
    NGLVieweR("7CID") %&gt;%
      addRepresentation("cartoon",
      param = list(name = "cartoon", color="red")) %&gt;%
      addRepresentation("ball+stick",
      param = list(name = "ball+stick", sele="200"))
  })

observeEvent(input$zoom, {
  NGLVieweR_proxy("structure") %&gt;%
    updateZoomMove(
      center = isolate(input$center),
      zoom = isolate(input$zoom),
      z_offSet = isolate(input$zoomOffset),
      duration = isolate(input$duration)
    )
})

observeEvent(input$reset, {
  NGLVieweR_proxy("structure") %&gt;%
    updateZoomMove(
      center = "*",
      zoom = "*",
      z_offSet = 0,
      duration = 1000
    )
})
}
shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='zoomMove'>Set zoomMove</h2><span id='topic+zoomMove'></span>

<h3>Description</h3>

<p>Add a zoom animation
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zoomMove(NGLVieweR, center, zoom, duration = 0, z_offSet = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zoomMove_+3A_nglviewer">NGLVieweR</code></td>
<td>
<p>A NGLVieweR object.</p>
</td></tr>
<tr><td><code id="zoomMove_+3A_center">center</code></td>
<td>
<p>Target distance of selected atoms/residues. See the section
&quot;selection-language&quot; in the official <a href="https://nglviewer.org/">NGL.js</a>
manual.</p>
</td></tr>
<tr><td><code id="zoomMove_+3A_zoom">zoom</code></td>
<td>
<p>Target zoom of selected atoms/residues. See the section
&quot;selection-language&quot; in the official <a href="https://nglviewer.org/">NGL.js</a>
manual.</p>
</td></tr>
<tr><td><code id="zoomMove_+3A_duration">duration</code></td>
<td>
<p>Optional animation time in milliseconds (default = 0).</p>
</td></tr>
<tr><td><code id="zoomMove_+3A_z_offset">z_offSet</code></td>
<td>
<p>Optional zoom offset value (default = 0).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of zoomMove parameters to <code>NGLVieweR</code> <code>htmlwidgets</code>
object.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+setScale">setScale()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+setRotation">setRotation()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+setPosition">setPosition()</a></code>
</p>
</li></ul>

<p>Other transformations: 
<code><a href="#topic+setPosition">setPosition</a>()</code>,
<code><a href="#topic+setRotation">setRotation</a>()</code>,
<code><a href="#topic+setScale">setScale</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>NGLVieweR("7CID") %&gt;%
stageParameters(backgroundColor = "white") %&gt;%
  addRepresentation("cartoon", param=list(name="cartoon", colorValue="red")) %&gt;%
  addRepresentation("ball+stick", param=list(name="ball+stick",
                                             colorValue="yellow",
                                             colorScheme="element",
                                             sele="200")) %&gt;%
  zoomMove("200:A.C", "200:A.C", 2000, -20)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

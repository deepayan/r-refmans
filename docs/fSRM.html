<!DOCTYPE html><html><head><title>Help for package fSRM</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fSRM}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#buildSRMSyntax'><p>Build lavaan syntax for a Social Relations Model with roles (&quot;Family SRM&quot;)</p></a></li>
<li><a href='#clinical'><p>Data set on negativity in problematic and nonproblematic families</p>
A simulated dataset, mimicking the study performed by Eichelsheim et al. (2011) who investigated whether there are
differences in patterns of negativity between families with and without an adolescent with externalizing problem
behavior. In the study of Eichelsheim et al. (2011), four members of the same family (mother, father, target
adolescent and sibling) reported on the amount of negativity they experienced in relation to each other.
In total, these authors studied 120 Dutch four-person families with a target adolescent scoring above the
externalizing behavior clinical norm scores on either the Child Behavior Check List (N = 47; CBCL; Achenbach, 1991)
or the Youth Self Report (N = 73; YSR; Achenbach, 1991). Because of confidentiality reasons, not the original data
but mimicked data are used here, so results of social relations analyses will deviate from the original paper.</a></li>
<li><a href='#equalMeans'><p>Test actor and partner means for equality</p></a></li>
<li><a href='#four.person'><p>Data set on attachment anxiety in four person families (Cook, 2000)</p></a></li>
<li><a href='#fSRM'><p>Run a Social Relations Model with roles (&quot;Family SRM&quot;)</p></a></li>
<li><a href='#import'><p>Import and transform a dataset into long format</p></a></li>
<li><a href='#mod'><p>Get modification indices for a fSRM object</p></a></li>
<li><a href='#plot.fSRM'><p>Plot an fSRM-object, two types</p></a></li>
<li><a href='#predict.fSRM'><p>Predict new cases based on a fitted fSRM model</p></a></li>
<li><a href='#three.person'><p>Data set on attachment anxiety in 3-person families (based on Cook, 2000)</p></a></li>
<li><a href='#two.groups'><p>Data set on negative interactions</p>
A simulated dataset, mimicking the study performed by Eichelsheim et al. (2011) who investigated whether there are
differences in patterns of negativity between families with and without an adolescent with externalizing problem
behavior. The problematic and nonproblematic group consist of 120 and 153 four-person families, respectively.
This dataset contains a measures of negativity for each of the 12 relationships.
Four roles are present: Mothers &quot;M&quot;, fathers &quot;F&quot;, the asolescent with externalizing problem behavior &quot;T&quot;, and the adolescent sibling without problem behavior &quot;S&quot;.
A wide version of the same data set is in <code>two.groups.wide</code>.</a></li>
<li><a href='#two.indicators'><p>Data set on attachment dependency (Cook, 2000)</p>
The classic Cook (2000) dataset consists of measurements on
security of attachment within families. Only the variable
measuring attachment dependency in family relationships is
included in this dataset. Four roles are present (i.e. two parents and two children):
mothers &quot;m&quot;, fathers &quot;f&quot;, the older
child as &quot;c&quot;, and the younger child &quot;y&quot;.</a></li>
<li><a href='#update.fSRM'><p>Rerun a fSRM model with new parameters</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Social Relations Analyses with Roles ("Family SRM")</td>
</tr>
<tr>
<td>Version:</td>
<td>0.6.5</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-01-25</td>
</tr>
<tr>
<td>Author:</td>
<td>Felix Schönbrodt, Lara Stas, Tom Loeys</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Felix Schönbrodt &lt;felix@nicebread.de&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Social Relations Analysis with roles ("Family SRM") are computed,
    using a structural equation modeling approach. Groups ranging from three members
    up to an unlimited number of members are supported and the mean structure can
    be computed. Means and variances can be compared between different groups of
    families and between roles.</td>
</tr>
<tr>
<td>Depends:</td>
<td>lavaan</td>
</tr>
<tr>
<td>Imports:</td>
<td>plyr, reshape2, ggplot2, scales, foreign, tcltk, tcltk2,
gridExtra, methods</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-01-25 08:10:08 UTC; felix</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-01-27 10:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='buildSRMSyntax'>Build lavaan syntax for a Social Relations Model with roles (&quot;Family SRM&quot;)</h2><span id='topic+buildSRMSyntax'></span>

<h3>Description</h3>

<p>Build lavaan syntax for a Social Relations Model with roles (&quot;Family SRM&quot;). This function is called by the fSRM function, but can be also called directly to build an appropriate lavaan syntax.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildSRMSyntax(
  roles,
  var.id,
  self = FALSE,
  IGSIM = list(),
  drop = "default",
  err = "default",
  means = FALSE,
  diff = FALSE,
  pairwise = FALSE,
  groupnames = NULL,
  add.variable = c(),
  selfmode = "cor",
  noNegVar = FALSE,
  rolesEqual = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="buildSRMSyntax_+3A_roles">roles</code></td>
<td>
<p>A vector with all role labels.</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_var.id">var.id</code></td>
<td>
<p>A vector with the variable names of the DV indicators</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_self">self</code></td>
<td>
<p>Should self-ratings be included in the analysis (if present in the data set)?</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_igsim">IGSIM</code></td>
<td>
<p>Define intragenerational similarity correlations. Must be a list where the levels of actor.id and partner.id are combined, e.g.: <code>IGSIM=list(c("m", "f"), c("c", "y"))</code>. Here &quot;m&quot;other and &quot;f&quot;ather are defined as one generation, and &quot;y&quot;ounger and &quot;o&quot;lder as the other generation.</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_drop">drop</code></td>
<td>
<p>In three-member families at least one component has to be dropped. <code>drop</code> defines which one: &quot;none&quot;: drop nothing; &quot;family&quot; - drop family effect; &quot;GR&quot; - drop generalized reciprocities; &quot;actor&quot; - drop actor factors and actor-partner covariances; &quot;partner&quot; - drop partner effects and actor-partner covariances; &quot;default&quot;: drop nothing in &gt;= 4 members and drop family effect with 3 members. Although usually not necessary, the drop parameter can also be applied to &gt;= 4 member families.</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_err">err</code></td>
<td>
<p>Defines the type of correlations between error terms. err = &quot;no&quot;: no error term correlations - this is the required mode for single indicators. err = &quot;all&quot;: If multiple indicators are present, correlate same items BETWEEN raters (e.g., Dyadic Data Analysis, Kenny, Kashy, &amp; Cook, 2000). err = &quot;default&quot;: Set err to &quot;no&quot; for single indicators and to &quot;all&quot; for multiple indicators.</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_means">means</code></td>
<td>
<p>Should the structured means of the SRM factors be calculated?</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_diff">diff</code></td>
<td>
<p>Compare groups with the delta method?</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_pairwise">pairwise</code></td>
<td>
<p>Compute pairwise comparison of actor and partner means between all roles? Only works when <code>means</code> is also set to TRUE</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_groupnames">groupnames</code></td>
<td>
<p>Vector with the names of the groups (i.e., the values of the group column in the data set)</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_add.variable">add.variable</code></td>
<td>
<p>Not yet fully implemented: Add external variables to the model syntax.</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_selfmode">selfmode</code></td>
<td>
<p>Defines the style how the selfratings are combined with the latent actor and partner effects. If <code>selfmode="cor"</code> they are correlated (as in REFERENCE), if <code>selfmode="kq"</code> the k and q paths are calculated (see Kenny &amp; West, 2010)</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_nonegvar">noNegVar</code></td>
<td>
<p>Should variance estimates be constrained to be positive?</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_rolesequal">rolesEqual</code></td>
<td>
<p>Maximal constraints: Do roles matter at all? If this parameter is set to TRUE, it is a model with no mean difference, the actor variances equal, partner variances equal, relationship variances equal, and the respective reciprocities equal (Thanks to a suggestion of David Kenny). Model comparisons via <code>anova</code> can show whether roles matter at all.</p>
</td></tr>
<tr><td><code id="buildSRMSyntax_+3A_...">...</code></td>
<td>
<p>Additional arguments (not documented yet)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>None.
</p>


<h3>References</h3>

<p>Kenny, D. A., &amp; West, T. V. (2010). Similarity and Agreement in Self-and Other Perception: A Meta-Analysis. Personality and Social Psychology Review, 14(2), 196-213. doi:10.1177/1088868309353414
</p>

<hr>
<h2 id='clinical'>Data set on negativity in problematic and nonproblematic families
A simulated dataset, mimicking the study performed by Eichelsheim et al. (2011) who investigated whether there are
differences in patterns of negativity between families with and without an adolescent with externalizing problem
behavior. In the study of Eichelsheim et al. (2011), four members of the same family (mother, father, target 
adolescent and sibling) reported on the amount of negativity they experienced in relation to each other. 
In total, these authors studied 120 Dutch four-person families with a target adolescent scoring above the 
externalizing behavior clinical norm scores on either the Child Behavior Check List (N = 47; CBCL; Achenbach, 1991) 
or the Youth Self Report (N = 73; YSR; Achenbach, 1991). Because of confidentiality reasons, not the original data 
but mimicked data are used here, so results of social relations analyses will deviate from the original paper.</h2><span id='topic+clinical'></span><span id='topic+clinical.wide'></span>

<h3>Description</h3>

<p>In sum, this dataset contains a measures of negativity for each of the 12 relationships.
Four roles are present: Mothers &quot;M&quot;, fathers &quot;F&quot;, the asolescent with externalizing problem behavior &quot;T&quot;, and the adolescent sibling without problem behavior &quot;S&quot;.
A wide version of the same data set is in <code>clinical.wide</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(clinical)
</code></pre>


<h3>Details</h3>

<p>The variables are as follows:
</p>
	
<ul>
<li><p> family.id An indicator for the family.
</p>
</li>
<li><p> actor.id An indicator for the perceiver, either &quot;M&quot;, &quot;F&quot;, &quot;T&quot;, or &quot;S&quot;.
</p>
</li>
<li><p> partner.id An indicator for the target, either &quot;M&quot;, &quot;F&quot;, &quot;T&quot;, or &quot;S&quot;.
</p>
</li>
<li><p> neg Negativity measure.
</p>
</li></ul>


<hr>
<h2 id='equalMeans'>Test actor and partner means for equality</h2><span id='topic+equalMeans'></span>

<h3>Description</h3>

<p>Test actor and partner means for equality, using a Wald test.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>equalMeans(x, digits = 3)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="equalMeans_+3A_x">x</code></td>
<td>
<p>A fSRM object-</p>
</td></tr>
<tr><td><code id="equalMeans_+3A_digits">digits</code></td>
<td>
<p>Digits to which the printed results are rounded</p>
</td></tr>
</table>

<hr>
<h2 id='four.person'>Data set on attachment anxiety in four person families (Cook, 2000)</h2><span id='topic+four.person'></span>

<h3>Description</h3>

<p>The classic Cook (2000) dataset consists of measurements on security of attachment within families. 
Only the variable measuring fear of rejection in family relationships is included in this dataset. 
Cook (2000) deduced this variable from the anxiety dimension of the adult attachment scale (Collins &amp; Read, 1990).
The original data consisted of four person families (i.e. two parents and two children): the mother is labeled as &quot;m&quot;,  the father as &quot;f&quot;, the oldest child as &quot;c&quot; and the youngest child as &quot;y&quot;.
</p>


<h3>Format</h3>

<p>A data frame with 2497 rows and 4 variables (208 families with 4 members each, round-robin design)
</p>


<h3>Details</h3>

<p>The variables are as follows:
</p>

<ul>
<li><p> family.id An indicator for the family.
</p>
</li>
<li><p> actor.id An indicator for the rater in the dyad, either &quot;m&quot;, &quot;f&quot;, &quot;c&quot;, or &quot;y&quot;
</p>
</li>
<li><p> partner.id An indicator for the person being rated in the dyad, either &quot;m&quot;, &quot;f&quot;, &quot;c&quot;, or &quot;y&quot;
</p>
</li>
<li><p> anx: The obtained score on the attachment anxiety scale.
</p>
</li></ul>



<h3>Source</h3>

<p>This dataset was retrieved from <a href="http://davidakenny.net/kkc/c9/c9.htm">http://davidakenny.net/kkc/c9/c9.htm</a> in wide format and converted to an R dataset in long format.
</p>


<h3>References</h3>

<p>Cook, W. L. (2000). Understanding attachment security in family context. <em>Journal of Personality and Social Psychology, 78</em>, 285-294. doi:10.1037/0022-3514.78.2.285
</p>
<p>Collins, N. L., &amp; Read, S. J. (1990, April). Adult attachment, working models, and relationship quality in dating couples. Journal of Personality and Social Psychology, 58, 644-663.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(four.person)
head(four.person)
</code></pre>

<hr>
<h2 id='fSRM'>Run a Social Relations Model with roles (&quot;Family SRM&quot;)</h2><span id='topic+fSRM'></span><span id='topic+print.fSRM'></span>

<h3>Description</h3>

<p>Run a Social Relations Model with roles (&quot;Family SRM&quot;)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fSRM(
  formula = NULL,
  data,
  drop = "default",
  add = "",
  means = FALSE,
  pairwise = FALSE,
  diff = FALSE,
  IGSIM = list(),
  add.variable = c(),
  syntax = "",
  group = NULL,
  noNegVar = FALSE,
  rolesEqual = FALSE,
  missing = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fSRM_+3A_formula">formula</code></td>
<td>
<p>A formula that defines the variable names. Should be in one of following formats: (1) Single manifest dependent variable: DV ~ actor.id * partner.id | group.id, (2) Multiple indicators for dependent variable: DV1/DV2/DV3 ~ actor.id * parter.id | group.id.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_data">data</code></td>
<td>
<p>A data frame with all variables defined by <code>formula</code>. Must be in long format where each row describes one directed dyadic relationship.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_drop">drop</code></td>
<td>
<p>In three-member families at least one component has to be dropped. <code>drop</code> defines which one: &quot;none&quot;: drop nothing; &quot;family&quot; - drop family effect; &quot;GR&quot; - drop generalized reciprocities; &quot;actor&quot; - drop actor factors and actor-partner covariances; &quot;partner&quot; - drop partner effects and actor-partner covariances; &quot;default&quot;: drop nothing in &gt;= 4 members and drop family effect with 3 members. Although usually not necessary, the drop parameter can also be applied to &gt;= 4 member families.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_add">add</code></td>
<td>
<p>Additional lavaan syntax pasted at the end of the generated model. Can contain, for example, user specified error correlations.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_means">means</code></td>
<td>
<p>Should the structured means of the SRM factors be calculated?</p>
</td></tr>
<tr><td><code id="fSRM_+3A_pairwise">pairwise</code></td>
<td>
<p>Compute pairwise comparison of actor and partner means between all roles? Only works when <code>means</code> is also set to TRUE.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_diff">diff</code></td>
<td>
<p>Compare groups with the delta method? You need to specify a group identifier in parameter <code>group</code>. If <code>diff = TRUE</code> and <code>means = FALSE</code>, only variances are compared between groups. If <code>diff = TRUE</code> and <code>means = TRUE</code>, variances and means are compared between groups.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_igsim">IGSIM</code></td>
<td>
<p>Define intragenerational similarity correlations. Must be a list where the levels of actor.id and partner.id are combined, e.g.: <code>IGSIM=list(c("m", "f"), c("c", "y"))</code>. Here &quot;m&quot;other and &quot;f&quot;ather are defined as one generation, and &quot;y&quot;ounger and &quot;o&quot;lder as the other generation.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_add.variable">add.variable</code></td>
<td>
<p>Not yet fully implemented: Add external variables to the model syntax.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_syntax">syntax</code></td>
<td>
<p>In that variable the user can directly provide a lavaan model syntax. Then no automatical model syntax is generated.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_group">group</code></td>
<td>
<p>Variable name indicating group membership. This can be used two compare two classes of families (e.g., clinical families vs. control families). If this variable is provided, it must contain exactly two levels.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_nonegvar">noNegVar</code></td>
<td>
<p>Should variance estimates be constrained to be positive?</p>
</td></tr>
<tr><td><code id="fSRM_+3A_rolesequal">rolesEqual</code></td>
<td>
<p>Maximal constraints: Do roles matter at all? If this parameter is set to TRUE, it is a model with no mean difference, the actor variances equal, partner variances equal, relationship variances equal, and the respective reciprocities equal (Thanks to a suggestion of David Kenny). Model comparisons via <code>anova</code> can show whether roles matter at all.</p>
</td></tr>
<tr><td><code id="fSRM_+3A_missing">missing</code></td>
<td>
<p>Handling of missing values. By default (<code>NA</code>), Full Information Maximum Likelihood (FIML) is employed in case of missing values. If families with missing values should be excluded, use <code>missing = "listwise"</code></p>
</td></tr>
<tr><td><code id="fSRM_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the <code>sem</code> function of <code>lavaan</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>A model can be rerun with additional syntax using the <code>add</code> function:
<code>s1 &lt;- fSRM(dep1/dep2 ~ actor*partner | fam, dat2)</code>
<code>s2 &lt;- add(s1, "Ac ~~ Pm")</code>
A model can be run with new parameters using the update function:
<code>s1 &lt;- fSRM(dep1/dep2 ~ actor*partner | fam, dat2)</code>
<code>s2 &lt;- update(s1, diff=TRUE)</code>
</p>
<p>The <code>fSRM</code> function relies on the <code>lavaan</code> package for computation: A syntax for the SRM with roles is generated and then passed to the <code>lavaan</code> function. Hence, many options of the <code>lavaan</code> function can be used out-of-the-box (additional parameters are passed to the <code>lavaan</code> function through the <code>...</code> operator). For example, one can deal with missing values. The default behavior is to exclude families with missing values (listwise deletion). Set <code>fSRM(..., missing="fiml")</code> for ML / FIML estimation. Or, you can request bootstrapped standard errors with <code>fSRM(..., se="boot")</code>.
You can test for a very restricted model by constraining the roles to be equal (&quot;Do roles matter at all?&quot;). Therefore, compare a model with free roles (<code>m1 &lt;- fSRM(..., means=TRUE, rolesEqual = FALSE)</code>) with a model with equal roles (<code>m2 &lt;- fSRM(..., means=TRUE, rolesEqual=TRUE)</code>) using <code>anova(m1$fit, m2$fit)</code> (Thanks to David Kenny for the suggestion).
For plotting relative variances and mean structure, see <code><a href="#topic+plot.fSRM">plot.fSRM</a></code>.
</p>


<h3>References</h3>

<p>Kenny, D. A., &amp; West, T. V. (2010). Similarity and Agreement in Self-and Other Perception: A Meta-Analysis. Personality and Social Psychology Review, 14(2), 196-213. doi:10.1177/1088868309353414
</p>


<h3>See Also</h3>

<p><code><a href="#topic+plot.fSRM">plot.fSRM</a></code>, <code><a href="#topic+equalMeans">equalMeans</a></code>, <code><a href="#topic+mod">mod</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Example from Dyadic Data Analysis
data(two.indicators)
# 4 persons, 1 indicator
f4.1 &lt;- fSRM(dep1 ~ actor.id*partner.id | family.id, two.indicators)
f4.1		# by default, one-sided p-values and CIs are printed for variances
print(f4.1, var.onesided=FALSE)	# Show two-sided p-values and CIs for variances
plot(f4.1)	# plot relative variances
plot(f4.1, bw=TRUE)

## Not run: 
# 4 persons, 2 indicators
f4.2 &lt;- fSRM(dep1/dep2 ~ actor.id*partner.id | family.id, two.indicators)
f4.2
plot(f4.2, bw=TRUE)
plot(f4.2, bw=TRUE, onlyStable=TRUE)

# 4 persons, 1 indicator, mean structure
f4.1.m &lt;- fSRM(dep1 ~ actor.id*partner.id | family.id, two.indicators, means=TRUE)
f4.1.m
plot(f4.1.m, means=TRUE)		# plot mean structure

# 4 persons, 2 indicators, mean structure
f4.2.m &lt;- fSRM(dep1/dep2 ~ actor.id*partner.id | family.id, two.indicators, means=TRUE)
f4.2.m

# ... add intragenerational similarity (now results are identical to Cook, 2000)
f4.ig &lt;- fSRM(dep1/dep2 ~ actor.id*partner.id | family.id, two.indicators, 
              IGSIM=list(c("m", "f"), c("c", "y")))
f4.ig

## ======================================================================
## Wald-test for equality of means
## ======================================================================

f4.1.m &lt;- fSRM(dep1 ~ actor.id*partner.id | family.id, two.indicators, means=TRUE)
f4.1.m
equalMeans(f4.1.m)

# construct a 3-person data set
two.indicators3 &lt;- 
two.indicators[two.indicators$actor.id != "y" &amp; two.indicators$partner.id != "y", ]
f3.2.m &lt;- fSRM(dep1/dep2 ~ actor.id*partner.id | family.id, two.indicators3, means=TRUE)
f3.2.m
equalMeans(f3.2.m)



# ---------------------------------------------------------------------
# Run analyses based on Eichelsheim, V. I., Buist, K. L., Dekovic, M., 
  Cook, W. L., Manders, W., Branje, S. J. T., Frijns, T., et al. (2011). 
  Negativity in problematic and nonproblematic families: 
  A multigroup social relations model analysis with structured means. 
  Journal of Family Psychology, 25, 152-156. doi:10.1037/a0022450

# The data set is a simulated data set which has 
# comparable properties as the original data set

data(two.groups)
str(two.groups)

E1 &lt;- fSRM(neg ~ actor.id*partner.id | family.id, data=two.groups)
E1

# make group comparison: 
# group = 1: non-problematic families, group = 2: problematic families
# The data set must contain exactly two groups, otherwise an error is printed
E2 &lt;- fSRM(neg ~ actor.id*partner.id | family.id, data=two.groups, group="group")
E2

# Compare means and differences between groups. Beware: This model takes *really* long ...
E3 &lt;- fSRM(neg ~ actor.id*partner.id | family.id, 
           data=two.groups, group="group", means=TRUE, diff=TRUE)
E3


## End(Not run)
</code></pre>

<hr>
<h2 id='import'>Import and transform a dataset into long format</h2><span id='topic+import'></span><span id='topic+import+2C'></span><span id='topic+getImport'></span>

<h3>Description</h3>

<p>This graphical users interface (GUI) can be used for inserting .csv, .txt and .sav-files in R by means of a pop-up window. It also allows to transform a dataset from wide into the requiered long format for the fSRM-function. The output format for the SRM components can be confirmed or modified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>import()
</code></pre>


<h3>Details</h3>

<p>This GUI allows the user three different things: 
(i) Import a datafile in R. 
The upper section of the main window allows to insert .csv, .txt and .sav-files in R. It is required that the first row of this datafile contains the variable names.
(ii) Transform a dataset that is in wide format into the desired long format, in order to use the <code>fSRM</code>-function.
A new pop-up window appears after clicking on 'transform my data' in the middle section. This new window allows to transform a dataset from wide format (i.e. each column represents one measured relationship, each row one family) to the necessary long format. Specify - if present - first the variable names which identifies the different families and groups, respectively.
Next, specify the columns in the original dataset which contain the dyadic measurements. Enumerated columns need to be separated with a comma, consecutive columns need to be defined by means of colon (e.g. 1 : 9 defines the first until the second column in the original dataset).
Finally, define the position of the characters of the rater, the person being rated and the indicator (if present) in the previously selected dyadic measurements.
(iii) Define the desired output-format for the different SRM-components.
At the bottom section of the main window the user can agree with the default labels of the SRM components by clicking on 'Confirm output format' or specify alternative labels.
</p>
<p>Importing a data set is a two-step process. First, you have to call the <code>import</code> function. When you click on OK, the transformed data set is saved in a hidden variable. To access the variable, you have to call <code>getImport</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
import()
# --&gt; now click throught the menu
dat &lt;- getImport()	

## End(Not run)
</code></pre>

<hr>
<h2 id='mod'>Get modification indices for a fSRM object</h2><span id='topic+mod'></span>

<h3>Description</h3>

<p>Get modification indices for a fSRM object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mod(x, minMI = 10)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mod_+3A_x">x</code></td>
<td>
<p>A fSRM object.</p>
</td></tr>
<tr><td><code id="mod_+3A_minmi">minMI</code></td>
<td>
<p>Minimum size of modification indices to be printed.</p>
</td></tr>
</table>

<hr>
<h2 id='plot.fSRM'>Plot an fSRM-object, two types</h2><span id='topic+plot.fSRM'></span>

<h3>Description</h3>

<p>This function provides two types of plots:
1) Plot the relative variances of an fSRM-object (default)
2) Plot the mean decomposition for each dyad (set <code>means=TRUE</code>)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fSRM'
plot(x, ..., means = FALSE, bw = FALSE, onlyStable = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.fSRM_+3A_x">x</code></td>
<td>
<p>A fSRM object.</p>
</td></tr>
<tr><td><code id="plot.fSRM_+3A_...">...</code></td>
<td>
<p>Other parameters (currently not used)</p>
</td></tr>
<tr><td><code id="plot.fSRM_+3A_means">means</code></td>
<td>
<p>If FALSE, the relative variances are plotted. If TRUE, the mean structure is plotted.</p>
</td></tr>
<tr><td><code id="plot.fSRM_+3A_bw">bw</code></td>
<td>
<p>Black/white plotting?</p>
</td></tr>
<tr><td><code id="plot.fSRM_+3A_onlystable">onlyStable</code></td>
<td>
<p>In case of variance plots: Should only the partitioning of the <em>stable</em> variance (without error) be plotted?</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(two.indicators)
# 4 persons, 1 indicator
f4.1 &lt;- fSRM(dep1 ~ actor.id*partner.id | family.id, two.indicators, means=TRUE)
f4.1
plot(f4.1)
plot(f4.1, bw=TRUE)
plot(f4.1, means=TRUE)

# 4 persons, 2 indicators
f4.2 &lt;- fSRM(dep1/dep2 ~ actor.id*partner.id | family.id, two.indicators, means=TRUE)
f4.2
plot(f4.2)
plot(f4.2, bw=TRUE)
plot(f4.2, means=TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='predict.fSRM'>Predict new cases based on a fitted fSRM model</h2><span id='topic+predict.fSRM'></span>

<h3>Description</h3>

<p>Predict new cases based on a fitted fSRM model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fSRM'
predict(object, newdata, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="predict.fSRM_+3A_object">object</code></td>
<td>
<p>A fSRM object.</p>
</td></tr>
<tr><td><code id="predict.fSRM_+3A_newdata">newdata</code></td>
<td>
<p>A data frame with exactly the same structure as the data frame on which the original fSRM object is based on.</p>
</td></tr>
<tr><td><code id="predict.fSRM_+3A_...">...</code></td>
<td>
<p>Other parameters (currently not used)</p>
</td></tr>
</table>

<hr>
<h2 id='three.person'>Data set on attachment anxiety in 3-person families (based on Cook, 2000)</h2><span id='topic+three.person'></span>

<h3>Description</h3>

<p>The classic Cook (2000) dataset consists of measurements on security of attachment within families. 
Only the variable measuring fear of rejection in family relationships is included in this dataset. 
Cook (2000) deduced this variable from the anxiety dimension of the adult attachment scale (Collins &amp; Read, 1990).
The orignial data consisted of four person families (i.e. two parents and two children), but in order to obtain  a three person family the oldest sibling is systematically deleted in accordance with Kenny, Kashy &amp; Cook (2006).  The following labels are used for the three roles: the mother is labelled &quot;m&quot;, the father &quot;f&quot; and the youngest child &quot;y&quot;. The data are presented in the long format.
Three roles are present: Mothers &quot;m&quot;, fathers &quot;f&quot;, and the younger child &quot;y&quot;.
</p>


<h3>Format</h3>

<p>A data frame with 1249 rows and 5 variables (208 families with 3 members each, round-robin design)
</p>


<h3>Details</h3>

<p>The variables are as follows:
</p>

<ul>
<li><p> family.id An indicator for the family.
</p>
</li>
<li><p> actor.id An indicator of the rater in the dyad, either &quot;m&quot;, &quot;f&quot;, or &quot;y&quot;
</p>
</li>
<li><p> partner.id An indicator for the person being rated in the dyad, either &quot;m&quot;, &quot;f&quot;, or &quot;y&quot;
</p>
</li>
<li><p> anx1: First indicator of relationship specific anxiety (i.e. average of first halve of the scale).
</p>
</li>
<li><p> anx2: Second indicator of relationship specific anxiety (i.e. average of second halve of the scale).
</p>
</li></ul>



<h3>Source</h3>

<p>This dataset was retrieved from <a href="http://davidakenny.net/kkc/c9/c9.htm">http://davidakenny.net/kkc/c9/c9.htm</a> in wide format and converted to an R dataset in long format.
</p>


<h3>References</h3>

<p>Cook, W. L. (2000). Understanding attachment security in family context. <em>Journal of Personality and Social Psychology, 78</em>, 285-294. doi:10.1037/0022-3514.78.2.285
</p>
<p>Collins, N. L., &amp; Read, S. J. (1990). Adult attachment, working models, and relationship quality in dating couples. <em>Journal of Personality and Social Psychology</em>, 58, 644-663.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(three.person)
head(three.person)
</code></pre>

<hr>
<h2 id='two.groups'>Data set on negative interactions
A simulated dataset, mimicking the study performed by Eichelsheim et al. (2011) who investigated whether there are
differences in patterns of negativity between families with and without an adolescent with externalizing problem
behavior. The problematic and nonproblematic group consist of 120 and 153 four-person families, respectively.
This dataset contains a measures of negativity for each of the 12 relationships.
Four roles are present: Mothers &quot;M&quot;, fathers &quot;F&quot;, the asolescent with externalizing problem behavior &quot;T&quot;, and the adolescent sibling without problem behavior &quot;S&quot;.
A wide version of the same data set is in <code>two.groups.wide</code>.</h2><span id='topic+two.groups'></span><span id='topic+two.groups.wide'></span>

<h3>Description</h3>

<p>The variables are as follows:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(two.groups)
</code></pre>


<h3>Format</h3>

<p>A data frame with 3276 rows and 6 variables (273 families with 4 members each, round-robin design)
</p>


<h3>Details</h3>

	
<ul>
<li><p> family.id An indicator for the family.
</p>
</li>
<li><p> actor.id An indicator for the perceiver, either &quot;M&quot;, &quot;F&quot;, &quot;T&quot;, or &quot;S&quot;.
</p>
</li>
<li><p> partner.id An indicator for the target, either &quot;M&quot;, &quot;F&quot;, &quot;T&quot;, or &quot;S&quot;.
</p>
</li>
<li><p> group An indicator for the group, 1 represents the problematic families and 2 the nonproblematic families.
</p>
</li>
<li><p> neg Negativity measure.
</p>
</li></ul>



<h3>References</h3>

<p>Eichelsheim, V. I., Buist, K. L., Dekovic, M., Cook, W. L., Manders, W., Branje, S. J. T., et al. (2011). Negativity in problematic and nonproblematic families: A multigroup social relations model analysis with structured means. <em>Journal of Family Psychology</em>, 25, 152-6. DOI: 10.1037/a0022450.
</p>

<hr>
<h2 id='two.indicators'>Data set on attachment dependency (Cook, 2000)
The classic Cook (2000) dataset consists of measurements on
security of attachment within families. Only the variable
measuring attachment dependency in family relationships is
included in this dataset. Four roles are present (i.e. two parents and two children):
mothers &quot;m&quot;, fathers &quot;f&quot;, the older
child as &quot;c&quot;, and the younger child &quot;y&quot;.</h2><span id='topic+two.indicators'></span>

<h3>Description</h3>

<p>The variables are as follows:
</p>


<h3>Format</h3>

<p>A data frame with 2496 rows and 4 variables (208 families with 4 members each, round-robin design)
</p>


<h3>Details</h3>


<ul>
<li><p> family.id An indicator for the family.
</p>
</li>
<li><p> actor.id An indicator for the perceiver, either &quot;m&quot;, &quot;f&quot;, &quot;c&quot;, or &quot;y&quot;. 
</p>
</li>
<li><p> partner.id An indicator for the target, either &quot;m&quot;, &quot;f&quot;, &quot;c&quot;, or &quot;y&quot;. 
</p>
</li>
<li><p> dep1 first measurement of attachment dependency. 
</p>
</li>
<li><p> dep2 second measurement of attachment dependency.
</p>
</li></ul>



<h3>References</h3>

<p>Cook, W. L. (2000). Understanding attachment security in family context. <em>Journal of Personality and Social Psychology, 78</em>, 285-294. doi:10.1037/0022-3514.78.2.285
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(two.indicators)
head(two.indicators)
</code></pre>

<hr>
<h2 id='update.fSRM'>Rerun a fSRM model with new parameters</h2><span id='topic+update.fSRM'></span>

<h3>Description</h3>

<p>Rerun a fSRM model with new parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'fSRM'
update(object, evaluate = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="update.fSRM_+3A_object">object</code></td>
<td>
<p>A fSRM object.</p>
</td></tr>
<tr><td><code id="update.fSRM_+3A_evaluate">evaluate</code></td>
<td>
<p>Set to TRUE.</p>
</td></tr>
<tr><td><code id="update.fSRM_+3A_...">...</code></td>
<td>
<p>Other parameters (currently not used)</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

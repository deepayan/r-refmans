<!DOCTYPE html><html><head><title>Help for package RTSA</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {RTSA}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#boundaries'><p>Boundaries for group sequential designs</p></a></li>
<li><a href='#coronary'><p>Dataset of trials investigating the intensity of statin therapy on the risk of myocardial infarction or coronary death</p></a></li>
<li><a href='#eds'><p>Dataset of trials investigating the effect of carer on early supported discharge services</p></a></li>
<li><a href='#inference'><p>Inference calculations for sequential meta-analysis</p></a></li>
<li><a href='#metaanalysis'><p>Fixed-effect or random-effects meta-analysis</p></a></li>
<li><a href='#minTrial'><p>Minimum number of trials needed for a specific level of power</p></a></li>
<li><a href='#perioOxy'><p>Dataset of RCTs investigating the effect of 80% perioperative oxygen vs. 30</p>
-35% perioperative oxygen on surgical site infection.</a></li>
<li><a href='#plot.boundaries'><p>Plot of boundaries for group sequential designs</p></a></li>
<li><a href='#plot.metaanalysis'><p>Forestplot for metaanalysis object.</p></a></li>
<li><a href='#plot.RTSA'><p>Plot RTSA object. Returns the R version of the original TSA plot.</p></a></li>
<li><a href='#ris'><p>Calculate required sample and trials size.</p></a></li>
<li><a href='#RTSA'><p>R version of Trial Sequential Analysis. Used for designing and analysing sequential meta-analyses.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>'Trial Sequential Analysis' for Error Control and Inference in
Sequential Meta-Analyses</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Frequentist sequential meta-analysis based on 
    'Trial Sequential Analysis' (TSA) in programmed in Java by the Copenhagen 
    Trial Unit (CTU). The primary function is the calculation of group 
    sequential designs for meta-analysis to be used for planning and analysis of
    both prospective and retrospective sequential meta-analyses to preserve 
    type-I-error control under sequential testing. 'RTSA' includes tools for 
    sample size and trial size calculation for meta-analysis and core 
    meta-analyses methods such as fixed-effect and random-effects models and
    forest plots. TSA is described in Wetterslev et. al (2008) 
    &lt;<a href="https://doi.org/10.1016%2Fj.jclinepi.2007.03.013">doi:10.1016/j.jclinepi.2007.03.013</a>&gt;. The methods for deriving the
    group sequential designs are based on Jennison and Turnbull (1999,
    ISBN:9780849303166).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/AnneLyng/RTSA">https://github.com/AnneLyng/RTSA</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/AnneLyng/RTSA/issues">https://github.com/AnneLyng/RTSA/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, metafor, ggplot2, scales, Rcpp (&ge; 0.11.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gsDesign, CompQuadForm, dplyr, kableExtra, rmarkdown, knitr,
bookdown, gridExtra, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, bookdown</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-22 15:32:59 UTC; anne</td>
</tr>
<tr>
<td>Author:</td>
<td>Anne Lyngholm Soerensen [aut, cre, trl],
  Markus Harboe Olsen [aut, ctr],
  Theis Lange [ctr],
  Christian Gluud [ctr]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Anne Lyngholm Soerensen &lt;lynganne@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-23 08:50:10 UTC</td>
</tr>
</table>
<hr>
<h2 id='boundaries'>Boundaries for group sequential designs</h2><span id='topic+boundaries'></span>

<h3>Description</h3>

<p>Calculates alpha- and potentially beta-spending boundaries for group sequential designs for meta-analysis. Should be used for exploring how the different arguments affect the sequential design. The function is not intended to be used individually for Trial Sequential Analysis. For this purpose, we recommend RTSA().
</p>


<h3>Usage</h3>

<pre><code class='language-R'>boundaries(
  timing,
  alpha = 0.05,
  beta = 0.1,
  side = 2,
  futility = "none",
  es_alpha = "esOF",
  es_beta = NULL,
  type = "design",
  design_R = NULL,
  tol = 1e-09
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="boundaries_+3A_timing">timing</code></td>
<td>
<p>Expected timings of interim analyses and final analysis as a vector consisting of values from 0 to 1.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_alpha">alpha</code></td>
<td>
<p>The level of type I error as a percentage, the default is 0.05 corresponding to 5%.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_beta">beta</code></td>
<td>
<p>The level of type II error as a percentage, the default is 0.1 corresponding to 10%.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_side">side</code></td>
<td>
<p>Whether a 1- or 2-sided hypothesis test is used. Defaults to 2. Options are 1 or 2.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_futility">futility</code></td>
<td>
<p>Futility boundaries added to design. Options are: none, non-binding and binding. Default is &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_es_alpha">es_alpha</code></td>
<td>
<p>The error spending function for alpha-spending. Options are: &quot;esOF&quot; (Lan &amp; DeMets version of O'Brien-Fleming boundaries), &quot;esPoc&quot; (Lan &amp; DeMets version of Pocock boundaries), &quot;HSDC&quot; (Hwang Sihi and DeCani) and &quot;rho&quot; (rho family). Defaults to &quot;esOF&quot;.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_es_beta">es_beta</code></td>
<td>
<p>The error spending function for beta-spending. For options see es_alpha. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_type">type</code></td>
<td>
<p>Whether the boundaries are used for design or analysis. We recommend only to use the boundaries() function with type equal to design. Defaults to design.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_design_r">design_R</code></td>
<td>
<p>If type is analysis, a scalar for achieving the right amount of power is required. It is recommended not to use the boundaires() function with the setting type equal to analysis. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="boundaries_+3A_tol">tol</code></td>
<td>
<p>Tolerance level for numerical integration. Defaults to 1e-09.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>boundaries</code> object which includes:
</p>
<table>
<tr><td><code>inf_frac</code></td>
<td>
<p>Timing of interim analyses and final analysis. Potentially modified if <code>type = "analysis"</code>.</p>
</td></tr>
<tr><td><code>org_inf_frac</code></td>
<td>
<p>Original timing. If <code>type = "design"</code>.</p>
</td></tr>
<tr><td><code>alpha_ubound</code></td>
<td>
<p>Upper alpha-spending boundaries</p>
</td></tr>
<tr><td><code>alpha_lbound</code></td>
<td>
<p>Lower alpha-spending boundaries</p>
</td></tr>
<tr><td><code>alpha</code></td>
<td>
<p>As input</p>
</td></tr>
<tr><td><code>alpha_spend</code></td>
<td>
<p>List of cumulative and incremental spending</p>
</td></tr>
<tr><td><code>delta</code></td>
<td>
<p>Drift parameter</p>
</td></tr>
<tr><td><code>design_R</code></td>
<td>
<p>If <code>type = "analysis"</code> it is the scalar for correct power in the design. Else NULL.</p>
</td></tr>
<tr><td><code>info</code></td>
<td>
<p>List of the information as the squareroot of the information increments and the squareroot of the cumulative information</p>
</td></tr>
<tr><td><code>beta_ubound</code></td>
<td>
<p>Upper beta-spending boundaries</p>
</td></tr>
<tr><td><code>beta_lbound</code></td>
<td>
<p>Lower beta-spending boundaries</p>
</td></tr>
<tr><td><code>root</code></td>
<td>
<p>Scalar for achieving correct power</p>
</td></tr>
<tr><td><code>beta_spend</code></td>
<td>
<p>List of cumulative and incremental spending</p>
</td></tr>
<tr><td><code>pwr</code></td>
<td>
<p>List of probabilities for rejecting the null under the sample size settings being true at each analysis and the sum.</p>
</td></tr>
<tr><td><code>tIe</code></td>
<td>
<p>List of probabilities for type-I-error at each analysis and the sum</p>
</td></tr>
<tr><td><code>side</code></td>
<td>
<p>As input</p>
</td></tr>
<tr><td><code>beta</code></td>
<td>
<p>As input</p>
</td></tr>
<tr><td><code>es_alpha</code></td>
<td>
<p>As input</p>
</td></tr>
<tr><td><code>es_beta</code></td>
<td>
<p>As input</p>
</td></tr>
<tr><td><code>type</code></td>
<td>
<p>As input</p>
</td></tr>
<tr><td><code>futility</code></td>
<td>
<p>As input</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>boundaries(timing = c(0.25, 0.5, 0.75, 1), alpha = 0.05, beta = 0.1,
 side = 2, futility = "non-binding", es_alpha = "esOF", es_beta = "esOF")

</code></pre>

<hr>
<h2 id='coronary'>Dataset of trials investigating the intensity of statin therapy on the risk of myocardial infarction or coronary death</h2><span id='topic+coronary'></span>

<h3>Description</h3>

<p>A dataset containing trials investigating myocardial infarction or coronary death among 
patients with acute coronary syndromes or chronic coronary artery disease 
of statin therapy intensity. The trials compared low intensities of statin to higher intensities.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coronary
</code></pre>


<h3>Format</h3>

<p>A data frame with 4 rows and 5 variables:
</p>

<dl>
<dt>study</dt><dd><p>Name of first author of the trial</p>
</dd>
<dt>eI</dt><dd><p>Number of events in the intervention group</p>
</dd>
<dt>nI</dt><dd><p>Number of participants in the intervention group</p>
</dd>
<dt>eC</dt><dd><p>Number of events in the control group</p>
</dd>
<dt>nC</dt><dd><p>Number of participants in the control group</p>
</dd>
</dl>


<hr>
<h2 id='eds'>Dataset of trials investigating the effect of carer on early supported discharge services</h2><span id='topic+eds'></span>

<h3>Description</h3>

<p>A dataset containing trials investigating on the length of hospital stay when receiving early
supported discharge (ESD) service versus conventional care. The outcome is
length of initial hospital stay counted in days.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eds
</code></pre>


<h3>Format</h3>

<p>A data frame with 9 studies and 8 variables:
</p>


<h3>Details</h3>


<ul>
<li><p> study. Name of the city of the study
</p>
</li>
<li><p> year. Year of the trial
</p>
</li>
<li><p> mI. Mean duration at hospital in intervention (ESD) group
</p>
</li>
<li><p> mC. Mean duration at hospital in control group
</p>
</li>
<li><p> sdI. Standard deviation of intervention (ESD) estimate
</p>
</li>
<li><p> sdC. Standard deviation of control estimate
</p>
</li>
<li><p> nI. Number of participants in the intervention (ESD) group
</p>
</li>
<li><p> nC. Number of participants in the control group
</p>
</li></ul>



<h3>References</h3>

<p>Fearon P, Langhorne P. Services for reducing duration of hospital care for acute stroke patients. Cochrane Database of Systematic Reviews 2012, Issue 9. Art. No.: CD000443. DOI: 10.1002/14651858.CD000443.pub3. Accessed 17 October 2022.
</p>

<hr>
<h2 id='inference'>Inference calculations for sequential meta-analysis</h2><span id='topic+inference'></span>

<h3>Description</h3>

<p>Calculates point-estimates, p-values and confidence intervals. Computes naive inference and TSA-adjusted confidence intervals. If the meta-analysis crosses a alpha-spending boundary, a binding beta-spending boundary or reached the sequential RIS, stage-wise ordered inference is also calculated. This function is not supposed to be used individually for Trial Sequential Analysis (TSA). RTSA() is recommended for TSA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inference(
  bounds,
  timing,
  ana_times,
  ma,
  fixed,
  org_timing,
  inf_type = "sw",
  conf_level = 0.95,
  final_analysis = FALSE,
  tol = 1e-15
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inference_+3A_bounds">bounds</code></td>
<td>
<p>The boundaries for the analysis as calculated by the boundaries() function in RTSA.</p>
</td></tr>
<tr><td><code id="inference_+3A_timing">timing</code></td>
<td>
<p>The timing of the studies relative to the sequential RIS. A vector consisting of values equal to the proportion of study participants out of the sequential RIS.</p>
</td></tr>
<tr><td><code id="inference_+3A_ana_times">ana_times</code></td>
<td>
<p>The analysis times presented as a vector. Describes at which studies the meta-analyses were performed. If one expects that the meta-analysis was updated per study a vector from 1 to the number of studies included can be used.</p>
</td></tr>
<tr><td><code id="inference_+3A_ma">ma</code></td>
<td>
<p>A metaanalysis object from the metaanalysis function.</p>
</td></tr>
<tr><td><code id="inference_+3A_fixed">fixed</code></td>
<td>
<p>Whether the analysis is for fixed-effect or random-effects meta-analysis. Options are TRUE (meta-analysis is fixed-effect) or FALSE (meta-analysis is random-effects).</p>
</td></tr>
<tr><td><code id="inference_+3A_org_timing">org_timing</code></td>
<td>
<p>The timing of all included studies as a proportion of RIS and not sequential RIS.</p>
</td></tr>
<tr><td><code id="inference_+3A_inf_type">inf_type</code></td>
<td>
<p>For now only option is &quot;sw&quot; (stage-wise). Type of inference used for point estimates, confidence intervals and p-values.</p>
</td></tr>
<tr><td><code id="inference_+3A_conf_level">conf_level</code></td>
<td>
<p>The confidence interval level. Defaults to 0.95 which is 95%.</p>
</td></tr>
<tr><td><code id="inference_+3A_final_analysis">final_analysis</code></td>
<td>
<p>Whether or not the this analysis is considered the final analysis.</p>
</td></tr>
<tr><td><code id="inference_+3A_tol">tol</code></td>
<td>
<p>The tolerance level. Set to 1e+09.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data.frame of cumulative meta-analysis results including stopping boundaries and a list of conditional sequential inference to be parsed to RTSA
</p>
<table>
<tr><td><code>results_df</code></td>
<td>
<p>A data.frame containing information about: Cumulative test values, cumulative outcomes, timing of trials,
stopping boundaries (alpha_upper, alpha_lower, beta_upper, beta_lower), naive confidence intervals, TSA-adjusted confidence intervals,
cumulative p-values and standard deviations.</p>
</td></tr>
<tr><td><code>seq_inf</code></td>
<td>
<p>If the meta-analysis crosses an alpha-spending boundary, a binding beta-spending boundary  or reaches the required information size inference conditional on stopping is provided. A median unbiased estimate, lower and upper confidence interval, and p-value is calculated based on stage-wise ordering.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>ma &lt;- metaanalysis(data = perioOxy, outcome = "RR", mc = 0.8)
sts &lt;- ma$ris$NR_D2$NR_D2_full
timing &lt;- cumsum(perioOxy$nI + perioOxy$nC)/sts
bound_oxy &lt;- boundaries(timing = timing, alpha = 0.05, beta = 0.2, side = 2,
                       futility = "none", es_alpha = "esOF")
inference(timing = bound_oxy$inf_frac, bounds = bound_oxy, ma = ma,fixed = FALSE,
ana_times = 1:length(timing), org_timing = timing)

</code></pre>

<hr>
<h2 id='metaanalysis'>Fixed-effect or random-effects meta-analysis</h2><span id='topic+metaanalysis'></span><span id='topic+print.metaanalysis'></span>

<h3>Description</h3>

<p>Computes a fixed-effect or random-effects meta-analysis including heterogeneity statistics. If <code>mc</code> is specified, a retrospective sample and trial size is calculated.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metaanalysis(
  outcome,
  data,
  side = 2,
  alpha = 0.05,
  beta = 0.1,
  weights = "IV",
  re_method = "DL_HKSJ",
  tau_ci_method = "BJ",
  cont_vartype = "equal",
  mc = NULL,
  RRR = NULL,
  sd_mc = NULL,
  study = NULL,
  conf_level = 0.95,
  zero_adj = 0.5,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="metaanalysis_+3A_outcome">outcome</code></td>
<td>
<p>Outcome metric for the studies. Choose between: MD (mean difference), RR (relative risk), RD (risk difference), or OR (odds ratio).</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_data">data</code></td>
<td>
<p>A data.frame containing the study results. The data set must containing a specific set of columns. These are respectively 'eI' (events in intervention group), 'eC' (events in control group), 'nC' (participants intervention group) or 'nI' (participants control group) for discrete data, or, 'mI' (mean intervention group), 'mC' (mean control group), 'sdI' (standard error intervention group), 'sdC' (standard error control group),'nC' (participants intervention group) and 'nI' (participants control group)  for continuous outcomes. Preferable also a 'study' column as an indicator of study.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_side">side</code></td>
<td>
<p>Whether a 1- or 2-sided hypothesis test is used. Options are 1 or 2. Default is 2.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_alpha">alpha</code></td>
<td>
<p>The level of type I error as a percentage, the default is 0.05 corresponding to 5%.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_beta">beta</code></td>
<td>
<p>The level of type II error as a percentage, the default is 0.1 corresponding to 10%. Not used unless a sample and trial size calculation is wanted.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_weights">weights</code></td>
<td>
<p>Method for calculating weights. Options are &quot;MH&quot; (Mantel-Haenzel and only optional for binary data) or &quot;IV&quot; (Inverse variance weighting). Default is &quot;IV&quot;.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_re_method">re_method</code></td>
<td>
<p>Methods are &quot;DL&quot; for DerSimonian-Laird or &quot;DL_HKSJ&quot; for DerSimonian-Laird with Hartung-Knapp-Sidik-Jonkman adjustment. Default is &quot;DL_HKSJ&quot;.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_tau_ci_method">tau_ci_method</code></td>
<td>
<p>Methods for computation of confidence interval for heterogeneity estimate tau. Calls rma.uni from the metafor package. Options are &quot;BJ&quot; and &quot;QP&quot;. Default is &quot;BJ&quot;</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_cont_vartype">cont_vartype</code></td>
<td>
<p>Variance type for continuous outcomes. Choices are &quot;equal&quot; (homogeneity of treatment group variances) or &quot;non-equal&quot; (heterogeneity of treatment group variances). Default is &quot;equal&quot;.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_mc">mc</code></td>
<td>
<p>Minimum clinically relevant value. Used for sample and trial size calculation.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_rrr">RRR</code></td>
<td>
<p>Relative risk reduction. Used for binary outcomes with outcome metric RR. Argument mc can be used instead. Must be a value between 0 and 1.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_sd_mc">sd_mc</code></td>
<td>
<p>The expected standard deviation. Used for sample and trial size calculation for mean differences.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_study">study</code></td>
<td>
<p>Optional vector of study IDs. If no study indicator is provided in 'data', a vector of study indicators e.g. names.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_conf_level">conf_level</code></td>
<td>
<p>Confidence interval coverage</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_zero_adj">zero_adj</code></td>
<td>
<p>Zero adjustment for null events in binary data. Options for now is 0.5. Default is 0.5.</p>
</td></tr>
<tr><td><code id="metaanalysis_+3A_...">...</code></td>
<td>
<p>Additional variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>metaanalysis</code> object which is a list with 6 or 7 elements.
</p>
<table>
<tr><td><code>study_results</code></td>
<td>
<p>A data.frame containing study results which is information about the individual studies</p>
</td></tr>
<tr><td><code>meta_results</code></td>
<td>
<p>A data.frame containing the results of the meta-analysis such as the pooled estimate, its standard error, confidence interval and p-value</p>
</td></tr>
<tr><td><code>hete_results</code></td>
<td>
<p>A list containing statistics about hetergeneity.</p>
</td></tr>
<tr><td><code>metaPrepare</code></td>
<td>
<p>A list containing the elements used for calculating the study results.</p>
</td></tr>
<tr><td><code>synthesize</code></td>
<td>
<p>A list containing the elements used for calculating the meta-analysis results.</p>
</td></tr>
<tr><td><code>settings</code></td>
<td>
<p>A list containing the arguments used in the <code>metaanalysis</code> call.</p>
</td></tr>
<tr><td><code>ris</code></td>
<td>
<p>(Only when <code>mc</code> has been specified or meta-analysis is created as part of <code>RTSA</code>). List of sample size and trial size calculation. See documentation for <code>ris</code>.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>### Basic uses
# Use perioOxy data from package and run meta-analysis with default settings
data(perioOxy)
metaanalysis(outcome = "RR", data = perioOxy, study = perioOxy$trial)

# Run same meta-analysis but with odds ratio as outcome metric, Mantel-Haenzel 
# weights and DerSimionian-Laird for the variance estimate 
metaanalysis(outcome = "OR", data = perioOxy, study = perioOxy$trial,
 weights = "MH", re_method = "DL")
 
# Run meta-analysis with mean difference as outcome metric
data(eds)
metaanalysis(outcome = "MD", data = eds)

### Retrospective sample size calculation
# minimal clinical relevant difference set to an odds ratio of 0.7.
ma &lt;- metaanalysis(outcome = "OR", data = perioOxy, mc = 0.7)
ma$ris
</code></pre>

<hr>
<h2 id='minTrial'>Minimum number of trials needed for a specific level of power</h2><span id='topic+minTrial'></span>

<h3>Description</h3>

<p>Calculates minimum number of trials needed to achieve power in a meta-analysis with
heterogeneity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>minTrial(
  outcome,
  mc,
  tau2,
  alpha,
  beta,
  side,
  pC = NULL,
  p1 = NULL,
  var_mc = NULL,
  var_random = NULL,
  trials = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="minTrial_+3A_outcome">outcome</code></td>
<td>
<p>Metric of interest, options include &quot;RR&quot; (relative risk), &quot;OR&quot; (odds ratio), &quot;RD&quot; (risk difference) and &quot;MD&quot; (mean difference).</p>
</td></tr>
<tr><td><code id="minTrial_+3A_mc">mc</code></td>
<td>
<p>Minimal clinical relevant value provided as a numeric value. Such as 0.8 for e.g. an odds ratio of 0.8.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_tau2">tau2</code></td>
<td>
<p>Heterogeneity estimate. Can be extracted from the metaanalysis() function.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_alpha">alpha</code></td>
<td>
<p>The level of type I error as a percentage, the default is 0.05 corresponding to 5%.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_beta">beta</code></td>
<td>
<p>The level of type II error as a percentage, the default is 0.1 corresponding to 10%.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_side">side</code></td>
<td>
<p>Whether a 1- or 2-sided hypothesis test is used. Options are 1 or 2.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_pc">pC</code></td>
<td>
<p>Probability of event in control group. Only used for outcomes &quot;RR&quot;, &quot;OR&quot; and &quot;RD&quot;.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_p1">p1</code></td>
<td>
<p>Probability of event in treatment group. Only used for outcome &quot;RD&quot;.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_var_mc">var_mc</code></td>
<td>
<p>Variance of the estimated effect when outcome is &quot;MD&quot;. Not required for outcome types &quot;OR&quot;, &quot;RR&quot; or &quot;RD&quot;.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_var_random">var_random</code></td>
<td>
<p>Estimated variance from the random-effects meta-analysis. Used then a meta-analysis have already been made previously.</p>
</td></tr>
<tr><td><code id="minTrial_+3A_trials">trials</code></td>
<td>
<p>Optional argument. Number of trials of interest for to provide the number of participants needed for that exact number of trials.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either a number (minimum required trials) or the minimum required
required trials together with a matrix of required participants per trial given
different number of trials.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Minimum number of trials for a prospective meta-analysis
minTrial(outcome = "RR", pC = 0.5, mc = 0.7, tau2 = 0.05, alpha = 0.05,
beta = 0.1, side = 2)

# Minimum number of trials still needed for a retrospective meta-analysis
# Note that retrospective sample size calculations are prone to bias
ma &lt;- metaanalysis(outcome = "RR", data = perioOxy)
ris(outcome = "RR", mc = 0.80, ma = ma, type = "retrospective", fixed = FALSE,
 beta = 0.1, alpha = 0.05, side = 2)

</code></pre>

<hr>
<h2 id='perioOxy'>Dataset of RCTs investigating the effect of 80% perioperative oxygen vs. 30
-35% perioperative oxygen on surgical site infection.</h2><span id='topic+perioOxy'></span>

<h3>Description</h3>

<p>A dataset containing data on seven trials which includes their number of events per treatment group, where intervention is 80% oxygen and control is 30-35% oxygen, number of participants in each treatment group and the year of the trial.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>perioOxy
</code></pre>


<h3>Format</h3>

<p>A data frame with 7 rows and 6 variables:
</p>

<dl>
<dt>study</dt><dd><p>Name of first author of the trial</p>
</dd>
<dt>eI</dt><dd><p>Number of events in the intervention group (80% oxygen)</p>
</dd>
<dt>nI</dt><dd><p>Number of perticipants in the intervention group (80% oxygen)</p>
</dd>
<dt>eC</dt><dd><p>Number of events in the control group (30-35% oxygen)</p>
</dd>
<dt>nC</dt><dd><p>Number of participants in the control group (30-35% oxygen)</p>
</dd>
</dl>


<hr>
<h2 id='plot.boundaries'>Plot of boundaries for group sequential designs</h2><span id='topic+plot.boundaries'></span>

<h3>Description</h3>

<p>Plot of boundaries for group sequential designs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'boundaries'
plot(x, theme = "classic", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.boundaries_+3A_x">x</code></td>
<td>
<p>boundaries object</p>
</td></tr>
<tr><td><code id="plot.boundaries_+3A_theme">theme</code></td>
<td>
<p>Whether the theme is &quot;classic&quot; or &quot;aussie&quot;</p>
</td></tr>
<tr><td><code id="plot.boundaries_+3A_...">...</code></td>
<td>
<p>Other arguments to plot.boundaries</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot. Either a plot for two- or one-sided testing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bounds &lt;- boundaries(timing = c(0.5,0.75, 1), alpha  = 0.025, beta = 0.2,
side = 1, futility = "none", es_alpha = "esOF")
plot(x = bounds)

</code></pre>

<hr>
<h2 id='plot.metaanalysis'>Forestplot for metaanalysis object.</h2><span id='topic+plot.metaanalysis'></span>

<h3>Description</h3>

<p>Forestplot for metaanalysis object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'metaanalysis'
plot(x, type = "both", xlims = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.metaanalysis_+3A_x">x</code></td>
<td>
<p>metaanalysis object from the RTSA package.</p>
</td></tr>
<tr><td><code id="plot.metaanalysis_+3A_type">type</code></td>
<td>
<p>Define whether or not both fixed-effect and random-effects meta-analysis results should be printed on the plot. Options are: &quot;fixed&quot;, &quot;random&quot; or &quot;both&quot;. Default is &quot;both&quot;.</p>
</td></tr>
<tr><td><code id="plot.metaanalysis_+3A_xlims">xlims</code></td>
<td>
<p>Set default limits on the outcome scale. Default is NULL.</p>
</td></tr>
<tr><td><code id="plot.metaanalysis_+3A_...">...</code></td>
<td>
<p>Additional arguments</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Example with OR 
ma &lt;- metaanalysis(data = coronary, outcome = "OR")
plot(ma)

# Example with RR 
ma &lt;- metaanalysis(data = perioOxy, outcome = "RR")
plot(ma)

# Example with MD
ma &lt;- metaanalysis(data = eds, outcome = "MD")
plot(ma, type = "random")
</code></pre>

<hr>
<h2 id='plot.RTSA'>Plot RTSA object. Returns the R version of the original TSA plot.</h2><span id='topic+plot.RTSA'></span>

<h3>Description</h3>

<p>Plot RTSA object. Returns the R version of the original TSA plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'RTSA'
plot(x, model = "random", type = "classic", theme = "classic", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.RTSA_+3A_x">x</code></td>
<td>
<p>RTSA object</p>
</td></tr>
<tr><td><code id="plot.RTSA_+3A_model">model</code></td>
<td>
<p>Whether a fixed- or random-effects meta-analysis should be used. Defaults to random.</p>
</td></tr>
<tr><td><code id="plot.RTSA_+3A_type">type</code></td>
<td>
<p>Should Z-scores (classic) or outcome values (outcome) be plotted.</p>
</td></tr>
<tr><td><code id="plot.RTSA_+3A_theme">theme</code></td>
<td>
<p>Whether the theme is traditional TSA (classic) or modern (modern)</p>
</td></tr>
<tr><td><code id="plot.RTSA_+3A_...">...</code></td>
<td>
<p>Other arguments to plot.RTSA</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Plot. Either a plot for two sided testing or one-sided
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(perioOxy)
outRTSA &lt;- RTSA(type = "analysis", data = perioOxy, outcome = "RR", mc = 0.8,
 side = 2, alpha = 0.05, beta = 0.2, fixed = FALSE, es_alpha = "esOF", design = NULL)
plot(x = outRTSA)

</code></pre>

<hr>
<h2 id='ris'>Calculate required sample and trials size.</h2><span id='topic+ris'></span><span id='topic+print.ris'></span>

<h3>Description</h3>

<p>Calculate required sample and trials size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ris(
  outcome,
  mc,
  side = 2,
  alpha = 0.05,
  beta = 0.1,
  fixed = TRUE,
  sd_mc = NULL,
  pC = NULL,
  p1 = NULL,
  ma = NULL,
  tau2 = NULL,
  I2 = NULL,
  D2 = NULL,
  type = "prospective",
  trials = NULL,
  RTSA = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ris_+3A_outcome">outcome</code></td>
<td>
<p>Choose between: &quot;MD&quot; (mean difference), &quot;RR&quot; (relative risk), &quot;OR&quot; (odds ratio) or &quot;RD&quot; (risk difference).</p>
</td></tr>
<tr><td><code id="ris_+3A_mc">mc</code></td>
<td>
<p>Minimum clinical relevant effect. For &quot;OR&quot; or &quot;RR&quot; set to natural scale, not log scale.</p>
</td></tr>
<tr><td><code id="ris_+3A_side">side</code></td>
<td>
<p>Test type. Set to 1 or 2 depending on the test being 1- or 2-sided.</p>
</td></tr>
<tr><td><code id="ris_+3A_alpha">alpha</code></td>
<td>
<p>The level of type I error as a percentage, the default is 0.05 corresponding to 5%.</p>
</td></tr>
<tr><td><code id="ris_+3A_beta">beta</code></td>
<td>
<p>The level of type II error as a percentage, the default is 0.1 corresponding to 10%.</p>
</td></tr>
<tr><td><code id="ris_+3A_fixed">fixed</code></td>
<td>
<p>Should sample size be based on a fixed-effect (TRUE) or random-effects (FALSE) model. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="ris_+3A_sd_mc">sd_mc</code></td>
<td>
<p>Standard deviation of estimated effect. Only needed when outcome type is &quot;MD&quot;.</p>
</td></tr>
<tr><td><code id="ris_+3A_pc">pC</code></td>
<td>
<p>Probability of event in control group. Only needed when outcome type is &quot;OR&quot;, &quot;RR&quot; or &quot;RD&quot;.</p>
</td></tr>
<tr><td><code id="ris_+3A_p1">p1</code></td>
<td>
<p>Probability of event in treatment group. Only needed when outcome type is &quot;RD&quot;.</p>
</td></tr>
<tr><td><code id="ris_+3A_ma">ma</code></td>
<td>
<p>An optional <code>metaanalysis</code> object. Required for retrospective sample size calculations.</p>
</td></tr>
<tr><td><code id="ris_+3A_tau2">tau2</code></td>
<td>
<p>The value of the heterogeneity. Use when estimating the sample size under a random effects model. If data is provided, the estimated heterogeneity is used instead.</p>
</td></tr>
<tr><td><code id="ris_+3A_i2">I2</code></td>
<td>
<p>Optional argument. Inconsistency.</p>
</td></tr>
<tr><td><code id="ris_+3A_d2">D2</code></td>
<td>
<p>Optional argument. Diversity.</p>
</td></tr>
<tr><td><code id="ris_+3A_type">type</code></td>
<td>
<p>Whehter the type of calculaiton is for &quot;prospective&quot; meta-analysis or &quot;retrospective&quot; meta-analysis. If the type is retrospective, one should add a meta-analysis object to the function. See argument ma.</p>
</td></tr>
<tr><td><code id="ris_+3A_trials">trials</code></td>
<td>
<p>Optional numeric argument. If one is interested in a specific number of trials.</p>
</td></tr>
<tr><td><code id="ris_+3A_rtsa">RTSA</code></td>
<td>
<p>Whether the ris function was called via the RTSA function. Purely operational argument.</p>
</td></tr>
<tr><td><code id="ris_+3A_...">...</code></td>
<td>
<p>additional arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of up to 6 elements:
</p>
<table>
<tr><td><code>settings</code></td>
<td>
<p>A list containing the arguments provided to the <code>ris</code> function.</p>
</td></tr>
<tr><td><code>NF</code></td>
<td>
<p>The total number of required participants in a fixed-effect meta-analysis if type is prospective. Contains a list if the type is retrospective, where <code>NF</code> is the additional required number of participants and <code>NF_full</code> is the total required number of participants.</p>
</td></tr>
<tr><td><code>NR_tau</code></td>
<td>
<p>A list containing: <code>minTrial</code> the minimum number of trials. <code>nPax</code> a matrix containing four possible number of trials with the number of participants per trial and total number of participants. <code>tau2</code> the estimate used for the calculation. Might contain <code>NR_tau_ll</code> and <code>NR_tau_ul</code> which contain the same three elements. <code>NR_tau_ll</code> is based on the lower value in the confidence interval of tau2. <code>NR_tau_ul</code> is based on the upper value in the confidence interval for tau2. If the type is prospective the numbers are the total required. If the type is retrospective the numbers are the additional required.</p>
</td></tr>
<tr><td><code>NR_D2</code></td>
<td>
<p>The total number of required participants in a random-effects meta-analysis adjusted by diversity (<code>D2</code>) if type is prospective. Contains a list if the type is retrospective, where <code>NR_D2</code> is the additional required number of participants and <code>NR_D2_full</code> is the total required number of participants.</p>
</td></tr>
<tr><td><code>NR_I2</code></td>
<td>
<p>The total number of required participants in a random-effects meta-analysis adjusted by inconsistency (<code>I2</code>) if type is prospective. Contains a list if the type is retrospective, where <code>NR_I2</code> is the additional required number of participants and <code>NR_I2_full</code> is the total required number of participants.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'># Sample and trial size calculation for prospective meta-analysis
ris(outcome = "RR", mc = 0.8, pC = 0.12, fixed = TRUE, alpha = 0.05,
beta = 0.1, side = 2)

# Additional sample and trial size calculation for retrospective meta-analysis 
# It is calculated directly from the metaanalysis() function
data("perioOxy")
ma &lt;- metaanalysis(outcome = "RR", data = perioOxy, mc = 0.8, beta = 0.2)
ma$ris
# Or by using the two functions in sequence
ma &lt;- metaanalysis(outcome = "RR", data = perioOxy)
ris(outcome = "RR", mc = 0.8, ma = ma, type = "retrospective", fixed = FALSE,
 beta = 0.2, alpha = 0.05, side = 2)
</code></pre>

<hr>
<h2 id='RTSA'>R version of Trial Sequential Analysis. Used for designing and analysing sequential meta-analyses.</h2><span id='topic+RTSA'></span><span id='topic+print.RTSA'></span>

<h3>Description</h3>

<p>R version of Trial Sequential Analysis. Used for designing and analysing sequential meta-analyses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>RTSA(
  type = "design",
  outcome = NULL,
  side = 2,
  alpha = 0.05,
  beta = 0.1,
  futility = "none",
  es_alpha = "esOF",
  es_beta = NULL,
  timing = NULL,
  data = NULL,
  design = NULL,
  ana_times = NULL,
  fixed = FALSE,
  mc = NULL,
  RRR = NULL,
  sd_mc = NULL,
  pC = NULL,
  weights = "MH",
  re_method = "DL_HKSJ",
  tau_ci_method = "BJ",
  gamma = NULL,
  rho = NULL,
  study = NULL,
  cont_vartype = "equal",
  zero_adj = 0.5,
  tau2 = NULL,
  I2 = NULL,
  D2 = NULL,
  trials = NULL,
  final_analysis = NULL,
  inf_type = "sw",
  conf_level = 0.95,
  random_adj = "tau2",
  power_adj = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RTSA_+3A_type">type</code></td>
<td>
<p>Type of RTSA. Options are &quot;design&quot; or &quot;analysis&quot;.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_outcome">outcome</code></td>
<td>
<p>Outcome metric. Options are: RR (risk ratio/relative risk), OR (odds ratio), RD (risk difference) and MD (mean difference).</p>
</td></tr>
<tr><td><code id="RTSA_+3A_side">side</code></td>
<td>
<p>Whether a 1- or 2-sided hypothesis test is used. Options are 1 or 2. Default is 2.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_alpha">alpha</code></td>
<td>
<p>The level of type I error as a percentage, the default is 0.05 corresponding to 5%.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_beta">beta</code></td>
<td>
<p>The level of type II error as a percentage, the default is 0.1 corresponding to 10%.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_futility">futility</code></td>
<td>
<p>Futility boundaries added to design. Options are: none, non-binding and binding. Default is &quot;none&quot;.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_es_alpha">es_alpha</code></td>
<td>
<p>The spending function for alpha-spending. Options are: esOF (Lan &amp; DeMets version of O'Brien-Fleming), esPoc (Lan &amp; DeMets version of Pocock), HSDC (Hwang Sihi and DeCani) and rho (rho family).</p>
</td></tr>
<tr><td><code id="RTSA_+3A_es_beta">es_beta</code></td>
<td>
<p>The spending function for beta-spending. For options see es_alpha.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_timing">timing</code></td>
<td>
<p>Expected timings of interim analyses when type = &quot;design&quot;. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_data">data</code></td>
<td>
<p>A data.frame containing the study results. The data set must containing a specific set of columns. These are respectively 'eI' (events in intervention group), 'eC' (events in control group), 'nC' (participants intervention group) or 'nI' (participants control group) for discrete data, or, 'mI' (mean intervention group), 'mC' (mean control group), 'sdI' (standard error intervention group), 'sdC' (standard error control group),'nC' (participants intervention group) and 'nI' (participants control group)  for continuous outcomes. Preferable also a 'study' column as an indicator of study.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_design">design</code></td>
<td>
<p>RTSA object where type is design.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_ana_times">ana_times</code></td>
<td>
<p>An optional vector of analysis times. Used if the sequential analysis is not done for all studies included in the meta-analysis.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_fixed">fixed</code></td>
<td>
<p>Should only a fixed-effect meta-analysis be computed. Default is FALSE.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_mc">mc</code></td>
<td>
<p>Minimal clinical relevant outcome value</p>
</td></tr>
<tr><td><code id="RTSA_+3A_rrr">RRR</code></td>
<td>
<p>Relative risk reduction. Used for binary outcomes with outcome metric RR. Argument mc can be used instead. Must be a value between 0 and 1.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_sd_mc">sd_mc</code></td>
<td>
<p>The expected standard deviation. Used for sample size calculation for mean differences.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_pc">pC</code></td>
<td>
<p>The expected probability of event in the control group. Used for sample size calculation for binary outcomes.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_weights">weights</code></td>
<td>
<p>Weighting method options include IV (inverse-variance) and MH (Mantel-Haenszel). Defaults to MH.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_re_method">re_method</code></td>
<td>
<p>Method for calculating the estimate of heterogeneity, tau^2, and the random-effects meta-analysis variance. Options are &quot;DL&quot; for DerSimonian-Laird and &quot;DL_HKSJ&quot; for the Hartung-Knapp-Sidik-Jonkman adjustment of the DerSimonian-Laird estimator.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_tau_ci_method">tau_ci_method</code></td>
<td>
<p>Method for calculating confidence intervals for the estimated heterogeneity tau^2. Options are &quot;QP&quot; for Q-profiling and &quot;BJ&quot; for Biggelstaff ....</p>
</td></tr>
<tr><td><code id="RTSA_+3A_gamma">gamma</code></td>
<td>
<p>Parameter for the HSDC error spending function.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_rho">rho</code></td>
<td>
<p>Parameter for the rho family error spending function.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_study">study</code></td>
<td>
<p>An optional vector of study names and perhaps year of study. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_cont_vartype">cont_vartype</code></td>
<td>
<p>For mean difference outcomes, do we expect the variance in the different groups to be &quot;equal&quot; or &quot;non-equal&quot;.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_zero_adj">zero_adj</code></td>
<td>
<p>Zero adjustment. Options for now is 0.5.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_tau2">tau2</code></td>
<td>
<p>Heterogeneity estimate. Used for sample and trial size calculation. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_i2">I2</code></td>
<td>
<p>Inconsistency estimate. Used for sample and trial size calculation. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_d2">D2</code></td>
<td>
<p>Diversity estimate. Used for sample and trial size calculation. Defaults to NULL.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_trials">trials</code></td>
<td>
<p>Number of anticipated extra trials. Used for heterogeneity adjustment by tau2.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_final_analysis">final_analysis</code></td>
<td>
<p>Whether or not the current analysis is the final analysis.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_inf_type">inf_type</code></td>
<td>
<p>Stopping time confidence interval. Options for now is sw (stage-wise).</p>
</td></tr>
<tr><td><code id="RTSA_+3A_conf_level">conf_level</code></td>
<td>
<p>Confidence level on stopping time confidence interval.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_random_adj">random_adj</code></td>
<td>
<p>The sample size adjustment based on presence of heterogeneity. Options are &quot;D2&quot; (Diversity), &quot;I2&quot; (Inconsistency) and &quot;tau2&quot; (the heterogeneity estimate). Default is &quot;tau2&quot;.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_power_adj">power_adj</code></td>
<td>
<p>Whether the sample size should be adjusted by the sequential design. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="RTSA_+3A_...">...</code></td>
<td>
<p>other arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A RTSA object, a list of five elements:
</p>
<table>
<tr><td><code>settings</code></td>
<td>
<p>A list containing all of the settings used in the <code>RTSA</code> call. See Arguments.</p>
</td></tr>
<tr><td><code>ris</code></td>
<td>
<p>List containing sample and trial size calculations for a non-sequential meta-analysis. See documentation for <code>ris</code> function.</p>
</td></tr>
<tr><td><code>bounds</code></td>
<td>
<p>List of stopping boundaries, timing of trials and more. See documentation for <code>boundaries</code> function.</p>
</td></tr>
<tr><td><code>results</code></td>
<td>
<p>List of 3 to 7 elements. <code>AIS</code> Achieved information size. <code>RIS</code> Fixed-effect required information size for a non-sequential meta-analysis. <code>SMA_RIS</code> RIS adjusted for sequential analysis. <code>HARIS</code> Heterogeneity adjusted required information size for a non-sequential meta-analysis. <code>SMA_HARIS</code> HARIS adjusted for sequential analysis. <code>results_df</code> a data.frame of inference, see documentation for <code>inference</code> function.  <code>seq_inf</code> a list of conditional inference, see documentation for <code>inference</code> function. <code>metaanalysis</code> A metaanalysis object, see documentation for <code>metaanalysis</code> function. <code>design_df</code> a data.frame containing the stopping boundaries and timings from the design.</p>
</td></tr>
<tr><td><code>warnings</code></td>
<td>
<p>List of warnings</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
### Retrospective sequential meta-analysis:
# A RRR of 20% is expected which gives mc = 1 - RRR = 0.8. 
# No futility boundaries
data(perioOxy)
RTSA(type = "analysis", data = perioOxy, outcome = "RR", mc = 0.8, side = 2,
 alpha = 0.05, beta = 0.2, es_alpha = "esOF")

# Set binding futility boundaries
# And use Lan and DeMets' version of Pocock stopping boundaries 
RTSA(type = "analysis", data = perioOxy, outcome = "RR", mc = 0.8, side = 2,
 alpha = 0.05, beta = 0.2, es_alpha = "esOF", futility = "binding",
 es_beta = "esPoc", random_adj = "D2")

# Set non-binding futility boundaries
RTSA(type = "analysis", data = perioOxy, outcome = "RR", mc = 0.8, side = 2,
 alpha = 0.05, beta = 0.2, es_alpha = "esOF", futility = "non-binding",
 es_beta = "esOF")
 
### Design a prospective sequential meta-analysis
# For continuous data without expected heterogeneity
RTSA(type = "design", outcome = "MD", mc = 5, sd_mc = 10, side = 1, 
timing = c(0.33, 0.66, 1), fixed = TRUE,
alpha = 0.025, beta = 0.1, es_alpha = "esOF", futility = "non-binding", 
es_beta = "esPoc")

# For binary outcome
RTSA(type = "design", outcome = "RR", mc = 0.75, side = 1, 
timing = c(0.33, 0.66, 1), pC = 0.1, D2 = 0.1, 
alpha = 0.025, beta = 0.2, es_alpha = "esOF", futility = "non-binding", 
es_beta = "esOF")

# extract sample size calculation
out_rtsa &lt;-  RTSA(type = "design", outcome = "RR", mc = 0.75, side = 1, 
timing = c(0.33, 0.66, 1), pC = 0.1, D2 = 0.1, 
alpha = 0.025, beta = 0.2, es_alpha = "esOF", futility = "non-binding", 
es_beta = "esOF")
out_rtsa$ris

# plot the design
plot(out_rtsa)

# update the design with data as it accumulates (here toy-data)
fake_data &lt;- data.frame(eI = c(10,10), eC = c(13, 11), nI = c(750, 750),
nC = c(750,750))
RTSA(type = "analysis", design = out_rtsa, data = fake_data)

# plot the analysis
an_rtsa &lt;- RTSA(type = "analysis", design = out_rtsa, data = fake_data)
plot(an_rtsa)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

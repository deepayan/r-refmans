<!DOCTYPE html><html><head><title>Help for package recogito</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {recogito}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#annotorious'><p>Annotate images with areas of interest</p></a></li>
<li><a href='#annotorious-shiny'><p>Shiny bindings for annotorious</p></a></li>
<li><a href='#ocv_crop_annotorious'><p>Crop annotations to a bounding box</p></a></li>
<li><a href='#ocv_read_annotorious'><p>Extract the areas of interests of an image</p></a></li>
<li><a href='#openseadragon_areas'><p>A dataset of annotations using openseadragon</p></a></li>
<li><a href='#read_annotorious'><p>Parse annotorious annotations</p></a></li>
<li><a href='#read_recogito'><p>Parse recogito annotations</p></a></li>
<li><a href='#recogito'><p>Annotate text with tags and relations</p></a></li>
<li><a href='#recogito-shiny'><p>Shiny bindings for recogito</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Interactive Annotation of Text and Images</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Annotate text with entities and the relations between them. Annotate areas of interest in images with your labels. 
    Providing 'htmlwidgets' bindings to the 'recogito' <a href="https://github.com/recogito/recogito-js">https://github.com/recogito/recogito-js</a> and 'annotorious' <a href="https://github.com/recogito/annotorious">https://github.com/recogito/annotorious</a> libraries.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/DIGI-VUB/recogito">https://github.com/DIGI-VUB/recogito</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>shiny, magick, opencv, sf</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils, htmlwidgets, htmltools, jsonlite</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-08-17 08:43:47 UTC; jwijffels</td>
</tr>
<tr>
<td>Author:</td>
<td>Jan Wijffels [aut, cre, cph],
  Vrije Universiteit Brussel - DIGI: Brussels Platform for Digital
    Humanities [cph],
  Pelagios Network [cph] (code in inst/htmlwidgets/lib),
  CodePlex Foundation [cph] (code in
    inst/htmlwidgets/lib/openseadragon-2.4.2),
  OpenSeadragon contributors [cph] (code in
    inst/htmlwidgets/lib/openseadragon-2.4.2)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Jan Wijffels &lt;jwijffels@bnosac.be&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-08-17 10:50:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='annotorious'>Annotate images with areas of interest</h2><span id='topic+annotorious'></span>

<h3>Description</h3>

<p>Functionality to label areas in images
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotorious(
  inputId = "annotations",
  src,
  tags = c(),
  type = c("annotorious", "openseadragon", "openseadragon-notoolbar"),
  quickselector = TRUE,
  width = NULL,
  height = NULL,
  elementId = NULL,
  dependencies = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="annotorious_+3A_inputid">inputId</code></td>
<td>
<p>character string with the name to use where annotations will be put into</p>
</td></tr>
<tr><td><code id="annotorious_+3A_src">src</code></td>
<td>
<p>character string with the image/url to annotate</p>
</td></tr>
<tr><td><code id="annotorious_+3A_tags">tags</code></td>
<td>
<p>character vector of possible labels you want to use</p>
</td></tr>
<tr><td><code id="annotorious_+3A_type">type</code></td>
<td>
<p>either <code>'annotorious'</code>, <code>'openseadragon'</code>, <code>'openseadragon-notoolbar'</code> in order to allow zooming with openseadragon or not, with or without a toolbar</p>
</td></tr>
<tr><td><code id="annotorious_+3A_quickselector">quickselector</code></td>
<td>
<p>logical indicating if for type <code>'openseadragon'</code> the possible tags should be shows as quick buttons to click. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="annotorious_+3A_width">width</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
<tr><td><code id="annotorious_+3A_height">height</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
<tr><td><code id="annotorious_+3A_elementid">elementId</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
<tr><td><code id="annotorious_+3A_dependencies">dependencies</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class htmlwidget as returned by <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+annotorious-shiny">annotorious-shiny</a></code>
</p>

<hr>
<h2 id='annotorious-shiny'>Shiny bindings for annotorious</h2><span id='topic+annotorious-shiny'></span><span id='topic+annotoriousOutput'></span><span id='topic+renderAnnotorious'></span><span id='topic+openseadragonOutput'></span><span id='topic+renderOpenSeaDragon'></span><span id='topic+openseadragonOutputNoToolbar'></span><span id='topic+renderOpenSeaDragonNoToolbar'></span>

<h3>Description</h3>

<p>Output and render functions for using annotorious within Shiny applications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>annotoriousOutput(outputId, width = "100%", height = "400px")

renderAnnotorious(expr, env = parent.frame(), quoted = FALSE)

openseadragonOutput(outputId, width = "100%", height = "400px")

renderOpenSeaDragon(expr, env = parent.frame(), quoted = FALSE)

openseadragonOutputNoToolbar(outputId, width = "100%", height = "400px")

renderOpenSeaDragonNoToolbar(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="annotorious-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="annotorious-shiny_+3A_width">width</code>, <code id="annotorious-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="annotorious-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a annotorious</p>
</td></tr>
<tr><td><code id="annotorious-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="annotorious-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An output element for use in a Shiny user interface.<br />
Consisting of a toggle button to switch between rectangle / polygon mode and
the html-widget (id: <code>outputId</code>) which contains an image (id: <code>outputId</code><code>-img</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive() &amp;&amp; require(shiny)){
##
## Annotorious using OpenSeaDragon, allowing to zoom in,
## to select an area, press shift and next select the area
##
library(shiny)
library(recogito)
urls &lt;- paste("https://upload.wikimedia.org/",
              c("wikipedia/commons/a/a0/Pamphlet_dutch_tulipomania_1637.jpg",
                "wikipedia/commons/6/64/Cat_and_dog_standoff_%283926784260%29.jpg"),
              sep = "")
ui &lt;- fluidPage(actionButton(inputId = "ui_switch", label = "Sample image"),
                openseadragonOutput(outputId = "anno"),
                tags$h3("Results"),
                verbatimTextOutput(outputId = "annotation_result"))
server &lt;- function(input, output) {
  current_image &lt;- reactive({
    input$ui_switch
    list(url = sample(urls, size = 1))
  })
  output$anno &lt;- renderOpenSeaDragon({
    info &lt;- current_image()
    annotorious("annotations", tags = c("IMAGE", "TEXT"), src = info$url, type = "openseadragon")
  })
  output$annotation_result &lt;- renderPrint({
    read_annotorious(input$annotations)
  })
}
shinyApp(ui, server)

##
## Annotorious using OpenSeaDragon, allowing to zoom in, no selection possibilities
## showing how to load a local image
##
library(shiny)
library(recogito)
url &lt;- system.file(package = "recogito", "examples", "Pamphlet_dutch_tulipomania_1637.jpg")
addResourcePath(prefix = "img", directoryPath = dirname(url))
ui &lt;- fluidPage(openseadragonOutputNoToolbar(outputId = "anno", width = "100%", height = "250px"))
server &lt;- function(input, output) {
  output$anno &lt;- renderOpenSeaDragonNoToolbar({
    annotorious("annotations", src = sprintf("img/%s", basename(url)),
                 type = "openseadragon-notoolbar")
  })
}
shinyApp(ui, server)

##
## Annotorious without openseadragon
##
library(shiny)
library(recogito)
url &lt;- paste("https://upload.wikimedia.org/",
             "wikipedia/commons/a/a0/Pamphlet_dutch_tulipomania_1637.jpg",
             sep = "")

ui &lt;- fluidPage(annotoriousOutput(outputId = "anno", height = "600px"),
                tags$h3("Results"),
                verbatimTextOutput(outputId = "annotation_result"))
server &lt;- function(input, output) {
  output$anno &lt;- renderAnnotorious({
    annotorious("annotations", tags = c("IMAGE", "TEXT"), src = url, type = "annotorious")
  })
  output$annotation_result &lt;- renderPrint({
    read_annotorious(input$annotations)
  })
}
shinyApp(ui, server)

##
## Annotorious, without openseadragon changing the url
##
library(shiny)
library(recogito)
urls &lt;- paste("https://upload.wikimedia.org/",
              c("wikipedia/commons/a/a0/Pamphlet_dutch_tulipomania_1637.jpg",
                "wikipedia/commons/6/64/Cat_and_dog_standoff_%283926784260%29.jpg"),
              sep = "")

ui &lt;- fluidPage(actionButton(inputId = "ui_switch", label = "Sample image"),
                annotoriousOutput(outputId = "anno", height = "600px"),
                tags$h3("Results"),
                verbatimTextOutput(outputId = "annotation_result"))
server &lt;- function(input, output) {
  current_image &lt;- reactive({
    input$ui_switch
    list(url = sample(urls, size = 1))
  })
  output$anno &lt;- renderAnnotorious({
    info &lt;- current_image()
    annotorious("annotations", tags = c("IMAGE", "TEXT"), src = info$url, type = "annotorious")
  })
  output$annotation_result &lt;- renderPrint({
    read_annotorious(input$annotations)
  })
}
shinyApp(ui, server)

}
</code></pre>

<hr>
<h2 id='ocv_crop_annotorious'>Crop annotations to a bounding box</h2><span id='topic+ocv_crop_annotorious'></span>

<h3>Description</h3>

<p>Crop annotations to a bounding box
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ocv_crop_annotorious(data, bbox)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ocv_crop_annotorious_+3A_data">data</code></td>
<td>
<p>an object as returned by <code><a href="#topic+read_annotorious">read_annotorious</a></code></p>
</td></tr>
<tr><td><code id="ocv_crop_annotorious_+3A_bbox">bbox</code></td>
<td>
<p>a vector with elements x, y, xmax, ymax</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data</code> where column <code>polygon</code> and the rectangle information in <code>x, y, width, height</code> is limited to the provided bounding box
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(opencv)
data(openseadragon_areas)

url  &lt;- attr(openseadragon_areas, "src")
img  &lt;- ocv_read(url)
bbox &lt;- ocv_info(img)
bbox &lt;- c(xmin = 0, ymin = 0, xmax = bbox$width - 1, ymax = bbox$height - 1)
x    &lt;- ocv_crop_annotorious(data = openseadragon_areas)
x    &lt;- ocv_crop_annotorious(data = openseadragon_areas, bbox = bbox)

img
area &lt;- x[2, ]
ocv_polygon(img, pts = area$polygon[[1]], crop = TRUE)
area &lt;- x[1, ]
ocv_rectangle(img, x = area$x, y = area$y, width = area$width, height = area$height)
area &lt;- x[3, ]
ocv_rectangle(img, x = area$x, y = area$y, width = area$width, height = area$height)

</code></pre>

<hr>
<h2 id='ocv_read_annotorious'>Extract the areas of interests of an image</h2><span id='topic+ocv_read_annotorious'></span>

<h3>Description</h3>

<p>Extract the areas of interests of an image
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ocv_read_annotorious(data, image)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ocv_read_annotorious_+3A_data">data</code></td>
<td>
<p>an object as returned by <code><a href="#topic+read_annotorious">read_annotorious</a></code></p>
</td></tr>
<tr><td><code id="ocv_read_annotorious_+3A_image">image</code></td>
<td>
<p>an ocv image object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of ocv images with the extracted areas of interest
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(opencv)
library(magick)
data(openseadragon_areas)

url  &lt;- attr(openseadragon_areas, "src")
img  &lt;- ocv_read(url)

areas &lt;- ocv_read_annotorious(data = openseadragon_areas, image = img)
areas[[1]]
areas[[2]]
img &lt;- lapply(areas, FUN = function(x) image_read(ocv_bitmap(x)))
img &lt;- do.call(c, img)
img &lt;- image_append(img, stack = FALSE)
image_resize(img, "x200")

</code></pre>

<hr>
<h2 id='openseadragon_areas'>A dataset of annotations using openseadragon</h2><span id='topic+openseadragon_areas'></span>

<h3>Description</h3>

<p>A dataset of annotations using openseadragon
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(openseadragon_areas)
openseadragon_areas
attr(openseadragon_areas, "src")
</code></pre>

<hr>
<h2 id='read_annotorious'>Parse annotorious annotations</h2><span id='topic+read_annotorious'></span>

<h3>Description</h3>

<p>Parse annotorious annotations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_annotorious(x, src = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_annotorious_+3A_x">x</code></td>
<td>
<p>a character string with json as returned by the htmlwidget</p>
</td></tr>
<tr><td><code id="read_annotorious_+3A_src">src</code></td>
<td>
<p>a character string with the image src which was used in <code>x</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with annotations with columns: id, type, label, comment, x, y, width, height, polygon
and an attribute <code>src</code> with the provided <code>src</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>url &lt;- paste("https://upload.wikimedia.org/",
             "wikipedia/commons/a/a0/Pamphlet_dutch_tulipomania_1637.jpg",
             sep = "")
url &lt;- system.file(package = "recogito", "examples", "Pamphlet_dutch_tulipomania_1637.jpg")
x &lt;- '[
{
"type":"Annotation",
"body":[{"type":"TextualBody","value":"IMAGE","purpose":"tagging"}],
"target":{"selector":{
  "type":"FragmentSelector",
  "conformsTo":"http://www.w3.org/TR/media-frags/",
  "value":"xywh=pixel:41,249.5234375,371,245"}},
"@context":"http://www.w3.org/ns/anno.jsonld",
"id":"#58f0096c-4675-4ea8-9f38-bffce0887ab8"
},
{
"type":"Annotation",
"body":[{"type":"TextualBody","value":"TEXT","purpose":"tagging"}],
"target":{"selector":{
  "type":"FragmentSelector",
  "conformsTo":"http://www.w3.org/TR/media-frags/",
  "value":"xywh=pixel:46,5.523437976837158,371,239.99999952316284"}},
"@context":"http://www.w3.org/ns/anno.jsonld",
"id":"#50035dda-c62b-4f30-bf95-1879d60288a5"}]'
anno &lt;- read_annotorious(x, src = url)
anno


library(magick)
img  &lt;- image_read(url)
area &lt;- head(anno, n = 1)
image_crop(img, geometry_area(x = area$x, y = area$y,
                              width = area$width, height = area$height))
area &lt;- subset(anno, type == "RECTANGLE")
allrectangles &lt;- Map(
  x      = area$x,
  y      = area$y,
  width  = area$width,
  height = area$height,
  f = function(x, y, width, height){
    image_crop(img, geometry_area(x = x, y = y, width = width, height = height))
})
allrectangles &lt;- do.call(c, allrectangles)
allrectangles



x &lt;- '[
{
  "type":"Annotation",
  "body":[{"type":"TextualBody","value":"IMAGE","purpose":"tagging"}],
  "target":{"selector":{
    "type":"FragmentSelector",
    "conformsTo":"http://www.w3.org/TR/media-frags/",
    "value":"xywh=pixel:43,244.5234375,362,252"
    }},
 "@context":"http://www.w3.org/ns/anno.jsonld",
 "id":"#4eaa8788-0c7e-42d2-b004-4d66b57018a1"},
{
  "type":"Annotation",
  "body":[{"type":"TextualBody","value":"TEXT","purpose":"tagging"}],
  "target":{"selector":{
    "type":"SvgSelector",
    "value":"&lt;svg&gt;
    &lt;polygon points=\\\"75,4 75,58 32,95 32,194 410,195 391,70 373,63 368,3 222,1.5\\\"&gt;
    &lt;/polygon&gt;&lt;/svg&gt;"}},
  "@context":"http://www.w3.org/ns/anno.jsonld",
  "id":"#8bf0a557-c847-4a07-91bc-68a98c499615"}]'
x    &lt;- gsub(x, pattern = "\n", replacement = "")
anno &lt;- read_annotorious(x, src = url)
anno
anno$polygon


library(opencv)
img  &lt;- ocv_read(url)
area &lt;- subset(anno, type == "POLYGON")
ocv_polygon(img, pts = area$polygon[[1]])

</code></pre>

<hr>
<h2 id='read_recogito'>Parse recogito annotations</h2><span id='topic+read_recogito'></span>

<h3>Description</h3>

<p>Parse recogito annotations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read_recogito(x, text = character())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read_recogito_+3A_x">x</code></td>
<td>
<p>a character string with json as returned by the htmlwidget</p>
</td></tr>
<tr><td><code id="read_recogito_+3A_text">text</code></td>
<td>
<p>a character string with the text which was used in <code>x</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame with annotations with columns: id, type, label, chunk_text, chunk_start, chunk_end, relation_from, relation_to, chunk_comment
and an attribute <code>text</code> with the provided <code>text</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- '[
{
"type":"Annotation",
"body":[
   {"type":"TextualBody","value":"sdfsd","purpose":"commenting"},
   {"type":"TextualBody","value":"Person","purpose":"tagging"}],
"target":{"selector":[
  {"type":"TextQuoteSelector","exact":"ngenious hero"},
  {"type":"TextPositionSelector","start":42,"end":55}]},
"@context":"http://www.w3.org/ns/anno.jsonld",
"id":"#a4ea53d4-69f3-4392-a3dd-cbb7e9ad50cb"
},
{
"type":"Annotation",
"body":[{"type":"TextualBody","value":"Person","purpose":"tagging"},
  {"type":"TextualBody","value":"Location","purpose":"tagging"}],
"target":{"selector":[{"type":"TextQuoteSelector","exact":"far and"},
  {"type":"TextPositionSelector","start":70,"end":77}]},
"@context":"http://www.w3.org/ns/anno.jsonld",
"id":"#d7050196-2537-42bf-9d1b-a3f9e4c9fbc6"
}
]'
read_recogito(x)
</code></pre>

<hr>
<h2 id='recogito'>Annotate text with tags and relations</h2><span id='topic+recogito'></span>

<h3>Description</h3>

<p>Functionality to tag text with entities and relations between these
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recogito(
  inputId = "annotations",
  text,
  type = c("relations", "tags"),
  tags = c("Location", "Person", "Place", "Other"),
  mode = c("html", "pre"),
  annotations = "{}",
  width = NULL,
  height = NULL,
  elementId = NULL,
  dependencies = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recogito_+3A_inputid">inputId</code></td>
<td>
<p>character string with the name to use where annotations will be put into</p>
</td></tr>
<tr><td><code id="recogito_+3A_text">text</code></td>
<td>
<p>character string with the text to annotate</p>
</td></tr>
<tr><td><code id="recogito_+3A_type">type</code></td>
<td>
<p>either 'relations' or 'tags' in order to label relations between tags or only plain tags</p>
</td></tr>
<tr><td><code id="recogito_+3A_tags">tags</code></td>
<td>
<p>character vector of possible tags</p>
</td></tr>
<tr><td><code id="recogito_+3A_mode">mode</code></td>
<td>
<p>either 'html' or 'pre'</p>
</td></tr>
<tr><td><code id="recogito_+3A_annotations">annotations</code></td>
<td>
<p>character string with a predefined set of annotations</p>
</td></tr>
<tr><td><code id="recogito_+3A_width">width</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
<tr><td><code id="recogito_+3A_height">height</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
<tr><td><code id="recogito_+3A_elementid">elementId</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
<tr><td><code id="recogito_+3A_dependencies">dependencies</code></td>
<td>
<p>passed on to <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class htmlwidget as returned by <code><a href="htmlwidgets.html#topic+createWidget">createWidget</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+recogito-shiny">recogito-shiny</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>txt &lt;- "Josh went to the bakery in Brussels.\nWhat an adventure!"
x   &lt;- recogito(inputId = "annotations", txt)
x
x   &lt;- recogito(inputId = "annotations", txt, type = "tags",
                tags = c("LOCATION", "TIME", "PERSON"))
x
txt &lt;- "Lorem ipsum dolor sit amet consectetur adipiscing elit Quisque tellus urna
  placerat in tortor ac imperdiet sollicitudin mi Integer vel dolor mollis feugiat
  sem eu porttitor elit Sed aliquam urna sed placerat euismod In risus sem ornare
  nec malesuada eu ornare quis dui Nunc finibus fermentum sollicitudin Fusce vel
  imperdiet mi ac faucibus leo Cras massa massa ultricies et justo vitae molestie
  auctor turpis Vestibulum euismod porta risus euismod dapibus Nullam facilisis
  ipsum sed est tempor et aliquam sapien auctor Aliquam velit ligula convallis a
  dui id varius bibendum quam Cras malesuada nec justo sed
  aliquet Fusce urna magna malesuada"
x   &lt;- recogito(inputId = "annotations", txt)
x
x   &lt;- recogito(inputId = "annotations", txt, type = "tags",
                tags = c("LOCATION", "TIME", "PERSON", "OTHER"))
x

##
## Color the tags by specifying CSS - they should have .tag-{TAGLABEL}
##
library(htmltools)
cat(readLines(system.file(package = "recogito", "examples", "example.css")), sep = "\n")
tagsetcss &lt;- htmlDependency(name = "mytagset", version = "1.0",
                            src = system.file(package = "recogito", "examples"),
                            stylesheet = "example.css")
x   &lt;- recogito(inputId = "annotations", txt,
                tags = c("LOCATION", "TIME", "PERSON", "OTHER"),
                dependencies = tagsetcss)
x
</code></pre>

<hr>
<h2 id='recogito-shiny'>Shiny bindings for recogito</h2><span id='topic+recogito-shiny'></span><span id='topic+recogitoOutput'></span><span id='topic+renderRecogito'></span><span id='topic+recogitotagsonlyOutput'></span><span id='topic+renderRecogitotagsonly'></span>

<h3>Description</h3>

<p>Output and render functions for using recogito within Shiny
applications and interactive Rmd documents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>recogitoOutput(outputId, width = "100%", height = "400px")

renderRecogito(expr, env = parent.frame(), quoted = FALSE)

recogitotagsonlyOutput(outputId, width = "100%", height = "400px")

renderRecogitotagsonly(expr, env = parent.frame(), quoted = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="recogito-shiny_+3A_outputid">outputId</code></td>
<td>
<p>output variable to read from</p>
</td></tr>
<tr><td><code id="recogito-shiny_+3A_width">width</code>, <code id="recogito-shiny_+3A_height">height</code></td>
<td>
<p>Must be a valid CSS unit (like <code>'100%'</code>,
<code>'400px'</code>, <code>'auto'</code>) or a number, which will be coerced to a
string and have <code>'px'</code> appended.</p>
</td></tr>
<tr><td><code id="recogito-shiny_+3A_expr">expr</code></td>
<td>
<p>An expression that generates a recogito</p>
</td></tr>
<tr><td><code id="recogito-shiny_+3A_env">env</code></td>
<td>
<p>The environment in which to evaluate <code>expr</code>.</p>
</td></tr>
<tr><td><code id="recogito-shiny_+3A_quoted">quoted</code></td>
<td>
<p>Is <code>expr</code> a quoted expression (with <code>quote()</code>)? This
is useful if you want to save an expression in a variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An output element for use in a Shiny user interface.<br />
Consisting of a div of class plaintext which contains an optional toggle button to switch
between annotation / relation mode (id: <code>outputId</code><code>-toggle</code>) and
the html-widget (id: <code>outputId</code>)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive() &amp;&amp; require(shiny)){

##
## Tagging only, no relations
##
library(shiny)
library(recogito)
txt &lt;- "Josh went to the bakery in Brussels.\nWhat an adventure!"
ui &lt;- fluidPage(tags$h3("Provide some text to annotate"),
                textAreaInput(inputId = "ui_text", label = "Provide some text", value = txt),
                tags$h3("Annotation area"),
                recogitotagsonlyOutput(outputId = "annotation_text"),
                tags$hr(),
                tags$h3("Results"),
                verbatimTextOutput(outputId = "annotation_result"))
server &lt;- function(input, output) {
  output$annotation_text &lt;- renderRecogitotagsonly({
    recogito("annotations", text = input$ui_text, tags = c("LOCATION", "TIME", "PERSON"))
  })
  output$annotation_result &lt;- renderPrint({
    read_recogito(input$annotations)
  })
}
shinyApp(ui, server)

##
## Tagging and relations
##
library(shiny)
library(recogito)
txt &lt;- "Josh went to the bakery in Brussels.\nWhat an adventure!"
ui &lt;- fluidPage(tags$h3("Provide some text to annotate"),
                textAreaInput(inputId = "ui_text", label = "Provide some text", value = txt),
                tags$h3("Annotation area"),
                recogitoOutput(outputId = "annotation_text"),
                tags$hr(),
                tags$h3("Results"),
                verbatimTextOutput(outputId = "annotation_result"))
server &lt;- function(input, output) {
  output$annotation_text &lt;- renderRecogito({
    recogito("annotations", text = input$ui_text, tags = c("LOCATION", "TIME", "PERSON"))
  })
  output$annotation_result &lt;- renderPrint({
    read_recogito(input$annotations)
  })
}
shinyApp(ui, server)

}

recogitoOutput(outputId = "annotation_text")
recogitotagsonlyOutput(outputId = "annotation_text")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package amerifluxr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {amerifluxr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#amf_base'><p>BASE data example</p></a></li>
<li><a href='#amf_bif'><p>BADM data example</p></a></li>
<li><a href='#amf_check_site_id'><p>Check valid AmeriFlux site ID</p></a></li>
<li><a href='#amf_data_coverage'><p>Returns a list of data coverage</p></a></li>
<li><a href='#amf_download_base'><p>Download AmeriFlux BASE data product</p></a></li>
<li><a href='#amf_download_bif'><p>Download AmeriFlux BADM data product</p></a></li>
<li><a href='#amf_extract_badm'><p>Extract BADM data of a specific BADM group</p></a></li>
<li><a href='#amf_filter_base'><p>Filter AmeriFlux BASE data based on plausible range</p></a></li>
<li><a href='#amf_list_data'><p>Get BASE data variable availability</p></a></li>
<li><a href='#amf_list_metadata'><p>Get metadata availability</p></a></li>
<li><a href='#amf_parse_basename'><p>Parse BASE data variable name and qualifier</p></a></li>
<li><a href='#amf_plot_datasummary'><p>Plot data summary</p></a></li>
<li><a href='#amf_plot_datayear'><p>Plot data availability</p></a></li>
<li><a href='#amf_read_base'><p>Read AmeriFlux BASE data product</p></a></li>
<li><a href='#amf_read_bif'><p>Read AmeriFlux BADM data product</p></a></li>
<li><a href='#amf_site_info'><p>Get AmeriFlux site general info</p></a></li>
<li><a href='#amf_sites'><p>Lists AmeriFlux sites</p></a></li>
<li><a href='#amf_summarize_data'><p>Get BASE data summary</p></a></li>
<li><a href='#amf_var_info'><p>Get variable information</p></a></li>
<li><a href='#amf_variables'><p>Get FP (Flux-Processing) Standard Variable List</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface to 'AmeriFlux' Data Services</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Programmatic interface to the 'AmeriFlux' database
    (<a href="https://ameriflux.lbl.gov/">https://ameriflux.lbl.gov/</a>). Provide query, download,
    and data summary tools.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-3-Clause">BSD_3_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/chuhousen/amerifluxr">https://github.com/chuhousen/amerifluxr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/chuhousen/amerifluxr/issues">https://github.com/chuhousen/amerifluxr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>heatmaply, httr, jsonlite, memoise, RCurl, readxl, tools</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, data.table, knitr, pander, qpdf, remotes, rmarkdown,
testthat, mockr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-02-08 00:21:08 UTC; HChu</td>
</tr>
<tr>
<td>Author:</td>
<td>Housen Chu <a href="https://orcid.org/0000-0002-8131-4938"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre],
  Koen Hufkens <a href="https://orcid.org/0000-0002-5070-8109"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Housen Chu &lt;hchu@lbl.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-02-08 16:30:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='amf_base'>BASE data example</h2><span id='topic+amf_base'></span>

<h3>Description</h3>

<p>Continuous flux/met data (i.e., AmeriFlux BASE data product) for the
US-CRT site, as an example for demonstration. Also see AmeriFlux webpage
<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base">https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base</a> for
variable definitions and details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_base
</code></pre>


<h3>Format</h3>

<p>A data frame with 336 rows and 36 variables
</p>


<h3>Details</h3>


<ul>
<li><p> TIMESTAMP_START - ISO timestamp start of averaging period
(YYYYMMDDHHMM)
</p>
</li>
<li><p> TIMESTAMP_END - ISO timestamp end of averaging period (YYYYMMDDHHMM)
</p>
</li>
<li><p> CO2 - Carbon Dioxide (CO2) mole fraction in wet air (µmolCO2 mol-1)
</p>
</li>
<li><p> H2O - Water (H2O) vapor in mole fraction of wet air (mmolH2O mol-1)
</p>
</li>
<li><p> FC - Carbon Dioxide (CO2) turbulent flux (µmolCO2 m-2 s-1)
</p>
</li>
<li><p> NEE_PI - Net Ecosystem Exchange (µmolCO2 m-2 s-1)
</p>
</li>
<li><p> CH4 - Methane (CH4) mole fraction in wet air (nmolCH4 mol-1)
</p>
</li>
<li><p> FCH4 - Methane (CH4) turbulent flux (nmolCH4 m-2 s-1)
</p>
</li>
<li><p> H - Sensible heat turbulent flux (W m-2)
</p>
</li>
<li><p> LE - Latent heat turbulent flux (W m-2)
</p>
</li>
<li><p> G_1_1_1 - Soil heat flux at horizontal location #1 (W m-2)
</p>
</li>
<li><p> G_2_1_1 - Soil heat flux at horizontal location #2 (W m-2)
</p>
</li>
<li><p> WD - Wind direction (Decimal degrees)
</p>
</li>
<li><p> WS - Wind speed (m s-1)
</p>
</li>
<li><p> USTAR - Friction velocity (m s-1)
</p>
</li>
<li><p> ZL - data value
</p>
</li>
<li><p> MO_LENGTH - Monin-Obukhov Stability parameter (nondimensional)
</p>
</li>
<li><p> W_SIGMA - Standard deviation of vertical velocity fluctuations
(m s-1)
</p>
</li>
<li><p> V_SIGMA - Standard deviation of lateral velocity fluctuations
(m s-1)
</p>
</li>
<li><p> U_SIGMA - Standard deviation of along-wind velocity fluctuations
(m s-1)
</p>
</li>
<li><p> T_SONIC - Sonic temperature (deg C)
</p>
</li>
<li><p> T_SONIC_SIGMA - Standard deviation of sonic temperature (deg C)
</p>
</li>
<li><p> PA - Atmospheric pressure (kPa)
</p>
</li>
<li><p> RH - Relative humidity (%)
</p>
</li>
<li><p> TA - Air temperature (deg C)
</p>
</li>
<li><p> TS_1_1_1 - Soil temperature at horizontal location #1 (deg C)
</p>
</li>
<li><p> TS_2_1_1 - Soil temperature at horizontal location #2 (deg C)
</p>
</li>
<li><p> WTD - Water table depth (m)
</p>
</li>
<li><p> SWC - Soil water content (%)
</p>
</li>
<li><p> NETRAD - Net radiation (W m-2)
</p>
</li>
<li><p> PPFD_IN - Photosynthetic photon flux density, incoming
(µmolPhoton m-2 s-1)
</p>
</li>
<li><p> SW_IN - Shortwave radiation, incoming (W m-2)
</p>
</li>
<li><p> SW_OUT - Shortwave radiation, outgoing (W m-2)
</p>
</li>
<li><p> LW_IN - Longwave radiation, incoming (W m-2)
</p>
</li>
<li><p> LW_OUT - Longwave radiation, outgoing (W m-2)
</p>
</li>
<li><p> P - Rainfall (mm)
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://ameriflux.lbl.gov/">https://ameriflux.lbl.gov/</a>
</p>

<hr>
<h2 id='amf_bif'>BADM data example</h2><span id='topic+amf_bif'></span>

<h3>Description</h3>

<p>The BADM file provides a description, general background, geo-location,
relevant publications and references for the site. The BADM files also
list what is measured at the site (this list may include chamber, gradient
or other eddy covariance measurements that are a super-set of the data
available in AmeriFlux). Also see AmeriFlux web page
<a href="https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/">https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/</a>
for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_bif
</code></pre>


<h3>Format</h3>

<p>A data frame with 443 rows and 5 variables
</p>


<h3>Details</h3>


<ul>
<li><p> SITE_ID - 6 digit AmeriFlux site ID (CC-Sss)
</p>
</li>
<li><p> GROUP_ID - A unique identifier for data entries belonging to the same
instance of a reported variable group
</p>
</li>
<li><p> VARIABLE_GROUP - Define a set of variables that are reported together
</p>
</li>
<li><p> VARIABLE - Variable names
</p>
</li>
<li><p> DATAVALUE - Data value
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://ameriflux.lbl.gov/">https://ameriflux.lbl.gov/</a>
</p>

<hr>
<h2 id='amf_check_site_id'>Check valid AmeriFlux site ID</h2><span id='topic+amf_check_site_id'></span>

<h3>Description</h3>

<p>Check if the character is a valid AmeriFlux site ID (CC-Sss)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_check_site_id(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_check_site_id_+3A_x">x</code></td>
<td>
<p>A vector or scalar of characters</p>
</td></tr>
</table>


<h3>Value</h3>

<p>logical vector or scalar
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Check if valid site ID
check_id &lt;- amf_check_site_id(c("US-CRT", "US-crt", "USCRT"))


## End(Not run)

</code></pre>

<hr>
<h2 id='amf_data_coverage'>Returns a list of data coverage</h2><span id='topic+amf_data_coverage'></span>

<h3>Description</h3>

<p>AmeriFlux data coverage statistics
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_data_coverage(data_product = "BASE-BADM", data_policy = "CCBY4.0")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_data_coverage_+3A_data_product">data_product</code></td>
<td>
<p>A scalar of character specifying the data product
Currently, only &quot;BASE-BADM&quot; is supported.</p>
</td></tr>
<tr><td><code id="amf_data_coverage_+3A_data_policy">data_policy</code></td>
<td>
<p>A scalar of character specifying the data policy
Currently, &quot;CCBY4.0&quot; and &quot;LEGACY&quot; are supported. The default is &quot;CCBY4.0&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>AmeriFlux data coverage
</p>

<ul>
<li><p> SITE_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> URL -  Site page link (url)
</p>
</li>
<li><p> publish_years - List of data available years (YYYY)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# download the variable availability
data_year &lt;- amf_data_coverage()

# download variable availability for LEGACY policy
data_year &lt;- amf_data_coverage(data_policy = "LEGACY")

## End(Not run)

</code></pre>

<hr>
<h2 id='amf_download_base'>Download AmeriFlux BASE data product</h2><span id='topic+amf_download_base'></span>

<h3>Description</h3>

<p>This function downloads AmeriFlux BASE and BADM data files.
Note: Access to AmeriFlux data requires creating an AmeriFlux account
first. Register an account through the link
<a href="https://ameriflux-data.lbl.gov/Pages/RequestAccount.aspx">https://ameriflux-data.lbl.gov/Pages/RequestAccount.aspx</a>.
</p>
<p>For details about BASE and BADM data files, see AmeriFlux web pages
<a href="https://ameriflux.lbl.gov/data/data-processing-pipelines/base-publish/">https://ameriflux.lbl.gov/data/data-processing-pipelines/base-publish/</a>
and <a href="https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/">https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_download_base(
  user_id,
  user_email,
  site_id,
  data_product = "BASE-BADM",
  data_policy,
  agree_policy,
  intended_use,
  intended_use_text,
  out_dir = tempdir(),
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_download_base_+3A_user_id">user_id</code></td>
<td>
<p>AmeriFlux account username (character)</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_user_email">user_email</code></td>
<td>
<p>AmeriFlux account user email (character)</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_site_id">site_id</code></td>
<td>
<p>A scalar or vector of character specifying the AmeriFlux
Site ID (CC-Sss)</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_data_product">data_product</code></td>
<td>
<p>AmeriFlux data product. Currently, only &quot;BASE-BADM&quot; is
supported and used as default. (character)</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_data_policy">data_policy</code></td>
<td>
<p>&quot;CCBY4.0&quot; or &quot;LEGACY&quot; (character). AmeriFlux data
are shared under two tiers of licenses as chosen by site's  PI. See
<a href="https://ameriflux.lbl.gov/data/data-policy/#data-use">https://ameriflux.lbl.gov/data/data-policy/#data-use</a> for data use
guidelines under each license. Note: Data use policy
selected affects which sites’ data are available for download.</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_agree_policy">agree_policy</code></td>
<td>
<p>Acknowledge you read and agree to the AmeriFlux
Data use policy (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_intended_use">intended_use</code></td>
<td>
<p>The intended use category. Currently, it needs to be one
of the followings:
</p>

<ul>
<li><p> &quot;synthesis&quot; (i.e., Multi-site synthesis)
</p>
</li>
<li><p> &quot;model&quot; (i.e., Land model/Earth system model)
</p>
</li>
<li><p> &quot;remote_sensing&quot; (i.e., Remote sensing research)
</p>
</li>
<li><p> &quot;other_research&quot; (i.e., Other research)
&quot;</p>
</li>
<li><p> &quot;education&quot; (i.e., Education (Teacher or Student))
</p>
</li>
<li><p> &quot;other&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="amf_download_base_+3A_intended_use_text">intended_use_text</code></td>
<td>
<p>Enter a brief description of intended use. This
will be recorded in the download log and emailed to site's PI (character).</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_out_dir">out_dir</code></td>
<td>
<p>Output directory for downloaded data, default tempdir()</p>
</td></tr>
<tr><td><code id="amf_download_base_+3A_verbose">verbose</code></td>
<td>
<p>Show feedback on download progress (TRUE/FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of download file names on the local drive
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Download a single site, under CCBY4.0 policy
amf_download_base(user_id = "test",
 user_email = "test _at_ mail.com",
 site_id = "US-CRT",
 data_product = "BASE-BADM",
 data_policy = "CCBY4.0",
 agree_policy = TRUE,
 intended_use = "other",
 intended_use_text = "testing download",
 out_dir = tempdir())

## Download several sites, under LEGACY data policy
#  When finished, return a list of downloaded files
#  in your local drive.
file.ls &lt;- amf_download_base(user_id = "test",
 user_email = "test _at_ mail.com",
 site_id = c("US-CRT", "US-WPT", "US-Oho"),
 data_product = "BASE-BADM",
 data_policy = "LEGACY",
 agree_policy = TRUE,
 intended_use = "other",
 intended_use_text = "testing download",
 out_dir = tempdir())

## End(Not run)

</code></pre>

<hr>
<h2 id='amf_download_bif'>Download AmeriFlux BADM data product</h2><span id='topic+amf_download_bif'></span>

<h3>Description</h3>

<p>This function downloads all AmeriFlux sites' BADM
data files in a single file. Note: Access to AmeriFlux data requires
creating an AmeriFlux account first.
Register an account through the link
<a href="https://ameriflux-data.lbl.gov/Pages/RequestAccount.aspx">https://ameriflux-data.lbl.gov/Pages/RequestAccount.aspx</a>.
</p>
<p>For details about BADM data files, see AmeriFlux web page
<a href="https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/">https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_download_bif(
  user_id,
  user_email,
  data_policy,
  agree_policy,
  intended_use,
  intended_use_text,
  out_dir = tempdir(),
  verbose = TRUE,
  site_w_data = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_download_bif_+3A_user_id">user_id</code></td>
<td>
<p>AmeriFlux account username (character)</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_user_email">user_email</code></td>
<td>
<p>AmeriFlux account user email (character)</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_data_policy">data_policy</code></td>
<td>
<p>&quot;CCBY4.0&quot; or &quot;LEGACY&quot;. AmeriFlux data are shared under
two tiers of licenses as chosen by site's PI. See
<a href="https://ameriflux.lbl.gov/data/data-policy/#data-use">https://ameriflux.lbl.gov/data/data-policy/#data-use</a> for data use
guidelines under each license. Note: Data use policy
selected affects which sites’ data are available for download.</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_agree_policy">agree_policy</code></td>
<td>
<p>Acknowledge you read and agree to the AmeriFlux
Data use policy (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_intended_use">intended_use</code></td>
<td>
<p>The intended use category. Currently, it needs to be one
of the followings:
</p>

<ul>
<li><p> &quot;synthesis&quot; (i.e., Multi-site synthesis)
</p>
</li>
<li><p> &quot;model&quot; (i.e., Land model/Earth system model)
</p>
</li>
<li><p> &quot;remote_sensing&quot; (i.e., Remote sensing research)
</p>
</li>
<li><p> &quot;other_research&quot; (i.e., Other research)
&quot;</p>
</li>
<li><p> &quot;education&quot; (i.e., Education (Teacher or Student))
</p>
</li>
<li><p> &quot;other&quot;
</p>
</li></ul>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_intended_use_text">intended_use_text</code></td>
<td>
<p>Enter a brief description of intended use.
This will be recorded in the data download log and emailed to
site's PI (character).</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_out_dir">out_dir</code></td>
<td>
<p>Output directory for downloaded data, default tempdir()</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_verbose">verbose</code></td>
<td>
<p>Show feedback on download progress (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="amf_download_bif_+3A_site_w_data">site_w_data</code></td>
<td>
<p>Logical, download all registered sites (FALSE)
or only sites with available BASE data (TRUE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of download file names on the local drive
</p>


<h3>See Also</h3>

<p><code><a href="#topic+amf_download_base">amf_download_base</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
## Download all sites with BASE data, under CCBY4.0 policy
amf_download_bif(user_id = "test",
  user_email = "test@mail.com",
  data_policy = "CCBY4.0",
  agree_policy = TRUE,
  intended_use = "other",
  intended_use_text = "testing download",
  out_dir = tempdir(),
  site_w_data = TRUE)

## Download all registered sites, under LEGACY policy
amf_download_bif(user_id = "test",
  user_email = "test@mail.com",
  data_policy = "LEGACY",
  agree_policy = TRUE,
  intended_use = "other",
  intended_use_text = "testing download",
  out_dir = tempdir(),
  site_w_data = FALSE)


## End(Not run)

</code></pre>

<hr>
<h2 id='amf_extract_badm'>Extract BADM data of a specific BADM group</h2><span id='topic+amf_extract_badm'></span>

<h3>Description</h3>

<p>This function extracts BADM data of a specific BADM group
from the imported BADM (BIF) file. Use function <code><a href="#topic+amf_read_bif">amf_read_bif</a></code>
to import BADM (BIF) file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_extract_badm(bif_data, select_group)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_extract_badm_+3A_bif_data">bif_data</code></td>
<td>
<p>A data frame consists of 5 columns: SITE_ID, GROUP_ID,
VARIABLE_GROUP, VARIABLE, DATAVALUE, imported from function
<code><a href="#topic+amf_read_bif">amf_read_bif</a></code>.</p>
</td></tr>
<tr><td><code id="amf_extract_badm_+3A_select_group">select_group</code></td>
<td>
<p>A string (character), selected from VARIABLE_GROUP
in the <code>bif_data</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of re-structured BADM data with the following columns:
</p>

<ul>
<li><p> GROUP_ID - A unique identifier for data belonging to the same
instance of a reported variable group
</p>
</li>
<li><p> SITE_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> VALUE - Values for all available VARIABLES in the selected group
</p>
</li>
<li><p> ...
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+amf_read_bif">amf_read_bif</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read the BADM BIF file, using an example data file
bif &lt;- amf_read_bif(file = system.file("extdata",
                                       "AMF_AA-Flx_BIF_CCBY4_20201218.xlsx",
                                        package = "amerifluxr"))

# get a list of valid VARIALBE_GROUP
unique(bif$VARIABLE_GROUP)

# extract the selected VARIALBE_GROUP
amf_extract_badm(bif_data = bif, select_group = "GRP_FLUX_MEASUREMENTS")
amf_extract_badm(bif_data = bif, select_group = "GRP_IGBP")
</code></pre>

<hr>
<h2 id='amf_filter_base'>Filter AmeriFlux BASE data based on plausible range</h2><span id='topic+amf_filter_base'></span>

<h3>Description</h3>

<p>The function filters BASE data based on the expected
plausible ranges specified for each variable. See AmeriFlux web site
<a href="https://ameriflux.lbl.gov/data/data-processing-pipelines/data-qaqc/">https://ameriflux.lbl.gov/data/data-processing-pipelines/data-qaqc/</a>
for description of the plausible ranges.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_filter_base(
  data_in,
  limit_ls = NULL,
  basename_decode = NULL,
  loose_filter = 0.05
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_filter_base_+3A_data_in">data_in</code></td>
<td>
<p>A data frame containing BASE data, e.g.,
import from <code><a href="#topic+amf_read_base">amf_read_base</a></code>.</p>
</td></tr>
<tr><td><code id="amf_filter_base_+3A_limit_ls">limit_ls</code></td>
<td>
<p>A data frame with at least three columns:
</p>

<ul>
<li><p> Name: variable base name
</p>
</li>
<li><p> Min: expected lower bound
</p>
</li>
<li><p> Max: expected upper bound
</p>
</li></ul>

<p>If not specified, use <code><a href="#topic+amf_variables">amf_variables</a></code> by default.</p>
</td></tr>
<tr><td><code id="amf_filter_base_+3A_basename_decode">basename_decode</code></td>
<td>
<p>A data frame with at least two columns:
</p>

<ul>
<li><p> variable_name: actual variable name
</p>
</li>
<li><p> basename: variable base name
</p>
</li></ul>

<p>If not specified, use <code><a href="#topic+amf_parse_basename">amf_parse_basename</a></code> by default.</p>
</td></tr>
<tr><td><code id="amf_filter_base_+3A_loose_filter">loose_filter</code></td>
<td>
<p>A number in ratio (0-1) used to adjust the physical
range for filtering. Set it to 0 if not used. The default is 0.05.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame similar to <code>data_in</code> filtered out off-range points
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read the BASE from a csv file
base &lt;- amf_read_base(file = system.file("extdata",
                                         "AMF_US-CRT_BASE_HH_2-5.csv",
                                          package = "amerifluxr"),
                      unzip = FALSE,
                      parse_timestamp = FALSE)

# filter data, using default physical range +/- 5% buffer
base_f &lt;- amf_filter_base(data_in = base)

# filter data, using default physical range without buffer
base_f &lt;- amf_filter_base(data_in = base, loose_filter = 0)

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_list_data'>Get BASE data variable availability</h2><span id='topic+amf_list_data'></span>

<h3>Description</h3>

<p>This function obtains the BASE data availability for all or
selected AmeriFlux sites. See AmeriFlux page
<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/">https://ameriflux.lbl.gov/data/aboutdata/data-variables/</a> for details
about the variable naming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_list_data(site_set = NULL, var_set = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_list_data_+3A_site_set">site_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
AmeriFlux Site ID (CC-Sss). If not specified, it returns all sites.</p>
</td></tr>
<tr><td><code id="amf_list_data_+3A_var_set">var_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
variables as in basename. See AmeriFlux
page<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base">https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base</a>
for a list of variable names. If not specified, it returns all variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of variable-specific data availability (per year)
for selected AmeriFlux sites.
</p>

<ul>
<li><p> Site_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> VARIABLE - Variable name of the data included in the BASE file
</p>
</li>
<li><p> BASENAME - Variable base name of the data included in the BASE file.
</p>
</li>
<li><p> GAP_FILLED - Whether a variable is a gap-filled variable (TRUE/FALSE)
</p>
</li>
<li><p> Y1990 - Percentage of data availability in the year 1990 (0-1).
</p>
</li>
<li><p> Y1991 - Percentage of data availability in the year 1991 (0-1).
</p>
</li>
<li><p> Y1992 - Percentage of data availability in the year 1992 (0-1).
</p>
</li>
<li><p> ...
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# obtain the data variable availability for all sites
data_aval &lt;- amf_list_data()

# obtain the data variable availability for selected sites
data_aval &lt;- amf_list_data(site_set = c("US-CRT","US-WPT"))

# obtain the data variable availability for selected variables
data_aval &lt;- amf_list_data(var_set = c("FCH4", "WTD"))


## End(Not run)
</code></pre>

<hr>
<h2 id='amf_list_metadata'>Get metadata availability</h2><span id='topic+amf_list_metadata'></span>

<h3>Description</h3>

<p>This function obtains the metadata (i.e., BADM) availability
for all or selected AmeriFlux sites. See AmeriFlux page
<a href="https://ameriflux.lbl.gov/data/badm/">https://ameriflux.lbl.gov/data/badm/</a> for details about the BADM.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_list_metadata(site_set = NULL, group_only = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_list_metadata_+3A_site_set">site_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
AmeriFlux Site ID (CC-Sss). If not specified, it returns all sites.</p>
</td></tr>
<tr><td><code id="amf_list_metadata_+3A_group_only">group_only</code></td>
<td>
<p>Logical (TRUE/FALSE). Should it return availability for
BADM variable groups or variables? BADM Groups contain Variables that
describe related metadata or an observation with related metadata.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of data variable availability (per year) for selected
AmeriFlux sites. The first column contains the SITE ID. The remaining
columns contains the number of entries for a variable or a variable group,
with column names specifying the BADM variable or group names.
</p>

<ul>
<li><p> Site_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> ...
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# obtain the metadata availability for all sites, at variable group levels
metadata_aval &lt;- amf_list_metadata()

# obtain the metadata availability for selected sites, at variable levels
metadata_aval &lt;- amf_list_metadata(site_set = c("US-CRT","US-WPT"),
group_only = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_parse_basename'>Parse BASE data variable name and qualifier</h2><span id='topic+amf_parse_basename'></span>

<h3>Description</h3>

<p>This function parse variable names and qualifiers of AmeriFlux
BASE data product. See AmeriFlux web page
<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/">https://ameriflux.lbl.gov/data/aboutdata/data-variables/</a> about the
details of variable naming and qualifiers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_parse_basename(var_name, FP_ls = NULL, gapfill_postfix = "_PI_F")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_parse_basename_+3A_var_name">var_name</code></td>
<td>
<p>A vector of variable names (character) to be parsed</p>
</td></tr>
<tr><td><code id="amf_parse_basename_+3A_fp_ls">FP_ls</code></td>
<td>
<p>A vector of standard variable names. If not specified,
use <code><a href="#topic+amf_variables">amf_variables</a></code> by default to get the latest list.</p>
</td></tr>
<tr><td><code id="amf_parse_basename_+3A_gapfill_postfix">gapfill_postfix</code></td>
<td>
<p>A scalar of expected suffix (character)
appended to a variable that is gap-filled. The default is &quot;_PI_F&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the parsed results for all variables in
<code>var_name</code>:
</p>

<ul>
<li><p> variable_name - original variable name
</p>
</li>
<li><p> basename - associated basename, w/o qualifier
</p>
</li>
<li><p> qualifier_gf - qualifier associated with gap-filling
</p>
</li>
<li><p> qualifier_pi - qualifier associated with PI version, excluding
gap-filling
</p>
</li>
<li><p> qualifier_pos - qualifier associated with position
</p>
</li>
<li><p> qualifier_ag - qualifier associated with layer-aggregation,
e.g., _N, _SD
</p>
</li>
<li><p> layer_index - layer index provided, if any
</p>
</li>
<li><p> H_index - H index provided, if any
</p>
</li>
<li><p> V_index - V index provided, if any
</p>
</li>
<li><p> R_index - R index provided, if any
</p>
</li>
<li><p> is_correct_basename - is the parsed basename recognized in
FP-Standard
</p>
</li>
<li><p> is_pi_provide - is this a PI provided variable e.g., _PI
</p>
</li>
<li><p> is_gapfill - is this a gap-filled variable, _PF_F or _F
</p>
</li>
<li><p> is_fetch - is this a fetch quantile variable, e.g., FETCH_70...
</p>
</li>
<li><p> is_layer_aggregated - is this a layer-integrated variable,
i.e., _#
</p>
</li>
<li><p> is_layer_SD - is this a standard deviation of layer-integrated
variable, i.e., spatial variability
</p>
</li>
<li><p> is_layer_number - is this a number of samples of layer-integrated
variable, i.e., spatial variability
</p>
</li>
<li><p> is_replicate_aggregated - is this a replicate-averaged variable,
e.g., _1_1_A
</p>
</li>
<li><p> is_replicate_SD - is this a standard deviation of replicate-averaged
variable, e.g., _1_1_A_SD
</p>
</li>
<li><p> is_replicate_number - is this a number of samples of
replicate-averaged variable, e.g., _1_1_A_N
</p>
</li>
<li><p> is_quadruplet - is this a quadruplet, e.g., _1_1_1
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+amf_variables">amf_variables</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read the BASE from a csv file
base &lt;- amf_read_base(file = system.file("extdata",
                                         "AMF_US-CRT_BASE_HH_2-5.csv",
                                          package = "amerifluxr"),
                      unzip = FALSE,
                      parse_timestamp = FALSE)

# parse variable names/qualifiers
basename_decode &lt;- amf_parse_basename(var_name = colnames(base))

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_plot_datasummary'>Plot data summary</h2><span id='topic+amf_plot_datasummary'></span>

<h3>Description</h3>

<p>This function visualizes the BASE data summary for
selected AmeriFlux sites and variables. This is a wrapper around
<code><a href="#topic+amf_summarize_data">amf_summarize_data</a></code>. However, it is strongly advised to
subset either sites or variables for faster processing and better
visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_plot_datasummary(
  data_sum = NULL,
  site_set = NULL,
  var_set = NULL,
  nonfilled_only = TRUE,
  show_cluster = FALSE,
  scale = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_plot_datasummary_+3A_data_sum">data_sum</code></td>
<td>
<p>A data frame with following columns:
</p>

<ul>
<li><p> Site_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> VARIABLE - Variable name of the data included in the BASE file
</p>
</li>
<li><p> BASENAME - Variable base name of the data included in the BASE file.
</p>
</li>
<li><p> GAP_FILLED - Whether a variable is a gap-filled variable (TRUE/FALSE)
</p>
</li>
<li><p> Any statistics, e.g., P01, P05... output from
<code><a href="#topic+amf_summarize_data">amf_summarize_data</a></code>
</p>
</li></ul>

<p>If not specified, use <code><a href="#topic+amf_summarize_data">amf_summarize_data</a></code> by default.</p>
</td></tr>
<tr><td><code id="amf_plot_datasummary_+3A_site_set">site_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
AmeriFlux Site ID (CC-Sss). If not specified, it returns all sites.</p>
</td></tr>
<tr><td><code id="amf_plot_datasummary_+3A_var_set">var_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
variables as in basename. See AmeriFlux
page<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base">https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base</a>
for a list of variable names. If not specified, it returns all variables.</p>
</td></tr>
<tr><td><code id="amf_plot_datasummary_+3A_nonfilled_only">nonfilled_only</code></td>
<td>
<p>Logical, whether only showing non-filled variables,
or both non- and gap-filled variables. The default is TRUE.</p>
</td></tr>
<tr><td><code id="amf_plot_datasummary_+3A_show_cluster">show_cluster</code></td>
<td>
<p>Logical, whether showing clustering (dendrogram) of
site-variables. The default is FALSE.</p>
</td></tr>
<tr><td><code id="amf_plot_datasummary_+3A_scale">scale</code></td>
<td>
<p>Logical, whether the values should be centered and scaled
among site-variables. The default is FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'plotly' from <code><a href="heatmaply.html#topic+heatmaply">heatmaply</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+amf_summarize_data">amf_summarize_data</a></code>, <code><a href="heatmaply.html#topic+heatmaply">heatmaply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# plot data summary for selected variables at two sites
amf_plot_datasummary(site_set = c("US-CRT", "US-WPT"),
                     var_set = c("H", "LE", "NETRAD"))

# plot data summary for FCH4 at all sites, and show
#  clustering among sites
amf_plot_datasummary(var_set = "FCH4",
                     show_cluster = TRUE)

# plot data summary for TA at all grassland sites,
#  and show clustering among sites
sites &lt;- amf_site_info()
sites &lt;- subset(sites, IGBP == "CRO")
amf_plot_datasummary(site_set = sites$SITE_ID,
                     var_set = "TA",
                     show_cluster = TRUE)

# normalize TA among sites
amf_plot_datasummary(site_set = sites$SITE_ID,
                     var_set = "TA",
                     show_cluster = TRUE,
                     scale = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_plot_datayear'>Plot data availability</h2><span id='topic+amf_plot_datayear'></span>

<h3>Description</h3>

<p>This function visualizes the BASE data availability for
selected AmeriFlux sites, variables, and years. This is a wrapper around
<code><a href="#topic+amf_list_data">amf_list_data</a></code>. However, it is strongly advised to subset
the sites, variables, and/or years for faster processing and better
visualization.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_plot_datayear(
  data_aval = NULL,
  site_set = NULL,
  var_set = NULL,
  nonfilled_only = TRUE,
  year_set = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_plot_datayear_+3A_data_aval">data_aval</code></td>
<td>
<p>A data frame with at least five columns:
</p>

<ul>
<li><p> SITE_ID:
</p>
</li>
<li><p> VARIABLE:
</p>
</li>
<li><p> BASENAME: variable basename
</p>
</li>
<li><p> GAP_FILLED
</p>
</li>
<li><p> Y1990: Percentage of data availability in the year 1990 (0-1).
</p>
</li>
<li><p> ...
</p>
</li></ul>

<p>If not specified, use <code><a href="#topic+amf_list_data">amf_list_data</a></code> by default.</p>
</td></tr>
<tr><td><code id="amf_plot_datayear_+3A_site_set">site_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
AmeriFlux Site ID (CC-Sss). If not specified, it returns all sites.</p>
</td></tr>
<tr><td><code id="amf_plot_datayear_+3A_var_set">var_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
variables as in basename. See AmeriFlux
page<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base">https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base</a>
for a list of variable names. If not specified, it returns all variables.</p>
</td></tr>
<tr><td><code id="amf_plot_datayear_+3A_nonfilled_only">nonfilled_only</code></td>
<td>
<p>Logical, whether only showing non-filled variables,
or both non- and gap-filled variables. The default is TRUE.</p>
</td></tr>
<tr><td><code id="amf_plot_datayear_+3A_year_set">year_set</code></td>
<td>
<p>A scalar or vector of integers. If not specified,
it plots only years with any available data in selected sites and variables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class 'plotly' from <code><a href="heatmaply.html#topic+heatmaply">heatmaply</a></code>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+amf_list_data">amf_list_data</a></code>, <code><a href="heatmaply.html#topic+heatmaply">heatmaply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# plot data availability for all variables at a single site
#  in all years
amf_plot_datayear(site_set = "US-CRT",
                  nonfilled_only = FALSE)

# plot data availability for non-filled FCH4 and WTD at all
#  sites in all years
amf_plot_datayear(var_set = c("FCH4", "WTD"),
                  nonfilled_only = TRUE)

# plot data availability for non-filled FCH4 at all sites
#  in 2018-2020
amf_plot_datayear(var_set = "FCH4",
                  year_set = c(2018:2020),
                  nonfilled_only = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_read_base'>Read AmeriFlux BASE data product</h2><span id='topic+amf_read_base'></span>

<h3>Description</h3>

<p>This function read in the BASE data file downloaded
from AmeriFlux. See AmeriFlux web page
<a href="https://ameriflux.lbl.gov/data/data-processing-pipelines/base-publish/">https://ameriflux.lbl.gov/data/data-processing-pipelines/base-publish/</a>
for details about BASE data product. Use <code><a href="#topic+amf_variables">amf_variables</a></code>
to get a list of standard variable names and units.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_read_base(file, unzip = TRUE, parse_timestamp = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_read_base_+3A_file">file</code></td>
<td>
<p>A BASE data file, either in a zipped file or a comma-separate
value (csv) file</p>
</td></tr>
<tr><td><code id="amf_read_base_+3A_unzip">unzip</code></td>
<td>
<p>Logical, whether to unzip. The default is TRUE. Set FALSE if
reading from a previously unzipped csv file.</p>
</td></tr>
<tr><td><code id="amf_read_base_+3A_parse_timestamp">parse_timestamp</code></td>
<td>
<p>Logical, whether to parse the time stamp. Set TRUE
to parse and add timekeeping columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing data. See AmeriFlux website
<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/">https://ameriflux.lbl.gov/data/aboutdata/data-variables/</a>
for details about file format, variable definition, units, and convention.
If <code>parse_timestamp</code> = TRUE, the following six time-keeping columns are
added in the returned data frame:
</p>

<ul>
<li><p> YEAR - Year (YYYY)
</p>
</li>
<li><p> MONTH - Month (MM)
</p>
</li>
<li><p> DAY - Day of the month (DD)
</p>
</li>
<li><p> DOY - Day of the year (DDD)
</p>
</li>
<li><p> HOUR - Hour of the day (HH), based on the middle time of the interval
</p>
</li>
<li><p> MINUTE - Minute of the hour (mm), based on the middle time of the
interval
</p>
</li>
<li><p> TIMESTAMP - An object of class &quot;POSIXlt&quot; in the UTC time zone,
based on the middle time of the interval
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+amf_parse_basename">amf_parse_basename</a></code>, <code><a href="#topic+amf_filter_base">amf_filter_base</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># read the BASE from a zip file, using the example data file
base &lt;- amf_read_base(file = system.file("extdata",
                                         "AMF_US-CRT_BASE-BADM_2-5.zip",
                                          package = "amerifluxr"),
                      unzip = TRUE,
                      parse_timestamp = TRUE)

# read the BASE from a csv file
base &lt;- amf_read_base(file = system.file("extdata",
                                         "AMF_US-CRT_BASE_HH_2-5.csv",
                                          package = "amerifluxr"),
                      unzip = FALSE,
                      parse_timestamp = FALSE)
</code></pre>

<hr>
<h2 id='amf_read_bif'>Read AmeriFlux BADM data product</h2><span id='topic+amf_read_bif'></span>

<h3>Description</h3>

<p>This function read in the BADM data file formatted in BADM
Interchange Format (BIF).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_read_bif(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_read_bif_+3A_file">file</code></td>
<td>
<p>A BADM data file</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the following 5 columns.
See AmeriFlux website
<a href="https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/">https://ameriflux.lbl.gov/data/aboutdata/badm-data-product/</a> for
details.
</p>

<ul>
<li><p> SITE_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> GROUP_ID - A unique identifier for data belonging to the same
instance of a reported variable group
</p>
</li>
<li><p> VARIABLE_GROUP - A set of variables that are reported together
</p>
</li>
<li><p> VARIABLE - The variable name
</p>
</li>
<li><p> DATAVALUE - The reported value of a variable
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># read the BADM BIF file, using an example data file
bif &lt;- amf_read_bif(file = system.file("extdata",
                                       "AMF_AA-Flx_BIF_CCBY4_20201218.xlsx",
                                        package = "amerifluxr"))
</code></pre>

<hr>
<h2 id='amf_site_info'>Get AmeriFlux site general info</h2><span id='topic+amf_site_info'></span>

<h3>Description</h3>

<p>This function obtains the latest AmeriFlux site list and
sites' general info through the AmeriFlux web service.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_site_info()
</code></pre>


<h3>Details</h3>

<p>This combines the information of various other functions.
</p>


<h3>Value</h3>

<p>A data frame containing the following columns.
See AmeriFlux BADM standard <a href="https://ameriflux.lbl.gov/data/badm/">https://ameriflux.lbl.gov/data/badm/</a>
for detailed explanation.
</p>

<ul>
<li><p> SITE_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> SITE_NAME - Site name (free text)
</p>
</li>
<li><p> COUNTRY - Country (free text)
</p>
</li>
<li><p> STATE - State (free text)
</p>
</li>
<li><p> IGBP - Vegetation type based on the IGBP definition (character)
</p>
</li>
<li><p> URL_AMERIFLUX - Site web site URL, maintained by AmeriFlux (URL)
</p>
</li>
<li><p> TOWER_BEGAN - The starting year of flux measurement (YYYY)
</p>
</li>
<li><p> TOWER_END - The ending year of flux measurement (YYYY), NA if still
active or unspecified
</p>
</li>
<li><p> LOCATION_LAT - Latitude of the site (decimal deg ref WGS84)
</p>
</li>
<li><p> LOCATION_LONG - Longitude of the site (decimal deg ref WGS84)
</p>
</li>
<li><p> LOCATION_ELEV - Elevation of the site above sea level (m)
</p>
</li>
<li><p> CLIMATE_KOEPPEN - Koppen climate classification (character)
</p>
</li>
<li><p> MAT - Long-term mean annual average air temperature (degree C)
</p>
</li>
<li><p> MAP - Long-term mean annual average precipitation (mm)
</p>
</li>
<li><p> DATA_POLICY - LEGACY / CCBY4.0 (character)
</p>
</li>
<li><p> DATA_START - The starting year with published AmeriFlux BASE
data (YYYY)
</p>
</li>
<li><p> DATA_END - The ending year with published AmeriFlux BASE data (YYYY)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# obtain the basic general info for all sites
site &lt;- amf_site_info()

## End(Not run)

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_sites'>Lists AmeriFlux sites</h2><span id='topic+amf_sites'></span>

<h3>Description</h3>

<p>Lists available site (names) and basic meta-data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_sites()
</code></pre>


<h3>Value</h3>

<p>A data frame containing the following columns.
See AmeriFlux BADM standard <a href="https://ameriflux.lbl.gov/data/badm/">https://ameriflux.lbl.gov/data/badm/</a>
for detailed explanation.
</p>

<ul>
<li><p> SITE_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> SITE_NAME - Site name (free text)
</p>
</li>
<li><p> COUNTRY - Country (free text)
</p>
</li>
<li><p> STATE - State (free text)
</p>
</li>
<li><p> IGBP - Vegetation type based on the IGBP definition (character)
</p>
</li>
<li><p> URL_AMERIFLUX - Site web site URL, maintained by AmeriFlux (URL)
</p>
</li>
<li><p> TOWER_BEGAN - The starting year of flux measurement (YYYY)
</p>
</li>
<li><p> TOWER_END - The ending year of flux measurement (YYYY), NA if still
active or unspecified
</p>
</li>
<li><p> LOCATION_LAT - Latitude of the site (decimal deg ref WGS84)
</p>
</li>
<li><p> LOCATION_LONG - Longitude of the site (decimal deg ref WGS84)
</p>
</li>
<li><p> LOCATION_ELEV - Elevation of the site above sea level (m)
</p>
</li>
<li><p> CLIMATE_KOEPPEN - Koppen climate classification (character)
</p>
</li>
<li><p> MAT - Long-term mean annual average air temperature (degree C)
</p>
</li>
<li><p> MAP - Long-term mean annual average precipitation (mm)
</p>
</li>
<li><p> DATA_POLICY - LEGACY / CCBY4.0 (character)
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# download a list of sites and basic info
sites &lt;- amf_sites()


## End(Not run)

</code></pre>

<hr>
<h2 id='amf_summarize_data'>Get BASE data summary</h2><span id='topic+amf_summarize_data'></span>

<h3>Description</h3>

<p>This function obtains the BASE data summary for all or
selected AmeriFlux sites. See AmeriFlux page
<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/">https://ameriflux.lbl.gov/data/aboutdata/data-variables/</a> for details
about the variable naming.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_summarize_data(site_set = NULL, var_set = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_summarize_data_+3A_site_set">site_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
AmeriFlux Site ID (CC-Sss). If not specified, it returns all sites.</p>
</td></tr>
<tr><td><code id="amf_summarize_data_+3A_var_set">var_set</code></td>
<td>
<p>A scalar or vector of character specifying the target
variables as in basename. See AmeriFlux
page<a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base">https://ameriflux.lbl.gov/data/aboutdata/data-variables/#base</a>
for a list of variable names. If not specified, it returns all variables.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of site-specific variable summary statistics (selected
percentiles) for selected AmeriFlux sites.
</p>

<ul>
<li><p> Site_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> VARIABLE - Variable name of the data included in the BASE file
</p>
</li>
<li><p> BASENAME - Variable base name of the data included in the BASE file.
</p>
</li>
<li><p> GAP_FILLED - Whether a variable is a gap-filled variable (TRUE/FALSE)
</p>
</li>
<li><p> DATA_RECORD - Number of supposed data record (counts)
</p>
</li>
<li><p> DATA_MISSING - Number of missing data record (counts)
</p>
</li>
<li><p> Q01 - 1th percentile of the data
</p>
</li>
<li><p> Q05 - 5th percentile of the data
</p>
</li>
<li><p> ...
</p>
</li>
<li><p> Q95 - 95th percentile of the data
</p>
</li>
<li><p> Q99 - 99th percentile of the data
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# obtain the data variable availability for all sites &amp; variables
data_sum &lt;- amf_summarize_data()

# obtain the data variable availability for selected sites, all variables
data_sum &lt;- amf_summarize_data(site_set = c("US-CRT","US-WPT"))

# obtain the data variable availability for selected sites &amp; variables
data_sum &lt;- amf_summarize_data(site_set = c("US-CRT","US-WPT"),
                               var_set = c("FC", "LE", "H"))

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_var_info'>Get variable information</h2><span id='topic+amf_var_info'></span>

<h3>Description</h3>

<p>This function obtains the measurement height metadata for the
AmeriFlux BASE data product. See AmeriFlux page
<a href="https://ameriflux.lbl.gov/data/measurement-height/">https://ameriflux.lbl.gov/data/measurement-height/</a> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_var_info(out_dir = tempdir(), verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="amf_var_info_+3A_out_dir">out_dir</code></td>
<td>
<p>The output directory  (default = tempdir())</p>
</td></tr>
<tr><td><code id="amf_var_info_+3A_verbose">verbose</code></td>
<td>
<p>Logical, whether to show download progress (TRUE/FALSE)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame of measurement height data for all AmeriFlux sites
#' </p>

<ul>
<li><p> Site_ID - Six character site identifier (CC-Sss)
</p>
</li>
<li><p> Variable - Variable name of the data included in the BASE file
</p>
</li>
<li><p> Start_Date - Date when the information first applies
</p>
</li>
<li><p> Height - Distance above the ground surface in meters
</p>
</li>
<li><p> Instrument_Model - Instrument model used to collect the data variable
</p>
</li>
<li><p> Instrument_Model2 - A second instrument model used to collect
the data variable
</p>
</li>
<li><p> Comment - Additional information provided by the site team
</p>
</li>
<li><p> BASE_Version - The most recent BASE data product version number for
which the information applies
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# download the measurement height data for all sites
var_info &lt;- amf_var_info()

## End(Not run)
</code></pre>

<hr>
<h2 id='amf_variables'>Get FP (Flux-Processing) Standard Variable List</h2><span id='topic+amf_variables'></span>

<h3>Description</h3>

<p>This function obtains the latest AmeriFlux FP (Flux-Processing)
standard variable list. FP standard defines the variable names and units used
for continuously sampled data within the AmeriFlux. Also see AmeriFlux Data
Variables page <a href="https://ameriflux.lbl.gov/data/aboutdata/data-variables/">https://ameriflux.lbl.gov/data/aboutdata/data-variables/</a>
for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>amf_variables()
</code></pre>


<h3>Value</h3>

<p>A data frame containing the following columns:
</p>

<ul>
<li><p> Name - Standard variable name
</p>
</li>
<li><p> Description - Description of the variable
</p>
</li>
<li><p> Units - Standard variable unit
</p>
</li>
<li><p> Min - Expected minimal value
</p>
</li>
<li><p> Max - Expected maximal value
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# download the list of standard variable names and units
FP_ls &lt;- amf_variables()

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

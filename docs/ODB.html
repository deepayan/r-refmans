<!DOCTYPE html><html><head><title>Help for package ODB</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ODB}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ODB-package'>
<p>Open Document Databases (.odb) Management</p></a></li>
<li><a href='#difftimeFmt'>
<p>Formats a time difference in multiple units</p></a></li>
<li><a href='#isClosed'>
<p>Checks if a DBI connection is closed</p></a></li>
<li><a href='#ODB-class'><p>Class &quot;ODB&quot;</p></a></li>
<li><a href='#odb.close'>
<p>Closes an &quot;ODB&quot; connection and updates the .odb file</p></a></li>
<li><a href='#odb.comments'>
<p>Gets or sets column comments in an ODB database</p></a></li>
<li><a href='#odb.create'>
<p>Creates a .odb empty file.</p></a></li>
<li><a href='#odb.export'>
<p>Exports an ODB database to a SQL file.</p></a></li>
<li><a href='#odb.insert'>
<p>Wrapper for inserting data in an ODB table.</p></a></li>
<li><a href='#odb.open'>
<p>Creates a connection to a .odb file</p></a></li>
<li><a href='#odb.queries'>
<p>Gets or sets stored queries in an ODB database</p></a></li>
<li><a href='#odb.read'>
<p>Executes a reading SQL query in an ODB database (SELECT ...)</p></a></li>
<li><a href='#odb.tables'>
<p>Gets description of every table in an ODB database.</p></a></li>
<li><a href='#odb.write'>
<p>Executes writing SQL queries in an ODB database (INSERT ...)</p></a></li>
<li><a href='#progress-class'><p>Classes &quot;progress&quot;, &quot;progress.file&quot; and &quot;progress.console&quot;</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Open Document Databases (.odb) Management</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.1</td>
</tr>
<tr>
<td>Date:</td>
<td>2020-03-10</td>
</tr>
<tr>
<td>Author:</td>
<td>Sylvain Mareschal</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sylvain Mareschal &lt;maressyl@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://bioinformatics.ovsa.fr/ODB">http://bioinformatics.ovsa.fr/ODB</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/maressyl/R.ODB/issues">https://github.com/maressyl/R.ODB/issues</a></td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to create, connect, update and query 'HSQL' databases embedded in Open Document Databases files, as 'OpenOffice' and 'LibreOffice' do.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>methods, DBI, RJDBC</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>zip</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-03-11 11:44:12 UTC; sylvain</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-03-11 12:40:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='ODB-package'>
Open Document Databases (.odb) Management
</h2><span id='topic+ODB-package'></span><span id='topic+ODB'></span>

<h3>Description</h3>

<p>Functions to create, connect, update and query 'HSQL' databases embedded in Open Document Databases files, as 'OpenOffice' and 'LibreOffice' do.
</p>


<h3>Details</h3>

<p>The DESCRIPTION file:
</p>

<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> ODB</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Title: </td><td style="text-align: left;"> Open Document Databases (.odb) Management</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 1.2.1</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2020-03-10</td>
</tr>
<tr>
 <td style="text-align: left;">
Author: </td><td style="text-align: left;"> Sylvain Mareschal</td>
</tr>
<tr>
 <td style="text-align: left;">
Maintainer: </td><td style="text-align: left;"> Sylvain Mareschal &lt;maressyl@gmail.com&gt;</td>
</tr>
<tr>
 <td style="text-align: left;">
URL: </td><td style="text-align: left;"> http://bioinformatics.ovsa.fr/ODB</td>
</tr>
<tr>
 <td style="text-align: left;">
BugReports: </td><td style="text-align: left;"> https://github.com/maressyl/R.ODB/issues</td>
</tr>
<tr>
 <td style="text-align: left;">
Description: </td><td style="text-align: left;"> Functions to create, connect, update and query 'HSQL' databases embedded in Open Document Databases files, as 'OpenOffice' and 'LibreOffice' do.</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL (&gt;= 3)</td>
</tr>
<tr>
 <td style="text-align: left;">
Depends: </td><td style="text-align: left;"> methods, DBI, RJDBC</td>
</tr>
<tr>
 <td style="text-align: left;">
Imports: </td><td style="text-align: left;"> utils</td>
</tr>
<tr>
 <td style="text-align: left;">
SystemRequirements: </td><td style="text-align: left;"> zip</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<p>Index of help topics:
</p>
<pre>
ODB-class                                         Class "ODB"
ODB-package                                       Open Document Databases (.odb) Management
difftimeFmt                                       Formats a time difference in multiple units
isClosed                                          Checks if a DBI connection is closed
odb.close                                         Closes an "ODB" connection and updates the .odb file
odb.comments                                      Gets or sets column comments in an ODB database
odb.create                                        Creates a .odb empty file.
odb.export                                        Exports an ODB database to a SQL file.
odb.insert                                        Wrapper for inserting data in an ODB table.
odb.open                                          Creates a connection to a .odb file
odb.queries                                       Gets or sets stored queries in an ODB database
odb.read                                          Executes a reading SQL query in an ODB database (SELECT ...)
odb.tables                                        Gets description of every table in an ODB database.
odb.write                                         Executes writing SQL queries in an ODB database (INSERT ...)
progress-class                                    Classes "progress", "progress.file" and "progress.console"
</pre>
<p>First notice this package is not intented to manage all .odb variations. Currently two distinct types of .odb files can be distinguished : files embedding an HSQL database, and files connecting to a remote database engine such as MySQL. This package is made for the formers, as remote databases can be queried directly using the DBI package. Functions involving the XML content of the .odb file (<code><a href="#topic+odb.comments">odb.comments</a></code> and <code><a href="#topic+odb.queries">odb.queries</a></code>) may be operative on such files, but there is no garantee they would be.
</p>
<p>You should not consider this package without minimal knowledge of the SQL language, as only a few basic operations have functions not relying on the user to build a valid SQL query (<code><a href="#topic+odb.insert">odb.insert</a></code>, <code><a href="#topic+odb.tables">odb.tables</a></code>, <code><a href="#topic+odb.comments">odb.comments</a></code>, <code><a href="#topic+odb.queries">odb.queries</a></code>).
</p>
<p>This package is built around the <code>odb</code> class, which extends <code>DBIConnection</code>. A set of functions is provided to execute reading (SELECT ...) or writing (INSERT, CREATE, DROP ...) SQL queries through the HSQLDB engine, and a set of convenient tools is also provided for the most common tasks (<code><a href="#topic+odb.read">odb.read</a></code>, <code><a href="#topic+odb.write">odb.write</a></code>, <code><a href="#topic+odb.insert">odb.insert</a></code>). A few Open Document specific functions are also provided, allowing modifications on features provided by the .odb file format and not the database itself (<code><a href="#topic+odb.comments">odb.comments</a></code> and <code><a href="#topic+odb.queries">odb.queries</a></code>).
</p>
<p>Effects of all these functions can be achieved manually via the OpenOffice or LibreOffice Base software, obviously this package offers a way of automating it on a bigger scale. Both manual and automatic modifications can be done on the same .odb file, but users are strongly recommended to not use the two methods simultaneously. This R package works on a copy of the file made at the <code><a href="#topic+odb.open">odb.open</a></code> call, and this copy will replace the original file at the <code><a href="#topic+odb.close">odb.close</a></code> call, regardless of what happened between the two calls.
</p>
<p>Additional tools are also provided, notably <code><a href="#topic+odb.export">odb.export</a></code> and <code><a href="#topic+isClosed">isClosed</a></code>.
</p>
<p>See the 'examples' section for more details on the package behavior.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>
<p>Maintainer: Sylvain Mareschal &lt;maressyl@gmail.com&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## CONNECTION ##
  
  # Creation of a new .odb database
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")

  # Connection to the file
  odb &lt;- odb.open(odbFile)
  
  
  ## STRUCTURE ##
  
  # Creation of a new table
  SQL &lt;- "CREATE TABLE fruits (id INTEGER PRIMARY KEY, value VARCHAR(8))"
  odb.write(odb, SQL)
  
  # Addition of comments on columns
  odb.comments(odb, "fruits", c("id", "value")) &lt;- c("Fruit rank", "Fruit name")
  
  # Printing of the database structure
  print(odb.tables(odb))
  
  # Printing of a specific comment
  print(odb.comments(odb, "fruits", "value"))
  
  
  ## DATA ##
  
  # Insertion of data
  data &lt;- data.frame(id=1:3, value=c("apple", "orange", "pear"))
  odb.insert(odb, tableName="fruits", data=data, execute=TRUE)
  
  # Reading
  print(odb.read(odb, "SELECT * FROM fruits WHERE id=2"))
  
  # Saved query
  odb.queries(odb, "2nd record") &lt;- "SELECT * FROM fruits WHERE id=2"
  print(odb.read(odb, odb.queries(odb, "2nd record")))
  
  # SQL export
  sqlFile &lt;- tempfile(fileext=".sql")
  odb.export(odb, sqlFile)
  
  
  ## DISCONNECTION ##
  
  # Is the connection closed ?
  print(isClosed(odb))
  
  # Save changes in the .odb file
  odb.close(odb, write=TRUE)
  
  # And now ?
  print(isClosed(odb))
</code></pre>

<hr>
<h2 id='difftimeFmt'>
Formats a time difference in multiple units
</h2><span id='topic+difftimeFmt'></span>

<h3>Description</h3>

<p>This function converts a time difference (in seconds) into a string with various time units (days, hours, minutes, seconds and milliseconds).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  difftimeFmt(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="difftimeFmt_+3A_x">x</code></td>
<td>

<p>Time difference to format (single value). Can be a floating number of seconds, or a <code>difftime</code> object.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a character of length 1, according to the following format : &quot;[d]d [h]:[m]:[s].[ms]&quot;. Days and milliseconds are omitted if they can be.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # Full format
  difftimeFmt(94521.125846)
  
  # With dates
  T1 &lt;- strptime("2011-03-21 14:32:03", format="%Y-%m-%d %H:%M:%S")
  T2 &lt;- strptime("2011-08-06 18:14:21", format="%Y-%m-%d %H:%M:%S")
  dT &lt;- as.double(difftime(T2, T1, units="secs"))
  difftimeFmt(dT)
</code></pre>

<hr>
<h2 id='isClosed'>
Checks if a DBI connection is closed
</h2><span id='topic+isClosed'></span>

<h3>Description</h3>

<p>Checks if a connection inheriting from the <code>DBIConnection</code> class (including 'ODB' connections) is closed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  isClosed(connection)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="isClosed_+3A_connection">connection</code></td>
<td>

<p>An object inheriting from <code>DBIConnection</code> class.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a single logical value, whether SQL queries can be sent to the connection or not.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.open">odb.open</a></code>, <code><a href="#topic+odb.close">odb.close</a></code>
</p>
<p><code><a href="DBI.html#topic+dbConnect">dbConnect</a></code>, <code><a href="DBI.html#topic+dbDisconnect">dbDisconnect</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  ODB &lt;- odb.open(odbFile)
  
  # Is the connection closed ?
  print(isClosed(ODB))
  
  # Save changes in the .odb file
  odb.close(ODB, write=TRUE)
  
  # And now ?
  print(isClosed(ODB))
</code></pre>

<hr>
<h2 id='ODB-class'>Class &quot;ODB&quot;</h2><span id='topic+ODB-class'></span><span id='topic+show+2CODB-method'></span>

<h3>Description</h3>

<p>A connection to an Open Document Base (.odb) embedded HSQL database.
</p>
<p>This class extends <a href="RJDBC.html#topic+JDBCConnection-class">JDBCConnection</a>, and objects from it can be accessed via the <code>DBI</code> interface. Objects from this class also store file paths used for other ODB manipulation (such as queries or comments, stored in the embedded content.xml file rather than the HSQL database).
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls to the <code><a href="#topic+odb.open">odb.open</a></code> function, and saved into the original .odb file by <code><a href="#topic+odb.close">odb.close</a></code>.
</p>
<p>Several objects can but should not refer to the same .odb file: as they deal with distinct copies of this file, updates in one connection will not propagate to others. Moreover, when one of these connections will be closed, it will override changes in the .odb file made by formerly closed connections.
</p>


<h3>Slots</h3>


<dl>
<dt><code>jc</code>:</dt><dd><p>Inherited from <code>"<a href="RJDBC.html#topic+JDBCConnection-class">JDBCConnection</a>"</code></p>
</dd>
<dt><code>identifier.quote</code>:</dt><dd><p>Inherited from <code>"<a href="RJDBC.html#topic+JDBCConnection-class">JDBCConnection</a>"</code></p>
</dd>
<dt><code>directory</code>:</dt><dd><p> Single character value, the path to the temp directory storing the database files. </p>
</dd>
<dt><code>odbFile</code>:</dt><dd><p> Single character value, the path to the .odb file handled. </p>
</dd>
<dt><code>odbVersion</code>:</dt><dd><p> Single character value, HSQLDB version of the .odb file. </p>
</dd>
<dt><code>jarFile</code>:</dt><dd><p> Single character value, the path to the HSQLDB .jar library used. </p>
</dd>
<dt><code>jarVersion</code>:</dt><dd><p> Single character value, HSQLDB version of the .jar library. </p>
</dd>
</dl>



<h3>Extends</h3>


<ul>
<li><p> Class <code>"<a href="RJDBC.html#topic+JDBCConnection-class">JDBCConnection</a>"</code>, directly.
</p>
</li>
<li><p> Class <code>"<a href="DBI.html#topic+DBIConnection-class">DBIConnection</a>"</code>, by class &quot;JDBCConnection&quot;, distance 2.
</p>
</li>
<li><p> Class <code>"<a href="DBI.html#topic+DBIObject-class">DBIObject</a>"</code>, by class &quot;JDBCConnection&quot;, distance 3.
</p>
</li></ul>



<h3>Methods</h3>


<dl>
<dt>show</dt><dd> <p><code>signature(object = "ODB")</code> </p>
</dd>
</dl>

<p>See also inherited methods.
</p>


<h3>Note</h3>

<p>Functions from the <code>DBI</code> package can be used directly on the object, if you prefer to manage SQL transactions yourself. Notice however that common issues (charset, factors and column names) are handled by <code><a href="#topic+odb.read">odb.read</a></code> and <code><a href="#topic+odb.write">odb.write</a></code>, which can deal with any SQL query.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.open">odb.open</a></code>
</p>
<p>See <code><a href="#topic+ODB-package">ODB-package</a></code> for a complete example.
</p>

<hr>
<h2 id='odb.close'>
Closes an &quot;ODB&quot; connection and updates the .odb file
</h2><span id='topic+odb.close'></span>

<h3>Description</h3>

<p>Closes the connection to the embedded HSQLDB, removing temporary files and updating the .odb file if asked to do so.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.close(odb, write = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.close_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.close_+3A_write">write</code></td>
<td>

<p>Single logical value, defining if the modifications has to be saved in the original .odb file or not. Notice they will be definitively lost if closing with write=FALSE.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns TRUE if succeeds, raises an error if not.
</p>


<h3>Note</h3>

<p>To take data in a first file and save it in an other, copy the file before using <code><a href="#topic+odb.open">odb.open</a></code>.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.open">odb.open</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New table
  odb.write(odb, "CREATE TABLE fruits (name VARCHAR(6) PRIMARY KEY)")
  odb.insert(odb, "fruits", c("banana", "pear", "peach"))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.comments'>
Gets or sets column comments in an ODB database
</h2><span id='topic+odb.comments'></span><span id='topic+odb.comments+3C-'></span>

<h3>Description</h3>

<p>This function allows comment manipulation into OpenOffice Base databases, through an <code>odb</code> connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.comments(odb, tableNames = NULL, columnNames = NULL, simplify = TRUE)
  odb.comments(odb, tableNames, columnNames) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.comments_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.comments_+3A_tablenames">tableNames</code></td>
<td>

<p>Character vector naming tables to search comments in. See the 'Details' section.
</p>
</td></tr>
<tr><td><code id="odb.comments_+3A_columnnames">columnNames</code></td>
<td>

<p>Character vector naming columns to search comments in. See the 'Details' section.
</p>
</td></tr>
<tr><td><code id="odb.comments_+3A_simplify">simplify</code></td>
<td>

<p>Single logical value, whether to simplify returns. See the 'Value' section
</p>
</td></tr>
<tr><td><code id="odb.comments_+3A_value">value</code></td>
<td>

<p>Character vector, the comments to store.
</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tableNames</code>, <code>columnNames</code> and <code>value</code> can be considered as columns from a same data.frame: the first comment considered will be the comment on the first <code>columnNames</code> for the first <code>tableNames</code>, and so on. Vectors are repeated to achieve same lengths if necessary.
</p>
<p>The <code>NULL</code> value can be used for <code>tableNames</code> and <code>columnNames</code> in the first syntax, with the meaning of &quot;all possible values&quot;. See the 'Examples' section.
</p>


<h3>Value</h3>

<p>The first syntax returns a list of character vectors. Names in the list are table names, names in vectors are column names. Only tables and columns with comments are present in the results.
</p>
<p>With <code>simplify</code> set to TRUE, a character vector is directly returned (without embedding list) when a single <code>tableNames</code> is interrogated, and column names are skipped if a single <code>tableNames</code> / <code>columnNames</code> couple is provided.
</p>


<h3>Note</h3>

<p>Comments on non-existing tables or columns can be manipulated as well, as there is no link between the comment storage engine and the database itself. Keep in mind these comments are stored in the .odb file, not the database itself.
</p>
<p>Comments can also be added manually from OpenOffice while creating a table.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  ODB &lt;- odb.open(odbFile)
  
  # New tables
  SQL &lt;- c(
    "CREATE TABLE fruits (
      name VARCHAR(6) PRIMARY KEY,
      color VARCHAR(32)
      )",
    "CREATE TABLE vegetables (
      name VARCHAR(6) PRIMARY KEY,
      color VARCHAR(32)
      )"
    )
  odb.write(ODB, SQL)
  
  # Setting a single comment
  odb.comments(ODB,
    tableNames = "fruits",
    columnNames = "name"
  ) &lt;- "Fruit names"
  print(odb.comments(ODB))
  
  # Setting two comments in the same table
  odb.comments(ODB,
    tableNames = "fruits",
    columnNames = c("name", "color")
  ) &lt;- "Fruit columns"
  print(odb.comments(ODB))
  
  # Setting two distinct comments
  odb.comments(ODB,
    tableNames = c("fruits", "vegetables"),
    columnNames = c("name", "color")
  ) &lt;- c("Fruit names", "Vegetable colors")
  print(odb.comments(ODB))
  
  # Writes to the file and closes the connection
  odb.close(ODB, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.create'>
Creates a .odb empty file.
</h2><span id='topic+odb.create'></span>

<h3>Description</h3>

<p>Creates an empty HSQL database embedded in a .odb file, copying a template.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.create(odbFile, template = NULL,
    overwrite = c("warning", "do", "skip", "stop"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.create_+3A_odbfile">odbFile</code></td>
<td>

<p>Path to the new file.
</p>
</td></tr>
<tr><td><code id="odb.create_+3A_template">template</code></td>
<td>

<p>Template to copy. You should not have to care about it, as the current version is included in the package (used if NULL).
</p>
</td></tr>
<tr><td><code id="odb.create_+3A_overwrite">overwrite</code></td>
<td>

<p>Single character value, defining how to handle overwriting : 'warning' will overwrite and raise a warning if a file is replaced, 'stop' will raise an error before copying anything, 'do' will overwrite silently, 'skip' won't silently.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns the single logical value returned by <code><a href="base.html#topic+file.copy">file.copy</a></code>, if no critical error occurs before it is called.
</p>


<h3>Note</h3>

<p>The default template was produced with LibreOffice Base 3.5.5.
</p>
<p>To use a different template once, just use the <code>template</code> argument of this function. Notice a non empty database can be used as template, it will be copied and only the copy will be updated.
</p>
<p>To update the default template, replace the &quot;template.odb&quot; file in the &quot;tools&quot; directory of the package with a new one. Usual templates are empty HSQL databases created with OpenOffice or LibreOffice, and saved as .odb files.
</p>
<p>Notice that newer templates may require a different version of the hsql.jar library in the <code><a href="#topic+odb.open">odb.open</a></code> call (an error will be raised if necessary). See <code><a href="#topic+odb.open">odb.open</a></code> for further details on it.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # Empty template
  print(odb.tables(odb))
  
  # New table
  odb.write(odb, "CREATE TABLE fruits (name VARCHAR(6) PRIMARY KEY)")
  odb.insert(odb, "fruits", c("banana", "pear", "peach"))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
  
  
  # Use as template
  odbFile2 &lt;- tempfile(fileext=".odb")
  odb.create(odbFile2, template=odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile2)
  print(odb.tables(odb))
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.export'>
Exports an ODB database to a SQL file.
</h2><span id='topic+odb.export'></span>

<h3>Description</h3>

<p>Produces SQL queries describing the structure of the database and its content, and saves it to a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.export(odb, file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.export_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.export_+3A_file">file</code></td>
<td>

<p>Path to the file in which export the SQL queries.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns TRUE if succeeds, raises an error if not.
</p>


<h3>Note</h3>

<p>It is just a wrapper for the &quot;SCRIPT '[file]'&quot; SQL query, as implemented in HSQLDB.
</p>
<p>Column comments and queries won't be exported, as they are not stored in the HSQL database.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New table
  odb.write(odb, "CREATE TABLE fruits (name VARCHAR(6) PRIMARY KEY)")
  odb.insert(odb, "fruits", c("banana", "pear", "peach"))
  
  # Export to a file
  sqlFile &lt;- tempfile(fileext=".odb")
  odb.export(odb, sqlFile)
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.insert'>
Wrapper for inserting data in an ODB table.
</h2><span id='topic+odb.insert'></span>

<h3>Description</h3>

<p>Translates a data.frame into &quot;INSERT INTO&quot; SQL queries adaptated to a specific table from the database. Can execute the queries directly if asked to.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.insert(odb, tableName, data, execute = TRUE,
    dateFormat = "%Y-%m-%d", ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.insert_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.insert_+3A_tablename">tableName</code></td>
<td>

<p>Single character value, naming the table from the database in which insert the data. No quoting is added so the HSQL engine will convert it to upper case, to refer to a case-specific table name you are required to double-quote this value.
</p>
</td></tr>
<tr><td><code id="odb.insert_+3A_data">data</code></td>
<td>

<p>An object coercible to data.frame, containing the data to insert into the database. Column count and order must match those of the database table, R <code>NA</code> values will be considered as SQL <code>NULL</code> values.
</p>
</td></tr>
<tr><td><code id="odb.insert_+3A_execute">execute</code></td>
<td>

<p>Single logical value. If TRUE, the data will be inserted in the database, if FALSE the queries will be returned but not executed.
</p>
</td></tr>
<tr><td><code id="odb.insert_+3A_dateformat">dateFormat</code></td>
<td>

<p>Single character value, defining how dates in &quot;data&quot; are formated. See the &quot;format&quot; argument from <code><a href="base.html#topic+strptime">strptime</a></code> for more details.
</p>
</td></tr>
<tr><td><code id="odb.insert_+3A_...">...</code></td>
<td>

<p>Further arguments for <code><a href="#topic+odb.write">odb.write</a></code>, if &quot;execute&quot; is set to TRUE.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a multiple character vector, with a distinct SQL query for each row of &quot;data&quot;. If &quot;execute&quot; is set to TRUE, the return is invisible.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.write">odb.write</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  
  ## CASE-INSENSITIVE
  
  # New table
  SQL &lt;- "CREATE TABLE fruits (
    name VARCHAR(6) PRIMARY KEY,
    color VARCHAR(32)
  )"
  odb.write(odb, SQL)
  
  # Data insertion
  dat &lt;- data.frame(
    c("banana", "pear", "peach"),
    c("yellow", "yellow", "purple")
  )
  odb.insert(odb, "fruits", dat)
  
  # Check content
  print(odb.read(odb, "SELECT * FROM fruits"))
  
  
  ## CASE-SENSITIVE
  
  # New table
  SQL &lt;- "CREATE TABLE \"Fruits\" (
    name VARCHAR(6) PRIMARY KEY,
    color VARCHAR(32)
  )"
  odb.write(odb, SQL)
  
  # Data insertion
  dat &lt;- data.frame(
    c("banana", "pear", "peach"),
    c("yellow", "yellow", "purple")
  )
  odb.insert(odb, "\"Fruits\"", dat)
  
  # Check content
  print(odb.read(odb, "SELECT * FROM \"Fruits\""))
  
  
  # Notice they are distinct tables
  print(odb.tables(odb))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.open'>
Creates a connection to a .odb file
</h2><span id='topic+odb.open'></span>

<h3>Description</h3>

<p>Extracts embedded HSQLDB files from an .odb archive an sets a DBI connection to it, in order to read or write data from the database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.open(odbFile, jarFile = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.open_+3A_odbfile">odbFile</code></td>
<td>

<p>Path to the .odb file to connect to.
</p>
</td></tr>
<tr><td><code id="odb.open_+3A_jarfile">jarFile</code></td>
<td>

<p>Path to the .jar library of HSQLDB to use in JDBC. You should not have to care about it, as the current version is included in the package (used if NULL).
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class &quot;ODB&quot;, which will be used by every other functions of the package.
</p>


<h3>Note</h3>

<p>The default hsql.jar library version is 1.8.0.10.
</p>
<p>Alternate versions may be required when using .odb files not produced by <code><a href="#topic+odb.create">odb.create</a></code>, as they can embed various versions of HSQLDB. Attempting to open an .odb file with the wrong hsql.jar library version will raise an error, it is then up to the user to download the correct hsql.jar file and provide it to <code>odb.open</code> via the <code>jarFile</code> argument.
</p>
<p>HyperSQL .jar libraries can be downloaded freely from <a href="http://www.hsqldb.org">http://www.hsqldb.org</a>.
</p>
<p>The default &quot;hsql.jar&quot; file can be replaced in the &quot;tools&quot; directory of the package if a different version is frequently required.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.close">odb.close</a></code>, <code><a href="#topic+odb.create">odb.create</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New table
  odb.write(odb, "CREATE TABLE fruits (name VARCHAR(6) PRIMARY KEY)")
  odb.insert(odb, "fruits", c("banana", "pear", "peach"))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.queries'>
Gets or sets stored queries in an ODB database
</h2><span id='topic+odb.queries'></span><span id='topic+odb.queries+3C-'></span>

<h3>Description</h3>

<p>This function allows stored SQL queries manipulation into OpenOffice Base databases, through an <code>odb</code> connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.queries(odb, queryNames = NULL)
  odb.queries(odb, queryNames) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.queries_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.queries_+3A_querynames">queryNames</code></td>
<td>

<p>Character vector naming queries to get or set.
</p>
</td></tr>
<tr><td><code id="odb.queries_+3A_value">value</code></td>
<td>

<p>Character vector, containing the SQL queries to store.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a named character vector of SQL queries.
</p>


<h3>Queries and Views</h3>

<p>These functions manipulate OpenOffice <b>queries</b>, which are stored in the .odb file and not the database itself. They should not be confused with <b>views</b>, which are SQL features handled by the database engine.
</p>
<p>Views are more portable (as they are stored in the database), and can be accessed as virtual tables in SQL queries. To manage them, user is required to use the SQL queries &quot;CREATE VIEW&quot; and &quot;DROP VIEW&quot; (with the <code>odb.write</code> in this package context). More informations on these SQL queries can be found in the HSQL documentation.
</p>


<h3>Note</h3>

<p>The user is required to check and keep its queries up-to-date himself.
</p>
<p>Queries can also be manipulated manually from OpenOffice.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New table
  odb.write(odb, "CREATE TABLE fruits (name VARCHAR(6) PRIMARY KEY)")
  odb.insert(odb, "fruits", c("banana", "pear", "peach"))
  
  # Single query
  odb.queries(odb, "banana") = "SELECT * FROM fruits WHERE name='banana'"
  print(odb.read(odb, odb.queries(odb, "banana")))
  
  # Multiple queries
  odb.queries(odb, c("banana","pear")) &lt;- c(
    "SELECT * FROM fruits WHERE name='banana'",
    "SELECT * FROM fruits WHERE name='pear'"
  )
  
  # All queries
  print(odb.queries(odb))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.read'>
Executes a reading SQL query in an ODB database (SELECT ...)
</h2><span id='topic+odb.read'></span>

<h3>Description</h3>

<p>Executes an SQL query expecting an output through an &quot;odb&quot; connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.read(odb, sqlQuery, stringsAsFactors = FALSE, check.names = FALSE,
    encode = TRUE, autoLogical = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.read_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.read_+3A_sqlquery">sqlQuery</code></td>
<td>

<p>A single character value, containing an unique SQL query to be executed.
</p>
</td></tr>
<tr><td><code id="odb.read_+3A_stringsasfactors">stringsAsFactors</code></td>
<td>

<p>Single logical value : should character columns in the output be turned to factor columns or not.
</p>
</td></tr>
<tr><td><code id="odb.read_+3A_check.names">check.names</code></td>
<td>

<p>Single logical value : should column names in the output be made syntactically valid by <code><a href="base.html#topic+make.names">make.names</a></code> or not.
</p>
</td></tr>
<tr><td><code id="odb.read_+3A_encode">encode</code></td>
<td>

<p>Single logical value : should character values be translated from UTF-8 charset (native charset for ODB files) to the locale one or not.
</p>
</td></tr>
<tr><td><code id="odb.read_+3A_autological">autoLogical</code></td>
<td>

<p>Single logical value : should logical-like columns be converted to logical or not. Notice this is a workaround, the conversion is not properly done by JDBC and the logical column type is guessed from the values.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data.frame, whose content depends on the SQL query executed.
</p>


<h3>Note</h3>

<p>To query databases built with OpenOffice or LibreOffice, it may be necessary to quote table and/or column names in <code>sqlQuery</code>, as the default behavior of the HSQL engine is to convert unquoted table and column names to uppercases.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.write">odb.write</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New table
  SQL &lt;- "CREATE TABLE fruits (
    name VARCHAR(6) PRIMARY KEY,
    color VARCHAR(32)
  )"
  odb.write(odb, SQL)
  
  # Data insertion
  dat &lt;- data.frame(
    c("banana", "pear", "peach"),
    c("yellow", "yellow", "purple")
  )
  odb.insert(odb, "fruits", dat)
  
  # Read content
  print(odb.read(odb, "SELECT * FROM fruits"))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.tables'>
Gets description of every table in an ODB database.
</h2><span id='topic+odb.tables'></span>

<h3>Description</h3>

<p>Gets description of every tables in the database through an &quot;odb&quot; connection : table names, column names, column SQL and R types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.tables(odb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.tables_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a named list, whith an element for every table in the database. Data.frames are returned by <code><a href="DBI.html#topic+dbColumnInfo">dbColumnInfo</a></code>, updated with comments returned by <code><a href="#topic+odb.comments">odb.comments</a></code>.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="DBI.html#topic+dbColumnInfo">dbColumnInfo</a></code>, <code><a href="#topic+odb.comments">odb.comments</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New tables
  SQL &lt;- c(
    "CREATE TABLE fruits (
      name VARCHAR(6) PRIMARY KEY,
      color VARCHAR(32)
      )",
    "CREATE TABLE vegetables (
      name VARCHAR(6) PRIMARY KEY,
      color VARCHAR(32)
      )"
    )
  odb.write(odb, SQL)
  
  # Print tables
  print(odb.tables(odb))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='odb.write'>
Executes writing SQL queries in an ODB database (INSERT ...)
</h2><span id='topic+odb.write'></span>

<h3>Description</h3>

<p>Executes an SQL query expecting no output through an &quot;odb&quot; connection.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  odb.write(odb, sqlQueries, onError = c("warning", "stop"),
    progress = c("console", "file", "none"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="odb.write_+3A_odb">odb</code></td>
<td>

<p>An <code><a href="#topic+ODB-class">ODB</a></code> object, as produced by <code><a href="#topic+odb.open">odb.open</a></code>.
</p>
</td></tr>
<tr><td><code id="odb.write_+3A_sqlqueries">sqlQueries</code></td>
<td>

<p>Single or multiple character vector, with queries to be executed ordered in distinct elements. &quot;;&quot; query separation should not be used.
</p>
</td></tr>
<tr><td><code id="odb.write_+3A_onerror">onError</code></td>
<td>

<p>Single character vector, defining how to handle SQL errors (using <code><a href="base.html#topic+warning">warning</a></code> or <code><a href="base.html#topic+stop">stop</a></code>). If &quot;sqlQueries&quot; contains more than one query, &quot;stop&quot; will prevent remaining queries to be executed, while &quot;warning&quot; won't.
</p>
</td></tr>
<tr><td><code id="odb.write_+3A_progress">progress</code></td>
<td>

<p>Single character vector, the type of progression to print when multiple queries are to be executed (See <code><a href="#topic+progress-class">progress-class</a></code> for further details).
</p>
</td></tr>
</table>


<h3>Note</h3>

<p>To query databases built with OpenOffice or LibreOffice, it may be necessary to quote table and/or column names in <code>sqlQueries</code>, as the default behavior of the HSQL engine is to convert unquoted table and column names to uppercases.
</p>


<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>See Also</h3>

<p><code><a href="#topic+odb.read">odb.read</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # New empty .odb file
  odbFile &lt;- tempfile(fileext=".odb")
  odb.create(odbFile, overwrite="do")
  odb &lt;- odb.open(odbFile)
  
  # New table
  odb.write(odb, "CREATE TABLE fruits (name VARCHAR(6) PRIMARY KEY)")
  odb.insert(odb, "fruits", c("banana", "pear", "peach"))
  print(odb.tables(odb))
  
  # Manual insert
  odb.write(odb, "INSERT INTO fruits VALUES('apple')")
  print(odb.read(odb, "SELECT * FROM fruits"))
  
  # Remove table
  odb.write(odb, "DROP TABLE fruits")
  print(odb.tables(odb))
  
  # Writes to the file and closes the connection
  odb.close(odb, write=TRUE)
</code></pre>

<hr>
<h2 id='progress-class'>Classes &quot;progress&quot;, &quot;progress.file&quot; and &quot;progress.console&quot;</h2><span id='topic+progress'></span><span id='topic+progress-class'></span><span id='topic+progress.console-class'></span><span id='topic+initialize+2Cprogress.console-method'></span><span id='topic+set+2Cprogress.console-method'></span><span id='topic+progress.file-class'></span><span id='topic+initialize+2Cprogress.file-method'></span><span id='topic+set+2Cprogress.file-method'></span><span id='topic+set'></span>

<h3>Description</h3>

<p>The two last classes inherit from the first one, and describe textual progression outputs.
</p>


<h3>Objects from the Class</h3>

<p><code>progress</code> is an abstract class that should not be instantiated.
</p>
<p><code>progress.file</code> and <code>progress.console</code> objects are to be created by the <code><a href="methods.html#topic+new">new</a></code> function, as <code>initialize</code> methods are implemented for each of them.
</p>
<p>See the Examples section.
</p>


<h3>progress.file constructor</h3>

<p>Objects can be created by <code><a href="methods.html#topic+new">new</a></code> with the following arguments :
</p>

<dl>
<dt><code>main</code>:</dt><dd><p>Directly transfered in the appropriate slot</p>
</dd>
<dt><code>iMax</code>:</dt><dd><p>Directly transfered in the appropriate slot</p>
</dd>
<dt><code>iCurrent</code>:</dt><dd><p>Directly transfered in the appropriate slot</p>
</dd>
<dt><code>nSteps</code>:</dt><dd><p>Approximative amount of steps, to pass to <code><a href="base.html#topic+pretty">pretty</a></code></p>
</dd>
</dl>



<h3>progress.console constructor</h3>

<p>Objects can be created by <code><a href="methods.html#topic+new">new</a></code> with the following arguments :
</p>

<dl>
<dt><code>main</code>:</dt><dd><p>Directly transfered in the appropriate slot</p>
</dd>
<dt><code>iMax</code>:</dt><dd><p>Directly transfered in the appropriate slot</p>
</dd>
<dt><code>iCurrent</code>:</dt><dd><p>Directly transfered in the appropriate slot</p>
</dd>
</dl>



<h3>Common slots</h3>


<dl>
<dt><code>main</code>:</dt><dd><p>Single character value, the title to print at beginning</p>
</dd>
<dt><code>iMax</code>:</dt><dd><p>Single integer value, the maximum value for the iteration index</p>
</dd>
<dt><code>iCurrent</code>:</dt><dd><p>Single integer value, the current value of the iteration index</p>
</dd>
</dl>



<h3>progress.console slots</h3>


<dl>
<dt><code>pTimes</code>:</dt><dd><p>Float vector, <code><a href="base.html#topic+proc.time">proc.time</a></code> returns used to compute the ETA</p>
</dd>
<dt><code>eraseLength</code>:</dt><dd><p>Single integer value, <code><a href="base.html#topic+nchar">nchar</a></code> in the previous output</p>
</dd>
</dl>



<h3>progress.file slots</h3>


<dl>
<dt><code>steps</code>:</dt><dd><p>Integer vector, iteration indexes for which print an output</p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>initialize</dt><dd><p>Constructors of the classes, see previous sections.</p>
</dd>
<dt>set</dt><dd><p>Updates a progression objects. Takes two arguments : <code>progress</code> (the object to update) and <code>iCurrent</code>, the new value for the iteration index. On each update, a <code><a href="base.html#topic+message">message</a></code> will be printed according to the class of the updated object.</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sylvain Mareschal
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # File oriented progression
  testFun = function() {
    obj &lt;- new("progress.file", main="Iterating", iMax=20)
    for(i in 1:20) {
      obj = set(obj, i)
      Sys.sleep(0.1)
    }
  }
  testFun()
 
  # Console oriented progression
  testFun = function() {
    obj &lt;- new("progress.console", main="Iterating", iMax=20)
    for(i in 1:20) {
      obj = set(obj, i)
      Sys.sleep(0.1)
    }
  }
  testFun()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package leafpm</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {leafpm}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addPmToolbar'><p>Add 'leaflet-pm' Toolbar to a Leaflet 'htmlwidget'</p></a></li>
<li><a href='#pmCutOptions'><p>Set Options for 'leaflet.pm' Cut Mode</p></a></li>
<li><a href='#pmDependencies'><p>Dependencies for 'leaflet-pm'</p></a></li>
<li><a href='#pmDrawOptions'><p>Set Options for 'leaflet.pm' Draw Mode</p></a></li>
<li><a href='#pmEditOptions'><p>Set Options for 'leaflet.pm' Edit Mode</p></a></li>
<li><a href='#pmToolbarOptions'><p>Set Options for 'leaflet.pm' Toolbar</p></a></li>
<li><a href='#removePmToolbar'><p>Removes the 'leaflet.pm' toolbar</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-03-09</td>
</tr>
<tr>
<td>Title:</td>
<td>Leaflet Map Plugin for Drawing and Editing</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of tools for interactive manipulation of (spatial) data 
    layers on leaflet web maps. Tools include editing of existing layers, creation 
    of new layers through drawing of shapes (points, lines, polygons), deletion 
    of shapes as well as cutting holes into existing shapes. Provides control over 
    options to e.g. prevent self-intersection of polygons and lines or to enable/disable 
    snapping to align shapes.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r-spatial/leafpm">https://github.com/r-spatial/leafpm</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-spatial/leafpm/issues">https://github.com/r-spatial/leafpm/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.1.1</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, htmltools (&ge; 0.3), htmlwidgets, jsonlite, leaflet (&ge;
2.0.1), sf (&ge; 0.5-2),</td>
</tr>
<tr>
<td>Enhances:</td>
<td>geojsonio, mapedit, mapview, shiny</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-03-09 14:18:12 UTC; kentr</td>
</tr>
<tr>
<td>Author:</td>
<td>Kenton Russell [aut, cre],
  Tim Appelhans [aut],
  Sumit Kumar [ctb] (Leaflet.pm plugin)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Kenton Russell &lt;kent.russell@timelyportfolio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-03-13 12:10:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='addPmToolbar'>Add 'leaflet-pm' Toolbar to a Leaflet 'htmlwidget'</h2><span id='topic+addPmToolbar'></span>

<h3>Description</h3>

<p>Add 'leaflet-pm' Toolbar to a Leaflet 'htmlwidget'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addPmToolbar(map = NULL, targetLayerId = NULL, targetGroup = NULL,
  toolbarOptions = pmToolbarOptions(), drawOptions = pmDrawOptions(),
  editOptions = pmEditOptions(), cutOptions = pmCutOptions())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addPmToolbar_+3A_map">map</code></td>
<td>
<p><code>leaflet</code> map htmlwidget to which the toolbar should be added</p>
</td></tr>
<tr><td><code id="addPmToolbar_+3A_targetlayerid">targetLayerId</code></td>
<td>
<p><code>string</code> id of the feature to edit</p>
</td></tr>
<tr><td><code id="addPmToolbar_+3A_targetgroup">targetGroup</code></td>
<td>
<p><code>string</code> name of the group to edit</p>
</td></tr>
<tr><td><code id="addPmToolbar_+3A_toolbaroptions">toolbarOptions</code></td>
<td>
<p><code><a href="#topic+pmToolbarOptions">pmToolbarOptions</a></code></p>
</td></tr>
<tr><td><code id="addPmToolbar_+3A_drawoptions">drawOptions</code></td>
<td>
<p><code><a href="#topic+pmDrawOptions">pmDrawOptions</a></code></p>
</td></tr>
<tr><td><code id="addPmToolbar_+3A_editoptions">editOptions</code></td>
<td>
<p><code><a href="#topic+pmEditOptions">pmEditOptions</a></code></p>
</td></tr>
<tr><td><code id="addPmToolbar_+3A_cutoptions">cutOptions</code></td>
<td>
<p><code><a href="#topic+pmCutOptions">pmCutOptions</a></code></p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>leaflet</code> htmlwidget
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if(interactive()) {
  library(leaflet)
  library(leafpm)

  # quick example
  leaflet() %&gt;%
    addTiles() %&gt;%
    addPmToolbar()

  # customizing with options
  leaflet() %&gt;%
    addTiles() %&gt;%
    addPmToolbar(
      toolbarOptions = pmToolbarOptions(drawMarker = FALSE, position = "topright"),
      drawOptions = pmDrawOptions(snappable = FALSE, allowSelfIntersection = FALSE),
      editOptions = pmEditOptions(preventMarkerRemoval = TRUE, draggable = FALSE),
      cutOptions = pmCutOptions(snappable = FALSE, allowSelfIntersection = FALSE)
    )

  # demonstrate that leaflet.pm can work with holes
  library(sf)
  library(leaflet)
  library(leafpm)

  outer1 = matrix(c(0,0,10,0,10,10,0,10,0,0),ncol=2, byrow=TRUE)
  hole1 = matrix(c(1,1,1,2,2,2,2,1,1,1),ncol=2, byrow=TRUE)
  hole2 = matrix(c(5,5,5,6,6,6,6,5,5,5),ncol=2, byrow=TRUE)
  outer2 = matrix(c(11,0,11,1,12,1,12,0,11,0),ncol=2, byrow=TRUE)

  pts1 = list(outer1, hole1, hole2)
  pts2 = list(outer2)

  pl1 = st_sf(geom = st_sfc(st_polygon(pts1)))
  pl2 = st_sf(geom = st_sfc(st_polygon(pts2)))

  mpl = st_sf(geom = st_combine(rbind(pl1, pl2)))

  if(requireNamespace("mapview")) {
    mapview::mapview(mpl)@map %&gt;%
      addPmToolbar(targetGroup = "mpl", cutOptions = pmCutOptions(snappable = FALSE))
  } else {
    warning("Please install mapview to run this example", call. = FALSE)
  }

}
</code></pre>

<hr>
<h2 id='pmCutOptions'>Set Options for 'leaflet.pm' Cut Mode</h2><span id='topic+pmCutOptions'></span>

<h3>Description</h3>

<p>Set Options for 'leaflet.pm' Cut Mode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmCutOptions(snappable = FALSE, allowSelfIntersection = TRUE,
  cursorMarker = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmCutOptions_+3A_snappable">snappable</code></td>
<td>
<p><code>logical</code> to snap while drawing. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmCutOptions_+3A_allowselfintersection">allowSelfIntersection</code></td>
<td>
<p><code>logical</code> to allow self-intersection.  Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmCutOptions_+3A_cursormarker">cursorMarker</code></td>
<td>
<p><code>logical</code> to show a marker at the cursor.  Default is <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of options
</p>

<hr>
<h2 id='pmDependencies'>Dependencies for 'leaflet-pm'</h2><span id='topic+pmDependencies'></span>

<h3>Description</h3>

<p>Dependencies for 'leaflet-pm'
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmDependencies()
</code></pre>


<h3>Value</h3>

<p>htmltools::htmlDependency
</p>

<hr>
<h2 id='pmDrawOptions'>Set Options for 'leaflet.pm' Draw Mode</h2><span id='topic+pmDrawOptions'></span>

<h3>Description</h3>

<p>Set Options for 'leaflet.pm' Draw Mode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmDrawOptions(snappable = TRUE, snapDistance = 20, snapMiddle = TRUE,
  tooltips = TRUE, cursorMarker = TRUE, finishOn = NULL,
  allowSelfIntersection = TRUE, templineStyle = list(),
  hintlineStyle = list(color = "#3388ff", dashArray = "5,5"),
  markerStyle = list(draggable = TRUE))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmDrawOptions_+3A_snappable">snappable</code></td>
<td>
<p><code>logical</code> to snap while drawing. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_snapdistance">snapDistance</code></td>
<td>
<p><code>integer</code> for the distance within which snapping will occur.  Default is <code>20</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_snapmiddle">snapMiddle</code></td>
<td>
<p><code>logical</code> to snap in the middle of segments. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_tooltips">tooltips</code></td>
<td>
<p><code>logical</code> to show tooltips.  Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_cursormarker">cursorMarker</code></td>
<td>
<p><code>logical</code> to show a marker at the cursor.  Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_finishon">finishOn</code></td>
<td>
<p><code>string</code> type of layer event to finish the drawn shape.  Example events are
'mouseout', 'dblclick', 'contextmenu'.  Default is <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_allowselfintersection">allowSelfIntersection</code></td>
<td>
<p><code>logical</code> to allow self-intersection.  Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_templinestyle">templineStyle</code></td>
<td>
<p><code>list</code> to customize the styling of the lines between coordinates and markers.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_hintlinestyle">hintlineStyle</code></td>
<td>
<p><code>list</code> to customize the styling of the line between the last marker and the cursor.</p>
</td></tr>
<tr><td><code id="pmDrawOptions_+3A_markerstyle">markerStyle</code></td>
<td>
<p><code>list</code> to customize the styling of the added marker.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of options
</p>

<hr>
<h2 id='pmEditOptions'>Set Options for 'leaflet.pm' Edit Mode</h2><span id='topic+pmEditOptions'></span>

<h3>Description</h3>

<p>Set Options for 'leaflet.pm' Edit Mode
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmEditOptions(snappable = TRUE, snapDistance = 20,
  allowSelfIntersection = TRUE, draggable = TRUE,
  preventMarkerRemoval = FALSE, preventVertexEdit = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmEditOptions_+3A_snappable">snappable</code></td>
<td>
<p><code>logical</code> to snap while drawing. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmEditOptions_+3A_snapdistance">snapDistance</code></td>
<td>
<p><code>integer</code> for the distance within which snapping will occur.  Default is <code>20</code>.</p>
</td></tr>
<tr><td><code id="pmEditOptions_+3A_allowselfintersection">allowSelfIntersection</code></td>
<td>
<p><code>logical</code> to allow self-intersection.  Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmEditOptions_+3A_draggable">draggable</code></td>
<td>
<p><code>logical</code> make the layer draggable.  Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmEditOptions_+3A_preventmarkerremoval">preventMarkerRemoval</code></td>
<td>
<p><code>logical</code> to disable removal via right-click.  Default is <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="pmEditOptions_+3A_preventvertexedit">preventVertexEdit</code></td>
<td>
<p><code>logical</code> to disable editing of vertices.  Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>list</code> of options
</p>

<hr>
<h2 id='pmToolbarOptions'>Set Options for 'leaflet.pm' Toolbar</h2><span id='topic+pmToolbarOptions'></span>

<h3>Description</h3>

<p>Set Options for 'leaflet.pm' Toolbar
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pmToolbarOptions(drawMarker = TRUE, drawPolygon = TRUE,
  drawPolyline = TRUE, drawCircle = TRUE, drawRectangle = TRUE,
  editMode = TRUE, cutPolygon = TRUE, removalMode = TRUE,
  position = "topleft")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pmToolbarOptions_+3A_drawmarker">drawMarker</code></td>
<td>
<p><code>logical</code> add button to draw a marker. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_drawpolygon">drawPolygon</code></td>
<td>
<p><code>logical</code> add button to draw a polygon. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_drawpolyline">drawPolyline</code></td>
<td>
<p><code>logical</code> add button to draw a polyline. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_drawcircle">drawCircle</code></td>
<td>
<p><code>logical</code> add button to draw a circle. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_drawrectangle">drawRectangle</code></td>
<td>
<p><code>logical</code> add button to draw a rectangle. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_editmode">editMode</code></td>
<td>
<p><code>logical</code> add button to edit features. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_cutpolygon">cutPolygon</code></td>
<td>
<p><code>logical</code> add button to cut a hole. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_removalmode">removalMode</code></td>
<td>
<p><code>logical</code> add button to remove features. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="pmToolbarOptions_+3A_position">position</code></td>
<td>
<p><code>string</code> toolbar position. Options are 'topleft', 'topright', 'bottomleft', 'bottomright'.
Default is <code>'topleft'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>leaflet</code> htmlwidget with added toolbar
</p>

<hr>
<h2 id='removePmToolbar'>Removes the 'leaflet.pm' toolbar</h2><span id='topic+removePmToolbar'></span>

<h3>Description</h3>

<p>Removes the 'leaflet.pm' toolbar
</p>


<h3>Usage</h3>

<pre><code class='language-R'>removePmToolbar(map, clearFeatures = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="removePmToolbar_+3A_map">map</code></td>
<td>
<p><code>leaflet</code> map htmlwidget from which the toolbar should be removed</p>
</td></tr>
<tr><td><code id="removePmToolbar_+3A_clearfeatures">clearFeatures</code></td>
<td>
<p>whether to clear the map of drawn features. currently not working</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>leaflet</code> htmlwidget
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

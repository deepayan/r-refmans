<!DOCTYPE html><html lang="en"><head><title>Help for package ggmapcn</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggmapcn}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#basemap_dem'><p>Elevation Map of China Layer for ggplot2</p></a></li>
<li><a href='#basemap_vege'><p>Vegetation Map of China Layer for ggplot2</p></a></li>
<li><a href='#check_geodata'><p>Check and Download Geospatial Data from GitHub</p></a></li>
<li><a href='#coord_proj'><p>Coordinate System with Transformed Limits for Custom Projections</p></a></li>
<li><a href='#geom_boundary_cn'><p>Plot Boundaries of China</p></a></li>
<li><a href='#geom_buffer_cn'><p>Plot Buffered Layers for China's Boundary</p></a></li>
<li><a href='#geom_loc'><p>Visualize Spatial Point Data</p></a></li>
<li><a href='#geom_mapcn'><p>Plot China Map with Customizable Options</p></a></li>
<li><a href='#geom_world'><p>Plot World Map with Customizable Options</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Customizable China Map Visualizations</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'ggplot2' extension for visualizing Chinaâ€™s map, offering customizable projections, boundary styles, and buffer zones for thematic maps. 
    Suitable for spatial data analysis and enhancing map visualization with flexible styling options.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), ggplot2 (&ge; 3.4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf (&ge; 1.0.0), dplyr (&ge; 1.1.0), rlang (&ge; 1.1.3), ggspatial
(&ge; 1.1.8), terra (&ge; 1.7), tidyterra (&ge; 0.6.0), curl (&ge;
6.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://rimagination.github.io/ggmapcn/">https://rimagination.github.io/ggmapcn/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/Rimagination/ggmapcn/issues">https://github.com/Rimagination/ggmapcn/issues</a></td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-11 16:39:20 UTC; Administrator</td>
</tr>
<tr>
<td>Author:</td>
<td>Liang Ren <a href="https://orcid.org/0000-0002-2360-7900"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Liang Ren &lt;rl23@mails.tsinghua.edu.cn&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-14 10:10:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='basemap_dem'>Elevation Map of China Layer for ggplot2</h2><span id='topic+basemap_dem'></span>

<h3>Description</h3>

<p>'basemap_dem' adds a digital elevation model (DEM) raster map of China as a layer to ggplot2.
The function ensures the output map remains rectangular, regardless of the chosen projection.
It supports displaying the DEM either within China's boundary or in a larger rectangular area
around China. Users can provide their own DEM data using the 'data' parameter, or the default
built-in DEM data will be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemap_dem(
  data = NULL,
  crs = NULL,
  within_china = FALSE,
  maxcell = 1e+06,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basemap_dem_+3A_data">data</code></td>
<td>
<p>Optional. A 'terra' raster object for custom DEM data.</p>
</td></tr>
<tr><td><code id="basemap_dem_+3A_crs">crs</code></td>
<td>
<p>Coordinate reference system (CRS) for the projection. Defaults to the CRS of the DEM data.
Users can specify other CRS strings (e.g., '&quot;EPSG:4326&quot;' or custom projections).</p>
</td></tr>
<tr><td><code id="basemap_dem_+3A_within_china">within_china</code></td>
<td>
<p>Logical. If &lsquo;TRUE', displays only the DEM within China&rsquo;s boundary.
If 'FALSE', displays the DEM for a larger rectangular area around China. Default is 'FALSE'.</p>
</td></tr>
<tr><td><code id="basemap_dem_+3A_maxcell">maxcell</code></td>
<td>
<p>Maximum number of cells for rendering (to improve performance). Defaults to '1e6'.</p>
</td></tr>
<tr><td><code id="basemap_dem_+3A_na.rm">na.rm</code></td>
<td>
<p>Logical. If 'TRUE', removes missing values. Default is 'FALSE'.</p>
</td></tr>
<tr><td><code id="basemap_dem_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to 'geom_spatraster'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'ggplot' object containing the elevation map of China as a layer, which can be further customized or plotted.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_boundary_cn">geom_boundary_cn</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Before using the basemap_dem function, make sure the required data files are available.
# The required files are: "gebco_2024_China.tif" and "China_mask.gpkg".
# You can use check_geodata() to download them from GitHub if they are not available locally.

# Check and download the required data files if they are missing
check_geodata(files = c("gebco_2024_China.tif", "China_mask.gpkg"))

# Define the CRS for China (EPSG:4326 is a common global geographic coordinate system)
china_proj &lt;- "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs"

# Example 1: Display full rectangular area around China using built-in DEM data
ggplot() +
  basemap_dem(within_china = FALSE) +
  tidyterra::scale_fill_hypso_tint_c(
    palette = "gmt_globe",
    breaks = c(-10000, -5000, 0, 2000, 5000, 8000)
  ) +
  theme_minimal()

# Example 2: Display only China's DEM and boundaries using built-in DEM data
ggplot() +
  basemap_dem(crs = china_proj, within_china = TRUE) +
  geom_boundary_cn(crs = china_proj) +
  tidyterra::scale_fill_hypso_c(
    palette = "dem_print",
    breaks = c(0, 2000, 4000, 6000),
    limits = c(0, 7000)
  ) +
  labs(fill = "Elevation (m)") +
  theme_minimal()

</code></pre>

<hr>
<h2 id='basemap_vege'>Vegetation Map of China Layer for ggplot2</h2><span id='topic+basemap_vege'></span>

<h3>Description</h3>

<p>Adds a vegetation raster map of China to a ggplot2 plot, with color-coded vegetation types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>basemap_vege(
  color_table = NULL,
  crs = NULL,
  maxcell = 1e+06,
  use_coltab = TRUE,
  na.rm = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="basemap_vege_+3A_color_table">color_table</code></td>
<td>
<p>A data frame containing vegetation types and their corresponding colors.
It should have columns &quot;code&quot; (raster values), &quot;type&quot; (vegetation names), and &quot;col&quot; (hex color codes).
If NULL, a default color table based on standard vegetation classifications for China is used.</p>
</td></tr>
<tr><td><code id="basemap_vege_+3A_crs">crs</code></td>
<td>
<p>A character string specifying the coordinate reference system for the projection.
If NULL, the default projection &quot;+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs&quot; is applied.</p>
</td></tr>
<tr><td><code id="basemap_vege_+3A_maxcell">maxcell</code></td>
<td>
<p>An integer indicating the maximum number of cells for rendering to improve performance.
Defaults to 1e6.</p>
</td></tr>
<tr><td><code id="basemap_vege_+3A_use_coltab">use_coltab</code></td>
<td>
<p>A logical value indicating whether to use the color table for raster values. Default is TRUE.</p>
</td></tr>
<tr><td><code id="basemap_vege_+3A_na.rm">na.rm</code></td>
<td>
<p>A logical value indicating whether to remove missing values. Default is FALSE.</p>
</td></tr>
<tr><td><code id="basemap_vege_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to 'geom_spatraster'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer object representing the vegetation map of China.
</p>


<h3>References</h3>

<p>Zhang X, Sun S, Yong S, et al. (2007). *Vegetation map of the People's Republic of China (1:1000000)*. Geology Publishing House, Beijing.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Example1: Check and load the vegetation raster map

# Make sure the required raster data is available
check_geodata(files = c("vege_1km_projected.tif"))

# Once the data is checked or downloaded, add the vegetation raster to a ggplot
ggplot() +
  basemap_vege() +
  theme_minimal()

# Example2: Customize color table
custom_colors &lt;- data.frame(
  code = 0:11,
  type = c(
    "Non-vegetated", "Needleleaf forest", "Needleleaf and broadleaf mixed forest",
    "Broadleaf forest", "Scrub", "Desert", "Steppe", "Grassland",
    "Meadow", "Swamp", "Alpine vegetation", "Cultivated vegetation"
  ),
  col = c(
    "#8D99B3", "#97B555", "#34BF36", "#9ACE30", "#2EC6C9", "#E5CE0E",
    "#5BB1ED", "#6494EF", "#7AB9CB", "#D97A80", "#B87701", "#FEB780"
  )
)
ggplot() +
  basemap_vege(color_table = custom_colors) +
  labs(fill = "Vegetation type group") +
  theme_minimal()

</code></pre>

<hr>
<h2 id='check_geodata'>Check and Download Geospatial Data from GitHub</h2><span id='topic+check_geodata'></span>

<h3>Description</h3>

<p>Checks if the required geospatial data files are present in the package's 'inst/extdata' directory. If the files are missing, they are downloaded from a specified GitHub repository. The user can specify which files to download, or download all available files by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_geodata(files = NULL, overwrite = FALSE, quiet = FALSE, max_retries = 3)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_geodata_+3A_files">files</code></td>
<td>
<p>Character vector. The names of the data files to download. If 'NULL', all available files will be downloaded.</p>
</td></tr>
<tr><td><code id="check_geodata_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical. Whether to overwrite existing files in 'inst/extdata/'. Default is 'FALSE'.</p>
</td></tr>
<tr><td><code id="check_geodata_+3A_quiet">quiet</code></td>
<td>
<p>Logical. If 'TRUE', suppresses message outputs when files already exist. Default is 'FALSE'.</p>
</td></tr>
<tr><td><code id="check_geodata_+3A_max_retries">max_retries</code></td>
<td>
<p>Integer. The maximum number of retries if a download fails. Default is '3'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function uses the 'curl' package to download files, and supports displaying a progress bar during the download process. It is particularly useful for large files or when the default download method ('download.file') is slow or unreliable.
</p>


<h3>Value</h3>

<p>A character vector of file paths to the downloaded or existing files.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Check for and download all geospatial data from GitHub
file_paths &lt;- check_geodata()

# Check and download specific files
file_paths &lt;- check_geodata(files = c("boundary.rda"))

</code></pre>

<hr>
<h2 id='coord_proj'>Coordinate System with Transformed Limits for Custom Projections</h2><span id='topic+coord_proj'></span>

<h3>Description</h3>

<p>'coord_proj' is a wrapper around <code><a href="ggplot2.html#topic+coord_sf">ggplot2::coord_sf()</a></code>.
It simplifies specifying map limits ('xlim', 'ylim') in longitude and latitude (WGS84 CRS)
and automatically transforms them into the specified CRS for accurate projections.
</p>
<p>This function extends the functionality of <code>coord_sf()</code> to seamlessly handle user-specified
geographic boundaries in any projection, ensuring accurate mapping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_proj(
  crs = NULL,
  xlim = NULL,
  ylim = NULL,
  expand = TRUE,
  default_crs = "EPSG:4326",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="coord_proj_+3A_crs">crs</code></td>
<td>
<p>A character string specifying the coordinate reference system (CRS) for the projection
(e.g., '&quot;EPSG:4326&quot;' or custom projections like '&quot;+proj=merc&quot;').</p>
</td></tr>
<tr><td><code id="coord_proj_+3A_xlim">xlim</code></td>
<td>
<p>Longitude range (in degrees) to display, as a numeric vector of length 2.</p>
</td></tr>
<tr><td><code id="coord_proj_+3A_ylim">ylim</code></td>
<td>
<p>Latitude range (in degrees) to display, as a numeric vector of length 2.</p>
</td></tr>
<tr><td><code id="coord_proj_+3A_expand">expand</code></td>
<td>
<p>Logical, whether to expand the plot limits. Default is 'TRUE'.</p>
</td></tr>
<tr><td><code id="coord_proj_+3A_default_crs">default_crs</code></td>
<td>
<p>A character string specifying the CRS of the input 'xlim' and 'ylim'.
Default is '&quot;EPSG:4326&quot;'.</p>
</td></tr>
<tr><td><code id="coord_proj_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code><a href="ggplot2.html#topic+coord_sf">ggplot2::coord_sf()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 <code>coord_sf</code> object with the transformed limits.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+coord_sf">ggplot2::coord_sf</a></code>, <code><a href="#topic+geom_world">geom_world</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# World map with default projection and limits
ggplot() +
  geom_world() +
  coord_proj(
    crs = "+proj=longlat +datum=WGS84",
    xlim = c(-180, 180),
    ylim = c(-90, 90),
    expand=FALSE
  ) +
  theme_minimal()

# Focused view with Azimuthal Equidistant projection
china_proj &lt;- "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs"
ggplot() +
  geom_world(fill = "lightblue") +
  coord_proj(
    crs = china_proj,
    xlim = c(60, 140),
    ylim = c(-10, 50)
  ) +
  theme_minimal()

# Display a small map of the South China Sea Islands with a custom projection
ggplot() +
  geom_boundary_cn() +
  theme_bw() +
  coord_proj(
    crs = china_proj,
    expand = FALSE,
    xlim = c(105, 123),
    ylim = c(2, 23)
  )

</code></pre>

<hr>
<h2 id='geom_boundary_cn'>Plot Boundaries of China</h2><span id='topic+geom_boundary_cn'></span>

<h3>Description</h3>

<p>Draws various types of boundaries for China. Each boundary type can be customized
in terms of color, line width, and line type. This function also allows optional
addition of a compass and a scale bar.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_boundary_cn(
  crs = "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs",
  compass = FALSE,
  scale = FALSE,
  mainland_color = "black",
  mainland_size = 0.5,
  mainland_linetype = "solid",
  coastline_color = "blue",
  coastline_size = 0.3,
  coastline_linetype = "solid",
  ten_segment_line_color = "black",
  ten_segment_line_size = 0.5,
  ten_segment_line_linetype = "solid",
  SAR_boundary_color = "grey",
  SAR_boundary_size = 0.5,
  SAR_boundary_linetype = "dashed",
  undefined_boundary_color = "black",
  undefined_boundary_size = 0.5,
  undefined_boundary_linetype = "longdash",
  province_color = "transparent",
  province_size = 0.3,
  province_linetype = "solid",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_boundary_cn_+3A_crs">crs</code></td>
<td>
<p>Character. Coordinate reference system (CRS) for the projection.
Defaults to '&quot;+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs&quot;'.
Users can specify other CRS strings to customize the projection (e.g., '&quot;+proj=merc&quot;' for Mercator).</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_compass">compass</code></td>
<td>
<p>Logical. Whether to display a compass (north arrow). Default is 'FALSE'.
If set to 'TRUE', a default compass (north arrow) with 'ggspatial::north_arrow_fancy_orienteering()'
will be added to the top-left corner. To customize the compass, use 'ggspatial::annotation_north_arrow()' directly.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_scale">scale</code></td>
<td>
<p>Logical. Whether to display a scale bar. Default is 'FALSE'.
If set to 'TRUE', a default scale bar with 'ggspatial::annotation_scale()' will be added to the bottom-left corner.
To customize the scale bar, use 'ggspatial::annotation_scale()' directly.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_mainland_color">mainland_color</code></td>
<td>
<p>Character. Color for the mainland boundary. Default is '&quot;black&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_mainland_size">mainland_size</code></td>
<td>
<p>Numeric. Line width for the mainland boundary. Default is '0.5'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_mainland_linetype">mainland_linetype</code></td>
<td>
<p>Character. Line type for the mainland boundary. Default is '&quot;solid&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_coastline_color">coastline_color</code></td>
<td>
<p>Character. Color for the coastline. Default is '&quot;blue&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_coastline_size">coastline_size</code></td>
<td>
<p>Numeric. Line width for the coastline. Default is '0.3'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_coastline_linetype">coastline_linetype</code></td>
<td>
<p>Character. Line type for the coastline. Default is '&quot;solid&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_ten_segment_line_color">ten_segment_line_color</code></td>
<td>
<p>Character. Color for the ten-segment line. Default is '&quot;black&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_ten_segment_line_size">ten_segment_line_size</code></td>
<td>
<p>Numeric. Line width for the ten-segment line. Default is '0.5'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_ten_segment_line_linetype">ten_segment_line_linetype</code></td>
<td>
<p>Character. Line type for the ten-segment line. Default is '&quot;solid&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_sar_boundary_color">SAR_boundary_color</code></td>
<td>
<p>Character. Color for the SAR boundary. Default is '&quot;grey&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_sar_boundary_size">SAR_boundary_size</code></td>
<td>
<p>Numeric. Line width for the SAR boundary. Default is '0.5'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_sar_boundary_linetype">SAR_boundary_linetype</code></td>
<td>
<p>Character. Line type for the SAR boundary. Default is '&quot;dashed&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_undefined_boundary_color">undefined_boundary_color</code></td>
<td>
<p>Character. Color for the undefined boundary. Default is '&quot;black&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_undefined_boundary_size">undefined_boundary_size</code></td>
<td>
<p>Numeric. Line width for the undefined boundary. Default is '0.5'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_undefined_boundary_linetype">undefined_boundary_linetype</code></td>
<td>
<p>Character. Line type for the undefined boundary. Default is '&quot;longdash&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_province_color">province_color</code></td>
<td>
<p>Character. Color for the provincial boundaries. Default is '&quot;transparent&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_province_size">province_size</code></td>
<td>
<p>Numeric. Line width for the provincial boundaries. Default is '0.3'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_province_linetype">province_linetype</code></td>
<td>
<p>Character. Line type for the provincial boundaries. Default is '&quot;solid&quot;'.</p>
</td></tr>
<tr><td><code id="geom_boundary_cn_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to 'geom_sf'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of ggplot2 layers representing China's multi-segment boundaries with the specified styles.
Optionally includes a compass (north arrow) and a scale bar, depending on the 'compass' and 'scale' arguments.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Plot China's boundaries with default settings
ggplot() +
  geom_boundary_cn() +
  theme_minimal()

# Plot China's boundaries with a compass and scale bar
ggplot() +
  geom_boundary_cn(compass = TRUE, scale = TRUE) +
  theme_minimal()

# For customized compass or scale bar, use ggspatial directly:
ggplot() +
  geom_boundary_cn() +
  ggspatial::annotation_north_arrow(
    location = "br", style = ggspatial::north_arrow_minimal()
  ) +
  ggspatial::annotation_scale(
    location = "tr", width_hint = 0.3
  ) +
  theme_minimal()

</code></pre>

<hr>
<h2 id='geom_buffer_cn'>Plot Buffered Layers for China's Boundary</h2><span id='topic+geom_buffer_cn'></span>

<h3>Description</h3>

<p>Creates a ggplot2 layer for displaying buffered areas around China's boundaries,
including both the mainland boundary and the ten-segment line. Buffers with user-defined distances
are generated around each boundary, providing flexibility in projection and appearance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_buffer_cn(
  mainland_dist = 20000,
  ten_line_dist = NULL,
  crs = "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs",
  color = NA,
  fill = "#D2D5EB",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_buffer_cn_+3A_mainland_dist">mainland_dist</code></td>
<td>
<p>Numeric. The buffer distance (in meters) for the mainland boundary.</p>
</td></tr>
<tr><td><code id="geom_buffer_cn_+3A_ten_line_dist">ten_line_dist</code></td>
<td>
<p>Numeric. The buffer distance (in meters) for each segment of the ten-segment line.
If not specified, it defaults to the same value as 'mainland_dist'.</p>
</td></tr>
<tr><td><code id="geom_buffer_cn_+3A_crs">crs</code></td>
<td>
<p>Character. The coordinate reference system (CRS) for the projection.
Defaults to &quot;+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs&quot;.
Users can specify other CRS strings (e.g., &quot;+proj=merc&quot; for Mercator).</p>
</td></tr>
<tr><td><code id="geom_buffer_cn_+3A_color">color</code></td>
<td>
<p>Character. The border color for the buffer area. Default is 'NA' (transparent).</p>
</td></tr>
<tr><td><code id="geom_buffer_cn_+3A_fill">fill</code></td>
<td>
<p>Character. The fill color for the buffer area. Default is '&quot;#D2D5EB&quot;'.</p>
</td></tr>
<tr><td><code id="geom_buffer_cn_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to 'geom_sf'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot2 layer displaying buffered areas around China's boundaries,
with customizable buffer distances for the mainland boundary and the ten-segment line,
using the specified projection.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Plot buffers with specified distances for mainland and ten-segment line
ggplot() +
  geom_buffer_cn(
    mainland_dist = 10000,
    ten_line_dist = 5000
  ) +
  theme_minimal()

</code></pre>

<hr>
<h2 id='geom_loc'>Visualize Spatial Point Data</h2><span id='topic+geom_loc'></span>

<h3>Description</h3>

<p>'geom_loc' is a wrapper around <code><a href="ggplot2.html#topic+geom_sf">ggplot2::geom_sf()</a></code> designed
for visualizing spatial point data. It supports both <code>sf</code> objects and tabular data frames
with longitude and latitude columns, automatically transforming them into the specified
coordinate reference system (CRS).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_loc(
  data,
  lon = NULL,
  lat = NULL,
  crs = "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs",
  mapping = ggplot2::aes(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_loc_+3A_data">data</code></td>
<td>
<p>A data frame, tibble, or <code>sf</code> object containing spatial point data.</p>
</td></tr>
<tr><td><code id="geom_loc_+3A_lon">lon</code></td>
<td>
<p>A character string. The name of the longitude column in <code>data</code>
(required if <code>data</code> is tabular).</p>
</td></tr>
<tr><td><code id="geom_loc_+3A_lat">lat</code></td>
<td>
<p>A character string. The name of the latitude column in <code>data</code>
(required if <code>data</code> is tabular).</p>
</td></tr>
<tr><td><code id="geom_loc_+3A_crs">crs</code></td>
<td>
<p>A character string. The target coordinate reference system (CRS) for the data.
Defaults to <code>"+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs"</code>.</p>
</td></tr>
<tr><td><code id="geom_loc_+3A_mapping">mapping</code></td>
<td>
<p>Aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">ggplot2::aes()</a></code>,
such as <code>color</code> or <code>size</code>.</p>
</td></tr>
<tr><td><code id="geom_loc_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to <code><a href="ggplot2.html#topic+geom_sf">ggplot2::geom_sf()</a></code>,
such as <code>size</code>, <code>alpha</code>, or <code>color</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function simplifies the process of visualizing spatial data in ggplot2 by automatically
handling CRS transformations and providing an interface for both <code>sf</code> and tabular data.
If the input is a tabular data frame, it will be converted to an <code>sf</code> object using the
specified longitude and latitude columns.
</p>
<p>See <code><a href="ggplot2.html#topic+geom_sf">ggplot2::geom_sf()</a></code> for details on additional parameters
and aesthetics.
</p>


<h3>Value</h3>

<p>A ggplot2 layer for visualizing spatial point data, either from an 'sf' object or a tabular data frame
with longitude and latitude columns, after transforming the data to the specified coordinate reference system (CRS).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+geom_boundary_cn">geom_boundary_cn</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generate a random dataset with latitude and longitude
set.seed(123)
data_sim &lt;- data.frame(
  Longitude = runif(100, 80, 120),
  Latitude = runif(100, 28, 40),
  Category = sample(c("Type A", "Type B", "Type C"), 100, replace = TRUE)
)

# Visualize the data with China's boundaries
ggplot() +
  geom_boundary_cn() +
  geom_loc(
    data = data_sim, lon = "Longitude", lat = "Latitude",
    mapping = aes(color = Category), size = 1, alpha = 0.7
  ) +
  theme_minimal()

</code></pre>

<hr>
<h2 id='geom_mapcn'>Plot China Map with Customizable Options</h2><span id='topic+geom_mapcn'></span>

<h3>Description</h3>

<p>&lsquo;geom_mapcn' provides a flexible interface for visualizing China&rsquo;s administrative boundaries.
Users can select administrative levels (province, city, or county), apply custom projections,
and filter specific regions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_mapcn(
  data = NULL,
  admin_level = "province",
  crs = "+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs",
  color = "black",
  fill = "white",
  linewidth = 0.5,
  filter_attribute = NULL,
  filter = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_mapcn_+3A_data">data</code></td>
<td>
<p>An &lsquo;sf' object containing China&rsquo;s map data. If &lsquo;NULL', the function loads the package&rsquo;s default map.
Users can select provincial, municipal, or county-level maps using the 'admin_level' parameter.</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_admin_level">admin_level</code></td>
<td>
<p>A character string specifying the administrative level of the map.
Options are '&quot;province&quot;' (default), '&quot;city&quot;', or '&quot;county&quot;'. The corresponding '.rda' files
(&lsquo;China_sheng.rda', 'China_shi.rda', 'China_xian.rda') must be located in the package&rsquo;s 'extdata' folder.</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_crs">crs</code></td>
<td>
<p>A string specifying the Coordinate Reference System (CRS). Defaults to
'&quot;+proj=aeqd +lat_0=35 +lon_0=105 +ellps=WGS84 +units=m +no_defs&quot;'. Users can specify other CRS strings
(e.g., '&quot;EPSG:4326&quot;').</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_color">color</code></td>
<td>
<p>Border color. Default is '&quot;black&quot;'.</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_fill">fill</code></td>
<td>
<p>Fill color. Default is '&quot;white&quot;'.</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_linewidth">linewidth</code></td>
<td>
<p>Line width for borders. Default is '0.5'.
Note: 'linewidth' is used to control the border width in 'ggplot2' version 3.3.0 or higher. Use 'size' for earlier versions.</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_filter_attribute">filter_attribute</code></td>
<td>
<p>Column name for filtering regions (e.g., '&quot;name_en&quot;').</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_filter">filter</code></td>
<td>
<p>A character vector of values to filter specific regions (e.g., 'c(&quot;Beijing&quot;, &quot;Shanghai&quot;)').</p>
</td></tr>
<tr><td><code id="geom_mapcn_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to 'geom_sf'.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A &lsquo;ggplot2' layer (of class 'ggproto') for visualizing China&rsquo;s administrative boundaries.
This layer can be added to a 'ggplot' object to generate maps with customizable projections,
border colors, fill colors, and more.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot provincial map (default)
ggplot() +
  geom_mapcn() +
  theme_minimal()

# Filter specific provinces
ggplot() +
  geom_mapcn(filter_attribute = "name_en", filter = c("Beijing", "Shanghai"), fill = "red") +
  theme_minimal()

# Use a Mercator projection
ggplot() +
  geom_mapcn(crs = "+proj=merc", linewidth = 0.7) +
  theme_minimal()

</code></pre>

<hr>
<h2 id='geom_world'>Plot World Map with Customizable Options</h2><span id='topic+geom_world'></span>

<h3>Description</h3>

<p>A wrapper around [ggplot2::geom_sf()] for visualizing world maps with customizable options.
This function allows for custom projections, filtering specific countries or regions, and detailed
aesthetic customizations for borders and fills.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_world(
  data = NULL,
  crs = "+proj=longlat +datum=WGS84",
  color = "black",
  fill = "white",
  linewidth = 0.5,
  filter_attribute = "SOC",
  filter = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geom_world_+3A_data">data</code></td>
<td>
<p>An 'sf' object containing world map data. If 'NULL', the default world map data
from the package will be loaded from a '.rda' file.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_crs">crs</code></td>
<td>
<p>A character string specifying the target coordinate reference system (CRS) for the map projection.
Defaults to '&quot;+proj=longlat +datum=WGS84&quot;'.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_color">color</code></td>
<td>
<p>A character string specifying the border color for administrative boundaries. Default is '&quot;black&quot;'.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_fill">fill</code></td>
<td>
<p>A character string specifying the fill color for administrative areas. Default is '&quot;white&quot;'.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_linewidth">linewidth</code></td>
<td>
<p>A numeric value specifying the line width for administrative boundaries. Default is '0.5'.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_filter_attribute">filter_attribute</code></td>
<td>
<p>A character string specifying the column name used for filtering countries or regions.
Default is '&quot;SOC&quot;', which refers to the ISO 3166-1 alpha-3 country code in the default dataset.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_filter">filter</code></td>
<td>
<p>A character vector specifying the values to filter specific countries or regions. Default is 'NULL'.</p>
</td></tr>
<tr><td><code id="geom_world_+3A_...">...</code></td>
<td>
<p>Additional parameters passed to [ggplot2::geom_sf()], such as 'size', 'alpha', or 'lty'.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function simplifies the process of creating world maps by combining the functionality of 'geom_sf'
with user-friendly options for projections, filtering, and custom styling.
Key features include:
- **Custom projections**: Easily apply any CRS to the map.
- **Filtering by attributes**: Quickly focus on specific countries or regions.
- **Flexible aesthetics**: Customize fill, borders, transparency, and other visual properties.
</p>


<h3>Value</h3>

<p>A 'ggplot2' layer for world map visualization.
</p>


<h3>See Also</h3>

<p>[ggplot2::geom_sf()], [sf::st_transform()],
[sf::st_read()]
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  # Plot the default world map
  ggplot() +
    geom_world() +
    theme_minimal()

  # Using Robinson projection with central meridian at 0Â°
  ggplot() +
    geom_world(crs = "+proj=robin +lon_0=0 +x_0=0 +y_0=0 +datum=WGS84 +units=m") +
    theme_minimal()

  # Filter specific countries (e.g., China and its neighbors)
  china_neighbors &lt;- c("CHN", "AFG", "BTN", "MMR", "LAO", "NPL", "PRK", "KOR",
                       "KAZ", "KGZ", "MNG", "IND", "BGD", "TJK", "PAK", "LKA", "VNM")
  ggplot() +
    geom_world(filter = china_neighbors) +
    theme_minimal()

  # Background map + Highlight specific region
  ggplot() +
    geom_world(fill = "gray80", color = "gray50", alpha = 0.5) +
    geom_world(filter = c("CHN"), fill = "red", color = "black", linewidth = 1.5) +
    theme_minimal()

  # Customize styles with transparency and bold borders
  ggplot() +
    geom_world(fill = "lightblue", color = "darkblue", linewidth = 1, alpha = 0.8) +
    theme_void()

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

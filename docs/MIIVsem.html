<!DOCTYPE html><html lang="en"><head><title>Help for package MIIVsem</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {MIIVsem}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#MIIVsem-package'><p>Model Implied Instrumental Variable Estimation of Structural Equation Models</p></a></li>
<li><a href='#bollen1989a'><p>Industrialization-Democracy Data</p></a></li>
<li><a href='#bollen1989b'><p>Union sentiment data</p></a></li>
<li><a href='#bollen1989c'><p>Subjective class data</p></a></li>
<li><a href='#bollen1996'><p>Perceived accessibility data</p></a></li>
<li><a href='#buildMissingSyntax'><p>build the missing data model syntax</p></a></li>
<li><a href='#buildRestrictMat'><p>build the restriction matrix</p></a></li>
<li><a href='#buildSSCP'><p>build the sum of squares and cross products matrix</p></a></li>
<li><a href='#buildVarCovSyntax'><p>build the variance covariance point estimates model syntax</p></a></li>
<li><a href='#chooseSI'><p>identify best scaling indicator</p></a></li>
<li><a href='#est2SLSCoef'><p>estimate the 2SLS point estimates</p></a></li>
<li><a href='#est2SLSCoefCov'><p>estimate the 2SLS coefficient covariance matrix</p></a></li>
<li><a href='#est2SLSSigmaSq'><p>estimate the 2SLS equation specific sigma squared</p></a></li>
<li><a href='#estimatesTable'><p>return a dataframe of parameter estimates for a fitted model.</p></a></li>
<li><a href='#estResidualCov'><p>Calculate the residual covariance matrix</p></a></li>
<li><a href='#estTwoStageML'><p>estimate the SEs using two-stage ML</p></a></li>
<li><a href='#estVarCovarCoef'><p>estimate the variance and covariance parameters</p></a></li>
<li><a href='#factorScores'><p>provides factor scores for miiv model</p></a></li>
<li><a href='#felson1979'><p>Attractiveness and academic ability</p></a></li>
<li><a href='#fillParTable'><p>fill the parameter table</p></a></li>
<li><a href='#getModelList'><p>provides model lists for latent variable gimme</p></a></li>
<li><a href='#miive'><p>Model-implied instrumental variable (MIIV) estimation</p></a></li>
<li><a href='#miive.2sls'><p>two-stage least square estimator for a system of equations</p></a></li>
<li><a href='#miivs'><p>Model-implied instrumental variable (MIIV) search</p></a></li>
<li><a href='#parseInstrumentSyntax'><p>Parse user-implied instrumental variables</p></a></li>
<li><a href='#print.miive'><p>Print method for a MIIV estimation object</p></a></li>
<li><a href='#print.miivs'><p>Print method for a MIIV search object</p></a></li>
<li><a href='#processData'><p>Process data.</p></a></li>
<li><a href='#pruneExcessMIIVs'><p>Prune MIIVs based on some specified criterion.</p></a></li>
<li><a href='#reisenzein1986'><p>Reisenzein data</p></a></li>
<li><a href='#summary.miive'><p>Summary information for a MIIV estimation object</p></a></li>
<li><a href='#summary.miivs'><p>Summary information for a MIIV search object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Title:</td>
<td>Model Implied Instrumental Variable (MIIV) Estimation of
Structural Equation Models</td>
</tr>
<tr>
<td>Version:</td>
<td>0.5.8</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions for estimating structural equation models using 
    instrumental variables.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/zackfisher/MIIVsem">https://github.com/zackfisher/MIIVsem</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/zackfisher/MIIVsem/issues">https://github.com/zackfisher/MIIVsem/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>stats, utils, lavaan, numDeriv, Matrix, car, boot</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-07-11 17:30:26 UTC; lola</td>
</tr>
<tr>
<td>Author:</td>
<td>Zachary Fisher [aut, cre],
  Kenneth Bollen [aut],
  Kathleen Gates [aut],
  Mikko Rönkkö [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Zachary Fisher &lt;fish.zachary@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-07-13 12:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='MIIVsem-package'>Model Implied Instrumental Variable Estimation of Structural Equation Models</h2><span id='topic+MIIVsem'></span><span id='topic+MIIVsem-package'></span>

<h3>Description</h3>

<p><span class="pkg">MIIVsem</span> is a package for estimating structural equation models 
using model-implied instrumental variables (MIIVs).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Zachary Fisher <a href="mailto:fish.zachary@gmail.com">fish.zachary@gmail.com</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Kenneth Bollen
</p>
</li>
<li><p> Kathleen Gates
</p>
</li>
<li><p> Mikko Rönkkö
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/zackfisher/MIIVsem">https://github.com/zackfisher/MIIVsem</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/zackfisher/MIIVsem/issues">https://github.com/zackfisher/MIIVsem/issues</a>
</p>
</li></ul>


<hr>
<h2 id='bollen1989a'>Industrialization-Democracy Data</h2><span id='topic+bollen1989a'></span>

<h3>Description</h3>

<p>A dataset from Bollen (1989) containing measures of political 
democracy and industrialization for 75 developing countries 
in 1960 and 1965. The variables are as follows:
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bollen1989a
</code></pre>


<h3>Format</h3>

<p>A data frame with 75 rows and 9 variables
</p>


<h3>Details</h3>


<ul>
<li><p> y1. freedom of the press, 1960 
</p>
</li>
<li><p> y2. freedom of political opposition, 1960 
</p>
</li>
<li><p> y3. fairness of elections, 1960 
</p>
</li>
<li><p> y4. effectiveness of elected legislature, 1960
</p>
</li>
<li><p> y5. freedom of the press, 1965
</p>
</li>
<li><p> y6. freedom of political opposition, 1965
</p>
</li>
<li><p> y7. fairness of elections, 1965
</p>
</li>
<li><p> y8. effectiveness of elected legislature, 1965
</p>
</li>
<li><p> x1. natural log of GNP per capita, 1960
</p>
</li>
<li><p> x2. natural log of energy consumption per capita, 1960
</p>
</li>
<li><p> x3. arcsin of square root of percentage of labor force in industry, 1960
</p>
</li></ul>



<h3>References</h3>

<p>Bollen, K. A. (1989). Structural equation models. 
New York: Wiley-Interscience.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
  model &lt;- '
    Eta1 =~ y1 + y2  + y3  + y4  
    Eta2 =~ y5 + y6  + y7  + y8    
    Xi1  =~ x1 + x2 + x3 
    Eta1 ~ Xi1  
    Eta2 ~ Xi1 
    Eta2 ~ Eta1 
    y1   ~~ y5
    y2   ~~ y4
    y2   ~~ y6
    y3   ~~ y7
    y4   ~~ y8
    y6   ~~ y8 devtools::build_win()
  '

## End(Not run)

</code></pre>

<hr>
<h2 id='bollen1989b'>Union sentiment data</h2><span id='topic+bollen1989b'></span>

<h3>Description</h3>

<p>A dataset from McDonald and Clelland (1984) reanalyzed by
Bollen (1989) containing data on union sentiment of
southern nonunion textile workers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bollen1989b
</code></pre>


<h3>Format</h3>

<p>A data frame with 173 rows and 5 variables
</p>


<h3>Details</h3>


<ul>
<li><p> deferenc. deference (submissiveness) to managers
</p>
</li>
<li><p> laboract. support for labor activism
</p>
</li>
<li><p> unionsen. sentiment towards unions
</p>
</li>
<li><p> yrsmill. log of years spent in textile mill
</p>
</li>
<li><p> age. centered age
</p>
</li></ul>



<h3>References</h3>

<p>Bollen, K. A. 1989. Structural Equations with Latent Variables. 
New York: Wiley
</p>
<p>McDonald, A, J., &amp; Clelland, D. A. (1984). Textile Workers 
and Union Sentiment. Social Forces, 63(2), 502–521.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 model &lt;- '
   unionsen ~  deferenc + laboract + yrsmill
   deferenc ~  age
   laboract ~  age + deferenc
   yrsmill  ~~ age
 '

## End(Not run)

</code></pre>

<hr>
<h2 id='bollen1989c'>Subjective class data</h2><span id='topic+bollen1989c'></span>

<h3>Description</h3>

<p>The following data is from Bollen (1989) using data from
Kluegel et al. (1977). These data include  measures of actual 
income (inc) and occupational prestige (occ),  measures 
of respondents' subjective assessments of income (subinc), 
occupational prestige (subocc), and overall SES status (subgen).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bollen1989c
</code></pre>


<h3>Format</h3>

<p>A data frame with 432 rows and 5 variables
</p>


<h3>Details</h3>


<ul>
<li><p> occ. actual occupational prestige
</p>
</li>
<li><p> inc. actual income
</p>
</li>
<li><p> subocc. respondents' subjective assessments of prestige
</p>
</li>
<li><p> subinc. respondents' subjective assessments of income
</p>
</li>
<li><p> subgen. respondents' subjective assessments of SES status
</p>
</li></ul>



<h3>References</h3>

<p>Bollen, K. A. 1989. Structural Equations with Latent Variables. 
New York: Wiley
</p>
<p>Kluegel, J. R., Singleton, R., &amp; Starnes, C. E. (1977). 
Subjective Class Identification: A Multiple Indicator 
Approach. American Sociological Review, 42(4), 599–611.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 model &lt;-    '
	subinc  ~ inc + subocc
   subocc  ~ occ + subinc
   subgen  ~ subinc + subocc
	subinc ~~ subocc + subgen
   subocc ~~ subgen
	inc    ~~ occ
 '

## End(Not run)

</code></pre>

<hr>
<h2 id='bollen1996'>Perceived accessibility data</h2><span id='topic+bollen1996'></span>

<h3>Description</h3>

<p>Data come from a survey that was conducted in rural clusters of 
Tanzania in 1993. The goal was to collect information on the perceived 
accessibility of a specific family planning facility that serviced each 
cluster. Six informants were chosen: 3 female and 3 male. New informants 
were chosen for each cluster. Each informant was independently asked to 
rate the accessibility of the facility, and how easy it was to get to the
facility. More specifically the women informants were asked to rate how 
women of childbearing age perceived the accessibility and easiness and 
men were asked to rate how accessible and easy men perceived access to 
the clinic to be. Higher values indicate greater accessibility and ease 
of travel. The female informants' ratings are 1 to 3 and the male 
informants' ratings are 4 to 6.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bollen1996
</code></pre>


<h3>Format</h3>

<p>A data frame with 220 rows and 12 variables
</p>


<h3>Details</h3>


<ul>
<li><p> access1. 
</p>
</li>
<li><p> access2. 
</p>
</li>
<li><p> access3. 
</p>
</li>
<li><p> access4. 
</p>
</li>
<li><p> access5. 
</p>
</li>
<li><p> access6. 
</p>
</li>
<li><p> easy1. 
</p>
</li>
<li><p> easy2. 
</p>
</li>
<li><p> easy3. 
</p>
</li>
<li><p> easy4. 
</p>
</li>
<li><p> easy5. 
</p>
</li>
<li><p> easy6. 
</p>
</li></ul>



<h3>References</h3>

<p>Bollen, K. A., Speizer, I. S., &amp; Mroz, T. A. (1996). Family Planning 
Facilities in Rural Tanzania: His and Her Perceptions of Time and Distance.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
 model &lt;- ' 
    femaleAccess  =~ access1 + access2 + access3
    maleAccess    =~ access4 + access5 + access6
    femaleEasy    =~ easy1   + easy2   + easy3
    maleEasy      =~ easy4   + easy5   + easy6 
 '

## End(Not run)

</code></pre>

<hr>
<h2 id='buildMissingSyntax'>build the missing data model syntax</h2><span id='topic+buildMissingSyntax'></span>

<h3>Description</h3>

<p>build the missing data model syntax
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildMissingSyntax(pt)
</code></pre>

<hr>
<h2 id='buildRestrictMat'>build the restriction matrix</h2><span id='topic+buildRestrictMat'></span>

<h3>Description</h3>

<p>Function returns a list <code>r</code> with information regarding
coefficient restrictions and estimation. The field <code>R</code> 
contains a restriction matrix for imposing cross-coefficient
restrictions. If no cross-coefficient restrictions are present
<code>R</code> is set to <code>NULL</code>. The vector <code>q</code> contains
a vector of lagrangean multipliers. The vector <code>constrained</code> 
gives the constrained coefficients in convenient form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildRestrictMat(d)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="buildRestrictMat_+3A_d">d</code></td>
<td>
<p>A list containing equation information.</p>
</td></tr>
</table>

<hr>
<h2 id='buildSSCP'>build the sum of squares and cross products matrix</h2><span id='topic+buildSSCP'></span>

<h3>Description</h3>

<p>Build sum of squares and crossproducts matrix (SSCP).
From the means, covariances, and n's you can recover the
raw sum-of-squares and products matrix for all the variables. 
Say the matrix of all the variables is X, with mean vector bar(x), 
and covariance matrix S, based on sample-size n. Then the SSCP 
matrix is X'X = (n - 1)S + n bar(x) bar(x)'. You then need to 
add the row/column for the constant, which is just n in the 1, 1 
position and n bar(x) elsewhere.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildSSCP(sample.cov, sample.mean, sample.nobs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="buildSSCP_+3A_sample.cov">sample.cov</code></td>
<td>
<p>Numeric matrix. A sample variance-covariance matrix. The rownames and colnames must contain the observed variable names.</p>
</td></tr>
<tr><td><code id="buildSSCP_+3A_sample.mean">sample.mean</code></td>
<td>
<p>A sample mean vector.</p>
</td></tr>
<tr><td><code id="buildSSCP_+3A_sample.nobs">sample.nobs</code></td>
<td>
<p>Number of observations in the full data frame.</p>
</td></tr>
</table>

<hr>
<h2 id='buildVarCovSyntax'>build the variance covariance point estimates model syntax</h2><span id='topic+buildVarCovSyntax'></span>

<h3>Description</h3>

<p>build the variance covariance point estimates model syntax
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildVarCovSyntax(pt)
</code></pre>

<hr>
<h2 id='chooseSI'>identify best scaling indicator</h2><span id='topic+chooseSI'></span>

<h3>Description</h3>

<p>identify best scaling indicator
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chooseSI(model, data, scaling, lag = FALSE)
</code></pre>

<hr>
<h2 id='est2SLSCoef'>estimate the 2SLS point estimates</h2><span id='topic+est2SLSCoef'></span>

<h3>Description</h3>

<p>estimate the 2SLS point estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>est2SLSCoef(d = d, r = NULL, poly.mat = NULL, sscp.mat = NULL)
</code></pre>

<hr>
<h2 id='est2SLSCoefCov'>estimate the 2SLS coefficient covariance matrix</h2><span id='topic+est2SLSCoefCov'></span>

<h3>Description</h3>

<p>estimate the 2SLS coefficient covariance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>est2SLSCoefCov(
  d,
  poly.mat = NULL,
  cov.mat = NULL,
  mean.vec = NULL,
  acov = NULL,
  acov.sat = NULL,
  r = NULL
)
</code></pre>

<hr>
<h2 id='est2SLSSigmaSq'>estimate the 2SLS equation specific sigma squared</h2><span id='topic+est2SLSSigmaSq'></span>

<h3>Description</h3>

<p>estimate the 2SLS equation specific sigma squared
</p>


<h3>Usage</h3>

<pre><code class='language-R'>est2SLSSigmaSq(d, cov.mat)
</code></pre>

<hr>
<h2 id='estimatesTable'>return a dataframe of parameter estimates for a fitted model.</h2><span id='topic+estimatesTable'></span>

<h3>Description</h3>

<p>return a dataframe of parameter estimates for a fitted model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estimatesTable(x, v = NULL, sarg = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="estimatesTable_+3A_x">x</code></td>
<td>
<p>An object of class miive</p>
</td></tr>
<tr><td><code id="estimatesTable_+3A_v">v</code></td>
<td>
<p>A list containing variance snd covariance parameter information.</p>
</td></tr>
<tr><td><code id="estimatesTable_+3A_sarg">sarg</code></td>
<td>
<p>Logical. Should Sargan test results be included.</p>
</td></tr>
</table>

<hr>
<h2 id='estResidualCov'>Calculate the residual covariance matrix</h2><span id='topic+estResidualCov'></span>

<h3>Description</h3>

<p>Calculate the residual covariance matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estResidualCov(d, sample.cov)
</code></pre>

<hr>
<h2 id='estTwoStageML'>estimate the SEs using two-stage ML</h2><span id='topic+estTwoStageML'></span>

<h3>Description</h3>

<p>estimate the SEs using two-stage ML
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estTwoStageML(g, v, eqns, pt)
</code></pre>

<hr>
<h2 id='estVarCovarCoef'>estimate the variance and covariance parameters</h2><span id='topic+estVarCovarCoef'></span>

<h3>Description</h3>

<p>estimate the variance and covariance parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>estVarCovarCoef(
  data,
  g,
  eqns,
  pt,
  ordered,
  vc.coef.estimator = "ML",
  vc.coef.missing = "FIML"
)
</code></pre>

<hr>
<h2 id='factorScores'>provides factor scores for miiv model</h2><span id='topic+factorScores'></span>

<h3>Description</h3>

<p>provides factor scores for miiv model
</p>


<h3>Usage</h3>

<pre><code class='language-R'>factorScores(model, data, lv_scores, lv_estimator)
</code></pre>

<hr>
<h2 id='felson1979'>Attractiveness and academic ability</h2><span id='topic+felson1979'></span>

<h3>Description</h3>

<p>This data comes from a study by Felson and Borhnstedt (1979)
of perceived attractiveness and academic ability in teenagers, 
sixth through ninth grade. The six variables are perception of 
academic ability (academic), perception of physical 
attractiveness (attract), grade point average (gpa),
height, weight, and a strangers' rating of attractiveness 
(rating).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>felson1979
</code></pre>


<h3>Format</h3>

<p>A data frame with 209 rows and 7 variables
</p>


<h3>Details</h3>


<ul>
<li><p> acad. 
</p>
</li>
<li><p> athl. 
</p>
</li>
<li><p> attract.
</p>
</li>
<li><p> gpa. 
</p>
</li>
<li><p> height. 
</p>
</li>
<li><p> weight. 
</p>
</li>
<li><p> rating. 
</p>
</li></ul>



<h3>References</h3>

<p>Felson, R.B. &amp; Bohrnstedt, G.W. (1979). &quot;Are the good 
beautiful or the beautiful good?&quot; The relationship between 
children's perceptions of ability and perceptions of 
physical attractiveness. Social Psychology Quarterly, 
42, 386–392.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## Not run: 
  model &lt;-  '
	 acad    ~ gpa + attract
    attract ~ height + weight + rating + acad
  '

## End(Not run)


</code></pre>

<hr>
<h2 id='fillParTable'>fill the parameter table</h2><span id='topic+fillParTable'></span>

<h3>Description</h3>

<p>fill the parameter table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fillParTable(eqns, pt, v = NULL)
</code></pre>

<hr>
<h2 id='getModelList'>provides model lists for latent variable gimme</h2><span id='topic+getModelList'></span>

<h3>Description</h3>

<p>provides model lists for latent variable gimme
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getModelList(
  data,
  model,
  scaling = "first.indicator",
  lag = FALSE,
  dfm = FALSE
)
</code></pre>

<hr>
<h2 id='miive'>Model-implied instrumental variable (MIIV) estimation</h2><span id='topic+miive'></span>

<h3>Description</h3>

<p>Estimate structural equation models using model-implied instrumental 
variables (MIIVs).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miive(
  model = model,
  data = NULL,
  instruments = NULL,
  sample.cov = NULL,
  sample.mean = NULL,
  sample.nobs = NULL,
  sample.cov.rescale = TRUE,
  estimator = "2SLS",
  se = "standard",
  bootstrap = 1000L,
  boot.ci = "norm",
  missing = "listwise",
  est.only = FALSE,
  var.cov = FALSE,
  miiv.check = TRUE,
  ordered = NULL,
  sarg.adjust = "none",
  overid.degree = NULL,
  overid.method = "stepwise.R2"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="miive_+3A_model">model</code></td>
<td>
<p>A model specified using lavaan model syntax or a
<code><a href="#topic+miivs">miivs</a></code> object returned by the <code><a href="#topic+miivs">miivs</a></code>
function. See Details for more information about permissible
operators and example model syntax.</p>
</td></tr>
<tr><td><code id="miive_+3A_data">data</code></td>
<td>
<p>A data frame, list or environment or an object coercible 
by <code>as.data.frame</code> to data frame. The most common 
application is to supply a data.frame.</p>
</td></tr>
<tr><td><code id="miive_+3A_instruments">instruments</code></td>
<td>
<p>This allows user to specify the instruments for 
each equation. See Details and the <code>miivs.out</code> argument of 
<code><a href="#topic+summary.miivs">summary.miivs</a></code> for more information on the correct 
input format. External (auxiliary) instruments can be 
supplied, however, the <code>miiv.check</code> argument must
be set to <code>FALSE</code>. In the typical application, the program 
will choose the MIIVs for each equation based on the model 
specification. To view the model implied instruments after 
estimation see the <code>eq.info</code> argument of 
<code><a href="#topic+summary.miive">summary.miive</a></code>.</p>
</td></tr>
<tr><td><code id="miive_+3A_sample.cov">sample.cov</code></td>
<td>
<p>Numeric matrix. A sample variance-covariance 
matrix. The rownames and colnames attributes must contain all
the observed variable names indicated in the model syntax.</p>
</td></tr>
<tr><td><code id="miive_+3A_sample.mean">sample.mean</code></td>
<td>
<p>A sample mean vector. If <code>sample.cov</code> is provided
and the <code>sample.mean</code> argument is <code>NULL</code>, intercepts
for all endogenous variables will not be estimated.</p>
</td></tr>
<tr><td><code id="miive_+3A_sample.nobs">sample.nobs</code></td>
<td>
<p>Number of observations in the full data frame.</p>
</td></tr>
<tr><td><code id="miive_+3A_sample.cov.rescale">sample.cov.rescale</code></td>
<td>
<p>If <code>TRUE</code>, the sample covariance matrix
provided by the user is internally rescaled by multiplying 
it with a factor (N-1)/N.</p>
</td></tr>
<tr><td><code id="miive_+3A_estimator">estimator</code></td>
<td>
<p>Options <code>"2SLS"</code> or <code>"GMM"</code> for estimating the
model parameters. Default is <code>"2SLS"</code>. Currently, only 
<code>2SLS</code> is supported.</p>
</td></tr>
<tr><td><code id="miive_+3A_se">se</code></td>
<td>
<p>If &quot;standard&quot;, asymptotic standard errors are
computed. If <code>"bootstrap"</code> (or <code>"boot"</code>), bootstrap 
standard errors are computed.</p>
</td></tr>
<tr><td><code id="miive_+3A_bootstrap">bootstrap</code></td>
<td>
<p>Number of bootstrap draws, if bootstrapping is used. The
default is <code>1000</code></p>
</td></tr>
<tr><td><code id="miive_+3A_boot.ci">boot.ci</code></td>
<td>
<p>Method for calculating bootstrap confidence intervals. 
Options are normal approximation (<code>"norm"</code>), basic bootstrap 
interval (<code>"basic"</code>), percentile interval (<code>"perc"</code>), 
and adjusted bootstrap percentile (<code>"bca"</code>). The default is 
normal approximation. See <code><a href="boot.html#topic+boot.ci">boot.ci</a></code> for more 
information.</p>
</td></tr>
<tr><td><code id="miive_+3A_missing">missing</code></td>
<td>
<p>Default is <code>"listwise"</code> however, a maximum likelihood 
related missing data method called <code>"twostage"</code> is 
also available. See Details below  on <code>missing</code> for more 
information.</p>
</td></tr>
<tr><td><code id="miive_+3A_est.only">est.only</code></td>
<td>
<p>If <code>TRUE</code>, only the coefficients are returned.</p>
</td></tr>
<tr><td><code id="miive_+3A_var.cov">var.cov</code></td>
<td>
<p>If <code>TRUE</code>, variance and covariance parameters are
estimated.</p>
</td></tr>
<tr><td><code id="miive_+3A_miiv.check">miiv.check</code></td>
<td>
<p>Default is <code>TRUE</code>. <code>miiv.check</code> provides a 
check to determine whether user-upplied instruments are implied
by the model specification (e.g. valid MIIVs). When auxiliary or 
external instruments are provided <code>miiv.check</code> should be 
set to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="miive_+3A_ordered">ordered</code></td>
<td>
<p>A vector of variable names to be treated as ordered factors
in generating the polychoric correlation matrix and subsequent PIV
estimates. See details on <code>ordered</code> below for more information.</p>
</td></tr>
<tr><td><code id="miive_+3A_sarg.adjust">sarg.adjust</code></td>
<td>
<p>Adjusment methods used to adjust the p-values associated
with the Sargan test due to multiple comparisons. Defaults is 
<code>none</code>. For options see <code><a href="stats.html#topic+p.adjust">p.adjust</a></code>.</p>
</td></tr>
<tr><td><code id="miive_+3A_overid.degree">overid.degree</code></td>
<td>
<p>A numeric value indicating the degree of 
overidentification to be used in estimation.</p>
</td></tr>
<tr><td><code id="miive_+3A_overid.method">overid.method</code></td>
<td>
<p>The method by which excess MIIVs should
be pruned to satisfy the <code>overid.degree</code>. Options include
random (<code>minimum.eigen</code>) or stepwise R2.
(<code>stepwise.R2</code>).The default is <code>stepwise.R2</code>.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p><code>model</code> 
</p>
<p>The following model syntax operators are currently supported: =~,
~, ~~ and *. See below for details on default behavior, descriptions 
of how to specify the scaling indicator in latent variable models, 
and how to impose equality constraints on the parameter estimates. 
</p>
<p><strong>Example using Syntax Operators</strong>
</p>
<p>In the model below, 'L1 =~ Z1 + Z2 + Z3'  indicates the latent variable L1
is measured by 3 indicators, Z1, Z2, and Z3. Likewise, L2 is measured by 3
indicators, Z4, Z5, and Z6. The statement 'L1 ~ L2' specifies latent
variable L1 is regressed on latent variable L2. 'Z1 ~~ Z2' indicates the
error of Z2 is allowed to covary with the error of Z3. The label LA3
appended to Z3 and Z6 in the measurement model constrains the factor
loadings for Z3 and Z6 to equality. For additional details on constraints
see Equality Constraints  and Parameter Restrictions.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + Z2 + LA3*Z3
     L2 =~ Z4 + Z5 + LA3*Z6
     L1  ~ L2
     Z2 ~~ Z3
  '</pre>
<p><strong>Scaling Indicators</strong>
</p>
<p>Following the <span class="pkg">lavaan</span> model syntax, latent variables are defined using
the =~ operator.  For first order factors, the scaling indicator chosen is
the first observed variable on the RHS of an equation. For the model  below
<code>Z1</code> would be chosen as the scaling indicator for <code>L1</code> and
<code>Z4</code> would be chosen as the scaling indicator for <code>L2</code>.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + Z2 + Z3
     L2 =~ Z4 + Z5 + Z6
  '</pre>
<p><strong>Equality Constraints and Parameter Restrictions</strong>
</p>
<p>Within- and across-equation equality constraints on the factor loading and
regression coefficients can be imposed directly in the model syntax. To
specify equality constraints between different parameters equivalent labels
should be prepended to the variable name using the * operator. For example,
we could constrain the factor loadings for the two non-scaling indicators
of <code>L1</code> to equality using the following  model syntax.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + LA2*Z2 + LA2*Z3
     L2 =~ Z4 + Z5 + Z6
  '</pre>
<p>Researchers also can constrain the factor loading and regression 
coefficients to specific numeric values in a similar fashion. Below we
constrain the regression coefficient  of <code>L1</code> on <code>L2</code> to
<code>1</code>.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + Z2 + Z3
     L2 =~ Z4 + Z5 + Z6
     L3 =~ Z7 + Z8 + Z9
     L1  ~ 1*L2 + L3
  '</pre>
<p><strong>Higher-order Factor Models</strong>
</p>
<p>For example, in the model below, the  scaling indicator for the 
higher-order factor <code>H1</code> is taken to be <code>Z1</code>, the scaling 
indicator that would have been assigned to the first lower-order factor
<code>L1</code>. The intercepts for lower-order latent variables are set to zero,
by default
</p>
<pre>model &lt;- '
     H1 =~ L1 + L2 + L3
     L1 =~ Z1 + Z2 + Z3
     L2 =~ Z4 + Z5 + Z6
     L3 =~ Z7 + Z8 + Z9
  '</pre>
<p><strong>Model Defaults</strong>
</p>
<p>In addition to those relationships specified in the model syntax 
<span class="pkg">MIIVsem</span> will automatically include the intercepts of any observed or
latent endogenous variable. The intercepts for any scaling indicators and
lower-order latent variables are set to zero by default. Covariances among
exogenous latent and observed  variables are included when <code>var.cov =
  TRUE</code>. Where appropriate the covariances of the errors of latent and
observed dependent variables are automatically included in the model
specification. These defaults correspond to those used by <span class="pkg">lavaan</span> and
<code>auto = TRUE</code>, except that endogenous latent variable intercepts are
estimated by default, and the intercepts of scaling indicators are fixed to
zero.
</p>
<p><strong>Invalid Specifications</strong>
</p>
<p>Certain model specifications are not currently supported.  For example, the
scaling indicator of a latent variable is not permitted to cross-load on
another latent variable. In the model below <code>Z1</code>, the scaling
indicator for L1, cross-loads on the latent variable <code>L2</code>. Executing a
search on the model below will result in the warning: <em>miivs: scaling
indicators with a factor complexity greater than 1 are not currently
supported</em>.
</p>
<pre>model &lt;- '
    L1 =~ Z1 + Z2 + Z3
    L2 =~ Z4 + Z5 + Z6 + Z1
  '</pre>
<p>In addition, <span class="pkg">MIIVsem</span> does not currently support relations
where the scaling indicator of a latent variable is also the 
dependent variable in a regression equation.  The
model below would not be valid under the current algorithm.
</p>
<pre>model &lt;- '
    L1 =~ Z1 + Z2 + Z3
    Z1  ~ Z4
    Z4  ~ Z5 + Z6
  '</pre>

</li>
<li><p><code>instruments</code> 
</p>
<p>To utilize this option you must first define a list of instruments using
the syntax displayed below. Here, the dependent variable for each equation
is listed on the LHS of the ~ operator. In the case of latent variable
equations, the dependent variable is the scaling indicator associated with
that variable. The instruments are then given on the RHS, separated by +
signs. The instrument syntax is then encloses in single quotes. For example,
</p>
<pre>customIVs &lt;- '
     y1 ~ z1 + z2 + z3
     y2 ~ z4 + z5
  '
  </pre>
<p>After this list is defined, set the <code>instruments</code> argument equal to 
the name of the list of instruments (e.g. <code>customIVs</code>). Note, that
<code>instruments</code> are specified for an equation, and not for a specific
endogenous variable. If only a subset of dependent variables are listed in
the instruments argument, only those  equations listed will be estimated. 
If external or auxiliary instruments (instruments not otherwise included in
the model) are included the <code>miiv.check</code> argument should be set to
<code>FALSE</code>.

</p>
</li>
<li><p><code>sample.cov</code> 
</p>
<p>The user may provide a sample covariance matrix in lieu of raw data. The
rownames and colnames must contain the observed variable names indicated in
the model syntax. If <code>sample.cov</code> is not <code>NULL</code> the user must
also supply a vector of sample means (<code>sample.mean</code>), and the number
of sample observations (<code>sample.nobs</code>) from which the means and
covariances were calculated.  If no vector of sample means is provided 
intercepts will not be estimated. <span class="pkg">MIIVsem</span> does not support bootstrap 
standard errors or polychoric instrumental variable estimtation when the
sample moments, rather than raw data, are used as input.

</p>
</li>
<li><p><code>sample.mean</code> 
</p>
<p>A vector of length corresponding to the row and column dimensions
of the <code>sample.cov</code> matrix.  The names of <code>sample.mean</code> 
must match those in the <code>sample.cov</code>.  If the user supplies a 
covariance matrix but no vector of sample means intercepts will not 
be estimated.

</p>
</li>
<li><p><code>sample.cov.rescale</code> 
</p>
<p>Default is <code>TRUE</code>.  If the sample covariance matrix provided 
by the user should be internally rescaled by multiplying it with a 
factor (N-1)/N.

</p>
</li>
<li><p><code>estimator</code> 
</p>
<p>The default estimator is <code>2SLS</code>. For equations with continuous 
variables only and no restrictions the estimates are identical to those
described in Bollen (1996, 2001). If restrictions are present a restricted
MIIV-2SLS estimator is implemented using methods similar to those described
by Greene (2003) but adapted for moment based estimation. 2SLS coefficients
and overidentifcation tests are constructed using the sample moments for 
increased computational efficiency.
</p>
<p>If an equation contains ordered categorical variables, declared in the
<code>ordered</code> argument, the PIV estimator described by Bollen and
Maydeu-Olivares (2007) is implemented. The PIV estimator does not currently
support exogenous observed predictors of endogenous categorical variables. 
See details of the <code>ordered</code> argument for more information about the
PIV estimator.

</p>
</li>
<li><p><code>se</code> 
When <code>se</code> is set to <code>"boot"</code> or <code>"bootstrap"</code> standard 
errors are computed using a nonparametric bootstrap assuming an independent
random sample. If <code>var.cov = TRUE</code> nonceonvergence may occur and any
datasets with impproper solutions will be recorded as such and discarded.
Bootstrapping is implemented using the <span class="pkg">boot</span> by resampling the
observations in <code>data</code> and refitting the model with the resampled
data. The number of bootstrap replications is set using the
<code>bootstrap</code> argument, the default is <code>1000</code>. Here, the standard
errors are based on the standard deviation of successful bootstrap
replications.   Note, the Sargan test statistic is calculated from the
original sample and is not a bootstrap-based estimate. When <code>se</code> is
set to <code>"standard"</code> standard errors for the MIIV-2SLS coefficients are
calculated using analytic expressions. For equations with categorical
endogenous variables, the asymptotic distribution of the coefficients is
obtained via a first order expansion where the matrix of partial
derivatives is evaluated at the sample polychoric correlations. For some
details on these standard errors see Bollen &amp; Maydeu-Olivares (2007, p.
315). If <code>var.cov = TRUE</code> only point estimates for the variance and 
covariance estimates are calculated.  To obtain standard errors for the
variance and covariance parameters we recommend setting <code>se =
  "bootstrap"</code>. Analytic standard errors for the variance covariance
parameters accounting for the first stage estimation have been derived and
will be available in future releases.

</p>
</li>
<li><p><code>missing</code> 
There are two ways to handle missing data in <span class="pkg">MIIVsem</span>. First, missing 
data may be handled by listwise deletion (<code>missing = "listwise"</code>), In
this case any row of data containing missing observation is excluded from
the analysis and the sample moments are adjusted accordingly. Estimation
then proceeds normally. The second option for handling missing data is
through a two-stage procedures <code>missing = "twostage"</code> where consistent
estimates of the saturated populations means and covariance are obtained in
the first stage. These quantities are often referred to as the &quot;EM means&quot;
and &quot;EM covariance matrix.&quot; In the second stage the saturated estimates are
used to calculate the MIIV-2SLS structural coefficients. Bootstrap standard
errors are recommended but will be  computationally burdensome due to the
cost of calculating the EM-based moments at each bootstrap replication.

</p>
</li>
<li><p><code>ordered</code>   
For equations containing ordered categorical variables MIIV-2SLS
coefficients are estimated using the approach outlined in Bollen
&amp; Maydeu-Olivares (2007). The asymptotic distribution of the 
these coefficients is obtained via a first order expansion where 
the matrix of partial derivatives is evaluated at the sample 
polychoric correlations. For some details on these
standard errors see Bollen &amp; Maydeu-Olivares (2007, p. 315). If 
<code>var.cov = TRUE</code> only point estimates for the variance and
covariance estimates are calculated using the <code>DWLS</code> estimator
in <span class="pkg">lavaan</span>. To obtain standard errors for the variance and 
covariance parameters we recommend the bootstrap approach. 
Analytic standard errors for the variance covariance parameters 
in the presence of endogenous categorical variables 
will be available in future releases. Currently <span class="pkg">MIIVsem</span>
does not support exogenous variables in equations with categorical
endogenous variables.

</p>
</li></ul>

<p><strong>Sargan's Test of Overidentification</strong>  
</p>
<p>An essential ingredient in the MIIV-2SLS approach is the application of 
overidentification tests when a given model specification leads to an excess
of instruments. Empirically, overidentification tests are used to evalulate
the assumption of orthogonality between the instruments and equation 
residuals. Rejection of the null hypothesis implies a deficit in the logic
leading to the instrument selection. In the context of MIIV-2SLS this is the
model specification itself.  By default, <span class="pkg">MIIVsem</span> provides Sargan's
overidentification test (Sargan, 1958) for each overidentified equation in
the system. When cross-equation restrictions or missing data are present the 
properties of the test are not known. When the system contains many equations
the <code>sarg.adjust</code> option provides methods to adjust the p-values
associated with the Sargan test due to multiple comparisons. Defaults is 
<code>none</code>. For other options see <code><a href="stats.html#topic+p.adjust">p.adjust</a></code>.
</p>


<h3>References</h3>

<p>Bollen, K. A. (1996).	An	Alternative	2SLS Estimator	for	Latent	
Variable	Models.	<em>Psychometrika</em>, 61, 109-121.
</p>
<p>Bollen, K. A. (2001).	Two-stage	Least	Squares	and	Latent	Variable	
Models: Simultaneous	Estimation	and	Robustness	to	Misspecifications.
In	R.	Cudeck,	S.	Du	Toit,	and	D.	Sorbom	(Eds.),	Structural	
Equation	Modeling:	Present	and	Future,	A	Festschrift	in	Honor	of	Karl	
Joreskog	(pp. 119-138).	Lincoln,	IL: Scientific	Software.
</p>
<p>Bollen, K. A., &amp; Maydeu-Olivares, A. (2007). A Polychoric Instrumental 
Variable (PIV) Estimator for Structural Equation Models with Categorical 
Variables. <em>Psychometrika</em>, 72(3), 309.
</p>
<p>Freedman, D. (1984). On Bootstrapping Two-Stage Least-Squares Estimates 
in Stationary Linear Models. <em>The Annals of Statistics</em>, 
12(3), 827–842. 
</p>
<p>Greene, W. H. (2000). Econometric analysis. Upper Saddle River, N.J: 
Prentice Hall.
</p>
<p>Hayashi, F. (2000). Econometrics. Princeton, NJ: Princeton University 
Press
</p>
<p>Sargan, J. D. (1958). The Estimation of Economic Relationships 
using Instrumental Variables. Econometrica, 26(3), 393–415. 
</p>
<p>Savalei, V. (2010). Expected versus Observed Information in SEM with 
Incomplete Normal and Nonnormal Data. <em>Psychological Methods</em>, 
15(4), 352–367. 
</p>
<p>Savalei, V., &amp; Falk, C. F. (2014). Robust Two-Stage Approach 
Outperforms Robust Full Information Maximum Likelihood With 
Incomplete Nonnormal Data. <em>Structural Equation Modeling: 
A Multidisciplinary Journal</em>, 21(2), 280–302.
</p>


<h3>See Also</h3>

<p><a href="#topic+MIIVsem">MIIVsem</a>miivs
</p>

<hr>
<h2 id='miive.2sls'>two-stage least square estimator for a system of equations</h2><span id='topic+miive.2sls'></span>

<h3>Description</h3>

<p>two-stage least square estimator for a system of equations
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miive.2sls(d, g, r, est.only, se, missing, var.cov, sarg.adjust = "none")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="miive.2sls_+3A_d">d</code></td>
<td>
<p>a list containing equation information</p>
</td></tr>
<tr><td><code id="miive.2sls_+3A_g">g</code></td>
<td>
<p>a list containing data matrices and characteristics</p>
</td></tr>
<tr><td><code id="miive.2sls_+3A_r">r</code></td>
<td>
<p>a list containing coefficient restrictions</p>
</td></tr>
<tr><td><code id="miive.2sls_+3A_est.only">est.only</code></td>
<td>
<p>should we only calculate coefficient estimates</p>
</td></tr>
<tr><td><code id="miive.2sls_+3A_se">se</code></td>
<td>
<p>se estimation</p>
</td></tr>
</table>

<hr>
<h2 id='miivs'>Model-implied instrumental variable (MIIV) search</h2><span id='topic+miivs'></span>

<h3>Description</h3>

<p>A key step in the MIIV-2SLS approach is to transform the SEM by 
replacing the latent variables with their scaling indicators 
minus their errors.  Upon substitution the SEM is transformed 
from a model with latent variables to one containing observed 
variables with composite errors. The miivs function 
automatically makes this transformation. The miivs function
will also identify equation-specific model-implied 
instrumental variables in simultaneous equation models
without latent variables.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>miivs(model)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="miivs_+3A_model">model</code></td>
<td>
<p>A model specified using lavaan model syntax. See the 
<code>model</code> argument within the <code><a href="lavaan.html#topic+lavaanify">lavaanify</a></code> 
function for more information. See the documentation below for a 
description of how to specify the scaling  indicator in latent 
variable models and impose equality constraints on the parameter 
estimates.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li><p><code>model</code> 
</p>
<p>A model specified using the model syntax employed by <span class="pkg">lavaan</span>. 
The following model syntax operators are currently supported: =~,
~, ~~ and *. See below for details on default behaviors, 
how to specify the scaling indicator in latent variable models, 
and how to impose equality constraints on the parameter estimates. 
</p>
<p><strong>Example using Syntax Operators</strong>
</p>
<p>In the model below, 'L1 =~ Z1 + Z2 + Z3'  indicates the 
latent variable L1 is measured by 3 indicators, Z1, Z2, and Z3. Likewise,
L2 is measured by 3 indicators, Z4, Z5, and Z6. The statement
'L1 ~ L2' specifies latent variable L1 is regressed on latent 
variable L2. 'Z1 ~~ Z2' indicates the error of Z2 is allowed to 
covary with the error of Z3. The label
LA3 appended to Z3 and Z6 in the measurement model equations 
constrains the factor loadings for Z3 and Z6 to equality. For 
additional details on constraints see Equality Constraints 
and Parameter Restrictions.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + Z2 + LA3*Z3
     L2 =~ Z4 + Z5 + LA3*Z6
     L1  ~ L2
     Z2 ~~ Z3
  '</pre>
<p><strong>Scaling Indicators</strong>
</p>
<p>Following the <span class="pkg">lavaan</span> model syntax, latent variables are defined 
using the <code>=~</code> operator.  For first order factors, the scaling 
indicator chosen is the first observed variable on the RHS of an 
equation. For the model  below <code>Z1</code> would be chosen as the 
scaling indicator for <code>L1</code> and <code>Z4</code> would be chosen as 
the scaling indicator for <code>L2</code>.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + Z2 + Z3
     L2 =~ Z4 + Z5 + Z6
  '</pre>
<p><strong>Equality Constraints and Parameter Restrictions</strong>
</p>
<p>Within- and across-equation equality constraints on the factor loading
and regression coefficients can be imposed directly in the model syntax. 
To specify equality constraints between different parameters equivalent
labels should be prepended to the variable name using the 
* operator. For example, we could constrain the factor 
loadings for two non-scaling indicators of latent factor <code>L1</code> to 
equality using the following  model syntax.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + LA2*Z2 + LA2*Z3
     L2 =~ Z4 + Z5 + Z6
  '</pre>
<p>Researchers can also constrain the factor loadings and regression 
coefficients to specific numeric values in a similar fashion. Below 
we constrain the regression coefficient  of <code>L1</code> on <code>L2</code> 
to <code>1</code>.
</p>
<pre>model &lt;- '
     L1 =~ Z1 + Z2 + Z3
     L2 =~ Z4 + Z5 + Z6
     L3 =~ Z7 + Z8 + Z9
     L1  ~ 1*L2 + L3
  '</pre>
<p><strong>Higher-order Factor Models</strong>
</p>
<p>For example, in the model below, the  scaling indicator for the 
higher-order factor <code>H1</code> is taken to be <code>Z1</code>, the scaling 
indicator that would have been assigned to the first lower-order 
factor <code>L1</code>. The intercepts for lower-order latent variables 
are set to zero, by default
</p>
<pre>model &lt;- '
     H1 =~ L1 + L2 + L3
     L1 =~ Z1 + Z2 + Z3
     L2 =~ Z4 + Z5 + Z6
     L3 =~ Z7 + Z8 + Z9
  '</pre>
<p><strong>Model Defaults</strong>
</p>
<p>In addition to those relationships specified in the model syntax 
<span class="pkg">MIIVsem</span> will automatically include the intercepts of any 
observed or latent endogenous variable. The intercepts
for any scaling indicators and lower-order latent variables are
set to zero. Covariances among exogenous latent
and observed  variables are included by default when <code>
  var.cov = TRUE</code>. Where appropriate the covariances of the errors
of latent and observed dependent variables are also automatically 
included in the model specification. These defaults correspond 
to those used by <span class="pkg">lavaan</span> and <code>auto = TRUE</code>, except that 
endogenous latent variable intercepts are estimated by default, 
and the intercepts of scaling indicators are fixed to zero.
</p>
<p><strong>Invalid Specifications</strong>
</p>
<p>Certain model specifications are not currently supported.  For example,
the scaling indicator of a latent variable is not permitted to
cross-load on another latent variable. In the model below
<code>Z1</code>, the scaling indicator for L1, cross-loads on the latent 
variable <code>L2</code>. Executing a search on the model below will 
result in the warning: <em>miivs: scaling indicators with a factor 
complexity greater than 1 are not currently supported</em>.
</p>
<pre>model &lt;- '
    L1 =~ Z1 + Z2 + Z3
    L2 =~ Z4 + Z5 + Z6 + Z1
  '</pre>
<p>In addition, <span class="pkg">MIIVsem</span> does not currently support relations
where the scaling indicator of a latent variable is also the 
dependent variable in a regression equation.  For example, the
model below would not be valid under the current algorithm.
</p>
<pre>model &lt;- '
    L1 =~ Z1 + Z2 + Z3
    Z1  ~ Z4
    Z4  ~ Z5 + Z6
  '</pre>

</li></ul>

<p>The <code>miivs</code> function displays a table containing the following 
information for each equation in the system:
</p>

<ul>
<li> <p><code>LHS</code> The &quot;dependent&quot; variable.
</p>
</li>
<li> <p><code>RHS</code> The right hand side variables of the transformed equation.
</p>
</li>
<li> <p><code>MIIVs</code> The model-implied instrumental variables for each equation.
</p>
</li></ul>



<h3>Value</h3>

<p>A list of model equations.
</p>


<h3>References</h3>

<p>Bollen, K. A. (1996).	An	Alternative	2SLS Estimator	for	Latent	
Variable	Models.	<em>Psychometrika</em>, 61, 109-121.
</p>
<p>Bentler, P. M., and Weeks, D. G. (1980). Linear Structural 
Equations with Latent Variables. <em>Psychometrika</em>, 45, 289–308.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+miive">miive</a></code>
</p>

<hr>
<h2 id='parseInstrumentSyntax'>Parse user-implied instrumental variables</h2><span id='topic+parseInstrumentSyntax'></span>

<h3>Description</h3>

<p>Parse user-implied instrumental variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parseInstrumentSyntax(d, instruments, miiv.check)
</code></pre>

<hr>
<h2 id='print.miive'>Print method for a MIIV estimation object</h2><span id='topic+print.miive'></span>

<h3>Description</h3>

<p>Print method for a MIIV estimation object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'miive'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.miive_+3A_x">x</code></td>
<td>
<p>a miive object</p>
</td></tr>
<tr><td><code id="print.miive_+3A_...">...</code></td>
<td>
<p>Optional arguments to print, not used by user.</p>
</td></tr>
</table>

<hr>
<h2 id='print.miivs'>Print method for a MIIV search object</h2><span id='topic+print.miivs'></span>

<h3>Description</h3>

<p>Print method for a MIIV search object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'miivs'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.miivs_+3A_x">x</code></td>
<td>
<p>a miivs object</p>
</td></tr>
<tr><td><code id="print.miivs_+3A_...">...</code></td>
<td>
<p>Optional arguments to print, not used by user.</p>
</td></tr>
</table>

<hr>
<h2 id='processData'>Process data.</h2><span id='topic+processData'></span>

<h3>Description</h3>

<p>Process data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>processData(
  data = data,
  sample.cov = sample.cov,
  sample.mean = sample.mean,
  sample.nobs = sample.nobs,
  ordered = ordered,
  missing = missing,
  se = se,
  pt = pt
)
</code></pre>

<hr>
<h2 id='pruneExcessMIIVs'>Prune MIIVs based on some specified criterion.</h2><span id='topic+pruneExcessMIIVs'></span>

<h3>Description</h3>

<p>Prune MIIVs based on some specified criterion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pruneExcessMIIVs(
  d,
  overid.degree,
  overid.method,
  data = NULL,
  sample.cov = NULL,
  sample.polychoric = NULL,
  sample.mean = NULL,
  sample.nobs = NULL,
  overid.boot = FALSE,
  cat.vars = NULL
)
</code></pre>

<hr>
<h2 id='reisenzein1986'>Reisenzein data</h2><span id='topic+reisenzein1986'></span>

<h3>Description</h3>

<p>This dataset comes from Reisenzein (1986). In this paper Reisenzein designed 
a randomized experiment to test Weiner's attribution-affect model of 
helping behavior. According to this theory, whether people help others is 
determined by their anger or sympathy. Anger and sympathy are affected by 
perceived controllability.  If the individuals have gotten into difficult 
situations as a result of their own controllable actions, then this 
negatively affects sympathy and positively affects anger of the potential 
helpers. The opposite holds if the situation seems beyond the individuals’ 
control. This data comes from an experiment that describes a person 
collapsing and lying on the floor of a subway.  Subjects were told that the 
person was either drunk (controllable situation) or ill 
(uncontrollable situation). This randomized story was intended to affect 
perceptions of controllability, and controllability in turn affected 
feelings of sympathy and anger.  Finally, sympathy should positively affect 
helping behavior while anger would negatively affect helping.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reisenzein1986
</code></pre>


<h3>Format</h3>

<p>A data frame with 138 rows and 13 variables
</p>


<h3>Details</h3>


<ul>
<li><p> Z1. Eliciting Situation
</p>
</li>
<li><p> Z2. How controllable, do you think, is the cause of the person's 
present condition? (1 = not at all under personal control, 9 = completely 
under personal control).
</p>
</li>
<li><p> Z3. How responsible, do you think, is that person for his present 
condition? (1 = not at all responsible, 9 = very much responsible).
</p>
</li>
<li><p> Z4. I would think that it was the person's own fault that he is in 
the present situation. (1 = no. not at all. 9 = yes, absolutely so).
</p>
</li>
<li><p> Z5. How much sympathy would you feel for that person? (1 = none at 
all. 9 = very much).
</p>
</li>
<li><p> Z6. I would feel pity for this person. (1 = none at all, 9 = very 
much).
</p>
</li>
<li><p> Z7. How much concern would you feel for this person? (1 = none al 
all, 9 = very much).
</p>
</li>
<li><p> Z8. How angry would you feel at that person? (1 = not at all, 9 = 
very much).
</p>
</li>
<li><p> Z9. How irritated would you feel by that person? (1 = not at all, 9 
= very much).
</p>
</li>
<li><p> Z10. I would feel aggravated by that person. (1 = not at all, 9 = 
very much so).
</p>
</li>
<li><p> Z11.	How likely is it that you would help that person? (1 = 
definitely would not help. 9 = definitely would help).
</p>
</li>
<li><p> Z12.	How certain would you feel that you would help the person? 
(1 = not at all certain. 9 = absolutely certain).
</p>
</li>
<li><p> Z13.	Which of the following actions would you most likely engage in? 
1 = not help at all; 2 = try to alert other bystanders, but stay 
uninvolved myself; 3 = try to inform the conductor or another official in 
charge; 4 = go over and help the person to a seat; 5 = help in any way 
that might be necessary, including if necessary first aid and/or 
accompanying the person to a hospital.
</p>
</li></ul>



<h3>References</h3>

<p>Reisenzein, R. (1986). A Structural Equation Analysis of Weiner's 
Attribution-Affect Model of Helping Behavior. Journal of Personality 
and Social Psychology, 50(6), 1123–33.
</p>

<hr>
<h2 id='summary.miive'>Summary information for a MIIV estimation object</h2><span id='topic+summary.miive'></span>

<h3>Description</h3>

<p>Summary information for a MIIV estimation object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'miive'
summary(object, eq.info = FALSE, restrict.tests = FALSE, rsquare = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.miive_+3A_object">object</code></td>
<td>
<p>An object of class <code>miive</code></p>
</td></tr>
<tr><td><code id="summary.miive_+3A_eq.info">eq.info</code></td>
<td>
<p>A logical indicating whether equation-specific 
information should be printed. Useful in models with 
large numbers of variables.</p>
</td></tr>
<tr><td><code id="summary.miive_+3A_restrict.tests">restrict.tests</code></td>
<td>
<p>A logical indicating whether two 
test statistics for a large-sample wald test of 
linaer hypotheses imposed on the MIIV-2SLS coefficient 
matrix should be provided. The first statistic is 
an approximate F and the second is Chi-square. 
Assumptions and additional details for each test 
are given by Greene (2000, p. 346-347) and Henningsen 
and Hamman (2007).</p>
</td></tr>
<tr><td><code id="summary.miive_+3A_rsquare">rsquare</code></td>
<td>
<p>A logical indicating whether R-square values for
endogeneous variables are included in the output. Only
available when <code>var.cov</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="summary.miive_+3A_...">...</code></td>
<td>
<p>Optional arguments to summary, not used by user.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Greene, W. H. (2000). Econometric analysis. Upper Saddle River, N.J: 
Prentice Hall.
</p>
<p>Henningsen, A., and Hamann, J.D. (2007). systemfit: A Package for 
Estimating Systems of Simultaneous Equations in R. Journal of Statistical 
Software 23(4), 1-40.
</p>

<hr>
<h2 id='summary.miivs'>Summary information for a MIIV search object</h2><span id='topic+summary.miivs'></span>

<h3>Description</h3>

<p>Summary information for a MIIV search object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'miivs'
summary(object, miivs.out = FALSE, eq.info = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="summary.miivs_+3A_object">object</code></td>
<td>
<p>An object of class <code>miivs</code></p>
</td></tr>
<tr><td><code id="summary.miivs_+3A_miivs.out">miivs.out</code></td>
<td>
<p>A logical indicating whether the model-implied 
instrumental variables found for <code>model</code> should be printed
to the console. This is a temporary convenience function to 
provide an editable, baseline format, for the <code>instruments</code>
argument of <code><a href="#topic+miive">miive</a></code>.</p>
</td></tr>
<tr><td><code id="summary.miivs_+3A_eq.info">eq.info</code></td>
<td>
<p>A logical indicating whether equation-specific 
information should be printed. Useful in models with a large number 
of variables.</p>
</td></tr>
<tr><td><code id="summary.miivs_+3A_...">...</code></td>
<td>
<p>Optional arguments to summary, not used by user.</p>
</td></tr>
</table>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package ivdoctr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ivdoctr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#afghan'><p>Burde and Linden (2013, AEJ Applied) Dataset</p></a></li>
<li><a href='#b_functionA3'><p>B function from Proposition A3</p></a></li>
<li><a href='#candidate1'><p>Evaluates the corners given user bounds. Vectorized wrt multiple draws of obs.</p></a></li>
<li><a href='#candidate2'><p>Evaluates the edge where k is on the boundary. Vectorized wrt multiple draws</p>
of obs.</a></li>
<li><a href='#candidate3'><p>Evaluates the edge where r_TstarU is on the boundary.</p></a></li>
<li><a href='#collapse_3d_array'><p>Collapse 3-d array to matrix</p></a></li>
<li><a href='#colonial'><p>Acemoglu, Johnson, and Robinson (2001) Dataset</p></a></li>
<li><a href='#draw_bounds'><p>Computes bounds for simulated data</p></a></li>
<li><a href='#draw_observables'><p>Simulates different data draws</p></a></li>
<li><a href='#draw_sigma_jeffreys'><p>Draws covariance matrix using the Jeffrey's Prior</p></a></li>
<li><a href='#format_est'><p>Creates LaTeX code for parameter estimates</p></a></li>
<li><a href='#format_HPDI'><p>Creates LaTeX code for the HPDI</p></a></li>
<li><a href='#format_se'><p>Creates LaTeX code for the standard error</p></a></li>
<li><a href='#g_functionA2'><p>G function from Proposition A.2</p></a></li>
<li><a href='#get_alpha_bounds'><p>Computes a0 and a1 bounds</p></a></li>
<li><a href='#get_beta'><p>Solves for beta</p></a></li>
<li><a href='#get_beta_bounds_binary'><p>Returns beta bounds in binary case using grid search</p></a></li>
<li><a href='#get_beta_bounds_binary_post'><p>Generates beta bounds off of beta draws</p></a></li>
<li><a href='#get_bounds_unrest'><p>Wrapper function combines all unrestricted bounds together. Vectorized</p></a></li>
<li><a href='#get_estimates'><p>Computes OLS and IV estimates</p></a></li>
<li><a href='#get_k_bounds_unrest'><p>Given observables from the data, generates unrestricted bounds for kappa.</p>
Vectorized</a></li>
<li><a href='#get_L'><p>Computes L, lower bound for kappa_tilde in paper</p></a></li>
<li><a href='#get_M'><p>Solves for the magnification factor</p></a></li>
<li><a href='#get_new_draws'><p>Computes beliefs that support valid instrument</p></a></li>
<li><a href='#get_observables'><p>Given data and function specification, returns the relevant correlations and</p>
covariances with any exogenous controls projected out.</a></li>
<li><a href='#get_p_valid'><p>Compute the share of draws that could contain a valid instrument.</p></a></li>
<li><a href='#get_psi_lower'><p>Computes the lower bound of psi for binary data</p></a></li>
<li><a href='#get_psi_upper'><p>Computes the upper bound of psi for binary data</p></a></li>
<li><a href='#get_r_TstarU_bounds_unrest'><p>Given observables from the data, generates the unrestricted bounds for rho_TstarU.</p>
Data does not impose any restrictions on r_TstarU
Vectorized</a></li>
<li><a href='#get_r_uz'><p>Solves for r_uz given observables, r_TstarU, and kappa</p></a></li>
<li><a href='#get_r_uz_bounds'><p>Evaluates r_uz bounds given user restrictions on r_TstarU and kappa</p></a></li>
<li><a href='#get_r_uz_bounds_unrest'><p>Given observables from the data, generates the unrestricted bounds for rho_uz.</p>
Vectorized</a></li>
<li><a href='#get_s_u'><p>Solves for the variance of the error term u</p></a></li>
<li><a href='#getCoverage'><p>Computes coverage of list of intervals</p></a></li>
<li><a href='#getInterval'><p>Generates smallest covering interval</p></a></li>
<li><a href='#ivdoctr'><p>Generates parameter estimates given user restrictions and data</p></a></li>
<li><a href='#make_full_row'><p>Takes the OLS and IV estimates and converts it to a row of the LaTeX table</p></a></li>
<li><a href='#make_tex_row'><p>Makes LaTeX code to make a row of a table and shift by some amount of columns</p>
if necessary</a></li>
<li><a href='#makeTable'><p>Generates table of parameter estimates given user restrictions and data</p></a></li>
<li><a href='#map2color'><p>Generates a custom color palette given a vector of numbers</p></a></li>
<li><a href='#myformat'><p>Rounds x to two decimal places</p></a></li>
<li><a href='#plot_3d_beta'><p>Plot ivdoctr Restrictions</p></a></li>
<li><a href='#rect_points'><p>Construct vectors of points that outline a rectangle.</p></a></li>
<li><a href='#rinvwish'><p>Simulate draws from the inverse Wishart distribution</p></a></li>
<li><a href='#toList'><p>Convert 3-d array to list of matrixes</p></a></li>
<li><a href='#weber'><p>Becker and Woessmann (2009) Dataset</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Ensures Mutually Consistent Beliefs When Using IVs</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Uses data and researcher's beliefs on measurement error and
    instrumental variable (IV) endogeneity to generate the space of consistent 
    beliefs across measurement error, instrument endogeneity, and instrumental 
    relevance for IV regressions. 
    Package based on DiTraglia and Garcia-Jimeno (2020) &lt;<a href="https://doi.org/10.1080%2F07350015.2020.1753528">doi:10.1080/07350015.2020.1753528</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://creativecommons.org/publicdomain/zero/1.0/legalcode">CC0</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>AER, coda, data.table, graphics, MASS, Rcpp (&ge; 0.11.6), rgl,
sandwich, stats</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, haven, MCMCpack, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/emallickhossain/ivdoctr/issues">https://github.com/emallickhossain/ivdoctr/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-12-05 11:35:47 UTC; mallick</td>
</tr>
<tr>
<td>Author:</td>
<td>Frank DiTraglia [aut],
  Mallick Hossain [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Mallick Hossain &lt;emallickhossain@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-12-05 16:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='afghan'>Burde and Linden (2013, AEJ Applied) Dataset</h2><span id='topic+afghan'></span>

<h3>Description</h3>

<p>Replicates IV using controls from Table 2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>afghan
</code></pre>


<h3>Format</h3>

<p>A data frame with 687 rows and 17 variables:
</p>

<dl>
<dt>enrolled</dt><dd><p>Indicator if child is enrolled in formal school. Outcome.</p>
</dd>
<dt>testscore</dt><dd><p>Normalized test score</p>
</dd>
<dt>buildschool</dt><dd><p>Indicator if village is treated. Instrument.</p>
</dd>
<dt>headchild</dt><dd><p>Indicator if child is child of head of household</p>
</dd>
<dt>nhh</dt><dd><p>Number of household members</p>
</dd>
<dt>female</dt><dd><p>Female indicator</p>
</dd>
<dt>age</dt><dd><p>Child's age</p>
</dd>
<dt>yrsvill</dt><dd><p>Time family has lived in village</p>
</dd>
<dt>farsi</dt><dd><p>Indicator for speaking Farsi</p>
</dd>
<dt>tajik</dt><dd><p>Indicator for speaking Tajik</p>
</dd>
<dt>farmers</dt><dd><p>Indicator for if head of household is a farmer</p>
</dd>
<dt>land</dt><dd><p>Number of jeribs of land owned</p>
</dd>
<dt>agehead</dt><dd><p>Head of household age</p>
</dd>
<dt>educhead</dt><dd><p>Years of education for head of household</p>
</dd>
<dt>sheep</dt><dd><p>Number of sheep and goats owned</p>
</dd>
<dt>chagcharan</dt><dd><p>Indicator if village is in Chagcharan district</p>
</dd>
<dt>distschool</dt><dd><p>Distance to nearest non-community based school</p>
</dd>
</dl>



<h3>Source</h3>

<p>Provided by author.
</p>


<h3>References</h3>

<p><a href="https://www.jstor.org/stable/3083335">https://www.jstor.org/stable/3083335</a>
</p>

<hr>
<h2 id='b_functionA3'>B function from Proposition A3</h2><span id='topic+b_functionA3'></span>

<h3>Description</h3>

<p>B function from Proposition A3
</p>


<h3>Usage</h3>

<pre><code class='language-R'>b_functionA3(obs_draws, g, psi)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="b_functionA3_+3A_obs_draws">obs_draws</code></td>
<td>
<p>Row of the data.frame of observable draws</p>
</td></tr>
<tr><td><code id="b_functionA3_+3A_g">g</code></td>
<td>
<p>Value from g function</p>
</td></tr>
<tr><td><code id="b_functionA3_+3A_psi">psi</code></td>
<td>
<p>Psi value</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A min and a max of the B function
</p>

<hr>
<h2 id='candidate1'>Evaluates the corners given user bounds. Vectorized wrt multiple draws of obs.</h2><span id='topic+candidate1'></span>

<h3>Description</h3>

<p>Evaluates the corners given user bounds. Vectorized wrt multiple draws of obs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>candidate1(r_TstarU_lower, r_TstarU_upper, k_lower, k_upper, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="candidate1_+3A_r_tstaru_lower">r_TstarU_lower</code></td>
<td>
<p>Vector of lower bounds of endogeneity</p>
</td></tr>
<tr><td><code id="candidate1_+3A_r_tstaru_upper">r_TstarU_upper</code></td>
<td>
<p>Vector of upper bounds of endogeneity</p>
</td></tr>
<tr><td><code id="candidate1_+3A_k_lower">k_lower</code></td>
<td>
<p>Vector of lower bounds on measurement error</p>
</td></tr>
<tr><td><code id="candidate1_+3A_k_upper">k_upper</code></td>
<td>
<p>Vector of upper bounds on measurement error</p>
</td></tr>
<tr><td><code id="candidate1_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing vector of lower bounds and vector of upper bounds of r_uz
</p>

<hr>
<h2 id='candidate2'>Evaluates the edge where k is on the boundary. Vectorized wrt multiple draws
of obs.</h2><span id='topic+candidate2'></span>

<h3>Description</h3>

<p>Evaluates the edge where k is on the boundary. Vectorized wrt multiple draws
of obs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>candidate2(r_TstarU_lower, r_TstarU_upper, k_lower, k_upper, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="candidate2_+3A_r_tstaru_lower">r_TstarU_lower</code></td>
<td>
<p>Vector of lower bounds of endogeneity</p>
</td></tr>
<tr><td><code id="candidate2_+3A_r_tstaru_upper">r_TstarU_upper</code></td>
<td>
<p>Vector of upper bounds of endogeneity</p>
</td></tr>
<tr><td><code id="candidate2_+3A_k_lower">k_lower</code></td>
<td>
<p>Vector of lower bounds on measurement error</p>
</td></tr>
<tr><td><code id="candidate2_+3A_k_upper">k_upper</code></td>
<td>
<p>Vector of upper bounds on measurement error</p>
</td></tr>
<tr><td><code id="candidate2_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing vector of lower bounds and vector of upper bounds of r_uz
</p>

<hr>
<h2 id='candidate3'>Evaluates the edge where r_TstarU is on the boundary.</h2><span id='topic+candidate3'></span>

<h3>Description</h3>

<p>Evaluates the edge where r_TstarU is on the boundary.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>candidate3(r_TstarU_lower, r_TstarU_upper, k_lower, k_upper, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="candidate3_+3A_r_tstaru_lower">r_TstarU_lower</code></td>
<td>
<p>Vector of lower bounds of endogeneity</p>
</td></tr>
<tr><td><code id="candidate3_+3A_r_tstaru_upper">r_TstarU_upper</code></td>
<td>
<p>Vector of upper bounds of endogeneity</p>
</td></tr>
<tr><td><code id="candidate3_+3A_k_lower">k_lower</code></td>
<td>
<p>Vector of lower bounds on measurement error</p>
</td></tr>
<tr><td><code id="candidate3_+3A_k_upper">k_upper</code></td>
<td>
<p>Vector of upper bounds on measurement error</p>
</td></tr>
<tr><td><code id="candidate3_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing vector of lower bounds and vector of upper bounds of r_uz
</p>

<hr>
<h2 id='collapse_3d_array'>Collapse 3-d array to matrix</h2><span id='topic+collapse_3d_array'></span>

<h3>Description</h3>

<p>Collapse 3-d array to matrix
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapse_3d_array(myarray)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="collapse_3d_array_+3A_myarray">myarray</code></td>
<td>
<p>A three-dimensional array.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Matrix with the 3rd dimension appended as rows to the matrix
</p>

<hr>
<h2 id='colonial'>Acemoglu, Johnson, and Robinson (2001) Dataset</h2><span id='topic+colonial'></span>

<h3>Description</h3>

<p>Cross-country dataset used to construct Table 4 of Acemoglu, Johnson &amp; Robinson (2001).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>colonial
</code></pre>


<h3>Format</h3>

<p>A data frame with 64 rows and 9 variables:
</p>

<dl>
<dt>shortnam</dt><dd><p>three letter country abbreviation, e.g. AUS for Australia</p>
</dd>
<dt>africa</dt><dd><p>dummy variable =1 if country is in Africa</p>
</dd>
<dt>lat_abst</dt><dd><p>absolute distance to equator (scaled between 0 and 1)</p>
</dd>
<dt>rich4</dt><dd><p>dummy variable, =1 for &quot;Neo-Europes&quot; (AUS, CAN, NZL, USA)</p>
</dd>
<dt>avexpr</dt><dd><p>Average protection against expropriation risk.
Measures risk of government appropriation of foreign private investment
on a scale from 0 (least risk) to 10 (most risk). Averaged over all years
from 1985-1995.</p>
</dd>
<dt>logpgp95</dt><dd><p>Natural logarithm of per capita GDP in 1995 at purchasing
power parity</p>
</dd>
<dt>logem4</dt><dd><p>Natural logarithm of European settler mortality</p>
</dd>
<dt>asia</dt><dd><p>dummy variable, =1 if country is in Asia</p>
</dd>
<dt>loghjypl</dt><dd><p>Natural logarithm of output per worker in 1988</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="http://economics.mit.edu/faculty/acemoglu/data/ajr2001">http://economics.mit.edu/faculty/acemoglu/data/ajr2001</a>
</p>


<h3>References</h3>

<p><a href="https://www.aeaweb.org/articles.php?doi=10.1257/aer.91.5.1369">https://www.aeaweb.org/articles.php?doi=10.1257/aer.91.5.1369</a>
</p>

<hr>
<h2 id='draw_bounds'>Computes bounds for simulated data</h2><span id='topic+draw_bounds'></span>

<h3>Description</h3>

<p>This function takes data and user restrictions on measurement error and
endogeneity and simulates data and the resulting bounds on instrument
validity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_bounds(
  y_name,
  T_name,
  z_name,
  data,
  controls = NULL,
  r_TstarU_restriction = NULL,
  k_restriction = NULL,
  n_draws = 5000
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_bounds_+3A_y_name">y_name</code></td>
<td>
<p>Character vector of the name of the dependent variable</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_t_name">T_name</code></td>
<td>
<p>Character vector of the names of the preferred regressors</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_z_name">z_name</code></td>
<td>
<p>Character vector of the names of the instrumental variables</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_data">data</code></td>
<td>
<p>Data to be analyzed</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_controls">controls</code></td>
<td>
<p>Character vector containing the names of the exogenous regressors</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_r_tstaru_restriction">r_TstarU_restriction</code></td>
<td>
<p>2 element vector of bounds on r_TstarU</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_k_restriction">k_restriction</code></td>
<td>
<p>2-element vector of bounds on kappa</p>
</td></tr>
<tr><td><code id="draw_bounds_+3A_n_draws">n_draws</code></td>
<td>
<p>Integer number of simulations to draw</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List containing simulated data observables (covariances,
correlations, and R-squares), indications of whether the identified set
is empty, the unrestricted and restricted bounds on instrumental relevance,
instrumental validity, and measurement error.
</p>

<hr>
<h2 id='draw_observables'>Simulates different data draws</h2><span id='topic+draw_observables'></span>

<h3>Description</h3>

<p>This function takes the data and simulates potential draws of data from
the properties of the observed data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_observables(y_name, T_name, z_name, data, controls = NULL, n_draws = 5000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_observables_+3A_y_name">y_name</code></td>
<td>
<p>Character vector of the name of the dependent variable</p>
</td></tr>
<tr><td><code id="draw_observables_+3A_t_name">T_name</code></td>
<td>
<p>Character vector of the names of the preferred regressors</p>
</td></tr>
<tr><td><code id="draw_observables_+3A_z_name">z_name</code></td>
<td>
<p>Character vector of the names of the instrumental variables</p>
</td></tr>
<tr><td><code id="draw_observables_+3A_data">data</code></td>
<td>
<p>Data to be analyzed</p>
</td></tr>
<tr><td><code id="draw_observables_+3A_controls">controls</code></td>
<td>
<p>Character vector containing the names of the exogenous regressors</p>
</td></tr>
<tr><td><code id="draw_observables_+3A_n_draws">n_draws</code></td>
<td>
<p>Integer number of simulations to draw</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame containing covariances, correlations, and R-squares for
each data simulation
</p>

<hr>
<h2 id='draw_sigma_jeffreys'>Draws covariance matrix using the Jeffrey's Prior</h2><span id='topic+draw_sigma_jeffreys'></span>

<h3>Description</h3>

<p>Draws covariance matrix using the Jeffrey's Prior
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draw_sigma_jeffreys(y, Tobs, z, k, n_draws)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="draw_sigma_jeffreys_+3A_y">y</code></td>
<td>
<p>Vector of dependent variable</p>
</td></tr>
<tr><td><code id="draw_sigma_jeffreys_+3A_tobs">Tobs</code></td>
<td>
<p>Matrix containing data for the preferred regressor</p>
</td></tr>
<tr><td><code id="draw_sigma_jeffreys_+3A_z">z</code></td>
<td>
<p>Matrix containing data for the instrumental variable</p>
</td></tr>
<tr><td><code id="draw_sigma_jeffreys_+3A_k">k</code></td>
<td>
<p>Number of covariates, including the intercept</p>
</td></tr>
<tr><td><code id="draw_sigma_jeffreys_+3A_n_draws">n_draws</code></td>
<td>
<p>Integer number of draws to perform</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Array of covariance matrix draws
</p>

<hr>
<h2 id='format_est'>Creates LaTeX code for parameter estimates</h2><span id='topic+format_est'></span>

<h3>Description</h3>

<p>Creates LaTeX code for parameter estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_est(est)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_est_+3A_est">est</code></td>
<td>
<p>Number</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LaTeX string for the number
</p>

<hr>
<h2 id='format_HPDI'>Creates LaTeX code for the HPDI</h2><span id='topic+format_HPDI'></span>

<h3>Description</h3>

<p>Creates LaTeX code for the HPDI
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_HPDI(bounds)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_HPDI_+3A_bounds">bounds</code></td>
<td>
<p>2-element vector of the upper and lower HPDI bounds</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LaTeX string of the HPDI
</p>

<hr>
<h2 id='format_se'>Creates LaTeX code for the standard error</h2><span id='topic+format_se'></span>

<h3>Description</h3>

<p>Creates LaTeX code for the standard error
</p>


<h3>Usage</h3>

<pre><code class='language-R'>format_se(se)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format_se_+3A_se">se</code></td>
<td>
<p>Standard error</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LaTeX string for the standard error
</p>

<hr>
<h2 id='g_functionA2'>G function from Proposition A.2</h2><span id='topic+g_functionA2'></span>

<h3>Description</h3>

<p>G function from Proposition A.2
</p>


<h3>Usage</h3>

<pre><code class='language-R'>g_functionA2(kappa, r_TstarU, obs_draws)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="g_functionA2_+3A_kappa">kappa</code></td>
<td>
<p>Kappa value</p>
</td></tr>
<tr><td><code id="g_functionA2_+3A_r_tstaru">r_TstarU</code></td>
<td>
<p>r_TstarU value</p>
</td></tr>
<tr><td><code id="g_functionA2_+3A_obs_draws">obs_draws</code></td>
<td>
<p>a row of the data.frame of observable draws</p>
</td></tr>
</table>


<h3>Value</h3>

<p>G value
</p>

<hr>
<h2 id='get_alpha_bounds'>Computes a0 and a1 bounds</h2><span id='topic+get_alpha_bounds'></span>

<h3>Description</h3>

<p>Computes a0 and a1 bounds
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_alpha_bounds(draws, p)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_alpha_bounds_+3A_draws">draws</code></td>
<td>
<p>data.frame of observables of simulated data</p>
</td></tr>
<tr><td><code id="get_alpha_bounds_+3A_p">p</code></td>
<td>
<p>Treatment probability from binary data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of alpha bounds
</p>

<hr>
<h2 id='get_beta'>Solves for beta</h2><span id='topic+get_beta'></span>

<h3>Description</h3>

<p>This function solves for beta given r_TstarU and kappa.
It handles 3 potential cases when beta must be evaluated:
1. Across multiple simulations, but given the same r_TstarU and k
2. For multiple simulations, each with a value of r_TstarU and k
3. For one simulation across a grid of r_TstarU and k
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_beta(r_TstarU, k, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_beta_+3A_r_tstaru">r_TstarU</code></td>
<td>
<p>Vector of r_TstarU values</p>
</td></tr>
<tr><td><code id="get_beta_+3A_k">k</code></td>
<td>
<p>Vector of kappa values</p>
</td></tr>
<tr><td><code id="get_beta_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of betas
</p>

<hr>
<h2 id='get_beta_bounds_binary'>Returns beta bounds in binary case using grid search</h2><span id='topic+get_beta_bounds_binary'></span>

<h3>Description</h3>

<p>Returns beta bounds in binary case using grid search
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_beta_bounds_binary(obs_draws, p, r_TstarU_restriction)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_beta_bounds_binary_+3A_obs_draws">obs_draws</code></td>
<td>
<p>Row of the data.frame of observable draws</p>
</td></tr>
<tr><td><code id="get_beta_bounds_binary_+3A_p">p</code></td>
<td>
<p>Treatment probability from data</p>
</td></tr>
<tr><td><code id="get_beta_bounds_binary_+3A_r_tstaru_restriction">r_TstarU_restriction</code></td>
<td>
<p>2-element vector of restrictions on r_TstarU</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Min and max values for beta
</p>

<hr>
<h2 id='get_beta_bounds_binary_post'>Generates beta bounds off of beta draws</h2><span id='topic+get_beta_bounds_binary_post'></span>

<h3>Description</h3>

<p>Generates beta bounds off of beta draws
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_beta_bounds_binary_post(draws, n_observables)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_beta_bounds_binary_post_+3A_draws">draws</code></td>
<td>
<p>Posterior draws</p>
</td></tr>
<tr><td><code id="get_beta_bounds_binary_post_+3A_n_observables">n_observables</code></td>
<td>
<p>Number of observable draws</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Upper and lower bounds of beta based on posterior draws
</p>

<hr>
<h2 id='get_bounds_unrest'>Wrapper function combines all unrestricted bounds together. Vectorized</h2><span id='topic+get_bounds_unrest'></span>

<h3>Description</h3>

<p>Wrapper function combines all unrestricted bounds together. Vectorized
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_bounds_unrest(obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_bounds_unrest_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of unrestricted bounds for r_TstarU, r_uz, and kappa
</p>

<hr>
<h2 id='get_estimates'>Computes OLS and IV estimates</h2><span id='topic+get_estimates'></span>

<h3>Description</h3>

<p>Computes OLS and IV estimates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_estimates(y_name, T_name, z_name, data, controls = NULL, robust = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_estimates_+3A_y_name">y_name</code></td>
<td>
<p>Character vector of the name of the dependent variable</p>
</td></tr>
<tr><td><code id="get_estimates_+3A_t_name">T_name</code></td>
<td>
<p>Character vector of the names of the preferred regressors</p>
</td></tr>
<tr><td><code id="get_estimates_+3A_z_name">z_name</code></td>
<td>
<p>Character vector of the names of the instrumental variables</p>
</td></tr>
<tr><td><code id="get_estimates_+3A_data">data</code></td>
<td>
<p>Data to be analyzed</p>
</td></tr>
<tr><td><code id="get_estimates_+3A_controls">controls</code></td>
<td>
<p>Character vector containing the names of the exogenous regressors</p>
</td></tr>
<tr><td><code id="get_estimates_+3A_robust">robust</code></td>
<td>
<p>Boolean of whether to compute heteroskedasticity-robust standard errors</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of beta estimates and associated standard errors for OLS and
IV estimation
</p>

<hr>
<h2 id='get_k_bounds_unrest'>Given observables from the data, generates unrestricted bounds for kappa.
Vectorized</h2><span id='topic+get_k_bounds_unrest'></span>

<h3>Description</h3>

<p>Given observables from the data, generates unrestricted bounds for kappa.
Vectorized
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_k_bounds_unrest(obs, tilde)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_k_bounds_unrest_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
<tr><td><code id="get_k_bounds_unrest_+3A_tilde">tilde</code></td>
<td>
<p>Boolean of whether or not kappa_tilde or kappa is desired</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of upper bounds and lower bounds for kappa
</p>

<hr>
<h2 id='get_L'>Computes L, lower bound for kappa_tilde in paper</h2><span id='topic+get_L'></span>

<h3>Description</h3>

<p>Computes L, lower bound for kappa_tilde in paper
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_L(draws)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_L_+3A_draws">draws</code></td>
<td>
<p>data.frame of observables of simulated data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of L values
</p>

<hr>
<h2 id='get_M'>Solves for the magnification factor</h2><span id='topic+get_M'></span>

<h3>Description</h3>

<p>This function solves for the magnification factor given r_TstarU and kappa.
It handles 3 potential cases when the magnification factor must be evaluated:
1. Across multiple simulations, but given the same r_TstarU and k
2. For multiple simulations, each with a value of r_TstarU and k
3. For one simulation across a grid of r_TstarU and k
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_M(r_TstarU, k, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_M_+3A_r_tstaru">r_TstarU</code></td>
<td>
<p>Vector of r_TstarU values</p>
</td></tr>
<tr><td><code id="get_M_+3A_k">k</code></td>
<td>
<p>Vector of kappa values</p>
</td></tr>
<tr><td><code id="get_M_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of magnification factors
</p>

<hr>
<h2 id='get_new_draws'>Computes beliefs that support valid instrument</h2><span id='topic+get_new_draws'></span>

<h3>Description</h3>

<p>Computes beliefs that support valid instrument
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_new_draws(obs_draws, post_draws)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_new_draws_+3A_obs_draws">obs_draws</code></td>
<td>
<p>data.frame of draws of reduced form parameters</p>
</td></tr>
<tr><td><code id="get_new_draws_+3A_post_draws">post_draws</code></td>
<td>
<p>data.frame of posterior draws</p>
</td></tr>
</table>


<h3>Value</h3>

<p>data.frame of new draws
</p>

<hr>
<h2 id='get_observables'>Given data and function specification, returns the relevant correlations and
covariances with any exogenous controls projected out.</h2><span id='topic+get_observables'></span>

<h3>Description</h3>

<p>Given data and function specification, returns the relevant correlations and
covariances with any exogenous controls projected out.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_observables(y_name, T_name, z_name, data, controls = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_observables_+3A_y_name">y_name</code></td>
<td>
<p>Name of the dependent variable</p>
</td></tr>
<tr><td><code id="get_observables_+3A_t_name">T_name</code></td>
<td>
<p>Name(s) of the preferred regressor(s)</p>
</td></tr>
<tr><td><code id="get_observables_+3A_z_name">z_name</code></td>
<td>
<p>Name(s) of the instrumental variable(s)</p>
</td></tr>
<tr><td><code id="get_observables_+3A_data">data</code></td>
<td>
<p>Data to be analyzed</p>
</td></tr>
<tr><td><code id="get_observables_+3A_controls">controls</code></td>
<td>
<p>Exogenous regressors to be included</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of correlations, covariances, and R^2 of first and second stage
regressions after projecting out any exogenous control regressors
</p>

<hr>
<h2 id='get_p_valid'>Compute the share of draws that could contain a valid instrument.</h2><span id='topic+get_p_valid'></span>

<h3>Description</h3>

<p>Compute the share of draws that could contain a valid instrument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_p_valid(draws)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_p_valid_+3A_draws">draws</code></td>
<td>
<p>List of simulated draws</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Numeric of the share of valid draws as determined by having the
the restricted bounds for r_uz contain zero.
</p>

<hr>
<h2 id='get_psi_lower'>Computes the lower bound of psi for binary data</h2><span id='topic+get_psi_lower'></span>

<h3>Description</h3>

<p>Computes the lower bound of psi for binary data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_psi_lower(s2_T, p, kappa)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_psi_lower_+3A_s2_t">s2_T</code></td>
<td>
<p>Vector of s2_T draws from observables</p>
</td></tr>
<tr><td><code id="get_psi_lower_+3A_p">p</code></td>
<td>
<p>Treatment probability from binary data</p>
</td></tr>
<tr><td><code id="get_psi_lower_+3A_kappa">kappa</code></td>
<td>
<p>Vector of kappa, NOTE: kappa_tilde in the paper</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of lower bounds for psi
</p>

<hr>
<h2 id='get_psi_upper'>Computes the upper bound of psi for binary data</h2><span id='topic+get_psi_upper'></span>

<h3>Description</h3>

<p>Computes the upper bound of psi for binary data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_psi_upper(s2_T, p, kappa)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_psi_upper_+3A_s2_t">s2_T</code></td>
<td>
<p>Vector of s2_T draws from observables</p>
</td></tr>
<tr><td><code id="get_psi_upper_+3A_p">p</code></td>
<td>
<p>Treatment probability from binary data</p>
</td></tr>
<tr><td><code id="get_psi_upper_+3A_kappa">kappa</code></td>
<td>
<p>Vector of kappa, NOTE: kappa_tilde in the paper</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of upper bounds for psi
</p>

<hr>
<h2 id='get_r_TstarU_bounds_unrest'>Given observables from the data, generates the unrestricted bounds for rho_TstarU.
Data does not impose any restrictions on r_TstarU
Vectorized</h2><span id='topic+get_r_TstarU_bounds_unrest'></span>

<h3>Description</h3>

<p>Given observables from the data, generates the unrestricted bounds for rho_TstarU.
Data does not impose any restrictions on r_TstarU
Vectorized
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_r_TstarU_bounds_unrest(obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_r_TstarU_bounds_unrest_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of upper and lower bounds for r_TstarU
</p>

<hr>
<h2 id='get_r_uz'>Solves for r_uz given observables, r_TstarU, and kappa</h2><span id='topic+get_r_uz'></span>

<h3>Description</h3>

<p>This function solves for r_uz given r_TstarU and kappa. It handles 3
potential cases when r_uz must be evaluated:
1. Across multiple simulations, but given the same r_TstarU and k
2. For multiple simulations, each with a value of r_TstarU and k
3. For one simulation across a grid of r_TstarU and k
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_r_uz(r_TstarU, k, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_r_uz_+3A_r_tstaru">r_TstarU</code></td>
<td>
<p>Vector of r_TstarU values</p>
</td></tr>
<tr><td><code id="get_r_uz_+3A_k">k</code></td>
<td>
<p>Vector of kappa values</p>
</td></tr>
<tr><td><code id="get_r_uz_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of r_uz values.
</p>

<hr>
<h2 id='get_r_uz_bounds'>Evaluates r_uz bounds given user restrictions on r_TstarU and kappa</h2><span id='topic+get_r_uz_bounds'></span>

<h3>Description</h3>

<p>This function takes observables from the data and user beliefs over the extent
of measurement error (kappa) and the direction of endogeneity (r_TstarU) to
generate the implied bounds on instrument validity (r_uz)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_r_uz_bounds(r_TstarU_lower, r_TstarU_upper, k_lower, k_upper, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_r_uz_bounds_+3A_r_tstaru_lower">r_TstarU_lower</code></td>
<td>
<p>Vector of lower bounds of endogeneity</p>
</td></tr>
<tr><td><code id="get_r_uz_bounds_+3A_r_tstaru_upper">r_TstarU_upper</code></td>
<td>
<p>Vector of upper bounds of endogeneity</p>
</td></tr>
<tr><td><code id="get_r_uz_bounds_+3A_k_lower">k_lower</code></td>
<td>
<p>Vector of lower bounds on measurement error</p>
</td></tr>
<tr><td><code id="get_r_uz_bounds_+3A_k_upper">k_upper</code></td>
<td>
<p>Vector of upper bounds on measurement error</p>
</td></tr>
<tr><td><code id="get_r_uz_bounds_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>2-column data frame of lower and upper bounds of r_uz
</p>

<hr>
<h2 id='get_r_uz_bounds_unrest'>Given observables from the data, generates the unrestricted bounds for rho_uz.
Vectorized</h2><span id='topic+get_r_uz_bounds_unrest'></span>

<h3>Description</h3>

<p>Given observables from the data, generates the unrestricted bounds for rho_uz.
Vectorized
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_r_uz_bounds_unrest(obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_r_uz_bounds_unrest_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of upper and lower bounds for rho_uz
</p>

<hr>
<h2 id='get_s_u'>Solves for the variance of the error term u</h2><span id='topic+get_s_u'></span>

<h3>Description</h3>

<p>This function solves for the variance of u given r_TstarU and kappa.
It handles 3 potential cases when the variance of u must be evaluated:
1. Across multiple simulations, but given the same r_TstarU and k
2. For multiple simulations, each with a value of r_TstarU and k
3. For one simulation across a grid of r_TstarU and k
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_s_u(r_TstarU, k, obs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_s_u_+3A_r_tstaru">r_TstarU</code></td>
<td>
<p>Vector of r_TstarU values</p>
</td></tr>
<tr><td><code id="get_s_u_+3A_k">k</code></td>
<td>
<p>Vector of kappa values</p>
</td></tr>
<tr><td><code id="get_s_u_+3A_obs">obs</code></td>
<td>
<p>Observables generated by get_observables</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Vector of variances of u
</p>

<hr>
<h2 id='getCoverage'>Computes coverage of list of intervals</h2><span id='topic+getCoverage'></span>

<h3>Description</h3>

<p>Computes coverage of list of intervals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getCoverage(data, guess)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getCoverage_+3A_data">data</code></td>
<td>
<p>2-column data frame of confidence intervals</p>
</td></tr>
<tr><td><code id="getCoverage_+3A_guess">guess</code></td>
<td>
<p>2-element vector of confidence interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Coverage percentage
</p>

<hr>
<h2 id='getInterval'>Generates smallest covering interval</h2><span id='topic+getInterval'></span>

<h3>Description</h3>

<p>Generates smallest covering interval
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getInterval(data, center, conf = 0.9, tol = 1e-06)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getInterval_+3A_data">data</code></td>
<td>
<p>2-column data frame of confidence intervals</p>
</td></tr>
<tr><td><code id="getInterval_+3A_center">center</code></td>
<td>
<p>2-element vector to center coverage interval</p>
</td></tr>
<tr><td><code id="getInterval_+3A_conf">conf</code></td>
<td>
<p>Confidence level</p>
</td></tr>
<tr><td><code id="getInterval_+3A_tol">tol</code></td>
<td>
<p>Tolerance level for convergence</p>
</td></tr>
</table>


<h3>Value</h3>

<p>2-element vector of confidence interval
</p>

<hr>
<h2 id='ivdoctr'>Generates parameter estimates given user restrictions and data</h2><span id='topic+ivdoctr'></span>

<h3>Description</h3>

<p>Generates parameter estimates given user restrictions and data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ivdoctr(
  y_name,
  T_name,
  z_name,
  data,
  example_name,
  controls = NULL,
  robust = FALSE,
  r_TstarU_restriction = c(-1, 1),
  k_restriction = c(1e-04, 1),
  n_draws = 5000,
  n_RF_draws = 1000,
  n_IS_draws = 1000,
  resample = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ivdoctr_+3A_y_name">y_name</code></td>
<td>
<p>Character string with the column name of the dependent variable</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_t_name">T_name</code></td>
<td>
<p>Character string with the column name of the endogenous regressor(s)</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_z_name">z_name</code></td>
<td>
<p>Character string with the column name of the instrument(s)</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_data">data</code></td>
<td>
<p>Data frame</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_example_name">example_name</code></td>
<td>
<p>Character string naming estimation</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_controls">controls</code></td>
<td>
<p>Vector of character strings specifying the exogenous variables</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_robust">robust</code></td>
<td>
<p>Indicator for heteroskedasticity-robust standard errors</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_r_tstaru_restriction">r_TstarU_restriction</code></td>
<td>
<p>2-element vector of min and max of r_TstarU.</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_k_restriction">k_restriction</code></td>
<td>
<p>2-element vector of min and max of kappa.</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_n_draws">n_draws</code></td>
<td>
<p>Number of draws when generating frequentist-friendly draws of the covariance matrix</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_n_rf_draws">n_RF_draws</code></td>
<td>
<p>Number of reduced-form draws</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_n_is_draws">n_IS_draws</code></td>
<td>
<p>Number of draws on the identified set</p>
</td></tr>
<tr><td><code id="ivdoctr_+3A_resample">resample</code></td>
<td>
<p>Indicator of whether or not to resample using magnification factor</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List with elements:
</p>

<ul>
<li><p> ols: lm object of OLS estimation,
</p>
</li>
<li><p> iv: ivreg object of the IV estimation
</p>
</li>
<li><p> n: Number of observations
</p>
</li>
<li><p> b_OLS: OLS point estimate
</p>
</li>
<li><p> se_OLS: OLS standard errors
</p>
</li>
<li><p> b_IV: IV point estimate
</p>
</li>
<li><p> se_IV: IV standard errors
</p>
</li>
<li><p> k_lower: lower bound of kappa
</p>
</li>
<li><p> p_empty: fraction of parameter draws that yield an empty identified set
</p>
</li>
<li><p> p_valid: fraction of parameter draws compatible with a valid instrument
</p>
</li>
<li><p> r_uz_full_interval: 90% posterior credible interval for fully identified set of rho
</p>
</li>
<li><p> beta_full_interval: 90% posterior credible interval for fully identified set of beta
</p>
</li>
<li><p> r_uz_median: posterior median for partially identified rho
</p>
</li>
<li><p> r_uz_partial_interval: 90% posterior credible interval for partially identified set of rho under a conditionally uniform reference prior
</p>
</li>
<li><p> beta_median: posterior median for partially identified beta
</p>
</li>
<li><p> beta_partial_interval: 90% posterior credible interval for partially identified set of beta under a conditionally uniform reference prior
</p>
</li>
<li><p> a0: If treatment is binary, mis-classification probability of no-treatment case. NULL otherwise
</p>
</li>
<li><p> a1: If treatment is binary, mis-classification probability of treatment case. NULL otherwise
</p>
</li>
<li><p> psi_lower: lower bound for psi
</p>
</li>
<li><p> binary: logical indicating if treatment is binary
</p>
</li>
<li><p> k_restriction: User-specified bounds on kappa
</p>
</li>
<li><p> r_TstarU_restriction: User-specified bounds on r_TstarU
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>library(ivdoctr)
endog &lt;- c(0, 0.9)
meas &lt;- c(0.6, 1)

colonial_example1 &lt;- ivdoctr(y_name = "logpgp95", T_name = "avexpr",
                            z_name = "logem4", data = colonial,
                            controls = NULL, robust = FALSE,
                            r_TstarU_restriction = endog,
                            k_restriction = meas,
                            example_name = "Colonial Origins")

</code></pre>

<hr>
<h2 id='make_full_row'>Takes the OLS and IV estimates and converts it to a row of the LaTeX table</h2><span id='topic+make_full_row'></span>

<h3>Description</h3>

<p>Takes the OLS and IV estimates and converts it to a row of the LaTeX table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_full_row(stats, example_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_full_row_+3A_stats">stats</code></td>
<td>
<p>List with OLS and IV estimates and the bounds on kappa and r_uz</p>
</td></tr>
<tr><td><code id="make_full_row_+3A_example_name">example_name</code></td>
<td>
<p>Character string detailing the example</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LaTeX code passed to makeTable()
</p>

<hr>
<h2 id='make_tex_row'>Makes LaTeX code to make a row of a table and shift by some amount of columns
if necessary</h2><span id='topic+make_tex_row'></span>

<h3>Description</h3>

<p>Makes LaTeX code to make a row of a table and shift by some amount of columns
if necessary
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_tex_row(char_vec, shift = 0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_tex_row_+3A_char_vec">char_vec</code></td>
<td>
<p>Vector of characters to be collapsed into a LaTeX table</p>
</td></tr>
<tr><td><code id="make_tex_row_+3A_shift">shift</code></td>
<td>
<p>Number of columns to shift over</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LaTeX string of the whole row of the table
</p>

<hr>
<h2 id='makeTable'>Generates table of parameter estimates given user restrictions and data</h2><span id='topic+makeTable'></span>

<h3>Description</h3>

<p>Generates table of parameter estimates given user restrictions and data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makeTable(..., output)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="makeTable_+3A_...">...</code></td>
<td>
<p>Arguments of TeX code for individual examples to be combined into a single table</p>
</td></tr>
<tr><td><code id="makeTable_+3A_output">output</code></td>
<td>
<p>File name to write</p>
</td></tr>
</table>


<h3>Value</h3>

<p>LaTeX code that generates output table with regression results
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ivdoctr)
endog &lt;- c(0, 0.9)
meas &lt;- c(0.6, 1)

colonial_example1 &lt;- ivdoctr(y_name = "logpgp95", T_name = "avexpr",
                            z_name = "logem4", data = colonial,
                            controls = NULL, robust = FALSE,
                            r_TstarU_restriction = endog,
                            k_restriction = meas,
                            example_name = "Colonial Origins")
makeTable(colonial_example1, output = file.path(tempdir(), "colonial.tex"))

</code></pre>

<hr>
<h2 id='map2color'>Generates a custom color palette given a vector of numbers</h2><span id='topic+map2color'></span>

<h3>Description</h3>

<p>Generates a custom color palette given a vector of numbers
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map2color(x, pal, limits = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="map2color_+3A_x">x</code></td>
<td>
<p>Vector of numbers</p>
</td></tr>
<tr><td><code id="map2color_+3A_pal">pal</code></td>
<td>
<p>Palette function generate from colorRampPalette</p>
</td></tr>
<tr><td><code id="map2color_+3A_limits">limits</code></td>
<td>
<p>Limits on the numeric sequence</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Hex values for colors
</p>

<hr>
<h2 id='myformat'>Rounds x to two decimal places</h2><span id='topic+myformat'></span>

<h3>Description</h3>

<p>Rounds x to two decimal places
</p>


<h3>Usage</h3>

<pre><code class='language-R'>myformat(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="myformat_+3A_x">x</code></td>
<td>
<p>Number to be rounded</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Number rounded to 2 decimal places
</p>

<hr>
<h2 id='plot_3d_beta'>Plot ivdoctr Restrictions</h2><span id='topic+plot_3d_beta'></span>

<h3>Description</h3>

<p>Plot ivdoctr Restrictions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_3d_beta(
  y_name,
  T_name,
  z_name,
  data,
  controls = NULL,
  r_TstarU_restriction = c(-1, 1),
  k_restriction = c(0, 1),
  n_grid = 30,
  n_colors = 500,
  fence = NULL,
  gray_k = NULL,
  gray_rTstarU = NULL,
  theta = 0,
  phi = 15
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="plot_3d_beta_+3A_y_name">y_name</code></td>
<td>
<p>Character string with the column name of the dependent variable</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_t_name">T_name</code></td>
<td>
<p>Character string with the column name of the endogenous regressor(s)</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_z_name">z_name</code></td>
<td>
<p>Character string with the column name of the instrument(s)</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_data">data</code></td>
<td>
<p>Data frame</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_controls">controls</code></td>
<td>
<p>Vector of character strings specifying the exogenous variables</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_r_tstaru_restriction">r_TstarU_restriction</code></td>
<td>
<p>2-element vector of bounds for r_TstarU</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_k_restriction">k_restriction</code></td>
<td>
<p>2-element vector of bounds for kappa</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_n_grid">n_grid</code></td>
<td>
<p>Number of points to put in grid</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_n_colors">n_colors</code></td>
<td>
<p>Number of colors to use</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_fence">fence</code></td>
<td>
<p>Vector of left, bottom, right, and top corners of rectangle</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_gray_k">gray_k</code></td>
<td>
<p>2-element vector of kappa restrictions to recolor graph as gray</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_gray_rtstaru">gray_rTstarU</code></td>
<td>
<p>2-element vector of rTstarU restrictions to recolor graph as gray</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_theta">theta</code></td>
<td>
<p>Graphing parameters for orienting plot</p>
</td></tr>
<tr><td><code id="plot_3d_beta_+3A_phi">phi</code></td>
<td>
<p>Graphing parameters for orienting plot</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Interactive 3d plot which can be oriented and saved using rgl.snapshot()
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(ivdoctr)
endog &lt;- matrix(c(0, 0.9), nrow = 1)
meas &lt;- matrix(c(0.6, 1), nrow = 1)

plot_3d_beta(y_name = "logpgp95", T_name = "avexpr",
            z_name = "logem4", data = colonial,
            r_TstarU_restriction = endog,
            k_restriction = meas)

</code></pre>

<hr>
<h2 id='rect_points'>Construct vectors of points that outline a rectangle.</h2><span id='topic+rect_points'></span>

<h3>Description</h3>

<p>Construct vectors of points that outline a rectangle.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rect_points(xleft, ybottom, xright, ytop, step_x, step_y)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rect_points_+3A_xleft">xleft</code></td>
<td>
<p>The left side of the rectangle</p>
</td></tr>
<tr><td><code id="rect_points_+3A_ybottom">ybottom</code></td>
<td>
<p>The bottom of the rectangle</p>
</td></tr>
<tr><td><code id="rect_points_+3A_xright">xright</code></td>
<td>
<p>The right side of the rectangle</p>
</td></tr>
<tr><td><code id="rect_points_+3A_ytop">ytop</code></td>
<td>
<p>The top of the rectangle</p>
</td></tr>
<tr><td><code id="rect_points_+3A_step_x">step_x</code></td>
<td>
<p>The step size of the x coordinates</p>
</td></tr>
<tr><td><code id="rect_points_+3A_step_y">step_y</code></td>
<td>
<p>The step size of the y coordinates</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of x-coordinates and y-coordinates tracing the points around
the rectangle
</p>

<hr>
<h2 id='rinvwish'>Simulate draws from the inverse Wishart distribution</h2><span id='topic+rinvwish'></span>

<h3>Description</h3>

<p>Simulate draws from the inverse Wishart distribution
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rinvwish(n, v, S)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rinvwish_+3A_n">n</code></td>
<td>
<p>An integer, the number of draws.</p>
</td></tr>
<tr><td><code id="rinvwish_+3A_v">v</code></td>
<td>
<p>An integer, the degrees of freedom of the distribution.</p>
</td></tr>
<tr><td><code id="rinvwish_+3A_s">S</code></td>
<td>
<p>A numeric matrix, the scale matrix of the distribution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Employs the Bartlett Decomposition (Smith &amp; Hocking 1972).
Output exactly matches that of riwish from the MCMCpack package if the same
random seed is used.
</p>


<h3>Value</h3>

<p>A numeric array of matrices, each of which is one simulation draw.
</p>

<hr>
<h2 id='toList'>Convert 3-d array to list of matrixes</h2><span id='topic+toList'></span>

<h3>Description</h3>

<p>Convert 3-d array to list of matrixes
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toList(myArray)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="toList_+3A_myarray">myArray</code></td>
<td>
<p>A three-dimensional numeric array.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of numeric matrices.
</p>

<hr>
<h2 id='weber'>Becker and Woessmann (2009) Dataset</h2><span id='topic+weber'></span>

<h3>Description</h3>

<p>Data on Prussian counties in 1871 from Becker and Woessmann's (2009) paper &quot;Was Weber Wrong? A Human Capital Theory of Protestant Economic History.&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weber
</code></pre>


<h3>Format</h3>

<p>A data frame with 452 rows and 44 variables:
</p>

<dl>
<dt>kreiskey1871</dt><dd><p>kreiskey1871</p>
</dd>
<dt>county1871</dt><dd><p>County name in 1871</p>
</dd>
<dt>rbkey</dt><dd><p>District key</p>
</dd>
<dt>lat_rad</dt><dd><p>Latitude (in rad)</p>
</dd>
<dt>lon_rad</dt><dd><p>Longitude (in rad)</p>
</dd>
<dt>kmwittenberg</dt><dd><p>Distance to Wittenberg (in km)</p>
</dd>
<dt>zupreussen</dt><dd><p>Year in which county was annexed by Prussia</p>
</dd>
<dt>hhsize</dt><dd><p>Average household size</p>
</dd>
<dt>gpop</dt><dd><p>Population growth from 1867-1871 in percentage points</p>
</dd>
<dt>f_prot</dt><dd><p>Percent Protestants</p>
</dd>
<dt>f_jew</dt><dd><p>Percent Jews</p>
</dd>
<dt>f_rw</dt><dd><p>Percent literate</p>
</dd>
<dt>f_miss</dt><dd><p>Percent missing education information</p>
</dd>
<dt>f_young</dt><dd><p>Percent below the age of 10</p>
</dd>
<dt>f_fem</dt><dd><p>Percent female</p>
</dd>
<dt>f_ortsgeb</dt><dd><p>Percent born in municipality</p>
</dd>
<dt>f_pruss</dt><dd><p>Percent of Prussian origin</p>
</dd>
<dt>f_blind</dt><dd><p>Percent blind</p>
</dd>
<dt>f_deaf</dt><dd><p>Percent deaf-mute</p>
</dd>
<dt>f_dumb</dt><dd><p>Percent insane</p>
</dd>
<dt>f_urban</dt><dd><p>Percent of county population in urban areas</p>
</dd>
<dt>lnpop</dt><dd><p>Natural logarithm of total population size</p>
</dd>
<dt>lnkmb</dt><dd><p>Natural logarithm of distance to Berlin (km)</p>
</dd>
<dt>poland</dt><dd><p>Dummy variable, =1 if county is Polish-speaking</p>
</dd>
<dt>latlon</dt><dd><p>Latitude * Longitude * 100</p>
</dd>
<dt>f_over3km</dt><dd><p>Percent of pupils farther than 3km from school</p>
</dd>
<dt>f_mine</dt><dd><p>Percent of labor force employed in mining</p>
</dd>
<dt>inctaxpc</dt><dd><p>Income tax revenue per capita in 1877</p>
</dd>
<dt>perc_secB</dt><dd><p>Percentage of labor force employed in manufacturing in 1882</p>
</dd>
<dt>perc_secC</dt><dd><p>Percentage of labor force employed in services in 1882</p>
</dd>
<dt>perc_secBnC</dt><dd><p>Percentage of labor force employed in manufacturing and
services in 1882</p>
</dd>
<dt>lnyteacher</dt><dd><p>100 * Natural logarithm of male elementary school
teachers in 1886</p>
</dd>
<dt>rhs</dt><dd><p>Dummy variable, =1 if Imperial of Hanseatic city in 1517</p>
</dd>
<dt>yteacher</dt><dd><p>Income of male elementary school teachers in 1886</p>
</dd>
<dt>pop</dt><dd><p>Total population size</p>
</dd>
<dt>kmb</dt><dd><p>Distance to Berlin (km)</p>
</dd>
<dt>uni1517</dt><dd><p>Dummy variable, =1 if University in 1517</p>
</dd>
<dt>reichsstadt</dt><dd><p>Dummy variable, =1 if Imperial city in 1517</p>
</dd>
<dt>hansestadt</dt><dd><p>Dummy variable, =1 if Hanseatic city in 1517</p>
</dd>
<dt>f_cath</dt><dd><p>Percentage of Catholics</p>
</dd>
<dt>sh_al_in_tot</dt><dd><p>Share of municipalities beginning with letter A to L</p>
</dd>
<dt>ncloisters1517_pkm2</dt><dd><p>Monasteries per square kilometer in 1517</p>
</dd>
<dt>school1517</dt><dd><p>Dummy variable, =1 if school in 1517</p>
</dd>
<dt>dnpop1500</dt><dd><p>City population in 1500</p>
</dd>
</dl>



<h3>Source</h3>

<p><a href="https://www.ifo.de/en/iPEHD">https://www.ifo.de/en/iPEHD</a>
</p>


<h3>References</h3>

<p><a href="https://www.ifo.de/en/iPEHD">https://www.ifo.de/en/iPEHD</a>
doi: <a href="https://doi.org/10.1162/qjec.2009.124.2.531">10.1162/qjec.2009.124.2.531</a>
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

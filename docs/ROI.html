<!DOCTYPE html><html><head><title>Help for package ROI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ROI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#as.L_term'><p>Canonicalize the Linear Term</p></a></li>
<li><a href='#as.Q_term'><p>Canonicalize the Quadraric Term</p></a></li>
<li><a href='#bound (Constructors)'><p>bound</p></a></li>
<li><a href='#bounds (Set/Get)'><p>Bounds - Accessor and Mutator Functions</p></a></li>
<li><a href='#C_constraint'><p>Conic Constraints</p></a></li>
<li><a href='#constraint (Constructors)'><p>constraint</p></a></li>
<li><a href='#constraint directions'><p>Replicate <code>"=="</code>, <code>"&gt;="</code> and <code>"&lt;="</code> Signs</p></a></li>
<li><a href='#constraints (Set/Get)'><p>Constraints - Accessor and Mutator Functions</p></a></li>
<li><a href='#equal'><p>Compare two Objects</p></a></li>
<li><a href='#F_constraint'><p>Function Constraints</p></a></li>
<li><a href='#F_objective'><p>General (Nonlinear) Objective Function</p></a></li>
<li><a href='#G'><p>Extract Gradient information</p></a></li>
<li><a href='#is.default_bound'><p>Check for default bounds</p></a></li>
<li><a href='#J'><p>Extract Jacobian Information</p></a></li>
<li><a href='#K_zero'><p>Cone Constructors</p></a></li>
<li><a href='#L_constraint'><p>Linear Constraints</p></a></li>
<li><a href='#L_objective'><p>Linear Objective Function</p></a></li>
<li><a href='#maximum (Set/Get)'><p>Maximum - Accessor and Mutator Functions</p></a></li>
<li><a href='#nlminb2'><p>Nonlinear programming with nonlinear constraints.</p></a></li>
<li><a href='#NO_constraint'><p>Class: <code>"NO_constraint"</code></p></a></li>
<li><a href='#objective (Set/Get)'><p>Objective - Accessor and Mutator Functions</p></a></li>
<li><a href='#OP'><p>Optimization Problem Constructor</p></a></li>
<li><a href='#OP_signature'><p>Optimization Problem Signature</p></a></li>
<li><a href='#Q_constraint'><p>Quadratic Constraints</p></a></li>
<li><a href='#Q_objective'><p>Quadratic Objective Function</p></a></li>
<li><a href='#rbind.constraint'><p>Combine Constraints</p></a></li>
<li><a href='#ROI_applicable_solvers'><p>Obtain Applicable Solvers</p></a></li>
<li><a href='#ROI_available_solvers'><p>Available Solvers</p></a></li>
<li><a href='#ROI_options'><p>ROI Options</p></a></li>
<li><a href='#ROI_plugin_add_status_code_to_db'><p>Add Status Code to the Status Database</p></a></li>
<li><a href='#ROI_plugin_build_equality_constraints'><p>Build Functional Equality Constraints</p></a></li>
<li><a href='#ROI_plugin_build_inequality_constraints'><p>Build Functional Inequality Constraints</p></a></li>
<li><a href='#ROI_plugin_canonicalize_solution'><p>Canonicalize Solution</p></a></li>
<li><a href='#ROI_plugin_get_solver_name'><p>Get Solver Name</p></a></li>
<li><a href='#ROI_plugin_make_signature'><p>Make Signatures</p></a></li>
<li><a href='#ROI_plugin_register_reader_writer'><p>Register Reader / Writer Method</p></a></li>
<li><a href='#ROI_plugin_register_reformulation'><p>Register Reformulation Method</p></a></li>
<li><a href='#ROI_plugin_register_solver_control'><p>Register Solver Controls</p></a></li>
<li><a href='#ROI_plugin_register_solver_method'><p>Register Solver Method</p></a></li>
<li><a href='#ROI_plugin_solution_prim'><p>Extract solution from the solver.</p></a></li>
<li><a href='#ROI_read'><p>Read Optimization Problems</p></a></li>
<li><a href='#ROI_reformulate'><p>Reformulate a Optimization Problem</p></a></li>
<li><a href='#ROI_registered_reader'><p>List Registered Reader</p></a></li>
<li><a href='#ROI_registered_reformulations'><p>Registered Reformulations</p></a></li>
<li><a href='#ROI_registered_solver_control'><p>Registered Solver Controls</p></a></li>
<li><a href='#ROI_registered_solvers'><p>Solver Tools</p></a></li>
<li><a href='#ROI_registered_writer'><p>Write Optimization Problems</p></a></li>
<li><a href='#ROI_require_solver'><p>Require Solver</p></a></li>
<li><a href='#ROI_solve'><p>Solve an Optimization Problem</p></a></li>
<li><a href='#ROI_solver_signature'><p>Obtain Solver Signature</p></a></li>
<li><a href='#ROI_write'><p>Write Optimization Problems</p></a></li>
<li><a href='#solution'><p>Extract Solution</p></a></li>
<li><a href='#types (Set/Get)'><p>Types - Accessor and Mutator Functions</p></a></li>
<li><a href='#US30'><p>Monthly return data for 30 of the largest US stocks</p></a></li>
<li><a href='#V_bound'><p>Objective Variable Bounds</p></a></li>
<li><a href='#vech'><p>Half-Vectorization</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>1.0-1</td>
</tr>
<tr>
<td>Title:</td>
<td>R Optimization Infrastructure</td>
</tr>
<tr>
<td>Description:</td>
<td>The R Optimization Infrastructure ('ROI') &lt;<a href="https://doi.org/10.18637%2Fjss.v094.i15">doi:10.18637/jss.v094.i15</a>&gt;
	is a sophisticated framework for handling optimization problems in R.
	Additional information can be found on the 'ROI' homepage <a href="https://roi.r-forge.r-project.org/">https://roi.r-forge.r-project.org/</a>.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Imports:</td>
<td>methods, registry (&ge; 0.5), slam, utils, checkmate</td>
</tr>
<tr>
<td>Suggests:</td>
<td>numDeriv</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://roi.r-forge.r-project.org/">https://roi.r-forge.r-project.org/</a>,
<a href="https://r-forge.r-project.org/projects/roi/">https://r-forge.r-project.org/projects/roi/</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-20 19:04:30 UTC; f</td>
</tr>
<tr>
<td>Author:</td>
<td>Kurt Hornik <a href="https://orcid.org/0000-0003-4198-9911"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  David Meyer [aut],
  Florian Schwendinger
    <a href="https://orcid.org/0000-0002-3983-9773"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Stefan Theussl <a href="https://orcid.org/0000-0002-6523-4620"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Diethelm Wuertz [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stefan Theussl &lt;Stefan.Theussl@R-Project.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-20 19:42:30 UTC</td>
</tr>
</table>
<hr>
<h2 id='as.L_term'>Canonicalize the Linear Term</h2><span id='topic+as.L_term'></span>

<h3>Description</h3>

<p>Canonicalize the linear term of a linear constraint.
Objects from the following classes can be canonicalized:
<code>"NULL"</code>, <code>"numeric"</code>, <code>"matrix"</code>, <code>"simple_triplet_matrix"</code>
and <code>"list"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.L_term(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.L_term_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="as.L_term_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the case of <code>lists</code> <code>"as.Q_term"</code> is applied to every element
of the list, for <code>NULL</code> one can supply the optional arguments <code>"nrow"</code>
and <code>"ncol"</code> which will create a <code>"simple_triplet_zero_matrix"</code>
with the specified dimension.
</p>


<h3>Value</h3>

<p>an object of class <code>"simple_triplet_matrix"</code>
</p>

<hr>
<h2 id='as.Q_term'>Canonicalize the Quadraric Term</h2><span id='topic+as.Q_term'></span><span id='topic+as.Q_term.list'></span><span id='topic+as.Q_term.numeric'></span><span id='topic+as.Q_term.matrix'></span><span id='topic+as.Q_term.simple_triplet_matrix'></span><span id='topic+as.Q_term.NULL'></span>

<h3>Description</h3>

<p>Canonicalize the quadraric term of a quadratic constraint.
Objects from the following classes can be canonicalized:
<code>"NULL"</code>, <code>"numeric"</code>, <code>"matrix"</code>, <code>"simple_triplet_matrix"</code>
and <code>"list"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.Q_term(x, ...)

## S3 method for class 'list'
as.Q_term(x, ...)

## S3 method for class 'numeric'
as.Q_term(x, ...)

## S3 method for class 'matrix'
as.Q_term(x, ...)

## S3 method for class 'simple_triplet_matrix'
as.Q_term(x, ...)

## S3 method for class ''NULL''
as.Q_term(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as.Q_term_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="as.Q_term_+3A_...">...</code></td>
<td>
<p>further arguments</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In the case of <code>lists</code> <code>"as.Q_term"</code> is applied to every element
of the list, for <code>NULL</code> one can supply the optional arguments <code>"nrow"</code>
and <code>"ncol"</code> which will create a <code>"simple_triplet_zero_matrix"</code>
with the specified dimension.
</p>


<h3>Value</h3>

<p>an object of class <code>"simple_triplet_matrix"</code>
</p>

<hr>
<h2 id='bound+20+28Constructors+29'>bound</h2><span id='topic+bound+20+28Constructors+29'></span><span id='topic+c.bound'></span><span id='topic+is.bound'></span>

<h3>Description</h3>

<p><span class="pkg">ROI</span> distinguishes between 2 different
types of bounds:
</p>

<ul>
<li><p> No Bounds <code>NO_bound</code>
</p>
</li>
<li><p> Variable Bounds <code><a href="#topic+V_bound">V_bound</a></code> (inherits from <code>"bound"</code>)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'bound'
c(...)

is.bound(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bound+2B20+2B28Constructors+2B29_+3A_x">x</code></td>
<td>
<p>object to be tested</p>
</td></tr>
<tr><td><code id="bound+2B20+2B28Constructors+2B29_+3A_...">...</code></td>
<td>
<p>arguments (inheriting from bound) to be combined</p>
</td></tr>
</table>


<h3>Details</h3>

<p><span class="pkg">ROI</span> provides the method <code><a href="#topic+V_bound">V_bound</a></code>
as constructor for variable bounds.
<code>NO_bound</code> is not explicitly implemented but represented by <code>NULL</code>.
</p>

<hr>
<h2 id='bounds+20+28Set+2FGet+29'>Bounds - Accessor and Mutator Functions</h2><span id='topic+bounds+20+28Set+2FGet+29'></span><span id='topic+bounds'></span><span id='topic+bounds.OP'></span><span id='topic+bounds+3C-'></span>

<h3>Description</h3>

<p>The <a href="#topic+bounds">bounds</a> of a given optimization problem (<a href="#topic+OP">OP</a>)
can be accessed or mutated via the method <code>'bounds'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bounds(x)

## S3 method for class 'OP'
bounds(x)

bounds(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bounds+2B20+2B28Set+2B2FGet+2B29_+3A_x">x</code></td>
<td>
<p>an object of type <code>'OP'</code> used to select the method.</p>
</td></tr>
<tr><td><code id="bounds+2B20+2B28Set+2B2FGet+2B29_+3A_value">value</code></td>
<td>
<p>an object derived from <code>'bound'</code>
(<code>'<a href="#topic+V_bound">V_bound</a>'</code>) or <code>NULL</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the extracted bounds object on get and the altered <code>'<a href="#topic+OP">OP</a>'</code>
object on set.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
lp_obj &lt;- L_objective(c(1, 2))
lp_con &lt;- L_constraint(c(1, 1), dir="==", rhs=2)
lp_bound &lt;- V_bound(ui=1:2, ub=c(3, 3))
lp &lt;- OP(objective=lp_obj, constraints=lp_con, bounds=lp_bound, maximum=FALSE)
bounds(lp)
x &lt;- ROI_solve(lp)
x$objval
x$solution
bounds(lp) &lt;- V_bound(ui=1:2, ub=c(1, 1))
y &lt;- ROI_solve(lp)
y$objval
y$solution

## End(Not run)
</code></pre>

<hr>
<h2 id='C_constraint'>Conic Constraints</h2><span id='topic+C_constraint'></span><span id='topic+as.C_constraint'></span><span id='topic+is.C_constraint'></span><span id='topic+length.C_constraint'></span><span id='topic+variable.names.C_constraint'></span><span id='topic+terms.C_constraint'></span>

<h3>Description</h3>

<p>Conic constraints are often written in the form </p>
<p style="text-align: center;"><code class="reqn">Lx + s = rhs</code>
</p>

<p>where <code class="reqn">L</code> is a <code class="reqn">m \times n</code> (sparse) matrix and 
<code class="reqn">s \in \mathcal{K}</code> are the slack variables restricted to
some cone <code class="reqn">\mathcal{K}</code> which is typically the product of simpler cones 
<code class="reqn">\mathcal{K} = \prod \mathcal{K}_i</code>. The right hand side <code class="reqn">rhs</code> 
is a vector of length <code class="reqn">m</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>C_constraint(L, cones, rhs, names = NULL)

as.C_constraint(x, ...)

is.C_constraint(x)

## S3 method for class 'C_constraint'
length(x)

## S3 method for class 'C_constraint'
variable.names(object, ...)

## S3 method for class 'C_constraint'
terms(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="C_constraint_+3A_l">L</code></td>
<td>
<p>a numeric vector of length <code class="reqn">n</code> (a single constraint)
or a matrix of dimension <code class="reqn">m \times n</code>, where <code class="reqn">n</code> is the
number of objective variables and <code class="reqn">m</code> is the number of
constraints. Matrices can be of class
<code>"simple_triplet_matrix"</code> to allow a sparse representation of
constraints.</p>
</td></tr>
<tr><td><code id="C_constraint_+3A_cones">cones</code></td>
<td>
<p>an object of class <code>"cone"</code> created by the combination,
of <code><a href="#topic+K_zero">K_zero</a></code>, <code><a href="#topic+K_lin">K_lin</a></code>, <code><a href="#topic+K_soc">K_soc</a></code>, 
<code><a href="#topic+K_psd">K_psd</a></code>, <code><a href="#topic+K_expp">K_expp</a></code>, <code><a href="#topic+K_expd">K_expd</a></code>, 
<code><a href="#topic+K_powp">K_powp</a></code> or <code><a href="#topic+K_powd">K_powd</a></code>.</p>
</td></tr>
<tr><td><code id="C_constraint_+3A_rhs">rhs</code></td>
<td>
<p>a numeric vector giving the right hand side of the constraints.</p>
</td></tr>
<tr><td><code id="C_constraint_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of <code class="reqn">x</code> 
(column names of <code class="reqn">L</code>).</p>
</td></tr>
<tr><td><code id="C_constraint_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="C_constraint_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods
(currently ignored).</p>
</td></tr>
<tr><td><code id="C_constraint_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"C_constraint"</code> which inherits
from <code>"constraint"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## minimize:  x1 + x2 + x3
## subject to: 
##   x1 == sqrt(2)
##   ||(x2, x3)|| &lt;= x1
x &lt;- OP(objective = c(1, 1, 1), 
        constraints = C_constraint(L = rbind(rbind(c(1, 0, 0)), 
                                             diag(x=-1, 3)), 
                                   cones = c(K_zero(1), K_soc(3)), 
                                   rhs = c(sqrt(2), rep(0, 3))), 
        types = rep("C", 3),
        bounds =  V_bound(li = 1:3, lb = rep(-Inf, 3)), maximum = FALSE)
</code></pre>

<hr>
<h2 id='constraint+20+28Constructors+29'>constraint</h2><span id='topic+constraint+20+28Constructors+29'></span><span id='topic+c.constraint'></span><span id='topic+as.constraint'></span><span id='topic+is.constraint'></span><span id='topic+dim.constraint'></span>

<h3>Description</h3>

<p><span class="pkg">ROI</span> distinguishes between 5 different 
types of constraint: 
</p>

<ul>
<li><p> No Constraint <code><a href="#topic+NO_constraint">NO_constraint</a></code> (inherits from <code>"constraint"</code>)
</p>
</li>
<li><p> Linear Constraint <code><a href="#topic+L_constraint">L_constraint</a></code> (inherits from <code>"constraint"</code>)
</p>
</li>
<li><p> Quadratic Constraint <code><a href="#topic+Q_constraint">Q_constraint</a></code> (inherits from <code>"constraint"</code>)
</p>
</li>
<li><p> Conic Constraint <code><a href="#topic+C_constraint">C_constraint</a></code> (inherits from <code>"constraint"</code>)
</p>
</li>
<li><p> Function Constraint <code><a href="#topic+F_constraint">F_constraint</a></code> (inherits from <code>"constraint"</code>)
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'constraint'
c(..., recursive = FALSE)

as.constraint(x)

is.constraint(x)

## S3 method for class 'constraint'
dim(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constraint+2B20+2B28Constructors+2B29_+3A_recursive">recursive</code></td>
<td>
<p>a logical, giving if the arguments should be combined recursively.</p>
</td></tr>
<tr><td><code id="constraint+2B20+2B28Constructors+2B29_+3A_x">x</code></td>
<td>
<p>an object to be coerced or tested.</p>
</td></tr>
<tr><td><code id="constraint+2B20+2B28Constructors+2B29_+3A_...">...</code></td>
<td>
<p>objects to be combined.</p>
</td></tr>
</table>

<hr>
<h2 id='constraint+20directions'>Replicate <code>"=="</code>, <code>"&gt;="</code> and <code>"&lt;="</code> Signs</h2><span id='topic+constraint+20directions'></span><span id='topic+eq'></span><span id='topic+leq'></span><span id='topic+geq'></span>

<h3>Description</h3>

<p>The utility functions <code>eq</code>, <code>leq</code> and 
<code>geq</code> replicate the signs <code>"=="</code>, <code>"&gt;="</code> and <code>"&lt;="</code>
<code>n</code> times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eq(n)

leq(n)

geq(n)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constraint+2B20directions_+3A_n">n</code></td>
<td>
<p>an integer giving the number of times the sign should be repeated.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>eq(3)
leq(2)
geq(4)
</code></pre>

<hr>
<h2 id='constraints+20+28Set+2FGet+29'>Constraints - Accessor and Mutator Functions</h2><span id='topic+constraints+20+28Set+2FGet+29'></span><span id='topic+constraints'></span><span id='topic+constraints.OP'></span><span id='topic+constraints+3C-'></span>

<h3>Description</h3>

<p>The <a href="#topic+constraints">constraints</a> of a given optimization problem (<a href="#topic+OP">OP</a>) 
can be accessed or mutated via the method <code>'constraints'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>constraints(x)

## S3 method for class 'OP'
constraints(x)

constraints(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="constraints+2B20+2B28Set+2B2FGet+2B29_+3A_x">x</code></td>
<td>
<p>an object used to select the method.</p>
</td></tr>
<tr><td><code id="constraints+2B20+2B28Set+2B2FGet+2B29_+3A_value">value</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the extracted constraints object.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## minimize: x + 2 y
## subject to: x + y &gt;= 1
## x, y &gt;= 0
x &lt;- OP(1:2)
constraints(x) &lt;- L_constraint(c(1, 1), "&gt;=", 1)
constraints(x)
</code></pre>

<hr>
<h2 id='equal'>Compare two Objects</h2><span id='topic+equal'></span><span id='topic+equal.NULL'></span><span id='topic+equal.logical'></span><span id='topic+equal.integer'></span><span id='topic+equal.numeric'></span><span id='topic+equal.character'></span><span id='topic+equal.list'></span><span id='topic+equal.simple_triplet_matrix'></span><span id='topic+equal.L_constraint'></span><span id='topic+equal.Q_constraint'></span><span id='topic+equal.V_bound'></span>

<h3>Description</h3>

<p>The utility function <code>equal</code> can be used to compare two
<span class="pkg">ROI</span> objects and is mainly used for testing purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>equal(x, y, ...)

## S3 method for class ''NULL''
equal(x, y, ...)

## S3 method for class 'logical'
equal(x, y, ...)

## S3 method for class 'integer'
equal(x, y, ...)

## S3 method for class 'numeric'
equal(x, y, ...)

## S3 method for class 'character'
equal(x, y, ...)

## S3 method for class 'list'
equal(x, y, ...)

## S3 method for class 'simple_triplet_matrix'
equal(x, y, ...)

## S3 method for class 'L_constraint'
equal(x, y, ...)

## S3 method for class 'Q_constraint'
equal(x, y, ...)

## S3 method for class 'V_bound'
equal(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="equal_+3A_x">x</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object to be compared with object y.</p>
</td></tr>
<tr><td><code id="equal_+3A_y">y</code></td>
<td>
<p>an <span class="rlang"><b>R</b></span> object to be compared with object x.</p>
</td></tr>
<tr><td><code id="equal_+3A_...">...</code></td>
<td>
<p>optional arguments to <code>equal</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if <code>x</code> and <code>y</code> are equal <code>FALSE</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## compare numeric values
equal(1e-4, 1e-5, tol=1e-3)
## L_constraint
lc1 &lt;- L_constraint(diag(1), dir=c("=="), rhs=1)
lc2 &lt;- L_constraint(diag(2), dir=c("==", "&lt;="), rhs=1:2)
equal(lc1, lc1)
equal(lc1, lc2)
</code></pre>

<hr>
<h2 id='F_constraint'>Function Constraints</h2><span id='topic+F_constraint'></span><span id='topic+variable.names.F_constraint'></span><span id='topic+is.F_constraint'></span><span id='topic+as.F_constraint'></span><span id='topic+as.F_constraint.NULL'></span><span id='topic+as.F_constraint.NO_constraint'></span><span id='topic+as.F_constraint.constraint'></span><span id='topic+terms.F_constraint'></span>

<h3>Description</h3>

<p>Function (or generally speaking nonlinear) constraints are
typically of the form </p>
<p style="text-align: center;"><code class="reqn">f(x) \leq b</code>
</p>
<p> where <code class="reqn">f()</code> is a
well-defined R function taking the objective variables <code class="reqn">x</code>
(typically a numeric vector) as arguments. <code class="reqn">b</code> is called the
right hand side of the constraints.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_constraint(F, dir, rhs, J = NULL, names = NULL)

## S3 method for class 'F_constraint'
variable.names(object, ...)

is.F_constraint(x)

as.F_constraint(x, ...)

## S3 method for class ''NULL''
as.F_constraint(x, ...)

## S3 method for class 'NO_constraint'
as.F_constraint(x, ...)

## S3 method for class 'constraint'
as.F_constraint(x, ...)

## S3 method for class 'F_constraint'
terms(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F_constraint_+3A_f">F</code></td>
<td>
<p>a <code>function</code> or a list of <code>function</code>s of length
<code class="reqn">m</code>. Each <code>function</code> takes <code class="reqn">n</code> parameters as input
and must return a scalar. Thus, <code class="reqn">n</code> is the number of objective
variables and <code class="reqn">m</code> is the number of constraints.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_dir">dir</code></td>
<td>
<p>a character vector with the directions of the
constraints. Each element must be one of <code>"&lt;="</code>, <code>"&gt;="</code> or <code>"=="</code>.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_rhs">rhs</code></td>
<td>
<p>a numeric vector with the right hand side of the constraints.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_j">J</code></td>
<td>
<p>an optional <code>function</code> holding the Jacobian of F.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of x.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_x">x</code></td>
<td>
<p>object to be tested.</p>
</td></tr>
<tr><td><code id="F_constraint_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods (currently ignored).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"F_constraint"</code> which inherits
from <code>"constraint"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='F_objective'>General (Nonlinear) Objective Function</h2><span id='topic+F_objective'></span><span id='topic+terms.F_objective'></span><span id='topic+as.F_objective'></span><span id='topic+variable.names.F_objective'></span>

<h3>Description</h3>

<p>General objective function <code class="reqn">f(x)</code> to be optimized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>F_objective(F, n, G = NULL, H = NULL, names = NULL)

## S3 method for class 'F_objective'
terms(x, ...)

as.F_objective(x)

## S3 method for class 'F_objective'
variable.names(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="F_objective_+3A_f">F</code></td>
<td>
<p>an R <code>"function"</code> taking a numeric vector <code>x</code> of length <code class="reqn">n</code> as argument.</p>
</td></tr>
<tr><td><code id="F_objective_+3A_n">n</code></td>
<td>
<p>the number of objective variables.</p>
</td></tr>
<tr><td><code id="F_objective_+3A_g">G</code></td>
<td>
<p>an R <code>"function"</code> returning the gradient at <code>x</code>.</p>
</td></tr>
<tr><td><code id="F_objective_+3A_h">H</code></td>
<td>
<p>an optional <code>function</code> holding the Hessian of F.</p>
</td></tr>
<tr><td><code id="F_objective_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of x.</p>
</td></tr>
<tr><td><code id="F_objective_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="F_objective_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
<tr><td><code id="F_objective_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"F_objective"</code> which inherits
from <code>"objective"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='G'>Extract Gradient information</h2><span id='topic+G'></span>

<h3>Description</h3>

<p>Extract the gradient from its argument (typically a ROI
object of class <code>"objective"</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>G(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="G_+3A_x">x</code></td>
<td>
<p>an object used to select the method.</p>
</td></tr>
<tr><td><code id="G_+3A_...">...</code></td>
<td>
<p>further arguments passed down to the
<code><a href="numDeriv.html#topic+grad">grad</a>()</code> function for calculating gradients 
(only for <code>"F_objective"</code>).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By default <span class="pkg">ROI</span> uses the <code>"grad"</code> function from the 
<span class="pkg">numDeriv</span> package to derive the gradient information.
An alternative function can be provided via <code>"ROI_options"</code>.
For example <code>ROI_options("gradient", myGrad)</code>
would tell <span class="pkg">ROI</span> to use the function <code>"myGrad"</code> for the
gradient calculation. The only requirement to the function 
<code>"myGrad"</code> is that it has the argument <code>"func"</code>
which takes a function with a scalar real result.
</p>


<h3>Value</h3>

<p>a <code>"function"</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
   f &lt;- function(x) {
       return( 100 * (x[2] - x[1]^2)^2 + (1 - x[1])^2 )
   }
   x &lt;- OP( objective = F_objective(f, n=2L), 
            bounds = V_bound(li=1:2, ui=1:2, lb=c(-3, -3), ub=c(3, 3)) )
   G(objective(x))(c(0, 0)) ## gradient numerically approximated by numDeriv


   f.gradient &lt;- function(x) {
       return( c( -400 * x[1] * (x[2] - x[1] * x[1]) - 2 * (1 - x[1]),
                   200 * (x[2] - x[1] * x[1])) )
   }
   x &lt;- OP( objective = F_objective(f, n=2L, G=f.gradient), 
            bounds = V_bound(li=1:2, ui=1:2, lb=c(-3, -3), ub=c(3, 3)) )
   G(objective(x))(c(0, 0)) ## gradient calculated by f.gradient

## End(Not run)
</code></pre>

<hr>
<h2 id='is.default_bound'>Check for default bounds</h2><span id='topic+is.default_bound'></span>

<h3>Description</h3>

<p>tests if the given object is an variable bound
which represents default values only
(i.e., all lower bounds are <code>0</code>
and all upper bounds as <code>Inf</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.default_bound(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.default_bound_+3A_x">x</code></td>
<td>
<p>object to be tested</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical of length one indicating wether default bounds are given
</p>

<hr>
<h2 id='J'>Extract Jacobian Information</h2><span id='topic+J'></span><span id='topic+J.L_constraint'></span><span id='topic+J.Q_constraint'></span>

<h3>Description</h3>

<p>Derive the Jacobian for a given constraint.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>J(x, ...)

## S3 method for class 'L_constraint'
J(x, ...)

## S3 method for class 'Q_constraint'
J(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="J_+3A_x">x</code></td>
<td>
<p>a <code><a href="#topic+L_constraint">L_constraint</a></code>, <code><a href="#topic+Q_constraint">Q_constraint</a></code> or 
<code><a href="#topic+F_constraint">F_constraint</a></code>.</p>
</td></tr>
<tr><td><code id="J_+3A_...">...</code></td>
<td>
<p>further arguments</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list of functions
</p>


<h3>Examples</h3>

<pre><code class='language-R'>L &lt;- matrix(c(3, 4, 2, 2, 1, 2, 1, 3, 2), nrow=3, byrow=TRUE)
lc &lt;- L_constraint(L = L, dir = c("&lt;=", "&lt;=", "&lt;="), rhs = c(60, 40, 80))
J(lc)
</code></pre>

<hr>
<h2 id='K_zero'>Cone Constructors</h2><span id='topic+K_zero'></span><span id='topic+K_lin'></span><span id='topic+K_soc'></span><span id='topic+K_psd'></span><span id='topic+K_expp'></span><span id='topic+K_expd'></span><span id='topic+K_powp'></span><span id='topic+K_powd'></span>

<h3>Description</h3>

<p>Constructor functions for the different cone
types. Currently <span class="pkg">ROI</span> supports eight different types
of cones.
</p>

<ul>
<li> <p><code>Zero cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{zero}} = \{0\} </code>
</p>

</li>
<li> <p><code>Nonnegative (linear) cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{lin}} = \{x|x \geq 0 \} </code>
</p>

</li>
<li> <p><code>Second-order cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{soc}} = \left\{(t, x) \ | \ ||x||_2 \leq t, x \in R^n, t \in R \right\} </code>
</p>

</li>
<li> <p><code>Positive semidefinite cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{psd}} = \left\{ X \ | \ min(eig(X)) \geq 0, \ X = X^T, \ X \in R^{n \times n} \right\} </code>
</p>

</li>
<li> <p><code>Exponential cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{expp}} = \left\{(x,y,z) \ | \ y e^{\frac{x}{y}} \leq z, \ y &gt; 0 \right\} </code>
</p>

</li>
<li> <p><code>Dual exponential cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{expd}} = \left\{(u,v,w) \ | \ -u e^{\frac{v}{u}} \leq e w, u &lt; 0 \right\} </code>
</p>

</li>
<li> <p><code>Power cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{powp}} = \left\{(x,y,z) \ | \ x^\alpha * y^{(1-\alpha)} \geq |z|, \ x \geq 0, \ y \geq 0 \right\} </code>
</p>

</li>
<li> <p><code>Dual power cone</code> </p>
<p style="text-align: center;"><code class="reqn"> \mathcal{K}_{\mathrm{powd}} = \left\{ (u,v,w) \ | \ \left(\frac{u}{\alpha}\right)^\alpha * \left(\frac{v}{(1-\alpha)}\right)^{(1-\alpha)} \geq |w|, \ u \geq 0, \ v \geq 0 \right\} </code>
</p>

</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>K_zero(size)

K_lin(size)

K_soc(sizes)

K_psd(sizes)

K_expp(size)

K_expd(size)

K_powp(alpha)

K_powd(alpha)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="K_zero_+3A_size">size</code></td>
<td>
<p>a integer giving the size of the cone, 
if the dimension of the cones is fixed 
(i.e. <code>zero</code>, <code>lin</code>, <code>expp</code>, <code>expd</code>)
the number of cones is sufficient to define the dimension
of the product cone.</p>
</td></tr>
<tr><td><code id="K_zero_+3A_sizes">sizes</code></td>
<td>
<p>a integer giving the sizes of the cones,
if the dimension of the cones is not fixed 
(i.e. <code>soc</code>, <code>psd</code>) we
have to define the sizes of each single cone.</p>
</td></tr>
<tr><td><code id="K_zero_+3A_alpha">alpha</code></td>
<td>
<p>a numeric vector giving the <code>alphas</code>
for the (dual) power cone.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>K_zero(3) ## 3 equality constraints
K_lin(3)  ## 3 constraints where the slack variable s lies in the linear cone
</code></pre>

<hr>
<h2 id='L_constraint'>Linear Constraints</h2><span id='topic+L_constraint'></span><span id='topic+variable.names.L_constraint'></span><span id='topic+as.L_constraint'></span><span id='topic+is.L_constraint'></span><span id='topic+length.L_constraint'></span><span id='topic+terms.L_constraint'></span>

<h3>Description</h3>

<p>Linear constraints are typically of the form </p>
<p style="text-align: center;"><code class="reqn">Lx \leq rhs</code>
</p>

<p>where <code class="reqn">L</code> is a <code class="reqn">m \times n</code> (sparse) matrix of coefficients 
to the objective variables <code class="reqn">x</code> and the right hand side <code class="reqn">rhs</code> 
is a vector of length <code class="reqn">m</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>L_constraint(L, dir, rhs, names = NULL)

## S3 method for class 'L_constraint'
variable.names(object, ...)

as.L_constraint(x, ...)

is.L_constraint(x)

## S3 method for class 'L_constraint'
length(x)

## S3 method for class 'L_constraint'
terms(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="L_constraint_+3A_l">L</code></td>
<td>
<p>a numeric vector of length <code class="reqn">n</code> (a single constraint)
or a matrix of dimension <code class="reqn">m \times n</code>, where <code class="reqn">n</code> is the
number of objective variables and <code class="reqn">m</code> is the number of
constraints. Matrices can be of class
<code>"simple_triplet_matrix"</code> to allow a sparse representation of
constraints.</p>
</td></tr>
<tr><td><code id="L_constraint_+3A_dir">dir</code></td>
<td>
<p>a character vector with the directions of the
constraints. Each element must be one of <code>"&lt;="</code>, <code>"&gt;="</code> or <code>"=="</code>.</p>
</td></tr>
<tr><td><code id="L_constraint_+3A_rhs">rhs</code></td>
<td>
<p>a numeric vector with the right hand side of the constraints.</p>
</td></tr>
<tr><td><code id="L_constraint_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of <code class="reqn">x</code> 
(column names of <code class="reqn">A</code>).</p>
</td></tr>
<tr><td><code id="L_constraint_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="L_constraint_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods
(currently ignored).</p>
</td></tr>
<tr><td><code id="L_constraint_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"L_constraint"</code> which inherits
from <code>"constraint"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='L_objective'>Linear Objective Function</h2><span id='topic+L_objective'></span><span id='topic+terms.L_objective'></span><span id='topic+as.L_objective'></span><span id='topic+variable.names.L_objective'></span>

<h3>Description</h3>

<p>A linear objective function is typically of the form </p>
<p style="text-align: center;"><code class="reqn">c^\top
x</code>
</p>
<p> where <code class="reqn">c</code> is a (sparse) vector of coefficients to the
<code class="reqn">n</code> objective variables <code class="reqn">x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>L_objective(L, names = NULL)

## S3 method for class 'L_objective'
terms(x, ...)

as.L_objective(x)

## S3 method for class 'L_objective'
variable.names(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="L_objective_+3A_l">L</code></td>
<td>
<p>a numeric vector of length <code class="reqn">n</code> or an object of class
<code>"simple_triplet_matrix"</code> (or coercible to such) with dimension <code class="reqn">1 \times n</code>,
where <code class="reqn">n</code> is the number of objective variables. Names will be
preserved and used e.g., in the print method.</p>
</td></tr>
<tr><td><code id="L_objective_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of <code class="reqn">x</code>
(column names of <code class="reqn">L</code>).</p>
</td></tr>
<tr><td><code id="L_objective_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="L_objective_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
<tr><td><code id="L_objective_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"L_objective"</code> which inherits
from  <code>"Q_objective"</code> and <code>"objective"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='maximum+20+28Set+2FGet+29'>Maximum - Accessor and Mutator Functions</h2><span id='topic+maximum+20+28Set+2FGet+29'></span><span id='topic+maximum'></span><span id='topic+maximum+3C-'></span>

<h3>Description</h3>

<p>The <a href="#topic+maximum">maximum</a> of a given optimization problem (<a href="#topic+OP">OP</a>)
can be accessed or mutated via the method <code>'maximum'</code>.
If <code>'maximum'</code> is set to <code>TRUE</code> the <a href="#topic+OP">OP</a> is maximized,
if <code>'maximum'</code> is set to <code>FALSE</code> the <a href="#topic+OP">OP</a> is minimized.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maximum(x)

maximum(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maximum+2B20+2B28Set+2B2FGet+2B29_+3A_x">x</code></td>
<td>
<p>an object used to select the method.</p>
</td></tr>
<tr><td><code id="maximum+2B20+2B28Set+2B2FGet+2B29_+3A_value">value</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a logical giving the direction.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## maximize: x + y
## subject to: x + y &lt;= 2
## x, y &gt;= 0
x &lt;- OP(objective = c(1, 1), 
        constraints = L_constraint(L = c(1, 1), dir = "&lt;=", rhs = 2),
        maximum = FALSE)
maximum(x) &lt;- TRUE
maximum(x)
</code></pre>

<hr>
<h2 id='nlminb2'>Nonlinear programming with nonlinear constraints.</h2><span id='topic+nlminb2'></span>

<h3>Description</h3>

<p>This function was contributed by Diethelm Wuertz.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nlminb2(
  start,
  objective,
  eqFun = NULL,
  leqFun = NULL,
  lower = -Inf,
  upper = Inf,
  gradient = NULL,
  hessian = NULL,
  control = list()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nlminb2_+3A_start">start</code></td>
<td>
<p>numeric vector of start values.</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_objective">objective</code></td>
<td>
<p>the function to be minimized <code class="reqn">f(x)</code>.</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_eqfun">eqFun</code></td>
<td>
<p>functions specifying equal constraints of the form
<code class="reqn">h_i(x) = 0</code>. Default: <code>NULL</code> (no equal constraints).</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_leqfun">leqFun</code></td>
<td>
<p>functions specifying less equal constraints of the
form <code class="reqn">g_i(x) &lt;= 0</code>. Default: <code>NULL</code> (no less equal
constraints).</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_lower">lower</code></td>
<td>
<p>a numeric representing lower variable
bounds. Repeated as needed. Default: <code>-Inf</code>.</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_upper">upper</code></td>
<td>
<p>a numeric representing upper variable
bounds. Repeated as needed. Default: <code>Inf</code>.</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_gradient">gradient</code></td>
<td>
<p>gradient of <code class="reqn">f(x)</code>. Default: <code>NULL</code> (no
gradiant information).</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_hessian">hessian</code></td>
<td>
<p>hessian of <code class="reqn">f(x)</code>. Default: <code>NULL</code> (no
hessian provided).</p>
</td></tr>
<tr><td><code id="nlminb2_+3A_control">control</code></td>
<td>
<p>a list of control parameters. See
<code><a href="stats.html#topic+nlminb">nlminb</a>()</code> for details. The parameter
<code>"scale"</code> is set here in contrast to
<code><a href="stats.html#topic+nlminb">nlminb</a>()</code> .</p>
</td></tr>
</table>


<h3>Value</h3>

<p>list()
</p>


<h3>Author(s)</h3>

<p>Diethelm Wuertz
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Equal constraint function
eval_g0_eq &lt;- function( x, params = c(1,1,-1)) {
       return( params[1]*x^2 + params[2]*x + params[3] )
   }
eval_f0 &lt;- function( x, ... ) {
       return( 1 )
   }


</code></pre>

<hr>
<h2 id='NO_constraint'>Class: <code>"NO_constraint"</code></h2><span id='topic+NO_constraint'></span><span id='topic+as.NO_constraint'></span><span id='topic+is.NO_constraint'></span>

<h3>Description</h3>

<p>In case the <code>constraints</code> slot in the problem object is
<code>NULL</code> the return value of a call of <code>constraints()</code>
will return an object of class <code>"NO_constraint"</code> which
inherits from <code>"L_constraint"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NO_constraint(n_obj)

as.NO_constraint(x, ...)

is.NO_constraint(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NO_constraint_+3A_n_obj">n_obj</code></td>
<td>
<p>a numeric vector of length <code>1</code> representing the number
of objective variables.</p>
</td></tr>
<tr><td><code id="NO_constraint_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="NO_constraint_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods
(currently ignored).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"NO_constraint"</code> which inherits
from <code>"L_constraint"</code> and <code>"constraint"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='objective+20+28Set+2FGet+29'>Objective - Accessor and Mutator Functions</h2><span id='topic+objective+20+28Set+2FGet+29'></span><span id='topic+objective'></span><span id='topic+objective+3C-'></span><span id='topic+as.objective'></span>

<h3>Description</h3>

<p>The <a href="#topic+objective">objective</a> of a given optimization problem (<a href="#topic+OP">OP</a>) 
can be accessed or mutated via the method <code>'objective'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>objective(x)

objective(x) &lt;- value

as.objective(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="objective+2B20+2B28Set+2B2FGet+2B29_+3A_x">x</code></td>
<td>
<p>an object used to select the method.</p>
</td></tr>
<tr><td><code id="objective+2B20+2B28Set+2B2FGet+2B29_+3A_value">value</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a function inheriting from <code>"objective"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- OP()
objective(x) &lt;- 1:3
</code></pre>

<hr>
<h2 id='OP'>Optimization Problem Constructor</h2><span id='topic+OP'></span><span id='topic+as.OP'></span>

<h3>Description</h3>

<p>Optimization problem constructor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OP(objective, constraints, types, bounds, maximum = FALSE)

as.OP(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OP_+3A_objective">objective</code></td>
<td>
<p>an object inheriting from class <code>"objective"</code>.</p>
</td></tr>
<tr><td><code id="OP_+3A_constraints">constraints</code></td>
<td>
<p>an object inheriting from class <code>"constraints"</code>.</p>
</td></tr>
<tr><td><code id="OP_+3A_types">types</code></td>
<td>
<p>a character vector giving the types of the objective
variables, with <code>"C"</code>, <code>"I"</code>, and <code>"B"</code>
corresponding to continuous, integer, and binary, respectively, or
<code>NULL</code> (default), taken as all-continuous.  Recycled as
needed.</p>
</td></tr>
<tr><td><code id="OP_+3A_bounds">bounds</code></td>
<td>
<p><code>NULL</code> (default) or a list with elements
<code>upper</code> and <code>lower</code> containing the indices and
corresponding bounds of the objective variables.  The default for
each variable is a bound between 0 and <code>Inf</code>.</p>
</td></tr>
<tr><td><code id="OP_+3A_maximum">maximum</code></td>
<td>
<p>a logical giving the direction of the
optimization. <code>TRUE</code> means that the objective is to maximize
the objective function, <code>FALSE</code> (default) means to minimize
it.</p>
</td></tr>
<tr><td><code id="OP_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"OP"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>


<h3>References</h3>

<p>Theussl S, Schwendinger F, Hornik K (2020). 
'ROI: An Extensible R Optimization Infrastructure.' Journal of Statistical Software_,
*94*(15), 1-64. doi: 10.18637/jss.v094.i15 (URL: https://doi.org/10.18637/jss.v094.i15).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Simple linear program.
## maximize:   2 x_1 + 4 x_2 + 3 x_3
## subject to: 3 x_1 + 4 x_2 + 2 x_3 &lt;= 60
##             2 x_1 +   x_2 +   x_3 &lt;= 40
##               x_1 + 3 x_2 + 2 x_3 &lt;= 80
##               x_1, x_2, x_3 are non-negative real numbers

LP &lt;- OP( c(2, 4, 3),
          L_constraint(L = matrix(c(3, 2, 1, 4, 1, 3, 2, 2, 2), nrow = 3),
                       dir = c("&lt;=", "&lt;=", "&lt;="),
                       rhs = c(60, 40, 80)),
          max = TRUE )
LP

## Simple quadratic program.
## minimize: - 5 x_2 + 1/2 (x_1^2 + x_2^2 + x_3^2)
## subject to: -4 x_1 - 3 x_2       &gt;= -8
##              2 x_1 +   x_2       &gt;=  2
##                    - 2 x_2 + x_3 &gt;=  0

QP &lt;- OP( Q_objective (Q = diag(1, 3), L = c(0, -5, 0)),
          L_constraint(L = matrix(c(-4,-3,0,2,1,0,0,-2,1),
                                  ncol = 3, byrow = TRUE),
                       dir = rep("&gt;=", 3),
                       rhs = c(-8,2,0)) )
QP
</code></pre>

<hr>
<h2 id='OP_signature'>Optimization Problem Signature</h2><span id='topic+OP_signature'></span>

<h3>Description</h3>

<p>Takes an object of class <code>"OP"</code> (optimization problem)
and returns the signature of the optimization problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>OP_signature(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OP_signature_+3A_x">x</code></td>
<td>
<p>an object of class <code>"OP"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> giving the signature of the
the optimization problem.
</p>

<hr>
<h2 id='Q_constraint'>Quadratic Constraints</h2><span id='topic+Q_constraint'></span><span id='topic+variable.names.Q_constraint'></span><span id='topic+as.Q_constraint'></span><span id='topic+is.Q_constraint'></span><span id='topic+length.Q_constraint'></span><span id='topic+terms.Q_constraint'></span>

<h3>Description</h3>

<p>Quadratic constraints are typically of the form
</p>
<p style="text-align: center;"><code class="reqn">\frac{1}{2}x^{\top}Q_ix + L_i x \leq rhs_i</code>
</p>

<p>where <code class="reqn">Q_i</code> is the <code class="reqn">i</code>th of <code class="reqn">m</code> (sparse) matrices 
(all of dimension <code class="reqn">n \times n</code>) giving the coefficients of the quadratic
part of the equation. The <code class="reqn">m \times n</code> (sparse) matrix <code class="reqn">L</code>
holds the coefficients of the linear part of the equation and <code class="reqn">L_i</code> 
refers to the <code class="reqn">i</code>th row. The right hand side of the constraints 
is represented by the vector <code class="reqn">rhs</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Q_constraint(Q, L, dir, rhs, names = NULL)

## S3 method for class 'Q_constraint'
variable.names(object, ...)

as.Q_constraint(x)

is.Q_constraint(x)

## S3 method for class 'Q_constraint'
length(x)

## S3 method for class 'Q_constraint'
terms(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Q_constraint_+3A_q">Q</code></td>
<td>
<p>a list of (sparse) matrices representing the quadratic
part of each constraint.</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_l">L</code></td>
<td>
<p>a numeric vector of length <code class="reqn">n</code> (a single constraint)
or a matrix of dimension <code class="reqn">m \times n</code>, where <code class="reqn">n</code> is the
number of objective variables and <code class="reqn">m</code> is the number of
constraints. Matrices can be of class
<code>"simple_triplet_matrix"</code> to allow a sparse representation of
constraints.</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_dir">dir</code></td>
<td>
<p>a character vector with the directions of the
constraints. Each element must be one of <code>"&lt;="</code>, <code>"&gt;="</code> or <code>"=="</code>.</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_rhs">rhs</code></td>
<td>
<p>a numeric vector with the right hand side of the
constraints.</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of <code class="reqn">x</code>
(row/column names of <code class="reqn">Q</code>, column names of <code class="reqn">A</code>).</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods
(currently ignored).</p>
</td></tr>
<tr><td><code id="Q_constraint_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"Q_constraint"</code> which inherits
from <code>"constraint"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='Q_objective'>Quadratic Objective Function</h2><span id='topic+Q_objective'></span><span id='topic+terms.Q_objective'></span><span id='topic+as.Q_objective'></span><span id='topic+variable.names.Q_objective'></span>

<h3>Description</h3>

<p>A quadratic objective function is typically of the form
</p>
<p style="text-align: center;"><code class="reqn">\frac{1}{2} x^\top Qx + c^\top x</code>
</p>
<p> where <code class="reqn">Q</code> is a (sparse) matrix
defining the quadratic part of the function and <code class="reqn">c</code> is a
(sparse) vector of coefficients to the <code class="reqn">n</code> defining the linear
part.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Q_objective(Q, L = NULL, names = NULL)

## S3 method for class 'Q_objective'
terms(x, ...)

as.Q_objective(x)

## S3 method for class 'Q_objective'
variable.names(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Q_objective_+3A_q">Q</code></td>
<td>
<p>a <code class="reqn">n \times n</code> matrix with numeric entries representing the quadratic
part of objective function. Sparse matrices of class
<code>"simple_triplet_matrix"</code> can be supplied.</p>
</td></tr>
<tr><td><code id="Q_objective_+3A_l">L</code></td>
<td>
<p>a numeric vector of length <code class="reqn">n</code>, where <code class="reqn">n</code> is the
number of objective variables.</p>
</td></tr>
<tr><td><code id="Q_objective_+3A_names">names</code></td>
<td>
<p>an optional character vector giving the names of <code class="reqn">x</code>
(row/column names of <code class="reqn">Q</code>, column names of <code class="reqn">L</code>).</p>
</td></tr>
<tr><td><code id="Q_objective_+3A_x">x</code></td>
<td>
<p>an R object.</p>
</td></tr>
<tr><td><code id="Q_objective_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods</p>
</td></tr>
<tr><td><code id="Q_objective_+3A_object">object</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"Q_objective"</code> which inherits
from <code>"objective"</code>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='rbind.constraint'>Combine Constraints</h2><span id='topic+rbind.constraint'></span>

<h3>Description</h3>

<p>Take a sequence of constraints (ROI objects) arguments and combine
by rows, i.e., putting several constraints together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'constraint'
rbind(..., use.names = FALSE, recursive = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rbind.constraint_+3A_...">...</code></td>
<td>
<p>constraints objects to be concatenated.</p>
</td></tr>
<tr><td><code id="rbind.constraint_+3A_use.names">use.names</code></td>
<td>
<p>a logical if <code>FALSE</code> the names of the constraints
are ignored when combining them, if <code>TRUE</code> the constraints are
combined based on their <code>variable.names</code>.</p>
</td></tr>
<tr><td><code id="rbind.constraint_+3A_recursive">recursive</code></td>
<td>
<p>a logical, if TRUE, rbind .</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The output type is determined from the highest type of the
components in the hierarchy <br /> <code>"L_constraint"</code> &lt;
<code>"Q_constraint"</code> &lt; <code>"F_constraint"</code> and <br />
<code>"L_constraint"</code> &lt; <code>"C_constraint"</code>.
</p>


<h3>Value</h3>

<p>an object of a class depending on the input which also
inherits from <code>"constraint"</code>. See <b>Details</b>.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='ROI_applicable_solvers'>Obtain Applicable Solvers</h2><span id='topic+ROI_applicable_solvers'></span>

<h3>Description</h3>

<p><code>ROI_applicable_solvers</code> takes as argument an
optimization problem (object of class <code>'OP'</code>) and returns a vector
giving the applicable solver. The set of applicable solver is restricted
on the available solvers, which means if solver <code>"A"</code> and <code>"B"</code>
would be applicable but a <code>ROI.plugin</code> is only installed for solver
<code>"A"</code> only solver <code>"A"</code> would be listed as applicable solver.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_applicable_solvers(op)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_applicable_solvers_+3A_op">op</code></td>
<td>
<p>an <span class="pkg">ROI</span>-object of type <code>'OP'</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An character vector giving the applicable solver,
for a certain optimization problem.
</p>

<hr>
<h2 id='ROI_available_solvers'>Available Solvers</h2><span id='topic+ROI_available_solvers'></span>

<h3>Description</h3>

<p>ROI_available_solvers returns a data.frame of details corresponding to
solvers currently available at one or more repositories.
The current list of packages is downloaded over the Internet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_available_solvers(x = NULL, method = getOption("download.file.method"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_available_solvers_+3A_x">x</code></td>
<td>
<p>an object used to select a method. It can be either
an object of class <code>"OP"</code> or an object of class <code>"ROI_signature"</code>
or <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ROI_available_solvers_+3A_method">method</code></td>
<td>
<p>a character string giving the method to be used for downloading files.
For more information see <code><a href="utils.html#topic+download.file">download.file</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To get an overview about the available solvers
<code>ROI_available_solvers()</code> can be used.
If a signature or an object of class <code>"OP"</code>
is provided <span class="pkg">ROI</span> will only return the solvers
applicable the optimization problem. Note since NLP solver
are also applicable for LP and QP they will also be listed.
</p>


<h3>Value</h3>

<p>a data.frame with one row per package and repository.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
ROI_available_solvers()
op &lt;- OP(1:2)
ROI_available_solvers(op)
ROI_available_solvers(OP_signature(op))

## End(Not run)
</code></pre>

<hr>
<h2 id='ROI_options'>ROI Options</h2><span id='topic+ROI_options'></span>

<h3>Description</h3>

<p>Allow the user to set and examine a variety of ROI options like the default
solver or the function used to compute the gradients.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_options(option, value)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_options_+3A_option">option</code></td>
<td>
<p>any options can be defined, using 'key, value' pairs.
If 'value' is missing the current set value is returned for the given 'option'.
If both are missing. all set options are returned.</p>
</td></tr>
<tr><td><code id="ROI_options_+3A_value">value</code></td>
<td>
<p>the corresponding value to set for the given option.</p>
</td></tr>
</table>

<hr>
<h2 id='ROI_plugin_add_status_code_to_db'>Add Status Code to the Status Database</h2><span id='topic+ROI_plugin_add_status_code_to_db'></span>

<h3>Description</h3>

<p>Add a status code to the status database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_add_status_code_to_db(solver, code, symbol, message, roi_code = 1L)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_add_status_code_to_db_+3A_solver">solver</code></td>
<td>
<p>a character string giving the name of the solver.</p>
</td></tr>
<tr><td><code id="ROI_plugin_add_status_code_to_db_+3A_code">code</code></td>
<td>
<p>an integer giving the status code of the solver.</p>
</td></tr>
<tr><td><code id="ROI_plugin_add_status_code_to_db_+3A_symbol">symbol</code></td>
<td>
<p>a character string giving the status symbol.</p>
</td></tr>
<tr><td><code id="ROI_plugin_add_status_code_to_db_+3A_message">message</code></td>
<td>
<p>a character string used as status message.</p>
</td></tr>
<tr><td><code id="ROI_plugin_add_status_code_to_db_+3A_roi_code">roi_code</code></td>
<td>
<p>an integer giving the ROI status code, 1L for failure and 0L for success.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
solver &lt;- "ecos"
ROI_plugin_add_status_code_to_db(solver, 0L, "ECOS_OPTIMAL", "Optimal solution found.", 0L)
ROI_plugin_add_status_code_to_db(solver, -7L, "ECOS_FATAL", "Unknown problem in solver.", 1L)
solver &lt;- "glpk"
ROI_plugin_add_status_code_to_db(solver, 5L, "GLP_OPT", "Solution is optimal.", 0L)
ROI_plugin_add_status_code_to_db(solver, 1L, "GLP_UNDEF", "Solution is undefined.", 1L)

## End(Not run)
</code></pre>

<hr>
<h2 id='ROI_plugin_build_equality_constraints'>Build Functional Equality Constraints</h2><span id='topic+ROI_plugin_build_equality_constraints'></span>

<h3>Description</h3>

<p>There exist different forms of functional equality constraints,
this function transforms the form used in <span class="pkg">ROI</span> into the
forms commonly used by <span class="rlang"><b>R</b></span> optimization solvers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_build_equality_constraints(x, type = c("eq_zero", "eq_rhs"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_build_equality_constraints_+3A_x">x</code></td>
<td>
<p>an object of type <code>"OP"</code>.</p>
</td></tr>
<tr><td><code id="ROI_plugin_build_equality_constraints_+3A_type">type</code></td>
<td>
<p>an character giving the type of the function to be returned,
possible values are <code>"eq_zero"</code> or <code>"eq_rhs"</code>.
For more information see Details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are two types of equality constraints commonly used in <span class="rlang"><b>R</b></span>
</p>

<ol>
<li><p><code>eq\_zero</code>: <code class="reqn">h(x) = 0</code> and
</p>
</li>
<li><p><code>eq\_rhs</code>: <code class="reqn">h(x) = rhs</code> .
</p>
</li></ol>



<h3>Value</h3>

<p>Returns one function, which combines all the functional constraints.
</p>


<h3>Note</h3>

<p>This function only intended for plugin authors.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_build_inequality_constraints'>Build Functional Inequality Constraints</h2><span id='topic+ROI_plugin_build_inequality_constraints'></span>

<h3>Description</h3>

<p>There exist different forms of functional inequality constraints,
this function transforms the form used in <span class="pkg">ROI</span> into the
forms commonly used by <span class="rlang"><b>R</b></span> optimization solvers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_build_inequality_constraints(x, type = c("leq_zero", "geq_zero"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_build_inequality_constraints_+3A_x">x</code></td>
<td>
<p>an object of type <code>"OP"</code>.</p>
</td></tr>
<tr><td><code id="ROI_plugin_build_inequality_constraints_+3A_type">type</code></td>
<td>
<p>an character giving the type of the function to be returned,
possible values are <code>"leq\_zero"</code> and <code>"geq\_zero"</code>.
For more information see Details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>There are three types of inequality constraints commonly used in <span class="rlang"><b>R</b></span>
</p>

<ol>
<li><p><code>leq\_zero</code>: <code class="reqn">h(x) \leq 0</code> and
</p>
</li>
<li><p><code>geq\_zero</code>: <code class="reqn">h(x) \geq 0</code> and
</p>
</li>
<li><p><code>leq_geq\_rhs</code>: <code class="reqn">lhs \geq h(x) \leq rhs</code> .
</p>
</li></ol>



<h3>Value</h3>

<p>Returns one function, which combines all the functional constraints.
</p>


<h3>Note</h3>

<p>This function only intended for plugin authors.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_canonicalize_solution'>Canonicalize Solution</h2><span id='topic+ROI_plugin_canonicalize_solution'></span>

<h3>Description</h3>

<p>Transform the solution to a standardized form.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_canonicalize_solution(
  solution,
  optimum,
  status,
  solver,
  message = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_canonicalize_solution_+3A_solution">solution</code></td>
<td>
<p>a numeric or integer vector giving
the solution of the optimization problem.</p>
</td></tr>
<tr><td><code id="ROI_plugin_canonicalize_solution_+3A_optimum">optimum</code></td>
<td>
<p>a numeric giving the optimal value.</p>
</td></tr>
<tr><td><code id="ROI_plugin_canonicalize_solution_+3A_status">status</code></td>
<td>
<p>an integer giving the status code (exit flag).</p>
</td></tr>
<tr><td><code id="ROI_plugin_canonicalize_solution_+3A_solver">solver</code></td>
<td>
<p>a character string giving the name of the solver.</p>
</td></tr>
<tr><td><code id="ROI_plugin_canonicalize_solution_+3A_message">message</code></td>
<td>
<p>an optional <span class="rlang"><b>R</b></span> object giving the original solver message.</p>
</td></tr>
<tr><td><code id="ROI_plugin_canonicalize_solution_+3A_...">...</code></td>
<td>
<p>further arguments to be stored in the solution object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"OP_solution"</code>.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_get_solver_name'>Get Solver Name</h2><span id='topic+ROI_plugin_get_solver_name'></span>

<h3>Description</h3>

<p>Get the name of the solver plugin.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_get_solver_name(pkgname)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_get_solver_name_+3A_pkgname">pkgname</code></td>
<td>
<p>a string giving the package name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns the name of the solver as character.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_make_signature'>Make Signatures</h2><span id='topic+ROI_plugin_make_signature'></span>

<h3>Description</h3>

<p>Create a solver signature, the solver signatures are used to indicate
which problem types can be solved by a given solver.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_make_signature(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_make_signature_+3A_...">...</code></td>
<td>
<p>signature definitions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>an object of class <code>"ROI_signature"</code> 
(inheriting from data.frame) with the supported signatures.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## ROI_make_LP_signatures
lp_signature &lt;- ROI_plugin_make_signature( objective = "L",
                                           constraints = "L",
                                           types = c("C"),
                                           bounds = c("X", "V"),
                                           cones = c("X"),
                                           maximum = c(TRUE, FALSE) )
</code></pre>

<hr>
<h2 id='ROI_plugin_register_reader_writer'>Register Reader / Writer Method</h2><span id='topic+ROI_plugin_register_reader_writer'></span><span id='topic+ROI_plugin_register_reader'></span><span id='topic+ROI_plugin_register_writer'></span>

<h3>Description</h3>

<p>Register a new reader / writer method to be used with 
<code>read.io</code> / <code>write.io</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_register_reader(type, solver, method)

ROI_plugin_register_writer(type, solver, signature, method)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_register_reader_writer_+3A_type">type</code></td>
<td>
<p>a character giving the type of the file 
(e.g. <code>"mps_free"</code>, <code>"mps_fixed"</code>, <code>"lp_cplex"</code>,
<code>"lp_lpsolve"</code>, ...).</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reader_writer_+3A_solver">solver</code></td>
<td>
<p>a character giving the name of the plugin (e.g. <code>"lpsolve"</code>).</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reader_writer_+3A_method">method</code></td>
<td>
<p>a function registered as reader / writer method.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reader_writer_+3A_signature">signature</code></td>
<td>
<p>a data.frame giving the signature of the optimization problems
which can be read or written by the registered method.</p>
</td></tr>
</table>


<h3>Details</h3>


<ul>
<li> <p><b>File Types</b>
</p>
</li>
<li> <p><b>Method</b> <br />
</p>
</li></ul>



<h3>Value</h3>

<p>NULL on success
</p>


<h3>See Also</h3>

<p>Other input output: 
<code><a href="#topic+ROI_read">ROI_read</a>()</code>,
<code><a href="#topic+ROI_registered_reader">ROI_registered_reader</a>()</code>,
<code><a href="#topic+ROI_registered_writer">ROI_registered_writer</a>()</code>,
<code><a href="#topic+ROI_write">ROI_write</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_register_reformulation'>Register Reformulation Method</h2><span id='topic+ROI_plugin_register_reformulation'></span>

<h3>Description</h3>

<p>Register a new reformulation method to be used with 
<code><a href="#topic+ROI_reformulate">ROI_reformulate</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_register_reformulation(
  from,
  to,
  method_name,
  method,
  description = "",
  cite = "",
  author = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_from">from</code></td>
<td>
<p>a data.frame with the supported signatures.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_to">to</code></td>
<td>
<p>a data.frame with the supported signatures.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_method_name">method_name</code></td>
<td>
<p>a character string giving the name of the method.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_method">method</code></td>
<td>
<p>a function registered as solver method.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_description">description</code></td>
<td>
<p>a optional character string giving a description of what
the reformulation does.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_cite">cite</code></td>
<td>
<p>a optional character string indicating a reference, 
such as the name of a book.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_reformulation_+3A_author">author</code></td>
<td>
<p>a optional character string giving the name of the author.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE on success
</p>


<h3>See Also</h3>

<p>Other reformulate functions: 
<code><a href="#topic+ROI_reformulate">ROI_reformulate</a>()</code>,
<code><a href="#topic+ROI_registered_reformulations">ROI_registered_reformulations</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_register_solver_control'>Register Solver Controls</h2><span id='topic+ROI_plugin_register_solver_control'></span>

<h3>Description</h3>

<p>Register a new solver control argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_register_solver_control(solver, args, roi_control = "X")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_register_solver_control_+3A_solver">solver</code></td>
<td>
<p>a character string giving the solver name.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_solver_control_+3A_args">args</code></td>
<td>
<p>a character vector specifying with the supported signatures.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_solver_control_+3A_roi_control">roi_control</code></td>
<td>
<p>a character vector specifying the corresponding ROI control argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE on success
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_register_solver_method'>Register Solver Method</h2><span id='topic+ROI_plugin_register_solver_method'></span>

<h3>Description</h3>

<p>Register a new solver method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_register_solver_method(signatures, solver, method, plugin = solver)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_register_solver_method_+3A_signatures">signatures</code></td>
<td>
<p>a data.frame with the supported signatures.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_solver_method_+3A_solver">solver</code></td>
<td>
<p>a character string giving the solver name.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_solver_method_+3A_method">method</code></td>
<td>
<p>a function registered as solver method.</p>
</td></tr>
<tr><td><code id="ROI_plugin_register_solver_method_+3A_plugin">plugin</code></td>
<td>
<p>a character string giving the plgug-in name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>TRUE on success
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_plugin_solution_prim'>Extract solution from the solver.</h2><span id='topic+ROI_plugin_solution_prim'></span><span id='topic+ROI_plugin_solution_prim.OP_solution'></span><span id='topic+ROI_plugin_solution_prim.OP_solution_set'></span><span id='topic+ROI_plugin_solution_dual'></span><span id='topic+ROI_plugin_solution_aux'></span><span id='topic+ROI_plugin_solution_psd'></span><span id='topic+ROI_plugin_solution_msg'></span><span id='topic+ROI_plugin_solution_status_code'></span><span id='topic+ROI_plugin_solution_status'></span><span id='topic+ROI_plugin_solution_objval'></span>

<h3>Description</h3>

<p>Generic getter functions used by the function 
<code><a href="#topic+solution">solution</a></code>. These functions can be used to write
a solver specific getter function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_plugin_solution_prim(x, force = FALSE)

## S3 method for class 'OP_solution'
ROI_plugin_solution_prim(x, force = FALSE)

## S3 method for class 'OP_solution_set'
ROI_plugin_solution_prim(x, force = FALSE)

ROI_plugin_solution_dual(x)

ROI_plugin_solution_aux(x)

ROI_plugin_solution_psd(x)

ROI_plugin_solution_msg(x)

ROI_plugin_solution_status_code(x)

ROI_plugin_solution_status(x)

ROI_plugin_solution_objval(x, force = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_plugin_solution_prim_+3A_x">x</code></td>
<td>
<p>an <code>R</code> object inheriting from <code>solution</code> or <code>solutions</code>.</p>
</td></tr>
<tr><td><code id="ROI_plugin_solution_prim_+3A_force">force</code></td>
<td>
<p>a logical to control the return value in the case that the 
status code is equal to 1 (i.e. something went wrong).
By default force is <code>FALSE</code> and a solution is only provided
if the status code is equal to 0 (i.e. success). If force is <code>TRUE</code>
<span class="pkg">ROI</span> ignores the status code and also returns solutions
where the solver signaled an issue.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the corresponding solution/s.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_registered_solver_control">ROI_registered_solver_control</a>()</code>
</p>

<hr>
<h2 id='ROI_read'>Read Optimization Problems</h2><span id='topic+ROI_read'></span>

<h3>Description</h3>

<p>Reads an optimization problem from various file formats and
returns an optimization problem of class <code>"OP"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_read(file, type, solver = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_read_+3A_file">file</code></td>
<td>
<p>a character giving the name of the file the optimization problem
is to be read from.</p>
</td></tr>
<tr><td><code id="ROI_read_+3A_type">type</code></td>
<td>
<p>a character giving the type of the file 
(e.g. <code>"mps_free"</code>, <code>"mps_fixed"</code>, <code>"lp_cplex"</code>,
<code>"lp_lpsolve"</code>, ...).</p>
</td></tr>
<tr><td><code id="ROI_read_+3A_solver">solver</code></td>
<td>
<p>an optional character giving the name of the plugin 
(e.g. <code>"lpsolve"</code>).</p>
</td></tr>
<tr><td><code id="ROI_read_+3A_...">...</code></td>
<td>
<p>further arguments passed on to the read method.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x an optimization problem of class <code>"OP"</code>.
</p>


<h3>See Also</h3>

<p>Other input output: 
<code><a href="#topic+ROI_plugin_register_reader_writer">ROI_plugin_register_reader_writer</a></code>,
<code><a href="#topic+ROI_registered_reader">ROI_registered_reader</a>()</code>,
<code><a href="#topic+ROI_registered_writer">ROI_registered_writer</a>()</code>,
<code><a href="#topic+ROI_write">ROI_write</a>()</code>
</p>

<hr>
<h2 id='ROI_reformulate'>Reformulate a Optimization Problem</h2><span id='topic+ROI_reformulate'></span>

<h3>Description</h3>

<p>Register a new reformulation method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_reformulate(x, to, method = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_reformulate_+3A_x">x</code></td>
<td>
<p>an object of class <code>'OP'</code> giving the optimization problem.</p>
</td></tr>
<tr><td><code id="ROI_reformulate_+3A_to">to</code></td>
<td>
<p>a <code>data.frame</code> with the supported signatures.</p>
</td></tr>
<tr><td><code id="ROI_reformulate_+3A_method">method</code></td>
<td>
<p>a character string giving the name of the method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently <span class="pkg">ROI</span> provides two reformulation methods.
</p>

<ol>
<li> <p><code>bqp_to_lp</code> transforms binary quadratic problems to 
linear mixed integer problems.
</p>
</li>
<li> <p><code>qp_to_socp</code> transforms quadratic problems with linear 
constraints to second-order cone problems.
</p>
</li></ol>



<h3>Value</h3>

<p>the reformulated optimization problem.
</p>


<h3>See Also</h3>

<p>Other reformulate functions: 
<code><a href="#topic+ROI_plugin_register_reformulation">ROI_plugin_register_reformulation</a>()</code>,
<code><a href="#topic+ROI_registered_reformulations">ROI_registered_reformulations</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Example from 
## Boros, Endre, and Peter L. Hammer. "Pseudo-boolean optimization."
## Discrete applied mathematics 123, no. 1 (2002): 155-225.

## minimize: 3 x y + y z - x - 4 y - z + 6

Q &lt;- rbind(c(0, 3, 0), 
           c(3, 0, 1), 
           c(0, 1, 0))
L &lt;- c(-1, -4, -1)
x &lt;- OP(objective = Q_objective(Q = Q, L = L), types = rep("B", 3))

## reformulate into a mixed integer linear problem
milp &lt;- ROI_reformulate(x, "lp")

## reformulate into a second-order cone problem
socp &lt;- ROI_reformulate(x, "socp")

</code></pre>

<hr>
<h2 id='ROI_registered_reader'>List Registered Reader</h2><span id='topic+ROI_registered_reader'></span>

<h3>Description</h3>

<p>Retrieve meta information about the registered reader
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_registered_reader(type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_registered_reader_+3A_type">type</code></td>
<td>
<p>an optional character giving the type of the file 
(e.g. <code>"mps_free"</code>, <code>"mps_fixed"</code>, <code>"lp_cplex"</code>,
<code>"lp_lpsolve"</code>, ...).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>x a data.frame containing information about the registered readers.
</p>


<h3>See Also</h3>

<p>Other input output: 
<code><a href="#topic+ROI_plugin_register_reader_writer">ROI_plugin_register_reader_writer</a></code>,
<code><a href="#topic+ROI_read">ROI_read</a>()</code>,
<code><a href="#topic+ROI_registered_writer">ROI_registered_writer</a>()</code>,
<code><a href="#topic+ROI_write">ROI_write</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ROI_registered_reader()
ROI_registered_reader("mps_fixed")
</code></pre>

<hr>
<h2 id='ROI_registered_reformulations'>Registered Reformulations</h2><span id='topic+ROI_registered_reformulations'></span>

<h3>Description</h3>

<p>Retrieve meta information about the registered reformulations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_registered_reformulations()
</code></pre>


<h3>Value</h3>

<p>a data.frame giving some information about the registered reformulation 
methods.
</p>


<h3>See Also</h3>

<p>Other reformulate functions: 
<code><a href="#topic+ROI_plugin_register_reformulation">ROI_plugin_register_reformulation</a>()</code>,
<code><a href="#topic+ROI_reformulate">ROI_reformulate</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ROI_registered_reformulations()
</code></pre>

<hr>
<h2 id='ROI_registered_solver_control'>Registered Solver Controls</h2><span id='topic+ROI_registered_solver_control'></span>

<h3>Description</h3>

<p>Retrieve the registered solver control arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_registered_solver_control(solver)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_registered_solver_control_+3A_solver">solver</code></td>
<td>
<p>a character string giving the solver name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>data.frame</code> giving the control arguments.
</p>


<h3>See Also</h3>

<p>Other plugin functions: 
<code><a href="#topic+ROI_plugin_add_status_code_to_db">ROI_plugin_add_status_code_to_db</a>()</code>,
<code><a href="#topic+ROI_plugin_build_equality_constraints">ROI_plugin_build_equality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_build_inequality_constraints">ROI_plugin_build_inequality_constraints</a>()</code>,
<code><a href="#topic+ROI_plugin_canonicalize_solution">ROI_plugin_canonicalize_solution</a>()</code>,
<code><a href="#topic+ROI_plugin_get_solver_name">ROI_plugin_get_solver_name</a>()</code>,
<code><a href="#topic+ROI_plugin_make_signature">ROI_plugin_make_signature</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_control">ROI_plugin_register_solver_control</a>()</code>,
<code><a href="#topic+ROI_plugin_register_solver_method">ROI_plugin_register_solver_method</a>()</code>,
<code><a href="#topic+ROI_plugin_solution_prim">ROI_plugin_solution_prim</a>()</code>
</p>

<hr>
<h2 id='ROI_registered_solvers'>Solver Tools</h2><span id='topic+ROI_registered_solvers'></span><span id='topic+ROI_installed_solvers'></span>

<h3>Description</h3>

<p>Retrieve the names of installed or registered solvers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_registered_solvers(...)

ROI_installed_solvers(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_registered_solvers_+3A_...">...</code></td>
<td>
<p>arguments passed on to <code><a href="utils.html#topic+installed.packages">installed.packages</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Whereas <code>ROI_installed_solvers()</code> may lists the names of installed
solvers that do not necessarily work,
<code>ROI_registered_solvers()</code> lists all solvers that can be used
to solve optimization problems.
</p>


<h3>Value</h3>

<p>a named character vector.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>

<hr>
<h2 id='ROI_registered_writer'>Write Optimization Problems</h2><span id='topic+ROI_registered_writer'></span>

<h3>Description</h3>

<p>Write an optimization problem to file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_registered_writer(signature = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_registered_writer_+3A_signature">signature</code></td>
<td>
<p>an optimization problem of class <code>"OP"</code>.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other input output: 
<code><a href="#topic+ROI_plugin_register_reader_writer">ROI_plugin_register_reader_writer</a></code>,
<code><a href="#topic+ROI_read">ROI_read</a>()</code>,
<code><a href="#topic+ROI_registered_reader">ROI_registered_reader</a>()</code>,
<code><a href="#topic+ROI_write">ROI_write</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ROI_registered_writer()
op &lt;- OP(1:2)
ROI_registered_writer(OP_signature(op))
</code></pre>

<hr>
<h2 id='ROI_require_solver'>Require Solver</h2><span id='topic+ROI_require_solver'></span>

<h3>Description</h3>

<p>Loads the specified solver and registers it in an internal data base.
A request to load an already loaded solver has no effect.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_require_solver(solver, warn = 0)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_require_solver_+3A_solver">solver</code></td>
<td>
<p>a character string giving the solver name.</p>
</td></tr>
<tr><td><code id="ROI_require_solver_+3A_warn">warn</code></td>
<td>
<p>an integer giving if the warn level.
For <code>warn = -1</code> the warning is ignored. For <code>warn = 0</code>
the warning is stored and printed later. For <code>warn = 1</code> the
warning is printed immediately. For <code>warn = 2</code> the
warning is turned into an error. Default is <code>warn = 0</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns <code>TRUE</code> on success otherwise <code>FALSE</code>.
</p>

<hr>
<h2 id='ROI_solve'>Solve an Optimization Problem</h2><span id='topic+ROI_solve'></span>

<h3>Description</h3>

<p>Solve a given optimization problem.  This function
uses the given solver (or searches for an appropriate solver)
to solve the supplied optimization problem.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_solve(x, solver, control = list(), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_solve_+3A_x">x</code></td>
<td>
<p>an optimization problem of class <code>"OP"</code>.</p>
</td></tr>
<tr><td><code id="ROI_solve_+3A_solver">solver</code></td>
<td>
<p>a character vector specifying the solver to use. If
missing, then the default solver returned by
<code><a href="#topic+ROI_options">ROI_options</a></code> is used.</p>
</td></tr>
<tr><td><code id="ROI_solve_+3A_control">control</code></td>
<td>
<p>a list with additional control parameters for the
solver.  This is solver specific so please consult the
corresponding documentation.</p>
</td></tr>
<tr><td><code id="ROI_solve_+3A_...">...</code></td>
<td>
<p>a list of control parameters (overruling those
specified in <code>control</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a list containing the solution and a message from the solver.
</p>

<ul>
<li><p>solutionthe vector of optimal coefficients
</p>
</li>
<li><p>objvalthe value of the objective function at the optimum
</p>
</li>
<li><p>statusa list giving the status code and message form the solver.
The status code is 0 on success (no error occurred) 
1 otherwise.
</p>
</li>
<li><p>messagea list giving the original message provided by the solver.
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Stefan Theussl
</p>


<h3>References</h3>

<p>Theussl S, Schwendinger F, Hornik K (2020). 
'ROI: An Extensible R Optimization Infrastructure.' Journal of Statistical Software_,
*94*(15), 1-64. doi: 10.18637/jss.v094.i15 (URL: https://doi.org/10.18637/jss.v094.i15).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Rosenbrock Banana Function
## -----------------------------------------
## objective
f &lt;- function(x) {
   return( 100 * (x[2] - x[1] * x[1])^2 + (1 - x[1])^2 )
}
## gradient
g &lt;- function(x) {
   return( c( -400 * x[1] * (x[2] - x[1] * x[1]) - 2 * (1 - x[1]),
             200 * (x[2] - x[1] * x[1])) )
}
## bounds
b &lt;- V_bound(li = 1:2, ui = 1:2, lb = c(-3, -3), ub = c(3, 3))
op &lt;- OP( objective = F_objective(f, n = 2L, G = g),
          bounds = b )
res &lt;- ROI_solve( op, solver = "nlminb", control = list(start = c( -1.2, 1 )) )
solution( res )
## Portfolio optimization - minimum variance
## -----------------------------------------
## get monthly returns of 30 US stocks
data( US30 )
r &lt;- na.omit( US30 )
## objective function to minimize
obj &lt;- Q_objective( 2*cov(r) )
## full investment constraint
full_invest &lt;- L_constraint( rep(1, ncol(US30)), "==", 1 )
## create optimization problem / long-only
op &lt;- OP( objective = obj, constraints = full_invest )
## solve the problem - only works if a QP solver is registered
## Not run: 
res &lt;- ROI_solve( op )
res
sol &lt;- solution( res )
names( sol ) &lt;- colnames( US30 )
round( sol[ which(sol &gt; 1/10^6) ], 3 )

## End(Not run)
</code></pre>

<hr>
<h2 id='ROI_solver_signature'>Obtain Solver Signature</h2><span id='topic+ROI_solver_signature'></span>

<h3>Description</h3>

<p>Obtain the signature of a registered solver.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_solver_signature(solver)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_solver_signature_+3A_solver">solver</code></td>
<td>
<p>a character string giving the name of the solver.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the solver signature if the specified solver is registered <code>NULL</code> otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ROI_solver_signature("nlminb")
</code></pre>

<hr>
<h2 id='ROI_write'>Write Optimization Problems</h2><span id='topic+ROI_write'></span>

<h3>Description</h3>

<p>Write an optimization problem to file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ROI_write(x, file, type, solver = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ROI_write_+3A_x">x</code></td>
<td>
<p>an optimization problem of class <code>"OP"</code>.</p>
</td></tr>
<tr><td><code id="ROI_write_+3A_file">file</code></td>
<td>
<p>a character giving the name of the file the optimization problem
is to be written.</p>
</td></tr>
<tr><td><code id="ROI_write_+3A_type">type</code></td>
<td>
<p>a character giving the type of the file 
(e.g. <code>"freemps"</code>, <code>"mps_fixed"</code>, <code>"lp_cplex"</code>,
<code>"lp_lpsolve"</code>, ...).</p>
</td></tr>
<tr><td><code id="ROI_write_+3A_solver">solver</code></td>
<td>
<p>an optional character giving the name of the plugin 
(e.g. <code>"lpsolve"</code>).</p>
</td></tr>
<tr><td><code id="ROI_write_+3A_...">...</code></td>
<td>
<p>further arguments passed on to the write method.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other input output: 
<code><a href="#topic+ROI_plugin_register_reader_writer">ROI_plugin_register_reader_writer</a></code>,
<code><a href="#topic+ROI_read">ROI_read</a>()</code>,
<code><a href="#topic+ROI_registered_reader">ROI_registered_reader</a>()</code>,
<code><a href="#topic+ROI_registered_writer">ROI_registered_writer</a>()</code>
</p>

<hr>
<h2 id='solution'>Extract Solution</h2><span id='topic+solution'></span>

<h3>Description</h3>

<p>The solution can be accessed via the method <code>'solution'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>solution(
  x,
  type = c("primal", "dual", "aux", "psd", "msg", "objval", "status", "status_code"),
  force = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="solution_+3A_x">x</code></td>
<td>
<p>an object of type <code>'OP_solution'</code> or <code>'OP_solution_set'</code>.</p>
</td></tr>
<tr><td><code id="solution_+3A_type">type</code></td>
<td>
<p>a character giving the name of the solution to be extracted.</p>
</td></tr>
<tr><td><code id="solution_+3A_force">force</code></td>
<td>
<p>a logical to control the return value in the case that the 
status code is equal to 1 (i.e. something went wrong).
By default force is <code>FALSE</code> and a solution is only provided
if the status code is equal to 0 (i.e. success). If force is <code>TRUE</code>
<span class="pkg">ROI</span> ignores the status code and also returns solutions
where the solver signaled an issue.</p>
</td></tr>
<tr><td><code id="solution_+3A_...">...</code></td>
<td>
<p>further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>the extracted solution.
</p>

<hr>
<h2 id='types+20+28Set+2FGet+29'>Types - Accessor and Mutator Functions</h2><span id='topic+types+20+28Set+2FGet+29'></span><span id='topic+types'></span><span id='topic+types+3C-'></span>

<h3>Description</h3>

<p>The <a href="#topic+types">types</a> of a given optimization problem (<a href="#topic+OP">OP</a>) 
can be accessed or mutated via the method <code>'types'</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>types(x)

types(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="types+2B20+2B28Set+2B2FGet+2B29_+3A_x">x</code></td>
<td>
<p>an object used to select the method.</p>
</td></tr>
<tr><td><code id="types+2B20+2B28Set+2B2FGet+2B29_+3A_value">value</code></td>
<td>
<p>an R object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector.
</p>


<h3>Author(s)</h3>

<p>Stefan Theussl
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## minimize: x + 2 y
## subject to: x + y &gt;= 1
## x, y &gt;= 0    x, y are integer
x &lt;- OP(objective = 1:2, constraints = L_constraint(c(1, 1), "&gt;=", 1))
types(x) &lt;- c("I", "I")
types(x)
</code></pre>

<hr>
<h2 id='US30'>Monthly return data for 30 of the largest US stocks</h2><span id='topic+US30'></span>

<h3>Description</h3>

<p>This dataset contains the historical monthly returns of 30 of the
largest US stocks from 1999-01-29 to 2013-12-31. This data is
dividend adjusted based on the CRSP methodology.
</p>


<h3>Format</h3>

<p>A matrix with 30 columns
(representing stocks) and 180 rows (months).
</p>


<h3>Details</h3>

<p>The selected stocks reflect the DJ 30 Industrial Average Index
members as of 2013-09-20
(downloaded from <code>https://www.quandl.com</code> which was acquired by <a href="https://data.nasdaq.com/">https://data.nasdaq.com/</a>).
</p>
<p>The data source is Quandl. Data flagged as &quot;WIKI&quot; in their database is
public domain.
</p>


<h3>Source</h3>

<p><a href="https://data.nasdaq.com/">https://data.nasdaq.com/</a>
</p>

<hr>
<h2 id='V_bound'>Objective Variable Bounds</h2><span id='topic+V_bound'></span><span id='topic+as.V_bound'></span><span id='topic+is.V_bound'></span>

<h3>Description</h3>

<p>Constructs a variable bounds object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>V_bound(li, ui, lb, ub, nobj, ld = 0, ud = Inf, names = NULL)

as.V_bound(x)

is.V_bound(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="V_bound_+3A_li">li</code></td>
<td>
<p>an integer vector specifying the indices of non-standard
(i.e., values != 0) lower bounds.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_ui">ui</code></td>
<td>
<p>an integer vector specifying the indices of non-standard
(i.e., values != Inf) upper bounds.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_lb">lb</code></td>
<td>
<p>a numeric vector with lower bounds.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_ub">ub</code></td>
<td>
<p>a numeric vector with upper bounds.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_nobj">nobj</code></td>
<td>
<p>an integer representing the number of objective variables</p>
</td></tr>
<tr><td><code id="V_bound_+3A_ld">ld</code></td>
<td>
<p>a numeric giving lower default bound.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_ud">ud</code></td>
<td>
<p>a numeric giving upper default bound.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_names">names</code></td>
<td>
<p>a character vector giving the names of the bounds.</p>
</td></tr>
<tr><td><code id="V_bound_+3A_x">x</code></td>
<td>
<p>object to be coerced or tested.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function returns a sparse representation of objective
variable bounds.
</p>


<h3>Value</h3>

<p>An S3 object of class <code>"V_bound"</code> containing lower and
upper bounds of the objective variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>V_bound(li=1:3, lb=rep.int(-Inf, 3))
V_bound(li=c(1, 5, 10), ui=13, lb=rep.int(-Inf, 3), ub=100, nobj=20)
</code></pre>

<hr>
<h2 id='vech'>Half-Vectorization</h2><span id='topic+vech'></span>

<h3>Description</h3>

<p>The utility function <code>vech</code> performs a
half-vectorization on the given matrices.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vech(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vech_+3A_...">...</code></td>
<td>
<p>one or more matrices to be half-vectorized.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package simmer.plot</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {simmer.plot}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#simmer.plot-package'><p><span class="pkg">simmer.plot</span>: Plotting Methods for <span class="pkg">simmer</span></p></a></li>
<li><a href='#get_mon'><p>Monitoring Statistics</p></a></li>
<li><a href='#plot.mon'><p>Plot Methods for <code>simmer</code> Monitoring Statistics</p></a></li>
<li><a href='#plot.trajectory'><p>Plot Method for <code>trajectory</code> Objects</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Plotting Methods for 'simmer'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.18</td>
</tr>
<tr>
<td>Description:</td>
<td>A set of plotting methods for 'simmer' trajectories and simulations.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://r-simmer.org">https://r-simmer.org</a>, <a href="https://github.com/r-simmer/simmer.plot">https://github.com/r-simmer/simmer.plot</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-simmer/simmer.plot/issues">https://github.com/r-simmer/simmer.plot/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.1.2), simmer (&ge; 3.6.0), ggplot2 (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>DiagrammeR (&ge; 1.0.0), dplyr (&ge; 0.7.0), tidyr (&ge; 0.7.0),
scales, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-07-17 21:17:24 UTC; iucar</td>
</tr>
<tr>
<td>Author:</td>
<td>Iñaki Ucar <a href="https://orcid.org/0000-0001-6403-5550"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph, cre],
  Bart Smeets [aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Iñaki Ucar &lt;iucar@fedoraproject.org&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-07-17 21:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='simmer.plot-package'><span class="pkg">simmer.plot</span>: Plotting Methods for <span class="pkg">simmer</span></h2><span id='topic+simmer.plot-package'></span>

<h3>Description</h3>

<p>A set of plotting methods for <span class="pkg">simmer</span> trajectories and simulations.
</p>


<h3>Author(s)</h3>

<p>Iñaki Ucar, Bart Smeets
</p>


<h3>See Also</h3>

<p><span class="pkg">simmer</span>'s homepage <a href="https://r-simmer.org">https://r-simmer.org</a> and
GitHub repository <a href="https://github.com/r-simmer/simmer.plot">https://github.com/r-simmer/simmer.plot</a>.
</p>

<hr>
<h2 id='get_mon'>Monitoring Statistics</h2><span id='topic+get_mon'></span><span id='topic+get_mon_arrivals'></span><span id='topic+get_mon_attributes'></span><span id='topic+get_mon_resources'></span>

<h3>Description</h3>

<p>Replacements for <code><a href="simmer.html#topic+get_mon">get_mon_arrivals</a></code>,
<code><a href="simmer.html#topic+get_mon">get_mon_attributes</a></code> and
<code><a href="simmer.html#topic+get_mon">get_mon_resources</a></code>.
These versions just add a new class (<code>arrivals</code>, <code>attributes</code> or
<code>resources</code> respectively) to the resulting data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_mon_arrivals(...)

get_mon_attributes(...)

get_mon_resources(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_mon_+3A_...">...</code></td>
<td>
<p>see <code><a href="simmer.html#topic+get_mon">get_mon</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame of class <code>arrivals</code>, <code>attributes</code> or
<code>resources</code>.
</p>

<hr>
<h2 id='plot.mon'>Plot Methods for <code>simmer</code> Monitoring Statistics</h2><span id='topic+plot.mon'></span><span id='topic+plot.arrivals'></span><span id='topic+plot.attributes'></span><span id='topic+plot.resources'></span>

<h3>Description</h3>

<p>Methods for the <code><a href="graphics.html#topic+plot">plot</a></code> generic. See below for details about each
metric available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'arrivals'
plot(x, metric = c("activity_time", "waiting_time",
  "flow_time"), ...)

## S3 method for class 'attributes'
plot(x, metric = NULL, keys, ...)

## S3 method for class 'resources'
plot(x, metric = c("usage", "utilization"), names,
  items = c("queue", "server", "system"), steps = FALSE, limits = TRUE,
  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.mon_+3A_x">x</code></td>
<td>
<p>a data frame of class <code>arrivals</code>/<code>attributes</code>/<code>resources</code>
(see <code><a href="#topic+get_mon">get_mon</a></code>).</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_metric">metric</code></td>
<td>
<p>specific metric to compute.</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_...">...</code></td>
<td>
<p>unused.</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_keys">keys</code></td>
<td>
<p>attributes to plot (if left empty, all attributes are shown).</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_names">names</code></td>
<td>
<p>resources to plot (if left empty, all resources are shown).</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_items">items</code></td>
<td>
<p>(<code>metric="usage"</code>) resource items to include in the chart.</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_steps">steps</code></td>
<td>
<p>(<code>metric="usage"</code>) whether to show the instantaneous usage
rather than the cumulative average.</p>
</td></tr>
<tr><td><code id="plot.mon_+3A_limits">limits</code></td>
<td>
<p>(<code>metric="usage"</code>) whether to show limits.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The S3 method for 'arrivals' provides three metrics: <code>"activity_time"</code>,
<code>"waiting_time"</code>, and <code>"flow_time"</code>. The <code>"activity_time"</code> is
the amount of time spent in active state (i.e., in <code>timeout</code> activities),
and it is already provided in the output of <code>get_mon_arrivals</code>. The
<code>"flow_time"</code> is the amount of time spent in the system, and it is
computed as follows: <code>flow = end_time - start_time</code>. Finally, the
<code>"waiting_time"</code> is the amount of time spent waiting (e.g., in resources'
queues, or due to a <code>wait</code> activity...), and it is computed as follows:
<code>waiting_time = flow_time - activity_time</code>. This method does not apply
any summary, but just shows a line plot of the values throughout the simulation.
</p>
<p>The S3 method for 'attributes' does not support any metric. It simply
shows a stairstep graph of the values throughout the simulation for the keys
provided (or all the collected attributes if no key is provided).
</p>
<p>The S3 method for 'resources' provides two metrics: <code>"usage"</code>
and <code>"utilization"</code>. The <code>"usage"</code> metric shows a line graph of
the cumulative average resource usage throughout the simulation, for each
resource, replication and item (by default, queue, server and system, which
is the sum of queue and server). If <code>steps=TRUE</code>, a stairstep graph with
the instantaneous values is provided instead. The <code>"utilization"</code> metric
shows a bar plot of the average resource utilization (total time in use
divided by the total simulation time). For multiple replications, the bar
represents the median, and the error bars represent the quartiles. Thus, if
a single replication is provided, the bar and the error bar coincide.
</p>


<h3>Value</h3>

<p>Returns a ggplot2 object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>t0 &lt;- trajectory("my trajectory") %&gt;%
  ## add an intake activity
  seize("nurse", 1) %&gt;%
  timeout(function() rnorm(1, 15)) %&gt;%
  release("nurse", 1) %&gt;%
  ## add a consultation activity
  seize("doctor", 1) %&gt;%
  timeout(function() rnorm(1, 20)) %&gt;%
  release("doctor", 1) %&gt;%
  ## add a planning activity
  seize("administration", 1) %&gt;%
  timeout(function() rnorm(1, 5)) %&gt;%
  release("administration", 1)

env &lt;- simmer("SuperDuperSim") %&gt;%
  add_resource("nurse", 1) %&gt;%
  add_resource("doctor", 2) %&gt;%
  add_resource("administration", 1) %&gt;%
  add_generator("patient", t0, function() rnorm(1, 10, 2)) %&gt;%
  run(until=80)

resources &lt;- get_mon_resources(env)
arrivals &lt;- get_mon_arrivals(env)

plot(resources, metric="usage", "doctor", items = "server", steps = TRUE)
plot(resources, metric="utilization", c("nurse", "doctor", "administration"))
plot(arrivals, metric="waiting_time")

</code></pre>

<hr>
<h2 id='plot.trajectory'>Plot Method for <code>trajectory</code> Objects</h2><span id='topic+plot.trajectory'></span>

<h3>Description</h3>

<p>A method for the <code><a href="graphics.html#topic+plot">plot</a></code> generic that plots a diagram of the given trajectory.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'trajectory'
plot(x, engine = "dot",
  fill = scales::brewer_pal("qual"), verbose = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.trajectory_+3A_x">x</code></td>
<td>
<p>a simmer trajectory.</p>
</td></tr>
<tr><td><code id="plot.trajectory_+3A_engine">engine</code></td>
<td>
<p>a string specifying a layout engine (see <code><a href="DiagrammeR.html#topic+grViz">grViz</a></code>).</p>
</td></tr>
<tr><td><code id="plot.trajectory_+3A_fill">fill</code></td>
<td>
<p>discrete color palette for resource identification.</p>
</td></tr>
<tr><td><code id="plot.trajectory_+3A_verbose">verbose</code></td>
<td>
<p>show additional info directly in the labels.</p>
</td></tr>
<tr><td><code id="plot.trajectory_+3A_...">...</code></td>
<td>
<p>additional parameters for <code><a href="DiagrammeR.html#topic+render_graph">render_graph</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns an <code>htmlwidget</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- trajectory() %&gt;%
  seize("res", 1) %&gt;%
  timeout(1) %&gt;%
  release("res", 1) %&gt;%
  rollback(3)

plot(x)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

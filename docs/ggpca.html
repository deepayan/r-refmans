<!DOCTYPE html><html lang="en"><head><title>Help for package ggpca</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {ggpca}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#ggpca'><p>Create publication-ready PCA, t-SNE, or UMAP plots</p></a></li>
<li><a href='#process_missing_value'><p>Process Missing Values in a Data Frame</p></a></li>
<li><a href='#run_app'><p>Run the Shiny Application</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Publication-Ready PCA, t-SNE, and UMAP Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides tools for creating publication-ready dimensionality reduction plots, including Principal Component Analysis (PCA), t-Distributed Stochastic Neighbor Embedding (t-SNE), and Uniform Manifold Approximation and Projection (UMAP). This package helps visualize high-dimensional data with options for custom labels, density plots, and faceting, using the 'ggplot2' framework Wickham (2016) &lt;<a href="https://doi.org/10.1007%2F978-3-319-24277-4">doi:10.1007/978-3-319-24277-4</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>config (&ge; 0.3.2), golem (&ge; 0.4.1), shiny (&ge; 1.8.1.1),
rlang, Rtsne, cowplot, dplyr, ggplot2, umap</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, tibble, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-04 01:38:37 UTC; Bach</td>
</tr>
<tr>
<td>Author:</td>
<td>Yaoxiang Li [cre, aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yaoxiang Li &lt;liyaoxiang@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-04 03:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='ggpca'>Create publication-ready PCA, t-SNE, or UMAP plots</h2><span id='topic+ggpca'></span>

<h3>Description</h3>

<p>This function generates dimensionality reduction plots (PCA, t-SNE, UMAP)
with options for custom labels, titles, density plots, and faceting.
It allows users to visualize high-dimensional data using various
dimensionality reduction techniques.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ggpca(
  data,
  metadata_cols,
  mode = c("pca", "tsne", "umap"),
  scale = TRUE,
  x_pc = "PC1",
  y_pc = "PC2",
  color_var = NULL,
  ellipse = TRUE,
  ellipse_level = 0.9,
  ellipse_type = "norm",
  ellipse_alpha = 0.9,
  point_size = 3,
  point_alpha = 0.6,
  facet_var = NULL,
  tsne_perplexity = 30,
  umap_n_neighbors = 15,
  density_plot = "none",
  color_palette = "Set1",
  xlab = NULL,
  ylab = NULL,
  title = NULL,
  subtitle = NULL,
  caption = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ggpca_+3A_data">data</code></td>
<td>
<p>A data frame containing the data to be plotted. Must include both feature columns (numeric) and metadata columns (categorical).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_metadata_cols">metadata_cols</code></td>
<td>
<p>A character vector of column names or a numeric vector of column indices for the metadata columns. These columns are used for grouping and faceting.</p>
</td></tr>
<tr><td><code id="ggpca_+3A_mode">mode</code></td>
<td>
<p>The dimensionality reduction method to use. One of <code>"pca"</code> (Principal Component Analysis), <code>"tsne"</code> (t-Distributed Stochastic Neighbor Embedding), or <code>"umap"</code> (Uniform Manifold Approximation and Projection).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_scale">scale</code></td>
<td>
<p>Logical indicating whether to scale features (default: <code>TRUE</code> for PCA). Not used for <code>"tsne"</code> or <code>"umap"</code>.</p>
</td></tr>
<tr><td><code id="ggpca_+3A_x_pc">x_pc</code></td>
<td>
<p>Name of the principal component or dimension to plot on the x-axis (default: <code>"PC1"</code> for PCA).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_y_pc">y_pc</code></td>
<td>
<p>Name of the principal component or dimension to plot on the y-axis (default: <code>"PC2"</code> for PCA).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_color_var">color_var</code></td>
<td>
<p>(Optional) Name of the column used to color points in the plot. If <code>NULL</code>, no color is applied. Supports both discrete and continuous variables. Default: <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="ggpca_+3A_ellipse">ellipse</code></td>
<td>
<p>Logical indicating whether to add confidence ellipses for groups (only supported for PCA and only if <code>color_var</code> is discrete; default: <code>TRUE</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_ellipse_level">ellipse_level</code></td>
<td>
<p>Confidence level for ellipses (default: <code>0.9</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_ellipse_type">ellipse_type</code></td>
<td>
<p>Type of ellipse to plot, e.g., &quot;norm&quot; for normal distribution (default: <code>"norm"</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_ellipse_alpha">ellipse_alpha</code></td>
<td>
<p>Transparency level for ellipses, where 0 is fully transparent and 1 is fully opaque (default: <code>0.9</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_point_size">point_size</code></td>
<td>
<p>Size of the points in the plot (default: <code>3</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_point_alpha">point_alpha</code></td>
<td>
<p>Transparency level for the points, where 0 is fully transparent and 1 is fully opaque (default: <code>0.6</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_facet_var">facet_var</code></td>
<td>
<p>Formula for faceting the plot (e.g., <code>Category ~ .</code>), allowing users to split the plot by different groups.</p>
</td></tr>
<tr><td><code id="ggpca_+3A_tsne_perplexity">tsne_perplexity</code></td>
<td>
<p>Perplexity parameter for t-SNE, which balances local and global aspects of the data (default: <code>30</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_umap_n_neighbors">umap_n_neighbors</code></td>
<td>
<p>Number of neighbors for UMAP, which determines the local structure (default: <code>15</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_density_plot">density_plot</code></td>
<td>
<p>Controls whether to add density plots for the x, y, or both axes. Accepts one of <code>"none"</code>, <code>"x"</code>, <code>"y"</code>, or <code>"both"</code> (default: <code>"none"</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_color_palette">color_palette</code></td>
<td>
<p>Name of the color palette (used for discrete variables) to use for the plot. Supports <code>"Set1"</code>, <code>"Set2"</code>, etc. from <code>RColorBrewer</code> (default: <code>"Set1"</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_xlab">xlab</code></td>
<td>
<p>Custom x-axis label (default: <code>NULL</code>, will be auto-generated based on the data).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_ylab">ylab</code></td>
<td>
<p>Custom y-axis label (default: <code>NULL</code>, will be auto-generated based on the data).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_title">title</code></td>
<td>
<p>Plot title (default: <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_subtitle">subtitle</code></td>
<td>
<p>Plot subtitle (default: <code>NULL</code>).</p>
</td></tr>
<tr><td><code id="ggpca_+3A_caption">caption</code></td>
<td>
<p>Plot caption (default: <code>NULL</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>ggplot2</code> object representing the dimensionality reduction plot, including scatter plots, optional density plots, and faceting options. The plot can be further customized using <code>ggplot2</code> functions.
</p>


<h3>Author(s)</h3>

<p>Yaoxiang Li
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Load dataset
pca_data &lt;- read.csv(system.file("extdata", "example.csv", package = "ggpca"))

# PCA example
p_pca_y_group &lt;- ggpca(
  pca_data,
  metadata_cols = c(1:6),
  mode = "pca",
  color_var = "group",
  ellipse = TRUE,
  density_plot = "y",
  title = "PCA with Y-axis Density Plot",
  subtitle = "Example dataset, colored by group",
  caption = "Data source: Example dataset"
)
print(p_pca_y_group)

# t-SNE example
p_tsne_time &lt;- ggpca(
  pca_data,
  metadata_cols = c(1:6),
  mode = "tsne",
  color_var = "time",
  tsne_perplexity = 30,
  title = "t-SNE Plot of Example Dataset",
  subtitle = "Colored by time",
  caption = "Data source: Example dataset"
)
print(p_tsne_time)

</code></pre>

<hr>
<h2 id='process_missing_value'>Process Missing Values in a Data Frame</h2><span id='topic+process_missing_value'></span>

<h3>Description</h3>

<p>This function filters columns in a data frame based on a specified threshold for missing values and performs imputation on remaining non-metadata columns using half of the minimum value found in each column.
Metadata columns are specified by the user and are exempt from filtering and imputation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>process_missing_value(data, missing_threshold = 25, metadata_cols = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="process_missing_value_+3A_data">data</code></td>
<td>
<p>A data frame containing the data to be processed.</p>
</td></tr>
<tr><td><code id="process_missing_value_+3A_missing_threshold">missing_threshold</code></td>
<td>
<p>A numeric value representing the percentage threshold of missing values which should lead to the removal of a column. Default is 25.</p>
</td></tr>
<tr><td><code id="process_missing_value_+3A_metadata_cols">metadata_cols</code></td>
<td>
<p>A vector of either column names or indices that should be treated as metadata and thus exempt from missing value filtering and imputation. If NULL, no columns are treated as metadata.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with filtered and imputed columns as necessary.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data &lt;- data.frame(
  A = c(1, 2, NA, 4),
  B = c(NA, NA, NA, 4),
  C = c(1, 2, 3, 4)
)
# Process missing values while ignoring column 'C' as metadata
processed_data &lt;- process_missing_value(data, missing_threshold = 50, metadata_cols = "C")

</code></pre>

<hr>
<h2 id='run_app'>Run the Shiny Application</h2><span id='topic+run_app'></span>

<h3>Description</h3>

<p>This function launches the Shiny application with the specified user interface and server function.
The function does not return a value but starts the Shiny app, allowing users to interact with it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_app(
  onStart = NULL,
  options = list(),
  enableBookmarking = NULL,
  uiPattern = "/",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_app_+3A_onstart">onStart</code></td>
<td>
<p>A function that will be called before the app is actually run.
This is only needed for <code>shinyAppObj</code>, since in the <code>shinyAppDir</code>
case, a <code>global.R</code> file can be used for this purpose.</p>
</td></tr>
<tr><td><code id="run_app_+3A_options">options</code></td>
<td>
<p>Named options that should be passed to the <code>runApp</code> call
(these can be any of the following: &quot;port&quot;, &quot;launch.browser&quot;, &quot;host&quot;, &quot;quiet&quot;,
&quot;display.mode&quot; and &quot;test.mode&quot;). You can also specify <code>width</code> and
<code>height</code> parameters which provide a hint to the embedding environment
about the ideal height/width for the app.</p>
</td></tr>
<tr><td><code id="run_app_+3A_enablebookmarking">enableBookmarking</code></td>
<td>
<p>Can be one of <code>"url"</code>, <code>"server"</code>, or
<code>"disable"</code>. The default value, <code>NULL</code>, will respect the setting from
any previous calls to  <code><a href="shiny.html#topic+enableBookmarking">enableBookmarking()</a></code>. See <code><a href="shiny.html#topic+enableBookmarking">enableBookmarking()</a></code>
for more information on bookmarking your app.</p>
</td></tr>
<tr><td><code id="run_app_+3A_uipattern">uiPattern</code></td>
<td>
<p>A regular expression that will be applied to each <code>GET</code>
request to determine whether the <code>ui</code> should be used to handle the
request. Note that the entire request path must match the regular
expression in order for the match to be considered successful.</p>
</td></tr>
<tr><td><code id="run_app_+3A_...">...</code></td>
<td>
<p>Arguments to pass to 'golem_opts'. See '?golem::get_golem_options' for more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for side effects.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package forestmangr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {forestmangr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe</p></a></li>
<li><a href='#+25T+26gt+3B+25'><p>Tee</p></a></li>
<li><a href='#avg_tree_curve'><p>Generate the curve of a forest's average tree using the Kozak taper model</p></a></li>
<li><a href='#bdq_meyer'><p>Classify a forest for selective cutting using the Meyer BDq method</p></a></li>
<li><a href='#bias_per'><p>Bias of an estimator in percentage</p></a></li>
<li><a href='#check_names'><p>Check if character vector contains variable names</p></a></li>
<li><a href='#class_center'><p>Classify a given variable and get center of class</p></a></li>
<li><a href='#classify_site'><p>Classify inventory data based on site index</p></a></li>
<li><a href='#diameter_class'><p>Divide data into diameter classes, and get number of observations</p></a></li>
<li><a href='#dom_height'><p>Calculate the dominant height of forest inventory data plots</p></a></li>
<li><a href='#est_clutter'><p>Estimate future and present basal area, volume, TCA, CMI and MMI values of the Clutter Growth and Yield Model</p></a></li>
<li><a href='#exfm1'><p>Stratified random inventory pilot data</p></a></li>
<li><a href='#exfm10'><p>Inventory data of an eucalyptus forest Brazil with dominant height variable</p></a></li>
<li><a href='#exfm11'><p>Observed hieght values of trees, and estimated values using 3 different models</p></a></li>
<li><a href='#exfm12'><p>Inventory data of an eucalyptus forest in Brazil, with age and site variables</p></a></li>
<li><a href='#exfm13'><p>Experimental data on nitrogen effect in species fertilizing</p></a></li>
<li><a href='#exfm14'><p>Inventory data of an eucalyptus forest in Brazil, with age and dominant height variables</p></a></li>
<li><a href='#exfm15'><p>Simplified Inventory data of an eucalyptus forest in Brazil</p></a></li>
<li><a href='#exfm16'><p>Inventory data of an eucalyptus forest in Brazil, with age variable</p></a></li>
<li><a href='#exfm17'><p>Inventory data of an eucalyptus forest in Brazil, with age and site variables</p></a></li>
<li><a href='#exfm18'><p>Experimental data on nitrogen effect in species fertilizing</p></a></li>
<li><a href='#exfm19'><p>Volume of felled trees, measured in the Smalian method</p></a></li>
<li><a href='#exfm2'><p>Stratified random inventory definite data</p></a></li>
<li><a href='#exfm20'><p>Inventory data of a natural forest in Brazil</p></a></li>
<li><a href='#exfm21'><p>Inventory data of an eucalyptus forest in Brazil</p></a></li>
<li><a href='#exfm22'><p>Revenue data if an eucalyptus forest</p></a></li>
<li><a href='#exfm3'><p>Simple random inventory pilot data</p></a></li>
<li><a href='#exfm4'><p>Simple random inventory definite data</p></a></li>
<li><a href='#exfm5'><p>Systematic inventory data</p></a></li>
<li><a href='#exfm6'><p>Stratified random inventory definite data 2</p></a></li>
<li><a href='#exfm7'><p>Data of felled trees sections, measured in the Smalian method</p></a></li>
<li><a href='#exfm8'><p>Data of felled trees sections, measured in the Huber method</p></a></li>
<li><a href='#exfm9'><p>Inventory data of an eucalyptus forest in minas gerais, Brazil</p></a></li>
<li><a href='#fit_clutter'><p>Fit the Clutter model for growth and yield</p></a></li>
<li><a href='#forest_structure'><p>Get the forest horizontal, vertical and internal structure</p></a></li>
<li><a href='#graybill_f'><p>Graybill F Test</p></a></li>
<li><a href='#guide_curve'><p>Get the guide curve plot for growth and yield analysis of inventory data</p></a></li>
<li><a href='#huberwb'><p>Calculate the volume with bark of trees using the Huber method</p></a></li>
<li><a href='#huberwob'><p>Calculate the volume without bark of trees using the Huber method</p></a></li>
<li><a href='#ident_model'><p>Identity of a Model Test</p></a></li>
<li><a href='#inv'><p>Calculate the inverse of a number</p></a></li>
<li><a href='#lm_resid'><p>Fit linear regressions, with the option of removing outliers using a interactive plot of residuals.</p></a></li>
<li><a href='#lm_resid_group'><p>Fit linear regressions by group, with the option of removing outliers using a interactive plot of residuals.</p></a></li>
<li><a href='#lm_table'><p>Fit linear regressions by group, and get different output options.</p></a></li>
<li><a href='#na_to_0'><p>Convert NA to zero on numeric variables</p></a></li>
<li><a href='#nls_table'><p>Fit non-linear regressions by group, using LM algorithm and get different output options.</p></a></li>
<li><a href='#npv_irr'><p>Calculate Net Present Value and other economic variables</p></a></li>
<li><a href='#outliersiqr'><p>Calculate interquartile range</p></a></li>
<li><a href='#plot_summarise'><p>Summarize forest inventory data</p></a></li>
<li><a href='#pow'><p>Raise a numeric vector to a given power</p></a></li>
<li><a href='#resid_plot'><p>Calculate residual values and create plots</p></a></li>
<li><a href='#rm_empty_col'><p>Remove empty columns</p></a></li>
<li><a href='#rmse_per'><p>RMSE of an estimator in percentage</p></a></li>
<li><a href='#round_df'><p>Round all numeric variables of a data frame to a given digit</p></a></li>
<li><a href='#similarity_matrix'><p>Get the similarity matrix of an area</p></a></li>
<li><a href='#smalianwb'><p>Calculate the volume with bark of trees using the Smalian method</p></a></li>
<li><a href='#smalianwob'><p>Calculate the volume without bark of trees using the Smalian method</p></a></li>
<li><a href='#species_aggreg'><p>Get the aggregation state of species</p></a></li>
<li><a href='#species_diversity'><p>Get the species diversity indexes</p></a></li>
<li><a href='#sprs'><p>Simple Random Sampling</p></a></li>
<li><a href='#ss_diffs'><p>Systematic Sampling</p></a></li>
<li><a href='#strs'><p>Stratified Random Sampling</p></a></li>
<li><a href='#tree_summarise'><p>Calculate the equivalent diameter of trees with more than one trunk</p></a></li>
<li><a href='#vertical_stratum'><p>Divide data into 3 vertical strata</p></a></li>
<li><a href='#vol_summarise'><p>Summarize volume of trees</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Forest Mensuration and Management</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.6</td>
</tr>
<tr>
<td>Author:</td>
<td>Sollano Rabelo Braga [aut, cre, cph],
  Marcio Leles Romarco de Oliveira [aut],
  Eric Bastos Gorgens [aut]</td>
</tr>
<tr>
<td>Description:</td>
<td>Processing forest inventory data with methods such as simple random sampling, stratified random sampling and systematic sampling. There are also functions for yield and growth predictions and model fitting, linear and nonlinear grouped data fitting, and statistical tests. References: Kershaw Jr., Ducey, Beers and Husch (2016). &lt;<a href="https://doi.org/10.1002%2F9781118902028">doi:10.1002/9781118902028</a>&gt;.</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Sollano Rabelo Braga &lt;sollanorb@gmail.com&gt;</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/sollano/forestmangr#readme">https://github.com/sollano/forestmangr#readme</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sollano/forestmangr/issues">https://github.com/sollano/forestmangr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 4.2)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr(&ge; 1.0), ggplot2(&ge; 3.0), ggthemes, tidyr,broom,purrr,
plyr,tibble(&ge; 3.0.0),
systemfit,ggpmisc,rlang,utils,car,stats,methods,magrittr,
minpack.lm, FinCal,scales,ggdendro, gridExtra,shiny,miniUI</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr,rmarkdown,tidyselect,formattable</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-11-30</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-23 18:07:24 UTC; sollano.braga</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-23 18:30:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe</h2><span id='topic++25+3E+25'></span><span id='topic++3A+3D'></span>

<h3>Description</h3>

<p>Pipe an object forward into a function or call expression. See <code><a href="magrittr.html#topic+magrittr">magrittr</a></code> for more details.
</p>
<p>Search for quasiquotation for more details.
</p>

<hr>
<h2 id='+25T+26gt+3B+25'>Tee</h2><span id='topic++25T+3E+25'></span>

<h3>Description</h3>

<p>Pipe an object forward into a function or call expression. See <code><a href="magrittr.html#topic+magrittr">magrittr</a></code> for more details.
</p>

<hr>
<h2 id='avg_tree_curve'>Generate the curve of a forest's average tree using the Kozak taper model</h2><span id='topic+avg_tree_curve'></span>

<h3>Description</h3>

<p>Generate a ggplot curve of a forest's average tree using the Kozak taper model (Kozak, Munro and Smith, 1969).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>avg_tree_curve(
  df,
  d,
  dbh,
  h,
  th,
  facet = NA,
  color = NA,
  eq = TRUE,
  mirror = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="avg_tree_curve_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_d">d</code></td>
<td>
<p>Quoted name of the section diameter variable, in cm.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable, in cm.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_h">h</code></td>
<td>
<p>Quoted name of the section height variable, in meters.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_th">th</code></td>
<td>
<p>Quoted name of the total height variable, in meters.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_facet">facet</code></td>
<td>
<p>Optional argument. If supplied with the Quoted name of a factor variable(s), this variable is used to divide the plot into facets. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_color">color</code></td>
<td>
<p>Quoted name of a variable. If supplied, this variable will be used to classify the data by color. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_eq">eq</code></td>
<td>
<p>if <code>TRUE</code>, Kozak's taper model is adjusted and the equation is shown on the plot. Default <code>TRUE</code></p>
</td></tr>
<tr><td><code id="avg_tree_curve_+3A_mirror">mirror</code></td>
<td>
<p>if <code>TRUE</code>, the plot will be mirrored, to resemble the shape of a tree. Default: <code>TRUE</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Kozak, A., Munro, D. D. and Smith, J. H. G. (1969) Taper Functions and their Application in Forest Inventory, The Forestry Chronicle, 45, pp. 278–283.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm7")
head(exfm7)

# Get the data's average tree curve inserting the section diameter and height,
# total height and dbh variables: 
avg_tree_curve(df=exfm7,d="di_wb",dbh="DBH",h="hi",th="TH",eq=FALSE)

# It's possible to get the average tree curve of each strata with the facet arg.,
# and divide the data by color with the color argument:
avg_tree_curve(exfm7,"di_wb","DBH","hi","TH","STRATA","GENCODE",FALSE)

</code></pre>

<hr>
<h2 id='bdq_meyer'>Classify a forest for selective cutting using the Meyer BDq method</h2><span id='topic+bdq_meyer'></span>

<h3>Description</h3>

<p>This function can be used to plan and execute selective cuttings of a native
forest, without damaging the forest's natural structure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bdq_meyer(
  df,
  plot,
  dbh,
  plot_area,
  class_interval = 5,
  dbh_min = 5,
  licourt_index = 2,
  output = "table"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bdq_meyer_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_plot">plot</code></td>
<td>
<p>Quoted name of the plot variable. used to differentiate the plot's trees, and calculate the number of sampled plots.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable, in cm.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_plot_area">plot_area</code></td>
<td>
<p>Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_class_interval">class_interval</code></td>
<td>
<p>Numeric value for the class interval used to classify the data. Default: <code>5</code>.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_dbh_min">dbh_min</code></td>
<td>
<p>Numeric value for minimum diameter value to be considered in the classifications. dbh values smaller than this will be dismissed from the classification. Default: <code>5</code>.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_licourt_index">licourt_index</code></td>
<td>
<p>Numeric value for the start licourt index used. Default: <code>2</code>.</p>
</td></tr>
<tr><td><code id="bdq_meyer_+3A_output">output</code></td>
<td>
<p>Character value for the desired output. Can be either <code>"table"</code> for the classified data table, <code>"model"</code> to get a lm object with the linear model fitted, <code>"coefs"</code> to get a vector with the Meyer coefficients, or <code>"full"</code>, to get a list with all restuls. Default: <code>"table"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame, a lm object, a vector or a list, according to the output argument.
</p>


<h3>Author(s)</h3>

<p>Eric Bastos Gorgens <a href="mailto:e.gorgens@gmail.com">e.gorgens@gmail.com</a>
</p>


<h3>References</h3>

<p>Souza, A. L. and Soares, C. P. B. (2013) Florestas Nativas: estrutura, dinamica e manejo. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm20")
head(exfm20)

# To get the table with the regulated forest:
bdq_meyer(exfm20, "transect", "dbh", 1000)

# Use different class interval values to get different results:
bdq_meyer(exfm20, "transect", "dbh", 1000, class_interval = 10)

# It's possible to get different outputs:
bdq_meyer(exfm20, "transect", "dbh", 1000, output="model")
bdq_meyer(exfm20, "transect", "dbh", 1000, output="coefs")
bdq_meyer(exfm20, "transect", "dbh", 1000, output="full")


</code></pre>

<hr>
<h2 id='bias_per'>Bias of an estimator in percentage</h2><span id='topic+bias_per'></span>

<h3>Description</h3>

<p>Function for calculating the bias of an estimator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bias_per(df, y, yhat, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bias_per_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="bias_per_+3A_y">y</code></td>
<td>
<p>Quoted name of the variable representing the observed values in the data frame. If a data frame is not provided, <code>y</code> can also be a numeric vector.</p>
</td></tr>
<tr><td><code id="bias_per_+3A_yhat">yhat</code></td>
<td>
<p>Quoted name of the variable representing the estimated values in the data frame. If a data frame is not provided, <code>yhat</code> can also be a numeric vector.</p>
</td></tr>
<tr><td><code id="bias_per_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical value indicating whether NA values should be stripped before the computation proceeds. default: <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function for calculating the bias of an estimator, given the observed values, and the estimated values.
</p>


<h3>Value</h3>

<p>Numeric vector with the bias value, in percentage.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>See Also</h3>

<p>other statistics to evaluate estimators: 
<code><a href="#topic+rmse_per">rmse_per</a></code> for the Root mean square error of an estimator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm11")
head(exfm11)

# Bias of an estimator, given the data frame and quoted variable names:
bias_per(exfm11, "TH", "TH_EST3")

# Bias of an estimator, given the vectors for observed and estimated values:
bias_per(y = exfm11$TH, yhat = exfm11$TH_EST3)

</code></pre>

<hr>
<h2 id='check_names'>Check if character vector contains variable names</h2><span id='topic+check_names'></span>

<h3>Description</h3>

<p>Function used to check if a string, or a character vector contains variable names of a given data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_names(df, var_names, boolean = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_names_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="check_names_+3A_var_names">var_names</code></td>
<td>
<p>Character vector to be compared with the data frame names.</p>
</td></tr>
<tr><td><code id="check_names_+3A_boolean">boolean</code></td>
<td>
<p>Boolean object used to define if the output is going to be a boolean object <code>TRUE</code> , or a string <code>FALSE</code>. Default: <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function used to check if a string, or a character vector contains variable names of a given data frame. 
This functions is mainly used to error-proof other functions of this package,
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)

check_names(iris, "Species")
check_names(iris, "Species", boolean = FALSE )

check_names(iris, c("Especies", "Setal.Width") )
check_names(iris, c("Especies", "Setal.Width"), boolean = FALSE)

</code></pre>

<hr>
<h2 id='class_center'>Classify a given variable and get center of class</h2><span id='topic+class_center'></span>

<h3>Description</h3>

<p>This function can be used to divide the data into classes, based on
minimum value and class interval of a given variable,
and create a column with the center of each class.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>class_center(df, y, ci = 3, ymin = 5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="class_center_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="class_center_+3A_y">y</code></td>
<td>
<p>Quoted name of a variable, or a vector to be classified.</p>
</td></tr>
<tr><td><code id="class_center_+3A_ci">ci</code></td>
<td>
<p>Numeric value for the class interval used to classify the data. Default: <code>3</code>.</p>
</td></tr>
<tr><td><code id="class_center_+3A_ymin">ymin</code></td>
<td>
<p>Numeric value for minimum value value to be considered in the classifications. dbh values smaller than this will be dismissed from the classification. Default: <code>5</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>if <code>df</code> is supplied, a data frame containing the supplied data with a new column for the center of classes; if <code>df</code> is missing, a vetor with the center of class.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
library(dplyr)
data("exfm20")
head(exfm20)

# n
# Number of individuals per ha per diameter class
class_center(df = exfm20, y = "dbh", ci = 10, ymin = 10) 

exfm20 %&gt;% 
mutate(CC = class_center(y = dbh, ci = 10, ymin = 10))

</code></pre>

<hr>
<h2 id='classify_site'>Classify inventory data based on site index</h2><span id='topic+classify_site'></span>

<h3>Description</h3>

<p>Use the site variable to classify a forest management data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classify_site(df, site, nc = 3, plot, .groups = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="classify_site_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="classify_site_+3A_site">site</code></td>
<td>
<p>Quoted name for the site variable.</p>
</td></tr>
<tr><td><code id="classify_site_+3A_nc">nc</code></td>
<td>
<p>number of categories used to classify the data. If <code>3</code>, a additional column will be created with levels Lower, Middle and Upper, referencing the 3 categories. If not, only numbers will be used to differentiate the categories. Default: <code>3</code>.</p>
</td></tr>
<tr><td><code id="classify_site_+3A_plot">plot</code></td>
<td>
<p>Quoted name for the plot variable.</p>
</td></tr>
<tr><td><code id="classify_site_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables used to fit multiple regressions, one for each level of the provided variable(s). Default <code>NA</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame classified based on the site index.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>See Also</h3>

<p>other sampling functions: 
<code><a href="#topic+fit_clutter">fit_clutter</a></code> for  fitting Clutter's Growth and Yield, and
<code><a href="#topic+est_clutter">est_clutter</a></code> for estimating Clutter's Growth and Yield model variables.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(forestmangr)
data("exfm17")
head(exfm17)

# Classify data into 3 classes:
ex_class &lt;- classify_site(exfm17, "S", 3, "plot")
head(ex_class ,15)

</code></pre>

<hr>
<h2 id='diameter_class'>Divide data into diameter classes, and get number of observations</h2><span id='topic+diameter_class'></span>

<h3>Description</h3>

<p>This function can be used to divide data into diameter classes,
get the number of observations, number of observations per ha,
and check number of species individuals, volume and G in each diameter class.
It's also possible to spread the diameter classes as columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>diameter_class(
  df,
  dbh,
  plot = NA,
  plot_area,
  ci = 5,
  dbhmin = 5,
  species = NA,
  volume = NA,
  NI_label = "NI",
  cc_to_column = FALSE,
  G_to_cc = FALSE,
  cctc_ha = TRUE,
  keep_unused_classes = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="diameter_class_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable, in cm.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_plot">plot</code></td>
<td>
<p>Optional parameter.Quoted name of the plot variable. used to differentiate the plots trees, and calculate the number of sampled plots. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_plot_area">plot_area</code></td>
<td>
<p>Optional parameter. Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_ci">ci</code></td>
<td>
<p>Numeric value for the class interval used to classify the data. Default: <code>5</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_dbhmin">dbhmin</code></td>
<td>
<p>Numeric value for minimum diameter value to be considered in the classifications. dbh values smaller than this will be dismissed from the classification. Default: <code>5</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_species">species</code></td>
<td>
<p>Optional parameter. Quoted name of the scientific names variable, or any variable used to differentiate the different species found in data. If supplied, will be used to classify the species in the diameter data. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_volume">volume</code></td>
<td>
<p>Optional parameter. Quoted name of the volume variable. If supplied, will be used classify the volume variable in the different diameter classes. Also, if <code>cc_to_column</code> is <code>TRUE</code>, the center of class columns will be filled with volume values, instead of number of individuals. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_ni_label">NI_label</code></td>
<td>
<p>Label used for Species not identified. This parameter works along with species. The level supplied here will not be considered in the classification. Default <code>"NI"</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_cc_to_column">cc_to_column</code></td>
<td>
<p>If <code>TRUE</code>, will spread the center class column as multiple columns, one for each class. The value that fills these columns, by default is the number of individuals found in each class, but this can be changed by using other arguments. Default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_g_to_cc">G_to_cc</code></td>
<td>
<p>If <code>TRUE</code>, and <code>cc_to_column</code> is also <code>TRUE</code>, will fill the center of class columns with basal area values, instead of number of individuals. Default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_cctc_ha">cctc_ha</code></td>
<td>
<p>If <code>TRUE</code>, will calculate values per hectare for number of individuals per class, basal area per class and volume per class (if supplied). These values will also be used to fill the center of class columns, if cc_to_column is <code>TRUE</code>. Default <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="diameter_class_+3A_keep_unused_classes">keep_unused_classes</code></td>
<td>
<p>Some diameter classes may end up empty, depending on the maximum value of diameter and the class interval used. If this is <code>TRUE</code>, those classes will not be removed from the final data frame. Default <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the supplied data divided into diameter classes.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm20")
head(exfm20)

# n
# Number of individuals per ha per diameter class
diameter_class(df = exfm20, dbh = "dbh", ci = 10, dbhmin = 10, volume = "vol")

# Number of individuals per ha per diameter class per species
diameter_class(exfm20,"dbh", "transect", 10000, 10, 10, "scientific.name") %&gt;% 
head(10)

# Number of individuals per ha per diameter class, with each diameter class as a column
diameter_class(exfm20,"dbh", "transect", 10000, 10, 10, "scientific.name", cc_to_column=TRUE) %&gt;% 
head(10)

# G
# Basal area per ha per diameter class, with each diameter class as a column
diameter_class(exfm20,"dbh", "transect",10000,10,10,"scientific.name",
cc_to_column=TRUE,G_to_cc=FALSE) %&gt;% 
head(10)


# Volume
# Volume per ha per diameter class
diameter_class(exfm20,"dbh", "transect", 10000, 10, 10, "scientific.name",volume = "vol") %&gt;% 
head(10)

# Volume per ha per diameter class, with each diameter class as a column
diameter_class(exfm20,"dbh","transect",10000,10,10,"scientific.name","vol",cc_to_column=TRUE) %&gt;% 
head(10)

</code></pre>

<hr>
<h2 id='dom_height'>Calculate the dominant height of forest inventory data plots</h2><span id='topic+dom_height'></span>

<h3>Description</h3>

<p>This function is used to get a data frame with Dominant height values for each plot
in an forest inventory data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dom_height(
  df,
  th,
  dbh,
  plot,
  obs,
  dom,
  .groups,
  merge_data = FALSE,
  dh_name = "DH"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dom_height_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_th">th</code></td>
<td>
<p>Quoted name of the total height variable.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable. Used to filter out trees with no diameter measurement.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_plot">plot</code></td>
<td>
<p>Quoted name of the plot variable. used to differentiate the data's plots. If this argument is missing, the defined groups in the data frame will be used, If there are no groups in the data, the function will fail.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_obs">obs</code></td>
<td>
<p>Quoted name of the observations variable. This will be used to tell which trees are dominant, i.e. it's the variable that tells the type of tree; if it is normal, dominant, suppressed, etc. If this argument is not supplied, the function will calculate the average value of 2 trees with bigger height values in each plot, and use that as the dominant value.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_dom">dom</code></td>
<td>
<p>Character value for the dominant tree code used in the observations variable variable supplied  in the <code>obs</code> argument. This is used alongside the <code>obs</code> argument to differentiate dominant trees from the others.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables that can be added to differentiate subdivisions of the data. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_merge_data">merge_data</code></td>
<td>
<p>If <code>TRUE</code>, will merge the original data frame with the dominant height table. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="dom_height_+3A_dh_name">dh_name</code></td>
<td>
<p>Character value for the name of the dominant height variable created. Default: <code>"DH"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the the dominant height values by plot.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm9")
head(exfm9)

# Let's say we need to get the dominant height (DH) values for a forest inventory data.
# If we don't have a variable that tells which trees are dominant, it's ok. We can
# still estimate DH using this function. It will average the top 2 trees of each plot:
dom_height(df=exfm9,th="TH",dbh="DBH",plot="PLOT")

# Of course, if we do have a variable that differentiate the dominant trees, it's
# best we use it. For that we use the obs argument, and the dom argument.
# In this data, the OBS variable is used to tell the type of tree.
# Let's check the levels in our OBS variable, to see which one is associated 
# with dominant trees.

levels(as.factor(exfm9$OBS))

# So, the "D" level must be the one that tells which trees are dominant. Let's use it: 
dom_height(df=exfm9,th="TH",dbh="DBH",plot="PLOT",obs="OBS",dom="D")

# If there are subdivisions of the data, like different strata, they can be included in the
# .groups argument: 
dom_height(df=exfm9,th="TH",dbh="DBH",plot="PLOT",obs="OBS",dom="D",.groups="STRATA")

# It's possible to automatically bind the dominant heights table to the original data, 
# using the merge_data argument:

dom_height(df=exfm9,th="TH",dbh="DBH",plot="PLOT",obs="OBS",
dom="D",.groups="STRATA", merge_data=TRUE)

</code></pre>

<hr>
<h2 id='est_clutter'>Estimate future and present basal area, volume, TCA, CMI and MMI values of the Clutter Growth and Yield Model</h2><span id='topic+est_clutter'></span>

<h3>Description</h3>

<p>This function estimates the present the present value of basal area for each class
using either the class mean, or a linear quadratic model, and then uses it's value to calculate
the basal area from Clutter's growth and yield model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>est_clutter(
  df,
  age,
  basal_area,
  site,
  category,
  coeffs,
  method = "average",
  annual_increment = FALSE,
  gray_scale = TRUE,
  output = "table"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="est_clutter_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_age">age</code></td>
<td>
<p>A numeric vector with the desired age range to be used in the estimation, or a Quoted name for the age variable.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_basal_area">basal_area</code></td>
<td>
<p>Quoted name for the basal area variable.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_site">site</code></td>
<td>
<p>Quoted name for the average site variable.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_category">category</code></td>
<td>
<p>Quoted name for the category variable.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_coeffs">coeffs</code></td>
<td>
<p>Numeric vector or a data frame with the fitted values of Clutter's growth and yield model. It must be a named vector, with b0,b1,b2,b3,a0 and a1 as names. a1 is not obligatory.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_method">method</code></td>
<td>
<p>Method used for estimating the present basal area of each class. It can either be the class' average basal area <code>"average"</code>, or an estimated value from a linear quadratic model of site as a function of basal area <code>"model"</code>. Default: <code>"average"</code>.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_annual_increment">annual_increment</code></td>
<td>
<p>If <code>TRUE</code>, changes the labels from Mean Monthly Increment (MMI) and Current Monthly Increment (CMI) to Mean Annual Increment (MAI) and Current Annual Increment (CAI). Default <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_gray_scale">gray_scale</code></td>
<td>
<p>If <code>TRUE</code>, the plot will be rendered in a gray scale. Default: <code>"TRUE"</code>.</p>
</td></tr>
<tr><td><code id="est_clutter_+3A_output">output</code></td>
<td>
<p>Type of output the function should return. This can either be <code>"plot"</code>, for the estimation plots, <code>"table"</code>, for a data frame with the estimated values, and <code>"full"</code> for a list with the plot and 2 more data frames. <code>"table"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, a ggplot object or a list, according to output.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>See Also</h3>

<p>other sampling functions: 
<code><a href="#topic+fit_clutter">fit_clutter</a></code> for fitting the clutter growth and Yield model, and
<code><a href="#topic+classify_site">classify_site</a></code> for classifying data according to site.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(forestmangr)
data("exfm17")
head(exfm17)

clutter &lt;- fit_clutter(exfm17, "age", "DH", "B", "V", "S", "plot")
clutter

# Classify data into 3 classes:
ex_class &lt;- classify_site(exfm17, "S", 3, "plot")
head(ex_class ,15)

# Estimate basal area using the average basal area as the initial basal area,
# volume,  Mean Monthly Increment (MMI) and Current Monthly Increment (CMI)
# values using Clutter's model:
est_clutter(ex_class,20:125, "B","S","category_",clutter,"average")

# For a more detailed output, including a plot, use output="full":
est_clutter(ex_class,20:125, "B","S","category_",clutter, output="full")

# Estimate basal area using an estimated basal area as the initial basal area:
est_clutter(ex_class,20:125,"B","S","category_",clutter,"model") 

# age can be a variable:
est_clutter(ex_class,"age","B","S","category_", clutter,"model")  
  
</code></pre>

<hr>
<h2 id='exfm1'>Stratified random inventory pilot data</h2><span id='topic+exfm1'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm1)
</code></pre>


<h3>Format</h3>

<p>A data frame with 22 observations and 4 variables:
</p>

<dl>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>VWB_m3ha</dt><dd><p>volume with bark, in cubic meters per hectare</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Source</h3>

<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>

<hr>
<h2 id='exfm10'>Inventory data of an eucalyptus forest Brazil with dominant height variable</h2><span id='topic+exfm10'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm10)
</code></pre>


<h3>Format</h3>

<p>A data frame with 900 observations and 14 variables:
</p>

<dl>
<dt>MAP</dt><dd><p>map numbers</p>
</dd>
<dt>PROJECT</dt><dd><p>project number</p>
</dd>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>GENCODE</dt><dd><p>genetic code of plots</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLANTING_DATE</dt><dd><p>date of planting</p>
</dd>
<dt>SPACING</dt><dd><p>Spacing used in the plots, in meters</p>
</dd>
<dt>PLOT</dt><dd><p>plot number</p>
</dd>
<dt>MEASUREMENT_DATE</dt><dd><p>date of measurement</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>PIT</dt><dd><p>pit number</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>OBS</dt><dd><p>quality of trees, N = normal tree, D = dominant tree, F = a failure, or dead tree</p>
</dd>
<dt>DH</dt><dd><p>dominant height, in meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm11'>Observed hieght values of trees, and estimated values using 3 different models</h2><span id='topic+exfm11'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm11)
</code></pre>


<h3>Format</h3>

<p>A data frame with 199 observations and 6 variables:
</p>

<dl>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>PLOT</dt><dd><p>plot number</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>TH_EST1</dt><dd><p>total estimated height with model 1, in meters</p>
</dd>
<dt>TH_EST2</dt><dd><p>total estimated height with model 2, in meters</p>
</dd>
<dt>TH_EST3</dt><dd><p>total estimated height with model 3, in meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm12'>Inventory data of an eucalyptus forest in Brazil, with age and site variables</h2><span id='topic+exfm12'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot. The site was estimated using the Chapman &amp; Richards model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm12)
</code></pre>


<h3>Format</h3>

<p>A data frame with 139 observations and 8 variables:
</p>

<dl>
<dt>strata</dt><dd><p>stratum number</p>
</dd>
<dt>plot</dt><dd><p>plot number</p>
</dd>
<dt>age</dt><dd><p>average age of plots, in months</p>
</dd>
<dt>DH</dt><dd><p>dominant height, in meters</p>
</dd>
<dt>N</dt><dd><p>number of individuals</p>
</dd>
<dt>V</dt><dd><p>volume of trees, in cubic meters</p>
</dd>
<dt>B</dt><dd><p>basal area, in square meters</p>
</dd>
<dt>S</dt><dd><p>site variable, in meters</p>
</dd>   
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm13'>Experimental data on nitrogen effect in species fertilizing</h2><span id='topic+exfm13'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm13)
</code></pre>


<h3>Format</h3>

<p>A data frame with 36 observations and 7 variables:
</p>

<dl>
<dt>species</dt><dd><p>species common name</p>
</dd>
<dt>trat</dt><dd><p>treatment number</p>
</dd>
<dt>esp</dt><dd><p>species number</p>
</dd>
<dt>N</dt><dd><p>quantity of nitrogen used, in grams</p>
</dd>
<dt>N2</dt><dd><p>squared quantity of nitrogen used, in squared grams</p>
</dd>
<dt>block</dt><dd><p>block number</p>
</dd>
<dt>dbh</dt><dd><p>diameter at breast height, in meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm14'>Inventory data of an eucalyptus forest in Brazil, with age and dominant height variables</h2><span id='topic+exfm14'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm14)
</code></pre>


<h3>Format</h3>

<p>A data frame with 859 observations and 4 variables:
</p>

<dl>
<dt>strata</dt><dd><p>stratum number</p>
</dd>
<dt>plot</dt><dd><p>plot number</p>
</dd>
<dt>age</dt><dd><p>average age of plots, in months</p>
</dd>
<dt>dh</dt><dd><p>dominant height, in meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm15'>Simplified Inventory data of an eucalyptus forest in Brazil</h2><span id='topic+exfm15'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm15)
</code></pre>


<h3>Format</h3>

<p>A data frame with 900 observations and 7 variables:
</p>

<dl>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLOT</dt><dd><p>plot number</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>OBS</dt><dd><p>quality of trees, N = normal tree, D = dominant tree, F = a failure, or dead tree</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm16'>Inventory data of an eucalyptus forest in Brazil, with age variable</h2><span id='topic+exfm16'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm16)
</code></pre>


<h3>Format</h3>

<p>A data frame with 139 observations and 8 variables:
</p>

<dl>
<dt>strata</dt><dd><p>stratum number</p>
</dd>
<dt>plot</dt><dd><p>plot number</p>
</dd>
<dt>age</dt><dd><p>average age of plots, in months</p>
</dd>
<dt>DH</dt><dd><p>dominant height, in meters</p>
</dd>
<dt>N</dt><dd><p>number of individuals</p>
</dd>
<dt>V</dt><dd><p>volume of trees, in cubic meters</p>
</dd>
<dt>B</dt><dd><p>basal area, in square meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm17'>Inventory data of an eucalyptus forest in Brazil, with age and site variables</h2><span id='topic+exfm17'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot. The site was estimated using the Schumacher model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm17)
</code></pre>


<h3>Format</h3>

<p>A data frame with 139 observations and 8 variables:
</p>

<dl>
<dt>strata</dt><dd><p>stratum number</p>
</dd>
<dt>plot</dt><dd><p>plot number</p>
</dd>
<dt>age</dt><dd><p>average age of plots, in months</p>
</dd>
<dt>DH</dt><dd><p>dominant height, in meters</p>
</dd>
<dt>N</dt><dd><p>number of individuals</p>
</dd>
<dt>V</dt><dd><p>volume of trees, in cubic meters</p>
</dd>
<dt>B</dt><dd><p>basal area, in square meters</p>
</dd>
<dt>S</dt><dd><p>site variable, in meters</p>
</dd>   
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm18'>Experimental data on nitrogen effect in species fertilizing</h2><span id='topic+exfm18'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm18)
</code></pre>


<h3>Format</h3>

<p>A data frame with 877 observations and 6 variables:
</p>

<dl>
<dt>Plot</dt><dd><p>plot number</p>
</dd>
<dt>Species</dt><dd><p>species scientific name</p>
</dd>
<dt>Tree</dt><dd><p>tree number</p>
</dd>
<dt>Trunk</dt><dd><p>trunk number</p>
</dd>
<dt>CBH</dt><dd><p>circumference at breast height, in meters</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm19'>Volume of felled trees, measured in the Smalian method</h2><span id='topic+exfm19'></span>

<h3>Description</h3>

<p>In this data, each observation is a section of a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm19)
</code></pre>


<h3>Format</h3>

<p>A data frame with 16 observations and 3393 variables:
</p>

<dl>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>TREE</dt><dd><p>number of trees</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>CSA</dt><dd><p>cross section area with bark, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>FFWB</dt><dd><p>form factor for each section</p>
</dd>
<dt>FFWB_mean</dt><dd><p>average form vactor value</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm2'>Stratified random inventory definite data</h2><span id='topic+exfm2'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm2)
</code></pre>


<h3>Format</h3>

<p>A data frame with 57 observations and 4 variables:
</p>

<dl>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>VWB_m3ha</dt><dd><p>volume with bark, in cubic meters per hectare</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Source</h3>

<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>

<hr>
<h2 id='exfm20'>Inventory data of a natural forest in Brazil</h2><span id='topic+exfm20'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm20)
</code></pre>


<h3>Format</h3>

<p>A data frame with 12295 observations and 18 variables:
</p>

<dl>
<dt>cod</dt><dd><p>area code</p>
</dd>
<dt>transect</dt><dd><p>plot number</p>
</dd>
<dt>tree</dt><dd><p>tree number</p>
</dd>
<dt>common.name</dt><dd><p>species common name</p>
</dd>
<dt>scientific.name</dt><dd><p>species scientific name</p>
</dd>
<dt>family</dt><dd><p>species family name</p>
</dd>
<dt>dbh</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>canopy.pos</dt><dd><p>canopy position</p>
</dd>
<dt>light</dt><dd><p>level of light received by the tree</p>
</dd>
<dt>dead</dt><dd><p>tells if the tree is dead or not</p>
</dd>
<dt>Hcom</dt><dd><p>commercial height, in meters</p>
</dd>
<dt>Htot</dt><dd><p>total height, in meters</p>
</dd>
<dt>date</dt><dd><p>date of measurement</p>
</dd>
<dt>utm.east</dt><dd><p>utm east position value</p>
</dd>
<dt>utm.north</dt><dd><p>utm north position value</p>
</dd>
<dt>vol</dt><dd><p>volume of trees, in cubic meters</p>
</dd>
<dt>plot.area</dt><dd><p>plot area, in square meters</p>
</dd>
<dt>total.area</dt><dd><p>total area, in hectares</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm21'>Inventory data of an eucalyptus forest in Brazil</h2><span id='topic+exfm21'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm21)
</code></pre>


<h3>Format</h3>

<p>A data frame with 900 observations and 13 variables:
</p>

<dl>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLOT</dt><dd><p>plot number</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>OBS</dt><dd><p>quality of trees, N = normal tree, D = dominant tree, F = a failure, or dead tree</p>
</dd>
<dt>DH</dt><dd><p>dominant height, in meters</p>
</dd>
<dt>TH_EST</dt><dd><p>estimated total height, in meters</p>
</dd>
<dt>CSA</dt><dd><p>cross sectional area, in square meters</p>
</dd>
<dt>AGE</dt><dd><p>average age of plots, in months</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>VWOB</dt><dd><p>volume without bark, in cubic meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm22'>Revenue data if an eucalyptus forest</h2><span id='topic+exfm22'></span>

<h3>Description</h3>

<p>In this data, each observation is the year's revenue.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm22)
</code></pre>


<h3>Format</h3>

<p>A data frame with 8 observations and 3 variables:
</p>

<dl>
<dt>year</dt><dd><p>Revenue year</p>
</dd>
<dt>cost</dt><dd><p>cost values for that year, in dollars</p>
</dd>
<dt>revenue</dt><dd><p>revenue values for that year, in dollars</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm3'>Simple random inventory pilot data</h2><span id='topic+exfm3'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm3)
</code></pre>


<h3>Format</h3>

<p>A data frame with 10 observations and 3 variables:
</p>

<dl>
<dt>TOTAL_AREA</dt><dd><p>total area, in hectares</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>VWB_m3ha</dt><dd><p>volume with bark, in cubic meters per hectare</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Source</h3>

<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>

<hr>
<h2 id='exfm4'>Simple random inventory definite data</h2><span id='topic+exfm4'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm4)
</code></pre>


<h3>Format</h3>

<p>A data frame with 25 observations and 3 variables:
</p>

<dl>
<dt>TOTAL_AREA</dt><dd><p>total area, in hectares</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Source</h3>

<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>

<hr>
<h2 id='exfm5'>Systematic inventory data</h2><span id='topic+exfm5'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm5)
</code></pre>


<h3>Format</h3>

<p>A data frame with 18 observations and 3 variables:
</p>

<dl>
<dt>TOTAL_AREA</dt><dd><p>total area, in hectares</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>VWB_m3ha</dt><dd><p>volume with bark, in cubic meters per hectare</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Source</h3>

<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>

<hr>
<h2 id='exfm6'>Stratified random inventory definite data 2</h2><span id='topic+exfm6'></span>

<h3>Description</h3>

<p>In this data, each observation is a plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm6)
</code></pre>


<h3>Format</h3>

<p>A data frame with 10 observations and 14 variables:
</p>

<dl>
<dt>GENCODE</dt><dd><p>genetic code of plots</p>
</dd>
<dt>MAP</dt><dd><p>map numbers</p>
</dd>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>PLOT</dt><dd><p>plot number</p>
</dd>
<dt>AGE</dt><dd><p>average age of plots, in months</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>q</dt><dd><p>quadratic diameter, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>DH</dt><dd><p>dominant height, in meters</p>
</dd>
<dt>G</dt><dd><p>basal area, in square meters</p>
</dd>
<dt>VWB</dt><dd><p>volume with bark, in cubic meters</p>
</dd>
<dt>VWB_m3ha</dt><dd><p>volume with bark, in cubic meters per hectare</p>
</dd>
<dt>VWOB</dt><dd><p>volume without bark, in cubic meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm7'>Data of felled trees sections, measured in the Smalian method</h2><span id='topic+exfm7'></span>

<h3>Description</h3>

<p>In this data, each observation is a section of a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm7)
</code></pre>


<h3>Format</h3>

<p>A data frame with 11 observations and 3393 variables:
</p>

<dl>
<dt>MAP</dt><dd><p>map numbers</p>
</dd>
<dt>PROJECT</dt><dd><p>Project's name</p>
</dd>
<dt>SPACING</dt><dd><p>Spacing used in the plots, in meters</p>
</dd>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>GENCODE</dt><dd><p>genetic code of plots</p>
</dd>
<dt>TREE</dt><dd><p>number of trees</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>hi</dt><dd><p>height of sections, in meters</p>
</dd>
<dt>di_wb</dt><dd><p>diameter of sections with bark, in centimeters</p>
</dd>
<dt>bark_t</dt><dd><p>bark of thickness, in millimeters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm8'>Data of felled trees sections, measured in the Huber method</h2><span id='topic+exfm8'></span>

<h3>Description</h3>

<p>In this data, each observation is a section of a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm8)
</code></pre>


<h3>Format</h3>

<p>A data frame with 10 observations and 596 variables:
</p>

<dl>
<dt>CLONE</dt><dd><p>Clone number</p>
</dd>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>TREE</dt><dd><p>number of trees</p>
</dd>
<dt>LOG</dt><dd><p>log number</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>hi</dt><dd><p>height of sections, in meters</p>
</dd>
<dt>di_wb</dt><dd><p>diameter of sections with bark, in centimeters</p>
</dd>
<dt>bark_t</dt><dd><p>bark of thickness, in millimeters</p>
</dd>
<dt>sec_length</dt><dd><p>section length, in meters</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='exfm9'>Inventory data of an eucalyptus forest in minas gerais, Brazil</h2><span id='topic+exfm9'></span>

<h3>Description</h3>

<p>In this data, each observation is a tree.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(exfm9)
</code></pre>


<h3>Format</h3>

<p>A data frame with 900 observations and 14 variables:
</p>

<dl>
<dt>MAP</dt><dd><p>map numbers</p>
</dd>
<dt>PROJECT</dt><dd><p>project number</p>
</dd>
<dt>STRATA</dt><dd><p>stratum number</p>
</dd>
<dt>GENCODE</dt><dd><p>genetic code of plots</p>
</dd>
<dt>STRATA_AREA</dt><dd><p>area of each strata, in hectares</p>
</dd>
<dt>PLANTING_DATE</dt><dd><p>date of planting</p>
</dd>
<dt>SPACING</dt><dd><p>Spacing used in the plots, in meters</p>
</dd>
<dt>PLOT</dt><dd><p>plot number</p>
</dd>
<dt>MEASUREMENT_DATE</dt><dd><p>date of measurement</p>
</dd>
<dt>PLOT_AREA</dt><dd><p>area of plots, in square meters</p>
</dd>
<dt>PIT</dt><dd><p>pit number</p>
</dd>
<dt>DBH</dt><dd><p>diameter at breast height, in meters</p>
</dd>
<dt>TH</dt><dd><p>total height, in meters</p>
</dd>
<dt>OBS</dt><dd><p>quality of trees, N = normal tree, D = dominant tree, F = a failure, or dead tree</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>

<hr>
<h2 id='fit_clutter'>Fit the Clutter model for growth and yield</h2><span id='topic+fit_clutter'></span>

<h3>Description</h3>

<p>Fit the Clutter model for growth and yield using the two stage least squares method (2SLS).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fit_clutter(
  df,
  age,
  dh,
  basal_area,
  volume,
  site,
  plot,
  .groups = NA,
  model = "full",
  keep_model = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fit_clutter_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_age">age</code></td>
<td>
<p>Quoted name for the age variable.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_dh">dh</code></td>
<td>
<p>Quoted name for the dominant height variable.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_basal_area">basal_area</code></td>
<td>
<p>Quoted name for the basal area variable.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_volume">volume</code></td>
<td>
<p>Quoted name for the volume area variable.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_site">site</code></td>
<td>
<p>Quoted name for the site variable.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_plot">plot</code></td>
<td>
<p>Quoted name for the plot variable.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables used to fit multiple regressions, one for each level of the provided variable(s). Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_model">model</code></td>
<td>
<p>Character variable for the type of the model fitted. If <code>"full"</code>, the full model will be used. if <code>"mod"</code>, a modified model will be fitted, where the X3 variable is excluded from the regression. Default: <code>full</code>.</p>
</td></tr>
<tr><td><code id="fit_clutter_+3A_keep_model">keep_model</code></td>
<td>
<p>If <code>TRUE</code> a variable with the regression model will be kept in the data frame. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the regression coefficients.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Clutter, J. L. (1963) Compatible Growth For Loblolly by the Southeastern, Forest Science, 9(3), pp. 354–371.
Sullivan, A. D. and Clutter, J. L. (1972) A Simultaneous Growth and Yield for Loblolly Pine, Forest Science, 18(1), pp. 76–86.
Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>other sampling functions: 
<code><a href="#topic+est_clutter">est_clutter</a></code> for estimating the Clutter growth and yield model variables, and
<code><a href="#topic+classify_site">classify_site</a></code> for classifying data according to site.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(forestmangr)
data("exfm17")
head(exfm17)

# To fit the Clutter model we just need to define the data, and age, dominant height,
# basal area, volume, site and plot variables:
fit_clutter(exfm17, "age", "DH", "B", "V", "S", "plot")

# To fit the alternate model (without a1) just use model="mod":
fit_clutter(exfm17, "age", "DH", "B", "V", "S", "plot",model="mod")

# To keep the regression model, use keep_model=TRUE:
fit_clutter(exfm17, "age", "DH", "B", "V", "S", "plot", keep_model=TRUE) 
             
</code></pre>

<hr>
<h2 id='forest_structure'>Get the forest horizontal, vertical and internal structure</h2><span id='topic+forest_structure'></span>

<h3>Description</h3>

<p>This function calculates the horizontal structure of a given forest inventory data,
with information like absolute frequency, relative frequency, absolute density,
relative density, absolute dominance, relative dominance, importance value index, and coverage
value index. If additional variables are supplied, the vertical and internal structures are
also provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>forest_structure(
  df,
  species,
  dbh,
  plot,
  plot_area,
  vertical_est = NA,
  internal_est = NA,
  NI_label = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="forest_structure_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_species">species</code></td>
<td>
<p>Quoted name of the scientific names variable, or any variable used to differentiate the different species found in data.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable, in cm.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_plot">plot</code></td>
<td>
<p>Quoted name of the plot variable. used to differentiate the plot's trees, and calculate the number of sampled plots.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_plot_area">plot_area</code></td>
<td>
<p>Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_vertical_est">vertical_est</code></td>
<td>
<p>Optional argument. Quoted name of the vertical strata variable, or the height variable. If this is a factor variable, it's levels will be used to classify the forest vertically. If it's a height variable, the vertical strata will be created based on it's mean and standard deviation values. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_internal_est">internal_est</code></td>
<td>
<p>Optional argument. Quoted name of the internal strata variable. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="forest_structure_+3A_ni_label">NI_label</code></td>
<td>
<p>Label used for Species not identified. This parameter works along with species. The level supplied here will not be considered in the classification. Default <code>""</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with the forest's structure.
</p>


<h3>Author(s)</h3>

<p>Eric Bastos Gorgens <a href="mailto:e.gorgens@gmail.com">e.gorgens@gmail.com</a>
</p>


<h3>References</h3>

<p>Souza, A. L. and Soares, C. P. B. (2013) Florestas Nativas: estrutura, dinamica e manejo. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm20")
head(exfm20)

# Get the forest's horizontal structure:
forest_structure(exfm20, "scientific.name", "dbh", "transect", 10000)

# area plot as a variable name:
forest_structure(exfm20, "scientific.name", "dbh", "transect", "plot.area") 

# Get the forest's horizontal and vertical structure.
# The vertical structure variable can either be the height variable,
# or a factor variable with the horizontal strata:
forest_structure(exfm20, "scientific.name", "dbh", "transect", 10000, "canopy.pos") 

# Get the forest's horizontal, vertical and internal structure:
forest_structure(exfm20, "scientific.name", "dbh", "transect", 10000, "canopy.pos", "light") 

</code></pre>

<hr>
<h2 id='graybill_f'>Graybill F Test</h2><span id='topic+graybill_f'></span>

<h3>Description</h3>

<p>Hypothesis test as described by Graybill (1976).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>graybill_f(df, Y1, Yj, signif = 0.05, output = "simple")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="graybill_f_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="graybill_f_+3A_y1">Y1</code></td>
<td>
<p>Quoted name of the standard variable.</p>
</td></tr>
<tr><td><code id="graybill_f_+3A_yj">Yj</code></td>
<td>
<p>Quoted name of the proposed variable.</p>
</td></tr>
<tr><td><code id="graybill_f_+3A_signif">signif</code></td>
<td>
<p>Numeric value for the significance level used in the test. Default: <code>0.05</code>.</p>
</td></tr>
<tr><td><code id="graybill_f_+3A_output">output</code></td>
<td>
<p>Defines the type of output. If <code>"simple"</code>, a simple data frame is created, with only essential information about the test. If <code>"table"</code>, more information is provided, and if <code>"full"</code>, a data frame with informations about the test and both variables is created. Default: <code>"simple"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This test is used to compare two variables, usually a proposed method,
and a standard variable.This test is popular among forestry engineers, 
specially because, since it considers all data in it's analysis, 
it's usually more precise than a standard mean t-test.
If the data has outliers, the mean may not represent the data correctly, so
Graybill F test is specially useful for heterogeneous data.
</p>
<p>A simple model regression is applied, and it's significance is evaluated
by applying Graybill F test for the parameters estimate,
according to the methodology described by Graybill (1976).
</p>


<h3>Value</h3>

<p>A data frame. Its dimensions will vary, according to the <code>output</code> argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>
<p>Graybill, F. A. (1976) Theory and application of the linear model. Massachusets: Ouxburg 239 Press.
</p>
<p>Leite, H. G. and Oliveira, F. H. T. (2006) Statistical procedure to test identity between analytical methods, Communications in Soil Science and Plant Analysis, 33(7–8), pp. 1105–1118.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm11")
head(exfm11)

# The data frame exfm11 contains a height variable called "TH". This will be our
# standard value. We'll compare it to height estimated using different hypsometric equations.
# These are variables "TH_EST1" and "TH_EST2":
graybill_f( exfm11,"TH", "TH_EST1")

# TH_EST1 is statistically different from "TH".

# It's possible to alter the test's significance level using the signif argument:
graybill_f( exfm11,"TH", "TH_EST1", signif = 0.01)

# Different output options are available through the output argument:
graybill_f( exfm11,"TH", "TH_EST2", output="table")
graybill_f( exfm11,"TH", "TH_EST2", output="full")

</code></pre>

<hr>
<h2 id='guide_curve'>Get the guide curve plot for growth and yield analysis of inventory data</h2><span id='topic+guide_curve'></span>

<h3>Description</h3>

<p>Get the guide curve for growth and yield analysis of inventory data
using the factor method, and different statistical models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_curve(
  df,
  dh,
  age,
  age_index,
  n_class = 4,
  model = "Schumacher",
  start_chap = c(b0 = 23, b1 = 0.03, b2 = 1.3),
  start_bailey = c(b0 = 3, b1 = -130, b2 = 1.5),
  round_classes = FALSE,
  font = "serif",
  gray_scale = TRUE,
  output = "plot"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="guide_curve_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_dh">dh</code></td>
<td>
<p>Quoted name for the dominant height variable.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_age">age</code></td>
<td>
<p>Quoted name for the age variable.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_age_index">age_index</code></td>
<td>
<p>Numeric value for the age index.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_n_class">n_class</code></td>
<td>
<p>Numeric value for the number of classes used to divide the data. Default <code>4</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_model">model</code></td>
<td>
<p>model used to fit dh as a function of age. The models available are <code>"Schumacher"</code>, <code>"Curtis"</code>, <code>"Chapman-Richards"</code> and <code>"Bailey-Clutter"</code>. Default: <code>"Schumacher"</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_start_chap">start_chap</code></td>
<td>
<p>Numeric vector with the start values for the Chapman-Richards model. This must be a named vector, with b0, b1 and b2 as parameter names. Default: <code>c(b0=23, b1=0.03, b2 = 1.3)</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_start_bailey">start_bailey</code></td>
<td>
<p>Numeric vector with the start values for the Bailey-Clutter model. This must be a named vector, with b0, b1 and b2 as parameter names. Default: <code>c( b0=3, b1=-130, b2 = 1.5)</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_round_classes">round_classes</code></td>
<td>
<p>If <code>TRUE</code>, class values will be rounded to the nearest 5. Default <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_font">font</code></td>
<td>
<p>Type of font used in the plot. Default: <code>"serif"</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_gray_scale">gray_scale</code></td>
<td>
<p>If <code>TRUE</code>, the plot will be rendered in a gray scale. Default: <code>"TRUE"</code>.</p>
</td></tr>
<tr><td><code id="guide_curve_+3A_output">output</code></td>
<td>
<p>Type of output the function should return. This can either be <code>"plot"</code>, for the guide curve plot, <code>"table"</code>, for a data frame with the data used on the guide curve plot, and <code>"full"</code> for a list with 2 ggplot2 objects, one for residual plot and other for plot curves, a lm object for the regression, a data frame with quality of fit variables, the dominant height index, the class table used, and the table used for the guide curve plot. Default <code>"plot"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, a ggplot object, or a list, varying according to the <code>"output"</code> argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("exfm14")
head(exfm14)

# To get a guide curve plot for this data, we simply need to input
# dominant height and age variables, age index, and number of classes to be used:
guide_curve(exfm14, "dh", "age", 72, 5)

# if we want to get the table used to get the plot, we can choose the output "table":
guide_curve(exfm14, "dh", "age", 72, 5, output = "table")

# Other models are available for use, such as Curtis, Chapman Richards, and Bailey:
# CR and BC models are non linear, and thus need start values. There are default values,
# but they may fail, depending on the data used, so it's recommended to try start values that
# are ideal for the data used:
guide_curve(exfm14, "dh", "age", 72, 5,
 model = "Chapman-Richards", start_chap = c(b0=23, b1=0.03, b2 = 1.3))

# Or, to get more information on the analysis, such as details on the regression,
# bias, rmse, plot for residuals and more (cpu taxing):
## Not run: 
guide_curve(exfm14, "dh", "age", 72, 5, output = "full")

## End(Not run)
</code></pre>

<hr>
<h2 id='huberwb'>Calculate the volume with bark of trees using the Huber method</h2><span id='topic+huberwb'></span>

<h3>Description</h3>

<p>Function used to calculate the volume with bark of trees using the Huber method.
This function has integration with dplyr, so it can be used inside a pipe, along with the
<code>group_by</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>huberwb(df, di, section_length, tree, .groups = NA, di_mm_to_cm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="huberwb_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="huberwb_+3A_di">di</code></td>
<td>
<p>Quoted name of the section diameter  variable, in centimeters.</p>
</td></tr>
<tr><td><code id="huberwb_+3A_section_length">section_length</code></td>
<td>
<p>Quoted name of the section length variable, in meters</p>
</td></tr>
<tr><td><code id="huberwb_+3A_tree">tree</code></td>
<td>
<p>Quoted name of the tree variable. used to differentiate the trees' sections. If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="huberwb_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variables that can be added to differentiate subdivisions of the data. 
If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="huberwb_+3A_di_mm_to_cm">di_mm_to_cm</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the di argument from milliliters to centimeters. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with volume values by section.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>Complementary functions:
<code><a href="#topic+huberwob">huberwob</a></code>, For calculation of volume without bark using the Huber method,
<code><a href="#topic+smalianwb">smalianwb</a></code>, for calculation of volume with bark using the Smalian method,
<code><a href="#topic+smalianwob">smalianwob</a></code>, for calculation of volume without bark the Smalian method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm8")
head(exfm8)

# Calculate the volume with bark using the Huber method:
huberwb(exfm8,"di_wb", "sec_length", "TREE")

# Using pipes:
library(dplyr)

 exfm8 %&gt;% 
 group_by(TREE) %&gt;% 
 huberwb("di_wb", "sec_length")

</code></pre>

<hr>
<h2 id='huberwob'>Calculate the volume without bark of trees using the Huber method</h2><span id='topic+huberwob'></span>

<h3>Description</h3>

<p>Function used to calculate the volume without bark of trees using the Huber method.
This function has integration without dplyr, so it can be used inside a pipe, along with the
<code>group_by</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>huberwob(
  df,
  di,
  section_length,
  bt,
  tree,
  .groups = NA,
  di_mm_to_cm = FALSE,
  bt_mm_to_cm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="huberwob_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="huberwob_+3A_di">di</code></td>
<td>
<p>Quoted name of the section diameter  variable, in centimeters.</p>
</td></tr>
<tr><td><code id="huberwob_+3A_section_length">section_length</code></td>
<td>
<p>Quoted name of the section length variable, in meters</p>
</td></tr>
<tr><td><code id="huberwob_+3A_bt">bt</code></td>
<td>
<p>Quoted name of the bark thickness variable, in centimeters.</p>
</td></tr>
<tr><td><code id="huberwob_+3A_tree">tree</code></td>
<td>
<p>Quoted name of the tree variable. used to differentiate the trees' sections. If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="huberwob_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variables that can be added to differentiate subdivisions of the data. 
If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="huberwob_+3A_di_mm_to_cm">di_mm_to_cm</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the di argument from milliliters to centimeters. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="huberwob_+3A_bt_mm_to_cm">bt_mm_to_cm</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the bt argument from milliliters to centimeters. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with volume values by section.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>Complementary functions:
<code><a href="#topic+huberwb">huberwb</a></code>, For calculation of volume with bark using the Huber method,
<code><a href="#topic+smalianwb">smalianwb</a></code>, for calculation of volume with bark using the Smalian method,
<code><a href="#topic+smalianwob">smalianwob</a></code>, for calculation of volume without bark the Smalian method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm8")
head(exfm8)

# Calculate the volume without bark using the Huber method:
huberwob(exfm8,"di_wb", "sec_length", "bark_t", "TREE")

# Using pipes:
library(dplyr)

 exfm8 %&gt;% 
 group_by(TREE) %&gt;% 
 huberwob("di_wb", "sec_length", "bark_t")

</code></pre>

<hr>
<h2 id='ident_model'>Identity of a Model Test</h2><span id='topic+ident_model'></span>

<h3>Description</h3>

<p>Function for using the Identity of a Model test, as described by Regazzi (1999).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ident_model(
  df,
  factor,
  reduced_model,
  filter = NA,
  gray_scale = TRUE,
  signif = 0.05,
  font = "serif",
  output = "table",
  eq = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ident_model_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_factor">factor</code></td>
<td>
<p>Quoted name of the factor variable used to differentiate the data projects in the test.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_reduced_model">reduced_model</code></td>
<td>
<p>Quoted or unquoted reduced model used in the test.  The variables mentioned in the model must exist in the provided data frame. X and Y sides of the model must be separated by &quot;~&quot;.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_filter">filter</code></td>
<td>
<p>Optional argument. If supplied with levels present in <code>factor</code>, only these levels will be used in the test. <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_gray_scale">gray_scale</code></td>
<td>
<p>If <code>TRUE</code> a gray scale will be used in the plots. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_signif">signif</code></td>
<td>
<p>Numeric value for the significance level used in the test. Default: <code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_font">font</code></td>
<td>
<p>font family used in the plots. Can be either <code>"serif"</code> for Times New Roman or <code>"sans"</code> for arial unicode MS. Default: <code>"serif"</code>.</p>
</td></tr>
<tr><td><code id="ident_model_+3A_output">output</code></td>
<td>
<p>Defines the type of output. If <code>"table"</code> an anova table with the identity of model test is provided,</p>
</td></tr>
<tr><td><code id="ident_model_+3A_eq">eq</code></td>
<td>
<p>if <code>TRUE</code>, A model is adjusted and the equation is shown on the plot. Default <code>TRUE</code>
if <code>"plot"</code> a ggplot plot/object representing the test is created,
if <code>"table_plot"</code>, both anova table and plot are provided, and if <code>"full"</code>,
a list is provided, with details on the dummies variables created, the reduced and complete models,
the anova table and the plot. Default: <code>"table"</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, a ggplot object, or a list, varying according to the <code>output</code> argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>
<p>Marcio leles Romarco de Oliveira <a href="mailto:marcioromarco@gmail.com">marcioromarco@gmail.com</a>
</p>


<h3>References</h3>

<p>Regazzi, A. J. (1999) Teste para verificar a identidade de modelos de regressao e a igualdade de parametros no caso de dados de delineamentos experimentais, Ceres, 46(266), pp. 383–409.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm13")
head(exfm13)

# The objective is to know if the diameter's behavior is similar among 3 species.
# For this we'll use a quadratic model. We'll use nitrogen (N) as our X variable.

ident_model(exfm13, "species", dbh ~ N + N2)

# This test shows that there are differences between the species. 
# We can get more details on this using a different output, that will also
# give us a plot:

ident_model(exfm13, "species", dbh ~  N + N2, output = "table_plot",eq=FALSE)

# This gives us only the plot:
ident_model(exfm13, "species", dbh ~  N + N2, output = "table_plot",eq=FALSE)

# And this gives us additional information on the test:
ident_model(exfm13, "species", dbh ~  N + N2, output = "full",eq=FALSE)

# Looking at the plot, it seems that 2 species are behaving very similar, while
# the Pequi species is different from the other 2. We can confirm this by running
# the test in a paired fashion, using the filter argument:

ident_model(exfm13, "species", dbh ~  N + N2,
 filter = c("PEQUI", "SUCUPIRA-PRETA"), output = "table_plot",eq=FALSE)
 
ident_model(exfm13, "species", dbh ~  N + N2, 
filter = c("PEQUI", "VINHATICO"), output = "table_plot",eq=FALSE)

ident_model(exfm13, "species", dbh ~  N + N2, 
filter = c("SUCUPIRA-PRETA", "VINHATICO"), output = "table_plot",eq=FALSE)

# As we imagined, a single model can be used to describe the behavior of
# the "Sucupira-preta" and "Vinhatico" species,
# and a second model is needed to explain the Pequi Variable.

# It's possible to apply a color scale to the plots, and also change it's font to arial:

ident_model(exfm13, "species", dbh ~  N + N2,output="plot",gray_scale=FALSE,font="sans",eq=FALSE)

</code></pre>

<hr>
<h2 id='inv'>Calculate the inverse of a number</h2><span id='topic+inv'></span>

<h3>Description</h3>

<p>This function returns the inverse of a numeric vector.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inv(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="inv_+3A_x">x</code></td>
<td>
<p>A numeric vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is manly used when fitting statistical models.
If one of the variables in a model is an inverse of a vector, the <code>lm</code>
function does not properly compute the variable, if <code>1/vector</code> is inserted directly
in the model, leading to the need of creating a separate variable. This function allows the user to get the inverse
of a given numeric vector inside the model, without the need to create a new variable.
</p>


<h3>Value</h3>

<p>a numeric vector containing the inverse of <code>x</code>.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm15")
head(exfm15)

# Get the inverse of a vector
inv(iris$Petal.Length)

# Fit a model that contains the inverse of a variable, without the need to
# create a new variable for the inverse:
lm(log(TH) ~ inv(DBH), exfm15 )
# or 
lm_table(exfm15, log(TH) ~ inv(DBH) )

</code></pre>

<hr>
<h2 id='lm_resid'>Fit linear regressions, with the option of removing outliers using a interactive plot of residuals.</h2><span id='topic+lm_resid'></span>

<h3>Description</h3>

<p>With this function it's possible to fit linear regressions by a grouping variable, and evaluate each equation via
an interactive plot of residuals, and get a data frame.
with each column as a coefficient and quality of fit variables, and other output options. Works with dplyr grouping functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lm_resid(
  df,
  model,
  output_mode = "table",
  est.name = "est",
  keep_model = FALSE,
  rmoutliers = FALSE,
  fct_to_filter = NA,
  rmlevels = NA,
  onlyfiteddata = FALSE,
  group_print = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lm_resid_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_model">model</code></td>
<td>
<p>A linear regression model, with or without quotes. The variables mentioned in the model must exist in the provided data frame. X and Y sides of the model must be separated by &quot;~&quot;.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_output_mode">output_mode</code></td>
<td>
<p>Selects different output options. Can be either <code>"table"</code>, <code>"merge"</code>, <code>"merge_est"</code> and <code>"nest"</code>. See details for explanations for each option. Default: <code>"table"</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_est.name">est.name</code></td>
<td>
<p>Name of the estimated y value. Used only if <code>est.name = TRUE</code>. Default: <code>"est"</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_keep_model">keep_model</code></td>
<td>
<p>If <code>TRUE</code>, a column containing lm object(s) is kept in the output. Useful if the user desires to get more information on the regression. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_rmoutliers">rmoutliers</code></td>
<td>
<p>If <code>TRUE</code>, outliers are filtered out using the IQR method. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_fct_to_filter">fct_to_filter</code></td>
<td>
<p>Name of a factor or character column to be used as a filter to remove levels. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_rmlevels">rmlevels</code></td>
<td>
<p>Levels of the fct_to_filter variable to be removed from the fit Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_onlyfiteddata">onlyfiteddata</code></td>
<td>
<p>If <code>TRUE</code>, the output data will be the same as the fitted (and possibly filtered) data. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_+3A_group_print">group_print</code></td>
<td>
<p>This argument is only used internally by another function. Please ignore.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>this function uses lm_table as a basis, but calls a plot of residuals for each fitted model, for the user to evaluate. If
one decides to remove any of the points, one can click and drag, and then click on the 'remove points' button. After that,
one must simply click 'done' and the coefficients will be printed out.
</p>
<p>It's possible to use the <code>output</code> argument to get a merged table if <code>output="merge"</code>, that binds
the original data frame and the fitted coefficients. 
If <code>output="merge_est"</code> we get a merged table as well, but with y estimated using the coefficients. If the fit is made using groups, this is taken into account, i.e. the estimation is made by group.
</p>
<p>If <code>output="nest"</code>, a data frame with nested columns is provided. This can be used if the user desires to get a customized output.
</p>


<h3>Value</h3>

<p>A data frame. Different data frame options are available using the output argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive() ){
  library(forestmangr)
  library(dplyr)

  data("exfm19")

  # Fit SH model:
  lm_resid(exfm19, log(VWB) ~  log(DBH) + log(TH))

}

</code></pre>

<hr>
<h2 id='lm_resid_group'>Fit linear regressions by group, with the option of removing outliers using a interactive plot of residuals.</h2><span id='topic+lm_resid_group'></span>

<h3>Description</h3>

<p>With this function it's possible to fit linear regressions by a grouping variable, and evaluate each equation via
a interactive plot of residuals, and get a data frame.
with each column as a coefficient and quality of fit variables, and other output options. Works with dplyr grouping functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lm_resid_group(
  df,
  model,
  .groups = NA,
  output_mode = "table",
  est.name = "est",
  keep_model = FALSE,
  rmoutliers = FALSE,
  fct_to_filter = NA,
  rmlevels = NA,
  onlyfiteddata = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lm_resid_group_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_model">model</code></td>
<td>
<p>A linear regression model, with or without quotes. The variables mentioned in the model must exist in the provided data frame. X and Y sides of the model must be separated by &quot;~&quot;.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_.groups">.groups</code></td>
<td>
<p>Quoted name(s) of grouping variables used to fit multiple regressions, one for each level of the provided variable(s). Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_output_mode">output_mode</code></td>
<td>
<p>Selects different output options. Can be either <code>"table"</code>, <code>"merge"</code>, <code>"merge_est"</code> and <code>"nest"</code>. See details for explanations for each option. Default: <code>"table"</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_est.name">est.name</code></td>
<td>
<p>Name of the estimated y value. Used only if <code>est.name = TRUE</code>. Default: <code>"est"</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_keep_model">keep_model</code></td>
<td>
<p>If <code>TRUE</code>, a column containing lm object(s) is kept in the output. Useful if the user desires to get more information on the regression. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_rmoutliers">rmoutliers</code></td>
<td>
<p>If <code>TRUE</code>, outliers are filtered out using the IQR method. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_fct_to_filter">fct_to_filter</code></td>
<td>
<p>Name of a factor or character column to be used as a filter to remove levels. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_rmlevels">rmlevels</code></td>
<td>
<p>Levels of the fct_to_filter variable to be removed from the fit Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_resid_group_+3A_onlyfiteddata">onlyfiteddata</code></td>
<td>
<p>If <code>TRUE</code>, the output data will be the same as the fitted (and possibly filtered) data. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>this function uses lm_table as a basis, but calls a plot of residuals for each fitted model, for the user to evaluate. If
one decides to remove any of the points, one can click and drag, and then click on the 'remove points' button. After that,
one must simply click 'done' and the coefficients will be printed out.
</p>
<p>It's possible to use the <code>output</code> argument to get a merged table if <code>output="merge"</code>, that binds
the original data frame and the fitted coefficients. 
If <code>output="merge_est"</code> we get a merged table as well, but with y estimated using the coefficients. If the fit is made using groups, this is taken into account, i.e. the estimation is made by group.
</p>
<p>If <code>output="nest"</code>, a data frame with nested columns is provided. This can be used if the user desires to get a customized output.
</p>


<h3>Value</h3>

<p>A data frame. Different data frame options are available using the output argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive() ){
  library(forestmangr)
  library(dplyr)

  data("exfm19")

  # Fit SH model by group:
  lm_resid_group(exfm19, log(VWB) ~  log(DBH) + log(TH), "STRATA")

}

</code></pre>

<hr>
<h2 id='lm_table'>Fit linear regressions by group, and get different output options.</h2><span id='topic+lm_table'></span>

<h3>Description</h3>

<p>With this function it's possible to fit linear regressions by a grouping variable, and get a data frame
with each column as a coefficient and quality of fit variables, and other output options. Works with dplyr grouping functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lm_table(
  df,
  model,
  .groups = NA,
  output = "table",
  est.name = "est",
  keep_model = FALSE,
  rmoutliers = FALSE,
  fct_to_filter = NA,
  rmlevels = NA,
  boolean_filter = NA,
  onlyfiteddata = FALSE,
  del_boolean = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lm_table_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_model">model</code></td>
<td>
<p>A linear regression model, with or without quotes. The variables mentioned in the model must exist in the provided data frame. X and Y sides of the model must be separated by &quot;~&quot;.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables used to fit multiple regressions, one for each level of the provided variable(s). Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_output">output</code></td>
<td>
<p>Selects different output options. Can be either <code>"table"</code>, <code>"merge"</code>, <code>"merge_est"</code> and <code>"nest"</code>. See details for explanations for each option. Default: <code>"table"</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_est.name">est.name</code></td>
<td>
<p>Name of the estimated y value. Used only if <code>est.name = TRUE</code>. Default: <code>"est"</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_keep_model">keep_model</code></td>
<td>
<p>If <code>TRUE</code>, a column containing lm object(s) is kept in the output. Useful if the user desires to get more information on the regression. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_rmoutliers">rmoutliers</code></td>
<td>
<p>If <code>TRUE</code>, outliers are filtered out using the IQR method. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_fct_to_filter">fct_to_filter</code></td>
<td>
<p>Name of a factor or character column to be used as a filter to remove levels. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_rmlevels">rmlevels</code></td>
<td>
<p>Levels of the fct_to_filter variable to be removed from the fit Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_boolean_filter">boolean_filter</code></td>
<td>
<p>Name of a Boolean column to be used as a filter to remove data. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_onlyfiteddata">onlyfiteddata</code></td>
<td>
<p>If <code>TRUE</code>, the output data will be the same as the fitted (and possibly filtered) data. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="lm_table_+3A_del_boolean">del_boolean</code></td>
<td>
<p>If <code>TRUE</code>, the Boolean column supplied will be deleted after use. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>With this function there's no more need to use the <code>do</code> function when fitting a linear regression in a pipe line.
It's also possible to easily make fit multiple regressions, specifying a grouping variable.
In addition to that, the default output sets each coefficient as a column, making it easy to call coefficients by name or position
when estimating values. 
</p>
<p>It's possible to use the <code>output</code> argument to get a merged table if <code>output="merge"</code>, that binds
the original data frame and the fitted coefficients. 
If <code>output="merge_est"</code> we get a merged table as well, but with y estimated using the coefficients. If the fit is made using groups, this is taken into account, i.e. the estimation is made by group.
</p>
<p>If <code>output="nest"</code>, a data frame with nested columns is provided. This can be used if the user desires to get a customized output.
</p>


<h3>Value</h3>

<p>A data frame. Different data frame options are available using the output argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
library(dplyr)

data("exfm19")
head(exfm19)

# Fit Schumacher and Hall model for volume estimation, and get
# coefficient, R2 and error values:

lm_table(exfm19, log(VWB) ~  log(DBH) + log(TH))   

# Fit SH model by group:
lm_table(exfm19, log(VWB) ~  log(DBH) + log(TH), "STRATA")

# This can also be done using dplyr::group_by:
exfm19 %&gt;% 
  group_by(STRATA) %&gt;% 
  lm_table(log(VWB) ~  log(DBH) + log(TH) )
  
# It's possible to merge the original data with the table containg the coefficients
# using the output parameter:
fit &lt;- lm_table(exfm19, log(VWB) ~  log(DBH) + log(TH), "STRATA", output = "merge")
head(fit)

# It's possible to merge the original data with the table,
# and get the estimated values for this model:
fit &lt;- lm_table(exfm19, log(VWB) ~  log(DBH) + log(TH),"STRATA",
 output = "merge_est", est.name = "VWB_EST") 
head(fit)
       
# It's possible to further customize the output,
# unnesting the nested variables provided when output is defined as "nest":
lm_table(exfm19, log(VWB) ~  log(DBH) + log(TH),"STRATA", output = "nest")

</code></pre>

<hr>
<h2 id='na_to_0'>Convert NA to zero on numeric variables</h2><span id='topic+na_to_0'></span>

<h3>Description</h3>

<p>This function Convert NA to zero on numeric variables outside of mutate.
this is used because of dplyr 1.1.0.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>na_to_0(df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="na_to_0_+3A_df">df</code></td>
<td>
<p>A data frame</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm15")
head(exfm15)

# Raise a numeric vector to the power of 2:
pow(iris$Petal.Length, 2)

# Fit a model that contains the dbh squared, without the need to create a new variable:
exfm15 %&gt;% na_to_0()

</code></pre>

<hr>
<h2 id='nls_table'>Fit non-linear regressions by group, using LM algorithm and get different output options.</h2><span id='topic+nls_table'></span>

<h3>Description</h3>

<p>With this function it's possible to fit non-linear regressions using Levenberg-Marquardt or Gauss-Newton algorithms by a grouping variable, and get a data frame
with each column as a coefficient and quality of fit variables, and other output options. Works with dplyr grouping functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>nls_table(
  df,
  model,
  mod_start,
  .groups = NA,
  output = "table",
  est.name = "est",
  replace = FALSE,
  keep_model = FALSE,
  global_start,
  algorithm = "LM"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="nls_table_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_model">model</code></td>
<td>
<p>A linear regression model, with or without quotes. The variables mentioned in the model must exist in the provided data frame. X and Y sides of the model must be separated by &quot;~&quot;.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_mod_start">mod_start</code></td>
<td>
<p>A vector or data frame, with start values for coefficients used in the model. This can be a data frame containing the same group variables used in the .groups argument, and the start values.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables used to fit multiple regressions, one for each level of the provided variable(s). Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_output">output</code></td>
<td>
<p>Selects different output options. Can be either <code>"table"</code>, <code>"merge"</code>, <code>"merge_est"</code> and <code>"nest"</code>. See details for explanations for each option. Default: <code>"table"</code>.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_est.name">est.name</code></td>
<td>
<p>Name of the estimated y value. Used only if <code>est.name = TRUE</code>. Default: <code>"est"</code>.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_replace">replace</code></td>
<td>
<p>If <code>TRUE</code>, models that don't converge on a grouped regression fit will be replaced by coefficients fitted using all data. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_keep_model">keep_model</code></td>
<td>
<p>If <code>TRUE</code>, a column containing lm object(s) is kept in the output. Useful if the user desires to get more information on the regression.Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_global_start">global_start</code></td>
<td>
<p>Optional argument. A vector or data frame, with start values for the global fit regression used when  <code>"replace"</code> is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="nls_table_+3A_algorithm">algorithm</code></td>
<td>
<p>Algorithm to be used in the non-linear regression. It can be <code>"LM"</code> (Levenberg-Marquardt, more robust) or <code>"GN"</code> (Gauss-Newton, less robust, uses nls default algorithm). Default: <code>"LM"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function Levenberg-Marquardt algorithm as default for fitting non-linear regression models.
Also, with this function there no more need to use the <code>do</code> function when fitting a linear regression in a pipe line.
It's also possible to easily make fit multiple regressions, specifying a grouping variable.
In addition to that, the default output sets each coefficient as a column, making it easy to call coefficients by name or position
when estimating values. The Levenberg-Marquardt fit uses <code><a href="minpack.lm.html#topic+nlsLM">nlsLM</a></code>.
</p>


<h3>Value</h3>

<p>A data frame. Different data frame options are available using the output argument.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
library(dplyr)
data("exfm14")
head(exfm14)

# Fit Chapman &amp; Richards non-linear model for dominant Height:
nls_table(exfm14, dh ~ b0 * (1 - exp( -b1 * age )  )^b2, 
          mod_start = c( b0=23, b1=0.03, b2 = 1.3  ) )

# Fit CR model by strata:
nls_table(exfm14,dh ~ b0 * (1 - exp( -b1 * age )  )^b2,
          mod_start = c( b0=23, b1=0.03, b2 = 1.3  ),
          .groups = "strata") %&gt;% 
          as.data.frame
          
# or, using group_by

exfm14 %&gt;% 
group_by(strata) %&gt;% 
nls_table(dh ~ b0 * (1 - exp( -b1 * age )  )^b2,
          mod_start = c( b0=23, b1=0.03, b2 = 1.3  ) )

# If there are multiple start values, for each strata, they can be supplied like so:
tab_coef &lt;- data.frame(strata = c(1:20, 24,25,27,28,30,31,33,35,36,37), 
              rbind(
              data.frame(b0 = rep(23, 20), b1 = rep(0.03, 20), b2 = rep(1.3, 20) ), 
              data.frame(b0 = rep(23, 10), b1 = rep(0.03, 10), b2 = rep(.5, 10) )))

tab_coef

nls_table(exfm14, dh ~ b0 * (1 - exp( -b1 * age )  )^b2, 
          mod_start = tab_coef,
          .groups = "strata" )
# mod_start needs to be a data frame in this case.

# It's possible to bind the coefficients to the original data,
# to estimate y. We'll also estimate bias and rmse for this estimation.

# This can also be done directly using "merge_est" as output:
nls_table(exfm14,dh ~ b0 * (1 - exp( -b1 * age )  )^b2, 
          mod_start = tab_coef ,
          .groups = "strata", 
          output = "merge_est", 
          est.name = "dh_est" ) %&gt;% 
  mutate(
  bias = bias_per(y = dh, yhat = dh_est),
  rmse = rmse_per(y = dh, yhat = dh_est) ) %&gt;% 
  head(15)

# It's possible to further customize the output, using nested columns:
nls_table(exfm14,dh ~ b0 * (1 - exp( -b1 * age )  )^b2, 
          mod_start = tab_coef ,
          .groups = "strata",
          output = "nest" ) 
             
# It's possible to use Gauss-Newton's algorithm. In this case,
# some regressions will not converge.            
 exfm14 %&gt;% 
group_by(strata) %&gt;% 
nls_table(dh ~ b0 * (1 - exp( -b1 * age )  )^b2,
          mod_start = c( b0=23, b1=0.03, b2 = 1.3  ),algorithm="GN" )
         
# If some regressions don't converge, it's possible to fill those NAs with
# regression coefficients from a general fit, using the entire data: 
nls_table(exfm14,dh ~ b0 * (1 - exp( -b1 * age )  )^b2, 
          mod_start = c( b0=23, b1=0.03, b2 = 1.3  ),
          .groups = "strata",
          replace = TRUE,
          algorithm="GN" )

</code></pre>

<hr>
<h2 id='npv_irr'>Calculate Net Present Value and other economic variables</h2><span id='topic+npv_irr'></span>

<h3>Description</h3>

<p>Get the net present value, internal rate of return, and other 
economic variables, given cost and revenue values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>npv_irr(
  df,
  year,
  cost,
  revenue,
  rate,
  output = "full",
  sens_limits = c(1, 30),
  big_mark = ",",
  dec_mark = ".",
  prefix = "$"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="npv_irr_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_year">year</code></td>
<td>
<p>Quoted name of the year variable.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_cost">cost</code></td>
<td>
<p>Quoted name of the costs variable.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_revenue">revenue</code></td>
<td>
<p>Quoted name of the revenue variable.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_rate">rate</code></td>
<td>
<p>Numeric value of the yearly rate to be used.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_output">output</code></td>
<td>
<p>Selects different output options. It can be either <code>"full"</code> for a list containing a sensibility plot and a data frame with a single observation and one column for each variable, or <code>"simple"</code> for a two column data frame with one observation for each calculated variable. Default: <code>"simple"</code>.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_sens_limits">sens_limits</code></td>
<td>
<p>Selects the rate rage used in the sensibility plot. This is a numeric vector with two elements, the initial and final rate to be used as range. These can vary between 0 and 100. Default: <code>c(1,30)</code>.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_big_mark">big_mark</code></td>
<td>
<p>Selects thousands separator. Can be either <code>"."</code>, <code>" "</code> or <code>","</code>. Default: <code>","</code>.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_dec_mark">dec_mark</code></td>
<td>
<p>Selects decimal separator. Can be either <code>","</code> or <code>"."</code>. Default: <code>"."</code>.</p>
</td></tr>
<tr><td><code id="npv_irr_+3A_prefix">prefix</code></td>
<td>
<p>selects the prefix for the y axis in the sensibility plot. Can be either <code>"$"</code> or <code>"R$"</code>. Default: <code>"$"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, or a list, according to output.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
library(forestmangr)
data(exfm22)

npv_irr(exfm22,"year","cost","revenue",rate=8.75)

# To also get a sensibility plot, use

npv_irr(exfm22,"year","cost","revenue",rate=8.75, output="full")

## End(Not run) 
</code></pre>

<hr>
<h2 id='outliersiqr'>Calculate interquartile range</h2><span id='topic+outliersiqr'></span>

<h3>Description</h3>

<p>Calculate interquartile range for a given vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>outliersiqr(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="outliersiqr_+3A_x">x</code></td>
<td>
<p>a vector.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(forestmangr)
outliersiqr(iris$Sepal.Length)

</code></pre>

<hr>
<h2 id='plot_summarise'>Summarize forest inventory data</h2><span id='topic+plot_summarise'></span>

<h3>Description</h3>

<p>Get informations about forest inventory plots, like number of individuals,
mean DBH, q, height, basal area, volume, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_summarise(
  df,
  plot,
  plot_area,
  dbh,
  th,
  .groups,
  total_area,
  vwb,
  vwob,
  dh,
  age,
  dec_places = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_summarise_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_plot">plot</code></td>
<td>
<p>Quoted name of the plot variable. used to differentiate the data's plots. If this argument is missing, the defined groups in the data frame will be used, If there are no groups in the data, the function will fail.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_plot_area">plot_area</code></td>
<td>
<p>Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_dbh">dbh</code></td>
<td>
<p>Optional parameter. Quoted name of the diameter at breast height variable. If supplied, will be used to calculate the mean diameter per plot, quadratic diameter (q), basal area and basal area per hectare. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_th">th</code></td>
<td>
<p>Optional parameter. Quoted name of the total height variable. If supplied, will be used to calculate the mean total height, and the dominant height variable, if the <code>dh</code> is <code>NA</code>. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables that can be added to differentiate subdivisions of the data. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_total_area">total_area</code></td>
<td>
<p>Optional argument. Quoted name of the total area variable, or a numeric vector with the total area value. The total area value must be in hectares. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_vwb">vwb</code></td>
<td>
<p>Optional parameter. Quoted name of the volume with bark variable. If supplied, will be used to calculate the total vwb per plot, and vwb per hectare per plot. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_vwob">vwob</code></td>
<td>
<p>Optional parameter. Quoted name of the volume without bark variable. If supplied, will be used to calculate the total vwob per plot, and vwob per hectare per plot. Default <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_dh">dh</code></td>
<td>
<p>Optional parameter. Quoted name of the dominant height variable. If supplied, will be used to calculate the mean dominant height per plot. If not, the <code>ht</code> variable supplied will be used to calculate the average of the top two trees of each plot, and use that as dh. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_age">age</code></td>
<td>
<p>Optional parameter. Quoted name of the age variable. If supplied, will be used to calculate the average age per plot. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="plot_summarise_+3A_dec_places">dec_places</code></td>
<td>
<p>Numeric value for the number of decimal places to be used in the output tables. Default: <code>4</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with informations per plot.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm21")
head(exfm21)

# Obligatory arguments. Basic informations about the plot.
plot_summarise(exfm21, "PLOT", 810)

# Area values can be numeric, or a variable name
plot_summarise(exfm21, "PLOT", "PLOT_AREA")

# With DBH supplied, we get the mean diameter, quadratic diameter,
# basal area and basal area per hectare:
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH")

# With TH supplied, we get the mean total height and dominant height
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST")

# With strata supplied, we divide the data into 2 strata
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST", "STRATA")

# The strata area can also be supplied
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST", "STRATA", "STRATA_AREA")

# With VWB supplied, we get the total vwb, and vwb per hectare
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST", "STRATA", "STRATA_AREA",
 "VWB")

# With VWOB supplied, we get the total vwob, and vwob per hectare
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST", "STRATA", "STRATA_AREA",
 "VWB", "VWOB")

# If the data already has a dominant height variable, it can also be supplied here
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST", "STRATA", "STRATA_AREA",
 "VWB", "VWOB", "DH")

# With the AGE variable supplied, we get the average age of each plot
plot_summarise(exfm21, "PLOT", "PLOT_AREA", "DBH", "TH_EST", "STRATA", "STRATA_AREA",
 "VWB", "VWOB", "DH", "AGE")

</code></pre>

<hr>
<h2 id='pow'>Raise a numeric vector to a given power</h2><span id='topic+pow'></span>

<h3>Description</h3>

<p>This function returns a numeric vector raised to a given power.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pow(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pow_+3A_x">x</code></td>
<td>
<p>A numeric vector.</p>
</td></tr>
<tr><td><code id="pow_+3A_y">y</code></td>
<td>
<p>A numeric value for the power <code>x</code> should be raised to.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is manly used when fitting statistical models.
If one of the variables in a model is a variable raised to a given power, the <code>lm</code>
function does not properly compute the variable, if <code>vector^power</code> is inserted directly
in the model, leading to the need of creating a separate variable. This function allows the user to get the power
of a given numeric vector to <code>y</code> inside the model, without the need to create a new variable.
</p>


<h3>Value</h3>

<p>a numeric vector containing <code>x</code> to the power of <code>y</code>.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm15")
head(exfm15)

# Raise a numeric vector to the power of 2:
pow(iris$Petal.Length, 2)

# Fit a model that contains the dbh squared, without the need to create a new variable:
lm(log(TH) ~ DBH + pow(DBH,2), exfm15 )
# or 
lm_table(exfm15, log(TH) ~ DBH + pow(DBH,2) )

</code></pre>

<hr>
<h2 id='resid_plot'>Calculate residual values and create plots</h2><span id='topic+resid_plot'></span>

<h3>Description</h3>

<p>Function for creating plots and tables for residual values from observed and estimated values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>resid_plot(
  df,
  obs,
  ...,
  type = "scatterplot",
  point_size = 3,
  color = NA,
  nrow = NA,
  ncol = NA,
  lim_y = NA,
  xlab = "Observed values",
  clab = NA,
  font = "serif",
  legend_pos = "bottom",
  gray_scale = TRUE,
  res_table = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="resid_plot_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_obs">obs</code></td>
<td>
<p>Quoted name of the observed values variable.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_...">...</code></td>
<td>
<p>Quoted name(s) for the estimated values variable(s). Multiple variables must be separated by comma.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_type">type</code></td>
<td>
<p>Character object for the type of plot created, The available plots are: <code>"scatterplot"</code>, <code>"histogram"</code>, <code>"histogram_curve"</code> and <code>"versus"</code>. Default: <code>"scatterplot"</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_point_size">point_size</code></td>
<td>
<p>Numeric value for the point size in scatter plots. Default: <code>3</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_color">color</code></td>
<td>
<p>Quoted name of a variable. If supplied, this variable will be used to classify the data by color. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_nrow">nrow</code></td>
<td>
<p>Numeric value for number of rows in the plot matrix. If not supplied, the plots will be automatically sorted. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_ncol">ncol</code></td>
<td>
<p>Numeric value for number of columns in the plot matrix. If not supplied, the plots will be automatically sorted. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_lim_y">lim_y</code></td>
<td>
<p>Numeric value for the y axis upper and lower limit. If <code>NA</code>, the biggest residual value is used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_xlab">xlab</code></td>
<td>
<p>Character value for the x label used in some plots. Default: <code>"Observed values"</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_clab">clab</code></td>
<td>
<p>Character value for the color label used, if a color variable is supplied. If not supplied, the <code>color</code> variable name will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_font">font</code></td>
<td>
<p>Type of font used in the plot. Default: <code>"serif"</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_legend_pos">legend_pos</code></td>
<td>
<p>Position of legend, when a color variable is supplied. This can either be <code>"left"</code>, <code>"right"</code>, <code>"top"</code> or <code>"bottom"</code>. Default: <code>"bottom"</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_gray_scale">gray_scale</code></td>
<td>
<p>If <code>TRUE</code>, the plot will be rendered in a gray scale. Default: <code>"TRUE"</code>.</p>
</td></tr>
<tr><td><code id="resid_plot_+3A_res_table">res_table</code></td>
<td>
<p>If <code>TRUE</code>, the function will return a data frame with observed, estimated, and residual values. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A ggplot object, or, if <code>res_table = TRUE</code>, a data frame.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm11")
head(exfm11)

# Specifying the observed and estimated variables, we get a scatter plot
# for the percentage residuals:
resid_plot(exfm11, "TH", "TH_EST1")

# It's possible to get other types of plots, with the type argument:
resid_plot(exfm11, "TH", "TH_EST1", type = "histogram_curve")
resid_plot(exfm11, "TH", "TH_EST1", type = "versus")

# It's possible to add a factor variable as color in the plots:
resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", color="STRATA", 
xlab="Total Height (m)", clab="Strata", gray_scale=FALSE)

# If there are more estimated values variables, they can also be used
# in the comparison:
resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", "TH_EST3")

# It's possible to rearrange the plots with ncol and nrow:
resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", "TH_EST3", ncol=1)

# It's possible to get the residuals table used to generate these plots, with res_table=TRUE:
head( resid_plot(exfm11, "TH", "TH_EST1", "TH_EST2", res_table = TRUE) )

</code></pre>

<hr>
<h2 id='rm_empty_col'>Remove empty columns</h2><span id='topic+rm_empty_col'></span>

<h3>Description</h3>

<p>This function removes columns filled with <code>NA</code> or <code>0</code> from a dataframe.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rm_empty_col(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rm_empty_col_+3A_x">x</code></td>
<td>
<p>A dataframe</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is mainly used inside other functions, to remove optional variables
when they are not opted in.
</p>


<h3>Value</h3>

<p>a dataframe.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
library(dplyr)
data("exfm15")
head(exfm15)

exfm15 %&gt;% 
mutate(emptycol=NA) %&gt;% 
rm_empty_col


</code></pre>

<hr>
<h2 id='rmse_per'>RMSE of an estimator in percentage</h2><span id='topic+rmse_per'></span>

<h3>Description</h3>

<p>Function for calculating the Root-Mean-Square-Error of an estimator.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rmse_per(df, y, yhat, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rmse_per_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="rmse_per_+3A_y">y</code></td>
<td>
<p>Quoted name of the variable representing the observed values in the data frame. If a data frame is not provided, <code>y</code> can also be a numeric vector.</p>
</td></tr>
<tr><td><code id="rmse_per_+3A_yhat">yhat</code></td>
<td>
<p>Quoted name of the variable representing the estimated values in the data frame. If a data frame is not provided, <code>yhat</code> can also be a numeric vector.</p>
</td></tr>
<tr><td><code id="rmse_per_+3A_na.rm">na.rm</code></td>
<td>
<p>a logical value indicating whether NA values should be stripped before the computation proceeds. default: <code>TRUE</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function for calculating the Root-Mean-Square-Error of an estimator, given the observed values, and the estimated values.
</p>


<h3>Value</h3>

<p>Numeric vector with the RMSE value, in percentage.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>See Also</h3>

<p>other statistics to evaluate estimators: 
<code><a href="#topic+bias_per">bias_per</a></code> for the bias of an estimator
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm11")
head(exfm11)

# RMSE of an estimator, given the data frame and quoted variable names:
rmse_per(exfm11, "TH", "TH_EST3")

# RMSE of an estimator, given the vectors for observed and estimated values:
rmse_per(y = exfm11$TH, yhat = exfm11$TH_EST3)

</code></pre>

<hr>
<h2 id='round_df'>Round all numeric variables of a data frame to a given digit</h2><span id='topic+round_df'></span>

<h3>Description</h3>

<p>This function allows the user to round all numeric values of a data frame,
directly, even if the data frame contains non-numeric variables
(which would throw an error in the <a href="base.html#topic+round">round</a> function).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>round_df(df, digits, rf = "round")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="round_df_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="round_df_+3A_digits">digits</code></td>
<td>
<p>Numeric vector for the desired number of digits.</p>
</td></tr>
<tr><td><code id="round_df_+3A_rf">rf</code></td>
<td>
<p>Type of round to be used. It can either be <code>"ceiling"</code>, <code>"floor"</code>, <code>"trunc"</code>, <code>"signif"</code>, or <code>"round"</code>. Default <code>"round"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame, with all the numeric variables rounded up to the number given to <code>digits</code>.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)

# Round all numeric variables
round_df(iris) 

# Round all numeric variables using the floor function
round_df(iris, rf="floor") 

# Do not run
# trying this with the the base function throws an error:

# round(iris)

</code></pre>

<hr>
<h2 id='similarity_matrix'>Get the similarity matrix of an area</h2><span id='topic+similarity_matrix'></span>

<h3>Description</h3>

<p>Calculates the Jaccard similarity index and Sorensen similarity index.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>similarity_matrix(
  df,
  species,
  comparison,
  NI_label = "",
  index = "Sorensen",
  dendrogram = FALSE,
  n_groups = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="similarity_matrix_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="similarity_matrix_+3A_species">species</code></td>
<td>
<p>Quoted name of the scientific names variable, or any variable used to differentiate the different species found in data. If supplied, will be used to classify the species in the diameter data.</p>
</td></tr>
<tr><td><code id="similarity_matrix_+3A_comparison">comparison</code></td>
<td>
<p>Quoted name of the variable containing levels to be compared with each other.</p>
</td></tr>
<tr><td><code id="similarity_matrix_+3A_ni_label">NI_label</code></td>
<td>
<p>Label used for Species not identified. This parameter works along with species. The level supplied here will not be considered in the classification. Default <code>""</code>.</p>
</td></tr>
<tr><td><code id="similarity_matrix_+3A_index">index</code></td>
<td>
<p>Character value for the desired index to be used. Can be either <code>"Jaccard"</code>, for a matrix based on the Jaccard index of similarity, <code>"Sorensen"</code>, for a matrix based the Sorensen index of similarity, or <code>"all"</code>, for a list with matrices for both indexes. Default: <code>"Sorensen"</code>.</p>
</td></tr>
<tr><td><code id="similarity_matrix_+3A_dendrogram">dendrogram</code></td>
<td>
<p>If <code>TRUE</code>, a dendrogram will also be created. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="similarity_matrix_+3A_n_groups">n_groups</code></td>
<td>
<p>Number of groups in the dendrogram. Default <code>3</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a matrix object with a similarity matrix, or a list, according to the <code>"index"</code> and <code>"dendrogram"</code> arguments.
</p>


<h3>Author(s)</h3>

<p>Eric Bastos Gorgens <a href="mailto:e.gorgens@gmail.com">e.gorgens@gmail.com</a>
</p>


<h3>References</h3>

<p>Souza, A. L. and Soares, C. P. B. (2013) Florestas Nativas: estrutura, dinamica e manejo. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm20")
head(exfm20)

# To get the similarity matrix of an area, we simply need to provide
# the species variable name, and a subdivision variable name, like
# transect. By default we get a a matrix based on the Sorensen index:
similarity_matrix(exfm20, "scientific.name", "transect")

# To get the similarity matrix of Jaccard, use the index argument:
similarity_matrix(exfm20, "scientific.name", "transect", index = "Jaccard")

# To get a dendrogram with the matrix, use dendrogram=TRUE:
similarity_matrix(exfm20, "scientific.name", "transect", index = "Jaccard", dendrogram = TRUE)

# To get a list with both matrices, use index="all":
similarity_matrix(exfm20, "scientific.name", "transect", index = "all")

# If the data supplied only has 2 levels, a paired comparison is made instead:
ex_pair &lt;- exfm20[exfm20$transect %in% c("T01", "T02") , ]
ex_pair

similarity_matrix(ex_pair, "scientific.name", "transect", index = "all")

</code></pre>

<hr>
<h2 id='smalianwb'>Calculate the volume with bark of trees using the Smalian method</h2><span id='topic+smalianwb'></span>

<h3>Description</h3>

<p>Function used to calculate the volume with bark of trees using the Smalian method.
This function has integration with dplyr, so it can be used inside a pipe, along with the
<code>group_by</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smalianwb(
  df,
  di,
  hi,
  tree,
  .groups = NA,
  di_mm_to_cm = FALSE,
  hi_cm_to_m = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smalianwb_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="smalianwb_+3A_di">di</code></td>
<td>
<p>Quoted name of the section diameter  variable, in centimeters.</p>
</td></tr>
<tr><td><code id="smalianwb_+3A_hi">hi</code></td>
<td>
<p>Quoted name of the section height  variable, in meters</p>
</td></tr>
<tr><td><code id="smalianwb_+3A_tree">tree</code></td>
<td>
<p>Quoted name of the tree variable. used to differentiate the trees' sections. If this argument is <code>NA</code>, the defined groups in the data frame will be used</p>
</td></tr>
<tr><td><code id="smalianwb_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variables that can be added to differentiate subdivisions of the data. 
If this argument is not supplied, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="smalianwb_+3A_di_mm_to_cm">di_mm_to_cm</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the di argument from milliliters to centimeters. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="smalianwb_+3A_hi_cm_to_m">hi_cm_to_m</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the hi argument from centimeters to meters. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with volume values by section.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>Complementary functions:
<code><a href="#topic+smalianwob">smalianwob</a></code>, For calculation of volume without bark using the Smalian method,
<code><a href="#topic+huberwb">huberwb</a></code>, for calculation of volume with bark using the Huber method,
<code><a href="#topic+huberwob">huberwob</a></code>, for calculation of volume without bark the Huber method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm7")
head(exfm7)

# Calculate the volume with bark using the Smalian method:
smalianwb(exfm7,"di_wb", "hi", "TREE")

# Using pipes:
library(dplyr)

 exfm7 %&gt;% 
 group_by(TREE) %&gt;% 
 smalianwb("di_wb", "hi")

</code></pre>

<hr>
<h2 id='smalianwob'>Calculate the volume without bark of trees using the Smalian method</h2><span id='topic+smalianwob'></span>

<h3>Description</h3>

<p>Function used to calculate the volume without bark of trees using the Smalian method.
This function has integration with dplyr, so it can be used inside a pipe, along with the
<code>group_by</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>smalianwob(
  df,
  di,
  hi,
  bt,
  tree,
  .groups = NA,
  di_mm_to_cm = FALSE,
  hi_cm_to_m = FALSE,
  bt_mm_to_cm = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="smalianwob_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_di">di</code></td>
<td>
<p>Quoted name of the section diameter  variable, in centimeters.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_hi">hi</code></td>
<td>
<p>Quoted name of the section height  variable, in meters</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_bt">bt</code></td>
<td>
<p>Quoted name of the bark thickness variable, in centimeters.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_tree">tree</code></td>
<td>
<p>Quoted name of the tree variable. used to differentiate the trees' sections. If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variables that can be added to differentiate subdivisions of the data. 
If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_di_mm_to_cm">di_mm_to_cm</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the di argument from milliliters to centimeters. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_hi_cm_to_m">hi_cm_to_m</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the hi argument from centimeters to meters. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="smalianwob_+3A_bt_mm_to_cm">bt_mm_to_cm</code></td>
<td>
<p>Boolean argument that, if <code>TRUE</code>, converts the bt argument from milliliters to centimeters. Default: <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Data frame with volume values by section.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>Complementary functions:
<code><a href="#topic+smalianwb">smalianwb</a></code>, For calculation of volume with bark using the Smalian method,
<code><a href="#topic+huberwb">huberwb</a></code>, for calculation of volume with bark using the Huber method,
<code><a href="#topic+huberwob">huberwob</a></code>, for calculation of volume without bark the Huber method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm7")
head(exfm7)

# Calculate the volume without bark using Smalian's method:
smalianwob(exfm7,"di_wb", "hi", "bark_t", "TREE",bt_mm_to_cm=TRUE)

# Using pipes:
library(dplyr)

 exfm7 %&gt;% 
 group_by(TREE) %&gt;% 
 smalianwob("di_wb", "hi", "bark_t")

</code></pre>

<hr>
<h2 id='species_aggreg'>Get the aggregation state of species</h2><span id='topic+species_aggreg'></span>

<h3>Description</h3>

<p>Get the aggregation state of species according to the Payandeh, Hazen and Morista methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>species_aggreg(df, species, plot, NI_label = "")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species_aggreg_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="species_aggreg_+3A_species">species</code></td>
<td>
<p>Quoted name of the scientific names variable, or any variable used to differentiate the different species found in data.</p>
</td></tr>
<tr><td><code id="species_aggreg_+3A_plot">plot</code></td>
<td>
<p>Quoted name of the plot variable. used to differentiate the plots trees, and calculate the number of sampled plots.</p>
</td></tr>
<tr><td><code id="species_aggreg_+3A_ni_label">NI_label</code></td>
<td>
<p>Label used for Species not identified. This parameter works along with species. The level supplied here will not be considered in the classification. Default <code>""</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with the aggregation classification.
</p>


<h3>Author(s)</h3>

<p>Eric Bastos Gorgens <a href="mailto:e.gorgens@gmail.com">e.gorgens@gmail.com</a>
</p>


<h3>References</h3>

<p>Souza, A. L. and Soares, C. P. B. (2013) Florestas Nativas: estrutura, dinamica e manejo. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm20")
head(exfm20)

# Get the aggregation indexes of species:
species_aggreg(exfm20, "scientific.name", "transect")

</code></pre>

<hr>
<h2 id='species_diversity'>Get the species diversity indexes</h2><span id='topic+species_diversity'></span>

<h3>Description</h3>

<p>Calculate the diversity of species for the following indexes:
Shannon, Simpson, Equitability, Pielou and Jentsch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>species_diversity(df, species, plot = NA, NI_label = "", index = "all")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="species_diversity_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="species_diversity_+3A_species">species</code></td>
<td>
<p>Quoted name of the scientific names variable, or any variable used to differentiate the different species found in data. If supplied, will be used to classify the species in the diameter data.</p>
</td></tr>
<tr><td><code id="species_diversity_+3A_plot">plot</code></td>
<td>
<p>Optional parameter. Quoted name of the plot variable. used to differentiate the plots, and calculate the indexes by plot, or other subdivision variable.</p>
</td></tr>
<tr><td><code id="species_diversity_+3A_ni_label">NI_label</code></td>
<td>
<p>Label used for Species not identified. This parameter works along with species. The level supplied here will not be considered in the classification. Default <code>""</code>.</p>
</td></tr>
<tr><td><code id="species_diversity_+3A_index">index</code></td>
<td>
<p>Character value for the desired index to be used. Can be either <code>"H"</code> for Shannon's diversity index, <code>"S"</code> for Total number of species in the community, <code>"Hmax"</code> for the maximum equitability, <code>"J"</code> for Pielou evenness, <code>"QM"</code> for the mixture coefficient of Jentsch, or <code>"all"</code>, to get all indexes. Default: <code>"all"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with the indexes, or a numeric value of the desired index specified in the index argument.
</p>


<h3>Author(s)</h3>

<p>Eric Bastos Gorgens <a href="mailto:e.gorgens@gmail.com">e.gorgens@gmail.com</a>
</p>


<h3>References</h3>

<p>Souza, A. L. and Soares, C. P. B. (2013) Florestas Nativas: estrutura, dinamica e manejo. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm20")
head(exfm20)

# By default, the function returns all indexes:
species_diversity(exfm20, "scientific.name")

# It's possible to use a subdivision variable, like plot, to get
# the indexes for each subdivision:
species_diversity(exfm20, "scientific.name", "transect") 

# To only get one specific index, use the index argument:
species_diversity(exfm20, "scientific.name", index = "H")
species_diversity(exfm20, "scientific.name", index = "S")
species_diversity(exfm20, "scientific.name", index = "Hmax")
species_diversity(exfm20, "scientific.name", index = "J")


</code></pre>

<hr>
<h2 id='sprs'>Simple Random Sampling</h2><span id='topic+sprs'></span>

<h3>Description</h3>

<p>Function for processing forest inventory data using simple random sampling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sprs(
  df,
  Yi,
  plot_area,
  total_area,
  m3ha = FALSE,
  age = NA,
  .groups = NA,
  alpha = 0.05,
  error = 10,
  dec_places = 4,
  pop = "inf",
  tidy = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sprs_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="sprs_+3A_yi">Yi</code></td>
<td>
<p>Quoted name of the volume variable, or other variable one desires to evaluate, in quotes.</p>
</td></tr>
<tr><td><code id="sprs_+3A_plot_area">plot_area</code></td>
<td>
<p>Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters.</p>
</td></tr>
<tr><td><code id="sprs_+3A_total_area">total_area</code></td>
<td>
<p>Quoted name of the total area variable, or a numeric vector with the total area value.The total area value must be in hectares.</p>
</td></tr>
<tr><td><code id="sprs_+3A_m3ha">m3ha</code></td>
<td>
<p>Boolean value. If <code>TRUE</code> Yi variable is treated in m3/ha, else, in m3. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_age">age</code></td>
<td>
<p>Optional parameter. Quoted name of the age variable. Calculates the average age supplied. <code>NA</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variable(s) that, if supplied, will be used to run multiple surveys, one for each level. 
If this argument is <code>NA</code>, the defined groups in the data frame will be used, if they exist. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_alpha">alpha</code></td>
<td>
<p>Numeric value for the significance value used in the t-student estimation. Default: <code>0.05</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_error">error</code></td>
<td>
<p>Numeric value for the minimum admitted error value in the survey, in percentage. Default: <code>10</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_dec_places">dec_places</code></td>
<td>
<p>Numeric value for the number of decimal places to be used in the output tables. Default: <code>4</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_pop">pop</code></td>
<td>
<p>Character value for the type of population considered in the calculations. This can be either infinite (<code>"inf"</code>) or finite (<code>"fin"</code>). Default: <code>"inf"</code>.</p>
</td></tr>
<tr><td><code id="sprs_+3A_tidy">tidy</code></td>
<td>
<p>Boolean value that defines if the output tables should be tidied up or not. Default: <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the user to processes inventory data using simple random sampling for finite or infinite populations.
It's possible to run multiple sampling analysis using a factor variable indicated in the <code>.groups</code>() parameter.
</p>


<h3>Value</h3>

<p>A data frame with the sampling results.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>
<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>other sampling functions: 
<code><a href="#topic+strs">strs</a></code> for stratified random sampling, and
<code><a href="#topic+ss_diffs">ss_diffs</a></code> for Systematic Sampling.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm2")
data("exfm3")
data("exfm4")

# The objective is to sample an area, with an error of 20%.
# First we run a pilot inventory, considering a 20% error and a finite population:
head(exfm3)

sprs(exfm3, "VWB", "PLOT_AREA", "TOTAL_AREA", error = 20, pop = "fin")

# With these results, in order to obtain the desired error, we'll need to sample new 
# plots, and run the definitive inventory. Again, we aim for a 20% error, and consider
# the population as finite:
exfm4

sprs(exfm4, "VWB", "PLOT_AREA", "TOTAL_AREA", error = 20, pop = "fin")

# The desired error was met

# area values can be numeric
sprs(exfm4, "VWB", 3000, 46.8, error = 20, pop = "fin")

# Here we run a simple random sampling inventory for each forest subdivision,
# using the STRATA variable as a group variable:
exfm2

sprs(exfm2, "VWB", "PLOT_AREA", "STRATA_AREA",.groups = "STRATA" ,error = 20, pop = "fin")

# If the volume variable is in m3ha, you should set m3ha to TRUE:
sprs(exfm3, "VWB_m3ha", "PLOT_AREA", "TOTAL_AREA",m3ha = TRUE,error = 20, pop = "fin")

</code></pre>

<hr>
<h2 id='ss_diffs'>Systematic Sampling</h2><span id='topic+ss_diffs'></span>

<h3>Description</h3>

<p>Function for processing forest inventory data using systematic sampling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ss_diffs(
  df,
  Yi,
  plot_area,
  total_area,
  m3ha = FALSE,
  age = NA,
  .groups = NA,
  alpha = 0.05,
  error = 10,
  dec_places = 4,
  tidy = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ss_diffs_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_yi">Yi</code></td>
<td>
<p>Quoted name of the volume variable, or other variable one desires to evaluate, in quotes.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_plot_area">plot_area</code></td>
<td>
<p>Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_total_area">total_area</code></td>
<td>
<p>Quoted name of the total area variable, or a numeric vector with the total area value.The total area value must be in hectares.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_m3ha">m3ha</code></td>
<td>
<p>Boolean value. If <code>TRUE</code> Yi variable is treated in m3/ha, else, in m3. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_age">age</code></td>
<td>
<p>Optional parameter. Quoted name of the age variable. Calculates the average age supplied. <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variable(s) that, if supplied, will be used to run multiple surveys, one for each level. 
If this argument is <code>NA</code>, the defined groups in the data frame will be used, if they exist. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_alpha">alpha</code></td>
<td>
<p>Numeric value for the significance value used in the t-student estimation. Default: <code>0.05</code>.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_error">error</code></td>
<td>
<p>Numeric value for the minimum admitted error value in the survey, in percentage. Default: <code>10</code>.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_dec_places">dec_places</code></td>
<td>
<p>Numeric value for the number of decimal places to be used in the output tables. Default: <code>4</code>.</p>
</td></tr>
<tr><td><code id="ss_diffs_+3A_tidy">tidy</code></td>
<td>
<p>Boolean value that defines if the output tables should be tidied up or not. Default: <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the user to processes inventory data using simple random sampling for finite or infinite populations.
It's possible to run multiple sampling analysis using a factor variable indicated in the <code>.groups</code>() parameter.
</p>


<h3>Value</h3>

<p>A data frame with the sampling results.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>
<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>other sampling functions: 
<code><a href="#topic+sprs">sprs</a></code> for Simple Random Sampling, and
<code><a href="#topic+strs">strs</a></code> for stratified random sampling, and
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm2")
data("exfm5")

# We're trying to run a inventory for an area This data was collected systematically,
# but we'll try to run the data using simple random sampling, 
# to show the difference between the two methods:
head(exfm5)

sprs(exfm5, "VWB", "PLOT_AREA", "TOTAL_AREA")

# We get a 22% error value. Now, we run this same data
# considering the data as a systematic inventory, using the
# successive differences method:
exfm5

ss_diffs(exfm5, "VWB", "PLOT_AREA", "TOTAL_AREA")

# The error was significantly lowered.

# Area Values can be numeric;
ss_diffs(exfm5, "VWB", 200, 18)

# Here we run a systematic sampling inventory for each forest subdivision, 
# using the STRATA variable as a group variable:
exfm2

ss_diffs(exfm2, "VWB", "PLOT_AREA", "STRATA_AREA",.groups = "STRATA")

</code></pre>

<hr>
<h2 id='strs'>Stratified Random Sampling</h2><span id='topic+strs'></span>

<h3>Description</h3>

<p>Function for processing forest inventory data using stratified random sampling.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>strs(
  df,
  Yi,
  plot_area,
  strata_area,
  strata,
  m3ha = FALSE,
  .groups = NA,
  age = NA,
  alpha = 0.05,
  error = 10,
  dec_places = 4,
  pop = "inf",
  tidy = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="strs_+3A_df">df</code></td>
<td>
<p>a data frame.</p>
</td></tr>
<tr><td><code id="strs_+3A_yi">Yi</code></td>
<td>
<p>Quoted name of the volume variable, or other variable one desires to evaluate, in quotes.</p>
</td></tr>
<tr><td><code id="strs_+3A_plot_area">plot_area</code></td>
<td>
<p>Quoted name of the plot area variable, or a numeric vector with the plot area value. The plot area value must be in square meters.</p>
</td></tr>
<tr><td><code id="strs_+3A_strata_area">strata_area</code></td>
<td>
<p>Quoted name of the strata area variable, or a numeric vector with the plot strata values. If there are more than 1 area values, it's possible to use a vector with all area values, like so:<code>c(14.4, 16.4, 14.2)</code>. The strata area values must be in hectares.</p>
</td></tr>
<tr><td><code id="strs_+3A_strata">strata</code></td>
<td>
<p>Quoted name of the subdivision variable(s), also known as strata. If this argument is not supplied, the defined groups in the data frame will be used, if they exist.</p>
</td></tr>
<tr><td><code id="strs_+3A_m3ha">m3ha</code></td>
<td>
<p>Boolean value. If <code>TRUE</code> Yi variable is treated in m3/ha, else, in m3. Default: <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variable(s) that, if supplied, will be used to run multiple surveys, one for each level. 
If this argument is <code>NA</code>, the defined groups in the data frame will be used, if they exist. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_age">age</code></td>
<td>
<p>Optional parameter. Quoted name of the age variable. Calculates the average age supplied. <code>NA</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_alpha">alpha</code></td>
<td>
<p>Numeric value for the significance value used in the t-student estimation. Default: <code>0.05</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_error">error</code></td>
<td>
<p>Numeric value for the minimum admitted error value in the survey, in percentage. Default: <code>10</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_dec_places">dec_places</code></td>
<td>
<p>Numeric value for the number of decimal places to be used in the output tables. Default: <code>4</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_pop">pop</code></td>
<td>
<p>Character value for the type of population considered in the calculations. This can be either infinite (<code>"inf"</code>) or finite (<code>"fin"</code>). Default: <code>"inf"</code>.</p>
</td></tr>
<tr><td><code id="strs_+3A_tidy">tidy</code></td>
<td>
<p>Boolean value that defines if the output tables should be tidied up or not. Default: <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function allows the user to processes inventory data using stratified random sampling for n forest subdivisions (strata),
for finite or infinite populations. It's possible to run multiple sampling analysis using a factor variable indicated in the
<code>.groups</code>() parameter.
</p>


<h3>Value</h3>

<p>A list containing two data frames, one with information for each strata, and one with the stratified sampling results.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Campos, J. C. C. and Leite, H. G. (2017) Mensuracao Florestal: Perguntas e Respostas. 5a. Vicosa: UFV.
</p>
<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>


<h3>See Also</h3>

<p>other sampling functions: 
<code><a href="#topic+sprs">sprs</a></code> for Simple Random Sampling, and
<code><a href="#topic+ss_diffs">ss_diffs</a></code> for Systematic Sampling.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm1")
data("exfm2")
data("exfm6")

# The objective is to sample an area, with an error of 5%.
# First we run a pilot inventory, considering a 5% error and a finite population:
head(exfm1)

strs(exfm1, "VWB", "PLOT_AREA", "STRATA_AREA", strata = "STRATA", error = 5, pop = "fin")

# With these results, in order to meet the desired error of 5%, we'll need to sample 24 more plots,
# 4 in stratum 1, 8 in stratum 2, and 12 in stratum 3.
# After sampling the necessary plots, we now run a definitive inventory,
# considering an 5% error and a finite population:
exfm2

strs(exfm2, "VWB", "PLOT_AREA", "STRATA_AREA", strata = "STRATA", error = 5, pop = "fin")

# The desired error value was met.

# Area values can be numeric:
strs(exfm2, "VWB", 1000, c(14.4, 16.4,14.2), strata = "STRATA", error = 5, pop = "fin")

# Optional variable age, and one stratified sampled inventory for each map:
exfm6

strs(exfm6, "VWB", "PLOT_AREA", "STRATA_AREA", strata ="STRATA", .groups = "MAP", age = "AGE")

</code></pre>

<hr>
<h2 id='tree_summarise'>Calculate the equivalent diameter of trees with more than one trunk</h2><span id='topic+tree_summarise'></span>

<h3>Description</h3>

<p>This function uses takes the square root of the diameters squared sum,
in order to estimate the equivalent diameter of trees. Other supplied variables
are summed up, or averaged, depending on the variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tree_summarise(df, dbh, tree, .groups = NA, vwb = NA, vwob = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tree_summarise_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="tree_summarise_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable.</p>
</td></tr>
<tr><td><code id="tree_summarise_+3A_tree">tree</code></td>
<td>
<p>Quoted name of the tree variable. used to differentiate the trees' sections. If this argument is missing, the defined groups in the data frame will be used. If there are no groups in the data, the function will fail.</p>
</td></tr>
<tr><td><code id="tree_summarise_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of grouping variables that can be added to differentiate subdivisions of the data. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="tree_summarise_+3A_vwb">vwb</code></td>
<td>
<p>Optional argument. Quoted name of the volume with bark variable, in cubic meters. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="tree_summarise_+3A_vwob">vwob</code></td>
<td>
<p>Optional argument. Quoted name of the volume without bark variable, in cubic meters. Default: <code>NA</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame with the the equivalent diameter calculated.
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>References</h3>

<p>Soares, C. P. B., Paula Neto, F. and Souza, A. L. (2012) Dendrometria e Inventario Florestal. 2nd ed. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(forestmangr)
data("exfm18")
head(exfm18)

# Calculate the equivalent diameter of trees with more than one trunk:
eq_diam &lt;- tree_summarise(exfm18, "DBH",tree="Tree", .groups=c("Plot", "Species") )
head(eq_diam, 10)

</code></pre>

<hr>
<h2 id='vertical_stratum'>Divide data into 3 vertical strata</h2><span id='topic+vertical_stratum'></span>

<h3>Description</h3>

<p>Get the vertical strata of data based on the height variable.
The data will be divided into inferior, medium and superior strata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vertical_stratum(df, th)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vertical_stratum_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="vertical_stratum_+3A_th">th</code></td>
<td>
<p>Quoted name of the total height variable.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame.
</p>


<h3>Author(s)</h3>

<p>Eric Bastos Gorgens <a href="mailto:e.gorgens@gmail.com">e.gorgens@gmail.com</a>
</p>


<h3>References</h3>

<p>Souza, A. L. and Soares, C. P. B. (2013) Florestas Nativas: estrutura, dinamica e manejo. Vicosa: UFV.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm10")
head(exfm10)

# To classify the data, supply the data frame and the height variable name:
vertical_stratum(exfm10, "TH" )

</code></pre>

<hr>
<h2 id='vol_summarise'>Summarize volume of trees</h2><span id='topic+vol_summarise'></span>

<h3>Description</h3>

<p>This function can be used to summarize volume with and without bark
of trees in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vol_summarise(df, dbh, th, vwb, tree, .groups = NA, vwob = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vol_summarise_+3A_df">df</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="vol_summarise_+3A_dbh">dbh</code></td>
<td>
<p>Quoted name of the diameter at breast height variable, in cm.</p>
</td></tr>
<tr><td><code id="vol_summarise_+3A_th">th</code></td>
<td>
<p>Quoted name of the total height variable, in meters.</p>
</td></tr>
<tr><td><code id="vol_summarise_+3A_vwb">vwb</code></td>
<td>
<p>Quoted name of the volume with bark variable, in cubic meters.</p>
</td></tr>
<tr><td><code id="vol_summarise_+3A_tree">tree</code></td>
<td>
<p>Quoted name of the tree variable. used to differentiate the trees' sections. If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
<tr><td><code id="vol_summarise_+3A_.groups">.groups</code></td>
<td>
<p>Optional argument. Quoted name(s) of additional grouping variables that can be added to differentiate subdivisions of the data.</p>
</td></tr>
<tr><td><code id="vol_summarise_+3A_vwob">vwob</code></td>
<td>
<p>Optional argument. Quoted name of the volume without bark variable, in cubic meters. Default: <code>NA</code>.
If this argument is <code>NA</code>, the defined groups in the data frame will be used. Default: <code>NA</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame summarized by the .groups variable(s).
</p>


<h3>Author(s)</h3>

<p>Sollano Rabelo Braga <a href="mailto:sollanorb@gmail.com">sollanorb@gmail.com</a>
</p>


<h3>See Also</h3>

<p>Complementary functions:
<code><a href="#topic+smalianwb">smalianwb</a></code>, For calculation of volume with bark using the Smalian method,
<code><a href="#topic+smalianwob">smalianwob</a></code>, For calculation of volume without bark using the Smalian method,
<code><a href="#topic+huberwb">huberwb</a></code>, for calculation of volume with bark using the Huber method,
<code><a href="#topic+huberwob">huberwob</a></code>, for calculation of volume without bark the Huber method.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(forestmangr)
data("exfm7")
head(exfm7)

# In order to calculate the volume of each tree, first we
# Calculate the volume by tree section using the Smalian method:
sec_data_vol &lt;- exfm7 %&gt;% 
smalianwb("di_wb", "hi", "TREE") %&gt;% 
smalianwob("di_wb", "hi", "bark_t", "TREE", bt_mm_to_cm = TRUE)

sec_data_vol

# Now, we summarize the tree's volume:
vol_summarise(sec_data_vol, dbh = "DBH", th = "TH", vwb = "VWB",
tree = "TREE", .groups = "STRATA",vwob = "VWOB")

# It's possible to do everything using pipes:
exfm7 %&gt;% 
smalianwb("di_wb", "hi", "TREE") %&gt;% 
smalianwob("di_wb", "hi", "bark_t", "TREE", bt_mm_to_cm = TRUE) %&gt;% 
vol_summarise("DBH", "TH", "VWB", "TREE", "STRATA", "VWOB")

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

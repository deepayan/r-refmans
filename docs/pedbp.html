<!DOCTYPE html><html><head><title>Help for package pedbp</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {pedbp}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#bp_cdf'><p>Plot the CDF for Blood Pressure</p></a></li>
<li><a href='#bp_distribution'><p>Estimate Pediatric Blood Pressure Distribution</p></a></li>
<li><a href='#bpdata'><p>Data Sets Informing Blood Pressure Percentile Estimates</p></a></li>
<li><a href='#est_norm'><p>Estimate Normal Distribution Given Set of Quantile Values</p></a></li>
<li><a href='#pediatric_vital_sign_distributions'><p>Pediatric Vital Sign Distributions</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Pediatric Blood Pressure</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Data and utilities for estimating pediatric blood pressure
    percentiles by sex, age, and optionally height (stature) as described in
    Martin et.al. (2022) &lt;<a href="https://doi.org/10.1001%2Fjamanetworkopen.2022.36918">doi:10.1001/jamanetworkopen.2022.36918</a>&gt;.
    Blood pressure percentiles for children under one year of age come from Gemelli
    et.al. (1990) &lt;<a href="https://doi.org/10.1007%2FBF02171556">doi:10.1007/BF02171556</a>&gt;.  Estimates of blood pressure
    percentiles for children at least one year of age are informed by
    data from the National Heart, Lung, and Blood Institute (NHLBI) and the
    Centers for Disease Control and Prevention (CDC)
    &lt;<a href="https://doi.org/10.1542%2Fpeds.2009-2107C">doi:10.1542/peds.2009-2107C</a>&gt; or from Lo et.al. (2013)
    &lt;<a href="https://doi.org/10.1542%2Fpeds.2012-1292">doi:10.1542/peds.2012-1292</a>&gt;.  The flowchart for selecting the informing
    data source comes from Martin et.al. (2022)
    &lt;<a href="https://doi.org/10.1542%2Fhpeds.2021-005998">doi:10.1542/hpeds.2021-005998</a>&gt;.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/dewittpe/pedbp/">https://github.com/dewittpe/pedbp/</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-us</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, scales</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, data.table, DT, gridExtra, knitr, rmarkdown, shiny,
shinydashboard</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-11-23 21:59:02 UTC; peterdewitt</td>
</tr>
<tr>
<td>Author:</td>
<td>Peter DeWitt <a href="https://orcid.org/0000-0002-6391-0795"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Blake Martin <a href="https://orcid.org/0000-0001-5683-8310"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  David Albers <a href="https://orcid.org/0000-0002-5369-526X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Tell Bennett <a href="https://orcid.org/0000-0003-1483-4236"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Peter DeWitt &lt;peter.dewitt@cuanschutz.edu&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-11-23 22:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='bp_cdf'>Plot the CDF for Blood Pressure</h2><span id='topic+bp_cdf'></span>

<h3>Description</h3>

<p>Plot the CDF for blood pressure given age, sex, and height.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bp_cdf(
  age,
  male,
  height = NA,
  height_percentile = 0.5,
  sbp = NA,
  dbp = NA,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_cdf_+3A_age">age</code></td>
<td>
<p>numeric age, in months</p>
</td></tr>
<tr><td><code id="bp_cdf_+3A_male">male</code></td>
<td>
<p>integer value, 1 = male, 0 = female, indicating sex of the
patient</p>
</td></tr>
<tr><td><code id="bp_cdf_+3A_height">height</code></td>
<td>
<p>numeric, in centimeters, can be missing.  This is the length
for patients under three years of age</p>
</td></tr>
<tr><td><code id="bp_cdf_+3A_height_percentile">height_percentile</code></td>
<td>
<p>default height percentile to use if <code>height</code> is
missing.</p>
</td></tr>
<tr><td><code id="bp_cdf_+3A_sbp">sbp</code>, <code id="bp_cdf_+3A_dbp">dbp</code></td>
<td>
<p>observed values to plot on the CDF</p>
</td></tr>
<tr><td><code id="bp_cdf_+3A_...">...</code></td>
<td>
<p>not currently used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>ggplot2</code> graphic showing the CDF for diastolic and systolic
blood pressures with vertical and horizontal lines highlight the percentile
for the given inputs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>bp_cdf(age = 96, male = 1, sbp = 103, dbp = 55)

</code></pre>

<hr>
<h2 id='bp_distribution'>Estimate Pediatric Blood Pressure Distribution</h2><span id='topic+bp_distribution'></span><span id='topic+p_bp'></span><span id='topic+q_bp'></span>

<h3>Description</h3>

<p>Percentile and quantile functions for pediatric blood pressure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>p_bp(q_sbp, q_dbp, age, male, height = NA, height_percentile = 0.5, ...)

q_bp(p_sbp, p_dbp, age, male, height = NA, height_percentile = 0.5, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bp_distribution_+3A_q_sbp">q_sbp</code></td>
<td>
<p>a vector of systolic blood pressures</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_q_dbp">q_dbp</code></td>
<td>
<p>a vector of diastolic blood pressures</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_age">age</code></td>
<td>
<p>numeric age, in months</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_male">male</code></td>
<td>
<p>integer value, 1 = male, 0 = female</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_height">height</code></td>
<td>
<p>numeric, in centimeters, can be missing.</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_height_percentile">height_percentile</code></td>
<td>
<p>default height percentile to use if <code>height</code> is
missing.</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_...">...</code></td>
<td>
<p>not currently used</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_p_sbp">p_sbp</code></td>
<td>
<p>a vector of systolic blood percentiles</p>
</td></tr>
<tr><td><code id="bp_distribution_+3A_p_dbp">p_dbp</code></td>
<td>
<p>a vector of diastolic blood percentiles</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a <code>pedbp_bp</code> object.  This is a list of two numeric vectors:
<code>sbp_percentile</code> (systolic blood pressure) and <code>dbp_percentile</code>
(diastolic blood pressure).  Additionally, the <code>bp_params</code> attribute
provides details on the data source and parameters used in the percentile
estimates.
</p>


<h3>See Also</h3>

<p><code>vignette("bp-distriution", package = "pedbp")</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
x &lt;- p_bp(q_sbp = 100, q_dbp = 60, age = 8, male = 0)
x
str(x)

x &lt;- p_bp(q_sbp = c(NA, 82), q_dbp = c(60, 72), age = 9.2, male = 0)
x
str(x)

x &lt;- p_bp(q_sbp = c(NA, 82), q_dbp = c(60, 72), age = 29.2, male = 0, height = 82.8)
x
str(x)

x &lt;- q_bp(p_sbp = 0.78, p_dbp = 0.65, age = 8, male = 0)
x
str(x)

#############################################################################
# compare results when height is known or unknown
p_bp(q_sbp = rep(100, 2),
     q_dbp = rep( 60, 2),
     age   = rep(35.75, 2),
     male  = c(0, 0),
     height = c(NA, 100))

#############################################################################
# Working with multiple patients records
d &lt;- read.csv(system.file("example_data", "for_batch.csv", package = "pedbp"))
d

bp_percentiles &lt;-
  p_bp(
      q_sbp = d$sbp..mmHg.
    , q_dbp = d$dbp..mmHg.
    , age   = d$age_months
    , male  = d$male
    )
bp_percentiles

q_bp(
    p_sbp = bp_percentiles$sbp_percentile
  , p_dbp = bp_percentiles$dbp_percentile
  , age   = d$age_months
  , male  = d$male
  )


</code></pre>

<hr>
<h2 id='bpdata'>Data Sets Informing Blood Pressure Percentile Estimates</h2><span id='topic+bpdata'></span><span id='topic+lo2013'></span><span id='topic+gemelli1990'></span><span id='topic+nhlbi_bp_norms'></span><span id='topic+bp_parameters'></span>

<h3>Description</h3>

<p>A collection of data sets from multiple sources used to inform blood pressure
percentiles for pediatrics patients by sex, age, and height (if known).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lo2013

gemelli1990

nhlbi_bp_norms

bp_parameters
</code></pre>


<h3>Format</h3>

<p>An object of class <code>data.frame</code> with 30 rows and 6 columns.
</p>
<p>An object of class <code>data.frame</code> with 8 rows and 6 columns.
</p>
<p>An object of class <code>data.frame</code> with 952 rows and 6 columns.
</p>
<p>An object of class <code>data.frame</code> with 276 rows and 8 columns.
</p>


<h3>Details</h3>

<p>Data sets are named to reflect the source.
</p>
<p>For all the data sets provided units are uniform:
</p>

<dl>
<dt>age:</dt><dd><p>Patient age; months</p>
</dd>
<dt>height:</dt><dd><p>length/height/stature; cm</p>
</dd>
<dt>weight:</dt><dd><p>kilograms</p>
</dd>
<dt>male:</dt><dd><p>integer value; 1 = male, 0 = female</p>
</dd>
<dt>sbp:</dt><dd><p>systolic blood pressure; mmHg</p>
</dd>
<dt>dbp:</dt><dd><p>diastolic blood pressure; mmHg</p>
</dd>
</dl>

<p>Columns with a name such as <code>sbp</code> is a point observations.  Summary
statistics are appended to the variable as needed, e.g., <code>sbp_mean</code> and
<code>sbp_sd</code> for the reported mean and standard deviation of systolic blood
pressure.
</p>
<p>CDC ages represent whole month but reported at the half month.  That is, age
= 12.5 is short-hand for 12 &lt;= age &lt; 13. The exception is birth; age = 0 is
birth and not a range.
</p>
<p><code>bp_parameters</code> has the estimated mean and
standard deviations for estimating percentiles using a Gaussian distribution
for a given sex, age (in months), and height (if known/applicable).
</p>


<h3>References</h3>

<p>Expert Panel on Integrated Guidelines for Cardiovascular Health and Risk
Reduction in Children and Adolescents. &quot;Expert panel on integrated guidelines
for cardiovascular health and risk reduction in children and adolescents:
summary report.&quot; Pediatrics 128.Supplement_5 (2011): S213-S256.
</p>
<p>Gemelli, M., Manganaro, R., Mami, C., &amp; De Luca, F. (1990). Longitudinal
study of blood pressure during the 1st year of life. European journal of
pediatrics, 149(5), 318-320.
</p>
<p>Lo, Joan C., et.al. &quot;Prehypertension and hypertension in community-based
pediatric practice.&quot; Pediatrics 131.2 (2013): e415-e424.
</p>


<h3>See Also</h3>

<p><code>vignette("bp-distributions", package = "pedbp")</code>
</p>

<hr>
<h2 id='est_norm'>Estimate Normal Distribution Given Set of Quantile Values</h2><span id='topic+est_norm'></span>

<h3>Description</h3>

<p>With at least two quantile values find the mean and standard deviation of a
normal distribution to match up with empirical values provided.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>est_norm(q, p, weights = rep(1, length(p)), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="est_norm_+3A_q">q</code></td>
<td>
<p>quantile values.</p>
</td></tr>
<tr><td><code id="est_norm_+3A_p">p</code></td>
<td>
<p>probabilities corresponding to the <code>q</code> quantiles.</p>
</td></tr>
<tr><td><code id="est_norm_+3A_weights">weights</code></td>
<td>
<p>relative weight of each quantile.  The higher the weight the
better the approximated distribution will be at fitting that quantile.</p>
</td></tr>
<tr><td><code id="est_norm_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="stats.html#topic+optim">optim</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For X ~ N(mu, sigma), Pr[X &lt;= q] = p
</p>
<p>Given the set of quantiles and probabilities, <code>est_norm</code> uses
<code><a href="stats.html#topic+optim">optim</a></code> to find the preferable mean and standard deviation
of a normal distribution to fit the provided quantiles.
</p>
<p>Use the <code>weight</code> argument to emphasize which, if any, of the provided
quantiles needs to be approximated closer than others.  By default all the
quantiles are weighted equally.
</p>


<h3>Value</h3>

<p>a <code>pedbp_est_norm</code> object.  This is a list with elements:
</p>

<ul>
<li><p>para named numeric vector with the mean and standard deviation for a Gaussian distribution
</p>
</li>
<li><p>qpa numeric matrix with two columns built from the input values of
<code>q</code> and <code>p</code>
</p>
</li>
<li><p>weightsthe <code>weights</code> used
</p>
</li>
<li><p>callThe call made
</p>
</li>
<li><p>optimresult from calling <code><a href="stats.html#topic+optim">optim</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>
# Example 1
q &lt;- c(-1.92, 0.1, 1.89) * 1.8 + 3.14
p &lt;- c(0.025, 0.50, 0.975)

x &lt;- est_norm(q, p)
str(x)
x

plot(x)

# Example 2 -- build with quantiles that are easy to see unlikely to be from
# a Normal distribuiton
q &lt;- c(-1.92, 0.05, 0.1, 1.89) * 1.8 + 3.14
p &lt;- c(0.025, 0.40, 0.50, 0.975)

# with equal weights
x &lt;- est_norm(q, p)
x
plot(x)

# weight to ignore one of the middle value and make sure to hit the other
x &lt;- est_norm(q, p, weights = c(1, 2, 0, 1))
x
plot(x)

# equal weight the middle, more than the tails
x &lt;- est_norm(q, p, weights = c(1, 2, 2, 1))
x
plot(x)

</code></pre>

<hr>
<h2 id='pediatric_vital_sign_distributions'>Pediatric Vital Sign Distributions</h2><span id='topic+pediatric_vital_sign_distributions'></span><span id='topic+p_bmi_for_age'></span><span id='topic+q_bmi_for_age'></span><span id='topic+z_bmi_for_age'></span><span id='topic+p_head_circ_for_age'></span><span id='topic+q_head_circ_for_age'></span><span id='topic+z_head_circ_for_age'></span><span id='topic+p_length_for_age_inf'></span><span id='topic+q_length_for_age_inf'></span><span id='topic+z_length_for_age_inf'></span><span id='topic+p_stature_for_age'></span><span id='topic+q_stature_for_age'></span><span id='topic+z_stature_for_age'></span><span id='topic+p_weight_for_age_inf'></span><span id='topic+q_weight_for_age_inf'></span><span id='topic+z_weight_for_age_inf'></span><span id='topic+p_weight_for_age'></span><span id='topic+q_weight_for_age'></span><span id='topic+z_weight_for_age'></span><span id='topic+p_weight_for_length_inf'></span><span id='topic+q_weight_for_length_inf'></span><span id='topic+z_weight_for_length_inf'></span><span id='topic+p_weight_for_stature'></span><span id='topic+q_weight_for_stature'></span><span id='topic+z_weight_for_stature'></span>

<h3>Description</h3>

<p>Based on the data provided by the CDC, provide the distribution function,
quantile function, and a z-score function for one of eight vital signs by
another vital sign, e.g., weight for age.  Values are based on an LMS
approach.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>p_bmi_for_age(q, age, male)

q_bmi_for_age(p, age, male)

z_bmi_for_age(q, age, male)

p_head_circ_for_age(q, age, male)

q_head_circ_for_age(p, age, male)

z_head_circ_for_age(q, age, male)

p_length_for_age_inf(q, age, male)

q_length_for_age_inf(p, age, male)

z_length_for_age_inf(q, age, male)

p_stature_for_age(q, age, male)

q_stature_for_age(p, age, male)

z_stature_for_age(q, age, male)

p_weight_for_age_inf(q, age, male)

q_weight_for_age_inf(p, age, male)

z_weight_for_age_inf(q, age, male)

p_weight_for_age(q, age, male)

q_weight_for_age(p, age, male)

z_weight_for_age(q, age, male)

p_weight_for_length_inf(q, length, male)

q_weight_for_length_inf(p, length, male)

z_weight_for_length_inf(q, length, male)

p_weight_for_stature(q, height, male)

q_weight_for_stature(p, height, male)

z_weight_for_stature(q, height, male)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pediatric_vital_sign_distributions_+3A_q">q</code></td>
<td>
<p>a vector of quantities</p>
</td></tr>
<tr><td><code id="pediatric_vital_sign_distributions_+3A_age">age</code></td>
<td>
<p>numeric age, in months</p>
</td></tr>
<tr><td><code id="pediatric_vital_sign_distributions_+3A_male">male</code></td>
<td>
<p>integer value, 1 = male, 0 = female</p>
</td></tr>
<tr><td><code id="pediatric_vital_sign_distributions_+3A_p">p</code></td>
<td>
<p>a vector of probabilities</p>
</td></tr>
<tr><td><code id="pediatric_vital_sign_distributions_+3A_length">length</code></td>
<td>
<p>length, in cm, of the patient (age under 3 years)</p>
</td></tr>
<tr><td><code id="pediatric_vital_sign_distributions_+3A_height">height</code></td>
<td>
<p>height, in cm, of the patient (age 2 - 20 years)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The <code>p_</code> method return values from the estimated distribution
function.  <code>q_</code> methods return values from the estimated quantile
function.  <code>z_</code> methods return standard scores, equivalent to
<code><a href="stats.html#topic+qnorm">qnorm</a></code>.
</p>


<h3>References</h3>

<p><a href="https://www.cdc.gov/growthcharts/percentile_data_files.htm">https://www.cdc.gov/growthcharts/percentile_data_files.htm</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
#############################################################################
# BMI for Age

# A BMI of 18.2 for a 18.1 year old female is in the
p_bmi_for_age(q = 18.2, age = 18.1 * 12, male = 0)
# percentile.

# The z-score is the same as qnorm(p)
qnorm(p_bmi_for_age(q = 18.2, age = 18.1 * 12, male = 0))
z_bmi_for_age(q = 18.2, age = 18.1 * 12, male = 0)

# The 70th percentile of BMI for 15.4 year old males is
q_bmi_for_age(p = 0.70, age = 15.4 * 12, male = 1)

#############################################################################
# Stature/Lenght/Height for Age

# length_for_age_inf is for Infants are from 0 to 3 years (36 months)
# stature_for_age    is for pediatrics from 2 years (24 months) to 20 years
#                    (240 months)
# The overlap between these functions will produce slightly different values
# the kids between 24 and 36 months of age.
p_length_for_age_inf(87, age = 28, male = 0)
p_stature_for_age(87, age = 28, male = 0)
p_length_for_age_inf(q = 87, age = 28,  male = 0)

#############################################################################
# Multiple patients, the age and male, length, height arguments can also be
# vectors
p_length_for_age_inf(q = 87, age = 28,  male = 0)
p_length_for_age_inf(q = 90, age = 30,  male = 1)
p_length_for_age_inf(q = c(87,90), age = c(28, 30),  male = c(0,1))

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rvec</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rvec}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#rvec-package'><p>Package 'rvec'</p></a></li>
<li><a href='#as_list_col'><p>Convert to List Column</p></a></li>
<li><a href='#collapse_to_rvec'><p>Convert a Data Frame Between 'Database'</p>
and 'Rvec' Formats</a></li>
<li><a href='#dbeta_rvec'><p>The Beta Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dbinom_rvec'><p>The Binomial Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dcauchy_rvec'><p>The Cauchy Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dchisq_rvec'><p>The Chi-Squared Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dexp_rvec'><p>The Exponential Distribution, Using Multiple Draws</p></a></li>
<li><a href='#df_rvec'><p>The F Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dgamma_rvec'><p>The Gamma Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dgeom_rvec'><p>The Geometric Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dhyper_rvec'><p>The Hypergeometric Distribution, Using Multiple Draws</p></a></li>
<li><a href='#divorce'><p>Divorce Rates in New Zealand</p></a></li>
<li><a href='#dlnorm_rvec'><p>The Log-Normal Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dmultinom_rvec'><p>The Multinomial Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dnbinom_rvec'><p>The Negative Binomial Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dnorm_rvec'><p>The Normal Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dpois_rvec'><p>The Poisson Distribution, Using Multiple Draws</p></a></li>
<li><a href='#draws_all'><p>Logical Operations Across Random Draws</p></a></li>
<li><a href='#draws_ci'><p>Credible Intervals from Random Draws</p></a></li>
<li><a href='#draws_fun'><p>Apply Summary Function Across Random Draws</p></a></li>
<li><a href='#draws_median'><p>Medians, Means, and Modes Across Random Draws</p></a></li>
<li><a href='#draws_quantile'><p>Quantiles Across Random Draws</p></a></li>
<li><a href='#dt_rvec'><p>Student t Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dunif_rvec'><p>Uniform Distribution, Using Multiple Draws</p></a></li>
<li><a href='#dweibull_rvec'><p>Weibull Distribution, Using Multiple Draws</p></a></li>
<li><a href='#if_else_rvec'><p>Vectorised If-Else, When Condition is an Rvec</p></a></li>
<li><a href='#is_rvec'><p>Is an Object an Rvec</p></a></li>
<li><a href='#map_rvec'><p>Apply a Function and Put Results in an Rvec</p></a></li>
<li><a href='#matrixOps.rvec'><p>Matrix Multiplication with Rvecs</p></a></li>
<li><a href='#missing'><p>Missing, Finite, and Infinite Values</p>
in Rvecs</a></li>
<li><a href='#n_draw'><p>Query Number of Draws</p></a></li>
<li><a href='#rank'><p>Sample Ranks, Including Rvecs</p></a></li>
<li><a href='#reg_post'><p>Posterior Sample from Linear Regression</p></a></li>
<li><a href='#rvec'><p>Create an Rvec</p></a></li>
<li><a href='#sd'><p>Standard Deviation, Including Rvecs</p></a></li>
<li><a href='#var'><p>Correlation, Variance and Covariance (Matrices), Including Rvecs</p></a></li>
<li><a href='#weighted_mean'><p>Calculate Weighted Summaries</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Vector Representing a Random Variable</td>
</tr>
<tr>
<td>Version:</td>
<td>0.0.6</td>
</tr>
<tr>
<td>Description:</td>
<td>Random vectors, called rvecs. An rvec holds
    multiple draws, but tries to behave like a standard
    R vector, including working well in data frames. Rvecs are
    useful for working with output from a simulation or
    a Bayesian analysis.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.3.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, glue, graphics, grDevices, matrixStats, methods, rlang,
stats, tibble, tidyselect, utils, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bookdown, covr, dplyr, ggdist, ggplot2, knitr, posterior,
rmarkdown, testthat (&ge; 3.0.0), tidyr, vdiffr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://bayesiandemography.github.io/rvec/">https://bayesiandemography.github.io/rvec/</a>,
<a href="https://github.com/bayesiandemography/rvec">https://github.com/bayesiandemography/rvec</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/bayesiandemography/rvec/issues">https://github.com/bayesiandemography/rvec/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-08 03:32:58 UTC; johnbryant</td>
</tr>
<tr>
<td>Author:</td>
<td>John Bryant [aut, cre],
  Bayesian Demography Limited [cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Bryant &lt;john@bayesiandemography.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-08 19:30:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='rvec-package'>Package 'rvec'</h2><span id='topic+rvec-package'></span>

<h3>Description</h3>

<p>Tools for working with random draws from a distribution, eg
draws from a posterior distribution in a Bayesian analysis.
</p>


<h3>Details</h3>

<p>An rvec holds multiple draws, but wherever possible
behaves like an ordinary R vector. For instance, if <code>x</code>
is an rvec holding 1000 draws from a distribution,
then <code>2 * x</code> returns a new rvec where each draw has
been multiplied by 2.
</p>
<p>To summarise across draws, use a function starting with <code>draws</code>.
For instance, to calculate a credible interval, use <code><a href="#topic+draws_ci">draws_ci()</a></code>.
</p>


<h3>Functions</h3>

<p><strong>Creating rvecs</strong>
</p>

<ul>
<li> <p><code><a href="#topic+rvec">rvec()</a></code> - class depends on input
</p>
</li>
<li> <p><code><a href="#topic+rvec_dbl">rvec_dbl()</a></code> - doubles
</p>
</li>
<li> <p><code><a href="#topic+rvec_int">rvec_int()</a></code> - integers
</p>
</li>
<li> <p><code><a href="#topic+rvec_lgl">rvec_lgl()</a></code> - logical
</p>
</li>
<li> <p><code><a href="#topic+rvec_chr">rvec_chr()</a></code> - character
</p>
</li>
<li> <p><code><a href="#topic+collapse_to_rvec">collapse_to_rvec()</a></code> - data in data frame
</p>
</li></ul>

<p><strong>Manipulating rvecs</strong>
</p>

<ul>
<li> <p><code><a href="#topic+if_else_rvec">if_else_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+map_rvec">map_rvec()</a></code>
</p>
</li></ul>

<p><strong>Probability distributions</strong>
</p>

<ul>
<li> <p><code><a href="#topic+dbeta_rvec">dbeta_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dbinom_rvec">dbinom_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dcauchy_rvec">dcauchy_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dchisq_rvec">dchisq_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dexp_rvec">dexp_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+df_rvec">df_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dgamma_rvec">dgamma_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dgeom_rvec">dgeom_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dhyper_rvec">dhyper_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dlnorm_rvec">dlnorm_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+dmultinom">dmultinom()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dnbinom_rvec">dnbinom_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dnorm_rvec">dnorm_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dpois_rvec">dpois_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dt_rvec">dt_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dunif_rvec">dunif_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+dweibull_rvec">dweibull_rvec()</a></code>
</p>
</li></ul>

<p><strong>Summarizing across draws</strong>
</p>

<ul>
<li> <p><code><a href="#topic+draws_all">draws_all()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_any">draws_any()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_median">draws_median()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mean">draws_mean()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mode">draws_mode()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_ci">draws_ci()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_quantile">draws_quantile()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_fun">draws_fun()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+n_draw">n_draw()</a></code>
</p>
</li></ul>

<p><strong>Coercion, classes</strong>
</p>

<ul>
<li> <p><code><a href="#topic+as_list_col">as_list_col()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+expand_from_rvec">expand_from_rvec()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+is_rvec">is_rvec()</a></code>
</p>
</li></ul>

<p><strong>Weighted summaries</strong>
</p>

<ul>
<li> <p><code><a href="#topic+weighted_mad">weighted_mad()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+weighted_mean">weighted_mean()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+weighted_median">weighted_median()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+weighted_sd">weighted_sd()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+weighted_var">weighted_var()</a></code>
</p>
</li></ul>

<p><strong>Datasets</strong>
</p>

<ul>
<li> <p><code><a href="#topic+divorce">divorce()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+reg_post">reg_post()</a></code>
</p>
</li></ul>



<h3>Packages with similar functionality</h3>


<ul>
<li> <p><a href="https://CRAN.R-project.org/package=rv">rv</a>
</p>
</li>
<li> <p><a href="https://CRAN.R-project.org/package=posterior">posterior</a>
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: John Bryant <a href="mailto:john@bayesiandemography.com">john@bayesiandemography.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Bayesian Demography Limited [copyright holder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://bayesiandemography.github.io/rvec/">https://bayesiandemography.github.io/rvec/</a>
</p>
</li>
<li> <p><a href="https://github.com/bayesiandemography/rvec">https://github.com/bayesiandemography/rvec</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/bayesiandemography/rvec/issues">https://github.com/bayesiandemography/rvec/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_list_col'>Convert to List Column</h2><span id='topic+as_list_col'></span><span id='topic+as_list_col.rvec'></span><span id='topic+as_list_col.matrix'></span>

<h3>Description</h3>

<p>Convert an <a href="#topic+rvec">rvec</a> or matrix
to a list that can be used
as a list column in a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_list_col(x)

## S3 method for class 'rvec'
as_list_col(x)

## S3 method for class 'matrix'
as_list_col(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_list_col_+3A_x">x</code></td>
<td>
<p>An <a href="#topic+rvec">rvecs</a> or matrix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list:
</p>

<ul>
<li><p> If <code>x</code> is an <code>rvec</code>, then the list contains
<code>length(x)</code> vectors, each of which has
<code>n_draw(x)</code> elements.
</p>
</li>
<li><p> If <code>x</code> is a matrix, then the list contains
<code>nrow(x)</code> vectors, each of which has
<code>ncol(x)</code> elements.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+rvec">rvec()</a></code> to construct an <code>rvec</code>.
</p>
</li>
<li> <p><code><a href="#topic+expand_from_rvec">expand_from_rvec()</a></code> to convert a data frame
from using <code>rvec</code>s to using <code>draw</code> and <code>value</code>
columns.
</p>
</li>
<li><p> as_rvar???
</p>
</li>
<li><p> converting <code>rvec</code>s to
</p>
</li>
<li><p> Functions for summarising and plotting
distributions in package
<a href="https://CRAN.R-project.org/package=ggdist">ggdist</a>
understand list columns.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>l &lt;- list(1:3,
          4:6)
r &lt;- rvec(l)
as_list_col(r)
</code></pre>

<hr>
<h2 id='collapse_to_rvec'>Convert a Data Frame Between 'Database'
and 'Rvec' Formats</h2><span id='topic+collapse_to_rvec'></span><span id='topic+collapse_to_rvec.data.frame'></span><span id='topic+collapse_to_rvec.grouped_df'></span><span id='topic+expand_from_rvec'></span><span id='topic+expand_from_rvec.data.frame'></span><span id='topic+expand_from_rvec.grouped_df'></span>

<h3>Description</h3>

<p><code>collapse_to_rvec()</code> converts a data frame from
a 'database' format to an 'rvec' format.
<code>expand_from_rvec()</code>, does the opposite,
converting a data frame from an rvecs format
to a database format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>collapse_to_rvec(data, draw = draw, values = value, by = NULL, type = NULL)

## S3 method for class 'data.frame'
collapse_to_rvec(data, draw = draw, values = value, by = NULL, type = NULL)

## S3 method for class 'grouped_df'
collapse_to_rvec(data, draw = draw, values = value, by = NULL, type = NULL)

expand_from_rvec(data, draw = "draw")

## S3 method for class 'data.frame'
expand_from_rvec(data, draw = "draw")

## S3 method for class 'grouped_df'
expand_from_rvec(data, draw = "draw")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="collapse_to_rvec_+3A_data">data</code></td>
<td>
<p>A data frame, possibly
<a href="https://dplyr.tidyverse.org/reference/group_data.html">grouped</a>.</p>
</td></tr>
<tr><td><code id="collapse_to_rvec_+3A_draw">draw</code></td>
<td>
<p>&lt;<code><a href="tidyselect.html#topic+language">tidyselect</a></code>&gt;
The variable that uniquely identifies
random draws within each combination of
values for the 'by' variables. Must be quoted
for <code>expand_from_rvec()</code>.</p>
</td></tr>
<tr><td><code id="collapse_to_rvec_+3A_values">values</code></td>
<td>
<p>&lt;<code><a href="tidyselect.html#topic+language">tidyselect</a></code>&gt;
One or more variables in <code>data</code> that hold measurements.</p>
</td></tr>
<tr><td><code id="collapse_to_rvec_+3A_by">by</code></td>
<td>
<p>&lt;<code><a href="tidyselect.html#topic+language">tidyselect</a></code>&gt;
Variables used to stratify or cross-classify the data.
See Details.</p>
</td></tr>
<tr><td><code id="collapse_to_rvec_+3A_type">type</code></td>
<td>
<p>String specifying the class of rvec
to use for each variable.
Optional. See Details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>In database format, each row represents
one random draw. The data frame contains
a 'draw' variable that distinguishes different
draws within the same combination
of 'by' variables. In rvec format,
each row represents one
combination of 'by' variables, and
multiple draws are stored in an <a href="#topic+rvec">rvec</a>.
See below for examples.
</p>


<h3>Value</h3>

<p>A data frame.
</p>

<ul>
<li> <p><code>collapse_to_rvec()</code> <strong>reduces</strong> the number of rows
by a factor of <code><a href="#topic+n_draw">n_draw()</a></code>.
</p>
</li>
<li> <p><code>expand_from_rvec()</code> <strong>increases</strong> the number of rows
by a factor of <code><a href="#topic+n_draw">n_draw()</a></code>.
</p>
</li>
<li> <p><code>collapse_to_rvec()</code> silently drops all variables
that are not draw, value or grouping variables
if <code>data</code> is a
<a href="https://dplyr.tidyverse.org/reference/group_data.html">grouped</a>
data frame.
</p>
</li></ul>



<h3><code>by</code> argument</h3>

<p>The <code>by</code> argument is used to specify stratifying
variables. For instance if <code>by</code> includes <code>sex</code> and <code>age</code>,
then data frame produced by <code>collapse_to_rvec()</code>
has separate rows for each
combination of <code>sex</code> and <code>age</code>.
</p>
<p>If <code>data</code> is a
<a href="https://dplyr.tidyverse.org/reference/group_data.html">grouped</a>
data frame, then the grouping variables
take precedence over <code>by</code>.
</p>
<p>If no value for <code>by</code> is provided,
and <code>data</code> is not a grouped data frame,
then <code>collapse_to_rvec()</code>
assumes that all variables in <code>data</code> that are
not included in <code>value</code>
and <code>draw</code> should be included in <code>by</code>.
</p>


<h3><code>type</code> argument</h3>

<p>By default, <code>collapse_to_rvec()</code> calls function
<code><a href="#topic+rvec">rvec()</a></code> on each values variable in <code>data</code>.
<code><a href="#topic+rvec">rvec()</a></code> chooses the class of the output (ie
<code>rvec_chr</code>, <code>rvec_dbl</code>, <code>rvec_int</code>, or <code>rvec_lgl</code>)
depending on the input. Types can instead
be specified in advance, using the <code>type</code> argument.
<code>type</code> is a string, each character of which
specifies the class of the corresponding values variable.
The characters have the following meanings:
</p>

<ul>
<li> <p><code>"c"</code>: <code>rvec_chr</code>
</p>
</li>
<li> <p><code>"d"</code>: <code>rvec_dbl</code>
</p>
</li>
<li> <p><code>"i"</code>: <code>rvec_int</code>
</p>
</li>
<li> <p><code>"l"</code>: <code>rvec_lgl</code>
</p>
</li>
<li> <p><code>"?"</code>: Depends on inputs.
</p>
</li></ul>

<p>The codes for <code>type</code> are modified from ones used by the
<a href="https://readr.tidyverse.org">readr</a> package.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+rvec">rvec()</a></code> to construct a single <code>rvec</code>.
</p>
</li>
<li> <p><code><a href="#topic+as_list_col">as_list_col()</a></code> to convert an <code>rvec</code>
to a list variable.
</p>
</li>
<li> <p><a href="https://dplyr.tidyverse.org/reference/group_data.html">dplyr::group_vars()</a>
gives the names of the grouping variables
in a grouped data frame.
</p>
</li></ul>

<p><code>collapse_to_rvec()</code> and <code>expand_from_rvec()</code>
are analogous to
<a href="https://tidyr.tidyverse.org/reference/nest.html">tidyr::nest()</a>
and
<a href="https://tidyr.tidyverse.org/reference/unnest.html">tidyr::unnest()</a>
though <code>collapse_to_rvec()</code> and
<code>expand_from_rvec()</code> move values into and
out of rvecs, while <code>tidyr::nest()</code> and
<code>tidyr::unnest()</code> move them in and out
of data frames. (<code>tidyr::nest()</code> and
<code>tidyr::unnest()</code> are also a lot
more flexible.)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(dplyr)
data_db &lt;- tribble(
  ~occupation,    ~sim, ~pay,
  "Statistician", 1,    100,
  "Statistician", 2,    80,
  "Statistician", 3,    105,
  "Banker",       1,    400,
  "Banker",       2,    350,
  "Banker",       3,    420
)

## database format to rvec format
data_rv &lt;- data_db |&gt;
  collapse_to_rvec(draw = sim,
                   values = pay)
data_rv

## rvec format to database format
data_rv |&gt;
  expand_from_rvec()

## provide a name for the draw variable
data_rv |&gt;
  expand_from_rvec(draw = "sim")

## specify that rvec variable
## must be rvec_int
data_rv &lt;- data_db |&gt;
  collapse_to_rvec(draw = sim,
                   values = pay,
                   type = "i")

## specify stratifying variable explicitly,
## using 'by' argument
data_db |&gt;
  collapse_to_rvec(draw = sim,
                   values = pay,
                   by = occupation)

## specify stratifying variable explicitly,
## using 'group_by'
library(dplyr)
data_db |&gt;
  group_by(occupation) |&gt;
  collapse_to_rvec(draw = sim,
                   values = pay)
</code></pre>

<hr>
<h2 id='dbeta_rvec'>The Beta Distribution, Using Multiple Draws</h2><span id='topic+dbeta_rvec'></span><span id='topic+pbeta_rvec'></span><span id='topic+qbeta_rvec'></span><span id='topic+rbeta_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
Beta distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbeta_rvec(x, shape1, shape2, ncp = 0, log = FALSE)

pbeta_rvec(q, shape1, shape2, ncp = 0, lower.tail = TRUE, log.p = FALSE)

qbeta_rvec(p, shape1, shape2, ncp = 0, lower.tail = TRUE, log.p = FALSE)

rbeta_rvec(n, shape1, shape2, ncp = 0, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbeta_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_shape1">shape1</code>, <code id="dbeta_rvec_+3A_shape2">shape2</code></td>
<td>
<p>Parameters
for beta distribution. Non-negative.
See <code><a href="stats.html#topic+Beta">stats::dbeta()</a></code>. Can be an rvecs.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_ncp">ncp</code></td>
<td>
<p>Non-centrality parameter.
Default is <code>0</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_log">log</code>, <code id="dbeta_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbeta_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dbeta_rvec()</code>, <code>pbeta_rvec()</code>,
<code>pbeta_rvec()</code> and <code>rbeta_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dbeta">dbeta()</a></code>, <code><a href="stats.html#topic+pbeta">pbeta()</a></code>,
<code><a href="stats.html#topic+qbeta">qbeta()</a></code>, and <code><a href="stats.html#topic+rbeta">rbeta()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rbeta_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dbeta_rvec()</code>, <code>pbeta_rvec()</code>,
<code>pbeta_rvec()</code> and <code>rbeta_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dbeta">dbeta()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pbeta">pbeta()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qbeta">qbeta()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rbeta">rbeta()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(0, 0.25),
               c(0.5, 0.99)))
dbeta_rvec(x, shape1 = 1, shape2 = 1)
pbeta_rvec(x, shape1 = 1, shape2 = 1)

rbeta_rvec(n = 2,
           shape = 1:2,
           shape2 = 1,
           n_draw = 1000)
</code></pre>

<hr>
<h2 id='dbinom_rvec'>The Binomial Distribution, Using Multiple Draws</h2><span id='topic+dbinom_rvec'></span><span id='topic+pbinom_rvec'></span><span id='topic+qbinom_rvec'></span><span id='topic+rbinom_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
binomial distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dbinom_rvec(x, size, prob, log = FALSE)

pbinom_rvec(q, size, prob, lower.tail = TRUE, log.p = FALSE)

qbinom_rvec(p, size, prob, lower.tail = TRUE, log.p = FALSE)

rbinom_rvec(n, size, prob, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dbinom_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_size">size</code></td>
<td>
<p>Number of trials.
See <code><a href="stats.html#topic+Binomial">stats::dbinom()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_prob">prob</code></td>
<td>
<p>Probability of success in each trial.
See <code><a href="stats.html#topic+Binomial">stats::dbinom()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_log">log</code>, <code id="dbinom_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dbinom_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dbinom_rvec()</code>, <code>pbinom_rvec()</code>,
<code>pbinom_rvec()</code> and <code>rbinom_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dbinom">dbinom()</a></code>, <code><a href="stats.html#topic+pbinom">pbinom()</a></code>,
<code><a href="stats.html#topic+qbinom">qbinom()</a></code>, and <code><a href="stats.html#topic+rbinom">rbinom()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rbinom_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dbinom_rvec()</code>, <code>pbinom_rvec()</code>,
<code>pbinom_rvec()</code> and <code>rbinom_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dbinom">dbinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pbinom">pbinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qbinom">qbinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rbinom">rbinom()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 8),
               c(0, 2)))
dbinom_rvec(x, size = 8, prob = 0.3)
pbinom_rvec(x, size = 8, prob = 0.3)

rbinom_rvec(n = 2,
            size = 10,
            prob = c(0.7, 0.3),
            n_draw = 1000)
</code></pre>

<hr>
<h2 id='dcauchy_rvec'>The Cauchy Distribution, Using Multiple Draws</h2><span id='topic+dcauchy_rvec'></span><span id='topic+pcauchy_rvec'></span><span id='topic+qcauchy_rvec'></span><span id='topic+rcauchy_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
Cauchy distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dcauchy_rvec(x, location = 0, scale = 1, log = FALSE)

pcauchy_rvec(q, location = 0, scale = 1, lower.tail = TRUE, log.p = FALSE)

qcauchy_rvec(p, location = 0, scale = 1, lower.tail = TRUE, log.p = FALSE)

rcauchy_rvec(n, location = 0, scale = 1, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dcauchy_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_location">location</code></td>
<td>
<p>Center of distribution.
Default is <code>0</code>.
See <code><a href="stats.html#topic+Cauchy">stats::dcauchy()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_scale">scale</code></td>
<td>
<p>Scale parameter.
Default is <code>1</code>.
See <code><a href="stats.html#topic+Cauchy">stats::dcauchy()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_log">log</code>, <code id="dcauchy_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dcauchy_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dcauchy_rvec()</code>, <code>pcauchy_rvec()</code>,
<code>pcauchy_rvec()</code> and <code>rcauchy_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dcauchy">dcauchy()</a></code>, <code><a href="stats.html#topic+pcauchy">pcauchy()</a></code>,
<code><a href="stats.html#topic+qcauchy">qcauchy()</a></code>, and <code><a href="stats.html#topic+rcauchy">rcauchy()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rcauchy_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dcauchy_rvec()</code>, <code>pcauchy_rvec()</code>,
<code>pcauchy_rvec()</code> and <code>rcauchy_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dcauchy">dcauchy()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pcauchy">pcauchy()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qcauchy">qcauchy()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rcauchy">rcauchy()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, -5.1),
               c(0, -2.3)))
dcauchy_rvec(x)
pcauchy_rvec(x)

rcauchy_rvec(n = 2,
             location = c(-5, 5),
             n_draw = 1000)
</code></pre>

<hr>
<h2 id='dchisq_rvec'>The Chi-Squared Distribution, Using Multiple Draws</h2><span id='topic+dchisq_rvec'></span><span id='topic+pchisq_rvec'></span><span id='topic+qchisq_rvec'></span><span id='topic+rchisq_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
chi-squared distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dchisq_rvec(x, df, ncp = 0, log = FALSE)

pchisq_rvec(q, df, ncp = 0, lower.tail = TRUE, log.p = FALSE)

qchisq_rvec(p, df, ncp = 0, lower.tail = TRUE, log.p = FALSE)

rchisq_rvec(n, df, ncp = 0, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dchisq_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_df">df</code></td>
<td>
<p>Degrees of freedom.
See <code><a href="stats.html#topic+Chisquare">stats::dchisq()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_ncp">ncp</code></td>
<td>
<p>Non-centrality parameter.
Default is <code>0</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_log">log</code>, <code id="dchisq_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dchisq_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dchisq_rvec()</code>, <code>pchisq_rvec()</code>,
<code>pchisq_rvec()</code> and <code>rchisq_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dchisq">dchisq()</a></code>, <code><a href="stats.html#topic+pchisq">pchisq()</a></code>,
<code><a href="stats.html#topic+qchisq">qchisq()</a></code>, and <code><a href="stats.html#topic+rchisq">rchisq()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rchisq_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dchisq_rvec()</code>, <code>pchisq_rvec()</code>,
<code>pchisq_rvec()</code> and <code>rchisq_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dchisq">dchisq()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pchisq">pchisq()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qchisq">qchisq()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rchisq">rchisq()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5.1),
               c(0.1, 2.3)))
dchisq_rvec(x, df = 3)
pchisq_rvec(x, df = 3)

rchisq_rvec(n = 2,
            df = 3:4,
            n_draw = 1000)
</code></pre>

<hr>
<h2 id='dexp_rvec'>The Exponential Distribution, Using Multiple Draws</h2><span id='topic+dexp_rvec'></span><span id='topic+pexp_rvec'></span><span id='topic+qexp_rvec'></span><span id='topic+rexp_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
exponential distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dexp_rvec(x, rate = 1, log = FALSE)

pexp_rvec(q, rate = 1, lower.tail = TRUE, log.p = FALSE)

qexp_rvec(p, rate = 1, lower.tail = TRUE, log.p = FALSE)

rexp_rvec(n, rate = 1, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dexp_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_rate">rate</code></td>
<td>
<p>Vector of rates.
See <code><a href="stats.html#topic+Exponential">stats::dexp()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_log">log</code>, <code id="dexp_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dexp_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dexp_rvec()</code>, <code>pexp_rvec()</code>,
<code>pexp_rvec()</code> and <code>rexp_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dexp">dexp()</a></code>, <code><a href="stats.html#topic+pexp">pexp()</a></code>,
<code><a href="stats.html#topic+qexp">qexp()</a></code>, and <code><a href="stats.html#topic+rexp">rexp()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rexp_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dexp_rvec()</code>, <code>pexp_rvec()</code>,
<code>pexp_rvec()</code> and <code>rexp_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dexp">dexp()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pexp">pexp()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qexp">qexp()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rexp">rexp()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5.1),
               c(0.1, 2.3)))
dexp_rvec(x, rate = 1.5)
pexp_rvec(x, rate = 1.5)

rexp_rvec(n = 2,
          rate = c(1.5, 4),
          n_draw = 1000)
</code></pre>

<hr>
<h2 id='df_rvec'>The F Distribution, Using Multiple Draws</h2><span id='topic+df_rvec'></span><span id='topic+pf_rvec'></span><span id='topic+qf_rvec'></span><span id='topic+rf_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
F distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_rvec(x, df1, df2, ncp = 0, log = FALSE)

pf_rvec(q, df1, df2, ncp = 0, lower.tail = TRUE, log.p = FALSE)

qf_rvec(p, df1, df2, ncp = 0, lower.tail = TRUE, log.p = FALSE)

rf_rvec(n, df1, df2, ncp = 0, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="df_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_df1">df1</code>, <code id="df_rvec_+3A_df2">df2</code></td>
<td>
<p>Degrees of freedom.
See <code><a href="stats.html#topic+Fdist">stats::df()</a></code>. Can be rvecs.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_ncp">ncp</code></td>
<td>
<p>Non-centrality parameter.
Default is <code>0</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_log">log</code>, <code id="df_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="df_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>df_rvec()</code>, <code>pf_rvec()</code>,
<code>pf_rvec()</code> and <code>rf_rvec()</code> work like
base R functions <code><a href="stats.html#topic+df">df()</a></code>, <code><a href="stats.html#topic+pf">pf()</a></code>,
<code><a href="stats.html#topic+qf">qf()</a></code>, and <code><a href="stats.html#topic+rf">rf()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rf_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>df_rvec()</code>, <code>pf_rvec()</code>,
<code>pf_rvec()</code> and <code>rf_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+df">df()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pf">pf()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qf">qf()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rf">rf()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5.1),
               c(0.1, 2.3)))
df_rvec(x, df1 = 1, df2 = 3)
pf_rvec(x, df1 = 1, df2 = 3)

rf_rvec(n = 2, df1 = 1,df2 = 2:3, n_draw = 1000)
</code></pre>

<hr>
<h2 id='dgamma_rvec'>The Gamma Distribution, Using Multiple Draws</h2><span id='topic+dgamma_rvec'></span><span id='topic+pgamma_rvec'></span><span id='topic+qgamma_rvec'></span><span id='topic+rgamma_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
gamma distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dgamma_rvec(x, shape, rate = 1, scale = 1/rate, log = FALSE)

pgamma_rvec(
  q,
  shape,
  rate = 1,
  scale = 1/rate,
  lower.tail = TRUE,
  log.p = FALSE
)

qgamma_rvec(
  p,
  shape,
  rate = 1,
  scale = 1/rate,
  lower.tail = TRUE,
  log.p = FALSE
)

rgamma_rvec(n, shape, rate = 1, scale = 1/rate, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dgamma_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_shape">shape</code></td>
<td>
<p>Shape parameter.
See <code><a href="stats.html#topic+GammaDist">stats::dgamma()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_rate">rate</code></td>
<td>
<p>Rate parameter. See <code><a href="stats.html#topic+GammaDist">stats::dgamma()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_scale">scale</code></td>
<td>
<p>Scale parameter.
An alterative to <code>rate</code>. See <code><a href="stats.html#topic+GammaDist">stats::dgamma()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_log">log</code>, <code id="dgamma_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dgamma_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dgamma_rvec()</code>, <code>pgamma_rvec()</code>,
<code>pgamma_rvec()</code> and <code>rgamma_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dgamma">dgamma()</a></code>, <code><a href="stats.html#topic+pgamma">pgamma()</a></code>,
<code><a href="stats.html#topic+qgamma">qgamma()</a></code>, and <code><a href="stats.html#topic+rgamma">rgamma()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rgamma_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dgamma_rvec()</code>, <code>pgamma_rvec()</code>,
<code>pgamma_rvec()</code> and <code>rgamma_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dgamma">dgamma()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pgamma">pgamma()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qgamma">qgamma()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rgamma">rgamma()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5.1),
               c(0.1, 2.3)))
dgamma_rvec(x, shape = 1)
pgamma_rvec(x, shape = 1)

rgamma_rvec(n = 2,
            shape = 1,
            rate = c(0.5, 1),
            n_draw = 1000)
</code></pre>

<hr>
<h2 id='dgeom_rvec'>The Geometric Distribution, Using Multiple Draws</h2><span id='topic+dgeom_rvec'></span><span id='topic+pgeom_rvec'></span><span id='topic+qgeom_rvec'></span><span id='topic+rgeom_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
geometric distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dgeom_rvec(x, prob, log = FALSE)

pgeom_rvec(q, prob, lower.tail = TRUE, log.p = FALSE)

qgeom_rvec(p, prob, lower.tail = TRUE, log.p = FALSE)

rgeom_rvec(n, prob, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dgeom_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_prob">prob</code></td>
<td>
<p>Probability of
success in each trial.
See <code><a href="stats.html#topic+Geometric">stats::dgeom()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_log">log</code>, <code id="dgeom_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dgeom_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dgeom_rvec()</code>, <code>pgeom_rvec()</code>,
<code>pgeom_rvec()</code> and <code>rgeom_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dgeom">dgeom()</a></code>, <code><a href="stats.html#topic+pgeom">pgeom()</a></code>,
<code><a href="stats.html#topic+qgeom">qgeom()</a></code>, and <code><a href="stats.html#topic+rgeom">rgeom()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rgeom_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dgeom_rvec()</code>, <code>pgeom_rvec()</code>,
<code>pgeom_rvec()</code> and <code>rgeom_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dgeom">dgeom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pgeom">pgeom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qgeom">qgeom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rgeom">rgeom()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5),
               c(0, 2)))
dgeom_rvec(x, prob = 0.3)
pgeom_rvec(x, prob = 0.3)

rgeom_rvec(n = 2,
           prob = c(0.5, 0.8),
           n_draw = 1000)
</code></pre>

<hr>
<h2 id='dhyper_rvec'>The Hypergeometric Distribution, Using Multiple Draws</h2><span id='topic+dhyper_rvec'></span><span id='topic+phyper_rvec'></span><span id='topic+qhyper_rvec'></span><span id='topic+rhyper_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
hypergeometric distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dhyper_rvec(x, m, n, k, log = FALSE)

phyper_rvec(q, m, n, k, lower.tail = TRUE, log.p = FALSE)

qhyper_rvec(p, m, n, k, lower.tail = TRUE, log.p = FALSE)

rhyper_rvec(nn, m, n, k, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dhyper_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_m">m</code></td>
<td>
<p>Number of white balls in the urn.
See <code><a href="stats.html#topic+Hypergeometric">stats::dhyper()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_n">n</code></td>
<td>
<p>Number of black balls
in the urn. See <code><a href="stats.html#topic+Hypergeometric">stats::rhyper()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_k">k</code></td>
<td>
<p>Number of balls drawn from urn.
See <code><a href="stats.html#topic+Hypergeometric">stats::dhyper()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_log">log</code>, <code id="dhyper_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_nn">nn</code></td>
<td>
<p>The length of the random vector
being created. The equivalent of <code>n</code> in
other random variate functions.
See <code><a href="stats.html#topic+Hypergeometric">stats::rhyper()</a></code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dhyper_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dhyper_rvec()</code>, <code>phyper_rvec()</code>,
<code>phyper_rvec()</code> and <code>rhyper_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dhyper">dhyper()</a></code>, <code><a href="stats.html#topic+phyper">phyper()</a></code>,
<code><a href="stats.html#topic+qhyper">qhyper()</a></code>, and <code><a href="stats.html#topic+rhyper">rhyper()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rhyper_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dhyper_rvec()</code>, <code>phyper_rvec()</code>,
<code>phyper_rvec()</code> and <code>rhyper_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dhyper">dhyper()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+phyper">phyper()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qhyper">qhyper()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rhyper">rhyper()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5),
               c(0, 2)))
dhyper_rvec(x, m = 6, n = 6, k = 5)
phyper_rvec(x, m = 6, n = 6, k = 5)

rhyper_rvec(nn = 2,
            k = c(3, 5),
            m = 6,
            n = 6,
            n_draw = 1000)
</code></pre>

<hr>
<h2 id='divorce'>Divorce Rates in New Zealand</h2><span id='topic+divorce'></span>

<h3>Description</h3>

<p>Posterior sample from a model of divorce rates
in New Zealand.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>divorce
</code></pre>


<h3>Format</h3>

<p>A tibble with 30,000 rows and the following variables:
</p>

<ul>
<li> <p><code>age</code>: Age, in 5-year age groups, 15-19 to 65+.
</p>
</li>
<li> <p><code>sex</code>: <code>"Female"</code> or <code>"Male"</code>.
</p>
</li>
<li> <p><code>draw</code>: Index for random draw.
</p>
</li>
<li> <p><code>rate</code>: Divorce rate, per 1000.
</p>
</li></ul>



<h3>Source</h3>

<p>Derived from data in tables &quot;Age at divorces by
sex (marriages and civil unions) (Annual-Dec)&quot; and
&quot;Estimated Resident Population by Age and Sex (1991+)
(Annual-Dec)&quot; in the online
database Infoshare
on the Statistics New Zealand website,
downloaded on 22 March 2023.
</p>

<hr>
<h2 id='dlnorm_rvec'>The Log-Normal Distribution, Using Multiple Draws</h2><span id='topic+dlnorm_rvec'></span><span id='topic+plnorm_rvec'></span><span id='topic+qlnorm_rvec'></span><span id='topic+rlnorm_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
log-normal distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dlnorm_rvec(x, meanlog = 0, sdlog = 1, log = FALSE)

plnorm_rvec(q, meanlog = 0, sdlog = 1, lower.tail = TRUE, log.p = FALSE)

qlnorm_rvec(p, meanlog = 0, sdlog = 1, lower.tail = TRUE, log.p = FALSE)

rlnorm_rvec(n, meanlog = 0, sdlog = 1, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dlnorm_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_meanlog">meanlog</code></td>
<td>
<p>Mean of distribution, on log scale.
Default is <code>0</code>. See <code><a href="stats.html#topic+Lognormal">stats::dlnorm()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_sdlog">sdlog</code></td>
<td>
<p>Standard deviation of distribution,
on log scale. Default is <code>1</code>. See <code><a href="stats.html#topic+Lognormal">stats::dlnorm()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_log">log</code>, <code id="dlnorm_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dlnorm_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dlnorm_rvec()</code>, <code>plnorm_rvec()</code>,
<code>plnorm_rvec()</code> and <code>rlnorm_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dlnorm">dlnorm()</a></code>, <code><a href="stats.html#topic+plnorm">plnorm()</a></code>,
<code><a href="stats.html#topic+qlnorm">qlnorm()</a></code>, and <code><a href="stats.html#topic+rlnorm">rlnorm()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rlnorm_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dlnorm_rvec()</code>, <code>plnorm_rvec()</code>,
<code>plnorm_rvec()</code> and <code>rlnorm_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dlnorm">dlnorm()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+plnorm">plnorm()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qlnorm">qlnorm()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rlnorm">rlnorm()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3.1, 5.7),
               c(0.2, 2.3)))
dlnorm_rvec(x)
plnorm_rvec(x)

rlnorm_rvec(n = 2,
            meanlog = c(1, 3),
            n_draw = 1000)
</code></pre>

<hr>
<h2 id='dmultinom_rvec'>The Multinomial Distribution, Using Multiple Draws</h2><span id='topic+dmultinom_rvec'></span><span id='topic+rmultinom_rvec'></span>

<h3>Description</h3>

<p>Density function random generation for the
multinomial distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dmultinom_rvec(x, size = NULL, prob, log = FALSE)

rmultinom_rvec(n, size, prob, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dmultinom_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dmultinom_rvec_+3A_size">size</code></td>
<td>
<p>Total number of trials.
See <code><a href="stats.html#topic+Multinom">stats::dmultinom()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dmultinom_rvec_+3A_prob">prob</code></td>
<td>
<p>Numeric non-negative vector,
giving the probability of each outcome.
Internally normalized to sum to 1.
See <code><a href="stats.html#topic+Multinom">stats::dmultinom()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dmultinom_rvec_+3A_log">log</code></td>
<td>
<p>Whether to return
<code>log(p)</code> rather than <code>p</code>. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dmultinom_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dmultinom_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dmultinom_rvec()</code>and
<code>rmultinom_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dmultinom">dmultinom()</a></code>
and <code><a href="stats.html#topic+rmultinom">rmultinom()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rmultinom_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p>Like the base R functions <code><a href="stats.html#topic+dmultinom">dmultinom()</a></code>
and [rmultinom(), <code>dmultinom_rvec()</code> and
<code>rmultinom_rvec()</code> do not recycle their arguments.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>dmultinom()</code>
</p>

<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>

</li>
<li> <p><code>rmultinom()</code>
</p>

<ul>
<li><p> If <code>n</code> is 1, an rvec or
ordinary R vector.
</p>
</li>
<li><p> If <code>n</code> is greater than 1, a list
of rvecs or ordinary R vectors
</p>
</li></ul>

</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dmultinom">dmultinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rmultinom">rmultinom()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(1, 4, 0),
               c(1, 0, 0),
               c(1, 0, 0),
               c(1, 0, 4)))
prob &lt;- c(1/4, 1/4, 1/4, 1/4)
dmultinom_rvec(x = x, prob = prob)
rmultinom_rvec(n = 1,
               size = 100,
               prob = c(0.1, 0.4, 0.2, 0.3),
               n_draw = 1000)
</code></pre>

<hr>
<h2 id='dnbinom_rvec'>The Negative Binomial Distribution, Using Multiple Draws</h2><span id='topic+dnbinom_rvec'></span><span id='topic+pnbinom_rvec'></span><span id='topic+qnbinom_rvec'></span><span id='topic+rnbinom_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
negative binomial distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dnbinom_rvec(x, size, prob, mu, log = FALSE)

pnbinom_rvec(q, size, prob, mu, lower.tail = TRUE, log.p = FALSE)

qnbinom_rvec(p, size, prob, mu, lower.tail = TRUE, log.p = FALSE)

rnbinom_rvec(n, size, prob, mu, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dnbinom_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_size">size</code></td>
<td>
<p>Number of trials.
See <code><a href="stats.html#topic+NegBinomial">stats::dnbinom()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_prob">prob</code></td>
<td>
<p>Probability of success in each trial.
See <code><a href="stats.html#topic+NegBinomial">stats::dnbinom()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_mu">mu</code></td>
<td>
<p>Mean value. See <code><a href="stats.html#topic+NegBinomial">stats::dnbinom()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_log">log</code>, <code id="dnbinom_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dnbinom_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dnbinom_rvec()</code>, <code>pnbinom_rvec()</code>,
<code>pnbinom_rvec()</code> and <code>rnbinom_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dnbinom">dnbinom()</a></code>, <code><a href="stats.html#topic+pnbinom">pnbinom()</a></code>,
<code><a href="stats.html#topic+qnbinom">qnbinom()</a></code>, and <code><a href="stats.html#topic+rnbinom">rnbinom()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rnbinom_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dnbinom_rvec()</code>, <code>pnbinom_rvec()</code>,
<code>pnbinom_rvec()</code> and <code>rnbinom_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dnbinom">dnbinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pnbinom">pnbinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qnbinom">qnbinom()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rnbinom">rnbinom()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5),
               c(0, 2)))
dnbinom_rvec(x, size = 6, prob = 0.2)
pnbinom_rvec(x, size = 6, prob = 0.2)

rnbinom_rvec(n = 2,
             size = 2,
             mu = c(4, 8),
             n_draw = 1000)
</code></pre>

<hr>
<h2 id='dnorm_rvec'>The Normal Distribution, Using Multiple Draws</h2><span id='topic+dnorm_rvec'></span><span id='topic+pnorm_rvec'></span><span id='topic+qnorm_rvec'></span><span id='topic+rnorm_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
normal distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dnorm_rvec(x, mean = 0, sd = 1, log = FALSE)

pnorm_rvec(q, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)

qnorm_rvec(p, mean = 0, sd = 1, lower.tail = TRUE, log.p = FALSE)

rnorm_rvec(n, mean = 0, sd = 1, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dnorm_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_mean">mean</code></td>
<td>
<p>Mean of distribution.
Default is <code>0</code>.  See <code><a href="stats.html#topic+Normal">stats::dnorm()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_sd">sd</code></td>
<td>
<p>Standard deviation.
Default is <code>1</code>. See <code><a href="stats.html#topic+Normal">stats::dnorm()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_log">log</code>, <code id="dnorm_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dnorm_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dnorm_rvec()</code>, <code>pnorm_rvec()</code>,
<code>pnorm_rvec()</code> and <code>rnorm_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dnorm">dnorm()</a></code>, <code><a href="stats.html#topic+pnorm">pnorm()</a></code>,
<code><a href="stats.html#topic+qnorm">qnorm()</a></code>, and <code><a href="stats.html#topic+rnorm">rnorm()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rnorm_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dnorm_rvec()</code>, <code>pnorm_rvec()</code>,
<code>pnorm_rvec()</code> and <code>rnorm_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dnorm">dnorm()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pnorm">pnorm()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qnorm">qnorm()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rnorm">rnorm()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3.1, -5.4),
               c(0.1, 2.3)))
dnorm_rvec(x)
pnorm_rvec(x)

rnorm_rvec(n = 2,
           mean = c(-3, 3),
           sd = c(2, 4),
           n_draw = 1000)
</code></pre>

<hr>
<h2 id='dpois_rvec'>The Poisson Distribution, Using Multiple Draws</h2><span id='topic+dpois_rvec'></span><span id='topic+ppois_rvec'></span><span id='topic+qpois_rvec'></span><span id='topic+rpois_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
Poisson distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dpois_rvec(x, lambda, log = FALSE)

ppois_rvec(q, lambda, lower.tail = TRUE, log.p = FALSE)

qpois_rvec(p, lambda, lower.tail = TRUE, log.p = FALSE)

rpois_rvec(n, lambda, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dpois_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_lambda">lambda</code></td>
<td>
<p>Vector of means.
See <code><a href="stats.html#topic+Poisson">stats::rpois()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_log">log</code>, <code id="dpois_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dpois_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dpois_rvec()</code>, <code>ppois_rvec()</code>,
<code>ppois_rvec()</code> and <code>rpois_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dpois">dpois()</a></code>, <code><a href="stats.html#topic+ppois">ppois()</a></code>,
<code><a href="stats.html#topic+qpois">qpois()</a></code>, and <code><a href="stats.html#topic+rpois">rpois()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rpois_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dpois_rvec()</code>, <code>ppois_rvec()</code>,
<code>ppois_rvec()</code> and <code>rpois_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dpois">dpois()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+ppois">ppois()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qpois">qpois()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rpois">rpois()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 5),
               c(1, 2)))
dpois_rvec(x, lambda = 3)
ppois_rvec(x, lambda = 3)

rpois_rvec(n = 2,
           lambda = c(5, 10),
           n_draw = 1000)
</code></pre>

<hr>
<h2 id='draws_all'>Logical Operations Across Random Draws</h2><span id='topic+draws_all'></span><span id='topic+draws_all.rvec_chr'></span><span id='topic+draws_all.rvec'></span><span id='topic+draws_any'></span><span id='topic+draws_any.rvec_chr'></span><span id='topic+draws_any.rvec'></span>

<h3>Description</h3>

<p>Apply <code>all</code> or <code>any</code> logical summaries
across random draws.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draws_all(x, na_rm = FALSE)

## S3 method for class 'rvec_chr'
draws_all(x, na_rm = FALSE)

## S3 method for class 'rvec'
draws_all(x, na_rm = FALSE)

draws_any(x, na_rm = FALSE)

## S3 method for class 'rvec_chr'
draws_any(x, na_rm = FALSE)

## S3 method for class 'rvec'
draws_any(x, na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draws_all_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="draws_all_+3A_na_rm">na_rm</code></td>
<td>
<p>Whether to remove NAs before
calculating summaries. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector.
</p>


<h3>See Also</h3>

<p>Apply pre-specified functions across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_median">draws_median()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mean">draws_mean()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mode">draws_mode()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_ci">draws_ci()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_quantile">draws_quantile()</a></code>
</p>
</li></ul>

<p>Apply arbitrary function across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_fun">draws_fun()</a></code> to apply abritrary functions
</p>
</li></ul>

<p>For additional functions for summarising random draws, see
<a href="https://CRAN.R-project.org/package=tidybayes">tidybayes</a>
and <a href="https://CRAN.R-project.org/package=ggdist">ggdist</a>.
Function <code><a href="#topic+as_list_col">as_list_col()</a></code> converts rvecs into a
format that <code>tidybayes</code> and <code>ggdist</code> can work with.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- rbind(a = c(TRUE,  FALSE,  TRUE),
           b = c(TRUE,  TRUE,   TRUE),
           c = c(FALSE, FALSE,  FALSE))
x &lt;- rvec(m)
x
draws_all(x)
draws_any(x)
</code></pre>

<hr>
<h2 id='draws_ci'>Credible Intervals from Random Draws</h2><span id='topic+draws_ci'></span><span id='topic+draws_ci.rvec'></span><span id='topic+draws_ci.rvec_chr'></span>

<h3>Description</h3>

<p>Summarise the distribution of random draws
in an <code>rvec</code>, using a simple credible interval.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draws_ci(x, width = 0.95, prefix = NULL, na_rm = FALSE)

## S3 method for class 'rvec'
draws_ci(x, width = 0.95, prefix = NULL, na_rm = FALSE)

## S3 method for class 'rvec_chr'
draws_ci(x, width = 0.95, prefix = NULL, na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draws_ci_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="draws_ci_+3A_width">width</code></td>
<td>
<p>A number, where <code style="white-space: pre;">&#8288;0 &lt; width &lt;= 1&#8288;</code>.
Default is <code>0.975</code>.</p>
</td></tr>
<tr><td><code id="draws_ci_+3A_prefix">prefix</code></td>
<td>
<p>String to be added to the
names of columns in the result.
Defaults to name of <code>x</code>.</p>
</td></tr>
<tr><td><code id="draws_ci_+3A_na_rm">na_rm</code></td>
<td>
<p>Whether to remove NAs before
calculating summaries. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble">tibble</a>
with three columns.
</p>


<h3>Warning</h3>

<p>It is tempting to assign the results
of a call to <code>draws_ci()</code> to a
column in a data frame,
as in
</p>
<p><code>my_df$ci &lt;- draws_ci(my_rvec)</code>
</p>
<p>However, creating columns in
this way can corrupt data frames.
For safer options,
see the examples below.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+draws_quantile">draws_quantile()</a></code> gives more options
for forming quantiles.
</p>
<p>Other ways of applying pre-specified functions
across draws are:
</p>

<ul>
<li> <p><code><a href="#topic+draws_all">draws_all()</a></code>
</p>
</li>
<li> <p><a href="#topic+draws_any">draws_any</a>
</p>
</li>
<li> <p><code><a href="#topic+draws_median">draws_median()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mean">draws_mean()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mode">draws_mode()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_quantile">draws_quantile()</a></code>
</p>
</li></ul>

<p>Apply arbitrary function across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_fun">draws_fun()</a></code> to apply abritrary functions
</p>
</li></ul>

<p>For additional functions for summarising random draws, see
<a href="https://CRAN.R-project.org/package=tidybayes">tidybayes</a>
and <a href="https://CRAN.R-project.org/package=ggdist">ggdist</a>.
Function <code><a href="#topic+as_list_col">as_list_col()</a></code> converts rvecs into a
format that <code>tidybayes</code> and <code>ggdist</code> can work with.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0)
m &lt;- rbind(a = rnorm(100, mean = 5, sd = 2),
           b = rnorm(100, mean = -3, sd = 3),
           c = rnorm(100, mean = 0, sd = 20))
x &lt;- rvec(m)
x
draws_ci(x)

## results from 'draws_ci'
## assigned to a data frame
library(dplyr)
df &lt;- data.frame(x)

## base R approach
cbind(df, draws_ci(x))

## a tidyverse alternative:
## mutate with no '='
df |&gt; mutate(draws_ci(x))
</code></pre>

<hr>
<h2 id='draws_fun'>Apply Summary Function Across Random Draws</h2><span id='topic+draws_fun'></span><span id='topic+draws_fun.rvec'></span>

<h3>Description</h3>

<p>Summarise the distribution of random draws
in an <code>rvec</code>, using a function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draws_fun(x, fun, ...)

## S3 method for class 'rvec'
draws_fun(x, fun, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draws_fun_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="draws_fun_+3A_fun">fun</code></td>
<td>
<p>A function.</p>
</td></tr>
<tr><td><code id="draws_fun_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>fun</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The results from calls to <code>fun</code>,
combined using <code><a href="vctrs.html#topic+vec_c">vctrs::vec_c()</a></code>.
</p>


<h3>See Also</h3>

<p>Apply pre-specified functions across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_all">draws_all()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_any">draws_any()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_ci">draws_ci()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_median">draws_median()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mean">draws_mean()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mode">draws_mode()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_quantile">draws_quantile()</a></code>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0)
m &lt;- rbind(a = rnorm(100, mean = 5, sd = 2),
           b = rnorm(100, mean = -3, sd = 3),
           c = rnorm(100, mean = 0, sd = 20))
x &lt;- rvec(m)
x
draws_fun(x, fun = mad)
draws_fun(x, fun = range)
draws_fun(x, weighted.mean, wt = runif(100))
draws_fun(x, function(x) sd(x) / mean(x))
</code></pre>

<hr>
<h2 id='draws_median'>Medians, Means, and Modes Across Random Draws</h2><span id='topic+draws_median'></span><span id='topic+draws_median.rvec_chr'></span><span id='topic+draws_median.rvec'></span><span id='topic+draws_mean'></span><span id='topic+draws_mean.rvec'></span><span id='topic+draws_mean.rvec_chr'></span><span id='topic+draws_mode'></span><span id='topic+draws_mode.rvec'></span>

<h3>Description</h3>

<p>Summarise the distribution of random draws
in an <code>rvec</code>, using means, medians, or modes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draws_median(x, na_rm = FALSE)

## S3 method for class 'rvec_chr'
draws_median(x, na_rm = FALSE)

## S3 method for class 'rvec'
draws_median(x, na_rm = FALSE)

draws_mean(x, na_rm = FALSE)

## S3 method for class 'rvec'
draws_mean(x, na_rm = FALSE)

## S3 method for class 'rvec_chr'
draws_mean(x, na_rm = FALSE)

draws_mode(x, na_rm = FALSE)

## S3 method for class 'rvec'
draws_mode(x, na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draws_median_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="draws_median_+3A_na_rm">na_rm</code></td>
<td>
<p>Whether to remove NAs before
calculating summaries. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>method</code> is <code>"mode"</code>, <code>reduce_rvec()</code>
returns the most common value for each
observation. When there is a tie, it returns
<code>NA</code>.
</p>


<h3>Value</h3>

<p>A vector.
</p>


<h3>See Also</h3>

<p>Apply pre-specified functions across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_all">draws_all()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_any">draws_any()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_ci">draws_ci()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_quantile">draws_quantile()</a></code>
</p>
</li></ul>

<p>Apply arbitrary function across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_fun">draws_fun()</a></code> to apply abritrary functions
</p>
</li></ul>

<p>For additional functions for summarising random draws, see
<a href="https://CRAN.R-project.org/package=tidybayes">tidybayes</a>
and <a href="https://CRAN.R-project.org/package=ggdist">ggdist</a>.
Function <code><a href="#topic+as_list_col">as_list_col()</a></code> converts rvecs into a
format that <code>tidybayes</code> and <code>ggdist</code> can work with.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- rbind(a = c(1, 1, 1, 2, 3),
           b = c(2, 4, 0, 2, 3),
           c = c(0, 0, 1, 0, 100))
x &lt;- rvec(m)
x
draws_median(x)
draws_mean(x)
draws_mode(x)
</code></pre>

<hr>
<h2 id='draws_quantile'>Quantiles Across Random Draws</h2><span id='topic+draws_quantile'></span><span id='topic+draws_quantile.rvec'></span><span id='topic+draws_quantile.rvec_chr'></span>

<h3>Description</h3>

<p>Summarise the distribution of random draws
in an <code>rvec</code>, using quantiles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>draws_quantile(x, probs = c(0.025, 0.25, 0.5, 0.75, 0.975), na_rm = FALSE)

## S3 method for class 'rvec'
draws_quantile(x, probs = c(0.025, 0.25, 0.5, 0.75, 0.975), na_rm = FALSE)

## S3 method for class 'rvec_chr'
draws_quantile(x, probs = c(0.025, 0.25, 0.5, 0.75, 0.975), na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="draws_quantile_+3A_x">x</code></td>
<td>
<p>An object of class <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="draws_quantile_+3A_probs">probs</code></td>
<td>
<p>Vector of probabilities.</p>
</td></tr>
<tr><td><code id="draws_quantile_+3A_na_rm">na_rm</code></td>
<td>
<p>Whether to remove NAs before
calculating summaries. Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>probs</code> argument defaults to
<code>c(0.025, 0.25, 0.5, 0.75, 0.975)</code>,
the values needed for a median,
a 50% credible intervals, and a
95% credible interval.
</p>


<h3>Value</h3>

<p>A <a href="tibble.html#topic+tibble">tibble</a>.
</p>


<h3>Warning</h3>

<p>It is tempting to assign the results
of a call to <code>draws_quantile()</code> to a
column in a data frame,
as in
</p>
<p><code>my_df$quantile &lt;- draws_quantile(my_rvec)</code>
</p>
<p>However, creating data frame columns in
this way can corrupt data
frames. For safer options,
see the examples below.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+draws_ci">draws_ci()</a></code> creates simple credible intervals.
</p>
<p>Other functions for applying pre-specified
functions across draws are:
</p>

<ul>
<li> <p><code><a href="#topic+draws_all">draws_all()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_any">draws_any()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_ci">draws_ci()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_median">draws_median()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mean">draws_mean()</a></code>
</p>
</li>
<li> <p><code><a href="#topic+draws_mode">draws_mode()</a></code>
</p>
</li></ul>

<p>Apply arbitrary function across draws:
</p>

<ul>
<li> <p><code><a href="#topic+draws_fun">draws_fun()</a></code> to apply arbitrary functions
</p>
</li></ul>

<p>For additional functions for summarising random draws, see
<a href="https://CRAN.R-project.org/package=tidybayes">tidybayes</a>
and <a href="https://CRAN.R-project.org/package=ggdist">ggdist</a>.
Function <code><a href="#topic+as_list_col">as_list_col()</a></code> converts rvecs into a
format that <code>tidybayes</code> and <code>ggdist</code> can work with.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(0)
m &lt;- rbind(a = rnorm(100, mean = 5, sd = 2),
           b = rnorm(100, mean = -3, sd = 3),
           c = rnorm(100, mean = 0, sd = 20))
x &lt;- rvec(m)
x
draws_quantile(x)

## results from 'draws_quantile'
## assigned to a data frame
library(dplyr)
df &lt;- data.frame(x)

## base R approach
cbind(df, draws_quantile(x))

## a tidyverse alternative:
## mutate with no '='
df |&gt;
  mutate(draws_quantile(x))
</code></pre>

<hr>
<h2 id='dt_rvec'>Student t Distribution, Using Multiple Draws</h2><span id='topic+dt_rvec'></span><span id='topic+pt_rvec'></span><span id='topic+qt_rvec'></span><span id='topic+rt_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
t distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dt_rvec(x, df, ncp = 0, log = FALSE)

pt_rvec(q, df, ncp = 0, lower.tail = TRUE, log.p = FALSE)

qt_rvec(p, df, ncp = 0, lower.tail = TRUE, log.p = FALSE)

rt_rvec(n, df, ncp = 0, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dt_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_df">df</code></td>
<td>
<p>Degrees of freedom.
See <code><a href="stats.html#topic+TDist">stats::dt()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_ncp">ncp</code></td>
<td>
<p>Non-centrality parameter.
Default is <code>0</code>. See <code><a href="stats.html#topic+TDist">stats::dt()</a></code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_log">log</code>, <code id="dt_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dt_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dt_rvec()</code>, <code>pt_rvec()</code>,
<code>pt_rvec()</code> and <code>rt_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dt">dt()</a></code>, <code><a href="stats.html#topic+pt">pt()</a></code>,
<code><a href="stats.html#topic+qt">qt()</a></code>, and <code><a href="stats.html#topic+rt">rt()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rt_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dt_rvec()</code>, <code>pt_rvec()</code>,
<code>pt_rvec()</code> and <code>rt_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dt">dt()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pt">pt()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qt">qt()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rt">rt()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(-3.2, 5.3),
               c(-1.6, 2)))
dt_rvec(x, df = 4)
pt_rvec(x, df = 4)

rt_rvec(n = 2,
        df = c(3, 5),
        n_draw = 1000)
</code></pre>

<hr>
<h2 id='dunif_rvec'>Uniform Distribution, Using Multiple Draws</h2><span id='topic+dunif_rvec'></span><span id='topic+punif_rvec'></span><span id='topic+qunif_rvec'></span><span id='topic+runif_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
uniform distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dunif_rvec(x, min = 0, max = 1, log = FALSE)

punif_rvec(q, min = 0, max = 1, lower.tail = TRUE, log.p = FALSE)

qunif_rvec(p, min = 0, max = 1, lower.tail = TRUE, log.p = FALSE)

runif_rvec(n, min = 0, max = 1, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dunif_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_min">min</code></td>
<td>
<p>Lower limits. Default is <code>0</code>.
See <code><a href="stats.html#topic+Uniform">stats::dunif()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_max">max</code></td>
<td>
<p>Upper limited. Default is <code>1</code>.
See <code><a href="stats.html#topic+Uniform">stats::dunif()</a></code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_log">log</code>, <code id="dunif_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dunif_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dunif_rvec()</code>, <code>punif_rvec()</code>,
<code>punif_rvec()</code> and <code>runif_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dt">dt()</a></code>, <code><a href="stats.html#topic+pt">pt()</a></code>,
<code><a href="stats.html#topic+qt">qt()</a></code>, and <code><a href="stats.html#topic+rt">rt()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>runif_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dunif_rvec()</code>, <code>punif_rvec()</code>,
<code>punif_rvec()</code> and <code>runif_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dunif">dunif()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+punif">punif()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qunif">qunif()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+runif">runif()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(0.2, 0.5),
               c(0.6, 0.7)))
dunif_rvec(x)
punif_rvec(x)

runif_rvec(n = 2,
           min = c(0, 0.5),
           n_draw = 1000)
</code></pre>

<hr>
<h2 id='dweibull_rvec'>Weibull Distribution, Using Multiple Draws</h2><span id='topic+dweibull_rvec'></span><span id='topic+pweibull_rvec'></span><span id='topic+qweibull_rvec'></span><span id='topic+rweibull_rvec'></span>

<h3>Description</h3>

<p>Density, distribution function,
quantile function and random generation for the
Weibull distribution, modified to work with
rvecs.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dweibull_rvec(x, shape, scale = 1, log = FALSE)

pweibull_rvec(q, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)

qweibull_rvec(p, shape, scale = 1, lower.tail = TRUE, log.p = FALSE)

rweibull_rvec(n, shape, scale = 1, n_draw = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dweibull_rvec_+3A_x">x</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_shape">shape</code></td>
<td>
<p>Shape parameter. See <code><a href="stats.html#topic+Weibull">stats::dweibull()</a></code>.
Can be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_scale">scale</code></td>
<td>
<p>Scale parameter. See <code><a href="stats.html#topic+Weibull">stats::dweibull()</a></code>
Default is <code>1</code>. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_log">log</code>, <code id="dweibull_rvec_+3A_log.p">log.p</code></td>
<td>
<p>Whether to return results
on a log scale. Default is
<code>FALSE</code>. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_q">q</code></td>
<td>
<p>Quantiles. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_lower.tail">lower.tail</code></td>
<td>
<p>Whether to return
<code class="reqn">P[X \le x]</code>, as opposed to
<code class="reqn">P[X &gt; x]</code>. Default is <code>TRUE</code>.
Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_p">p</code></td>
<td>
<p>Probabilities. Can be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_n">n</code></td>
<td>
<p>The length of random vector being
created. Cannot be an rvec.</p>
</td></tr>
<tr><td><code id="dweibull_rvec_+3A_n_draw">n_draw</code></td>
<td>
<p>Number of random draws
in the random vector being
created. Cannot be an rvec.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Functions <code>dweibull_rvec()</code>, <code>pweibull_rvec()</code>,
<code>pweibull_rvec()</code> and <code>rweibull_rvec()</code> work like
base R functions <code><a href="stats.html#topic+dt">dt()</a></code>, <code><a href="stats.html#topic+pt">pt()</a></code>,
<code><a href="stats.html#topic+qt">qt()</a></code>, and <code><a href="stats.html#topic+rt">rt()</a></code>, except that
they accept rvecs as inputs. If any
input is an rvec, then the output will be too.
Function <code>rweibull_rvec()</code> also returns an
rvec if a value for <code>n_draw</code> is supplied.
</p>
<p><code>dweibull_rvec()</code>, <code>pweibull_rvec()</code>,
<code>pweibull_rvec()</code> and <code>rweibull_rvec()</code>
use <a href="vctrs.html#topic+theory-faq-recycling">tidyverse</a>
vector recycling rules:
</p>

<ul>
<li><p> Vectors of length 1 are recycled
</p>
</li>
<li><p> All other vectors must have the same size
</p>
</li></ul>



<h3>Value</h3>


<ul>
<li><p> If any of the arguments are rvecs,
or if a value for <code>n_draw</code> is supplied,
then an <a href="#topic+rvec">rvec</a>
</p>
</li>
<li><p> Otherwise an ordinary R vector.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="stats.html#topic+dweibull">dweibull()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+pweibull">pweibull()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+qweibull">qweibull()</a></code>
</p>
</li>
<li> <p><code><a href="stats.html#topic+rweibull">rweibull()</a></code>
</p>
</li>
<li> <p><a href="stats.html#topic+Distributions">stats::distributions</a>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3.2, 4.5),
               c(7.6, 0.7)))
dweibull_rvec(x, shape = 2)
pweibull_rvec(x, shape = 2)

rweibull_rvec(n = 2,
              shape = c(2, 3),
              n_draw = 1000)
</code></pre>

<hr>
<h2 id='if_else_rvec'>Vectorised If-Else, When Condition is an Rvec</h2><span id='topic+if_else_rvec'></span>

<h3>Description</h3>

<p>A version of
<a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a>
for the situation where <code>condition</code> is an rvec.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>if_else_rvec(condition, true, false, missing = NULL, size = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="if_else_rvec_+3A_condition">condition</code></td>
<td>
<p>An object of class <a href="#topic+rvec_lgl">rvec_lgl</a>.</p>
</td></tr>
<tr><td><code id="if_else_rvec_+3A_true">true</code>, <code id="if_else_rvec_+3A_false">false</code></td>
<td>
<p>Vectors (including rvecs) to use for
<code>TRUE</code> and <code>FALSE</code> values of <code>condition</code>.</p>
</td></tr>
<tr><td><code id="if_else_rvec_+3A_missing">missing</code></td>
<td>
<p>Vectors to use for <code>NA</code> values of
<code>condition</code>. Optional.</p>
</td></tr>
<tr><td><code id="if_else_rvec_+3A_size">size</code></td>
<td>
<p>Length of output. Optional.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An rvec with the same number of
<a href="#topic+n_draw">draws</a> as <code>condition</code>.
</p>


<h3>See Also</h3>


<ul>
<li><p> base R function <code><a href="base.html#topic+ifelse">ifelse()</a></code> does not not work
correctly if any of the inputs are rvecs.
</p>
</li>
<li> <p><strong>dplyr</strong> function
<a href="https://dplyr.tidyverse.org/reference/if_else.html">if_else</a>
works correctly if arguments <code>true</code>, <code>false</code> or <code>missing</code>
are rvecs, but not if argument <code>condition</code> is an <code>rvec</code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(1, 11),
               c(2, 5),
               c(22, 6)))

x &gt; 10 ## rvec_lgl

## if_else_rvec needed when
## 'condition' is an rvec
if_else_rvec(x &gt; 10, 10, x)

## dplyr::if_else works when
## 'true', 'false', or 'missing'
## (but not 'condition') are rvecs
library(dplyr)
if_else(c(TRUE, FALSE, TRUE), x, 100)
</code></pre>

<hr>
<h2 id='is_rvec'>Is an Object an Rvec</h2><span id='topic+is_rvec'></span>

<h3>Description</h3>

<p>Test whether <code>x</code> inherits from
class <code>"rvec"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_rvec(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is_rvec_+3A_x">x</code></td>
<td>
<p>An object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+rvec">rvec()</a></code> to create an rvec
</p>
</li>
<li> <p><code><a href="base.html#topic+as.matrix">as.matrix()</a></code>, <code><a href="#topic+as_list_col">as_list_col()</a></code>,
to convert an rvec into other formats
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec_dbl()
is_rvec(x)
</code></pre>

<hr>
<h2 id='map_rvec'>Apply a Function and Put Results in an Rvec</h2><span id='topic+map_rvec'></span>

<h3>Description</h3>

<p>Apply function <code>.f</code> to each element of <code>.x</code>,
and then combine the results into an
rvec with the same length as <code>.x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>map_rvec(.x, .f, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="map_rvec_+3A_.x">.x</code></td>
<td>
<p>A vector.</p>
</td></tr>
<tr><td><code id="map_rvec_+3A_.f">.f</code></td>
<td>
<p>A function.</p>
</td></tr>
<tr><td><code id="map_rvec_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>.f</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each call to function <code>.f</code> should produce
an <a href="#topic+rvec">rvec</a> with length 1.
</p>


<h3>Value</h3>

<p>An <a href="#topic+rvec">rvec</a> with the same
length as <code>.x</code>.
</p>


<h3>See Also</h3>

<p><code>map_rvec()</code> is based on the
map functions in package
<a href="https://purrr.tidyverse.org/reference/map.html">purrr</a>,
though the internal implementation is different.
</p>
<p>Base R functions <code><a href="base.html#topic+sapply">sapply()</a></code> and <code><a href="base.html#topic+vapply">vapply()</a></code>
do not work properly with rvecs.
[lapply() works, but to combine the
results into a single rvec, functions such
as <code><a href="base.html#topic+c">c()</a></code> or <code><a href="vctrs.html#topic+vec_c">vctrs::vec_c()</a></code> are needed.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>l &lt;- list(a = rvec(matrix(1:2, 1)),
          b = rvec(matrix(1:4, 2)),
          c = rvec(matrix(1:6, 3)))
l
map_rvec(l, sum)

## sapply does not work with rvecs
sapply(l, sum)
</code></pre>

<hr>
<h2 id='matrixOps.rvec'>Matrix Multiplication with Rvecs</h2><span id='topic+matrixOps.rvec'></span>

<h3>Description</h3>

<p>Matrix multiplication <code>%*%</code> can be used
with <a href="#topic+rvec">rvecs</a>. However, in constrast to
standard R vectors, multiplying an rvec
by a matrix does not produce a row or
column vector. Instead it produces an
ordinary rvec, with no dimensions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rvec'
matrixOps(x, y)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="matrixOps.rvec_+3A_x">x</code>, <code id="matrixOps.rvec_+3A_y">y</code></td>
<td>
<p>Vectors, matrices, or rvecs.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An rvec, if <code>x</code> or <code>y</code>
is an rvec.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>A &lt;- matrix(c(10, 10, 10,
              11, 11, 11),
            nrow = 2, byrow = TRUE)
x &lt;- rvec(list(c(1, 2),
               c(3, 4),
               c(5, 6)))
A %*% x

## matrix multiplication with an
## ordinary R matrix produces
## a row or column vector
y &lt;- c(1, 3, 5)
A %*% y
</code></pre>

<hr>
<h2 id='missing'>Missing, Finite, and Infinite Values
in Rvecs</h2><span id='topic+missing'></span><span id='topic+anyNA.rvec'></span><span id='topic+is.na.rvec'></span><span id='topic+na.exclude.rvec'></span><span id='topic+na.omit.rvec'></span>

<h3>Description</h3>

<p>Detect or remove missing and infinite values in rvecs.
Operations are done independently on each draw,
though <code>na.omit()</code>, <code>na.exclude()</code>, and <code>na.fail()</code>
also look across draws.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'rvec'
anyNA(x, recursive = FALSE)

## S3 method for class 'rvec'
is.na(x)

## S3 method for class 'rvec'
na.exclude(object, ...)

## S3 method for class 'rvec'
na.omit(object, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="missing_+3A_x">x</code>, <code id="missing_+3A_object">object</code></td>
<td>
<p>An <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="missing_+3A_recursive">recursive</code></td>
<td>
<p>Whether <code>anyNA()</code> should be
applied recursively to lists. Ignored when
<code>x</code> is an rvec.</p>
</td></tr>
<tr><td><code id="missing_+3A_...">...</code></td>
<td>
<p>Currently ignored.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The behavior of the rvec methods
for <code>is.na()</code>, <code>is.nan()</code>,
<code>is.finite()</code>, and <code>is.infinite()</code>
differs from the standard
<a href="https://vctrs.r-lib.org">vctrs</a>
behavior, which is to return a logical
vector with length equal to <code>length(x)</code>.
With rvecs, the standard <strong>vctrs</strong> behavior
would entail summarising across draws,
which is the job of the <a href="#topic+draws_all">draws_*</a>
functions.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>anyNA()</code> - A logical rvec with length 1.
</p>
</li>
<li> <p><code>is.na()</code>, <code>is.nan()</code>, <code>is.finite()</code>, <code>is.infinite()</code> - A
logical rvec with the same length as the original rvec.
</p>
</li>
<li> <p><code>na.omit()</code>, <code>na.exclude()</code> - An rvec with the same
class as the original rvec, minus any elements that
have <code>NA</code>s in any draws.
</p>
</li>
<li> <p><code>na.fail()</code> - The original rvec, or an error.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+if_else_rvec">if_else_rvec()</a></code> for modifying individual
values within draws.
</p>
</li>
<li><p> Base R functions <code><a href="Matrix.html#topic+is.na">is.na()</a></code>, <code><a href="Matrix.html#topic+is.nan">is.nan()</a></code>,
<code><a href="Matrix.html#topic+is.finite">is.finite()</a></code>, <code><a href="Matrix.html#topic+is.infinite">is.infinite()</a></code>,
<code><a href="Matrix.html#topic+anyNA">anyNA()</a></code>, <code><a href="stats.html#topic+na.omit">na.omit()</a></code>, <code><a href="stats.html#topic+na.exclude">na.exclude()</a></code>
</p>
</li>
<li> <p><code><a href="vctrs.html#topic+missing">vctrs::vec_detect_missing()</a></code> to test whether
all draws for an observation are missing.
</p>
</li>
<li> <p><code><a href="vctrs.html#topic+vec_detect_complete">vctrs::vec_detect_complete()</a></code> to test whether
any draws for an observation are missing.
</p>
</li>
<li> <p><code><a href="#topic+draws_any">draws_any()</a></code>, <code><a href="#topic+draws_all">draws_all()</a></code> to summarise
across draws.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(1.2, NA),
               c(Inf, 3),
               c(-1, NaN)))

## return a logical rvec
is.na(x)
is.nan(x)
is.finite(x)
is.infinite(x)

## return a logical rvec with length 1
anyNA(x)

## summarise across draws
draws_any(anyNA(x))

## return an NA-free version of 'x'
na.omit(x)
na.exclude(x)

## use 'if_else_rvec' to modify values
## within rvec
if_else_rvec(is.na(x), 999, x)

## vctrs functions
library(vctrs, warn.conflicts = FALSE)
## all draws missing
vec_detect_missing(x)
## any draws missing
vec_detect_complete(x)
</code></pre>

<hr>
<h2 id='n_draw'>Query Number of Draws</h2><span id='topic+n_draw'></span><span id='topic+n_draw.default'></span><span id='topic+n_draw.rvec'></span>

<h3>Description</h3>

<p>Get a count of the random draws
held by <code>x</code>. If <code>x</code>
does not hold random draws, then <code>n_draw()</code>
throws an error.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>n_draw(x)

## Default S3 method:
n_draw(x)

## S3 method for class 'rvec'
n_draw(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="n_draw_+3A_x">x</code></td>
<td>
<p>An object that holds random draws,
eg an <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer scalar.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+is_rvec">is_rvec()</a></code> to test if an object is an rvec.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- matrix(1:40, nrow = 4, ncol = 10)
x &lt;- rvec(m)
n_draw(x)
</code></pre>

<hr>
<h2 id='rank'>Sample Ranks, Including Rvecs</h2><span id='topic+rank'></span>

<h3>Description</h3>

<p>Calculate sample ranks for ordinary vectors or for rvecs.
In the case of rvecs, ranks are calculated independently
for each draw.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rank(
  x,
  na.last = TRUE,
  ties.method = c("average", "first", "last", "random", "max", "min")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rank_+3A_x">x</code></td>
<td>
<p>An ordinary vector or an <code><a href="#topic+rvec">rvec()</a></code>.</p>
</td></tr>
<tr><td><code id="rank_+3A_na.last">na.last</code></td>
<td>
<p>Treatment of <code>NA</code>s. Options are
<code>TRUE</code>, <code>FALSE</code>, or <code>"keep"</code>. See <code><a href="base.html#topic+rank">base::rank()</a></code> for details.</p>
</td></tr>
<tr><td><code id="rank_+3A_ties.method">ties.method</code></td>
<td>
<p>Treatment of ties.
See <code><a href="base.html#topic+rank">base::rank()</a></code> for details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To enable different behavior for rvecs and for ordinary vectors,
the base R function <code><a href="base.html#topic+rank">base::rank()</a></code> is turned into a generic,
with <code><a href="base.html#topic+rank">base::rank()</a></code> as the default.
</p>
<p>For details on the calculations, see the documentation
for <code><a href="base.html#topic+rank">base::rank()</a></code>.
</p>


<h3>Value</h3>

<p>An object of class <code><a href="#topic+rvec_int">rvec_int()</a></code> if <code>x</code> is
an rvec. Otherwise an ordinary integer vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(list(c(3, 30),
               c(0, 100)))
rank(x)
</code></pre>

<hr>
<h2 id='reg_post'>Posterior Sample from Linear Regression</h2><span id='topic+reg_post'></span>

<h3>Description</h3>

<p>Posterior sample for parameters from a linear
regression model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reg_post
</code></pre>


<h3>Format</h3>

<p>A matrix with 200 columns and
the following rows:
</p>

<ul>
<li> <p><code>alpha</code>: Intercept parameter
</p>
</li>
<li> <p><code>beta</code>: Slope parameter
</p>
</li>
<li> <p><code>sigma</code>: Standard deviation of error term
</p>
</li></ul>



<h3>Source</h3>

<p><code>reg_post</code> contains values from the second
half of the <code>line</code> dataset
in package <a href="https://CRAN.R-project.org/package=coda">coda</a>.
The line dataset draws on the BUGS manual:
Spiegelhalter, D.J., Thomas, A., Best, N.G. and
Gilks, W.R. (1995) BUGS: Bayesian inference using
Gibbs Sampling, Version 0.5, MRC Biostatistics Unit,
Cambridge.
</p>

<hr>
<h2 id='rvec'>Create an Rvec</h2><span id='topic+rvec'></span><span id='topic+rvec_chr'></span><span id='topic+rvec_dbl'></span><span id='topic+rvec_int'></span><span id='topic+rvec_lgl'></span>

<h3>Description</h3>

<p>Create an Object of Class <code>"rvec"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rvec(x)

rvec_chr(x = NULL)

rvec_dbl(x = NULL)

rvec_int(x = NULL)

rvec_lgl(x = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rvec_+3A_x">x</code></td>
<td>
<p>A matrix, a list of vectors,
or an atomic vector.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Class <code>"rvec"</code> has four subclasses, each dealing with
a diffent type:
</p>

<ul>
<li> <p><code>"rvec_dbl"</code> doubles
</p>
</li>
<li> <p><code>"rvec_int"</code> integers
</p>
</li>
<li> <p><code>"rvec_lgl"</code> logical
</p>
</li>
<li> <p><code>"rvec_chr"</code> character
</p>
</li></ul>

<p>These subclasses are analogous to <code><a href="base.html#topic+double">double()</a></code>,
<code><a href="base.html#topic+integer">integer()</a></code>, <code><a href="base.html#topic+logical">logical()</a></code>, and <code><a href="base.html#topic+character">character()</a></code>
vectors.
</p>
<p>Function <code>rvec()</code> chooses the subclass, based on
<code>x</code>. Functions <code>rvec_dbl()</code>, <code>rvec_int()</code>,
<code>rvec_lgl()</code>, and <code>rvec_chr()</code> each create
objects of a particular subclass.
</p>
<p><code>x</code> can be
</p>

<ul>
<li><p> A matrix, where each row is a set of draws
for an unknown quantity.
</p>
</li>
<li><p> A list, where each element is a set of draws.
</p>
</li>
<li><p> An atomic vector, which is treated as a
single-column matrix.
</p>
</li></ul>



<h3>Value</h3>

<p>An rvec with the following class:
</p>

<ul>
<li> <p><code>rvec_dbl()</code>: <code>"rvec_dbl"</code>
</p>
</li>
<li> <p><code>rvec_int()</code>: <code>"rvec_int"</code>
</p>
</li>
<li> <p><code>rvec_lgl()</code>: <code>"rvec_lgl"</code>
</p>
</li>
<li> <p><code>rvec_chr()</code>: <code>"rvec_chr"</code>
</p>
</li>
<li> <p><code>rvec()</code>: <code>"rvec_chr"</code>, <code>"rvec_dbl"</code>
<code>"rvec_int"</code>, or <code>"rvec_lgl"</code>, depending on
<code>typeof(x)</code>.
</p>
</li></ul>



<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+collapse_to_rvec">collapse_to_rvec()</a></code> creates rvecs within
a data frame.
</p>
</li>
<li><p> Random variate functions such as <code><a href="#topic+rnorm_rvec">rnorm_rvec()</a></code> and
<code><a href="#topic+rbinom_rvec">rbinom_rvec()</a></code> can be used to create rvecs
representing probability distributions.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>m &lt;- rbind(c(-1.5, 2, 0.2),
           c(-2.3, 3, 1.2))
rvec_dbl(m)

l &lt;- list(rpois(100, lambda = 10.2),
          rpois(100, lambda = 5.5))
rvec(l)

rvec(letters[1:5])

l &lt;- list(a = c(TRUE, FALSE),
          b = c(FALSE, TRUE))
rvec(l)
</code></pre>

<hr>
<h2 id='sd'>Standard Deviation, Including Rvecs</h2><span id='topic+sd'></span>

<h3>Description</h3>

<p>Calculate standard deviation of <code>x</code>, where <code>x</code> can be
an rvec. If <code>x</code> is an rvec, separate standard deviations
are calculated for each draw.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd(x, na.rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sd_+3A_x">x</code></td>
<td>
<p>A numeric vector or R object, including an <code><a href="#topic+rvec">rvec()</a></code>.</p>
</td></tr>
<tr><td><code id="sd_+3A_na.rm">na.rm</code></td>
<td>
<p>Whether to remove <code>NA</code>s before calculating standard deviations.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To enable different behavior for rvecs and for ordinary vectors,
the base R function <code><a href="stats.html#topic+sd">stats::sd()</a></code> is turned into a generic,
with <code><a href="stats.html#topic+sd">stats::sd()</a></code> as the default.
</p>
<p>For details on the calculations, see the documentation
for <code><a href="stats.html#topic+sd">stats::sd()</a></code>.
</p>


<h3>Value</h3>

<p>An rvec, if <code>x</code> is an rvec. Otherwise
typically a numeric vector.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+var">var()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(cbind(rnorm(10), rnorm(10, sd = 20)))
x
sd(x)
</code></pre>

<hr>
<h2 id='var'>Correlation, Variance and Covariance (Matrices), Including Rvecs</h2><span id='topic+var'></span>

<h3>Description</h3>

<p>Calculate correlations and variances, including when
<code>x</code> or <code>y</code> is an rvec.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>var(x, y = NULL, na.rm = FALSE, use)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="var_+3A_x">x</code></td>
<td>
<p>A numeric vector, matrix, data frame, or <code><a href="#topic+rvec">rvec()</a></code>.</p>
</td></tr>
<tr><td><code id="var_+3A_y">y</code></td>
<td>
<p>NULL (default) or a vector, matrix, data frame, or rvec
with compatible dimensions to x.</p>
</td></tr>
<tr><td><code id="var_+3A_na.rm">na.rm</code></td>
<td>
<p>Whether <code>NA</code>s removed before calculations.</p>
</td></tr>
<tr><td><code id="var_+3A_use">use</code></td>
<td>
<p>Calculation method. See <code><a href="stats.html#topic+cor">stats::var()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>To enable different behavior for rvecs and for ordinary vectors,
the base R function <code><a href="stats.html#topic+cor">stats::var()</a></code> is turned into a generic,
with <code><a href="stats.html#topic+cor">stats::var()</a></code> as the default.
</p>
<p>For details on the calculations, see the documentation
for <code><a href="stats.html#topic+cor">stats::var()</a></code>.
</p>


<h3>Value</h3>

<p>An rvec, if <code>x</code> or <code>y</code> is an rvec. Otherwise
typically a numeric vector or matrix.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sd">sd()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- rvec(cbind(rnorm(10), rnorm(10, sd = 20)))
x
var(x)
</code></pre>

<hr>
<h2 id='weighted_mean'>Calculate Weighted Summaries</h2><span id='topic+weighted_mean'></span><span id='topic+weighted_mean.default'></span><span id='topic+weighted_mean.rvec'></span><span id='topic+weighted_mad'></span><span id='topic+weighted_mad.default'></span><span id='topic+weighted_mad.rvec'></span><span id='topic+weighted_median'></span><span id='topic+weighted_median.default'></span><span id='topic+weighted_median.rvec'></span><span id='topic+weighted_sd'></span><span id='topic+weighted_sd.default'></span><span id='topic+weighted_sd.rvec'></span><span id='topic+weighted_var'></span><span id='topic+weighted_var.default'></span><span id='topic+weighted_var.rvec'></span>

<h3>Description</h3>

<p>Calculate weighted
</p>

<ul>
<li><p> means
</p>
</li>
<li><p> medians
</p>
</li>
<li><p> MADs (mean absolute deviations)
</p>
</li>
<li><p> variances
</p>
</li>
<li><p> standard deviations.
</p>
</li></ul>

<p>These functions all work with ordinary vectors
and with <a href="#topic+rvec">rvecs</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>weighted_mean(x, wt = NULL, na_rm = FALSE)

## Default S3 method:
weighted_mean(x, wt = NULL, na_rm = FALSE)

## S3 method for class 'rvec'
weighted_mean(x, wt = NULL, na_rm = FALSE)

weighted_mad(x, wt = NULL, na_rm = FALSE)

## Default S3 method:
weighted_mad(x, wt = NULL, na_rm = FALSE)

## S3 method for class 'rvec'
weighted_mad(x, wt = NULL, na_rm = FALSE)

weighted_median(x, wt = NULL, na_rm = FALSE)

## Default S3 method:
weighted_median(x, wt = NULL, na_rm = FALSE)

## S3 method for class 'rvec'
weighted_median(x, wt = NULL, na_rm = FALSE)

weighted_sd(x, wt = NULL, na_rm = FALSE)

## Default S3 method:
weighted_sd(x, wt = NULL, na_rm = FALSE)

## S3 method for class 'rvec'
weighted_sd(x, wt = NULL, na_rm = FALSE)

weighted_var(x, wt = NULL, na_rm = FALSE)

## Default S3 method:
weighted_var(x, wt = NULL, na_rm = FALSE)

## S3 method for class 'rvec'
weighted_var(x, wt = NULL, na_rm = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="weighted_mean_+3A_x">x</code></td>
<td>
<p>Quantity being summarised.
An ordinary vector or an <a href="#topic+rvec">rvec</a>.</p>
</td></tr>
<tr><td><code id="weighted_mean_+3A_wt">wt</code></td>
<td>
<p>Weights. An ordinary vector,
an <a href="#topic+rvec">rvec</a>, or <code>NULL</code> (the default.)
If <code>NULL</code>, an unweighted summary is returned.</p>
</td></tr>
<tr><td><code id="weighted_mean_+3A_na_rm">na_rm</code></td>
<td>
<p>Whether to remove <code>NA</code>s
in <code>x</code> or <code>wt</code> before calculating.
Default is <code>FALSE</code>.
See
<code><a href="matrixStats.html#topic+weightedMean">matrixStats::weightedMean()</a></code> for a description
of the algorithm used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>x</code> and <code>wt</code> must have the same length.
</p>
<p>Internally the calculations are done by
<a href="https://CRAN.R-project.org/package=matrixStats">matrixStats</a>
functions such as <code><a href="matrixStats.html#topic+weightedMean">matrixStats::weightedMean()</a></code>
and <code><a href="matrixStats.html#topic+rowWeightedMeans">matrixStats::colWeightedMeans()</a></code>.
</p>


<h3>Value</h3>

<p>If <code>x</code> or <code>wt</code> or is <a href="#topic+rvec">rvec</a>,
then an rvec of length 1. Otherwise, a scalar.
</p>


<h3>See Also</h3>


<ul>
<li><p> Functions <code><a href="base.html#topic+mean">mean()</a></code>, <code><a href="stats.html#topic+median">median()</a></code>,
<code><a href="stats.html#topic+mad">mad()</a></code>, <code><a href="#topic+var">var()</a></code>, <code><a href="#topic+sd">sd()</a></code> for unweighted data
all have methods for rvecs
</p>
</li>
<li><p> The original
<a href="https://CRAN.R-project.org/package=matrixStats">matrixStats</a>
weighted summary functions have additional options
not implemented in the functions here.
</p>
</li>
<li> <p><code><a href="stats.html#topic+weighted.mean">weighted.mean()</a></code> is a base R function for weighted data
</p>
</li>
<li><p> For numeric summaries of draws in an rvec,
use <code><a href="#topic+draws_median">draws_median()</a></code>, <a href="#topic+draws_mean">draws_mean</a>, <code><a href="#topic+draws_quantile">draws_quantile()</a></code>,
<code><a href="#topic+draws_fun">draws_fun()</a></code>.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## 'x' is rvec, 'wt' is ordinary vector
v &lt;- rvec(list(c(1, 11),
               c(2, 12),
               c(7, 17)))
weights &lt;- c(40, 80, 72)
weighted_mean(v, wt = weights)

## 'x' is ordinary vector, 'wt' is rvec
y &lt;- c(1, 2, 3)
w &lt;- rvec(list(c(100, 200),
               c(210, 889),
               c(200, 200)))
weighted_mean(y, wt = w)
weighted_mean(y, wt = w, na_rm = TRUE)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

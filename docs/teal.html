<!DOCTYPE html><html lang="en-US"><head><title>Help for package teal</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {teal}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#teal-package'><p><code>teal</code>: Interactive exploration of clinical trials data</p></a></li>
<li><a href='#.add_signature_to_data'><p>Adds signature protection to the <code>datanames</code> in the data</p></a></li>
<li><a href='#.call_once_when'><p>Calls expression when condition is met</p></a></li>
<li><a href='#.get_hashes_code'><p>Get code that tests the integrity of the reproducible data</p></a></li>
<li><a href='#.smart_rbind'><p>Smart <code>rbind</code></p></a></li>
<li><a href='#.teal_favicon'><p>The default favicon for the teal app.</p></a></li>
<li><a href='#add_landing_modal'><p>Add a Landing Popup to <code>teal</code> Application</p></a></li>
<li><a href='#append_module'><p>Append a <code>teal_module</code> to <code>children</code> of a <code>teal_modules</code> object</p></a></li>
<li><a href='#bookmarks_identical'><p>Compare bookmarks.</p></a></li>
<li><a href='#build_app_title'><p>Build app title with favicon</p></a></li>
<li><a href='#check_filter_datanames'><p>Check <code>datanames</code> in filters</p></a></li>
<li><a href='#check_modules_datanames'><p>Check <code>datanames</code> in modules</p></a></li>
<li><a href='#check_reactive'><p>Check that argument is reactive.</p></a></li>
<li><a href='#create_app_id'><p>Application ID</p></a></li>
<li><a href='#decorate_err_msg'><p>Capture error and decorate error message.</p></a></li>
<li><a href='#deep_copy_filter'><p>Deep copy <code>teal_slices</code></p></a></li>
<li><a href='#example_module'><p>An example <code>teal</code> module</p></a></li>
<li><a href='#extract_module'><p>Extract/Remove module(s) of specific class</p></a></li>
<li><a href='#extract_transformators'><p>Extract all <code>transformators</code> from <code>modules</code>.</p></a></li>
<li><a href='#get_client_timezone'><p>Get client timezone</p></a></li>
<li><a href='#get_unique_labels'><p>Get unique labels</p></a></li>
<li><a href='#include_css_files'><p>Include <code>CSS</code> files from <code style="white-space: pre;">&#8288;/inst/css/&#8288;</code> package directory to application header</p></a></li>
<li><a href='#include_js_files'><p>Include <code>JS</code> files from <code style="white-space: pre;">&#8288;/inst/js/&#8288;</code> package directory to application header</p></a></li>
<li><a href='#include_teal_css_js'><p>Code to include <code>teal</code> <code>CSS</code> and <code>JavaScript</code> files</p></a></li>
<li><a href='#init'><p>Create the server and UI function for the <code>shiny</code> app</p></a></li>
<li><a href='#is_arg_used'><p>Does the object make use of the <code>arg</code></p></a></li>
<li><a href='#landing_popup_module'><p>Landing popup module</p></a></li>
<li><a href='#make_teal_transform_server'><p>Make teal_transform_module's server</p></a></li>
<li><a href='#module_bookmark_manager'><p>App state management.</p></a></li>
<li><a href='#module_data_summary'><p>Data summary</p></a></li>
<li><a href='#module_filter_data'><p>Filter panel module in teal</p></a></li>
<li><a href='#module_filter_manager'><p>Manage multiple <code>FilteredData</code> objects</p></a></li>
<li><a href='#module_init_data'><p>Data Module for teal</p></a></li>
<li><a href='#module_labels'><p>Retrieve labels from <code>teal_modules</code></p></a></li>
<li><a href='#module_session_info'><p><code>teal</code> user session info module</p></a></li>
<li><a href='#module_snapshot_manager'><p>Filter state snapshot management</p></a></li>
<li><a href='#module_teal'><p><code>teal</code> main module</p></a></li>
<li><a href='#module_teal_data'><p>Execute and validate <code>teal_data_module</code></p></a></li>
<li><a href='#module_teal_lockfile'><p>Generate lockfile for application's environment reproducibility</p></a></li>
<li><a href='#module_teal_module'><p>Calls all <code>modules</code></p></a></li>
<li><a href='#module_teal_with_splash'><p>UI and server modules of <code>teal</code></p></a></li>
<li><a href='#module_transform_data'><p>Module to transform <code>reactive</code> <code>teal_data</code></p></a></li>
<li><a href='#modules_bookmarkable'><p>Retrieve <code>teal_bookmarkable</code> attribute from <code>teal_modules</code></p></a></li>
<li><a href='#modules_depth'><p>Get module depth</p></a></li>
<li><a href='#pluralize'><p>Pluralize a word depending on the size of the input</p></a></li>
<li><a href='#report_card_template'><p>Template function for <code>TealReportCard</code> creation and customization</p></a></li>
<li><a href='#reporter_previewer_module'><p>Create a <code>teal</code> module for previewing a report</p></a></li>
<li><a href='#restoreValue'><p>Restore value from bookmark.</p></a></li>
<li><a href='#run_js_files'><p>Run <code>JS</code> file from <code style="white-space: pre;">&#8288;/inst/js/&#8288;</code> package directory</p></a></li>
<li><a href='#show_rcode_modal'><p>Show <code>R</code> code modal</p></a></li>
<li><a href='#slices_store'><p>Store and restore <code>teal_slices</code> object</p></a></li>
<li><a href='#tdata'><p>Create a <code>tdata</code> object</p></a></li>
<li><a href='#teal_data_module'><p>Data module for <code>teal</code> applications</p></a></li>
<li><a href='#teal_data_to_filtered_data'><p>Create a <code>FilteredData</code></p></a></li>
<li><a href='#teal_data_utilities'><p><code>teal_data</code> utils</p></a></li>
<li><a href='#teal_extend_server'><p>Add a Custom Server Logic to <code>teal</code> Application</p></a></li>
<li><a href='#teal_modifiers'><p>Replace UI Elements in <code>teal</code> UI objects</p></a></li>
<li><a href='#teal_modules'><p>Create <code>teal_module</code> and <code>teal_modules</code> objects</p></a></li>
<li><a href='#teal_slices'><p>Filter settings for <code>teal</code> applications</p></a></li>
<li><a href='#teal_transform_module'><p>Data module for <code>teal</code> transformations and output customization</p></a></li>
<li><a href='#TealAppDriver'><p>Drive a <code>teal</code> application</p></a></li>
<li><a href='#TealReportCard'><p><code>TealReportCard</code></p></a></li>
<li><a href='#TealSlicesBlock'><p><code>TealSlicesBlock</code></p></a></li>
<li><a href='#validate_app_title_tag'><p>Function for validating the title parameter of <code>teal::init</code></p></a></li>
<li><a href='#validate_has_data'><p>Validate that dataset has a minimum number of observations</p></a></li>
<li><a href='#validate_has_elements'><p>Validates that vector has length greater than 0</p></a></li>
<li><a href='#validate_has_variable'><p>Validates that dataset contains specific variable</p></a></li>
<li><a href='#validate_in'><p>Validates that vector includes all expected values</p></a></li>
<li><a href='#validate_inputs'><p>Send input validation messages to output</p></a></li>
<li><a href='#validate_n_levels'><p>Validate that variables has expected number of levels</p></a></li>
<li><a href='#validate_no_intersection'><p>Validates no intersection between two vectors</p></a></li>
<li><a href='#validate_one_row_per_id'><p>Validate that dataset has unique rows for key variables</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Exploratory Web Apps for Analyzing Clinical Trials Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.16.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2025-02-12</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'shiny' based interactive exploration framework for
    analyzing clinical trials data. 'teal' currently provides a dynamic
    filtering facility and different data viewers. 'teal' 'shiny'
    applications are built using standard 'shiny' modules.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License 2.0</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://insightsengineering.github.io/teal/">https://insightsengineering.github.io/teal/</a>,
<a href="https://github.com/insightsengineering/teal/">https://github.com/insightsengineering/teal/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/insightsengineering/teal/issues">https://github.com/insightsengineering/teal/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1), shiny (&ge; 1.8.1), teal.data (&ge; 0.7.0), teal.slice
(&ge; 0.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate (&ge; 2.1.0), cli, htmltools, jsonlite, lifecycle (&ge;
0.2.0), logger (&ge; 0.2.0), methods, rlang (&ge; 1.0.0), shinyjs,
stats, teal.code (&ge; 0.6.1), teal.logger (&ge; 0.3.2),
teal.reporter (&ge; 0.4.0), teal.widgets (&ge; 0.4.3), tools, utils</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bslib, ggplot2 (&ge; 3.4.0), knitr (&ge; 1.42), mirai (&ge; 1.1.1),
MultiAssayExperiment, R6, renv (&ge; 1.0.11), rmarkdown (&ge;
2.23), roxy.shinylive, rvest (&ge; 1.0.0), shinytest2,
shinyvalidate, testthat (&ge; 3.2.0), withr (&ge; 2.1.0), yaml (&ge;
1.1.0)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr, rmarkdown</td>
</tr>
<tr>
<td>RdMacros:</td>
<td>lifecycle</td>
</tr>
<tr>
<td>Config/Needs/verdepcheck:</td>
<td>rstudio/shiny, insightsengineering/teal.data,
insightsengineering/teal.slice, mllg/checkmate,
jeroen/jsonlite, r-lib/lifecycle, daroczig/logger,
shikokuchuo/mirai, r-lib/cli, shikokuchuo/nanonext,
rstudio/renv, r-lib/rlang, daattali/shinyjs,
insightsengineering/teal.code, insightsengineering/teal.logger,
insightsengineering/teal.reporter,
insightsengineering/teal.widgets, rstudio/bslib, yihui/knitr,
bioc::MultiAssayExperiment, r-lib/R6, rstudio/rmarkdown,
tidyverse/rvest, rstudio/shinytest2, rstudio/shinyvalidate,
r-lib/testthat, r-lib/withr, yaml=vubiostat/r-yaml,
rstudio/htmltools, bioc::matrixStats,
insightsengineering/roxy.shinylive</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>insightsengineering/nesttemplate</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Collate:</td>
<td>'TealAppDriver.R' 'checkmate.R' 'dummy_functions.R'
'include_css_js.R' 'modules.R' 'init.R'
'landing_popup_module.R' 'module_bookmark_manager.R'
'module_data_summary.R' 'module_filter_data.R'
'module_filter_manager.R' 'module_init_data.R'
'module_nested_tabs.R' 'module_session_info.R'
'module_snapshot_manager.R' 'module_teal.R'
'module_teal_data.R' 'module_teal_lockfile.R'
'module_teal_with_splash.R' 'module_transform_data.R'
'reporter_previewer_module.R' 'show_rcode_modal.R' 'tdata.R'
'teal.R' 'teal_data_module.R' 'teal_data_module-eval_code.R'
'teal_data_module-within.R' 'teal_data_utils.R'
'teal_modifiers.R' 'teal_reporter.R' 'teal_slices-store.R'
'teal_slices.R' 'teal_transform_module.R' 'utils.R'
'validate_inputs.R' 'validations.R' 'zzz.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-18 20:11:07 UTC; unardid</td>
</tr>
<tr>
<td>Author:</td>
<td>Dawid Kaledkowski <a href="https://orcid.org/0000-0001-9533-457X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Pawel Rucki [aut],
  Aleksander Chlebowski
    <a href="https://orcid.org/0000-0001-5018-6294"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Andre Verissimo <a href="https://orcid.org/0000-0002-2212-339X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Kartikeya Kirar [aut],
  Vedha Viyash [aut],
  Marcin Kosinski [aut],
  Adrian Waddell [aut],
  Chendi Liao [rev],
  Dony Unardi [rev],
  Nikolas Burkoff [aut],
  Mahmoud Hallal [aut],
  Maciej Nasinski [aut],
  Konrad Pagacz [aut],
  Junlue Zhao [aut],
  Tadeusz Lewandowski [aut],
  F. Hoffmann-La Roche AG [cph, fnd],
  Maximilian Mordig [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dawid Kaledkowski &lt;dawid.kaledkowski@roche.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-23 17:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='teal-package'><code>teal</code>: Interactive exploration of clinical trials data</h2><span id='topic+teal'></span><span id='topic+teal-package'></span>

<h3>Description</h3>

<p>The <code>teal</code> package provides a <code>shiny</code> based framework for creating an
interactive data analysis environment.
</p>


<h3>Details</h3>

<p>To learn mode about the package, visit the <a href="https://insightsengineering.github.io/teal/latest-tag/">project website</a>
or read the <code><a href="#topic+init">init()</a></code> manual page.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Dawid Kaledkowski <a href="mailto:dawid.kaledkowski@roche.com">dawid.kaledkowski@roche.com</a> (<a href="https://orcid.org/0000-0001-9533-457X">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Pawel Rucki <a href="mailto:pawel.rucki@roche.com">pawel.rucki@roche.com</a>
</p>
</li>
<li><p> Aleksander Chlebowski <a href="mailto:aleksander.chlebowski@contractors.roche.com">aleksander.chlebowski@contractors.roche.com</a> (<a href="https://orcid.org/0000-0001-5018-6294">ORCID</a>)
</p>
</li>
<li><p> Andre Verissimo <a href="mailto:andre.verissimo@roche.com">andre.verissimo@roche.com</a> (<a href="https://orcid.org/0000-0002-2212-339X">ORCID</a>)
</p>
</li>
<li><p> Kartikeya Kirar <a href="mailto:kartikeya.kirar@businesspartner.roche.com">kartikeya.kirar@businesspartner.roche.com</a>
</p>
</li>
<li><p> Vedha Viyash <a href="mailto:vedha.viyash@roche.com">vedha.viyash@roche.com</a>
</p>
</li>
<li><p> Marcin Kosinski <a href="mailto:marcin.kosinski.mk1@roche.com">marcin.kosinski.mk1@roche.com</a>
</p>
</li>
<li><p> Adrian Waddell <a href="mailto:adrian.waddell@gene.com">adrian.waddell@gene.com</a>
</p>
</li>
<li><p> Nikolas Burkoff
</p>
</li>
<li><p> Mahmoud Hallal
</p>
</li>
<li><p> Maciej Nasinski
</p>
</li>
<li><p> Konrad Pagacz
</p>
</li>
<li><p> Junlue Zhao
</p>
</li>
<li><p> Tadeusz Lewandowski
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Chendi Liao <a href="mailto:chendi.liao@roche.com">chendi.liao@roche.com</a> [reviewer]
</p>
</li>
<li><p> Dony Unardi <a href="mailto:unardid@gene.com">unardid@gene.com</a> [reviewer]
</p>
</li>
<li><p> F. Hoffmann-La Roche AG [copyright holder, funder]
</p>
</li>
<li><p> Maximilian Mordig [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://insightsengineering.github.io/teal/">https://insightsengineering.github.io/teal/</a>
</p>
</li>
<li> <p><a href="https://github.com/insightsengineering/teal/">https://github.com/insightsengineering/teal/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/insightsengineering/teal/issues">https://github.com/insightsengineering/teal/issues</a>
</p>
</li></ul>


<hr>
<h2 id='.add_signature_to_data'>Adds signature protection to the <code>datanames</code> in the data</h2><span id='topic+.add_signature_to_data'></span>

<h3>Description</h3>

<p>Adds signature protection to the <code>datanames</code> in the data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.add_signature_to_data(data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".add_signature_to_data_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>teal_data</code> with additional code that has signature of the <code>datanames</code>
</p>

<hr>
<h2 id='.call_once_when'>Calls expression when condition is met</h2><span id='topic+.call_once_when'></span>

<h3>Description</h3>

<p>Function postpones <code>handlerExpr</code> to the moment when <code>eventExpr</code> (condition) returns <code>TRUE</code>,
otherwise nothing happens.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.call_once_when(
  eventExpr,
  handlerExpr,
  event.env = parent.frame(),
  handler.env = parent.frame(),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".call_once_when_+3A_eventexpr">eventExpr</code></td>
<td>
<p>A (quoted or unquoted) logical expression that represents the event;
this can be a simple reactive value like input$click, a call to a reactive expression
like dataset(), or even a complex expression inside curly braces.</p>
</td></tr>
<tr><td><code id=".call_once_when_+3A_handlerexpr">handlerExpr</code></td>
<td>
<p>The expression to call whenever <code>eventExpr</code> is
invalidated. This should be a side-effect-producing action (the return
value will be ignored). It will be executed within an <code><a href="shiny.html#topic+isolate">isolate()</a></code>
scope.</p>
</td></tr>
<tr><td><code id=".call_once_when_+3A_event.env">event.env</code></td>
<td>
<p>The parent environment for the reactive expression. By default,
this is the calling environment, the same as when defining an ordinary
non-reactive expression. If <code>eventExpr</code> is a quosure and <code>event.quoted</code> is <code>TRUE</code>,
then <code>event.env</code> is ignored.</p>
</td></tr>
<tr><td><code id=".call_once_when_+3A_handler.env">handler.env</code></td>
<td>
<p>The parent environment for the reactive expression. By default,
this is the calling environment, the same as when defining an ordinary
non-reactive expression. If <code>handlerExpr</code> is a quosure and <code>handler.quoted</code> is <code>TRUE</code>,
then <code>handler.env</code> is ignored.</p>
</td></tr>
<tr><td><code id=".call_once_when_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>observeEvent</code> with the exception of <code>eventExpr</code> that is not allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An observer.
</p>

<hr>
<h2 id='.get_hashes_code'>Get code that tests the integrity of the reproducible data</h2><span id='topic+.get_hashes_code'></span>

<h3>Description</h3>

<p>Get code that tests the integrity of the reproducible data
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.get_hashes_code(data, datanames = names(data))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".get_hashes_code_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code>) object holding the data</p>
</td></tr>
<tr><td><code id=".get_hashes_code_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>) names of <code>datasets</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector with the code lines.
</p>

<hr>
<h2 id='.smart_rbind'>Smart <code>rbind</code></h2><span id='topic+.smart_rbind'></span>

<h3>Description</h3>

<p>Combine <code>data.frame</code> objects which have different columns
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.smart_rbind(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id=".smart_rbind_+3A_...">...</code></td>
<td>
<p>(<code>data.frame</code>)</p>
</td></tr>
</table>

<hr>
<h2 id='.teal_favicon'>The default favicon for the teal app.</h2><span id='topic+.teal_favicon'></span>

<h3>Description</h3>

<p>The default favicon for the teal app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>.teal_favicon
</code></pre>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 1.
</p>

<hr>
<h2 id='add_landing_modal'>Add a Landing Popup to <code>teal</code> Application</h2><span id='topic+add_landing_modal'></span>

<h3>Description</h3>

<p>Adds a landing popup to the <code>teal</code> app. This popup will be shown when the app starts.
The dialog must be closed by the app user to proceed to the main application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_landing_modal(
  x,
  title = NULL,
  content = NULL,
  footer = modalButton("Accept"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="add_landing_modal_+3A_x">x</code></td>
<td>
<p>(<code>teal_app</code>) A <code>teal_app</code> object created using the <code>init</code> function.</p>
</td></tr>
<tr><td><code id="add_landing_modal_+3A_title">title</code></td>
<td>
<p>An optional title for the dialog.</p>
</td></tr>
<tr><td><code id="add_landing_modal_+3A_content">content</code></td>
<td>
<p>(<code>character(1)</code>, <code>shiny.tag</code> or <code>shiny.tag.list</code>) with the content of the popup.</p>
</td></tr>
<tr><td><code id="add_landing_modal_+3A_footer">footer</code></td>
<td>
<p>UI for footer. Use <code>NULL</code> for no footer.</p>
</td></tr>
<tr><td><code id="add_landing_modal_+3A_...">...</code></td>
<td>
<p>Additional arguments to <code><a href="shiny.html#topic+modalDialog">shiny::modalDialog()</a></code>.</p>
</td></tr>
</table>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnXGkAWV0AYQBBLHDPGFICFhieXHtpGCJHFWo4GIiSsoqY9jgAD1hUCp8a8rhtfggdAB8APiKoR0cfaigIRyEAc3bS7jsIBwdxUgqIvjAAdThqYngtwuWV4mEyTbBdAAtYyKq3CanZ6VQiVBVMI6KHehVSUgkKpZBbUABC-0BEDsYFSBAIcFQpC2PQcPQEtCU0nYQnIonEUm60hARRitwgrFS6HY5gAJCpaPE6TERFJGD0AL5gDkAXSAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnXGkAWV0AYQBBLHDPGFICFhieXHtpGCJHFWo4GIiSsoqY9jgAD1hUCp8a8rhtfggdAB8APiKoR0cfaigIRyEAc3bS7jsIBwdxUgqIvjAAdThqYngtwuWV4mEyTbBdAAtYyKq3CanZ6VQiVBVMI6KHehVSUgkKpZBbUABC-0BEDsYFSBAIcFQpC2PQcPQEtCU0nYQnIonEUm60hARRitwgrFS6HY5gAJCpaPE6TERFJGD0AL5gDkAXSAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>app &lt;- init(
  data = teal_data(IRIS = iris, MTCARS = mtcars),
  modules = modules(example_module())
) |&gt;
  add_landing_modal(
    title = "Welcome",
    content = "This is a landing popup.",
    buttons = modalButton("Accept")
  )

if (interactive()) {
  shinyApp(app$ui, app$server)
}
</code></pre>

<hr>
<h2 id='append_module'>Append a <code>teal_module</code> to <code>children</code> of a <code>teal_modules</code> object</h2><span id='topic+append_module'></span>

<h3>Description</h3>

<p>Append a <code>teal_module</code> to <code>children</code> of a <code>teal_modules</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>append_module(modules, module)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="append_module_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)</p>
</td></tr>
<tr><td><code id="append_module_+3A_module">module</code></td>
<td>
<p>(<code>teal_module</code>) object to be appended onto the children of <code>modules</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>teal_modules</code> object with <code>module</code> appended.
</p>

<hr>
<h2 id='bookmarks_identical'>Compare bookmarks.</h2><span id='topic+bookmarks_identical'></span>

<h3>Description</h3>

<p>Test if two bookmarks store identical state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bookmarks_identical(book1, book2)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="bookmarks_identical_+3A_book1">book1</code>, <code id="bookmarks_identical_+3A_book2">book2</code></td>
<td>
<p>bookmark directories stored in <code style="white-space: pre;">&#8288;shiny_bookmarks/&#8288;</code>;
default to the two most recently modified directories</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>input</code> environments are compared one variable at a time and if not identical,
values in both bookmarks are reported. States of <code>datatable</code>s are stripped
of the <code>time</code> element before comparing because the time stamp is always different.
The contents themselves are not printed as they are large and the contents are not informative.
Elements present in one bookmark and absent in the other are also reported.
Differences are printed as messages.
</p>
<p><code>values</code> environments are compared with <code>all.equal</code>.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code> if bookmarks are identical or if there are no bookmarks to test.
<code>FALSE</code> if inconsistencies are detected.
</p>


<h3>How to use</h3>

<p>Open an application, change relevant inputs (typically, all of them), and create a bookmark.
Then open that bookmark and immediately create a bookmark of that.
If restoring bookmarks occurred properly, the two bookmarks should store the same state.
</p>

<hr>
<h2 id='build_app_title'>Build app title with favicon</h2><span id='topic+build_app_title'></span>

<h3>Description</h3>

<p>A helper function to create the browser title along with a logo.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>build_app_title(
  title = "teal app",
  favicon =
    "https://raw.githubusercontent.com/insightsengineering/hex-stickers/main/PNG/nest.png"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="build_app_title_+3A_title">title</code></td>
<td>
<p>(<code>character</code>) The browser title for the <code>teal</code> app.</p>
</td></tr>
<tr><td><code id="build_app_title_+3A_favicon">favicon</code></td>
<td>
<p>(<code>character</code>) The path for the icon for the title.
The image/icon path can be remote or the static path accessible by <code>shiny</code>, like the <code style="white-space: pre;">&#8288;www/&#8288;</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>shiny.tag</code> containing the element that adds the title and logo to the <code>shiny</code> app.
</p>

<hr>
<h2 id='check_filter_datanames'>Check <code>datanames</code> in filters</h2><span id='topic+check_filter_datanames'></span>

<h3>Description</h3>

<p>This function checks whether <code>datanames</code> in filters correspond to those in <code>data</code>,
returning character vector with error messages or <code>TRUE</code> if all checks pass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_filter_datanames(filters, datanames)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_filter_datanames_+3A_filters">filters</code></td>
<td>
<p>(<code>teal_slices</code>) object</p>
</td></tr>
<tr><td><code id="check_filter_datanames_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>) names of datasets available in the <code>data</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character(1)</code> containing error message or TRUE if validation passes.
</p>

<hr>
<h2 id='check_modules_datanames'>Check <code>datanames</code> in modules</h2><span id='topic+check_modules_datanames'></span><span id='topic+check_reserved_datanames'></span><span id='topic+check_modules_datanames_html'></span>

<h3>Description</h3>

<p>These functions check if specified <code>datanames</code> in modules match those in the data object,
returning error messages or <code>TRUE</code> for successful validation. Two functions return error message
in different forms:
</p>

<ul>
<li> <p><code>check_modules_datanames</code> returns <code>character(1)</code> for basic assertion usage
</p>
</li>
<li> <p><code>check_modules_datanames_html</code> returns <code>shiny.tag.list</code> to display it in the app.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>check_modules_datanames(modules, datanames)

check_reserved_datanames(datanames)

check_modules_datanames_html(modules, datanames)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_modules_datanames_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>) object</p>
</td></tr>
<tr><td><code id="check_modules_datanames_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>) names of datasets available in the <code>data</code> object</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>TRUE</code> if validation passes, otherwise <code>character(1)</code> or <code>shiny.tag.list</code>
</p>

<hr>
<h2 id='check_reactive'>Check that argument is reactive.</h2><span id='topic+check_reactive'></span><span id='topic+test_reactive'></span><span id='topic+assert_reactive'></span>

<h3>Description</h3>

<p>Check that argument is reactive.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_reactive(x, null.ok = FALSE)

test_reactive(x, null.ok = FALSE)

assert_reactive(
  x,
  null.ok = FALSE,
  .var.name = checkmate::vname(x),
  add = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="check_reactive_+3A_x">x</code></td>
<td>
<p>[any]<br />
Object to check.</p>
</td></tr>
<tr><td><code id="check_reactive_+3A_null.ok">null.ok</code></td>
<td>
<p>[<code>logical(1)</code>]<br />
If set to <code>TRUE</code>, <code>x</code> may also be <code>NULL</code>.
In this case only a type check of <code>x</code> is performed, all additional checks are disabled.</p>
</td></tr>
<tr><td><code id="check_reactive_+3A_.var.name">.var.name</code></td>
<td>
<p>[<code>character(1)</code>]<br />
Name of the checked object to print in assertions. Defaults to
the heuristic implemented in <code><a href="checkmate.html#topic+vname">vname</a></code>.</p>
</td></tr>
<tr><td><code id="check_reactive_+3A_add">add</code></td>
<td>
<p>[<code>AssertCollection</code>]<br />
Collection to store assertion messages. See <code><a href="checkmate.html#topic+AssertCollection">AssertCollection</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depending on the function prefix:
If the check is successful, the functions 
<code>assertClass</code>/<code>assert_class</code> return 
<code>x</code> invisibly, whereas
<code>checkClass</code>/<code>check_class</code> and 
<code>testClass</code>/<code>test_class</code> return 
<code>TRUE</code>.
If the check is not successful, 
<code>assertClass</code>/<code>assert_class</code>
throws an error message, 
<code>testClass</code>/<code>test_class</code>
returns <code>FALSE</code>,
and <code>checkClass</code>/<code>check_class</code> 
return a string with the error message.
The function <code>expect_class</code> always returns an
<code><a href="testthat.html#topic+expectation">expectation</a></code>.
</p>

<hr>
<h2 id='create_app_id'>Application ID</h2><span id='topic+create_app_id'></span>

<h3>Description</h3>

<p>Creates App ID used to match filter snapshots to application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_app_id(data, modules)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create_app_id_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code> or <code>teal_data_module</code>) as accepted by <code>init</code></p>
</td></tr>
<tr><td><code id="create_app_id_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>) object as accepted by <code>init</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calculate app ID that will be used to stamp filter state snapshots.
App ID is a hash of the app's data and modules.
See &quot;transferring snapshots&quot; section in ?snapshot.
</p>


<h3>Value</h3>

<p>A single character string.
</p>

<hr>
<h2 id='decorate_err_msg'>Capture error and decorate error message.</h2><span id='topic+decorate_err_msg'></span>

<h3>Description</h3>

<p>Capture error and decorate error message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decorate_err_msg(x, pre = character(0), post = character(0))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="decorate_err_msg_+3A_x">x</code></td>
<td>
<p>object to evaluate</p>
</td></tr>
<tr><td><code id="decorate_err_msg_+3A_pre">pre</code></td>
<td>
<p>(<code>character(1)</code>) A string to prepend to error message</p>
</td></tr>
<tr><td><code id="decorate_err_msg_+3A_post">post</code></td>
<td>
<p>(<code>character(1)</code>) A string to append to error message</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>x</code> if no error, otherwise throws error with decorated message
</p>

<hr>
<h2 id='deep_copy_filter'>Deep copy <code>teal_slices</code></h2><span id='topic+deep_copy_filter'></span>

<h3>Description</h3>

<p>it's important to create a new copy of <code>teal_slices</code> when
starting a new <code>shiny</code> session. Otherwise, object will be shared
by multiple users as it is created in global environment before
<code>shiny</code> session starts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>deep_copy_filter(filter)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deep_copy_filter_+3A_filter">filter</code></td>
<td>
<p>(<code>teal_slices</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>teal_slices</code>
</p>

<hr>
<h2 id='example_module'>An example <code>teal</code> module</h2><span id='topic+example_module'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>example_module(
  label = "example teal module",
  datanames = "all",
  transformators = list(),
  decorators = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="example_module_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) Label shown in the navigation item for the module or module group.
For <code>modules()</code> defaults to <code>"root"</code>. See <code>Details</code>.</p>
</td></tr>
<tr><td><code id="example_module_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>) Names of the datasets relevant to the item.
There are 2 reserved values that have specific behaviors:
</p>

<ul>
<li><p> The keyword <code>"all"</code> includes all datasets available in the data passed to the teal application.
</p>
</li>
<li> <p><code>NULL</code> hides the sidebar panel completely.
</p>
</li>
<li><p> If <code>transformators</code> are specified, their <code>datanames</code> are automatically added to this <code>datanames</code>
argument.
</p>
</li></ul>
</td></tr>
<tr><td><code id="example_module_+3A_transformators">transformators</code></td>
<td>
<p>(<code>list</code> of <code>teal_transform_module</code>) that will be applied to transform module's data input.
To learn more check <code>vignette("transform-input-data", package = "teal")</code>.</p>
</td></tr>
<tr><td><code id="example_module_+3A_decorators">decorators</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a> (<code>list</code> of <code>teal_transform_module</code>) optional,
decorator for <code>object</code> included in the module.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This module creates an object called <code>object</code> that can be modified with decorators.
The <code>object</code> is determined by what's selected in <code style="white-space: pre;">&#8288;Choose a dataset&#8288;</code> input in UI.
The object can be anything that can be handled by <code>renderPrint()</code>.
See the <code>vignette("transform-module-output", package = "teal")</code> or <code><a href="#topic+teal_transform_module">teal_transform_module</a></code>
to read more about decorators.
</p>


<h3>Value</h3>

<p>A <code>teal</code> module which can be included in the <code>modules</code> argument to <code><a href="#topic+init">init()</a></code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnXGkAWV0AYQBBLHDPGFICFhieXHtpGCJHFWo4GIi4AA9YVAqfErKK7QF+QSVpdiFyUXEpbR0QIpiACyFWVPR2cwASFVp4+ZiRKUYOgF8wTYBdIA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnXGkAWV0AYQBBLHDPGFICFhieXHtpGCJHFWo4GIi4AA9YVAqfErKK7QF+QSVpdiFyUXEpbR0QIpiACyFWVPR2cwASFVp4+ZiRKUYOgF8wTYBdIA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>app &lt;- init(
  data = teal_data(IRIS = iris, MTCARS = mtcars),
  modules = example_module()
)
if (interactive()) {
  shinyApp(app$ui, app$server)
}
</code></pre>

<hr>
<h2 id='extract_module'>Extract/Remove module(s) of specific class</h2><span id='topic+extract_module'></span><span id='topic+drop_module'></span>

<h3>Description</h3>

<p>Given a <code>teal_module</code> or a <code>teal_modules</code>, return the elements of the structure according to <code>class</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_module(modules, class)

drop_module(modules, class)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_module_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)</p>
</td></tr>
<tr><td><code id="extract_module_+3A_class">class</code></td>
<td>
<p>The class name of <code>teal_module</code> to be extracted or dropped.</p>
</td></tr>
</table>


<h3>Value</h3>


<ul>
<li><p> For <code>extract_module</code>, a <code>teal_module</code> of class <code>class</code> or <code>teal_modules</code> containing modules of class <code>class</code>.
</p>
</li>
<li><p> For <code>drop_module</code>, the opposite, which is all <code>teal_modules</code> of  class other than <code>class</code>.
</p>
</li></ul>

<p><code>teal_modules</code>
</p>

<hr>
<h2 id='extract_transformators'>Extract all <code>transformators</code> from <code>modules</code>.</h2><span id='topic+extract_transformators'></span>

<h3>Description</h3>

<p>Extract all <code>transformators</code> from <code>modules</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>extract_transformators(modules)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="extract_transformators_+3A_modules">modules</code></td>
<td>
<p><code>teal_modules</code> or <code>teal_module</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>teal_transform_module</code> nested in the same way as input <code>modules</code>.
</p>

<hr>
<h2 id='get_client_timezone'>Get client timezone</h2><span id='topic+get_client_timezone'></span>

<h3>Description</h3>

<p>User timezone in the browser may be different to the one on the server.
This script can be run to register a <code>shiny</code> input which contains information about the timezone in the browser.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_client_timezone(ns)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_client_timezone_+3A_ns">ns</code></td>
<td>
<p>(<code>function</code>) namespace function passed from the <code>session</code> object in the <code>shiny</code> server.
For <code>shiny</code> modules this will allow for proper name spacing of the registered input.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>, invisibly.
</p>

<hr>
<h2 id='get_unique_labels'>Get unique labels</h2><span id='topic+get_unique_labels'></span>

<h3>Description</h3>

<p>Get unique labels for the modules to avoid namespace conflicts.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_unique_labels(labels)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_unique_labels_+3A_labels">labels</code></td>
<td>
<p>(<code>character</code>) vector of labels</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(<code>character</code>) vector of unique labels
</p>

<hr>
<h2 id='include_css_files'>Include <code>CSS</code> files from <code style="white-space: pre;">&#8288;/inst/css/&#8288;</code> package directory to application header</h2><span id='topic+include_css_files'></span>

<h3>Description</h3>

<p><code>system.file</code> should not be used to access files in other packages, it does
not work with <code>devtools</code>. Therefore, we redefine this method in each package
as needed. Thus, we do not export this method.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>include_css_files(pattern = "*")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="include_css_files_+3A_pattern">pattern</code></td>
<td>
<p>(<code>character</code>) pattern of files to be included</p>
</td></tr>
</table>


<h3>Value</h3>

<p>HTML code that includes <code>CSS</code> files.
</p>

<hr>
<h2 id='include_js_files'>Include <code>JS</code> files from <code style="white-space: pre;">&#8288;/inst/js/&#8288;</code> package directory to application header</h2><span id='topic+include_js_files'></span>

<h3>Description</h3>

<p><code>system.file</code> should not be used to access files in other packages, it does
not work with <code>devtools</code>. Therefore, we redefine this method in each package
as needed. Thus, we do not export this method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>include_js_files(pattern = NULL, except = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="include_js_files_+3A_pattern">pattern</code></td>
<td>
<p>(<code>character</code>) pattern of files to be included, passed to <code>system.file</code></p>
</td></tr>
<tr><td><code id="include_js_files_+3A_except">except</code></td>
<td>
<p>(<code>character</code>) vector of basename filenames to be excluded</p>
</td></tr>
</table>


<h3>Value</h3>

<p>HTML code that includes <code>JS</code> files.
</p>

<hr>
<h2 id='include_teal_css_js'>Code to include <code>teal</code> <code>CSS</code> and <code>JavaScript</code> files</h2><span id='topic+include_teal_css_js'></span>

<h3>Description</h3>

<p>This is useful when you want to use the same <code>JavaScript</code> and <code>CSS</code> files that are
used with the <code>teal</code> application.
This is also useful for running standalone modules in <code>teal</code> with the correct
styles.
Also initializes <code>shinyjs</code> so you can use it.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>include_teal_css_js()
</code></pre>


<h3>Details</h3>

<p>Simply add <code>include_teal_css_js()</code> as one of the UI elements.
</p>


<h3>Value</h3>

<p>A <code>shiny.tag.list</code>.
</p>

<hr>
<h2 id='init'>Create the server and UI function for the <code>shiny</code> app</h2><span id='topic+init'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>
<p>End-users: This is the most important function for you to start a
<code>teal</code> app that is composed of <code>teal</code> modules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>init(
  data,
  modules,
  filter = teal_slices(),
  title = lifecycle::deprecated(),
  header = lifecycle::deprecated(),
  footer = lifecycle::deprecated(),
  id = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="init_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code> or <code>teal_data_module</code>)
For constructing the data object, refer to <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> and <code><a href="#topic+teal_data_module">teal_data_module()</a></code>.</p>
</td></tr>
<tr><td><code id="init_+3A_modules">modules</code></td>
<td>
<p>(<code>list</code> or <code>teal_modules</code> or <code>teal_module</code>)
Nested list of <code>teal_modules</code> or <code>teal_module</code> objects or a single
<code>teal_modules</code> or <code>teal_module</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="init_+3A_filter">filter</code></td>
<td>
<p>(<code>teal_slices</code>) Optionally,
specifies the initial filter using <code><a href="#topic+teal_slices">teal_slices()</a></code>.</p>
</td></tr>
<tr><td><code id="init_+3A_title">title</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Optionally,
the browser window title. Defaults to a title &quot;teal app&quot; with the icon of NEST.
Can be created using the <code>build_app_title()</code> or
by passing a valid <code>shiny.tag</code> which is a head tag with title and link tag.
This parameter is no longer supported. Use <code>modify_title()</code> on the teal app object instead.</p>
</td></tr>
<tr><td><code id="init_+3A_header">header</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Optionally,
the header of the app.
This parameter is no longer supported. Use <code>modify_header()</code> on the teal app object instead.</p>
</td></tr>
<tr><td><code id="init_+3A_footer">footer</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Optionally,
the footer of the app.
This parameter is no longer supported. Use <code>modify_footer()</code> on the teal app object instead.</p>
</td></tr>
<tr><td><code id="init_+3A_id">id</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> (<code>character</code>) Optionally,
a string specifying the <code>shiny</code> module id in cases it is used as a <code>shiny</code> module
rather than a standalone <code>shiny</code> app.
This parameter is no longer supported. Use <code><a href="#topic+ui_teal">ui_teal()</a></code> and <code><a href="#topic+srv_teal">srv_teal()</a></code> instead.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Named list containing server and UI functions.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaQHcbACyF2EA4OXNQA+s6u2rj2wSCxwdIQcF5htIy0AM6W0qTMEJlKRIww7OlZuNK0jh7SmXAAjmHUFOwQjEReZRmZPH0JwcmpMKQELNkKufmFxaUjY4yZldW19U0tEG0dXfPjffxBwQC+sTwxhzBEjiot2Z6X17eBiQ83cM+J0tRQ9HDUtXwwJE3JkiCpGAQ4IDzp86iIpIxaqp1OItEJUCpSJUwaQMVi4ZlMpoIJVgToQEcYZ8VLQkWoNGjHJUMCydK4AOaZAAkjkk7FQdjAQiKJRcxOkPxxThcILBEKhYD6VMSwOg8Du0kB3GogIGZwGcAAHrBUC0wq8Wuxvr9-p5AUaTS1cnBuNILQr9YcHO6PolAQBJHrSADKcFQ3AwABkKOzSL5pP5MqQiOzmDBoQMHPVGAi6SjiWUIHjsZjiwSiSRSTLyZngji8VzE6QcowKI4RAAFahEWy1xJN9jA7TAYCAoZpHqAgC6U65ofD1CjMbjB1hDlXn0ptZpeYZm2qzNZ0niXs+BRyADlg2VHBvYaaewB5UuYtqZQVNwH9U8OLc-6WuGqcAamOKQTlkuqnhunoOEotDUOQiKeKEYSZHQkLvgMKFobQkKDjKQEApAYHlJk0LSBILCEXaYDBqgcAELQwFfsqzrcKh6HvKqsAyDR46keRlGMNRmq0WGEbRhAsa+CxWEuuEOF4dx8BEeOuyLIJVE8URBCsDqiqsUaBDUCo7ZhEJQEanQSZtCRQaeAQgrzhGADq1RxuRgIdnAriLm5jgeYqMHBO6qH0YxcEELU+jGKxMDmEI7K1NZvb-gABg6MCmjIoRulcbxpapdlZCG4VMWReC1mlgYlc5i6SdJCZZMmqawIVfHFdkdEMeVGb-uy3b0OxcEISIIHEcMozjNIun6XqpwCActBKNIhaIVAGhSNoNaHJk-gQKwACC6DsOYXI0pUZ3ZgiBwnBAYBHFOQA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaQHcbACyF2EA4OXNQA+s6u2rj2wSCxwdIQcF5htIy0AM6W0qTMEJlKRIww7OlZuNK0jh7SmXAAjmHUFOwQjEReZRmZPH0JwcmpMKQELNkKufmFxaUjY4yZldW19U0tEG0dXfPjffxBwQC+sTwxhzBEjiot2Z6X17eBiQ83cM+J0tRQ9HDUtXwwJE3JkiCpGAQ4IDzp86iIpIxaqp1OItEJUCpSJUwaQMVi4ZlMpoIJVgToQEcYZ8VLQkWoNGjHJUMCydK4AOaZAAkjkk7FQdjAQiKJRcxOkPxxThcILBEKhYD6VMSwOg8Du0kB3GogIGZwGcAAHrBUC0wq8Wuxvr9-p5AUaTS1cnBuNILQr9YcHO6PolAQBJHrSADKcFQ3AwABkKOzSL5pP5MqQiOzmDBoQMHPVGAi6SjiWUIHjsZjiwSiSRSTLyZngji8VzE6QcowKI4RAAFahEWy1xJN9jA7TAYCAoZpHqAgC6U65ofD1CjMbjB1hDlXn0ptZpeYZm2qzNZ0niXs+BRyADlg2VHBvYaaewB5UuYtqZQVNwH9U8OLc-6WuGqcAamOKQTlkuqnhunoOEotDUOQiKeKEYSZHQkLvgMKFobQkKDjKQEApAYHlJk0LSBILCEXaYDBqgcAELQwFfsqzrcKh6HvKqsAyDR46keRlGMNRmq0WGEbRhAsa+CxWEuuEOF4dx8BEeOuyLIJVE8URBCsDqiqsUaBDUCo7ZhEJQEanQSZtCRQaeAQgrzhGADq1RxuRgIdnAriLm5jgeYqMHBO6qH0YxcEELU+jGKxMDmEI7K1NZvb-gABg6MCmjIoRulcbxpapdlZCG4VMWReC1mlgYlc5i6SdJCZZMmqawIVfHFdkdEMeVGb-uy3b0OxcEISIIHEcMozjNIun6XqpwCActBKNIhaIVAGhSNoNaHJk-gQKwACC6DsOYXI0pUZ3ZgiBwnBAYBHFOQA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>app &lt;- init(
  data = within(
    teal_data(),
    {
      new_iris &lt;- transform(iris, id = seq_len(nrow(iris)))
      new_mtcars &lt;- transform(mtcars, id = seq_len(nrow(mtcars)))
    }
  ),
  modules = modules(
    module(
      label = "data source",
      server = function(input, output, session, data) {},
      ui = function(id, ...) tags$div(p("information about data source")),
      datanames = "all"
    ),
    example_module(label = "example teal module"),
    module(
      "Iris Sepal.Length histogram",
      server = function(input, output, session, data) {
        output$hist &lt;- renderPlot(
          hist(data()[["new_iris"]]$Sepal.Length)
        )
      },
      ui = function(id, ...) {
        ns &lt;- NS(id)
        plotOutput(ns("hist"))
      },
      datanames = "new_iris"
    )
  ),
  filter = teal_slices(
    teal_slice(dataname = "new_iris", varname = "Species"),
    teal_slice(dataname = "new_iris", varname = "Sepal.Length"),
    teal_slice(dataname = "new_mtcars", varname = "cyl"),
    exclude_varnames = list(new_iris = c("Sepal.Width", "Petal.Width")),
    module_specific = TRUE,
    mapping = list(
      `example teal module` = "new_iris Species",
      `Iris Sepal.Length histogram` = "new_iris Species",
      global_filters = "new_mtcars cyl"
    )
  )
)
if (interactive()) {
  shinyApp(app$ui, app$server)
}

</code></pre>

<hr>
<h2 id='is_arg_used'>Does the object make use of the <code>arg</code></h2><span id='topic+is_arg_used'></span>

<h3>Description</h3>

<p>Does the object make use of the <code>arg</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is_arg_used(modules, arg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is_arg_used_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_module</code> or <code>teal_modules</code>) object</p>
</td></tr>
<tr><td><code id="is_arg_used_+3A_arg">arg</code></td>
<td>
<p>(<code>character(1)</code>) names of the arguments to be checked against formals of <code>teal</code> modules.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>logical</code> whether the object makes use of <code>arg</code>.
</p>

<hr>
<h2 id='landing_popup_module'>Landing popup module</h2><span id='topic+landing_popup_module'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Creates a landing welcome popup for <code>teal</code> applications.
</p>
<p>This module is used to display a popup dialog when the application starts.
The dialog blocks access to the application and must be closed with a button before the application can be viewed.
This function is deprecated, please use <code>add_landing_modal()</code> on the teal app object instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>landing_popup_module(
  label = "Landing Popup",
  title = NULL,
  content = NULL,
  buttons = modalButton("Accept")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="landing_popup_module_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) Label of the module.</p>
</td></tr>
<tr><td><code id="landing_popup_module_+3A_title">title</code></td>
<td>
<p>(<code>character(1)</code>) Text to be displayed as popup title.</p>
</td></tr>
<tr><td><code id="landing_popup_module_+3A_content">content</code></td>
<td>
<p>(<code>character(1)</code>, <code>shiny.tag</code> or <code>shiny.tag.list</code>) with the content of the popup.
Passed to <code>...</code> of <code>shiny::modalDialog</code>. See examples.</p>
</td></tr>
<tr><td><code id="landing_popup_module_+3A_buttons">buttons</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>shiny.tag.list</code>) Typically a <code>modalButton</code> or <code>actionButton</code>. See examples.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>teal_module</code> (extended with <code>teal_landing_module</code> class) to be used in <code>teal</code> applications.
</p>

<hr>
<h2 id='make_teal_transform_server'>Make teal_transform_module's server</h2><span id='topic+make_teal_transform_server'></span>

<h3>Description</h3>

<p>A factory function to simplify creation of a <code><a href="#topic+teal_transform_module">teal_transform_module</a></code>'s server. Specified <code>expr</code>
is wrapped in a shiny module function and output can be passed to the <code>server</code> argument in
<code><a href="#topic+teal_transform_module">teal_transform_module()</a></code> call. Such a server function can be linked with ui and values from the
inputs can be used in the expression. Object names specified in the expression will be substituted
with the value of the respective input (matched by the name) - for example in
<code>expression(graph &lt;- graph + ggtitle(title))</code> object <code>title</code> will be replaced with the value of
<code>input$title</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_teal_transform_server(expr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="make_teal_transform_server_+3A_expr">expr</code></td>
<td>
<p>(<code>language</code>)
An R call which will be evaluated within <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data</a></code> environment.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code style="white-space: pre;">&#8288;function(id, data)&#8288;</code> returning <code>shiny</code> module
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogNNlGtGAH1aFgM5zFXaldLMIdpUUbWYRACYq1HDsAtLS1FD0cNTSALzSfGAAypaodEq0cP7SQuSi4lLSblAeXj5QpN7K1ba0dkm4YdL+laWwcA4JSXUNeM0qtPHKahpatP46IM3hHo7SAHLJ7BP8EOGzKvAWBACSEKgqpOweoZBWjEQA7n08uIkpKvR2cKTS65c3jdIS3CoyCQAbPcYEJhgBGEFQAAeEIArAAGe52cioCFrcIAXya62kL0YUkYwxgUAA1nBXHBuK53J5vNZ8YT2HBoahGJ07JoICt7PMABZU-w8+r3CAXa52HhSgRrARoNEKXKCY7NVqkKDDZxWNVQYVdXL2O7NPyBYL6lmwdIUk1BEIlMr0yrefVuSw2Q0ygS0JTSFbCAqSEJS6TTXF2PlCVgAQXQ7HlABJBvcE4yRGtMQIwJiALpAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogNNlGtGAH1aFgM5zFXaldLMIdpUUbWYRACYq1HDsAtLS1FD0cNTSALzSfGAAypaodEq0cP7SQuSi4lLSblAeXj5QpN7K1ba0dkm4YdL+laWwcA4JSXUNeM0qtPHKahpatP46IM3hHo7SAHLJ7BP8EOGzKvAWBACSEKgqpOweoZBWjEQA7n08uIkpKvR2cKTS65c3jdIS3CoyCQAbPcYEJhgBGEFQAAeEIArAAGe52cioCFrcIAXya62kL0YUkYwxgUAA1nBXHBuK53J5vNZ8YT2HBoahGJ07JoICt7PMABZU-w8+r3CAXa52HhSgRrARoNEKXKCY7NVqkKDDZxWNVQYVdXL2O7NPyBYL6lmwdIUk1BEIlMr0yrefVuSw2Q0ygS0JTSFbCAqSEJS6TTXF2PlCVgAQXQ7HlABJBvcE4yRGtMQIwJiALpAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>
trim_iris &lt;- teal_transform_module(
  label = "Simplified interactive transformator for iris",
  datanames = "iris",
  ui = function(id) {
    ns &lt;- NS(id)
    numericInput(ns("n_rows"), "Subset n rows", value = 6, min = 1, max = 150, step = 1)
  },
  server = make_teal_transform_server(expression(iris &lt;- head(iris, n_rows)))
)

app &lt;- init(
  data = teal_data(iris = iris),
  modules = example_module(transformators = trim_iris)
)
if (interactive()) {
  shinyApp(app$ui, app$server)
}

</code></pre>

<hr>
<h2 id='module_bookmark_manager'>App state management.</h2><span id='topic+module_bookmark_manager'></span><span id='topic+bookmark'></span><span id='topic+bookmark_manager'></span><span id='topic+bookmark_manager_module'></span><span id='topic+ui_bookmark_panel'></span><span id='topic+srv_bookmark_panel'></span><span id='topic+get_bookmarking_option'></span><span id='topic+need_bookmarking'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Capture and restore the global (app) input state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_bookmark_panel(id, modules)

srv_bookmark_panel(id, modules)

get_bookmarking_option()

need_bookmarking(modules)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_bookmark_manager_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_bookmark_manager_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)
<code>teal_modules</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This module introduces bookmarks into <code>teal</code> apps: the <code>shiny</code> bookmarking mechanism becomes enabled
and server-side bookmarks can be created.
</p>
<p>The bookmark manager presents a button with the bookmark icon and is placed in the tab-bar.
When clicked, the button creates a bookmark and opens a modal which displays the bookmark URL.
</p>
<p><code>teal</code> does not guarantee that all modules (<code>teal_module</code> objects) are bookmarkable.
Those that are, have a <code>teal_bookmarkable</code> attribute set to <code>TRUE</code>. If any modules are not bookmarkable,
the bookmark manager modal displays a warning and the bookmark button displays a flag.
In order to communicate that a external module is bookmarkable, the module developer
should set the <code>teal_bookmarkable</code> attribute to <code>TRUE</code>.
</p>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>


<h3>Server logic</h3>

<p>A bookmark is a URL that contains the app address with a <code style="white-space: pre;">&#8288;/?_state_id_=&lt;bookmark_dir&gt;&#8288;</code> suffix.
<code style="white-space: pre;">&#8288;&lt;bookmark_dir&gt;&#8288;</code> is a directory created on the server, where the state of the application is saved.
Accessing the bookmark URL opens a new session of the app that starts in the previously saved state.
</p>


<h3>Note</h3>

<p>To enable bookmarking use either:
</p>

<ul>
<li> <p><code>shiny</code> app by using <code>shinyApp(..., enableBookmarking = "server")</code> (not supported in <code>shinytest2</code>)
</p>
</li>
<li><p> set <code>options(shiny.bookmarkStore = "server")</code> before running the app
</p>
</li></ul>


<hr>
<h2 id='module_data_summary'>Data summary</h2><span id='topic+module_data_summary'></span><span id='topic+ui_data_summary'></span><span id='topic+srv_data_summary'></span><span id='topic+get_filter_overview_wrapper'></span><span id='topic+get_filter_overview'></span><span id='topic+get_filter_overview_array'></span><span id='topic+get_filter_overview_MultiAssayExperiment'></span>

<h3>Description</h3>

<p>Module and its utils to display the number of rows and subjects in the filtered and unfiltered data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_data_summary(id)

srv_data_summary(id, data)

get_filter_overview_wrapper(teal_data)

get_filter_overview(current_data, initial_data, dataname, subject_keys)

get_filter_overview_array(current_data, initial_data, dataname, subject_keys)

get_filter_overview_MultiAssayExperiment(current_data, initial_data, dataname)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_data_summary_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_data_summary_+3A_data">data</code></td>
<td>
<p>(<code>reactive</code> returning <code>teal_data</code>)</p>
</td></tr>
<tr><td><code id="module_data_summary_+3A_current_data">current_data</code></td>
<td>
<p>(<code>object</code>) current object (after filtering and transforming).</p>
</td></tr>
<tr><td><code id="module_data_summary_+3A_initial_data">initial_data</code></td>
<td>
<p>(<code>object</code>) initial object.</p>
</td></tr>
<tr><td><code id="module_data_summary_+3A_dataname">dataname</code></td>
<td>
<p>(<code>character(1)</code>)</p>
</td></tr>
<tr><td><code id="module_data_summary_+3A_subject_keys">subject_keys</code></td>
<td>
<p>(<code>character</code>) names of the columns which determine a single unique subjects</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Handling different data classes:
<code>get_filter_overview()</code> is a pseudo S3 method which has variants for:
</p>

<ul>
<li> <p><code>array</code> (<code>data.frame</code>, <code>DataFrame</code>, <code>array</code>, <code>Matrix</code> and <code>SummarizedExperiment</code>): Method variant
can be applied to any two-dimensional objects on which <code><a href="base.html#topic+ncol">ncol()</a></code> can be used.
</p>
</li>
<li> <p><code>MultiAssayExperiment</code>: for which summary contains counts for <code>colData</code> and all <code>experiments</code>.
</p>
</li>
<li><p> For other data types module displays data name with warning icon and no more details.
</p>
</li></ul>

<p>Module includes also &quot;Show/Hide unsupported&quot; button to toggle rows of the summary table
containing datasets where number of observations are not calculated.
</p>


<h3>Value</h3>

<p><code>NULL</code>.
</p>

<hr>
<h2 id='module_filter_data'>Filter panel module in teal</h2><span id='topic+module_filter_data'></span><span id='topic+ui_filter_data'></span><span id='topic+srv_filter_data'></span><span id='topic+.make_filtered_teal_data'></span><span id='topic+.observe_active_filter_changed'></span><span id='topic+.get_filter_expr'></span>

<h3>Description</h3>

<p>Creates filter panel module from <code>teal_data</code> object and returns <code>teal_data</code>. It is build in a way
that filter panel changes and anything what happens before (e.g. <code><a href="#topic+module_init_data">module_init_data</a></code>) is triggering
further reactive events only if something has changed and if the module is visible. Thanks to
this special implementation all modules' data are recalculated only for those modules which are
currently displayed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_filter_data(id)

srv_filter_data(id, datasets, active_datanames, data, is_active)

.make_filtered_teal_data(modules, data, datasets = NULL, datanames)

.observe_active_filter_changed(datasets, is_active, active_datanames, data)

.get_filter_expr(datasets, datanames)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_filter_data_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_filter_data_+3A_datasets">datasets</code></td>
<td>
<p>(<code>reactive</code> returning <code>FilteredData</code> or <code>NULL</code>)
When <code>datasets</code> is passed from the parent module (<code>srv_teal</code>) then <code>dataset</code> is a singleton
which implies in filter-panel to be &quot;global&quot;. When <code>NULL</code> then filter-panel is &quot;module-specific&quot;.</p>
</td></tr>
<tr><td><code id="module_filter_data_+3A_active_datanames">active_datanames</code></td>
<td>
<p>(<code>reactive</code> returning <code>character</code>) this module's data names</p>
</td></tr>
<tr><td><code id="module_filter_data_+3A_data">data</code></td>
<td>
<p>(<code>reactive</code> returning <code>teal_data</code>)</p>
</td></tr>
<tr><td><code id="module_filter_data_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)
<code>teal_modules</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>eventReactive</code> containing <code>teal_data</code> containing filtered objects and filter code.
<code>eventReactive</code> triggers only if all conditions are met:
</p>

<ul>
<li><p> tab is selected (<code>is_active</code>)
</p>
</li>
<li><p> when filters are changed (<code>get_filter_expr</code> is different than previous)
</p>
</li></ul>


<hr>
<h2 id='module_filter_manager'>Manage multiple <code>FilteredData</code> objects</h2><span id='topic+module_filter_manager'></span><span id='topic+ui_filter_manager_panel'></span><span id='topic+srv_filter_manager_panel'></span><span id='topic+ui_filter_manager'></span><span id='topic+srv_filter_manager'></span><span id='topic+srv_module_filter_manager'></span><span id='topic+.slicesGlobal-class'></span><span id='topic+.slicesGlobal'></span>

<h3>Description</h3>

<p>Oversee filter states across the entire application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_filter_manager_panel(id)

srv_filter_manager_panel(id, slices_global)

ui_filter_manager(id)

srv_filter_manager(id, slices_global)

srv_module_filter_manager(id, module_fd, slices_global)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_filter_manager_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>)
<code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_filter_manager_+3A_slices_global">slices_global</code></td>
<td>
<p>(<code>reactiveVal</code>)
containing <code>teal_slices</code>.</p>
</td></tr>
<tr><td><code id="module_filter_manager_+3A_module_fd">module_fd</code></td>
<td>
<p>(<code>FilteredData</code>)
Object containing the data to be filtered in a single <code>teal</code> module.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Module returns a <code>slices_global</code> (<code>reactiveVal</code>) containing a <code>teal_slices</code> object with mapping.
</p>


<h3>Slices global</h3>

<p>The key role in maintaining the module-specific filter states is played by the <code>.slicesGlobal</code>
object. It is a reference class that holds the following fields:
</p>

<ul>
<li> <p><code>all_slices</code> (<code>reactiveVal</code>) - reactive value containing all filters registered in an app.
</p>
</li>
<li> <p><code>module_slices_api</code> (<code>reactiveValues</code>) - reactive field containing references to each modules'
<code>FilteredData</code> object methods. At this moment it is used only in <code>srv_filter_manager</code> to display
the filter states in a table combining informations from <code>all_slices</code> and from
<code>FilteredData$get_available_teal_slices()</code>.
</p>
</li></ul>

<p>During a session only new filters are added to <code>all_slices</code> unless <code><a href="#topic+module_snapshot_manager">module_snapshot_manager</a></code> is
used to restore previous state. Filters from <code>all_slices</code> can be activated or deactivated in a
module which is linked (both ways) by <code>attr(, "mapping")</code> so that:
</p>

<ul>
<li><p> If module's filter is added or removed in its <code>FilteredData</code> object, this information is passed
to <code>SlicesGlobal</code> which updates <code>attr(, "mapping")</code> accordingly.
</p>
</li>
<li><p> When mapping changes in a <code>SlicesGlobal</code>, filters are set or removed from module's
<code>FilteredData</code>.
</p>
</li></ul>



<h3>Filter manager</h3>

<p>Filter-manager is split into two parts:
</p>

<ol>
<li> <p><code>ui/srv_filter_manager_panel</code> - Called once for the whole app. This module observes changes in
the filters in <code>slices_global</code> and displays them in a table utilizing information from <code>mapping</code>:
</p>
</li></ol>


<ul>
<li><p> (<code>TRUE</code>) - filter is active in the module
</p>
</li>
<li><p> (<code>FALSE</code>) - filter is inactive in the module
</p>
</li>
<li><p> (<code>NA</code>) - filter is not available in the module
</p>
</li></ul>


<ol>
<li> <p><code>ui/srv_module_filter_manager</code> - Called once for each <code>teal_module</code>. Handling filter states
for of single module and keeping module <code>FilteredData</code> consistent with <code>slices_global</code>, so that
local filters are always reflected in the <code>slices_global</code> and its mapping and vice versa.
</p>
</li></ol>


<hr>
<h2 id='module_init_data'>Data Module for teal</h2><span id='topic+module_init_data'></span><span id='topic+ui_init_data'></span><span id='topic+srv_init_data'></span>

<h3>Description</h3>

<p>This module manages the <code>data</code> argument for <code>srv_teal</code>. The <code>teal</code> framework uses <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code>,
which can be provided in various ways:
</p>

<ol>
<li><p> Directly as a <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> object. This will automatically convert it into a <code>reactive</code> <code>teal_data</code>.
</p>
</li>
<li><p> As a <code>reactive</code> object that returns a <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> object.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>ui_init_data(id)

srv_init_data(id, data)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_init_data_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_init_data_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code>, <code>teal_data_module</code>, or <code>reactive</code> returning <code>teal_data</code>)
The data which application will depend on.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Reactive <code>teal_data</code>:</h4>

<p>The data in the application can be reactively updated, prompting <code><a href="#topic+srv_teal">srv_teal()</a></code> to rebuild the
content accordingly. There are two methods for creating interactive <code>teal_data</code>:
</p>

<ol>
<li><p> Using a <code>reactive</code> object provided from outside the <code>teal</code> application. In this scenario,
reactivity is controlled by an external module, and <code>srv_teal</code> responds to changes.
</p>
</li>
<li><p> Using <code><a href="#topic+teal_data_module">teal_data_module()</a></code>, which is embedded within the <code>teal</code> application, allowing data to
be resubmitted by the user as needed.
</p>
</li></ol>

<p>Since the server of <code><a href="#topic+teal_data_module">teal_data_module()</a></code> must return a <code>reactive</code> <code>teal_data</code> object, both
methods (1 and 2) produce the same reactive behavior within a <code>teal</code> application. The distinction
lies in data control: the first method involves external control, while the second method
involves control from a custom module within the app.
</p>
<p>For more details, see <code><a href="#topic+module_teal_data">module_teal_data</a></code>.
</p>



<h3>Value</h3>

<p>A <code>reactive</code> object that returns:
Output of the <code>data</code>. If <code>data</code> fails then returned error is handled (after <code><a href="base.html#topic+tryCatch">tryCatch()</a></code>) so that
rest of the application can respond to this respectively.
</p>

<hr>
<h2 id='module_labels'>Retrieve labels from <code>teal_modules</code></h2><span id='topic+module_labels'></span>

<h3>Description</h3>

<p>Retrieve labels from <code>teal_modules</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>module_labels(modules)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_labels_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> containing the labels of the modules. If the modules are nested,
the function returns a nested <code>list</code> of labels.
</p>

<hr>
<h2 id='module_session_info'><code>teal</code> user session info module</h2><span id='topic+module_session_info'></span><span id='topic+ui_session_info'></span><span id='topic+srv_session_info'></span>

<h3>Description</h3>

<p>Module to display the user session info popup and to download a lockfile. Module is included
when running <code><a href="#topic+init">init()</a></code> but skipped when using <code><a href="#topic+module_teal">module_teal</a></code>. Please be aware that session info
contains R session information, so multiple module's calls will share the same information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_session_info(id)

srv_session_info(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_session_info_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> invisibly
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEracxUurmAJgAUoAczjsB06eYD6AZzg+fTQgvISUiNzA-AKCQiDC+MH4IJIE-RilGS2U1DS0hVBVSXGkiQoKi6SjAkh0Qd0r0339q4NDwhKqYtoSkgF9TQSVpdiFyUXEpbVr6nwALIVYAQXR2c2K0jL6BMF6AXSA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEracxUurmAJgAUoAczjsB06eYD6AZzg+fTQgvISUiNzA-AKCQiDC+MH4IJIE-RilGS2U1DS0hVBVSXGkiQoKi6SjAkh0Qd0r0339q4NDwhKqYtoSkgF9TQSVpdiFyUXEpbVr6nwALIVYAQXR2c2K0jL6BMF6AXSA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>ui &lt;- fluidPage(
  ui_session_info("session_info")
)

server &lt;- function(input, output, session) {
  srv_session_info("session_info")
}

if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='module_snapshot_manager'>Filter state snapshot management</h2><span id='topic+module_snapshot_manager'></span><span id='topic+ui_snapshot_manager_panel'></span><span id='topic+srv_snapshot_manager_panel'></span><span id='topic+ui_snapshot_manager'></span><span id='topic+srv_snapshot_manager'></span>

<h3>Description</h3>

<p>Capture and restore snapshots of the global (app) filter state.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_snapshot_manager_panel(id)

srv_snapshot_manager_panel(id, slices_global)

ui_snapshot_manager(id)

srv_snapshot_manager(id, slices_global)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_snapshot_manager_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_snapshot_manager_+3A_slices_global">slices_global</code></td>
<td>
<p>(<code>reactiveVal</code>) that contains a <code>teal_slices</code> object
containing all <code>teal_slice</code>s existing in the app, both active and inactive.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This module introduces snapshots: stored descriptions of the filter state of the entire application.
Snapshots allow the user to save the current filter state of the application for later use in the session,
as well as to save it to file in order to share it with an app developer or other users,
who in turn can upload it to their own session.
</p>
<p>The snapshot manager is accessed with the camera icon in the tabset bar.
At the beginning of a session it presents three icons: a camera, an upload, and an circular arrow.
Clicking the camera captures a snapshot, clicking the upload adds a snapshot from a file
and applies the filter states therein, and clicking the arrow resets initial application state.
As snapshots are added, they will show up as rows in a table and each will have a select button and a save button.
</p>


<h3>Value</h3>

<p><code>list</code> containing the snapshot history, where each element is an unlisted <code>teal_slices</code> object.
</p>


<h3>Server logic</h3>

<p>Snapshots are basically <code>teal_slices</code> objects, however, since each module is served by a separate instance
of <code>FilteredData</code> and these objects require shared state, <code>teal_slice</code> is a <code>reactiveVal</code> so <code>teal_slices</code>
cannot be stored as is. Therefore, <code>teal_slices</code> are reversibly converted to a list of lists representation
(attributes are maintained).
</p>
<p>Snapshots are stored in a <code>reactiveVal</code> as a named list.
The first snapshot is the initial state of the application and the user can add a snapshot whenever they see fit.
</p>
<p>For every snapshot except the initial one, a piece of UI is generated that contains
the snapshot name, a select button to restore that snapshot, and a save button to save it to a file.
The initial snapshot is restored by a separate &quot;reset&quot; button.
It cannot be saved directly but a user is welcome to capture the initial state as a snapshot and save that.
</p>


<h3>Snapshot mechanics</h3>

<p>When a snapshot is captured, the user is prompted to name it.
Names are displayed as is but since they are used to create button ids,
under the hood they are converted to syntactically valid strings.
New snapshot names are validated so that their valid versions are unique.
Leading and trailing white space is trimmed.
</p>
<p>The module can read the global state of the application from <code>slices_global</code> and <code>mapping_matrix</code>.
The former provides a list of all existing <code>teal_slice</code>s and the latter says which slice is active in which module.
Once a name has been accepted, <code>slices_global</code> is converted to a list of lists - a snapshot.
The snapshot contains the <code>mapping</code> attribute of the initial application state
(or one that has been restored), which may not reflect the current one,
so <code>mapping_matrix</code> is transformed to obtain the current mapping, i.e. a list that,
when passed to the <code>mapping</code> argument of <code><a href="#topic+teal_slices">teal_slices()</a></code>, would result in the current mapping.
This is substituted as the snapshot's <code>mapping</code> attribute and the snapshot is added to the snapshot list.
</p>
<p>To restore app state, a snapshot is retrieved from storage and rebuilt into a <code>teal_slices</code> object.
Then state of all <code>FilteredData</code> objects (provided in <code>datasets</code>) is cleared
and set anew according to the <code>mapping</code> attribute of the snapshot.
The snapshot is then set as the current content of <code>slices_global</code>.
</p>
<p>To save a snapshot, the snapshot is retrieved and reassembled just like for restoring,
and then saved to file with <code><a href="#topic+slices_store">slices_store()</a></code>.
</p>
<p>When a snapshot is uploaded, it will first be added to storage just like a newly created one,
and then used to restore app state much like a snapshot taken from storage.
Upon clicking the upload icon the user will be prompted for a file to upload
and may choose to name the new snapshot. The name defaults to the name of the file (the extension is dropped)
and normal naming rules apply. Loading the file yields a <code>teal_slices</code> object,
which is disassembled for storage and used directly for restoring app state.
</p>


<h3>Transferring snapshots</h3>

<p>Snapshots uploaded from disk should only be used in the same application they come from,
<em>i.e.</em> an application that uses the same data and the same modules.
To ensure this is the case, <code>init</code> stamps <code>teal_slices</code> with an app id that is stored in the <code>app_id</code> attribute of
a <code>teal_slices</code> object. When a snapshot is restored from file, its <code>app_id</code> is compared to that
of the current app state and only if the match is the snapshot admitted to the session.
</p>


<h3>Bookmarks</h3>

<p>An <code>onBookmark</code> callback creates a snapshot of the current filter state.
This is done on the app session, not the module session.
(The snapshot will be retrieved by <code>module_teal</code> in order to set initial app state in a restored app.)
Then that snapshot, and the previous snapshot history are dumped into the <code>values.rds</code> file in <code style="white-space: pre;">&#8288;&lt;bookmark_dir&gt;&#8288;</code>.
</p>


<h3>Author(s)</h3>

<p>Aleksander Chlebowski
</p>

<hr>
<h2 id='module_teal'><code>teal</code> main module</h2><span id='topic+module_teal'></span><span id='topic+ui_teal'></span><span id='topic+srv_teal'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
Module to create a <code>teal</code> app as a Shiny Module.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_teal(id, modules)

srv_teal(id, data, modules, filter = teal_slices())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_teal_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_teal_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)
<code>teal_modules</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="module_teal_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code>, <code>teal_data_module</code>, or <code>reactive</code> returning <code>teal_data</code>)
The data which application will depend on.</p>
</td></tr>
<tr><td><code id="module_teal_+3A_filter">filter</code></td>
<td>
<p>(<code>teal_slices</code>) Optionally,
specifies the initial filter using <code><a href="#topic+teal_slices">teal_slices()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This module can be used instead of <code><a href="#topic+init">init()</a></code> in custom Shiny applications. Unlike <code><a href="#topic+init">init()</a></code>, it doesn't
automatically include <code><a href="#topic+module_session_info">module_session_info</a></code>.
</p>
<p>Module is responsible for creating the main <code>shiny</code> app layout and initializing all the necessary
components. This module establishes reactive connection between the input <code>data</code> and every other
component in the app. Reactive change of the <code>data</code> passed as an argument, reloads the app and
possibly keeps all input settings the same so the user can continue where one left off.
</p>


<h4>data flow in <code>teal</code> application</h4>

<p>This module supports multiple data inputs but eventually, they are all converted to <code>reactive</code>
returning <code>teal_data</code> in this module. On this <code style="white-space: pre;">&#8288;reactive teal_data&#8288;</code> object several actions are
performed:
</p>

<ul>
<li><p> data loading in <code><a href="#topic+module_init_data">module_init_data</a></code>
</p>
</li>
<li><p> data filtering in <code><a href="#topic+module_filter_data">module_filter_data</a></code>
</p>
</li>
<li><p> data transformation in <code><a href="#topic+module_transform_data">module_transform_data</a></code>
</p>
</li></ul>




<h4>Fallback on failure</h4>

<p><code>teal</code> is designed in such way that app will never crash if the error is introduced in any
custom <code>shiny</code> module provided by app developer (e.g. <code><a href="#topic+teal_data_module">teal_data_module()</a></code>, <code><a href="#topic+teal_transform_module">teal_transform_module()</a></code>).
If any module returns a failing object, the app will halt the evaluation and display a warning message.
App user should always have a chance to fix the improper input and continue without restarting the session.
</p>



<h3>Value</h3>

<p><code>NULL</code> invisibly
</p>

<hr>
<h2 id='module_teal_data'>Execute and validate <code>teal_data_module</code></h2><span id='topic+module_teal_data'></span><span id='topic+ui_teal_data_module'></span><span id='topic+ui_teal_data'></span><span id='topic+srv_teal_data_module'></span><span id='topic+srv_teal_data'></span><span id='topic+ui_validate_reactive_teal_data'></span><span id='topic+srv_validate_reactive_teal_data'></span>

<h3>Description</h3>

<p>This is a low level module to handle <code>teal_data_module</code> execution and validation.
<code><a href="#topic+teal_transform_module">teal_transform_module()</a></code> inherits from <code><a href="#topic+teal_data_module">teal_data_module()</a></code> so it is handled by this module too.
<code><a href="#topic+srv_teal">srv_teal()</a></code> accepts various <code>data</code> objects and eventually they are all transformed to <code>reactive</code>
<code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> which is a standard data class in whole <code>teal</code> framework.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_teal_data_module(id, data_module = function(id) NULL)

srv_teal_data_module(
  id,
  data_module = function(id) NULL,
  modules = NULL,
  validate_shiny_silent_error = TRUE,
  is_transform_failed = reactiveValues()
)

ui_validate_reactive_teal_data(id)

srv_validate_reactive_teal_data(
  id,
  data,
  modules = NULL,
  validate_shiny_silent_error = FALSE,
  hide_validation_error = reactive(FALSE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_teal_data_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_teal_data_+3A_data_module">data_module</code></td>
<td>
<p>(<code>teal_data_module</code>)</p>
</td></tr>
<tr><td><code id="module_teal_data_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code> or <code>teal_module</code>) For <code>datanames</code> validation purpose</p>
</td></tr>
<tr><td><code id="module_teal_data_+3A_validate_shiny_silent_error">validate_shiny_silent_error</code></td>
<td>
<p>(<code>logical</code>) If <code>TRUE</code>, then <code>shiny.silent.error</code> is validated and</p>
</td></tr>
<tr><td><code id="module_teal_data_+3A_is_transform_failed">is_transform_failed</code></td>
<td>
<p>(<code>reactiveValues</code>) contains <code>logical</code> flags named after each transformator.
Help to determine if any previous transformator failed, so that following transformators can be disabled
and display a generic failure message.</p>
</td></tr>
<tr><td><code id="module_teal_data_+3A_data">data</code></td>
<td>
<p>(<code>reactive</code> returning <code>teal_data</code>)</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>reactive</code> <code>teal_data</code>
</p>


<h3>data validation</h3>

<p>Executed <code><a href="#topic+teal_data_module">teal_data_module()</a></code> is validated and output is validated for consistency.
Output <code>data</code> is invalid if:
</p>

<ol>
<li> <p><code><a href="#topic+teal_data_module">teal_data_module()</a></code> is invalid if server doesn't return <code>reactive</code>. <strong>Immediately crashes an app!</strong>
</p>
</li>
<li> <p><code>reactive</code> throws a <code>shiny.error</code> - happens when module creating <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> fails.
</p>
</li>
<li> <p><code>reactive</code> returns <code>qenv.error</code> - happens when <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> evaluates a failing code.
</p>
</li>
<li> <p><code>reactive</code> object doesn't return <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code>.
</p>
</li>
<li> <p><code><a href="teal.data.html#topic+teal_data">teal.data::teal_data()</a></code> object lacks any <code>datanames</code> specified in the <code>modules</code> argument.
</p>
</li></ol>

<p><code>teal</code> (observers in <code>srv_teal</code>) always waits to render an app until <code>reactive</code> <code>teal_data</code> is
returned. If error 2-4 occurs, relevant error message is displayed to the app user. Once the issue is
resolved, the app will continue to run. <code>teal</code> guarantees that errors in data don't crash the app
(except error 1).
</p>


<h3>Note</h3>

<p><code>ui_teal_data_module</code> was renamed from <code>ui_teal_data</code>.
</p>
<p><code>srv_teal_data_module</code> was renamed from <code>srv_teal_data</code>.
</p>

<hr>
<h2 id='module_teal_lockfile'>Generate lockfile for application's environment reproducibility</h2><span id='topic+module_teal_lockfile'></span><span id='topic+ui_teal_lockfile'></span><span id='topic+srv_teal_lockfile'></span><span id='topic+.teal_lockfile_process_invoke'></span><span id='topic+.renv_snapshot'></span><span id='topic+.is_lockfile_deps_installed'></span><span id='topic+.is_disabled_lockfile_scenario'></span>

<h3>Description</h3>

<p>Generate lockfile for application's environment reproducibility
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_teal_lockfile(id)

srv_teal_lockfile(id)

.teal_lockfile_process_invoke(lockfile_path)

.renv_snapshot(lockfile_path)

.is_lockfile_deps_installed()

.is_disabled_lockfile_scenario()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_teal_lockfile_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_teal_lockfile_+3A_lockfile_path">lockfile_path</code></td>
<td>
<p>(<code>character</code>) path to the lockfile.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code>
</p>


<h3>Different ways of creating lockfile</h3>

<p><code>teal</code> leverages <code><a href="renv.html#topic+snapshot">renv::snapshot()</a></code>, which offers multiple methods for lockfile creation.
</p>

<ul>
<li> <p><strong>Working directory lockfile</strong>: <code>teal</code>, by default, will create an <code>implicit</code> type lockfile that uses
<code>renv::dependencies()</code> to detect all R packages in the current project's working directory.
</p>
</li>
<li> <p><strong><code>DESCRIPTION</code>-based lockfile</strong>: To generate a lockfile based on a <code>DESCRIPTION</code> file in your working
directory, set <code>renv::settings$snapshot.type("explicit")</code>. The naming convention for <code>type</code> follows
<code>renv::snapshot()</code>. For the <code>"explicit"</code> type, refer to <code>renv::settings$package.dependency.fields()</code> for the
<code>DESCRIPTION</code> fields included in the lockfile.
</p>
</li>
<li> <p><strong>Custom files-based lockfile</strong>: To specify custom files as the basis for the lockfile, set
<code>renv::settings$snapshot.type("custom")</code> and configure the <code>renv.snapshot.filter</code> option.
</p>
</li></ul>



<h3>lockfile usage</h3>

<p>After creating the lockfile, you can restore the application's environment using <code>renv::restore()</code>.
</p>


<h3>See Also</h3>

<p><code><a href="renv.html#topic+snapshot">renv::snapshot()</a></code>, <code><a href="renv.html#topic+restore">renv::restore()</a></code>.
</p>

<hr>
<h2 id='module_teal_module'>Calls all <code>modules</code></h2><span id='topic+module_teal_module'></span><span id='topic+ui_teal_module'></span><span id='topic+ui_teal_module.default'></span><span id='topic+ui_teal_module.teal_modules'></span><span id='topic+ui_teal_module.teal_module'></span><span id='topic+srv_teal_module'></span><span id='topic+srv_teal_module.default'></span><span id='topic+srv_teal_module.teal_modules'></span><span id='topic+srv_teal_module.teal_module'></span>

<h3>Description</h3>

<p>On the UI side each <code>teal_modules</code> is translated to a <code>tabsetPanel</code> and each <code>teal_module</code> is a
<code>tabPanel</code>. Both, UI and server are called recursively so that each tab is a separate module and
reflect nested structure of <code>modules</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_teal_module(id, modules, depth = 0L)

## Default S3 method:
ui_teal_module(id, modules, depth = 0L)

## S3 method for class 'teal_modules'
ui_teal_module(id, modules, depth = 0L)

## S3 method for class 'teal_module'
ui_teal_module(id, modules, depth = 0L)

srv_teal_module(
  id,
  data,
  modules,
  datasets = NULL,
  slices_global,
  reporter = teal.reporter::Reporter$new(),
  data_load_status = reactive("ok"),
  is_active = reactive(TRUE)
)

## Default S3 method:
srv_teal_module(
  id,
  data,
  modules,
  datasets = NULL,
  slices_global,
  reporter = teal.reporter::Reporter$new(),
  data_load_status = reactive("ok"),
  is_active = reactive(TRUE)
)

## S3 method for class 'teal_modules'
srv_teal_module(
  id,
  data,
  modules,
  datasets = NULL,
  slices_global,
  reporter = teal.reporter::Reporter$new(),
  data_load_status = reactive("ok"),
  is_active = reactive(TRUE)
)

## S3 method for class 'teal_module'
srv_teal_module(
  id,
  data,
  modules,
  datasets = NULL,
  slices_global,
  reporter = teal.reporter::Reporter$new(),
  data_load_status = reactive("ok"),
  is_active = reactive(TRUE)
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_teal_module_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_teal_module_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)
<code>teal_modules</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="module_teal_module_+3A_depth">depth</code></td>
<td>
<p>(<code>integer(1)</code>)
number which helps to determine depth of the modules nesting.</p>
</td></tr>
<tr><td><code id="module_teal_module_+3A_data">data</code></td>
<td>
<p>(<code>reactive</code> returning <code>teal_data</code>)</p>
</td></tr>
<tr><td><code id="module_teal_module_+3A_datasets">datasets</code></td>
<td>
<p>(<code>reactive</code> returning <code>FilteredData</code> or <code>NULL</code>)
When <code>datasets</code> is passed from the parent module (<code>srv_teal</code>) then <code>dataset</code> is a singleton
which implies in filter-panel to be &quot;global&quot;. When <code>NULL</code> then filter-panel is &quot;module-specific&quot;.</p>
</td></tr>
<tr><td><code id="module_teal_module_+3A_slices_global">slices_global</code></td>
<td>
<p>(<code>reactiveVal</code> returning <code>modules_teal_slices</code>)
see <code><a href="#topic+module_filter_manager">module_filter_manager</a></code></p>
</td></tr>
<tr><td><code id="module_teal_module_+3A_data_load_status">data_load_status</code></td>
<td>
<p>(<code>reactive</code> returning <code>character</code>)
Determines action dependent on a data loading status:
</p>

<ul>
<li> <p><code>"ok"</code> when <code>teal_data</code> is returned from the data loading.
</p>
</li>
<li> <p><code>"teal_data_module failed"</code> when <code><a href="#topic+teal_data_module">teal_data_module()</a></code> didn't return  <code>teal_data</code>. Disables tabs buttons.
</p>
</li>
<li> <p><code>"external failed"</code> when a <code>reactive</code> passed to <code>srv_teal(data)</code> didn't return <code>teal_data</code>. Hides the whole tab
panel.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>output of currently active module.
</p>

<ul>
<li> <p><code>srv_teal_module.teal_module</code> returns <code>reactiveVal</code> containing output of the called module.
</p>
</li>
<li> <p><code>srv_teal_module.teal_modules</code> returns output of module selected by <code>input$active_tab</code>.
</p>
</li></ul>


<hr>
<h2 id='module_teal_with_splash'>UI and server modules of <code>teal</code></h2><span id='topic+module_teal_with_splash'></span><span id='topic+ui_teal_with_splash'></span><span id='topic+srv_teal_with_splash'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
Please use <code><a href="#topic+module_teal">module_teal</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_teal_with_splash(
  id,
  data,
  modules,
  title = build_app_title(),
  header = tags$p(),
  footer = tags$p()
)

srv_teal_with_splash(id, data, modules, filter = teal_slices())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_teal_with_splash_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_teal_with_splash_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code>, <code>teal_data_module</code>, or <code>reactive</code> returning <code>teal_data</code>)
The data which application will depend on.</p>
</td></tr>
<tr><td><code id="module_teal_with_splash_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code>)
<code>teal_modules</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="module_teal_with_splash_+3A_title">title</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Optionally,
the browser window title. Defaults to a title &quot;teal app&quot; with the icon of NEST.
Can be created using the <code>build_app_title()</code> or
by passing a valid <code>shiny.tag</code> which is a head tag with title and link tag.
This parameter is no longer supported. Use <code>modify_title()</code> on the teal app object instead.</p>
</td></tr>
<tr><td><code id="module_teal_with_splash_+3A_header">header</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Optionally,
the header of the app.
This parameter is no longer supported. Use <code>modify_header()</code> on the teal app object instead.</p>
</td></tr>
<tr><td><code id="module_teal_with_splash_+3A_footer">footer</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) <a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Optionally,
the footer of the app.
This parameter is no longer supported. Use <code>modify_footer()</code> on the teal app object instead.</p>
</td></tr>
<tr><td><code id="module_teal_with_splash_+3A_filter">filter</code></td>
<td>
<p>(<code>teal_slices</code>) Optionally,
specifies the initial filter using <code><a href="#topic+teal_slices">teal_slices()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a <code>reactive</code> expression containing a <code>teal_data</code> object when data is loaded or <code>NULL</code> when it is not.
</p>

<hr>
<h2 id='module_transform_data'>Module to transform <code>reactive</code> <code>teal_data</code></h2><span id='topic+module_transform_data'></span><span id='topic+ui_transform_teal_data'></span><span id='topic+srv_transform_teal_data'></span>

<h3>Description</h3>

<p>Module calls <code><a href="#topic+teal_transform_module">teal_transform_module()</a></code> in sequence so that <code style="white-space: pre;">&#8288;reactive teal_data&#8288;</code> output
from one module is handed over to the following module's input.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ui_transform_teal_data(id, transformators, class = "well")

srv_transform_teal_data(
  id,
  data,
  transformators,
  modules = NULL,
  is_transform_failed = reactiveValues()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="module_transform_data_+3A_id">id</code></td>
<td>
<p>(<code>character(1)</code>) <code>shiny</code> module instance id.</p>
</td></tr>
<tr><td><code id="module_transform_data_+3A_transformators">transformators</code></td>
<td>
<p>(<code>list</code> of <code>teal_transform_module</code>) that will be applied to transform module's data input.
To learn more check <code>vignette("transform-input-data", package = "teal")</code>.</p>
</td></tr>
<tr><td><code id="module_transform_data_+3A_class">class</code></td>
<td>
<p>(character(1)) CSS class to be added in the <code>div</code> wrapper tag.</p>
</td></tr>
<tr><td><code id="module_transform_data_+3A_data">data</code></td>
<td>
<p>(<code>reactive</code> returning <code>teal_data</code>)</p>
</td></tr>
<tr><td><code id="module_transform_data_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code> or <code>teal_module</code>) For <code>datanames</code> validation purpose</p>
</td></tr>
<tr><td><code id="module_transform_data_+3A_is_transform_failed">is_transform_failed</code></td>
<td>
<p>(<code>reactiveValues</code>) contains <code>logical</code> flags named after each transformator.
Help to determine if any previous transformator failed, so that following transformators can be disabled
and display a generic failure message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>reactive</code> <code>teal_data</code>
</p>

<hr>
<h2 id='modules_bookmarkable'>Retrieve <code>teal_bookmarkable</code> attribute from <code>teal_modules</code></h2><span id='topic+modules_bookmarkable'></span>

<h3>Description</h3>

<p>Retrieve <code>teal_bookmarkable</code> attribute from <code>teal_modules</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modules_bookmarkable(modules)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modules_bookmarkable_+3A_modules">modules</code></td>
<td>
<p>(<code>teal_modules</code> or <code>teal_module</code>) object</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named list of the same structure as <code>modules</code> with <code>TRUE</code> or <code>FALSE</code> values indicating
whether the module is bookmarkable.
</p>

<hr>
<h2 id='modules_depth'>Get module depth</h2><span id='topic+modules_depth'></span>

<h3>Description</h3>

<p>Depth starts at 0, so a single <code>teal.module</code> has depth 0.
Nesting it increases overall depth by 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modules_depth(modules, depth = 0L)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modules_depth_+3A_modules">modules</code></td>
<td>
<p>(<code>list</code> or <code>teal_modules</code> or <code>teal_module</code>)
Nested list of <code>teal_modules</code> or <code>teal_module</code> objects or a single
<code>teal_modules</code> or <code>teal_module</code> object. These are the specific output modules which
will be displayed in the <code>teal</code> application. See <code><a href="#topic+modules">modules()</a></code> and <code><a href="#topic+module">module()</a></code> for
more details.</p>
</td></tr>
<tr><td><code id="modules_depth_+3A_depth">depth</code></td>
<td>
<p>optional integer determining current depth level</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Depth level for given module.
</p>

<hr>
<h2 id='pluralize'>Pluralize a word depending on the size of the input</h2><span id='topic+pluralize'></span>

<h3>Description</h3>

<p>Pluralize a word depending on the size of the input
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pluralize(x, singular, plural = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pluralize_+3A_x">x</code></td>
<td>
<p>(<code>object</code>) to check length for plural.</p>
</td></tr>
<tr><td><code id="pluralize_+3A_singular">singular</code></td>
<td>
<p>(<code>character</code>) singular form of the word.</p>
</td></tr>
<tr><td><code id="pluralize_+3A_plural">plural</code></td>
<td>
<p>(optional <code>character</code>) plural form of the word. If not given an &quot;s&quot;
is added to the singular form.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> that correctly represents the size of the <code>x</code> argument.
</p>

<hr>
<h2 id='report_card_template'>Template function for <code>TealReportCard</code> creation and customization</h2><span id='topic+report_card_template'></span>

<h3>Description</h3>

<p>This function generates a report card with a title,
an optional description, and the option to append the filter state list.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>report_card_template(
  title,
  label,
  description = NULL,
  with_filter,
  filter_panel_api
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="report_card_template_+3A_title">title</code></td>
<td>
<p>(<code>character(1)</code>) title of the card (unless overwritten by label)</p>
</td></tr>
<tr><td><code id="report_card_template_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) label provided by the user when adding the card</p>
</td></tr>
<tr><td><code id="report_card_template_+3A_description">description</code></td>
<td>
<p>(<code>character(1)</code>) optional, additional description</p>
</td></tr>
<tr><td><code id="report_card_template_+3A_with_filter">with_filter</code></td>
<td>
<p>(<code>logical(1)</code>) flag indicating to add filter state</p>
</td></tr>
<tr><td><code id="report_card_template_+3A_filter_panel_api">filter_panel_api</code></td>
<td>
<p>(<code>FilterPanelAPI</code>) object with API that allows the generation
of the filter state in the report</p>
</td></tr>
</table>


<h3>Value</h3>

<p>(<code>TealReportCard</code>) populated with a title, description and filter state.
</p>

<hr>
<h2 id='reporter_previewer_module'>Create a <code>teal</code> module for previewing a report</h2><span id='topic+reporter_previewer_module'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>This function wraps <code><a href="teal.reporter.html#topic+reporter_previewer">teal.reporter::reporter_previewer_ui()</a></code> and
<code><a href="teal.reporter.html#topic+reporter_previewer">teal.reporter::reporter_previewer_srv()</a></code> into a <code>teal_module</code> to be
used in <code>teal</code> applications.
</p>
<p>If you are creating a <code>teal</code> application using <code><a href="#topic+init">init()</a></code> then this
module will be added to your application automatically if any of your <code>teal_modules</code>
support report generation.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>reporter_previewer_module(label = "Report previewer", server_args = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="reporter_previewer_module_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) Label shown in the navigation item for the module or module group.
For <code>modules()</code> defaults to <code>"root"</code>. See <code>Details</code>.</p>
</td></tr>
<tr><td><code id="reporter_previewer_module_+3A_server_args">server_args</code></td>
<td>
<p>(named <code>list</code>)
Arguments passed to <code><a href="teal.reporter.html#topic+reporter_previewer">teal.reporter::reporter_previewer_srv()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>teal_module</code> (extended with <code>teal_module_previewer</code> class) containing the <code>teal.reporter</code> previewer functionality.
</p>

<hr>
<h2 id='restoreValue'>Restore value from bookmark.</h2><span id='topic+restoreValue'></span>

<h3>Description</h3>

<p>Get value from bookmark or return default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restoreValue(value, default)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="restoreValue_+3A_value">value</code></td>
<td>
<p>(<code>character(1)</code>) name of value to restore</p>
</td></tr>
<tr><td><code id="restoreValue_+3A_default">default</code></td>
<td>
<p>fallback value</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Bookmarks can store not only inputs but also arbitrary values.
These values are stored by <code>onBookmark</code> callbacks and restored by <code>onBookmarked</code> callbacks,
and they are placed in the <code>values</code> environment in the <code>session$restoreContext</code> field.
Using <code>teal_data_module</code> makes it impossible to run the callbacks
because the app becomes ready before modules execute and callbacks are registered.
In those cases the stored values can still be recovered from the <code>session</code> object directly.
</p>
<p>Note that variable names in the <code>values</code> environment are prefixed with module name space names,
therefore, when using this function in modules, <code>value</code> must be run through the name space function.
</p>


<h3>Value</h3>

<p>In an application restored from a server-side bookmark,
the variable specified by <code>value</code> from the <code>values</code> environment.
Otherwise <code>default</code>.
</p>

<hr>
<h2 id='run_js_files'>Run <code>JS</code> file from <code style="white-space: pre;">&#8288;/inst/js/&#8288;</code> package directory</h2><span id='topic+run_js_files'></span>

<h3>Description</h3>

<p>This is triggered from the server to execute on the client
rather than triggered directly on the client.
Unlike <code>include_js_files</code> which includes <code>JavaScript</code> functions,
the <code>run_js</code> actually executes <code>JavaScript</code> functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_js_files(files)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="run_js_files_+3A_files">files</code></td>
<td>
<p>(<code>character</code>) vector of filenames.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>system.file</code> should not be used to access files in other packages, it does
not work with <code>devtools</code>. Therefore, we redefine this method in each package
as needed. Thus, we do not export this method.
</p>


<h3>Value</h3>

<p><code>NULL</code>, invisibly.
</p>

<hr>
<h2 id='show_rcode_modal'>Show <code>R</code> code modal</h2><span id='topic+show_rcode_modal'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a>
</p>
<p>Use the <code><a href="shiny.html#topic+showModal">shiny::showModal()</a></code> function to show the <code>R</code> code inside.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>show_rcode_modal(title = NULL, rcode, session = getDefaultReactiveDomain())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="show_rcode_modal_+3A_title">title</code></td>
<td>
<p>(<code>character(1)</code>)
Title of the modal, displayed in the first comment of the <code>R</code> code.</p>
</td></tr>
<tr><td><code id="show_rcode_modal_+3A_rcode">rcode</code></td>
<td>
<p>(<code>character</code>)
vector with <code>R</code> code to show inside the modal.</p>
</td></tr>
<tr><td><code id="show_rcode_modal_+3A_session">session</code></td>
<td>
<p>(<code>ShinySession</code>) optional
<code>shiny</code> session object, defaults to <code><a href="shiny.html#topic+domains">shiny::getDefaultReactiveDomain()</a></code>.</p>
</td></tr>
</table>


<h3>References</h3>

<p><code><a href="shiny.html#topic+showModal">shiny::showModal()</a></code>
</p>

<hr>
<h2 id='slices_store'>Store and restore <code>teal_slices</code> object</h2><span id='topic+slices_store'></span><span id='topic+slices_restore'></span>

<h3>Description</h3>

<p>Functions that write a <code>teal_slices</code> object to a file in the <code>JSON</code> format,
and also restore the object from disk.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>slices_store(tss, file)

slices_restore(file)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="slices_store_+3A_tss">tss</code></td>
<td>
<p>(<code>teal_slices</code>) object to be stored.</p>
</td></tr>
<tr><td><code id="slices_store_+3A_file">file</code></td>
<td>
<p>(<code>character(1)</code>) file path where <code>teal_slices</code> object will be
saved and restored. The file extension should be <code>".json"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Date and date time objects are stored in the following formats:
</p>

<ul>
<li> <p><code>Date</code> class is converted to the <code>"ISO8601"</code> standard (<code>YYYY-MM-DD</code>).
</p>
</li>
<li> <p><code>POSIX*t</code> classes are converted to character by using
<code>format.POSIX*t(usetz = TRUE, tz = "UTC")</code> (<code style="white-space: pre;">&#8288;YYYY-MM-DD HH:MM:SS UTC&#8288;</code>, where
<code>UTC</code> is the <code style="white-space: pre;">&#8288;Coordinated Universal Time&#8288;</code> timezone short-code).
</p>
</li></ul>

<p>This format is assumed during <code>slices_restore</code>. All <code>POSIX*t</code> objects in
<code>selected</code> or <code>choices</code> fields of <code>teal_slice</code> objects are always printed in
<code>UTC</code> timezone as well.
</p>


<h3>Value</h3>

<p><code>slices_store</code> returns <code>NULL</code>, invisibly.
</p>
<p><code>slices_restore</code> returns a <code>teal_slices</code> object restored from the file.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+teal_slices">teal_slices()</a></code>
</p>

<hr>
<h2 id='tdata'>Create a <code>tdata</code> object</h2><span id='topic+tdata'></span><span id='topic+new_tdata'></span><span id='topic+tdata2env'></span><span id='topic+get_code_tdata'></span><span id='topic+join_keys.tdata'></span><span id='topic+get_metadata'></span><span id='topic+as_tdata'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#superseded"><img src="../help/figures/lifecycle-superseded.svg" alt='[Superseded]' /></a>
</p>
<p>Recent changes in <code>teal</code> cause modules to fail because modules expect a <code>tdata</code> object
to be passed to the <code>data</code> argument but instead they receive a <code>teal_data</code> object,
which is additionally wrapped in a reactive expression in the server functions.
In order to easily adapt such modules without a proper refactor,
use this function to downgrade the <code>data</code> argument.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_tdata(...)

tdata2env(...)

get_code_tdata(...)

## S3 method for class 'tdata'
join_keys(...)

get_metadata(...)

as_tdata(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tdata_+3A_...">...</code></td>
<td>
<p>ignored</p>
</td></tr>
</table>


<h3>Value</h3>

<p>nothing
</p>

<hr>
<h2 id='teal_data_module'>Data module for <code>teal</code> applications</h2><span id='topic+teal_data_module'></span><span id='topic+eval_code'></span><span id='topic+eval_code+2Cteal_data_module+2Ccharacter-method'></span><span id='topic+eval_code+2Cteal_data_module+2Clanguage-method'></span><span id='topic+eval_code+2Cteal_data_module+2Cexpression-method'></span><span id='topic+within'></span><span id='topic+within.teal_data_module'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p>Create a <code>teal_data_module</code> object and evaluate code on it with history tracking.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>teal_data_module(ui, server, label = "data module", once = TRUE)

## S4 method for signature 'teal_data_module,character'
eval_code(object, code)

## S3 method for class 'teal_data_module'
within(data, expr, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_data_module_+3A_ui">ui</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;function(id)&#8288;</code>)
<code>shiny</code> module UI function; must only take <code>id</code> argument</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_server">server</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;function(id)&#8288;</code>)
<code>shiny</code> module server function; must only take <code>id</code> argument;
must return reactive expression containing <code>teal_data</code> object</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) Label of the module.</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_once">once</code></td>
<td>
<p>(<code>logical(1)</code>)
If <code>TRUE</code>, the data module will be shown only once and will disappear after successful data loading.
App user will no longer be able to interact with this module anymore.
If <code>FALSE</code>, the data module can be reused multiple times.
App user will be able to interact and change the data output from the module multiple times.</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_object">object</code></td>
<td>
<p>(<code>teal_data_module</code>)</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_code">code</code></td>
<td>
<p>(<code>character</code>, <code>language</code> or <code>expression</code>) code to evaluate.
It is possible to preserve original formatting of the <code>code</code> by providing a <code>character</code> or an
<code>expression</code> being a result of <code>parse(keep.source = TRUE)</code>.</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_data">data</code></td>
<td>
<p>(<code>teal_data_module</code>) object</p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_expr">expr</code></td>
<td>
<p>(<code>expression</code>) to evaluate. Must be inline code. See <code><a href="#topic+within">within()</a></code></p>
</td></tr>
<tr><td><code id="teal_data_module_+3A_...">...</code></td>
<td>
<p>See <code>Details</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>teal_data_module</code> creates a <code>shiny</code> module to interactively supply or modify data in a <code>teal</code> application.
The module allows for running any code (creation <em>and</em> some modification) after the app starts or reloads.
The body of the server function will be run in the app rather than in the global environment.
This means it will be run every time the app starts, so use sparingly.
</p>
<p>Pass this module instead of a <code>teal_data</code> object in a call to <code><a href="#topic+init">init()</a></code>.
Note that the server function must always return a <code>teal_data</code> object wrapped in a reactive expression.
</p>
<p>See vignette <code>vignette("data-as-shiny-module", package = "teal")</code> for more details.
</p>
<p><code>eval_code</code> evaluates given code in the environment of the <code>teal_data</code> object created by the <code>teal_data_module</code>.
The code is added to the <code style="white-space: pre;">&#8288;@code&#8288;</code> slot of the <code>teal_data</code>.
</p>
<p><code>within</code> is a convenience function for evaluating inline code inside the environment of a <code>teal_data_module</code>.
It accepts only inline expressions (both simple and compound) and allows for injecting values into <code>expr</code> through
the <code>...</code> argument: as <code>name:value</code> pairs are passed to <code>...</code>, <code>name</code> in <code>expr</code> will be replaced with <code>value.</code>
</p>


<h3>Value</h3>

<p><code>teal_data_module</code> returns a list of class <code>teal_data_module</code> containing two elements, <code>ui</code> and
<code>server</code> provided via arguments.
</p>
<p><code>eval_code</code> returns a <code>teal_data_module</code> object with a delayed evaluation of <code>code</code> when the module is run.
</p>
<p><code>within</code> returns a <code>teal_data_module</code> object with a delayed evaluation of <code>expr</code> when the module is run.
</p>


<h3>See Also</h3>

<p><code><a href="teal.data.html#topic+teal_data-class">teal.data::teal_data</a></code>, <code><a href="teal.code.html#topic+qenv">teal.code::qenv()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>tdm &lt;- teal_data_module(
  ui = function(id) {
    ns &lt;- NS(id)
    actionButton(ns("submit"), label = "Load data")
  },
  server = function(id) {
    moduleServer(id, function(input, output, session) {
      eventReactive(input$submit, {
        data &lt;- within(
          teal_data(),
          {
            dataset1 &lt;- iris
            dataset2 &lt;- mtcars
          }
        )

        data
      })
    })
  }
)

eval_code(tdm, "dataset1 &lt;- subset(dataset1, Species == 'virginica')")

within(tdm, dataset1 &lt;- subset(dataset1, Species == "virginica"))

# use additional parameter for expression value substitution.
valid_species &lt;- "versicolor"
within(tdm, dataset1 &lt;- subset(dataset1, Species %in% species), species = valid_species)
</code></pre>

<hr>
<h2 id='teal_data_to_filtered_data'>Create a <code>FilteredData</code></h2><span id='topic+teal_data_to_filtered_data'></span>

<h3>Description</h3>

<p>Create a <code>FilteredData</code> object from a <code>teal_data</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>teal_data_to_filtered_data(x, datanames = names(x))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_data_to_filtered_data_+3A_x">x</code></td>
<td>
<p>(<code>teal_data</code>) object</p>
</td></tr>
<tr><td><code id="teal_data_to_filtered_data_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>) vector of data set names to include; must be subset of <code>names(x)</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>FilteredData</code> object.
</p>

<hr>
<h2 id='teal_data_utilities'><code>teal_data</code> utils</h2><span id='topic+teal_data_utilities'></span><span id='topic+.append_evaluated_code'></span><span id='topic+.append_modified_data'></span>

<h3>Description</h3>

<p>In <code>teal</code> we need to recreate the <code>teal_data</code> object due to two operations:
</p>

<ul>
<li><p> we need to append filter-data code and objects which have been evaluated in <code>FilteredData</code> and
we want to avoid double-evaluation.
</p>
</li>
<li><p> we need to subset <code>teal_data</code> to <code>datanames</code> used by the module, to shorten obtainable R-code
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>.append_evaluated_code(data, code)

.append_modified_data(data, objects)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_data_utilities_+3A_data">data</code></td>
<td>
<p>(<code>teal_data</code>)</p>
</td></tr>
<tr><td><code id="teal_data_utilities_+3A_code">code</code></td>
<td>
<p>(<code>character</code>) code to append to the object's code slot.</p>
</td></tr>
<tr><td><code id="teal_data_utilities_+3A_objects">objects</code></td>
<td>
<p>(<code>list</code>) objects to append to object's environment.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Due to above recreation of <code>teal_data</code> object can't be done simply by using public
<code>teal.code</code> and <code>teal.data</code> methods.
</p>


<h3>Value</h3>

<p>modified <code>teal_data</code>
</p>

<hr>
<h2 id='teal_extend_server'>Add a Custom Server Logic to <code>teal</code> Application</h2><span id='topic+teal_extend_server'></span>

<h3>Description</h3>

<p>Adds a custom server function to the <code>teal</code> app. This function can define additional server logic.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>teal_extend_server(x, custom_server, module_id = character(0))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_extend_server_+3A_x">x</code></td>
<td>
<p>(<code>teal_app</code>) A <code>teal_app</code> object created using the <code>init</code> function.</p>
</td></tr>
<tr><td><code id="teal_extend_server_+3A_custom_server">custom_server</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;function(input, output, session)&#8288;</code> or <code style="white-space: pre;">&#8288;function(id, ...)&#8288;</code>)
The custom server function or server module to set.</p>
</td></tr>
<tr><td><code id="teal_extend_server_+3A_module_id">module_id</code></td>
<td>
<p>(<code>character(1)</code>) The ID of the module when a module server function is passed.</p>
</td></tr>
</table>

<hr>
<h2 id='teal_modifiers'>Replace UI Elements in <code>teal</code> UI objects</h2><span id='topic+teal_modifiers'></span><span id='topic+modify_title'></span><span id='topic+modify_header'></span><span id='topic+modify_footer'></span>

<h3>Description</h3>

<p>Replace UI Elements in <code>teal</code> UI objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modify_title(x, title = "teal app", favicon = NULL)

modify_header(x, element = tags$p())

modify_footer(x, element = tags$p())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_modifiers_+3A_x">x</code></td>
<td>
<p>(<code>teal_app</code>) A <code>teal_app</code> object created using the <code>init</code> function.</p>
</td></tr>
<tr><td><code id="teal_modifiers_+3A_title">title</code></td>
<td>
<p>(<code>shiny.tag</code> or <code>character(1)</code>) The new title to be used.</p>
</td></tr>
<tr><td><code id="teal_modifiers_+3A_favicon">favicon</code></td>
<td>
<p>(<code>character</code>) The path for the icon for the title.
The image/icon path can be remote or the static path accessible by <code>shiny</code>, like the <code style="white-space: pre;">&#8288;www/&#8288;</code>.
If the favicon is <code>NULL</code> the <code>teal</code> logo will be used as the favicon.</p>
</td></tr>
<tr><td><code id="teal_modifiers_+3A_element">element</code></td>
<td>
<p>Replacement UI element (shiny tag or HTML)</p>
</td></tr>
</table>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnXGkAWV0AYQBBLHDPGFICFhieXHtpGCJHFWo4GIiSsoqY9jgAD1hUCp8a8rhtfggdAB8APiKa2iVWH3FSCs4bCoi+MGSVGNIiGC9ZuAWegVHpdiFyUXEpbukQIpiACyFWVPR2cwASFVp455iRKUYegF8wX4AXSAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnXGkAWV0AYQBBLHDPGFICFhieXHtpGCJHFWo4GIiSsoqY9jgAD1hUCp8a8rhtfggdAB8APiKa2iVWH3FSCs4bCoi+MGSVGNIiGC9ZuAWegVHpdiFyUXEpbukQIpiACyFWVPR2cwASFVp455iRKUYegF8wX4AXSAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
<dt>example-2</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnHlx7aRgiRxVqOBiI5NT0mPY4AA9YVHSfbLS4bX4IHQAfAD5E7NolVh8ACzgoRxF89PgyCNcAcxiAEkdJdnaAZjswAGEVGNIiGGlO7pE+MB4900ElaXYhclFxKSrpEESY9qFWAEF0dnMxlVpcaTeYkSlGaoAXzAgIAukA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnHlx7aRgiRxVqOBiI5NT0mPY4AA9YVHSfbLS4bX4IHQAfAD5E7NolVh8ACzgoRxF89PgyCNcAcxiAEkdJdnaAZjswAGEVGNIiGGlO7pE+MB4900ElaXYhclFxKSrpEESY9qFWAEF0dnMxlVpcaTeYkSlGaoAXzAgIAukA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
<dt>example-3</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnHlx7aRgiRxVqOBiI5NT0mPY4AA9YVHSfbLS4bX4IHQAfAD5E7NolVh8lIiJyRnz0+DIIvjAAYRUY0iIYZU7uoeqBFul2IW6oDSkq6RBEmIALIVYAQXR2cwASFVpcaXOYkSlGaoBfMCeAXSA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFpUcxUNql2A6dIAmUUlGkBeaV2oB9Z6-YASSxAgGUPaVpGWgBnHlx7aRgiRxVqOBiI5NT0mPY4AA9YVHSfbLS4bX4IHQAfAD5E7NolVh8lIiJyRnz0+DIIvjAAYRUY0iIYZU7uoeqBFul2IW6oDSkq6RBEmIALIVYAQXR2cwASFVpcaXOYkSlGaoBfMCeAXSA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>app &lt;- init(
  data = teal_data(IRIS = iris, MTCARS = mtcars),
  modules = modules(example_module())
) |&gt;
  modify_title(title = "Custom title")

if (interactive()) {
  shinyApp(app$ui, app$server)
}
app &lt;- init(
  data = teal_data(IRIS = iris),
  modules = modules(example_module())
) |&gt;
  modify_header(element = tags$div(h3("Custom header")))

if (interactive()) {
  shinyApp(app$ui, app$server)
}
app &lt;- init(
  data = teal_data(IRIS = iris),
  modules = modules(example_module())
) |&gt;
  modify_footer(element = "Custom footer")

if (interactive()) {
  shinyApp(app$ui, app$server)
}
</code></pre>

<hr>
<h2 id='teal_modules'>Create <code>teal_module</code> and <code>teal_modules</code> objects</h2><span id='topic+teal_modules'></span><span id='topic+module'></span><span id='topic+teal_module'></span><span id='topic+modules'></span><span id='topic+format.teal_module'></span><span id='topic+format.teal_modules'></span><span id='topic+print.teal_module'></span><span id='topic+print.teal_modules'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
Create a nested tab structure to embed modules in a <code>teal</code> application.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>module(
  label = "module",
  server = function(id, data, ...) moduleServer(id, function(input, output, session)
    NULL),
  ui = function(id, ...) tags$p(paste0("This module has no UI (id: ", id, " )")),
  filters,
  datanames = "all",
  server_args = NULL,
  ui_args = NULL,
  transformators = list()
)

modules(..., label = "root")

## S3 method for class 'teal_module'
format(
  x,
  is_last = FALSE,
  parent_prefix = "",
  what = c("datasets", "properties", "ui_args", "server_args", "decorators",
    "transformators"),
  ...
)

## S3 method for class 'teal_modules'
format(x, is_root = TRUE, is_last = FALSE, parent_prefix = "", ...)

## S3 method for class 'teal_module'
print(x, ...)

## S3 method for class 'teal_modules'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_modules_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) Label shown in the navigation item for the module or module group.
For <code>modules()</code> defaults to <code>"root"</code>. See <code>Details</code>.</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_server">server</code></td>
<td>
<p>(<code>function</code>) <code>shiny</code> module with following arguments:
</p>

<ul>
<li> <p><code>id</code> - <code>teal</code> will set proper <code>shiny</code> namespace for this module (see <code><a href="shiny.html#topic+moduleServer">shiny::moduleServer()</a></code>).
</p>
</li>
<li> <p><code>input</code>, <code>output</code>, <code>session</code> - (optional; not recommended) When provided, then <code><a href="shiny.html#topic+callModule">shiny::callModule()</a></code>
will be used to call a module. From <code>shiny</code> 1.5.0, the recommended way is to use
<code><a href="shiny.html#topic+moduleServer">shiny::moduleServer()</a></code> instead which doesn't require these arguments.
</p>
</li>
<li> <p><code>data</code> (optional) If the server function includes a <code>data</code> argument, it will receive a reactive
expression containing the <code>teal_data</code> object.
</p>
</li>
<li> <p><code>datasets</code> (optional) When provided, the module will be called with <code>FilteredData</code> object as the
value of this argument. (See <code><a href="teal.slice.html#topic+FilteredData">teal.slice::FilteredData</a></code>).
</p>
</li>
<li> <p><code>reporter</code> (optional) When provided, the module will be called with <code>Reporter</code> object as the value
of this argument. (See <code><a href="teal.reporter.html#topic+Reporter">teal.reporter::Reporter</a></code>).
</p>
</li>
<li> <p><code>filter_panel_api</code> (optional) When provided, the module will be called with <code>FilterPanelAPI</code> object
as the value of this argument. (See <code><a href="teal.slice.html#topic+FilterPanelAPI">teal.slice::FilterPanelAPI</a></code>).
</p>
</li>
<li> <p><code>...</code> (optional) When provided, <code>server_args</code> elements will be passed to the module named argument
or to the <code>...</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_modules_+3A_ui">ui</code></td>
<td>
<p>(<code>function</code>) <code>shiny</code> UI module function with following arguments:
</p>

<ul>
<li> <p><code>id</code> - <code>teal</code> will set proper <code>shiny</code> namespace for this module.
</p>
</li>
<li> <p><code>...</code> (optional) When provided, <code>ui_args</code> elements will be passed to the module named argument
or to the <code>...</code>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_modules_+3A_filters">filters</code></td>
<td>
<p>(<code>character</code>) Deprecated. Use <code>datanames</code> instead.</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>) Names of the datasets relevant to the item.
There are 2 reserved values that have specific behaviors:
</p>

<ul>
<li><p> The keyword <code>"all"</code> includes all datasets available in the data passed to the teal application.
</p>
</li>
<li> <p><code>NULL</code> hides the sidebar panel completely.
</p>
</li>
<li><p> If <code>transformators</code> are specified, their <code>datanames</code> are automatically added to this <code>datanames</code>
argument.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_modules_+3A_server_args">server_args</code></td>
<td>
<p>(named <code>list</code>) with additional arguments passed on to the server function.</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_ui_args">ui_args</code></td>
<td>
<p>(named <code>list</code>) with additional arguments passed on to the UI function.</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_transformators">transformators</code></td>
<td>
<p>(<code>list</code> of <code>teal_transform_module</code>) that will be applied to transform module's data input.
To learn more check <code>vignette("transform-input-data", package = "teal")</code>.</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_...">...</code></td>
<td>

<ul>
<li><p> For <code>modules()</code>: (<code>teal_module</code> or <code>teal_modules</code>) Objects to wrap into a tab.
</p>
</li>
<li><p> For <code>format()</code> and <code>print()</code>: Arguments passed to other methods.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_modules_+3A_x">x</code></td>
<td>
<p>(<code>teal_module</code> or <code>teal_modules</code>) Object to format/print.</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_is_last">is_last</code></td>
<td>
<p>(<code>logical(1)</code>) Whether this is the last item in its parent's children list.
Affects the tree branch character used (L- vs |-)</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_parent_prefix">parent_prefix</code></td>
<td>
<p>(<code>character(1)</code>) The prefix inherited from parent nodes,
used to maintain the tree structure in nested levels</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_what">what</code></td>
<td>
<p>(<code>character</code>) Specifies which metadata to display.
Possible values: &quot;datasets&quot;, &quot;properties&quot;, &quot;ui_args&quot;, &quot;server_args&quot;, &quot;transformators&quot;</p>
</td></tr>
<tr><td><code id="teal_modules_+3A_is_root">is_root</code></td>
<td>
<p>(<code>logical(1)</code>) Whether this is the root node of the tree. Only used in
format.teal_modules(). Determines whether to show &quot;TEAL ROOT&quot; header</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>module()</code> creates an instance of a <code>teal_module</code> that can be placed in a <code>teal</code> application.
<code>modules()</code> shapes the structure of a the application by organizing <code>teal_module</code> within the navigation panel.
It wraps <code>teal_module</code> and <code>teal_modules</code> objects in a <code>teal_modules</code> object,
which results in a nested structure corresponding to the nested tabs in the final application.
</p>
<p>Note that for <code>modules()</code> <code>label</code> comes after <code>...</code>, so it must be passed as a named argument,
otherwise it will be captured by <code>...</code>.
</p>
<p>The labels <code>"global_filters"</code> and <code>"Report previewer"</code> are reserved
because they are used by the <code>mapping</code> argument of <code><a href="#topic+teal_slices">teal_slices()</a></code>
and the report previewer module <code><a href="#topic+reporter_previewer_module">reporter_previewer_module()</a></code>, respectively.
</p>


<h3>Value</h3>

<p><code>module()</code> returns an object of class <code>teal_module</code>.
</p>
<p><code>modules()</code> returns a <code>teal_modules</code> object which contains following fields:
</p>

<ul>
<li> <p><code>label</code>: taken from the <code>label</code> argument.
</p>
</li>
<li> <p><code>children</code>: a list containing objects passed in <code>...</code>. List elements are named after
their <code>label</code> attribute converted to a valid <code>shiny</code> id.
</p>
</li></ul>



<h3>Restricting datasets used by <code>teal_module</code>:</h3>

<p>The <code>datanames</code> argument controls which datasets are used by the module's server. These datasets,
passed via server's <code>data</code> argument, are the only ones shown in the module's tab.
</p>
<p>When <code>datanames</code> is set to <code>"all"</code>, all datasets in the data object are treated as relevant.
However, this may include unnecessary datasets, such as:
</p>

<ul>
<li><p> Proxy variables for column modifications
</p>
</li>
<li><p> Temporary datasets used to create final ones
</p>
</li>
<li><p> Connection objects
</p>
</li></ul>

<p>Datasets which name is prefixed in <code>teal_data</code> by the dot (<code>.</code>) are not displayed in the <code>teal</code> application.
Please see the <em>&quot;Hidden datasets&quot;</em> section in 'vignette(&quot;including-data-in-teal-applications&quot;).
</p>


<h3><code>datanames</code> with <code>transformators</code></h3>

<p>When transformators are specified, their <code>datanames</code> are added to the module's <code>datanames</code>, which
changes the behavior as follows:
</p>

<ul>
<li><p> If <code>module(datanames)</code> is <code>NULL</code> and the <code>transformators</code> have defined <code>datanames</code>, the sidebar
will appear showing the <code>transformators</code>' datasets, instead of being hidden.
</p>
</li>
<li><p> If <code>module(datanames)</code> is set to specific values and any <code>transformator</code> has <code>datanames = "all"</code>,
the module may receive extra datasets that could be unnecessary
</p>
</li></ul>



<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIF0mLDgGcAFkNb8IAmEQAmK6nAD6ARjmKXd092AWlpaih6OGppAF5pPhRpQI84RNxQ6SsRKUY45TUNLVpXXGlXKFIoHRBMsJTPAGUckRCIMI7pEoz2zuS3VPzVdXFiiFQVUjKiSYmprLgrK00IGrq+mdI5gBIKqv9pRgpXEQARSqhdSOC9qG1gYETaRlorRIBdd8c+6QBfde+fx6YRUtCGhVGEHYJTWvTCECsBwAco1oa5AWEqgBzAAyr1I7FuV3ongA8rNJuwESEwLdEjwGZlfsDyhdoPBEfFEtxqIkBI5nANPF4AEwHBpwNphCJRGJclAQIikGwifpBNJ4TLZRi5cEjFZo2GdCXNHWtdZhboWtWDeLDIpQoRzaYU+bZJYrI0-aSbHbkAAepAORwgJ0YujggZpAEFFcrVQBZIUajEdf5w6SA5mZUF6h2G6S1DMI5GomHrbF4qwEgOkclbSnUxK1+mM3rZ3q3dmLfJIgw4nH80wQCWIhQ2zxWKXhSLRfKJUfpTKj6fS2dyhKQRbkVwTxZLjMS3yZHgso8iodOaDoA5CWgEzK3fJcaheW7Ql6crqf0-L5NfxdVmHWglGkaFhFEcQpG0L1bHsaN0HYNBUG2UEymQ7ZtVyRxfjAX53iAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIF0mLDgGcAFkNb8IAmEQAmK6nAD6ARjmKXd092AWlpaih6OGppAF5pPhRpQI84RNxQ6SsRKUY45TUNLVpXXGlXKFIoHRBMsJTPAGUckRCIMI7pEoz2zuS3VPzVdXFiiFQVUjKiSYmprLgrK00IGrq+mdI5gBIKqv9pRgpXEQARSqhdSOC9qG1gYETaRlorRIBdd8c+6QBfde+fx6YRUtCGhVGEHYJTWvTCECsBwAco1oa5AWEqgBzAAyr1I7FuV3ongA8rNJuwESEwLdEjwGZlfsDyhdoPBEfFEtxqIkBI5nANPF4AEwHBpwNphCJRGJclAQIikGwifpBNJ4TLZRi5cEjFZo2GdCXNHWtdZhboWtWDeLDIpQoRzaYU+bZJYrI0-aSbHbkAAepAORwgJ0YujggZpAEFFcrVQBZIUajEdf5w6SA5mZUF6h2G6S1DMI5GomHrbF4qwEgOkclbSnUxK1+mM3rZ3q3dmLfJIgw4nH80wQCWIhQ2zxWKXhSLRfKJUfpTKj6fS2dyhKQRbkVwTxZLjMS3yZHgso8iodOaDoA5CWgEzK3fJcaheW7Ql6crqf0-L5NfxdVmHWglGkaFhFEcQpG0L1bHsaN0HYNBUG2UEymQ7ZtVyRxfjAX53iAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(shiny)

module_1 &lt;- module(
  label = "a module",
  server = function(id, data) {
    moduleServer(
      id,
      module = function(input, output, session) {
        output$data &lt;- renderDataTable(data()[["iris"]])
      }
    )
  },
  ui = function(id) {
    ns &lt;- NS(id)
    tagList(dataTableOutput(ns("data")))
  },
  datanames = "all"
)

module_2 &lt;- module(
  label = "another module",
  server = function(id) {
    moduleServer(
      id,
      module = function(input, output, session) {
        output$text &lt;- renderText("Another Module")
      }
    )
  },
  ui = function(id) {
    ns &lt;- NS(id)
    tagList(textOutput(ns("text")))
  },
  datanames = NULL
)

modules &lt;- modules(
  label = "modules",
  modules(
    label = "nested modules",
    module_1
  ),
  module_2
)

app &lt;- init(
  data = teal_data(iris = iris),
  modules = modules
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}
mod &lt;- module(
  label = "My Custom Module",
  server = function(id, data, ...) {},
  ui = function(id, ...) {},
  datanames = c("ADSL", "ADTTE"),
  transformators = list(),
  ui_args = list(a = 1, b = "b"),
  server_args = list(x = 5, y = list(p = 1))
)
cat(format(mod))
custom_module &lt;- function(
    label = "label", ui_args = NULL, server_args = NULL,
    datanames = "all", transformators = list(), bk = FALSE) {
  ans &lt;- module(
    label,
    server = function(id, data, ...) {},
    ui = function(id, ...) {
    },
    datanames = datanames,
    transformators = transformators,
    ui_args = ui_args,
    server_args = server_args
  )
  attr(ans, "teal_bookmarkable") &lt;- bk
  ans
}

dummy_transformator &lt;- teal_transform_module(
  label = "Dummy Transform",
  ui = function(id) div("(does nothing)"),
  server = function(id, data) {
    moduleServer(id, function(input, output, session) data)
  }
)

plot_transformator &lt;- teal_transform_module(
  label = "Plot Settings",
  ui = function(id) div("(does nothing)"),
  server = function(id, data) {
    moduleServer(id, function(input, output, session) data)
  }
)

static_decorator &lt;- teal_transform_module(
  label = "Static decorator",
  server = function(id, data) {
    moduleServer(id, function(input, output, session) {
      reactive({
        req(data())
        within(data(), {
          plot &lt;- plot +
            ggtitle("This is title") +
            xlab("x axis")
        })
      })
    })
  }
)

complete_modules &lt;- modules(
  custom_module(
    label = "Data Overview",
    datanames = c("ADSL", "ADAE", "ADVS"),
    ui_args = list(
      view_type = "table",
      page_size = 10,
      filters = c("ARM", "SEX", "RACE"),
      decorators = list(static_decorator)
    ),
    server_args = list(
      cache = TRUE,
      debounce = 1000,
      decorators = list(static_decorator)
    ),
    transformators = list(dummy_transformator),
    bk = TRUE
  ),
  modules(
    label = "Nested 1",
    custom_module(
      label = "Interactive Plots",
      datanames = c("ADSL", "ADVS"),
      ui_args = list(
        plot_type = c("scatter", "box", "line"),
        height = 600,
        width = 800,
        color_scheme = "viridis"
      ),
      server_args = list(
        render_type = "svg",
        cache_plots = TRUE
      ),
      transformators = list(dummy_transformator, plot_transformator),
      bk = TRUE
    ),
    modules(
      label = "Nested 2",
      custom_module(
        label = "Summary Statistics",
        datanames = "ADSL",
        ui_args = list(
          stats = c("mean", "median", "sd", "range"),
          grouping = c("ARM", "SEX")
        )
      ),
      modules(
        label = "Labeled nested modules",
        custom_module(
          label = "Subgroup Analysis",
          datanames = c("ADSL", "ADAE"),
          ui_args = list(
            subgroups = c("AGE", "SEX", "RACE"),
            analysis_type = "stratified"
          ),
          bk = TRUE
        )
      ),
      modules(custom_module(label = "Subgroup Analysis in non-labled modules"))
    )
  ),
  custom_module("Non-nested module")
)

cat(format(complete_modules))
cat(format(complete_modules, what = c("ui_args", "server_args", "transformators")))
cat(format(complete_modules, what = c("decorators", "transformators")))
</code></pre>

<hr>
<h2 id='teal_slices'>Filter settings for <code>teal</code> applications</h2><span id='topic+teal_slices'></span><span id='topic+as.teal_slices'></span><span id='topic+c.teal_slices'></span>

<h3>Description</h3>

<p>Specify initial filter states and filtering settings for a <code>teal</code> app.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>teal_slices(
  ...,
  exclude_varnames = NULL,
  include_varnames = NULL,
  count_type = NULL,
  allow_add = TRUE,
  module_specific = FALSE,
  mapping,
  app_id = NULL
)

as.teal_slices(x)

## S3 method for class 'teal_slices'
c(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_slices_+3A_...">...</code></td>
<td>
<p>any number of <code>teal_slice</code> objects.</p>
</td></tr>
<tr><td><code id="teal_slices_+3A_include_varnames">include_varnames</code>, <code id="teal_slices_+3A_exclude_varnames">exclude_varnames</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;named list&#8288;</code>s of <code>character</code>) where list names
match names of data sets and vector elements match variable names in respective data sets;
specify which variables are allowed to be filtered; see <code>Details</code>.</p>
</td></tr>
<tr><td><code id="teal_slices_+3A_count_type">count_type</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
<em>This is a new feature. Do kindly share your opinions on
<a href="https://github.com/insightsengineering/teal.slice/"><code>teal.slice</code>'s GitHub repository</a>.</em>
</p>
<p>(<code>character(1)</code>) string specifying how observations are tallied by these filter states.
Possible options:
</p>

<ul>
<li> <p><code>"none"</code> (default) to have counts of single <code>FilterState</code> to show unfiltered number only.
</p>
</li>
<li> <p><code>"all"</code> to have counts of single <code>FilterState</code> to show number of observation in filtered
and unfiltered dataset. Note, that issues were reported when using this option with <code>MultiAssayExperiment</code>.
Please make sure that adding new filters doesn't fail on target platform before deploying for production.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_slices_+3A_allow_add">allow_add</code></td>
<td>
<p>(<code>logical(1)</code>) logical flag specifying whether the user will be able to add new filters</p>
</td></tr>
<tr><td><code id="teal_slices_+3A_module_specific">module_specific</code></td>
<td>
<p>(<code>logical(1)</code>) optional,
</p>

<ul>
<li> <p><code>FALSE</code> (default) when one filter panel applied to all modules.
All filters will be shared by all modules.
</p>
</li>
<li> <p><code>TRUE</code> when filter panel module-specific.
Modules can have different set of filters specified - see <code>mapping</code> argument.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_slices_+3A_mapping">mapping</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
<em>This is a new feature. Do kindly share your opinions on
<a href="https://github.com/insightsengineering/teal/"><code>teal</code>'s GitHub repository</a>.</em>
</p>
<p>(named <code>list</code>) specifies which filters will be active in which modules on app start.
Elements should contain character vector of <code>teal_slice</code> <code>id</code>s (see <code><a href="teal.slice.html#topic+teal_slice">teal.slice::teal_slice</a></code>).
Names of the list should correspond to <code>teal_module</code> <code>label</code> set in <code><a href="#topic+module">module()</a></code> function.
</p>

<ul>
<li> <p><code>id</code>s listed under <code style="white-space: pre;">&#8288;"global_filters&#8288;</code> will be active in all modules.
</p>
</li>
<li><p> If missing, all filters will be applied to all modules.
</p>
</li>
<li><p> If empty list, all filters will be available to all modules but will start inactive.
</p>
</li>
<li><p> If <code>module_specific</code> is <code>FALSE</code>, only <code>global_filters</code> will be active on start.
</p>
</li></ul>
</td></tr>
<tr><td><code id="teal_slices_+3A_app_id">app_id</code></td>
<td>
<p>(<code>character(1)</code>)
For internal use only, do not set manually.
Added by <code>init</code> so that a <code>teal_slices</code> can be matched to the app in which it was used.
Used for verifying snapshots uploaded from file. See <code>snapshot</code>.</p>
</td></tr>
<tr><td><code id="teal_slices_+3A_x">x</code></td>
<td>
<p>(<code>list</code>) of lists to convert to <code>teal_slices</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Produces a <code>teal_slices</code> object.
The <code>teal_slice</code> components will specify filter states that will be active when the app starts.
Attributes (created with the named arguments) will configure the way the app applies filters.
See argument descriptions for details.
</p>


<h3>Value</h3>

<p>A <code>teal_slices</code> object.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFLa1cozmKu1APoBnOgTiP2A6dLtOXcdgAmUKRQ0PDSALzSfGC0jLSOMbjSEixhMlExAMqocAS0bknStAGR0WCOufmFYDy4nt5w3L60roHBobAZ5XEJRamM6WXZcKjcGAAyFADmpAAWRSXDFaPN1DPzMXUNPs6t-g1eQSFDmbHxiXjFpWfUJNP2uSHUl8nipOvLE-fST9yv0jgAA9UNYzgAFODPSYbObSAB80gArDEGtsIF5dn52icussYKQCCwAQNTuUYKhposbuTCcT7BSqbV6hjpDA0KghNMynRHKQPKyvDAiAEVOsAIxlAgeCpVAoAmKOVYOdYQWYLZmHNkisVwABMUplBKJjEcDMpWxZXi80zu9Ga5ksIkcyzuaseUP+qNZ-AgvoEHJsxUE-IaxygZR84fYvRdUVjyWNxLKSdN6KFOvWcekvNDgu1ovWRszcHFlq1wsLBzAld1eq2aKtygsVjKjqsAn9giU0hjwlE4ik2h0IAajjmQlYAEF0OwOQASFS0ZILpWMKSMX0AXwEYC3AF0gA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIFLa1cozmKu1APoBnOgTiP2A6dLtOXcdgAmUKRQ0PDSALzSfGC0jLSOMbjSEixhMlExAMqocAS0bknStAGR0WCOufmFYDy4nt5w3L60roHBobAZ5XEJRamM6WXZcKjcGAAyFADmpAAWRSXDFaPN1DPzMXUNPs6t-g1eQSFDmbHxiXjFpWfUJNP2uSHUl8nipOvLE-fST9yv0jgAA9UNYzgAFODPSYbObSAB80gArDEGtsIF5dn52icussYKQCCwAQNTuUYKhposbuTCcT7BSqbV6hjpDA0KghNMynRHKQPKyvDAiAEVOsAIxlAgeCpVAoAmKOVYOdYQWYLZmHNkisVwABMUplBKJjEcDMpWxZXi80zu9Ga5ksIkcyzuaseUP+qNZ-AgvoEHJsxUE-IaxygZR84fYvRdUVjyWNxLKSdN6KFOvWcekvNDgu1ovWRszcHFlq1wsLBzAld1eq2aKtygsVjKjqsAn9giU0hjwlE4ik2h0IAajjmQlYAEF0OwOQASFS0ZILpWMKSMX0AXwEYC3AF0gA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="teal.slice.html#topic+teal_slices">teal.slice::teal_slices</a></code>, <code><a href="teal.slice.html#topic+teal_slice">teal.slice::teal_slice</a></code>, <code><a href="#topic+slices_store">slices_store()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>filter &lt;- teal_slices(
  teal_slice(dataname = "iris", varname = "Species", id = "species"),
  teal_slice(dataname = "iris", varname = "Sepal.Length", id = "sepal_length"),
  teal_slice(
    dataname = "iris", id = "long_petals", title = "Long petals", expr = "Petal.Length &gt; 5"
  ),
  teal_slice(dataname = "mtcars", varname = "mpg", id = "mtcars_mpg"),
  mapping = list(
    module1 = c("species", "sepal_length"),
    module2 = c("mtcars_mpg"),
    global_filters = "long_petals"
  )
)

app &lt;- init(
  data = teal_data(iris = iris, mtcars = mtcars),
  modules = list(
    module("module1"),
    module("module2")
  ),
  filter = filter
)

if (interactive()) {
  shinyApp(app$ui, app$server)
}

</code></pre>

<hr>
<h2 id='teal_transform_module'>Data module for <code>teal</code> transformations and output customization</h2><span id='topic+teal_transform_module'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
</p>
<p><code>teal_transform_module</code> provides a <code>shiny</code> module that enables data transformations within a <code>teal</code> application
and allows for customization of outputs generated by modules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>teal_transform_module(
  ui = NULL,
  server = function(id, data) data,
  label = "transform module",
  datanames = "all"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="teal_transform_module_+3A_ui">ui</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;function(id)&#8288;</code>)
<code>shiny</code> module UI function; must only take <code>id</code> argument</p>
</td></tr>
<tr><td><code id="teal_transform_module_+3A_server">server</code></td>
<td>
<p>(<code style="white-space: pre;">&#8288;function(id, data)&#8288;</code> or <code>expression</code>)
A <code>shiny</code> module server function that takes <code>id</code> and <code>data</code> as arguments, where <code>id</code> is the module id and <code>data</code>
is the reactive <code>teal_data</code> input. The <code>server</code> function must return a reactive expression containing a <code>teal_data</code>
object. For simplified syntax, use <code><a href="#topic+make_teal_transform_server">make_teal_transform_server()</a></code>.</p>
</td></tr>
<tr><td><code id="teal_transform_module_+3A_label">label</code></td>
<td>
<p>(<code>character(1)</code>) Label of the module.</p>
</td></tr>
<tr><td><code id="teal_transform_module_+3A_datanames">datanames</code></td>
<td>
<p>(<code>character</code>)
Specifies the names of datasets relevant to the module. Only filters for the specified <code>datanames</code> will be displayed
in the filter panel. The keyword <code>"all"</code> can be used to display filters for all datasets. <code>datanames</code> are
automatically appended to the <code><a href="#topic+modules">modules()</a></code> <code>datanames</code>.</p>
</td></tr>
</table>


<h3>Transforming Module Inputs in <code>teal</code></h3>

<p>Data transformations occur after data has been filtered in <code>teal</code>.
The transformed data is then passed to the <code>server</code> of <code><a href="#topic+teal_module">teal_module()</a></code> and managed by <code>teal</code>'s internal processes.
The primary advantage of <code>teal_transform_module</code> over custom modules is in its error handling, where all warnings and
errors are managed by <code>teal</code>, allowing developers to focus on transformation logic.
</p>
<p>For more details, see the vignette: <code>vignette("transform-input-data", package = "teal")</code>.
</p>


<h3>Customizing Module Outputs</h3>

<p><code>teal_transform_module</code> also allows developers to modify any object created within <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data</a></code>.
This means you can use it to customize not only datasets but also tables, listings, and graphs.
Some <code><a href="#topic+teal_modules">teal_modules</a></code> permit developers to inject custom <code>shiny</code> modules to enhance displayed outputs.
To manage these <code>decorators</code> within your module, use <code><a href="#topic+ui_transform_teal_data">ui_transform_teal_data()</a></code> and <code><a href="#topic+srv_transform_teal_data">srv_transform_teal_data()</a></code>.
(For further guidance on managing decorators, refer to <code>ui_args</code> and <code>srv_args</code> in the vignette documentation.)
</p>
<p>See the vignette <code>vignette("transform-module-output", package = "teal")</code> for additional examples.
</p>


<h3><code>server</code> as a language</h3>

<p>The <code>server</code> function in <code>teal_transform_module</code> must return a reactive <code><a href="teal.data.html#topic+teal_data">teal.data::teal_data</a></code> object.
For simple transformations without complex reactivity, the <code>server</code> function might look like this:s
</p>
<div class="sourceCode"><pre>function(id, data) {
  moduleServer(id, function(input, output, session) {
    reactive({
      within(
        data(),
        expr = x &lt;- subset(x, col == level),
        level = input$level
      )
    })
  })
}
</pre></div>
<p>The example above can be simplified using <code>make_teal_transform_server</code>, where <code>level</code> is automatically matched to the
corresponding <code>input</code> parameter:
</p>
<div class="sourceCode"><pre>make_teal_transform_server(expr = expression(x &lt;- subset(x, col == level)))
</pre></div>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKSgB9UswgBnJUUYxLLh3MV0HpdgOlpLmpbeycXGGsYIjMVajh-CEDA6ih6OGppAF5pPjAAZStxAiCw51d3RmUXaVpGWgc83ADkiytoeE8cvLqGppbAhxEpKpzVdXEtWjNcaTaoHRAB5OjY+PzhkXZp2fGNKYhUFVJZomOjk+khhwdNCEXl5OlGOCgNKXYlpKefgHdaUgACyE7Hm2lmXx+UNq9U8CmkgNeZm2sNmAFZ+N9odIAL6Y7F4x64-HJHEtHjNb7BUJQRzlSKrOIJZapdKZbpgACSwlE4ikpVp4QqpBq5RhfTwy3mHTgXVyYF6jUlWOkKlo2WUan2EG2ZgeKsCji80gAcvldSSnlYAOYOAAkZkkiWxEBU8HqBG5F3Yjn8kGsxGoSop8vygKIv2kSUDbscTWkEm4KhkOTRsxgQg1AEZ01AAB4atNXciobOW5LlnGUp5DRgjDV7SY6nZzSwLaSQn6M9abRi63ZapvbQ7HU7nUdXWW3Ej67EvN58hKd7H-IEgsEUolQ5fY5KK42K4CzLOICABohBgC6W5+VZvTzPgblQgudsfF8aBp+5aehK-f9-ckBExAQzlIC5rDMOBiGYEUqnhak7EFekohiJlnUnOsRA1NwAGs4FsV4QiQukImsWsRgwwI4DzVAXhuO4qOSIh6AAK2g0hjReCR2BY9ixHLElMRA6B0APQQ-BaeYNWpMF9xyRVN2+btZQ1GjYFQeJULWZkVRIoU3DguV5hpUjhQ8atWmglxKjlHw-DAiCoJgyohOAgRaCUaRh3IXlJASHhZyuYEIFYABBdB2DQVA7TVWZortCiRExMkIDAHFLyAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKSgB9UswgBnJUUYxLLh3MV0HpdgOlpLmpbeycXGGsYIjMVajh-CEDA6ih6OGppAF5pPjAAZStxAiCw51d3RmUXaVpGWgc83ADkiytoeE8cvLqGppbAhxEpKpzVdXEtWjNcaTaoHRAB5OjY+PzhkXZp2fGNKYhUFVJZomOjk+khhwdNCEXl5OlGOCgNKXYlpKefgHdaUgACyE7Hm2lmXx+UNq9U8CmkgNeZm2sNmAFZ+N9odIAL6Y7F4x64-HJHEtHjNb7BUJQRzlSKrOIJZapdKZbpgACSwlE4ikpVp4QqpBq5RhfTwy3mHTgXVyYF6jUlWOkKlo2WUan2EG2ZgeKsCji80gAcvldSSnlYAOYOAAkZkkiWxEBU8HqBG5F3Yjn8kGsxGoSop8vygKIv2kSUDbscTWkEm4KhkOTRsxgQg1AEZ01AAB4atNXciobOW5LlnGUp5DRgjDV7SY6nZzSwLaSQn6M9abRi63ZapvbQ7HU7nUdXWW3Ej67EvN58hKd7H-IEgsEUolQ5fY5KK42K4CzLOICABohBgC6W5+VZvTzPgblQgudsfF8aBp+5aehK-f9-ckBExAQzlIC5rDMOBiGYEUqnhak7EFekohiJlnUnOsRA1NwAGs4FsV4QiQukImsWsRgwwI4DzVAXhuO4qOSIh6AAK2g0hjReCR2BY9ixHLElMRA6B0APQQ-BaeYNWpMF9xyRVN2+btZQ1GjYFQeJULWZkVRIoU3DguV5hpUjhQ8atWmglxKjlHw-DAiCoJgyohOAgRaCUaRh3IXlJASHhZyuYEIFYABBdB2DQVA7TVWZortCiRExMkIDAHFLyAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data_transformators &lt;- list(
  teal_transform_module(
    label = "Static transformator for iris",
    datanames = "iris",
    server = function(id, data) {
      moduleServer(id, function(input, output, session) {
        reactive({
          within(data(), {
            iris &lt;- head(iris, 5)
          })
        })
      })
    }
  ),
  teal_transform_module(
    label = "Interactive transformator for iris",
    datanames = "iris",
    ui = function(id) {
      ns &lt;- NS(id)
      tags$div(
        numericInput(ns("n_cols"), "Show n columns", value = 5, min = 1, max = 5, step = 1)
      )
    },
    server = function(id, data) {
      moduleServer(id, function(input, output, session) {
        reactive({
          within(data(),
            {
              iris &lt;- iris[, 1:n_cols]
            },
            n_cols = input$n_cols
          )
        })
      })
    }
  )
)

output_decorator &lt;- teal_transform_module(
  server = make_teal_transform_server(
    expression(
      object &lt;- rev(object)
    )
  )
)

app &lt;- init(
  data = teal_data(iris = iris),
  modules = example_module(
    transformators = data_transformators,
    decorators = list(output_decorator)
  )
)
if (interactive()) {
  shinyApp(app$ui, app$server)
}

</code></pre>

<hr>
<h2 id='TealAppDriver'>Drive a <code>teal</code> application</h2><span id='topic+TealAppDriver'></span>

<h3>Description</h3>

<p>Drive a <code>teal</code> application
</p>
<p>Drive a <code>teal</code> application
</p>


<h3>Details</h3>

<p>Extension of the <code>shinytest2::AppDriver</code> class with methods for
driving a teal application for performing interactions for <code>shinytest2</code> tests.
</p>


<h3>Super class</h3>

<p><code><a href="shinytest2.html#topic+AppDriver">shinytest2::AppDriver</a></code> -&gt; <code>TealAppDriver</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-TealAppDriver-new"><code>TealAppDriver$new()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-click"><code>TealAppDriver$click()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-expect_no_shiny_error"><code>TealAppDriver$expect_no_shiny_error()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-expect_no_validation_error"><code>TealAppDriver$expect_no_validation_error()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-expect_validation_error"><code>TealAppDriver$expect_validation_error()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-set_input"><code>TealAppDriver$set_input()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-navigate_teal_tab"><code>TealAppDriver$navigate_teal_tab()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_ns"><code>TealAppDriver$active_ns()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_module_ns"><code>TealAppDriver$active_module_ns()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_module_element"><code>TealAppDriver$active_module_element()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_module_element_text"><code>TealAppDriver$active_module_element_text()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_filters_ns"><code>TealAppDriver$active_filters_ns()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_data_summary_ns"><code>TealAppDriver$active_data_summary_ns()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-active_data_summary_element"><code>TealAppDriver$active_data_summary_element()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_module_input"><code>TealAppDriver$get_active_module_input()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_module_output"><code>TealAppDriver$get_active_module_output()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_module_table_output"><code>TealAppDriver$get_active_module_table_output()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_module_plot_output"><code>TealAppDriver$get_active_module_plot_output()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-set_active_module_input"><code>TealAppDriver$set_active_module_input()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_filter_vars"><code>TealAppDriver$get_active_filter_vars()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_data_summary_table"><code>TealAppDriver$get_active_data_summary_table()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-is_visible"><code>TealAppDriver$is_visible()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_active_data_filters"><code>TealAppDriver$get_active_data_filters()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-add_filter_var"><code>TealAppDriver$add_filter_var()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-remove_filter_var"><code>TealAppDriver$remove_filter_var()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-set_active_filter_selection"><code>TealAppDriver$set_active_filter_selection()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_attr"><code>TealAppDriver$get_attr()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-get_html_rvest"><code>TealAppDriver$get_html_rvest()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-open_url"><code>TealAppDriver$open_url()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-wait_for_active_module_value"><code>TealAppDriver$wait_for_active_module_value()</code></a>
</p>
</li>
<li> <p><a href="#method-TealAppDriver-clone"><code>TealAppDriver$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_download"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_download'><code>shinytest2::AppDriver$expect_download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_html"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_html'><code>shinytest2::AppDriver$expect_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_js"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_js'><code>shinytest2::AppDriver$expect_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_screenshot"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_screenshot'><code>shinytest2::AppDriver$expect_screenshot()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_text"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_text'><code>shinytest2::AppDriver$expect_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_unique_names"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_unique_names'><code>shinytest2::AppDriver$expect_unique_names()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="expect_values"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-expect_values'><code>shinytest2::AppDriver$expect_values()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_chromote_session"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_chromote_session'><code>shinytest2::AppDriver$get_chromote_session()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_dir"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_dir'><code>shinytest2::AppDriver$get_dir()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_download"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_download'><code>shinytest2::AppDriver$get_download()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_html"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_html'><code>shinytest2::AppDriver$get_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_js"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_js'><code>shinytest2::AppDriver$get_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_logs"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_logs'><code>shinytest2::AppDriver$get_logs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_screenshot"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_screenshot'><code>shinytest2::AppDriver$get_screenshot()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_text"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_text'><code>shinytest2::AppDriver$get_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_url"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_url'><code>shinytest2::AppDriver$get_url()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_value"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_value'><code>shinytest2::AppDriver$get_value()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_values"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_values'><code>shinytest2::AppDriver$get_values()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_variant"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_variant'><code>shinytest2::AppDriver$get_variant()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="get_window_size"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-get_window_size'><code>shinytest2::AppDriver$get_window_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="log_message"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-log_message'><code>shinytest2::AppDriver$log_message()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="run_js"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-run_js'><code>shinytest2::AppDriver$run_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="set_inputs"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-set_inputs'><code>shinytest2::AppDriver$set_inputs()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="set_window_size"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-set_window_size'><code>shinytest2::AppDriver$set_window_size()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="stop"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-stop'><code>shinytest2::AppDriver$stop()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="upload_file"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-upload_file'><code>shinytest2::AppDriver$upload_file()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="view"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-view'><code>shinytest2::AppDriver$view()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="wait_for_idle"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-wait_for_idle'><code>shinytest2::AppDriver$wait_for_idle()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="wait_for_js"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-wait_for_js'><code>shinytest2::AppDriver$wait_for_js()</code></a></span></li>
<li><span class="pkg-link" data-pkg="shinytest2" data-topic="AppDriver" data-id="wait_for_value"><a href='../../shinytest2/html/AppDriver.html#method-AppDriver-wait_for_value'><code>shinytest2::AppDriver$wait_for_value()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-TealAppDriver-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initialize a <code>TealAppDriver</code> object for testing a <code>teal</code> application.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$new(
  data,
  modules,
  filter = teal_slices(),
  title_args = list(),
  header = tags$p(),
  footer = tags$p(),
  landing_popup_args = NULL,
  timeout = rlang::missing_arg(),
  load_timeout = rlang::missing_arg(),
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>data, modules, filter</code></dt><dd><p>arguments passed to <code>init</code></p>
</dd>
<dt><code>title_args, header, footer, landing_popup_args</code></dt><dd><p>to pass into the modifier functions.</p>
</dd>
<dt><code>timeout</code></dt><dd><p>(<code>numeric</code>) Default number of milliseconds for any timeout or
timeout_ parameter in the <code>TealAppDriver</code> class.
Defaults to 20s.
</p>
<p>See <code><a href="shinytest2.html#topic+AppDriver">shinytest2::AppDriver</a></code> <code>new</code> method for more details on how to change it
via options or environment variables.</p>
</dd>
<dt><code>load_timeout</code></dt><dd><p>(<code>numeric</code>) How long to wait for the app to load, in ms.
This includes the time to start R. Defaults to 100s.
</p>
<p>See <code><a href="shinytest2.html#topic+AppDriver">shinytest2::AppDriver</a></code> <code>new</code> method for more details on how to change it
via options or environment variables</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments to be passed to <code>shinytest2::AppDriver$new</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Object of class <code>TealAppDriver</code>
</p>


<hr>
<a id="method-TealAppDriver-click"></a>



<h4>Method <code>click()</code></h4>

<p>Append parent <code><a href="shinytest2.html#topic+AppDriver">shinytest2::AppDriver</a></code> <code>click</code> method with a call to <code>waif_for_idle()</code> method.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$click(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>arguments passed to parent <code><a href="shinytest2.html#topic+AppDriver">shinytest2::AppDriver</a></code> <code>click()</code> method.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-TealAppDriver-expect_no_shiny_error"></a>



<h4>Method <code>expect_no_shiny_error()</code></h4>

<p>Check if the app has shiny errors. This checks for global shiny errors.
Note that any shiny errors dependent on shiny server render will only be captured after the teal module tab
is visited because shiny will not trigger server computations when the tab is invisible.
So, navigate to the module tab you want to test before calling this function.
Although, this catches errors hidden in the other module tabs if they are already rendered.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$expect_no_shiny_error()</pre></div>


<hr>
<a id="method-TealAppDriver-expect_no_validation_error"></a>



<h4>Method <code>expect_no_validation_error()</code></h4>

<p>Check if the app has no validation errors. This checks for global shiny validation errors.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$expect_no_validation_error()</pre></div>


<hr>
<a id="method-TealAppDriver-expect_validation_error"></a>



<h4>Method <code>expect_validation_error()</code></h4>

<p>Check if the app has validation errors. This checks for global shiny validation errors.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$expect_validation_error()</pre></div>


<hr>
<a id="method-TealAppDriver-set_input"></a>



<h4>Method <code>set_input()</code></h4>

<p>Set the input in the <code>teal</code> app.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$set_input(input_id, value, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>input_id</code></dt><dd><p>(character) The shiny input id with it's complete name space.</p>
</dd>
<dt><code>value</code></dt><dd><p>The value to set the input to.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments to be passed to <code>shinytest2::AppDriver$set_inputs</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>TealAppDriver</code> object invisibly.
</p>


<hr>
<a id="method-TealAppDriver-navigate_teal_tab"></a>



<h4>Method <code>navigate_teal_tab()</code></h4>

<p>Navigate the teal tabs in the <code>teal</code> app.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$navigate_teal_tab(tabs)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>tabs</code></dt><dd><p>(character) Labels of tabs to navigate to. The order of the tabs is important,
and it should start with the most parent level tab.
Note: In case the teal tab group has duplicate names, the first tab will be selected,
If you wish to select the second tab with the same name, use the suffix &quot;_1&quot;.
If you wish to select the third tab with the same name, use the suffix &quot;_2&quot; and so on.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>TealAppDriver</code> object invisibly.
</p>


<hr>
<a id="method-TealAppDriver-active_ns"></a>



<h4>Method <code>active_ns()</code></h4>

<p>Get the active shiny name space for different components of the teal app.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_ns()</pre></div>



<h5>Returns</h5>

<p>(<code>list</code>) The list of active shiny name space of the teal components.
</p>


<hr>
<a id="method-TealAppDriver-active_module_ns"></a>



<h4>Method <code>active_module_ns()</code></h4>

<p>Get the active shiny name space for interacting with the module content.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_module_ns()</pre></div>



<h5>Returns</h5>

<p>(<code>string</code>) The active shiny name space of the component.
</p>


<hr>
<a id="method-TealAppDriver-active_module_element"></a>



<h4>Method <code>active_module_element()</code></h4>

<p>Get the active shiny name space bound with a custom <code>element</code> name.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_module_element(element)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>element</code></dt><dd><p><code>character(1)</code> custom element name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>(<code>string</code>) The active shiny name space of the component bound with the input <code>element</code>.
</p>


<hr>
<a id="method-TealAppDriver-active_module_element_text"></a>



<h4>Method <code>active_module_element_text()</code></h4>

<p>Get the text of the active shiny name space bound with a custom <code>element</code> name.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_module_element_text(element)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>element</code></dt><dd><p><code>character(1)</code> the text of the custom element name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>(<code>string</code>) The text of the active shiny name space of the component bound with the input <code>element</code>.
</p>


<hr>
<a id="method-TealAppDriver-active_filters_ns"></a>



<h4>Method <code>active_filters_ns()</code></h4>

<p>Get the active shiny name space for interacting with the filter panel.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_filters_ns()</pre></div>



<h5>Returns</h5>

<p>(<code>string</code>) The active shiny name space of the component.
</p>


<hr>
<a id="method-TealAppDriver-active_data_summary_ns"></a>



<h4>Method <code>active_data_summary_ns()</code></h4>

<p>Get the active shiny name space for interacting with the data-summary panel.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_data_summary_ns()</pre></div>



<h5>Returns</h5>

<p>(<code>string</code>) The active shiny name space of the data-summary component.
</p>


<hr>
<a id="method-TealAppDriver-active_data_summary_element"></a>



<h4>Method <code>active_data_summary_element()</code></h4>

<p>Get the active shiny name space bound with a custom <code>element</code> name.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$active_data_summary_element(element)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>element</code></dt><dd><p><code>character(1)</code> custom element name.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>(<code>string</code>) The active shiny name space of the component bound with the input <code>element</code>.
</p>


<hr>
<a id="method-TealAppDriver-get_active_module_input"></a>



<h4>Method <code>get_active_module_input()</code></h4>

<p>Get the input from the module in the <code>teal</code> app.
This function will only access inputs from the name space of the current active teal module.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_module_input(input_id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>input_id</code></dt><dd><p>(character) The shiny input id to get the value from.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The value of the shiny input.
</p>


<hr>
<a id="method-TealAppDriver-get_active_module_output"></a>



<h4>Method <code>get_active_module_output()</code></h4>

<p>Get the output from the module in the <code>teal</code> app.
This function will only access outputs from the name space of the current active teal module.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_module_output(output_id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>output_id</code></dt><dd><p>(character) The shiny output id to get the value from.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The value of the shiny output.
</p>


<hr>
<a id="method-TealAppDriver-get_active_module_table_output"></a>



<h4>Method <code>get_active_module_table_output()</code></h4>

<p>Get the output from the module's <code>teal.widgets::table_with_settings</code> or <code>DT::DTOutput</code> in the <code>teal</code> app.
This function will only access outputs from the name space of the current active teal module.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_module_table_output(table_id, which = 1)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>table_id</code></dt><dd><p>(<code>character(1)</code>) The id of the table in the active teal module's name space.</p>
</dd>
<dt><code>which</code></dt><dd><p>(integer) If there is more than one table, which should be extracted.
By default it will look for  a table that is built using <code>teal.widgets::table_with_settings</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The data.frame with table contents.
</p>


<hr>
<a id="method-TealAppDriver-get_active_module_plot_output"></a>



<h4>Method <code>get_active_module_plot_output()</code></h4>

<p>Get the output from the module's <code>teal.widgets::plot_with_settings</code> in the <code>teal</code> app.
This function will only access plots from the name space of the current active teal module.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_module_plot_output(plot_id)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>plot_id</code></dt><dd><p>(<code>character(1)</code>) The id of the plot in the active teal module's name space.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>src</code> attribute as <code>character(1)</code> vector.
</p>


<hr>
<a id="method-TealAppDriver-set_active_module_input"></a>



<h4>Method <code>set_active_module_input()</code></h4>

<p>Set the input in the module in the <code>teal</code> app.
This function will only set inputs in the name space of the current active teal module.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$set_active_module_input(input_id, value, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>input_id</code></dt><dd><p>(character) The shiny input id to get the value from.</p>
</dd>
<dt><code>value</code></dt><dd><p>The value to set the input to.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments to be passed to <code>shinytest2::AppDriver$set_inputs</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>TealAppDriver</code> object invisibly.
</p>


<hr>
<a id="method-TealAppDriver-get_active_filter_vars"></a>



<h4>Method <code>get_active_filter_vars()</code></h4>

<p>Get the active datasets that can be accessed via the filter panel of the current active teal module.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_filter_vars()</pre></div>


<hr>
<a id="method-TealAppDriver-get_active_data_summary_table"></a>



<h4>Method <code>get_active_data_summary_table()</code></h4>

<p>Get the active data summary table
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_data_summary_table()</pre></div>



<h5>Returns</h5>

<p><code>data.frame</code>
</p>


<hr>
<a id="method-TealAppDriver-is_visible"></a>



<h4>Method <code>is_visible()</code></h4>

<p>Test if <code>DOM</code> elements are visible on the page with a JavaScript call.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$is_visible(
  selector,
  content_visibility_auto = FALSE,
  opacity_property = FALSE,
  visibility_property = FALSE
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>selector</code></dt><dd><p>(<code>character(1)</code>) <code>CSS</code> selector to check visibility.
A <code>CSS</code> id will return only one element if the UI is well formed.</p>
</dd>
<dt><code>content_visibility_auto, opacity_property, visibility_property</code></dt><dd><p>(<code>logical(1)</code>) See more information
on <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element/checkVisibility">https://developer.mozilla.org/en-US/docs/Web/API/Element/checkVisibility</a>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Logical vector with all occurrences of the selector.
</p>


<hr>
<a id="method-TealAppDriver-get_active_data_filters"></a>



<h4>Method <code>get_active_data_filters()</code></h4>

<p>Get the active filter variables from a dataset in the <code>teal</code> app.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_active_data_filters(dataset_name = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataset_name</code></dt><dd><p>(character) The name of the dataset to get the filter variables from.
If <code>NULL</code>, the filter variables for all the datasets will be returned in a list.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-TealAppDriver-add_filter_var"></a>



<h4>Method <code>add_filter_var()</code></h4>

<p>Add a new variable from the dataset to be filtered.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$add_filter_var(dataset_name, var_name, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataset_name</code></dt><dd><p>(character) The name of the dataset to add the filter variable to.</p>
</dd>
<dt><code>var_name</code></dt><dd><p>(character) The name of the variable to add to the filter panel.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments to be passed to <code>shinytest2::AppDriver$set_inputs</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>TealAppDriver</code> object invisibly.
</p>


<hr>
<a id="method-TealAppDriver-remove_filter_var"></a>



<h4>Method <code>remove_filter_var()</code></h4>

<p>Remove an active filter variable of a dataset from the active filter variables panel.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$remove_filter_var(dataset_name = NULL, var_name = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataset_name</code></dt><dd><p>(character) The name of the dataset to remove the filter variable from.
If <code>NULL</code>, all the filter variables will be removed.</p>
</dd>
<dt><code>var_name</code></dt><dd><p>(character) The name of the variable to remove from the filter panel.
If <code>NULL</code>, all the filter variables of the dataset will be removed.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>TealAppDriver</code> object invisibly.
</p>


<hr>
<a id="method-TealAppDriver-set_active_filter_selection"></a>



<h4>Method <code>set_active_filter_selection()</code></h4>

<p>Set the active filter values for a variable of a dataset in the active filter variable panel.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$set_active_filter_selection(dataset_name, var_name, input, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>dataset_name</code></dt><dd><p>(character) The name of the dataset to set the filter value for.</p>
</dd>
<dt><code>var_name</code></dt><dd><p>(character) The name of the variable to set the filter value for.</p>
</dd>
<dt><code>input</code></dt><dd><p>The value to set the filter to.</p>
</dd>
<dt><code>...</code></dt><dd><p>Additional arguments to be passed to <code>shinytest2::AppDriver$set_inputs</code></p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>TealAppDriver</code> object invisibly.
</p>


<hr>
<a id="method-TealAppDriver-get_attr"></a>



<h4>Method <code>get_attr()</code></h4>

<p>Extract <code>html</code> attribute (found by a <code>selector</code>).
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_attr(selector, attribute)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>selector</code></dt><dd><p>(<code>character(1)</code>) specifying the selector to be used to get the content of a specific node.</p>
</dd>
<dt><code>attribute</code></dt><dd><p>(<code>character(1)</code>) name of an attribute to retrieve from a node specified by <code>selector</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>character</code> vector.
</p>


<hr>
<a id="method-TealAppDriver-get_html_rvest"></a>



<h4>Method <code>get_html_rvest()</code></h4>

<p>Wrapper around <code>get_html</code> that passes the output directly to <code>rvest::read_html</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$get_html_rvest(selector)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>selector</code></dt><dd><p><code>(character(1))</code> passed to <code>get_html</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>An XML document.
Wrapper around <code>get_url()</code> method that opens the app in the browser.
</p>


<hr>
<a id="method-TealAppDriver-open_url"></a>



<h4>Method <code>open_url()</code></h4>



<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$open_url()</pre></div>



<h5>Returns</h5>

<p>Nothing. Opens the underlying teal app in the browser.
</p>


<hr>
<a id="method-TealAppDriver-wait_for_active_module_value"></a>



<h4>Method <code>wait_for_active_module_value()</code></h4>

<p>Waits until a specified input, output, or export value.
This function serves as a wrapper around the <code>wait_for_value</code> method,
providing a more flexible interface for waiting on different types of values within the active module namespace.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$wait_for_active_module_value(
  input = rlang::missing_arg(),
  output = rlang::missing_arg(),
  export = rlang::missing_arg(),
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>input, output, export</code></dt><dd><p>A name of an input, output, or export value.
Only one of these parameters may be used.</p>
</dd>
<dt><code>...</code></dt><dd><p>Must be empty. Allows for parameter expansion.
Parameter with additional value to passed in <code>wait_for_value</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-TealAppDriver-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealAppDriver$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='TealReportCard'><code>TealReportCard</code></h2><span id='topic+TealReportCard'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a>
Child class of <code><a href="teal.reporter.html#topic+ReportCard">teal.reporter::ReportCard</a></code> that is used for <code>teal</code> specific applications.
In addition to the parent methods, it supports rendering <code>teal</code> specific elements such as
the source code, the encodings panel content and the filter panel content as part of the
meta data.
</p>


<h3>Super class</h3>

<p><code><a href="teal.reporter.html#topic+ReportCard">teal.reporter::ReportCard</a></code> -&gt; <code>TealReportCard</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-TealReportCard-append_src"><code>TealReportCard$append_src()</code></a>
</p>
</li>
<li> <p><a href="#method-TealReportCard-append_fs"><code>TealReportCard$append_fs()</code></a>
</p>
</li>
<li> <p><a href="#method-TealReportCard-append_encodings"><code>TealReportCard$append_encodings()</code></a>
</p>
</li>
<li> <p><a href="#method-TealReportCard-clone"><code>TealReportCard$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_content"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_content'><code>teal.reporter::ReportCard$append_content()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_html"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_html'><code>teal.reporter::ReportCard$append_html()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_metadata"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_metadata'><code>teal.reporter::ReportCard$append_metadata()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_plot"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_plot'><code>teal.reporter::ReportCard$append_plot()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_rcode"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_rcode'><code>teal.reporter::ReportCard$append_rcode()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_table"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_table'><code>teal.reporter::ReportCard$append_table()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="append_text"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-append_text'><code>teal.reporter::ReportCard$append_text()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="from_list"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-from_list'><code>teal.reporter::ReportCard$from_list()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="get_content"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-get_content'><code>teal.reporter::ReportCard$get_content()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="get_metadata"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-get_metadata'><code>teal.reporter::ReportCard$get_metadata()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="get_name"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-get_name'><code>teal.reporter::ReportCard$get_name()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="initialize"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-initialize'><code>teal.reporter::ReportCard$initialize()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="reset"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-reset'><code>teal.reporter::ReportCard$reset()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="set_name"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-set_name'><code>teal.reporter::ReportCard$set_name()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ReportCard" data-id="to_list"><a href='../../teal.reporter/html/ReportCard.html#method-ReportCard-to_list'><code>teal.reporter::ReportCard$to_list()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-TealReportCard-append_src"></a>



<h4>Method <code>append_src()</code></h4>

<p>Appends the source code to the <code>content</code> meta data of this <code>TealReportCard</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealReportCard$append_src(src, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>src</code></dt><dd><p>(<code>character(1)</code>) code as text.</p>
</dd>
<dt><code>...</code></dt><dd><p>any <code>rmarkdown</code> <code>R</code> chunk parameter and its value.
But <code>eval</code> parameter is always set to <code>FALSE</code>.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Object of class <code>TealReportCard</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>card &lt;- TealReportCard$new()$append_src(
  "plot(iris)"
)
card$get_content()[[1]]$get_content()
</pre>
</div>


<hr>
<a id="method-TealReportCard-append_fs"></a>



<h4>Method <code>append_fs()</code></h4>

<p>Appends the filter state list to the <code>content</code> and <code>metadata</code> of this <code>TealReportCard</code>.
If the filter state list has an attribute named <code>formatted</code>, it appends it to the card otherwise it uses
the default <code>yaml::as.yaml</code> to format the list.
If the filter state list is empty, nothing is appended to the <code>content</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealReportCard$append_fs(fs)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>fs</code></dt><dd><p>(<code>teal_slices</code>) object returned from <code><a href="#topic+teal_slices">teal_slices()</a></code> function.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-TealReportCard-append_encodings"></a>



<h4>Method <code>append_encodings()</code></h4>

<p>Appends the encodings list to the <code>content</code> and <code>metadata</code> of this <code>TealReportCard</code>.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealReportCard$append_encodings(encodings)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>encodings</code></dt><dd><p>(<code>list</code>) list of encodings selections of the <code>teal</code> app.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>card &lt;- TealReportCard$new()$append_encodings(list(variable1 = "X"))
card$get_content()[[1]]$get_content()

</pre>
</div>


<hr>
<a id="method-TealReportCard-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealReportCard$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `TealReportCard$append_src`
## ------------------------------------------------

card &lt;- TealReportCard$new()$append_src(
  "plot(iris)"
)
card$get_content()[[1]]$get_content()

## ------------------------------------------------
## Method `TealReportCard$append_encodings`
## ------------------------------------------------

card &lt;- TealReportCard$new()$append_encodings(list(variable1 = "X"))
card$get_content()[[1]]$get_content()

</code></pre>

<hr>
<h2 id='TealSlicesBlock'><code>TealSlicesBlock</code></h2><span id='topic+TealSlicesBlock'></span>

<h3>Description</h3>

<p>Specialized <code>TealSlicesBlock</code> block for managing filter panel content in reports.
</p>


<h3>Super classes</h3>

<p><code><a href="teal.reporter.html#topic+ContentBlock">teal.reporter::ContentBlock</a></code> -&gt; <code><a href="teal.reporter.html#topic+TextBlock">teal.reporter::TextBlock</a></code> -&gt; <code>TealSlicesBlock</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-TealSlicesBlock-new"><code>TealSlicesBlock$new()</code></a>
</p>
</li>
<li> <p><a href="#method-TealSlicesBlock-set_content"><code>TealSlicesBlock$set_content()</code></a>
</p>
</li>
<li> <p><a href="#method-TealSlicesBlock-from_list"><code>TealSlicesBlock$from_list()</code></a>
</p>
</li>
<li> <p><a href="#method-TealSlicesBlock-to_list"><code>TealSlicesBlock$to_list()</code></a>
</p>
</li>
<li> <p><a href="#method-TealSlicesBlock-clone"><code>TealSlicesBlock$clone()</code></a>
</p>
</li></ul>



<details open><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="ContentBlock" data-id="get_content"><a href='../../teal.reporter/html/ContentBlock.html#method-ContentBlock-get_content'><code>teal.reporter::ContentBlock$get_content()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="TextBlock" data-id="get_available_styles"><a href='../../teal.reporter/html/TextBlock.html#method-TextBlock-get_available_styles'><code>teal.reporter::TextBlock$get_available_styles()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="TextBlock" data-id="get_style"><a href='../../teal.reporter/html/TextBlock.html#method-TextBlock-get_style'><code>teal.reporter::TextBlock$get_style()</code></a></span></li>
<li><span class="pkg-link" data-pkg="teal.reporter" data-topic="TextBlock" data-id="set_style"><a href='../../teal.reporter/html/TextBlock.html#method-TextBlock-set_style'><code>teal.reporter::TextBlock$set_style()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-TealSlicesBlock-new"></a>



<h4>Method <code>new()</code></h4>

<p>Returns a <code>TealSlicesBlock</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealSlicesBlock$new(content = teal_slices(), style = "verbatim")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content</code></dt><dd><p>(<code>teal_slices</code>) object returned from <code><a href="#topic+teal_slices">teal_slices()</a></code> function.</p>
</dd>
<dt><code>style</code></dt><dd><p>(<code>character(1)</code>) string specifying style to apply.</p>
</dd>
</dl>

</div>



<h5>Details</h5>

<p>Returns a <code>TealSlicesBlock</code> object with no content and no parameters.
</p>



<h5>Returns</h5>

<p>Object of class <code>TealSlicesBlock</code>, invisibly.
</p>


<hr>
<a id="method-TealSlicesBlock-set_content"></a>



<h4>Method <code>set_content()</code></h4>

<p>Sets content of this <code>TealSlicesBlock</code>.
Sets content as <code>YAML</code> text which represents a list generated from <code>teal_slices</code>.
The list displays limited number of fields from <code>teal_slice</code> objects, but this list is
sufficient to conclude which filters were applied.
When <code>selected</code> field in <code>teal_slice</code> object is a range, then it is displayed as a &quot;min&quot;
</p>


<h5>Usage</h5>

<div class="r"><pre>TealSlicesBlock$set_content(content)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>content</code></dt><dd><p>(<code>teal_slices</code>) object returned from <code><a href="#topic+teal_slices">teal_slices()</a></code> function.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>


<hr>
<a id="method-TealSlicesBlock-from_list"></a>



<h4>Method <code>from_list()</code></h4>

<p>Create the <code>TealSlicesBlock</code> from a list.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealSlicesBlock$from_list(x)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>(<code style="white-space: pre;">&#8288;named list&#8288;</code>) with two fields <code>text</code> and <code>style</code>.
Use the <code>get_available_styles</code> method to get all possible styles.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p><code>self</code>, invisibly.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>TealSlicesBlock &lt;- getFromNamespace("TealSlicesBlock", "teal")
block &lt;- TealSlicesBlock$new()
block$from_list(list(text = "sth", style = "default"))

</pre>
</div>


<hr>
<a id="method-TealSlicesBlock-to_list"></a>



<h4>Method <code>to_list()</code></h4>

<p>Convert the <code>TealSlicesBlock</code> to a list.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealSlicesBlock$to_list()</pre></div>



<h5>Returns</h5>

<p><code style="white-space: pre;">&#8288;named list&#8288;</code> with a text and style.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>TealSlicesBlock &lt;- getFromNamespace("TealSlicesBlock", "teal")
block &lt;- TealSlicesBlock$new()
block$to_list()

</pre>
</div>


<hr>
<a id="method-TealSlicesBlock-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>TealSlicesBlock$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>
## ------------------------------------------------
## Method `TealSlicesBlock$from_list`
## ------------------------------------------------

TealSlicesBlock &lt;- getFromNamespace("TealSlicesBlock", "teal")
block &lt;- TealSlicesBlock$new()
block$from_list(list(text = "sth", style = "default"))


## ------------------------------------------------
## Method `TealSlicesBlock$to_list`
## ------------------------------------------------

TealSlicesBlock &lt;- getFromNamespace("TealSlicesBlock", "teal")
block &lt;- TealSlicesBlock$new()
block$to_list()

</code></pre>

<hr>
<h2 id='validate_app_title_tag'>Function for validating the title parameter of <code>teal::init</code></h2><span id='topic+validate_app_title_tag'></span>

<h3>Description</h3>

<p>Checks if the input of the title from <code>teal::init</code> will create a valid title and favicon tag.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_app_title_tag(shiny_tag)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_app_title_tag_+3A_shiny_tag">shiny_tag</code></td>
<td>
<p>(<code>shiny.tag</code>) Object to validate for a valid title.</p>
</td></tr>
</table>

<hr>
<h2 id='validate_has_data'>Validate that dataset has a minimum number of observations</h2><span id='topic+validate_has_data'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_has_data(
  x,
  min_nrow = NULL,
  complete = FALSE,
  allow_inf = TRUE,
  msg = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_has_data_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>)</p>
</td></tr>
<tr><td><code id="validate_has_data_+3A_min_nrow">min_nrow</code></td>
<td>
<p>(<code>numeric(1)</code>) Minimum allowed number of rows in <code>x</code>.</p>
</td></tr>
<tr><td><code id="validate_has_data_+3A_complete">complete</code></td>
<td>
<p>(<code>logical(1)</code>) Flag specifying whether to check only complete cases. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="validate_has_data_+3A_allow_inf">allow_inf</code></td>
<td>
<p>(<code>logical(1)</code>) Flag specifying whether to allow infinite values. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="validate_has_data_+3A_msg">msg</code></td>
<td>
<p>(<code>character(1)</code>) Additional message to display alongside the default message.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIF0mLDl14CVtOYqXU7AEwAKUAOZx2A6dIBnOhcRAEkIVBVSXxoKPjxpeIBZKAAPaQAZCk9SAAtpIiVpAGU4VG543D9-aRghaQBeaQAWDABmXFq0xukAdgwATk6JbhUZJoBWap4qiH9UaiJSAHkoyOj4haX4-ghdgQCRKUYHZTUNLSF1zqI1qJ0QatvSdYASLdJTxgoQxjdF6KPOY1WiMWgBAD6LiKCmkoPBwHhAVepXK1AwWQgOXysiaVyir2oFE6AF1qv4RsEoOQIbkoJCXNSoL5gTU4WCGUpZmz-HUIBCIIwiAB3HoARgADNyecQYAs4OQegAxACCGWKRmlbJgAU8PXi-zg9JkUBcACsVAFPil0pjsQUiqiKmBydJ9qzpLlwdEkVClCiytwMdk8p0mEaANYBHoTXb+AC+u3jAloRXYQnIonEUm0D2qAS9EFYKvQ7DsnUOjGOSYEYHjJKAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIF0mLDl14CVtOYqXU7AEwAKUAOZx2A6dIBnOhcRAEkIVBVSXxoKPjxpeIBZKAAPaQAZCk9SAAtpIiVpAGU4VG543D9-aRghaQBeaQAWDABmXFq0xukAdgwATk6JbhUZJoBWap4qiH9UaiJSAHkoyOj4haX4-ghdgQCRKUYHZTUNLSF1zqI1qJ0QatvSdYASLdJTxgoQxjdF6KPOY1WiMWgBAD6LiKCmkoPBwHhAVepXK1AwWQgOXysiaVyir2oFE6AF1qv4RsEoOQIbkoJCXNSoL5gTU4WCGUpZmz-HUIBCIIwiAB3HoARgADNyecQYAs4OQegAxACCGWKRmlbJgAU8PXi-zg9JkUBcACsVAFPil0pjsQUiqiKmBydJ9qzpLlwdEkVClCiytwMdk8p0mEaANYBHoTXb+AC+u3jAloRXYQnIonEUm0D2qAS9EFYKvQ7DsnUOjGOSYEYHjJKAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>library(teal)
ui &lt;- fluidPage(
  sliderInput("len", "Max Length of Sepal",
    min = 4.3, max = 7.9, value = 5
  ),
  plotOutput("plot")
)

server &lt;- function(input, output) {
  output$plot &lt;- renderPlot({
    iris_df &lt;- iris[iris$Sepal.Length &lt;= input$len, ]
    validate_has_data(
      iris_df,
      min_nrow = 10,
      complete = FALSE,
      msg = "Please adjust Max Length of Sepal"
    )

    hist(iris_df$Sepal.Length, breaks = 5)
  })
}
if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='validate_has_elements'>Validates that vector has length greater than 0</h2><span id='topic+validate_has_elements'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_has_elements(x, msg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_has_elements_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="validate_has_elements_+3A_msg">msg</code></td>
<td>
<p>message to display</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOm0z0gLzSC7AIyI-gAMuNL+gQBMoeFBwTy4rtIAzqTMVt7SjHCo7H58YACCBWEFAEIFCdJwUAQAFpn+AKz8EK0qtDbK1B1mAApQAOZwLhBuyXDUcGIAkhCoKqQuYNlK-iXSBQDKk9OkKWmWUP7SpES+RDCoLHAlSW71RLQEcMmZ+UUb5V9gAMKVYQmUzEcE8PgKxTASQSSSBezmCyWBVWkR+O2B+1S6SgkVO52IVxudzGbl8dSeLzePg+kNKYAqeE2fwBKV2ILBTIZ0MSJKkjHolloMF0cAAHqQAPKLRHLFgwAD6yRUMBgLFYlQErQEE0YfK6qnU4i0QkRYSI0sWOhASXNpERABI5Yrlaq2F1shAzCIReL2NaSeNYKgpvKTgppHYoPaPMBI-asUdvD4TYt7at-ABde4pIMh3HhuMxuMJjJeZPzVMorMQbMSbgeSxweV1KDJeW7eBkZLsZK5pv+OkAOXOSvoACs9m8hAdsf4MBqA9I63Q7E2W22OxRSN3e1c80ORypx5P3GMSzj52AtYvrqk4MFRqTSQVB8r6CJpEQlDm969T4gZyOfwvA2KYIEGUg6h7PtQxhRc3AKC5CUYTQIDec9IhAxkwIgqDd2DJtIlaJ9iOkABfVoyIEWhv3YIRyFEcQpG0K1YTqIRWEKdB2A6QERD5SiwDIjMgA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOm0z0gLzSC7AIyI-gAMuNL+gQBMoeFBwTy4rtIAzqTMVt7SjHCo7H58YACCBWEFAEIFCdJwUAQAFpn+AKz8EK0qtDbK1B1mAApQAOZwLhBuyXDUcGIAkhCoKqQuYNlK-iXSBQDKk9OkKWmWUP7SpES+RDCoLHAlSW71RLQEcMmZ+UUb5V9gAMKVYQmUzEcE8PgKxTASQSSSBezmCyWBVWkR+O2B+1S6SgkVO52IVxudzGbl8dSeLzePg+kNKYAqeE2fwBKV2ILBTIZ0MSJKkjHolloMF0cAAHqQAPKLRHLFgwAD6yRUMBgLFYlQErQEE0YfK6qnU4i0QkRYSI0sWOhASXNpERABI5Yrlaq2F1shAzCIReL2NaSeNYKgpvKTgppHYoPaPMBI-asUdvD4TYt7at-ABde4pIMh3HhuMxuMJjJeZPzVMorMQbMSbgeSxweV1KDJeW7eBkZLsZK5pv+OkAOXOSvoACs9m8hAdsf4MBqA9I63Q7E2W22OxRSN3e1c80ORypx5P3GMSzj52AtYvrqk4MFRqTSQVB8r6CJpEQlDm969T4gZyOfwvA2KYIEGUg6h7PtQxhRc3AKC5CUYTQIDec9IhAxkwIgqDd2DJtIlaJ9iOkABfVoyIEWhv3YIRyFEcQpG0K1YTqIRWEKdB2A6QERD5SiwDIjMgA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(
  id = c(1:10, 11:20, 1:10),
  strata = rep(c("A", "B"), each = 15)
)
ui &lt;- fluidPage(
  selectInput("ref1", "Select strata1 to compare",
    choices = c("A", "B", "C"), selected = "A"
  ),
  selectInput("ref2", "Select strata2 to compare",
    choices = c("A", "B", "C"), selected = "B"
  ),
  verbatimTextOutput("arm_summary")
)

server &lt;- function(input, output) {
  output$arm_summary &lt;- renderText({
    sample_1 &lt;- data$id[data$strata == input$ref1]
    sample_2 &lt;- data$id[data$strata == input$ref2]

    validate_has_elements(sample_1, "No subjects in strata1.")
    validate_has_elements(sample_2, "No subjects in strata2.")

    paste0(
      "Number of samples in: strata1=", length(sample_1),
      " comparions strata2=", length(sample_2)
    )
  })
}
if (interactive()) {
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='validate_has_variable'>Validates that dataset contains specific variable</h2><span id='topic+validate_has_variable'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_has_variable(data, varname, msg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_has_variable_+3A_data">data</code></td>
<td>
<p>(<code>data.frame</code>)</p>
</td></tr>
<tr><td><code id="validate_has_variable_+3A_varname">varname</code></td>
<td>
<p>(<code>character(1)</code>) name of variable to check for in <code>data</code></p>
</td></tr>
<tr><td><code id="validate_has_variable_+3A_msg">msg</code></td>
<td>
<p>(<code>character(1)</code>) message to display if <code>data</code> does not include <code>varname</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOkkZAXmmM4qFyh8eNLUFADmpAAWGEQqpNLeAEwADDy4rtKkAO5ECT5+7AQBUEG40kH0QWkh4VExcXkp-BDNKrQ2ytRtZgAKUGFwLhBuAM5woWIAkhCocUNubkESLKUZi2AAyuNwYtLLjLRQ9KGrwwsEkUS0BHAjeUVBHqXlYNlEz0FRvnAfYEqxjCq6TOo22YjgZjyjwgPzAGTSGSkjHolloMF0cAAHqQAPJxWakAIjFQwGAsVhVATNARjRhIjqqdTiLRCAllWKkAk6EAZDkEgAkxNJ5I6vggZhEGOx7B5IL23FodjgAH1IlARsr9odjoM7FAyqy4vz9s0FtJUOryMkAlsJuRIaRfJZ4GR5QcjqERogXmULSNyOxDaRjSwysRqNQ0GMocEqqbpABfZoJgS0JTSQPCUTiKTabkZEaRISsACC6HYbTKtKRybACYAukA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOkkZAXmmM4qFyh8eNLUFADmpAAWGEQqpNLeAEwADDy4rtKkAO5ECT5+7AQBUEG40kH0QWkh4VExcXkp-BDNKrQ2ytRtZgAKUGFwLhBuAM5woWIAkhCocUNubkESLKUZi2AAyuNwYtLLjLRQ9KGrwwsEkUS0BHAjeUVBHqXlYNlEz0FRvnAfYEqxjCq6TOo22YjgZjyjwgPzAGTSGSkjHolloMF0cAAHqQAPJxWakAIjFQwGAsVhVATNARjRhIjqqdTiLRCAllWKkAk6EAZDkEgAkxNJ5I6vggZhEGOx7B5IL23FodjgAH1IlARsr9odjoM7FAyqy4vz9s0FtJUOryMkAlsJuRIaRfJZ4GR5QcjqERogXmULSNyOxDaRjSwysRqNQ0GMocEqqbpABfZoJgS0JTSQPCUTiKTabkZEaRISsACC6HYbTKtKRybACYAukA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(
  one = rep("a", length.out = 20),
  two = rep(c("a", "b"), length.out = 20)
)
ui &lt;- fluidPage(
  selectInput(
    "var",
    "Select variable",
    choices = c("one", "two", "three", "four"),
    selected = "one"
  ),
  verbatimTextOutput("summary")
)

server &lt;- function(input, output) {
  output$summary &lt;- renderText({
    validate_has_variable(data, input$var)
    paste0("Selected treatment variables: ", paste(input$var, collapse = ", "))
  })
}
if (interactive()) {
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='validate_in'>Validates that vector includes all expected values</h2><span id='topic+validate_in'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_in(x, choices, msg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_in_+3A_x">x</code></td>
<td>
<p>Vector of values to test.</p>
</td></tr>
<tr><td><code id="validate_in_+3A_choices">choices</code></td>
<td>
<p>Vector to test against.</p>
</td></tr>
<tr><td><code id="validate_in_+3A_msg">msg</code></td>
<td>
<p>(<code>character(1)</code>) Error message to display if some elements of <code>x</code> are not elements of <code>choices</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEracxUurmAJgAUoAczjsB06QGc41OGICSEKgqpG4QHh58YJ6ofrRwnlG47hFRAMo+fqResQTxiXgpHgQAFkS0BAnSALzSBG7RcKREnlBJ0lFSjJ4VRNREjO2dtIxOQhVteB1gagDWEEQA7uExcQlRPMnhEd6+YnC2NdPeza1JRdIwKtTiqL5HAGIAggAyaSbbmyld9FDiMLo4AAPUgAeRCwVCUU8KhgMBYrA2An4EAE3kYXUsyjUGi0QkhuGkRAhIR0IBSxNIkIAJDC4QisYwKLYRPZGEJQuTth4JNxaLY-nAAPpCdj4kK03L5QkjWiealpKUJQnpJWeaS2IhVBbZYFy0gYJHc6QQRhLMXszzAWXyxVrdXVWri0iS+2EgC6KI8AF8Ud6BLQlNIxcJROIpNoySlPCUhKwnuh2OZCeiun6BGBve6gA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEracxUurmAJgAUoAczjsB06QGc41OGICSEKgqpG4QHh58YJ6ofrRwnlG47hFRAMo+fqResQTxiXgpHgQAFkS0BAnSALzSBG7RcKREnlBJ0lFSjJ4VRNREjO2dtIxOQhVteB1gagDWEEQA7uExcQlRPMnhEd6+YnC2NdPeza1JRdIwKtTiqL5HAGIAggAyaSbbmyld9FDiMLo4AAPUgAeRCwVCUU8KhgMBYrA2An4EAE3kYXUsyjUGi0QkhuGkRAhIR0IBSxNIkIAJDC4QisYwKLYRPZGEJQuTth4JNxaLY-nAAPpCdj4kK03L5QkjWiealpKUJQnpJWeaS2IhVBbZYFy0gYJHc6QQRhLMXszzAWXyxVrdXVWri0iS+2EgC6KI8AF8Ud6BLQlNIxcJROIpNoySlPCUhKwnuh2OZCeiun6BGBve6gA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>ui &lt;- fluidPage(
  selectInput(
    "species",
    "Select species",
    choices = c("setosa", "versicolor", "virginica", "unknown species"),
    selected = "setosa",
    multiple = FALSE
  ),
  verbatimTextOutput("summary")
)

server &lt;- function(input, output) {
  output$summary &lt;- renderPrint({
    validate_in(input$species, iris$Species, "Species does not exist.")
    nrow(iris[iris$Species == input$species, ])
  })
}
if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='validate_inputs'>Send input validation messages to output</h2><span id='topic+validate_inputs'></span>

<h3>Description</h3>

<p>Captures messages from <code>InputValidator</code> objects and collates them
into one message passed to <code>validate</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_inputs(..., header = "Some inputs require attention")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_inputs_+3A_...">...</code></td>
<td>
<p>either any number of <code>InputValidator</code> objects
or an optionally named, possibly nested <code>list</code> of <code>InputValidator</code>
objects, see <code>Details</code></p>
</td></tr>
<tr><td><code id="validate_inputs_+3A_header">header</code></td>
<td>
<p>(<code>character(1)</code>) generic validation message; set to NULL to omit</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>shiny::validate</code> is used to withhold rendering of an output element until
certain conditions are met and to print a validation message in place
of the output element.
<code>shinyvalidate::InputValidator</code> allows to validate input elements
and to display specific messages in their respective input widgets.
<code>validate_inputs</code> provides a hybrid solution.
Given an <code>InputValidator</code> object, messages corresponding to inputs that fail validation
are extracted and placed in one validation message that is passed to a <code>validate</code>/<code>need</code> call.
This way the input <code>validator</code> messages are repeated in the output.
</p>
<p>The <code>...</code> argument accepts any number of <code>InputValidator</code> objects
or a nested list of such objects.
If <code>validators</code> are passed directly, all their messages are printed together
under one (optional) header message specified by <code>header</code>. If a list is passed,
messages are grouped by <code>validator</code>. The list's names are used as headers
for their respective message groups.
If neither of the nested list elements is named, a header message is taken from <code>header</code>.
</p>


<h3>Value</h3>

<p>Returns NULL if the final validation call passes and a <code>shiny.silent.error</code> if it fails.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogMZwAjitpn2fMAGcAFkNYTutACZRyd-hDpMLBxOLn4BzGzsIRCu7l7kfgJWcopK1FYeAApQAOZwthDS0vZw1HBiAJIQqCqktmDwpI5EHna40nZudPGahY3NrXjSBPUllhTi3G0dhEQw9EJwg+12OYxEKqhLvjy4AkX2nnD0LAAyUKwbdftFxUcnjNkQpQW3tyVlldW19WWk5IxpnYPuVSNIoNI-gDENMRlCRPZgABGRAAZgAuu1TkZdLojFgAMrAAAsiAAbOieLsbm8QV8atdICp5iIgQ5SqDwdIIMz6CIYUMUWTqYU3tJSLl7AASJjaPai2kc+k-OzEahEQFDYFKsEQtUagXysW3EZ2ejUKAEADWbKEHloUAgZg8ACY2fZUIwhDk1nAKG6tbNGBA0kQAO4ic0qOC+I3G6QwFTUcSoMrSAC8ekMJgVtxFxvs3REVQZo1oAC8Y4G6WDUEQhGDDpXDTSxTAhBnpAAGDBI9owKAAD07xPaXWjnZ7LoArK2in43vnbgOhE8XqmiKQAPK1Ut2DekHY3PyJCAlRhSRgpZRqDRaIQM9pXBk6EA3ADExTgYM20gftWkLpPG8Xobkka8S1qAA1OJvA1KVnjDbQwIkKUoA8DwAH1GCTfI7HhTV2nsCRMKETCSjqbFcXxAkVkIZoiBKLkCDQWgJWoSFvwBI9RUkNCMOw3D6h5FlCJvdRxC0QdX1bWglGkdgoHsDAGzgPJGHYaTpAAUm06QXVODNMyRU4dFVBimMdaQ4CkQoRL5TUbgAXwXP9UIoKBzXyVzPxgDUZH-MEgJ6EgUMw1AWAg75SBg7o4MYBC4CQ1zJHClh+KwnCynqfUxOI7CLCsZ12Hgex7FyGRM3MohGJkPUiHVTUqTCiKEvQzKhNVBqNWmVQJN6TSZNzOSFLKCAciaQbpAAPmkEyzPomqmJIahWGkEgZFyuxnJSkjWoywTstbYEKyrOMDhIvlSAjChXjFMolDBTMe2ndovRyRwnukVFzuXOAyoqzClBgL7qtqrlxxkK6bsKEAHtIJzwQgDxpBAd7Pqc7bc1c3a0oSjyvOQiAbmfWopQPa8zGRkRMnVOo31zT9gu8GRScPXN7DDNiCEcdhAuAYA7H6Fo7HRTE5xmMZozIB1qDsTsGfjQDYPIUjovsPmJFc41mdVwKNdS1r2kcOB0JETs7AJb9pE9IgtivNY0GcFiONa2BvwRXwJac36ii6+ZFkGTtdbgNWGQNiR2kNlglzeVZ1k2bYwGDlXQ-19g6Hsa5czjsACTmAL1ekMxLGsOr-gmUDk8zSRfduS3rdt+3pEd1Bne4G2WHdgF7Hlmu9pYCXmuxgRWwPdglCgNjHFUagpRETZJLPaQAD9lCnppZ6lMMN+9OuLXsTs+xtnmj7JOu1U7fnBdmRrRcxYY4GHGvooFk7K3v1tXJcgRMeJwR5J82EKIcQUhtBDQOM4GIABBdA7ArBEREJePwf8wBOXREAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogMZwAjitpn2fMAGcAFkNYTutACZRyd-hDpMLBxOLn4BzGzsIRCu7l7kfgJWcopK1FYeAApQAOZwthDS0vZw1HBiAJIQqCqktmDwpI5EHna40nZudPGahY3NrXjSBPUllhTi3G0dhEQw9EJwg+12OYxEKqhLvjy4AkX2nnD0LAAyUKwbdftFxUcnjNkQpQW3tyVlldW19WWk5IxpnYPuVSNIoNI-gDENMRlCRPZgABGRAAZgAuu1TkZdLojFgAMrAAAsiAAbOieLsbm8QV8atdICp5iIgQ5SqDwdIIMz6CIYUMUWTqYU3tJSLl7AASJjaPai2kc+k-OzEahEQFDYFKsEQtUagXysW3EZ2ejUKAEADWbKEHloUAgZg8ACY2fZUIwhDk1nAKG6tbNGBA0kQAO4ic0qOC+I3G6QwFTUcSoMrSAC8ekMJgVtxFxvs3REVQZo1oAC8Y4G6WDUEQhGDDpXDTSxTAhBnpAAGDBI9owKAAD07xPaXWjnZ7LoArK2in43vnbgOhE8XqmiKQAPK1Ut2DekHY3PyJCAlRhSRgpZRqDRaIQM9pXBk6EA3ADExTgYM20gftWkLpPG8Xobkka8S1qAA1OJvA1KVnjDbQwIkKUoA8DwAH1GCTfI7HhTV2nsCRMKETCSjqbFcXxAkVkIZoiBKLkCDQWgJWoSFvwBI9RUkNCMOw3D6h5FlCJvdRxC0QdX1bWglGkdgoHsDAGzgPJGHYaTpAAUm06QXVODNMyRU4dFVBimMdaQ4CkQoRL5TUbgAXwXP9UIoKBzXyVzPxgDUZH-MEgJ6EgUMw1AWAg75SBg7o4MYBC4CQ1zJHClh+KwnCynqfUxOI7CLCsZ12Hgex7FyGRM3MohGJkPUiHVTUqTCiKEvQzKhNVBqNWmVQJN6TSZNzOSFLKCAciaQbpAAPmkEyzPomqmJIahWGkEgZFyuxnJSkjWoywTstbYEKyrOMDhIvlSAjChXjFMolDBTMe2ndovRyRwnukVFzuXOAyoqzClBgL7qtqrlxxkK6bsKEAHtIJzwQgDxpBAd7Pqc7bc1c3a0oSjyvOQiAbmfWopQPa8zGRkRMnVOo31zT9gu8GRScPXN7DDNiCEcdhAuAYA7H6Fo7HRTE5xmMZozIB1qDsTsGfjQDYPIUjovsPmJFc41mdVwKNdS1r2kcOB0JETs7AJb9pE9IgtivNY0GcFiONa2BvwRXwJac36ii6+ZFkGTtdbgNWGQNiR2kNlglzeVZ1k2bYwGDlXQ-19g6Hsa5czjsACTmAL1ekMxLGsOr-gmUDk8zSRfduS3rdt+3pEd1Bne4G2WHdgF7Hlmu9pYCXmuxgRWwPdglCgNjHFUagpRETZJLPaQAD9lCnppZ6lMMN+9OuLXsTs+xtnmj7JOu1U7fnBdmRrRcxYY4GHGvooFk7K3v1tXJcgRMeJwR5J82EKIcQUhtBDQOM4GIABBdA7ArBEREJePwf8wBOXREAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>See Also</h3>

<p><code><a href="shinyvalidate.html#topic+InputValidator">shinyvalidate::InputValidator</a></code>, <code><a href="shiny.html#topic+validate">shiny::validate</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(shiny)
library(shinyvalidate)

ui &lt;- fluidPage(
  selectInput("method", "validation method", c("sequential", "combined", "grouped")),
  sidebarLayout(
    sidebarPanel(
      selectInput("letter", "select a letter:", c(letters[1:3], LETTERS[4:6])),
      selectInput("number", "select a number:", 1:6),
      tags$br(),
      selectInput("color", "select a color:",
        c("black", "indianred2", "springgreen2", "cornflowerblue"),
        multiple = TRUE
      ),
      sliderInput("size", "select point size:",
        min = 0.1, max = 4, value = 0.25
      )
    ),
    mainPanel(plotOutput("plot"))
  )
)

server &lt;- function(input, output) {
  # set up input validation
  iv &lt;- InputValidator$new()
  iv$add_rule("letter", sv_in_set(LETTERS, "choose a capital letter"))
  iv$add_rule("number", function(x) {
    if (as.integer(x) %% 2L == 1L) "choose an even number"
  })
  iv$enable()
  # more input validation
  iv_par &lt;- InputValidator$new()
  iv_par$add_rule("color", sv_required(message = "choose a color"))
  iv_par$add_rule("color", function(x) {
    if (length(x) &gt; 1L) "choose only one color"
  })
  iv_par$add_rule(
    "size",
    sv_between(
      left = 0.5, right = 3,
      message_fmt = "choose a value between {left} and {right}"
    )
  )
  iv_par$enable()

  output$plot &lt;- renderPlot({
    # validate output
    switch(input[["method"]],
      "sequential" = {
        validate_inputs(iv)
        validate_inputs(iv_par, header = "Set proper graphical parameters")
      },
      "combined" = validate_inputs(iv, iv_par),
      "grouped" = validate_inputs(list(
        "Some inputs require attention" = iv,
        "Set proper graphical parameters" = iv_par
      ))
    )

    plot(faithful$eruptions ~ faithful$waiting,
      las = 1, pch = 16,
      col = input[["color"]], cex = input[["size"]]
    )
  })
}

if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='validate_n_levels'>Validate that variables has expected number of levels</h2><span id='topic+validate_n_levels'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_n_levels(x, min_levels = 1, max_levels = 12, var_name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_n_levels_+3A_x">x</code></td>
<td>
<p>variable name. If <code>x</code> is not a factor, the unique values
are treated as levels.</p>
</td></tr>
<tr><td><code id="validate_n_levels_+3A_min_levels">min_levels</code></td>
<td>
<p>cutoff for minimum number of levels of <code>x</code></p>
</td></tr>
<tr><td><code id="validate_n_levels_+3A_max_levels">max_levels</code></td>
<td>
<p>cutoff for maximum number of levels of <code>x</code></p>
</td></tr>
<tr><td><code id="validate_n_levels_+3A_var_name">var_name</code></td>
<td>
<p>name of variable being validated for use in
validation message</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If the number of levels of <code>x</code> is less than <code>min_levels</code>
or greater than <code>max_levels</code> the validation will fail.
This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOkkZAXmmM4qFyh8eNLUFADmpAAWGEQqpNLeAEwADDy4rtKkAO5ECT5+7AQBUEG40kH0QWkh4VExcXkpaRlRvl75-kVBJcEVpeWEVWWhEBHRsfFJqekQbkqxjHm+ncX9fb2DG2ZDNaN1E43TGQDOpIxCYccAgscAYlBiRIzHefrGAvwQKrQ2ytTfZgAClAwnAXLNpMc4KExABJCCoOLgtxuIISFilDKosAAZWhcDE0nR5yg9FCmIhbgIkSItAIcBe3i6YA8azA2SIbNacDgbPmKkYQyxkPxYjgZjyQVZYAyzQhUkY9EstBgujgAA9SAB5OKI0gBY4qGAwFisKofUwQKGMBW-VTqcRaIR6soTPU6EAZN1xAAkhuNpt+vggZhEas17E9lKJ3FodjgAH0IAnQlJqMd2HYoMBgM7fcSALoFsowIQpuBpxnSRIlqDq8uVvIARgArGViUnYO086QfcTPijpKgoKc4MlkYOBgAZCvQl5EJQimHkCVnOCWeBkGMkslwRADGaTocj8jsVNzzOWbO5hH5lhFuVHqlEajUNBQyUbYVuAco38AX0+f8BFoRd2CEchRHEKRtA9E5IiEVgrnQdhvjKa0FSAsB-wLIA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOkkZAXmmM4qFyh8eNLUFADmpAAWGEQqpNLeAEwADDy4rtKkAO5ECT5+7AQBUEG40kH0QWkh4VExcXkpaRlRvl75-kVBJcEVpeWEVWWhEBHRsfFJqekQbkqxjHm+ncX9fb2DG2ZDNaN1E43TGQDOpIxCYccAgscAYlBiRIzHefrGAvwQKrQ2ytTfZgAClAwnAXLNpMc4KExABJCCoOLgtxuIISFilDKosAAZWhcDE0nR5yg9FCmIhbgIkSItAIcBe3i6YA8azA2SIbNacDgbPmKkYQyxkPxYjgZjyQVZYAyzQhUkY9EstBgujgAA9SAB5OKI0gBY4qGAwFisKofUwQKGMBW-VTqcRaIR6soTPU6EAZN1xAAkhuNpt+vggZhEas17E9lKJ3FodjgAH0IAnQlJqMd2HYoMBgM7fcSALoFsowIQpuBpxnSRIlqDq8uVvIARgArGViUnYO086QfcTPijpKgoKc4MlkYOBgAZCvQl5EJQimHkCVnOCWeBkGMkslwRADGaTocj8jsVNzzOWbO5hH5lhFuVHqlEajUNBQyUbYVuAco38AX0+f8BFoRd2CEchRHEKRtA9E5IiEVgrnQdhvjKa0FSAsB-wLIA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(
  one = rep("a", length.out = 20),
  two = rep(c("a", "b"), length.out = 20),
  three = rep(c("a", "b", "c"), length.out = 20),
  four = rep(c("a", "b", "c", "d"), length.out = 20),
  stringsAsFactors = TRUE
)
ui &lt;- fluidPage(
  selectInput(
    "var",
    "Select variable",
    choices = c("one", "two", "three", "four"),
    selected = "one"
  ),
  verbatimTextOutput("summary")
)

server &lt;- function(input, output) {
  output$summary &lt;- renderText({
    validate_n_levels(data[[input$var]], min_levels = 2, max_levels = 15, var_name = input$var)
    paste0(
      "Levels of selected treatment variable: ",
      paste(levels(data[[input$var]]),
        collapse = ", "
      )
    )
  })
}
if (interactive()) {
  shinyApp(ui, server)
}
</code></pre>

<hr>
<h2 id='validate_no_intersection'>Validates no intersection between two vectors</h2><span id='topic+validate_no_intersection'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_no_intersection(x, y, msg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_no_intersection_+3A_x">x</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="validate_no_intersection_+3A_y">y</code></td>
<td>
<p>vector</p>
</td></tr>
<tr><td><code id="validate_no_intersection_+3A_msg">msg</code></td>
<td>
<p>(<code>character(1)</code>) message to display if <code>x</code> and <code>y</code> intersect</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOm0z0gLzSC7AIyI-gAMuNL+gQBMoeFBwTy4rtIAzqTMVt7SjHCo7H58YACCBWEFAEIl0gUAwgUJ0nBQBAAWmSH8EB0CKrQ2ytQ9ZgAKUADmcC4Qbslw1HBiAJIQqCqkLmDZSv6VBQDKs-OkKWmWUP7SpES+RDCoLHAlSW4tRLQEcMmZ+UU7YBV4VTAtTACSeKQOYjgnh8BWKYCSoKm4Lmi2Wq3Wm0iv32KKOqXSUEiFyuxFu90eSOezVe70+Pm+cNKf1+wMRbmmEPI0MB-wRiSRUkY9EstBgujgAA9SAB5VYrNYFZIqGAwFisOoCLoQGaMQV9VTqcRaITysJEOWrHQgJLm0jygAkSpVar62QgZhE4ql7GtlJSsFQcwA+ucFNI7FB7R5gBHHScMl4fCbVvbNv4ALpg5IB4NEsOx6Ox-GnbxJtGkVNwJSRTMQMESbgeSxwIMQIhBoTkRgzDRaMHTHMt-xhbO3XP89nsxUqegAK0OnwA7rRSM0hMcCecoO6N6ciQRt22jkRBdQ0AUwR1J3dUnBgpNJ24CgA5ZX0ETSIhKFIz+didwQIgWRViIFDvBc2SWPAZBeJUcwQKMq7sKOgZDmyj4FNcZKMJo2oQY0pDQaQsEAvBiHNMhg5BpEV7srRAC+HT0QItDfuwnYiE04hSNoVpJMka4QKwhToOwPQjiIgpMQIYD0emQA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIEATKKShzFFqxiXN47AdOm0z0gLzSC7AIyI-gAMuNL+gQBMoeFBwTy4rtIAzqTMVt7SjHCo7H58YACCBWEFAEIl0gUAwgUJ0nBQBAAWmSH8EB0CKrQ2ytQ9ZgAKUADmcC4Qbslw1HBiAJIQqCqkLmDZSv6VBQDKs-OkKWmWUP7SpES+RDCoLHAlSW4tRLQEcMmZ+UU7YBV4VTAtTACSeKQOYjgnh8BWKYCSoKm4Lmi2Wq3Wm0iv32KKOqXSUEiFyuxFu90eSOezVe70+Pm+cNKf1+wMRbmmEPI0MB-wRiSRUkY9EstBgujgAA9SAB5VYrNYFZIqGAwFisOoCLoQGaMQV9VTqcRaITysJEOWrHQgJLm0jygAkSpVar62QgZhE4ql7GtlJSsFQcwA+ucFNI7FB7R5gBHHScMl4fCbVvbNv4ALpg5IB4NEsOx6Ox-GnbxJtGkVNwJSRTMQMESbgeSxwIMQIhBoTkRgzDRaMHTHMt-xhbO3XP89nsxUqegAK0OnwA7rRSM0hMcCecoO6N6ciQRt22jkRBdQ0AUwR1J3dUnBgpNJ24CgA5ZX0ETSIhKFIz+didwQIgWRViIFDvBc2SWPAZBeJUcwQKMq7sKOgZDmyj4FNcZKMJo2oQY0pDQaQsEAvBiHNMhg5BpEV7srRAC+HT0QItDfuwnYiE04hSNoVpJMka4QKwhToOwPQjiIgpMQIYD0emQA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>data &lt;- data.frame(
  id = c(1:10, 11:20, 1:10),
  strata = rep(c("A", "B", "C"), each = 10)
)

ui &lt;- fluidPage(
  selectInput("ref1", "Select strata1 to compare",
    choices = c("A", "B", "C"),
    selected = "A"
  ),
  selectInput("ref2", "Select strata2 to compare",
    choices = c("A", "B", "C"),
    selected = "B"
  ),
  verbatimTextOutput("summary")
)

server &lt;- function(input, output) {
  output$summary &lt;- renderText({
    sample_1 &lt;- data$id[data$strata == input$ref1]
    sample_2 &lt;- data$id[data$strata == input$ref2]

    validate_no_intersection(
      sample_1, sample_2,
      "subjects within strata1 and strata2 cannot overlap"
    )
    paste0(
      "Number of subject in: reference treatment=", length(sample_1),
      " comparions treatment=", length(sample_2)
    )
  })
}
if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>

<hr>
<h2 id='validate_one_row_per_id'>Validate that dataset has unique rows for key variables</h2><span id='topic+validate_one_row_per_id'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#stable"><img src="../help/figures/lifecycle-stable.svg" alt='[Stable]' /></a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_one_row_per_id(x, key = c("USUBJID", "STUDYID"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_one_row_per_id_+3A_x">x</code></td>
<td>
<p>(<code>data.frame</code>)</p>
</td></tr>
<tr><td><code id="validate_one_row_per_id_+3A_key">key</code></td>
<td>
<p>(<code>character</code>) Vector of ID variables from <code>x</code> that identify unique records.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper for <code>shiny::validate</code>.
</p>


<h3>Examples in Shinylive</h3>


<dl>
<dt>example-1</dt><dd>
<p><a href="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIG1GtAM4ASWgBM5ixnFTsAjIgCsABlzTx8JbSALzSAMz8ECq0jsrU0XYAClAA5nDsAtLSlnDUcGIAkhCoKqQZEFlZQiWkBQ6hfGCWqPm0cJaNuJmV1FD0uSHSjQDKufmk2S0EbR143VkEABZEtATtgwQZTXCkRJZQnUNgUoyWq0TURIyHjRLmKUKrB2A8XRWVOXlicPVHObv7TrzaQwFTUcSoPKDfTGbqvbqQoikADypRqW0RpEakUiOUYJ1iqnU4i01VKfiIaNKOhA3UppBq1kxsWcEDsIkSlzKtPeVQslgA+kpYuYrMBRTZhlMZtIAKRCWXSMmkazNVrtPwAXWBEm49ig5AFJDgAsYRAA7gKWowBfZ2BKhX4ANZwVgbLb2bGRYGLKxlB1KayjVDcDAAGQoKVIiz8TDgUCdQVCnkiWQAvpE02ZhfbhKJxFJtDTupZfRBWABBdDsaJ+PEnTMCMBpzVAA">Open in Shinylive</a>
<iframe class="iframe_shinylive" src="https://shinylive.io/r/app/#code=NobwRAdghgtgpmAXGKAHVA6ASmANGAYwHsIAXOMpMAGwEsAjAJykYE8AKcqagSgB0ItMnGYFStAG5wABAB4AtNIBmAVwhjaJdj2kAVLAFUAogIG1GtAM4ASWgBM5ixnFTsAjIgCsABlzTx8JbSALzSAMz8ECq0jsrU0XYAClAA5nDsAtLSlnDUcGIAkhCoKqQZEFlZQiWkBQ6hfGCWqPm0cJaNuJmV1FD0uSHSjQDKufmk2S0EbR143VkEABZEtATtgwQZTXCkRJZQnUNgUoyWq0TURIyHjRLmKUKrB2A8XRWVOXlicPVHObv7TrzaQwFTUcSoPKDfTGbqvbqQoikADypRqW0RpEakUiOUYJ1iqnU4i01VKfiIaNKOhA3UppBq1kxsWcEDsIkSlzKtPeVQslgA+kpYuYrMBRTZhlMZtIAKRCWXSMmkazNVrtPwAXWBEm49ig5AFJDgAsYRAA7gKWowBfZ2BKhX4ANZwVgbLb2bGRYGLKxlB1KayjVDcDAAGQoKVIiz8TDgUCdQVCnkiWQAvpE02ZhfbhKJxFJtDTupZfRBWABBdDsaJ+PEnTMCMBpzVAA" style="height: 800px; width: 100vw; max-width: 1400px; border: 1px solid rgba(0,0,0,0.175); border-radius: .375rem; position: absolute; left: 50%; margin-top: 30px; transform: translateX(-50%); z-index: 1"></iframe>
<a style='height: 800px; display: block;'></a>
</p>
</dd>
</dl>



<h3>Examples</h3>

<pre><code class='language-R'>iris$id &lt;- rep(1:50, times = 3)
ui &lt;- fluidPage(
  selectInput(
    inputId = "species",
    label = "Select species",
    choices = c("setosa", "versicolor", "virginica"),
    selected = "setosa",
    multiple = TRUE
  ),
  plotOutput("plot")
)
server &lt;- function(input, output) {
  output$plot &lt;- renderPlot({
    iris_f &lt;- iris[iris$Species %in% input$species, ]
    validate_one_row_per_id(iris_f, key = c("id"))

    hist(iris_f$Sepal.Length, breaks = 5)
  })
}
if (interactive()) {
  shinyApp(ui, server)
}

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

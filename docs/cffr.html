<!DOCTYPE html><html lang="en"><head><title>Help for package cffr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cffr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cffr-package'><p>cffr: Generate Citation File Format ('cff') Metadata for R Packages</p></a></li>
<li><a href='#as_bibentry'><p>Create <code>bibentry</code> objects from several sources</p></a></li>
<li><a href='#as_cff'><p>Coerce lists, <code>person</code> and <code>bibentry</code> objects to <code>cff</code></p></a></li>
<li><a href='#as_cff_person'><p>Coerce <strong>R</strong> objects to <code>cff_pers_lst</code> objects (<code>cff</code> persons)</p></a></li>
<li><a href='#cff'><p>Create <code>cff</code> objects from direct inputs</p></a></li>
<li><a href='#cff_class'><p>The <code>cff</code> class</p></a></li>
<li><a href='#cff_create'><p>Create a <code>cff</code> object from several sources</p></a></li>
<li><a href='#cff_extract_to_bibtex'><p>Previous API: Create BibTeX entries from several sources</p></a></li>
<li><a href='#cff_from_bibtex'><p>Previous API: Create a <code>cff</code> object from BibTeX entries</p></a></li>
<li><a href='#cff_gha_update'><p>Install a <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> GitHub Action</p></a></li>
<li><a href='#cff_git_hook'><p>Use a git pre-commit hook <a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a></p></a></li>
<li><a href='#cff_modify'><p>Modify a <code>cff</code> object</p></a></li>
<li><a href='#cff_parse_citation'><p>Previous API: Parse a <code>bibentry</code> to <code>cff</code></p></a></li>
<li><a href='#cff_parse_person'><p>Previous API: Parse a <code>person</code> to <code>cff</code></p></a></li>
<li><a href='#cff_read'><p>Read an external file as a <code>cff</code> object</p></a></li>
<li><a href='#cff_read_bib_text'><p>Read BibTeX markup as a <code>cff_ref_lst</code> object</p></a></li>
<li><a href='#cff_schema'><p>Schema utils</p></a></li>
<li><a href='#cff_validate'><p>Validate a <code>CITATION.cff</code> file or a <code>cff</code> object</p></a></li>
<li><a href='#cff_write'><p>Write a <code>CITATION.cff</code> file</p></a></li>
<li><a href='#cff_write_bib'><p>Export <strong>R</strong> objects to different file types</p></a></li>
<li><a href='#cran_to_spdx'><p>Mapping between <code>License</code> fields and SPDX</p></a></li>
<li><a href='#encoded_utf_to_latex'><p>Encode UTF-8 text to LaTeX</p></a></li>
<li><a href='#write_bib'><p>Previous API: Write files</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Generate Citation File Format ('cff') Metadata for R Packages</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The Citation File Format version 1.2.0
    &lt;<a href="https://doi.org/10.5281%2Fzenodo.5171937">doi:10.5281/zenodo.5171937</a>&gt; is a human and machine readable file
    format which provides citation metadata for software. This package
    provides core utilities to generate and validate this metadata.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://docs.ropensci.org/cffr/">https://docs.ropensci.org/cffr/</a>, <a href="https://github.com/ropensci/cffr">https://github.com/ropensci/cffr</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/cffr/issues">https://github.com/ropensci/cffr/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli (&ge; 2.0.0), desc (&ge; 1.3.0), jsonlite (&ge; 1.7.2),
jsonvalidate (&ge; 1.1.0), yaml (&ge; 2.2.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>bibtex (&ge; 0.5.0), knitr, lifecycle, rmarkdown, testthat (&ge;
3.0.0), usethis</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>devtools</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>X-schema.org-isPartOf:</td>
<td>https://ropensci.org</td>
</tr>
<tr>
<td>X-schema.org-keywords:</td>
<td>attribution, citation, credit, citation-files,
cff, metadata, citation-file-format, cran, r, r-package,
ropensci, rstats, r-cran</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-25 12:53:42 UTC; diego</td>
</tr>
<tr>
<td>Author:</td>
<td>Diego Hernangómez <a href="https://orcid.org/0000-0001-8457-4658"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  João Martins <a href="https://orcid.org/0000-0001-7961-4280"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev],
  Scott Chamberlain <a href="https://orcid.org/0000-0003-1444-9135"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [rev]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Diego Hernangómez &lt;diego.hernangomezherrero@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-25 13:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='cffr-package'>cffr: Generate Citation File Format ('cff') Metadata for R Packages</h2><span id='topic+cffr'></span><span id='topic+cffr-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>The Citation File Format version 1.2.0 <a href="https://doi.org/10.5281/zenodo.5171937">doi:10.5281/zenodo.5171937</a> is a human and machine readable file format which provides citation metadata for software. This package provides core utilities to generate and validate this metadata.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Diego Hernangómez <a href="mailto:diego.hernangomezherrero@gmail.com">diego.hernangomezherrero@gmail.com</a> (<a href="https://orcid.org/0000-0001-8457-4658">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> João Martins (<a href="https://orcid.org/0000-0001-7961-4280">ORCID</a>) [reviewer]
</p>
</li>
<li><p> Scott Chamberlain (<a href="https://orcid.org/0000-0003-1444-9135">ORCID</a>) [reviewer]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://docs.ropensci.org/cffr/">https://docs.ropensci.org/cffr/</a>
</p>
</li>
<li> <p><a href="https://github.com/ropensci/cffr">https://github.com/ropensci/cffr</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ropensci/cffr/issues">https://github.com/ropensci/cffr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_bibentry'>Create <code><a href="utils.html#topic+bibentry">bibentry</a></code> objects from several sources</h2><span id='topic+as_bibentry'></span><span id='topic+as_bibentry.default'></span><span id='topic+as_bibentry.character'></span><span id='topic+as_bibentry.NULL'></span><span id='topic+as_bibentry.list'></span><span id='topic+as_bibentry.cff'></span><span id='topic+as_bibentry.cff_ref_lst'></span><span id='topic+as_bibentry.cff_ref'></span>

<h3>Description</h3>

<p>This function creates <code><a href="utils.html#topic+bibentry">bibentry</a></code> objects from different metadata sources
(<code><a href="#topic+cff">cff</a></code> objects, <code>DESCRIPTION</code> files, etc.). The inverse transformation
(<code>bibentry</code> object to <code><a href="#topic+cff_ref_lst">cff_ref_lst</a></code>) can be done with the corresponding
<code><a href="#topic+as_cff.bibentry">as_cff.bibentry()</a></code> method.
</p>
<p>With <code><a href="#topic+toBibtex.cff">toBibtex()</a></code> it is possible to convert <code>cff</code> objects
to BibTeX markup on the fly, see <strong>Examples</strong>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_bibentry(x, ...)

## Default S3 method:
as_bibentry(x, ...)

## S3 method for class 'character'
as_bibentry(x, ..., what = c("preferred", "references", "all"))

## S3 method for class ''NULL''
as_bibentry(x, ...)

## S3 method for class 'list'
as_bibentry(x, ...)

## S3 method for class 'cff'
as_bibentry(x, ..., what = c("preferred", "references", "all"))

## S3 method for class 'cff_ref_lst'
as_bibentry(x, ...)

## S3 method for class 'cff_ref'
as_bibentry(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_bibentry_+3A_x">x</code></td>
<td>
<p>The source that would be used for generating
the <code>bibentry</code> object via <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>. It could be:
</p>

<ul>
<li><p> A missing value. That would retrieve the <code>DESCRIPTION</code>
file on your in-development package.
</p>
</li>
<li><p> An existing <code>cff</code> object created with <code><a href="#topic+cff">cff()</a></code>, <code><a href="#topic+cff_create">cff_create()</a></code> or
<code><a href="#topic+as_cff">as_cff()</a></code>.
</p>
</li>
<li><p> Path to a CITATION.cff file (<code>"CITATION.cff"</code>),
</p>
</li>
<li><p> The name of an installed package (<code>"jsonlite"</code>), or
</p>
</li>
<li><p> Path to a DESCRIPTION file (<code>"DESCRIPTION"</code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="as_bibentry_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to or from methods.</p>
</td></tr>
<tr><td><code id="as_bibentry_+3A_what">what</code></td>
<td>
<p>Fields to extract from a full <code>cff</code> object. The value could be:
</p>

<ul>
<li> <p><code>preferred</code>: This would create a single entry with the main citation
info of the package (key <code>preferred-citation</code>).
</p>
</li>
<li> <p><code>references</code>: Extract all the entries of <code>references</code> key.
</p>
</li>
<li> <p><code>all</code>: A combination of the previous two options. This would extract
both the <code>preferred-citation</code> and the <code>references</code> key.
</p>
</li></ul>

<p>See <code>vignette("crosswalk", package = "cffr")</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A <strong>R</strong> <code>bibentry</code> object is the representation of a BibTeX entry. These
objects can be converted to BibTeX markup with <code><a href="utils.html#topic+toBibtex">toBibtex()</a></code>, that creates an
object of class <code>Bibtex</code> and can be printed and exported as a valid BibTeX
entry.
</p>
<p><code>as_bibtex()</code> tries to map the information of the source <code>x</code> into a <code style="white-space: pre;">&#8288;cff] object and performs a mapping of the metadata to BibTeX, according to &#8288;</code>vignette(&quot;bibtex_cff&quot;, &quot;cffr&quot;)'.
</p>


<h3>Value</h3>

<p><code>as_bibentry()</code> returns a <code>bibentry</code> object with one or more entries.
</p>


<h3>References</h3>


<ul>
<li><p> Patashnik, Oren. &quot;BIBTEXTING&quot; February 1988.
<a href="https://osl.ugr.es/CTAN/biblio/bibtex/base/btxdoc.pdf">https://osl.ugr.es/CTAN/biblio/bibtex/base/btxdoc.pdf</a>.
</p>
</li>
<li><p> Haines, R., &amp; The Ruby Citation File Format Developers. (2021).
<em>Ruby CFF Library (Version 0.9.0)</em> (Computer software).
<a href="https://doi.org/10.5281/zenodo.1184077">doi:10.5281/zenodo.1184077</a>.
</p>
</li>
<li><p> Hernangomez D (2022). &quot;BibTeX and CFF, a potential crosswalk.&quot;
<em>The cffr package, Vignettes</em>. <a href="https://doi.org/10.21105/joss.03900">doi:10.21105/joss.03900</a>,
<a href="https://docs.ropensci.org/cffr/articles/bibtex_cff.html">https://docs.ropensci.org/cffr/articles/bibtex_cff.html</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="utils.html#topic+bibentry">utils::bibentry()</a></code> to understand more about the <code>bibentry</code> class.
</p>

<ul>
<li> <p><code>vignette("crosswalk", package = "cffr")</code> provides details on how the
metadata of a package is mapped to produce a <code>cff</code> object.
</p>
</li>
<li> <p><code>vignette("bibtex_cff", "cffr")</code> provides detailed information about the
internal mapping performed between <code>cff</code> objects and BibTeX markup (
both <code>cff</code> to BibTeX and BibTeX to <code>cff</code>).
</p>
</li></ul>

<p>Other related functions:
</p>

<ul>
<li> <p><code><a href="utils.html#topic+toLatex">utils::toBibtex()</a></code>.
</p>
</li></ul>

<p>Other functions for working with BibTeX format:
<code><a href="#topic+cff_read">cff_read</a>()</code>,
<code><a href="#topic+cff_read_bib_text">cff_read_bib_text</a>()</code>,
<code><a href="#topic+cff_write_bib">cff_write_bib</a>()</code>,
<code><a href="#topic+encoded_utf_to_latex">encoded_utf_to_latex</a>()</code>
</p>
<p>Coercing between <strong>R</strong> classes with <strong>S3 Methods</strong>:
<code><a href="#topic+as_cff">as_cff</a>()</code>,
<code><a href="#topic+as_cff_person">as_cff_person</a>()</code>,
<code><a href="#topic+cff_class">cff_class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# From a cff object ----
cff_object &lt;- cff()

cff_object

# bibentry object
bib &lt;- as_bibentry(cff_object)

class(bib)

bib

# Print as bibtex
toBibtex(bib)

# Thanks to the S3 Method we can also do
toBibtex(cff_object)

# Other sources ----
# From a CITATION.cff

path &lt;- system.file("examples/CITATION_complete.cff", package = "cffr")
cff_file &lt;- as_bibentry(path)

cff_file

# For an installed package with options
installed_package &lt;- as_bibentry("jsonvalidate", what = "all")

installed_package


# Use a DESCRIPTION file
path2 &lt;- system.file("examples/DESCRIPTION_gitlab", package = "cffr")
desc_file &lt;- as_bibentry(path2)

toBibtex(desc_file)


</code></pre>

<hr>
<h2 id='as_cff'>Coerce lists, <code>person</code> and <code>bibentry</code> objects to <code><a href="#topic+cff">cff</a></code></h2><span id='topic+as_cff'></span><span id='topic+as_cff.default'></span><span id='topic+as_cff.list'></span><span id='topic+as_cff.person'></span><span id='topic+as_cff.bibentry'></span><span id='topic+as_cff.Bibtex'></span><span id='topic+as.cff'></span>

<h3>Description</h3>

<p><code>as_cff()</code> turns an existing list-like <strong>R</strong> object into a so-called
<code><a href="#topic+cff">cff</a></code>, a list with class <code>cff</code>, with the corresponding
<a href="#topic+cff_class">sub-class</a> if applicable, .
</p>
<p><code>as_cff</code> is an S3 generic, with methods for:
</p>

<ul>
<li> <p><code>person</code> objects as produced by <code><a href="utils.html#topic+person">utils::person()</a></code>.
</p>
</li>
<li> <p><code>bibentry</code> objects as produced by <code><a href="utils.html#topic+bibentry">utils::bibentry()</a></code>.
</p>
</li>
<li> <p><code>Bibtex</code> object as produced by <code><a href="utils.html#topic+toBibtex">toBibtex()</a></code>.
</p>
</li>
<li><p> Default: Other inputs are first coerced with <code><a href="base.html#topic+as.list">as.list()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>as_cff(x, ...)

## Default S3 method:
as_cff(x, ...)

## S3 method for class 'list'
as_cff(x, ...)

## S3 method for class 'person'
as_cff(x, ...)

## S3 method for class 'bibentry'
as_cff(x, ...)

## S3 method for class 'Bibtex'
as_cff(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_cff_+3A_x">x</code></td>
<td>
<p>A <code>person</code>, <code>bibentry</code> or other object that could be coerced to a
list.</p>
</td></tr>
<tr><td><code id="as_cff_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed on to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For <code>as_cff.bibentry()</code> / <code>as_cff.Bibtex()</code> see
<code>vignette("bibtex_cff", "cffr")</code> to understand how the mapping is performed.
</p>
<p><code><a href="#topic+as_cff_person">as_cff_person()</a></code> is preferred over <code>as_cff.person()</code>, since it can handle
<code>character</code> person such as <code>"Davis, Jr., Sammy"</code>. For <code>person</code> objects both
functions are similar.
</p>


<h3>Value</h3>


<ul>
<li> <p><code>as_cff.person()</code> returns an object with classes
<code><a href="#topic+cff_pers_lst">cff_pers_lst, cff</a></code>.
</p>
</li>
<li> <p><code>as_cff.bibentry()</code> and <code>as_cff.Bibtex()</code> returns an object with classes
<code><a href="#topic+cff_ref_lst">cff_ref_lst, cff</a></code>.
</p>
</li></ul>


<ul>
<li><p> The rest of methods returns usually an object of class <code>cff</code>. However if
<code>x</code> have an structure compatible with <code>definitions.person</code>,
<code>definitions.entity</code> or <code>definitions.reference</code> the object would have the
corresponding subclass.
</p>
</li></ul>

<p>Learn more about the <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> class system in <a href="#topic+cff_class">cff_class</a>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+cff">cff()</a></code>: Create a full <code>cff</code> object from scratch.
</p>
</li>
<li> <p><code><a href="#topic+cff_modify">cff_modify()</a></code>: Modify a <code>cff</code> object.
</p>
</li>
<li> <p><code><a href="#topic+cff_create">cff_create()</a></code>: Create a <code>cff</code> object of a <strong>R</strong> package.
</p>
</li>
<li> <p><code><a href="#topic+cff_read">cff_read()</a></code>: Create a <code>cff</code> object from a external file.
</p>
</li>
<li> <p><code><a href="#topic+as_cff_person">as_cff_person()</a></code>: Recommended way for creating persons in CFF format.
</p>
</li></ul>

<p>Learn more about the <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> class system in <a href="#topic+cff_class">cff_class</a>.
</p>
<p>Coercing between <strong>R</strong> classes with <strong>S3 Methods</strong>:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+as_cff_person">as_cff_person</a>()</code>,
<code><a href="#topic+cff_class">cff_class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Convert a list to "cff" object
cffobj &lt;- as_cff(list(
  "cff-version" = "1.2.0",
  title = "Manipulating files"
))

class(cffobj)

# Nice display thanks to yaml package
cffobj

# bibentry method
a_cit &lt;- citation("cffr")[[1]]

a_cit

as_cff(a_cit)

# Bibtex method
a_bib &lt;- toBibtex(a_cit)

a_bib

as_cff(a_cit)

</code></pre>

<hr>
<h2 id='as_cff_person'>Coerce <strong>R</strong> objects to <code><a href="#topic+cff_pers_lst">cff_pers_lst</a></code> objects (<code>cff</code> persons)</h2><span id='topic+as_cff_person'></span><span id='topic+as_cff_person.default'></span><span id='topic+as_cff_person.person'></span><span id='topic+as_cff_person.character'></span>

<h3>Description</h3>

<p><code>as_cff_person()</code> turns an existing list-like <strong>R</strong> object into a
<code><a href="#topic+cff_pers_lst">cff_pers_lst</a></code> object representing a list of <code>definitions.person</code> or
<code>definitions.entity</code>, as defined by the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Citation File Format schema</a>.
</p>
<p><code>as_cff_person</code> is an S3 generic, with methods for:
</p>

<ul>
<li> <p><code>person</code>: objects created with <code><a href="utils.html#topic+person">person()</a></code>.
</p>
</li>
<li> <p><code>character</code>: String with the definition of an author or several authors,
using the standard BibTeX notation (see Markey, 2007) and others, like
the output of <code><a href="base.html#topic+format">format()</a></code> for person (see <code><a href="utils.html#topic+person">format.person()</a></code>).
</p>
</li>
<li><p> Default: Other inputs are first coerced with <code><a href="base.html#topic+as.character">as.character()</a></code>.
</p>
</li></ul>

<p>The inverse transformation (<code>cff_pers_lst</code> to <code>person</code>) can be done with
the methods <code><a href="#topic+as.person.cff_pers">as.person.cff_pers()</a></code> and <code><a href="#topic+as.person.cff_pers_lst">as.person.cff_pers_lst()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as_cff_person(x, ...)

## Default S3 method:
as_cff_person(x, ...)

## S3 method for class 'person'
as_cff_person(x, ...)

## S3 method for class 'character'
as_cff_person(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as_cff_person_+3A_x">x</code></td>
<td>
<p>Any <strong>R</strong> object.</p>
</td></tr>
<tr><td><code id="as_cff_person_+3A_...">...</code></td>
<td>
<p>Ignored by this method.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>as_cff_person()</code> would recognize if the input should be converted using the
CFF reference for <code>definition.person</code> or <code>definition.entity</code>.
</p>
<p><code>as_cff_person()</code> uses a custom algorithm that tries to break a name as
explained in Section 11 of &quot;Tame the BeaST&quot; (Markey, 2007) (see also
Decoret, 2007):
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;First von Last&#8288;</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;von Last, First&#8288;</code>.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;von Last, Jr, First&#8288;</code>.
</p>
</li></ul>

<p>Mapping is performed as follows:
</p>

<ul>
<li> <p><code>First</code> is mapped to the CFF field <code>given-names</code>.
</p>
</li>
<li> <p><code>von</code> is mapped to the CFF field <code>name-particle</code>.
</p>
</li>
<li> <p><code>Last</code> is mapped to the CFF field <code>family-names</code>.
</p>
</li>
<li> <p><code>Jr</code> is mapped to the CFF field <code>name-suffix</code>.
</p>
</li></ul>

<p>In the case of entities, the whole <code>character</code> would be mapped to <code>name</code>.
It is a good practice to &quot;protect&quot; entity's names with <code>{}</code>:
</p>
<div class="sourceCode r"><pre># Don't do
entity &lt;- "Elephant and Castle"
as_cff_person(entity)
- name: Elephant
- name: Castle

# Do
entity_protect &lt;- "{Elephant and Castle}"
as_cff_person(entity_protect)
- name: Elephant and Castle
</pre></div>
<p><code>as_cff_person()</code> would try to add as many information as possible.
On <code>character</code> string coming from <code><a href="utils.html#topic+person">format.person()</a></code> the
email and the ORCID would be retrieved as well.
</p>


<h3>Value</h3>

<p><code>as_cff_person()</code> returns an object of classes
<code><a href="#topic+cff_pers_lst">cff_pers_lst, cff</a></code> according to the <code>definitions.person</code>
or <code>definitions.entity</code> specified in the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Citation File Format schema</a>.
Each element of the <code>cff_pers_lst</code> object would have classes
<code><a href="#topic+cff_pers">cff_pers, cff</a></code>.
</p>


<h3>References</h3>


<ul>
<li><p> Patashnik, Oren. &quot;BIBTEXTING&quot; February 1988.
<a href="https://osl.ugr.es/CTAN/biblio/bibtex/base/btxdoc.pdf">https://osl.ugr.es/CTAN/biblio/bibtex/base/btxdoc.pdf</a>.
</p>
</li>
<li><p> Markey, Nicolas. &quot;Tame the BeaST&quot;
<em>The B to X of BibTeX, Version 1.4</em> (October 2007).
<a href="https://osl.ugr.es/CTAN/info/bibtex/tamethebeast/ttb_en.pdf">https://osl.ugr.es/CTAN/info/bibtex/tamethebeast/ttb_en.pdf</a>.
</p>
</li>
<li><p> Decoret X (2007). &quot;A summary of BibTex.&quot;<a href="https://maverick.inria.fr/~Xavier.Decoret/resources/xdkbibtex/bibtex_summary.html#names">https://maverick.inria.fr/~Xavier.Decoret/resources/xdkbibtex/bibtex_summary.html#names</a>
</p>
</li></ul>

<p>See <strong>Examples</strong> for more information.
</p>


<h3>See Also</h3>

<p>Examples in <code>vignette("cffr", "cffr")</code> and <code><a href="utils.html#topic+person">utils::person()</a></code>.
</p>
<p>Learn more about the classes <code style="white-space: pre;">&#8288;cff_pers_lst, cff_pers&#8288;</code> classes in <a href="#topic+cff_class">cff_class</a>.
</p>
<p>Coercing between <strong>R</strong> classes with <strong>S3 Methods</strong>:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+as_cff">as_cff</a>()</code>,
<code><a href="#topic+cff_class">cff_class</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a person object
a_person &lt;- person(
  given = "First", family = "Author",
  role = c("aut", "cre"),
  email = "first.last@example.com", comment = c(
    ORCID = "0000-0001-8457-4658",
    affiliation = "An affiliation"
  )
)

a_person

cff_person &lt;- as_cff_person(a_person)

# Class cff_pers_lst / cff
class(cff_person)

# With each element with class cff_pers / cff
class(cff_person[[1]])

# Print
cff_person

# Back to person object with S3 Method
as.person(cff_person)

# Coerce a string
a_str &lt;- paste0(
  "Julio Iglesias &lt;fake@email.com&gt; ",
  "(&lt;https://orcid.org/0000-0001-8457-4658&gt;)"
)
as_cff_person(a_str)

# Several persons
persons &lt;- c(
  person("Clark", "Kent", comment = c(affiliation = "Daily Planet")),
  person("Lois", "Lane"), person("Oscorp Inc.")
)

a_cff &lt;- as_cff_person(persons)

a_cff

# Printed as Bibtex thanks to the method
toBibtex(a_cff)

# Or as person object
as.person(a_cff)


# Or you can use BibTeX style as input if you prefer

x &lt;- "Frank Sinatra and Dean Martin and Davis, Jr., Sammy and Joey Bishop"

as_cff_person(x)

as_cff_person("Herbert von Karajan")

toBibtex(as_cff_person("Herbert von Karajan"))
</code></pre>

<hr>
<h2 id='cff'>Create <code><a href="#topic+cff">cff</a></code> objects from direct inputs</h2><span id='topic+cff'></span>

<h3>Description</h3>

<p>A class and utility methods for reading, creating and holding CFF
information. See <a href="#topic+cff_class">cff_class</a> to learn more about <code>cff</code> objects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff(path, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_+3A_path">path</code></td>
<td>
<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> <code>path</code> is no longer supported,
use <code><a href="#topic+cff_read_cff_citation">cff_read_cff_citation()</a></code> instead.</p>
</td></tr>
<tr><td><code id="cff_+3A_...">...</code></td>
<td>
<p>Named arguments to be used for creating a <code>cff</code> object. If no
arguments are supplied (the default behavior), a minimal valid <code>cff</code>
object is created.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cff()</code> would convert <code style="white-space: pre;">&#8288;_&#8288;</code> in the name of the argument to <code>-</code>, e.g.
<code style="white-space: pre;">&#8288;cff_version = "1.2.0'&#8288;</code> would be converted to <code style="white-space: pre;">&#8288;cff-version = "1.2.0'&#8288;</code>.
</p>
<p>Valid parameters are those specified on <code><a href="#topic+cff_schema_keys">cff_schema_keys()</a></code>:
</p>

<ul>
<li> <p><code>cff-version</code>
</p>
</li>
<li> <p><code>message</code>
</p>
</li>
<li> <p><code>type</code>
</p>
</li>
<li> <p><code>license</code>
</p>
</li>
<li> <p><code>title</code>
</p>
</li>
<li> <p><code>version</code>
</p>
</li>
<li> <p><code>doi</code>
</p>
</li>
<li> <p><code>identifiers</code>
</p>
</li>
<li> <p><code>abstract</code>
</p>
</li>
<li> <p><code>authors</code>
</p>
</li>
<li> <p><code>preferred-citation</code>
</p>
</li>
<li> <p><code>repository</code>
</p>
</li>
<li> <p><code>repository-artifact</code>
</p>
</li>
<li> <p><code>repository-code</code>
</p>
</li>
<li> <p><code>commit</code>
</p>
</li>
<li> <p><code>url</code>
</p>
</li>
<li> <p><code>date-released</code>
</p>
</li>
<li> <p><code>contact</code>
</p>
</li>
<li> <p><code>keywords</code>
</p>
</li>
<li> <p><code>references</code>
</p>
</li>
<li> <p><code>license-url</code>
</p>
</li></ul>



<h3>Value</h3>

<p>A <code><a href="#topic+cff">cff</a></code> object. Under the hood, a <code>cff</code> object is a regular <code><a href="base.html#topic+list">list</a></code>
object with a special <code><a href="#topic+print.cff">print</a></code> method.
</p>


<h3>See Also</h3>

<p>Other core functions of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code><a href="#topic+cff_create">cff_create</a>()</code>,
<code><a href="#topic+cff_modify">cff_modify</a>()</code>,
<code><a href="#topic+cff_validate">cff_validate</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Blank cff
cff()

# Use custom params
test &lt;- cff(
  title = "Manipulating files",
  keywords = c("A", "new", "list", "of", "keywords"),
  authors = as_cff_person("New author")
)
test

# Would fail
cff_validate(test)


# Modify with cff_create
new &lt;- cff_create(test, keys = list(
  "cff_version" = "1.2.0",
  message = "A blank file"
))
new

# Would pass
cff_validate(new)

</code></pre>

<hr>
<h2 id='cff_class'>The <code>cff</code> class</h2><span id='topic+cff_class'></span><span id='topic+cff_ref'></span><span id='topic+cff_ref_lst'></span><span id='topic+cff_pers'></span><span id='topic+cff_pers_lst'></span><span id='topic+print.cff'></span><span id='topic+c.cff'></span><span id='topic++5B.cff_ref_lst'></span><span id='topic++5B.cff_pers_lst'></span><span id='topic+as.data.frame.cff'></span><span id='topic+as.data.frame.cff_pers_lst'></span><span id='topic+as.data.frame.cff_pers'></span><span id='topic+as.data.frame.cff_ref_lst'></span><span id='topic+as.data.frame.cff_ref'></span><span id='topic+head.cff'></span><span id='topic+tail.cff'></span><span id='topic+as.list.cff'></span><span id='topic+toBibtex.cff'></span><span id='topic+toBibtex.cff_ref_lst'></span><span id='topic+toBibtex.cff_ref'></span><span id='topic+toBibtex.cff_pers_lst'></span><span id='topic+toBibtex.cff_pers'></span><span id='topic+as.person.cff_pers'></span><span id='topic+as.person.cff_pers_lst'></span><span id='topic+as.person.cff'></span><span id='topic+as.person.cff_ref'></span><span id='topic+as.person.cff_ref_lst'></span>

<h3>Description</h3>



<h4>The <code>cff</code> class</h4>

<p><a href="https://cran.r-project.org/package=cffr"><strong>cffr</strong></a> implements a S3 object with
<code><a href="base.html#topic+class">class</a></code> <code>cff</code>, that it is used to represent the information of a
<code>CITATION.cff</code> file in <strong>R</strong>.
</p>
<p>Under the hood, a <code>cff</code> object is simply a named <code><a href="base.html#topic+list">list</a></code> to which we added
additional methods, most notably <code><a href="base.html#topic+print">print</a></code> and <code><a href="#topic+as_cff">as_cff()</a></code>.
</p>
<div class="sourceCode r"><pre>a_named_list &lt;- list(
  first = "I", second = "am", third = "a", fourth = "list",
  fifth = "with", sixth = "names", "none" = NULL
)

# As cff
a_cff_object &lt;- as_cff(a_named_list)

class(a_cff_object)
#&gt; [1] "cff"

a_cff_object
#&gt; first: I
#&gt; second: am
#&gt; third: a
#&gt; fourth: list
#&gt; fifth: with
#&gt; sixth: names

is.list(a_cff_object)
#&gt; [1] TRUE
</pre></div>
<p><code><a href="#topic+as_cff">as_cff()</a></code> not only converts a <code>list</code> to <code>cff</code> but also removes items (known as
<code>keys</code> in CFF terminology) that are <code>NULL</code> or <code>NA</code>.
</p>


<h5>Sub-classes</h5>

<p><strong>cffr</strong> implements two special sub-classes of <code>cff</code>, with the aim of
representing two special types of objects defined in the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">CFF Schema</a>:
</p>

<ul>
<li> <p><code>definition.person</code> and <code>definition.entity</code>: CFF definition for sub-lists
representing persons or entities. In <strong>cffr</strong> the sub-class <code>cff_pers_lst</code>
has been implemented to collect an array of <code>definition.person/entity</code>,
where each individual person or entity of the array has a sub-class
<code>cff_pers</code>.
</p>
</li>
<li><p> Similarly, <code>definition.reference</code> is the definition of CFF for collecting
references to related works and other articles of software used in the
development of the main work of the CFF file. This is implemented in
<strong>cffr</strong> as a sub-class named <code>cff_ref_lst</code> for arrays of
<code>definition.reference</code> where each element of the array has a sub-class named
<code>cff_ref</code>.
</p>
</li></ul>

<p>These two sub-classes does not provide full valid <code>cff</code> objects, but adapts
information to the schema required by CFF:
</p>
<div class="sourceCode r"><pre># Using the utils::person() function

## Array
two_persons &lt;- as_cff_person(
  c(
    person("A", "person", comment = c(ORCID = "0000-0000-0000-0000")),
    person("An entity", email = "fake@gmail.com")
  )
)

two_persons
#&gt; - family-names: person
#&gt;   given-names: A
#&gt;   orcid: https://orcid.org/0000-0000-0000-0000
#&gt; - name: An entity
#&gt;   email: fake@gmail.com

class(two_persons)
#&gt; [1] "cff_pers_lst" "cff"

# Single element

two_persons[[1]]
#&gt; family-names: person
#&gt; given-names: A
#&gt; orcid: https://orcid.org/0000-0000-0000-0000

class(two_persons[[1]])
#&gt; [1] "cff_pers" "cff"

# Array of references

cit &lt;- c(citation(), citation("yaml"))

ref_list &lt;- as_cff(cit)

ref_list
#&gt; - type: manual
#&gt;   title: 'R: A Language and Environment for Statistical Computing'
#&gt;   authors:
#&gt;   - name: R Core Team
#&gt;   institution:
#&gt;     name: R Foundation for Statistical Computing
#&gt;     address: Vienna, Austria
#&gt;   year: '2024'
#&gt;   url: https://www.R-project.org/
#&gt; - type: manual
#&gt;   title: 'yaml: Methods to Convert R Data to YAML and Back'
#&gt;   authors:
#&gt;   - family-names: Garbett
#&gt;     given-names: Shawn P
#&gt;   - family-names: Stephens
#&gt;     given-names: Jeremy
#&gt;   - family-names: Simonov
#&gt;     given-names: Kirill
#&gt;   - family-names: Xie
#&gt;     given-names: Yihui
#&gt;   - family-names: Dong
#&gt;     given-names: Zhuoer
#&gt;   - family-names: Wickham
#&gt;     given-names: Hadley
#&gt;   - family-names: Horner
#&gt;     given-names: Jeffrey
#&gt;   - name: reikoch
#&gt;   - family-names: Beasley
#&gt;     given-names: Will
#&gt;   - family-names: O'Connor
#&gt;     given-names: Brendan
#&gt;   - family-names: Warnes
#&gt;     given-names: Gregory R.
#&gt;   - family-names: Quinn
#&gt;     given-names: Michael
#&gt;   - family-names: Kamvar
#&gt;     given-names: Zhian N.
#&gt;   - family-names: Gao
#&gt;     given-names: Charlie
#&gt;   year: '2024'
#&gt;   notes: R package version 2.3.10
#&gt;   url: https://CRAN.R-project.org/package=yaml

class(ref_list)
#&gt; [1] "cff_ref_lst" "cff"

# Single element

ref_list[[1]]
#&gt; type: manual
#&gt; title: 'R: A Language and Environment for Statistical Computing'
#&gt; authors:
#&gt; - name: R Core Team
#&gt; institution:
#&gt;   name: R Foundation for Statistical Computing
#&gt;   address: Vienna, Austria
#&gt; year: '2024'
#&gt; url: https://www.R-project.org/

class(ref_list[[1]])
#&gt; [1] "cff_ref" "cff"
</pre></div>




<h4>Valid <code>cff</code> objects</h4>

<p>Creating a <code>cff</code> object does not ensure its validity according to the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">CFF Schema</a>:
</p>
<div class="sourceCode r"><pre>class(a_cff_object)
#&gt; [1] "cff"

cff_validate(a_cff_object)
#&gt; == Validating cff ==============================================================
#&gt; x Oops! This &lt;cff&gt; has the following errors:
#&gt; * cff.authors: is required
#&gt; * cff["cff-version"]: is required
#&gt; * cff.message: is required
#&gt; * cff.title: is required
</pre></div>
<p><code><a href="#topic+cff_validate">cff_validate()</a></code> gives minimal messages of what's wrong with our <code>cff</code> and
(invisibly) returns the result of the validation (<code>TRUE/FALSE</code>).
</p>
<p>We can use <code><a href="#topic+cff_modify">cff_modify()</a></code> to add more keys:
</p>
<div class="sourceCode r"><pre>cff_valid &lt;- cff_modify(a_cff_object,
  authors = as_cff_person("{James and James}"),
  cff_version = "1.2.0",
  message = "Hi there",
  title = "My title"
)


# Remove invalid keys
cff_valid &lt;- as_cff(cff_valid[names(cff_valid) %in% cff_schema_keys()])

cff_valid
#&gt; authors:
#&gt; - name: James and James
#&gt; cff-version: 1.2.0
#&gt; message: Hi there
#&gt; title: My title

cff_validate(cff_valid)
#&gt; == Validating cff ==============================================================
#&gt; v Congratulations! This &lt;cff&gt; is valid
</pre></div>



<h4>Base methods provided by <strong>cffr</strong></h4>

<p><strong>cffr</strong> version 1.0.0 provides additional S3 Methods for common coercing
functions of the <strong>base</strong> and <strong>utils</strong> package.
</p>


<h5><code><a href="base.html#topic+as.data.frame">as.data.frame()</a></code></h5>

<div class="sourceCode r"><pre>minimal_cff &lt;- cff()

minimal_cff
#&gt; cff-version: 1.2.0
#&gt; message: If you use this software, please cite it using these metadata.
#&gt; title: My Research Software
#&gt; authors:
#&gt; - family-names: Doe
#&gt;   given-names: John

as_df &lt;- as.data.frame(minimal_cff)

class(as_df)
#&gt; [1] "data.frame"

t(as_df)
#&gt;                         [,1]                                                            
#&gt; cff_version             "1.2.0"                                                         
#&gt; message                 "If you use this software, please cite it using these metadata."
#&gt; title                   "My Research Software"                                          
#&gt; authors.00.family_names "Doe"                                                           
#&gt; authors.00.given_names  "John"
</pre></div>



<h5><code><a href="base.html#topic+c">c()</a></code></h5>

<div class="sourceCode r"><pre>new_keys &lt;- c("date-released" = "2020-01-31", abstract = "Minimal example")

c(minimal_cff, new_keys)
#&gt; cff-version: 1.2.0
#&gt; message: If you use this software, please cite it using these metadata.
#&gt; title: My Research Software
#&gt; authors:
#&gt; - family-names: Doe
#&gt;   given-names: John
#&gt; date-released: '2020-01-31'
#&gt; abstract: Minimal example
</pre></div>



<h5><code><a href="base.html#topic+as.list">as.list()</a></code></h5>

<div class="sourceCode r"><pre>as.list(minimal_cff)
#&gt; $`cff-version`
#&gt; [1] "1.2.0"
#&gt; 
#&gt; $message
#&gt; [1] "If you use this software, please cite it using these metadata."
#&gt; 
#&gt; $title
#&gt; [1] "My Research Software"
#&gt; 
#&gt; $authors
#&gt; $authors[[1]]
#&gt; $authors[[1]]$`family-names`
#&gt; [1] "Doe"
#&gt; 
#&gt; $authors[[1]]$`given-names`
#&gt; [1] "John"
</pre></div>



<h5><code><a href="utils.html#topic+as.person">as.person()</a></code></h5>

<p>Only for <code>cff_pers_lst</code> and <code>cff_pers</code> objects:
</p>
<div class="sourceCode r"><pre>as.person(two_persons)
#&gt; [1] "A person (&lt;https://orcid.org/0000-0000-0000-0000&gt;)"
#&gt; [2] "An entity &lt;fake@gmail.com&gt;"
</pre></div>



<h5><code><a href="utils.html#topic+toBibtex">toBibtex()</a></code></h5>

<div class="sourceCode r"><pre># For cff
toBibtex(minimal_cff)
#&gt; @Misc{doe,
#&gt;   title = {My Research Software},
#&gt;   author = {John Doe},
#&gt; }

# cff_ref, cff_ref_lst
toBibtex(cit)
#&gt; @Manual{,
#&gt;   title = {R: A Language and Environment for Statistical Computing},
#&gt;   author = {{R Core Team}},
#&gt;   organization = {R Foundation for Statistical Computing},
#&gt;   address = {Vienna, Austria},
#&gt;   year = {2024},
#&gt;   url = {https://www.R-project.org/},
#&gt; }
#&gt; 
#&gt; @Manual{,
#&gt;   title = {yaml: Methods to Convert R Data to YAML and Back},
#&gt;   author = {Shawn P Garbett and Jeremy Stephens and Kirill Simonov and Yihui Xie and Zhuoer Dong and Hadley Wickham and Jeffrey Horner and {reikoch} and Will Beasley and Brendan O'Connor and Gregory R. Warnes and Michael Quinn and Zhian N. Kamvar and Charlie Gao},
#&gt;   year = {2024},
#&gt;   note = {R package version 2.3.10},
#&gt;   url = {https://CRAN.R-project.org/package=yaml},
#&gt; }

# cff_pers, cff_pers_lst
toBibtex(two_persons)
#&gt; [1] "person, A and {An entity}"
</pre></div>




<h3>References</h3>


<ul>
<li><p> Wickham H (2019). &quot;S3.&quot; In <em>Advanced R</em>, 2nd edition.
Chapman and Hall/CRC. <a href="https://doi.org/10.1201/9781351201315">doi:10.1201/9781351201315</a>,
<a href="https://adv-r.hadley.nz/s3.html">https://adv-r.hadley.nz/s3.html</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p>Coercing between <strong>R</strong> classes with <strong>S3 Methods</strong>:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+as_cff">as_cff</a>()</code>,
<code><a href="#topic+as_cff_person">as_cff_person</a>()</code>
</p>

<hr>
<h2 id='cff_create'>Create a <code><a href="#topic+cff">cff</a></code> object from several sources</h2><span id='topic+cff_create'></span>

<h3>Description</h3>

<p>Create a full and possibly valid <code><a href="#topic+cff">cff</a></code> object from a given source. This
object can be written to a <code style="white-space: pre;">&#8288;*.cff &#8288;</code> file with <code><a href="#topic+cff_write">cff_write()</a></code>,
see <strong>Examples</strong>.
</p>
<p>Most of the heavy lifting of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> is done via this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_create(
  x,
  keys = list(),
  cff_version = "1.2.0",
  gh_keywords = TRUE,
  dependencies = TRUE,
  authors_roles = c("aut", "cre")
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_create_+3A_x">x</code></td>
<td>
<p>The source that would be used for generating
the <code><a href="#topic+cff">cff</a></code> object. It could be:
</p>

<ul>
<li><p> A missing value. That would retrieve the <code>DESCRIPTION</code> file on your
in-development <strong>R</strong> package.
</p>
</li>
<li><p> An existing <code><a href="#topic+cff">cff</a></code> object.
</p>
</li>
<li><p> The name of an installed package (<code>"jsonlite"</code>).
</p>
</li>
<li><p> Path to a <code>DESCRIPTION</code> file (<code>"./DESCRIPTION"</code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="cff_create_+3A_keys">keys</code></td>
<td>
<p>List of additional keys to add to the <code><a href="#topic+cff">cff</a></code> object. See
<code><a href="#topic+cff_modify">cff_modify()</a></code>.</p>
</td></tr>
<tr><td><code id="cff_create_+3A_cff_version">cff_version</code></td>
<td>
<p>The Citation File Format schema version that the
<code>CITATION.cff</code> file adheres to for providing the citation metadata.</p>
</td></tr>
<tr><td><code id="cff_create_+3A_gh_keywords">gh_keywords</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. If the package is hosted on
GitHub, would you like to add the repo topics as keywords?</p>
</td></tr>
<tr><td><code id="cff_create_+3A_dependencies">dependencies</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Would you like to add the
of your package to the <code>references</code> CFF key?</p>
</td></tr>
<tr><td><code id="cff_create_+3A_authors_roles">authors_roles</code></td>
<td>
<p>Roles to be considered as authors of the package when
generating the <code>CITATION.cff</code> file. See <strong>Details</strong>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> is a path to a <code>DESCRIPTION</code> file or <code>inst/CITATION</code>, is not present
on your package, <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> would auto-generate a <code>preferred-citation</code>
key using the information provided on that file.
</p>
<p>By default, only persons whose role in the <code>DESCRIPTION</code> file of the package
is author (<code>"aut"</code>) or maintainer (<code>"cre"</code>) are considered to be authors
of the package. The default setting can be controlled via the <code>authors_roles</code>
parameter. See <strong>Details</strong> on <code><a href="utils.html#topic+person">person()</a></code> to get additional insights
on person roles.
</p>


<h3>Value</h3>

<p>A <code><a href="#topic+cff">cff</a></code> object.
</p>


<h3>See Also</h3>

<p><a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Guide to Citation File Format schema version 1.2.0</a>.
</p>

<ul>
<li> <p><code><a href="#topic+cff_modify">cff_modify()</a></code> as the recommended way to modify a <code>cff</code> object.
</p>
</li>
<li> <p><code><a href="#topic+cff_write">cff_write()</a></code> for creating a CFF file.
</p>
</li>
<li> <p><code>vignette("cffr", "cffr")</code> shows an introduction on how manipulate
<code>cff</code> objects.
</p>
</li>
<li> <p><code>vignette("crosswalk", package = "cffr")</code> provides details on how the
metadata of a package is mapped to produce a <code>cff</code> object.
</p>
</li></ul>

<p>Other core functions of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code><a href="#topic+cff">cff</a>()</code>,
<code><a href="#topic+cff_modify">cff_modify</a>()</code>,
<code><a href="#topic+cff_validate">cff_validate</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Installed package
cff_create("jsonlite")

# Demo file
demo_file &lt;- system.file("examples/DESCRIPTION_basic", package = "cffr")
cff_create(demo_file)

# Add additional keys

newkeys &lt;- list(
  message = "This overwrites fields",
  abstract = "New abstract",
  keywords = c("A", "new", "list", "of", "keywords"),
  authors = as_cff_person("New author")
)

cff_create(demo_file, keys = newkeys)

# Update a field on a list - i,e: authors, contacts, etc.
# We are adding a new contact here

old &lt;- cff_create(demo_file)

new_contact &lt;- append(
  old$contact,
  as_cff_person(person(
    given = "I am",
    family = "New Contact"
  ))
)


cff_create(demo_file, keys = list("contact" = new_contact))

</code></pre>

<hr>
<h2 id='cff_extract_to_bibtex'>Previous API: Create BibTeX entries from several sources</h2><span id='topic+cff_extract_to_bibtex'></span><span id='topic+cff_to_bibtex'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use <code><a href="#topic+as_bibentry">as_bibentry()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_extract_to_bibtex(x, what = c("preferred", "references", "all"))

cff_to_bibtex(x, what = c("preferred", "references", "all"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_extract_to_bibtex_+3A_x">x</code></td>
<td>
<p>The source that would be used for generating
the <code>bibentry</code> object via <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>. It could be:
</p>

<ul>
<li><p> A missing value. That would retrieve the <code>DESCRIPTION</code>
file on your in-development package.
</p>
</li>
<li><p> An existing <code>cff</code> object created with <code><a href="#topic+cff">cff()</a></code>, <code><a href="#topic+cff_create">cff_create()</a></code> or
<code><a href="#topic+as_cff">as_cff()</a></code>.
</p>
</li>
<li><p> Path to a CITATION.cff file (<code>"CITATION.cff"</code>),
</p>
</li>
<li><p> The name of an installed package (<code>"jsonlite"</code>), or
</p>
</li>
<li><p> Path to a DESCRIPTION file (<code>"DESCRIPTION"</code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="cff_extract_to_bibtex_+3A_what">what</code></td>
<td>
<p>Fields to extract from a full <code>cff</code> object. The value could be:
</p>

<ul>
<li> <p><code>preferred</code>: This would create a single entry with the main citation
info of the package (key <code>preferred-citation</code>).
</p>
</li>
<li> <p><code>references</code>: Extract all the entries of <code>references</code> key.
</p>
</li>
<li> <p><code>all</code>: A combination of the previous two options. This would extract
both the <code>preferred-citation</code> and the <code>references</code> key.
</p>
</li></ul>

<p>See <code>vignette("crosswalk", package = "cffr")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>See <code><a href="#topic+as_bibentry">as_bibentry()</a></code>.
</p>


<h3>See Also</h3>

<p>Other deprecated functions:
<code><a href="#topic+cff_from_bibtex">cff_from_bibtex</a>()</code>,
<code><a href="#topic+cff_parse_citation">cff_parse_citation</a>()</code>,
<code><a href="#topic+cff_parse_person">cff_parse_person</a>()</code>,
<code><a href="#topic+write_bib">write_bib</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# From a cff object
cff_object &lt;- cff()

cff_object

# bibentry object
bib &lt;- as_bibentry(cff_object)

</code></pre>

<hr>
<h2 id='cff_from_bibtex'>Previous API: Create a <code><a href="#topic+cff">cff</a></code> object from BibTeX entries</h2><span id='topic+cff_from_bibtex'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use either <code><a href="#topic+cff_read_bib">cff_read_bib()</a></code> or
<code><a href="#topic+cff_read_bib_text">cff_read_bib_text()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_from_bibtex(x, encoding = "UTF-8", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_from_bibtex_+3A_x">x</code></td>
<td>
<p>The source that would be used for generating the
<code><a href="#topic+cff">cff</a></code> object. Must be <code>character</code> object indicating either:
</p>

<ul>
<li><p> The path to a BibTeX file.
</p>
</li>
<li><p> A vector of characters with the full BibTeX string. See <strong>Examples</strong>.
</p>
</li></ul>
</td></tr>
<tr><td><code id="cff_from_bibtex_+3A_encoding">encoding</code></td>
<td>
<p>Encoding to be assumed for <code>x</code>. See <code><a href="base.html#topic+readLines">readLines()</a></code>.</p>
</td></tr>
<tr><td><code id="cff_from_bibtex_+3A_...">...</code></td>
<td>
<p>Other arguments passed to <code><a href="bibtex.html#topic+read.bib">bibtex::read.bib()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>See <code><a href="#topic+cff_read_bib">cff_read_bib()</a></code> from reading <code style="white-space: pre;">&#8288;*.bib&#8288;</code> files and <code><a href="#topic+cff_read_bib_text">cff_read_bib_text()</a></code>
for reading a <code>character</code> object representing a BibTeX entry.
</p>


<h3>See Also</h3>

<p>Other deprecated functions:
<code><a href="#topic+cff_extract_to_bibtex">cff_extract_to_bibtex</a>()</code>,
<code><a href="#topic+cff_parse_citation">cff_parse_citation</a>()</code>,
<code><a href="#topic+cff_parse_person">cff_parse_person</a>()</code>,
<code><a href="#topic+write_bib">write_bib</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("bibtex", quietly = TRUE)) {
  x &lt;- c(
    "@book{einstein1921,
    title        = {Relativity: The Special and the General Theory},
    author       = {Einstein, Albert},
    year         = 1920,
    publisher    = {Henry Holt and Company},
    address      = {London, United Kingdom},
    isbn         = 9781587340925
}",
    "@misc{misc-full,
    title        = {Handing out random pamphlets in airports},
    author       = {Joe-Bob Missilany},
    year         = 1984,
    month        = oct,
    note         = {This is a full MISC entry},
    howpublished = {Handed out at O'Hare}
}"
  )

  cff_read_bib_text(x)

  # From a file

  x2 &lt;- system.file("examples/example.bib", package = "cffr")
  cff_read_bib(x2)
}
</code></pre>

<hr>
<h2 id='cff_gha_update'>Install a <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> GitHub Action</h2><span id='topic+cff_gha_update'></span>

<h3>Description</h3>

<p>This function would install a <a href="https://github.com/features/actions">GitHub Action</a> on your repo. The action will
update your <code>CITATION.cff</code> when any of these events occur:
</p>

<ul>
<li><p> You publish a new release of the package.
</p>
</li>
<li><p> Your <code>DESCRIPTION</code> or <code>inst/CITATION</code> are modified.
</p>
</li>
<li><p> The action can be run also manually.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cff_gha_update(path = ".", overwrite = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_gha_update_+3A_path">path</code></td>
<td>
<p>Project root directory.</p>
</td></tr>
<tr><td><code id="cff_gha_update_+3A_overwrite">overwrite</code></td>
<td>
<p>Logical. If already present, do you want to overwrite your
action?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Triggers on your action can be modified, see <a href="https://docs.github.com/en/actions/learn-github-actions/events-that-trigger-workflows">Events that trigger workflows</a>.
</p>


<h3>Value</h3>

<p>Invisible, this function is called by its side effects.
</p>


<h3>See Also</h3>

<p>Other Git/GitHub helpers provided by <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code><a href="#topic+cff_git_hook">cff_git_hook</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cff_gha_update()

## End(Not run)
</code></pre>

<hr>
<h2 id='cff_git_hook'>Use a git pre-commit hook <a href="https://lifecycle.r-lib.org/articles/stages.html#experimental"><img src="../help/figures/lifecycle-experimental.svg" alt='[Experimental]' /></a></h2><span id='topic+cff_git_hook'></span><span id='topic+cff_git_hook_install'></span><span id='topic+cff_git_hook_remove'></span>

<h3>Description</h3>

<p>Install a
<a href="https://git-scm.com/book/en/v2/Customizing-Git-Git-Hooks#_committing_workflow_hooks">pre-commit hook</a>
that remembers you to update your <code>CITATION.cff</code> file. This is a wrapper of
<code><a href="usethis.html#topic+use_git_hook">usethis::use_git_hook()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_git_hook_install()

cff_git_hook_remove()
</code></pre>


<h3>Details</h3>

<p>This function would install a pre-commit hook using
<code><a href="usethis.html#topic+use_git_hook">usethis::use_git_hook()</a></code>.
</p>
<p>A pre-commit hook is a script that identifies  simple issues before
submission to code review. This pre-commit hook would warn you if any of the
following conditions are met:
</p>

<ul>
<li><p> You included in a commit your <code>DESCRIPTION</code> or <code>inst/CITATION</code> file, you
are not including your <code>CITATION.cff</code> and the <code>CITATION.cff</code> file is
&quot;older&quot; than any of your <code>DESCRIPTION</code> or <code>inst/CITATION</code> file.
</p>
</li>
<li><p> You have updated your <code>CITATION.cff</code> but you are not including it on
your commit.
</p>
</li></ul>



<h3>Value</h3>

<p>Invisible. This function is called for its side effects.
</p>


<h3>A word of caution</h3>

<p>The pre-commit hook may prevent you to commit if you are not updating your
<code>CITATION.cff</code>. However, the mechanism of detection is not perfect and would
be triggered also even if you have tried to update your <code>CITATION.cff</code> file.
</p>
<p>This is typically the case when you have updated your <code>DESCRIPTION</code> or
<code>inst/CITATION</code> files but those changes doesn't make a change on your
<code>CITATION.cff</code> file (i.e. you are including new dependencies).
</p>
<p>In those cases, you can override the check running <code style="white-space: pre;">&#8288;git commit --no-verify&#8288;</code>
on the terminal.
</p>
<p>If you are using <strong>RStudio</strong> you can run also this command from a <strong>R</strong>
script by selecting that line and sending it to the terminal using:
</p>

<ul>
<li><p> Windows &amp; Linux: <code>Ctrl+Alt+Enter</code>.
</p>
</li>
<li><p> Mac: <code>Cmd+Option+Return</code>.
</p>
</li></ul>



<h3>Removing the git pre-commit hook</h3>

<p>You can remove the pre-commit hook by running <code>cff_git_hook_remove()</code>.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="usethis.html#topic+use_git_hook">usethis::use_git_hook()</a></code>, that is the underlying function used by
<code>cff_git_hook_install()</code>.
</p>
</li>
<li> <p><code><a href="usethis.html#topic+use_git">usethis::use_git()</a></code> and related function of <a href="https://CRAN.R-project.org/package=usethis"><span class="pkg">usethis</span></a> for using
Git with <strong>R</strong> packages.
</p>
</li></ul>

<p>Other Git/GitHub helpers provided by <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code><a href="#topic+cff_gha_update">cff_gha_update</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
cff_git_hook_install()

## End(Not run)

</code></pre>

<hr>
<h2 id='cff_modify'>Modify a <code><a href="#topic+cff">cff</a></code> object</h2><span id='topic+cff_modify'></span>

<h3>Description</h3>

<p>Add new keys or modify existing ones on a <code><a href="#topic+cff">cff</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_modify(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_modify_+3A_x">x</code></td>
<td>
<p>A <code><a href="#topic+cff">cff</a></code> object.</p>
</td></tr>
<tr><td><code id="cff_modify_+3A_...">...</code></td>
<td>
<p>Named arguments to be used for modifying <code>x</code>. See also <code>...</code>
argument in <code><a href="#topic+cff">cff()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Keys provided in <code>...</code> would override the corresponding key in <code>x</code>.
</p>
<p>It is possible to add additional keys not detected by <code><a href="#topic+cff_create">cff_create()</a></code> using
the <code>keys</code> argument. A list of valid keys can be retrieved with
<code><a href="#topic+cff_schema_keys">cff_schema_keys()</a></code>. Please refer to
<a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Guide to Citation File Format schema version 1.2.0</a>.
for additional details.
</p>


<h3>Value</h3>

<p>A <code><a href="#topic+cff">cff</a></code> object.
</p>


<h3>See Also</h3>

<p>This function is wrapper of <code><a href="utils.html#topic+modifyList">utils::modifyList()</a></code>.
</p>
<p>See <code><a href="#topic+cff">cff()</a></code> for creating <code><a href="#topic+cff">cff</a></code> objects from scratch.
</p>
<p>Other core functions of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code><a href="#topic+cff">cff</a>()</code>,
<code><a href="#topic+cff_create">cff_create</a>()</code>,
<code><a href="#topic+cff_validate">cff_validate</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- cff()
x

cff_validate(x)


x_mod &lt;- cff_modify(x,
  contact = as_cff_person("A contact"),
  message = "This overwrites fields",
  title = "New Title",
  abstract = "New abstract",
  doi = "10.21105/joss.03900"
)

x_mod

cff_validate(x_mod)

</code></pre>

<hr>
<h2 id='cff_parse_citation'>Previous API: Parse a <code>bibentry</code> to <code>cff</code></h2><span id='topic+cff_parse_citation'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use <code><a href="#topic+as_cff.bibentry">as_cff.bibentry()</a></code> method
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_parse_citation(bib)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_parse_citation_+3A_bib">bib</code></td>
<td>
<p>A <code>bibentry</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>bibentry</code> in format <code>cff</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as_cff.bibentry">as_cff.bibentry()</a></code>
</p>
<p>Other deprecated functions:
<code><a href="#topic+cff_extract_to_bibtex">cff_extract_to_bibtex</a>()</code>,
<code><a href="#topic+cff_from_bibtex">cff_from_bibtex</a>()</code>,
<code><a href="#topic+cff_parse_person">cff_parse_person</a>()</code>,
<code><a href="#topic+write_bib">write_bib</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
bib &lt;- citation("base")
bib


# To cff
bib_to_cff &lt;- as_cff(bib)
bib_to_cff

</code></pre>

<hr>
<h2 id='cff_parse_person'>Previous API: Parse a <code>person</code> to <code><a href="#topic+cff">cff</a></code></h2><span id='topic+cff_parse_person'></span><span id='topic+cff_parse_person_bibtex'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use <code><a href="#topic+as_cff_person">as_cff_person()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_parse_person(person)

cff_parse_person_bibtex(person)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_parse_person_+3A_person">person</code></td>
<td>
<p>It can be either:
</p>

<ul>
<li><p> A <code>person</code> or list of <code>person</code> object created with <code><a href="utils.html#topic+person">utils::person()</a></code>.
</p>
</li>
<li><p> A <code>character</code> object or vector representing a person or persons.
</p>
</li></ul>
</td></tr>
</table>


<h3>Value</h3>

<p>A person in format <code>cff</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+as_cff_person">as_cff_person()</a></code>
</p>
<p>Other deprecated functions:
<code><a href="#topic+cff_extract_to_bibtex">cff_extract_to_bibtex</a>()</code>,
<code><a href="#topic+cff_from_bibtex">cff_from_bibtex</a>()</code>,
<code><a href="#topic+cff_parse_citation">cff_parse_citation</a>()</code>,
<code><a href="#topic+write_bib">write_bib</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a person object
a_person &lt;- person(
  given = "First", family = "Author",
  role = c("aut", "cre"),
  email = "first.last@example.com", comment = c(
    ORCID = "0000-0001-8457-4658",
    affiliation = "An affiliation"
  )
)

a_person

cff_person &lt;- as_cff_person(a_person)

cff_person

# Back to person object with S3 Method
as.person(cff_person)

# Parse a string
a_str &lt;- paste0(
  "Julio Iglesias &lt;fake@email.com&gt; ",
  "(&lt;https://orcid.org/0000-0001-8457-4658&gt;)"
)
as_cff_person(a_str)

# Several persons
persons &lt;- c(person("Clark", "Kent"), person("Lois", "Lane"))

as_cff_person(persons)

# Or you can use BibTeX style if you prefer

x &lt;- "Frank Sinatra and Dean Martin and Davis, Jr., Sammy and Joey Bishop"

as_cff_person(x)

as_cff_person("Herbert von Karajan")
</code></pre>

<hr>
<h2 id='cff_read'>Read an external file as a <code><a href="#topic+cff">cff</a></code> object</h2><span id='topic+cff_read'></span><span id='topic+cff_read_cff_citation'></span><span id='topic+cff_read_description'></span><span id='topic+cff_read_citation'></span><span id='topic+cff_read_bib'></span>

<h3>Description</h3>

<p>Read files and convert them to <code><a href="#topic+cff">cff</a></code> objects. Files supported
are:
</p>

<ul>
<li> <p><code>CITATION.cff</code> files.
</p>
</li>
<li> <p><code>DESCRIPTION</code> files.
</p>
</li>
<li> <p><strong>R</strong> citation files (usually located in <code>inst/CITATION</code>).
</p>
</li>
<li><p> BibTeX files (with extension <code style="white-space: pre;">&#8288;*.bib&#8288;</code>).
</p>
</li></ul>

<p><code><a href="#topic+cff_read">cff_read()</a></code> would try to guess the type of file provided in <code>path</code>. However
we provide a series of alias for each specific type of file:
</p>

<ul>
<li> <p><code><a href="#topic+cff_read_cff_citation">cff_read_cff_citation()</a></code>, that uses <code><a href="yaml.html#topic+read_yaml">yaml::read_yaml()</a></code>.
</p>
</li>
<li> <p><code><a href="#topic+cff_read_description">cff_read_description()</a></code>, using <code><a href="desc.html#topic+desc">desc::desc()</a></code>.
</p>
</li>
<li> <p><code><a href="#topic+cff_read_citation">cff_read_citation()</a></code> uses <code><a href="utils.html#topic+citation">utils::readCitationFile()</a></code>.
</p>
</li>
<li> <p><code><a href="#topic+cff_read_bib">cff_read_bib()</a></code>  requires <a href="https://CRAN.R-project.org/package=bibtex"><span class="pkg">bibtex</span></a> (&gt;= 0.5.0) and uses
<code><a href="bibtex.html#topic+read.bib">bibtex::read.bib()</a></code>.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cff_read(path, ...)

cff_read_cff_citation(path, ...)

cff_read_description(
  path,
  cff_version = "1.2.0",
  gh_keywords = TRUE,
  authors_roles = c("aut", "cre"),
  ...
)

cff_read_citation(path, meta = NULL, ...)

cff_read_bib(path, encoding = "UTF-8", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_read_+3A_path">path</code></td>
<td>
<p>Path to a file.</p>
</td></tr>
<tr><td><code id="cff_read_+3A_...">...</code></td>
<td>
<p>Arguments to be passed to other functions (i.e. to
<code><a href="yaml.html#topic+read_yaml">yaml::read_yaml()</a></code>, <code><a href="bibtex.html#topic+read.bib">bibtex::read.bib()</a></code>, etc.).</p>
</td></tr>
<tr><td><code id="cff_read_+3A_cff_version">cff_version</code></td>
<td>
<p>The Citation File Format schema version that the
<code>CITATION.cff</code> file adheres to for providing the citation metadata.</p>
</td></tr>
<tr><td><code id="cff_read_+3A_gh_keywords">gh_keywords</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. If the package is hosted on
GitHub, would you like to add the repo topics as keywords?</p>
</td></tr>
<tr><td><code id="cff_read_+3A_authors_roles">authors_roles</code></td>
<td>
<p>Roles to be considered as authors of the package when
generating the <code>CITATION.cff</code> file. See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="cff_read_+3A_meta">meta</code></td>
<td>
<p>A list of package metadata as obtained by
<code><a href="utils.html#topic+packageDescription">utils::packageDescription()</a></code> or <code>NULL</code> (the default). See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="cff_read_+3A_encoding">encoding</code></td>
<td>
<p>Encoding to be assumed for <code>path</code>. See <code><a href="base.html#topic+readLines">readLines()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details of <code>cff_read_description()</code> see <code><a href="#topic+cff_create">cff_create()</a></code>.
</p>


<h4>The <code>meta</code> object</h4>

<p>Section 1.9 CITATION files of <em>Writing R Extensions</em> (R Core Team 2023)
specifies how to create dynamic <code>CITATION</code> files using <code>meta</code> object, hence
the <code>meta</code> argument in <code><a href="#topic+cff_read_citation">cff_read_citation()</a></code> may be needed for reading
some files correctly.
</p>



<h3>Value</h3>


<ul>
<li> <p><code>cff_read_cff_citation()</code> and <code>cff_read_description()</code> returns a object
with class <code>cff</code>.
</p>
</li>
<li> <p><code>cff_read_citation()</code> and <code>cff_read_bib()</code> returns an object of classes
<code><a href="#topic+cff_ref_lst">cff_ref_lst, cff</a></code> according to the <code>definitions.references</code>
specified in the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Citation File Format schema</a>.
</p>
</li></ul>

<p>Learn more about the <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a> class system in <a href="#topic+cff_class">cff_class</a>.
</p>


<h3>References</h3>


<ul>
<li><p> R Core Team (2023). <em>Writing R Extensions</em>.
<a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">https://cran.r-project.org/doc/manuals/r-release/R-exts.html</a>
</p>
</li>
<li><p> Hernangomez D (2022). &quot;BibTeX and CFF, a potential crosswalk.&quot;
<em>The cffr package, Vignettes</em>. <a href="https://doi.org/10.21105/joss.03900">doi:10.21105/joss.03900</a>,
<a href="https://docs.ropensci.org/cffr/articles/bibtex_cff.html">https://docs.ropensci.org/cffr/articles/bibtex_cff.html</a>.
</p>
</li></ul>



<h3>See Also</h3>

<p>The underlying functions used for reading external files:
</p>

<ul>
<li> <p><code><a href="yaml.html#topic+read_yaml">yaml::read_yaml()</a></code> for <code>CITATION.cff</code> files.
</p>
</li>
<li> <p><code><a href="desc.html#topic+desc">desc::desc()</a></code> for <code>DESCRIPTION</code> files.
</p>
</li>
<li> <p><code><a href="utils.html#topic+citation">utils::readCitationFile()</a></code> for <strong>R</strong> citation files.
</p>
</li>
<li> <p><code><a href="bibtex.html#topic+read.bib">bibtex::read.bib()</a></code> for BibTeX files (extension <code style="white-space: pre;">&#8288;*.bib&#8288;</code>).
</p>
</li></ul>

<p>Other functions for reading external files:
<code><a href="#topic+cff_read_bib_text">cff_read_bib_text</a>()</code>
</p>
<p>Other functions for working with BibTeX format:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+cff_read_bib_text">cff_read_bib_text</a>()</code>,
<code><a href="#topic+cff_write_bib">cff_write_bib</a>()</code>,
<code><a href="#topic+encoded_utf_to_latex">encoded_utf_to_latex</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Create cff object from cff file

from_cff_file &lt;- cff_read(system.file("examples/CITATION_basic.cff",
  package = "cffr"
))

head(from_cff_file, 7)

# Create cff object from DESCRIPTION
from_desc &lt;- cff_read(system.file("examples/DESCRIPTION_basic",
  package = "cffr"
))

from_desc

# Create cff object from BibTex

if (requireNamespace("bibtex", quietly = TRUE)) {
  from_bib &lt;- cff_read(system.file("examples/example.bib",
    package = "cffr"
  ))

  # First item only
  from_bib[[1]]
}
# Create cff object from CITATION
from_citation &lt;- cff_read(system.file("CITATION", package = "cffr"))

# First item only
from_citation[[1]]

</code></pre>

<hr>
<h2 id='cff_read_bib_text'>Read BibTeX markup as a <code><a href="#topic+cff_ref_lst">cff_ref_lst</a></code> object</h2><span id='topic+cff_read_bib_text'></span>

<h3>Description</h3>

<p>Convert a <code><a href="base.html#topic+character">character</a></code> representing a BibTeX entry to a
<code><a href="#topic+cff_ref_lst">cff_ref_lst</a></code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_read_bib_text(x, encoding = "UTF-8", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_read_bib_text_+3A_x">x</code></td>
<td>
<p>A vector of <code>character</code> objects with the full BibTeX string.</p>
</td></tr>
<tr><td><code id="cff_read_bib_text_+3A_encoding">encoding</code></td>
<td>
<p>Encoding to be assumed for <code>x</code>, see <code><a href="base.html#topic+readLines">readLines()</a></code>.</p>
</td></tr>
<tr><td><code id="cff_read_bib_text_+3A_...">...</code></td>
<td>
<p>Arguments passed on to <code><a href="#topic+cff_read_bib">cff_read_bib()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a helper function that writes <code>x</code> to a <code style="white-space: pre;">&#8288;*.bib&#8288;</code> file and reads it with
<code><a href="#topic+cff_read_bib">cff_read_bib()</a></code>.
</p>
<p>This function requires <a href="https://CRAN.R-project.org/package=bibtex"><span class="pkg">bibtex</span></a> (&gt;= 0.5.0) and uses
<code><a href="bibtex.html#topic+read.bib">bibtex::read.bib()</a></code>.
</p>


<h3>Value</h3>

<p>An object of classes <code><a href="#topic+cff_ref_lst">cff_ref_lst, cff</a></code> according to the
<code>definitions.references</code> specified in
the <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Citation File Format schema</a>.
Each element of the <code>cff_ref_lst</code> object would have classes
<code><a href="#topic+cff_ref">cff_ref, cff</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+cff_read_bib">cff_read_bib()</a></code> for reading <code style="white-space: pre;">&#8288;*.bib&#8288;</code> files.
</p>
<p>Other functions for working with BibTeX format:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+cff_read">cff_read</a>()</code>,
<code><a href="#topic+cff_write_bib">cff_write_bib</a>()</code>,
<code><a href="#topic+encoded_utf_to_latex">encoded_utf_to_latex</a>()</code>
</p>
<p>Other functions for reading external files:
<code><a href="#topic+cff_read">cff_read</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (requireNamespace("bibtex", quietly = TRUE)) {
  x &lt;- c(
    "@book{einstein1921,
      title        = {Relativity: The Special and the General Theory},
      author       = {Einstein, Albert},
      year         = 1920,
      publisher    = {Henry Holt and Company},
      address      = {London, United Kingdom},
      isbn         = 9781587340925
  }",
    "@misc{misc-full,
      title        = {Handing out random pamphlets in airports},
      author       = {Joe-Bob Missilany},
      year         = 1984,
      month        = oct,
      note         = {This is a full MISC entry},
      howpublished = {Handed out at O'Hare}
  }"
  )


  cff_read_bib_text(x)
}
</code></pre>

<hr>
<h2 id='cff_schema'>Schema utils</h2><span id='topic+cff_schema'></span><span id='topic+cff_schema_keys'></span><span id='topic+cff_schema_keys_license'></span><span id='topic+cff_schema_definitions_person'></span><span id='topic+cff_schema_definitions_entity'></span><span id='topic+cff_schema_definitions_refs'></span>

<h3>Description</h3>

<p>Helper functions with the valid values of different fields, according to the
<a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Citation File Format schema version 1.2.0</a>.
</p>

<ul>
<li> <p><code><a href="#topic+cff_schema_keys">cff_schema_keys()</a></code> provides the valid high-level keys of the Citation
File Format.
</p>
</li>
<li> <p><code><a href="#topic+cff_schema_keys_license">cff_schema_keys_license()</a></code> provides the valid
<a href="https://spdx.dev/ids/">SPDX license identifier(s)</a> to be used on the
<code>CITATION.cff</code> file.
</p>
</li>
<li> <p><code><a href="#topic+cff_schema_definitions_person">cff_schema_definitions_person()</a></code> and <code><a href="#topic+cff_schema_definitions_entity">cff_schema_definitions_entity()</a></code>
returns the valid fields to be included when defining a
person or entity.
</p>
</li>
<li> <p><code><a href="#topic+cff_schema_definitions_refs">cff_schema_definitions_refs()</a></code> provides the valid
keys to be used on the <code>preferred-citation</code> and <code>references</code> keys.
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cff_schema_keys(sorted = FALSE)

cff_schema_keys_license()

cff_schema_definitions_person()

cff_schema_definitions_entity()

cff_schema_definitions_refs()
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_schema_+3A_sorted">sorted</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Should the keys be arranged
alphabetically?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of characters with the names of the valid keys to be used on a
Citation File Format version 1.2.0
</p>


<h3>Source</h3>

<p><a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Guide to Citation File Format schema version 1.2.0</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
cff_schema_keys(sorted = TRUE)

# Valid Licenses keys
head(cff_schema_keys_license(), 20)

cff_schema_definitions_person()

cff_schema_definitions_entity()

cff_schema_definitions_refs()
</code></pre>

<hr>
<h2 id='cff_validate'>Validate a <code>CITATION.cff</code> file or a <code><a href="#topic+cff">cff</a></code> object</h2><span id='topic+cff_validate'></span>

<h3>Description</h3>

<p>Validate a <code>CITATION.cff</code> file or a <code><a href="#topic+cff">cff</a></code> object using the corresponding <a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema.json">validation schema</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_validate(x = "CITATION.cff", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_validate_+3A_x">x</code></td>
<td>
<p>This is expected to be either a full <code>cff</code> object created
with <code><a href="#topic+cff_create">cff_create()</a></code> or the path to a <code>CITATION.cff</code> file to be validated.
In the case of a <code style="white-space: pre;">&#8288;*cff&#8288;</code> file it would read with <code><a href="#topic+cff_read_cff_citation">cff_read_cff_citation()</a></code>.</p>
</td></tr>
<tr><td><code id="cff_validate_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the function would display
informative messages.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message indicating the result of the validation and an invisible value
<code>TRUE/FALSE</code>. On error, the results would have an attribute <code>"errors"</code>
containing the error summary (see <strong>Examples</strong> and <code><a href="base.html#topic+attr">attr()</a></code>).
</p>


<h3>See Also</h3>

<p><a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Guide to Citation File Format schema version 1.2.0</a>.
</p>
<p><code><a href="jsonvalidate.html#topic+json_validate">jsonvalidate::json_validate()</a></code>, that is the function that performs the
validation.
</p>
<p>Other core functions of <a href="https://CRAN.R-project.org/package=cffr"><span class="pkg">cffr</span></a>:
<code><a href="#topic+cff">cff</a>()</code>,
<code><a href="#topic+cff_create">cff_create</a>()</code>,
<code><a href="#topic+cff_modify">cff_modify</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Full .cff example
cff_validate(system.file("examples/CITATION_complete.cff", package = "cffr"))

# Validate a cffr object
cffr &lt;- cff_create("jsonlite")
class(cffr)
cff_validate(cffr)


# .cff with errors
err_f &lt;- system.file("examples/CITATION_error.cff", package = "cffr")
# Can manipulate the errors as data frame
res &lt;- try(cff_validate(err_f))

isTRUE(res)
isFALSE(res)

attr(res, "errors")

# If a CITATION file (note that is not .cff) it throws an error
try(cff_validate(system.file("CITATION", package = "cffr")))
</code></pre>

<hr>
<h2 id='cff_write'>Write a <code>CITATION.cff</code> file</h2><span id='topic+cff_write'></span>

<h3>Description</h3>

<p><strong>This is the core function of the package and likely to be the only one
you would need when developing a package</strong>.
</p>
<p>This function writes out a <code>CITATION.cff</code> file for a given package. This
function is basically a wrapper around <code><a href="#topic+cff_create">cff_create()</a></code> to both create the
<code><a href="#topic+cff">cff</a></code> object and write it out to a YAML-formatted file in
one command.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cff_write(
  x,
  outfile = "CITATION.cff",
  keys = list(),
  cff_version = "1.2.0",
  gh_keywords = TRUE,
  r_citation = FALSE,
  dependencies = TRUE,
  validate = TRUE,
  verbose = TRUE,
  authors_roles = c("aut", "cre"),
  encoding = "UTF-8"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_write_+3A_x">x</code></td>
<td>
<p>The source that would be used for generating
the <code><a href="#topic+cff">cff</a></code> object. It could be:
</p>

<ul>
<li><p> A missing value. That would retrieve the <code>DESCRIPTION</code> file on your
in-development <strong>R</strong> package.
</p>
</li>
<li><p> An existing <code><a href="#topic+cff">cff</a></code> object.
</p>
</li>
<li><p> The name of an installed package (<code>"jsonlite"</code>).
</p>
</li>
<li><p> Path to a <code>DESCRIPTION</code> file (<code>"./DESCRIPTION"</code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="cff_write_+3A_outfile">outfile</code></td>
<td>
<p>The name and path of the <code>CITATION.cff</code> to be created.</p>
</td></tr>
<tr><td><code id="cff_write_+3A_keys">keys</code></td>
<td>
<p>List of additional keys to add to the <code><a href="#topic+cff">cff</a></code> object. See
<code><a href="#topic+cff_modify">cff_modify()</a></code>.</p>
</td></tr>
<tr><td><code id="cff_write_+3A_cff_version">cff_version</code></td>
<td>
<p>The Citation File Format schema version that the
<code>CITATION.cff</code> file adheres to for providing the citation metadata.</p>
</td></tr>
<tr><td><code id="cff_write_+3A_gh_keywords">gh_keywords</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. If the package is hosted on
GitHub, would you like to add the repo topics as keywords?</p>
</td></tr>
<tr><td><code id="cff_write_+3A_r_citation">r_citation</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the <strong>R</strong> package citation
(i.e. <code>inst/CITATION</code>) would be created or updated.
<strong>No backup copy would be created</strong>, for more control use
<code><a href="#topic+cff_write_citation">cff_write_citation()</a></code>.</p>
</td></tr>
<tr><td><code id="cff_write_+3A_dependencies">dependencies</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. Would you like to add the
of your package to the <code>references</code> CFF key?</p>
</td></tr>
<tr><td><code id="cff_write_+3A_validate">validate</code></td>
<td>
<p>validate Logical <code>TRUE/FALSE</code>. Should the new file be
validated using <code>cff_validate()</code>?</p>
</td></tr>
<tr><td><code id="cff_write_+3A_verbose">verbose</code></td>
<td>
<p>Logical <code>TRUE/FALSE</code>. On <code>TRUE</code> the function would display
informative messages.</p>
</td></tr>
<tr><td><code id="cff_write_+3A_authors_roles">authors_roles</code></td>
<td>
<p>Roles to be considered as authors of the package when
generating the <code>CITATION.cff</code> file. See <strong>Details</strong>.</p>
</td></tr>
<tr><td><code id="cff_write_+3A_encoding">encoding</code></td>
<td>
<p>The name of the encoding to be assumed. Default is <code>"UTF-8"</code>,
but it can be any other value as accepted by <code><a href="base.html#topic+iconv">iconv()</a></code>, such as
<code>"ASCII//TRANSLIT"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For details of <code>authors_roles</code> see <code><a href="#topic+cff_create">cff_create()</a></code>.
</p>
<p>When creating and writing a <code>CITATION.cff</code> for the first time, the function
adds the pattern <code>"^CITATION\.cff$"</code> to your <code>.Rbuildignore</code> file to avoid
<code>NOTE</code>s and <code>WARNING</code>s in <code style="white-space: pre;">&#8288;R CMD CHECK&#8288;</code>.
</p>


<h3>Value</h3>

<p>A <code>CITATION.cff</code> file and an (invisible) <code>cff</code> object.
</p>


<h3>See Also</h3>

<p><a href="https://github.com/citation-file-format/citation-file-format/blob/main/schema-guide.md">Guide to Citation File Format schema version 1.2.0</a>.
This function unifies the workflow <code><a href="#topic+cff_create">cff_create()</a></code> + <code><a href="#topic+cff_validate">cff_validate()</a></code> +
write a file.
</p>
<p>Other functions for creating external files:
<code><a href="#topic+cff_write_bib">cff_write_bib</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
tmpfile &lt;- tempfile(fileext = ".cff")
cff_obj &lt;- cff_write("jsonlite", outfile = tmpfile)

cff_obj

# Force clean-up
file.remove(tmpfile)

</code></pre>

<hr>
<h2 id='cff_write_bib'>Export <strong>R</strong> objects to different file types</h2><span id='topic+cff_write_bib'></span><span id='topic+cff_write_citation'></span>

<h3>Description</h3>

<p>Export <strong>R</strong> objects representing citations to specific file types:
</p>

<ul>
<li> <p><code><a href="#topic+cff_write_bib">cff_write_bib()</a></code> creates a <code>.bib</code> file.
</p>
</li>
<li> <p><code><a href="#topic+cff_write_citation">cff_write_citation()</a></code> creates a <strong>R</strong> citation file as explained in
Section 1.9 CITATION files of <em>Writing R Extensions</em> (R Core Team 2023).
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>cff_write_bib(
  x,
  file = tempfile(fileext = ".bib"),
  append = FALSE,
  verbose = TRUE,
  ascii = FALSE,
  ...
)

cff_write_citation(
  x,
  file = tempfile("CITATION_"),
  append = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cff_write_bib_+3A_x">x</code></td>
<td>
<p>A <code><a href="utils.html#topic+bibentry">bibentry</a></code> or a <code><a href="#topic+cff">cff</a></code> object.</p>
</td></tr>
<tr><td><code id="cff_write_bib_+3A_file">file</code></td>
<td>
<p>Name of the file to be created. If <code>NULL</code> it would display the
lines to be written.</p>
</td></tr>
<tr><td><code id="cff_write_bib_+3A_append">append</code></td>
<td>
<p>Whether to append the entries to an existing file or not.</p>
</td></tr>
<tr><td><code id="cff_write_bib_+3A_verbose">verbose</code></td>
<td>
<p>Display informative messages</p>
</td></tr>
<tr><td><code id="cff_write_bib_+3A_ascii">ascii</code></td>
<td>
<p>Whether to write the entries using ASCII characters only or not.</p>
</td></tr>
<tr><td><code id="cff_write_bib_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+as_bibentry.cff">as_bibentry.cff</a></code>, <code><a href="#topic+as_bibentry.cff_ref">as_bibentry.cff_ref</a></code>, <code><a href="#topic+as_bibentry.cff_ref_lst">as_bibentry.cff_ref_lst</a></code>
</p>

<dl>
<dt><code>what</code></dt><dd><p>Fields to extract from a full <code>cff</code> object. The value could be:
</p>

<ul>
<li> <p><code>preferred</code>: This would create a single entry with the main citation
info of the package (key <code>preferred-citation</code>).
</p>
</li>
<li> <p><code>references</code>: Extract all the entries of <code>references</code> key.
</p>
</li>
<li> <p><code>all</code>: A combination of the previous two options. This would extract
both the <code>preferred-citation</code> and the <code>references</code> key.
</p>
</li></ul>

<p>See <code>vignette("crosswalk", package = "cffr")</code>.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>x</code> is a <code>cff</code> object it would be converted to <code>Bibtex</code> using
<code><a href="#topic+toBibtex.cff">toBibtex.cff()</a></code>.
</p>
<p>For security reasons, if the file already exists the function would create
a backup copy on the same directory.
</p>


<h3>Value</h3>

<p>Writes the corresponding file specified on the <code>file</code> parameter.
</p>


<h3>References</h3>


<ul>
<li><p> R Core Team (2023). <em>Writing R Extensions</em>.
<a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html">https://cran.r-project.org/doc/manuals/r-release/R-exts.html</a>
</p>
</li></ul>



<h3>See Also</h3>

<p><code>vignette("bibtex_cff", "cffr")</code>, <code><a href="knitr.html#topic+write_bib">knitr::write_bib()</a></code> and the
following packages:
</p>

<ul>
<li> <p><a href="https://CRAN.R-project.org/package=bibtex"><span class="pkg">bibtex</span></a>.
</p>
</li>
<li> <p><a href="https://CRAN.R-project.org/package=RefManageR"><span class="pkg">RefManageR</span></a>
</p>
</li>
<li> <p><a href="https://CRAN.R-project.org/package=rbibutils"><span class="pkg">rbibutils</span></a>
</p>
</li></ul>

<p>Other functions for working with BibTeX format:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+cff_read">cff_read</a>()</code>,
<code><a href="#topic+cff_read_bib_text">cff_read_bib_text</a>()</code>,
<code><a href="#topic+encoded_utf_to_latex">encoded_utf_to_latex</a>()</code>
</p>
<p>Other functions for creating external files:
<code><a href="#topic+cff_write">cff_write</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
bib &lt;- bibentry("Misc",
  title = "My title",
  author = "Fran Pérez"
)

my_temp_bib &lt;- tempfile(fileext = ".bib")

cff_write_bib(bib, file = my_temp_bib)

cat(readLines(my_temp_bib), sep = "\n")

cff_write_bib(bib, file = my_temp_bib, ascii = TRUE, append = TRUE)

cat(readLines(my_temp_bib), sep = "\n")

# Create a CITATION file

# Use a system file
f &lt;- system.file("examples/preferred-citation-book.cff", package = "cffr")
a_cff &lt;- cff_read(f)

out &lt;- file.path(tempdir(), "CITATION")
cff_write_citation(a_cff, file = out)

# Check by reading, use meta object
meta &lt;- packageDescription("cffr")
meta$Encoding &lt;- "UTF-8"

utils::readCitationFile(out, meta)
</code></pre>

<hr>
<h2 id='cran_to_spdx'>Mapping between <code>License</code> fields and SPDX</h2><span id='topic+cran_to_spdx'></span>

<h3>Description</h3>

<p>A dataset containing the mapping between the <code>License</code> strings observed
on CRAN packages and its (approximate) match on the
<a href="https://spdx.org/licenses/">SPDX License List</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cran_to_spdx
</code></pre>


<h3>Format</h3>

<p>A data frame with 94 rows and 2 variables:
</p>

<ul>
<li><p> LICENSE: A valid <code>License</code> string on CRAN.
</p>
</li>
<li><p> SPDX. A valid SPDX License Identifier.
</p>
</li></ul>



<h3>Source</h3>

<p><a href="https://spdx.org/licenses/">https://spdx.org/licenses/</a>
</p>


<h3>See Also</h3>

<p><em>Writing R Extensions</em>, <a href="https://cran.r-project.org/doc/manuals/r-release/R-exts.html#Licensing">Licensing section</a>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("cran_to_spdx")

head(cran_to_spdx, 20)
</code></pre>

<hr>
<h2 id='encoded_utf_to_latex'>Encode UTF-8 text to LaTeX</h2><span id='topic+encoded_utf_to_latex'></span>

<h3>Description</h3>

<p>Transform a UTF-8 string to LaTeX special characters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encoded_utf_to_latex(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="encoded_utf_to_latex_+3A_x">x</code></td>
<td>
<p>A string, possibly encoded in UTF-8 encoding system.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This is a variation of <code><a href="tools.html#topic+encoded">tools::encoded_text_to_latex()</a></code> performing some
additional replacements to increase compatibility.
</p>


<h3>Value</h3>

<p>A string with the corresponding transformations.
</p>


<h3>See Also</h3>

<p><code><a href="tools.html#topic+encoded">tools::encoded_text_to_latex()</a></code>
</p>
<p>Other functions for working with BibTeX format:
<code><a href="#topic+as_bibentry">as_bibentry</a>()</code>,
<code><a href="#topic+cff_read">cff_read</a>()</code>,
<code><a href="#topic+cff_read_bib_text">cff_read_bib_text</a>()</code>,
<code><a href="#topic+cff_write_bib">cff_write_bib</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Full range of supported characters on R
library(tools)

range &lt;- 1:511

ascii_table &lt;- data.frame(
  dec = range,
  utf8 = intToUtf8(range, multiple = TRUE)
)

# Add latex using base approach
ascii_table$latex_base &lt;- encoded_text_to_latex(ascii_table$utf8,
  encoding = "UTF-8"
)

# With cffr
ascii_table$latex_cffr &lt;- encoded_utf_to_latex(ascii_table$utf8)

ascii_table
</code></pre>

<hr>
<h2 id='write_bib'>Previous API: Write files</h2><span id='topic+write_bib'></span><span id='topic+write_citation'></span>

<h3>Description</h3>

<p><a href="https://lifecycle.r-lib.org/articles/stages.html#deprecated"><img src="../help/figures/lifecycle-deprecated.svg" alt='[Deprecated]' /></a> Please use <code><a href="#topic+cff_write_bib">cff_write_bib()</a></code> or
<code><a href="#topic+cff_write_citation">cff_write_citation()</a></code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_bib(x, file = tempfile(), append = FALSE, verbose = TRUE, ascii = FALSE)

write_citation(
  x,
  file = "./inst/CITATION",
  append = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="write_bib_+3A_x">x</code></td>
<td>
<p>A <code><a href="utils.html#topic+bibentry">bibentry</a></code> or a <code><a href="#topic+cff">cff</a></code> object.</p>
</td></tr>
<tr><td><code id="write_bib_+3A_file">file</code></td>
<td>
<p>Name of the file to be created. If <code>NULL</code> it would display the
lines to be written.</p>
</td></tr>
<tr><td><code id="write_bib_+3A_append">append</code></td>
<td>
<p>Whether to append the entries to an existing file or not.</p>
</td></tr>
<tr><td><code id="write_bib_+3A_verbose">verbose</code></td>
<td>
<p>Display informative messages</p>
</td></tr>
<tr><td><code id="write_bib_+3A_ascii">ascii</code></td>
<td>
<p>Whether to write the entries using ASCII characters only or not.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Write a file.
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+cff_write_bib">cff_write_bib()</a></code> for writing <code style="white-space: pre;">&#8288;*.bib&#8288;</code> files.
</p>
</li>
<li> <p><code><a href="#topic+cff_write_citation">cff_write_citation()</a></code> for writing <strong>R</strong> <code>CITATION</code> files.
</p>
</li></ul>

<p>Other deprecated functions:
<code><a href="#topic+cff_extract_to_bibtex">cff_extract_to_bibtex</a>()</code>,
<code><a href="#topic+cff_from_bibtex">cff_from_bibtex</a>()</code>,
<code><a href="#topic+cff_parse_citation">cff_parse_citation</a>()</code>,
<code><a href="#topic+cff_parse_person">cff_parse_person</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
bib &lt;- bibentry("Misc",
  title = "My title",
  author = "Fran Pérez"
)

my_temp_bib &lt;- tempfile(fileext = ".bib")

cff_write_bib(bib, file = my_temp_bib)

cat(readLines(my_temp_bib), sep = "\n")

cff_write_bib(bib, file = my_temp_bib, ascii = TRUE, append = TRUE)

cat(readLines(my_temp_bib), sep = "\n")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package assertthat</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {assertthat}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#are_equal'><p>Are two objects equal?</p></a></li>
<li><a href='#assert_that'><p>Assert that certain conditions are true.</p></a></li>
<li><a href='#assert-is'><p>Missing is functions.</p></a></li>
<li><a href='#assertions-file'><p>Useful test related to files</p></a></li>
<li><a href='#has_args'><p>Check a function has specified arguments</p></a></li>
<li><a href='#has_attr'><p>Has attribute or name?</p></a></li>
<li><a href='#noNA'><p>Does object contain any missing values?</p></a></li>
<li><a href='#not_empty'><p>Check an object doesn't have any empty dimensions</p></a></li>
<li><a href='#on_failure'><p>Custom failure messages for assertions.</p></a></li>
<li><a href='#scalar'><p>Assert input is a scalar.</p></a></li>
<li><a href='#validate_that'><p>Validate that certain conditions are true.</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Easy Pre and Post Assertions</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Description:</td>
<td>An extension to stopifnot() that makes it easy to declare 
    the pre and post conditions that you code should satisfy, while also 
    producing friendly error messages so that your users know what's gone
    wrong.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>tools</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, covr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>Collate:</td>
<td>'assert-that.r' 'on-failure.r' 'assertions-file.r'
'assertions-scalar.R' 'assertions.r' 'base.r'
'base-comparison.r' 'base-is.r' 'base-logical.r' 'base-misc.r'
'utils.r' 'validate-that.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-03-21 13:11:01 UTC; hadley</td>
</tr>
<tr>
<td>Author:</td>
<td>Hadley Wickham [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hadley Wickham &lt;hadley@rstudio.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-03-21 14:53:46 UTC</td>
</tr>
</table>
<hr>
<h2 id='are_equal'>Are two objects equal?</h2><span id='topic+are_equal'></span>

<h3>Description</h3>

<p>Are two objects equal?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>are_equal(x, y, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="are_equal_+3A_x">x</code>, <code id="are_equal_+3A_y">y</code></td>
<td>
<p>objects to compare</p>
</td></tr>
<tr><td><code id="are_equal_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code><a href="base.html#topic+all.equal">all.equal</a></code></p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other assertions: <code><a href="#topic+is.error">is.error</a></code>,
<code><a href="#topic+is.scalar">is.scalar</a></code>, <code><a href="#topic+noNA">noNA</a></code>,
<code><a href="#topic+not_empty">not_empty</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 2
see_if(are_equal(x, 1.9))
see_if(are_equal(x, 1.999, tol = 0.01))
see_if(are_equal(x, 2))
</code></pre>

<hr>
<h2 id='assert_that'>Assert that certain conditions are true.</h2><span id='topic+assert_that'></span><span id='topic+see_if'></span>

<h3>Description</h3>

<p><code>assert_that</code> is a drop-in replacement for <code><a href="base.html#topic+stopifnot">stopifnot</a></code> but
is designed to give informative error messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert_that(..., env = parent.frame(), msg = NULL)

see_if(..., env = parent.frame(), msg = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assert_that_+3A_...">...</code></td>
<td>
<p>unnamed expressions that describe the conditions to be tested.
Rather than combining expressions with <code>&amp;&amp;</code>, separate them by commas
so that better error messages can be generated.</p>
</td></tr>
<tr><td><code id="assert_that_+3A_env">env</code></td>
<td>
<p>(advanced use only) the environment in which to evaluate the
assertions.</p>
</td></tr>
<tr><td><code id="assert_that_+3A_msg">msg</code></td>
<td>
<p>a custom error message to be printed if one of the conditions is
false.</p>
</td></tr>
</table>


<h3>Assertions</h3>

<p>Assertion functions should return a single <code>TRUE</code> or <code>FALSE</code>:
any other result is an error, and <code>assert_that</code> will complain about
it. This will always be the case for the assertions provided by
<code>assertthat</code>, but you may need be a more careful for
base R functions.
</p>
<p>To make your own assertions that work with <code>assert_that</code>,
see the help for <code><a href="#topic+on_failure">on_failure</a></code>.  Alternatively, a custom message
can be specified for each call.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+validate_that">validate_that</a></code>, which returns a message (not an error)
if the condition is false.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1
# assert_that() generates errors, so can't be usefully run in
# examples
## Not run: 
assert_that(is.character(x))
assert_that(length(x) == 3)
assert_that(is.dir("asdf"))
y &lt;- tempfile()
writeLines("", y)
assert_that(is.dir(y))
assert_that(FALSE, msg = "Custom error message")

## End(Not run)

# But see_if just returns the values, so you'll see that a lot
# in the examples: but remember to use assert_that in your code.
see_if(is.character(x))
see_if(length(x) == 3)
see_if(is.dir(17))
see_if(is.dir("asdf"))
see_if(5 &lt; 3, msg = "Five is not smaller than three")
</code></pre>

<hr>
<h2 id='assert-is'>Missing is functions.</h2><span id='topic+is.error'></span><span id='topic+is.time'></span><span id='topic+is.date'></span>

<h3>Description</h3>

<p>Missing is functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.error(x)

is.time(x)

is.date(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assert-is_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other assertions: <code><a href="#topic+are_equal">are_equal</a></code>,
<code><a href="#topic+is.scalar">is.scalar</a></code>, <code><a href="#topic+noNA">noNA</a></code>,
<code><a href="#topic+not_empty">not_empty</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>a &lt;- Sys.time()
is.time(a)
b &lt;- Sys.Date()
is.date(b)
c &lt;- try(stop("!!"))
is.error(c)
</code></pre>

<hr>
<h2 id='assertions-file'>Useful test related to files</h2><span id='topic+assertions-file'></span><span id='topic+is.dir'></span><span id='topic+is.writeable'></span><span id='topic+is.readable'></span><span id='topic+has_extension'></span>

<h3>Description</h3>

<p>Useful test related to files
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.dir(path)

is.writeable(path)

is.readable(path)

has_extension(path, ext)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="assertions-file_+3A_path">path</code></td>
<td>
<p>a file path to examine</p>
</td></tr>
<tr><td><code id="assertions-file_+3A_ext">ext</code></td>
<td>
<p>extension to test for (<code>has_extension</code> only)</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>see_if(is.dir(1))

tmp &lt;- tempfile()
see_if(file.exists(tmp))
see_if(is.dir(tmp))

writeLines("x", tmp)
see_if(file.exists(tmp))
see_if(is.dir(tmp))
see_if(is.writeable(tmp))
see_if(is.readable(tmp))
unlink(tmp)

see_if(is.readable(tmp))
</code></pre>

<hr>
<h2 id='has_args'>Check a function has specified arguments</h2><span id='topic+has_args'></span><span id='topic++25has_args+25'></span>

<h3>Description</h3>

<p>Check a function has specified arguments
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_args(f, args, exact = FALSE)

f %has_args% args
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_args_+3A_f">f</code></td>
<td>
<p>a function</p>
</td></tr>
<tr><td><code id="has_args_+3A_args">args</code></td>
<td>
<p>a character vector of argument names</p>
</td></tr>
<tr><td><code id="has_args_+3A_exact">exact</code></td>
<td>
<p>if <code>TRUE</code>, argument names must match <code>args</code>
exactly (order and value); otherwise <code>f</code> just must have at least
<code>args</code> in any order</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>has_args(mean, "x")
has_args(mean, "x", exact = TRUE)

see_if(mean %has_args% "x")
see_if(mean %has_args% "y")
</code></pre>

<hr>
<h2 id='has_attr'>Has attribute or name?</h2><span id='topic+has_attr'></span><span id='topic++25has_attr+25'></span><span id='topic+has_name'></span><span id='topic++25has_name+25'></span>

<h3>Description</h3>

<p>Has attribute or name?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>has_attr(x, which)

x %has_attr% which

has_name(x, which)

x %has_name% which
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has_attr_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
<tr><td><code id="has_attr_+3A_which">which</code></td>
<td>
<p>name or attribute</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>has_attr(has_attr, "fail")
x &lt;- 10
x %has_attr% "a"

y &lt;- list(a = 1, b = 2)
see_if(y %has_name% "c")
</code></pre>

<hr>
<h2 id='noNA'>Does object contain any missing values?</h2><span id='topic+noNA'></span>

<h3>Description</h3>

<p>Does object contain any missing values?
</p>


<h3>Usage</h3>

<pre><code class='language-R'>noNA(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="noNA_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other assertions: <code><a href="#topic+are_equal">are_equal</a></code>,
<code><a href="#topic+is.error">is.error</a></code>, <code><a href="#topic+is.scalar">is.scalar</a></code>,
<code><a href="#topic+not_empty">not_empty</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>see_if(noNA("a"))
see_if(noNA(c(TRUE, NA)))
x &lt;- sample(c(1:10, NA), 100, rep = TRUE)
see_if(noNA(x))
</code></pre>

<hr>
<h2 id='not_empty'>Check an object doesn't have any empty dimensions</h2><span id='topic+not_empty'></span>

<h3>Description</h3>

<p>Check an object doesn't have any empty dimensions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>not_empty(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="not_empty_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other assertions: <code><a href="#topic+are_equal">are_equal</a></code>,
<code><a href="#topic+is.error">is.error</a></code>, <code><a href="#topic+is.scalar">is.scalar</a></code>,
<code><a href="#topic+noNA">noNA</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>not_empty(numeric())
not_empty(mtcars[0, ])
not_empty(mtcars[, 0])
</code></pre>

<hr>
<h2 id='on_failure'>Custom failure messages for assertions.</h2><span id='topic+on_failure'></span><span id='topic+on_failure+3C-'></span>

<h3>Description</h3>

<p>Custom failure messages for assertions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>on_failure(x)

on_failure(x) &lt;- value
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="on_failure_+3A_x">x</code></td>
<td>
<p>a assertion function that returns <code>TRUE</code> if the assertion
is met, <code>FALSE</code> otherwise.</p>
</td></tr>
<tr><td><code id="on_failure_+3A_value">value</code></td>
<td>
<p>a function with parameters <code>call</code> and <code>env</code>
that returns a custom error message as a string.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>is_odd &lt;- function(x) {
  assert_that(is.numeric(x), length(x) == 1)
  x %% 2 == 1
}
see_if(is_odd(2))

on_failure(is_odd) &lt;- function(call, env) {
  paste0(deparse(call$x), " is even")
}
see_if(is_odd(2))
</code></pre>

<hr>
<h2 id='scalar'>Assert input is a scalar.</h2><span id='topic+is.scalar'></span><span id='topic+is.string'></span><span id='topic+is.number'></span><span id='topic+is.flag'></span><span id='topic+is.count'></span>

<h3>Description</h3>

<p><code>is.scalar</code> provides a generic method for checking input is a scalar.
<code>is.string</code>, <code>is.flag</code>, <code>is.number</code> and <code>is.count</code>
provide tests for specific types.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.scalar(x)

is.string(x)

is.number(x)

is.flag(x)

is.count(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scalar_+3A_x">x</code></td>
<td>
<p>object to test</p>
</td></tr>
</table>


<h3>See Also</h3>

<p>Other assertions: <code><a href="#topic+are_equal">are_equal</a></code>,
<code><a href="#topic+is.error">is.error</a></code>, <code><a href="#topic+noNA">noNA</a></code>,
<code><a href="#topic+not_empty">not_empty</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Generic check for scalars
see_if(is.scalar("a"))
see_if(is.scalar(1:10))

# string = scalar character vector
see_if(is.string(1:3))
see_if(is.string(c("a", "b")))
see_if(is.string("x"))

# number = scalar numeric/integer vector
see_if(is.number(1:3))
see_if(is.number(1.5))

# flag = scalar logical vector
see_if(is.flag(1:3))
see_if(is.flag("a"))
see_if(is.flag(c(FALSE, FALSE, TRUE)))
see_if(is.flag(FALSE))

# count = scalar positive integer
see_if(is.count("a"))
see_if(is.count(-1))
see_if(is.count(1:5))
see_if(is.count(1.5))
see_if(is.count(1))

</code></pre>

<hr>
<h2 id='validate_that'>Validate that certain conditions are true.</h2><span id='topic+validate_that'></span>

<h3>Description</h3>

<p><code>validate_that</code> is an alternative to the function
<code><a href="#topic+assert_that">assert_that</a></code>, that returns a <code>character</code> vector. This
makes them easier to use within S4 <code>"validate"</code> methods.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_that(..., env = parent.frame(), msg = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_that_+3A_...">...</code></td>
<td>
<p>unnamed expressions that describe the conditions to be tested.
Rather than combining expressions with <code>&amp;&amp;</code>, separate them by commas
so that better error messages can be generated.</p>
</td></tr>
<tr><td><code id="validate_that_+3A_env">env</code></td>
<td>
<p>(advanced use only) the environment in which to evaluate the
assertions.</p>
</td></tr>
<tr><td><code id="validate_that_+3A_msg">msg</code></td>
<td>
<p>a custom error message to be printed if one of the conditions is
false.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>character</code> vector if the assertion is false, or <code>TRUE</code>
if the assertion is true.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+assert_that">assert_that</a></code>, which returns an error if the condition
is false.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1
# assert_that() generates errors, so can't be usefully run in
# examples
validate_that(is.numeric(x))
validate_that(is.character(x))
validate_that(length(x) == 3)
validate_that(is.dir("asdf"))
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package gStream</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gStream}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#distM1'><p>An distance matrix constructed from L2 distance</p></a></li>
<li><a href='#gstream'><p>Sequential Change-Point Detection based on k-Nearest Neighbors</p></a></li>
<li><a href='#gStream'><p>Graph-Based Sequential Change-Point Detection</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2019-04-28</td>
</tr>
<tr>
<td>Title:</td>
<td>Graph-Based Sequential Change-Point Detection for Streaming Data</td>
</tr>
<tr>
<td>Author:</td>
<td>Hao Chen and Lynna Chu</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Hao Chen &lt;hxchen@ucdavis.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.1)</td>
</tr>
<tr>
<td>Description:</td>
<td>Uses an approach based on k-nearest neighbor information to sequentially detect change-points. Offers analytic approximations for false discovery control given user-specified average run length.  Can be applied to any type of data (high-dimensional, non-Euclidean, etc.) as long as a reasonable similarity measure is available.  See references (1) Chen, H. (2019) Sequential change-point detection based on nearest neighbors. The Annals of Statistics, 47(3):1381-1407. (2) Chu, L. and Chen, H. (2018) Sequential change-point detection for high-dimensional and non-Euclidean data &lt;<a href="https://doi.org/10.48550/arXiv.1810.05973">doi:10.48550/arXiv.1810.05973</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2019-04-30 21:27:32 UTC; haochen</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-05-01 22:00:03 UTC</td>
</tr>
</table>
<hr>
<h2 id='distM1'>An distance matrix constructed from L2 distance</h2><span id='topic+distM1'></span>

<h3>Description</h3>

<p>This is the variable name for a distance matrix in the &quot;Example&quot; data. It is constructed from a sequence of 40 observations of dimension 10. The first 20 observations are considered historical observations. There is a change in mean at t = 10.
</p>

<hr>
<h2 id='gstream'>Sequential Change-Point Detection based on k-Nearest Neighbors</h2><span id='topic+gstream'></span>

<h3>Description</h3>

<p>This function finds change-points in the sequence when the underlying distribution changes. It reports four graph-based test statistics and the analytical approximations for thresholds used in their corresponding stopping rules.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gstream(distM, L, N0, k, statistics = c("all", "o", "w", "g", "m"),
n0 = 0.3*L, n1 = 0.7*L, ARL = 10000, alpha = 0.05, skew.corr = TRUE, asymp = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="gstream_+3A_distm">distM</code></td>
<td>
<p>A distance matrix constructed based on some distance measure.</p>
</td></tr>
<tr><td><code id="gstream_+3A_l">L</code></td>
<td>
<p>The number of observations the k-NN graph will be constructed from.</p>
</td></tr>
<tr><td><code id="gstream_+3A_n0">N0</code></td>
<td>
<p>The number of historical observations.</p>
</td></tr>
<tr><td><code id="gstream_+3A_k">k</code></td>
<td>
<p>A fixed integer used to construct k-NN graph.</p>
</td></tr>
<tr><td><code id="gstream_+3A_statistics">statistics</code></td>
<td>
<p>The scan statistic to be computed. A character indicating the type of of scan statistic desired. The default is <code>"all"</code>.
</p>
<p><code>"all"</code>: specifies to compute <b>a</b>ll of the scan statistics: original, weighted, generalized, and max-type;
</p>
<p><code>"o", "ori"</code> or <code>"original"</code>: specifies the <b>o</b>riginal edge-count scan statistic;
</p>
<p><code>"w"</code> or <code>"weighted"</code>: specifies the <b>w</b>eighted edge-count scan statistic;
</p>
<p><code>"g"</code> or <code>"generalized"</code>: specifies the <b>g</b>eneralized edge-count scan statistic; and
</p>
<p><code>"m"</code> or <code>"max"</code>: specifies the <b>m</b>ax-type edge-count scan statistic.
</p>
</td></tr>
<tr><td><code id="gstream_+3A_n0">n0</code></td>
<td>
<p>The starting index to be considered as a candidate for the change-point. We recommend you set this to be 0.2*L</p>
</td></tr>
<tr><td><code id="gstream_+3A_n1">n1</code></td>
<td>
<p>The ending index to be considered as a candidate for the change-point. For example, n1 = L-n0.</p>
</td></tr>
<tr><td><code id="gstream_+3A_arl">ARL</code></td>
<td>
<p>The average run length: the expectation of the stopping rule when there is no change-point.</p>
</td></tr>
<tr><td><code id="gstream_+3A_alpha">alpha</code></td>
<td>
<p>The probability of an early stop.</p>
</td></tr>
<tr><td><code id="gstream_+3A_skew.corr">skew.corr</code></td>
<td>
<p>Default is TRUE. If skew.corr is TRUE, the average run length approximation would incorporate skewness correction.</p>
</td></tr>
<tr><td><code id="gstream_+3A_asymp">asymp</code></td>
<td>
<p>Default is FALSE. If asymp is TRUE, the average run length approximation will be based on the asymptotic analytical formulas.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a list with items <code>scanZ</code>, <code>b</code> and <code>tauhat</code> for each type of statistic specified. See below for more details.
</p>
<table>
<tr><td><code>scanZ</code></td>
<td>
<p>A vector of the test statistic (maximum of the scan statistics) for each time n = N0+1,..N.
</p>
<p><code>ori</code>: A vector of the original scan statistics (standardized counts) if statistic specified is &quot;all&quot; or &quot;o&quot;.
</p>
<p><code>weighted</code>: A vector of the weighted scan statistics (standardized counts) if statistic specified is &quot;all&quot; or &quot;w&quot;.
</p>
<p><code>generalized</code>: A vector of the generalized scan statistics (standardized counts) if statistic specified is &quot;all&quot; or &quot;g&quot;.
</p>
<p><code>max.type</code>: A vector of the max-type scan statistics (standardized counts) if statistic specified is &quot;all&quot; or &quot;m&quot;.</p>
</td></tr>
<tr><td><code>b</code></td>
<td>
<p>Thresholds used in the stopping rules for each test statistic. These thresholds are based on analytical approximations of the average run length.</p>
</td></tr>
<tr><td><code>tauhat</code></td>
<td>
<p>Estimate of the locations of change-points based on the thresholds.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+gStream">gStream</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># This example contains two distance matrices (distM1 and distM2).
# Information on how distM1 and distM2 are generated can be found in gStream.

# data(Example)

# Example:
 # distM1 is a distance matrix constructed from a dataset with n=40 observation.
  # The first 20 observations are treated as historical observations.
  # It has been determined that there are no change-points among the
  # first 20 observations (see package gSeg for offline change-point detection).
  # There is change in mean when tau = 20 (This means a change happens 20 observations
  # after we start the tests. We start the test at N0+1 = 21.)

  # Uncomment the following to run
  # N0 = 20
  # L = 20 # the k-nn graph is constructed on only the L most recent observations.
  # k = 1

  # r1= gstream(distM1, L, N0, k, statistics="all", n0=0.3*L, n1=0.7*L,
  # ARL=200,alpha=0.05, skew.corr=TRUE, asymp=FALSE)
  # output results based on all four statistics; the scan statistics can be found in r1$scanZ
  # r1$tauhat # reports the locations where a change-point is detected
  # r1$b # reports the analytical approximations of the thresholds used in the stopping rules

  # Set ARL = 10,000
  # r1= gstream(distM1, L, N0, k, statistics="all", n0=0.3*L, n1=L-0.3*L,
  # ARL=10000,alpha=0.05, skew.corr=TRUE, asymp=FALSE) # uncomment to run this function
</code></pre>

<hr>
<h2 id='gStream'>Graph-Based Sequential Change-Point Detection</h2><span id='topic+gStream'></span>

<h3>Description</h3>

<p>This package can be used to estimate change-points in a sequence of sequentially generated observations, where the observation can be a vector or a data object, e.g., a network.  A distance matrix is required.
</p>
<p>The function <code><a href="#topic+gstream">gstream</a></code> will report the graph-based test statistics and the thresholds used in the stopping rules for a given average run length.
</p>


<h3>Author(s)</h3>

<p>Hao Chen and Lynna Chu
</p>
<p>Maintainer: Hao Chen (hxchen@ucdavis.edu) and Lynna Chu (lbchu@ucdavis.edu)
</p>


<h3>References</h3>

<p>Chen, H. (2019) Sequential Change-point Detection Based on Nearest Neighbors. The Annals of Statistics, 47(3):1381-1407.
</p>
<p>Chu, L. and Chen, H. (2018) Sequential Change-point Detection for High-dimensional and non-Euclidean Data. arXiv:1810.05973.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gstream">gstream</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>  # This example contains two distance matrices constructed using L2 distance (distM1 and distM2).
  #In this example, the data is treated as if it were being observed sequentally
  # in order to illustrate how the package works.

  # Example:
  # distM1 is a distance matrix constructed from a dataset with n=40 observation.
  # The first 20 observations are treated as historical observations.
  # It has been determined that there are no change-points among the
  # first 20 observations (see package gSeg for offline change-point detection).
  # There is change in mean when tau = 20 (This means a change happens 20 observations
  # after we start the tests. We start the test at N0+1 = 21.)
  # The following code shows the data generating scheme to create distM1:
  # (uncomment to run)
  # N0 = 20 # the first 20 observations are historical observations
  # N1 = N0 + 10
  # N2 = N1 + 10
  # d = 10
  # vmu = 10
  # set.seed(15)
  # y1 = matrix(0,N1,d)
  # y2 = matrix(0,N2-N1,d)
  # for (i in 1:N1) y1[i,] = rnorm(d)
  # for (i in 1:(N2-N1)) y2[i,] = rnorm(d, vmu)
  # y = rbind(y1,y2)
  # distM1 = as.matrix(dist(y))
  # diag(distM1) = max(distM1)+100

  # Uncomment the following to run
  # N0 = 20
  # L = 20 # the k-nn graph is constructed on only the L most recent observations.
  # k = 1

  # r1= gstream(distM1, L, N0, k, statistics="all", n0=0.3*L, n1=L-0.3*L,
  # ARL=200,alpha=0.05, skew.corr=TRUE,asymp=FALSE)

  # output results based on all four statistics; the scan statistics can be found in r1$scanZ
  # r1$tauhat # reports the locations where a change-point is detected
  # r1$b # reports the analytical approximations of the thresholds used in the stopping rules

  # Set ARL = 10,000
  # r1= gstream(distM1, L, N0, k, statistics="all", n0=0.3*L, n1=L-0.3*L,
  # ARL=10000,alpha=0.05, skew.corr=TRUE,asymp=FALSE) # uncomment to run this function
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

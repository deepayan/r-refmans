<!DOCTYPE html><html lang="en"><head><title>Help for package gmt</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {gmt}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#gmt-package'><p>Interface between the GMT Map-Making Software and R</p></a></li>
<li><a href='#deg2num'><p>Convert Degrees to Numeric</p></a></li>
<li><a href='#geodist'><p>Distance Between Geographic Coordinates</p></a></li>
<li><a href='#gmt'><p>Initialize GMT Session</p></a></li>
<li><a href='#gmt.demo'><p>GMT Example Data</p></a></li>
<li><a href='#gmt.system'><p>Invoke shell command</p></a></li>
<li><a href='#num2deg'><p>Convert Numeric to Degrees</p></a></li>
<li><a href='#psbar'><p>Add Bars to GMT Mercator Map</p></a></li>
<li><a href='#psclose'><p>Finalize GMT Map</p></a></li>
<li><a href='#pscoast'><p>Draw GMT Map</p></a></li>
<li><a href='#pstext'><p>Add Text/Symbols to GMT Map</p></a></li>
<li><a href='#psxy'><p>Add Lines/Symbols to GMT Map</p></a></li>
<li><a href='#r2gmt'><p>Prepare Data for GMT</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Version:</td>
<td>2.0.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-06-06</td>
</tr>
<tr>
<td>Title:</td>
<td>Interface Between GMT Map-Making Software and R</td>
</tr>
<tr>
<td>Imports:</td>
<td>utils</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>gmt</td>
</tr>
<tr>
<td>LazyData:</td>
<td>yes</td>
</tr>
<tr>
<td>Description:</td>
<td>Interface between the GMT map-making software and R, enabling the
  user to manipulate geographic data within R and call GMT commands to draw and
  annotate maps in postscript format. The gmt package is about interactive data
  analysis, rapidly visualizing subsets and summaries of geographic data, while
  performing statistical analysis in the R console.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.generic-mapping-tools.org">https://www.generic-mapping-tools.org</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-06-06 04:56:58 UTC; arnim</td>
</tr>
<tr>
<td>Author:</td>
<td>Arni Magnusson [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Arni Magnusson &lt;thisisarni@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-06-06 20:10:08 UTC</td>
</tr>
</table>
<hr>
<h2 id='gmt-package'>Interface between the GMT Map-Making Software and R</h2><span id='topic+gmt-package'></span>

<h3>Description</h3>

<p>Interface between the GMT map-making software and <span class="rlang"><b>R</b></span>, enabling the
user to manipulate geographic data within <span class="rlang"><b>R</b></span> and call GMT commands to
draw and annotate maps in postscript format.
</p>


<h3>Details</h3>

<p><em>Initialize GMT session:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+gmt">gmt</a></code> </td><td style="text-align: left;"> set graphical parameters and postscript file
  </td>
</tr>

</table>

<p><em>Create a map:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+pscoast">pscoast</a></code> </td><td style="text-align: left;"> draw</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+psxy">psxy</a></code>    </td><td style="text-align: left;"> annotate</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+pstext">pstext</a></code>  </td><td style="text-align: left;"> annotate</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+psbar">psbar</a></code>   </td><td style="text-align: left;"> annotate</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+psclose">psclose</a></code> </td><td style="text-align: left;"> finalize
  </td>
</tr>

</table>

<p><em>Convert and calculate:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+deg2num">deg2num</a></code> </td><td style="text-align: left;"> degrees to numeric</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+geodist">geodist</a></code> </td><td style="text-align: left;"> distance between coordinates</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+num2deg">num2deg</a></code> </td><td style="text-align: left;"> numeric to degrees
  </td>
</tr>

</table>

<p><em>Examples:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+demo.par">demo.par</a></code>, <code><a href="#topic+demo.coast">demo.coast</a></code>,
    <code><a href="#topic+demo.xy">demo.xy</a></code>, <code><a href="#topic+demo.text">demo.text</a></code>,
    <code><a href="#topic+demo.bar">demo.bar</a></code> </td><td style="text-align: left;"> strings and data frames to create
    example map
  </td>
</tr>

</table>

<p><em>Internal:</em>
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code><a href="#topic+gmt.system">gmt.system</a></code>, <code><a href="#topic+r2gmt">r2gmt</a></code> </td><td style="text-align: left;"> helping functions
  </td>
</tr>

</table>

<p>This package provides functions to draw basic maps with GMT, along
with helping functions that can be used to add more advanced features
to a map.
</p>
<p>GMT users typically write shell scripts to draw maps. The <span class="pkg">gmt</span>
package is about interactive data analysis, rapidly visualizing
subsets and summaries of geographic data, while performing statistical
analysis in the <span class="rlang"><b>R</b></span> console.
</p>


<h3>Author(s)</h3>

<p>Arni Magnusson.</p>


<h3>References</h3>

<p>Wessel, P., Smith, W. H. F., Scharroo, R., Luis, J. and Wobbe, F.
<cite>The Generic Mapping Tools: GMT documentation.</cite> Available at
<a href="https://docs.generic-mapping-tools.org">https://docs.generic-mapping-tools.org</a>.
</p>

<hr>
<h2 id='deg2num'>Convert Degrees to Numeric</h2><span id='topic+deg2num'></span>

<h3>Description</h3>

<p>Convert deg:min:sec string to decimal number.</p>


<h3>Usage</h3>

<pre><code class='language-R'>deg2num(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="deg2num_+3A_x">x</code></td>
<td>
<p>string or vector of strings.</p>
</td></tr></table>


<h3>Details</h3>

<p>Degrees, minutes and seconds are separated by colons, and each can
have a decimal point as well. First character must be a minus sign or
number, and last character must be W, E, S, N, or number.
</p>


<h3>Value</h3>

<p>Numeric representation of the degree string(s).</p>


<h3>Note</h3>

<p>The string format is adopted from <cite>Appendix B.1.1</cite> in the GMT
manual.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.numeric">as.numeric</a></code> converts strings to numbers when things are
straightforward.
</p>
<p><code>deg2num</code> is the opposite of <code><a href="#topic+num2deg">num2deg</a></code>.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The opposite of num2deg() example
deg2num(c("12:30:44.5W", "17.5S", "1:00:05", "200:45E"))
</code></pre>

<hr>
<h2 id='geodist'>Distance Between Geographic Coordinates</h2><span id='topic+geodist'></span>

<h3>Description</h3>

<p>Calculate surface distance between geographic coordinates.</p>


<h3>Usage</h3>

<pre><code class='language-R'>geodist(Nfrom, Efrom, Nto, Eto, units="km")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="geodist_+3A_nfrom">Nfrom</code></td>
<td>
<p>latitude of origin.</p>
</td></tr>
<tr><td><code id="geodist_+3A_efrom">Efrom</code></td>
<td>
<p>longitude of origin.</p>
</td></tr>
<tr><td><code id="geodist_+3A_nto">Nto</code></td>
<td>
<p>latitude of destination.</p>
</td></tr>
<tr><td><code id="geodist_+3A_eto">Eto</code></td>
<td>
<p>longitude of destination.</p>
</td></tr>
<tr><td><code id="geodist_+3A_units">units</code></td>
<td>
<p>how distance is measured: <code>"km"</code> for kilometres,
<code>"nm"</code> for nautical miles.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Latitude and longitude are passed as decimal numbers, e.g. 66.5 for
66<code class="reqn">^{\circ}</code>30<code class="reqn">'</code>N. Vectors of coordinates are supported.
</p>


<h3>Value</h3>

<p>Vector of distances.</p>


<h3>Note</h3>

<p>The surface distance between geographic coordinates is:
</p>
<p style="text-align: center;"><code class="reqn">
    D \:=\: \cos^{-1}\!\!\big[\:\!\!\sin\theta_1\sin\theta_2 \,+\,
    \cos\theta_1\cos\theta_2\cos(\phi_1\;\!\!\!-\!\phi_2)\big]
  </code>
</p>

<p>where distance and coordinates are expressed in radians.
<code class="reqn">\theta_1</code> and <code class="reqn">\theta_2</code> is the latitude of origin
and destination, and <code class="reqn">\phi_1</code> and <code class="reqn">\phi_2</code> is
longitude.
</p>
<p>The calculations assume a perfect sphere and elevation differences are
ignored. The SI definition of a nautical mile is exactly 1.852 km.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+diff">diff</a></code>, <code><a href="base.html#topic+Trig">Trig</a></code>.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>geodist(55.75,37.63, 39.9,116.4)  # Moscow - Beijing
geodist(90,0, -90,0, "nm")        # from pole to pole
</code></pre>

<hr>
<h2 id='gmt'>Initialize GMT Session</h2><span id='topic+gmt'></span>

<h3>Description</h3>

<p>Initialize a GMT session by setting graphical parameters and current
postscript file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gmt(par=NULL, file="map.ps", style="s", quiet=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gmt_+3A_par">par</code></td>
<td>
<p>optional string of GMT parameters,
<code>"PARAMETER1=value1 PARAMETER2=value2 ..."</code>, passed to GMT
shell command <code>gmtset</code>.</p>
</td></tr>
<tr><td><code id="gmt_+3A_file">file</code></td>
<td>
<p>postscript filename used in subsequent calls to GMT plot
functions, passed to <code>options</code>.</p>
</td></tr>
<tr><td><code id="gmt_+3A_style">style</code></td>
<td>
<p>default units and values: <code>"s"</code> for SI
(international) or <code>"u"</code> for United States, passed to GMT shell
command <code>gmtset</code>.</p>
</td></tr>
<tr><td><code id="gmt_+3A_quiet">quiet</code></td>
<td>
<p>whether current settings should be displayed.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>file</code> argument can be supplied with (recommended) or without
a full directory path. Without a path, the R working directory is used
(see <code>getwd</code> and <code>setwd</code>).
</p>
<p>See the GMT documentation for details on graphical parameters,
<code>gmtdefaults</code>, <code>gmtset</code> and other GMT commands.
</p>


<h3>Value</h3>

<p>List containing the current <code>options("gmt.file")</code>.
</p>
<p>If <code>par</code> is <code>NULL</code>, no GMT parameters are changed, but the
current parameter values and postscript filename can be reviewed.
</p>
<p>If <code>par</code> is a string (empty <code>""</code> will do), a GMT
configuration file is created in the current map directory,
<code>dirname(file)</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+options">options</a></code> could be used to set <code>gmt.file</code> directly.
</p>
<p><code>gmt</code>, <code><a href="#topic+pscoast">pscoast</a></code>, <code><a href="#topic+psxy">psxy</a></code>,
<code><a href="#topic+pstext">pstext</a></code>, <code><a href="#topic+psbar">psbar</a></code>, and <code><a href="#topic+psclose">psclose</a></code>
work together to draw maps.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in R working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

## End(Not run)
</code></pre>

<hr>
<h2 id='gmt.demo'>GMT Example Data</h2><span id='topic+gmt.demo'></span><span id='topic+demo.par'></span><span id='topic+demo.coast'></span><span id='topic+demo.xy'></span><span id='topic+demo.text'></span><span id='topic+demo.bar'></span>

<h3>Description</h3>

<p>These five objects are provided to demonstrate the functionality of
the <span class="pkg">gmt</span> package.</p>


<h3>Usage</h3>

<pre><code class='language-R'>demo.par
demo.coast
demo.xy
demo.text
demo.bar
</code></pre>


<h3>Format</h3>

<p><code>demo.par</code> and <code>demo.coast</code> are simple strings.
</p>
<p><code>demo.xy</code> is a data frame containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>Lon</code></td><td style="text-align: left;"> Longitude</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Lat</code></td><td style="text-align: left;"> Latitude</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Size</code></td><td style="text-align: left;"> Size of plot symbol</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p><code>demo.text</code> is a data frame containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>Lon</code></td><td style="text-align: left;"> Longitude</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Lat</code></td><td style="text-align: left;"> Latitude</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Size</code></td><td style="text-align: left;"> Size of plot symbol</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Angle</code></td><td style="text-align: left;"> Angle in degrees counter-clockwise from
    horizontal</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Font</code></td><td style="text-align: left;"> Font number</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Justify</code></td><td style="text-align: left;"> Justification code</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Text</code></td><td style="text-align: left;"> Text label</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>

<p><code>demo.bar</code> is a data frame containing:
</p>

<table>
<tr>
 <td style="text-align: left;">
    <code>Lon</code></td><td style="text-align: left;"> Longitude</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Lat</code></td><td style="text-align: left;"> Longitude</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Width</code></td><td style="text-align: left;"> Bar width in degrees</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code>Height</code></td><td style="text-align: left;"> Bar height in degrees</td>
</tr>
<tr>
 <td style="text-align: left;">
  </td>
</tr>

</table>



<h3>Details</h3>

<p>See the GMT documentation for details on <code>psxy</code>,
<code>pstext</code> and other GMT commands.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in R working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

## End(Not run)
</code></pre>

<hr>
<h2 id='gmt.system'>Invoke shell command</h2><span id='topic+gmt.system'></span>

<h3>Description</h3>

<p>This internal function invokes a shell command, possibly directing the
output to a file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gmt.system(cmd, file=NULL, append=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gmt.system_+3A_cmd">cmd</code></td>
<td>
<p>system command to be invoked, as a string.</p>
</td></tr>
<tr><td><code id="gmt.system_+3A_file">file</code></td>
<td>
<p>filename to which output should be directed.</p>
</td></tr>
<tr><td><code id="gmt.system_+3A_append">append</code></td>
<td>
<p>whether output should be appended to existing file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Command output as a vector of strings.</p>


<h3>Note</h3>

<p><code>gmt.system</code> is a fast platform-independent wrapper for
<code>system</code>, supporting redirection to file.
</p>
<p>It is mainly called by other functions, but users may find it useful
for running various GMT commands.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+system">system</a></code>, <code><a href="base.html#topic+writeLines">writeLines</a></code>.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Assuming bermuda.nc is in R working directory
gmt.system("gmt grdcontour bermuda.nc -JM7i -C250 -A1000 -B2", file="b.ps")

## End(Not run)
</code></pre>

<hr>
<h2 id='num2deg'>Convert Numeric to Degrees</h2><span id='topic+num2deg'></span>

<h3>Description</h3>

<p>Convert decimal number to deg:min:sec string.</p>


<h3>Usage</h3>

<pre><code class='language-R'>num2deg(x, lat=NA, dec=FALSE, digits=0, zero=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="num2deg_+3A_x">x</code></td>
<td>
<p>number or vector of numbers.</p>
</td></tr>
<tr><td><code id="num2deg_+3A_lat">lat</code></td>
<td>
<p>whether <code>x</code> is latitude.</p>
</td></tr>
<tr><td><code id="num2deg_+3A_dec">dec</code></td>
<td>
<p>whether to return decimal degrees instead of deg:min:sec.</p>
</td></tr>
<tr><td><code id="num2deg_+3A_digits">digits</code></td>
<td>
<p>precision used when rounding decimal degrees or
seconds.</p>
</td></tr>
<tr><td><code id="num2deg_+3A_zero">zero</code></td>
<td>
<p>whether trailing <code>:00</code> zeros should be retained.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Element-specific format is supported, using vectors for <code>lat</code>,
<code>digits</code>, and <code>precision</code>.
</p>
<p>The resulting string ends with N or S when <code>lat</code> is <code>TRUE</code>,
E or W when <code>lat</code> is <code>FALSE</code>, or a number when <code>lat</code> is
<code>NA</code>.
</p>


<h3>Value</h3>

<p>deg:min:sec string representation of the number(s).</p>


<h3>Note</h3>

<p>The string format is adopted from <cite>Appendix B.1.1</cite> in the GMT
manual.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+as.character">as.character</a></code> converts plain numbers to strings.
</p>
<p><code>num2deg</code> is the opposite of <code><a href="#topic+deg2num">deg2num</a></code>.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The opposite of deg2num() example
num2deg(c(-12.51236, -17.5, 1.00139, 200.75),
        lat=c(FALSE, TRUE,  NA,      FALSE),
        dec=c(FALSE, TRUE,  FALSE,   FALSE),
        digits=c(1,  1,     0,       0))
</code></pre>

<hr>
<h2 id='psbar'>Add Bars to GMT Mercator Map</h2><span id='topic+psbar'></span>

<h3>Description</h3>

<p>Call GMT to add bars to a map and save in postscript format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psbar(x, cmd="-J -R -W1p -G180 -O -K", file=getOption("gmt.file"),
      ref=0, digits=getOption("digits"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psbar_+3A_x">x</code></td>
<td>
<p>data frame, matrix, or filename containing the data to be
plotted.</p>
</td></tr>
<tr><td><code id="psbar_+3A_cmd">cmd</code></td>
<td>
<p>string of arguments passed to GMT shell command
<code>psxy</code>.</p>
</td></tr>
<tr><td><code id="psbar_+3A_file">file</code></td>
<td>
<p>filename where the map is saved.</p>
</td></tr>
<tr><td><code id="psbar_+3A_ref">ref</code></td>
<td>
<p>reference latitude where height 1 renders a bar 1 degree
high.</p>
</td></tr>
<tr><td><code id="psbar_+3A_digits">digits</code></td>
<td>
<p>precision used when rounding the geographic
coordinates.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data are arranged in four columns: Lon, Lat, Width, and Height, in
that order.
</p>
<p>If <code>x</code> is a filename, the data should be tabular with or without
a header, separated by commas or whitespace. The first line is
interpreted as header if the first non-whitespace character is not
minus, point, or number.
</p>
<p>This function provides an alternative to <code>psxy -Sb</code> and
<code>psxy -Sr</code> for drawing bars on a Mercator map. See the
GMT documentation for details on <code>psxy</code> and other GMT
commands.
</p>


<h3>Value</h3>

<p>Null, but the map is annotated and saved in postscript format.
</p>
<p>The temporary GMT input file &lsquo;<span class="file">bar.gmt</span>&rsquo; is saved in directory
<code>dirname(tempdir())</code>, for the user to view or edit. It is later
removed by <code>psclose()</code>.
</p>


<h3>Note</h3>

<p>This function does the necessary calculations to draw bars in standard
height given a Mercator-projected map. It is not intended for other
projections.
</p>
<p>The derivative of the Mercator projection is used to standardize the
bar height:
</p>
<p style="text-align: center;"><code class="reqn">
    f'\!(\theta) \;=\; \frac{1}
    {2\tan\;\!\!\!\Big(\!\frac\pi4\!+\!\frac\theta2\!\Big)
      \cos^2\!\Big(\!\frac\pi4\!+\!\frac\theta2\!\Big)}
  </code>
</p>

<p>where <code class="reqn">\theta</code> is latitude in radians and <code class="reqn">f(\theta)</code>
is the y-axis coordinate. The bar height at a given latitude is
<code class="reqn">h\times f'(\theta_{\mathrm{ref}})/f'(\theta)</code>,
where <code class="reqn">h</code> is the height passed by the user and
<code class="reqn">\theta_{\mathrm{ref}}</code> is a reference latitude where
<code class="reqn">h\!=\!1</code> renders a bar 1 degree high.
</p>


<h3>See Also</h3>

<p>Similar to <code><a href="graphics.html#topic+barplot">barplot</a></code> and <code><a href="grDevices.html#topic+postscript">postscript</a></code> in
native <span class="rlang"><b>R</b></span> graphics.
</p>
<p><code><a href="#topic+gmt">gmt</a></code>, <code><a href="#topic+pscoast">pscoast</a></code>, <code><a href="#topic+psxy">psxy</a></code>,
<code><a href="#topic+pstext">pstext</a></code>, <code>psbar</code>, and <code><a href="#topic+psclose">psclose</a></code> work
together to draw maps.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in R working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

## End(Not run)
</code></pre>

<hr>
<h2 id='psclose'>Finalize GMT Map</h2><span id='topic+psclose'></span>

<h3>Description</h3>

<p>Call GMT to finalize a map and save in postscript format.</p>


<h3>Usage</h3>

<pre><code class='language-R'>psclose(file=getOption("gmt.file"), trailer=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psclose_+3A_file">file</code></td>
<td>
<p>filename where the map is saved.</p>
</td></tr>
<tr><td><code id="psclose_+3A_trailer">trailer</code></td>
<td>
<p>whether a closing trailer should be appended to the
postscript file.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A closing trailer is required if the last plotting command included
<code>-K</code> (default behaviour).
</p>


<h3>Value</h3>

<p><code>NULL</code>, but the map is finalized and saved in postscript format.
</p>


<h3>Note</h3>

<p>This function performs two tasks:
</p>

<ol>
<li><p> Appends a closing trailer to the postscript file (optional).
</p>
</li>
<li><p> Removes GMT files in temporary directory.
</p>
</li></ol>



<h3>See Also</h3>

<p>Analogous to <code><a href="grDevices.html#topic+dev.off">dev.off</a></code> and <code><a href="grDevices.html#topic+postscript">postscript</a></code> in
native <span class="rlang"><b>R</b></span> graphics.
</p>
<p><code><a href="#topic+gmt">gmt</a></code>, <code><a href="#topic+pscoast">pscoast</a></code>, <code><a href="#topic+psxy">psxy</a></code>,
<code><a href="#topic+pstext">pstext</a></code>, <code><a href="#topic+psbar">psbar</a></code>, and <code>psclose</code>
work together to draw maps.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in R working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

## End(Not run)
</code></pre>

<hr>
<h2 id='pscoast'>Draw GMT Map</h2><span id='topic+pscoast'></span>

<h3>Description</h3>

<p>Call GMT to draw a map (coastlines, borders, rivers) and save in
postscript format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pscoast(cmd, file=getOption("gmt.file"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pscoast_+3A_cmd">cmd</code></td>
<td>
<p>string of arguments passed to GMT shell command
<code>pscoast</code>.</p>
</td></tr>
<tr><td><code id="pscoast_+3A_file">file</code></td>
<td>
<p>filename where the map will be saved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>file</code> argument can be supplied with (recommended) or without
a full directory path. Without a path, the current working directory
is used (see <code>getwd</code> and <code>setwd</code>).
</p>
<p>See the GMT documentation for details on <code>pscoast</code> and other
GMT commands.
</p>


<h3>Value</h3>

<p><code>NULL</code>, but a map is drawn and saved in postscript format.</p>


<h3>See Also</h3>

<p>Similar to <code><a href="base.html#topic+plot">plot</a></code> and <code><a href="grDevices.html#topic+postscript">postscript</a></code> in native
<span class="rlang"><b>R</b></span> graphics.
</p>
<p><code><a href="#topic+gmt">gmt</a></code>, <code>pscoast</code>, <code><a href="#topic+psxy">psxy</a></code>,
<code><a href="#topic+pstext">pstext</a></code>, <code><a href="#topic+psbar">psbar</a></code>, and <code><a href="#topic+psclose">psclose</a></code>
work together to draw maps.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in current working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

# Map in one call
pscoast("-JM12c -R7E/38E/29N/48N -G100 -B5", "x.ps")

## End(Not run)
</code></pre>

<hr>
<h2 id='pstext'>Add Text/Symbols to GMT Map</h2><span id='topic+pstext'></span>

<h3>Description</h3>

<p>Call GMT to add text/symbols to a map and save in postscript format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pstext(x, cmd="-J -R -O -K", file=getOption("gmt.file"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="pstext_+3A_x">x</code></td>
<td>
<p>data frame, matrix, or filename containing the data to be
plotted.</p>
</td></tr>
<tr><td><code id="pstext_+3A_cmd">cmd</code></td>
<td>
<p>string of arguments passed to GMT shell command
<code>pstext</code>.</p>
</td></tr>
<tr><td><code id="pstext_+3A_file">file</code></td>
<td>
<p>filename where the map is saved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>cmd</code> argument can be used to specify the data columns:
</p>

<table>
<tr>
 <td style="text-align: left;">
    Format (<code>cmd</code>) </td><td style="text-align: left;"> Data columns </td><td style="text-align: left;"> Notes</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code style="white-space: pre;">&#8288;-J -R -O -K&#8288;</code> </td><td style="text-align: left;"> <code style="white-space: pre;">&#8288;Lon Lat Text&#8288;</code> </td><td style="text-align: left;"> (default)</td>
</tr>
<tr>
 <td style="text-align: left;">
    <code style="white-space: pre;">&#8288;-J -R -F+f+a+j -O -K&#8288;</code> </td><td style="text-align: left;">
    <code style="white-space: pre;">&#8288;Lon Lat Font Angle Justify Text&#8288;</code> </td><td style="text-align: left;"> (see example)
  </td>
</tr>

</table>

<p>If <code>x</code> is a filename, the data should be tabular with or without
a header, separated by commas or whitespace. The first line is
interpreted as header if the first non-whitespace character is not
minus, point, or number.
</p>
<p>See the GMT documentation for details on <code>pstext</code> and other
GMT commands.
</p>


<h3>Value</h3>

<p><code>NULL</code>, but the map is annotated and saved in postscript format.
</p>
<p>The temporary GMT input file &lsquo;<span class="file">text.gmt</span>&rsquo; is saved in directory
<code>dirname(tempdir())</code>, for the user to view or edit. It is later
removed by <code>psclose()</code>.
</p>


<h3>See Also</h3>

<p>Similar to <code><a href="graphics.html#topic+text">text</a></code> and <code><a href="grDevices.html#topic+postscript">postscript</a></code> in native
<span class="rlang"><b>R</b></span> graphics.
</p>
<p><code><a href="#topic+gmt">gmt</a></code>, <code><a href="#topic+pscoast">pscoast</a></code>, <code><a href="#topic+psxy">psxy</a></code>,
<code>pstext</code>, <code><a href="#topic+psbar">psbar</a></code>, and <code><a href="#topic+psclose">psclose</a></code> work
together to draw maps.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in current working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

## End(Not run)
</code></pre>

<hr>
<h2 id='psxy'>Add Lines/Symbols to GMT Map</h2><span id='topic+psxy'></span>

<h3>Description</h3>

<p>Call GMT to add lines/symbols to a map and save in postscript format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>psxy(x, cmd="-J -R -Scp -W2p -O -K", file=getOption("gmt.file"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="psxy_+3A_x">x</code></td>
<td>
<p>data frame, matrix, or filename containing the data to be
plotted.</p>
</td></tr>
<tr><td><code id="psxy_+3A_cmd">cmd</code></td>
<td>
<p>string of arguments passed to GMT shell command
<code>psxy</code>.</p>
</td></tr>
<tr><td><code id="psxy_+3A_file">file</code></td>
<td>
<p>filename where the map is saved.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data are arranged in two (Lon, Lat) or more columns, depending on
the <code>-S</code> argument.
</p>
<p>If <code>x</code> is a filename, the data should be tabular with or without
a header, separated by commas or whitespace. The first line is
interpreted as header if the first non-whitespace character is not
minus, point, or number.
</p>
<p>See the GMT documentation for details on <code>psxy</code> and other GMT
commands.
</p>


<h3>Value</h3>

<p><code>NULL</code>, but the map is annotated and saved in postscript format.
</p>
<p>The temporary GMT input file &lsquo;<span class="file">xy.gmt</span>&rsquo; is saved in directory
<code>dirname(tempdir())</code>, for the user to view or edit. It is later
removed by <code>psclose()</code>.
</p>


<h3>See Also</h3>

<p>Similar to <code><a href="graphics.html#topic+points">points</a></code>, <code><a href="graphics.html#topic+lines">lines</a></code>, and
<code><a href="grDevices.html#topic+postscript">postscript</a></code> in native <span class="rlang"><b>R</b></span> graphics.
</p>
<p><code><a href="#topic+gmt">gmt</a></code>, <code><a href="#topic+pscoast">pscoast</a></code>, <code>psxy</code>,
<code><a href="#topic+pstext">pstext</a></code>, <code><a href="#topic+psbar">psbar</a></code>, and <code><a href="#topic+psclose">psclose</a></code>
work together to draw maps.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Draw map and save as "map.ps" in current working directory
gmt(demo.par)
pscoast(demo.coast)
psxy(demo.xy)
pstext(demo.text, "-J -R -F+f+a+j -O -K")
psbar(demo.bar, ref=66)
psclose()
# See directory gmt/example for details

# Simple map and circles
pscoast("-JM12c -R158/192/-42/-8 -Di -Gdarkgreen -B10f5 -A2000 -K", "quake.ps")
psxy(data.frame(lon=quakes$lon, lat=quakes$lat, mag=10^quakes$mag/1e6),
     "-J -R -Scp -W0.5p,red -O", "quake.ps")

## End(Not run)
</code></pre>

<hr>
<h2 id='r2gmt'>Prepare Data for GMT</h2><span id='topic+r2gmt'></span>

<h3>Description</h3>

<p>This internal function reads data, from a filename or <span class="rlang"><b>R</b></span> object, and
writes them to a GMT input file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r2gmt(x, datafile, append=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="r2gmt_+3A_x">x</code></td>
<td>
<p>data frame, matrix, or filename containing the data to be
written to a temporary file.</p>
</td></tr>
<tr><td><code id="r2gmt_+3A_datafile">datafile</code></td>
<td>
<p>filename where the data will be written in
GMT format, tab-separated without header.</p>
</td></tr>
<tr><td><code id="r2gmt_+3A_append">append</code></td>
<td>
<p>whether data should be appended to an existing file,
separating segments with &quot;&gt;&quot; lines.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>x</code> is a filename, the data should be tabular with or without
a header, separated by commas or whitespace. The first line is
interpreted as header if the first non-whitespace character is not
minus, point, or number.
</p>


<h3>Value</h3>

<p>The data frame that was written to <code>datafile</code>.</p>


<h3>Note</h3>

<p><code>r2gmt</code> is like <code>write.table</code>, except it allows <code>x</code> to
be a filename, and appends tables with the GMT <code>&gt;</code> separator.
</p>
<p>It is mainly called by other functions, but users may find it useful
for writing input data for GMT commands.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+scan">scan</a></code>, <code><a href="utils.html#topic+read.table">read.table</a></code>, <code><a href="base.html#topic+write">write</a></code>,
<code><a href="utils.html#topic+write.table">write.table</a></code>.
</p>
<p><code><a href="#topic+gmt-package">gmt-package</a></code> gives an overview of the package.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>LonLat1 &lt;- data.frame(Lon=1:3, Lat=4:6)
LonLat2 &lt;- data.frame(Lon=7:8, Lat=9:10)
## Not run: 
r2gmt(LonLat1, "temp.gmt")
r2gmt(LonLat2, "temp.gmt", append=TRUE)

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

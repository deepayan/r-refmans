<!DOCTYPE html><html lang="en"><head><title>Help for package qbinplots</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {qbinplots}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#qbinplots-package'><p>qbinplots</p></a></li>
<li><a href='#cond_barplot'><p>Conditional quantile barplot</p></a></li>
<li><a href='#cond_boxplot'><p>Conditional quantile boxplot</p></a></li>
<li><a href='#cond_heatmap'><p>Conditional heatmap</p></a></li>
<li><a href='#funq_plot'><p>Functional quantile plot</p></a></li>
<li><a href='#qbin'><p>Bin a data.frame into quantile bins</p></a></li>
<li><a href='#qbin_barplot'><p>Quantile binned bar plot</p></a></li>
<li><a href='#qbin_boxplot'><p>Quantile binned boxplot</p></a></li>
<li><a href='#qbin_heatmap'><p>Quantile binned heatmap</p></a></li>
<li><a href='#qbin_lineplot'><p>Quantile binned lineplot</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Quantile Binned Plots</td>
</tr>
<tr>
<td>Version:</td>
<td>0.3.3</td>
</tr>
<tr>
<td>Description:</td>
<td>Create quantile binned and conditional plots for Exploratory Data
  Analysis. The package provides several plotting functions that are all based
  on quantile binning. The plots are created with 'ggplot2' and 'patchwork' 
  and can be further adjusted.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://edwindj.github.io/qbinplots/">https://edwindj.github.io/qbinplots/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/edwindj/qbinplots/issues">https://github.com/edwindj/qbinplots/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>ggplot2, data.table, patchwork, scales</td>
</tr>
<tr>
<td>Suggests:</td>
<td>palmerpenguins, tinytest</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-22 10:22:13 UTC; edwin</td>
</tr>
<tr>
<td>Author:</td>
<td>Edwin de Jonge <a href="https://orcid.org/0000-0002-6580-4718"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Martijn Tennekes [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Edwin de Jonge &lt;edwindjonge@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-24 17:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='qbinplots-package'>qbinplots</h2><span id='topic+qbinplots'></span><span id='topic+qbinplots-package'></span>

<h3>Description</h3>

<p>This package creates plots using quantile binning.
</p>


<h3>Details</h3>

<p>Quantile binning is an exploratory data analysis tool that helps to see
the distribution of the variables in a dataset as a function of the variable
that is binned.
</p>
<p>A data.frame is quantile binned on a variable <code>x</code> using <code><a href="#topic+qbin">qbin()</a></code> and then
plotted with one of the avaible plot functions.
</p>
<p><code>qbinplots</code> offers various types of plots:
</p>

<ul>
<li> <p><code style="white-space: pre;">&#8288;qbin_*&#8288;</code> quantile binned plots that show the distribution of the variables in the quantile bins.
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;cond_*&#8288;</code> conditional quantile plots that show the distribution of the variables conditional on the <code>x</code> variable.
</p>
</li></ul>



<h3>Quantile binned plots</h3>


<ul>
<li> <p><code><a href="#topic+qbin_lineplot">qbin_lineplot()</a></code> highlights the change in median between qbins, shows the distribution within qbins.
</p>
</li>
<li> <p><code><a href="#topic+qbin_barplot">qbin_barplot()</a></code> shows the size of medians or expected value of qbins.
</p>
</li>
<li> <p><code><a href="#topic+qbin_boxplot">qbin_boxplot()</a></code> shows the distribution within qbins.
</p>
</li>
<li> <p><code><a href="#topic+qbin_heatmap">qbin_heatmap()</a></code> shows the distribution within the qbins.
</p>
</li></ul>



<h3>Conditional (quantile binned) plots</h3>


<ul>
<li> <p><code><a href="#topic+cond_boxplot">cond_boxplot()</a></code> shows the distribution of the variables conditional on the x variable.
</p>
</li>
<li> <p><code><a href="#topic+cond_barplot">cond_barplot()</a></code> shows the expected median/mean of the variables conditional on the x variable.
</p>
</li>
<li> <p><code><a href="#topic+funq_plot">funq_plot()</a></code> shows a functional view of the data, plotting the median and
interquartile range of numerical variables and level frequency of the other
variables as a function of the <code>x</code> variable using quantile bins.
</p>
</li></ul>



<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Edwin de Jonge <a href="mailto:edwindjonge@gmail.com">edwindjonge@gmail.com</a> (<a href="https://orcid.org/0000-0002-6580-4718">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Martijn Tennekes <a href="mailto:mtennekes@gmail.com">mtennekes@gmail.com</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://edwindj.github.io/qbinplots/">https://edwindj.github.io/qbinplots/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/edwindj/qbinplots/issues">https://github.com/edwindj/qbinplots/issues</a>
</p>
</li></ul>


<hr>
<h2 id='cond_barplot'>Conditional quantile barplot</h2><span id='topic+cond_barplot'></span>

<h3>Description</h3>

<p><code><a href="#topic+cond_barplot">cond_barplot()</a></code> conditions all variables on <code>x</code> by quantile binning and
shows the median or mean of the other variables for each <code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cond_barplot(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  overlap = NULL,
  ncols = NULL,
  fill = "#2f4f4f",
  auto_fill = FALSE,
  show_bins = FALSE,
  type = c("median", "mean"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cond_barplot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout.</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_fill">fill</code></td>
<td>
<p>The color to use for the bars.</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_show_bins">show_bins</code></td>
<td>
<p>If <code>TRUE</code>, show the bins on the x-axis.</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_type">type</code></td>
<td>
<p>The type of statistic to use for the bars.</p>
</td></tr>
<tr><td><code id="cond_barplot_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other conditional quantile plotting functions: 
<code><a href="#topic+cond_boxplot">cond_boxplot</a>()</code>,
<code><a href="#topic+cond_heatmap">cond_heatmap</a>()</code>,
<code><a href="#topic+funq_plot">funq_plot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># plots the expected median conditional on Sepal.Width
cond_barplot(iris, "Sepal.Width", n = 12)



  # plots the expected median
  cond_barplot(iris, "Sepal.Width", n = 12, show_bins = TRUE)

  data("diamonds", package="ggplot2")

  cond_barplot(diamonds[c(1:4, 7)], "carat", auto_fill = TRUE)

  if (require(palmerpenguins)) {
    p &lt;- cond_barplot(penguins[1:7], "body_mass_g", auto_fill = TRUE)
    print(p)

    # compare with qbin_boxplot
    p &lt;- cond_boxplot(penguins[1:7], "body_mass_g", auto_fill = TRUE)
    print(p)
  }

</code></pre>

<hr>
<h2 id='cond_boxplot'>Conditional quantile boxplot</h2><span id='topic+cond_boxplot'></span>

<h3>Description</h3>

<p><code><a href="#topic+cond_boxplot">cond_boxplot()</a></code> conditions all variables on <code>x</code> by quantile binning and
shows the boxplots for the other variables for each value of qbinned <code>x</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cond_boxplot(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  color = "#002f2f",
  fill = "#2f4f4f",
  auto_fill = FALSE,
  ncols = NULL,
  xmarker = NULL,
  qmarker = NULL,
  show_bins = FALSE,
  xlim = NULL,
  connect = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cond_boxplot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_color">color</code></td>
<td>
<p>The color to use for the line charts</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_fill">fill</code></td>
<td>
<p>The fill color to use for the areas</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_xmarker">xmarker</code></td>
<td>
<p><code>numeric</code>, the x marker.</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_qmarker">qmarker</code></td>
<td>
<p><code>numeric</code>, the quantile marker to use that is translated in a x value.</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_show_bins">show_bins</code></td>
<td>
<p>if <code>TRUE</code> a rug is added to the plot</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_xlim">xlim</code></td>
<td>
<p><code>numeric</code>, the limits of the x-axis.</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_connect">connect</code></td>
<td>
<p>if <code>TRUE</code> subsequent medians are connected.</p>
</td></tr>
<tr><td><code id="cond_boxplot_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>cond_boxplot</code> is the same function as <code><a href="#topic+funq_plot">funq_plot()</a></code> but with different defaults,
namely <code>connect = FALSE</code> and <code>auto_fill = FALSE</code>.
<code>funq_plot</code> highlights the functional relationship between
x and the y-variables, by connecting the medians of the quantile bins.
</p>
<p><code><a href="#topic+qbin_boxplot">qbin_boxplot()</a></code> shows the boxplots of the quantile bins on a quantile scale.
</p>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other conditional quantile plotting functions: 
<code><a href="#topic+cond_barplot">cond_barplot</a>()</code>,
<code><a href="#topic+cond_heatmap">cond_heatmap</a>()</code>,
<code><a href="#topic+funq_plot">funq_plot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cond_boxplot(
  iris, x = "Petal.Length"
)

</code></pre>

<hr>
<h2 id='cond_heatmap'>Conditional heatmap</h2><span id='topic+cond_heatmap'></span>

<h3>Description</h3>

<p><code>cond_heatmap</code> shows the conditional distribution of the <code>y</code>
of variables for each quantile bin of <code>x</code>. It is an alternative to
<code><a href="#topic+cond_boxplot">cond_boxplot()</a></code>, fine graining the distribution per <code><a href="#topic+qbin">qbin()</a></code>.
<code><a href="#topic+cond_barplot">cond_barplot()</a></code> highlights the median/mean of the quantile bins, while
<code><a href="#topic+funq_plot">funq_plot()</a></code> highlights the functional dependency of the median.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cond_heatmap(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  overlap = NULL,
  bins = c(n, 25),
  ncols = NULL,
  auto_fill = FALSE,
  show_bins = FALSE,
  fill = "#2f4f4f",
  low = "#eeeeee",
  high = "#2f4f4f",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cond_heatmap_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_bins">bins</code></td>
<td>
<p><code>integer</code> vector with the number of bins to use for the x and y axis.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_show_bins">show_bins</code></td>
<td>
<p>If <code>TRUE</code>, show the bin boundaries on the x-axis.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_fill">fill</code></td>
<td>
<p>The color used for categorical variables.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_low">low</code></td>
<td>
<p>The color used for low values in the heatmap.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_high">high</code></td>
<td>
<p>The color used for high values in the heatmap.</p>
</td></tr>
<tr><td><code id="cond_heatmap_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other conditional quantile plotting functions: 
<code><a href="#topic+cond_barplot">cond_barplot</a>()</code>,
<code><a href="#topic+cond_boxplot">cond_boxplot</a>()</code>,
<code><a href="#topic+funq_plot">funq_plot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cond_heatmap(
  iris,
  x = "Petal.Length",
  n = 12
)



  data("diamonds", package="ggplot2")

  cond_heatmap(
    diamonds,
    x = "carat",
    bins &lt;- c(100,100)
  )[6:8]

</code></pre>

<hr>
<h2 id='funq_plot'>Functional quantile plot</h2><span id='topic+funq_plot'></span>

<h3>Description</h3>

<p><code><a href="#topic+funq_plot">funq_plot()</a></code> conditions on variable <code>x</code> with quantile binning and
plots the median and interquartile range of numerical variables and level frequency
of the other variables as a function the <code>x</code> variable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>funq_plot(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  overlap = NULL,
  color = "#002f2f",
  fill = "#2f4f4f",
  auto_fill = TRUE,
  ncols = NULL,
  xmarker = NULL,
  qmarker = NULL,
  show_bins = FALSE,
  xlim = NULL,
  connect = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="funq_plot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="funq_plot_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_color">color</code></td>
<td>
<p>The color to use for the line charts</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_fill">fill</code></td>
<td>
<p>The fill color to use for the areas</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_xmarker">xmarker</code></td>
<td>
<p><code>numeric</code>, the x marker.</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_qmarker">qmarker</code></td>
<td>
<p><code>numeric</code>, the quantile marker to use that is translated in a x value.</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_show_bins">show_bins</code></td>
<td>
<p>if <code>TRUE</code> a rug is added to the plot</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_xlim">xlim</code></td>
<td>
<p><code>numeric</code>, the limits of the x-axis.</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_connect">connect</code></td>
<td>
<p>if <code>TRUE</code> subsequent medians are connected.</p>
</td></tr>
<tr><td><code id="funq_plot_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>By highlighting and connecting the median values it creates a functional view of the data.
What is the (expected) median given a certain value of <code>x</code>?
</p>
<p>It <code>qbin</code>s the <code>x</code> variable and plots the medians of the qbins vs the other variables, thereby
creating a functional view of <code>x</code> to the rest of the data,
calculating the statistics for each bin, hence the name <code>funq_plot</code>.
</p>


<h3>Value</h3>

<p>A ggplot object with the plots
</p>


<h3>See Also</h3>

<p>Other conditional quantile plotting functions: 
<code><a href="#topic+cond_barplot">cond_barplot</a>()</code>,
<code><a href="#topic+cond_boxplot">cond_boxplot</a>()</code>,
<code><a href="#topic+cond_heatmap">cond_heatmap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>funq_plot(iris, "Sepal.Length", xmarker=5.5)



  funq_plot(
    iris,
    x = "Sepal.Length",
    xmarker=5.5,
    overlap = TRUE
  )


  data("diamonds", package="ggplot2")
  funq_plot(diamonds[1:7], "carat", xlim=c(0,2))

  if (require(palmerpenguins)){
    funq_plot(
      penguins[1:7],
      x = "body_mass_g",
      xmarker=4650,
      ncol = 3
    )
  }



</code></pre>

<hr>
<h2 id='qbin'>Bin a data.frame into quantile bins</h2><span id='topic+qbin'></span>

<h3>Description</h3>

<p>Bins a data.frame into quantile bins for variable <code>x</code> in <code>data</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qbin(data, x = NULL, n = 100, min_bin_size = NULL, overlap = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qbin_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="qbin_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="qbin_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="qbin_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="qbin_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="qbin_+3A_...">...</code></td>
<td>
<p>reserved for future use</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each numeric variable in the data.frame is binned into <code>n</code> quantile bins, for
which the <code><a href="stats.html#topic+fivenum">fivenum()</a></code> and <code><a href="base.html#topic+mean">mean()</a></code> is calculated.
</p>
<p>When <code>n/nrow(data)</code> is less than <code>min_bin_size</code>, <code>qbin</code> gives a warning and
<code>n</code> is adjusted to <code>nrow(data)/min_bin_size</code>.
Each categorical variable is binned into <code>n</code> quantile bins, for which the
level frequency is calculated.
</p>


<h3>Value</h3>

<p>a <code>qbin</code> object with:
</p>

<ul>
<li><p> $x the variable name used for binning
</p>
</li>
<li><p> $bin a vector of bin numbers
</p>
</li>
<li><p> $n the number of bins
</p>
</li>
<li><p> $num_cols a vector of numeric column names
</p>
</li>
<li><p> $cat_cols a vector of categorical column names
</p>
</li>
<li><p> $data a list of data.tables with the collected information
</p>
</li></ul>


<hr>
<h2 id='qbin_barplot'>Quantile binned bar plot</h2><span id='topic+qbin_barplot'></span><span id='topic+table_plot'></span>

<h3>Description</h3>

<p><code><a href="#topic+qbin_barplot">qbin_barplot()</a></code> shows the median or mean for each quantile bin, thereby focusing on
the expected value per <code><a href="#topic+qbin">qbin()</a></code>.
For a conditional plot, see <code><a href="#topic+cond_barplot">cond_barplot()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qbin_barplot(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  overlap = NULL,
  ncols = NULL,
  fill = "#2f4f4f",
  type = c("median", "mean"),
  ...
)

table_plot(data, x = NULL, n = 100, ncols = ncol(data), fill = "#555555", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qbin_barplot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout.</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_fill">fill</code></td>
<td>
<p>The color to use for the bars.</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_type">type</code></td>
<td>
<p>The type of statistic to use for the bars.</p>
</td></tr>
<tr><td><code id="qbin_barplot_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>table_plot</code> is a specific form of <code>qbin_barplot</code>
with <code>ncols</code> set to <code>ncol(data)</code>.
</p>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other qbin plotting functions: 
<code><a href="#topic+qbin_boxplot">qbin_boxplot</a>()</code>,
<code><a href="#topic+qbin_heatmap">qbin_heatmap</a>()</code>,
<code><a href="#topic+qbin_lineplot">qbin_lineplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  data("diamonds", package="ggplot2")

  table_plot(diamonds[c(1:4, 7)], "carat")

  qbin_barplot(iris, "Sepal.Length", n = 12)

  table_plot(iris, "Sepal.Length", n=12)
  table_plot(
    iris,
    x = "Sepal.Length",
    min_bin_size=20,
    overlap=TRUE
  )

  if (require(palmerpenguins)) {
    table_plot(penguins[1:7], "body_mass_g", 19)
  }

</code></pre>

<hr>
<h2 id='qbin_boxplot'>Quantile binned boxplot</h2><span id='topic+qbin_boxplot'></span>

<h3>Description</h3>

<p><code>qbin_boxplot</code> creates quantile binned boxplots from <code>data</code> using <code>x</code> as the binning
variable. It focuses on the change of median between qbins. It is a
complement to <code><a href="#topic+qbin_heatmap">qbin_heatmap()</a></code> which focuses on the distribution within the qbins.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qbin_boxplot(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  ncols = NULL,
  overlap = NULL,
  connect = FALSE,
  color = "#002f2f",
  fill = "#2f4f4f",
  auto_fill = FALSE,
  qmarker = NULL,
  xmarker = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qbin_boxplot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_connect">connect</code></td>
<td>
<p>if <code>TRUE</code> subsequent boxplots are connected</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_color">color</code></td>
<td>
<p>The color to use for the lines</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_fill">fill</code></td>
<td>
<p>The color to use for the bars</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_qmarker">qmarker</code></td>
<td>
<p><code>numeric</code>, the quantile marker to use.</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_xmarker">xmarker</code></td>
<td>
<p><code>numeric</code> the x marker, i.e. the value for x that is translated into a q value.</p>
</td></tr>
<tr><td><code id="qbin_boxplot_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data is binned by the <code>x</code> and a boxplot is created for each bin.
The median of the subsequent boxplots are connected to highlight jumps in the
data. It hints at the dependecy of the variable on the binning variable.
</p>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other qbin plotting functions: 
<code><a href="#topic+qbin_barplot">qbin_barplot</a>()</code>,
<code><a href="#topic+qbin_heatmap">qbin_heatmap</a>()</code>,
<code><a href="#topic+qbin_lineplot">qbin_lineplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qbin_boxplot(
  iris,
  x = "Sepal.Length",
)


  qbin_boxplot(
    iris,
    x = "Sepal.Length",
    connect = TRUE,
    overlap = TRUE
  )

  qbin_boxplot(
    iris,
    x = "Sepal.Length",
    connect = TRUE,
    xmarker = 5.5,
    auto_fill = TRUE
  )

  data("diamonds", package="ggplot2")

  qbin_boxplot(
    diamonds[1:7],
    "carat",
    auto_fill = TRUE
  )

  qbin_boxplot(
    diamonds[1:7],
    "price",
    auto_fill = TRUE,
  )

</code></pre>

<hr>
<h2 id='qbin_heatmap'>Quantile binned heatmap</h2><span id='topic+qbin_heatmap'></span>

<h3>Description</h3>

<p><code>qbin_heatmap</code> shows the distribution of the <code>y</code>
of variables for each quantile bin of <code>x</code>. It is an alternative to
<code><a href="#topic+qbin_boxplot">qbin_boxplot()</a></code>, fine graining the distribution per <code><a href="#topic+qbin">qbin()</a></code>.
<code><a href="#topic+qbin_barplot">qbin_barplot()</a></code> highlights the median/mean of the quantile bins, while
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qbin_heatmap(
  data,
  x = NULL,
  n = 25,
  min_bin_size = NULL,
  overlap = NULL,
  bins = c(n),
  type = c("gradient", "size"),
  ncols = NULL,
  auto_fill = FALSE,
  fill = "#2f4f4f",
  low = "#eeeeee",
  high = "#2f4f4f",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qbin_heatmap_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_overlap">overlap</code></td>
<td>
<p><code>logical</code> if <code>TRUE</code> the quantile bins will overlap. Default value will be
<code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_bins">bins</code></td>
<td>
<p><code>integer</code> vector with the number of bins to use for the x and y axis.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_type">type</code></td>
<td>
<p>The type of heatmap to use. Either &quot;gradient&quot; or &quot;size&quot;.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_fill">fill</code></td>
<td>
<p>The color used for categorical variables.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_low">low</code></td>
<td>
<p>The color used for low values in the heatmap.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_high">high</code></td>
<td>
<p>The color used for high values in the heatmap.</p>
</td></tr>
<tr><td><code id="qbin_heatmap_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other qbin plotting functions: 
<code><a href="#topic+qbin_barplot">qbin_barplot</a>()</code>,
<code><a href="#topic+qbin_boxplot">qbin_boxplot</a>()</code>,
<code><a href="#topic+qbin_lineplot">qbin_lineplot</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  qbin_heatmap(
    iris,
    "Sepal.Length",
    auto_fill = TRUE
  )

  qbin_heatmap(
    iris,
    "Sepal.Length",
    auto_fill = TRUE,
    type = "size"
  )

  qbin_heatmap(
    iris,
    "Sepal.Length",
    overlap = TRUE,
    auto_fill = TRUE
  )

  data("diamonds", package="ggplot2")

  qbin_heatmap(
    diamonds[c(1,7:9)],
    x = "price",
    n = 150
  )




</code></pre>

<hr>
<h2 id='qbin_lineplot'>Quantile binned lineplot</h2><span id='topic+qbin_lineplot'></span>

<h3>Description</h3>

<p><code>qbin_lineplot</code> creates quantile binned boxplots from <code>data</code> using <code>x</code> as the binning
variable and connects the medians: it focuses on the change of median between qbins.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qbin_lineplot(
  data,
  x = NULL,
  n = 100,
  min_bin_size = NULL,
  ncols = NULL,
  connect = TRUE,
  color = "#002f2f",
  fill = "#2f4f4f",
  auto_fill = FALSE,
  qmarker = NULL,
  xmarker = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qbin_lineplot_+3A_data">data</code></td>
<td>
<p>a <code>data.frame</code> to be binned</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_x">x</code></td>
<td>
<p><code>character</code> variable name used for the quantile binning</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_n">n</code></td>
<td>
<p><code>integer</code> number of quantile bins.</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_min_bin_size">min_bin_size</code></td>
<td>
<p><code>integer</code> minimum number of rows/data points that should be
in a quantile bin. If NULL it is initially <code>sqrt(nrow(data))</code></p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_ncols">ncols</code></td>
<td>
<p>The number of column to be used in the layout</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_connect">connect</code></td>
<td>
<p>if <code>TRUE</code> subsequent boxplots are connected</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_color">color</code></td>
<td>
<p>The color to use for the lines</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_fill">fill</code></td>
<td>
<p>The color to use for the bars</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_auto_fill">auto_fill</code></td>
<td>
<p>If <code>TRUE</code>, use a different color for each category</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_qmarker">qmarker</code></td>
<td>
<p><code>numeric</code>, the quantile marker to use.</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_xmarker">xmarker</code></td>
<td>
<p><code>numeric</code> the x marker, i.e. the value for x that is translated into a q value.</p>
</td></tr>
<tr><td><code id="qbin_lineplot_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to the plot functions</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data is binned by the <code>x</code> and a boxplot is created for each bin.
The median of the subsequent boxplots are connected to highlight jumps in the
data. It hints at the dependecy of the variable on the binning variable.
</p>


<h3>Value</h3>

<p>A <code>list</code> of ggplot objects.
</p>


<h3>See Also</h3>

<p>Other qbin plotting functions: 
<code><a href="#topic+qbin_barplot">qbin_barplot</a>()</code>,
<code><a href="#topic+qbin_boxplot">qbin_boxplot</a>()</code>,
<code><a href="#topic+qbin_heatmap">qbin_heatmap</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qbin_lineplot(
  iris,
  x = "Sepal.Length",
)


  qbin_lineplot(
    iris,
    x = "Sepal.Length",
    xmarker = 5.5,
    auto_fill = TRUE
  )

  qbin_lineplot(
    iris,
    x = "Sepal.Length",
    overlap=TRUE,
    xmarker = 5.5,
    auto_fill = TRUE
  )

  data("diamonds", package="ggplot2")

  qbin_lineplot(
    diamonds[1:7],
    "carat",
    auto_fill = TRUE
  )

  qbin_lineplot(
    diamonds[1:7],
    "price",
    auto_fill = TRUE,
  )




</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package prop.comb.RR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {prop.comb.RR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#prop.comb'><p>prop.comb</p></a></li>
<li><a href='#prop.comb.RR-package'><p>Inferences about a linear combination of proportions</p></a></li>
<li><a href='#prop.RR'><p>prop.RR</p></a></li>
<li><a href='#summary.prop.comb'><p>Summary for a prop.comb object</p></a></li>
<li><a href='#summary.prop.RR'><p>Summary for a prop.RR object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analyzing Combination of Proportions and Relative Risk</td>
</tr>
<tr>
<td>Version:</td>
<td>1.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2017-03-05</td>
</tr>
<tr>
<td>Author:</td>
<td>Maria Alvarez and Javier Roca-Pardinas</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Maria Alvarez &lt;maria.alvarez@uvigo.es&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>rootSolve</td>
</tr>
<tr>
<td>Description:</td>
<td>Carrying out inferences about any linear combination of proportions and the ratio of two proportions.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL]</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2017-03-08 12:56:31 UTC; EME</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2017-03-08 16:37:48</td>
</tr>
</table>
<hr>
<h2 id='prop.comb'>prop.comb</h2><span id='topic+prop.comb'></span>

<h3>Description</h3>

<p>Main function for making inferences (confidence intervals and tests) about a linear combination of proportions using optimal methods from the literature and score method.</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop.comb(x, n, p = NULL, a = NULL, alternative = c("two.sided", "less", "greater"),
 conf.level = 0.95, coverage = FALSE, nrep = 1000)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop.comb_+3A_x">x</code></td>
<td>
<p>a vector of counts of successes.</p>
</td></tr>
<tr><td><code id="prop.comb_+3A_n">n</code></td>
<td>
<p>a vector of counts of samples sizes.</p>
</td></tr>
<tr><td><code id="prop.comb_+3A_p">p</code></td>
<td>
<p>hypothesized true value of the interest parameter.</p>
</td></tr> 
<tr><td><code id="prop.comb_+3A_a">a</code></td>
<td>
<p>coefficients of the linear combination of proportions.</p>
</td></tr>
<tr><td><code id="prop.comb_+3A_alternative">alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis, must be one of &quot;two.sided&quot; (default), &quot;greater&quot; or &quot;less&quot;.</p>
</td></tr>
<tr><td><code id="prop.comb_+3A_conf.level">conf.level</code></td>
<td>
<p>confidence level of the returned confidence interval.</p>
</td></tr> 
<tr><td><code id="prop.comb_+3A_coverage">coverage</code></td>
<td>
<p>coverage probability of the confidence interval.</p>
</td></tr>
<tr><td><code id="prop.comb_+3A_nrep">nrep</code></td>
<td>
<p>number of replays to calculate the estimated coverage probabilities</p>
</td></tr> 
</table>


<h3>Details</h3>

<p>Counts of successes must be nonnegative and hence not greater than the corresponding numbers of trials which must be positive. All finite counts should be integers. 
</p>
<p>It checks how many samples there are (<code>k</code>). When <code>k=1</code>, it will be the case of one proporcion. When <code>k=2</code> and <code>a=(-1,1)</code>, we will have the difference of proportions. In another case, the parameter of interest will be a linear combination of <code>k</code> proportions.
</p>
<p>When <code>k=1</code>, automatically <code>a=1</code> and the main function will assign <code>p=0.5</code> if <code>p=NULL</code>. If <code>k=2</code> and <code>a=NULL</code>, automatically <code>a=c(-1,+1)</code> and the main function will assign <code>p=0</code> if <code>p=NULL</code>, i.e. test of homogeneity of proportions.
</p>
<p>If <code>alternative</code> is <code>NULL</code>, the main function will automatically assign <code>alternative="two.sided"</code>.
</p>
<p>If <code>conf.level</code> is <code>NULL</code>, the main function will automatically assign <code>conf.level=0.95</code>.
</p>
<p>If <code>coverage</code> is <code>NULL</code> or <code>FALSE</code>, the main function does not calculate the estimated coverage probabilities. Whereas, if <code>coverage</code> is <code>TRUE</code>, the main function calculates the estimated coverage probabilities. In this case, if <code>nrep</code> is <code>NULL</code>, the main function will automatically assign <code>nrep=1000</code>.
</p>


<h3>Value</h3>

<p>Returns a list with the following components:
</p>
<table>
<tr><td><code>estimate</code></td>
<td>
<p>a vector with the sample proportions x/n.</p>
</td></tr>
<tr><td><code>a</code></td>
<td>
<p>coefficients of the linear combination of proportions.</p>
</td></tr>
<tr><td><code>L</code></td>
<td>
<p>estimated value of the interest parameter. <code>L=difference</code> for the d case.</p>
</td></tr>
<tr><td><code>inference</code></td>
<td>
<p>confidence intervals (lower limit, upper limit) and p-values of the test (with z-values of statistics). The coverage probabilities are included when the user requests them.</p>
</td></tr>
<tr><td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td></tr>
<tr><td><code>lambda</code></td>
<td>
<p>hypothesized true value of the interest parameter.</p>
</td></tr>
<tr><td><code>k</code></td>
<td>
<p>number of samples.</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>number of successes.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>number of trials.</p>
</td></tr>
<tr><td><code>p</code></td>
<td>
<p>same value of <code>lambda</code></p>
</td></tr>
<tr><td><code>conf.level</code></td>
<td>
<p>confidence level of the confidence interval.</p>
</td></tr>
<tr><td><code>recommendation</code></td>
<td>
<p>recommended method by references.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Maria Alvarez Hernandez and Javier Roca Pardinas</p>


<h3>References</h3>

<p>Wilson, E. (1927). &quot;Probable inference, the law of succession, and statistical inference.&quot; Journal of the American Statistical Association, 22, 209 - 212
</p>
<p>Agresti, A. &amp; Coull, B. A. (1998). &quot;Approximate is better than &quot;exact&quot; for interval estimation of binomial proportions.&quot; The American Statistician, 52, 119 - 126
</p>
<p>Herranz, I. &amp; Martin, A. (2008). &quot;A numerical comparison of several unconditional exact tests in problems of equivalence based on the difference of proportions.&quot; Journal of Statistical Computation and Simulation, 78, 969 - 981
</p>
<p>Martin, A.; Alvarez, M. &amp; Herranz, I. (2011). &quot;Inferences about a linear combination of proportions.&quot; Statistical Methods in Medical Research, 2011, 20, 369 - 387
</p>
<p>Martin, A.; Herranz, I. &amp; Alvarez, M. (2012). &quot;The optimal method to make inferences about a lineal combination of proportions.&quot; Journal of Statistical Computation and Simulation, 82, 123 - 135
</p>
<p>Martin, A.; Alvarez, M. &amp; Herranz, I. (2012). &quot;Asymptotic two-tailed confidence intervals for the difference of proportions.&quot; Journal of Applied Statistics, 39, 1423 - 1435
</p>
<p>Martin, A. &amp; Alvarez, M. (2013). &quot;Optimal method for realizing two-sided inferences about a linear combination of two proportions.&quot; Communications in Statistics - Simulation and Computation, 42, 327 - 343
</p>
<p>Martin, A. &amp; Alvarez, M. (2014). &quot;Two-tailed asymptotic inferences for a proportion.&quot; Journal of Applied Statistics, 41, 1516 - 1529
</p>
<p>Yu, W.; Guo, X. &amp; Xu, W. (2014). &quot;An improved score interval with a modified midpoint for a binomial proportion.&quot; Journal of Statistical Computation and Simulation, 84, 1022 - 1038
</p>
<p>Alvarez, M. &amp; Martin, A. (2015). &quot;New asymptotic inferences about the difference, ratio and linear combination of two independent proportions.&quot; Communications in Statistics - Simulation and Computation (in press).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prop.RR">prop.RR</a></code> for inferences about the relative risk</p>


<h3>Examples</h3>

<pre><code class='language-R'># ONE PROPORTION
# Yu et al (2014) use a data set, which describes characteristics of some 
# American bridges. The objetive is to construct CIs for the proportion 
# of wood bridges.

prop.comb(x=16, n=109, alternative="two.sided", conf.level=0.95)

# DIFFERENCE OF TWO PROPORTION
# Rodary et al. (1989) studied the response to chemotherapy and radiation 
# therapy in a randomized clinical trial on nephroblastoma. 
# The main objetive is to contruct CIs about the difference of the response 
# and to contrast the homogeneity of proportions.

prop.comb(x=c(83,69), n=c(88,76), alternative="two.sided", conf.level=0.95)

# COMBINATION OF TWO PROPORTIONS
# Martin and Alvarez (2013) construct CIs about the parameter "loss associated
# with a diagnostic test" in the context of comparing two diagnostic tests 
# (Bloch, 1997) and use a data set by Hanley and McNeil (1983). 

prop.comb(x=c(44, 3), n=c(54, 58), a=c(-0.4, 0.6), 
alternative="two.sided", conf.level=0.95)

# Tebbs and Roths (2008) refer to data about a multicenter clinical trial whose
# aim was to evaluate the efficacy of a lowered salt regim in the treatment of male 
# infants with acute diarrhea. The objetive it to obtain a confidence interval about 
# the proportion of fever cases in South American area. 

prop.comb(x=c(32, 34), n=c(107, 92), a=c(107/199, 92/199), 
alternative="two.sided", conf.level=0.95)


# LINEAR COMBINATION OF K&gt;3 PROPORTIONS
# Price and Bonett (2004) refer to a study by Cohen et al. (1991) in which 120 rats 
# were randomly assigned four diets (high or low fat and with or without fiber).
# The absence or presence of a tumor was recorded for each rat.
# The contrast of interest will evaluate the effects of study's variables.

# Data of diet and tumor study:
x &lt;-c(20, 14, 27, 19); n &lt;-c(30, 30, 30, 30)
a1 &lt;-c(+1, -1, -1, +1); a2 &lt;-c(+1, +1, -1, -1); a3 &lt;-c(+1, -1, +1, -1)

prop.comb(x, n, a=a1); prop.comb(x, n, a=a2); prop.comb(x, n, a=a3)
</code></pre>

<hr>
<h2 id='prop.comb.RR-package'>Inferences about a linear combination of proportions</h2><span id='topic+prop.comb.RR-package'></span><span id='topic+prop.comb.RR'></span>

<h3>Description</h3>

<p>prop.comb.RR enables to solve asymptotic inferences (p-values of test and confidence intervals) about any linear combination of independent proportions and the relative risk by means of optimal procedures and the well-known score procedure. It also provides summary measures and a recommendation about the best method that the researcher should choose in each particular case.
</p>


<h3>Author(s)</h3>

<p>Maria Alvarez Hernandez and Javier Roca Pardinas <a href="mailto:roca@uvigo.es">roca@uvigo.es</a>
</p>
<p>Maintainer: Maria Alvarez Hernandez <a href="mailto:maria.alvarez@uvigo.es">maria.alvarez@uvigo.es</a>
</p>

<hr>
<h2 id='prop.RR'>prop.RR</h2><span id='topic+prop.RR'></span>

<h3>Description</h3>

<p>Main function for making inferences (confidence intervals and tests) about the relative risk using optimal methods from the literature and score method.</p>


<h3>Usage</h3>

<pre><code class='language-R'>prop.RR(x, n, rho = NULL, alternative = c("two.sided", "less", "greater"), 
conf.level = 0.95, coverage = FALSE, nrep = 1000)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="prop.RR_+3A_x">x</code></td>
<td>
<p>a vector of counts of successes.</p>
</td></tr>
<tr><td><code id="prop.RR_+3A_n">n</code></td>
<td>
<p>a vector of counts of samples sizes.</p>
</td></tr>
<tr><td><code id="prop.RR_+3A_rho">rho</code></td>
<td>
<p>hypothesized true value of the relative risk.</p>
</td></tr>
<tr><td><code id="prop.RR_+3A_alternative">alternative</code></td>
<td>
<p>a character string specifying the alternative hypothesis, must be one of &quot;two.sided&quot; (default), &quot;greater&quot; or &quot;less&quot;.</p>
</td></tr>
<tr><td><code id="prop.RR_+3A_conf.level">conf.level</code></td>
<td>
<p>confidence level of the returned confidence interval.</p>
</td></tr>
<tr><td><code id="prop.RR_+3A_coverage">coverage</code></td>
<td>
<p>coverage probability of the confidence interval.</p>
</td></tr>
<tr><td><code id="prop.RR_+3A_nrep">nrep</code></td>
<td>
<p>number of replays to calculate the estimated coverage probabilities</p>
</td></tr> 
</table>


<h3>Value</h3>

<p>Returns a list with the following components:
</p>
<table>
<tr><td><code>estimate</code></td>
<td>
<p>a vector with the sample proportions x/n.</p>
</td></tr>
<tr><td><code>RR</code></td>
<td>
<p>estimated relative risk.</p>
</td></tr>
<tr><td><code>inference</code></td>
<td>
<p>confidence intervals (lower limit, upper limit) and p-values of the test (with z-values of statistics. The coverage probabilities are included when the user requests them.</p>
</td></tr>
<tr><td><code>alternative</code></td>
<td>
<p>a character string describing the alternative hypothesis.</p>
</td></tr>
<tr><td><code>rho</code></td>
<td>
<p>hypothesized true value of the relative risk.</p>
</td></tr>
<tr><td><code>x</code></td>
<td>
<p>number of successes.</p>
</td></tr>
<tr><td><code>n</code></td>
<td>
<p>number of trials.</p>
</td></tr>
<tr><td><code>conf.level</code></td>
<td>
<p>confidence level of the confidence interval.</p>
</td></tr>
<tr><td><code>recommendation</code></td>
<td>
<p>recommended method by references.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Maria Alvarez Hernandez and Javier Roca Pardinas</p>


<h3>References</h3>

<p>Woolf, B. (1955). &quot;On estimating the realtion between blood group disease.&quot; Annals  of Human Genetics 19, 25-352.
</p>
<p>Martin, A. &amp; Alvarez, M. (2014). &quot;Two-tailed approximate  confidence intervals for the ratio of proportions.&quot; Statistics and Computing 24, 65  - 75.  
</p>
<p>Alvarez, M. &amp;  Martin, A. (2015). &quot;New asymptotic inferences  about the difference, ratio and linear combination of two independent proportions.&quot;  Communications in Statistics - Simulation and Computation (in press).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+prop.comb">prop.comb</a></code> for inferences about a linear combination of K  proportions</p>


<h3>Examples</h3>

<pre><code class='language-R'># The Relative Risk was used by Maxwell (1961) for the following data related to 
# the rate of occurrence of virus infection among the group of the non-inoculated 
# and the group of the inoculated. The objetive is to obtain an approximate 
# confidence interval for RR.

prop.RR(x=c(11, 48), n=c(46, 102), conf.level=0.99)

# Price and Bonnet (2008) reviewed a study in which the aim is to prove if
# the effect of the beta-blocker could be highly beneficial or slightly detrimental.

x=c(7, 14); n=c(114, 116); prop.RR(x, n, rho=2)
</code></pre>

<hr>
<h2 id='summary.prop.comb'>Summary for a prop.comb object</h2><span id='topic+summary.prop.comb'></span>

<h3>Description</h3>

<p>Provides results for an object of class <code>prop.comb</code>. It shows the contingency table with observed data, the parameter of interest and its estimated value. It provides confidence intervals (lower limit, upper limit) and p-values of the test (with z-values of statistics) for methods mentioned in references. It allows to calculate coverage probabilities for each method. It also indicates the alternative hypothesis and the recommendation about the optimal method for that particular case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prop.comb'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

 
<table>
<tr><td><code id="summary.prop.comb_+3A_object">object</code></td>
<td>
<p>an object of class <code>prop.comb</code>.</p>
</td></tr>
<tr><td><code id="summary.prop.comb_+3A_...">...</code></td>
<td>
<p> Further arguments for summary. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Maria Alvarez Hernandez and Javier Roca Pardinas</p>


<h3>See Also</h3>

<p><code><a href="#topic+prop.comb">prop.comb</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># One proportion
A &lt;-prop.comb(x=16, n=109, alternative="two.sided", conf.level=0.95)
summary(A)

# Difference of proportions
B &lt;-prop.comb(x=c(83,69), n=c(88,76), alternative="two.sided", conf.level=0.95)
summary(B)

# Linear combination of two proportions
C &lt;-prop.comb(x=c(44, 3), n=c(54, 58), a=c(-0.4, 0.6), alternative="two.sided", conf.level=0.95)
summary(C)

D &lt;-prop.comb(x=c(32, 34), n=c(107, 92), a=c(107/199, 92/199), alternative="two.sided", 
conf.level=0.95)
summary(D)

# Linear combination of k&gt;2 proportions
E &lt;-prop.comb(x=c(73,32,44,34,104), n=c(158,107,175,92,143), 
a=c(158/675,107/675,175/675,92/675,143/675))
summary(E)
</code></pre>

<hr>
<h2 id='summary.prop.RR'>Summary for a prop.RR object</h2><span id='topic+summary.prop.RR'></span>

<h3>Description</h3>

<p>Provides results for an object of class <code>prop.RR</code>. It shows the contingency table with observed data, the parameter of interest and its estimated value. It provides confidence intervals (lower limit, upper limit) and p-values of the test (with z-values of statistics) for methods mentioned in references. It allows to calculate coverage probabilities for each method. It also indicates the alternative hypothesis and the recommendation about the optimal method for that particular case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'prop.RR'
summary(object, ...)
</code></pre>


<h3>Arguments</h3>

 
<table>
<tr><td><code id="summary.prop.RR_+3A_object">object</code></td>
<td>
<p>an object of class <code>prop.RR</code>.</p>
</td></tr> 
<tr><td><code id="summary.prop.RR_+3A_...">...</code></td>
<td>
<p> Further arguments for summary. </p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Maria Alvarez Hernandez and Javier Roca Pardinas</p>


<h3>See Also</h3>

<p><code><a href="#topic+prop.RR">prop.RR</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>A &lt;-prop.RR(x=c(11, 48), n=c(46, 102), conf.level=0.99)
summary(A)

B &lt;-prop.RR(x=c(7, 14), n=c(114, 116), rho=2)
summary(B)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

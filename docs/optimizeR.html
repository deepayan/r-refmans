<!DOCTYPE html><html lang="en"><head><title>Help for package optimizeR</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {optimizeR}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#optimizeR-package'><p>optimizeR: Unified Framework for Numerical Optimizers</p></a></li>
<li><a href='#apply_optimizer'><p>Apply <code>optimizer</code> object</p></a></li>
<li><a href='#define_optimizer'><p>Specify numerical optimizer</p></a></li>
<li><a href='#new_optimizer'><p>Construct <code>optimizer</code> object</p></a></li>
<li><a href='#Objective'><p>Specify objective function</p></a></li>
<li><a href='#Optimizer'><p>Specify numerical optimizer as R6 object</p></a></li>
<li><a href='#optimizer_dictionary'><p>Dictionary of optimizer functions</p></a></li>
<li><a href='#ParameterSpaces'><p>Switch Between Parameter Spaces</p></a></li>
<li><a href='#test_objective'><p>Test objective function</p></a></li>
<li><a href='#test_optimizer'><p>Test optimization function</p></a></li>
<li><a href='#validate_optimizer'><p>Validate <code>optimizer</code> object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Unified Framework for Numerical Optimizers</td>
</tr>
<tr>
<td>Version:</td>
<td>1.1.2</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a unified object-oriented framework for numerical 
    optimizers in R. Allows for both minimization and maximization with any 
    optimizer, optimization over more than one function argument, measuring of 
    computation time, setting a time limit for long optimization tasks.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, ggplot2, pracma, rmarkdown, testthat</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://loelschlaeger.de/optimizeR/">https://loelschlaeger.de/optimizeR/</a>,
<a href="https://github.com/loelschlaeger/optimizeR/">https://github.com/loelschlaeger/optimizeR/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/loelschlaeger/optimizeR/issues">https://github.com/loelschlaeger/optimizeR/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>checkmate, cli, lbfgsb3c, oeli (&ge; 0.5.2), R6, stats,
TestFunctions, ucminf, utils</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-11-27 17:55:14 UTC; lennart</td>
</tr>
<tr>
<td>Author:</td>
<td>Lennart Oelschläger
    <a href="https://orcid.org/0000-0001-5421-9313"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Marius Ötting <a href="https://orcid.org/0000-0002-9373-0365"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lennart Oelschläger &lt;oelschlaeger.lennart@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-11-27 18:30:01 UTC</td>
</tr>
</table>
<hr>
<h2 id='optimizeR-package'>optimizeR: Unified Framework for Numerical Optimizers</h2><span id='topic+optimizeR'></span><span id='topic+optimizeR-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides a unified object-oriented framework for numerical optimizers in R. Allows for both minimization and maximization with any optimizer, optimization over more than one function argument, measuring of computation time, setting a time limit for long optimization tasks.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Lennart Oelschläger <a href="mailto:oelschlaeger.lennart@gmail.com">oelschlaeger.lennart@gmail.com</a> (<a href="https://orcid.org/0000-0001-5421-9313">ORCID</a>)
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Marius Ötting <a href="mailto:marius.oetting@uni-bielefeld.de">marius.oetting@uni-bielefeld.de</a> (<a href="https://orcid.org/0000-0002-9373-0365">ORCID</a>) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://loelschlaeger.de/optimizeR/">https://loelschlaeger.de/optimizeR/</a>
</p>
</li>
<li> <p><a href="https://github.com/loelschlaeger/optimizeR/">https://github.com/loelschlaeger/optimizeR/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/loelschlaeger/optimizeR/issues">https://github.com/loelschlaeger/optimizeR/issues</a>
</p>
</li></ul>


<hr>
<h2 id='apply_optimizer'>Apply <code>optimizer</code> object</h2><span id='topic+apply_optimizer'></span>

<h3>Description</h3>

<p>This function performs numerical optimization using an <code>optimizer</code>
object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>apply_optimizer(optimizer = optimizer_nlm(), objective, initial, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="apply_optimizer_+3A_optimizer">optimizer</code></td>
<td>
<p>An object of class <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="apply_optimizer_+3A_objective">objective</code></td>
<td>
<p>A <code>function</code> to be optimized, returning a single <code>numeric</code>.
Its first argument must be a <code>numeric</code> vector of the same length as
<code>initial</code>, followed by any other arguments specified by the <code>...</code>
argument.</p>
</td></tr>
<tr><td><code id="apply_optimizer_+3A_initial">initial</code></td>
<td>
<p>A <code>numeric</code> vector with starting parameter values for the optimization.</p>
</td></tr>
<tr><td><code id="apply_optimizer_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to <code>optimizer</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named <code>list</code>, containing at least these four elements:
</p>

<dl>
<dt><code>value</code></dt><dd><p>A <code>numeric</code>, the value of the estimated optimum of
<code>objective</code>.</p>
</dd>
<dt><code>parameter</code></dt><dd><p>A <code>numeric</code> vector, the parameter vector where
the optimum of <code>objective</code> is obtained.</p>
</dd>
<dt><code>seconds</code></dt><dd><p>A <code>numeric</code>, the total optimization time in
seconds.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code>, the initial parameter values.</p>
</dd>
</dl>

<p>Appended are additional output elements of the optimizer (if not excluded by
the <code>output_ignore</code> element via <code><a href="#topic+define_optimizer">define_optimizer</a></code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+define_optimizer">define_optimizer()</a></code> for creating an <code>optimizer</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>apply_optimizer(optimizer_nlm(), function(x) x^4 + 3*x - 5, 2)
</code></pre>

<hr>
<h2 id='define_optimizer'>Specify numerical optimizer</h2><span id='topic+define_optimizer'></span><span id='topic+optimizer_nlm'></span><span id='topic+optimizer_optim'></span>

<h3>Description</h3>

<p>This function specifies the framework for a numerical optimizer.
</p>
<p>Two wrappers for well-known optimizers are already available:
</p>

<ol>
<li> <p><code>optimizer_nlm()</code> for the <code><a href="stats.html#topic+nlm">nlm</a></code> optimizer
</p>
</li>
<li> <p><code>optimizer_optim()</code> for the <code><a href="stats.html#topic+optim">optim</a></code> optimizer
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>define_optimizer(
  .optimizer,
  .objective,
  .initial,
  .value,
  .parameter,
  .direction,
  ...,
  .output_ignore = character(0),
  .validate = FALSE,
  .validation_settings = list(objective_test = TestFunctions::TF_ackley, objective_add =
    list(), initial = round(stats::rnorm(2), 2), check_seconds = 10)
)

optimizer_nlm(
  ...,
  .output_ignore = character(0),
  .validate = FALSE,
  .validation_settings = list()
)

optimizer_optim(
  ...,
  .direction = "min",
  .output_ignore = character(0),
  .validate = FALSE,
  .validation_settings = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="define_optimizer_+3A_.optimizer">.optimizer</code></td>
<td>
<p>A <code>function</code>, a numerical optimizer. Four conditions must be met:
</p>

<ol>
<li><p> It must have an input named <code>.objective</code> for a <code>function</code>, the
objective function which is optimized over its first argument.
</p>
</li>
<li><p> It must have an input named <code>.initial</code> for a <code>numerical</code>
vector, the initial parameter vector.
</p>
</li>
<li><p> It must have a <code>...</code> argument for additional parameters to
the objective function.
</p>
</li>
<li><p> The output must be a named <code>list</code>, including the optimal function
value and the optimal parameter vector.
</p>
</li></ol>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.objective">.objective</code></td>
<td>
<p>A <code>character</code>, the name of the function input of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.initial">.initial</code></td>
<td>
<p>A <code>character</code>, the name of the starting parameter values input of
<code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.value">.value</code></td>
<td>
<p>A <code>character</code>, the name of the optimal function value in the output list
of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.parameter">.parameter</code></td>
<td>
<p>A <code>character</code>, the name of the optimal parameter vector in the output
list of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.direction">.direction</code></td>
<td>
<p>A <code>character</code>, indicates whether the optimizer minimizes (<code>"min"</code>)
or maximizes (<code>"max"</code>).</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_...">...</code></td>
<td>
<p>Additional arguments to be passed to the optimizer. Without
specifications, the default values of the optimizer are used.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.output_ignore">.output_ignore</code></td>
<td>
<p>A <code>character</code> vector of element names in the output of <code>.optimizer</code>
that are not saved. The elements <code>.value</code> and <code>.parameter</code> are
added automatically to <code>.output_ignore</code>, because they are saved
separately, see the output documentation of <code><a href="#topic+apply_optimizer">apply_optimizer</a></code>.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.validate">.validate</code></td>
<td>
<p>A <code>logical</code>, set to <code>TRUE</code> (<code>FALSE</code>) to (not) validate the
<code>optimizer</code> object.
By default, <code>.validate = FALSE</code>.</p>
</td></tr>
<tr><td><code id="define_optimizer_+3A_.validation_settings">.validation_settings</code></td>
<td>
<p>Ignored if <code>.valdiate = FALSE</code>.
Otherwise, a <code>list</code> of validation settings:
</p>

<dl>
<dt>objective_test</dt><dd><p>A <code>function</code>, the test function to be optimized.
By default, it is the
<a href="https://en.wikipedia.org/wiki/Ackley_function">Ackley function</a>.</p>
</dd>
<dt>objective_add</dt><dd><p>A <code>list</code> of additional arguments to
<code>objective_test</code> (if any).
By default, <code>objective_add = list()</code>, because the default function
for <code>objective_test</code> does not have additional arguments.</p>
</dd>
<dt>initial</dt><dd><p>A <code>numeric</code> vector, the initial values for the
optimization of <code>objective_test</code>.
By default, <code>initial = round(stats::rnorm(2), 2)</code>.</p>
</dd>
<dt>check_seconds</dt><dd><p>An <code>integer</code>, the maximum number of seconds
before the test is aborted.
The test call is considered to be successful if no error occurred
within <code>check_seconds</code> seconds.
By default, <code>check_seconds = 10</code>.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>optimizer</code> object.
</p>


<h3>Format</h3>

<p>An <code>optimizer</code> object is a <code>list</code> of six elements:
</p>

<dl>
<dt>optimizer</dt><dd><p>A <code>function</code>, the optimization algorithm.</p>
</dd>
<dt>optimizer_name</dt><dd><p>A <code>character</code>, the name of
<code>optimizer</code>.</p>
</dd>
<dt>optimizer_arguments</dt><dd><p>A named <code>list</code>, where each element
is an additional function argument for <code>optimizer</code>.</p>
</dd>
<dt>optimizer_direction</dt><dd><p>Either <code>"min"</code> if the optimizer minimizes
or <code>"max"</code> if the optimizer maximizes.</p>
</dd>
<dt>optimizer_labels</dt><dd><p>A named <code>list</code> of four
<code>character</code>:
</p>

<dl>
<dt>objective</dt><dd><p>the name of the function input of <code>optimizer</code></p>
</dd>
<dt>initial</dt><dd><p>the name of the starting parameter values input of
<code>optimizer</code></p>
</dd>
<dt>value</dt><dd><p>the name of the optimal function value in the output list
of <code>optimizer</code></p>
</dd>
<dt>parameter</dt><dd><p>the name of the optimal parameter vector in the
output list of <code>optimizer</code>.</p>
</dd>
</dl>
</dd>
<dt>output_ignore</dt><dd><p>A <code>character</code> vector of element
names in the output <code>list</code> of <code>optimizer</code> that are ignored.
The elements <code>value</code> and <code>parameter</code> are added automatically to
<code>output_ignore</code>, because they are saved
separately, see the output documentation of <code><a href="#topic+apply_optimizer">apply_optimizer</a></code>.</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Use <code><a href="#topic+apply_optimizer">apply_optimizer()</a></code> to apply an <code>optimizer</code> object for numerical
optimization.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>define_optimizer(
  .optimizer = pracma::nelder_mead,           # optimization function
  .objective = "fn",                          # name of function input
  .initial = "x0",                            # name of initial input
  .value = "fmin",                            # name of value output
  .parameter = "xmin",                        # name of parameter output
  .direction = "min",                         # optimizer minimizes
  .output_ignore = c("restarts", "errmess"),  # ignore some outputs
  tol = 1e-6,                                 # additional optimizer argument
  .validate = TRUE                            # validate the object
)
</code></pre>

<hr>
<h2 id='new_optimizer'>Construct <code>optimizer</code> object</h2><span id='topic+new_optimizer'></span>

<h3>Description</h3>

<p>This function constructs an S3 <code>optimizer</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>new_optimizer(
  x = list(),
  .optimizer = function() {
 },
  optimizer_name = character(),
  optimizer_arguments = list(),
  .objective = character(),
  .initial = character(),
  .value = character(),
  .parameter = character(),
  .direction = character(),
  .output_ignore = character()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="new_optimizer_+3A_x">x</code></td>
<td>
<p>A <code>list</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.optimizer">.optimizer</code></td>
<td>
<p>A <code>function</code>, a numerical optimizer. Four conditions must be met:
</p>

<ol>
<li><p> It must have an input named <code>.objective</code> for a <code>function</code>, the
objective function which is optimized over its first argument.
</p>
</li>
<li><p> It must have an input named <code>.initial</code> for a <code>numerical</code>
vector, the initial parameter vector.
</p>
</li>
<li><p> It must have a <code>...</code> argument for additional parameters to
the objective function.
</p>
</li>
<li><p> The output must be a named <code>list</code>, including the optimal function
value and the optimal parameter vector.
</p>
</li></ol>
</td></tr>
<tr><td><code id="new_optimizer_+3A_optimizer_name">optimizer_name</code></td>
<td>
<p>A <code>character</code>, the name of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_optimizer_arguments">optimizer_arguments</code></td>
<td>
<p>A <code>list</code> of additional and named arguments to be passed to
<code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.objective">.objective</code></td>
<td>
<p>A <code>character</code>, the name of the function input of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.initial">.initial</code></td>
<td>
<p>A <code>character</code>, the name of the starting parameter values input of
<code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.value">.value</code></td>
<td>
<p>A <code>character</code>, the name of the optimal function value in the output list
of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.parameter">.parameter</code></td>
<td>
<p>A <code>character</code>, the name of the optimal parameter vector in the output
list of <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.direction">.direction</code></td>
<td>
<p>A <code>character</code>, indicates whether the optimizer minimizes (<code>"min"</code>)
or maximizes (<code>"max"</code>).</p>
</td></tr>
<tr><td><code id="new_optimizer_+3A_.output_ignore">.output_ignore</code></td>
<td>
<p>A <code>character</code> vector of element names in the output of <code>.optimizer</code>
that are not saved. The elements <code>.value</code> and <code>.parameter</code> are
added automatically to <code>.output_ignore</code>, because they are saved
separately, see the output documentation of <code><a href="#topic+apply_optimizer">apply_optimizer</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An S3 object of class <code>optimizer</code>.
</p>


<h3>Format</h3>

<p>An <code>optimizer</code> object is a <code>list</code> of six elements:
</p>

<dl>
<dt>optimizer</dt><dd><p>A <code>function</code>, the optimization algorithm.</p>
</dd>
<dt>optimizer_name</dt><dd><p>A <code>character</code>, the name of
<code>optimizer</code>.</p>
</dd>
<dt>optimizer_arguments</dt><dd><p>A named <code>list</code>, where each element
is an additional function argument for <code>optimizer</code>.</p>
</dd>
<dt>optimizer_direction</dt><dd><p>Either <code>"min"</code> if the optimizer minimizes
or <code>"max"</code> if the optimizer maximizes.</p>
</dd>
<dt>optimizer_labels</dt><dd><p>A named <code>list</code> of four
<code>character</code>:
</p>

<dl>
<dt>objective</dt><dd><p>the name of the function input of <code>optimizer</code></p>
</dd>
<dt>initial</dt><dd><p>the name of the starting parameter values input of
<code>optimizer</code></p>
</dd>
<dt>value</dt><dd><p>the name of the optimal function value in the output list
of <code>optimizer</code></p>
</dd>
<dt>parameter</dt><dd><p>the name of the optimal parameter vector in the
output list of <code>optimizer</code>.</p>
</dd>
</dl>
</dd>
<dt>output_ignore</dt><dd><p>A <code>character</code> vector of element
names in the output <code>list</code> of <code>optimizer</code> that are ignored.
The elements <code>value</code> and <code>parameter</code> are added automatically to
<code>output_ignore</code>, because they are saved
separately, see the output documentation of <code><a href="#topic+apply_optimizer">apply_optimizer</a></code>.</p>
</dd>
</dl>


<hr>
<h2 id='Objective'>Specify objective function</h2><span id='topic+Objective'></span>

<h3>Description</h3>

<p>The <code>Objective</code> object specifies the framework for an objective function
for numerical optimization.
</p>


<h3>Value</h3>

<p>An <code>Objective</code> object.
</p>


<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>objective_name</code></dt><dd><p>A <code>character</code>, a label for the objective function.</p>
</dd>
<dt><code>fixed_arguments</code></dt><dd><p>A <code>character</code>, the names of the fixed arguments (if any).</p>
</dd>
<dt><code>seconds</code></dt><dd><p>A <code>numeric</code>, a time limit in seconds. Computations are interrupted
prematurely if <code>seconds</code> is exceeded.
</p>
<p>No time limit if <code>seconds = Inf</code> (the default).
</p>
<p>Note the limitations documented in <code><a href="base.html#topic+setTimeLimit">setTimeLimit</a></code>.</p>
</dd>
<dt><code>hide_warnings</code></dt><dd><p>Either <code>TRUE</code> to hide warnings when evaluating the objective function,
or <code>FALSE</code> (default) if not.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>Either <code>TRUE</code> (default) to print status messages, or <code>FALSE</code>
to hide those.</p>
</dd>
<dt><code>npar</code></dt><dd><p>An <code>integer</code> vector, defining the length of each target argument.</p>
</dd>
<dt><code>output_template</code></dt><dd><p>A template of the expected output value, used for the <code>validate</code>
method.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Objective-new"><code>Objective$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-set_argument"><code>Objective$set_argument()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-get_argument"><code>Objective$get_argument()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-remove_argument"><code>Objective$remove_argument()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-validate"><code>Objective$validate()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-evaluate"><code>Objective$evaluate()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-print"><code>Objective$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Objective-clone"><code>Objective$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Objective-new"></a>



<h4>Method <code>new()</code></h4>

<p>Creates a new <code>Objective</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$new(f, target = NULL, npar, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>f</code></dt><dd><p>A <code>function</code> to be optimized.
</p>
<p>It is expected that <code>f</code> has at least one <code>numeric</code> argument.
</p>
<p>Further, it is expected that the return value of <code>f</code> is of the
structure <code>numeric(1)</code>, i.e. a single <code>numeric</code> value (although
this can be altered via the <code>output_template</code> field).</p>
</dd>
<dt><code>target</code></dt><dd><p>A <code>character</code>, the argument name(s) of <code>f</code> that get optimized.
</p>
<p>All target arguments must receive a <code>numeric</code> <code>vector</code>.
</p>
<p>Can be <code>NULL</code> (default), then it is the first argument of <code>f</code>.</p>
</dd>
<dt><code>npar</code></dt><dd><p>A <code>integer</code> of the same length as <code>target</code>, defining the length
of the respective <code>numeric</code> <code>vector</code> argument.</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to <code>f</code> that are fixed during
the optimization.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>Objective</code> object.
</p>


<hr>
<a id="method-Objective-set_argument"></a>



<h4>Method <code>set_argument()</code></h4>

<p>Set a fixed function argument.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$set_argument(..., overwrite = TRUE, verbose = self$verbose)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to <code>f</code> that are fixed during
the optimization.</p>
</dd>
<dt><code>overwrite</code></dt><dd><p>Either <code>TRUE</code> (default) to allow overwriting, or <code>FALSE</code> if not.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>Either <code>TRUE</code> (default) to print status messages, or <code>FALSE</code>
to hide those.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Invisibly the <code>Objective</code> object.
</p>


<hr>
<a id="method-Objective-get_argument"></a>



<h4>Method <code>get_argument()</code></h4>

<p>Get a fixed function argument.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$get_argument(argument_name, verbose = self$verbose)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>argument_name</code></dt><dd><p>A <code>character</code>, a name of an argument for <code>f</code>.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>Either <code>TRUE</code> (default) to print status messages, or <code>FALSE</code>
to hide those.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The argument value.
</p>


<hr>
<a id="method-Objective-remove_argument"></a>



<h4>Method <code>remove_argument()</code></h4>

<p>Remove a fixed function argument.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$remove_argument(argument_name, verbose = self$verbose)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>argument_name</code></dt><dd><p>A <code>character</code>, a name of an argument for <code>f</code>.</p>
</dd>
<dt><code>verbose</code></dt><dd><p>Either <code>TRUE</code> (default) to print status messages, or <code>FALSE</code>
to hide those.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Invisibly the <code>Objective</code> object.
</p>


<hr>
<a id="method-Objective-validate"></a>



<h4>Method <code>validate()</code></h4>

<p>Validate an <code>Objective</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$validate(.at)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>.at</code></dt><dd><p>A <code>numeric</code> of length <code>sum(self$npar)</code>, the values for the target
arguments written in a single vector.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Invisibly the <code>Objective</code> object.
</p>


<hr>
<a id="method-Objective-evaluate"></a>



<h4>Method <code>evaluate()</code></h4>

<p>Evaluate the objective function.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$evaluate(.at, .negate = FALSE, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>.at</code></dt><dd><p>A <code>numeric</code> of length <code>sum(self$npar)</code>, the values for the target
arguments written in a single vector.</p>
</dd>
<dt><code>.negate</code></dt><dd><p>Either <code>TRUE</code> to negate the <code>numeric</code> return value of
<code>f</code>, or <code>FALSE</code> (default) else.</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to <code>f</code> that are fixed during
the optimization.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The objective value.
</p>


<hr>
<a id="method-Objective-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print details of the <code>Objective</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$print()</pre></div>



<h5>Returns</h5>

<p>Invisibly the <code>Objective</code> object.
</p>


<hr>
<a id="method-Objective-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Objective$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>### define log-likelihood function of Gaussian mixture model
llk &lt;- function(mu, sd, lambda, data) {
  sd &lt;- exp(sd)
  lambda &lt;- plogis(lambda)
  cluster_1 &lt;- lambda * dnorm(data, mu[1], sd[1])
  cluster_2 &lt;- (1 - lambda) * dnorm(data, mu[2], sd[2])
  sum(log(cluster_1 + cluster_2))
}

### the log-likelihood function is supposed to be optimized over the first
### three arguments, the 'data' argument is constant
objective &lt;- Objective$new(
  f = llk, target = c("mu", "sd", "lambda"), npar = c(2, 2, 1),
  data = faithful$eruptions
)

### evaluate the objective function at 1:5 (1:2 is passed to mu, 3:4 to sd,
### and 5 to lambda)
objective$evaluate(1:5)
</code></pre>

<hr>
<h2 id='Optimizer'>Specify numerical optimizer as R6 object</h2><span id='topic+Optimizer'></span>

<h3>Description</h3>

<p>A <code>Optimizer</code> R6 object defines a numerical optimizer based on an
optimization function implemented in R.
</p>
<p>The main advantage of working with an <code>Optimizer</code> object instead of
using the optimization function directly lies in the standardized inputs and
outputs.
</p>
<p>Any R function that fulfills the following four constraints can be defined as
an <code>Optimizer</code> object:
</p>

<ol>
<li><p> It must have an input for a <code>function</code>, the objective function to be
optimized.
</p>
</li>
<li><p> It must have an input for a <code>numeric</code> vector, the initial values from
where the optimizer starts.
</p>
</li>
<li><p> It must have a <code>...</code> argument for additional parameters passed on to
the objective function.
</p>
</li>
<li><p> The output must be a named <code>list</code>, including the optimal function
value and the optimal parameter vector.
</p>
</li></ol>



<h3>Active bindings</h3>

<div class="r6-active-bindings">

<dl>
<dt><code>label</code></dt><dd><p>A <code>character</code>, the label for the optimizer.</p>
</dd>
<dt><code>algorithm</code></dt><dd><p>A <code>function</code>, the optimization algorithm.</p>
</dd>
<dt><code>arg_objective</code></dt><dd><p>A <code>character</code>, the argument name for the objective function in
<code>algorithm</code>.</p>
</dd>
<dt><code>arg_initial</code></dt><dd><p>A <code>character</code>, the argument name for the initial values in
<code>algorithm</code>.</p>
</dd>
<dt><code>out_value</code></dt><dd><p>A <code>character</code>, the element name for the optimal function value in
the output <code>list</code> of <code>algorithm</code>.</p>
</dd>
<dt><code>out_parameter</code></dt><dd><p>A <code>character</code>, the element name for the optimal parameters in the
output <code>list</code> of <code>algorithm</code>.</p>
</dd>
<dt><code>direction</code></dt><dd><p>Either <code>"min"</code> (if the optimizer minimizes) or <code>"max"</code>
(if the optimizer maximizes).</p>
</dd>
<dt><code>arguments</code></dt><dd><p>A named <code>list</code> of custom arguments for <code>algorithm</code>. Defaults
are used for arguments that are not specified.</p>
</dd>
<dt><code>seconds</code></dt><dd><p>A <code>numeric</code>, a time limit in seconds. Optimization is interrupted
prematurely if <code>seconds</code> is exceeded.
</p>
<p>No time limit if <code>seconds = Inf</code> (the default).
</p>
<p>Note the limitations documented in <code><a href="base.html#topic+setTimeLimit">setTimeLimit</a></code>.</p>
</dd>
<dt><code>hide_warnings</code></dt><dd><p>Either <code>TRUE</code> to hide warnings during optimization, or <code>FALSE</code>
(default) else.</p>
</dd>
<dt><code>output_ignore</code></dt><dd><p>A <code>character</code> <code>vector</code> of elements to ignore in the
optimization output.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-Optimizer-new"><code>Optimizer$new()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-definition"><code>Optimizer$definition()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-set_arguments"><code>Optimizer$set_arguments()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-validate"><code>Optimizer$validate()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-minimize"><code>Optimizer$minimize()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-maximize"><code>Optimizer$maximize()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-optimize"><code>Optimizer$optimize()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-print"><code>Optimizer$print()</code></a>
</p>
</li>
<li> <p><a href="#method-Optimizer-clone"><code>Optimizer$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-Optimizer-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initializes a new <code>Optimizer</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$new(which, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>which</code></dt><dd><p>A <code>character</code>, either one of <code>optimizer_dictionary$keys</code> or
<code>"custom"</code> (in which case <code>$definition()</code> must be used to
define the optimizer details).</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>Optimizer</code> object.
</p>


<hr>
<a id="method-Optimizer-definition"></a>



<h4>Method <code>definition()</code></h4>

<p>Defines an optimizer.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$definition(
  algorithm,
  arg_objective,
  arg_initial,
  out_value,
  out_parameter,
  direction
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>algorithm</code></dt><dd><p>A <code>function</code>, the optimization algorithm.</p>
</dd>
<dt><code>arg_objective</code></dt><dd><p>A <code>character</code>, the argument name for the objective function in
<code>algorithm</code>.</p>
</dd>
<dt><code>arg_initial</code></dt><dd><p>A <code>character</code>, the argument name for the initial values in
<code>algorithm</code>.</p>
</dd>
<dt><code>out_value</code></dt><dd><p>A <code>character</code>, the element name for the optimal function value in
the output <code>list</code> of <code>algorithm</code>.</p>
</dd>
<dt><code>out_parameter</code></dt><dd><p>A <code>character</code>, the element name for the optimal parameters in the
output <code>list</code> of <code>algorithm</code>.</p>
</dd>
<dt><code>direction</code></dt><dd><p>Either <code>"min"</code> (if the optimizer minimizes) or <code>"max"</code>
(if the optimizer maximizes).</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Invisibly the <code>Optimizer</code> object.
</p>


<hr>
<a id="method-Optimizer-set_arguments"></a>



<h4>Method <code>set_arguments()</code></h4>

<p>Sets optimizer arguments.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$set_arguments(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>Optimizer</code> object.
</p>


<hr>
<a id="method-Optimizer-validate"></a>



<h4>Method <code>validate()</code></h4>

<p>Validates the <code>Optimizer</code> object. A time limit in seconds for
the optimization can be set via the <code>$seconds</code> field.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$validate(
  objective = optimizeR::test_objective,
  initial = round(stats::rnorm(2)),
  ...,
  direction = "min"
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>objective</code></dt><dd><p>A <code>function</code> to be optimized that
</p>

<ol>
<li><p> has at least one argument that receives a <code>numeric</code> <code>vector</code>
</p>
</li>
<li><p> and returns a single <code>numeric</code> value.
</p>
</li></ol>

<p>Alternatively, it can also be a <code><a href="#topic+Objective">Objective</a></code> object for more
flexibility.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
<dt><code>direction</code></dt><dd><p>Either <code>"min"</code> for minimization or <code>"max"</code> for maximization.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>The <code>Optimizer</code> object.
</p>


<hr>
<a id="method-Optimizer-minimize"></a>



<h4>Method <code>minimize()</code></h4>

<p>Performing minimization.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$minimize(objective, initial, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>objective</code></dt><dd><p>A <code>function</code> to be optimized that
</p>

<ol>
<li><p> has at least one argument that receives a <code>numeric</code> <code>vector</code>
</p>
</li>
<li><p> and returns a single <code>numeric</code> value.
</p>
</li></ol>

<p>Alternatively, it can also be a <code><a href="#topic+Objective">Objective</a></code> object for more
flexibility.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A named <code>list</code>, containing at least these five elements:
</p>

<dl>
<dt><code>value</code></dt><dd><p>A <code>numeric</code>, the minimum function value.</p>
</dd>
<dt><code>parameter</code></dt><dd><p>A <code>numeric</code> vector, the parameter vector
where the minimum is obtained.</p>
</dd>
<dt><code>seconds</code></dt><dd><p>A <code>numeric</code>, the optimization time in seconds.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code>, the initial parameter values.</p>
</dd>
<dt><code>error</code></dt><dd><p>Either <code>TRUE</code> if an error occurred, or <code>FALSE</code>, else.</p>
</dd>
</dl>

<p>Appended are additional output elements of the optimizer.
</p>
<p>If an error occurred, then the error message is also appended as element
<code>error_message</code>.
</p>
<p>If the time limit was exceeded, this also counts as an error. In addition,
the flag <code>time_out = TRUE</code> is appended.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>Optimizer$new("stats::nlm")$
  minimize(objective = function(x) x^4 + 3*x - 5, initial = 2)
</pre>
</div>


<hr>
<a id="method-Optimizer-maximize"></a>



<h4>Method <code>maximize()</code></h4>

<p>Performing maximization.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$maximize(objective, initial, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>objective</code></dt><dd><p>A <code>function</code> to be optimized that
</p>

<ol>
<li><p> has at least one argument that receives a <code>numeric</code> <code>vector</code>
</p>
</li>
<li><p> and returns a single <code>numeric</code> value.
</p>
</li></ol>

<p>Alternatively, it can also be a <code><a href="#topic+Objective">Objective</a></code> object for more
flexibility.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A named <code>list</code>, containing at least these five elements:
</p>

<dl>
<dt><code>value</code></dt><dd><p>A <code>numeric</code>, the maximum function value.</p>
</dd>
<dt><code>parameter</code></dt><dd><p>A <code>numeric</code> vector, the parameter vector
where the maximum is obtained.</p>
</dd>
<dt><code>seconds</code></dt><dd><p>A <code>numeric</code>, the optimization time in seconds.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code>, the initial parameter values.</p>
</dd>
<dt><code>error</code></dt><dd><p>Either <code>TRUE</code> if an error occurred, or <code>FALSE</code>, else.</p>
</dd>
</dl>

<p>Appended are additional output elements of the optimizer.
</p>
<p>If an error occurred, then the error message is also appended as element
<code>error_message</code>.
</p>
<p>If the time limit was exceeded, this also counts as an error. In addition,
the flag <code>time_out = TRUE</code> is appended.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>Optimizer$new("stats::nlm")$
  maximize(objective = function(x) -x^4 + 3*x - 5, initial = 2)
</pre>
</div>


<hr>
<a id="method-Optimizer-optimize"></a>



<h4>Method <code>optimize()</code></h4>

<p>Performing minimization or maximization.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$optimize(objective, initial, direction = "min", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>objective</code></dt><dd><p>A <code>function</code> to be optimized that
</p>

<ol>
<li><p> has at least one argument that receives a <code>numeric</code> <code>vector</code>
</p>
</li>
<li><p> and returns a single <code>numeric</code> value.
</p>
</li></ol>

<p>Alternatively, it can also be a <code><a href="#topic+Objective">Objective</a></code> object for more
flexibility.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code> vector with starting parameter values for the optimization.</p>
</dd>
<dt><code>direction</code></dt><dd><p>Either <code>"min"</code> for minimization or <code>"max"</code> for maximization.</p>
</dd>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A named <code>list</code>, containing at least these five elements:
</p>

<dl>
<dt><code>value</code></dt><dd><p>A <code>numeric</code>, the maximum function value.</p>
</dd>
<dt><code>parameter</code></dt><dd><p>A <code>numeric</code> vector, the parameter vector
where the maximum is obtained.</p>
</dd>
<dt><code>seconds</code></dt><dd><p>A <code>numeric</code>, the optimization time in seconds.</p>
</dd>
<dt><code>initial</code></dt><dd><p>A <code>numeric</code>, the initial parameter values.</p>
</dd>
<dt><code>error</code></dt><dd><p>Either <code>TRUE</code> if an error occurred, or <code>FALSE</code>, else.</p>
</dd>
</dl>

<p>Appended are additional output elements of the optimizer.
</p>
<p>If an error occurred, then the error message is also appended as element
<code>error_message</code>.
</p>
<p>If the time limit was exceeded, this also counts as an error. In addition,
the flag <code>time_out = TRUE</code> is appended.
</p>



<h5>Examples</h5>

<div class="r example copy">
<pre>objective &lt;- function(x) -x^4 + 3*x - 5
optimizer &lt;- Optimizer$new("stats::nlm")
optimizer$optimize(objective = objective, initial = 2, direction = "min")
optimizer$optimize(objective = objective, initial = 2, direction = "max")
</pre>
</div>


<hr>
<a id="method-Optimizer-print"></a>



<h4>Method <code>print()</code></h4>

<p>Prints the optimizer label.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$print(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>Optionally additional arguments to be passed to the optimizer algorithm.
Without specifications, default values are used.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>Invisibly the <code>Optimizer</code> object.
</p>


<hr>
<a id="method-Optimizer-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>Optimizer$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>### Task: compare minimization with 'stats::nlm' and 'pracma::nelder_mead'

# 1. define objective function and initial values
objective &lt;- TestFunctions::TF_ackley
initial &lt;- c(3, 3)

# 2. get overview of optimizers in dictionary
optimizer_dictionary$keys

# 3. define 'nlm' optimizer
nlm &lt;- Optimizer$new(which = "stats::nlm")

# 4. define the 'pracma::nelder_mead' optimizer (not contained in the dictionary)
nelder_mead &lt;- Optimizer$new(which = "custom")
nelder_mead$definition(
  algorithm = pracma::nelder_mead, # the optimization function
  arg_objective = "fn",            # the argument name for the objective function
  arg_initial = "x0",              # the argument name for the initial values
  out_value = "fmin",              # the element for the optimal function value in the output
  out_parameter = "xmin",          # the element for the optimal parameters in the output
  direction = "min"                # the optimizer minimizes
)

# 5. compare the minimization results
nlm$minimize(objective, initial)
nelder_mead$minimize(objective, initial)


## ------------------------------------------------
## Method `Optimizer$minimize`
## ------------------------------------------------

Optimizer$new("stats::nlm")$
  minimize(objective = function(x) x^4 + 3*x - 5, initial = 2)

## ------------------------------------------------
## Method `Optimizer$maximize`
## ------------------------------------------------

Optimizer$new("stats::nlm")$
  maximize(objective = function(x) -x^4 + 3*x - 5, initial = 2)

## ------------------------------------------------
## Method `Optimizer$optimize`
## ------------------------------------------------

objective &lt;- function(x) -x^4 + 3*x - 5
optimizer &lt;- Optimizer$new("stats::nlm")
optimizer$optimize(objective = objective, initial = 2, direction = "min")
optimizer$optimize(objective = objective, initial = 2, direction = "max")
</code></pre>

<hr>
<h2 id='optimizer_dictionary'>Dictionary of optimizer functions</h2><span id='topic+optimizer_dictionary'></span>

<h3>Description</h3>

<p>The <code>optimizer_dictionary</code> object is a dictionary of currently implemented
numerical optimizer functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>optimizer_dictionary
</code></pre>


<h3>Format</h3>

<p>An <code>R6</code> object of class <code><a href="oeli.html#topic+Dictionary">Dictionary</a></code>.
</p>

<hr>
<h2 id='ParameterSpaces'>Switch Between Parameter Spaces</h2><span id='topic+ParameterSpaces'></span>

<h3>Description</h3>

<p>This R6 object manages two related parameter spaces: the Optimization Space
(for optimization) and the Interpretation Space (for easier interpretation).
</p>
<p>In the Optimization Space, parameters are stored as a <code>numeric</code>
<code>vector</code>, the standard format for numerical optimizers. Parameters in
this space are typically identified.
</p>
<p>In the Interpretation Space, parameters are stored as a <code>list</code> and can
take different formats (e.g., <code>matrix</code>). Parameters here do not need to
be identified.
</p>
<p>The user can define transformation functions (not necessarily bijective) to
switch between these two spaces via the <code>$o2i()</code> and <code>$i2o()</code>
methods.
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-ParameterSpaces-new"><code>ParameterSpaces$new()</code></a>
</p>
</li>
<li> <p><a href="#method-ParameterSpaces-print"><code>ParameterSpaces$print()</code></a>
</p>
</li>
<li> <p><a href="#method-ParameterSpaces-switch"><code>ParameterSpaces$switch()</code></a>
</p>
</li>
<li> <p><a href="#method-ParameterSpaces-o2i"><code>ParameterSpaces$o2i()</code></a>
</p>
</li>
<li> <p><a href="#method-ParameterSpaces-i2o"><code>ParameterSpaces$i2o()</code></a>
</p>
</li>
<li> <p><a href="#method-ParameterSpaces-clone"><code>ParameterSpaces$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-ParameterSpaces-new"></a>



<h4>Method <code>new()</code></h4>

<p>Initializes a new <code>ParameterSpaces</code> object.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParameterSpaces$new(parameter_names, parameter_lengths_in_o_space)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>parameter_names</code></dt><dd><p>[<code>character()</code>]<br />
Unique names for the parameters.</p>
</dd>
<dt><code>parameter_lengths_in_o_space</code></dt><dd><p>[<code>integer()</code>]<br />
The length of each parameter in the optimization space.</p>
</dd>
</dl>

</div>



<h5>Returns</h5>

<p>A new <code>ParameterSpaces</code> object.
</p>


<hr>
<a id="method-ParameterSpaces-print"></a>



<h4>Method <code>print()</code></h4>

<p>Print an overview of the parameter spaces.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParameterSpaces$print(show_transformer = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>show_transformer</code></dt><dd><p>[<code>logical(1)</code>]<br />
Show transformer functions in the output?</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ParameterSpaces-switch"></a>



<h4>Method <code>switch()</code></h4>

<p>Switch between Optimization Space and Interpretation Space.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParameterSpaces$switch(x, to = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>x</code></dt><dd><p>[<code>numeric()</code> | <code>list()</code>]<br />
The parameters, either as a <code style="white-space: pre;">&#8288;numeric vector&#8288;</code> (will be switched to
Interpretation Space), or as a <code>list()</code> (will be switched to Optimization
Space).</p>
</dd>
<dt><code>to</code></dt><dd><p>[<code>character(1)</code> | <code>NULL</code>]<br />
Explicitly switch to a specific space, either
</p>

<ul>
<li> <p><code>"o"</code>: Optimization Space
</p>
</li>
<li> <p><code>"i"</code>: Interpretation Space
</p>
</li></ul>

<p>If <code>NULL</code>, the function will switch to the other space.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ParameterSpaces-o2i"></a>



<h4>Method <code>o2i()</code></h4>

<p>Define transformation functions when switching from Optimization Space to
Interpretation Space.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParameterSpaces$o2i(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>[<code>function</code>]<br />
One or more transformation functions, named according to the parameters.
</p>
<p>Transformers from Optimization Space to Interpretation Space (o2i)
<strong>must receive</strong> a <code>numeric</code>. The default is the identity.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ParameterSpaces-i2o"></a>



<h4>Method <code>i2o()</code></h4>

<p>Define transformation functions when switching from Interpretation Space
to Optimization Space.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParameterSpaces$i2o(...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>...</code></dt><dd><p>[<code>function</code>]<br />
One or more transformers functions, named according to the parameters.
</p>
<p>Transformers from Interpretation Space to Optimization Space (i2o)
<strong>must return</strong> a <code>numeric</code>. The default is <code>as.vector()</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-ParameterSpaces-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>ParameterSpaces$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>### Log-likelihood function of two-class Gaussian mixture model with
### parameter vector `theta` that consists of
### - `mu`, mean vector of length 2
### - `sd`, standard deviation vector of length 2, must be positive
### - `lambda`, class probability of length 1, must be between 0 and 1

normal_mixture_llk &lt;- function(theta, data) {
  mu &lt;- theta[1:2]
  sd &lt;- exp(theta[3:4])
  lambda &lt;- plogis(theta[5])
  c1 &lt;- lambda * dnorm(data, mu[1], sd[1])
  c2 &lt;- (1 - lambda) * dnorm(data, mu[2], sd[2])
  sum(log(c1 + c2))
}

### define parameter spaces
### - `mu` needs no transformation
### - `sd` needs to be real in optimization space and positive in
###    interpretation space
### - `lambda` needs to be real and of length `1` in optimization space, and
###    a probability vector of length `2` in interpretation space

normal_mixture_spaces &lt;- ParameterSpaces$
  new(
    parameter_names = c("mu", "sd", "lambda"),
    parameter_lengths_in_o_space = c(2, 2, 1)
  )$
  o2i(
    "mu" = function(x) x,
    "sd" = function(x) exp(x),
    "lambda" = function(x) c(plogis(x), 1 - plogis(x))
  )$
  i2o(
    "mu" = function(x) x,
    "sd" = function(x) log(x),
    "lambda" = function(x) qlogis(x[1])
  )

### switch between parameter spaces

par &lt;- list(                             # parameters in interpretation space
  "mu" = c(2, 4),
  "sd" = c(0.5, 1),
  "lambda" = c(0.4, 0.6)
)
(x &lt;- normal_mixture_spaces$switch(par)) # switch to optimization space
normal_mixture_llk(
  theta = x, data = datasets::faithful$eruptions
)
normal_mixture_spaces$switch(x)          # switch back

</code></pre>

<hr>
<h2 id='test_objective'>Test objective function</h2><span id='topic+test_objective'></span>

<h3>Description</h3>

<p>This function is useful for testing or debugging the behavior of objective
functions. It can throw a warning and / or an error on purpose.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_objective(
  x,
  value = x,
  warning_prob = 0,
  error_prob = 0,
  warning_msg = "warning",
  error_msg = "error",
  call. = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_objective_+3A_x">x</code></td>
<td>
<p>Any input.</p>
</td></tr>
<tr><td><code id="test_objective_+3A_value">value</code></td>
<td>
<p>The return value, any object.</p>
</td></tr>
<tr><td><code id="test_objective_+3A_warning_prob">warning_prob</code></td>
<td>
<p>The probability for throwing a warning.</p>
</td></tr>
<tr><td><code id="test_objective_+3A_error_prob">error_prob</code></td>
<td>
<p>The probability for throwing an error.</p>
</td></tr>
<tr><td><code id="test_objective_+3A_warning_msg">warning_msg</code></td>
<td>
<p>The warning message.</p>
</td></tr>
<tr><td><code id="test_objective_+3A_error_msg">error_msg</code></td>
<td>
<p>The error message.</p>
</td></tr>
<tr><td><code id="test_objective_+3A_call.">call.</code></td>
<td>
<p>Passed to <code><a href="base.html#topic+warning">warning</a></code> or <code><a href="base.html#topic+stop">stop</a></code>,
respectively.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The argument <code>value</code>.
</p>

<hr>
<h2 id='test_optimizer'>Test optimization function</h2><span id='topic+test_optimizer'></span>

<h3>Description</h3>

<p>This function is useful for testing or debugging the behavior of optimization
functions. It can throw a warning and / or an error on purpose.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_optimizer(
  objective = test_objective,
  initial = 1,
  ...,
  parameter = 1,
  value = objective(parameter),
  seconds = 0,
  warning_prob = 0,
  error_prob = 0,
  warning_msg = "warning",
  error_msg = "error",
  call. = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="test_optimizer_+3A_objective">objective</code></td>
<td>
<p>An objective <code>function</code>.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_initial">initial</code></td>
<td>
<p>The initial parameter vector.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_...">...</code></td>
<td>
<p>Optionally additional arguments to be passed to <code>objective</code>.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_parameter">parameter</code></td>
<td>
<p>Defines the output <code>parameter</code>.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_value">value</code></td>
<td>
<p>Defines the output <code>value</code>.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_seconds">seconds</code></td>
<td>
<p>A delay in number of seconds.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_warning_prob">warning_prob</code></td>
<td>
<p>The probability for throwing a warning.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_error_prob">error_prob</code></td>
<td>
<p>The probability for throwing an error.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_warning_msg">warning_msg</code></td>
<td>
<p>The warning message.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_error_msg">error_msg</code></td>
<td>
<p>The error message.</p>
</td></tr>
<tr><td><code id="test_optimizer_+3A_call.">call.</code></td>
<td>
<p>Passed to <code><a href="base.html#topic+warning">warning</a></code> or <code><a href="base.html#topic+stop">stop</a></code>,
respectively.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> with elements <code>parameter</code> and <code>value</code>.
</p>

<hr>
<h2 id='validate_optimizer'>Validate <code>optimizer</code> object</h2><span id='topic+validate_optimizer'></span>

<h3>Description</h3>

<p>This function validates an <code>optimizer</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate_optimizer(
  x = new_optimizer(),
  .validate = FALSE,
  .validation_settings = list()
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_optimizer_+3A_x">x</code></td>
<td>
<p>An object of class <code>optimizer</code>.</p>
</td></tr>
<tr><td><code id="validate_optimizer_+3A_.validate">.validate</code></td>
<td>
<p>A <code>logical</code>, set to <code>TRUE</code> (<code>FALSE</code>) to (not) validate the
<code>optimizer</code> object.
By default, <code>.validate = FALSE</code>.</p>
</td></tr>
<tr><td><code id="validate_optimizer_+3A_.validation_settings">.validation_settings</code></td>
<td>
<p>Ignored if <code>.valdiate = FALSE</code>.
Otherwise, a <code>list</code> of validation settings:
</p>

<dl>
<dt>objective_test</dt><dd><p>A <code>function</code>, the test function to be optimized.
By default, it is the
<a href="https://en.wikipedia.org/wiki/Ackley_function">Ackley function</a>.</p>
</dd>
<dt>objective_add</dt><dd><p>A <code>list</code> of additional arguments to
<code>objective_test</code> (if any).
By default, <code>objective_add = list()</code>, because the default function
for <code>objective_test</code> does not have additional arguments.</p>
</dd>
<dt>initial</dt><dd><p>A <code>numeric</code> vector, the initial values for the
optimization of <code>objective_test</code>.
By default, <code>initial = round(stats::rnorm(2), 2)</code>.</p>
</dd>
<dt>check_seconds</dt><dd><p>An <code>integer</code>, the maximum number of seconds
before the test is aborted.
The test call is considered to be successful if no error occurred
within <code>check_seconds</code> seconds.
By default, <code>check_seconds = 10</code>.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>The validated input <code>x</code>.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

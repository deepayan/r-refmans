<!DOCTYPE html><html><head><title>Help for package SurrogateRsq</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {SurrogateRsq}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#print'><p>Print surrogate R-squared measure</p></a></li>
<li><a href='#RedWine'><p>Red wine quality dataset of the Portuguese &quot;Vinho Verde&quot; wine</p></a></li>
<li><a href='#surr_rsq'><p>A function to calculate the surrogate R-squared measure.</p></a></li>
<li><a href='#surr_rsq_ci'><p>A function to calculate the interval estimate of the surrogate R-squared measure</p></a></li>
<li><a href='#surr_rsq_rank'><p>The contribution of each variable in the final model</p></a></li>
<li><a href='#WhiteWine'><p>White wine quality dataset of the Portuguese &quot;Vinho Verde&quot; wine</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Goodness-of-Fit Analysis for Categorical Data using the
Surrogate R-Squared</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Xiaorui (Jeremy) Zhu &lt;zhuxiaorui1989@gmail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>To assess and compare the models' goodness of fit, R-squared is one of the most 
              popular measures. For categorical data analysis, however, no universally adopted 
              R-squared measure can resemble the ordinary least square (OLS) R-squared for 
              linear models with continuous data. This package implement the surrogate R-squared
              measure for categorical data analysis, which is proposed in the study of Dungang Liu,
              Xiaorui Zhu, Brandon Greenwell, and Zewei Lin (2022) &lt;<a href="https://doi.org/10.1111%2Fbmsp.12289">doi:10.1111/bmsp.12289</a>&gt;. It
              can generate a point or interval measure of the surrogate R-squared. It can also 
              provide a ranking measure of the percentage contribution of each variable to the 
              overall surrogate R-squared. This ranking assessment allows one to check the 
              importance of each variable in terms of their explained variance. This package can
              be jointly used with other existing R packages for variable selection and model 
              diagnostics in the model-building process. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0), MASS (&ge; 7.3-54), PAsso (&ge; 0.1.10), progress
(&ge; 1.2.0), scales (&ge; 1.1.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>R.rsp, knitr, rmarkdown, testthat (&ge; 3.0.0), dplyr (&ge;
1.1.1)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://xiaorui.site/SurrogateRsq/">https://xiaorui.site/SurrogateRsq/</a>,
<a href="http://xiaorui.site/SurrogateRsq/">http://xiaorui.site/SurrogateRsq/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/XiaoruiZhu/SurrogateRsq/issues">https://github.com/XiaoruiZhu/SurrogateRsq/issues</a></td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>R.rsp</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-24 02:46:55 UTC; xiaorui</td>
</tr>
<tr>
<td>Author:</td>
<td>Xiaorui (Jeremy) Zhu [aut, cre, cph],
  Dungang Liu [ctb],
  Zewei Lin [ctb],
  Brandon Greenwell [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-24 05:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='print'>Print surrogate R-squared measure</h2><span id='topic+print'></span><span id='topic+print.surr_rsq'></span><span id='topic+print.surr_rsq_ci'></span><span id='topic+print.surr_rsq_rank'></span>

<h3>Description</h3>

<p>Print surrogate R-squared measure
</p>
<p>Print surrogate R-squared confidence interval measure
</p>
<p>Print surrogate R-squared ranking table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'surr_rsq'
print(x, digits = max(2, getOption("digits") - 2), ...)

## S3 method for class 'surr_rsq_ci'
print(x, digits = max(2, getOption("digits") - 2), ...)

## S3 method for class 'surr_rsq_rank'
print(x, digits = max(2, getOption("digits") - 2), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print_+3A_x">x</code></td>
<td>
<p>A surr_rsq_rank object for printing out results.</p>
</td></tr>
<tr><td><code id="print_+3A_digits">digits</code></td>
<td>
<p>A default number to specify decimal digit values.</p>
</td></tr>
<tr><td><code id="print_+3A_...">...</code></td>
<td>
<p>Additional optional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Print surrogate R-squared measure of a surr_rsq object
</p>
<p>Print surrogate R-squared confidence interval measure
</p>
<p>Print surrogate R-squared ranking table from a surr_rsq_rank object
</p>

<hr>
<h2 id='RedWine'>Red wine quality dataset of the Portuguese &quot;Vinho Verde&quot; wine</h2><span id='topic+RedWine'></span>

<h3>Description</h3>

<p>A red wine tasting preference data used in the study of Cortez, Cerdeira, Almeida, Matos,
and Reis 2009. This red wine contains 1599 samples and 12 variables including the tasting
preference score of red wine and its physicochemical characteristics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(RedWine)
</code></pre>


<h3>Format</h3>

<p>A data frame with 1599 rows, quality score, and 11 variables of physicochemical properties of wines.
</p>

<ul>
<li> <p><code>quality</code> Tasting preference is a rating score provided by a minimum of three sensory with ordinal values from
0 (very bad) to 10 (excellent). The final sensory score is the median of these evaluations.
</p>
</li>
<li> <p><code>fixed.acidity</code> The fixed acidity is the physicochemical property in unit (g(tartaric acid)/dm^3).
</p>
</li>
<li> <p><code>volatile.acidity</code> The volatile acidity is in unit g(acetic acid)/dm^3.
</p>
</li>
<li> <p><code>citric.acid</code> The citric acidity is in unit g/dm^3.
</p>
</li>
<li> <p><code>residual.sugar</code> The residual sugar is in unit g/dm^3.
</p>
</li>
<li> <p><code>chlorides</code> The chlorides is in unit g(sodium chloride)/dm^3.
</p>
</li>
<li> <p><code>free.sulfur.dioxide</code> The free sulfur dioxide is in unit mg/dm^3.
</p>
</li>
<li> <p><code>total.sulfur.dioxide</code> The total sulfur dioxide is in unit mg/dm^3.
</p>
</li>
<li> <p><code>density</code> The density is in unit g/cm^3.
</p>
</li>
<li> <p><code>pH</code> The wine's pH value.
</p>
</li>
<li> <p><code>sulphates</code> The sulphates is in unit g(potassium sulphates)/dm^3.
</p>
</li>
<li> <p><code>alcohol</code> The alcohol is in unit \
</p>
</li></ul>



<h3>References</h3>

<p>Cortez, P., Cerdeira, A., Almeida, F., Matos, T., and Reis, J. (2009), “Modeling wine
preferences by data mining from physicochemical properties,” Decision Support Systems,
47, 547–553. doi: <a href="https://doi.org/10.1016/j.dss.2009.05.016">10.1016/j.dss.2009.05.016</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(RedWine)
</code></pre>

<hr>
<h2 id='surr_rsq'>A function to calculate the surrogate R-squared measure.</h2><span id='topic+surr_rsq'></span>

<h3>Description</h3>

<p>It can provide the surrogate R-squared for a user specified model.
This function will generate an S3 object of surrogate R-squared measure that will
be called from other functions of this package. The generic S3 function <code>print</code>
is also developed to present the surrogate R-squared measure.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surr_rsq(model, full_model, avg.num = 30, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="surr_rsq_+3A_model">model</code></td>
<td>
<p>A reduced model that needs to be investigated. The reported surrogate R-square is for this reduced model.</p>
</td></tr>
<tr><td><code id="surr_rsq_+3A_full_model">full_model</code></td>
<td>
<p>A full model that contains all of the predictors in the data set. This model object
should also contain the dataset for fitting the full model and the reduced model in the first argument.</p>
</td></tr>
<tr><td><code id="surr_rsq_+3A_avg.num">avg.num</code></td>
<td>
<p>The number of replication for the averaging of surrogate R-square.</p>
</td></tr>
<tr><td><code id="surr_rsq_+3A_...">...</code></td>
<td>
<p>Additional optional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>"surr_rsq"</code> is a list containing the following components:
</p>
<table>
<tr><td><code>surr_rsq</code></td>
<td>
<p>the surrogate R-square value;</p>
</td></tr>
<tr><td><code>reduced_model</code></td>
<td>
<p>the reduced model under investigation. It should be a subset
of the full model;</p>
</td></tr>
<tr><td><code>full_model</code></td>
<td>
<p>the full model used for generating the surrogate response. It should
have passed initial variable screening and model diagnostics (see Paper for reference);</p>
</td></tr>
<tr><td><code>data</code></td>
<td>
<p>the dataset contains the response variable and all the predictors.</p>
</td></tr>
</table>


<h3>References</h3>

<p>Zhu, X., Liu, D., Lin, Z., Greenwell, B. (2022). SurrogateRsq: an R package for categorical
data goodness-of-fit analysis using the surrogate R-squared
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("RedWine")

full_formula &lt;- as.formula(quality ~ fixed.acidity + volatile.acidity +
citric.acid+ residual.sugar + chlorides + free.sulfur.dioxide +
total.sulfur.dioxide + density + pH + sulphates + alcohol)

full_mod &lt;- polr(formula = full_formula,
data=RedWine, method  = "probit")

select_model &lt;- update(full_mod, formula. = ". ~ . - fixed.acidity -
citric.acid - residual.sugar - density")
surr_obj_sele_mod &lt;- surr_rsq(model = select_model, full_model = full_mod,
                               data = RedWine, avg.num = 30)
print(surr_obj_sele_mod$surr_rsq, digits = 3)

</code></pre>

<hr>
<h2 id='surr_rsq_ci'>A function to calculate the interval estimate of the surrogate R-squared measure</h2><span id='topic+surr_rsq_ci'></span>

<h3>Description</h3>

<p>This function generates the interval measure of surrogate R-squared by bootstrap.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surr_rsq_ci(surr_rsq, alpha = 0.05, B = 1000, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="surr_rsq_ci_+3A_surr_rsq">surr_rsq</code></td>
<td>
<p>A object of class <code>"surr_rsq"</code> that is generated by the function <code>"surr_rsq"</code>.
It contains the following components: <code>surr_rsq</code>, <code>reduced_model</code>, <code>full_model</code>, and <code>data</code>.</p>
</td></tr>
<tr><td><code id="surr_rsq_ci_+3A_alpha">alpha</code></td>
<td>
<p>The significance level alpha. The confidence level is 1-alpha.</p>
</td></tr>
<tr><td><code id="surr_rsq_ci_+3A_b">B</code></td>
<td>
<p>The number of bootstrap replications.</p>
</td></tr>
<tr><td><code id="surr_rsq_ci_+3A_...">...</code></td>
<td>
<p>Additional optional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An list that contains the CI_lower, CI_upper.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("RedWine")

full_formula &lt;- as.formula(quality ~ fixed.acidity + volatile.acidity + citric.acid
+ residual.sugar + chlorides + free.sulfur.dioxide +
total.sulfur.dioxide + density + pH + sulphates + alcohol)

fullmodel &lt;- polr(formula = full_formula,data=RedWine, method  = "probit")

select_model &lt;- update(fullmodel, formula. = ". ~ . - fixed.acidity -
citric.acid - residual.sugar - density")

surr_rsq_select &lt;- surr_rsq(select_model, fullmodel, data = RedWine, avg.num = 30)

# surr_rsq_ci(surr_rsq_select, alpha = 0.05, B = 1000) # Not run, it takes time.

</code></pre>

<hr>
<h2 id='surr_rsq_rank'>The contribution of each variable in the final model</h2><span id='topic+surr_rsq_rank'></span>

<h3>Description</h3>

<p>This function calculates reduction of the surrogate R-squared goodness-of-fit of each variable to measure their relative explanatory power. This function creates a table containing the reductions of surrogate R-squared by removing each one of variables in the model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>surr_rsq_rank(object, avg.num = 30, var.set = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="surr_rsq_rank_+3A_object">object</code></td>
<td>
<p>A object of class <code>"surr_rsq"</code> that is generated by the function <code>"surr_rsq"</code>.
It contains the following components: <code>surr_rsq</code>, <code>reduced_model</code>, <code>full_model</code>, and <code>data</code>.</p>
</td></tr>
<tr><td><code id="surr_rsq_rank_+3A_avg.num">avg.num</code></td>
<td>
<p>The number of replication for the averaging of surrogate R-square.</p>
</td></tr>
<tr><td><code id="surr_rsq_rank_+3A_var.set">var.set</code></td>
<td>
<p>A list that contains a few sets. Each component of these sets represents the variables
that you want to examine for the contribution of goodness of fit. Then, for one component of this list,
a model will fit by removing the specified variables.</p>
</td></tr>
<tr><td><code id="surr_rsq_rank_+3A_...">...</code></td>
<td>
<p>Additional optional arguments.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The default return is a list that contains the contribution of Surrogate R-squared for each
variable in the <code>full_model</code>. If the <code>var.set</code> is specified, the return is a list of the
contribution of the groups of variables in the <code>var.set</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data("WhiteWine")

sele_formula &lt;- as.formula(quality ~ fixed.acidity + volatile.acidity +
                          residual.sugar +  + free.sulfur.dioxide +
                          pH + sulphates + alcohol)

sele_mod &lt;- polr(formula = sele_formula,
              data = WhiteWine,
              method = "probit")

sur1 &lt;- surr_rsq(model = sele_mod,
              full_model = sele_mod,
              avg.num = 100)

rank_tab_sur1 &lt;- surr_rsq_rank(object  = sur1,
                               avg.num = 30)
print(rank_tab_sur1)


</code></pre>

<hr>
<h2 id='WhiteWine'>White wine quality dataset of the Portuguese &quot;Vinho Verde&quot; wine</h2><span id='topic+WhiteWine'></span>

<h3>Description</h3>

<p>A white wine tasting preference data used in the study of Cortez, Cerdeira, Almeida, Matos,
and Reis 2009. This white wine contains 4898 white vinho verde wine samples and 12
variables including the tasting preference score of white wine and its physicochemical characteristics.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>data(WhiteWine)
</code></pre>


<h3>Format</h3>

<p>A data frame with 4898 rows, quality score, and 11 variables of physicochemical properties of wines.
</p>

<ul>
<li> <p><code>quality</code> Tasting preference is a rating score provided by a minimum of three sensory with ordinal values from
0 (very bad) to 10 (excellent). The final sensory score is the median of these evaluations.
</p>
</li>
<li> <p><code>fixed.acidity</code> The fixed acidity is the physicochemical property in unit (g(tartaric acid)/dm^3).
</p>
</li>
<li> <p><code>volatile.acidity</code> The volatile acidity is in unit g(acetic acid)/dm^3.
</p>
</li>
<li> <p><code>citric.acid</code> The citric acidity is in unit g/dm^3.
</p>
</li>
<li> <p><code>residual.sugar</code> The residual sugar is in unit g/dm^3.
</p>
</li>
<li> <p><code>chlorides</code> The chlorides is in unit g(sodium chloride)/dm^3.
</p>
</li>
<li> <p><code>free.sulfur.dioxide</code> The free sulfur dioxide is in unit mg/dm^3.
</p>
</li>
<li> <p><code>total.sulfur.dioxide</code> The total sulfur dioxide is in unit mg/dm^3.
</p>
</li>
<li> <p><code>density</code> The density is in unit g/cm^3.
</p>
</li>
<li> <p><code>pH</code> The wine's pH value.
</p>
</li>
<li> <p><code>sulphates</code> The sulphates is in unit g(potassium sulphates)/dm^3.
</p>
</li>
<li> <p><code>alcohol</code> The alcohol is in unit \
</p>
</li></ul>



<h3>References</h3>

<p>Cortez, P., Cerdeira, A., Almeida, F., Matos, T., and Reis, J. (2009), “Modeling wine
preferences by data mining from physicochemical properties,” Decision Support Systems,
47, 547–553. doi: <a href="https://doi.org/10.1016/j.dss.2009.05.016">10.1016/j.dss.2009.05.016</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(WhiteWine)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

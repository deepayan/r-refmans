<!DOCTYPE html><html><head><title>Help for package qreport</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {qreport}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#addCap'><p>addCap</p></a></li>
<li><a href='#aePlot'><p>Adverse Event Plot</p></a></li>
<li><a href='#asForm'><p>asForm</p></a></li>
<li><a href='#conVars'><p>conVars</p></a></li>
<li><a href='#dataChk'><p>dataChk</p></a></li>
<li><a href='#dataOverview'><p>dataOverview</p></a></li>
<li><a href='#disVars'><p>disVars</p></a></li>
<li><a href='#dNeedle'><p>Draw Needles</p></a></li>
<li><a href='#getqreportOption'><p>Get qreport Options</p></a></li>
<li><a href='#hookaddcap'><p>hookaddcap</p></a></li>
<li><a href='#hooktime'><p>hooktime</p></a></li>
<li><a href='#htmlList'><p>htmlList</p></a></li>
<li><a href='#htmlView'><p>htmlView</p></a></li>
<li><a href='#htmlViewx'><p>htmlViewx</p></a></li>
<li><a href='#kabl'><p>kabl</p></a></li>
<li><a href='#makecallout'><p>makecallout</p></a></li>
<li><a href='#makecnote'><p>makecnote</p></a></li>
<li><a href='#makecodechunk'><p>makecodechunk</p></a></li>
<li><a href='#makecolmarg'><p>makecolmarg</p></a></li>
<li><a href='#makegraphviz'><p>makegraphviz</p></a></li>
<li><a href='#makemermaid'><p>makemermaid</p></a></li>
<li><a href='#maketabs'><p>maketabs</p></a></li>
<li><a href='#missChk'><p>missChk</p></a></li>
<li><a href='#multDataOverview'><p>multDataOverview</p></a></li>
<li><a href='#pdumpit'><p>Print to File for Debugging</p></a></li>
<li><a href='#printCap'><p>printCap</p></a></li>
<li><a href='#putQcap'><p>putQcap</p></a></li>
<li><a href='#runDeriveExpr'><p>runDeriveExpr</p></a></li>
<li><a href='#rwrap'><p>rwrap</p></a></li>
<li><a href='#sampleFrac'><p>Compute Sample Fractions</p></a></li>
<li><a href='#saveCap'><p>saveCap</p></a></li>
<li><a href='#scplot'><p>scplot</p></a></li>
<li><a href='#setqreportOption'><p>Set qreport Options</p></a></li>
<li><a href='#spar'><p>spar</p></a></li>
<li><a href='#timeMar'><p>timeMar</p></a></li>
<li><a href='#varType'><p>varType</p></a></li>
<li><a href='#vClus'><p>cClus</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Statistical Reporting with 'Quarto'</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0-0</td>
</tr>
<tr>
<td>Date:</td>
<td>2023-09-12</td>
</tr>
<tr>
<td>Author:</td>
<td>Frank Harrell</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Frank Harrell &lt;fh@fharrell.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides statistical components, tables, and graphs
    that are useful in 'Quarto' and 'RMarkdown' reports and that produce 'Quarto'
    elements for special formatting such as tabs and marginal notes and graphs.
    Some of the functions produce entire report sections with tabs, e.g.,
    the missing data report created by missChk().  Functions for inserting
		variables and tables inside 'graphviz' and 'mermaid' diagrams are included,
		and so are special clinical trial graphics for adverse event reporting.</td>
</tr>
<tr>
<td>Depends:</td>
<td>Hmisc (&ge; 5.1-1), data.table, ggplot2</td>
</tr>
<tr>
<td>Imports:</td>
<td>rms, Formula, viridis, knitr, htmltools</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>Yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://hbiostat.org/R/qreport/">https://hbiostat.org/R/qreport/</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-09-12 15:23:06 UTC; harrelfe</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-09-12 22:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='addCap'>addCap</h2><span id='topic+addCap'></span>

<h3>Description</h3>

<p>Add Figure Captions to a Dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCap(label = NULL, cap = NULL, scap = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="addCap_+3A_label">label</code></td>
<td>
<p>figure label to use if not fetched from chunk information</p>
</td></tr>
<tr><td><code id="addCap_+3A_cap">cap</code></td>
<td>
<p>caption to use if not from chunk</p>
</td></tr>
<tr><td><code id="addCap_+3A_scap">scap</code></td>
<td>
<p>short caption to use if not from chunk</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Fetches the figure caption and optional short caption from the currently running code chunk (under <code>knitr</code>) and appends them to a running caption dataset named <code>.captions.</code> in the global environment.  This facilites customizing a table of figures in a report.
</p>


<h3>Value</h3>

<p>invisible list with <code>label</code>, <code>cap</code>, <code>scap</code>
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Called from inside a knitr chunk and all information pulled from
# chunk information
addCap()

## End(Not run)
</code></pre>

<hr>
<h2 id='aePlot'>Adverse Event Plot</h2><span id='topic+aePlot'></span>

<h3>Description</h3>

<p>Generates graphics for binary event proportions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>aePlot(
  formula,
  data = NULL,
  subset = NULL,
  na.action = na.retain,
  exposure = NULL,
  expunit = "",
  study = " ",
  refgroup = NULL,
  minincidence = 0,
  conf.int = 0.95,
  etype = "adverse events",
  head = NULL,
  tail = NULL,
  size = c("regular", "wide"),
  popts = NULL,
  label = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="aePlot_+3A_formula">formula</code></td>
<td>
<p>a formula with one or two left hand variables (the first representing major categorization and the second minor), and 1-2 right hand variables.  One of the right hand variables may be enclosed in <code>id()</code> to indicate the presence of a unique subject ID.  The remaining variable is treatment.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_data">data</code></td>
<td>
<p>input data frame</p>
</td></tr>
<tr><td><code id="aePlot_+3A_subset">subset</code></td>
<td>
<p>subsetting criteria</p>
</td></tr>
<tr><td><code id="aePlot_+3A_na.action">na.action</code></td>
<td>
<p>function for handling <code>NA</code>s when creating analysis frame</p>
</td></tr>
<tr><td><code id="aePlot_+3A_exposure">exposure</code></td>
<td>
<p>a numeric vector whose length is the number of treatments, with names equal to the treatment names</p>
</td></tr>
<tr><td><code id="aePlot_+3A_expunit">expunit</code></td>
<td>
<p>character string specifying the time units for <code>exposure</code></p>
</td></tr>
<tr><td><code id="aePlot_+3A_study">study</code></td>
<td>
<p>character string identifying the study; used in multi-study reports or where distinct patient strata are analyzed separately.  Used to fetch the study-specific metadata stored by <code><a href="#topic+setqreportOption">setqreportOption</a></code>.  Single study reports just use <code>study=' '</code>.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_refgroup">refgroup</code></td>
<td>
<p>a character string specifying which treatment group is subtracted when computing risk differences.  If there are two treatments the default is the first one listed in <code>qreport options</code>.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_minincidence">minincidence</code></td>
<td>
<p>a number between 0 and 1 specifying the minimum incidence in any stratum that must hold before an event is included in the summary.  When <code>exposure</code> is given, <code>minincidence</code> applies to the hazard rate.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_conf.int">conf.int</code></td>
<td>
<p>confidence level for difference in proportions (passed to <code>dotchartpl</code>)</p>
</td></tr>
<tr><td><code id="aePlot_+3A_etype">etype</code></td>
<td>
<p>a character string describing the nature of the events, for example <code>"adverse events"</code>, <code>"serious adverse events"</code>.  Used in figure captions.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_head">head</code></td>
<td>
<p>character string.  Specifies initial text in the figure caption, otherwise a default is used.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_tail">tail</code></td>
<td>
<p>a character string to add to end of automatic caption</p>
</td></tr>
<tr><td><code id="aePlot_+3A_size">size</code></td>
<td>
<p>default is standard text body width.  Set to <code>"wide"</code> to render plot with <code>column: page-inset-left</code>.</p>
</td></tr>
<tr><td><code id="aePlot_+3A_popts">popts</code></td>
<td>
<p>a list of additional options to pass to <code>dotchartpl</code></p>
</td></tr>
<tr><td><code id="aePlot_+3A_label">label</code></td>
<td>
<p>label for figure.  <code>fig-</code> is placed in front of this label.  Default uses the name of the code chunk.  If a label is defined by the time the graph is produced that label will be used instead of the code chunk.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Generates dot charts showing proportions of subjects having events (at any time).  Events can be categorized by a single level or by major and minor levels (e.g., body system and preferred terms).  When there are two treatments, half-width CLs of treatment differences are drawn, centered at the midpoint of the two proportions, and CLs for differences appear in hover text.   Input data must contain one record per event, with this record containing the event name.  If there is more than one event of a given type per subject, unique subject ID must be provided.  Denominators come from <code>qreport</code> options when computing event incidence proportions.  Instead, when a named vector <code>exposure</code> is specified, with names equal to the treatments, <code>exposure</code> is used as the denominator so that the exponential distribution hazard rate is computed, i.e., events per unit of exposure time.  When a subject has only one event of each type, the usual interpretation holds.  When a subject has multiple events, the estimate is events per person per time unit.  A character variable <code>expunit</code> defines the time units.   It is assumed that only randomized subjects are included in the dataset.  Whenever the number of events of a given type is zero for a group, the event frequency is changed to 0.5 so that one may compute confidence intervals on the log scale as well as hazard ratios.
</p>
<p>For an example with output see https://hbiostat.org/rflow/descript.html#adverse-event-chart/
</p>


<h3>Value</h3>

<p>no return value, called for knitting with <code>knitr</code>
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'># See test.Rnw in tests directory
</code></pre>

<hr>
<h2 id='asForm'>asForm</h2><span id='topic+asForm'></span>

<h3>Description</h3>

<p>Convert Vector of Variables Names to a Right-Sided Formula
</p>


<h3>Usage</h3>

<pre><code class='language-R'>asForm(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="asForm_+3A_x">x</code></td>
<td>
<p>character vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Given a vector of character strings, turns them into a formula with no left hand side variable.
</p>


<h3>Value</h3>

<p>formula
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>asForm(letters[1:6])
</code></pre>

<hr>
<h2 id='conVars'>conVars</h2><span id='topic+conVars'></span>

<h3>Description</h3>

<p>Find Continuous Variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>conVars(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="conVars_+3A_...">...</code></td>
<td>
<p>passed to [varType()]</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses [varType()] to type the variables then retrieves the vector of names of continuous ones.
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
conVars(mydata)

## End(Not run)
</code></pre>

<hr>
<h2 id='dataChk'>dataChk</h2><span id='topic+dataChk'></span>

<h3>Description</h3>

<p>Run a Series of Data Checks and Report
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataChk(
  d,
  checks,
  id = character(0),
  html = FALSE,
  omit0 = FALSE,
  byid = FALSE,
  nrows = 500
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataChk_+3A_d">d</code></td>
<td>
<p>a data table</p>
</td></tr>
<tr><td><code id="dataChk_+3A_checks">checks</code></td>
<td>
<p>a vector of expressions that if satisfied causes records to be listed</p>
</td></tr>
<tr><td><code id="dataChk_+3A_id">id</code></td>
<td>
<p>option vector of variable names to serve as IDs</p>
</td></tr>
<tr><td><code id="dataChk_+3A_html">html</code></td>
<td>
<p>set to <code>TRUE</code> to create HTML output and put each check in a separate tab, also creating summary tabs</p>
</td></tr>
<tr><td><code id="dataChk_+3A_omit0">omit0</code></td>
<td>
<p>set to <code>TRUE</code> to ignore checks finding no observations</p>
</td></tr>
<tr><td><code id="dataChk_+3A_byid">byid</code></td>
<td>
<p>if <code>id</code> is given set <code>byid=TRUE</code> to also list a data frame with all flagged conditions, sorted by <code>id</code></p>
</td></tr>
<tr><td><code id="dataChk_+3A_nrows">nrows</code></td>
<td>
<p>maximum number of rows to allow to be printed</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to run various data checks on a data table.
</p>
<p>Checks are run separately for each part of the <code>expression</code> vector <code>checks</code>.  For each single expression, the variables listed in the output are all the variables mentioned in the expression plus optional variables whose names are in the character vector <code>id</code>. <code style="white-space: pre;">&#8288;%between% c(a,b)&#8288;</code> in expressions is printed as <code style="white-space: pre;">&#8288;[a,b]&#8288;</code>.  The output format is plain text unless <code>html=TRUE</code> which also puts each table in a separate Quarto tab.  See <a href="https://www.fharrell.com/post/rflow/">here</a> for examples.
</p>


<h3>Value</h3>

<p>an invisible data frame containing variables <code>check</code> (the expression checked) and <code>n</code> (the number of records satisfying the expression)
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dataChk(mydata)

## End(Not run)
</code></pre>

<hr>
<h2 id='dataOverview'>dataOverview</h2><span id='topic+dataOverview'></span>

<h3>Description</h3>

<p>Produce a Data Overview Quarto Section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataOverview(
  d,
  d2 = NULL,
  id = NULL,
  plot = c("scatter", "dot", "none"),
  pr = nvar &lt;= 50,
  which = 1,
  dec = 3
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dataOverview_+3A_d">d</code></td>
<td>
<p>a data frame or table</p>
</td></tr>
<tr><td><code id="dataOverview_+3A_d2">d2</code></td>
<td>
<p>optional second dataset used for analyzing uniqueness of subject IDs</p>
</td></tr>
<tr><td><code id="dataOverview_+3A_id">id</code></td>
<td>
<p>optional formula providing names of subject identifiers</p>
</td></tr>
<tr><td><code id="dataOverview_+3A_plot">plot</code></td>
<td>
<p>specifies type of plot, defaulting to <code>'scatter'</code></p>
</td></tr>
<tr><td><code id="dataOverview_+3A_pr">pr</code></td>
<td>
<p>set to <code>FALSE</code> to omit detailed table and present only graphics</p>
</td></tr>
<tr><td><code id="dataOverview_+3A_which">which</code></td>
<td>
<p>when two datasets are given which one should be the focus</p>
</td></tr>
<tr><td><code id="dataOverview_+3A_dec">dec</code></td>
<td>
<p>certain summary statistics are rounded to the nearest <code>dec</code> places</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Produces a multi-tabbed dataset overview as exemplified <a href="https://hbiostat.org/rflow/doverview.html#sec-doverview-data/">here</a>.  This includes provision of data about data such as variable type, symmetry, missingness, rarest and most common values.
</p>


<h3>Value</h3>

<p>nothing; renders a report with Quarto/RMarkdown
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
dataOverview(mydata, secondarydataset)

## End(Not run)
</code></pre>

<hr>
<h2 id='disVars'>disVars</h2><span id='topic+disVars'></span>

<h3>Description</h3>

<p>Find Discrete Variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disVars(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="disVars_+3A_...">...</code></td>
<td>
<p>passed to [varType()]</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses [varType()] to type the variables then retrieves the vector of names of discrete ones.
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
disVars(mydata)

## End(Not run)
</code></pre>

<hr>
<h2 id='dNeedle'>Draw Needles</h2><span id='topic+dNeedle'></span>

<h3>Description</h3>

<p>Create an html base64 string from a png graphic to draw needles for current sample sizes.  Uses colors set by call to <code>setqreportOptions</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dNeedle(sf, study = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dNeedle_+3A_sf">sf</code></td>
<td>
<p>output of <code>sampleFrac</code></p>
</td></tr>
<tr><td><code id="dNeedle_+3A_study">study</code></td>
<td>
<p>character string specifying study ID</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a base64 representation of a png graphic, suitable for inclusion in html
</p>


<h3>Examples</h3>

<pre><code class='language-R'>setqreportOption(tx.var='treatment', denom=c(enrolled=1000, randomized=800, a=398, b=402))
dNeedle(sampleFrac(getqreportOption('denom')))
</code></pre>

<hr>
<h2 id='getqreportOption'>Get qreport Options</h2><span id='topic+getqreportOption'></span>

<h3>Description</h3>

<p>Get qreport options, assigning default values of unspecified options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getqreportOption(opts = NULL, study = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getqreportOption_+3A_opts">opts</code></td>
<td>
<p>character vector containing list of option names to retrieve.  If only one element, the result is a scalar, otherwise a list.  If <code>opts</code> is not specified, a list with all current option settings is returned.</p>
</td></tr>
<tr><td><code id="getqreportOption_+3A_study">study</code></td>
<td>
<p>character string specifying an optional study designation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>getching <code>qreport</code> options
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getqreportOption('tx.var')

## End(Not run)
</code></pre>

<hr>
<h2 id='hookaddcap'>hookaddcap</h2><span id='topic+hookaddcap'></span>

<h3>Description</h3>

<p>Set <code>knitr</code> to Automatically Call <code>addCap</code> in Figure-Producing Chunks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hookaddcap(loc = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hookaddcap_+3A_loc">loc</code></td>
<td>
<p>if non-<code>NULL</code> will be used to set the <code>knitr</code> chunk option <code>fig.cap.location</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Adds a <code>knitr</code> hook that takes effect before the chunk is run.  The hook function retrieves figure information from the current chunk to give to <code>addCap</code>.
</p>


<h3>Value</h3>

<p>nothing; calls <code>knitr</code> hook and chunk option setting functions
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
hookaddcap()

## End(Not run)
</code></pre>

<hr>
<h2 id='hooktime'>hooktime</h2><span id='topic+hooktime'></span>

<h3>Description</h3>

<p>Create knitr Hook for Reporting Execution Time for Chunks
</p>


<h3>Usage</h3>

<pre><code class='language-R'>hooktime(all = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="hooktime_+3A_all">all</code></td>
<td>
<p>set to <code>TRUE</code> to time every chunk without the need for <code>time=TRUE</code> in the chunk header</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a hook called <code>time</code> that can be activated by including <code>time=TRUE</code> in a chunk header.  The chunk's execution time in seconds will be printed in a very small html font at the end of the chunk's output.
</p>


<h3>Value</h3>

<p>nothing
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>See Also</h3>

<p><a href="https://bookdown.org/yihui/rmarkdown-cookbook/time-chunk.html/">this</a> and <code><a href="#topic+timeMar">timeMar()</a></code>
</p>

<hr>
<h2 id='htmlList'>htmlList</h2><span id='topic+htmlList'></span>

<h3>Description</h3>

<p>Print Named List of Vectors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>htmlList(x, dec = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="htmlList_+3A_x">x</code></td>
<td>
<p>a named list</p>
</td></tr>
<tr><td><code id="htmlList_+3A_dec">dec</code></td>
<td>
<p>round to this decimal place</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to print a simple named list of vectors in html
Creates a column <code>name</code> from the names of the list
If a vector element of the list is numeric, it is rounded
to <code>dec</code> digits to the right of the decimal place.
</p>


<h3>Value</h3>

<p>a <code>kable</code>
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
w &lt;- list(A = runif(4), B=rnorm(3))
htmlList(w)
</code></pre>

<hr>
<h2 id='htmlView'>htmlView</h2><span id='topic+htmlView'></span>

<h3>Description</h3>

<p>Convert Objects to HTML and View
</p>


<h3>Usage</h3>

<pre><code class='language-R'>htmlView(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="htmlView_+3A_...">...</code></td>
<td>
<p>any number of objects for which an <code>html</code> method exists</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Converts a series of objects created to html.
Displays these in the RStudio View pane.
If RStudio is not running displays in an external browser.
Assumes there is an <code>html</code> method for the objects (e.g., objects
are result of <code>Hmisc::describe</code> or <code>Hmisc::contents</code>.
User can page through the different outputs with the arrow keys
in the RStudio View pane
</p>


<h3>Value</h3>

<p>nothing is returned; used to launch a browser on html text
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
 htmlView(contents(d1), contents(d2))
 htmlView(describe(d1), describe(d2, descript='Second Dataset'))
 htmlView(contents(d), describe(d))

## End(Not run)
</code></pre>

<hr>
<h2 id='htmlViewx'>htmlViewx</h2><span id='topic+htmlViewx'></span>

<h3>Description</h3>

<p>Convert to HTML and Eternally View Objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>htmlViewx(..., tab = c("notfirst", "all", "none"))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="htmlViewx_+3A_...">...</code></td>
<td>
<p>a series of objects for which an 'html' method exists</p>
</td></tr>
<tr><td><code id="htmlViewx_+3A_tab">tab</code></td>
<td>
<p>set to ''all'' to add even the first object to an existing window.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>'htmlViewx' is similar to 'htmlView' except that an external viewer is
launched, and the first object is opened in a new window.
Subsequent objects are opened in a new tab in the last created
window.  Set &lsquo;options(vbrowser=&rsquo;command line to run browser')'
to use a browser other than 'Vivaldi'.
Defaults to opening a new window for only the first object, and adding
tabs after that.
</p>


<h3>Value</h3>

<p>does not return a value; launches a browser
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
options(prType='html')
htmlViewx(contents(d), describe(d))

## End(Not run)
</code></pre>

<hr>
<h2 id='kabl'>kabl</h2><span id='topic+kabl'></span>

<h3>Description</h3>

<p>Front-end to <code>kable</code> and <code>kables</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>kabl(..., caption = NULL, digits = 4, col.names = NA, row.names = NA)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="kabl_+3A_...">...</code></td>
<td>
<p>one or more objects to pass to <code>kable</code></p>
</td></tr>
<tr><td><code id="kabl_+3A_caption">caption</code></td>
<td>
<p>overall single caption</p>
</td></tr>
<tr><td><code id="kabl_+3A_digits">digits</code></td>
<td>
<p>passed to <code>kable</code> and applies to all tables</p>
</td></tr>
<tr><td><code id="kabl_+3A_col.names">col.names</code></td>
<td>
<p>passed to <code>kable</code></p>
</td></tr>
<tr><td><code id="kabl_+3A_row.names">row.names</code></td>
<td>
<p>passed to <code>kable</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Calls <code>kable()</code> if only one table is to be printed.
Calls <code>kable()</code> for each table and passes it to <code>kables</code> if more than one.
Accounts for results of <code>tapply</code> not being a vector (is an array)
</p>


<h3>Value</h3>

<p>result of <code>kable</code> or <code>kables</code>
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>kabl(data.frame(a=1:2, b=3:4), data.frame(x=11:13, y=21:23))
</code></pre>

<hr>
<h2 id='makecallout'>makecallout</h2><span id='topic+makecallout'></span>

<h3>Description</h3>

<p>General Case Handling of Quarto Callouts
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makecallout(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makecallout_+3A_...">...</code></td>
<td>
<p>can be any of the following
</p>

<ul>
<li><p> x object to print (if <code>type='print'</code>), or one or more formulas whose right hand sides are to be run.  Left side provides labels if needed by the particular callout, and if <code>raw</code> is included on the right side any R code chunk run will have <code>results='asis'</code> in the chunk header.
</p>
</li>
<li><p> callout character string giving the Quarto callout
</p>
</li>
<li><p> label character string label if needed and if not obtained from the left side of a formula
</p>
</li>
<li><p> type defaults to <code>'print'</code> to print an object.  Set to <code>'run'</code> to run a chunk or <code>'cat'</code> to use <code>cat()</code> to render.
</p>
</li>
<li><p> now set to <code>FALSE</code> to return code instead of running it
</p>
</li>
<li><p> results if not using formulas, specifies the formatting option to code in the code header, either <code>'asis'</code> (the default) or <code>'markup'</code>
</p>
</li>
<li><p> close specifies whether to close the callout or to leave it open for future calls
</p>
</li>
<li><p> parameters passed to <code>print</code>
</p>
</li></ul>
</td></tr>
</table>


<h3>Details</h3>

<p>This function generates and optionally runs markdown/R code that runs Quarto callouts such as collapsible notes or marginal notes.  Before rendering <code>x</code>, <code>options(rawmarkup=TRUE)</code> is set so that <code>Hmisc::rendHTML</code> will not try to protect html in things like margins.  Quarto doesn't like the surrounding html protection lines in that context.  The option is set back to its original value after rendering.
</p>


<h3>Value</h3>

<p>if code is not executed, returns a character vector with the code to run
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>x &lt;- 1:3
co &lt;- '.callout-note collapse="true'
makecallout(x, callout=co, label='# thislabel', type='print')
makecallout(thislabel ~ x, callout=co, type='print')
</code></pre>

<hr>
<h2 id='makecnote'>makecnote</h2><span id='topic+makecnote'></span>

<h3>Description</h3>

<p>Print an Object in a Collapsible Note
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makecnote(
  x,
  label = paste0("`", deparse(substitute(x)), "`"),
  wide = FALSE,
  type = c("print", "run", "cat"),
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makecnote_+3A_x">x</code></td>
<td>
<p>an object having a suitable <code>print</code> method</p>
</td></tr>
<tr><td><code id="makecnote_+3A_label">label</code></td>
<td>
<p>a character string providing a title for the tab.  Default is the name of the argument passed to <code>makecnote</code>.</p>
</td></tr>
<tr><td><code id="makecnote_+3A_wide">wide</code></td>
<td>
<p>set to <code>TRUE</code> to expand the width of the text body</p>
</td></tr>
<tr><td><code id="makecnote_+3A_type">type</code></td>
<td>
<p>default is to <code>print</code>; can also be <code>run</code>, <code>cat</code></p>
</td></tr>
<tr><td><code id="makecnote_+3A_...">...</code></td>
<td>
<p>an optional list of arguments to be passed to <code>print</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prints an object in a Quarto collapsible note.
</p>


<h3>Value</h3>

<p>nothing is returned, used for rendering markup
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>makecnote('This is some text', label='mylab', wide=TRUE)
</code></pre>

<hr>
<h2 id='makecodechunk'>makecodechunk</h2><span id='topic+makecodechunk'></span>

<h3>Description</h3>

<p>Create Text for Running Code Chunk
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makecodechunk(
  cmd,
  opts = NULL,
  results = "asis",
  lang = "r",
  callout = NULL,
  h = NULL,
  w = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makecodechunk_+3A_cmd">cmd</code></td>
<td>
<p>character string vector of commands to run inside chunk</p>
</td></tr>
<tr><td><code id="makecodechunk_+3A_opts">opts</code></td>
<td>
<p>optional list of chunk options, e.g. <code>list(fig.width=6, fig.cap="This is a caption")</code>.  See <a href="https://yihui.org/knitr/options/">https://yihui.org/knitr/options/</a> for a complete list of options.</p>
</td></tr>
<tr><td><code id="makecodechunk_+3A_results">results</code></td>
<td>
<p>format of results, default is <code>'asis'</code>.  May specify <code>results='markup'</code>.</p>
</td></tr>
<tr><td><code id="makecodechunk_+3A_lang">lang</code></td>
<td>
<p>language for the chunk</p>
</td></tr>
<tr><td><code id="makecodechunk_+3A_callout">callout</code></td>
<td>
<p>an optional Quarto callout to include after <code style="white-space: pre;">&#8288;#|&#8288;</code> after the chunk header that affects how the result appears, e.g. <code>callout='column: margin'</code></p>
</td></tr>
<tr><td><code id="makecodechunk_+3A_h">h</code></td>
<td>
<p>optional height to place after the chunk header after <code style="white-space: pre;">&#8288;#|&#8288;</code></p>
</td></tr>
<tr><td><code id="makecodechunk_+3A_w">w</code></td>
<td>
<p>optional width</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates text strings suitable for running through <code>knitr</code>.  The chunk is given a random name because certain operations are not allowed by <code>knitr</code> without it.
</p>


<h3>Value</h3>

<p>character vector
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>makecodechunk('x &lt;- pi; print(x)')
</code></pre>

<hr>
<h2 id='makecolmarg'>makecolmarg</h2><span id='topic+makecolmarg'></span>

<h3>Description</h3>

<p>Put an Object in the Margin
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makecolmarg(x, type = c("print", "run", "cat"), ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makecolmarg_+3A_x">x</code></td>
<td>
<p>an object having a suitable <code>print</code> method</p>
</td></tr>
<tr><td><code id="makecolmarg_+3A_type">type</code></td>
<td>
<p>type of execution</p>
</td></tr>
<tr><td><code id="makecolmarg_+3A_...">...</code></td>
<td>
<p>an optional list of arguments to be passed to <code>print</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Prints an object in a Quarto column margin.
</p>


<h3>Value</h3>

<p>nothing is returned, used to render markup
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>makecolmarg(data.frame(x=1:3, y=4:6))
</code></pre>

<hr>
<h2 id='makegraphviz'>makegraphviz</h2><span id='topic+makegraphviz'></span>

<h3>Description</h3>

<p>Create a Quarto Graphviz dot Diagram Chunk With Variable Insertions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makegraphviz(.object., ..., file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makegraphviz_+3A_.object.">.object.</code></td>
<td>
<p>character string or vector with <code>graphviz</code> markup</p>
</td></tr>
<tr><td><code id="makegraphviz_+3A_...">...</code></td>
<td>
<p>name=value pairs that makes values replace <code>{{name}}</code> elements in the markup</p>
</td></tr>
<tr><td><code id="makegraphviz_+3A_file">file</code></td>
<td>
<p>name of file to hold <code>graphviz</code> markup after variable insertions.  Run this in Quarto using a chunk to looks like the following, which was for <code>file='graphviz.dot'</code>.
</p>
<div class="sourceCode"><pre>```{dot}
//| label: fig-doverview-graphviz
//| fig-height: 4
//| fig-cap: "Consort diagram produced with `graphviz` with detailed exclusion frequencies in a separate node"
//| file: graphviz.dot
```
</pre></div></td></tr>
</table>


<h3>Details</h3>

<p>Takes a character string or vector and uses <code><a href="knitr.html#topic+knit_expand">knitr::knit_expand()</a></code> to apply variable insertions before the diagram is rendered by Quarto.  See <a href="https://hbiostat.org/rflow/doverview.html#sec-doverview-filter/">this</a> for an example.  Unlike <code>mermaid</code>, <code>graphviz</code> can include user-defined linkages to specific parts of a node (e.g., a single word in a line of text) to another part of the chart, and can render tables.  If an inclusion is <code>...</code> is a data frame or table, it will be properly rendered inside the diagram.
</p>


<h3>Value</h3>

<p>nothing; used to <code>knitr::knit_expand()</code> graphviz markup
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+makemermaid">makemermaid()</a></code>
</p>

<hr>
<h2 id='makemermaid'>makemermaid</h2><span id='topic+makemermaid'></span>

<h3>Description</h3>

<p>Create a Quarto Mermaid Diagram Chunk With Variable Insertions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>makemermaid(.object., ..., file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="makemermaid_+3A_.object.">.object.</code></td>
<td>
<p>character string or vector with <code>mermaid</code> markup</p>
</td></tr>
<tr><td><code id="makemermaid_+3A_...">...</code></td>
<td>
<p>name=value pairs that makes values replace <code>{{name}}</code> elements in the markup</p>
</td></tr>
<tr><td><code id="makemermaid_+3A_file">file</code></td>
<td>
<p>name of file to hold <code>mermaid</code> markup after variable insertions.  Run this in Quarto using a chunk to looks like the following, which was for <code>file='mermaid1.mer'</code>.
</p>
<div class="sourceCode"><pre>```{mermaid}
%%| fig-cap: "Consort diagram produced by `mermaid`"
%%| label: fig-mermaid1
%%| file: mermaid1.mer
```
</pre></div></td></tr>
</table>


<h3>Details</h3>

<p>Takes a character string or vector and uses <code><a href="knitr.html#topic+knit_expand">knitr::knit_expand()</a></code> to apply variable insertions before the diagram is rendered by Quarto.  See <a href="https://hbiostat.org/rflow/doverview.html#fig-mermaid1/">this</a> for an example.
</p>


<h3>Value</h3>

<p>nothing; used to <code>knitr::knit_expand()</code> mermaid markup
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+makegraphviz">makegraphviz()</a></code>
</p>

<hr>
<h2 id='maketabs'>maketabs</h2><span id='topic+maketabs'></span>

<h3>Description</h3>

<p>Make Quarto Tabs
</p>


<h3>Usage</h3>

<pre><code class='language-R'>maketabs(
  ...,
  wide = FALSE,
  cwidth = if (wide) "column-page",
  initblank = FALSE,
  baselabel = NULL,
  cap = NULL,
  basecap = NULL,
  debug = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="maketabs_+3A_...">...</code></td>
<td>
<p>a series of formulas or a single named list.  For formulas the left side is the tab label (if multiple words or other illegal R expressions enclose in backticks) and the right hand side has expressions to evaluate during chunk execution, plus optional <code>raw</code>, <code>caption</code>, and <code>fig.size</code> options.</p>
</td></tr>
<tr><td><code id="maketabs_+3A_wide">wide</code></td>
<td>
<p>set to <code>TRUE</code> to use a Quarto <code>column-page</code> for the body of the text to allow it to use some of the margins</p>
</td></tr>
<tr><td><code id="maketabs_+3A_cwidth">cwidth</code></td>
<td>
<p>specify a legal <code>Quarto</code> character string instead of <code>wide</code> to specify the width of the output.  These are defined <a href="https://quarto.org/docs/authoring/article-layout.html#options-reference/">here</a>.  Commonly used values are <code>'column-screen-right'</code>, <code>'column-page-left'</code>, <code>'column-screen-inset-shaded'</code>.</p>
</td></tr>
<tr><td><code id="maketabs_+3A_initblank">initblank</code></td>
<td>
<p>set to <code>TRUE</code> to create a first tab that is blank so that the report will not initially show any tabbed material</p>
</td></tr>
<tr><td><code id="maketabs_+3A_baselabel">baselabel</code></td>
<td>
<p>a one-word character string that provides the base name of <code>label</code>s for tabs with figure captions.  The sequential tab number is appended to <code>baselabel</code> to obtain the full figure label.  If using formulas the figure label may instead come from <code>caption(.., label)</code>. If not specified it is taken to be the name of the current chunk with <code style="white-space: pre;">&#8288;fig-&#8288;</code> prepended.</p>
</td></tr>
<tr><td><code id="maketabs_+3A_cap">cap</code></td>
<td>
<p>applies to the non-formula use of <code>maketabs</code> and is an integer vector specifying which tabs are to be given figure labels and captions.</p>
</td></tr>
<tr><td><code id="maketabs_+3A_basecap">basecap</code></td>
<td>
<p>a single character string providing the base text for captions if <code>cap</code> is specified.</p>
</td></tr>
<tr><td><code id="maketabs_+3A_debug">debug</code></td>
<td>
<p>set to <code>TRUE</code> to output debugging information in file <code style="white-space: pre;">&#8288;/tmp/z&#8288;</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Loops through a series of formulas or elements of a named list and outputs each element into
a separate <code>Quarto</code> tab.  <code>wide</code> and <code>column</code> arguments are used to expand the width
of the output outside the usual margins.  An <code>initblank</code> argument
creates a first tab that is empty, or you can specify a formula <code style="white-space: pre;">&#8288; &#8288;</code> ~ <code style="white-space: pre;">&#8288; &#8288;</code>.  This allows one to show nothing
until one of the other tabs is clicked.  Multiple commands can be run in one chunk by including multiple right hand terms in a formula.  A chunk can be marked for producing raw output by including a term <code>raw</code> somewhere in the formula's right side.  If can be marked for constructing a label and caption by including <code style="white-space: pre;">&#8288;+ caption(caption string, label string)&#8288;</code>.  The tab number is appended to the label string, and if the label is not provided <code>baselabel</code> will be used.
</p>


<h3>Value</h3>

<p>nothing is returned; used to render markup
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>X &lt;- list(A=data.frame(x=1:2), B=data.frame(x=1:2, y=11:12))
maketabs(X)
</code></pre>

<hr>
<h2 id='missChk'>missChk</h2><span id='topic+missChk'></span>

<h3>Description</h3>

<p>Produce a Report Section Detailing Missing Values in a Dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>missChk(
  data,
  use = NULL,
  exclude = NULL,
  type = c("report", "seq"),
  maxpat = 15,
  maxcomb = 25,
  excl1pat = TRUE,
  sortpatterns = TRUE,
  prednmiss = FALSE,
  omitpred = NULL,
  baselabel = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="missChk_+3A_data">data</code></td>
<td>
<p>data frame or table to analyze</p>
</td></tr>
<tr><td><code id="missChk_+3A_use">use</code></td>
<td>
<p>a formula or character vector specifying which variables to consider if not all those in <code>data</code></p>
</td></tr>
<tr><td><code id="missChk_+3A_exclude">exclude</code></td>
<td>
<p>a formula or character vector specifying which variables to exclude from consideration</p>
</td></tr>
<tr><td><code id="missChk_+3A_type">type</code></td>
<td>
<p>specify <code>'seq'</code> to return a summary of sequential exclusions rather than produce a report</p>
</td></tr>
<tr><td><code id="missChk_+3A_maxpat">maxpat</code></td>
<td>
<p>maximum number of missing data patterns allowed when counting occurrences of all combinations of variables' <code>NA</code>s</p>
</td></tr>
<tr><td><code id="missChk_+3A_maxcomb">maxcomb</code></td>
<td>
<p>maximum number of combinations for which to produce a combination dot plot</p>
</td></tr>
<tr><td><code id="missChk_+3A_excl1pat">excl1pat</code></td>
<td>
<p>set to <code>FALSE</code> to not list distinct combinatons that only occur for one observation</p>
</td></tr>
<tr><td><code id="missChk_+3A_sortpatterns">sortpatterns</code></td>
<td>
<p>set to <code>FALSE</code> to not sort patterns in decreasing frequency of missingness</p>
</td></tr>
<tr><td><code id="missChk_+3A_prednmiss">prednmiss</code></td>
<td>
<p>set to <code>TRUE</code> to use ordinal regression to predict the number of missing variables on an observation from the values of all the non-missing variables</p>
</td></tr>
<tr><td><code id="missChk_+3A_omitpred">omitpred</code></td>
<td>
<p>a formula or character vector specifying a list of predictors not to use when predicting number of missing variables</p>
</td></tr>
<tr><td><code id="missChk_+3A_baselabel">baselabel</code></td>
<td>
<p>base label for Quarto tabs made with <code><a href="#topic+maketabs">maketabs()</a></code></p>
</td></tr>
<tr><td><code id="missChk_+3A_...">...</code></td>
<td>
<p>passed to <code><a href="Hmisc.html#topic+combplotp">combplotp()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Quantifies frequencies of missing observations on a variable and missing variables on an observaton and produces variables tables and (depending on the number of <code>NA</code>s) multiple graphic displays in Quarto tabs.  The results are best understood by referring to <a href="https://hbiostat.org/rflow/case.html#missing-data/">this</a>.
</p>


<h3>Value</h3>

<p>nothing; outputs Quarto/RMarkdown text and tabs for a full report section
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
missChk(mydata)

## End(Not run)
</code></pre>

<hr>
<h2 id='multDataOverview'>multDataOverview</h2><span id='topic+multDataOverview'></span>

<h3>Description</h3>

<p>Multiple Dataset Overview
</p>


<h3>Usage</h3>

<pre><code class='language-R'>multDataOverview(X, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="multDataOverview_+3A_x">X</code></td>
<td>
<p>list object containing any number of data frames/tables</p>
</td></tr>
<tr><td><code id="multDataOverview_+3A_id">id</code></td>
<td>
<p>formula containing a single subject identifier, e.g., <code style="white-space: pre;">&#8288;id = &#8288;</code> patient.id'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Provides an overview of the data tables inside a giant list.  The result returned (invisible) is a data table containing for each variable a comma-separated list of datasets containing that variable (other than <code>id</code> variables).
</p>


<h3>Value</h3>

<p>invisibly, a data table
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dataOverview">dataOverview()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
multDataOverview(list(data1=mydata1, data2=mydata2), id = ~ subject.id)

## End(Not run)
</code></pre>

<hr>
<h2 id='pdumpit'>Print to File for Debugging</h2><span id='topic+pdumpit'></span>

<h3>Description</h3>

<p>If <code>options(dumpfile="...")</code> is set, uses <code>Hmisc::prn()</code> to print objects for debugging
</p>


<h3>Usage</h3>

<pre><code class='language-R'>pdumpit(x, txt = as.character(substitute(x)))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="pdumpit_+3A_x">x</code></td>
<td>
<p>input to <code>prn</code></p>
</td></tr>
<tr><td><code id="pdumpit_+3A_txt">txt</code></td>
<td>
<p>text label, defaults to name of <code>x</code> argument</p>
</td></tr>
</table>


<h3>Value</h3>

<p>no result, used only for printing debugging information
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>

<hr>
<h2 id='printCap'>printCap</h2><span id='topic+printCap'></span>

<h3>Description</h3>

<p>Pretty Printing of Captions Dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>printCap(book = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="printCap_+3A_book">book</code></td>
<td>
<p>set to <code>TRUE</code> to not use <code>format='html'</code> when running <code>kable</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <code>kable</code> to print the caption information saved in <code>.captions.</code>.
</p>


<h3>Value</h3>

<p><code>kable</code> object
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
princCap()

## End(Not run)
</code></pre>

<hr>
<h2 id='putQcap'>putQcap</h2><span id='topic+putQcap'></span>

<h3>Description</h3>

<p>Create Quarto Figure Caption
</p>


<h3>Usage</h3>

<pre><code class='language-R'>putQcap(..., scap = NULL, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="putQcap_+3A_...">...</code></td>
<td>
<p>one or more character strings to form the caption</p>
</td></tr>
<tr><td><code id="putQcap_+3A_scap">scap</code></td>
<td>
<p>a character string subcaption</p>
</td></tr>
<tr><td><code id="putQcap_+3A_label">label</code></td>
<td>
<p>figure label</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Creates a Quarto label and caption and uses <code>addCap()</code> to add to running list of figures
</p>


<h3>Value</h3>

<p>string vector with YAML components <code>label</code>, <code>fig-cap</code>, <code>fig-scap</code>
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>putQcap('First part of caption', 'second part', scap='subcaption', label='xx')
</code></pre>

<hr>
<h2 id='runDeriveExpr'>runDeriveExpr</h2><span id='topic+runDeriveExpr'></span>

<h3>Description</h3>

<p>Apply Derived Variable Specifications
</p>


<h3>Usage</h3>

<pre><code class='language-R'>runDeriveExpr(d, derv, pr = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="runDeriveExpr_+3A_d">d</code></td>
<td>
<p>a data table</p>
</td></tr>
<tr><td><code id="runDeriveExpr_+3A_derv">derv</code></td>
<td>
<p>a <code>list</code> of expressions to evaluate</p>
</td></tr>
<tr><td><code id="runDeriveExpr_+3A_pr">pr</code></td>
<td>
<p>set <code>pr=FALSE</code> to suppress information messages</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to apply derived variable specifications derv to a data table <code>d</code>.   Actions on <code>d</code> are done in place, so call the function using <code style="white-space: pre;">&#8288;runDeriveExpr(d, derv object)&#8288;</code> and not by running <code style="white-space: pre;">&#8288;d &lt;- runDeriveExpr(d, derv object)&#8288;</code>.
See <a href="https://hbiostat.org/rflow/manip.html#sec-manip-recexp/">this</a> for an example.
</p>


<h3>Value</h3>

<p>nothing; used to print information and add variables to data table
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(data.table)
d &lt;- data.table(ht=c(68,  60), wt=c(280, 135), chol=c(120, 150))
derived &lt;- list(
  list(bmi = expression(703 * wt / ht ^ 2),
       label='Body Mass Index',
       units='Kg/m^2'),
  list(bsa=expression(0.007184 * (0.4536 * wt) ^ 0.425 * (2.54 * ht) ^ 0.725),
       label='Body Surface Area',
       units='m^2', drop=.q(wt, ht) )   )
runDeriveExpr(d, derived)
print(d)
contents(d)
</code></pre>

<hr>
<h2 id='rwrap'>rwrap</h2><span id='topic+rwrap'></span>

<h3>Description</h3>

<p>Protecting Backticks for Illustrating In-line R Code
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rwrap(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rwrap_+3A_x">x</code></td>
<td>
<p>a character string</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function pastes back ticks around a string so those extra back ticks don't have to appear in the user's code in a report.  This prevents Quarto from intervening.
</p>


<h3>Value</h3>

<p><code>x</code> surrounded by backtick r and backtick
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>rwrap('pi')
</code></pre>

<hr>
<h2 id='sampleFrac'>Compute Sample Fractions</h2><span id='topic+sampleFrac'></span>

<h3>Description</h3>

<p>Uses denominators stored with <code>setqreportOption</code> along with counts specified to <code>SampleFrac</code> to compute fractions of subjects in current analysis
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sampleFrac(n, nobsY = NULL, table = TRUE, study = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sampleFrac_+3A_n">n</code></td>
<td>
<p>integer vector, named with <code>"enrolled","randomized"</code> and optionally also including treatment levels.</p>
</td></tr>
<tr><td><code id="sampleFrac_+3A_nobsy">nobsY</code></td>
<td>
<p>a result of the the <code>nobsY</code> Hmisc function</p>
</td></tr>
<tr><td><code id="sampleFrac_+3A_table">table</code></td>
<td>
<p>set to <code>TRUE</code> to return as an attribute <code>"table"</code> a character string containing an HTML table showing the pertinent frequencies created from <code>n</code> and the <code>denom</code> option, and if <code>nobsY</code> is present, adding another table with response variable-specific counts.</p>
</td></tr>
<tr><td><code id="sampleFrac_+3A_study">study</code></td>
<td>
<p>character string with study ID</p>
</td></tr>
</table>


<h3>Value</h3>

<p>named vector of relative sample sizes with an attribute <code>table</code> with frequency counts
</p>


<h3>Examples</h3>

<pre><code class='language-R'>setqreportOption(tx.var='treatment', denom=c(enrolled=1000, randomized=800, a=398, b=402))
sampleFrac(getqreportOption('denom'))
</code></pre>

<hr>
<h2 id='saveCap'>saveCap</h2><span id='topic+saveCap'></span>

<h3>Description</h3>

<p>Save Caption Dataset in External File
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveCap(basename)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="saveCap_+3A_basename">basename</code></td>
<td>
<p>base file name to which <code>-captions.rds</code> will be appended</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Uses <code><a href="base.html#topic+readRDS">base::saveRDS()</a></code> to save the <code>.captions.</code> dataset to a user file.
</p>


<h3>Value</h3>

<p>nothing; used to create a saved RDS dataset of caption information
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
saveCap('chapter3')

## End(Not run)
</code></pre>

<hr>
<h2 id='scplot'>scplot</h2><span id='topic+scplot'></span>

<h3>Description</h3>

<p>Separate Chunk Plot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scplot(command, cap = NULL, scap = NULL, w = 5, h = 4, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scplot_+3A_command">command</code></td>
<td>
<p>an command that causes a plot to be rendered</p>
</td></tr>
<tr><td><code id="scplot_+3A_cap">cap</code></td>
<td>
<p>long caption</p>
</td></tr>
<tr><td><code id="scplot_+3A_scap">scap</code></td>
<td>
<p>short caption</p>
</td></tr>
<tr><td><code id="scplot_+3A_w">w</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="scplot_+3A_h">h</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="scplot_+3A_id">id</code></td>
<td>
<p>a string ID for the plot.  Defaults to the current chunk label if <code>knitr</code> is running</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Runs a plot on its own <code>Rmarkdown/Quarto</code> <code>knitr</code> Chunk.  The plot will have its own caption and size, and short captions are placed in the markdown TOC
</p>
<p>Expressions cannot be re-used, i.e., each expression must evaluate to the right quantity after the chunk in which the <code>scplot</code> calls are made is finished, and the new constructed chunk is input.  To input and run the constructed chunk:
<code style="white-space: pre;">&#8288;{r child='scplot.Rmd'}&#8288;</code> preceeded and following by 3 back ticks.
Hmisc::putHcap is used to markup regular and short captions <code style="white-space: pre;">&#8288;cap, scap&#8288;</code>.  Short caption appears in TOC.  If no <code>scap</code>, then <code>cap</code> is used for this. To change the <code>putHcap</code> <code>subsub</code> argument set <code>options(scplot.subsub='## ')</code> for example.
</p>


<h3>Value</h3>

<p>no value return; outputs R Markdown/Quarto markup
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
scplot(id='chunkid')   # initialize output file scplot.Rmd
# or use scplot() to use the current chunk name as the id
# scplot(plotting expression, caption, optional short caption, w, h)
# scplot(plotting expression ...)

## End(Not run)
</code></pre>

<hr>
<h2 id='setqreportOption'>Set qreport Options</h2><span id='topic+setqreportOption'></span>

<h3>Description</h3>

<p>Set qreport Options
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setqreportOption(..., study = " ")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="setqreportOption_+3A_...">...</code></td>
<td>
<p>a series of options for which non-default values are desired:
</p>

<ul>
<li><p><code>tx.pch</code>:symbols corresponding to treatments
</p>
</li>
<li><p><code>tx.col</code>:colors corresponding to treatments
</p>
</li>
<li><p><code>tx.linecol</code>:colors for lines in line plots
</p>
</li>
<li><p><code>nontx.col</code>:colors for categories other than treatments
</p>
</li>
<li><p><code>tx.lty</code>:line types corresponding to treatments
</p>
</li>
<li><p><code>tx.lwd</code>:line widths corresponding to treatments
</p>
</li>
<li><p><code>tx.var</code>:character string name of treatment variable
</p>
</li>
<li><p><code>er.col</code>:2-vector with names <code>"enrolled","randomized"</code> containing colors to use for enrolled and randomized in needle displays
</p>
</li>
<li><p><code>alpha.f</code>:single numeric specifying alpha adjustment to be applied to all colors.  Default is 1 (no adjustment)
</p>
</li>
<li><p><code>denom</code>:named vector with overall sample sizes
</p>
</li></ul>

<p>See https://github.com/plotly/plotly.py/blob/master/plotly/colors.py#L83-L87/</p>
</td></tr>
<tr><td><code id="setqreportOption_+3A_study">study</code></td>
<td>
<p>an optional study mnemonic (character string) needed when multiple studies are being analyzed (or when one study is divided into distinct strata)</p>
</td></tr>
</table>


<h3>Value</h3>

<p>no returned value, used to set <code>options()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>setqreportOption(tx.var='treatment', denom=c(enrolled=1000, randomized=800, a=398, b=402))
</code></pre>

<hr>
<h2 id='spar'>spar</h2><span id='topic+spar'></span>

<h3>Description</h3>

<p>Set Nice Defaults for Base Graphics Parameters
</p>


<h3>Usage</h3>

<pre><code class='language-R'>spar(
  mar = if (!axes) c(2.25 + 0.6 + bot - 0.45 * multi, 2 * (las == 1) + 2.2 + left, 0.5 +
    top + 0.25 * multi, 0.5 + rt) else c(3.25 + 0.6 + bot - 0.45 * multi, 2 * (las == 1)
    + 3.7 + left, 0.5 + top + 0.25 * multi, 0.5 + rt),
  lwd = if (multi) 1 else 1.75,
  mgp = if (!axes) mgp = c(0.75, 0.1, 0) else if (multi) c(1.5 + 0.83, 0.365 - 0.03, 0)
    else c(2.4 - 0.4 + 0.83, 0.475 - 0.03, 0),
  tcl = if (multi) -0.25 else -0.4,
  xpd = FALSE,
  las = 1,
  bot = 0,
  left = 0,
  top = 0,
  rt = 0,
  ps = if (multi) 12 else 15,
  mfrow = NULL,
  axes = TRUE,
  cex.lab = 1.15,
  cex.axis = 0.8,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="spar_+3A_mar">mar</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_lwd">lwd</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_mgp">mgp</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_tcl">tcl</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_xpd">xpd</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_las">las</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_bot">bot</code></td>
<td>
<p>additional lines of space to set aside for the bottom of the graph for extra subtitles etc.</p>
</td></tr>
<tr><td><code id="spar_+3A_left">left</code></td>
<td>
<p>additional lines to set aside at left</p>
</td></tr>
<tr><td><code id="spar_+3A_top">top</code></td>
<td>
<p>same for top</p>
</td></tr>
<tr><td><code id="spar_+3A_rt">rt</code></td>
<td>
<p>same for right margin</p>
</td></tr>
<tr><td><code id="spar_+3A_ps">ps</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_mfrow">mfrow</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_axes">axes</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_cex.lab">cex.lab</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_cex.axis">cex.axis</code></td>
<td>
<p>see <code>par</code></p>
</td></tr>
<tr><td><code id="spar_+3A_...">...</code></td>
<td>
<p>other parameters passed as-is to <code><a href="graphics.html#topic+par">graphics::par()</a></code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function tries to set <code><a href="graphics.html#topic+par">graphics::par()</a></code> to make base graphics look more publication-ready.
</p>


<h3>Value</h3>

<p>nothing; side effect of setting <code>par()</code>
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
spar(top=2, bot=1)  # leave extra space for titles

## End(Not run)
</code></pre>

<hr>
<h2 id='timeMar'>timeMar</h2><span id='topic+timeMar'></span>

<h3>Description</h3>

<p>Time an Expression and Report in Quarto Margin
</p>


<h3>Usage</h3>

<pre><code class='language-R'>timeMar(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="timeMar_+3A_x">x</code></td>
<td>
<p>an expression to execute</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Function to time an expression, printing the result of <code><a href="base.html#topic+system.time">base::system.time()</a></code> in the right margin, and storing the result of system.time in <code>.systime.</code> in the global environment so tha the user can refer to it.
</p>


<h3>Value</h3>

<p>invisibly, the result of the expression
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>See Also</h3>

<p><code><a href="#topic+hooktime">hooktime()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
g &lt;- function(...){}  # define a function to run slowly
result &lt;- timeMar(g())

## End(Not run)
</code></pre>

<hr>
<h2 id='varType'>varType</h2><span id='topic+varType'></span>

<h3>Description</h3>

<p>Determine Types of Variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>varType(data, include = NULL, exclude = NULL, ndistinct = 10, nnonnum = 20)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="varType_+3A_data">data</code></td>
<td>
<p>data frame or table to analyze</p>
</td></tr>
<tr><td><code id="varType_+3A_include">include</code></td>
<td>
<p>formula or vector of variable names to attend to</p>
</td></tr>
<tr><td><code id="varType_+3A_exclude">exclude</code></td>
<td>
<p>a formula or character vector specifying which variables to exclude from consideration</p>
</td></tr>
<tr><td><code id="varType_+3A_ndistinct">ndistinct</code></td>
<td>
<p>minimum number of distinct numeric values a variable must have to be considered continuous</p>
</td></tr>
<tr><td><code id="varType_+3A_nnonnum">nnonnum</code></td>
<td>
<p>maximum number of distinct values a variable can have to be considered discrete</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For all the variables in a data frame/table, analyzes them to determine types: continuous, nonnumeric, and discrete.  <code>include</code> and <code>exclude</code> can be vector or right-side-only formulas.
</p>


<h3>Value</h3>

<p><code>list</code> of vectors
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)
d &lt;- data.frame(i=1:100, x=runif(100), y=sample(1:3, 100, TRUE),
                w=sample(c('cat','dog','giraffe'), 100, TRUE),
                v=sample(letters, 100, TRUE))
varType(d)
</code></pre>

<hr>
<h2 id='vClus'>cClus</h2><span id='topic+vClus'></span>

<h3>Description</h3>

<p>Make Variable Clustering Quarto Report Section
</p>


<h3>Usage</h3>

<pre><code class='language-R'>vClus(
  d,
  exclude = NULL,
  corrmatrix = FALSE,
  redundancy = FALSE,
  spc = FALSE,
  trans = FALSE,
  rexclude = NULL,
  fracmiss = 0.2,
  maxlevels = 10,
  minprev = 0.05,
  imputed = NULL,
  horiz = FALSE,
  label = "fig-varclus",
  print = TRUE,
  redunargs = NULL,
  spcargs = NULL,
  transaceargs = NULL,
  transacefile = NULL,
  spcfile = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="vClus_+3A_d">d</code></td>
<td>
<p>a data frame or table</p>
</td></tr>
<tr><td><code id="vClus_+3A_exclude">exclude</code></td>
<td>
<p>formula or vector of character strings containing variables to exclude from analysis</p>
</td></tr>
<tr><td><code id="vClus_+3A_corrmatrix">corrmatrix</code></td>
<td>
<p>set to <code>TRUE</code> to use <code><a href="Hmisc.html#topic+plotCorrM">Hmisc::plotCorrM()</a></code> to depict a Spearman rank correlation matrix.</p>
</td></tr>
<tr><td><code id="vClus_+3A_redundancy">redundancy</code></td>
<td>
<p>set to <code>TRUE</code> to run <code><a href="Hmisc.html#topic+redun">Hmisc::redun()</a></code> on non-excluded variables</p>
</td></tr>
<tr><td><code id="vClus_+3A_spc">spc</code></td>
<td>
<p>set to <code>TRUE</code> to run <code><a href="Hmisc.html#topic+princmp">Hmisc::princmp()</a></code> to do a sparse principal component analysis with the argument <code>method='sparse'</code> passed</p>
</td></tr>
<tr><td><code id="vClus_+3A_trans">trans</code></td>
<td>
<p>set to <code>TRUE</code> to run <code><a href="Hmisc.html#topic+transace">Hmisc::transace()</a></code> to transform each predictor before running redundancy or principal components analysis. <code>transace</code> is run on the stacked filled-in data if <code>imputed</code> is given.</p>
</td></tr>
<tr><td><code id="vClus_+3A_rexclude">rexclude</code></td>
<td>
<p>extra variables to exclude from <code>transace</code> transformating-finding, redundancy analysis, and sparce principal components (formula or character vector)</p>
</td></tr>
<tr><td><code id="vClus_+3A_fracmiss">fracmiss</code></td>
<td>
<p>if the fraction of <code>NA</code>s for a variable exceeds this the variable will not be included</p>
</td></tr>
<tr><td><code id="vClus_+3A_maxlevels">maxlevels</code></td>
<td>
<p>if the maximum number of distinct values for a categorical variable exceeds this, the variable will be dropped</p>
</td></tr>
<tr><td><code id="vClus_+3A_minprev">minprev</code></td>
<td>
<p>the minimum proportion of non-missing observations in a category for a binary variable to be retained, and the minimum relative frequency of a category before it will be combined with other small categories</p>
</td></tr>
<tr><td><code id="vClus_+3A_imputed">imputed</code></td>
<td>
<p>an object created by <code><a href="Hmisc.html#topic+aregImpute">Hmisc::aregImpute()</a></code> or <code><a href="mice.html#topic+mice">mice::mice()</a></code> that contains information from multiple imputation that causes <code>vClus</code> to create all the filled-in datasets, stack them into one tall dataset, and pass that dataset to <code><a href="Hmisc.html#topic+redun">Hmisc::redun()</a></code> or <code><a href="Hmisc.html#topic+princmp">Hmisc::princmp()</a></code> so that <code>NA</code>s can be handled efficiently in redundancy analysis and sparse principal components, i.e., without excluding partial records.  Variable clustering and the correlation matrix are already efficient because they use pairwise deletion of <code>NA</code>s.</p>
</td></tr>
<tr><td><code id="vClus_+3A_horiz">horiz</code></td>
<td>
<p>set to <code>TRUE</code> to draw the dendrogram horizontally</p>
</td></tr>
<tr><td><code id="vClus_+3A_label">label</code></td>
<td>
<p>figure label for Quarto</p>
</td></tr>
<tr><td><code id="vClus_+3A_print">print</code></td>
<td>
<p>set to <code>FALSE</code> to not let <code>dataframeReduce</code> report details</p>
</td></tr>
<tr><td><code id="vClus_+3A_redunargs">redunargs</code></td>
<td>
<p>a <code>list()</code> of other arguments passed to <code><a href="Hmisc.html#topic+redun">Hmisc::redun()</a></code></p>
</td></tr>
<tr><td><code id="vClus_+3A_spcargs">spcargs</code></td>
<td>
<p>a <code>list()</code> of other arguments passed to <code><a href="Hmisc.html#topic+princmp">Hmisc::princmp()</a></code></p>
</td></tr>
<tr><td><code id="vClus_+3A_transaceargs">transaceargs</code></td>
<td>
<p>a <code>list()</code> of other arguments passed to <code><a href="Hmisc.html#topic+transace">Hmisc::transace()</a></code></p>
</td></tr>
<tr><td><code id="vClus_+3A_transacefile">transacefile</code></td>
<td>
<p>similar to <code>spcfile</code> and can be used when <code>trans=TRUE</code></p>
</td></tr>
<tr><td><code id="vClus_+3A_spcfile">spcfile</code></td>
<td>
<p>a character string specifying an <code>.rds</code> R binary file to hold the results of sparse principal component analysis.  Using <code><a href="Hmisc.html#topic+runifChanged">Hmisc::runifChanged()</a></code>, if the file name is specified and no inputs have changed since the last run, the result is read from the file.  Otherwise a new run is made and the file is recreated if <code>spcfile</code> is specified.  This is done because sparse principal components can take several minutes to run on large files.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Draws a variable clustering dendrogram and optionally graphically depicts a correlation matrix.  See <a href="https://hbiostat.org/rflow/descript.html#describing-variable-interrelationships/">this</a> for an example.  Uses <code><a href="Hmisc.html#topic+varclus">Hmisc::varclus()</a></code>.
</p>


<h3>Value</h3>

<p>makes Quarto tabs and prints output, returning nothing unless <code>spc=TRUE</code> or <code>trans=TRUE</code> are used, in which case a list with components <code>princmp</code> and/or <code>transace</code> is returned and these components can be passed to special <code>print</code> and <code>plot</code> methods for <code>spc</code> or to <code>ggplot_transace</code>.  The user can put scree plots and PC loading plots in separate code chunks that use different figure sizes that way.
</p>


<h3>Author(s)</h3>

<p>Frank Harrell
</p>


<h3>See Also</h3>

<p><code><a href="Hmisc.html#topic+varclus">Hmisc::varclus()</a></code>, <code><a href="Hmisc.html#topic+plotCorrM">Hmisc::plotCorrM()</a></code>, <code><a href="Hmisc.html#topic+upData">Hmisc::dataframeReduce()</a></code>, <code><a href="Hmisc.html#topic+redun">Hmisc::redun()</a></code>, <code><a href="Hmisc.html#topic+princmp">Hmisc::princmp()</a></code>, <code><a href="Hmisc.html#topic+transace">Hmisc::transace()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
vClus(mydata, exclude=.q(country, city))

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

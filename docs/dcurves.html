<!DOCTYPE html><html><head><title>Help for package dcurves</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dcurves}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dcurves-package'><p>dcurves: Decision Curve Analysis for Model Evaluation</p></a></li>
<li><a href='#as_tibble.dca'><p>Convert DCA Object to tibble</p></a></li>
<li><a href='#dca'><p>Perform Decision Curve Analysis</p></a></li>
<li><a href='#df_binary'><p>Simulated data with a binary outcome</p></a></li>
<li><a href='#df_case_control'><p>Simulated data with a case-control outcome</p></a></li>
<li><a href='#df_surv'><p>Simulated data with a survival outcome</p></a></li>
<li><a href='#net_intervention_avoided'><p>Add Net Interventions Avoided</p></a></li>
<li><a href='#plot.dca'><p>Plot DCA Object with ggplot</p></a></li>
<li><a href='#print.dca'><p>Print <code>dca()</code> object</p></a></li>
<li><a href='#reexports'><p>Objects exported from other packages</p></a></li>
<li><a href='#standardized_net_benefit'><p>Add Standardized Net Benefit</p></a></li>
<li><a href='#test_consequences'><p>Test Consequences</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Decision Curve Analysis for Model Evaluation</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Diagnostic and prognostic models are typically evaluated with
    measures of accuracy that do not address clinical consequences.
    Decision-analytic techniques allow assessment of clinical outcomes,
    but often require collection of additional information may be
    cumbersome to apply to models that yield a continuous result. Decision
    curve analysis is a method for evaluating and comparing prediction
    models that incorporates clinical consequences, requires only the data
    set on which the models are tested, and can be applied to models that
    have either continuous or dichotomous results. See the following references 
    for details on the methods: Vickers (2006) &lt;<a href="https://doi.org/10.1177%2F0272989X06295361">doi:10.1177/0272989X06295361</a>&gt;,
    Vickers (2008) &lt;<a href="https://doi.org/10.1186%2F1472-6947-8-53">doi:10.1186/1472-6947-8-53</a>&gt;, 
    and Pfeiffer (2020) &lt;<a href="https://doi.org/10.1002%2Fbimj.201800240">doi:10.1002/bimj.201800240</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/ddsjoberg/dcurves">https://github.com/ddsjoberg/dcurves</a>,
<a href="https://www.danieldsjoberg.com/dcurves/">https://www.danieldsjoberg.com/dcurves/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ddsjoberg/dcurves/issues">https://github.com/ddsjoberg/dcurves/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>broom (&ge; 0.7.10), dplyr (&ge; 1.0.5), ggplot2 (&ge; 3.3.3), glue
(&ge; 1.4.2), purrr (&ge; 0.3.4), rlang (&ge; 0.4.10), scales (&ge;
1.1.1), survival, tibble (&ge; 3.1.0)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr (&ge; 3.5.1), gtsummary (&ge; 1.4.0), knitr (&ge; 1.32),
rmarkdown (&ge; 2.7), spelling (&ge; 2.2), testthat (&ge; 3.0.2),
tidyr (&ge; 1.1.3)</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Config/testthat/parallel:</td>
<td>true</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-12-23 18:40:39 UTC; SjobergD</td>
</tr>
<tr>
<td>Author:</td>
<td>Daniel D. Sjoberg [aut, cre, cph],
  Emily Vertosick [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Daniel D. Sjoberg &lt;danield.sjoberg@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-12-23 19:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='dcurves-package'>dcurves: Decision Curve Analysis for Model Evaluation</h2><span id='topic+dcurves'></span><span id='topic+dcurves-package'></span>

<h3>Description</h3>

<p>Diagnostic and prognostic models are typically evaluated with measures of accuracy that do not address clinical consequences. Decision-analytic techniques allow assessment of clinical outcomes, but often require collection of additional information may be cumbersome to apply to models that yield a continuous result. Decision curve analysis is a method for evaluating and comparing prediction models that incorporates clinical consequences, requires only the data set on which the models are tested, and can be applied to models that have either continuous or dichotomous results. See the following references for details on the methods: Vickers (2006) <a href="https://doi.org/10.1177/0272989X06295361">doi:10.1177/0272989X06295361</a>, Vickers (2008) <a href="https://doi.org/10.1186/1472-6947-8-53">doi:10.1186/1472-6947-8-53</a>, and Pfeiffer (2020) <a href="https://doi.org/10.1002/bimj.201800240">doi:10.1002/bimj.201800240</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Daniel D. Sjoberg <a href="mailto:danield.sjoberg@gmail.com">danield.sjoberg@gmail.com</a> [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Emily Vertosick <a href="mailto:vertosie@mskcc.org">vertosie@mskcc.org</a> [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ddsjoberg/dcurves">https://github.com/ddsjoberg/dcurves</a>
</p>
</li>
<li> <p><a href="https://www.danieldsjoberg.com/dcurves/">https://www.danieldsjoberg.com/dcurves/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/ddsjoberg/dcurves/issues">https://github.com/ddsjoberg/dcurves/issues</a>
</p>
</li></ul>


<hr>
<h2 id='as_tibble.dca'>Convert DCA Object to tibble</h2><span id='topic+as_tibble.dca'></span>

<h3>Description</h3>

<p>Convert DCA Object to tibble
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dca'
as_tibble(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="as_tibble.dca_+3A_x">x</code></td>
<td>
<p>dca object created with <code>dca()</code></p>
</td></tr>
<tr><td><code id="as_tibble.dca_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble
</p>


<h3>Author(s)</h3>

<p>Daniel D Sjoberg
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dca">dca()</a></code>, <code><a href="#topic+net_intervention_avoided">net_intervention_avoided()</a></code>, <code><a href="#topic+standardized_net_benefit">standardized_net_benefit()</a></code>, <code><a href="#topic+plot.dca">plot.dca()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dca(cancer ~ cancerpredmarker, data = df_binary) %&gt;%
  as_tibble()
</code></pre>

<hr>
<h2 id='dca'>Perform Decision Curve Analysis</h2><span id='topic+dca'></span>

<h3>Description</h3>

<p>Diagnostic and prognostic models are typically evaluated with measures of
accuracy that do not address clinical consequences.
Decision-analytic techniques allow assessment of clinical outcomes but often
require collection of additional information may be cumbersome to apply to
models that yield a continuous result. Decision curve analysis is a method
for evaluating and comparing prediction models that incorporates clinical
consequences, requires only the data set on which the models are tested,
and can be applied to models that have either continuous or dichotomous
results.
The dca function performs decision curve analysis for binary outcomes.
Review the
<a href="https://www.danieldsjoberg.com/dcurves/articles/dca.html">DCA Vignette</a>
for a detailed walk-through of various applications.
Also, see <a href="https://www.mskcc.org/departments/epidemiology-biostatistics/biostatistics/decision-curve-analysis">www.decisioncurveanalysis.org</a> for more information.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dca(
  formula,
  data,
  thresholds = seq(0, 0.99, by = 0.01),
  label = NULL,
  harm = NULL,
  as_probability = character(),
  time = NULL,
  prevalence = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="dca_+3A_formula">formula</code></td>
<td>
<p>a formula with the outcome on the LHS and a sum of
markers/covariates to test on the RHS</p>
</td></tr>
<tr><td><code id="dca_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables in <code style="white-space: pre;">&#8288;formula=&#8288;</code>.</p>
</td></tr>
<tr><td><code id="dca_+3A_thresholds">thresholds</code></td>
<td>
<p>vector of threshold probabilities between 0 and 1.
Default is <code>seq(0, 0.99, by = 0.01)</code>. Thresholds at zero are replaced
with 10e-10.</p>
</td></tr>
<tr><td><code id="dca_+3A_label">label</code></td>
<td>
<p>named list of variable labels, e.g. <code>list(age = "Age, years")</code></p>
</td></tr>
<tr><td><code id="dca_+3A_harm">harm</code></td>
<td>
<p>named list of harms associated with a test. Default is <code>NULL</code></p>
</td></tr>
<tr><td><code id="dca_+3A_as_probability">as_probability</code></td>
<td>
<p>character vector including names of variables
that will be converted to a probability. Details below.</p>
</td></tr>
<tr><td><code id="dca_+3A_time">time</code></td>
<td>
<p>if outcome is survival, <code style="white-space: pre;">&#8288;time=&#8288;</code> specifies the time the
assessment is made</p>
</td></tr>
<tr><td><code id="dca_+3A_prevalence">prevalence</code></td>
<td>
<p>When <code>NULL</code>, the prevalence is estimated from <code style="white-space: pre;">&#8288;data=&#8288;</code>.
If the data passed is a case-control set, the population prevalence
may be set with this argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List including net benefit of each variable
</p>


<h3>as_probability argument</h3>

<p>While the <code style="white-space: pre;">&#8288;as_probability=&#8288;</code> argument can be used to convert a marker to the
probability scale, use the argument only when the consequences are fully
understood. For example, when the outcome is binary, logistic regression
is used to convert the marker to a probability. The logistic regression
model assumes linearity on the log-odds scale and can induce
miscalibration when this assumption is not true. Miscalibration in a
model will adversely affect performance on decision curve
analysis. Similarly, when the outcome is time-to-event, Cox Proportional
Hazards regression is used to convert the marker to a probability.
The Cox model also has a linearity assumption and additionally assumes
proportional hazards over the follow-up period. When these assumptions
are violated, important miscalibration may occur.
</p>
<p>Instead of using the <code style="white-space: pre;">&#8288;as_probability=&#8288;</code> argument, it is suggested to perform
the regression modeling outside of the <code>dca()</code> function utilizing methods,
such as non-linear modeling, as appropriate.
</p>


<h3>Author(s)</h3>

<p>Daniel D Sjoberg
</p>


<h3>See Also</h3>

<p><code><a href="#topic+net_intervention_avoided">net_intervention_avoided()</a></code>, <code><a href="#topic+standardized_net_benefit">standardized_net_benefit()</a></code>, <code><a href="#topic+plot.dca">plot.dca()</a></code>,
<code><a href="#topic+as_tibble.dca">as_tibble.dca()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># calculate DCA with binary endpoint
dca(cancer ~ cancerpredmarker + marker,
    data = df_binary,
    as_probability = "marker",
    label = list(cancerpredmarker = "Prediction Model", marker = "Biomarker")) %&gt;%
  # plot DCA curves with ggplot
  plot(smooth = TRUE) +
  # add ggplot formatting
  ggplot2::labs(x = "Treatment Threshold Probability")

# calculate DCA with time to event endpoint
dca(Surv(ttcancer, cancer) ~ cancerpredmarker, data = df_surv, time = 1)
</code></pre>

<hr>
<h2 id='df_binary'>Simulated data with a binary outcome</h2><span id='topic+df_binary'></span>

<h3>Description</h3>

<p>Simulated data with a binary outcome
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_binary
</code></pre>


<h3>Format</h3>

<p>A data frame with 750 rows:
</p>

<dl>
<dt>patientid</dt><dd><p>Identification Number</p>
</dd>
<dt>cancer</dt><dd><p>Cancer Diagnosis: 0=No, 1=Yes</p>
</dd>
<dt>dead</dt><dd><p>Dead (1=yes; 0=no)</p>
</dd>
<dt>risk_group</dt><dd><p>Patient Risk Group (Low, Intermediate, High)</p>
</dd>
<dt>age</dt><dd><p>Patient Age, years</p>
</dd>
<dt>famhistory</dt><dd><p>Family History of Cancer: 0=No, 1=Yes</p>
</dd>
<dt>marker</dt><dd><p>Marker</p>
</dd>
<dt>cancerpredmarker</dt><dd><p>Prob. of Cancer based on Age, Family History, and Marker</p>
</dd>
</dl>


<hr>
<h2 id='df_case_control'>Simulated data with a case-control outcome</h2><span id='topic+df_case_control'></span>

<h3>Description</h3>

<p>Simulated data with a case-control outcome
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_case_control
</code></pre>


<h3>Format</h3>

<p>A data frame with 750 rows:
</p>

<dl>
<dt>patientid</dt><dd><p>Identification Number</p>
</dd>
<dt>casecontrol</dt><dd><p>Case-control Status: 1=Case, 0=Control</p>
</dd>
<dt>risk_group</dt><dd><p>Patient Risk Group (Low, Intermediate, High)</p>
</dd>
<dt>age</dt><dd><p>Patient Age, years</p>
</dd>
<dt>famhistory</dt><dd><p>Family History of Cancer: 0=No, 1=Yes</p>
</dd>
<dt>marker</dt><dd><p>Marker</p>
</dd>
<dt>cancerpredmarker</dt><dd><p>Prob. of Cancer based on Age, Family History, and Marker</p>
</dd>
</dl>


<hr>
<h2 id='df_surv'>Simulated data with a survival outcome</h2><span id='topic+df_surv'></span>

<h3>Description</h3>

<p>Simulated data with a survival outcome
</p>


<h3>Usage</h3>

<pre><code class='language-R'>df_surv
</code></pre>


<h3>Format</h3>

<p>A data frame with 750 rows:
</p>

<dl>
<dt>patientid</dt><dd><p>Identification Number</p>
</dd>
<dt>cancer</dt><dd><p>Cancer Diagnosis: 0=No, 1=Yes</p>
</dd>
<dt>cancer_cr</dt><dd><p>Cancer Diagnosis, competing event: &quot;censor&quot;, &quot;dead other causes&quot;, &quot;diagnosed with cancer&quot;</p>
</dd>
<dt>ttcancer</dt><dd><p>Years to Cancer Dx/Censor</p>
</dd>
<dt>risk_group</dt><dd><p>Patient Risk Group (Low, Intermediate, High)</p>
</dd>
<dt>age</dt><dd><p>Patient Age, years</p>
</dd>
<dt>famhistory</dt><dd><p>Family History of Cancer: 0=No, 1=Yes</p>
</dd>
<dt>marker</dt><dd><p>Marker</p>
</dd>
<dt>cancerpredmarker</dt><dd><p>Prob. of Cancer based on Age, Family History, and Marker</p>
</dd>
</dl>


<hr>
<h2 id='net_intervention_avoided'>Add Net Interventions Avoided</h2><span id='topic+net_intervention_avoided'></span>

<h3>Description</h3>

<p>Add the number of net interventions avoided to <code>dca()</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>net_intervention_avoided(x, nper = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="net_intervention_avoided_+3A_x">x</code></td>
<td>
<p>object of class <code>'dca'</code> calculated with <code>dca()</code></p>
</td></tr>
<tr><td><code id="net_intervention_avoided_+3A_nper">nper</code></td>
<td>
<p>Number to report net interventions per. Default is 1</p>
</td></tr>
</table>


<h3>Value</h3>

<p>'dca' object
</p>


<h3>Author(s)</h3>

<p>Daniel D Sjoberg
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dca">dca()</a></code>, <code><a href="#topic+standardized_net_benefit">standardized_net_benefit()</a></code>, <code><a href="#topic+plot.dca">plot.dca()</a></code>, <code><a href="#topic+as_tibble.dca">as_tibble.dca()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dca(
  cancer ~ cancerpredmarker,
  data = df_binary
) %&gt;%
  net_intervention_avoided()

dca(
  Surv(ttcancer, cancer) ~ cancerpredmarker,
  data = df_surv,
  time = 1
) %&gt;%
  net_intervention_avoided(nper = 100)
</code></pre>

<hr>
<h2 id='plot.dca'>Plot DCA Object with ggplot</h2><span id='topic+plot.dca'></span>

<h3>Description</h3>

<p>Plot DCA Object with ggplot
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dca'
plot(
  x,
  type = NULL,
  smooth = FALSE,
  span = 0.2,
  style = c("color", "bw"),
  show_ggplot_code = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot.dca_+3A_x">x</code></td>
<td>
<p>dca object created with <code>dca()</code></p>
</td></tr>
<tr><td><code id="plot.dca_+3A_type">type</code></td>
<td>
<p>indicates type of plot to produce. Must be one of
<code>c("net_benefit", "net_intervention_avoided", "standardized_net_benefit")</code>.
The default is
<code>"net_benefit"</code>, unless the net intervention has been calculated
when <code>"net_intervention_avoided"</code> is used, or if <code>"standardized_net_benefit"</code>
has been calculated.</p>
</td></tr>
<tr><td><code id="plot.dca_+3A_smooth">smooth</code></td>
<td>
<p>Logical indicator whether plot will be smooth with
<code>ggplot2::stat_smooth()</code>. Default is <code>FALSE</code></p>
</td></tr>
<tr><td><code id="plot.dca_+3A_span">span</code></td>
<td>
<p>when <code>smooth = TRUE</code>, Controls the amount of smoothing for
loess smoother. Smaller numbers produce wigglier lines, larger numbers
produce smoother lines. Default is <code>0.2</code>.</p>
</td></tr>
<tr><td><code id="plot.dca_+3A_style">style</code></td>
<td>
<p>Must be one of <code>c("color", "bw")</code>. Default is <code>"color"</code>, and
<code>"bw"</code> will print a black and white figure</p>
</td></tr>
<tr><td><code id="plot.dca_+3A_show_ggplot_code">show_ggplot_code</code></td>
<td>
<p>Logical indicating whether to print ggplot2 code used to
create figure. Default is <code>FALSE</code>. Set to <code>TRUE</code> to perform advanced figure
customization</p>
</td></tr>
<tr><td><code id="plot.dca_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot2 object
</p>


<h3>Author(s)</h3>

<p>Daniel D Sjoberg
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dca">dca()</a></code>, <code><a href="#topic+net_intervention_avoided">net_intervention_avoided()</a></code>, <code><a href="#topic+standardized_net_benefit">standardized_net_benefit()</a></code>, <code><a href="#topic+as_tibble.dca">as_tibble.dca()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>p &lt;-
  dca(cancer ~ cancerpredmarker, data = df_binary) %&gt;%
  plot(smooth = TRUE, show_ggplot_code = TRUE)
p

# change the line colors
p + ggplot2::scale_color_manual(values = c('black', 'grey', 'purple'))

</code></pre>

<hr>
<h2 id='print.dca'>Print <code>dca()</code> object</h2><span id='topic+print.dca'></span>

<h3>Description</h3>

<p>Print <code>dca()</code> object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'dca'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="print.dca_+3A_x">x</code></td>
<td>
<p>dca object</p>
</td></tr>
<tr><td><code id="print.dca_+3A_...">...</code></td>
<td>
<p>not used</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a ggplot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dca(cancer ~ cancerpredmarker, data = df_binary) %&gt;%
  print()
</code></pre>

<hr>
<h2 id='reexports'>Objects exported from other packages</h2><span id='topic+reexports'></span><span id='topic+ggplot'></span><span id='topic+aes'></span><span id='topic+geom_line'></span><span id='topic+stat_smooth'></span><span id='topic+coord_cartesian'></span><span id='topic+scale_x_continuous'></span><span id='topic+labs'></span><span id='topic+theme_bw'></span><span id='topic+as_tibble'></span><span id='topic++25+3E+25'></span><span id='topic+Surv'></span>

<h3>Description</h3>

<p>These objects are imported from other packages. Follow the links
below to see their documentation.
</p>

<dl>
<dt>dplyr</dt><dd><p><code><a href="dplyr.html#topic+reexports">%&gt;%</a></code></p>
</dd>
<dt>ggplot2</dt><dd><p><code><a href="ggplot2.html#topic+aes">aes</a></code>, <code><a href="ggplot2.html#topic+coord_cartesian">coord_cartesian</a></code>, <code><a href="ggplot2.html#topic+geom_path">geom_line</a></code>, <code><a href="ggplot2.html#topic+ggplot">ggplot</a></code>, <code><a href="ggplot2.html#topic+labs">labs</a></code>, <code><a href="ggplot2.html#topic+scale_continuous">scale_x_continuous</a></code>, <code><a href="ggplot2.html#topic+geom_smooth">stat_smooth</a></code>, <code><a href="ggplot2.html#topic+ggtheme">theme_bw</a></code></p>
</dd>
<dt>survival</dt><dd><p><code><a href="survival.html#topic+Surv">Surv</a></code></p>
</dd>
<dt>tibble</dt><dd><p><code><a href="tibble.html#topic+as_tibble">as_tibble</a></code></p>
</dd>
</dl>

<hr>
<h2 id='standardized_net_benefit'>Add Standardized Net Benefit</h2><span id='topic+standardized_net_benefit'></span>

<h3>Description</h3>

<p>Add the standardized net benefit to <code>dca()</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>standardized_net_benefit(x)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="standardized_net_benefit_+3A_x">x</code></td>
<td>
<p>object of class <code>'dca'</code> calculated with <code>dca()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>'dca' object
</p>


<h3>Author(s)</h3>

<p>Daniel D Sjoberg
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dca">dca()</a></code>, <code><a href="#topic+net_intervention_avoided">net_intervention_avoided()</a></code>, <code><a href="#topic+plot.dca">plot.dca()</a></code>, <code><a href="#topic+as_tibble.dca">as_tibble.dca()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dca(Surv(ttcancer, cancer) ~ cancerpredmarker, data = df_surv, time = 1) %&gt;%
  standardized_net_benefit()
</code></pre>

<hr>
<h2 id='test_consequences'>Test Consequences</h2><span id='topic+test_consequences'></span>

<h3>Description</h3>

<p>Test Consequences
</p>


<h3>Usage</h3>

<pre><code class='language-R'>test_consequences(
  formula,
  data,
  statistics = c("pos_rate", "neg_rate", "test_pos_rate", "test_neg_rate", "tp_rate",
    "fp_rate", "fn_rate", "tn_rate", "ppv", "npv", "sens", "spec", "lr_pos", "lr_neg"),
  thresholds = seq(0, 1, by = 0.25),
  label = NULL,
  time = NULL,
  prevalence = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="test_consequences_+3A_formula">formula</code></td>
<td>
<p>a formula with the outcome on the LHS and a sum of
markers/covariates to test on the RHS</p>
</td></tr>
<tr><td><code id="test_consequences_+3A_data">data</code></td>
<td>
<p>a data frame containing the variables in <code style="white-space: pre;">&#8288;formula=&#8288;</code>.</p>
</td></tr>
<tr><td><code id="test_consequences_+3A_statistics">statistics</code></td>
<td>
<p>Character vector with statistics to return. See below for details</p>
</td></tr>
<tr><td><code id="test_consequences_+3A_thresholds">thresholds</code></td>
<td>
<p>vector of threshold probabilities between 0 and 1.
Default is <code>seq(0, 0.99, by = 0.01)</code>. Thresholds at zero are replaced
with 10e-10.</p>
</td></tr>
<tr><td><code id="test_consequences_+3A_label">label</code></td>
<td>
<p>named list of variable labels, e.g. <code>list(age = "Age, years")</code></p>
</td></tr>
<tr><td><code id="test_consequences_+3A_time">time</code></td>
<td>
<p>if outcome is survival, <code style="white-space: pre;">&#8288;time=&#8288;</code> specifies the time the
assessment is made</p>
</td></tr>
<tr><td><code id="test_consequences_+3A_prevalence">prevalence</code></td>
<td>
<p>When <code>NULL</code>, the prevalence is estimated from <code style="white-space: pre;">&#8288;data=&#8288;</code>.
If the data passed is a case-control set, the population prevalence
may be set with this argument.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a tibble with test consequences
</p>


<h3>statistics</h3>

<p>The following diagnostic statistics are available to return.
</p>
<p><img src="../help/figures/two-by-two-table.png" width=35% alt="two-by-two-table.png" /></p>

<table>
<tr>
 <td style="text-align: left;">
   <strong>Statistic</strong> </td><td style="text-align: left;"> <strong>Abbreviation</strong> </td><td style="text-align: left;"> <strong>Definition</strong> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Outcome Positive Rate </td><td style="text-align: left;"> <code>"pos_rate"</code> </td><td style="text-align: left;"> <code>(a + c) / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Outcome Negative Rate </td><td style="text-align: left;"> <code>"neg_rate"</code> </td><td style="text-align: left;"> <code>(b + d) / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Test Positive Rate </td><td style="text-align: left;"> <code>"test_pos_rate"</code> </td><td style="text-align: left;"> <code>(a + b) / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Test Negative Rate </td><td style="text-align: left;"> <code>"test_neg_rate"</code> </td><td style="text-align: left;"> <code>(c + d) / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   True Positive Rate </td><td style="text-align: left;"> <code>"tp_rate"</code> </td><td style="text-align: left;"> <code>a / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   False Positive Rate </td><td style="text-align: left;"> <code>"fp_rate"</code> </td><td style="text-align: left;"> <code>b / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   False Negative Rate </td><td style="text-align: left;"> <code>"fn_rate"</code> </td><td style="text-align: left;"> <code>c / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   True Negative Rate </td><td style="text-align: left;"> <code>"tn_rate"</code> </td><td style="text-align: left;"> <code>d / (a + b + c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Positive Predictive Value </td><td style="text-align: left;"> <code>"ppv"</code> </td><td style="text-align: left;"> <code>a / (a + b)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Negative Predictive Value </td><td style="text-align: left;"> <code>"npv"</code> </td><td style="text-align: left;"> <code>d / (c + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Sensitivity </td><td style="text-align: left;"> <code>"sens"</code> </td><td style="text-align: left;"> <code>a / (a + c)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Specificity </td><td style="text-align: left;"> <code>"spec"</code> </td><td style="text-align: left;"> <code>d / (b + d)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Positive Likelihood Ratio </td><td style="text-align: left;"> <code>"lr_pos"</code> </td><td style="text-align: left;"> <code>sens / (1 - spec)</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   Negative Likelihood Ratio </td><td style="text-align: left;"> <code>"lr_neg"</code> </td><td style="text-align: left;"> <code>(1 - sens) / spec</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Examples</h3>

<pre><code class='language-R'>test_consequences(cancer ~ cancerpredmarker, data = df_binary)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package drhutools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {drhutools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cdplot'><p>Visualizing the experimental outcome with cumulative distribution functions.</p></a></li>
<li><a href='#folderSystem'><p>Folder hierarchy creator for academic research</p></a></li>
<li><a href='#gb_cols'><p>Function to extract colors as hex codes.</p></a></li>
<li><a href='#gb_pal'><p>Function to interpolate a gold-black color palette.</p></a></li>
<li><a href='#goodmap'><p>The <code>goodmap</code> function is designed to create interactive PNG Map or GIF Map from a provided data file.</p>
It supports two types of maps: <code>point</code> and <code>polygon</code>.
The function can visualize data by either plotting points based on geographical coordinates
or highlighting regions polygon based on their administrative boundaries (province or city level).
Additionally, the function can generate animated that showcase the change of data.</a></li>
<li><a href='#leafletcn.map.names'><p>Leaflet Map Names Dataset</p></a></li>
<li><a href='#scale_color_gb'><p>Fill scale constructors for gold &amp; black colors</p></a></li>
<li><a href='#scale_fill_gb'><p>Color scale constructors for gold &amp; black colors</p></a></li>
<li><a href='#toy_poly'><p>Toy Dataset for <code>goodmap</code></p></a></li>
<li><a href='#traits'><p>Calculate psychological traits based on</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Political Science Academic Research Gears</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yue Hu &lt;yuehu@tsinghua.edu.cn&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Using these tools to simplify the research process of political science and other social sciences. The current version can create folder system for academic project in political science, calculate psychological trait scores, visualize experimental and spatial data, and set up color-blind palette, functions used in academic research of political psychology or political science in general.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.drhuyue.site/software/drhutools/">https://www.drhuyue.site/software/drhutools/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/sammo3182/drhutools/issues">https://github.com/sammo3182/drhutools/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>R(&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, ggplot2, purrr, htmltools, sf, htmlwidgets, jsonlite,
leaflet, sp, stats, methods, gganimate, magick, mapview,
webshot, animation, png, grDevices</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, remotes, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-12-03 09:51:25 UTC; yuehu</td>
</tr>
<tr>
<td>Author:</td>
<td>Yue Hu [aut, cre],
  Wen Deng [ctb]</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-12-05 18:30:12 UTC</td>
</tr>
</table>
<hr>
<h2 id='cdplot'>Visualizing the experimental outcome with cumulative distribution functions.</h2><span id='topic+cdplot'></span>

<h3>Description</h3>

<p>Packed <code>ggplot2</code> function to compare the empirical cumulative distribution functions (ECDF) between the treatment and control groups in an experiment or quasi-experiment.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cdplot_+3A_data">data</code></td>
<td>
<p>A data.frame including two columns, one recording the outcome and the other recording the assignment. The assignment column must be named as <code>group</code>.</p>
</td></tr>
<tr><td><code id="cdplot_+3A_ks_test">ks_test</code></td>
<td>
<p>A logical option to indicate whether to show the Kolmogorov-Smirnov test result in the bottom-right corner. The default value is FALSE.</p>
</td></tr>
<tr><td><code id="cdplot_+3A_point_size">point_size</code></td>
<td>
<p>An integer to indicate the size of the points at the largest difference. The default value is 3.</p>
</td></tr>
<tr><td><code id="cdplot_+3A_point_color">point_color</code></td>
<td>
<p>An character or function to indicate the color of the points at the largest difference. The default value is <code>drhutools::gb_cols("red")</code>.</p>
</td></tr>
<tr><td><code id="cdplot_+3A_link_color">link_color</code></td>
<td>
<p>An character or function to indicate the color of the link at the largest difference. The default value is <code>drhutools::gb_cols("red")</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>ggplot2</code> objects comparing the ECDFs between the control and treatment groups and identifying at most three largest differences.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
data("PlantGrowth")

plot_plant &lt;- cdplot(PlantGrowth, ks_test = TRUE)
plot_plant

</code></pre>

<hr>
<h2 id='folderSystem'>Folder hierarchy creator for academic research</h2><span id='topic+folderSystem'></span>

<h3>Description</h3>

<p>Folder hierarchy creator for academic research
</p>


<h3>Usage</h3>

<pre><code class='language-R'>folderSystem()
</code></pre>


<h3>Details</h3>

<p>The function constructs a standardized folder hierarchy encompassing <code style="white-space: pre;">&#8288;codes/&#8288;</code>, <code style="white-space: pre;">&#8288;data/&#8288;</code>, <code style="white-space: pre;">&#8288;output/&#8288;</code>, <code style="white-space: pre;">&#8288;paper/&#8288;</code>, and <code style="white-space: pre;">&#8288;document/&#8288;</code>. These directories are designated for storing programming scripts, data sets, processed outputs, manuscript drafts (including related images and submission documents), and assorted materials, respectively. This organization facilitates easy retrieval of project components, ensuring that members of Dr. Hu's Amazing Team can efficiently navigate and manage shared resources. This structure is advocated for collaborative projects to maintain uniformity across team operations.
</p>


<h3>Value</h3>

<p>Local folders under the project's working directory.
</p>

<hr>
<h2 id='gb_cols'>Function to extract colors as hex codes.</h2><span id='topic+gb_cols'></span>

<h3>Description</h3>

<p>Function to extract colors as hex codes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gb_cols(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gb_cols_+3A_...">...</code></td>
<td>
<p>A character vector indicating the names of colors. Options includes &quot;gold&quot;, &quot;black&quot;, &quot;orange&quot;, &quot;red&quot;, &quot;light green&quot;, &quot;green&quot;, &quot;light blue&quot;, &quot;blue&quot;, &quot;light grey&quot;, &quot;grey&quot;, and &quot;dark grey&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character of hex codes.
</p>

<hr>
<h2 id='gb_pal'>Function to interpolate a gold-black color palette.</h2><span id='topic+gb_pal'></span>

<h3>Description</h3>

<p>Function to interpolate a gold-black color palette.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gb_pal(palette = "main", reverse = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="gb_pal_+3A_palette">palette</code></td>
<td>
<p>A character vector indicating the name of palette in gb_palettes. Available palettes:
</p>

<ul>
<li> <p><code>main</code>: Gold and black colors.
</p>
</li>
<li> <p><code>tricol</code>: Gold, black, and dark grey to create a gradual effect.
</p>
</li>
<li> <p><code>digitMixed</code>: Five-pack colors specified for digital publications.
</p>
</li>
<li> <p><code>printMixed</code>: Five-pack colors specified for printed publications.
</p>
</li>
<li> <p><code>full</code>: A palette including all the colors <code>gb_cols</code> can call.
</p>
</li></ul>
</td></tr>
<tr><td><code id="gb_pal_+3A_reverse">reverse</code></td>
<td>
<p>A logic vector indicating whether the palette should be reversed; the default is FALSE.</p>
</td></tr>
<tr><td><code id="gb_pal_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <code>colorRampPalette()</code></p>
</td></tr>
</table>


<h3>Value</h3>

<p>A function that takes an integer argument (the required number of colors) and returns a character vector of colors interpolating the given sequence.
</p>

<hr>
<h2 id='goodmap'>The <code>goodmap</code> function is designed to create interactive PNG Map or GIF Map from a provided data file.
It supports two types of maps: <code>point</code> and <code>polygon</code>.
The function can visualize data by either plotting points based on geographical coordinates
or highlighting regions polygon based on their administrative boundaries (province or city level).
Additionally, the function can generate animated that showcase the change of data.</h2><span id='topic+goodmap'></span>

<h3>Description</h3>

<p>If the map type is <code>point</code>, the color and size of the points will be determined by the
<code>value_set</code> column in the data file, which means the different value of each point.
If the map type is <code>polygon</code>, the color of the polygons will be determined by the average
value of the <code>value_set</code> column for each city or province in the data file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>goodmap(
  data_file,
  type = "point",
  level = NULL,
  animate = FALSE,
  animate_var = NULL,
  map_center = c(35.8617, 104.1954),
  zoom_level = 4,
  color_type = "numeric",
  custom_colors = NULL,
  point_radius = 5,
  legend_opacity = 0.7,
  legend_name = NULL,
  width = 800,
  height = 900
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="goodmap_+3A_data_file">data_file</code></td>
<td>
<p>Dataframe.
When generate point map, <code>data_file</code> should include required columns such as <code>g_lat</code> and <code>g_lon</code>.
When generate polygon map, <code>data_file</code> should include required columns such as <code>prov</code> or <code>city</code>.
The <code>prov</code> columns must be complete, official names rather than any shortened form or abbreviation.
If there is only incomplete names or geocodes in your data_file, we recommend you to use function <code>regioncode</code>
as a one-step solution to these conversion from incomplete names.
Ensure the file is formatted correctly with appropriate column headers.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_type">type</code></td>
<td>
<p>A string specifying the type of map to generate. Options are <code>point</code>for point maps using <code>g_lat</code> and <code>g_lon</code>,
or <code>polygon</code> for maps with administrative boundaries.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_level">level</code></td>
<td>
<p>A string specifying the level of administrative boundaries for polygon maps.
Acceptable values are <code>province</code> or <code>city</code>. This parameter is required if <code>type</code> is <code>polygon</code>.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_animate">animate</code></td>
<td>
<p>A logical value indicating whether to generate an animation from the maps. The default is FALSE.
If animate is FALSE, the whole data will be generated as a PNG file.
If animate is TRUE, an animation will be generated from all panel data, the animate_var must be assigned.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_animate_var">animate_var</code></td>
<td>
<p>A string specifying the variable to animate over.
The default is <code>NULL</code>, the whole data will be generated as a PNG file.
If an animation is needed, <code>data_file</code> should include required the <code>animate_set</code> column.
<code>animate_set</code> includes a series of unique values that represents year or month, or other categorical variable.
The frame number of the animation depends on the <code>animate_set</code>.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_map_center">map_center</code></td>
<td>
<p>A numeric vector of length 2 specifying the latitude and longitude
for the center of the map view. Default is <code>c(35.8617, 104.1954)</code>, which
is approximately the center of China.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_zoom_level">zoom_level</code></td>
<td>
<p>A numeric value specifying the zoom level for the map. Default is 3.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_color_type">color_type</code></td>
<td>
<p>If the data is discrete, such as types or categories, choose <code>factor</code>.
If the data is continuous, such as temperature or pressure, choose <code>numeric</code>. Default is numeric.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_custom_colors">custom_colors</code></td>
<td>
<p>A vector of colors for customizing the color gradient. Default is <code>NULL</code>,
which uses the predefined color palette.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_point_radius">point_radius</code></td>
<td>
<p>A numeric value specifying the radius for point markers on point maps. Default is 5.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_legend_opacity">legend_opacity</code></td>
<td>
<p>A numeric value specifying the opacity of the legend. Default is 0.7.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_legend_name">legend_name</code></td>
<td>
<p>The name of the legend. Default is <code>Value</code>.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_width">width</code></td>
<td>
<p>A numeric value specifying the width of the map images. Default is 800.</p>
</td></tr>
<tr><td><code id="goodmap_+3A_height">height</code></td>
<td>
<p>A numeric value specifying the height of the map images. Default is 900.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Image in the viewer.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

goodmap(
  toy_poly,
  type = "polygon",
  level = "province"
)


</code></pre>

<hr>
<h2 id='leafletcn.map.names'>Leaflet Map Names Dataset</h2><span id='topic+leafletcn.map.names'></span>

<h3>Description</h3>

<p>A internal dataset providing city names and corresponding file names for mapping with Leaflet.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>leafletcn.map.names
</code></pre>


<h3>Format</h3>

<p>A data frame with city names and file names.
</p>


<h3>Value</h3>

<p>A data.frame object
</p>

<hr>
<h2 id='scale_color_gb'>Fill scale constructors for gold &amp; black colors</h2><span id='topic+scale_color_gb'></span>

<h3>Description</h3>

<p>Fill scale constructors for gold &amp; black colors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_color_gb(palette = "main", discrete = TRUE, reverse = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_color_gb_+3A_palette">palette</code></td>
<td>
<p>A character vector indicating the name of palette in <code>gb_palettes</code>. Available palettes:
</p>

<ul>
<li> <p><code>main</code>: Gold and black colors.
</p>
</li>
<li> <p><code>tricol</code>: Gold, black, and dark grey to create a gradual effect.
</p>
</li>
<li> <p><code>digitMixed</code>: Five-pack colors specified for digital publications.
</p>
</li>
<li> <p><code>printMixed</code>: Five-pack colors specified for printed publications.
</p>
</li>
<li> <p><code>full</code>: A palette including all the colors <code>gb_cols</code> can call.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_color_gb_+3A_discrete">discrete</code></td>
<td>
<p>A logic vector indicating whether color aesthetic is discrete or not; the default is &quot;main&quot;.</p>
</td></tr>
<tr><td><code id="scale_color_gb_+3A_reverse">reverse</code></td>
<td>
<p>A logic vector indicating whether the palette should be reversed.</p>
</td></tr>
<tr><td><code id="scale_color_gb_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>discrete_scale()</code> or <code>scale_color_gradientn()</code>, used respectively when discrete is TRUE or FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for modifying the appearance of the plot.
</p>

<hr>
<h2 id='scale_fill_gb'>Color scale constructors for gold &amp; black colors</h2><span id='topic+scale_fill_gb'></span>

<h3>Description</h3>

<p>Color scale constructors for gold &amp; black colors
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_fill_gb(palette = "main", discrete = TRUE, reverse = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="scale_fill_gb_+3A_palette">palette</code></td>
<td>
<p>A character vector indicating the name of palette in <code>gb_palettes</code>. Available palettes:
</p>

<ul>
<li> <p><code>main</code>: Gold and black colors.
</p>
</li>
<li> <p><code>tricol</code>: Gold, black, and dark grey to create a gradual effect.
</p>
</li>
<li> <p><code>digitMixed</code>: Five-pack colors specified for digital publications.
</p>
</li>
<li> <p><code>printMixed</code>: Five-pack colors specified for printed publications.
</p>
</li>
<li> <p><code>full</code>: A palette including all the colors <code>gb_cols</code> can call.
</p>
</li></ul>
</td></tr>
<tr><td><code id="scale_fill_gb_+3A_discrete">discrete</code></td>
<td>
<p>A logic vector indicating whether color aesthetic is discrete or not; the default is &quot;main&quot;.</p>
</td></tr>
<tr><td><code id="scale_fill_gb_+3A_reverse">reverse</code></td>
<td>
<p>A logic vector indicating whether the palette should be reversed.</p>
</td></tr>
<tr><td><code id="scale_fill_gb_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to <code>discrete_scale()</code> or <code>scale_color_gradientn()</code>, used respectively when discrete is TRUE or FALSE</p>
</td></tr>
</table>


<h3>Value</h3>

<p>No return value, called for modifying the appearance of the plot.
</p>

<hr>
<h2 id='toy_poly'>Toy Dataset for <code>goodmap</code></h2><span id='topic+toy_poly'></span>

<h3>Description</h3>

<p>A sample dataset designed to illustrate the functionality of the <code>goodmap</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>toy_poly
</code></pre>


<h3>Format</h3>

<p>A geographic data frame with 6 rows and 5 variables:
</p>

<dl>
<dt>id</dt><dd><p>Optional data identifier.</p>
</dd>
<dt>city</dt><dd><p>Prefectural names, required for city-level map plotting.</p>
</dd>
<dt>prov</dt><dd><p>Provincial names, required for provincial-level map plotting.</p>
</dd>
<dt>animate_set</dt><dd><p>A numeric vector used to group data for animated plotting.</p>
</dd>
<dt>value_set</dt><dd><p>Values used to fill each polygon in the map.</p>
</dd>
</dl>



<h3>Value</h3>

<p>A data.frame object
</p>

<hr>
<h2 id='traits'>Calculate psychological traits based on</h2><span id='topic+traits'></span>

<h3>Description</h3>

<p>Calculate psychological traits based on
</p>


<h3>Usage</h3>

<pre><code class='language-R'>traits(survey)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="traits_+3A_survey">survey</code></td>
<td>
<p>Psychological survey data as a <code>data.frame</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The current version can calculate the TOSCA-3SC scores and Grit-O score.
</p>


<h3>Value</h3>

<p>A data frame with trait scores for each observations
</p>


<h3>References</h3>

<p>Duckworth, Angela L., Christopher Peterson, Michael D. Matthews, and Dennis R. Kelly. 2007.
“Grit: Perseverance and Passion for Long-Term Goals.” Journal of Personality and Social Psychology
92(6): 1087–1101. doi:10.1037/0022-3514.92.6.1087.
</p>
<p>Tangney, June P. 1990. “Assessing Individual Differences in Proneness to Shame and Guilt: Development
of the Self-Conscious Affect and Attribution Inventory.” Journal of Personality and Social Psychology
59(1): 102–11. doi:10.1037/0022-3514.59.1.102.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>column_names &lt;- c("Q3|R3", "Q3|R4", "Q4|R3", "Q4|R4", "Q5|R5", "Q5|R6", "Q6|R3", "Q6|R4", "Q7|R3", 
"Q7|R4", "Q8|R5", "Q8|R6", "Q9|R5", "Q9|R6", "Q10|R5", "Q10|R6", "Q11|R5", "Q11|R6", "Q12|R3", 
"Q12|R4", "Q13|R3", "Q13|R4", "Q14|1", "Q15|1", "Q16|1", "Q17|1", "Q18|1", "Q19|1", "Q20|1", 
"Q21|1", "Q22|1", "Q23|1", "Q24|1", "Q25|1")

toy_data &lt;- data.frame(matrix(sample(1:5, 10 * length(column_names), replace = TRUE), 
ncol = length(column_names)))

names(toy_data) &lt;- column_names

traits(toy_data)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

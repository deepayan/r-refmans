<!DOCTYPE html><html lang="en"><head><title>Help for package fdicdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {fdicdata}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cert2idrssd'><p>Convert bank identifier from CERT to IDRSSD</p></a></li>
<li><a href='#dataTaxonomy'><p>Taxonomy Data</p></a></li>
<li><a href='#getFailures'><p>Get information on bank failures from FDIC data</p></a></li>
<li><a href='#getFinancials'><p>Get financial data for a given institution</p></a></li>
<li><a href='#getHistory'><p>Get history of a bank by FDIC certificate number or name</p></a></li>
<li><a href='#getInstitution'><p>Retrieve institution data from FDIC API</p></a></li>
<li><a href='#getInstitutionsAll'><p>Read FDIC Institution data set</p></a></li>
<li><a href='#getLocation'><p>Get location information for a bank with a given CERT number</p></a></li>
<li><a href='#getSummary'><p>Get Summary Data from FDIC API</p></a></li>
<li><a href='#getTaxonomy'><p>Get taxonomy file from FDIC website</p></a></li>
<li><a href='#idrssd2cert'><p>Convert bank identifier from IDRSSD to CERT</p></a></li>
<li><a href='#states2URL'><p>Converts a vector of state names to a URL compatible format</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Accessing FDIC Bank Data</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>Retrieves financial data from Federal Deposit Insurance Corporation
    (FDIC)-insured institutions and provides access to the FDIC data taxonomy.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/visbanking/fdicdata">https://github.com/visbanking/fdicdata</a>,
<a href="https://visbanking.com/opensource/">https://visbanking.com/opensource/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/visbanking/fdicdata/issues">https://github.com/visbanking/fdicdata/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr, httr, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-09-12 00:22:05 UTC; ugurdar</td>
</tr>
<tr>
<td>Author:</td>
<td>Ugur Dar [aut, cre],
  Brian Pillmore [aut, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ugur Dar &lt;ugurdarr@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-09-12 16:10:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='cert2idrssd'>Convert bank identifier from CERT to IDRSSD</h2><span id='topic+cert2idrssd'></span>

<h3>Description</h3>

<p>This function takes a bank's CERT number as input and returns the corresponding IDRSSD number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cert2idrssd(CERT)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cert2idrssd_+3A_cert">CERT</code></td>
<td>
<p>An integer specifying the CERT number of the bank.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer specifying the IDRSSD number of the bank. Returns NULL if there is an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cert2idrssd(3850)
</code></pre>

<hr>
<h2 id='dataTaxonomy'>Taxonomy Data</h2><span id='topic+dataTaxonomy'></span>

<h3>Description</h3>

<p>Extracts the taxonomy information for a given name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataTaxonomy(name)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dataTaxonomy_+3A_name">name</code></td>
<td>
<p>the name of the taxonomy file to extract. Available taxonomy names: &quot;institution&quot;,&quot;location&quot;,&quot;history&quot;,&quot;summary&quot;,&quot;failure&quot;,&quot;financial&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame containing the extracted taxonomy information
</p>

<hr>
<h2 id='getFailures'>Get information on bank failures from FDIC data</h2><span id='topic+getFailures'></span>

<h3>Description</h3>

<p>This function retrieves information on bank failures from the FDIC data
API, using the specified fields and (optional) date range. If a date range is
specified, only failures within that range will be included.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFailures(fields, range = NULL, limit = 10000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getFailures_+3A_fields">fields</code></td>
<td>
<p>a character vector specifying the fields to include in the
output.
</p>

<dl>
<dt>NAME</dt><dd><p>The name of the failed bank</p>
</dd>
<dt>CERT</dt><dd><p>The FDIC certificate number of the failed bank</p>
</dd>
<dt>FIN</dt><dd><p>The failed bank's unique financial institution identifier</p>
</dd>
<dt>CITYST</dt><dd><p>The city and state where the failed bank was located</p>
</dd>
<dt>FAILDATE</dt><dd><p>The date of the bank failure</p>
</dd>
<dt>FAILYR</dt><dd><p>The year of the bank failure</p>
</dd>
<dt>SAVR</dt><dd><p>Whether the failed bank was a savings and loan association</p>
</dd>
<dt>RESTYPE</dt><dd><p>The type of failed institution</p>
</dd>
<dt>RESTYPE1</dt><dd><p>A more specific classification of the failed institution</p>
</dd>
<dt>CHCLASS1</dt><dd><p>The bank's charter class</p>
</dd>
<dt>QBFDEP</dt><dd><p>The amount of deposits held by the bank at the time of failure</p>
</dd>
<dt>QBFASSET</dt><dd><p>The total assets held by the bank at the time of failure</p>
</dd>
<dt>COST</dt><dd><p>The estimated cost to the FDIC of the bank's failure</p>
</dd>
<dt>PSTALP</dt><dd><p>The FDIC's estimated percentage of insured deposits paid to depositors</p>
</dd>
</dl>
</td></tr>
<tr><td><code id="getFailures_+3A_range">range</code></td>
<td>
<p>a numeric vector of length 2 specifying the start and end dates
(in YYYY format) for the date range to include. If not specified, all
failures will be included.</p>
</td></tr>
<tr><td><code id="getFailures_+3A_limit">limit</code></td>
<td>
<p>an integer specifying the maximum number of results to return.
Defaults to 10,000.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame containing the requested fields for each bank failure
within the specified date range (if applicable).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- getFailures(c("CERT", "NAME", "FAILDATE", "CITY", "STATE"), range = c(2010, 2015))
head(df)
</code></pre>

<hr>
<h2 id='getFinancials'>Get financial data for a given institution</h2><span id='topic+getFinancials'></span>

<h3>Description</h3>

<p>This function retrieves financial data for a given institution from the FDIC API.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFinancials(IDRSSD_or_CERT, metrics, limit = 1, IDRSSD = TRUE, range = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getFinancials_+3A_idrssd_or_cert">IDRSSD_or_CERT</code></td>
<td>
<p>Numeric value indicating the IDRSSD or CERT number of the institution to retrieve data for.</p>
</td></tr>
<tr><td><code id="getFinancials_+3A_metrics">metrics</code></td>
<td>
<p>Vector of metric names to retrieve financial data for.</p>
</td></tr>
<tr><td><code id="getFinancials_+3A_limit">limit</code></td>
<td>
<p>Number of records to retrieve.</p>
</td></tr>
<tr><td><code id="getFinancials_+3A_idrssd">IDRSSD</code></td>
<td>
<p>Boolean value indicating whether IDRSSD (True) or CERT number (False) is used.</p>
</td></tr>
<tr><td><code id="getFinancials_+3A_range">range</code></td>
<td>
<p>Character vector contains start and end date for range. Open ended ranges can be expressed using a &quot;*&quot;</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the requested financial data.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getFinancials(37, metrics = c("ASSET", "DEP"),limit = 10, range = c("2015-01-01","*"))
getFinancials(37, metrics = c("ASSET", "DEP"),limit = 10, range = c("2015-01-01","2016-01-01"))
</code></pre>

<hr>
<h2 id='getHistory'>Get history of a bank by FDIC certificate number or name</h2><span id='topic+getHistory'></span>

<h3>Description</h3>

<p>This function retrieves the history of a bank by either its FDIC certificate number or name. The user can specify which fields to include in the output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getHistory(CERT_or_NAME = NULL, fields, CERT = TRUE, limit = 10000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getHistory_+3A_cert_or_name">CERT_or_NAME</code></td>
<td>
<p>Either the FDIC certificate number or the name of the bank for which to retrieve history information.</p>
</td></tr>
<tr><td><code id="getHistory_+3A_fields">fields</code></td>
<td>
<p>A character vector specifying the fields to include in the output.</p>
</td></tr>
<tr><td><code id="getHistory_+3A_cert">CERT</code></td>
<td>
<p>A logical value indicating whether the value in CERT_or_NAME is a FDIC certificate number (default is TRUE).</p>
</td></tr>
<tr><td><code id="getHistory_+3A_limit">limit</code></td>
<td>
<p>An integer indicating the maximum number of records to retrieve (default and max is 10000).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the requested history information for the specified bank.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>getHistory(CERT_or_NAME = 3850, c("INSTNAME","CERT","PCITY","PSTALP","PZIP5"))
</code></pre>

<hr>
<h2 id='getInstitution'>Retrieve institution data from FDIC API</h2><span id='topic+getInstitution'></span>

<h3>Description</h3>

<p>This function retrieves institution data from the FDIC API based on the specified parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getInstitution(
  name = NULL,
  IDRSSD_or_CERT = NULL,
  fields,
  IDRSSD = TRUE,
  limit = 10000
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getInstitution_+3A_name">name</code></td>
<td>
<p>(optional) A character string to search for in the institution name.</p>
</td></tr>
<tr><td><code id="getInstitution_+3A_idrssd_or_cert">IDRSSD_or_CERT</code></td>
<td>
<p>IDRSSD or CERT of bank</p>
</td></tr>
<tr><td><code id="getInstitution_+3A_fields">fields</code></td>
<td>
<p>A character vector of field names to retrieve from the API.</p>
</td></tr>
<tr><td><code id="getInstitution_+3A_idrssd">IDRSSD</code></td>
<td>
<p>Default:TRUE functions uses IDRSSD, to using CERT change it FALSE</p>
</td></tr>
<tr><td><code id="getInstitution_+3A_limit">limit</code></td>
<td>
<p>An integer specifying the maximum number of records to retrieve. Default is 10000.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing the institution data.
</p>


<h3>References</h3>

<p>For more information on the FDIC API, visit https://banks.data.fdic.gov/.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- getInstitution(name = "Bank of America", fields = c("NAME", "CITY", "STATE"))

</code></pre>

<hr>
<h2 id='getInstitutionsAll'>Read FDIC Institution data set</h2><span id='topic+getInstitutionsAll'></span>

<h3>Description</h3>

<p>This function reads the FDIC Institution data set from a URL (FDIC listing of all institutions) and returns it as a data frame.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getInstitutionsAll()
</code></pre>


<h3>Value</h3>

<p>A data frame containing the FDIC Institution data set
</p>


<h3>Examples</h3>

<pre><code class='language-R'>#'\dontrun{dataInstitutions &lt;- getInstitutionsAll()}

</code></pre>

<hr>
<h2 id='getLocation'>Get location information for a bank with a given CERT number</h2><span id='topic+getLocation'></span>

<h3>Description</h3>

<p>This function retrieves location information for a bank with a given CERT number from the Federal Deposit Insurance Corporation (FDIC) database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getLocation(CERT, fields = c("NAME", "CITY", "STNAME"), limit = 10000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getLocation_+3A_cert">CERT</code></td>
<td>
<p>A character string specifying the CERT number of the bank to retrieve location information for.</p>
</td></tr>
<tr><td><code id="getLocation_+3A_fields">fields</code></td>
<td>
<p>A character vector specifying the fields to include in the output. Default is c(&quot;NAME&quot;, &quot;CITY&quot;, &quot;STNAME&quot;).</p>
</td></tr>
<tr><td><code id="getLocation_+3A_limit">limit</code></td>
<td>
<p>An integer specifying the maximum number of locations to retrieve. Default is 10000.
</p>

<dl>
<dt>ZIP</dt><dd><p>The ZIP code for the location.</p>
</dd>
<dt>UNINUM</dt><dd><p>A unique identifier for the location.</p>
</dd>
<dt>STNAME</dt><dd><p>The name of the state where the location is located.</p>
</dd>
<dt>STCNTY</dt><dd><p>The name of the county where the location is located.</p>
</dd>
<dt>STALP</dt><dd><p>The two-letter abbreviation for the state where the location is located.</p>
</dd>
<dt>SERVTYPE_DESC</dt><dd><p>A description of the type of service provided at the location.</p>
</dd>
<dt>SERVTYPE</dt><dd><p>A code indicating the type of service provided at the location.</p>
</dd>
<dt>RUNDATE</dt><dd><p>The date the location information was last updated.</p>
</dd>
<dt>OFFNUM</dt><dd><p>The number of the office associated with the location.</p>
</dd>
<dt>OFFNAME</dt><dd><p>The name of the office associated with the location.</p>
</dd>
<dt>NAME</dt><dd><p>The name of the financial institution associated with the location.</p>
</dd>
<dt>MAINOFF</dt><dd><p>A flag indicating whether the location is the main office for the financial institution.</p>
</dd>
<dt>MDI_STATUS_DESC</dt><dd><p>A description of the regulatory status of the financial institution associated with the location.</p>
</dd>
<dt>MDI_STATUS_CODE</dt><dd><p>A code indicating the regulatory status of the financial institution associated with the location.</p>
</dd>
<dt>LONGITUDE</dt><dd><p>The longitude of the location.</p>
</dd>
<dt>LATITUDE</dt><dd><p>The latitude of the location.</p>
</dd>
<dt>FI_UNINUM</dt><dd><p>A unique identifier for the financial institution associated with the location.</p>
</dd>
<dt>ESTYMD</dt><dd><p>The date the financial institution associated with the location was established.</p>
</dd>
<dt>CSA_NO</dt><dd><p>The Core Based Statistical Area (CBSA) number for the location.</p>
</dd>
<dt>CSA_FLG</dt><dd><p>A flag indicating whether the location is part of a CBSA.</p>
</dd>
<dt>CSA</dt><dd><p>The name of the CBSA associated with the location.</p>
</dd>
<dt>COUNTY</dt><dd><p>The name of the county associated with the location.</p>
</dd>
<dt>CITY</dt><dd><p>The name of the city associated with the location.</p>
</dd>
<dt>CERT</dt><dd><p>The certificate number of the financial institution associated with the location.</p>
</dd>
<dt>CBSA_NO</dt><dd><p>The CBSA number for the location.</p>
</dd>
<dt>CBSA_MICRO_FLG</dt><dd><p>A flag indicating whether the CBSA associated with the location is a micro area.</p>
</dd>
<dt>CBSA_METRO_NAME</dt><dd><p>The name of the metropolitan area associated with the location.</p>
</dd>
<dt>CBSA_METRO_FLG</dt><dd><p>A flag indicating whether the location is part of a metropolitan area.</p>
</dd>
<dt>CBSA_METRO</dt><dd><p>The code for the metropolitan area associated with the location.</p>
</dd>
<dt>CBSA_DIV_NO</dt><dd><p>The CBSA division number for the location.</p>
</dd>
<dt>CBSA_DIV_FLG</dt><dd><p>A flag indicating whether the location is part of a CBSA division.</p>
</dd>
<dt>CBSA_DIV</dt><dd><p>The name of the CBSA division associated with the location.</p>
</dd>
<dt>CBSA</dt><dd><p>The code for the CBSA associated with the location.</p>
</dd>
<dt>BKCLASS</dt><dd><p>The bank class associated with the location.</p>
</dd>
<dt>ADDRESS</dt><dd><p>Address of the bank.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame containing location information for the bank.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Get location information for a bank with CERT number 3850
getLocation(3850)

# Get location information for a bank with CERT number 3850 and fields "NAME", "CITY", and "ZIP"
getLocation(3850, fields = c("NAME", "CITY", "ZIP"))
</code></pre>

<hr>
<h2 id='getSummary'>Get Summary Data from FDIC API</h2><span id='topic+getSummary'></span>

<h3>Description</h3>

<p>This function retrieves summary data from the FDIC API based on given state names,
a range of years, and specified fields. The returned data frame includes columns
for state name, year, CB_SI, and the specified fields.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSummary(states, range, fields, limit = 10000)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSummary_+3A_states">states</code></td>
<td>
<p>a character vector of state names to filter by</p>
</td></tr>
<tr><td><code id="getSummary_+3A_range">range</code></td>
<td>
<p>a numeric vector of length two representing the beginning and ending
years to filter by. If NULL, no year filtering will occur.</p>
</td></tr>
<tr><td><code id="getSummary_+3A_fields">fields</code></td>
<td>
<p>a character vector of field names to include in the output data frame</p>
</td></tr>
<tr><td><code id="getSummary_+3A_limit">limit</code></td>
<td>
<p>an integer specifying the maximum number of rows to retrieve from the API</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data frame with summary data for the given states, years, and fields
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- getSummary(c("West Virginia", "Delaware", "Alabama"), c(2015, 2016), c("ASSET", "INTINC"))
</code></pre>

<hr>
<h2 id='getTaxonomy'>Get taxonomy file from FDIC website</h2><span id='topic+getTaxonomy'></span>

<h3>Description</h3>

<p>This function takes the name of the YAML file containing data taxonomy as an input
and downloads it from the FDIC website, saving it to the local directory for later use.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getTaxonomy(taxonomy)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getTaxonomy_+3A_taxonomy">taxonomy</code></td>
<td>
<p>The name of the taxonomy file to download (one of &quot;institution_properties.yaml&quot;, &quot;location_properties.yaml&quot;, &quot;history_properties.yaml&quot;, &quot;summary_properties.yaml&quot;, &quot;failure_properties.yaml&quot;, or &quot;risview_properties.yaml&quot;)</p>
</td></tr>
</table>

<hr>
<h2 id='idrssd2cert'>Convert bank identifier from IDRSSD to CERT</h2><span id='topic+idrssd2cert'></span>

<h3>Description</h3>

<p>This function takes a bank's IDRSSD number as input and returns the corresponding CERT number.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>idrssd2cert(IDRSSD)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="idrssd2cert_+3A_idrssd">IDRSSD</code></td>
<td>
<p>An integer specifying the IDRSSD number of the bank.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer specifying the CERT number of the bank. Returns NULL if there is an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>idrssd2cert(37)
</code></pre>

<hr>
<h2 id='states2URL'>Converts a vector of state names to a URL compatible format</h2><span id='topic+states2URL'></span>

<h3>Description</h3>

<p>This function takes a vector of state names and converts it to a format that is compatible with URLs. The resulting string can be used as a filter for APIs or other web requests.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>states2URL(vec)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="states2URL_+3A_vec">vec</code></td>
<td>
<p>A vector of state names to be converted to URL-compatible format</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string containing the state names in URL-compatible format
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

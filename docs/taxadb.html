<!DOCTYPE html><html><head><title>Help for package taxadb</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {taxadb}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#clean_names'><p>Clean taxonomic names</p></a></li>
<li><a href='#common_contains'><p>common name starts with</p></a></li>
<li><a href='#common_starts_with'><p>common name starts with</p></a></li>
<li><a href='#filter_by'><p>Creates a data frame with column name given by <code>by</code>, and values given</p>
by the vector <code>x</code>, and then uses this table to do a filtering join,
joining on the <code>by</code> column to return all rows matching the <code>x</code> values
(scientificNames, taxonIDs, etc).</a></li>
<li><a href='#filter_common'><p>Look up taxonomic information by common name</p></a></li>
<li><a href='#filter_id'><p>Return a taxonomic table matching the requested ids</p></a></li>
<li><a href='#filter_name'><p>Look up taxonomic information by scientific name</p></a></li>
<li><a href='#filter_rank'><p>Get all members (descendants) of a given rank level</p></a></li>
<li><a href='#fuzzy_filter'><p>Match names that start or contain a specified text string</p></a></li>
<li><a href='#get_ids'><p>get_ids</p></a></li>
<li><a href='#get_names'><p>get_names</p></a></li>
<li><a href='#name_contains'><p>return all taxa in which scientific name contains the text provided</p></a></li>
<li><a href='#name_starts_with'><p>scientific name starts with</p></a></li>
<li><a href='#taxa_tbl'><p>Return a reference to a given table in the taxadb database</p></a></li>
<li><a href='#taxadb_dir'><p>Show the taxadb directory</p></a></li>
<li><a href='#td_connect'><p>Connect to the taxadb database</p></a></li>
<li><a href='#td_create'><p>create a local taxonomic database</p></a></li>
<li><a href='#td_disconnect'><p>Disconnect from the taxadb database.</p></a></li>
<li><a href='#tl_import'><p>Import taxonomic database tables</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.2.1</td>
</tr>
<tr>
<td>Title:</td>
<td>A High-Performance Local Taxonomic Database Interface</td>
</tr>
<tr>
<td>Description:</td>
<td>Creates a local database of many commonly used taxonomic authorities
             and provides functions that can quickly query this data.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>DBI, duckdb, tibble, dplyr, dbplyr, rlang, magrittr, stringi,
contentid, memoise</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Suggests:</td>
<td>spelling, testthat, covr, knitr, rmarkdown, purrr, crayon,
RSQLite</td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td>&lt;<a href="https://docs.ropensci.org/taxadb/&amp;gt;">https://docs.ropensci.org/taxadb/&gt;</a>,
&lt;<a href="https://github.com/ropensci/taxadb&amp;gt;">https://github.com/ropensci/taxadb&gt;</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/ropensci/taxadb/issues">https://github.com/ropensci/taxadb/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-03-08 19:10:16 UTC; rstudio</td>
</tr>
<tr>
<td>Author:</td>
<td>Carl Boettiger <a href="https://orcid.org/0000-0002-1642-628X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre],
  Kari Norman <a href="https://orcid.org/0000-0002-2029-2325"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut],
  Jorrit Poelen <a href="https://orcid.org/0000-0003-3138-4118"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Scott Chamberlain <a href="https://orcid.org/0000-0003-1444-9135"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut],
  Noam Ross <a href="https://orcid.org/0000-0002-2136-0000"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Carl Boettiger &lt;cboettig@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-03-09 00:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='clean_names'>Clean taxonomic names</h2><span id='topic+clean_names'></span>

<h3>Description</h3>

<p>A utility to sanitize taxonomic names to increase
probability of resolving names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clean_names(
  names,
  fix_delim = TRUE,
  binomial_only = TRUE,
  remove_sp = TRUE,
  ascii_only = TRUE,
  lowercase = TRUE,
  remove_punc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clean_names_+3A_names">names</code></td>
<td>
<p>a character vector of taxonomic names (usually species names)</p>
</td></tr>
<tr><td><code id="clean_names_+3A_fix_delim">fix_delim</code></td>
<td>
<p>Should we replace separators <code>.</code>, <code style="white-space: pre;">&#8288;_&#8288;</code>, <code>-</code>
with spaces? e.g. 'Homo.sapiens' becomes 'Homo sapiens'.
logical, default TRUE.</p>
</td></tr>
<tr><td><code id="clean_names_+3A_binomial_only">binomial_only</code></td>
<td>
<p>Attempt to prune name to a binomial name, e.g.
Genus and species (specific epithet), e.g. <code style="white-space: pre;">&#8288;Homo sapiens sapiens&#8288;</code>
becomes <code style="white-space: pre;">&#8288;Homo sapiens&#8288;</code>. logical, default <a href="base.html#topic+TRUE">TRUE</a>.</p>
</td></tr>
<tr><td><code id="clean_names_+3A_remove_sp">remove_sp</code></td>
<td>
<p>Should we drop unspecified species epithet designations?
e.g. <code style="white-space: pre;">&#8288;Homo sp.&#8288;</code> becomes <code>Homo</code> (thus only matching against genus level ids).
logical, default <a href="base.html#topic+TRUE">TRUE</a>.</p>
</td></tr>
<tr><td><code id="clean_names_+3A_ascii_only">ascii_only</code></td>
<td>
<p>should we coerce strings to ascii characters?
(see <code><a href="stringi.html#topic+stri_trans_general">stringi::stri_trans_general()</a></code>)</p>
</td></tr>
<tr><td><code id="clean_names_+3A_lowercase">lowercase</code></td>
<td>
<p>should names be coerced to lower-case to provide
case-insensitive matching?</p>
</td></tr>
<tr><td><code id="clean_names_+3A_remove_punc">remove_punc</code></td>
<td>
<p>replace all punctuation but apostrophes with a space,
remove apostrophes</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Current implementation is limited to handling a few
common cases. Additional extensions may be added later.
A goal of the <code>clean_names</code> function is that any
modification rule of the name strings be precise, atomic, and
toggle-able, rather than relying on clever but more opaque rules and
arbitrary scores. This utility should always be used with care, as
indiscriminate modification of names may result in successful but inaccurate
name matching. A good pattern is to only apply this function to the subset
of names that cannot be directly matched.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>clean_names(c("Homo sapiens sapiens", "Homo.sapiens", "Homo sp."))

</code></pre>

<hr>
<h2 id='common_contains'>common name starts with</h2><span id='topic+common_contains'></span>

<h3>Description</h3>

<p>common name starts with
</p>


<h3>Usage</h3>

<pre><code class='language-R'>common_contains(
  name,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  db = td_connect(),
  ignore_case = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="common_contains_+3A_name">name</code></td>
<td>
<p>vector of names (scientific or common, see <code>by</code>)
to be matched against.</p>
</td></tr>
<tr><td><code id="common_contains_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="common_contains_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="common_contains_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
<tr><td><code id="common_contains_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
  
common_contains("monkey")

</code></pre>

<hr>
<h2 id='common_starts_with'>common name starts with</h2><span id='topic+common_starts_with'></span>

<h3>Description</h3>

<p>common name starts with
</p>


<h3>Usage</h3>

<pre><code class='language-R'>common_starts_with(
  name,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  db = td_connect(),
  ignore_case = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="common_starts_with_+3A_name">name</code></td>
<td>
<p>vector of names (scientific or common, see <code>by</code>)
to be matched against.</p>
</td></tr>
<tr><td><code id="common_starts_with_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="common_starts_with_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="common_starts_with_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
<tr><td><code id="common_starts_with_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
  
common_starts_with("monkey")

</code></pre>

<hr>
<h2 id='filter_by'>Creates a data frame with column name given by <code>by</code>, and values given
by the vector <code>x</code>, and then uses this table to do a filtering join,
joining on the <code>by</code> column to return all rows matching the <code>x</code> values
(scientificNames, taxonIDs, etc).</h2><span id='topic+filter_by'></span>

<h3>Description</h3>

<p>Creates a data frame with column name given by <code>by</code>, and values given
by the vector <code>x</code>, and then uses this table to do a filtering join,
joining on the <code>by</code> column to return all rows matching the <code>x</code> values
(scientificNames, taxonIDs, etc).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_by(
  x,
  by,
  provider = getOption("taxadb_default_provider", "itis"),
  schema = c("dwc", "common"),
  version = latest_version(),
  collect = TRUE,
  db = td_connect(),
  ignore_case = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_by_+3A_x">x</code></td>
<td>
<p>a vector of values to filter on</p>
</td></tr>
<tr><td><code id="filter_by_+3A_by">by</code></td>
<td>
<p>a column name in the taxa_tbl (following Darwin Core Schema terms).
The filtering join is executed with this column as the joining variable.</p>
</td></tr>
<tr><td><code id="filter_by_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="filter_by_+3A_schema">schema</code></td>
<td>
<p>One of &quot;dwc&quot; (for Darwin Core data) or &quot;common&quot;
(for the Common names table.)</p>
</td></tr>
<tr><td><code id="filter_by_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="filter_by_+3A_collect">collect</code></td>
<td>
<p>logical, default <code>TRUE</code>. Should we return an in-memory
data.frame (default, usually the most convenient), or a reference to
lazy-eval table on disk (useful for very large tables on which we may
first perform subsequent filtering operations.)</p>
</td></tr>
<tr><td><code id="filter_by_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
<tr><td><code id="filter_by_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame in the Darwin Core tabular format containing the
matching taxonomic entities.
</p>


<h3>See Also</h3>

<p>Other filter_by: 
<code><a href="#topic+filter_common">filter_common</a>()</code>,
<code><a href="#topic+filter_id">filter_id</a>()</code>,
<code><a href="#topic+filter_name">filter_name</a>()</code>,
<code><a href="#topic+filter_rank">filter_rank</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  

sp &lt;- c("Trochalopteron henrici gucenense",
        "Trochalopteron elliotii")
filter_by(sp, "scientificName")

filter_by(c("ITIS:1077358", "ITIS:175089"), "taxonID")

filter_by("Aves", "class")



</code></pre>

<hr>
<h2 id='filter_common'>Look up taxonomic information by common name</h2><span id='topic+filter_common'></span>

<h3>Description</h3>

<p>Look up taxonomic information by common name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_common(
  name,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  collect = TRUE,
  ignore_case = TRUE,
  db = td_connect()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_common_+3A_name">name</code></td>
<td>
<p>a character vector of common (vernacular English) names,
e.g. &quot;Humans&quot;</p>
</td></tr>
<tr><td><code id="filter_common_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="filter_common_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="filter_common_+3A_collect">collect</code></td>
<td>
<p>logical, default <code>TRUE</code>. Should we return an in-memory
data.frame (default, usually the most convenient), or a reference to
lazy-eval table on disk (useful for very large tables on which we may
first perform subsequent filtering operations.)</p>
</td></tr>
<tr><td><code id="filter_common_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
<tr><td><code id="filter_common_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame in the Darwin Core tabular format containing the
matching taxonomic entities.
</p>


<h3>See Also</h3>

<p>Other filter_by: 
<code><a href="#topic+filter_by">filter_by</a>()</code>,
<code><a href="#topic+filter_id">filter_id</a>()</code>,
<code><a href="#topic+filter_name">filter_name</a>()</code>,
<code><a href="#topic+filter_rank">filter_rank</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  

filter_common("Pied Tamarin")



  
</code></pre>

<hr>
<h2 id='filter_id'>Return a taxonomic table matching the requested ids</h2><span id='topic+filter_id'></span>

<h3>Description</h3>

<p>Return a taxonomic table matching the requested ids
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_id(
  id,
  provider = getOption("taxadb_default_provider", "itis"),
  type = c("taxonID", "acceptedNameUsageID"),
  version = latest_version(),
  collect = TRUE,
  db = td_connect()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_id_+3A_id">id</code></td>
<td>
<p>taxonomic id, in prefix format</p>
</td></tr>
<tr><td><code id="filter_id_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="filter_id_+3A_type">type</code></td>
<td>
<p>id type.  Can be <code>taxonID</code> or <code>acceptedNameUsageID</code>,
see details.</p>
</td></tr>
<tr><td><code id="filter_id_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="filter_id_+3A_collect">collect</code></td>
<td>
<p>logical, default <code>TRUE</code>. Should we return an in-memory
data.frame (default, usually the most convenient), or a reference to
lazy-eval table on disk (useful for very large tables on which we may
first perform subsequent filtering operations.)</p>
</td></tr>
<tr><td><code id="filter_id_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use <code>type="acceptedNameUsageID"</code> to return all rows
for which this ID is the accepted ID, including both synonyms and
and accepted names (since both all synonyms of a name share the
same <code>acceptedNameUsageID</code>.) Use <code>taxonID</code> (default) to only return
those rows for which the Scientific name corresponds to the <code>taxonID.</code>
</p>
<p>Some providers (e.g. ITIS) assign taxonIDs to synonyms, most others
only assign IDs to accepted names.  In the latter case, this means
requesting <code>taxonID</code> will only match accepted names, while requesting
matches to the <code>acceptedNameUsageID</code> will also return any known synonyms.
See examples.
</p>


<h3>Value</h3>

<p>a data.frame with id and name of all matching species
</p>


<h3>See Also</h3>

<p>Other filter_by: 
<code><a href="#topic+filter_by">filter_by</a>()</code>,
<code><a href="#topic+filter_common">filter_common</a>()</code>,
<code><a href="#topic+filter_name">filter_name</a>()</code>,
<code><a href="#topic+filter_rank">filter_rank</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  

filter_id(c("ITIS:1077358", "ITIS:175089"))
filter_id("ITIS:1077358", type="acceptedNameUsageID")


</code></pre>

<hr>
<h2 id='filter_name'>Look up taxonomic information by scientific name</h2><span id='topic+filter_name'></span>

<h3>Description</h3>

<p>Look up taxonomic information by scientific name
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_name(
  name,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  collect = TRUE,
  ignore_case = FALSE,
  db = td_connect()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_name_+3A_name">name</code></td>
<td>
<p>a character vector of scientific names, e.g. &quot;Homo sapiens&quot;</p>
</td></tr>
<tr><td><code id="filter_name_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="filter_name_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="filter_name_+3A_collect">collect</code></td>
<td>
<p>logical, default <code>TRUE</code>. Should we return an in-memory
data.frame (default, usually the most convenient), or a reference to
lazy-eval table on disk (useful for very large tables on which we may
first perform subsequent filtering operations.)</p>
</td></tr>
<tr><td><code id="filter_name_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
<tr><td><code id="filter_name_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most but not all authorities can match against both species level and
higher-level (or lower, e.g. subspecies or variety) taxonomic names.
The rank level is indicated by <code>taxonRank</code> column.
</p>
<p>Most authorities include both known synonyms and accepted names in the
<code>scientificName</code> column, (with the status indicated by <code>taxonomicStatus</code>).
This is convenient, as users will typically not know if the names they
have are synonyms or accepted names, but will want to get the match to the
accepted name and accepted ID in either case.
</p>


<h3>Value</h3>

<p>a data.frame in the Darwin Core tabular format containing the
matching taxonomic entities.
</p>


<h3>See Also</h3>

<p>Other filter_by: 
<code><a href="#topic+filter_by">filter_by</a>()</code>,
<code><a href="#topic+filter_common">filter_common</a>()</code>,
<code><a href="#topic+filter_id">filter_id</a>()</code>,
<code><a href="#topic+filter_rank">filter_rank</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  

sp &lt;- c("Trochalopteron henrici gucenense",
        "Trochalopteron elliotii")
filter_name(sp)



</code></pre>

<hr>
<h2 id='filter_rank'>Get all members (descendants) of a given rank level</h2><span id='topic+filter_rank'></span>

<h3>Description</h3>

<p>Get all members (descendants) of a given rank level
</p>


<h3>Usage</h3>

<pre><code class='language-R'>filter_rank(
  name,
  rank,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  collect = TRUE,
  ignore_case = TRUE,
  db = td_connect()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="filter_rank_+3A_name">name</code></td>
<td>
<p>taxonomic scientific name (e.g. &quot;Aves&quot;)</p>
</td></tr>
<tr><td><code id="filter_rank_+3A_rank">rank</code></td>
<td>
<p>taxonomic rank name. (e.g. &quot;class&quot;)</p>
</td></tr>
<tr><td><code id="filter_rank_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="filter_rank_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="filter_rank_+3A_collect">collect</code></td>
<td>
<p>logical, default <code>TRUE</code>. Should we return an in-memory
data.frame (default, usually the most convenient), or a reference to
lazy-eval table on disk (useful for very large tables on which we may
first perform subsequent filtering operations.)</p>
</td></tr>
<tr><td><code id="filter_rank_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
<tr><td><code id="filter_rank_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a data.frame in the Darwin Core tabular format containing the
matching taxonomic entities.
</p>


<h3>See Also</h3>

<p>Other filter_by: 
<code><a href="#topic+filter_by">filter_by</a>()</code>,
<code><a href="#topic+filter_common">filter_common</a>()</code>,
<code><a href="#topic+filter_id">filter_id</a>()</code>,
<code><a href="#topic+filter_name">filter_name</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  

filter_rank("Aves", "class")



</code></pre>

<hr>
<h2 id='fuzzy_filter'>Match names that start or contain a specified text string</h2><span id='topic+fuzzy_filter'></span>

<h3>Description</h3>

<p>Match names that start or contain a specified text string
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fuzzy_filter(
  name,
  by = c("scientificName", "vernacularName"),
  provider = getOption("taxadb_default_provider", "itis"),
  match = c("contains", "starts_with"),
  version = latest_version(),
  db = td_connect(),
  ignore_case = TRUE,
  collect = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="fuzzy_filter_+3A_name">name</code></td>
<td>
<p>vector of names (scientific or common, see <code>by</code>)
to be matched against.</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_by">by</code></td>
<td>
<p>a column name in the taxa_tbl (following Darwin Core Schema terms).
The filtering join is executed with this column as the joining variable.</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_match">match</code></td>
<td>
<p>should we match by names starting with the term or containing
the term anywhere in the name?</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
<tr><td><code id="fuzzy_filter_+3A_collect">collect</code></td>
<td>
<p>logical, default <code>TRUE</code>. Should we return an in-memory
data.frame (default, usually the most convenient), or a reference to
lazy-eval table on disk (useful for very large tables on which we may
first perform subsequent filtering operations.)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that fuzzy filter will be fast with an single or small number
of names, but will be slower if given a very large vector of
names to match, as unlike other <code>filter_</code> commands,
fuzzy matching requires separate SQL calls for each name.
As fuzzy matches should all be confirmed manually in any event, e.g.
not every common name containing &quot;monkey&quot; belongs to a primate species.
</p>
<p>This method utilizes the database operation <code style="white-space: pre;">&#8288;%like%&#8288;</code> to filter tables without
loading into memory.  Note that this does not support the use of regular
expressions at this time.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  

## match any common name containing:
name &lt;- c("woodpecker", "monkey")
fuzzy_filter(name, "vernacularName")

## match scientific name
fuzzy_filter("Chera", "scientificName",
             match = "starts_with")


</code></pre>

<hr>
<h2 id='get_ids'>get_ids</h2><span id='topic+get_ids'></span>

<h3>Description</h3>

<p>A drop-in replacement for <code style="white-space: pre;">&#8288;[taxize::get_ids()]&#8288;</code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_ids(
  names,
  provider = getOption("taxadb_default_provider", "itis"),
  format = c("prefix", "bare", "uri"),
  version = latest_version(),
  taxadb_db = td_connect(),
  ignore_case = FALSE,
  warn = TRUE,
  db = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_ids_+3A_names">names</code></td>
<td>
<p>a list of scientific names (which may
include higher-order ranks in most authorities).</p>
</td></tr>
<tr><td><code id="get_ids_+3A_provider">provider</code></td>
<td>
<p>abbreviation code for the provider.  See details.</p>
</td></tr>
<tr><td><code id="get_ids_+3A_format">format</code></td>
<td>
<p>Format for the returned identifier, one of
</p>

<ul>
<li> <p><code>prefix</code> (e.g. <code>NCBI:9606</code>, the default), or
</p>
</li>
<li> <p><code>bare</code> (e.g. <code>9606</code>, used in <code>taxize::get_ids()</code>),
</p>
</li>
<li> <p><code>uri</code> (e.g.
<code style="white-space: pre;">&#8288;http://ncbi.nlm.nih.gov/taxonomy/9606&#8288;</code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_ids_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  see <code style="white-space: pre;">&#8288;[avialable_releases()]&#8288;</code> for details.</p>
</td></tr>
<tr><td><code id="get_ids_+3A_taxadb_db">taxadb_db</code></td>
<td>
<p>Connection to from <code style="white-space: pre;">&#8288;[td_connect()]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="get_ids_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="get_ids_+3A_warn">warn</code></td>
<td>
<p>should we display warnings on NAs resulting from multiply-resolved matches?
(Unlike unmatched names, these NAs can usually be resolved manually via <code><a href="#topic+filter_id">filter_id()</a></code>)</p>
</td></tr>
<tr><td><code id="get_ids_+3A_db">db</code></td>
<td>
<p>previous name for <code>provider</code> argument, now deprecated</p>
</td></tr>
<tr><td><code id="get_ids_+3A_...">...</code></td>
<td>
<p>additional arguments (currently ignored)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Note that some taxize authorities: <code>nbn</code>, <code>tropicos</code>, and <code>eol</code>,
are not recognized by taxadb and will throw an error here. Meanwhile,
taxadb recognizes several authorities not known to <code style="white-space: pre;">&#8288;[taxize::get_ids()]&#8288;</code>.
Both include <code>itis</code>, <code>ncbi</code>, <code>col</code>, and <code>gbif</code>.
</p>
<p>Like all taxadb functions, this function will run
fastest if a local copy of the provider is installed in advance
using <code style="white-space: pre;">&#8288;[td_create()]&#8288;</code>.
</p>


<h3>Value</h3>

<p>a vector of IDs, of the same length as the input names Any
unmatched names or multiply-matched names will return as <a href="base.html#topic+NA">NA</a>s.
To resolve multi-matched names, use <code style="white-space: pre;">&#8288;[filter_name()]&#8288;</code> instead to return
a table with a separate row for each separate match of the input name.
</p>


<h3>See Also</h3>

<p>filter_name
</p>
<p>Other get: 
<code><a href="#topic+get_names">get_names</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

  

get_ids("Midas bicolor")
get_ids(c("Midas bicolor", "Homo sapiens"), format = "prefix")
get_ids("Midas bicolor", format = "uri")



  

</code></pre>

<hr>
<h2 id='get_names'>get_names</h2><span id='topic+get_names'></span>

<h3>Description</h3>

<p>Translate identifiers into scientific names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_names(
  id,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  format = c("guess", "prefix", "bare", "uri"),
  taxadb_db = td_connect(),
  db = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_names_+3A_id">id</code></td>
<td>
<p>a list of taxonomic identifiers.</p>
</td></tr>
<tr><td><code id="get_names_+3A_provider">provider</code></td>
<td>
<p>abbreviation code for the provider.  See details.</p>
</td></tr>
<tr><td><code id="get_names_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  see <code style="white-space: pre;">&#8288;[avialable_releases()]&#8288;</code> for details.</p>
</td></tr>
<tr><td><code id="get_names_+3A_format">format</code></td>
<td>
<p>Format for the returned identifier, one of
</p>

<ul>
<li> <p><code>prefix</code> (e.g. <code>NCBI:9606</code>, the default), or
</p>
</li>
<li> <p><code>bare</code> (e.g. <code>9606</code>, used in <code>taxize::get_ids()</code>),
</p>
</li>
<li> <p><code>uri</code> (e.g.
<code style="white-space: pre;">&#8288;http://ncbi.nlm.nih.gov/taxonomy/9606&#8288;</code>).
</p>
</li></ul>
</td></tr>
<tr><td><code id="get_names_+3A_taxadb_db">taxadb_db</code></td>
<td>
<p>Connection to from <code style="white-space: pre;">&#8288;[td_connect()]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="get_names_+3A_db">db</code></td>
<td>
<p>previous name for <code>provider</code> argument, now deprecated</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Like all taxadb functions, this function will run
fastest if a local copy of the provider is installed in advance
using <code style="white-space: pre;">&#8288;[td_create()]&#8288;</code>.
</p>


<h3>Value</h3>

<p>a vector of names, of the same length as the input ids. Any
unmatched IDs will return as <a href="base.html#topic+NA">NA</a>s.
</p>


<h3>See Also</h3>

<p>Other get: 
<code><a href="#topic+get_ids">get_ids</a>()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>



get_names(c("ITIS:1025094", "ITIS:1025103"), format = "prefix")



</code></pre>

<hr>
<h2 id='name_contains'>return all taxa in which scientific name contains the text provided</h2><span id='topic+name_contains'></span>

<h3>Description</h3>

<p>return all taxa in which scientific name contains the text provided
</p>


<h3>Usage</h3>

<pre><code class='language-R'>name_contains(
  name,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  db = td_connect(),
  ignore_case = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="name_contains_+3A_name">name</code></td>
<td>
<p>vector of names (scientific or common, see <code>by</code>)
to be matched against.</p>
</td></tr>
<tr><td><code id="name_contains_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="name_contains_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="name_contains_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
<tr><td><code id="name_contains_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
  
name_contains("Chera")

</code></pre>

<hr>
<h2 id='name_starts_with'>scientific name starts with</h2><span id='topic+name_starts_with'></span>

<h3>Description</h3>

<p>scientific name starts with
</p>


<h3>Usage</h3>

<pre><code class='language-R'>name_starts_with(
  name,
  provider = getOption("taxadb_default_provider", "itis"),
  version = latest_version(),
  db = td_connect(),
  ignore_case = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="name_starts_with_+3A_name">name</code></td>
<td>
<p>vector of names (scientific or common, see <code>by</code>)
to be matched against.</p>
</td></tr>
<tr><td><code id="name_starts_with_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="name_starts_with_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="name_starts_with_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
<tr><td><code id="name_starts_with_+3A_ignore_case">ignore_case</code></td>
<td>
<p>should we ignore case (capitalization) in matching names?
Can be significantly slower to run.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
  
name_starts_with("Chera")

</code></pre>

<hr>
<h2 id='taxa_tbl'>Return a reference to a given table in the taxadb database</h2><span id='topic+taxa_tbl'></span>

<h3>Description</h3>

<p>Return a reference to a given table in the taxadb database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxa_tbl(
  provider = getOption("taxadb_default_provider", "itis"),
  schema = c("dwc", "common"),
  version = latest_version(),
  db = td_connect()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="taxa_tbl_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="taxa_tbl_+3A_schema">schema</code></td>
<td>
<p>One of &quot;dwc&quot; (for Darwin Core data) or &quot;common&quot;
(for the Common names table.)</p>
</td></tr>
<tr><td><code id="taxa_tbl_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="taxa_tbl_+3A_db">db</code></td>
<td>
<p>a connection to the taxadb database. See details.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>
  

  ## default schema is the dwc table
  taxa_tbl()

  ## common names table
  taxa_tbl(schema = "common")




</code></pre>

<hr>
<h2 id='taxadb_dir'>Show the taxadb directory</h2><span id='topic+taxadb_dir'></span>

<h3>Description</h3>

<p>Show the taxadb directory
</p>


<h3>Usage</h3>

<pre><code class='language-R'>taxadb_dir()
</code></pre>


<h3>Details</h3>

<p>NOTE: after upgrading <code>duckdb</code>, a user may need to delete any
existing databases created with the previous version. An efficient
way to do so is <code>unlink(taxadb::taxadb_dir(), TRUE)</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## show the directory
taxadb_dir()
## Purge the local db
unlink(taxadb::taxadb_dir(), TRUE)

</code></pre>

<hr>
<h2 id='td_connect'>Connect to the taxadb database</h2><span id='topic+td_connect'></span>

<h3>Description</h3>

<p>Connect to the taxadb database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>td_connect(dbdir = NULL, driver = NULL, read_only = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="td_connect_+3A_dbdir">dbdir</code></td>
<td>
<p>Path to the database. no longer needed</p>
</td></tr>
<tr><td><code id="td_connect_+3A_driver">driver</code></td>
<td>
<p>deprecated, ignored.  driver will always be duckdb.</p>
</td></tr>
<tr><td><code id="td_connect_+3A_read_only">read_only</code></td>
<td>
<p>deprecated, driver is always read-only.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function provides a default database connection for
<code>taxadb</code>. Note that you can use <code>taxadb</code> with any DBI-compatible database
connection  by passing the connection object directly to <code>taxadb</code>
functions using the <code>db</code> argument. <code>td_connect()</code> exists only to provide
reasonable automatic defaults based on what is available on your system.
</p>
<p>For performance reasons, this function will also cache and restore the
existing database connection, making repeated calls to <code>td_connect()</code> much
faster and more failsafe than repeated calls to <a href="DBI.html#topic+dbConnect">DBI::dbConnect</a>
</p>


<h3>Value</h3>

<p>Returns a DBI <code>connection</code> to the default duckdb database
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
## OPTIONAL: you can first set an alternative home location,
## such as a temporary directory:
Sys.setenv(TAXADB_HOME=file.path(tempdir(), "taxadb"))

## Connect to the database:
db &lt;- td_connect()


</code></pre>

<hr>
<h2 id='td_create'>create a local taxonomic database</h2><span id='topic+td_create'></span>

<h3>Description</h3>

<p>create a local taxonomic database
</p>


<h3>Usage</h3>

<pre><code class='language-R'>td_create(
  provider = getOption("taxadb_default_provider", "itis"),
  schema = c("dwc", "common"),
  version = latest_version(),
  overwrite = NULL,
  lines = NULL,
  dbdir = NULL,
  db = td_connect()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="td_create_+3A_provider">provider</code></td>
<td>
<p>a list (character vector) of provider(s) to be included in the
database. By default, will install <code>itis</code>.  See details for a list of
recognized provider.
available provider automatically.</p>
</td></tr>
<tr><td><code id="td_create_+3A_schema">schema</code></td>
<td>
<p>One of &quot;dwc&quot; (for Darwin Core data) or &quot;common&quot;
(for the Common names table.)</p>
</td></tr>
<tr><td><code id="td_create_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="td_create_+3A_overwrite">overwrite</code></td>
<td>
<p>Should we overwrite existing tables? Default is <code>TRUE</code>.
Change to &quot;ask&quot; for interactive interface, or <code>TRUE</code> to force overwrite
(i.e. updating a local database upon new release.)</p>
</td></tr>
<tr><td><code id="td_create_+3A_lines">lines</code></td>
<td>
<p>number of lines that can be safely read in to memory at once.
Leave at default or increase for faster importing if you have
plenty of spare RAM.</p>
</td></tr>
<tr><td><code id="td_create_+3A_dbdir">dbdir</code></td>
<td>
<p>a location on your computer where the database
should be installed. Defaults to user data directory given by
<code style="white-space: pre;">&#8288;[tools::R_user_dir()]&#8288;</code>.</p>
</td></tr>
<tr><td><code id="td_create_+3A_db">db</code></td>
<td>
<p>connection to a database.  By default, taxadb will set up its own
fast database connection.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Authorities currently recognized by taxadb are:
</p>

<ul>
<li> <p><code>itis</code>: Integrated Taxonomic Information System, <code style="white-space: pre;">&#8288;https://www.itis.gov&#8288;</code>
</p>
</li>
<li> <p><code>ncbi</code>:  National Center for Biotechnology Information,
<a href="https://www.ncbi.nlm.nih.gov/taxonomy">https://www.ncbi.nlm.nih.gov/taxonomy</a>
</p>
</li>
<li> <p><code>col</code>: Catalogue of Life, <a href="http://www.catalogueoflife.org/">http://www.catalogueoflife.org/</a>
</p>
</li>
<li> <p><code>gbif</code>: Global Biodiversity Information Facility, <a href="https://www.gbif.org/">https://www.gbif.org/</a>
</p>
</li>
<li> <p><code>ott</code>: OpenTree Taxonomy:
<a href="https://github.com/OpenTreeOfLife/reference-taxonomy">https://github.com/OpenTreeOfLife/reference-taxonomy</a>
</p>
</li>
<li> <p><code>iucn</code>: IUCN Red List, https://iucnredlist.org
</p>
</li>
<li> <p><code>itis_test</code>: a small subset of ITIS, cached locally with the package for testing purposes only
</p>
</li></ul>



<h3>Value</h3>

<p>path where database has been installed (invisibly)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  
  ## Install the ITIS database
  td_create()

  ## force re-install:
  td_create( overwrite = TRUE)


</code></pre>

<hr>
<h2 id='td_disconnect'>Disconnect from the taxadb database.</h2><span id='topic+td_disconnect'></span>

<h3>Description</h3>

<p>Disconnect from the taxadb database.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>td_disconnect(db = td_connect())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="td_disconnect_+3A_db">db</code></td>
<td>
<p>database connection</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function manually closes a connection to the <code>taxadb</code> database.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

## Disconnect from the database:
td_disconnect()


</code></pre>

<hr>
<h2 id='tl_import'>Import taxonomic database tables</h2><span id='topic+tl_import'></span>

<h3>Description</h3>

<p>Downloads the requested taxonomic data tables and return a local path
to the data in <code>tsv.gz</code> format.  Downloads are cached and identified by
content hash so that <code>tl_import</code> will not attempt to download the
same file multiple times.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tl_import(
  provider = getOption("tl_default_provider", "itis"),
  schema = c("dwc", "common"),
  version = latest_version(),
  prov = prov_cache()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="tl_import_+3A_provider">provider</code></td>
<td>
<p>from which provider should the hierarchy be returned?
Default is 'itis', which can also be configured using <code style="white-space: pre;">&#8288;options(default_taxadb_provider=...")&#8288;</code>.
See <code style="white-space: pre;">&#8288;[td_create]&#8288;</code> for a list of recognized providers.</p>
</td></tr>
<tr><td><code id="tl_import_+3A_schema">schema</code></td>
<td>
<p>One of &quot;dwc&quot; (for Darwin Core data) or &quot;common&quot;
(for the Common names table.)</p>
</td></tr>
<tr><td><code id="tl_import_+3A_version">version</code></td>
<td>
<p>Which version of the taxadb provider database should we use?
defaults to latest.  See <a href="#topic+tl_import">tl_import</a> for details.</p>
</td></tr>
<tr><td><code id="tl_import_+3A_prov">prov</code></td>
<td>
<p>Address (URL) to provenance record</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>tl_import</code> parses a schema.org record to determine the correct version
to download. If offline, <code>tl_import</code> will attempt to resolve against
it's own provenance cache. Users can also examine / parse the prov
JSON-LD file directly to determine the provenance of the data products
used.
</p>


<h3>Value</h3>

<p>path(s) to the downloaded files in the cache
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

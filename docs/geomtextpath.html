<!DOCTYPE html><html><head><title>Help for package geomtextpath</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {geomtextpath}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#geomtextpath-package'><p>geomtextpath: Curved Text in 'ggplot2'</p></a></li>
<li><a href='#coord_curvedpolar'><p>Polar coordinates with curved text on x axis</p></a></li>
<li><a href='#geom_textabline'><p>Labelled reference lines: horizontal, vertical, and diagonal</p></a></li>
<li><a href='#geom_textcontour'><p>Produce labelled contour lines in  <span class="pkg">ggplot2</span></p></a></li>
<li><a href='#geom_textcurve'><p>Text on a curve</p></a></li>
<li><a href='#geom_textdensity'><p>Produce smoothly labelled density plots in <span class="pkg">ggplot2</span></p></a></li>
<li><a href='#geom_textdensity2d'><p>Produce labelled contour lines of 2D density in  <span class="pkg">ggplot2</span></p></a></li>
<li><a href='#geom_textpath'><p>Add Curved Text Along Paths in <span class="pkg">ggplot2</span></p></a></li>
<li><a href='#geom_textsegment'><p>Add text to line segments</p></a></li>
<li><a href='#geom_textsf'><p>Visualise sf objects with labels</p></a></li>
<li><a href='#geom_textsmooth'><p>Labelled conditional means in <span class="pkg">ggplot2</span></p></a></li>
<li><a href='#GeomTextpath'><p>The Geom object for a textpath</p></a></li>
<li><a href='#guide_axis_textpath'><p>Textpath axis</p></a></li>
<li><a href='#scale_hjust_discrete'><p>justification scales</p></a></li>
<li><a href='#sibling_layers'><p>Sibling layers</p></a></li>
<li><a href='#static_text_params'><p>Set static parameters</p></a></li>
<li><a href='#textpathGrob'><p>Draw text on a path.</p></a></li>
<li><a href='#waterways'><p>A simple features data frame of three Scottish waterways</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Curved Text in 'ggplot2'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.4</td>
</tr>
<tr>
<td>Description:</td>
<td>A 'ggplot2' extension that allows text to follow curved paths.
    Curved text makes it easier to directly label paths or neatly annotate in 
    polar co-ordinates.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://allancameron.github.io/geomtextpath/">https://allancameron.github.io/geomtextpath/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/AllanCameron/geomtextpath/issues">https://github.com/AllanCameron/geomtextpath/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>Depends:</td>
<td>ggplot2 (&ge; 3.5.0), R (&ge; 3.6.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>grid, scales, systemfonts, rlang, textshaping (&ge; 0.4.0)</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat (&ge; 3.0.0), covr, knitr, rmarkdown, ragg, roxygen2,
sf, xml2, markdown (&ge; 1.3)</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Collate:</td>
<td>'borrowed_gridtext.R' 'coord_curvedpolar.R' 'data.R'
'text_params.R' 'geom_textpath.R' 'geom_labelpath.R'
'geom_textsegment.R' 'geom_textabline.R' 'geom_textcontour.R'
'geom_textcurve.R' 'geom_textdensity.R' 'utils.R'
'geom_textdensity2d.R' 'geom_texthline.R' 'geom_textsf.R'
'geom_textsmooth.R' 'geom_textvline.R' 'geomtextpath-package.R'
'grob_labelpath.R' 'grob_textpath.R' 'guide_axis_textpath.R'
'onload.R' 'path_handling.R' 'scales.R' 'sf_helpers.R'
'smoothing.R' 'text_helpers.R' 'text_placement.R'
'trig_helpers.R'</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-12 19:55:02 UTC; Administrator</td>
</tr>
<tr>
<td>Author:</td>
<td>Allan Cameron [aut, cre],
  Teun van den Brand
    <a href="https://orcid.org/0000-0002-9335-7468"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Allan Cameron &lt;Allan.Cameron@nhs.scot&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-13 06:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='geomtextpath-package'>geomtextpath: Curved Text in 'ggplot2'</h2><span id='topic+geomtextpath'></span><span id='topic+geomtextpath-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>A 'ggplot2' extension that allows text to follow curved paths. Curved text makes it easier to directly label paths or neatly annotate in polar co-ordinates.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Allan Cameron <a href="mailto:Allan.Cameron@nhs.scot">Allan.Cameron@nhs.scot</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Teun van den Brand <a href="mailto:tahvdbrand@gmail.com">tahvdbrand@gmail.com</a> (<a href="https://orcid.org/0000-0002-9335-7468">ORCID</a>)
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://allancameron.github.io/geomtextpath/">https://allancameron.github.io/geomtextpath/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/AllanCameron/geomtextpath/issues">https://github.com/AllanCameron/geomtextpath/issues</a>
</p>
</li></ul>


<hr>
<h2 id='coord_curvedpolar'>Polar coordinates with curved text on x axis</h2><span id='topic+coord_curvedpolar'></span>

<h3>Description</h3>

<p>Polar co-ordinates in 'ggplot2' help to create a range of circular plots,
which can be used to present data in a visually appealing, user-friendly way.
However, the standard 'coord_polar' uses a 'textGrob' to render the labels
on the circumferential (theta) axis, meaning that labels do not rotate or
curve in line with the axis. 'coord_curvedpolar' aims to be identical to
'coord_polar', except that the text on the theta axis follows the curve
of the plot, correcting automatically for resizing to preserve letter spacing
and size.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>coord_curvedpolar(
  theta = "x",
  start = 0,
  direction = 1,
  clip = "on",
  halign = c("center")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="coord_curvedpolar_+3A_theta">theta</code></td>
<td>
<p>variable to map angle to ('x' or 'y')</p>
</td></tr>
<tr><td><code id="coord_curvedpolar_+3A_start">start</code></td>
<td>
<p>Offset of starting point from 12 o'clock in radians. Offset
is applied clockwise or anticlockwise depending on value of 'direction'.</p>
</td></tr>
<tr><td><code id="coord_curvedpolar_+3A_direction">direction</code></td>
<td>
<p>1, clockwise; -1, anticlockwise</p>
</td></tr>
<tr><td><code id="coord_curvedpolar_+3A_clip">clip</code></td>
<td>
<p>Should drawing be clipped to the extent of the plot panel? A
setting of '&quot;on&quot;' (the default) means yes, and a setting of '&quot;off&quot;'
means no. For details, please see ['coord_cartesian()'].</p>
</td></tr>
<tr><td><code id="coord_curvedpolar_+3A_halign">halign</code></td>
<td>
<p>A <code>character(1)</code> describing how multi-line text should be
justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'Coord' ggproto object that can be added to a plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# A pie chart = stacked bar chart + polar coordinates
pie &lt;- ggplot(mtcars, aes(x = factor(1), fill = factor(cyl))) +
 geom_bar(width = 1)
 pie + coord_curvedpolar(theta = "y")

# Demonstrating curved category labels
p &lt;- ggplot(data.frame(x = paste("Category label", 1:5), y = runif(5)),
            aes(x, y, fill = x)) +
       geom_col() +
       theme_bw() +
       theme(panel.border = element_blank(),
             legend.position = "none",
             axis.text.x = element_text(size = 10, vjust = 0.5))

# Standard bar chart in Cartesian Co-ordinates
p

# Standard coord_polar axis labels
p + coord_polar()

# Curved polar co-ordinate labels
p + coord_curvedpolar()

</code></pre>

<hr>
<h2 id='geom_textabline'>Labelled reference lines: horizontal, vertical, and diagonal</h2><span id='topic+geom_textabline'></span><span id='topic+geom_labelabline'></span><span id='topic+geom_texthline'></span><span id='topic+geom_labelhline'></span><span id='topic+geom_textvline'></span><span id='topic+GeomTextvline'></span><span id='topic+geom_labelvline'></span><span id='topic+GeomLabelvline'></span>

<h3>Description</h3>

<p>These geoms add labelled reference lines to a plot, either
horizontal, vertical, or diagonal (specified by slope and intercept).
These are useful for annotating plots. They are the labelled equivalent of
the <code>geom_vline</code>, <code>geom_hline</code> and <code>geom_abline</code> from ggplot2.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textabline(
  mapping = NULL,
  data = NULL,
  slope,
  intercept,
  ...,
  na.rm = FALSE,
  show.legend = NA
)

geom_labelabline(
  mapping = NULL,
  data = NULL,
  slope,
  intercept,
  ...,
  straight = NULL,
  label.r = unit(0.15, "lines"),
  label.padding = unit(0.25, "lines"),
  na.rm = FALSE,
  show.legend = NA
)

geom_texthline(
  mapping = NULL,
  data = NULL,
  yintercept,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_labelhline(
  mapping = NULL,
  data = NULL,
  yintercept,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  straight = NULL,
  label.r = unit(0.15, "lines"),
  label.padding = unit(0.25, "lines")
)

geom_textvline(
  mapping = NULL,
  data = NULL,
  xintercept,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_labelvline(
  mapping = NULL,
  data = NULL,
  xintercept,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  straight = NULL,
  label.r = unit(0.15, "lines"),
  label.padding = unit(0.25, "lines")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textabline_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_slope">slope</code></td>
<td>
<p>The slope of the abline</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_intercept">intercept</code></td>
<td>
<p>the point on the y axis at which the abline crosses it.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label on a straight baseline and if <code>FALSE</code> (default), lets individual letters follow the curve. This might be helpful for noisy paths.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths the text without affecting the line portion of the geom. The default value of <code>0</code> means no smoothing is applied.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textabline_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_straight">straight</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label
on a straight baseline and if <code>FALSE</code> (default), lets individual letters
follow the curve. This might be helpful for noisy paths.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_yintercept">yintercept</code></td>
<td>
<p>The value at which the line should intercept the y axis</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textabline_+3A_xintercept">xintercept</code></td>
<td>
<p>The value at which the line should intercept the y axis</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Although reference lines are straight, and therefore don't lend themselves
to curved text, these geom layers are included in this package because they
make labelling reference lines easier, allow automatic line breaking if
desired, and will translate nicely into polar co-ordinates.
</p>
<p>These geoms act slightly differently from other geoms. You can supply the
parameters in two ways: either as arguments to the layer function,
or via aesthetics. If you use arguments, e.g.
<code>geom_textabline(label = "my label", intercept = 0, slope = 1)</code>, then behind
the scenes the geom makes a new data frame containing just the data you've
supplied. That means that the lines will be the same in all facets; if you
want them to vary across facets, construct the data frame yourself and use
aesthetics.
</p>
<p>Unlike most other geoms, these geoms do not inherit aesthetics from the plot
default, because they do not understand x and y aesthetics which are
commonly set in the plot. They also do not affect the x and y scales.
</p>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p>The <code>geom_textabline()</code>, <code>geom_texthline()</code> and <code>geom_textvline()</code> understand
the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li><p><strong><code>label</code></strong>
</p>
</li>
<li><p><strong><code>slope</code></strong> (<code>geom_textabline()</code> and <code>geom_labelabline()</code>)
</p>
</li>
<li><p><strong><code>intercept</code></strong> (<code>geom_textabline()</code> and
<code>geom_labelabline()</code>)
</p>
</li>
<li><p><strong><code>yintercept</code></strong> (<code>geom_texthline()</code> and
<code>geom_labelhline()</code>)
</p>
</li>
<li><p><strong><code>xintercept</code></strong> (<code>geom_textvline()</code> and
<code>geom_labelvline()</code>)
</p>
</li>
<li><p><code>alpha</code>
</p>
</li>
<li><p><code>angle</code>
</p>
</li>
<li><p><code>colour</code>
</p>
</li>
<li><p><code>family</code>
</p>
</li>
<li><p><code>fontface</code>
</p>
</li>
<li><p><code>group</code>
</p>
</li>
<li><p><code>hjust</code>
</p>
</li>
<li><p><code>vjust</code>
</p>
</li>
<li><p><code>linecolour</code>
</p>
</li>
<li><p><code>lineheight</code>
</p>
</li>
<li><p><code>linetype</code>
</p>
</li>
<li><p><code>linewidth</code>
</p>
</li>
<li><p><code>size</code>
</p>
</li>
<li><p><code>spacing</code>
</p>
</li>
<li><p><code>textcolour</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labelabline()</code>,
<code>geom_labelhline()</code> and <code>geom_labelvline()</code> also understand:
</p>

<ul>
<li><p><code>boxcolour</code>
</p>
</li>
<li><p><code>boxlinetype</code>
</p>
</li>
<li><p><code>boxlinewidth</code>
</p>
</li>
<li><p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing of text, which is
called 'tracking' in typography. The default is 0 and units are measured in
1/1000 em. Numbers greater than zero increase the spacing, whereas negative
numbers decrease the spacing.
</p>


<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(mtcars, aes(mpg, disp)) +
geom_point() +
geom_texthline(yintercept = 200, label = "displacement threshold",
               hjust = 0.8, color = "red4") +
geom_textvline(xintercept = 20, label = "consumption threshold", hjust = 0.8,
               linetype = 2, vjust = 1.3, color = "blue4") +
geom_textabline(slope = 15, intercept = -100, label = "partition line",
                color = "green4", hjust = 0.6, vjust = -0.2)
</code></pre>

<hr>
<h2 id='geom_textcontour'>Produce labelled contour lines in  <span class="pkg">ggplot2</span></h2><span id='topic+geom_textcontour'></span><span id='topic+geom_labelcontour'></span><span id='topic+stat_textcontour'></span>

<h3>Description</h3>

<p>Contour lines are available already in <span class="pkg">ggplot2</span>, but the
native <code><a href="ggplot2.html#topic+geom_contour">geom_contour</a></code> does not allow the lines to
be labelled with the level of each contour. <code>geom_textcontour</code> adds this
ability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textcontour(
  mapping = NULL,
  data = NULL,
  stat = "textcontour",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  bins = NULL,
  binwidth = NULL,
  breaks = NULL,
  ...
)

geom_labelcontour(
  mapping = NULL,
  data = NULL,
  stat = "textcontour",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  bins = NULL,
  binwidth = NULL,
  breaks = NULL,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  arrow = NULL
)

stat_textcontour(
  mapping = NULL,
  data = NULL,
  geom = "textcontour",
  position = "identity",
  ...,
  bins = NULL,
  binwidth = NULL,
  breaks = NULL,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textcontour_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_bins">bins</code></td>
<td>
<p>Number of contour bins. Overridden by <code>breaks</code>.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_binwidth">binwidth</code></td>
<td>
<p>The width of the contour bins. Overridden by <code>bins</code>.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_breaks">breaks</code></td>
<td>
<p>One of:
</p>

<ul>
<li><p> Numeric vector to set the contour breaks
</p>
</li>
<li><p> A function that takes the range of the data and binwidth as input
and returns breaks as output. A function can be created from a formula
(e.g. ~ fullseq(.x, .y)).
</p>
</li></ul>

<p>Overrides <code>binwidth</code> and <code>bins</code>. By default, this is a vector of length
ten with <code><a href="base.html#topic+pretty">pretty()</a></code> breaks.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label on a straight baseline and if <code>FALSE</code> (default), lets individual letters follow the curve. This might be helpful for noisy paths.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths the text without affecting the line portion of the geom. The default value of <code>0</code> means no smoothing is applied.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textcontour_+3A_geom">geom</code></td>
<td>
<p>The geometric object to use display the data</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textcontour()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labelcontour()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>Computed variables</h3>

<p>The variable 'level' is a numeric or a factor
depending on whether lines or bands are calculated.
</p>

<dl>
<dt>'level'</dt><dd><p>Height of contour. This is a numeric vector that
represents bin boundaries.
</p>
</dd>
</dl>



<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>df &lt;- expand.grid(x = seq(nrow(volcano)), y = seq(ncol(volcano)))
df$z &lt;- as.vector(volcano)

ggplot(df, aes(x, y, z = z)) +
  geom_contour_filled(bins = 6, alpha = 0.6) +
  geom_textcontour(bins = 6, size = 2.5, padding = unit(0.05, "in")) +
  scale_fill_manual(values = terrain.colors(11)) +
  theme_classic() +
  theme(legend.position = "none")
</code></pre>

<hr>
<h2 id='geom_textcurve'>Text on a curve</h2><span id='topic+geom_textcurve'></span><span id='topic+geom_labelcurve'></span>

<h3>Description</h3>

<p><code>geom_textcurve()</code> and <code>geom_labelcurve()</code> draw text on curved lines. See
the underlying <code><a href="grid.html#topic+grid.curve">grid::curveGrob()</a></code> for the parameters that
control the curve.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textcurve(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  curvature = 0.5,
  angle = 90,
  ncp = 5,
  arrow = NULL,
  lineend = "butt",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_labelcurve(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  curvature = 0.5,
  angle = 90,
  ncp = 5,
  arrow = NULL,
  lineend = "butt",
  label.r = unit(0.15, "lines"),
  label.padding = unit(0.25, "lines"),
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textcurve_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label on a straight baseline and if <code>FALSE</code> (default), lets individual letters follow the curve. This might be helpful for noisy paths.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_curvature">curvature</code></td>
<td>
<p>A numeric value giving the amount of curvature.
Negative values produce left-hand curves, positive values
produce right-hand curves, and zero produces a straight line.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_angle">angle</code></td>
<td>
<p>A numeric value between 0 and 180,
giving an amount to skew the control
points of the curve.  Values less than 90 skew the curve towards
the start point and values greater than 90 skew the curve
towards the end point.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_ncp">ncp</code></td>
<td>
<p>The number of control points used to draw the curve.
More control points creates a smoother curve.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_textcurve_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textcurve()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>xend</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>yend</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labelcurve()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>t &lt;- seq(0, 2 * pi, length.out = 4)[-1]

df &lt;- data.frame(
  x = cos(t),
  y = sin(t),
  xend = cos(t + 1.8),
  yend = sin(t + 1.8)
)

ggplot(df, aes(x, y, xend = xend, yend = yend)) +
  geom_textcurve(
    label = c(
      "A chicken lays an egg",
      "A chick becomes a chicken",
      "An egg hatches into a chick"
    ),
    curvature = 0.5, vjust = 2,
    arrow = arrow(ends = "first")
  ) +
  coord_equal(xlim = c(-1.1, 1.1), ylim = c(-1.1, 1.1))
</code></pre>

<hr>
<h2 id='geom_textdensity'>Produce smoothly labelled density plots in <span class="pkg">ggplot2</span></h2><span id='topic+geom_textdensity'></span><span id='topic+geom_labeldensity'></span>

<h3>Description</h3>

<p>Line plots of smoothed kernel density estimates are available
in <span class="pkg">ggplot2</span> via <code><a href="ggplot2.html#topic+geom_density">geom_density</a></code>. This geom
layer simply adds a text label to each curve that follow the contour of
the density line when used as a drop-in replacement for
<code><a href="ggplot2.html#topic+geom_density">geom_density</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textdensity(
  mapping = NULL,
  data = NULL,
  stat = "density",
  position = "identity",
  ...,
  bw = "nrd0",
  adjust = 1,
  kernel = "gaussian",
  n = 512,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_labeldensity(
  mapping = NULL,
  data = NULL,
  stat = "density",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  bw = "nrd0",
  adjust = 1,
  kernel = "gaussian",
  n = 512,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  arrow = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textdensity_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label on a straight baseline and if <code>FALSE</code> (default), lets individual letters follow the curve. This might be helpful for noisy paths.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths the text without affecting the line portion of the geom. The default value of <code>0</code> means no smoothing is applied.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_bw">bw</code></td>
<td>
<p>The smoothing bandwidth to be used.
If numeric, the standard deviation of the smoothing kernel.
If character, a rule to choose the bandwidth, as listed in
<code><a href="stats.html#topic+bandwidth">stats::bw.nrd()</a></code>. Note that automatic calculation of the bandwidth does
not take weights into account.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_adjust">adjust</code></td>
<td>
<p>A multiplicate bandwidth adjustment. This makes it possible
to adjust the bandwidth while still using the a bandwidth estimator.
For example, <code>adjust = 1/2</code> means use half of the default bandwidth.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_kernel">kernel</code></td>
<td>
<p>Kernel. See list of available kernels in <code><a href="stats.html#topic+density">density()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_n">n</code></td>
<td>
<p>number of equally spaced points at which the density is to be
estimated, should be a power of two, see <code><a href="stats.html#topic+density">density()</a></code> for
details</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_textdensity_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textdensity()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labeldensity()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(iris, aes(Sepal.Length, label = Species, color = Species)) +
  geom_textdensity()
</code></pre>

<hr>
<h2 id='geom_textdensity2d'>Produce labelled contour lines of 2D density in  <span class="pkg">ggplot2</span></h2><span id='topic+geom_textdensity2d'></span><span id='topic+geom_labeldensity2d'></span>

<h3>Description</h3>

<p>Contour lines representing 2D density are available already in
<span class="pkg">ggplot2</span>, but the native <code><a href="ggplot2.html#topic+geom_density_2d">geom_density_2d</a></code>
does not allow the lines to be labelled with the level of each contour.
<code>geom_textdensity2d</code> adds this ability.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textdensity2d(
  mapping = NULL,
  data = NULL,
  stat = "density_2d",
  position = "identity",
  ...,
  contour_var = "density",
  n = 100,
  h = NULL,
  adjust = c(1, 1),
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_labeldensity2d(
  mapping = NULL,
  data = NULL,
  stat = "density_2d",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  contour_var = "density",
  n = 100,
  h = NULL,
  adjust = c(1, 1),
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  arrow = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textdensity2d_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label on a straight baseline and if <code>FALSE</code> (default), lets individual letters follow the curve. This might be helpful for noisy paths.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths the text without affecting the line portion of the geom. The default value of <code>0</code> means no smoothing is applied.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_contour_var">contour_var</code></td>
<td>
<p>Character string identifying the variable to contour
by. Can be one of <code>"density"</code>, <code>"ndensity"</code>, or <code>"count"</code>. See the section
on computed variables for details.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_n">n</code></td>
<td>
<p>Number of grid points in each direction.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_h">h</code></td>
<td>
<p>Bandwidth (vector of length two). If <code>NULL</code>, estimated
using <code><a href="MASS.html#topic+bandwidth.nrd">MASS::bandwidth.nrd()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_adjust">adjust</code></td>
<td>
<p>A multiplicative bandwidth adjustment to be used if 'h' is
'NULL'. This makes it possible to adjust the bandwidth while still
using the a bandwidth estimator. For example, <code>adjust = 1/2</code> means
use half of the default bandwidth.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_textdensity2d_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textdensity2d()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labeldensity2d()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>set.seed(1)

df  &lt;- data.frame(x = rnorm(100), y = rnorm(100))

ggplot(df, aes(x, y)) +
  geom_textdensity2d() +
  theme_classic()
</code></pre>

<hr>
<h2 id='geom_textpath'>Add Curved Text Along Paths in <span class="pkg">ggplot2</span></h2><span id='topic+geom_textpath'></span><span id='topic+geom_textline'></span><span id='topic+geom_labelpath'></span><span id='topic+geom_labelline'></span>

<h3>Description</h3>

<p>The existing text-based geom layers in <span class="pkg">ggplot2</span>
(<code><a href="ggplot2.html#topic+geom_text">geom_text()</a></code> and
<code><a href="ggplot2.html#topic+geom_text">geom_label()</a></code>) are ideal for the majority of plots,
since typically textual annotations are short, straight and in line with the
axes of the plot. However, there are some occasions when it is useful to have
text follow a curved path. This may be to create or recreate a specific
visual effect, or it may be to label a circular / polar plot in a more
&quot;natural&quot; way.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textpath(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  text_only = FALSE,
  gap = NA,
  upright = TRUE,
  halign = "center",
  offset = NULL,
  parse = FALSE,
  straight = FALSE,
  padding = unit(0.05, "inch"),
  text_smoothing = 0,
  rich = FALSE,
  arrow = NULL,
  remove_long = FALSE
)

geom_textline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  orientation = NA,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  arrow = NULL
)

geom_labelpath(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  text_only = FALSE,
  gap = FALSE,
  upright = TRUE,
  halign = "center",
  offset = NULL,
  parse = FALSE,
  straight = FALSE,
  padding = unit(0.05, "inch"),
  text_smoothing = 0,
  rich = FALSE,
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  arrow = NULL,
  remove_long = FALSE
)

geom_labelline(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...,
  lineend = "butt",
  linejoin = "round",
  linemitre = 10,
  text_only = FALSE,
  gap = FALSE,
  upright = TRUE,
  halign = "center",
  offset = NULL,
  parse = FALSE,
  straight = FALSE,
  padding = unit(0.05, "inch"),
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  arrow = NULL,
  remove_long = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textpath_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>. These are
often aesthetics, used to set an aesthetic to a fixed value, like
<code>colour = "red"</code> or <code>size = 3</code>. They may also be parameters
to the paired geom/stat.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_linemitre">linemitre</code></td>
<td>
<p>Line mitre limit (number greater than 1).</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_text_only">text_only</code></td>
<td>
<p>A <code>logical(1)</code> indicating whether the path part should be
plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any
parameters or aesthetics relating to the drawing of the path will be
ignored.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_gap">gap</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections
with a gap on either side of the label. If <code>FALSE</code>, the path is plotted
as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string
has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label
variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_upright">upright</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text
where the majority of letters would upside down along the path, to improve
legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_halign">halign</code></td>
<td>
<p>A <code>character(1)</code> describing how multi-line text should be
justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_offset">offset</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code>
parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument
overrules the <code>vjust</code> setting.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_parse">parse</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into
expressions, allowing for plotmath syntax to be used.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_straight">straight</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label
on a straight baseline and if <code>FALSE</code> (default), lets individual letters
follow the curve. This might be helpful for noisy paths.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_padding">padding</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
padding between the text and the path when the <code>gap</code> parameter trims the
path.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_text_smoothing">text_smoothing</code></td>
<td>
<p>a <code>numeric(1)</code> value between 0 and 100 that smooths
the text without affecting the line portion of the geom. The default value
of <code>0</code> means no smoothing is applied.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_rich">rich</code></td>
<td>
<p>A <code>logical(1)</code> whether to interpret the text as html/markdown
formatted rich text. Default: <code>FALSE</code>. See also the rich text section of
the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_remove_long">remove_long</code></td>
<td>
<p>if TRUE, labels that are longer than their associated
path will be removed.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_orientation">orientation</code></td>
<td>
<p>The orientation of the layer. The default (NA)
automatically determines the orientation from the aesthetic mapping.
In the rare event that this fails it can be given explicitly by
setting orientation to either &quot;x&quot; or &quot;y&quot;. See the Orientation section
for more detail.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="geom_textpath_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
</table>


<h3>Details</h3>



<h4>Limitations</h4>

<p>There are limitations inherent in the plotting of text elements in
<span class="pkg">ggplot2</span> due to the way that the underlying <span class="pkg">grid</span> graphics handles
text. A text string is dealt with as a zero-width object, and therefore the
rotation and spacing of the letters making up the string can only be dealt
with by treating each letter separately.
</p>
<p>It is important to realise that the letters are only rotated, and do not
undergo any change in shape. Thus, for example, large text appearing on
convex curves will not be deformed so that individual letters are narrower at
the bottom and wider at the top. Doing so would require reinterpreting the
letters as polygons.
</p>
<p>Another issue is that we may wish to use a short curved label on a much
longer path. Spacing the letters equally along the path would mean there is
too much space between the letters for the label to remain legible. A single
text string is therefore kept &quot;together&quot; according to the point size of the
text in <code>geom_textpath()</code>. This then leaves the problem of where on the
path the text should be placed. This can be dealt with by the aesthetic
mapping <code>hjust</code>, which allows the user to place the labels
at the desired position along the path, including separate positions for
each label.
</p>
<p>A final point to note is that a path is usually a group-based geom (i.e.
a path typically comprises x, y points from two columns over several rows of
a data frame), whereas text labels can come from single rows in a data frame.
This means that if we have a data frame with an x column, a y column and a
grouping variable column, there can only be a single label for the group.
Typically, this will be the grouping variable itself (see the examples,
particularly those using the built-in <code>iris</code> data set.)
</p>



<h4>Rich text</h4>

<p>The rich text option (<code>rich = TRUE</code>) relies heavily on rich-text parsers
copied from the {<span class="pkg">gridtext</span>} package. We thank Claus O. Wilke for
developing {<span class="pkg">gridtext</span>} and allowing us to re-use his code under the
MIT licence. Currently, the supported HTML tags are <code style="white-space: pre;">&#8288;&lt;p&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;span&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;b&gt;&#8288;</code>,
<code style="white-space: pre;">&#8288;&lt;strong&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;i&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;em&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;sub&gt;&#8288;</code>, <code style="white-space: pre;">&#8288;&lt;sup&gt;&#8288;</code> and <code style="white-space: pre;">&#8288;&lt;br&gt;&#8288;</code>.
</p>



<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textpath()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labelpath()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Plot text along an arbitrary path
 t &lt;- seq(-1, 5, length.out = 1000) * pi
 spiral &lt;- data.frame(
   x = rev(sin(t) * 1000:1),
   y = rev(cos(t) * 1000:1),
   s = seq(1, 10, length.out = 100),
   text = paste(
     "Like a circle in a spiral, like a wheel within a wheel,",
     "never ending or beginning on an ever spinning reel"
  )
)

 ggplot(spiral, aes(x, y, label = text)) +
   geom_textpath(size = 7, vjust = 2, linewidth = 0) +
   coord_equal(xlim = c(-1500, 1500), ylim = c(-1500, 1500))

# Use geom_textline as a drop-in for geom_line

 df &lt;- data.frame(x = rep(1:100, 3),
                  y = sin(c(seq(0, pi, len = 100),
                            seq(pi, 2*pi, len = 100),
                            rep(0, 100))),
                  label = rep(c("y is increasing",
                                "y is falling",
                                "y is flat"), each = 100))

ggplot(df, aes(x, y, label = label, color = label)) +
   geom_textline(size = 6) + theme(legend.position = "none")

# Rich text labels can contain a subset of HTML tags
label &lt;- paste0(
  "Indometacin (",
  "C&lt;sub&gt;19&lt;/sub&gt;H&lt;sub&gt;16&lt;/sub&gt;",
  "&lt;span style='color:limegreen'&gt;Cl&lt;/span&gt;",
  "&lt;span style='color:blue'&gt;N&lt;/span&gt;",
  "&lt;span style='color:red'&gt;O&lt;/span&gt;&lt;sub&gt;4&lt;/sub&gt;",
  ") concentration"
)

# These are interpreted when `rich = TRUE`
ggplot(Indometh, aes(time, conc)) +
  geom_point() +
  geom_labelpath(
    label = label,
    stat = "smooth", formula = y ~ x, method = "loess",
    vjust = -3, size = 8, rich = TRUE
  ) +
  scale_x_log10()
</code></pre>

<hr>
<h2 id='geom_textsegment'>Add text to line segments</h2><span id='topic+geom_textsegment'></span><span id='topic+geom_labelsegment'></span>

<h3>Description</h3>

<p><code>geom_textsegment</code> draws a line between two points defined by (x, y) and
(xend, yend) and places a text label on that line. It is the text-placement
equivalent of <code><a href="ggplot2.html#topic+geom_segment">geom_segment()</a></code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textsegment(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  linejoin = "round",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  straight = NULL
)

geom_labelsegment(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  arrow = NULL,
  lineend = "butt",
  linejoin = "round",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  straight = NULL,
  label.r = unit(0.15, "lines"),
  label.padding = unit(0.25, "lines")
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textsegment_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths the text without affecting the line portion of the geom. The default value of <code>0</code> means no smoothing is applied.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">grid::arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_lineend">lineend</code></td>
<td>
<p>Line end style (round, butt, square).</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_linejoin">linejoin</code></td>
<td>
<p>Line join style (round, mitre, bevel).</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_straight">straight</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label
on a straight baseline and if <code>FALSE</code> (default), lets individual letters
follow the curve. This might be helpful for noisy paths.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="geom_textsegment_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textsegment()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>y</code></strong>
</p>
</li>
<li> <p><strong><code>xend</code></strong>
</p>
</li>
<li> <p><strong><code>yend</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labelsegment()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># The convenience here is that the position and angle
# are in sync automatically with the data
sleep2 &lt;- reshape(sleep, direction = "wide",
                  idvar = "ID", timevar = "group")

ggplot(sleep2, aes(x = "Drug 1", y = extra.1)) +
  geom_textsegment(
    aes(xend = "Drug 2", yend = extra.2,
        label = paste0("Patient #", ID))
  )

# As an annotation
ggplot(mapping = aes(x, y)) +
  geom_col(
    data = data.frame(x = c(1, 2), y = c(1, 10))
  ) +
  annotate(
    "textsegment",
    x = 1, xend = 2, y = 1, yend = 10,
    label = "10x increase", arrow = arrow()
  )
</code></pre>

<hr>
<h2 id='geom_textsf'>Visualise sf objects with labels</h2><span id='topic+geom_textsf'></span><span id='topic+geom_labelsf'></span>

<h3>Description</h3>

<p>This set of geom, stat, and coord are used to visualise simple feature (sf)
objects. For simple plots, you will only need <code>geom_sf()</code> as it
uses <code>stat_sf()</code> and adds <code>coord_sf()</code> for you. <code>geom_textsf()</code> is
an unusual geom because it will draw different geometric objects depending
on what simple features are present in the data: you can get points, lines,
or polygons.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textsf(
  mapping = aes(),
  data = NULL,
  stat = "sf",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)

geom_labelsf(
  mapping = aes(),
  data = NULL,
  stat = "sf",
  position = "identity",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textsf_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
</p>
<p>You can also set this to one of &quot;polygon&quot;, &quot;line&quot;, and &quot;point&quot; to
override the default legend.</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
<tr><td><code id="geom_textsf_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+geom_textpath">geom_textpath</a></code>, <code><a href="#topic+geom_labelpath">geom_labelpath</a></code>
</p>

<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be
plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any
parameters or aesthetics relating to the drawing of the path will be
ignored.</p>
</dd>
<dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections
with a gap on either side of the label. If <code>FALSE</code>, the path is plotted
as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string
has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label
variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd>
<dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text
where the majority of letters would upside down along the path, to improve
legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd>
<dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be
justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd>
<dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code>
parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument
overrules the <code>vjust</code> setting.</p>
</dd>
<dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into
expressions, allowing for plotmath syntax to be used.</p>
</dd>
<dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label
on a straight baseline and if <code>FALSE</code> (default), lets individual letters
follow the curve. This might be helpful for noisy paths.</p>
</dd>
<dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
padding between the text and the path when the <code>gap</code> parameter trims the
path.</p>
</dd>
<dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths
the text without affecting the line portion of the geom. The default value
of <code>0</code> means no smoothing is applied.</p>
</dd>
<dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown
formatted rich text. Default: <code>FALSE</code>. See also the rich text section of
the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd>
<dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated
path will be removed.</p>
</dd>
<dt><code>label.padding</code></dt><dd><p>Amount of padding around label. Defaults to 0.25 lines.</p>
</dd>
<dt><code>label.r</code></dt><dd><p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Geometry aesthetic</h3>

<p><code>geom_textsf()</code> uses a unique aesthetic: <code>geometry</code>, giving an
column of class <code>sfc</code> containing simple features data. There
are three ways to supply the <code>geometry</code> aesthetic:
</p>

<ul>
<li><p> Do nothing: by default <code>geom_textsf()</code> assumes it is stored in
the <code>geometry</code> column.
</p>
</li>
<li><p> Explicitly pass an <code>sf</code> object to the <code>data</code> argument.
This will use the primary geometry column, no matter what it's called.
</p>
</li>
<li><p> Supply your own using <code>aes(geometry = my_column)</code>
</p>
</li></ul>

<p>Unlike other aesthetics, <code>geometry</code> will never be inherited from
the plot.
</p>


<h3>CRS</h3>

<p><code>coord_sf()</code> ensures that all layers use a common CRS. You can
either specify it using the <code>crs</code> param, or <code>coord_sf()</code> will
take it from the first layer that defines a CRS.
</p>


<h3>Combining sf layers and regular geoms</h3>

<p>Most regular geoms, such as <code><a href="ggplot2.html#topic+geom_point">geom_point()</a></code>, <code><a href="ggplot2.html#topic+geom_path">geom_path()</a></code>,
<code><a href="ggplot2.html#topic+geom_text">geom_text()</a></code>, <code><a href="ggplot2.html#topic+geom_polygon">geom_polygon()</a></code> etc. will work fine with <code>coord_sf()</code>. However
when using these geoms, two problems arise. First, what CRS should be used
for the x and y coordinates used by these non-sf geoms? The CRS applied to
non-sf geoms is set by the <code>default_crs</code> parameter, and it defaults to
<code>NULL</code>, which means positions for non-sf geoms are interpreted as projected
coordinates in the coordinate system set by the <code>crs</code> parameter. This setting
allows you complete control over where exactly items are placed on the plot
canvas, but it may require some understanding of how projections work and how
to generate data in projected coordinates. As an alternative, you can set
<code>default_crs = sf::st_crs(4326)</code>, the World Geodetic System 1984 (WGS84).
This means that x and y positions are interpreted as longitude and latitude,
respectively. You can also specify any other valid CRS as the default CRS for
non-sf geoms.
</p>
<p>The second problem that arises for non-sf geoms is how straight lines
should be interpreted in projected space when <code>default_crs</code> is not set to <code>NULL</code>.
The approach <code>coord_sf()</code> takes is to break straight lines into small pieces
(i.e., segmentize them) and then transform the pieces into projected coordinates.
For the default setting where x and y are interpreted as longitude and latitude,
this approach means that horizontal lines follow the parallels and vertical lines
follow the meridians. If you need a different approach to handling straight lines,
then you should manually segmentize and project coordinates and generate the plot
in projected coordinates.
</p>


<h3>See Also</h3>

<p><code><a href="ggplot2.html#topic+stat_sf_coordinates">stat_sf_coordinates()</a></code>.
Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(waterways) +
 geom_textsf(label = "Forth and Clyde Canal",
              hjust = 0.62, vjust = -0.3, fill = "#E4E0A3") +
 lims(x = c(-4.2, -3.9), y = c(55.9, 56))

</code></pre>

<hr>
<h2 id='geom_textsmooth'>Labelled conditional means in <span class="pkg">ggplot2</span></h2><span id='topic+geom_textsmooth'></span><span id='topic+geom_labelsmooth'></span>

<h3>Description</h3>

<p>Smoothed conditional means are available
in <span class="pkg">ggplot2</span> via <code><a href="ggplot2.html#topic+geom_smooth">geom_smooth</a></code>. This geom
layer simply adds a text label to each curve that follow the contour of
this line when used as a drop-in replacement for
<code><a href="ggplot2.html#topic+geom_smooth">geom_smooth</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_textsmooth(
  mapping = NULL,
  data = NULL,
  stat = "smooth",
  position = "identity",
  ...,
  method = NULL,
  formula = NULL,
  na.rm = FALSE,
  orientation = NA,
  show.legend = NA,
  inherit.aes = TRUE
)

geom_labelsmooth(
  mapping = NULL,
  data = NULL,
  stat = "smooth",
  position = "identity",
  method = NULL,
  formula = NULL,
  na.rm = FALSE,
  orientation = NA,
  show.legend = NA,
  inherit.aes = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_textsmooth_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this
layer, either as a <code>ggproto</code> <code>Geom</code> subclass or as a string naming the
stat stripped of the <code>stat_</code> prefix (e.g. <code>"count"</code> rather than
<code>"stat_count"</code>)</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_position">position</code></td>
<td>
<p>Position adjustment, either as a string naming the adjustment
(e.g. <code>"jitter"</code> to use <code>position_jitter</code>), or the result of a call to a
position adjustment function. Use the latter if you need to change the
settings of the adjustment.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer</a></code>. These are often aesthetics, used to set an aesthetic to a fixed value, like <code>colour = "red"</code> or <code>size = 3</code>. These can also be the following text-path parameters:</p>
<dl>
<dt><code>text_only</code></dt><dd><p>A <code>logical(1)</code> indicating whether the path part should be plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any parameters or aesthetics relating to the drawing of the path will be ignored.</p>
</dd><dt><code>gap</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections with a gap on either side of the label. If <code>FALSE</code>, the path is plotted as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</dd><dt><code>upright</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text where the majority of letters would upside down along the path, to improve legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</dd><dt><code>halign</code></dt><dd><p>A <code>character(1)</code> describing how multi-line text should be justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</dd><dt><code>offset</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code> parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument overrules the <code>vjust</code> setting.</p>
</dd><dt><code>parse</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into expressions, allowing for plotmath syntax to be used.</p>
</dd><dt><code>straight</code></dt><dd><p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label on a straight baseline and if <code>FALSE</code> (default), lets individual letters follow the curve. This might be helpful for noisy paths.</p>
</dd><dt><code>padding</code></dt><dd><p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the padding between the text and the path when the <code>gap</code> parameter trims the path.</p>
</dd><dt><code>text_smoothing</code></dt><dd><p>a <code>numeric(1)</code> value between 0 and 100 that smooths the text without affecting the line portion of the geom. The default value of <code>0</code> means no smoothing is applied.</p>
</dd><dt><code>rich</code></dt><dd><p>A <code>logical(1)</code> whether to interpret the text as html/markdown formatted rich text. Default: <code>FALSE</code>. See also the rich text section of the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</dd><dt><code>remove_long</code></dt><dd><p>if TRUE, labels that are longer than their associated path will be removed.</p>
</dd></dl>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_method">method</code></td>
<td>
<p>Smoothing method (function) to use, accepts either
<code>NULL</code> or a character vector, e.g. <code>"lm"</code>, <code>"glm"</code>, <code>"gam"</code>, <code>"loess"</code>
or a function, e.g. <code>MASS::rlm</code> or <code>mgcv::gam</code>, <code>stats::lm</code>, or <code>stats::loess</code>.
<code>"auto"</code> is also accepted for backwards compatibility.  It is equivalent to
<code>NULL</code>.
</p>
<p>For <code>method = NULL</code> the smoothing method is chosen based on the
size of the largest group (across all panels). <code><a href="stats.html#topic+loess">stats::loess()</a></code> is
used for less than 1,000 observations; otherwise <code><a href="mgcv.html#topic+gam">mgcv::gam()</a></code> is
used with <code>formula = y ~ s(x, bs = "cs")</code> with <code>method = "REML"</code>. Somewhat anecdotally,
<code>loess</code> gives a better appearance, but is <code class="reqn">O(N^{2})</code> in memory,
so does not work for larger datasets.
</p>
<p>If you have fewer than 1,000 observations but want to use the same <code>gam()</code>
model that <code>method = NULL</code> would use, then set
<code style="white-space: pre;">&#8288;method = "gam", formula = y ~ s(x, bs = "cs")&#8288;</code>.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_formula">formula</code></td>
<td>
<p>Formula to use in smoothing function, eg. <code>y ~ x</code>,
<code>y ~ poly(x, 2)</code>, <code>y ~ log(x)</code>. <code>NULL</code> by default, in which case
<code>method = NULL</code> implies <code>formula = y ~ x</code> when there are fewer than 1,000
observations and <code>formula = y ~ s(x, bs = "cs")</code> otherwise.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_orientation">orientation</code></td>
<td>
<p>The orientation of the layer. The default (<code>NA</code>)
automatically determines the orientation from the aesthetic mapping. In the
rare event that this fails it can be given explicitly by setting <code>orientation</code>
to either <code>"x"</code> or <code>"y"</code>. See the <em>Orientation</em> section for more detail.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_textsmooth_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Layer</code> ggproto object that can be added to a plot.
</p>


<h3>Aesthetics</h3>

<p><code>geom_textdensity()</code> understands the following aesthetics (required aesthetics are in bold):
</p>

<ul>
<li> <p><strong><code>x</code></strong>
</p>
</li>
<li> <p><strong><code>label</code></strong>
</p>
</li>
<li> <p><code>alpha</code>
</p>
</li>
<li> <p><code>angle</code>
</p>
</li>
<li> <p><code>colour</code>
</p>
</li>
<li> <p><code>family</code>
</p>
</li>
<li> <p><code>fontface</code>
</p>
</li>
<li> <p><code>group</code>
</p>
</li>
<li> <p><code>hjust</code>
</p>
</li>
<li> <p><code>linecolour</code>
</p>
</li>
<li> <p><code>lineheight</code>
</p>
</li>
<li> <p><code>linetype</code>
</p>
</li>
<li> <p><code>linewidth</code>
</p>
</li>
<li> <p><code>size</code>
</p>
</li>
<li> <p><code>spacing</code>
</p>
</li>
<li> <p><code>textcolour</code>
</p>
</li>
<li> <p><code>vjust</code>
</p>
</li></ul>

<p>In addition to aforementioned aesthetics, <code>geom_labeldensity()</code> also understands:
</p>

<ul>
<li> <p><code>boxcolour</code>
</p>
</li>
<li> <p><code>boxlinetype</code>
</p>
</li>
<li> <p><code>boxlinewidth</code>
</p>
</li>
<li> <p><code>fill</code>
</p>
</li></ul>

<p>The <code>spacing</code> aesthetic allows fine control of spacing
of text, which is called 'tracking' in typography.
The default is 0 and units are measured in 1/1000 em.
Numbers greater than zero increase the spacing,
whereas negative numbers decrease the spacing.
</p>
<p>Learn more about setting these aesthetics 
in <code>vignette("ggplot2-specs")</code>.
</p>


<h3>See Also</h3>

<p>Other <a href="#topic+sibling_layers">geom layers</a> that place text on paths.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(iris, aes(x = Sepal.Length, y = Petal.Length)) +
  geom_point(alpha = 0.1) +
  geom_textsmooth(aes(label = Species, colour = Species),
                method = "loess", formula = y ~ x,
                size = 7, linetype = 3, fontface = 2, linewidth = 1) +
  scale_colour_manual(values = c("forestgreen", "deepskyblue4", "tomato4")) +
  theme_bw() +
  theme(legend.position = "none")
</code></pre>

<hr>
<h2 id='GeomTextpath'>The Geom object for a textpath</h2><span id='topic+GeomTextpath'></span><span id='topic+GeomTextline'></span><span id='topic+GeomLabelpath'></span><span id='topic+GeomLabelline'></span><span id='topic+GeomTextsegment'></span><span id='topic+GeomLabelsegment'></span><span id='topic+GeomTextabline'></span><span id='topic+GeomLabelabline'></span><span id='topic+GeomTextcontour'></span><span id='topic+GeomLabelcontour'></span><span id='topic+StatTextcontour'></span><span id='topic+GeomTextcurve'></span><span id='topic+GeomLabelcurve'></span><span id='topic+GeomTextdensity'></span><span id='topic+GeomLabeldensity'></span><span id='topic+GeomTextdensity2d'></span><span id='topic+GeomLabeldensity2d'></span><span id='topic+GeomTexthline'></span><span id='topic+GeomLabelhline'></span><span id='topic+GeomTextsf'></span><span id='topic+GeomLabelsf'></span><span id='topic+GuideAxisTextpath'></span>

<h3>Description</h3>

<p>This is the <code>ggproto</code> class that creates the textpath layer. It is not
intended to be used directly by the end user.
</p>

<hr>
<h2 id='guide_axis_textpath'>Textpath axis</h2><span id='topic+guide_axis_textpath'></span>

<h3>Description</h3>

<p>This is a specialised guide used in <code>coord_radial()</code> to represent
the theta position scale.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>guide_axis_textpath(
  title = waiver(),
  halign = "center",
  rich = FALSE,
  minor.ticks = FALSE,
  cap = "none",
  order = 0,
  position = waiver()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="guide_axis_textpath_+3A_title">title</code></td>
<td>
<p>A character string or expression indicating a title of guide.
If <code>NULL</code>, the title is not shown. By default
(<code><a href="ggplot2.html#topic+waiver">waiver()</a></code>), the name of the scale object or the name
specified in <code><a href="ggplot2.html#topic+labs">labs()</a></code> is used for the title.</p>
</td></tr>
<tr><td><code id="guide_axis_textpath_+3A_halign">halign</code></td>
<td>
<p>A <code>character(1)</code> describing how multi-line text should be
justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="guide_axis_textpath_+3A_rich">rich</code></td>
<td>
<p>A <code>logical(1)</code> whether to interpret the text as html/markdown
formatted rich text. Default: <code>FALSE</code>. See also the rich text section of
the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</td></tr>
<tr><td><code id="guide_axis_textpath_+3A_minor.ticks">minor.ticks</code></td>
<td>
<p>Whether to draw the minor ticks (<code>TRUE</code>) or not draw
minor ticks (<code>FALSE</code>, default).</p>
</td></tr>
<tr><td><code id="guide_axis_textpath_+3A_cap">cap</code></td>
<td>
<p>A <code>character</code> to cut the axis line back to the last breaks. Can
be <code>"none"</code> (default) to draw the axis line along the whole panel, or
<code>"upper"</code> and <code>"lower"</code> to draw the axis to the upper or lower break, or
<code>"both"</code> to only draw the line in between the most extreme breaks. <code>TRUE</code>
and <code>FALSE</code> are shorthand for <code>"both"</code> and <code>"none"</code> respectively.</p>
</td></tr>
<tr><td><code id="guide_axis_textpath_+3A_order">order</code></td>
<td>
<p>A positive <code>integer</code> of length 1 that specifies the order of
this guide among multiple guides. This controls in which order guides are
merged if there are multiple guides for the same position. If 0 (default),
the order is determined by a secret algorithm.</p>
</td></tr>
<tr><td><code id="guide_axis_textpath_+3A_position">position</code></td>
<td>
<p>Where this guide should be drawn: one of top, bottom,
left, or right.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>Guide</code> ggproto object that can be added to a plot through a
scale or the <code>guides()</code> function.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(mpg, aes(class, displ)) +
  geom_boxplot(staplewidth = 0.5) +
  coord_radial() +
  guides(theta = "axis_textpath")
</code></pre>

<hr>
<h2 id='scale_hjust_discrete'>justification scales</h2><span id='topic+scale_hjust_discrete'></span><span id='topic+scale_hjust_manual'></span><span id='topic+scale_hjust_identity'></span><span id='topic+scale_vjust_discrete'></span><span id='topic+scale_vjust_manual'></span><span id='topic+scale_vjust_identity'></span>

<h3>Description</h3>

<p>Sometimes text labels on adjacent lines can clash if the lines are not well
separated vertically. One option for controlling this is to use an hjust or
vjust scale that will place each label on a different position on each path,
either vertically (vjust) or horizontally (hjust).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>scale_hjust_discrete(..., range = c(0, 1), guide = "none")

scale_hjust_manual(
  ...,
  values,
  breaks = waiver(),
  guide = "none",
  na.value = NA
)

scale_hjust_identity(..., guide = "none")

scale_vjust_discrete(..., guide = "none", range = c(-0.5, 1.5))

scale_vjust_manual(
  ...,
  values,
  breaks = waiver(),
  guide = "none",
  na.value = NA
)

scale_vjust_identity(..., guide = "none")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="scale_hjust_discrete_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to [continuous_scale()], [binned_scale],
or [discrete_scale()] as appropriate, to control name, limits,
breaks, labels and so forth.</p>
</td></tr>
<tr><td><code id="scale_hjust_discrete_+3A_range">range</code></td>
<td>
<p>Output range of hjust and vjust. Must lie between 0 and 1 for
hjust.</p>
</td></tr>
<tr><td><code id="scale_hjust_discrete_+3A_guide">guide</code></td>
<td>
<p>A function used to create a guide or its name. See
[guides()] for more information.</p>
</td></tr>
<tr><td><code id="scale_hjust_discrete_+3A_values">values</code></td>
<td>
<p>a set of aesthetic values to map data values to. The values
will be matched in order (usually alphabetical) with the limits of the
scale, or with breaks if provided. If this is a named vector, then the
values will be matched based on the names instead. Data values that
don't match will be given na.value.</p>
</td></tr>
<tr><td><code id="scale_hjust_discrete_+3A_breaks">breaks</code></td>
<td>
<p>One of:
- 'NULL' for no breaks
- 'waiver()' for the default breaks computed by the
[transformation object][scales::trans_new()]
- A numeric vector of positions
- A function that takes the limits as input and returns breaks
as output (e.g., a function returned by [scales::extended_breaks()]).
Also accepts rlang [lambda][rlang::as_function()] function notation.</p>
</td></tr>
<tr><td><code id="scale_hjust_discrete_+3A_na.value">na.value</code></td>
<td>
<p>Missing values will be replaced with this value.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The simplest way to separate labels is by  adding 'scale_hjust_discrete()'
or 'scale_vjust_discrete()' to your plot, but you can get more control with
'scale_hjust_manual' and 'scale_vjust_manual'.
</p>


<h3>Value</h3>

<p>A 'Scale' ggproto object that can be added to a plot.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ggplot(iris, aes(Sepal.Length, color = Species)) +
  geom_textdensity(aes(label = Species, hjust = Species), size = 6) +
  scale_hjust_discrete()
</code></pre>

<hr>
<h2 id='sibling_layers'>Sibling layers</h2><span id='topic+sibling_layers'></span>

<h3>Description</h3>

<p>The goal of <span class="pkg">geomtextpath</span> is to label (curved) lines in a plot. The
<span class="pkg">ggplot2</span> package has various ways to construct lines. For several of
the <span class="pkg">ggplot2</span> line functions, there is a plain 'text' sibling and a
'label' sibling that includes a text box. Below is an overview of how
function in <span class="pkg">geomtextpath</span> relate to those in <span class="pkg">ggplot2</span>.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
   <span class="pkg">ggplot2</span> geom </td><td style="text-align: left;"> Text equivalent </td><td style="text-align: left;"> Label equivalent </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_path">geom_path()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textpath">geom_textpath()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelpath">geom_labelpath()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_path">geom_line()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textline">geom_textline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelline">geom_labelline()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_segment">geom_segment()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textsegment">geom_textsegment()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelsegment">geom_labelsegment()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_segment">geom_curve()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textcurve">geom_textcurve</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelcurve">geom_labelcurve()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_abline">geom_abline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textabline">geom_textabline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelabline">geom_labelabline()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_abline">geom_hline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_texthline">geom_texthline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelhline">geom_labelhline()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_abline">geom_vline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textvline">geom_textvline()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelvline">geom_labelvline()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_density">geom_density()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textdensity">geom_textdensity()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labeldensity">geom_labeldensity()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_smooth">geom_smooth()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textsmooth">geom_textsmooth()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelsmooth">geom_labelsmooth()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_contour">geom_contour()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textcontour">geom_textcontour()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelcontour">geom_labelcontour()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+geom_density_2d">geom_density2d()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textdensity2d">geom_textdensity2d()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labeldensity2d">geom_labeldensity2d()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="ggplot2.html#topic+ggsf">geom_sf()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_textsf">geom_textsf()</a></code> </td><td style="text-align: left;"> <code><a href="#topic+geom_labelsf">geom_labelsf()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>


<hr>
<h2 id='static_text_params'>Set static parameters</h2><span id='topic+static_text_params'></span>

<h3>Description</h3>

<p>This sets parameters for text on a path that aren't expected to change
during the construction of a grob.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>static_text_params(
  .type = "text",
  text_only = FALSE,
  gap = NULL,
  upright = TRUE,
  halign = "center",
  offset = NULL,
  parse = FALSE,
  straight = FALSE,
  padding = unit(0.05, "inch"),
  text_smoothing = 0,
  rich = FALSE,
  remove_long = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="static_text_params_+3A_.type">.type</code></td>
<td>
<p>A <code>character(1)</code> with either <code>"text"</code> or <code>"label"</code>, which
decides what the default is going to be for the <code>gap</code> argument. If <code>"text"</code>
the default is <code>NA</code>, which means to dynamically decide. If <code>"label"</code>, the
<code>"gap"</code> argument should default to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_text_only">text_only</code></td>
<td>
<p>A <code>logical(1)</code> indicating whether the path part should be
plotted along with the text (<code>FALSE</code>, the default). If <code>TRUE</code>, any
parameters or aesthetics relating to the drawing of the path will be
ignored.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_gap">gap</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections
with a gap on either side of the label. If <code>FALSE</code>, the path is plotted
as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string
has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label
variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_upright">upright</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text
where the majority of letters would upside down along the path, to improve
legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_halign">halign</code></td>
<td>
<p>A <code>character(1)</code> describing how multi-line text should be
justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_offset">offset</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
offset of the text from the path. If this is <code>NULL</code> (default), the <code>vjust</code>
parameter decides the offset. If not <code>NULL</code>, the <code>offset</code> argument
overrules the <code>vjust</code> setting.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_parse">parse</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, will coerce the labels into
expressions, allowing for plotmath syntax to be used.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_straight">straight</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label
on a straight baseline and if <code>FALSE</code> (default), lets individual letters
follow the curve. This might be helpful for noisy paths.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_padding">padding</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
padding between the text and the path when the <code>gap</code> parameter trims the
path.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_text_smoothing">text_smoothing</code></td>
<td>
<p>a <code>numeric(1)</code> value between 0 and 100 that smooths
the text without affecting the line portion of the geom. The default value
of <code>0</code> means no smoothing is applied.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_rich">rich</code></td>
<td>
<p>A <code>logical(1)</code> whether to interpret the text as html/markdown
formatted rich text. Default: <code>FALSE</code>. See also the rich text section of
the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</td></tr>
<tr><td><code id="static_text_params_+3A_remove_long">remove_long</code></td>
<td>
<p>if TRUE, labels that are longer than their associated
path will be removed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> with the parameters.
</p>

<hr>
<h2 id='textpathGrob'>Draw text on a path.</h2><span id='topic+textpathGrob'></span>

<h3>Description</h3>

<p>This function creates (curved) text on a path.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>textpathGrob(
  label,
  x = 0.5,
  y = 0.5,
  id = 1L,
  just = "centre",
  hjust = NULL,
  vjust = NULL,
  halign = "left",
  angle = 0,
  straight = FALSE,
  rich = FALSE,
  gp_text = gpar(),
  gp_path = gpar(),
  gp_box = gpar(),
  gap = NA,
  upright = TRUE,
  text_smoothing = 0,
  polar_params = NULL,
  padding = unit(0.05, "inch"),
  label.padding = unit(0.25, "lines"),
  label.r = unit(0.15, "lines"),
  remove_long = FALSE,
  arrow = NULL,
  default.units = "npc",
  name = NULL,
  vp = NULL,
  as_label = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="textpathGrob_+3A_label">label</code></td>
<td>
<p>A <code>character</code> vector.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_x">x</code></td>
<td>
<p>A <code>numeric</code> vector.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_y">y</code></td>
<td>
<p>A <code>numeric</code> vector.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_id">id</code></td>
<td>
<p>A <code>numeric</code> vector used to separate locations in <code>x</code> and <code>y</code> into
multiple lines. All locations with the same <code>id</code> belong to the same line.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_just">just</code></td>
<td>
<p>The justification of the text
relative to its (x, y) location.  If there are two values, the first
value specifies horizontal justification and the second value specifies
vertical justification.  Possible string values are: <code>"left"</code>,
<code>"right"</code>, <code>"centre"</code>, <code>"center"</code>, <code>"bottom"</code>,
and <code>"top"</code>.  For numeric values, 0 means left (bottom) alignment
and 1 means right (top) alignment.
</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_hjust">hjust</code></td>
<td>
<p>A numeric vector specifying horizontal justification.
If specified, overrides the <code>just</code> setting.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_vjust">vjust</code></td>
<td>
<p>A <code>numeric</code> vector specifying justification orthogonal to the
direction of the text. Alternatively a <code><a href="grid.html#topic+unit">unit()</a></code> object to
directly set the offset from the path.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_halign">halign</code></td>
<td>
<p>A <code>character(1)</code> describing how multi-line text should be
justified. Can either be <code>"center"</code> (default), <code>"left"</code> or <code>"right"</code>.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_angle">angle</code></td>
<td>
<p>a <code>numeric</code> vector either length 1 or the same length as <code>id</code>
describing the angle in degrees at which text should be rotated.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_straight">straight</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, keeps the letters of a label
on a straight baseline and if <code>FALSE</code> (default), lets individual letters
follow the curve. This might be helpful for noisy paths.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_rich">rich</code></td>
<td>
<p>A <code>logical(1)</code> whether to interpret the text as html/markdown
formatted rich text. Default: <code>FALSE</code>. See also the rich text section of
the details in <code><a href="#topic+geom_textpath">geom_textpath()</a></code>.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_gp_text">gp_text</code>, <code id="textpathGrob_+3A_gp_path">gp_path</code></td>
<td>
<p>An object of class <code>"gpar"</code>, typically the output from
a call from the <code><a href="grid.html#topic+gpar">gpar()</a></code> function. These are basically lists
of graphical parameters for the text and path respectively.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_gp_box">gp_box</code></td>
<td>
<p>(Optional) an object of class <code>"gpar"</code>, typically the output
from a call to the <code><a href="grid.html#topic+gpar">gpar()</a></code> function. If this is an empty
list, no text box will be drawn.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_gap">gap</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code>, breaks the path into two sections
with a gap on either side of the label. If <code>FALSE</code>, the path is plotted
as a whole. Alternatively, if <code>NA</code>, the path will be broken if the string
has a <code>vjust</code> between 0 and 1, and not otherwise. The default for the label
variant is <code>FALSE</code> and for the text variant is <code>NA</code>.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_upright">upright</code></td>
<td>
<p>A <code>logical(1)</code> which if <code>TRUE</code> (default), inverts any text
where the majority of letters would upside down along the path, to improve
legibility. If <code>FALSE</code>, the path decides the orientation of text.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_text_smoothing">text_smoothing</code></td>
<td>
<p>a <code>numeric(1)</code> value between 0 and 100 that smooths
the text without affecting the line portion of the geom. The default value
of <code>0</code> means no smoothing is applied.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_polar_params">polar_params</code></td>
<td>
<p>a list consisting of an x, y, and r component that
specifies the central point and radius of a circle around which
single-point labels will be wrapped.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_padding">padding</code></td>
<td>
<p>A <code><a href="grid.html#topic+unit">unit</a></code> object of length 1 to determine the
padding between the text and the path when the <code>gap</code> parameter trims the
path.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_label.padding">label.padding</code></td>
<td>
<p>Amount of padding around label. Defaults to 0.25 lines.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_label.r">label.r</code></td>
<td>
<p>Radius of rounded corners. Defaults to 0.15 lines.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_remove_long">remove_long</code></td>
<td>
<p>if TRUE, labels that are longer than their associated
path will be removed.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_arrow">arrow</code></td>
<td>
<p>Arrow specification, as created by <code><a href="grid.html#topic+arrow">arrow()</a></code>.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_default.units">default.units</code></td>
<td>
<p>A string indicating the default units to use
if <code>x</code> or <code>y</code>
are only given as numeric vectors.</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_name">name</code></td>
<td>
<p> A character identifier. </p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_vp">vp</code></td>
<td>
<p>A Grid viewport object (or NULL).</p>
</td></tr>
<tr><td><code id="textpathGrob_+3A_as_label">as_label</code></td>
<td>
<p>a <code>logical</code> TRUE or FALSE indicating whether the text should
be drawn inside a text box. If FALSE, the parameters <code>label.padding</code>,
<code>label.r</code> and <code>gp_box</code> will be ignored.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object of class <code>gTree</code>, containing grobs.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>require(grid)

t &lt;- seq(0, 2 * pi, length.out = 100)
grob &lt;- textpathGrob(
  label = c(
    "Why I am making trigonometry jokes? Cos I can!",
    "I was never any good at sine language."
  ),
  x = c(t, t) / (2 * pi),
  y = c(cos(t), sin(t)) * 0.25 + 0.5,
  id = rep(1:2, each = length(t)),
  vjust = rep(0.5, 2 * length(t)),
  gp_text = gpar(lineheight = c(1.2, 1.2), fontsize = c(10, 10)),
  gp_path = gpar(lty = c(1, 2))
)

grid.newpage(); grid.draw(grob)
</code></pre>

<hr>
<h2 id='waterways'>A simple features data frame of three Scottish waterways</h2><span id='topic+waterways'></span>

<h3>Description</h3>

<p>An 'sf' object showing the River Clyde, the River Forth, and the canal
joining the two.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>waterways
</code></pre>


<h3>Format</h3>

<p>A data frame with 4 rows and 3 variables
</p>

<dl>
<dt>name</dt><dd><p>name of geographic object</p>
</dd>
<dt>type</dt><dd><p>type of geographic object</p>
</dd>
<dt>geometry</dt><dd><p>sfc objects</p>
</dd>
</dl>



<h3>Details</h3>

<p>Contains Ordnance Survey data © Crown copyright and database right 2010-19
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package surveydown</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {surveydown}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#sd_add_page'><p>Add a Page Template to the Current Document</p></a></li>
<li><a href='#sd_add_question'><p>Add a Question Template to the Current Document</p></a></li>
<li><a href='#sd_close'><p>Create a 'Close' Button to Exit the Survey</p></a></li>
<li><a href='#sd_completion_code'><p>Generate a Random Completion Code</p></a></li>
<li><a href='#sd_copy_value'><p>Create a copy of a value</p></a></li>
<li><a href='#sd_create_survey'><p>Create a new survey template</p></a></li>
<li><a href='#sd_create_translations'><p>Create a translations template file</p></a></li>
<li><a href='#sd_dashboard'><p>Launch Survey Dashboard</p></a></li>
<li><a href='#sd_database'><p>Connect to a 'PostgreSQL' Database with Automatic Cleanup</p></a></li>
<li><a href='#sd_db_config'><p>Configure database settings</p></a></li>
<li><a href='#sd_db_connect'><p>Connect to database</p></a></li>
<li><a href='#sd_display_question'><p>Create a placeholder for a reactive survey question</p></a></li>
<li><a href='#sd_display_value'><p>Display the value of a survey question</p></a></li>
<li><a href='#sd_get_data'><p>Fetch data from a database table with automatic reactivity detection</p></a></li>
<li><a href='#sd_get_url_pars'><p>Get URL Parameters in a 'shiny' Application</p></a></li>
<li><a href='#sd_include_folder'><p>Include a folder to the 'shiny' resource path</p></a></li>
<li><a href='#sd_is_answered'><p>Check if a question is answered</p></a></li>
<li><a href='#sd_next'><p>Create a 'Next' Button for Page Navigation</p></a></li>
<li><a href='#sd_output'><p>Output Function for Displaying reactive objects and values</p></a></li>
<li><a href='#sd_question'><p>Create a survey question</p></a></li>
<li><a href='#sd_question_custom'><p>Create a Custom Question with a Shiny Widget</p></a></li>
<li><a href='#sd_reactive'><p>Create a reactive value that is also stored in survey data</p></a></li>
<li><a href='#sd_redirect'><p>Create a Redirect Element for 'shiny' Applications</p></a></li>
<li><a href='#sd_server'><p>Server logic for a surveydown survey</p></a></li>
<li><a href='#sd_set_password'><p>Set password for surveydown survey</p></a></li>
<li><a href='#sd_setup'><p>Required Set Up Function</p></a></li>
<li><a href='#sd_show_if'><p>Define show conditions for survey questions</p></a></li>
<li><a href='#sd_show_password'><p>Show the Saved Survey Password</p></a></li>
<li><a href='#sd_skip_forward'><p>Define forward skip conditions for survey pages</p></a></li>
<li><a href='#sd_skip_if'><p>Define skip conditions for survey pages (Deprecated)</p></a></li>
<li><a href='#sd_store_value'><p>Store a value in the survey data</p></a></li>
<li><a href='#sd_ui'><p>Create the UI for a surveydown survey</p></a></li>
<li><a href='#sd_version'><p>Check Surveydown Version</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Markdown-Based Surveys Using 'Quarto' and 'shiny'</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Generate surveys using markdown and R code chunks. Surveys
    are composed of two files: a survey.qmd 'Quarto' file defining the
    survey content (pages, questions, etc), and an app.R file defining a
    'shiny' app with global settings (libraries, database configuration,
    etc.) and server configuration options (e.g., conditional skipping /
    display, etc.). Survey data collected from respondents is stored in a
    'PostgreSQL' database. Features include controls for conditional skip
    logic (skip to a page based on an answer to a question), conditional
    display logic (display a question based on an answer to a question), a
    customizable progress bar, and a wide variety of question types,
    including multiple choice (single choice and multiple choices),
    select, text, numeric, multiple choice buttons, text area, and dates.
    Because the surveys render into a 'shiny' app, designers can also
    leverage the reactive capabilities of 'shiny' to create dynamic and
    interactive surveys.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://pkg.surveydown.org">https://pkg.surveydown.org</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/surveydown-dev/surveydown/issues">https://github.com/surveydown-dev/surveydown/issues</a></td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 4.1.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>bslib, cli, DBI, dotenv, DT, fs, htmltools, jsonlite,
markdown, pool, quarto, RPostgres, rstudioapi, rvest, shiny,
shinyjs, shinyWidgets, usethis, utils, xml2, yaml</td>
</tr>
<tr>
<td>Suggests:</td>
<td>glue, knitr, leaflet, testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-03-18 15:19:30 UTC; jhelvy</td>
</tr>
<tr>
<td>Author:</td>
<td>John Paul Helveston
    <a href="https://orcid.org/0000-0002-2657-9191"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre,
    cph],
  Pingfan Hu <a href="https://orcid.org/0009-0001-4877-4844"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cph],
  Bogdan Bunea <a href="https://orcid.org/0009-0006-2942-0588"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cph],
  Stefan Munnes [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Paul Helveston &lt;john.helveston@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-03-18 15:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='sd_add_page'>Add a Page Template to the Current Document</h2><span id='topic+sd_add_page'></span>

<h3>Description</h3>

<p>This function inserts a template for a surveydown page at the current cursor
position in the active RStudio document. It provides a basic structure for a
new page, including a title, content area, and a next button. If the
function call exists in the document, it will be removed before inserting
the template.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_add_page()
</code></pre>


<h3>Details</h3>

<p>IMPORTANT: This function should be run outside any division or R code chunk
in your 'Quarto' document. Running it inside a division or code chunk may
result in an incorrect page structure.
</p>
<p>The function performs the following steps:
</p>

<ol>
<li><p> Checks for and removes any existing <code>sd_add_page()</code> function call in the document.
</p>
</li>
<li><p> Inserts a template at the current cursor position.
</p>
</li></ol>

<p>The template includes:
</p>

<ul>
<li><p> A div with class <code>'sd-page'</code> and a placeholder page ID
</p>
</li>
<li><p> A placeholder for the page title
</p>
</li>
<li><p> A placeholder for page contents
</p>
</li>
<li><p> An R code chunk with a placeholder for questions and a next button
</p>
</li></ul>



<h3>Value</h3>

<p>This function does not return a value. It modifies the active
document as a side effect by inserting text and potentially removing a
function call.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Insert a new page template
  sd_add_page()
}

</code></pre>

<hr>
<h2 id='sd_add_question'>Add a Question Template to the Current Document</h2><span id='topic+sd_add_question'></span>

<h3>Description</h3>

<p>This function inserts a template for a surveydown question at the current
cursor position in the active RStudio document. It supports various question
types and automatically removes the function call before inserting the
template if it exists in the document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_add_question(type = "mc", chunk = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_add_question_+3A_type">type</code></td>
<td>
<p>A character string specifying the type of question template to
insert.
Default is <code>"mc"</code> (multiple choice). Available options are:
</p>

<ul>
<li> <p><code>"mc"</code>: Multiple choice (single selection)
</p>
</li>
<li> <p><code>"select"</code>: Dropdown selection
</p>
</li>
<li> <p><code>"mc_multiple"</code>: Multiple choice (multiple selections)
</p>
</li>
<li> <p><code>"mc_buttons"</code>: Multiple choice with button layout (single selection)
</p>
</li>
<li> <p><code>"mc_multiple_buttons"</code>: Multiple choice with button layout (multiple selections)
</p>
</li>
<li> <p><code>"text"</code>: Short text input
</p>
</li>
<li> <p><code>"textarea"</code>: Long text input
</p>
</li>
<li> <p><code>"numeric"</code>: Numeric input
</p>
</li>
<li> <p><code>"slider"</code>: Slider input
</p>
</li>
<li> <p><code>"date"</code>: Date input
</p>
</li>
<li> <p><code>"daterange"</code>: Date range input
</p>
</li></ul>
</td></tr>
<tr><td><code id="sd_add_question_+3A_chunk">chunk</code></td>
<td>
<p>Logical. If <code>TRUE</code>, the code will be generated with the R code
chunk wrapper. Defaults to <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function performs the following steps:
</p>

<ol>
<li><p> Checks for and removes any existing <code>sd_add_question()</code> function call in the document.
</p>
</li>
<li><p> Inserts the appropriate question template at the current cursor position.
</p>
</li></ol>



<h3>Value</h3>

<p>This function does not return a value. It modifies the active
document as a side effect by inserting text and potentially removing a
function call.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Insert a default multiple choice question template
  sd_add_question()

  # Insert a text input question template
  sd_add_question("text")

  # Insert a slider question template
  sd_add_question("slider")
}

</code></pre>

<hr>
<h2 id='sd_close'>Create a 'Close' Button to Exit the Survey</h2><span id='topic+sd_close'></span>

<h3>Description</h3>

<p>This function creates a 'Close' button that, when clicked, will trigger the exit process
for the survey. Depending on the server-side configuration, this may show a rating question
or a simple confirmation dialog before attempting to close the current browser tab or window.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_close(label = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_close_+3A_label">label</code></td>
<td>
<p>Character string. The label of the 'Close' button. Defaults to
<code>NULL</code>, in which case the word <code>"Exit Survey"</code> will be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function generates a 'shiny' action button that, when clicked, triggers
the 'show_exit_modal' event. The server-side logic (controlled by the
<code>rate_survey</code> parameter in <code>sd_server()</code>) determines whether to show a
rating question or a simple confirmation dialog.
</p>
<p>The function also includes a custom message handler for closing the window.
This is necessary because some browsers may not allow JavaScript to close
windows that were not opened by JavaScript. In such cases, the user will be
prompted to close the tab manually.
</p>


<h3>Value</h3>

<p>A 'shiny' tagList containing the 'Close' button UI element and
associated JavaScript for the exit process.
</p>


<h3>Note</h3>

<p>The actual behavior of the exit process (whether to show a rating
question or not) is controlled by the <code>rate_survey</code> parameter in the
<code>sd_server()</code> function, not in this UI function.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sd_server">sd_server</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_close.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {
    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_completion_code'>Generate a Random Completion Code</h2><span id='topic+sd_completion_code'></span>

<h3>Description</h3>

<p>This function generates a random completion code with a specified number of
digits. The code is returned as a character string.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_completion_code(digits = 6)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_completion_code_+3A_digits">digits</code></td>
<td>
<p>An integer specifying the number of digits in the completion
code. Must be a positive integer. Default is 6.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character string representing the random completion code.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>library(surveydown)

sd_completion_code()  # generates a 6-digit code
sd_completion_code(digits = 8)  # generates an 8-digit code
sd_completion_code(digits = 4)  # generates a 4-digit code
sd_completion_code(digits = 10)  # generates a 10-digit code

</code></pre>

<hr>
<h2 id='sd_copy_value'>Create a copy of a value</h2><span id='topic+sd_copy_value'></span>

<h3>Description</h3>

<p>This function creates a copy of an input value and makes it available as a
new output. The new output can then be displayed using <code>sd_output()</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_copy_value(id, id_copy)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_copy_value_+3A_id">id</code></td>
<td>
<p>Character string. The ID of the input value to copy.</p>
</td></tr>
<tr><td><code id="sd_copy_value_+3A_id_copy">id_copy</code></td>
<td>
<p>Character string. The ID for the new copy (must be different
from <code>id</code>).</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> invisibly. This function is called for its side effects.
</p>


<h3>See Also</h3>

<p><code>sd_output()</code> for displaying the copied value
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_ui.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "sd_copy_value.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    # Make a copy of the "name" variable to call its value a second time
    sd_copy_value(id = "name", id_copy = "name_copy")

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_create_survey'>Create a new survey template</h2><span id='topic+sd_create_survey'></span>

<h3>Description</h3>

<p>Create a new survey template
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_create_survey(path = getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_create_survey_+3A_path">path</code></td>
<td>
<p>A character string specifying the directory where the survey
template should be created. Defaults to the current working directory.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>. The function is called for its side effects.
</p>

<hr>
<h2 id='sd_create_translations'>Create a translations template file</h2><span id='topic+sd_create_translations'></span>

<h3>Description</h3>

<p>This function creates a template translations.yml file in the project root directory
that users can customize to modify system messages.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_create_translations(language = "en", path = getwd())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_create_translations_+3A_language">language</code></td>
<td>
<p>Character string specifying the language to use. See
https://shiny.posit.co/r/reference/shiny/1.7.0/dateinput for supported
languages. Also, if <code>"en"</code>, <code>"de"</code>, <code>"es"</code>, <code>"fr"</code>, or <code>"it"</code> is chosen,
default messages in those langauges will be used, otherwise the default
English messages will be used. Defaults to <code>"en"</code>.</p>
</td></tr>
<tr><td><code id="sd_create_translations_+3A_path">path</code></td>
<td>
<p>Character string specifying the directory where the translations.yml
file should be created. Defaults to the current working directory. The
file should be placed in the root project folder of your surveydown survey.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisible <code>NULL</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  # Create English template
  sd_create_translations()

  # Create German template
  sd_create_translations(language = "de")

  # Create Japanese template
  # Will use English messages but Japanese date picker - user can modify
  # the messages as desired
  sd_create_translations(language = "ja")
}
</code></pre>

<hr>
<h2 id='sd_dashboard'>Launch Survey Dashboard</h2><span id='topic+sd_dashboard'></span>

<h3>Description</h3>

<p>This function creates a comprehensive dashboard for survey data analysis
with two main tabs:
</p>

<ul>
<li><p> Dashboard: Displays survey statistics, response trends, and a full
response data table
</p>
</li>
<li><p> Settings: Provides interface for updating database connection settings
</p>
</li></ul>



<h3>Usage</h3>

<pre><code class='language-R'>sd_dashboard()
</code></pre>


<h3>Details</h3>

<p>Opens an interactive dashboard to view and analyze survey responses
using a Shiny dashboard interface.
</p>
<p>The dashboard offers the following features:
</p>

<ul>
<li><p> Summary value boxes showing total responses, daily average,
completion rate, and average rating
</p>
</li>
<li><p> Response trend plot with daily and cumulative responses
</p>
</li>
<li><p> Downloadable survey responses data table
</p>
</li>
<li><p> Database connection configuration and testing
</p>
</li></ul>



<h3>Value</h3>

<p>Launches a Shiny application with the survey dashboard.
The function does not return a value; it is called for its side effects
of opening the dashboard interface.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Launch the survey dashboard
sd_dashboard()

## End(Not run)

</code></pre>

<hr>
<h2 id='sd_database'>Connect to a 'PostgreSQL' Database with Automatic Cleanup</h2><span id='topic+sd_database'></span>

<h3>Description</h3>

<p>This function establishes a connection pool to a 'PostgreSQL' database
(e.g. Supabase) and sets up automatic cleanup when the 'shiny' session ends.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_database(
  host = NULL,
  dbname = NULL,
  port = NULL,
  user = NULL,
  table = NULL,
  password = Sys.getenv("SURVEYDOWN_PASSWORD"),
  gssencmode = "prefer",
  ignore = FALSE,
  min_size = 1,
  max_size = Inf
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_database_+3A_host">host</code></td>
<td>
<p>Character string. The host address of the PostgreSQL database.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_dbname">dbname</code></td>
<td>
<p>Character string. The name of the PostgreSQL database.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_port">port</code></td>
<td>
<p>Integer. The port number for the PostgreSQL database connection.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_user">user</code></td>
<td>
<p>Character string. The username for the PostgreSQL database
connection.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_table">table</code></td>
<td>
<p>Character string. The name of the table to interact with in
the Supabase database.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_password">password</code></td>
<td>
<p>Character string. The password for the PostgreSQL database
connection. NOTE: While you can provide a hard-coded password here, we do
NOT recommend doing so for security purposes. Instead, you should establish
a password with <code>surveydown::sd_set_password()</code>, which will create a local
<code>.Renviron</code> file that stores your password as a <code>SURVEYDOWN_PASSWORD</code>
environment
variable. The <code>password</code> argument uses this as the default value, so if you
set a password properly with <code>surveydown::sd_set_password()</code>, then you can
safely ignore using the <code>password</code> argument here.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_gssencmode">gssencmode</code></td>
<td>
<p>Character string. The GSS encryption mode for the database
connection. Defaults to <code>"prefer"</code>. NOTE: If you have verified all
connection details are correct but still cannot access the database,
consider setting this to <code>"disable"</code>. This can be necessary if you're on a
secure connection, such as a VPN.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_ignore">ignore</code></td>
<td>
<p>Logical. If <code>TRUE</code>, data will be saved to a local CSV file
instead of the database. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_min_size">min_size</code></td>
<td>
<p>Integer. The minimum number of connections in the pool.
Defaults to 1.</p>
</td></tr>
<tr><td><code id="sd_database_+3A_max_size">max_size</code></td>
<td>
<p>Integer. The maximum number of connections in the pool.
Defaults to <code>Inf</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the database connection pool (<code>db</code>) and the table
name (<code>table</code>), or <code>NULL</code> if in ignore mode or if there's an error.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  # Assuming SURVEYDOWN_PASSWORD is set in .Renviron
  db &lt;- sd_database(
    host   = "aws-0-us-west-1.pooler.supabase.com",
    dbname = "postgres",
    port   = "6---",
    user   = "postgres.k----------i",
    table  = "your-table-name",
    ignore = FALSE
  )

  # Print the structure of the connection
  str(db)

  # Close the connection pool when done
  if (!is.null(db)) {
    pool::poolClose(db$db)
  }
}
</code></pre>

<hr>
<h2 id='sd_db_config'>Configure database settings</h2><span id='topic+sd_db_config'></span>

<h3>Description</h3>

<p>Set up or modify database configuration settings in a .env file. These settings
are used to establish database connections for storing survey responses.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_db_config(
  host = NULL,
  dbname = NULL,
  port = NULL,
  user = NULL,
  table = NULL,
  password = NULL,
  interactive = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_db_config_+3A_host">host</code></td>
<td>
<p>Character string. Database host</p>
</td></tr>
<tr><td><code id="sd_db_config_+3A_dbname">dbname</code></td>
<td>
<p>Character string. Database name</p>
</td></tr>
<tr><td><code id="sd_db_config_+3A_port">port</code></td>
<td>
<p>Character string. Database port</p>
</td></tr>
<tr><td><code id="sd_db_config_+3A_user">user</code></td>
<td>
<p>Character string. Database user</p>
</td></tr>
<tr><td><code id="sd_db_config_+3A_table">table</code></td>
<td>
<p>Character string. Table name</p>
</td></tr>
<tr><td><code id="sd_db_config_+3A_password">password</code></td>
<td>
<p>Character string. Database password</p>
</td></tr>
<tr><td><code id="sd_db_config_+3A_interactive">interactive</code></td>
<td>
<p>Logical. Whether to use interactive setup. Defaults to TRUE if no parameters provided</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Invisibly returns a list of the current configuration settings
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+sd_db_connect">sd_db_connect()</a></code> to connect to the database
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  # Interactive setup
  sd_db_config()

  # Update specific settings
  sd_db_config(table = "new_table")

  # Update multiple settings
  sd_db_config(
    host = "new_host",
    port = "5433",
    table = "new_table"
  )
}


</code></pre>

<hr>
<h2 id='sd_db_connect'>Connect to database</h2><span id='topic+sd_db_connect'></span>

<h3>Description</h3>

<p>Establish a connection to the database using settings from .env file. This function
creates a connection pool for efficient database access and provides options for
local data storage when needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_db_connect(env_file = ".env", ignore = FALSE, gssencmode = "prefer")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_db_connect_+3A_env_file">env_file</code></td>
<td>
<p>Character string. Path to the env file. Defaults to &quot;.env&quot;</p>
</td></tr>
<tr><td><code id="sd_db_connect_+3A_ignore">ignore</code></td>
<td>
<p>Logical. If <code>TRUE</code>, data will be saved to a local CSV file
instead of the database. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sd_db_connect_+3A_gssencmode">gssencmode</code></td>
<td>
<p>Character string. The GSS encryption mode for the database
connection. Defaults to <code>"prefer"</code>. NOTE: If you have verified all
connection details are correct but still cannot access the database,
consider setting this to <code>"disable"</code>. This can be necessary if you're on a
secure connection, such as a VPN.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing the database connection pool (<code>db</code>) and table name (<code>table</code>),
or <code>NULL</code> if ignore is <code>TRUE</code> or if connection fails
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  # Connect using settings from .env
  db &lt;- sd_db_connect()

  # Use local storage instead of database
  db &lt;- sd_db_connect(ignore = TRUE)

  # Close connection when done
  if (!is.null(db)) {
    pool::poolClose(db$db)
  }
}

</code></pre>

<hr>
<h2 id='sd_display_question'>Create a placeholder for a reactive survey question</h2><span id='topic+sd_display_question'></span>

<h3>Description</h3>

<p>This function is depreciated - use <code>sd_output()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_display_question(id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_display_question_+3A_id">id</code></td>
<td>
<p>A unique identifier for the question.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'shiny' UI element that serves as a placeholder for the reactive
question.
</p>

<hr>
<h2 id='sd_display_value'>Display the value of a survey question</h2><span id='topic+sd_display_value'></span>

<h3>Description</h3>

<p>This function is depreciated - use <code>sd_output()</code> instead.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_display_value(id, display_type = "inline", wrapper = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_display_value_+3A_id">id</code></td>
<td>
<p>The ID of the question to display</p>
</td></tr>
<tr><td><code id="sd_display_value_+3A_display_type">display_type</code></td>
<td>
<p>The type of display. Can be <code>"inline"</code> (default),
<code>"text"</code>, <code>"verbatim"</code>, or <code>"ui"</code>.</p>
</td></tr>
<tr><td><code id="sd_display_value_+3A_wrapper">wrapper</code></td>
<td>
<p>A function to wrap the output</p>
</td></tr>
<tr><td><code id="sd_display_value_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the wrapper function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A 'shiny' UI element displaying the question's value
</p>

<hr>
<h2 id='sd_get_data'>Fetch data from a database table with automatic reactivity detection</h2><span id='topic+sd_get_data'></span>

<h3>Description</h3>

<p>This function retrieves all data from a specified table in a database.
It automatically detects whether it's being used in a reactive context
(e.g., within a 'shiny' application) and behaves accordingly. In a reactive
context, it returns a reactive expression that automatically refreshes
the data at specified intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_get_data(db, table = NULL, refresh_interval = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_get_data_+3A_db">db</code></td>
<td>
<p>A list containing database connection details created using
<code>sd_db_config()</code>. Must have elements:
</p>

<ul>
<li> <p><code>db</code>: A <code>DBI</code> database connection object
</p>
</li>
<li> <p><code>table</code>: A string specifying the name of the table to query
</p>
</li></ul>
</td></tr>
<tr><td><code id="sd_get_data_+3A_table">table</code></td>
<td>
<p>Character string. Database table name to obtain data from,
overrides the table provided in the <code>db</code> argument. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="sd_get_data_+3A_refresh_interval">refresh_interval</code></td>
<td>
<p>Numeric. The time interval (in seconds) between data
refreshes when in a reactive context. Default is <code>NULL</code>, meaning the data
will not refresh.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>In a non-reactive context, returns a data frame containing all rows
and columns from the specified table. In a reactive context, returns a
reactive expression that, when called, returns the most recent data from
the specified database table.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Non-reactive context example
## Not run: 
  library(surveydown)

  # Assuming you have a database connection called db created using
  # sd_database(), you can fetch data with:

  data &lt;- sd_get_data(db)
  head(data)

  # Reactive context example (inside a surveydown app)

  server &lt;- function(input, output, session) {
    data &lt;- sd_get_data(db, refresh_interval = 10)

    output$data_table &lt;- renderTable({
      data()  # Note the parentheses to retrieve the reactive value
    })
  }

## End(Not run)
</code></pre>

<hr>
<h2 id='sd_get_url_pars'>Get URL Parameters in a 'shiny' Application</h2><span id='topic+sd_get_url_pars'></span>

<h3>Description</h3>

<p>This function retrieves URL parameters from the current 'shiny' session.
It must be called from within a 'shiny' reactive context.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_get_url_pars(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_get_url_pars_+3A_...">...</code></td>
<td>
<p>Optional. Names of specific URL parameters to retrieve.
If none are specified, all URL parameters are returned.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A reactive expression that returns a list of URL parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_redirect.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    # Reactive expression that generates a url with an id variable
    # parsed from the url
    url_redirect &lt;- reactive({
      params &lt;- sd_get_url_pars()
      id &lt;- params["id"]
      return(paste0("https://www.google.com?id=", id))
    })

    # Create the redirect button
    sd_redirect(
      id = "redirect_url_pars",
      url = url_redirect(),
      button = TRUE,
      label = "Redirect"
    )

    sd_skip_if(
      input$screening_question == "end_1" ~ "end_page_1",
      input$screening_question == "end_1" ~ "end_page_2",
    )

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_include_folder'>Include a folder to the 'shiny' resource path</h2><span id='topic+sd_include_folder'></span>

<h3>Description</h3>

<p>This function includes a specified folder to the 'shiny' resource path,
making it accessible for serving static files in a 'shiny' application.
It checks for pre-existing resource paths to avoid conflicts with
folders already included by the package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_include_folder(folder)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_include_folder_+3A_folder">folder</code></td>
<td>
<p>A character string specifying the name of the folder to
include. This folder should exist in the root directory of your 'shiny'
app.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> invisibly. The function is called for its side effect of
adding a resource path to 'shiny'.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(shiny)

  # Create an "images" folder
  dir.create("images")

  # Include the folder in the shiny resource path
  sd_include_folder("images")
}

</code></pre>

<hr>
<h2 id='sd_is_answered'>Check if a question is answered</h2><span id='topic+sd_is_answered'></span>

<h3>Description</h3>

<p>This function checks if a given question has been answered by the user.
For matrix questions, it checks if all sub-questions (rows) are answered.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_is_answered(question_id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_is_answered_+3A_question_id">question_id</code></td>
<td>
<p>The ID of the question to check.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A logical value: <code>TRUE</code> if the question is answered, <code>FALSE</code>
otherwise.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_is_answered.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    sd_show_if(
      # If "apple_text" is answered, show the conditional question
      sd_is_answered("apple_text") ~ "other_fruit"
    )

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_next'>Create a 'Next' Button for Page Navigation</h2><span id='topic+sd_next'></span>

<h3>Description</h3>

<p>This function creates a 'Next' button for navigating to the specified next page in a Surveydown survey.
The button can be activated by clicking or by pressing the Enter key when visible.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_next(next_page = NULL, label = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_next_+3A_next_page">next_page</code></td>
<td>
<p>Character string. The ID of the next page to navigate to. This parameter is required.</p>
</td></tr>
<tr><td><code id="sd_next_+3A_label">label</code></td>
<td>
<p>Character string. The label of the 'Next' button. Defaults to
<code>NULL</code>, in which case the word <code>"Next"</code> will be used.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function generates a 'shiny' action button that, when clicked
or when the Enter key is pressed, sets the input value to the specified next
page ID, facilitating page navigation within the Shiny application. The
button is styled to appear centered on the page and includes a class for
Enter key functionality.
</p>


<h3>Value</h3>

<p>A 'shiny' tagList containing the 'Next' button UI element.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_next.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {
    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_output'>Output Function for Displaying reactive objects and values</h2><span id='topic+sd_output'></span>

<h3>Description</h3>

<p>Output Function for Displaying reactive objects and values
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_output(
  id,
  type = NULL,
  width = "100%",
  display = "text",
  inline = TRUE,
  wrapper = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_output_+3A_id">id</code></td>
<td>
<p>Character string. A unique identifier for the output element.</p>
</td></tr>
<tr><td><code id="sd_output_+3A_type">type</code></td>
<td>
<p>Character string. Specifies the type of output. Can be
<code>"question"</code>, <code>"value"</code>, or <code>NULL.</code> If <code>NULL</code>, the function behaves like
<code>shiny::uiOutput()</code>.</p>
</td></tr>
<tr><td><code id="sd_output_+3A_width">width</code></td>
<td>
<p>Character string. The width of the UI element. Defaults to
<code>"100%"</code>.</p>
</td></tr>
<tr><td><code id="sd_output_+3A_display">display</code></td>
<td>
<p>Character string. Specifies the display type for <code>"value"</code>
outputs. Can be <code>"text"</code>, <code>"verbatim"</code>, or <code>"ui"</code>. Only used when
<code>type = "value"</code>.</p>
</td></tr>
<tr><td><code id="sd_output_+3A_inline">inline</code></td>
<td>
<p>Logical. Whether to render the output inline. Defaults to
<code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sd_output_+3A_wrapper">wrapper</code></td>
<td>
<p>Function. A function to wrap the output. Only used when
<code>type = "value"</code>.</p>
</td></tr>
<tr><td><code id="sd_output_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the underlying 'shiny' functions
or the wrapper function.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function behaves differently based on the <code>type</code> parameter:
</p>

<ul>
<li><p> If <code>type</code> is <code>NULL</code>, it acts like <code>shiny::uiOutput()</code>.
</p>
</li>
<li><p> If <code>type</code> is <code>"question"</code>, it creates a placeholder for a reactive survey question.
</p>
</li>
<li><p> If <code>type</code> is <code>"value"</code>, it creates an output to display the value of a survey question,
with the display style determined by the <code>display</code> parameter.
</p>
</li></ul>



<h3>Value</h3>

<p>A 'shiny' UI element, the type of which depends on the input
parameters.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_output.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {
    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_question'>Create a survey question</h2><span id='topic+sd_question'></span>

<h3>Description</h3>

<p>This function creates various types of survey questions for use in a Surveydown survey.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_question(
  type,
  id,
  label,
  cols = "80",
  direction = "horizontal",
  status = "default",
  width = "100%",
  height = NULL,
  selected = NULL,
  label_select = "Choose an option...",
  grid = TRUE,
  individual = TRUE,
  justified = FALSE,
  force_edges = TRUE,
  option = NULL,
  placeholder = NULL,
  resize = NULL,
  row = NULL,
  default = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_question_+3A_type">type</code></td>
<td>
<p>Specifies the type of question. Possible values are <code>"select"</code>,
<code>"mc"</code>, <code>"mc_multiple"</code>, <code>"mc_buttons"</code>, <code>"mc_multiple_buttons"</code>, <code>"text"</code>,
<code>"textarea"</code>, <code>"numeric"</code>, <code>"slider"</code>, <code>"slider_numeric"</code>, <code>"date"</code>,
<code>"daterange"</code>, and <code>"matrix"</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_id">id</code></td>
<td>
<p>A unique identifier for the question, which will be used as the
variable name in the resulting survey data.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_label">label</code></td>
<td>
<p>Character string. The label for the UI element, which can be
formatted with markdown.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_cols">cols</code></td>
<td>
<p>Integer. Number of columns for the <code>"textarea"</code> question type.
Defaults to 80.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_direction">direction</code></td>
<td>
<p>Character string. The direction for button groups
(<code>"horizontal"</code> or <code>"vertical"</code>). Defaults to <code>"horizontal"</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_status">status</code></td>
<td>
<p>Character string. The status for button groups.
Defaults to <code>"default"</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_width">width</code></td>
<td>
<p>Character string. The width of the UI element.
Defaults to <code>"100%"</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_height">height</code></td>
<td>
<p>Character string. The height of the input for the
<code>"textarea"</code> question type. Defaults to <code>"100px"</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_selected">selected</code></td>
<td>
<p>Value. The selected value(s) for certain input elements.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_label_select">label_select</code></td>
<td>
<p>Character string. The label for the select input.
Defaults to <code>"Choose an option..."</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_grid">grid</code></td>
<td>
<p>Logical. Whether to show a grid for slider input.
Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_individual">individual</code></td>
<td>
<p>Logical. Whether buttons in a group should be individually
styled. Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_justified">justified</code></td>
<td>
<p>Logical. Whether buttons in a group should fill the width
of the parent div. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_force_edges">force_edges</code></td>
<td>
<p>Logical. Whether to force edges for slider input.
Defaults to <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_option">option</code></td>
<td>
<p>Named vector for the <code>"select"</code>, <code>"radio"</code>, <code>"checkbox"</code>,
and <code>"slider"</code> question types, or numeric vector for <code>"slider_numeric"</code>
question type.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_placeholder">placeholder</code></td>
<td>
<p>Character string. Placeholder text for <code>"text"</code> and
<code>"textarea"</code> question types.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_resize">resize</code></td>
<td>
<p>Character string. Resize option for textarea input.
Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_row">row</code></td>
<td>
<p>List. Used for <code>"matrix"</code> type questions. Contains the row labels
and their corresponding IDs.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_default">default</code></td>
<td>
<p>Numeric, length 1 (for a single sided slider), or 2 for a
two sided (range based) slider. Values to be used as the starting default
for the slider. Defaults to the median of values.</p>
</td></tr>
<tr><td><code id="sd_question_+3A_...">...</code></td>
<td>
<p>Additional arguments, often specific to different input types.
Examples include <code>pre</code>, <code>sep</code>, <code>step</code>, and <code>animate</code> for <code>"slider"</code> and
<code>"slider_numeric"</code> question types, etc.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function supports various question types:
</p>

<ul>
<li> <p><code>"select"</code>: A dropdown selection
</p>
</li>
<li> <p><code>"mc"</code>: Multiple choice (single selection)
</p>
</li>
<li> <p><code>"mc_multiple"</code>: Multiple choice (multiple selections allowed)
</p>
</li>
<li> <p><code>"mc_buttons"</code>: Multiple choice with button-style options (single selection)
</p>
</li>
<li> <p><code>"mc_multiple_buttons"</code>: Multiple choice with button-style options (multiple selections allowed)
</p>
</li>
<li> <p><code>"text"</code>: Single-line text question
</p>
</li>
<li> <p><code>"textarea"</code>: Multi-line text question
</p>
</li>
<li> <p><code>"numeric"</code>: Numeric question
</p>
</li>
<li> <p><code>"slider"</code>: Slider question
</p>
</li>
<li> <p><code>"slider_numeric"</code>: Extended numeric slider question
</p>
</li>
<li> <p><code>"date"</code>: Date question
</p>
</li>
<li> <p><code>"daterange"</code>: Date range question
</p>
</li>
<li> <p><code>"matrix"</code>: Matrix-style question with rows and columns
</p>
</li></ul>

<p>For <code>"matrix"</code> type questions, use the <code>row</code> parameter to define the rows of
the matrix. Each element in the <code>row</code> list should have a name (used as the
row ID) and a value (used as the row label).
</p>


<h3>Value</h3>

<p>A 'shiny' UI element wrapped in a div with a data attribute for
question ID.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "basic_survey.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {
    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_question_custom'>Create a Custom Question with a Shiny Widget</h2><span id='topic+sd_question_custom'></span>

<h3>Description</h3>

<p>This function creates a custom survey question that incorporates any Shiny widget
and captures its interaction value. It allows for the integration of interactive
visualizations (e.g., maps, plots) or other custom Shiny outputs into a survey,
storing the result of user interaction as survey data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_question_custom(id, label, output, value, height = "400px")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_question_custom_+3A_id">id</code></td>
<td>
<p>Character string. A unique identifier for the question.</p>
</td></tr>
<tr><td><code id="sd_question_custom_+3A_label">label</code></td>
<td>
<p>Character string. The label text for the question, which can
include HTML formatting.</p>
</td></tr>
<tr><td><code id="sd_question_custom_+3A_output">output</code></td>
<td>
<p>Shiny UI element. The output of a Shiny widget (e.g.,
<code>leafletOutput()</code>, <code>plotlyOutput()</code>).</p>
</td></tr>
<tr><td><code id="sd_question_custom_+3A_value">value</code></td>
<td>
<p>Reactive expression that returns the value to be stored in the
survey data when the user interacts with the widget.</p>
</td></tr>
<tr><td><code id="sd_question_custom_+3A_height">height</code></td>
<td>
<p>Character string. The height of the widget output. Defaults to
&quot;400px&quot;.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function creates a custom question container that includes:
</p>

<ul>
<li><p> A visible widget output that users can interact with
</p>
</li>
<li><p> A hidden text input that stores the value from the interaction
</p>
</li>
<li><p> Automatic tracking of user interaction for progress monitoring
</p>
</li></ul>

<p>The value to be stored is controlled by the reactive expression provided to
the <code>value</code> parameter, which should update whenever the user interacts with
the widget in the desired way.
</p>


<h3>Value</h3>

<p>None (called for side effects)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sd_question">sd_question()</a></code> for standard question types
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)
  library(leaflet)

  server &lt;- function(input, output, session) {
    # Create map output
    output$usa_map &lt;- renderLeaflet({
      leaflet() |&gt;
        addTiles() |&gt;
        setView(lng = -98.5795, lat = 39.8283, zoom = 4)
    })

    # Reactive value for selected location
    selected_location &lt;- reactiveVal(NULL)

    # Click observer
    observeEvent(input$usa_map_click, {
      click &lt;- input$usa_map_click
      if (!is.null(click)) {
        selected_location(
          sprintf("Lat: %0.2f, Lng: %0.2f", click$lat, click$lng)
        )
      }
    })

    # Create the custom question
    sd_question_custom(
      id = "location",
      label = "Click on your location:",
      output = leafletOutput("usa_map", height = "400px"),
      value = selected_location
    )

    sd_server()
  }

  shinyApp(ui = sd_ui(), server = server)
}

</code></pre>

<hr>
<h2 id='sd_reactive'>Create a reactive value that is also stored in survey data</h2><span id='topic+sd_reactive'></span>

<h3>Description</h3>

<p>This function creates a reactive value similar to Shiny's reactive() function,
but also automatically stores the calculated value in the survey data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_reactive(id, expr, blank_na = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_reactive_+3A_id">id</code></td>
<td>
<p>Character string. The id (name) of the value to be stored in the data.</p>
</td></tr>
<tr><td><code id="sd_reactive_+3A_expr">expr</code></td>
<td>
<p>An expression that calculates a value based on inputs</p>
</td></tr>
<tr><td><code id="sd_reactive_+3A_blank_na">blank_na</code></td>
<td>
<p>Logical. If TRUE, NA values are converted to empty strings. Default is TRUE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A reactive expression that can be called like a function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# In your server function:
product &lt;- sd_reactive("product", {
  input$first_number * input$second_number
})

# Use the reactive value elsewhere
output$result &lt;- renderText({
  paste("The product is:", product())
})

# In your survey.qmd file, display the value:
The product is: `r sd_output("product", type = "value")`.

## End(Not run)

</code></pre>

<hr>
<h2 id='sd_redirect'>Create a Redirect Element for 'shiny' Applications</h2><span id='topic+sd_redirect'></span>

<h3>Description</h3>

<p>This function creates a UI element that redirects the user to a specified
URL. It can be used in both reactive and non-reactive contexts within
'shiny' applications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_redirect(
  id,
  url,
  button = TRUE,
  label = "Click here",
  delay = NULL,
  newtab = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_redirect_+3A_id">id</code></td>
<td>
<p>A character string of a unique id to be used to identify the
redirect button in the survey body.</p>
</td></tr>
<tr><td><code id="sd_redirect_+3A_url">url</code></td>
<td>
<p>A character string specifying the URL to redirect to.</p>
</td></tr>
<tr><td><code id="sd_redirect_+3A_button">button</code></td>
<td>
<p>A logical value indicating whether to create a button (<code>TRUE</code>)
or a text element (<code>FALSE</code>) for the redirect. Default is <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="sd_redirect_+3A_label">label</code></td>
<td>
<p>A character string for the button or text label. Defaults to
<code>NULL</code>, in which case the words <code>"Click here"</code> will be used.</p>
</td></tr>
<tr><td><code id="sd_redirect_+3A_delay">delay</code></td>
<td>
<p>An optional numeric value specifying the delay in seconds before
automatic redirection. If <code>NULL</code> (default), no automatic redirection
occurs.</p>
</td></tr>
<tr><td><code id="sd_redirect_+3A_newtab">newtab</code></td>
<td>
<p>A logical value indicating whether to open the URL in a new
tab (<code>TRUE</code>) or in the current tab (<code>FALSE</code>). Default is <code>FALSE</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>In a reactive context, returns a function that when called, renders
the redirect element. In a non-reactive context, returns the redirect
element directly.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_redirect.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    # Reactive expression that generates a url with an id variable
    # parsed from the url
    url_redirect &lt;- reactive({
      params &lt;- sd_get_url_pars()
      id &lt;- params["id"]
      return(paste0("https://www.google.com?id=", id))
    })

    # Create the redirect button
    sd_redirect(
      id = "redirect_url_pars",
      url = url_redirect(),
      button = TRUE,
      label = "Redirect"
    )

    sd_skip_if(
      input$screening_question == "end_1" ~ "end_page_1",
      input$screening_question == "end_1" ~ "end_page_2",
    )

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}
</code></pre>

<hr>
<h2 id='sd_server'>Server logic for a surveydown survey</h2><span id='topic+sd_server'></span>

<h3>Description</h3>

<p>This function defines the server-side logic for a 'shiny' application used in
surveydown. It handles various operations such as conditional display,
progress tracking, page navigation, database updates for survey responses,
and exit survey functionality.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_server(
  db = NULL,
  required_questions = NULL,
  all_questions_required = FALSE,
  start_page = NULL,
  auto_scroll = FALSE,
  rate_survey = FALSE,
  language = "en",
  use_cookies = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_server_+3A_db">db</code></td>
<td>
<p>A list containing database connection information created using
<code>sd_database()</code> function. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_required_questions">required_questions</code></td>
<td>
<p>Vector of character strings. The IDs of questions
that must be answered. Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_all_questions_required">all_questions_required</code></td>
<td>
<p>Logical. If <code>TRUE</code>, all questions in the
survey will be required. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_start_page">start_page</code></td>
<td>
<p>Character string. The ID of the page to start on.
Defaults to <code>NULL</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_auto_scroll">auto_scroll</code></td>
<td>
<p>Logical. Whether to enable auto-scrolling to the next
question after answering. Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_rate_survey">rate_survey</code></td>
<td>
<p>Logical. If <code>TRUE</code>, shows a rating question when exiting
the survey. If <code>FALSE</code>, shows a simple confirmation dialog.
Defaults to <code>FALSE</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_language">language</code></td>
<td>
<p>Set the language for the survey system messages. Include
your own in a <code>translations.yml</code> file, or choose a built in one from
the following list: English (<code>"en"</code>), German (<code>"de"</code>), Spanish (<code>"es"</code>),
French (<code>"fr"</code>), Italian (<code>"it"</code>), Simplified Chinese (<code>"zh-CN"</code>).
Defaults to <code>"en"</code>.</p>
</td></tr>
<tr><td><code id="sd_server_+3A_use_cookies">use_cookies</code></td>
<td>
<p>Logical. If <code>TRUE</code>, enables cookie-based session management
for storing and restoring survey progress. Defaults to <code>TRUE</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function performs the following tasks:
</p>

<ul>
<li><p> Initializes variables and reactive values.
</p>
</li>
<li><p> Implements conditional display logic for questions.
</p>
</li>
<li><p> Tracks answered questions and updates the progress bar.
</p>
</li>
<li><p> Handles page navigation and skip logic.
</p>
</li>
<li><p> Manages required questions.
</p>
</li>
<li><p> Performs database operation.
</p>
</li>
<li><p> Controls auto-scrolling behavior based on the <code>auto_scroll</code> argument.
</p>
</li>
<li><p> Uses sweetalert for warning messages when required questions are not
answered.
</p>
</li>
<li><p> Handles the exit survey process based on the <code>rate_survey</code> argument.
</p>
</li></ul>



<h3>Value</h3>

<p>This function does not return a value; it sets up the server-side logic for
the 'shiny' application.
</p>


<h3>Progress Bar</h3>

<p>The progress bar is updated based on the last answered question. It will jump
to the percentage corresponding to the last answered question and will never
decrease, even if earlier questions are answered later. The progress is
calculated as the ratio of the last answered question's index to the total
number of questions.
</p>


<h3>Database Operations</h3>

<p>If <code>db</code> is provided, the function will update the database with survey
responses. If <code>db</code> is <code>NULL</code> (ignore mode), responses will be saved to a local
CSV file.
</p>


<h3>Auto-Scrolling</h3>

<p>When <code>auto_scroll</code> is <code>TRUE</code>, the survey will automatically scroll to the
next question after the current question is answered. This behavior can be
disabled by setting <code>auto_scroll = FALSE</code>.
</p>


<h3>Exit Survey</h3>

<p>When <code>rate_survey = TRUE</code>, the function will show a rating question when
the user attempts to exit the survey. When <code>FALSE</code>, it will show a simple
confirmation dialog. The rating, if provided, is saved with the survey data.
</p>


<h3>See Also</h3>

<p><code>sd_database()</code>, <code>sd_ui()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "basic_survey.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    # sd_server() accepts these following parameters
    sd_server(
      db = NULL,
      required_questions = NULL,
      all_questions_required = FALSE,
      start_page = NULL,
      auto_scroll = FALSE,
      rate_survey = FALSE,
      language = "en",
      use_cookies = TRUE
    )
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_set_password'>Set password for surveydown survey</h2><span id='topic+sd_set_password'></span>

<h3>Description</h3>

<p>This function sets your surveydown password, which is used to access
the 'PostgreSQL' data (e.g. Supabase). The password is saved in a <code>.Renviron</code>
file and adds <code>.Renviron</code> to <code>.gitignore</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_set_password(password)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_set_password_+3A_password">password</code></td>
<td>
<p>Character string. The password to be set for the database
connection.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function performs the following actions:
</p>

<ol>
<li><p> Creates a <code>.Renviron</code> file in the root directory if it doesn't exist.
</p>
</li>
<li><p> Adds or updates the <code>SURVEYDOWN_PASSWORD</code> entry in the <code>.Renviron</code> file.
</p>
</li>
<li><p> Adds <code>.Renviron</code> to <code>.gitignore</code> if it's not already there.
</p>
</li></ol>



<h3>Value</h3>

<p>None. The function is called for its side effects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  # Set a temporary password for demonstration
  temp_password &lt;- paste0(sample(letters, 10, replace = TRUE), collapse = "")

  # Set the password
  sd_set_password(temp_password)

  # After restarting R, verify the password was set
  cat("Password is :", Sys.getenv('SURVEYDOWN_PASSWORD'))

## End(Not run)

</code></pre>

<hr>
<h2 id='sd_setup'>Required Set Up Function</h2><span id='topic+sd_setup'></span>

<h3>Description</h3>

<p>This function is depreciated and no longer needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_setup()
</code></pre>


<h3>Details</h3>

<p>The function configures the 'shiny' application to use Bootstrap 5
for styling and enables 'shinyjs' for JavaScript functionalities within
the application.
</p>


<h3>Value</h3>

<p>This function does not return a value. It is called for its side
effects of setting up the 'shiny' application.
</p>

<hr>
<h2 id='sd_show_if'>Define show conditions for survey questions</h2><span id='topic+sd_show_if'></span>

<h3>Description</h3>

<p>This function is used to define conditions under which certain questions in the survey should be shown.
It takes one or more formulas where the left-hand side is the condition and the right-hand side is the target question ID.
If called with no arguments, it will return <code>NULL</code> and set no conditions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_show_if(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_show_if_+3A_...">...</code></td>
<td>
<p>One or more formulas defining show conditions.
The left-hand side of each formula should be a condition based on input values,
and the right-hand side should be the ID of the question to show if the condition is met.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of parsed conditions, where each element contains the condition and the target question ID.
Returns <code>NULL</code> if no conditions are provided.
</p>


<h3>See Also</h3>

<p><code>sd_skip_forward()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_show_if.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    sd_show_if(
      # If "Other" is chosen, show the conditional question
      input$fav_fruit == "other" ~ "fav_fruit_other"
    )

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_show_password'>Show the Saved Survey Password</h2><span id='topic+sd_show_password'></span>

<h3>Description</h3>

<p>This function displays the password saved in the <code>.Renviron</code> file under the
<code>SURVEYDOWN_PASSWORD</code> variable. It includes a confirmation step to ensure
the user wants to display the password in the console. If no password is
found, it suggests using the <code>sd_set_password()</code> function to define a
password.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_show_password()
</code></pre>


<h3>Value</h3>

<p>A character string containing the password if found and confirmed,
or a message if no password is saved along with a suggestion to set one.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  surveydown::sd_show_password()

## End(Not run)

</code></pre>

<hr>
<h2 id='sd_skip_forward'>Define forward skip conditions for survey pages</h2><span id='topic+sd_skip_forward'></span>

<h3>Description</h3>

<p>This function is used to define conditions under which certain pages in the
survey should be skipped ahead to (forward only). It takes one or more formulas
where the left-hand side is the condition and the right-hand side is the target page ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_skip_forward(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_skip_forward_+3A_...">...</code></td>
<td>
<p>One or more formulas defining skip conditions.
The left-hand side of each formula should be a condition based on input
values, and the right-hand side should be the ID of the page to skip to if
the condition is met. Only forward skipping (to pages later in the sequence) is allowed.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of parsed conditions, where each element contains the
condition and the target page ID.
</p>


<h3>See Also</h3>

<p><code>sd_show_if()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_skip_forward.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    # Skip forward to specific pages based on fruit selection
    sd_skip_forward(
      input$fav_fruit == "apple" ~ "apple_page",
      input$fav_fruit == "orange" ~ "orange_page",
      input$fav_fruit == "other" ~ "other_page"
    )

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_skip_if'>Define skip conditions for survey pages (Deprecated)</h2><span id='topic+sd_skip_if'></span>

<h3>Description</h3>

<p>This function is deprecated. Please use <code>sd_skip_forward()</code> instead.
</p>
<p>This function is used to define conditions under which certain pages in the
survey should be skipped. It now behaves like <code>sd_skip_forward()</code> where only forward
skipping is allowed to prevent navigation loops.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_skip_if(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_skip_if_+3A_...">...</code></td>
<td>
<p>One or more formulas defining skip conditions.
The left-hand side of each formula should be a condition based on input
values, and the right-hand side should be the ID of the page to skip to if
the condition is met.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of parsed conditions, where each element contains the
condition and the target page ID.
</p>

<hr>
<h2 id='sd_store_value'>Store a value in the survey data</h2><span id='topic+sd_store_value'></span>

<h3>Description</h3>

<p>This function allows storing additional values to be included in the survey
data, such as respondent IDs or other metadata.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_store_value(value, id = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sd_store_value_+3A_value">value</code></td>
<td>
<p>The value to be stored. This can be any R object that can be
coerced to a character string.</p>
</td></tr>
<tr><td><code id="sd_store_value_+3A_id">id</code></td>
<td>
<p>(Optional) Character string. The id (name) of the value in the
data. If not provided, the name of the <code>value</code> variable will be used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NULL</code> (invisibly)
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_ui.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "basic_survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {

    # Create a respondent ID to store
    respondentID &lt;- 42

    # Store the respondentID
    sd_store_value(respondentID)

    # Store the respondentID as the variable "respID"
    sd_store_value(respondentID, "respID")

    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_ui'>Create the UI for a surveydown survey</h2><span id='topic+sd_ui'></span>

<h3>Description</h3>

<p>This function creates the user interface for a surveydown survey,
including necessary CSS and JavaScript files, and applies custom styling.
It retrieves theme and progress bar settings from the survey.qmd file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_ui()
</code></pre>


<h3>Details</h3>

<p>The function reads the following settings from the survey.qmd YAML header:
</p>

<ul>
<li> <p><code>theme</code>: The theme to be applied to the survey.
</p>
</li>
<li> <p><code>barcolor</code>: The color of the progress bar (should be a valid hex color).
</p>
</li>
<li> <p><code>barposition</code>: The position of the progress bar (<code>'top'</code>, <code>'bottom'</code>, or <code>'none'</code>).
</p>
</li></ul>

<p>If <code>barcolor</code> is not specified or is <code>NULL</code>, the default theme color will be
used. If <code>barposition</code> is not specified, it defaults to 'top'.
</p>


<h3>Value</h3>

<p>A 'shiny' UI object
</p>


<h3>See Also</h3>

<p><code>sd_server()</code> for creating the server-side logic of the survey
</p>


<h3>Examples</h3>

<pre><code class='language-R'>if (interactive()) {
  library(surveydown)

  # Get path to example survey file
  survey_path &lt;- system.file("examples", "sd_ui.qmd",
                             package = "surveydown")

  # Copy to a temporary directory
  temp_dir &lt;- tempdir()
  file.copy(survey_path, file.path(temp_dir, "survey.qmd"))
  orig_dir &lt;- getwd()
  setwd(temp_dir)

  # Define a minimal server
  server &lt;- function(input, output, session) {
    sd_server()
  }

  # Run the app
  shiny::shinyApp(ui = sd_ui(), server = server)

  # Clean up
  setwd(orig_dir)
}

</code></pre>

<hr>
<h2 id='sd_version'>Check Surveydown Version</h2><span id='topic+sd_version'></span>

<h3>Description</h3>

<p>This function checks if the local surveydown package is up-to-date with
the latest online version. It compares the local version with the latest
version available on GitHub and provides information about whether an update
is needed.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sd_version()
</code></pre>


<h3>Value</h3>

<p>No return value, called for side effects (prints version information
and update status to the console).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>surveydown::sd_version()
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

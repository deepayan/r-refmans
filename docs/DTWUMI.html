<!DOCTYPE html><html><head><title>Help for package DTWUMI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {DTWUMI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dataDTWUMI'><p>A multivariate times series consisting of three signals as example for DTWUMI package</p></a></li>
<li><a href='#DTWUMI_1gap_imputation'><p>Imputation of a large gap based on DTW for multivariate signals</p></a></li>
<li><a href='#DTWUMI_imputation'><p>Large gaps imputation based on DTW for multivariate signals</p></a></li>
<li><a href='#DTWUMI-package'>
<p>Imputation of Multivariate Time Series Based on Dynamic Time Warping</p></a></li>
<li><a href='#imp_1NA'><p>Imputing gaps of size 1</p></a></li>
<li><a href='#Indexes_size_missing_multi'><p>Indexing gaps size</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Imputation of Multivariate Time Series Based on Dynamic Time
Warping</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-06-12</td>
</tr>
<tr>
<td>Author:</td>
<td>DEZECACHE Camille, PHAN Thi Thu Hong, POISSON-CAILLAULT Emilie</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>POISSON-CAILLAULT Emilie &lt;emilie.poisson@univ-littoral.fr&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Functions to impute large gaps within multivariate time series based on Dynamic Time Warping methods. Gaps of size 1 or inferior to a defined threshold are filled using simple average and weighted moving average respectively. Larger gaps are filled using the methodology provided by Phan et al. (2017) &lt;<a href="https://doi.org/10.1109%2FMLSP.2017.8168165">doi:10.1109/MLSP.2017.8168165</a>&gt;: a query is built immediately before/after a gap and a moving window is used to find the most similar sequence to this query using Dynamic Time Warping. To lower the calculation time, similar sequences are pre-selected using global features. Contrary to the univariate method (package 'DTWBI'), these global features are not estimated over the sequence containing the gap(s), but a feature matrix is built to summarize general features of the whole multivariate signal. Once the most similar sequence to the query has been identified, the adjacent sequence to this window is used to fill the gap considered. This function can deal with multiple gaps over all the sequences componing the input multivariate signal. However, for better consistency, large gaps at the same location over all sequences should be avoided.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.0.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dtw, rlist, stats, e1071, entropy, lsa, DTWBI</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="http://mawenzi.univ-littoral.fr/DTWUMI/">http://mawenzi.univ-littoral.fr/DTWUMI/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-07-09 07:21:32 UTC; camille</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2018-07-13 14:30:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='dataDTWUMI'>A multivariate times series consisting of three signals as example for DTWUMI package</h2><span id='topic+dataDTWUMI'></span>

<h3>Description</h3>

<p>A multivariate times series consisting of three signals as example for DTWUMI package
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dataDTWUMI
</code></pre>


<h3>Format</h3>

<p>A list storing two data frames with three columns each.
The first table contains the original complete simulated data.
The second table contains the same simulated data with one large gap added within each signal.</p>

<hr>
<h2 id='DTWUMI_1gap_imputation'>Imputation of a large gap based on DTW for multivariate signals</h2><span id='topic+DTWUMI_1gap_imputation'></span>

<h3>Description</h3>

<p>Fills a gap of size 'gap_size' begining at the position 'begin_gap' within a multivariate signal using DTW.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DTWUMI_1gap_imputation(data, id_sequence, begin_gap, gap_size,
  DTW_method = "DTW", threshold_cos = 0.995, thresh_cos_stop = 0.8,
  step_threshold = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_data">data</code></td>
<td>
<p>a multivariate signals containing gaps</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_id_sequence">id_sequence</code></td>
<td>
<p>id of the sequence containing the gap to fill (corresponding to the column number)</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_begin_gap">begin_gap</code></td>
<td>
<p>id of the begining of the gap to fill</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_gap_size">gap_size</code></td>
<td>
<p>size of the gap to fill</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_dtw_method">DTW_method</code></td>
<td>
<p>DTW method used for imputation (&quot;DTW&quot;, &quot;DDTW&quot;, &quot;AFBDTW&quot;). By default &quot;DTW&quot;</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_threshold_cos">threshold_cos</code></td>
<td>
<p>threshold used to define similar sequences to the query</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_thresh_cos_stop">thresh_cos_stop</code></td>
<td>
<p>Define the lowest cosine threshold acceptable to find a similar window to the query</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_step_threshold">step_threshold</code></td>
<td>
<p>step used within the loops determining the threshold and the most similar sequence to the query</p>
</td></tr>
<tr><td><code id="DTWUMI_1gap_imputation_+3A_...">...</code></td>
<td>
<p>additional arguments from dtw() function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a list containing the following elements:
</p>

<ul>
<li><p>imputed_values: output vector containing the imputation proposal
</p>
</li>
<li><p>id_imputation: a vector containing the position of the imputed values extracted
</p>
</li>
<li><p>id_sim_win: a vector containing the position of the similar window to the query
</p>
</li>
<li><p>id_gap: a vector containing the position gap considered
</p>
</li>
<li><p>id_query: a vector containing the position of the query
</p>
</li></ul>



<h3>Author(s)</h3>

<p>DEZECACHE Camille, PHAN Thi Thu Hong, POISSON-CAILLAULT Emilie
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDTWUMI)
dataDTWUMI_gap &lt;- dataDTWUMI[["incomplete_signal"]]
t &lt;- 207 ; T &lt;- 40
imputation &lt;- DTWUMI_1gap_imputation(dataDTWUMI_gap, id_sequence=1, t, T)
plot(dataDTWUMI_gap[, 1], type = "l", lwd = 2)
lines(y = imputation$imputed_values, x = imputation$id_gap, col = "red")
lines(y = dataDTWUMI_gap[imputation$id_query, 1], x = imputation$id_query, col = "green")
lines(y = dataDTWUMI_gap[imputation$id_sim_win, 1], x = imputation$id_sim_win, col = "blue")
lines(y = dataDTWUMI_gap[imputation$id_imputation, 1], x = imputation$id_imputation, col = "orange")
</code></pre>

<hr>
<h2 id='DTWUMI_imputation'>Large gaps imputation based on DTW for multivariate signals</h2><span id='topic+DTWUMI_imputation'></span>

<h3>Description</h3>

<p>Fills all gaps within a multivariate signal. Gaps of size 1 are filled using the average values of nearest neighbours.
Gaps of size &gt;1 and &lt;gap_size_threshold are filled using weighted moving average. Larger gaps are filled using DTW.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DTWUMI_imputation(data, gap_size_threshold, DTW_method = "DTW",
  threshold_cos = 0.995, thresh_cos_stop = 0.8, step_threshold = 2, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DTWUMI_imputation_+3A_data">data</code></td>
<td>
<p>a multivariate signals containing gaps</p>
</td></tr>
<tr><td><code id="DTWUMI_imputation_+3A_gap_size_threshold">gap_size_threshold</code></td>
<td>
<p>threshold above which dtw based imputation is computed. Below this threshold, a weighted moving average is calculated</p>
</td></tr>
<tr><td><code id="DTWUMI_imputation_+3A_dtw_method">DTW_method</code></td>
<td>
<p>DTW method used for imputation (&quot;DTW&quot;, &quot;DDTW&quot;, &quot;AFBDTW&quot;). By default &quot;DTW&quot;</p>
</td></tr>
<tr><td><code id="DTWUMI_imputation_+3A_threshold_cos">threshold_cos</code></td>
<td>
<p>threshold used to define similar sequences to the query</p>
</td></tr>
<tr><td><code id="DTWUMI_imputation_+3A_thresh_cos_stop">thresh_cos_stop</code></td>
<td>
<p>Define the lowest cosine threshold acceptable to find a similar window to the query</p>
</td></tr>
<tr><td><code id="DTWUMI_imputation_+3A_step_threshold">step_threshold</code></td>
<td>
<p>step used within the loops determining the threshold and the most similar sequence to the query</p>
</td></tr>
<tr><td><code id="DTWUMI_imputation_+3A_...">...</code></td>
<td>
<p>additional arguments from dtw() function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a list containing a dataframe of completed signals
</p>


<h3>Author(s)</h3>

<p>DEZECACHE Camille, PHAN Thi Thu Hong, POISSON-CAILLAULT Emilie
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDTWUMI)
dataDTWUMI_gap &lt;- dataDTWUMI[["incomplete_signal"]]
imputation &lt;- DTWUMI_imputation(dataDTWUMI_gap, gap_size_threshold = 10)
plot(dataDTWUMI_gap[, 1], type = "l", lwd = 2)
lines(imputation$output[, 1], col = "red")
plot(dataDTWUMI_gap[, 2], type = "l", lwd = 2)
lines(imputation$output[, 2], col = "red")
plot(dataDTWUMI_gap[, 3], type = "l", lwd = 2)
lines(imputation$output[, 3], col = "red")
</code></pre>

<hr>
<h2 id='DTWUMI-package'>
Imputation of Multivariate Time Series Based on Dynamic Time Warping
</h2><span id='topic+DTWUMI-package'></span><span id='topic+DTWUMI'></span>

<h3>Description</h3>

<p>Functions to impute large gaps within multivariate time series based on Dynamic Time Warping methods. Gaps of size 1 or inferior to a defined threshold are filled using simple average and weighted moving average respectively. Larger gaps are filled using the methodology provided by Phan et al. (2017) &lt;DOI:10.1109/MLSP.2017.8168165&gt;: a query is built immediately before/after a gap and a moving window is used to find the most similar sequence to this query using Dynamic Time Warping. To lower the calculation time, similar sequences are pre-selected using global features. Contrary to the univariate method (package 'DTWBI'), these global features are not estimated over the sequence containing the gap(s), but a feature matrix is built to summarize general features of the whole multivariate signal. Once the most similar sequence to the query has been identified, the adjacent sequence to this window is used to fill the gap considered. This function can deal with multiple gaps over all the sequences componing the input multivariate signal. However, for better consistency, large gaps at the same location over all sequences should be avoided.
</p>


<h3>Details</h3>


<p>Index of help topics:
</p>
<pre>
DTWUMI-package          Imputation of Multivariate Time Series Based on
                        Dynamic Time Warping
DTWUMI_1gap_imputation
                        Imputation of a large gap based on DTW for
                        multivariate signals
DTWUMI_imputation       Large gaps imputation based on DTW for
                        multivariate signals
Indexes_size_missing_multi
                        Indexing gaps size
dataDTWUMI              A multivariate times series consisting of three
                        signals as example for DTWUMI package
imp_1NA                 Imputing gaps of size 1
</pre>


<h3>Author(s)</h3>

<p>DEZECACHE Camille, PHAN Thi Thu Hong, POISSON-CAILLAULT Emilie
</p>
<p>Maintainer: POISSON-CAILLAULT Emilie &lt;emilie.poisson@univ-littoral.fr&gt;
</p>


<h3>References</h3>

<p>Thi-Thu-Hong Phan, Emilie Poisson-Caillault, Alain Lefebvre, Andre Bigand. Dynamic time warping-based imputation for univariate time series data.  Pattern Recognition Letters, Elsevier, 2017, &lt;DOI:10.1016/j.patrec.2017.08.019&gt;. &lt;hal-01609256&gt;
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDTWUMI)
dataDTWUMI_gap &lt;- dataDTWUMI[["incomplete_signal"]]
imputation &lt;- DTWUMI_imputation(dataDTWUMI_gap, gap_size_threshold = 10, DTW_method = "DTW")
plot(dataDTWUMI_gap[, 1], type = "l", lwd = 2)
lines(imputation$output[, 1], col = "red")
plot(dataDTWUMI_gap[, 2], type = "l", lwd = 2)
lines(imputation$output[, 2], col = "red")
plot(dataDTWUMI_gap[, 3], type = "l", lwd = 2)
lines(imputation$output[, 3], col = "red")
</code></pre>

<hr>
<h2 id='imp_1NA'>Imputing gaps of size 1</h2><span id='topic+imp_1NA'></span>

<h3>Description</h3>

<p>Imputes isolated missing values based on the average of nearest neighbours.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>imp_1NA(data, pos1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="imp_1NA_+3A_data">data</code></td>
<td>
<p>a univariate signal</p>
</td></tr>
<tr><td><code id="imp_1NA_+3A_pos1">pos1</code></td>
<td>
<p>the position of the begining of gaps of size 1, as obtained using Indexes_size_missing_multi() function</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a new vector of same size with imputed values
</p>


<h3>Author(s)</h3>

<p>DEZECACHE Camille, PHAN Thi Thu Hong, POISSON-CAILLAULT Emilie
</p>

<hr>
<h2 id='Indexes_size_missing_multi'>Indexing gaps size</h2><span id='topic+Indexes_size_missing_multi'></span>

<h3>Description</h3>

<p>Stores the position of the begining of each gap and their respective size within a multivariate signal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Indexes_size_missing_multi(data)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Indexes_size_missing_multi_+3A_data">data</code></td>
<td>
<p>multivariate signal</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns a list with one element per signal.
Within each element of this list, the first column gives the position of the begining of each gap and the second column its size.
</p>


<h3>Author(s)</h3>

<p>DEZECACHE Camille, PHAN Thi Thu Hong, POISSON-CAILLAULT Emilie
</p>


<h3>Examples</h3>

<pre><code class='language-R'>data(dataDTWUMI)
id_NA &lt;- Indexes_size_missing_multi(dataDTWUMI$incomplete_signal)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

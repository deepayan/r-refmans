<!DOCTYPE html><html><head><title>Help for package r4ss</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {r4ss}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_legend'><p>Add legend to plots</p></a></li>
<li><a href='#bubble3'><p>Create a bubble plot.</p></a></li>
<li><a href='#check_inputlist'><p>Check input argument <code>inputlist</code></p></a></li>
<li><a href='#check_model'><p>Check input argument <code>model</code></p></a></li>
<li><a href='#copy_SS_inputs'><p>Copy a the Stock Synthesis input files from one directory to another</p></a></li>
<li><a href='#DoProjectPlots'><p>Make plots from Rebuilder program</p></a></li>
<li><a href='#file_increment'><p>Rename Stock Synthesis files by adding integer value</p></a></li>
<li><a href='#get_comments'><p>Collect comments lines starting from &quot;#C&quot;</p>
in datfile, ctlfile, starter.ss, forecast.ss etc</a></li>
<li><a href='#get_dat_new_name'><p>Get the name of the data .ss_new file in a directory</p></a></li>
<li><a href='#get_last_phase'><p>Get the highest phase used in the control file</p></a></li>
<li><a href='#get_SIS_info'><p>Gather information for the NOAA Species Information System (SIS)</p></a></li>
<li><a href='#get_tuning_table'><p>Get the tuning table</p></a></li>
<li><a href='#get_tv_parlabs'><p>Get time varying parameter labels</p></a></li>
<li><a href='#getADMBHessian'><p>Read admodel.hes file</p></a></li>
<li><a href='#is.wholenumber'><p>Utility function to test if x is &quot;numerically&quot; integer wrt machine epsilon</p>
taken from example section of help of is.integer</a></li>
<li><a href='#make_multifig'><p>Create multi-figure plots.</p></a></li>
<li><a href='#make_multifig_sexratio'><p>Create multi-figure sex ratio plots.</p></a></li>
<li><a href='#mcmc.nuisance'><p>Summarize nuisance MCMC output</p></a></li>
<li><a href='#mcmc.out'><p>Summarize, analyze and plot key MCMC output.</p></a></li>
<li><a href='#mountains'><p>Make shaded polygons with a mountain-like appearance</p></a></li>
<li><a href='#NegLogInt_Fn'><p>Perform SS implementation of Laplace Approximation</p></a></li>
<li><a href='#PinerPlot'><p>Make plot of likelihood contributions by fleet</p></a></li>
<li><a href='#plotCI'><p>Plot points with confidence intervals.</p></a></li>
<li><a href='#populate_multiple_folders'><p>Populate multiple Stock Synthesis folders with input files</p></a></li>
<li><a href='#r4ss_logo'><p>Make a simple logo for r4ss organization on GitHub</p></a></li>
<li><a href='#r4ss-package'><p>r4ss: R Code for Stock Synthesis</p></a></li>
<li><a href='#read.admbFit'><p>Read ADMB .par and .cor files.</p></a></li>
<li><a href='#rich.colors.short'><p>Make a vector of colors.</p></a></li>
<li><a href='#run_SS_models'><p>Run multiple Stock Synthesis models</p></a></li>
<li><a href='#save_png'><p>Open png device and return info on the file being created</p></a></li>
<li><a href='#selShapes'><p>Launch a shiny app that displays various selectivity curves</p></a></li>
<li><a href='#SS_changepars'><p>Change parameters, bounds, or phases in the control file.</p></a></li>
<li><a href='#SS_decision_table_stuff'><p>Extract total catch, spawning output, and fraction unfished from forecast years</p></a></li>
<li><a href='#SS_doRetro'><p>Run retrospective analyses</p></a></li>
<li><a href='#SS_fitbiasramp'><p>Estimate bias adjustment for recruitment deviates</p></a></li>
<li><a href='#SS_ForeCatch'><p>Create table of fixed forecast catches</p></a></li>
<li><a href='#SS_html'><p>Create HTML files to view figures in browser.</p></a></li>
<li><a href='#SS_makeHTMLdiagnostictable'><p>Make html diagnostic tables</p></a></li>
<li><a href='#SS_output'><p>A function to create a list object for the output from Stock Synthesis</p></a></li>
<li><a href='#SS_parlines'><p>Get parameter lines from Stock Synthesis control file</p></a></li>
<li><a href='#SS_plots'><p>plot many quantities related to output from Stock Synthesis</p></a></li>
<li><a href='#SS_profile'><p>Run a likelihood profile in Stock Synthesis.</p></a></li>
<li><a href='#SS_read'><p>Read all Stock Synthesis input files for a model</p></a></li>
<li><a href='#SS_read_summary'><p>read ss_summary file</p></a></li>
<li><a href='#SS_readctl'><p>Read control file from SS</p></a></li>
<li><a href='#SS_readctl_3.24'><p>read control file from SS version 3.24</p></a></li>
<li><a href='#SS_readctl_3.30'><p>read control file from SS version 3.30</p></a></li>
<li><a href='#SS_readdat'><p>read Stock Synthesis data file</p></a></li>
<li><a href='#SS_readdat_2.00'><p>read data file from SS version 2.00</p></a></li>
<li><a href='#SS_readdat_3.00'><p>read data file from SS version 3.00</p></a></li>
<li><a href='#SS_readdat_3.24'><p>read data file from SS version 3.24</p></a></li>
<li><a href='#SS_readdat_3.30'><p>read data file from SS version 3.30</p></a></li>
<li><a href='#SS_readforecast'><p>read forecast file</p></a></li>
<li><a href='#SS_readpar_3.24'><p>read ss.par file from SS version 3.24</p></a></li>
<li><a href='#SS_readpar_3.30'><p>read ss.par file from SS version 3.30</p></a></li>
<li><a href='#SS_readstarter'><p>read starter file</p></a></li>
<li><a href='#SS_readwtatage'><p>Read weight-at-age data file</p></a></li>
<li><a href='#SS_recdevs'><p>Insert a vector of recruitment deviations into the control file.</p></a></li>
<li><a href='#SS_RunJitter'><p>Iteratively apply the jitter option in SS</p></a></li>
<li><a href='#SS_Sensi_plot'><p>Create relative sensitivity plots as described in Cope and Gertseva (2020)</p></a></li>
<li><a href='#SS_splitdat'><p>Split apart bootstrap data to make input file.</p></a></li>
<li><a href='#SS_tune_comps'><p>Calculate new tunings for length and age compositions and (re)run models</p></a></li>
<li><a href='#SS_varadjust'><p>Modify variance and sample size adjustments in the control file</p></a></li>
<li><a href='#SS_write'><p>Write all Stock Synthesis input files for a model</p></a></li>
<li><a href='#SS_writectl'><p>Write Stock Synthesis control file</p></a></li>
<li><a href='#SS_writectl_3.24'><p>write control file</p></a></li>
<li><a href='#SS_writectl_3.30'><p>write control file for SS version 3.30</p></a></li>
<li><a href='#SS_writedat'><p>write Stock Synthesis data file</p></a></li>
<li><a href='#SS_writedat_3.24'><p>write data file for SS version 3.24</p></a></li>
<li><a href='#SS_writedat_3.30'><p>write data file for SS version 3.30</p></a></li>
<li><a href='#SS_writeforecast'><p>write forecast file</p></a></li>
<li><a href='#SS_writepar_3.24'><p>write ss.par file from SS version 3.24</p></a></li>
<li><a href='#SS_writepar_3.30'><p>write ss.par file from SS version 3.30</p></a></li>
<li><a href='#SS_writestarter'><p>write starter file</p></a></li>
<li><a href='#SS_writewtatage'><p>Write weight-at-age file</p></a></li>
<li><a href='#SSbiologytables'><p>A function to create a table of biology for assessment reporting:</p>
length, weight, % mature, fecundity, and selectivity</a></li>
<li><a href='#SSbootstrap'><p>Fit models to parametric bootstraps</p></a></li>
<li><a href='#SSdiagsTime2Year'><p>Convert Time-Steps</p></a></li>
<li><a href='#SSexecutivesummary'><p>A function to create a executive summary tables from an SS Report.sso file</p></a></li>
<li><a href='#SSgetMCMC'><p>Read MCMC output.</p></a></li>
<li><a href='#SSgetoutput'><p>Get output from multiple Stock Synthesis models.</p></a></li>
<li><a href='#SSmakeMmatrix'><p>Convert a matrix of natural mortality values into</p>
inputs for Stock Synthesis</a></li>
<li><a href='#SSMethod.Cond.TA1.8'><p>Apply Francis composition weighting method TA1.8 for conditional age-at-length fits</p></a></li>
<li><a href='#SSMethod.TA1.8'><p>Apply Francis composition weighting method TA1.8</p></a></li>
<li><a href='#SSmohnsrho'><p>Calculate Mohn's Rho values for select quantities</p></a></li>
<li><a href='#sspar'><p>Allow Multi-Plots</p>
Set the par() to options suitable for ss3diags multi plots.</a></li>
<li><a href='#SSplotAgeMatrix'><p>Plot matrix of either length or observed age at true age</p></a></li>
<li><a href='#SSplotBiology'><p>Plot biology related quantities.</p></a></li>
<li><a href='#SSplotCatch'><p>Plot catch related quantities.</p></a></li>
<li><a href='#SSplotCohortCatch'><p>Plot cumulative catch by cohort.</p></a></li>
<li><a href='#SSplotComparisons'><p>plot model comparisons</p></a></li>
<li><a href='#SSplotComps'><p>Plot composition data and fits.</p></a></li>
<li><a href='#SSplotData'><p>Timeline of presence/absence of data by type, year, and fleet.</p></a></li>
<li><a href='#SSplotDiscard'><p>Plot fit to discard fraction.</p></a></li>
<li><a href='#SSplotDynamicB0'><p>Plot Dynamic B0</p></a></li>
<li><a href='#SSplotIndices'><p>Plot indices of abundance and associated quantities.</p></a></li>
<li><a href='#SSplotMCMC_ExtraSelex'><p>Plot uncertainty around chosen selectivity ogive from MCMC.</p></a></li>
<li><a href='#SSplotMnwt'><p>Plot mean weight data and fits.</p></a></li>
<li><a href='#SSplotMovementMap'><p>Show movement rates on a map.</p></a></li>
<li><a href='#SSplotMovementRates'><p>Plot movement rates from model output</p></a></li>
<li><a href='#SSplotNumbers'><p>Plot numbers-at-age related data and fits.</p></a></li>
<li><a href='#SSplotPars'><p>Plot distributions of priors, posteriors, and estimates.</p></a></li>
<li><a href='#SSplotProfile'><p>Plot likelihood profile results</p></a></li>
<li><a href='#SSplotRecdevs'><p>Plot recruitment deviations</p></a></li>
<li><a href='#SSplotRecdist'><p>Plot of recruitment distribution among areas and seasons</p></a></li>
<li><a href='#SSplotRetroRecruits'><p>Make squid plot of retrospectives of recruitment deviations.</p></a></li>
<li><a href='#SSplotSelex'><p>Plot selectivity</p></a></li>
<li><a href='#SSplotSexRatio'><p>Plot sex-ratio data and fits for two sex models</p></a></li>
<li><a href='#SSplotSpawnrecruit'><p>Plot spawner-recruit curve.</p></a></li>
<li><a href='#SSplotSPR'><p>Plot Spawning Potential Ratio (SPR) quantities.</p></a></li>
<li><a href='#SSplotSummaryF'><p>Plot the summary F (or harvest rate).</p></a></li>
<li><a href='#SSplotTags'><p>Plot tagging data and fits</p></a></li>
<li><a href='#SSplotTimeseries'><p>Plot timeseries data</p></a></li>
<li><a href='#SSplotYield'><p>Plot yield and surplus production.</p></a></li>
<li><a href='#SSsummarize'><p>Summarize the output from multiple Stock Synthesis models.</p></a></li>
<li><a href='#SStableComparisons'><p>make table comparing quantities across models</p></a></li>
<li><a href='#SSunavailableSpawningOutput'><p>Plot unavailable spawning output</p></a></li>
<li><a href='#stackpoly'><p>modified from &quot;stackpoly&quot; by Jim Lemon from &quot;plotrix&quot; package</p></a></li>
<li><a href='#translate_3.30_to_3.24_Q_setup'><p>Use 3.30 q options to create the 3.24 q setup</p></a></li>
<li><a href='#translate_3.30_to_3.24_var_adjust'><p>Use 3.30 variance adjustments to create the 3.24 formatting</p></a></li>
<li><a href='#TSCplot'><p>Create a plot for the TSC report</p></a></li>
<li><a href='#write_fwf4'><p>Function to write formatted table similar to</p>
table written by gdata::write.fwf from data.frame or matrix
This function does not accept columns or logical with factor</a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>R Code for Stock Synthesis</td>
</tr>
<tr>
<td>Version:</td>
<td>1.44.0</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5.0)</td>
</tr>
<tr>
<td>Imports:</td>
<td>coda, corpcor, dplyr, forcats, ggplot2, lifecycle, stringr,
kableExtra</td>
</tr>
<tr>
<td>Suggests:</td>
<td>gtools, gplots, knitr, maps, pso, testthat, truncnorm,
rmarkdown, shiny, flextable, reshape2, ggpubr</td>
</tr>
<tr>
<td>Description:</td>
<td>A collection of R functions for use with Stock Synthesis, a
    fisheries stock assessment modeling platform written in ADMB by Dr. Richard
    D. Methot at the NOAA Northwest Fisheries Science Center. The functions
    include tools for summarizing and plotting results, manipulating files,
    visualizing model parameterizations, and various other common stock
    assessment tasks.
    This version of '{r4ss}' is compatible with Stock Synthesis versions
    3.24 through 3.30 (specifically version 3.30.19.01, from April
    2022).</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/r4ss/r4ss">https://github.com/r4ss/r4ss</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r4ss/r4ss/issues">https://github.com/r4ss/r4ss/issues</a></td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-05-25 23:21:14 UTC; Ian.Taylor</td>
</tr>
<tr>
<td>Author:</td>
<td>Ian G. Taylor [aut, cre],
  Ian J. Stewart [aut],
  Allan C. Hicks [aut],
  Tommy M. Garrison [aut],
  Andre E. Punt [aut],
  John R. Wallace [aut],
  Chantel R. Wetzel [aut],
  James T. Thorson [aut],
  Yukio Takeuchi [aut],
  Kotaro Ono [aut],
  Cole C. Monnahan [aut],
  Christine C. Stawitz [aut],
  Z. Teresa A'mar [aut],
  Athol R. Whitten [aut],
  Kelli F. Johnson [aut],
  Robbie L. Emmet [aut],
  Sean C. Anderson [aut],
  Gwladys I. Lambert [aut],
  Megan M. Stachura [aut],
  Andrew B. Cooper [aut],
  Andi Stephens [aut],
  Neil L. Klaer [aut],
  Carey R. McGilliard [aut],
  Iago Mosqueira [aut],
  Watal M. Iwasaki [aut],
  Kathryn L. Doering [aut],
  Andrea M. Havron [aut],
  Nathan Vaughan [aut],
  LaTreese S. Denson [aut],
  Ashleigh J. Novak [aut],
  Henning Winker [aut],
  Lee Qi [aut],
  Megumi Oshima [aut],
  Eric Fletcher [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ian G. Taylor &lt;Ian.Taylor@noaa.gov&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-05-26 18:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_legend'>Add legend to plots</h2><span id='topic+add_legend'></span>

<h3>Description</h3>

<p>ss3diags function to add legend to plots
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_legend(
  legendlabels,
  legendloc = "topleft",
  legendorder = NULL,
  legendncol = 1,
  legendcex = 1,
  legendsp = 0.9,
  col = NULL,
  pch = NULL,
  lty = 1,
  lwd = 2,
  type = "l"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_legend_+3A_legendlabels">legendlabels</code></td>
<td>
<p>Optional vector of labels to include in legend.</p>
</td></tr>
<tr><td><code id="add_legend_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend. Either a string like &quot;topleft&quot; or a
vector of two numeric values representing the fraction of the maximum in
the x and y dimensions, respectively. See <code>help("legend")</code> for more info on
the string options.</p>
</td></tr>
<tr><td><code id="add_legend_+3A_legendorder">legendorder</code></td>
<td>
<p>Optional vector of model numbers that can be used to have
the legend display the model names in an order that is different than that
which is represented in the summary input object.</p>
</td></tr>
<tr><td><code id="add_legend_+3A_legendncol">legendncol</code></td>
<td>
<p>Number of columns for the legend.</p>
</td></tr>
<tr><td><code id="add_legend_+3A_legendcex">legendcex</code></td>
<td>
<p>Allows to adjust legend cex. Defaults to 1.</p>
</td></tr>
<tr><td><code id="add_legend_+3A_legendsp">legendsp</code></td>
<td>
<p>Space between legend labels</p>
</td></tr>
<tr><td><code id="add_legend_+3A_col">col</code></td>
<td>
<p>Optional vector of colors to be used for lines. Input NULL</p>
</td></tr>
<tr><td><code id="add_legend_+3A_pch">pch</code></td>
<td>
<p>Optional vector of plot character values</p>
</td></tr>
<tr><td><code id="add_legend_+3A_lty">lty</code></td>
<td>
<p>Optional vector of line types</p>
</td></tr>
<tr><td><code id="add_legend_+3A_lwd">lwd</code></td>
<td>
<p>Optional vector of line widths</p>
</td></tr>
<tr><td><code id="add_legend_+3A_type">type</code></td>
<td>
<p>Type parameter passed to points (default 'o' overplots points on
top of lines)</p>
</td></tr>
</table>

<hr>
<h2 id='bubble3'>Create a bubble plot.</h2><span id='topic+bubble3'></span>

<h3>Description</h3>

<p>Bubble plot based on function vaguely based on <code>bubble</code> by Edzer
Pebesma in gstat package. By default, positive values have closed bubbles
and negative values have open bubbles.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>bubble3(
  x,
  y,
  z,
  col = 1,
  cexZ1 = 5,
  maxsize = NULL,
  do.sqrt = TRUE,
  bg.open = gray(0.95, 0.3),
  legend = TRUE,
  legendloc = "top",
  legend.z = "default",
  legend.yadj = 1.1,
  main = "",
  cex.main = 1,
  xlab = "",
  ylab = "",
  minnbubble = 3,
  xlim = NULL,
  ylim = NULL,
  axis1 = TRUE,
  xlimextra = 1,
  add = FALSE,
  las = 1,
  allopen = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="bubble3_+3A_x">x</code></td>
<td>
<p>Vector of x-values.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_y">y</code></td>
<td>
<p>Vector of y-values.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_z">z</code></td>
<td>
<p>Vector of bubble sizes, where positive sizes will be plotted as
closed bubbles and negative as open unless <code>allopen==TRUE</code>.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_col">col</code></td>
<td>
<p>Color for bubbles. Should be either a single value or vector
of length equal to x, y, and z vectors.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_cexz1">cexZ1</code></td>
<td>
<p>Character expansion (cex) value for a proportion of 1.0.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_maxsize">maxsize</code></td>
<td>
<p>Size of largest bubble. Preferred option is now an expansion
factor for a bubble with z=1 (see <code>cexZ1</code> above).</p>
</td></tr>
<tr><td><code id="bubble3_+3A_do.sqrt">do.sqrt</code></td>
<td>
<p>Should size be based on the area? (Diameter proportional to
sqrt(z)). Default=TRUE.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_bg.open">bg.open</code></td>
<td>
<p>background color for open bubbles (border will equal 'col')</p>
</td></tr>
<tr><td><code id="bubble3_+3A_legend">legend</code></td>
<td>
<p>Add a legend to the plot?</p>
</td></tr>
<tr><td><code id="bubble3_+3A_legendloc">legendloc</code></td>
<td>
<p>Location for legend (default='top')</p>
</td></tr>
<tr><td><code id="bubble3_+3A_legend.z">legend.z</code></td>
<td>
<p>If a legend is added, what z values will be shown. Default
is c(-3,-2,-1,.1,1,2,3) for Pearson-like quantities and a smaller range for
proportions that are all less than 1.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_legend.yadj">legend.yadj</code></td>
<td>
<p>If a legend is added, how much should the y-axis be
expanded to make space for it.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_main">main</code></td>
<td>
<p>Title of plot. Default=&quot;&quot;.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for title. Default=1.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_xlab">xlab</code></td>
<td>
<p>X-axis label.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_ylab">ylab</code></td>
<td>
<p>Y-axis label.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_minnbubble">minnbubble</code></td>
<td>
<p>Minimum number of unique x values below which extra space
is added to horizontal axis (to make plot look better). Default = 8.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_xlim">xlim</code></td>
<td>
<p>Optional limits on x-range.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_ylim">ylim</code></td>
<td>
<p>Optional limits on y-range.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_axis1">axis1</code></td>
<td>
<p>Show the horizontal axis on plot? Option allows turning off for
use in multi-figure plots.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_xlimextra">xlimextra</code></td>
<td>
<p>Extra space (see minnbubble above). Default = 1.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_add">add</code></td>
<td>
<p>Add bubbles to existing plot? Default=FALSE.</p>
</td></tr>
<tr><td><code id="bubble3_+3A_las">las</code></td>
<td>
<p>Style of axis labels (see ?par for more info).</p>
</td></tr>
<tr><td><code id="bubble3_+3A_allopen">allopen</code></td>
<td>
<p>Should all bubbles be open (instead of just negative values)?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart and Ian Taylor
</p>

<hr>
<h2 id='check_inputlist'>Check input argument <code>inputlist</code></h2><span id='topic+check_inputlist'></span>

<h3>Description</h3>

<p>Check the elements of the <code>inputlist</code> list used as an argument in
<code>SS_write()</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_inputlist(inputlist)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_inputlist_+3A_inputlist">inputlist</code></td>
<td>
<p>List created by the <code>SS_read()</code> function with
elements &quot;dat&quot;, &quot;ctl&quot;, &quot;start&quot;, &quot;fore&quot;, and (optionally) &quot;wtatage&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Either TRUE if the input list is valid, or FALSE if not, with
a warning about which elements are missing.
</p>


<h3>Author(s)</h3>

<p>Kelli F. Johnson, Ian G. Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_write">SS_write()</a></code>
</p>

<hr>
<h2 id='check_model'>Check input argument <code>model</code></h2><span id='topic+check_model'></span>

<h3>Description</h3>

<p>Check that the executable name provided in <code>model</code>,
an input argument to numerous <code>r4ss</code> functions,
does not contain the extension and is available.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check_model(model, mydir = getwd())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_model_+3A_model">model</code></td>
<td>
<p>Name of the Stock Synthesis model file (which has the .exe for
on Windows) in <code>mydir</code> without the extension (if any), e.g.,
<code>"ss"</code> or <code>"ss_win"</code>.</p>
</td></tr>
<tr><td><code id="check_model_+3A_mydir">mydir</code></td>
<td>
<p>The directory where <code>model</code> is located.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A cleaned <code>model</code> name based on the input argument.
</p>


<h3>Author(s)</h3>

<p>Kelli F. Johnson
</p>

<hr>
<h2 id='copy_SS_inputs'>Copy a the Stock Synthesis input files from one directory to another</h2><span id='topic+copy_SS_inputs'></span>

<h3>Description</h3>

<p>Reads the starter.ss file to figure out the names of the control and
data files, than copies those files along with starter.ss, forecast.ss,
and wtatage.ss (if present) to a new directory, as specified.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>copy_SS_inputs(
  dir.old = NULL,
  dir.new = NULL,
  create.dir = TRUE,
  overwrite = FALSE,
  recursive = FALSE,
  use_ss_new = FALSE,
  copy_exe = FALSE,
  copy_par = FALSE,
  dir.exe = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="copy_SS_inputs_+3A_dir.old">dir.old</code></td>
<td>
<p>Location of model files to be copied, either an absolute
path or relative to the working directory.</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_dir.new">dir.new</code></td>
<td>
<p>New location to which the files should be copied,
either an absolute path or relative to the working directory.</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_create.dir">create.dir</code></td>
<td>
<p>Create dir.new directory if it doesn't exist already?</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite existing files with matching names?</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_recursive">recursive</code></td>
<td>
<p>logical. Should elements of the path other than the last be
created?</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_use_ss_new">use_ss_new</code></td>
<td>
<p>Use .ss_new files instead of original inputs?</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_copy_exe">copy_exe</code></td>
<td>
<p>Copy any executables found in dir.old to dir.new or
dir.exe (if provided)?</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_copy_par">copy_par</code></td>
<td>
<p>Copy any .par files found in dir.old to dir.new?</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_dir.exe">dir.exe</code></td>
<td>
<p>Path to executable to copy instead of any in dir.old</p>
</td></tr>
<tr><td><code id="copy_SS_inputs_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Logical indicating whether all input files were copied successfully.
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
copy_SS_inputs(
  dir.old = "c:/SS/old_model",
  dir.new = "c:/SS/new_model"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='DoProjectPlots'>Make plots from Rebuilder program</h2><span id='topic+DoProjectPlots'></span>

<h3>Description</h3>

<p>Make a set of plots based on output from Andre Punt's Rebuilder program.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>DoProjectPlots(
  dirn = "C:/myfiles/",
  fileN = c("res.csv"),
  Titles = "",
  ncols = 200,
  Plots = list(1:25),
  Options = list(c(1:9)),
  LegLoc = "bottomright",
  yearmax = -1,
  Outlines = c(2, 2),
  OutlineMulti = c(2, 2),
  AllTraj = c(1, 2, 3, 4),
  AllInd = c(1, 2, 3, 4, 5, 6, 7),
  BioType = "Spawning biomass",
  CatchUnit = "(mt)",
  BioUnit = "(mt)",
  BioScalar = 1,
  ColorsUsed = "default",
  Labels = "default",
  pdf = FALSE,
  pwidth = 6.5,
  pheight = 5,
  lwd = 2
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DoProjectPlots_+3A_dirn">dirn</code></td>
<td>
<p>Directory (or vector of directories) where rebuilder output
files are stored.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_filen">fileN</code></td>
<td>
<p>Vector of filenames containing rebuilder output.
Default=c(&quot;res.csv&quot;).</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_titles">Titles</code></td>
<td>
<p>Titles for plots when using multiple filenames. Default=&quot;&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_ncols">ncols</code></td>
<td>
<p>Number of columns to read in output file (fileN). Default=200.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_plots">Plots</code></td>
<td>
<p>List to get specific plots (currently 1 through 8).
Default=list(1:25). If there are multiple files, supply a list of vectors,
e.g. list(c(1,5),c(2:5))</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_options">Options</code></td>
<td>
<p>List to get specific strategies in the trajectory plots.
Default=list(c(1:9)).If there are multiple files, supply a list of vectors,
e.g. list(c(1,5),c(2:5))</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_legloc">LegLoc</code></td>
<td>
<p>Location for the legend (for plots with a legend).
Default=&quot;bottomright&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_yearmax">yearmax</code></td>
<td>
<p>Maximum year to show in the plots. Set negative to show all
years.  Default=-1.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_outlines">Outlines</code></td>
<td>
<p>Number of rows, columns for some of the plots.
Default=c(2,2).</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_outlinemulti">OutlineMulti</code></td>
<td>
<p>Number of rows, columns for other plots.
Default=c(2,2).</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_alltraj">AllTraj</code></td>
<td>
<p>Vector of trajectories to show. Default=c(1,2,3,4).</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_allind">AllInd</code></td>
<td>
<p>Vector of individual plots to show. Default=c(1,2,3,4,5,6,7).</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_biotype">BioType</code></td>
<td>
<p>Label for biomass type. Default=&quot;Spawning biomass&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_catchunit">CatchUnit</code></td>
<td>
<p>Units of catch. Default=&quot;(mt)&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_biounit">BioUnit</code></td>
<td>
<p>Units of biomass. Default=&quot;(mt)&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_bioscalar">BioScalar</code></td>
<td>
<p>Scalar for biomass plot. Default=1.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_colorsused">ColorsUsed</code></td>
<td>
<p>Optional vector for alternative line colors.
Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_labels">Labels</code></td>
<td>
<p>Optional vector for alternative legend labels.
Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_pdf">pdf</code></td>
<td>
<p>Option to send figures to pdf file instead of plot window in
Rgui. Default=FALSE.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of the plot window or PDF file (in inches). Default=7.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_pheight">pheight</code></td>
<td>
<p>Height of the plot window or PDF file (in inches). Default=7.</p>
</td></tr>
<tr><td><code id="DoProjectPlots_+3A_lwd">lwd</code></td>
<td>
<p>Line width for many of the plot elements. Default=2.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andre Punt, Ian Taylor
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# example with one file
DoProjectPlots(
  dirn = "c:/myfiles/", Plots = 1:8,
  Options = c(1, 2, 3, 4, 5, 9), LegLoc = "bottomleft"
)

# example with multiple files
# Plots - set to get specific plots
# Options - set to get specific strategies in the trajectory plots

Titles &lt;- c("Res1", "Res2", "Res3")
Plots &lt;- list(c(1:9), c(6:7))
Options &lt;- list(c(7:9, 3), c(5, 7))
DoProjectPlots(
  fileN = c("res1.csv", "res2.csv"), Titles = Titles, Plots = Plots,
  Options = Options, LegLoc = "bottomleft", yearmax = -1,
  Outlines = c(2, 2), OutlineMulti = c(3, 3), AllTraj = c(1:4),
  AllInd = c(1:7), BioType = "Spawning numbers", BioUnit = "(lb)",
  BioScalar = 1000, CatchUnit = "(lb)",
  ColorsUse = rep(c("red", "blue"), 5),
  Labels = c("A", "B", "C", "D", "E", "F")
)

## End(Not run)

</code></pre>

<hr>
<h2 id='file_increment'>Rename Stock Synthesis files by adding integer value</h2><span id='topic+file_increment'></span>

<h3>Description</h3>

<p>Rename files found with <code>pattern</code> by adding <code>i</code> to their
name before the extension.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>file_increment(
  i,
  verbose = FALSE,
  pattern = "^[CcPRw][a-zA-Z]+\\.sso|summary\\.sso|\\.par$"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="file_increment_+3A_i">i</code></td>
<td>
<p>An integer value to append to the file name before the
<code>.sso</code> extension.</p>
</td></tr>
<tr><td><code id="file_increment_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
<tr><td><code id="file_increment_+3A_pattern">pattern</code></td>
<td>
<p>A character value specifying the file names to search
for in <code>getwd()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>.par</code> file, which is the only file extension searched for
with the default entry that does not end in <code>.sso</code>, is
modified differently.<code style="white-space: pre;">&#8288;_i.sso&#8288;</code> is added to the file name.
</p>


<h3>Value</h3>

<p>Invisibly returns a vector of logical values specifying
whether or not the file was successfully renamed.
</p>


<h3>Author(s)</h3>

<p>Kelli F. Johnson
</p>

<hr>
<h2 id='get_comments'>Collect comments lines starting from &quot;#C&quot;
in datfile, ctlfile, starter.ss, forecast.ss etc</h2><span id='topic+get_comments'></span>

<h3>Description</h3>

<p>This function is used internally by SS_readdat_3.30,
SS_readctl_3.30.
This will identify 1st numeric data in dat (vector of string)
Then this function collects lines starting &quot;#C&quot; from lines
above 1st numeric data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_comments(dat, defaultComments = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_comments_+3A_dat">dat</code></td>
<td>
<p>vector of strings usually outputs of readLines(*)
* is filename of datfile, ctlfile etc</p>
</td></tr>
<tr><td><code id="get_comments_+3A_defaultcomments">defaultComments</code></td>
<td>
<p>vector of strings
default : NULL, to read whole comments
If this function finds lines containg one of elements
of defaultComments, those lines will be ignored
e.g. c(&quot;^#C file created using the SS_writectl function in the R package r4ss&quot;,
&quot;^#C file write time:&quot;)
is given, comments generated by SS_writectl_3.30 will be ignored.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yukio Takeuchi
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readdat">SS_readdat</a></code>, <code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30</a></code>,
<code><a href="#topic+SS_readctl">SS_readctl</a></code>, <code><a href="#topic+SS_readctl_3.30">SS_readctl_3.30</a></code>
</p>

<hr>
<h2 id='get_dat_new_name'>Get the name of the data .ss_new file in a directory</h2><span id='topic+get_dat_new_name'></span>

<h3>Description</h3>

<p>In previous versions of Stock Synthesis,
the file new data file was named <code>data.ss_new</code>.
<code style="white-space: pre;">&#8288;_echo&#8288;</code> was added to the name when the file was parsed into three separate
files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_dat_new_name(dir)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_dat_new_name_+3A_dir">dir</code></td>
<td>
<p>Relative or absolute path to a directory</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string with the name of the data .ss_new file. If not found, will
be NA. Both of strings are searched for using <code>dir(pattern = )</code> and
if both exist, then <code>data_echo.ss_new</code> is returned.
</p>

<hr>
<h2 id='get_last_phase'>Get the highest phase used in the control file</h2><span id='topic+get_last_phase'></span>

<h3>Description</h3>

<p>Get the highest phase used in the control file
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_last_phase(ctl)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_last_phase_+3A_ctl">ctl</code></td>
<td>
<p>A control file list read in using <code>r4ss::SS_readctl</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kathryn Doering
</p>

<hr>
<h2 id='get_SIS_info'>Gather information for the NOAA Species Information System (SIS)</h2><span id='topic+get_SIS_info'></span>

<h3>Description</h3>

<p>Processes model results contained in the list created by
<code><a href="#topic+SS_output">SS_output()</a></code> in a format that is more convenient for submission
to SIS. Currently the results are returned invisibly as a list of two tables
and written to a CSV file from which results could be copied into SIS.
In the future some more direct link could be explored to avoid the manual
copy step.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_SIS_info(
  model,
  dir = NULL,
  writecsv = TRUE,
  stock = "StockName",
  final_year = 2019,
  data_year = NULL,
  sciencecenter = "NWFSC",
  Mgt_Council = "NA"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_SIS_info_+3A_model">model</code></td>
<td>
<p>Output from SS_output</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_dir">dir</code></td>
<td>
<p>Directory where the file will be written</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_writecsv">writecsv</code></td>
<td>
<p>Write results to a CSV file (where the name will have the
format &quot;[stock]_2019_SIS_info.csv&quot; where <code>stock</code>
is an additional input</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_stock">stock</code></td>
<td>
<p>String to prepend id info to filename for CSV file</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_final_year">final_year</code></td>
<td>
<p>Year of assessment and reference points
(typically will be <code>model[["endyr"]] + 1</code>)</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_data_year">data_year</code></td>
<td>
<p>Last year of of timeseries data</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_sciencecenter">sciencecenter</code></td>
<td>
<p>Origin of assessment report</p>
</td></tr>
<tr><td><code id="get_SIS_info_+3A_mgt_council">Mgt_Council</code></td>
<td>
<p>Council jurisdiction. Currently the only option
outside of the default is Gulf of Mexico (<code>"GM"</code>)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Andi Stephens, LaTreese S. Denson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# directory with the model output
mydir &lt;- file.path(path.package("r4ss"), "extdata/simple_3.30.13")
# read the model output
model &lt;- SS_output(dir = mydir)
# run get_SIS_info:
info &lt;- get_SIS_info(model, stock = "SimpleExample")

## End(Not run)

</code></pre>

<hr>
<h2 id='get_tuning_table'>Get the tuning table</h2><span id='topic+get_tuning_table'></span>

<h3>Description</h3>

<p>Get the tuning table
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tuning_table(
  replist,
  fleets,
  option,
  digits = 6,
  write = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_tuning_table_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="get_tuning_table_+3A_fleets">fleets</code></td>
<td>
<p>A vector of fleet numbers</p>
</td></tr>
<tr><td><code id="get_tuning_table_+3A_option">option</code></td>
<td>
<p>Which type of tuning: 'none', 'Francis', 'MI', or 'DM'</p>
</td></tr>
<tr><td><code id="get_tuning_table_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round numbers to</p>
</td></tr>
<tr><td><code id="get_tuning_table_+3A_write">write</code></td>
<td>
<p>Write suggested tunings to a file 'suggested_tunings.ss'</p>
</td></tr>
<tr><td><code id="get_tuning_table_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>

<hr>
<h2 id='get_tv_parlabs'>Get time varying parameter labels</h2><span id='topic+get_tv_parlabs'></span>

<h3>Description</h3>

<p>function to add get the names of short time varying parameter lines
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tv_parlabs(full_parms, block_design)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_tv_parlabs_+3A_full_parms">full_parms</code></td>
<td>
<p>the dataframe with the full parameter lines in the control
file as read in by r4ss.</p>
</td></tr>
<tr><td><code id="get_tv_parlabs_+3A_block_design">block_design</code></td>
<td>
<p>The block design in the control file as read in by r4ss.</p>
</td></tr>
</table>

<hr>
<h2 id='getADMBHessian'>Read admodel.hes file</h2><span id='topic+getADMBHessian'></span>

<h3>Description</h3>

<p>This function reads in all of the information contained in the
.hes file. Some is needed for relaxing the covariance matrix, while the rest
is recorded and rewritten to file as ADMB expects.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getADMBHessian(File = getwd(), FileName = "admodel.hes")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getADMBHessian_+3A_file">File</code></td>
<td>
<p>Directory in which .hes file is located. Defaults to the working
directory.</p>
</td></tr>
<tr><td><code id="getADMBHessian_+3A_filename">FileName</code></td>
<td>
<p>Name of .hes file. Defaults to admodel.hes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list with elements num.pars, hes, hybrid_bounded_flag, and scale.
</p>


<h3>Note</h3>

<p>Explanation of the methods (in PDF form):
<a href="https://github.com/admb-project/admb-examples/blob/master/admb-tricks/covariance-calculations/ADMB_Covariance_Calculations.pdf">https://github.com/admb-project/admb-examples/blob/master/admb-tricks/covariance-calculations/ADMB_Covariance_Calculations.pdf</a>
</p>


<h3>Author(s)</h3>

<p>Cole Monnahan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.admbFit">read.admbFit()</a></code>, <code><a href="#topic+NegLogInt_Fn">NegLogInt_Fn()</a></code>
</p>

<hr>
<h2 id='is.wholenumber'>Utility function to test if x is &quot;numerically&quot; integer wrt machine epsilon
taken from example section of help of is.integer</h2><span id='topic+is.wholenumber'></span>

<h3>Description</h3>

<p>Utility function to test if x is &quot;numerically&quot; integer wrt machine epsilon
taken from example section of help of is.integer
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.wholenumber(x, tol = .Machine[["double.eps"]]^0.5)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="is.wholenumber_+3A_x">x</code></td>
<td>
<p>value to check if it is &quot;integer&quot;</p>
</td></tr>
<tr><td><code id="is.wholenumber_+3A_tol">tol</code></td>
<td>
<p>tolerace</p>
</td></tr>
</table>

<hr>
<h2 id='make_multifig'>Create multi-figure plots.</h2><span id='topic+make_multifig'></span>

<h3>Description</h3>

<p>Function created as an alternative to lattice package for multi-figure plots
of composition data and fits from Stock Synthesis output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_multifig(
  ptsx,
  ptsy,
  yr,
  linesx = 0,
  linesy = 0,
  ptsSD = 0,
  sampsize = 0,
  effN = 0,
  showsampsize = TRUE,
  showeffN = TRUE,
  sampsize_label = "N=",
  effN_label = "effN=",
  sampsizeround = 1,
  maxrows = 6,
  maxcols = 6,
  rows = 1,
  cols = 1,
  fixdims = TRUE,
  main = "",
  cex.main = 1,
  xlab = "",
  ylab = "",
  size = 1,
  cexZ1 = 1.5,
  bublegend = TRUE,
  maxsize = NULL,
  do.sqrt = TRUE,
  minnbubble = 8,
  allopen = TRUE,
  xbuffer = c(0.1, 0.1),
  ybuffer = c(0, 0.15),
  yupper = NULL,
  ymin0 = TRUE,
  xlas = 0,
  ylas = NULL,
  axis1 = NULL,
  axis2 = NULL,
  axis1labs = NULL,
  linepos = 1,
  type = "o",
  polygons = TRUE,
  bars = FALSE,
  barwidth = "default",
  ptscex = 1,
  ptscol = 1,
  ptscol2 = 1,
  colvec = c(rgb(1, 0, 0, 0.7), rgb(0, 0, 1, 0.7), rgb(0.1, 0.1, 0.1, 0.7)),
  linescol = c(rgb(0, 0.8, 0, 0.7), rgb(1, 0, 0, 0.7), rgb(0, 0, 1, 0.7)),
  lty = 1,
  lwd = 2,
  pch = 1,
  nlegends = 3,
  legtext = list("yr", "sampsize", "effN"),
  legx = "default",
  legy = "default",
  legadjx = "default",
  legadjy = "default",
  legsize = c(1.2, 1),
  legfont = c(2, 1),
  venusmars = TRUE,
  sampsizeline = FALSE,
  effNline = FALSE,
  sampsizemean = NULL,
  effNmean = NULL,
  ipage = 0,
  scalebins = FALSE,
  sexvec = NULL,
  multifig_colpolygon = grey(c(0.6, 0.8, 0.7), alpha = 0.7),
  multifig_oma = NULL,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_multifig_+3A_ptsx">ptsx</code></td>
<td>
<p>vector of x values for points or bars</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ptsy">ptsy</code></td>
<td>
<p>vector of y values for points or bars of same length as ptsx</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_yr">yr</code></td>
<td>
<p>vector of category values (years) of same length as ptsx</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_linesx">linesx</code></td>
<td>
<p>optional vector of x values for lines</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_linesy">linesy</code></td>
<td>
<p>optional vector of y values for lines</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ptssd">ptsSD</code></td>
<td>
<p>optional vector of standard deviations used to plot error bars
on top of each point under the assumption of normally distributed error</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_sampsize">sampsize</code></td>
<td>
<p>optional sample size vector of same length as ptsx</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_effn">effN</code></td>
<td>
<p>optional effective sample size vector of same length as ptsx</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_showsampsize">showsampsize</code></td>
<td>
<p>show sample size values on plot?</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_showeffn">showeffN</code></td>
<td>
<p>show effective sample size values on plot?</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_sampsize_label">sampsize_label</code></td>
<td>
<p>label on sampsize</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_effn_label">effN_label</code></td>
<td>
<p>label on effN</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_sampsizeround">sampsizeround</code></td>
<td>
<p>rounding level for sample size values</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_maxrows">maxrows</code></td>
<td>
<p>maximum (or fixed) number or rows of panels in the plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_maxcols">maxcols</code></td>
<td>
<p>maximum (or fixed) number or columns of panels in the plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_rows">rows</code></td>
<td>
<p>number or rows to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_cols">cols</code></td>
<td>
<p>number or cols to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_fixdims">fixdims</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols or resize based on
number of elements in <code>yr</code> input.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_main">main</code></td>
<td>
<p>title of plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for title</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ylab">ylab</code></td>
<td>
<p>y-axis label</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_size">size</code></td>
<td>
<p>vector of bubbles sizes if making a bubble plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_cexz1">cexZ1</code></td>
<td>
<p>Character expansion (cex) for point associated with value of 1.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_bublegend">bublegend</code></td>
<td>
<p>Add legend with example bubble sizes to bubble plots.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_maxsize">maxsize</code></td>
<td>
<p>maximum size of bubbles</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_do.sqrt">do.sqrt</code></td>
<td>
<p>scale bubbles based on sqrt of size vector. see ?bubble3 for
more info.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_minnbubble">minnbubble</code></td>
<td>
<p>number of unique x values before adding buffer. see
?bubble3 for more info.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_allopen">allopen</code></td>
<td>
<p>should all bubbles be open? see ?bubble3 for more info.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_xbuffer">xbuffer</code></td>
<td>
<p>extra space around points on the left and right as fraction
of total width of plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ybuffer">ybuffer</code></td>
<td>
<p>extra space around points on the bottom and top as fraction
of total height of plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_yupper">yupper</code></td>
<td>
<p>upper limit on ymax (applied before addition of ybuffer)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ymin0">ymin0</code></td>
<td>
<p>fix minimum y-value at 0?</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_xlas">xlas</code></td>
<td>
<p>label style (las) input for x-axis. Default 0 has horizontal
labels, input 2 would provide vertical lables.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ylas">ylas</code></td>
<td>
<p>label style (las) input for y-axis. Default NULL has horizontal
labels when all labels have fewer than 6 characters and vertical otherwise.
Input 0 would force vertical labels, and 1 would force horizontal.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_axis1">axis1</code></td>
<td>
<p>optional position of bottom axis values</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_axis2">axis2</code></td>
<td>
<p>optional position of left size axis values</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_axis1labs">axis1labs</code></td>
<td>
<p>optional vector of labels for axis1 (either NULL or needs to
match length of axis1)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_linepos">linepos</code></td>
<td>
<p>should lines be added on top of points (linepos=1) or behind
(linepos=2)? A value of linepos = 0 will result in no line.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_type">type</code></td>
<td>
<p>type of line/points used for observed values (see 'type' in
?plot for details) on top of a grey polygon. Default is &quot;o&quot; for overplotting
points on lines.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_polygons">polygons</code></td>
<td>
<p>should polygons be added to the
(turning off is required for sex-ratio plot)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_bars">bars</code></td>
<td>
<p>should the ptsx/ptsy values be bars instead of points
(TRUE/FALSE) NOT CURRENTLY FUNCTIONAL</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_barwidth">barwidth</code></td>
<td>
<p>width of bars in barplot, default method chooses based on
quick and dirty formula also, current method of plot(...type='h') could be
replaced with better approach</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ptscex">ptscex</code></td>
<td>
<p>character expansion factor for points (default=1)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ptscol">ptscol</code></td>
<td>
<p>color for points/bars</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ptscol2">ptscol2</code></td>
<td>
<p>color for negative value points in bubble plots</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_colvec">colvec</code></td>
<td>
<p>Vector of length 3 with colors for females, males, unsexed fish</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_linescol">linescol</code></td>
<td>
<p>color for lines</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_lty">lty</code></td>
<td>
<p>line type</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_pch">pch</code></td>
<td>
<p>point character type</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_nlegends">nlegends</code></td>
<td>
<p>number of lines of text to add as legends in each plot</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legtext">legtext</code></td>
<td>
<p>text in legend, a list of length=nlegends. values may be any
of 1.  &quot;yr&quot;, 2. &quot;sampsize&quot;, 3. &quot;effN&quot;, or a vector of length = ptsx.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legx">legx</code></td>
<td>
<p>vector of length=nlegends of x-values of legends (default is
first one on left, all after on right)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legy">legy</code></td>
<td>
<p>vector of length=nlegends of y-values of legends (default is top
for all plots)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legadjx">legadjx</code></td>
<td>
<p>left/right adjustment of legends around legx</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legadjy">legadjy</code></td>
<td>
<p>left/right adjustment of legends around legy</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legsize">legsize</code></td>
<td>
<p>font size for legends. default=c(1.2,1.0) (larger for year
and normal for others)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_legfont">legfont</code></td>
<td>
<p>font type for legends, same as &quot;font&quot; under ?par</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_venusmars">venusmars</code></td>
<td>
<p>Label females and males with venus and mars symbols?</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_sampsizeline">sampsizeline</code></td>
<td>
<p>show line for input sample sizes on top of conditional
age-at-length plots (TRUE/FALSE/scalar, still in development)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_effnline">effNline</code></td>
<td>
<p>show line for effective sample sizes on top of conditional
age-at-length plots (TRUE/FALSE/scalar, still in development)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_sampsizemean">sampsizemean</code></td>
<td>
<p>mean input sample size value (used when sampsizeline=TRUE)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_effnmean">effNmean</code></td>
<td>
<p>mean effective sample size value (used when effNline=TRUE)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_ipage">ipage</code></td>
<td>
<p>which page of plots when covering more than will fit within
maxrows by maxcols.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_scalebins">scalebins</code></td>
<td>
<p>Rescale expected and observed proportions by dividing by
bin width for models where bins have different widths? Caution!: May not
work correctly in all cases.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_sexvec">sexvec</code></td>
<td>
<p>vector of sex codes if more than one present (otherwise NULL)</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_multifig_colpolygon">multifig_colpolygon</code></td>
<td>
<p>vector of polygon fill colors of length 3
(for females, males, and unsexed fish). Can be input to SS_plots and will be
passed to this function via the ... argument.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_multifig_oma">multifig_oma</code></td>
<td>
<p>vector of outer margins. Can be input to SS_plots and will be
passed to this function via the ... argument.</p>
</td></tr>
<tr><td><code id="make_multifig_+3A_...">...</code></td>
<td>
<p>additional arguments passed to <code>par</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>,<code><a href="#topic+SSplotComps">SSplotComps()</a></code>
</p>

<hr>
<h2 id='make_multifig_sexratio'>Create multi-figure sex ratio plots.</h2><span id='topic+make_multifig_sexratio'></span>

<h3>Description</h3>

<p>Modified version of <code><a href="#topic+make_multifig">make_multifig()</a></code> for multi-figure
plots of sex ratio data with crude confidence intervals (+/i 1 se) and
fits from Stock Synthesis output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>make_multifig_sexratio(
  dbase,
  sexratio.option = 2,
  CI = 0.75,
  sampsizeround = 1,
  maxrows = 6,
  maxcols = 6,
  rows = 1,
  cols = 1,
  fixdims = TRUE,
  main = "",
  cex.main = 1,
  xlab = "",
  ylab = "Fraction female",
  horiz_lab = "default",
  xbuffer = c(0.1, 0.1),
  ybuffer = "default",
  yupper = NULL,
  datonly = FALSE,
  showsampsize = TRUE,
  showeffN = TRUE,
  axis1 = NULL,
  axis2 = NULL,
  ptscex = 1,
  ptscol = gray(0.5),
  linescol = 4,
  lty = 1,
  lwd = 2,
  nlegends = 3,
  legtext = list("yr", "sampsize", "effN"),
  legx = "default",
  legy = "default",
  legadjx = "default",
  legadjy = "default",
  legsize = c(1.2, 1),
  legfont = c(2, 1),
  ipage = 0,
  multifig_oma = c(5, 5, 5, 2) + 0.1,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="make_multifig_sexratio_+3A_dbase">dbase</code></td>
<td>
<p>element of list created by <code><a href="#topic+SS_output">SS_output()</a></code> passed from
<code><a href="#topic+SSplotSexRatio">SSplotSexRatio()</a></code></p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_sexratio.option">sexratio.option</code></td>
<td>
<p>code to choose among (1) female:male ratio or
(2) fraction females out of the total (the default)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_ci">CI</code></td>
<td>
<p>confidence interval for uncertainty</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_sampsizeround">sampsizeround</code></td>
<td>
<p>rounding level for sample size values</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_maxrows">maxrows</code></td>
<td>
<p>maximum (or fixed) number or rows of panels in the plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_maxcols">maxcols</code></td>
<td>
<p>maximum (or fixed) number or columns of panels in the plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_rows">rows</code></td>
<td>
<p>number or rows to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_cols">cols</code></td>
<td>
<p>number or cols to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_fixdims">fixdims</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols or resize based on
number of elements in <code>yr</code> input.</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_main">main</code></td>
<td>
<p>title of plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for title</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_xlab">xlab</code></td>
<td>
<p>x-axis label</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_ylab">ylab</code></td>
<td>
<p>y-axis label</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_horiz_lab">horiz_lab</code></td>
<td>
<p>axis labels set horizontal all the time (TRUE), never
(FALSE) or only when relatively short (&quot;default&quot;)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_xbuffer">xbuffer</code></td>
<td>
<p>extra space around points on the left and right as fraction
of total width of plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_ybuffer">ybuffer</code></td>
<td>
<p>extra space around points on the bottom and top as fraction
of total height of plot. &quot;default&quot; will cause c(0,.15) for sexratio.option=1
and c(.15, .3) for sexratio.option=2.</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_yupper">yupper</code></td>
<td>
<p>upper limit on ymax (applied before addition of ybuffer)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_datonly">datonly</code></td>
<td>
<p>make plots of data without fits?</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_showsampsize">showsampsize</code></td>
<td>
<p>add sample sizes to plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_showeffn">showeffN</code></td>
<td>
<p>add effective sample sizes to plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_axis1">axis1</code></td>
<td>
<p>position of bottom axis values</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_axis2">axis2</code></td>
<td>
<p>position of left size axis values</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_ptscex">ptscex</code></td>
<td>
<p>character expansion factor for points (default=1)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_ptscol">ptscol</code></td>
<td>
<p>color for points/bars</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_linescol">linescol</code></td>
<td>
<p>color for fitted model</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_lty">lty</code></td>
<td>
<p>line type</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_nlegends">nlegends</code></td>
<td>
<p>number of lines of text to add as legends in each plot</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legtext">legtext</code></td>
<td>
<p>text in legend, a list of length=nlegends. values may be any
of 1.  &quot;yr&quot;, 2. &quot;sampsize&quot;, 3. &quot;effN&quot;, or a vector of length = ptsx.</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legx">legx</code></td>
<td>
<p>vector of length=nlegends of x-values of legends (default is
first one on left, all after on right)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legy">legy</code></td>
<td>
<p>vector of length=nlegends of y-values of legends (default is top
for all plots)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legadjx">legadjx</code></td>
<td>
<p>left/right adjustment of legends around legx</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legadjy">legadjy</code></td>
<td>
<p>left/right adjustment of legends around legy</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legsize">legsize</code></td>
<td>
<p>font size for legends. default=c(1.2,1.0) (larger for year
and normal for others)</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_legfont">legfont</code></td>
<td>
<p>font type for legends, same as &quot;font&quot; under ?par</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_ipage">ipage</code></td>
<td>
<p>which page of plots when covering more than will fit within
maxrows by maxcols.</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_multifig_oma">multifig_oma</code></td>
<td>
<p>vector of outer margins. Can be input to SS_plots and will be
passed to this function via the ... argument.</p>
</td></tr>
<tr><td><code id="make_multifig_sexratio_+3A_...">...</code></td>
<td>
<p>additional arguments (NOT YET IMPLEMENTED).</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The SE of the sex ratio is crude and calculated as
follows. First, assume a multinomial which as MLEs of proportions. Then
use the delta method of the ratio F/M, using the MLE as the expected
values and analytical variances and covariance between F and M. After
some algebra this calculation reduces to: <code>SE(F/M)= sqrt((f/m)^2*( (1-f)/(f*N) + (1-m)/(m*N) +2/N ))</code>. Confidence intervals created from
these should be considered very crude and would not necessarily be
appropriate for future alternative compositional likelihoods.
</p>
<p>This function was derived from make_multifig and hence has a lot of
overlap in functionality and arguments.
</p>


<h3>Author(s)</h3>

<p>Cole Monnahan. Adapted from <code><a href="#topic+make_multifig">make_multifig()</a></code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>,<code><a href="#topic+SSplotSexRatio">SSplotSexRatio()</a></code>
</p>

<hr>
<h2 id='mcmc.nuisance'>Summarize nuisance MCMC output</h2><span id='topic+mcmc.nuisance'></span>

<h3>Description</h3>

<p>Summarize nuisance MCMC output (used in combination with
<code><a href="#topic+mcmc.out">mcmc.out()</a></code> for key parameters).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcmc.nuisance(
  directory = "c:/mydirectory/",
  run = "mymodel/",
  file = "posteriors.sso",
  file2 = "derived_posteriors.sso",
  bothfiles = FALSE,
  printstats = FALSE,
  burn = 0,
  header = TRUE,
  thin = 1,
  trace = 0,
  labelstrings = "all",
  columnnumbers = "all",
  sep = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcmc.nuisance_+3A_directory">directory</code></td>
<td>
<p>Directory where all results are located, one level above
directory for particular run.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_run">run</code></td>
<td>
<p>Directory with files from a particular run.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>Contents of the file that is referenced here should contain posterior samples
for nuisance parameters, e.g., posteriors.sso or
something written by <code><a href="#topic+SSgetMCMC">SSgetMCMC</a></code>.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_file2">file2</code></td>
<td>
<p>Optional second file containing posterior samples for nuisance
parameters. This could be derived_posteriors.sso.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_bothfiles">bothfiles</code></td>
<td>
<p>TRUE/FALSE indicator on whether to read <code>file2</code> in
addition to <code>file1</code>.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_printstats">printstats</code></td>
<td>
<p>Return all the statistics for a closer look.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_burn">burn</code></td>
<td>
<p>Optional burn-in value to apply on top of the option in the
starter file and <code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_header">header</code></td>
<td>
<p>Data file with header?</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_thin">thin</code></td>
<td>
<p>Optional thinning value to apply on top of the option in the
starter file, in the <code>mcsave</code> runtime command, and in
<code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_trace">trace</code></td>
<td>
<p>Plot trace for param # (to help sort out problem parameters).</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_labelstrings">labelstrings</code></td>
<td>
<p>Vector of strings that partially match the labels of the
parameters you want to consider.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_columnnumbers">columnnumbers</code></td>
<td>
<p>Vector of column numbers indicating the columns you
want to consider.</p>
</td></tr>
<tr><td><code id="mcmc.nuisance_+3A_sep">sep</code></td>
<td>
<p>Separator for data file passed to the <code>read.table</code> function.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mcmc.out">mcmc.out()</a></code>, <code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>
</p>

<hr>
<h2 id='mcmc.out'>Summarize, analyze and plot key MCMC output.</h2><span id='topic+mcmc.out'></span>

<h3>Description</h3>

<p>Makes four panel plot showing trace plots, moving average, autocorrelations,
and densities for chosen parameters from MCMC output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mcmc.out(
  directory = "c:/mydirectory/",
  run = "mymodel/",
  file = "keyposteriors.csv",
  namefile = "postplotnames.sso",
  names = FALSE,
  headernames = TRUE,
  numparams = 1,
  closeall = TRUE,
  burn = 0,
  thin = 1,
  scatter = FALSE,
  surface = FALSE,
  surf1 = 1,
  surf2 = 2,
  stats = FALSE,
  plots = TRUE,
  header = TRUE,
  sep = ",",
  print = FALSE,
  new = T,
  colNames = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mcmc.out_+3A_directory">directory</code></td>
<td>
<p>Directory where all results are located, one level above
directory for particular run.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_run">run</code></td>
<td>
<p>Directory with files from a particular run.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>Contents of the file that is referenced here should contain posterior samples
for nuisance parameters, e.g., posteriors.sso or
something written by <code><a href="#topic+SSgetMCMC">SSgetMCMC</a></code>.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_namefile">namefile</code></td>
<td>
<p>The (optional) file name of the dimension and names of
posteriors.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_names">names</code></td>
<td>
<p>Read in names file (T) or use generic naming (F).</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_headernames">headernames</code></td>
<td>
<p>Use the names in the header of <code>file</code>?</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_numparams">numparams</code></td>
<td>
<p>The number of parameters to analyze.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_closeall">closeall</code></td>
<td>
<p>By default close all open devices.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_burn">burn</code></td>
<td>
<p>Optional burn-in value to apply on top of the option in the
starter file and <code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_thin">thin</code></td>
<td>
<p>Optional thinning value to apply on top of the option in the
starter file, in the <code>-mcsave</code> runtime command, and in
<code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_scatter">scatter</code></td>
<td>
<p>Can add a scatter-plot of all params at end, default is none.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_surface">surface</code></td>
<td>
<p>Add a surface plot of 2-way correlations.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_surf1">surf1</code></td>
<td>
<p>The first parameter for the surface plot.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_surf2">surf2</code></td>
<td>
<p>The second parameter for the surface plot.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_stats">stats</code></td>
<td>
<p>Print stats if desired.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_plots">plots</code></td>
<td>
<p>Show plots or not.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_header">header</code></td>
<td>
<p>Data file with header?</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_sep">sep</code></td>
<td>
<p>Separator for data file passed to the <code>read.table</code> function.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_print">print</code></td>
<td>
<p>Send to screen unless asked to print.</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_new">new</code></td>
<td>
<p>Logical whether or not to open a new plot window before plotting</p>
</td></tr>
<tr><td><code id="mcmc.out_+3A_colnames">colNames</code></td>
<td>
<p>Specific names of the <code>file</code> to extract and work with. <code>NULL</code>
keeps all columns</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>directory</code>, because this function is used for its plotting side effects
</p>


<h3>Author(s)</h3>

<p>Ian Stewart, Allan Hicks (modifications)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mcmc.nuisance">mcmc.nuisance()</a></code>, <code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
mcmc.df &lt;- SSgetMCMC(
  dir = "mcmcRun", writecsv = T,
  keystrings = c("NatM", "R0", "steep", "Q_extraSD"),
  nuisancestrings = c("Objective_function", "SSB_", "InitAge", "RecrDev")
)
mcmc.out("mcmcRun", run = "", numparams = 4, closeall = F)

# Or for more control
par(mar = c(5, 3.5, 0, 0.5), oma = c(0, 2.5, 0.2, 0))
mcmc.out("mcmcRun",
  run = "",
  numparams = 1,
  closeall = F,
  new = F,
  colNames = c("NatM_p_1_Fem_GP_1")
)
mtext("M (natural mortality)", side = 2, outer = T, line = 1.5, cex = 1.1)

## End(Not run)
</code></pre>

<hr>
<h2 id='mountains'>Make shaded polygons with a mountain-like appearance</h2><span id='topic+mountains'></span>

<h3>Description</h3>

<p>Designed to replicate like the cool-looking Figure 7 in Butterworth et al.
(2003).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>mountains(
  zmat,
  xvec = NULL,
  yvec = NULL,
  zscale = 3,
  rev = TRUE,
  nshades = 100,
  axes = TRUE,
  xaxs = "i",
  yaxs = "i",
  xlab = "",
  ylab = "",
  las = 1,
  addbox = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="mountains_+3A_zmat">zmat</code></td>
<td>
<p>A matrix where the rows represent the heights of each mountain
range</p>
</td></tr>
<tr><td><code id="mountains_+3A_xvec">xvec</code></td>
<td>
<p>Optional input for the x variable</p>
</td></tr>
<tr><td><code id="mountains_+3A_yvec">yvec</code></td>
<td>
<p>Optional input for the y variable</p>
</td></tr>
<tr><td><code id="mountains_+3A_zscale">zscale</code></td>
<td>
<p>Controls the height of the mountains relative to the y-axis
and max(zmat)</p>
</td></tr>
<tr><td><code id="mountains_+3A_rev">rev</code></td>
<td>
<p>Reverse the order of the display of yvec values.</p>
</td></tr>
<tr><td><code id="mountains_+3A_nshades">nshades</code></td>
<td>
<p>Number of levels of shading</p>
</td></tr>
<tr><td><code id="mountains_+3A_axes">axes</code></td>
<td>
<p>Add axes to the plot?</p>
</td></tr>
<tr><td><code id="mountains_+3A_xaxs">xaxs</code></td>
<td>
<p>X-axis as internal or regular (see ?par for details)</p>
</td></tr>
<tr><td><code id="mountains_+3A_yaxs">yaxs</code></td>
<td>
<p>Y-axis as internal or regular (see ?par for details)</p>
</td></tr>
<tr><td><code id="mountains_+3A_xlab">xlab</code></td>
<td>
<p>Optional label for x-axis</p>
</td></tr>
<tr><td><code id="mountains_+3A_ylab">ylab</code></td>
<td>
<p>Optional label for y-axis</p>
</td></tr>
<tr><td><code id="mountains_+3A_las">las</code></td>
<td>
<p>Xxis label style (see ?par for details). Default = 1 = horizontal
axis labels.</p>
</td></tr>
<tr><td><code id="mountains_+3A_addbox">addbox</code></td>
<td>
<p>Puts a box around the whole plot</p>
</td></tr>
<tr><td><code id="mountains_+3A_...">...</code></td>
<td>
<p>Extra inputs passed to the plot command</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>References</h3>

<p>Butterworth D.S., Ianelli J.N., Hilborn R. (2003) A statistical
model for stock assessment of southern bluefin tuna with temporal changes in
selectivity. South African Journal of Marine Science 25:331-362.
</p>

<hr>
<h2 id='NegLogInt_Fn'>Perform SS implementation of Laplace Approximation</h2><span id='topic+NegLogInt_Fn'></span>

<h3>Description</h3>

<p>(Attempt to) perform the SS implementation of the Laplace Approximation
from Thorson, Hicks and Methot (2014) ICES J. Mar. Sci.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>NegLogInt_Fn(
  File = NA,
  Input_SD_Group_Vec,
  CTL_linenum_List,
  ESTPAR_num_List,
  PAR_num_Vec,
  Int_Group_List = list(1),
  StartFromPar = TRUE,
  Intern = TRUE,
  ReDoBiasRamp = FALSE,
  BiasRamp_linenum_Vec = NULL,
  CTL_linenum_Type = NULL,
  systemcmd = FALSE,
  exe = "ss"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NegLogInt_Fn_+3A_file">File</code></td>
<td>
<p>Directory containing Stock Synthesis files
(e.g., &quot;C:/Users/James Thorson/Desktop/&quot;)</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_input_sd_group_vec">Input_SD_Group_Vec</code></td>
<td>
<p>Vector where each element is the standard deviation
for a group of random effects (e.g., a model with a single group of random
effects will have Input_SD_Group_Vec be a vector of length one)</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_ctl_linenum_list">CTL_linenum_List</code></td>
<td>
<p>List (same length as <code>Input_SD_Group_Vec</code>),
where each
element is a vector giving the line number(s) for the random effect standard
deviation parameter or penalty in the CTL file (and where each line will
correspond to a 7-parameter or 14-parameter line).</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_estpar_num_list">ESTPAR_num_List</code></td>
<td>
<p>List (same length as <code>Input_SD_Group_Vec</code>),
where each
element is a vector giving the parameter number for the random effect
coefficients in that group of random effects. These &quot;parameter numbers&quot;
correspond to the number of these parameters in the list of parameters in the
&quot;.cor&quot; output file.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_par_num_vec">PAR_num_Vec</code></td>
<td>
<p>Vector giving the number in the &quot;.par&quot; vector for each
random effect coefficient.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_int_group_list">Int_Group_List</code></td>
<td>
<p>List where each element is a vector, providing a way of
grouping different random effect groups into a single category. Although
this input is still required, it is no has the former input Version has been
hardwired to Version = 1.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_startfrompar">StartFromPar</code></td>
<td>
<p>Logical flag (TRUE or FALSE) saying whether to start each
round of optimization from a &quot;.par&quot; file (I recommend TRUE)</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_intern">Intern</code></td>
<td>
<p>Logical flag saying whether to display all ss3 runtime output
in the R terminal</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_redobiasramp">ReDoBiasRamp</code></td>
<td>
<p>Logical flag saying whether to re-do the bias ramp
(using <code><a href="#topic+SS_fitbiasramp">SS_fitbiasramp()</a></code>) each time Stock Synthesis is run.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_biasramp_linenum_vec">BiasRamp_linenum_Vec</code></td>
<td>
<p>Vector giving the line numbers from the CTL file
that contain the information about the bias ramp.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_ctl_linenum_type">CTL_linenum_Type</code></td>
<td>
<p>Character vector (same length as
<code>Input_SD_Group_Vec</code>),
where each element is either &quot;Short_Param&quot;, &quot;Long_Penalty&quot;, &quot;Long_Penalty&quot;.
Default is NULL, and if not explicitly specified the program will attempt to
detect these automatically based on the length of relevant lines from the CTL
file.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_systemcmd">systemcmd</code></td>
<td>
<p>Should R call SS using &quot;system&quot; function instead of &quot;shell&quot;.
This may be required when running R in Emacs on Windows. Default = FALSE.</p>
</td></tr>
<tr><td><code id="NegLogInt_Fn_+3A_exe">exe</code></td>
<td>
<p>SS executable name (excluding extension), either &quot;ss&quot; or &quot;ss3&quot;.
This string is used for both calling the executable and also finding the
output files like ss.par. For 3.30, it should always be &quot;ss&quot; since the
output file names are hardwired in the TPL code.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>James Thorson
</p>


<h3>References</h3>

<p>Thorson, J.T., Hicks, A.C., and Methot, R.D. 2014. Random
effect estimation of time-varying factors in Stock Synthesis. ICES J. Mar.
Sci.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+read.admbFit">read.admbFit()</a></code>, <code><a href="#topic+getADMBHessian">getADMBHessian()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# need the full path because wd is changed in function
direc &lt;- "C:/Models/LaplaceApprox/base"
if ("Optimization_record.txt" %in% list.files(direc)) {
  file.remove(file.path(direc, "Optimization_record.txt"))
}
Opt &lt;- optimize(
  f = NegLogInt_Fn,
  interval = c(0.001, 0.12),
  maximum = FALSE,
  File = direc,
  Input_SD_Group_Vec = 1,
  CTL_linenum_List = list(127:131),
  ESTPAR_num_List = list(86:205),
  Int_Group_List = 1,
  PAR_num_Vec = NA,
  Intern = TRUE
)

## End(Not run)

</code></pre>

<hr>
<h2 id='PinerPlot'>Make plot of likelihood contributions by fleet</h2><span id='topic+PinerPlot'></span>

<h3>Description</h3>

<p>This style of plot was officially named a &quot;Piner Plot&quot; at the
CAPAM Selectivity Workshop, La Jolla March 2013. This is in
honor of Kevin Piner's contributions to interpreting likelihood
profiles. He's surely not the first person to make such a plot
but the name seems to have stuck.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>PinerPlot(
  summaryoutput,
  plot = TRUE,
  print = FALSE,
  component = "Length_like",
  main = "Changes in length-composition likelihoods by fleet",
  models = "all",
  fleets = "all",
  fleetnames = "default",
  profile.string = "R0",
  profile.label = expression(log(italic(R)[0])),
  exact = FALSE,
  ylab = "Change in -log-likelihood",
  col = "default",
  pch = "default",
  lty = 1,
  lty.total = 1,
  lwd = 2,
  lwd.total = 3,
  cex = 1,
  cex.total = 1.5,
  xlim = "default",
  ymax = "default",
  xaxs = "r",
  yaxs = "r",
  type = "o",
  legend = TRUE,
  legendloc = "topright",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  plotdir = NULL,
  add_cutoff = FALSE,
  cutoff_prob = 0.95,
  verbose = TRUE,
  fleetgroups = NULL,
  likelihood_type = "raw_times_lambda",
  minfraction = 0.01
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PinerPlot_+3A_summaryoutput">summaryoutput</code></td>
<td>
<p>List created by the function
<code><a href="#topic+SSsummarize">SSsummarize()</a></code>.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_component">component</code></td>
<td>
<p>Which likelihood component to plot. Default is &quot;Length_like&quot;.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_main">main</code></td>
<td>
<p>Title for plot. Should match component.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_models">models</code></td>
<td>
<p>Optional subset of the models described in
<code>summaryoutput</code>.  Either &quot;all&quot; or a vector of numbers indicating
columns in summary tables.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_fleets">fleets</code></td>
<td>
<p>Optional vector of fleet numbers to include.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Optional character vector of names for each fleet.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_profile.string">profile.string</code></td>
<td>
<p>Character string used to find parameter over which the
profile was conducted. If <code>exact=FALSE</code>, this can be a substring of
one of the SS parameter labels found in the Report.sso file.
For instance, the default input 'R0'
matches the parameter 'SR_LN(R0)'. If <code>exact=TRUE</code>, then
profile.string needs to be an exact match to the parameter label.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_profile.label">profile.label</code></td>
<td>
<p>Label for x-axis describing the parameter over which
the profile was conducted.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_exact">exact</code></td>
<td>
<p>Should the <code>profile.string</code> have to match the parameter
label exactly, or is a substring OK.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. Default is &quot;Change in -log-likelihood&quot;.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_col">col</code></td>
<td>
<p>Optional vector of colors for each line.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_pch">pch</code></td>
<td>
<p>Optional vector of plot characters for the points.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_lty">lty</code></td>
<td>
<p>Line total for the likelihood components.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_lty.total">lty.total</code></td>
<td>
<p>Line type for the total likelihood.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_lwd">lwd</code></td>
<td>
<p>Line width for the likelihood components.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_lwd.total">lwd.total</code></td>
<td>
<p>Line width for the total likelihood.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_cex">cex</code></td>
<td>
<p>Character expansion for the points representing the likelihood
components.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_cex.total">cex.total</code></td>
<td>
<p>Character expansion for the points representing the total
likelihood.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_xlim">xlim</code></td>
<td>
<p>Range for x-axis. Change in likelihood is calculated relative to
values within this range.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_ymax">ymax</code></td>
<td>
<p>Maximum y-value. Default is 10\
plotted.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_xaxs">xaxs</code></td>
<td>
<p>The style of axis interval calculation to be used for the x-axis
(see ?par for more info)</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_yaxs">yaxs</code></td>
<td>
<p>The style of axis interval calculation to be used for the y-axis
(see ?par for more info).</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_type">type</code></td>
<td>
<p>Line type (see ?plot for more info).</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_legend">legend</code></td>
<td>
<p>Include legend?</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend (see ?legend for more info).</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for PNG file</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_add_cutoff">add_cutoff</code></td>
<td>
<p>Add dashed line at ~1.92 to indicate 95% confidence interval
based on common cutoff of half of chi-squared of p=.95 with 1 degree of
freedom: <code>0.5*qchisq(p=cutoff_prob, df=1)</code>. The probability value
can be adjusted using the <code>cutoff_prob</code> below.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_cutoff_prob">cutoff_prob</code></td>
<td>
<p>Probability associated with <code>add_cutoff</code> above.</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R GUI? (Doesn't do
anything yet.)</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_fleetgroups">fleetgroups</code></td>
<td>
<p>Optional character vector, with length equal to
the number of declared fleets, where fleets with the same value are
aggregated</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_likelihood_type">likelihood_type</code></td>
<td>
<p>choice of &quot;raw&quot; or &quot;raw_times_lambda&quot; (the default)
determines whether or not likelihoods plotted are adjusted by lambdas
(likelihood weights)</p>
</td></tr>
<tr><td><code id="PinerPlot_+3A_minfraction">minfraction</code></td>
<td>
<p>Minimum change in likelihood (over range considered) as a
fraction of change in total likelihood for a component to be included in the
figure.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Kevin Piner, Jim Thorson
</p>


<h3>References</h3>

<p>Kevin Piner says that he's not the originator of this idea so
Athol Whitten is going to add a reference here.
</p>

<hr>
<h2 id='plotCI'>Plot points with confidence intervals.</h2><span id='topic+plotCI'></span>

<h3>Description</h3>

<p>Given a set of x and y values and upper and lower bounds, this function
plots the points with error bars. This was Written by Venables and modified
to add access to ylim and contents.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plotCI(
  x,
  y = NULL,
  uiw,
  liw = uiw,
  ylo = NULL,
  yhi = NULL,
  ...,
  sfrac = 0.01,
  ymax = NULL,
  add = FALSE,
  col = "black"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plotCI_+3A_x">x</code></td>
<td>
<p>The x coordinates of points in the plot</p>
</td></tr>
<tr><td><code id="plotCI_+3A_y">y</code></td>
<td>
<p>The y coordinates of the points in the plot.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_uiw">uiw</code></td>
<td>
<p>The width of the upper portion of the confidence region.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_liw">liw</code></td>
<td>
<p>The width of the lower portion of the confidence region.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_ylo">ylo</code></td>
<td>
<p>Lower limit of y range.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_yhi">yhi</code></td>
<td>
<p>Upper limit of y range.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_...">...</code></td>
<td>
<p>Additional inputs that will be passed to the function
<code>plot(x,y,ylim=ylim,...)</code></p>
</td></tr>
<tr><td><code id="plotCI_+3A_sfrac">sfrac</code></td>
<td>
<p>Fraction of width of plot to be used for bar ends.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_ymax">ymax</code></td>
<td>
<p>Additional input for Upper limit of y range.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_add">add</code></td>
<td>
<p>Add points and intervals to existing plot? Default=FALSE.</p>
</td></tr>
<tr><td><code id="plotCI_+3A_col">col</code></td>
<td>
<p>Color for the points and lines.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Bill Venables, Ian Stewart, Ian Taylor, John Wallace
</p>

<hr>
<h2 id='populate_multiple_folders'>Populate multiple Stock Synthesis folders with input files</h2><span id='topic+populate_multiple_folders'></span>

<h3>Description</h3>

<p>Creates a set of multiple folders and populate each with SS input files
such as for the purpose of running a new version of SS for an existing
set of test models.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>populate_multiple_folders(
  outerdir.old = NULL,
  outerdir.new = NULL,
  create.dir = TRUE,
  overwrite = FALSE,
  use_ss_new = FALSE,
  exe.dir = NULL,
  exe.file = "ss.exe",
  exe.only = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="populate_multiple_folders_+3A_outerdir.old">outerdir.old</code></td>
<td>
<p>Location of existing outer directory containing
subdirectories for each model.</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_outerdir.new">outerdir.new</code></td>
<td>
<p>New outer directory into which the subfolders
should be created.</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_create.dir">create.dir</code></td>
<td>
<p>Create new outer directory if it doesn't exist already?</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite existing files with matching names?</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_use_ss_new">use_ss_new</code></td>
<td>
<p>Use .ss_new files instead of original inputs?</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_exe.dir">exe.dir</code></td>
<td>
<p>Path to executable to copy into all the subfolders.</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_exe.file">exe.file</code></td>
<td>
<p>Filename of executable to copy into all the subfolders.
A value of NULL will skip copying the executable.</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_exe.only">exe.only</code></td>
<td>
<p>Only copy exe files from exe.dir, don't copy input files</p>
</td></tr>
<tr><td><code id="populate_multiple_folders_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table of results indicating which directories were
successfully populated with the model input files and/or executables
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+copy_SS_inputs">copy_SS_inputs()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
populate_multiple_folders(
  outerdir.old = "c:/SS/old_models",
  outerdir.new = "c:/SS/new_models",
  exe.dir = "c:/SS/SSv3.30.12.00"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='r4ss_logo'>Make a simple logo for r4ss organization on GitHub</h2><span id='topic+r4ss_logo'></span>

<h3>Description</h3>

<p>I was tired of the automatically generated symbol
that appeared by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>r4ss_logo()
</code></pre>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>

<hr>
<h2 id='r4ss-package'>r4ss: R Code for Stock Synthesis</h2><span id='topic+r4ss'></span><span id='topic+r4ss-package'></span>

<h3>Description</h3>

<p>A collection of R functions for use with Stock Synthesis, a fisheries stock assessment modeling platform written in ADMB by Dr. Richard D. Methot at the NOAA Northwest Fisheries Science Center. The functions include tools for summarizing and plotting results, manipulating files, visualizing model parameterizations, and various other common stock assessment tasks. This version of 'r4ss' is compatible with Stock Synthesis versions 3.24 through 3.30 (specifically version 3.30.19.01, from April 2022).
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Ian G. Taylor <a href="mailto:Ian.Taylor@noaa.gov">Ian.Taylor@noaa.gov</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Ian J. Stewart
</p>
</li>
<li><p> Allan C. Hicks
</p>
</li>
<li><p> Tommy M. Garrison
</p>
</li>
<li><p> Andre E. Punt
</p>
</li>
<li><p> John R. Wallace
</p>
</li>
<li><p> Chantel R. Wetzel
</p>
</li>
<li><p> James T. Thorson
</p>
</li>
<li><p> Yukio Takeuchi
</p>
</li>
<li><p> Kotaro Ono
</p>
</li>
<li><p> Cole C. Monnahan
</p>
</li>
<li><p> Christine C. Stawitz
</p>
</li>
<li><p> Z. Teresa A'mar
</p>
</li>
<li><p> Athol R. Whitten
</p>
</li>
<li><p> Kelli F. Johnson
</p>
</li>
<li><p> Robbie L. Emmet
</p>
</li>
<li><p> Sean C. Anderson
</p>
</li>
<li><p> Gwladys I. Lambert
</p>
</li>
<li><p> Megan M. Stachura
</p>
</li>
<li><p> Andrew B. Cooper
</p>
</li>
<li><p> Andi Stephens
</p>
</li>
<li><p> Neil L. Klaer
</p>
</li>
<li><p> Carey R. McGilliard
</p>
</li>
<li><p> Iago Mosqueira
</p>
</li>
<li><p> Watal M. Iwasaki
</p>
</li>
<li><p> Kathryn L. Doering
</p>
</li>
<li><p> Andrea M. Havron
</p>
</li>
<li><p> Nathan Vaughan
</p>
</li>
<li><p> LaTreese S. Denson
</p>
</li>
<li><p> Ashleigh J. Novak
</p>
</li>
<li><p> Henning Winker
</p>
</li>
<li><p> Lee Qi
</p>
</li>
<li><p> Megumi Oshima
</p>
</li>
<li><p> Eric Fletcher
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/r4ss/r4ss">https://github.com/r4ss/r4ss</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r4ss/r4ss/issues">https://github.com/r4ss/r4ss/issues</a>
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read in the report file using SS_output
myreplist &lt;- SS_output(dir = "c:/SS/simple/")

# make a collection of plots using SS_plots
SS_plots(replist = myreplist)

## End(Not run)

</code></pre>

<hr>
<h2 id='read.admbFit'>Read ADMB .par and .cor files.</h2><span id='topic+read.admbFit'></span>

<h3>Description</h3>

<p>This function will parse the .par and .cor files to provide
things like parameter estimates, standard deviations,
and correlations. Required for Jim Thorson's Laplace
Approximation but likely useful for other purposes.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>read.admbFit(file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="read.admbFit_+3A_file">file</code></td>
<td>
<p>Name of ADMB executable such that files to read will
have format file.par and file.cor.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>List of various things from these files.
</p>


<h3>Author(s)</h3>

<p>James Thorson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getADMBHessian">getADMBHessian()</a></code>, <code><a href="#topic+NegLogInt_Fn">NegLogInt_Fn()</a></code>
</p>

<hr>
<h2 id='rich.colors.short'>Make a vector of colors.</h2><span id='topic+rich.colors.short'></span>

<h3>Description</h3>

<p>A subset of rich.colors by Arni Magnusson from the gplots package, with the
addition of alpha transparency (which is now available in the gplots version
as well)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rich.colors.short(n, alpha = 1)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rich.colors.short_+3A_n">n</code></td>
<td>
<p>Number of colors to generate.</p>
</td></tr>
<tr><td><code id="rich.colors.short_+3A_alpha">alpha</code></td>
<td>
<p>Alpha transparency value for all colors in vector. Value is
passed to rgb function.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Arni Magnusson, Ian Taylor
</p>

<hr>
<h2 id='run_SS_models'>Run multiple Stock Synthesis models</h2><span id='topic+run_SS_models'></span>

<h3>Description</h3>

<p>Loops over a vector of directories and iteratively runs SS in each one
</p>


<h3>Usage</h3>

<pre><code class='language-R'>run_SS_models(
  dirvec = NULL,
  model = "ss",
  extras = "-nox",
  systemcmd = FALSE,
  skipfinished = TRUE,
  intern = FALSE,
  verbose = TRUE,
  exe_in_path = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="run_SS_models_+3A_dirvec">dirvec</code></td>
<td>
<p>List of directories containing the model files</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_model">model</code></td>
<td>
<p>Executable name or path to executable (absolute path, or relative
to the working directory). First, if exe_in_path is
FALSE, The function will look an executable with the same name in each
element of dirvec. Then, if it is not found in each, the function will
assume that model is the path to the executable and there is only 1 copy of
the executable. Note that if there is an exe in your PATH with the same
name, this will be used even if exe_in_path is FALSE.</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_extras">extras</code></td>
<td>
<p>Additional commands to use when running SS. Default = &quot;-nox&quot;
will reduce the amount of command-line output.</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_systemcmd">systemcmd</code></td>
<td>
<p>Should R call SS using &quot;system&quot; function instead of &quot;shell&quot;.
This may be required when running R in Emacs. Default = FALSE.</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_skipfinished">skipfinished</code></td>
<td>
<p>Skip any folders that already contain a Report.sso file.
This can be helpful if the function is interrupted.</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_intern">intern</code></td>
<td>
<p>Show output in the R console or save to a file?</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R console?</p>
</td></tr>
<tr><td><code id="run_SS_models_+3A_exe_in_path">exe_in_path</code></td>
<td>
<p>logical. If TRUE, will look for exe in the PATH. If FALSE,
will look for exe in the model folders. Default = FALSE.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns table showing which directories had model run and which
had errors like missing executable or Report.sso already present
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+copy_SS_inputs">copy_SS_inputs()</a></code>,
<code><a href="#topic+populate_multiple_folders">populate_multiple_folders()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
extdata_mods &lt;- system.file("extdata", package = "r4ss")
dirvec &lt;- c(
  file.path(extdata_mods, "simple_3.30.12"),
  file.path(extdata_mods, "simple_3.30.13")
)
# if ss or ss.exe is available in both directories:
run_SS_models(dirvec = dirvec)

## End(Not run)

</code></pre>

<hr>
<h2 id='save_png'>Open png device and return info on the file being created</h2><span id='topic+save_png'></span>

<h3>Description</h3>

<p>this was previously contained within each of the SSplotXXX() functions.
It (1) translates the not-quite-matching specifications for the image to the
values needed by png(), then (2) returns the plotinfo data.frame
(which exists within each function which calls this) after adding a row
with the filename and caption for each new plot
Note: this just opens the png device which needs to be closed via dev.off()
outside this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>save_png(
  plotinfo,
  file,
  plotdir,
  pwidth,
  pheight,
  punits,
  res,
  ptsize,
  caption = NA,
  alt_text = NA,
  filenameprefix = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="save_png_+3A_plotinfo">plotinfo</code></td>
<td>
<p>table of information about all plots</p>
</td></tr>
<tr><td><code id="save_png_+3A_file">file</code></td>
<td>
<p>filename to write to (including .png extension)</p>
</td></tr>
<tr><td><code id="save_png_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where plots will be written</p>
</td></tr>
<tr><td><code id="save_png_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="save_png_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="save_png_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="save_png_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="save_png_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="save_png_+3A_caption">caption</code></td>
<td>
<p>caption for the image</p>
</td></tr>
<tr><td><code id="save_png_+3A_alt_text">alt_text</code></td>
<td>
<p>alternative text for screen readers
(if left as NA then will be set based on the caption)</p>
</td></tr>
<tr><td><code id="save_png_+3A_filenameprefix">filenameprefix</code></td>
<td>
<p>Additional text to append to PNG or PDF file names.
It will be separated from default name by an underscore.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor
</p>

<hr>
<h2 id='selShapes'>Launch a shiny app that displays various selectivity curves</h2><span id='topic+selShapes'></span>

<h3>Description</h3>

<p>This app is hosted at https://connect.fisheries.noaa.gov/shiny-selex-ss3/
</p>


<h3>Usage</h3>

<pre><code class='language-R'>selShapes()
</code></pre>


<h3>Author(s)</h3>

<p>Allan Hicks, Andrea Havron, Ian Taylor,
</p>
<p>inspired by tcl/tk code written by Tommy Garrison
</p>

<hr>
<h2 id='SS_changepars'>Change parameters, bounds, or phases in the control file.</h2><span id='topic+SS_changepars'></span>

<h3>Description</h3>

<p>Loops over a subset of control file to change parameter lines.
Current initial value, lower and upper bounds, and phase can be modified,
but function could be expanded to control other columns.
Depends on <code><a href="#topic+SS_parlines">SS_parlines()</a></code>.
Used by <code><a href="#topic+SS_profile">SS_profile()</a></code> and the <span class="pkg">ss3sim</span> package.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_changepars(
  dir = NULL,
  ctlfile = "control.ss_new",
  newctlfile = "control_modified.ss",
  linenums = NULL,
  strings = NULL,
  newvals = NULL,
  repeat.vals = FALSE,
  newlos = NULL,
  newhis = NULL,
  newprior = NULL,
  newprsd = NULL,
  newprtype = NULL,
  estimate = NULL,
  verbose = TRUE,
  newphs = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_changepars_+3A_dir">dir</code></td>
<td>
<p>Directory with control file to change.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_ctlfile">ctlfile</code></td>
<td>
<p>Control file name. Default=&quot;control.ss_new&quot;.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newctlfile">newctlfile</code></td>
<td>
<p>Name of new control file to be written.
Default=&quot;control_modified.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_linenums">linenums</code></td>
<td>
<p>Line numbers of control file to be modified. Either this or
the <code>strings</code> argument are needed. Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_strings">strings</code></td>
<td>
<p>Strings (with optional partial matching) indicating which
parameters to be modified. This is an alternative to <code>linenums</code>.
<code>strings</code> correspond to the commented parameter names included in
<code>control.ss_new</code>, or whatever is written as comment at the end
of the 14 number parameter lines. Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newvals">newvals</code></td>
<td>
<p>Vector of new parameter values. Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_repeat.vals">repeat.vals</code></td>
<td>
<p>If multiple parameter lines match criteria, repeat the
<code>newvals</code> input for each line.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newlos">newlos</code></td>
<td>
<p>Vector of new lower bounds. Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newhis">newhis</code></td>
<td>
<p>Vector of new high bounds. Must be the same length as newhis
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newprior">newprior</code></td>
<td>
<p>Vector of new prior values.
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newprsd">newprsd</code></td>
<td>
<p>Vector of new prior sd values.
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newprtype">newprtype</code></td>
<td>
<p>Vector of new prior type.
Default=NULL.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remainder parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_estimate">estimate</code></td>
<td>
<p>Optional vector or single value of TRUE/FALSE for which
parameters are to be estimated. Changes sign of phase to be positive or
negative. Default <code>NULL</code> causes no change to phase.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_verbose">verbose</code></td>
<td>
<p>More detailed output to command line. Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_changepars_+3A_newphs">newphs</code></td>
<td>
<p>Vector of new phases. Can be a single value, which will be
repeated for each parameter, the same length as newvals, where each
value corresponds to a single parameter, or <code>NULL</code>, where the
phases will not be changed. If one wants to strictly turn parameters
on or off and not change the phase in which they are estimated use
<code>estimate = TRUE</code> or <code>estimate = FALSE</code>, respectively.
The vector can contain <code>NA</code> values, which will assign the original
value to the given parameter but change the remaining parameters, where
the vector of values needs to be in the same order as either
<code>linenums</code> or <code>strings</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Christine Stawitz, Chantel Wetzel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_parlines">SS_parlines()</a></code>, <code><a href="#topic+SS_profile">SS_profile()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
SS_changepars(
  dir = "C:/ss/SSv3.30.03.05_May11/Simple - Copy",
  strings = c("steep", "sigmaR"), newvals = c(.4, .6)
)
## parameter names in control file matching input vector 'strings' (n=2):
## [1] "SR_BH_steep" "SR_sigmaR"
## These are the ctl file lines as they currently exist:
##     LO HI     INIT PRIOR PR_type SD PHASE env_var&amp;link dev_link dev_minyr dev_maxyr
## 95 0.2  1 0.613717   0.7    0.05  1     4       0       0         0         0
## 96 0.0  2 0.600000   0.8    0.80  0    -4       0       0         0         0
##        dev_PH Block Block_Fxn       Label Linenum
## 95          0     0         0 SR_BH_steep      95
## 96          0     0         0   SR_sigmaR      96
## line numbers in control file (n=2):
## [1] 95 96
##
## wrote new file to control_modified.ss with the following changes:
##    oldvals newvals oldphase newphase oldlos newlos oldhis newhis       comment
## 1 0.613717     0.4        4       -4    0.2    0.2      1      1 # SR_BH_steep
## 2 0.600000     0.6       -4       -4    0.0    0.0      2      2   # SR_sigmaR

## End(Not run)
</code></pre>

<hr>
<h2 id='SS_decision_table_stuff'>Extract total catch, spawning output, and fraction unfished from forecast years</h2><span id='topic+SS_decision_table_stuff'></span>

<h3>Description</h3>

<p>Values of total catch, spawning output, and fraction unfished are extracted
from the forecast years of a time series table for inclusion in a decision table.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_decision_table_stuff(replist, yrs = 2021:2032, digits = c(0, 0, 3))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_decision_table_stuff_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_decision_table_stuff_+3A_yrs">yrs</code></td>
<td>
<p>Range of years from which to extract values</p>
</td></tr>
<tr><td><code id="SS_decision_table_stuff_+3A_digits">digits</code></td>
<td>
<p>Vector of number of digits to round to in table for
</p>

<ul>
<li><p> 1 catch
</p>
</li>
<li><p> 2 spawning output
</p>
</li>
<li><p> 3 fraction unfished (column is called &quot;depl&quot;)
</p>
</li></ul>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_ForeCatch">SS_ForeCatch()</a></code>
</p>

<hr>
<h2 id='SS_doRetro'>Run retrospective analyses</h2><span id='topic+SS_doRetro'></span>

<h3>Description</h3>

<p>Do retrospective analyses by creating new directories, copying model files,
and iteratively changing the starter file to set the number of years of data
to exclude. Note that there was a  bug for retrospectives in 3.30.01;
the user should update their model to a newer version of Stock Synthesis to
run retrospectives
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_doRetro(
  masterdir,
  oldsubdir,
  newsubdir = "retrospectives",
  subdirstart = "retro",
  years = 0:-5,
  overwrite = TRUE,
  exefile = "ss",
  extras = "-nox",
  intern = FALSE,
  CallType = "system",
  RemoveBlocks = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_doRetro_+3A_masterdir">masterdir</code></td>
<td>
<p>Directory where everything takes place.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_oldsubdir">oldsubdir</code></td>
<td>
<p>Subdirectory within <code>masterdir</code> with existing model
files.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_newsubdir">newsubdir</code></td>
<td>
<p>Subdirectory within <code>masterdir</code> where retrospectives
will be run. Default is 'retrospectives'.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_subdirstart">subdirstart</code></td>
<td>
<p>First part of the pattern of names for the directories in
which the models will actually be run.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_years">years</code></td>
<td>
<p>Vector of values to iteratively enter into the starter file for
retrospective year. Should be zero or negative values.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite any input files with matching names in the
subdirectories where models will be run.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_exefile">exefile</code></td>
<td>
<p>Executable file found in directory with model files.
On Windows systems, this value will be automatically updated if a single
executable exists in the directory of model files. Input exefile=NULL if
the executable is in your path and doesn't need copying.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_extras">extras</code></td>
<td>
<p>Additional commands to use when running SS. Default = &quot;-nox&quot;
will reduce the amount of command-line output.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_intern">intern</code></td>
<td>
<p>Display runtime information from SS in the R console (vs.
saving to a file).</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_calltype">CallType</code></td>
<td>
<p>Either &quot;system&quot; or &quot;shell&quot; (choice depends on how you're running
R. Default is &quot;system&quot;.</p>
</td></tr>
<tr><td><code id="SS_doRetro_+3A_removeblocks">RemoveBlocks</code></td>
<td>
<p>Logical switch determining whether specifications of
blocks is removed from top of control file. Blocks can cause problems for
retrospective analyses, but the method for removing them is overly
simplistic and probably won't work in most cases. Default=FALSE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Jim Thorson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSgetoutput">SSgetoutput()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# note: don't run this in your main directory--make a copy in case something
# goes wrong
mydir &lt;- "C:/Simple"

## retrospective analyses
SS_doRetro(
  masterdir = mydir,
  oldsubdir = "",
  newsubdir = "retrospectives",
  years = 0:-5
)

retroModels &lt;- SSgetoutput(
  dirvec = file.path(mydir, "retrospectives", paste("retro", 0:-5, sep = ""))
)
retroSummary &lt;- SSsummarize(retroModels)
endyrvec &lt;- retroSummary[["endyrs"]] + 0:-5
SSplotComparisons(retroSummary,
  endyrvec = endyrvec,
  legendlabels = paste("Data", 0:-5, "years")
)

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_fitbiasramp'>Estimate bias adjustment for recruitment deviates</h2><span id='topic+SS_fitbiasramp'></span>

<h3>Description</h3>

<p>Uses standard error of estimated recruitment deviates to estimate the 5
controls (Methot and Taylor, 2011)
for bias adjustment in Stock Synthesis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_fitbiasramp(
  replist,
  verbose = FALSE,
  startvalues = NULL,
  method = "BFGS",
  twoplots = TRUE,
  transform = FALSE,
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  shownew = TRUE,
  oldctl = NULL,
  newctl = NULL,
  altmethod = "nlminb",
  exclude_forecast = FALSE,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  ptsize = 10,
  res = 300,
  cex.main = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_fitbiasramp_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_verbose">verbose</code></td>
<td>
<p>Controls the amount of output to the screen.  Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_startvalues">startvalues</code></td>
<td>
<p>A vector of 5 values for the starting points in the
minimization. Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_method">method</code></td>
<td>
<p>A method to apply to the 'optim' function. See ?optim for
options. Default=&quot;BFGS&quot;. By default, optim is not used, and the optimization
is based on the input <code>altmethod</code>.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_twoplots">twoplots</code></td>
<td>
<p>Make a two-panel plot showing devs as well as transformed
uncertainty, or just the second panel in the set?  Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_transform">transform</code></td>
<td>
<p>An experimental option to treat the transform the 5
quantities to improve minimization. Doesn't work well. Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. By default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_shownew">shownew</code></td>
<td>
<p>Include new estimated bias adjustment values on top of values
used in the model? (TRUE/FALSE)</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_oldctl">oldctl</code></td>
<td>
<p>Optional name of existing control file to modify.
Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_newctl">newctl</code></td>
<td>
<p>Optional name of new control file to create from old file with
estimated bias adjustment values. Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_altmethod">altmethod</code></td>
<td>
<p>Optimization tool to use in place of optim, either &quot;nlminb&quot;
or &quot;psoptim&quot;. If not equal to either of these, then optim is used.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_exclude_forecast">exclude_forecast</code></td>
<td>
<p>Exclude forecast values in the estimation of
alternative bias adjustment inputs?</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SS_fitbiasramp_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles.
The default is <code>cex.main=1</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Implementation of the bias adjustment ramp within Stock Synthesis increases
the likelihood that the estimated recruitment events, which are
log-normally distributed, are mean unbiased and comparable to results from
Markov chain Monte Carlo estimation routines
(Methot and Taylor, 2011).
Options to account for the fact that data typically do not equally represent
all modelled time periods are as follows:
</p>

<ol>
<li><p>fix the bias adjustment parameters at best-guess values informed by a previous
assessment or model run;
</p>
</li>
<li><p>fix values based on data availability, such that the start of the ramp aligns
with the availability of composition data, the ramp down begins the last year
those data are informative about recruitment, and the adjustment level is
informed by life history;
</p>
</li>
<li><p>set the adjustment level to 1.0 for all years to mimic how it was handled
it Stock Synthesis prior to 2009; or
</p>
</li>
<li><p>set the adjustment level to 0.0 for all years, but this last option is
not recommended because it will lead to biased results.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>References</h3>

<p>Methot, R.D. and Taylor, I.G., 2011.
Adjusting for bias due to variability of estimated recruitments in fishery assessment models.
Can. J. Fish. Aquat. Sci., 68:1744-1760.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SS_ForeCatch'>Create table of fixed forecast catches</h2><span id='topic+SS_ForeCatch'></span>

<h3>Description</h3>

<p>Processing values of dead or retained biomass from timeseries output
to fit the format required at the bottom of the forecast file.
This can be used to map the catches resulting from forecasting with a particular
harvest control rule into a model representing a different state of nature.
This is a common task for US west coast groundfish but might be useful elsewhere.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_ForeCatch(
  replist,
  yrs = 2021:2032,
  average = FALSE,
  avg.yrs = 2016:2020,
  total = NULL,
  digits = 2,
  dead = TRUE,
  zeros = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_ForeCatch_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_yrs">yrs</code></td>
<td>
<p>Range of years in which to fill in forecast catches from timeseries</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_average">average</code></td>
<td>
<p>Use average catch over a range of years for forecast
(as opposed to using forecast based on control rule)</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_avg.yrs">avg.yrs</code></td>
<td>
<p>Range of years to average over</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_total">total</code></td>
<td>
<p>Either single value or vector of annual total forecast catch
used to scale values (especially if values are from average catches).
For west coast groundfish, total might be ACL for next 2 forecast years</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round to in table</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_dead">dead</code></td>
<td>
<p>TRUE/FALSE switch to choose dead catch instead of retained catch.</p>
</td></tr>
<tr><td><code id="SS_ForeCatch_+3A_zeros">zeros</code></td>
<td>
<p>Include entries with zero catch (TRUE/FALSE)</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
  ## Not run: 
    # create table based on average over past 5 years
    SS_ForeCatch(base,                # object created by SS_output
                 yrs = 2021:2022,     # years with fixed catch
                 average = TRUE,      # catch by fleet from average catch
                 avg.yrs = 2014:2018) # use average of catches over past 5 years

    # create table with pre-defined totals where the first 2 years
    # are based on current harvest specifications and the next 10 are set to some
    # new value (with ratio among fleets based on average over past 5 years)
    SS_ForeCatch(base,                # object created by SS_output
                 yrs = 2021:2022,     # years with fixed catch
                 average = TRUE,      # catch by fleet from average catch
                 avg.yrs = 2016:2020, # use average of catches over past 5 years
                 total = c(rep(241.3, 2), rep(300, 10))) # total

    # create table based on harvest control rule projection in SS
    # that can be mapped into an alternative state of nature
    SS_ForeCatch(low_state,          # object created by SS_output for low state
                 yrs=2021:2032,      # forecast period after fixed ACL years
                 average=FALSE)      # use values forecast in SS, not historic catch

  
## End(Not run)

</code></pre>

<hr>
<h2 id='SS_html'>Create HTML files to view figures in browser.</h2><span id='topic+SS_html'></span>

<h3>Description</h3>

<p>Writes a set of HTML files with tabbed navigation between them.  Depends on
<code><a href="#topic+SS_plots">SS_plots()</a></code> with settings in place to write figures to PNG files.
Should open main file in default browser automatically.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_html(
  replist = NULL,
  plotdir = NULL,
  plotInfoTable = NULL,
  title = "SS Output",
  width = 500,
  openfile = TRUE,
  multimodel = FALSE,
  filenotes = NULL,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_html_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_html_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files are located.</p>
</td></tr>
<tr><td><code id="SS_html_+3A_plotinfotable">plotInfoTable</code></td>
<td>
<p>CSV file with info on PNG files. By default, the
<code>plotdir</code> directory will be searched for files with name beginning
'plotInfoTable*'</p>
</td></tr>
<tr><td><code id="SS_html_+3A_title">title</code></td>
<td>
<p>Title for HTML page.</p>
</td></tr>
<tr><td><code id="SS_html_+3A_width">width</code></td>
<td>
<p>Width of plots (in pixels).</p>
</td></tr>
<tr><td><code id="SS_html_+3A_openfile">openfile</code></td>
<td>
<p>Automatically open index.html in default browser?</p>
</td></tr>
<tr><td><code id="SS_html_+3A_multimodel">multimodel</code></td>
<td>
<p>Override errors associated with plots from multiple model
runs. Only do this if you know what you're doing.</p>
</td></tr>
<tr><td><code id="SS_html_+3A_filenotes">filenotes</code></td>
<td>
<p>Add additional notes to home page.</p>
</td></tr>
<tr><td><code id="SS_html_+3A_verbose">verbose</code></td>
<td>
<p>Display more info while running this function?</p>
</td></tr>
</table>


<h3>Note</h3>

<p>By default, this function will look in the directory where PNG files
were created for CSV files with the name 'plotInfoTable...' written by
'SS_plots. HTML files are written to link to these plots and put in the same
directory. Please provide feedback on any bugs, annoyances, or suggestions
for improvement.
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SS_makeHTMLdiagnostictable'>Make html diagnostic tables</h2><span id='topic+SS_makeHTMLdiagnostictable'></span>

<h3>Description</h3>

<p>Creates html tables that show diagnostic outputs, including status checks, gradients, and correlations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_makeHTMLdiagnostictable(replist, plotdir = NULL, gradmax = 0.001)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_makeHTMLdiagnostictable_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_makeHTMLdiagnostictable_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where the text files containing the tables will be written.
By default it will be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SS_makeHTMLdiagnostictable_+3A_gradmax">gradmax</code></td>
<td>
<p>the largest gradient value for estimated parameter; the default is 1E-3</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a three-element vector; the first element is the name of the html table file, the second is the table caption, and the third is the category of output type
</p>


<h3>Author(s)</h3>

<p>Christine Stawitz
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SS_html">SS_html()</a></code>
</p>

<hr>
<h2 id='SS_output'>A function to create a list object for the output from Stock Synthesis</h2><span id='topic+SS_output'></span>

<h3>Description</h3>

<p>Reads the Report.sso and (optionally) the covar.sso, CompReport.sso and
other files produced by Stock Synthesis and formats the important
content of these files into a list in the R workspace. A few statistics
unavailable elsewhere are taken from the .par and .cor files. Summary
information and statistics can be returned to the R console or just
contained within the list produced by this function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_output(
  dir = "C:/myfiles/mymodels/myrun/",
  dir.mcmc = NULL,
  repfile = "Report.sso",
  compfile = "CompReport.sso",
  covarfile = "covar.sso",
  forefile = "Forecast-report.sso",
  wtfile = "wtatage.ss_new",
  warnfile = "warning.sso",
  ncols = NULL,
  forecast = TRUE,
  warn = TRUE,
  covar = TRUE,
  readwt = TRUE,
  checkcor = TRUE,
  cormax = 0.95,
  cormin = 0.01,
  printhighcor = 10,
  printlowcor = 10,
  verbose = TRUE,
  printstats = TRUE,
  hidewarn = FALSE,
  NoCompOK = TRUE,
  aalmaxbinrange = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_output_+3A_dir">dir</code></td>
<td>
<p>Directory containing the Stock Synthesis model output.
Forward slashes or double backslashes and quotes are necessary.
This can also either be an absolute path or relative to the working
directory.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_dir.mcmc">dir.mcmc</code></td>
<td>
<p>Optional directory containing MCMC output. This can either be
relative to <code>dir</code>, such that <code>file.path(dir, dir.mcmc)</code>
will end up in the right place, or an absolute path.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_repfile">repfile</code></td>
<td>
<p>Name of the big report file (could be renamed by user).</p>
</td></tr>
<tr><td><code id="SS_output_+3A_compfile">compfile</code></td>
<td>
<p>Name of the composition report file.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_covarfile">covarfile</code></td>
<td>
<p>Name of the covariance output file.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_forefile">forefile</code></td>
<td>
<p>Name of the forecast file.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_wtfile">wtfile</code></td>
<td>
<p>Name of the file containing weight at age data.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_warnfile">warnfile</code></td>
<td>
<p>Name of the file containing warnings.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_ncols">ncols</code></td>
<td>
<p>The maximum number of columns in files being read in.  If this
value is too big the function runs more slowly, too small and errors will
occur.  A warning will be output to the R command line if the value is too
small. It should be bigger than the maximum age + 10 and the number of
years + 10. The default value is <code>NULL</code>, which finds the optimum width.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_forecast">forecast</code></td>
<td>
<p>Read the forecast-report file?</p>
</td></tr>
<tr><td><code id="SS_output_+3A_warn">warn</code></td>
<td>
<p>Read the Warning.sso file?</p>
</td></tr>
<tr><td><code id="SS_output_+3A_covar">covar</code></td>
<td>
<p>Read covar.sso to get variance information and identify bad
correlations?</p>
</td></tr>
<tr><td><code id="SS_output_+3A_readwt">readwt</code></td>
<td>
<p>Read the weight-at-age file?</p>
</td></tr>
<tr><td><code id="SS_output_+3A_checkcor">checkcor</code></td>
<td>
<p>Check for bad correlations?</p>
</td></tr>
<tr><td><code id="SS_output_+3A_cormax">cormax</code></td>
<td>
<p>The specified threshold for defining high correlations.  A
quantity with any correlation above this value is identified.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_cormin">cormin</code></td>
<td>
<p>The specified threshold for defining low correlations.  Only
quantities with all correlations below this value are identified (to find
variables that appear too independent from the model results).</p>
</td></tr>
<tr><td><code id="SS_output_+3A_printhighcor">printhighcor</code></td>
<td>
<p>The maximum number of high correlations to print to the
R GUI.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_printlowcor">printlowcor</code></td>
<td>
<p>The maximum number of low correlations to print to the R
GUI.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_printstats">printstats</code></td>
<td>
<p>Print summary statistics about the output to the R GUI?</p>
</td></tr>
<tr><td><code id="SS_output_+3A_hidewarn">hidewarn</code></td>
<td>
<p>Hides some warnings output from the R GUI.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_nocompok">NoCompOK</code></td>
<td>
<p>Allow the function to work without a CompReport file.</p>
</td></tr>
<tr><td><code id="SS_output_+3A_aalmaxbinrange">aalmaxbinrange</code></td>
<td>
<p>The largest length bin range allowed for composition
data to be considered as conditional age-at-length data.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Many values are returned. Complete list would be quite long, but
should probably be created at some point in the future.
</p>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read model output
myreplist &lt;- SS_output(dir = "c:/SS/Simple/")
# make a bunch of plots
SS_plots(myreplist)

# read model output and also read MCMC results (if run), which in
# this case would be stored in c:/SS/Simple/mcmc/
myreplist &lt;- SS_output(dir = "c:/SS/Simple/", dir.mcmc = "mcmc")

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_parlines'>Get parameter lines from Stock Synthesis control file</h2><span id='topic+SS_parlines'></span>

<h3>Description</h3>

<p>A simple function which takes as input the full path and filename of a
control file for input to Stock Synthesis. Ideally, a Control.SS_New file
will be used, so that it represents what SS thinks the inputs are, and not
what the user thinks the inputs are.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_parlines(
  ctlfile = "control.ss_new",
  dir = NULL,
  version = "3.30",
  verbose = TRUE,
  active = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_parlines_+3A_ctlfile">ctlfile</code></td>
<td>
<p>File name of control file including path.</p>
</td></tr>
<tr><td><code id="SS_parlines_+3A_dir">dir</code></td>
<td>
<p>Alternative input of path, where file is assumed to be
&quot;control.ss_new&quot;. Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_parlines_+3A_version">version</code></td>
<td>
<p>SS version number. Currently only &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).</p>
</td></tr>
<tr><td><code id="SS_parlines_+3A_verbose">verbose</code></td>
<td>
<p>TRUE/FALSE switch for amount of detail produced by function.
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_parlines_+3A_active">active</code></td>
<td>
<p>Should only active parameters (those with positive phase) be
output? Default=FALSE.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It returns a table which should contain one line for each parameter in the
model. Currently, only the first 7 values are returned, because all
parameters have those values. In the future, extended parameter lines could
be returned.
</p>
<p>Parameter lines are identified as those which have 7 or 14 numeric elements
followed by a non-numeric element. It's possible that this system could
break down under certain circumstances
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_changepars">SS_changepars()</a></code>, <code><a href="#topic+SS_readctl">SS_readctl()</a></code>,
<code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
parlines &lt;- SS_parlines(ctlfile = "c:/ss/Simple/Control.SS_New")
head(parlines)
#       LO    HI     INIT PRIOR PR_type   SD PHASE              Label Line_num
# 42  0.05  0.15  0.10000  0.10       0  0.8    -3  NatM_p_1_Fem_GP_1       42
# 43  0.05  0.15  0.10000  0.10       0  0.8    -3  NatM_p_2_Fem_GP_1       43
# 44  1.00 45.00 32.28100 36.00       0 10.0     2 L_at_Amin_Fem_GP_1       44
# 45 40.00 90.00 71.34260 70.00       0 10.0     4 L_at_Amax_Fem_GP_1       45
# 46  0.05  0.25  0.15199  0.15       0  0.8     4 VonBert_K_Fem_GP_1       46
# 47  0.05  0.25  0.10000  0.10       0  0.8    -3  CV_young_Fem_GP_1       47

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_plots'>plot many quantities related to output from Stock Synthesis</h2><span id='topic+SS_plots'></span>

<h3>Description</h3>

<p>Creates a user-chosen set of plots, including biological quantities, time
series, and fits to data.  Plots are sent to R GUI, single PDF file, or
multiple PNG files. This is now just a wrapper which calls on separate
functions to make all the plots.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_plots(
  replist = NULL,
  plot = 1:26,
  print = NULL,
  pdf = FALSE,
  png = TRUE,
  html = png,
  printfolder = "plots",
  dir = "default",
  fleets = "all",
  areas = "all",
  fleetnames = "default",
  fleetcols = "default",
  fleetlty = 1,
  fleetpch = 1,
  lwd = 1,
  areacols = "default",
  areanames = "default",
  verbose = TRUE,
  uncertainty = TRUE,
  forecastplot = FALSE,
  datplot = TRUE,
  Natageplot = TRUE,
  samplesizeplots = TRUE,
  compresidplots = TRUE,
  comp.yupper = 0.4,
  sprtarg = "default",
  btarg = "default",
  minbthresh = "default",
  pntscalar = NULL,
  bub.scale.pearson = 1.5,
  bub.scale.dat = 3,
  pntscalar.nums = 2.6,
  pntscalar.tags = 2.6,
  minnbubble = 8,
  aalyear = -1,
  aalbin = -1,
  aalresids = TRUE,
  maxneff = 5000,
  cohortlines = c(),
  smooth = TRUE,
  showsampsize = TRUE,
  showeffN = TRUE,
  sampsizeline = FALSE,
  effNline = FALSE,
  showlegend = TRUE,
  pwidth = 6.5,
  pheight = 4,
  pheight_tall = 6.5,
  punits = "in",
  ptsize = 10,
  res = 300,
  mainTitle = FALSE,
  cex.main = 1,
  selexlines = 1:6,
  rows = 1,
  cols = 1,
  maxrows = 6,
  maxcols = 4,
  maxrows2 = 4,
  maxcols2 = 4,
  andrerows = 4,
  tagrows = 3,
  tagcols = 3,
  parrows = 4,
  parcols = 2,
  fixdims = TRUE,
  new = TRUE,
  SSplotDatMargin = 8,
  filenotes = NULL,
  catchasnumbers = NULL,
  catchbars = TRUE,
  legendloc = "topleft",
  minyr = -Inf,
  maxyr = Inf,
  sexes = "all",
  scalebins = FALSE,
  scalebubbles = FALSE,
  tslabels = NULL,
  catlabels = NULL,
  maxsize = 1,
  showmle = TRUE,
  showpost = TRUE,
  showprior = TRUE,
  showinit = TRUE,
  showdev = FALSE,
  fitrange = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_plots_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_plot">plot</code></td>
<td>
<p>Plot sets to be created, see list of plots below.  Use to
specify only those plot sets of interest, e.g., c(1,2,5,10). Plots for data
not available in the model run will automatically be skipped, whether called
or not.
Current grouping of plots is as follows:
</p>

<ol>
<li><p> Biology
</p>
</li>
<li><p> Selectivity and retention
</p>
</li>
<li><p> Timeseries
</p>
</li>
<li><p> Recruitment deviations
</p>
</li>
<li><p> Recruitment bias adjustment
</p>
</li>
<li><p> Spawner-recruit
</p>
</li>
<li><p> Catch
</p>
</li>
<li><p> SPR
</p>
</li>
<li><p> Discards
</p>
</li>
<li><p> Mean weight
</p>
</li>
<li><p> Indices
</p>
</li>
<li><p> Numbers at age
</p>
</li>
<li><p> Length comp data
</p>
</li>
<li><p> Age comp data
</p>
</li>
<li><p> Conditional age-at-length data
</p>
</li>
<li><p> Length comp fits
</p>
</li>
<li><p> Age comp fits
</p>
</li>
<li><p> Conditional age-at-length fits
</p>
</li>
<li><p> Francis and Punt conditional age-at-length comp fits
</p>
</li>
<li><p> Mean length-at-age and mean weight-at-age
</p>
</li>
<li><p> Tags
</p>
</li>
<li><p> Yield
</p>
</li>
<li><p> Movement
</p>
</li>
<li><p> Data range
</p>
</li>
<li><p> Parameter distributions
</p>
</li>
<li><p> Diagnostic tables
</p>
</li></ol>
</td></tr>
<tr><td><code id="SS_plots_+3A_print">print</code></td>
<td>
<p>Deprecated input for backward compatibility, now replaced by
<code>png = TRUE/FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pdf">pdf</code></td>
<td>
<p>Send plots to PDF file instead of R GUI?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_png">png</code></td>
<td>
<p>Send plots to PNG files instead of R GUI?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_html">html</code></td>
<td>
<p>Run <code><a href="#topic+SS_html">SS_html()</a></code> on completion? By default has same
value as <code>png</code>.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_printfolder">printfolder</code></td>
<td>
<p>The sub-directory under 'dir' (see below) in which the
PNG files will be located.  The default sub-directory is &quot;plots&quot;.
The directory will be created if it doesn\'t exist.
If 'printfolder' is set to &quot;&quot;, it is ignored and the PNG files will be located
in the directory specified by 'dir'.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_dir">dir</code></td>
<td>
<p>The directory in which a PDF file (if requested) will be created
and within which the printfolder sub-directory (see above) will be created
if png=TRUE. By default it will be the same directory that the report file
was read from by the <code>SS_output</code> function. Alternatives to the default
can be either relative (to the working directory) or absolute paths.
The function will attempt to create the directory it doesn't exist, but it
does not do so recursively.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fleets">fleets</code></td>
<td>
<p>Either the string &quot;all&quot;, or a vector of numerical values, like
c(1,3), listing fleets or surveys for which plots should be made. By
default, plots will be made for all fleets and surveys.  Default=&quot;all&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_areas">areas</code></td>
<td>
<p>Either the string &quot;all&quot;, or a vector of numerical values, like
c(1,3), listing areas for which plots should be made in a multi-area model.
By default, plots will be made for all areas (excepting cases where the
function has not yet been updated for multi-area models). Default=&quot;all&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Either the string &quot;default&quot;, or a vector of characters
strings to use for each fleet name. Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fleetcols">fleetcols</code></td>
<td>
<p>Either the string &quot;default&quot;, or a vector of colors to use
for each fleet.  Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fleetlty">fleetlty</code></td>
<td>
<p>Vector of line types used for each fleet in some plots.
Default=1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fleetpch">fleetpch</code></td>
<td>
<p>Vector of point types used for each fleet in some plots.
Default=1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_lwd">lwd</code></td>
<td>
<p>Line width for some plots. Default=1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_areacols">areacols</code></td>
<td>
<p>Either the string &quot;default&quot;, or a vector of colors to use
for each area. Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_areanames">areanames</code></td>
<td>
<p>Optional vector of names for each area used in titles.
Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R GUI?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Include values in plots showing estimates of uncertainty
(requires positive definite hessian in model?  Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_forecastplot">forecastplot</code></td>
<td>
<p>Include forecast years in the timeseries plots and
plots of time-varying quantities?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_datplot">datplot</code></td>
<td>
<p>Plot the data by itself? This is useful in document
preparation, but doesn't change across alternative model runs with the same
data, so can be committed to save time once the plots have been created once.
Setting datplot=FALSE is equivalent to leaving off plots 15 and 16.
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_natageplot">Natageplot</code></td>
<td>
<p>Plot the expected numbers at age bubble plots and mean-age
time series?  Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_samplesizeplots">samplesizeplots</code></td>
<td>
<p>Show sample size plots?  Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_compresidplots">compresidplots</code></td>
<td>
<p>Show residuals for composition plots?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_comp.yupper">comp.yupper</code></td>
<td>
<p>Upper limit on ymax for polygon/histogram composition
plots. This avoids scaling all plots to have max=1 if there is a vector
with only a single observed fish in it. Default=0.4.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_sprtarg">sprtarg</code></td>
<td>
<p>Specify the F/SPR proxy target. Default=0.4.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_btarg">btarg</code></td>
<td>
<p>Target %unfished to be used in plots showing %unfished. May be
omitted by setting to NA.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_minbthresh">minbthresh</code></td>
<td>
<p>Threshold depletion to be used in plots showing depletion.
May be omitted by setting to NA.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pntscalar">pntscalar</code></td>
<td>
<p>This scalar defines the maximum bubble size for bubble
plots. This option is still available but a better choice is to use
bub.scale.pearson and bub.scale.dat, which are allow the same scaling
throughout all plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_bub.scale.pearson">bub.scale.pearson</code></td>
<td>
<p>Character expansion (cex) value for a proportion of
1.0 in bubble plot of Pearson residuals. Default=1.5.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_bub.scale.dat">bub.scale.dat</code></td>
<td>
<p>Character expansion (cex) value for a proportion of 1.0
in bubble plot of composition data. Default=3.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pntscalar.nums">pntscalar.nums</code></td>
<td>
<p>This scalar defines the maximum bubble size for
numbers-at-age and numbers-at-length plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pntscalar.tags">pntscalar.tags</code></td>
<td>
<p>This scalar defines the maximum bubble size for
tagging plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_minnbubble">minnbubble</code></td>
<td>
<p>This defines the minimum number of years below which blank
years will be added to bubble plots to avoid cropping.  Default=8.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_aalyear">aalyear</code></td>
<td>
<p>Years to plot multi-panel conditional age-at-length fits for
all length bins; must be in a &quot;c(YYYY,YYYY)&quot; format. Useful for checking the
fit of a dominant year class, critical time period, etc. Default=-1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_aalbin">aalbin</code></td>
<td>
<p>The length bin for which multi-panel plots of the fit to
conditional age-at-length data will be produced for all years.  Useful to
see if growth curves are ok, or to see the information on year classes move
through the conditional data. Default=-1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_aalresids">aalresids</code></td>
<td>
<p>Plot the full set of conditional age-at-length Pearson
residuals? Turn to FALSE if plots are taking too long and you don't want
them.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxneff">maxneff</code></td>
<td>
<p>The maximum value to include on plots of input and effective
sample size. Occasionally a calculation of effective N blows up to very
large numbers, rendering it impossible to observe the relationship for other
data. Default=5000.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_cohortlines">cohortlines</code></td>
<td>
<p>Optional vector of birth years for cohorts for which to
add growth curves to numbers at length bubble plots.  Default=c().</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_smooth">smooth</code></td>
<td>
<p>Add loess smoother to observed vs. expected index plots and
input vs. effective sample size? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showsampsize">showsampsize</code></td>
<td>
<p>Display sample sizes on composition plots?  Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showeffn">showeffN</code></td>
<td>
<p>Display effective sample sizes on composition plots?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_sampsizeline">sampsizeline</code></td>
<td>
<p>show line for input sample sizes on top of conditional
age-at-length plots (TRUE/FALSE, still in development)</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_effnline">effNline</code></td>
<td>
<p>show line for effective sample sizes on top of conditional
age-at-length plots (TRUE/FALSE, still in development)</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showlegend">showlegend</code></td>
<td>
<p>Display legends in various plots?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_pheight_tall">pheight_tall</code></td>
<td>
<p>Height of tall plots printed to png files in units of
<code>punits</code>, where the tall plots are a subset of the plots which typically
work best in a taller format.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top
(not yet implemented for all plots)</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion parameter for plot titles (not yet
implemented for all plots). Default=1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_selexlines">selexlines</code></td>
<td>
<p>Vector controlling which lines should be shown on
selectivity plots if the model includes retention. Default=1:5.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_rows">rows</code></td>
<td>
<p>Number of rows to use for single panel plots. Default=1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_cols">cols</code></td>
<td>
<p>Number of columns to use for single panel plots. Default=1.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxrows">maxrows</code></td>
<td>
<p>Maximum number of rows to for multi-panel plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxcols">maxcols</code></td>
<td>
<p>Maximum number of columns for multi-panel plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxrows2">maxrows2</code></td>
<td>
<p>Maximum number of rows for conditional age-at-length
multi-panel plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxcols2">maxcols2</code></td>
<td>
<p>Maximum number of rows for conditional age-at-length
multi-panel plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_andrerows">andrerows</code></td>
<td>
<p>Number of rows of Andre's conditional age-at-length plots
within each page.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_tagrows">tagrows</code></td>
<td>
<p>Number of rows for tagging-related plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_tagcols">tagcols</code></td>
<td>
<p>Number of columns for tagging-related plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_parrows">parrows</code></td>
<td>
<p>Number of rows for parameter distribution plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_parcols">parcols</code></td>
<td>
<p>Number of columns for parameter distribution plots.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fixdims">fixdims</code></td>
<td>
<p>Control whether multi-panel plots all have dimensions equal
to maxrows by maxcols, or resized within those limits to fit number of
plots. Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_new">new</code></td>
<td>
<p>Open a new window or add to existing plot windows.  Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_ssplotdatmargin">SSplotDatMargin</code></td>
<td>
<p>Size of right-hand margin in data plot (may be too
small if fleet names are long)</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_filenotes">filenotes</code></td>
<td>
<p>Optional vector of character strings to be added to intro
HTML page (if created) with notes about the model.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_catchasnumbers">catchasnumbers</code></td>
<td>
<p>Is catch input in numbers instead of biomass?
Default=F.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_catchbars">catchbars</code></td>
<td>
<p>show catch by fleet as barplot instead of stacked polygons
(default=TRUE)</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_legendloc">legendloc</code></td>
<td>
<p>Location for all legends. Default=&quot;topleft&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_minyr">minyr</code></td>
<td>
<p>First year to show in time-series and time-varying plots</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxyr">maxyr</code></td>
<td>
<p>Last year to show in time-series and time-varying plots. This
can either be an alternative to, or redundant with, the forecastplot input.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_sexes">sexes</code></td>
<td>
<p>Which sexes to show in composition plots. Default=&quot;all&quot;.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_scalebins">scalebins</code></td>
<td>
<p>Rescale expected and observed proportions in composition
plots by dividing by bin width for models where bins have different widths?
Caution!: May not work correctly in all cases.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_scalebubbles">scalebubbles</code></td>
<td>
<p>scale data-only bubbles by sample size, not just
proportion within sample? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_tslabels">tslabels</code></td>
<td>
<p>Either NULL to have default labels for timeseries plots or
a vector of appropriate length (currently 11) with labels for each figure</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_catlabels">catlabels</code></td>
<td>
<p>Either NULL to have default labels for catch plots or
a vector of appropriate length (currently 10) with labels for each figure</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_maxsize">maxsize</code></td>
<td>
<p>The size of the largest bubble in the datasize
plot. Default is 1.0.</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showmle">showmle</code></td>
<td>
<p>Show MLE estimate and asymptotic variance estimate with blue
lines in the parameter distribution plots?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showpost">showpost</code></td>
<td>
<p>Show posterior distribution as bar graph in parameter
distribution plots (requires MCMC results to be available in <code>replist</code>)?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showprior">showprior</code></td>
<td>
<p>Show prior distribution as black line in the parameter
distribution plots?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showinit">showinit</code></td>
<td>
<p>Show initial value as red triangle in the parameter
distribution plots?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_showdev">showdev</code></td>
<td>
<p>Include devs in the parameter distribution plots?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_fitrange">fitrange</code></td>
<td>
<p>Fit range in parameter distribution plots tightly around MLE
and posterior distributions instead of full parameter range?</p>
</td></tr>
<tr><td><code id="SS_plots_+3A_...">...</code></td>
<td>
<p>Additional arguments that will be passed to some subfunctions.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>References</h3>

<p>Walters, Hilborn, and Christensen, 2008, Surplus production
dynamics in declining and recovering fish populations. Can. J. Fish. Aquat.
Sci. 65: 2536-2551.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SSplotBiology">SSplotBiology()</a></code>,
<code><a href="#topic+SSplotCatch">SSplotCatch()</a></code>, <code><a href="#topic+SSplotComps">SSplotComps()</a></code>,
<code><a href="#topic+SSplotDiscard">SSplotDiscard()</a></code>, <code><a href="#topic+SSplotIndices">SSplotIndices()</a></code>,
<code><a href="#topic+SSplotMnwt">SSplotMnwt()</a></code>, <code><a href="#topic+SSplotNumbers">SSplotNumbers()</a></code>,
<code><a href="#topic+SSplotRecdevs">SSplotRecdevs()</a></code>, <code><a href="#topic+SSplotSelex">SSplotSelex()</a></code>,
<code><a href="#topic+SSplotSpawnrecruit">SSplotSpawnrecruit()</a></code>, <code><a href="#topic+SSplotSPR">SSplotSPR()</a></code>,
<code><a href="#topic+SSplotTags">SSplotTags()</a></code>, <code><a href="#topic+SSplotTimeseries">SSplotTimeseries()</a></code>,
<code><a href="#topic+SSplotYield">SSplotYield()</a></code>
</p>

<hr>
<h2 id='SS_profile'>Run a likelihood profile in Stock Synthesis.</h2><span id='topic+SS_profile'></span>

<h3>Description</h3>

<p>Iteratively changes the control file using SS_changepars.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_profile(
  dir = "C:/myfiles/mymodels/myrun/",
  masterctlfile = "control.ss_new",
  newctlfile = "control_modified.ss",
  linenum = NULL,
  string = NULL,
  profilevec = NULL,
  usepar = FALSE,
  globalpar = FALSE,
  parfile = "ss.par",
  parlinenum = NULL,
  parstring = NULL,
  dircopy = TRUE,
  exe.delete = FALSE,
  model = "ss",
  extras = "-nox",
  systemcmd = FALSE,
  saveoutput = TRUE,
  overwrite = TRUE,
  whichruns = NULL,
  version = "3.30",
  prior_check = TRUE,
  read_like = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_profile_+3A_dir">dir</code></td>
<td>
<p>Directory where input files and executable are located.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_masterctlfile">masterctlfile</code></td>
<td>
<p>Source control file. Default = &quot;control.ss_new&quot;</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_newctlfile">newctlfile</code></td>
<td>
<p>Destination for new control files (must match entry in
starter file). Default = &quot;control_modified.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_linenum">linenum</code></td>
<td>
<p>Line number of parameter to be changed. Can be used instead
of <code>string</code> or left as NULL. Can be a vector if you are profiling multiple
parameters at the same time.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_string">string</code></td>
<td>
<p>String partially matching name of parameter to be changed. Can
be used instead of <code>linenum</code> or left as NULL. Can be a vector if you are
profiling multiple parameters at the same time.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_profilevec">profilevec</code></td>
<td>
<p>Vector of values to profile over. If you are profileing
over multiple parameters at the same time this should be a data.frame or
matrix with a column for each parameter.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_usepar">usepar</code></td>
<td>
<p>Use PAR file from previous profile step for starting values?</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_globalpar">globalpar</code></td>
<td>
<p>Use global par file (&quot;parfile_original_backup.sso&quot;, which is
automatically copied from original <code>parfile</code>) for all runs instead
of the par file from each successive run</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_parfile">parfile</code></td>
<td>
<p>Name of par file to use (for 3.30 models, this needs to
remain 'ss.par'). When <code>globalpar=TRUE</code>, the backup copy of this
is used for all runs.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_parlinenum">parlinenum</code></td>
<td>
<p>Line number in par file to change (if usepar = TRUE).
Can be a vector if you are profiling multiple parameters at the same time.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_parstring">parstring</code></td>
<td>
<p>String in par file preceding line number to change as
an alternative to parlinenum (only needed if usepar = TRUE).
Can be a vector if you are profiling multiple parameters at the same time.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_dircopy">dircopy</code></td>
<td>
<p>Copy directories for each run? NOT IMPLEMENTED YET.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_exe.delete">exe.delete</code></td>
<td>
<p>Delete exe files in each directory?  NOT IMPLEMENTED YET.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_model">model</code></td>
<td>
<p>Name of executable. Default = &quot;ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_extras">extras</code></td>
<td>
<p>Additional commands to use when running SS. Default = &quot;-nox&quot;
will reduce the amount of command-line output.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_systemcmd">systemcmd</code></td>
<td>
<p>Should R call SS using &quot;system&quot; function instead of &quot;shell&quot;.
This may be required when running R in Emacs. Default = FALSE.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_saveoutput">saveoutput</code></td>
<td>
<p>Copy output .SSO files to unique names.  Default = TRUE.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite any existing .SSO files. Default = TRUE. If FALSE,
then some runs may be skipped.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_whichruns">whichruns</code></td>
<td>
<p>Optional vector of run indices to do. This can be used to
re-run a subset of the cases in situations where the function was
interrupted or some runs fail to converge. Must be a subset of 1:n, where n
is the length of profilevec.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_version">version</code></td>
<td>
<p>SS version number. Currently &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).
<code>version = NULL</code> is no longer the default or an allowed entry.
The default is <code>version = "3.30"</code>.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_prior_check">prior_check</code></td>
<td>
<p>Check to make sure the starter file is set to include
the prior likelihood contribution in the total likelihood.  Default = TRUE.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_read_like">read_like</code></td>
<td>
<p>Read the table of likelihoods from each model as it finishes.
Default = TRUE. Changing to FALSE should allow the function to play through
even if something is wrong with reading the table.</p>
</td></tr>
<tr><td><code id="SS_profile_+3A_verbose">verbose</code></td>
<td>
<p>Controls amount of info output to command line.  Default =
TRUE.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>The starting values used in this profile are not ideal and some models
may not converge. Care should be taken in using an automated tool like this,
and some models are likely to require rerunning with alternate starting
values.
</p>
<p>Also, someday this function will be improved to work directly with the
plotting function <code><a href="#topic+SSplotProfile">SSplotProfile()</a></code>, but they don't yet work well
together. Thus, even if <code><a href="#topic+SS_profile">SS_profile()</a></code> is used, the output should
be read using <code><a href="#topic+SSgetoutput">SSgetoutput()</a></code> or by multiple calls to
<code><a href="#topic+SS_output">SS_output()</a></code> before sending to <code><a href="#topic+SSplotProfile">SSplotProfile()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSplotProfile">SSplotProfile()</a></code>, <code><a href="#topic+SSgetoutput">SSgetoutput()</a></code>,
<code><a href="#topic+SS_changepars">SS_changepars()</a></code>, <code><a href="#topic+SS_parlines">SS_parlines()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# note: don't run this in your main directory
# make a copy in case something goes wrong
mydir &lt;- "C:/ss/Simple - Copy"

# the following commands related to starter.ss could be done by hand
# read starter file
starter &lt;- SS_readstarter(file.path(mydir, "starter.ss"))
# change control file name in the starter file
starter[["ctlfile"]] &lt;- "control_modified.ss"
# make sure the prior likelihood is calculated
# for non-estimated quantities
starter[["prior_like"]] &lt;- 1
# write modified starter file
SS_writestarter(starter, dir = mydir, overwrite = TRUE)

# vector of values to profile over
h.vec &lt;- seq(0.3, 0.9, .1)
Nprofile &lt;- length(h.vec)

# run SS_profile command
profile &lt;- SS_profile(
  dir = mydir, # directory
  # "NatM" is a subset of one of the
  # parameter labels in control.ss_new
  model = "ss",
  masterctlfile = "control.ss_new",
  newctlfile = "control_modified.ss",
  string = "steep",
  profilevec = h.vec
)


# read the output files (with names like Report1.sso, Report2.sso, etc.)
profilemodels &lt;- SSgetoutput(dirvec = mydir, keyvec = 1:Nprofile)
# summarize output
profilesummary &lt;- SSsummarize(profilemodels)

# OPTIONAL COMMANDS TO ADD MODEL WITH PROFILE PARAMETER ESTIMATED
MLEmodel &lt;- SS_output("C:/ss/SSv3.24l_Dec5/Simple")
profilemodels[["MLE"]] &lt;- MLEmodel
profilesummary &lt;- SSsummarize(profilemodels)
# END OPTIONAL COMMANDS

# plot profile using summary created above
SSplotProfile(profilesummary, # summary object
  profile.string = "steep", # substring of profile parameter
  profile.label = "Stock-recruit steepness (h)"
) # axis label

# make timeseries plots comparing models in profile
SSplotComparisons(profilesummary, legendlabels = paste("h =", h.vec))


###########################################################################

# example two-dimensional profile
# (e.g. over 2 of the parameters in the low-fecundity stock-recruit function)
base_dir &lt;- "c:/mymodel"

dir_profile_SR &lt;- file.path(base_dir, "Profiles/Zfrac_and_Beta")

# make a grid of values in both dimensions Zfrac and Beta
# vector of values to profile over
Zfrac_vec &lt;- seq(from = 0.2, to = 0.6, by = 0.1)
Beta_vec &lt;- c(0.5, 0.75, 1.0, 1.5, 2.0)
par_table &lt;- expand.grid(Zfrac = Zfrac_vec, Beta = Beta_vec)
nrow(par_table)
## [1] 25
head(par_table)
##   Zfrac Beta
## 1   0.2 0.50
## 2   0.3 0.50
## 3   0.4 0.50
## 4   0.5 0.50
## 5   0.6 0.50
## 6   0.2 0.75

# run SS_profile command
# requires modified version of SS_profile available via
# remotes::install_github("r4ss/r4ss@profile_issue_224")
profile &lt;- SS_profile(
  dir = dir_profile_SR, # directory
  masterctlfile = "control.ss_new",
  newctlfile = "control_modified.ss",
  string = c("Zfrac", "Beta"),
  profilevec = par_table,
  extras = "-nohess"
)

# get model output
profilemodels &lt;- SSgetoutput(
  dirvec = dir_profile_SR,
  keyvec = 1:nrow(par_table), getcovar = FALSE
)
n &lt;- length(profilemodels)
profilesummary &lt;- SSsummarize(profilemodels)

# add total likelihood (row 1) to table created above
par_table[["like"]] &lt;- as.numeric(profilesummary[["likelihoods"]][1, 1:n])

# reshape data frame into a matrix for use with contour
like_matrix &lt;- reshape2::acast(par_table, Zfrac ~ Beta, value.var = "like")

# make contour plot
contour(
  x = as.numeric(rownames(like_matrix)),
  y = as.numeric(colnames(like_matrix)),
  z = like_matrix
)

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_read'>Read all Stock Synthesis input files for a model</h2><span id='topic+SS_read'></span>

<h3>Description</h3>

<p>Read all the input files for a Stock Synthesis model into R as a list object.
These files will be in a single directory on your machine, i.e., <code>dir</code>.
Functionality comes from the <code style="white-space: pre;">&#8288;r4ss::SS_read*()&#8288;</code> functions.
This function simplifies the number of lines of code you need to write by
using all of the read functions to read in the
starter, control, data, and forecast files.
The starter file is helpful because it provides names for the
control and data files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_read(dir = NULL, ss_new = FALSE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_read_+3A_dir">dir</code></td>
<td>
<p>A file path to the directory of interest.
Typically used with <code>file</code>, an additional input argument,
to specify input and output file paths.
The default value is <code>dir = NULL</code>, which leads to using
the current working directory, and thus, full file paths should
not be specified for other arguments as they will be appended
to <code>dir</code>.</p>
</td></tr>
<tr><td><code id="SS_read_+3A_ss_new">ss_new</code></td>
<td>
<p>A logical that controls if the <code>.ss_new</code> files or
the original input files are read in.
The default is to read the original files.</p>
</td></tr>
<tr><td><code id="SS_read_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An invisible list is returned.
The first element is the directory that was provided in the argument <code>dir</code>.
The second element is the result of <code>normalizePath(dir)</code>,
which gives the full path.
The remaining four elements are list objects from reading in
the following input files:
</p>

<ul>
<li><p> data
</p>
</li>
<li><p> control
</p>
</li>
<li><p> starter
</p>
</li>
<li><p> forecast
</p>
</li>
<li><p> wtatage (will be NULL if not required by the model)
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Ian G. Taylor, Kelli F. Johnson
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+SS_write">SS_write()</a></code> can be used to write the input files using the list
created by this function.
</p>
</li>
<li> <p><code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>, <code><a href="#topic+SS_readctl">SS_readctl()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, and <code><a href="#topic+SS_readwtatage">SS_readwtatage()</a></code> are used by this
function to read in the input files.
</p>
</li>
<li> <p><code><a href="#topic+SS_output">SS_output()</a></code> to read in equivalent SS3 output files.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'># Read in the 'simple' example model stored in {r4ss}
inputs &lt;- SS_read(
  dir = system.file("extdata", "simple_3.30.13", package = "r4ss")
)
</code></pre>

<hr>
<h2 id='SS_read_summary'>read ss_summary file</h2><span id='topic+SS_read_summary'></span>

<h3>Description</h3>

<p>read Stock Synthesis ss_summary.sso file into list object in R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_read_summary(file = "ss_summary.sso", verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_read_summary_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.</p>
</td></tr>
<tr><td><code id="SS_read_summary_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Output will be a list with four elements, <code>header</code>,
<code>likelihoods</code>, <code>parameters</code>, and <code>derived_quants</code>.
Each is a data frame with rownames indicating the quantity shown in each row.
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>, <code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
summary &lt;- SS_read_summary(file = "c:/mymodel/ss_summary.sso")

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_readctl'>Read control file from SS</h2><span id='topic+SS_readctl'></span>

<h3>Description</h3>

<p>Read control file from Stock Synthesis (SS) into R as a list object.
This function acts as a wrapper for version-specific SS_readctl_ functions.
For example, if the control file was written using SS 3.24,
then <code>SS_readctl</code> will call <a href="#topic+SS_readctl_3.24">SS_readctl_3.24</a>. Input arguments that do not
pertain to the version of your control file can be left at their
default values.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readctl(
  file,
  version = "3.30",
  verbose = FALSE,
  echoall = lifecycle::deprecated(),
  use_datlist = TRUE,
  datlist = "data.ss_new",
  nseas = NULL,
  N_areas = NULL,
  Nages = NULL,
  Ngenders = lifecycle::deprecated(),
  Nsexes = NULL,
  Npopbins = NA,
  Nfleets = NULL,
  Nfleet = NULL,
  Do_AgeKey = NULL,
  Nsurveys = NULL,
  N_tag_groups = NULL,
  N_CPUE_obs = NULL,
  catch_mult_fleets = NULL,
  predM_fleets = NULL,
  Ntag_fleets = NULL,
  N_rows_equil_catch = NULL,
  N_dirichlet_parms = NULL,
  ptype = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readctl_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_version">version</code></td>
<td>
<p>SS version number. Currently &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).
<code>version = NULL</code> is no longer the default or an allowed entry.
The default is <code>version = "3.30"</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_echoall">echoall</code></td>
<td>
<p>Deprecated. Debugging tool (not fully implemented) of echoing
blocks of values as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_use_datlist">use_datlist</code></td>
<td>
<p>LOGICAL. If TRUE, use datlist to derive parameters which
can not be determined from control file. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_datlist">datlist</code></td>
<td>
<p>list or character. If list, should be a list produced from
<code><a href="#topic+SS_writedat">SS_writedat()</a></code>. If character, should be the file name of an SS data file.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_nseas">nseas</code></td>
<td>
<p>number of seasons in the model. This information is not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_n_areas">N_areas</code></td>
<td>
<p>number of spatial areas in the model. Default = 1. This information is not
explicitly available in control file and used only if if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_nages">Nages</code></td>
<td>
<p>oldest age in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_ngenders">Ngenders</code></td>
<td>
<p>Deprecated. Number of sexes in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_nsexes">Nsexes</code></td>
<td>
<p>number of sexes in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_npopbins">Npopbins</code></td>
<td>
<p>number of population bins in the model. This information is also not
explicitly available in control file and this information is only required if length based
maturity vector is directly supplied (Maturity option of 6).  and used only
if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_nfleets">Nfleets</code></td>
<td>
<p>Number of fishing fleets and surveys, for 3.30 models.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_nfleet">Nfleet</code></td>
<td>
<p>Number of fishing fleets, for 3.24 and lower version models.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_do_agekey">Do_AgeKey</code></td>
<td>
<p>Flag to indicate if 7 additional ageing error parameters to
be read set 1 (but in fact any non zero numeric in R) or TRUE to enable to
read them 0 or FALSE to disable them. This information is not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_nsurveys">Nsurveys</code></td>
<td>
<p>Number of surveys, for 3.24 and lower version models.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_n_tag_groups">N_tag_groups</code></td>
<td>
<p>number of tag release group. Default =NA. This information
is not explicitly available control file  and used only if
<code>use_datlist = FALSE</code>. This information is only required if custom tag
parameters is enabled (TG_custom=1)</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_n_cpue_obs">N_CPUE_obs</code></td>
<td>
<p>Number of CPUE observations. Used only in control file 3.24
syntax if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_catch_mult_fleets">catch_mult_fleets</code></td>
<td>
<p>Integer vector of fleets using the catch multiplier
option. Defaults to NULL and should be left as such if 1) the catch
multiplier option is not used for any fleet or 2) <code>use_datlist = TRUE</code> and
datlist is specified. Used only in control file 3.30 syntax if
<code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_predm_fleets">predM_fleets</code></td>
<td>
<p>integer vector of fleets with predator mortality included.
Predator mortality fleets are only available in v3.30.18 and
higher. Defaults to NULL and should be left as such if 1) predation mortality
is not used for any fleets; 2) <code>use_datlist = TRUE</code> and <code>datlist</code> is specified;
or 3) if comments in the control file should be used instead to determine
the the predM_fleets. Used only in control file 3.30 syntax if
<code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_ntag_fleets">Ntag_fleets</code></td>
<td>
<p>The number of catch fleets in the model (fleets of )
type 1 or 2; not surveys). Used to set the number of survey parameters.
Only used in control file 3.30 reading if tagging data is in the model and
<code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_n_rows_equil_catch">N_rows_equil_catch</code></td>
<td>
<p>Integer value of the number of parameter lines to
read for equilibrium catch. Defaults to NULL, which means the function will
attempt to figure out how many lines of equilibrium catch to read from the
control file comments. Used only in control file 3.30 syntax if
<code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_n_dirichlet_parms">N_dirichlet_parms</code></td>
<td>
<p>Integer value of the number of Dirichlet-Multinomial
parameters. Defaults to 0. Used only in control file 3.30 syntax if
<code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_+3A_ptype">ptype</code></td>
<td>
<p>LOGICAL if <code>TRUE</code>, which is the default,
a column will be included in the output indicating parameter type.
Using <code>TRUE</code> can be useful, but causes problems for <a href="#topic+SS_writectl">SS_writectl</a>,
and therefore is not recommended if you intend to write the list
back out into a file.
Used only in control file 3.24 syntax.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list structure where each element is a section of the control file.
</p>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Neil L. Klaer
</p>


<h3>See Also</h3>

<p>See the following for version-specific SS_readctl functions:
SS_readctl_3.24
SS_readctl_3.30.
The returned list structure can be written back to the disk using
<a href="#topic+SS_writectl">SS_writectl</a>.<br />
See the following for other <code>SS_read</code> functions:
SS_readctl
SS_readdat
SS_readforecast
SS_readstarter
SS_readwtatage.<br />
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Read in the 'simple' example SS model stored in r4ss
# Find the directory
dirsimple &lt;- system.file("extdata", "simple_3.30.13", package = "r4ss")
# Read in the dat file to define the structure of the control file so that
# you don't have to specify things in the function call such as 'Nfleet'
datfilename &lt;- dir(dirsimple, pattern = "data\\.ss", full.names = TRUE)
dat &lt;- r4ss::SS_readdat(file = datfilename, verbose = FALSE)
# Read in the control file using a list object for datlist
ctl &lt;- r4ss::SS_readctl(
  file = dir(dirsimple, pattern = "control\\.ss", full.names = TRUE),
  verbose = FALSE,
  datlist = dat, use_datlist = TRUE
)
# Read in the control file using a file name for datlist
ctl &lt;- r4ss::SS_readctl(
  file = dir(dirsimple, pattern = "control\\.ss", full.names = TRUE),
  verbose = FALSE,
  datlist = datfilename, use_datlist = TRUE
)
</code></pre>

<hr>
<h2 id='SS_readctl_3.24'>read control file from SS version 3.24</h2><span id='topic+SS_readctl_3.24'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.24) control file into list object in R.
This function comes with its wrapper function SS_readctl
that calls SS_readctl_3.24 (this function) or SS_readctl_3.30
(to be available in future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readctl_3.24(
  file,
  verbose = FALSE,
  echoall = lifecycle::deprecated(),
  version = lifecycle::deprecated(),
  use_datlist = TRUE,
  datlist = "data.ss_new",
  nseas = NULL,
  N_areas = NULL,
  Nages = NULL,
  Ngenders = lifecycle::deprecated(),
  Nsexes = NULL,
  Npopbins = NA,
  Nfleet = NULL,
  Nsurveys = NULL,
  Do_AgeKey = NULL,
  N_tag_groups = NULL,
  N_CPUE_obs = NULL,
  ptype = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readctl_3.24_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_echoall">echoall</code></td>
<td>
<p>Deprecated. Debugging tool (not fully implemented) of echoing
blocks of values as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_version">version</code></td>
<td>
<p>Deprecated. SS version number. Currently only &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_use_datlist">use_datlist</code></td>
<td>
<p>LOGICAL if TRUE, use datlist to derive parameters which
can not be determined from control file. Defaults to TRUE</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_datlist">datlist</code></td>
<td>
<p>list or character. if list : produced from SS_writedat
or character : file name of dat file.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_nseas">nseas</code></td>
<td>
<p>number of seasons in the model. This information is not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_n_areas">N_areas</code></td>
<td>
<p>number of spatial areas in the model. Default = 1. This information is not
explicitly available in control file and used only if if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_nages">Nages</code></td>
<td>
<p>oldest age in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_ngenders">Ngenders</code></td>
<td>
<p>Deprecated. Number of sexes in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_nsexes">Nsexes</code></td>
<td>
<p>number of sexes in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_npopbins">Npopbins</code></td>
<td>
<p>number of population bins in the model. This information is also not
explicitly available in control file and this information is only required if length based
maturity vector is directly supplied (Maturity option of 6).  and used only
if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_nfleet">Nfleet</code></td>
<td>
<p>number of fisheries in the model. This information is also not
explicitly available in control file</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_nsurveys">Nsurveys</code></td>
<td>
<p>number of survey fleets in the model. This information is also not
explicitly available in control file</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_do_agekey">Do_AgeKey</code></td>
<td>
<p>Flag to indicate if 7 additional ageing error parameters to
be read set 1 (but in fact any non zero numeric in R) or TRUE to enable to
read them 0 or FALSE to disable them. This information is not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_n_tag_groups">N_tag_groups</code></td>
<td>
<p>number of tag release group. Default =NA. This information
is not explicitly available control file  and used only if
<code>use_datlist = FALSE</code>. This information is only required if custom tag
parameters is enabled (TG_custom=1)</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_n_cpue_obs">N_CPUE_obs</code></td>
<td>
<p>numeric vector of length=Nfleet+Nsurveys containing number
of data points of each CPUE time series</p>
</td></tr>
<tr><td><code id="SS_readctl_3.24_+3A_ptype">ptype</code></td>
<td>
<p>include a column in the output indicating parameter type?
(Can be useful, but causes problems for SS_writectl.) Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yukio Takeuchi, Neil Klaer, Iago Mosqueira, and Kathryn Doering
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>,<code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readctl_3.30'>read control file from SS version 3.30</h2><span id='topic+SS_readctl_3.30'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.30) control file into list object in R.
This function should be called from SS_readctl.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readctl_3.30(
  file,
  verbose = FALSE,
  echoall = lifecycle::deprecated(),
  version = lifecycle::deprecated(),
  use_datlist = TRUE,
  datlist = "data.ss_new",
  nseas = NULL,
  N_areas = NULL,
  Nages = NULL,
  Ngenders = lifecycle::deprecated(),
  Nsexes = NULL,
  Npopbins = NULL,
  Nfleets = NULL,
  Ntag_fleets = NULL,
  Do_AgeKey = NULL,
  N_tag_groups = NULL,
  catch_mult_fleets = NULL,
  predM_fleets = NULL,
  N_rows_equil_catch = NULL,
  N_dirichlet_parms = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readctl_3.30_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_echoall">echoall</code></td>
<td>
<p>Deprecated. Debugging tool (not fully implemented) of echoing
blocks of values as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_version">version</code></td>
<td>
<p>Deprecated. SS version number. Currently only &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_use_datlist">use_datlist</code></td>
<td>
<p>LOGICAL. If TRUE, use datlist to derive parameters which
can not be determined from control file. Defaults to TRUE.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_datlist">datlist</code></td>
<td>
<p>list or character. If list, should be a list produced from
<code><a href="#topic+SS_writedat">SS_writedat()</a></code>. If character, should be the file name of an SS data file.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_nseas">nseas</code></td>
<td>
<p>number of seasons in the model. This information is not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_n_areas">N_areas</code></td>
<td>
<p>number of spatial areas in the model. Default = 1. This information is not
explicitly available in control file and used only if if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_nages">Nages</code></td>
<td>
<p>oldest age in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_ngenders">Ngenders</code></td>
<td>
<p>Deprecated. Number of sexes in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_nsexes">Nsexes</code></td>
<td>
<p>number of sexes in the model. This information is also not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_npopbins">Npopbins</code></td>
<td>
<p>number of population bins in the model. This information is also not
explicitly available in control file and this information is only required if length based
maturity vector is directly supplied (Maturity option of 6).  and used only
if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_nfleets">Nfleets</code></td>
<td>
<p>number of fishery and survey fleets in the model. This information is also not
explicitly available in control file</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_ntag_fleets">Ntag_fleets</code></td>
<td>
<p>The number of catch fleets in the model (fleets of )
type 1 or 2; not surveys). Used to set the number of survey parameters.
Only used if tagging data is in the model and <code>use_datlist</code> is FALSE.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_do_agekey">Do_AgeKey</code></td>
<td>
<p>Flag to indicate if 7 additional ageing error parameters to
be read set 1 (but in fact any non zero numeric in R) or TRUE to enable to
read them 0 or FALSE to disable them. This information is not
explicitly available in control file and used only if <code>use_datlist = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_n_tag_groups">N_tag_groups</code></td>
<td>
<p>number of tag release group. Default =NA. This information
is not explicitly available control file  and used only if
<code>use_datlist = FALSE</code>. This information is only required if custom tag
parameters is enabled (TG_custom=1)</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_catch_mult_fleets">catch_mult_fleets</code></td>
<td>
<p>integer vector of fleets using the catch multiplier
option. Defaults to NULL and should be left as such if 1) the catch
multiplier option is not used for any fleets or 2) use_datlist = TRUE and
datlist is specified.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_predm_fleets">predM_fleets</code></td>
<td>
<p>integer vector of fleets with predator mortality included.
Predator mortality fleets are only available in v3.30.18 and
higher. Defaults to NULL and should be left as such if 1) predation mortality
is not used for any fleets; 2) use_datlist = TRUE and datlist is specified;
or 3) if comments in the control file should be used instead to determine
the the predM_fleets.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_n_rows_equil_catch">N_rows_equil_catch</code></td>
<td>
<p>Integer value of the number of parameter lines to
read for equilibrium catch. Defaults to NULL, which means the function will
attempt to figure out how many lines of equilibrium catch to read from the
control file comments.</p>
</td></tr>
<tr><td><code id="SS_readctl_3.30_+3A_n_dirichlet_parms">N_dirichlet_parms</code></td>
<td>
<p>Integer value of the number of Dirichlet multinomial
parameters. Defaults to 0.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Neil Klaer, Yukio Takeuchi, Watal M. Iwasaki, and Kathryn Doering
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>,<code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readdat'>read Stock Synthesis data file</h2><span id='topic+SS_readdat'></span>

<h3>Description</h3>

<p>Read Stock Synthesis data file into list object in R. This function is a
wrapper which calls SS_readdat_2.00, SS_readdat_3.00, SS_readdat_3.24, or SS_readdat_3.30
(and potentially additional functions in the future). This setup allows those
functions to be cleaner (if somewhat redundant) than a single function that
attempts to do everything. Returned datlist is mostly consistent across versions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readdat(
  file,
  version = "3.30",
  verbose = TRUE,
  echoall = FALSE,
  section = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readdat_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readdat_+3A_version">version</code></td>
<td>
<p>SS version number.
Currently &quot;2.00&quot;, &quot;3.00&quot;, &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3). If
version is NULL, the version (3.24 or 3.30) will be looked for on the first
line of the file.</p>
</td></tr>
<tr><td><code id="SS_readdat_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_readdat_+3A_echoall">echoall</code></td>
<td>
<p>Debugging tool (not fully implemented) of echoing blocks of
data as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readdat_+3A_section">section</code></td>
<td>
<p>Which data set to read. Only applies for a data.ss_new file
created by Stock Synthesis. Allows the choice of either expected values
(section=2) or bootstrap data (section=3+). Leaving default of section=NULL
will read input data, (equivalent to section=1).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Allan C. Hicks, Neil L. Klaer, Kelli F. Johnson,
Chantel R. Wetzel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readdat_2.00">SS_readdat_2.00()</a></code>, <code><a href="#topic+SS_readdat_3.00">SS_readdat_3.00()</a></code>,
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>, <code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>,
<code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readdat_2.00'>read data file from SS version 2.00</h2><span id='topic+SS_readdat_2.00'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 2.00) data file into list object in R.
This function was formerly called SS_readdat. That name is now used
for a wrapper function that calls either SS_readdat_2.00 SS_readdat_3.00
SS_readdat_3.24 or SS_readdat_3.30 (and potentially additional functions in the future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readdat_2.00(file, verbose = TRUE, echoall = FALSE, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readdat_2.00_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readdat_2.00_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_readdat_2.00_+3A_echoall">echoall</code></td>
<td>
<p>Debugging tool (not fully implemented) of echoing blocks of
data as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readdat_2.00_+3A_section">section</code></td>
<td>
<p>Which data set to read. Only applies for a data.ss_new file
created by Stock Synthesis. Allows the choice of either expected values
(section=2) or bootstrap data (section=3+). Leaving default of section=NULL
will read input data, (equivalent to section=1). ## needs to be added</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Z. Teresa A'mar, Neil L. Klaer
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readdat">SS_readdat()</a></code>, <code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readdat_3.00'>read data file from SS version 3.00</h2><span id='topic+SS_readdat_3.00'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.00) data file into list object in R.
This function was formerly called SS_readdat. That name is now used
for a wrapper function that calls either SS_readdat_3.24 or SS_readdat_3.30
(and potentially additional functions in the future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readdat_3.00(file, verbose = TRUE, echoall = FALSE, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readdat_3.00_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.00_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.00_+3A_echoall">echoall</code></td>
<td>
<p>Debugging tool (not fully implemented) of echoing blocks of
data as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.00_+3A_section">section</code></td>
<td>
<p>Which data set to read. Only applies for a data.ss_new file
created by Stock Synthesis. Allows the choice of either expected values
(section=2) or bootstrap data (section=3+). Leaving default of section=NULL
will read input data, (equivalent to section=1).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Z. Teresa A'mar
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readdat">SS_readdat()</a></code>, <code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readdat_3.24'>read data file from SS version 3.24</h2><span id='topic+SS_readdat_3.24'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.24) data file into list object in R.
This function was formerly called SS_readdat. That name is now used
for a wrapper function that calls either SS_readdat_3.24 or SS_readdat_3.30
(and potentially additional functions in the future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readdat_3.24(file, verbose = TRUE, echoall = FALSE, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readdat_3.24_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.24_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.24_+3A_echoall">echoall</code></td>
<td>
<p>Debugging tool (not fully implemented) of echoing blocks of
data as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.24_+3A_section">section</code></td>
<td>
<p>Which data set to read. Only applies for a data.ss_new file
created by Stock Synthesis. Allows the choice of either expected values
(section=2) or bootstrap data (section=3+). Leaving default of section=NULL
will read input data, (equivalent to section=1).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Z. Teresa A'mar, Kelli F. Johnson,
Chantel R. Wetzel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readdat">SS_readdat()</a></code>, <code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readdat_3.30'>read data file from SS version 3.30</h2><span id='topic+SS_readdat_3.30'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.30) data file into list object in R.
This function was formerly called SS_readdat. That name is now used
for a wrapper function that calls either SS_readdat_3.24 or SS_readdat_3.30
(and potentially additional functions in the future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readdat_3.30(file, verbose = TRUE, echoall = FALSE, section = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readdat_3.30_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.30_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.30_+3A_echoall">echoall</code></td>
<td>
<p>Debugging tool (not fully implemented) of echoing blocks of
data as it is being read.</p>
</td></tr>
<tr><td><code id="SS_readdat_3.30_+3A_section">section</code></td>
<td>
<p>Which data set to read. Only applies for a data.ss_new file
created by Stock Synthesis. Allows the choice of either expected values
(section=2) or bootstrap data (section=3+). Leaving default of section=NULL
will read input data, (equivalent to section=1).</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Z. Teresa A'mar, Chris J. Grandin,
Kelli F. Johnson, Chantel R. Wetzel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readdat">SS_readdat()</a></code>, <code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readforecast'>read forecast file</h2><span id='topic+SS_readforecast'></span>

<h3>Description</h3>

<p>read Stock Synthesis forecast file into list object in R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readforecast(
  file = "forecast.ss",
  Nfleets = NULL,
  Nareas = NULL,
  nseas = NULL,
  version = "3.30",
  readAll = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readforecast_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readforecast_+3A_nfleets">Nfleets</code></td>
<td>
<p>Number of fleets (not required in 3.30).</p>
</td></tr>
<tr><td><code id="SS_readforecast_+3A_nareas">Nareas</code></td>
<td>
<p>Number of areas (not required in 3.30).</p>
</td></tr>
<tr><td><code id="SS_readforecast_+3A_nseas">nseas</code></td>
<td>
<p>number of seasons (not required in 3.30).</p>
</td></tr>
<tr><td><code id="SS_readforecast_+3A_version">version</code></td>
<td>
<p>SS version number. Currently &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).
<code>version = NULL</code> is no longer the default or an allowed entry.
The default is <code>version = "3.30"</code>.</p>
</td></tr>
<tr><td><code id="SS_readforecast_+3A_readall">readAll</code></td>
<td>
<p>Should the function continue even if Forecast = 0 or -1
(at which point SS stops reading)?</p>
</td></tr>
<tr><td><code id="SS_readforecast_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor + Nathan Vaughan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>,
</p>

<hr>
<h2 id='SS_readpar_3.24'>read ss.par file from SS version 3.24</h2><span id='topic+SS_readpar_3.24'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.24) parameter file into list object in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readpar_3.24(parfile, datsource, ctlsource, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readpar_3.24_+3A_parfile">parfile</code></td>
<td>
<p>Filename either with full path or relative to working directory.</p>
</td></tr>
<tr><td><code id="SS_readpar_3.24_+3A_datsource">datsource</code></td>
<td>
<p>list or character. If list, should be a list produced
from <code><a href="#topic+SS_writedat">SS_writedat()</a></code>. If character, should be the full file location of an
SS data file.</p>
</td></tr>
<tr><td><code id="SS_readpar_3.24_+3A_ctlsource">ctlsource</code></td>
<td>
<p>list or character. If list, should be a list produced
from <code><a href="#topic+SS_writectl">SS_writectl()</a></code>. If character, should be the full file location of an
SS control file.</p>
</td></tr>
<tr><td><code id="SS_readpar_3.24_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nathan R. Vaughan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>,<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>
<code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readpar_3.30'>read ss.par file from SS version 3.30</h2><span id='topic+SS_readpar_3.30'></span>

<h3>Description</h3>

<p>Read Stock Synthesis (version 3.30) parameter file into list object in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readpar_3.30(parfile, datsource, ctlsource, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readpar_3.30_+3A_parfile">parfile</code></td>
<td>
<p>Filename either with full path or relative to working directory.</p>
</td></tr>
<tr><td><code id="SS_readpar_3.30_+3A_datsource">datsource</code></td>
<td>
<p>list or character. If list, should be a list produced
from <code><a href="#topic+SS_writedat">SS_writedat()</a></code>. If character, should be the full file location of an
SS data file.</p>
</td></tr>
<tr><td><code id="SS_readpar_3.30_+3A_ctlsource">ctlsource</code></td>
<td>
<p>list or character. If list, should be a list produced
from <code><a href="#topic+SS_writectl">SS_writectl()</a></code>. If character, should be the full file location of an
SS control file.</p>
</td></tr>
<tr><td><code id="SS_readpar_3.30_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nathan R. Vaughan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>,
<code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readstarter'>read starter file</h2><span id='topic+SS_readstarter'></span>

<h3>Description</h3>

<p>read Stock Synthesis starter file into list object in R
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readstarter(file = "starter.ss", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readstarter_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readstarter_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_readwtatage'>Read weight-at-age data file</h2><span id='topic+SS_readwtatage'></span>

<h3>Description</h3>

<p>Read in a weight-at-age data file into a data frame in R.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_readwtatage(file = "wtatage.ss", verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_readwtatage_+3A_file">file</code></td>
<td>
<p>Filename either with full path or relative to working directory.
</p>
<p>See the formal arguments for a possible default filename.</p>
</td></tr>
<tr><td><code id="SS_readwtatage_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a data frame with a variable number of columns based on the
number of ages that are included in the file. Though, the first columns
will always be Yr, Seas, Sex, Bio_Pattern, BirthSeas, and Fleet.
The seventh column will be age zero.
The last or next to last column will be the maximum age included
in the weight-at-age data. For SS version 3.30 and greater, the last column
will be a column of comments.
</p>


<h3>Author(s)</h3>

<p>Kelli F. Johnson, Ian G. Taylor
</p>

<hr>
<h2 id='SS_recdevs'>Insert a vector of recruitment deviations into the control file.</h2><span id='topic+SS_recdevs'></span>

<h3>Description</h3>

<p>A function to insert a vector of recruitment deviations into the control
file for simulation studies. This can also be achieved by using the .par
file, but Ian Taylor prefers this approach for no good reason.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_recdevs(
  fyr,
  lyr,
  ctl = NULL,
  recdevs = NULL,
  rescale = TRUE,
  scaleyrs = NULL,
  dir = "working_directory",
  ctlfile = "control.ss_new",
  newctlfile = "control_modified.ss",
  verbose = TRUE,
  writectl = TRUE,
  returnctl = FALSE,
  newmaxbias = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_recdevs_+3A_fyr">fyr</code></td>
<td>
<p>First year of the recdev vector.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_lyr">lyr</code></td>
<td>
<p>Last year of the recdev vector.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_ctl">ctl</code></td>
<td>
<p>Either NULL to read anew or an already read control file.
Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_recdevs">recdevs</code></td>
<td>
<p>Either NULL to generate anew or an already generated vector
of recdevs. Default=NULL.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_rescale">rescale</code></td>
<td>
<p>Should the recdevs be rescaled to have mean = 0 and std.
deviation = sigmaR? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_scaleyrs">scaleyrs</code></td>
<td>
<p>Vector of years over which rescaling (if chosen) should
occur.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_dir">dir</code></td>
<td>
<p>Directory where files are located. Default is to use the working
directory in use by R. Default=&quot;working_directory&quot;.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_ctlfile">ctlfile</code></td>
<td>
<p>Name of control file to modify.  Default=&quot;control.ss_new&quot;.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_newctlfile">newctlfile</code></td>
<td>
<p>Name of new file to output modified control file.
Default=&quot;control_modified.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_verbose">verbose</code></td>
<td>
<p>Verbose output to R command line? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_writectl">writectl</code></td>
<td>
<p>Write new file? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_returnctl">returnctl</code></td>
<td>
<p>Return contents ctl file as an object in the R workspace.
Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_recdevs_+3A_newmaxbias">newmaxbias</code></td>
<td>
<p>Replace the maximum bias adjustment fraction with any
non-NULL value. Default=NULL.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>

<hr>
<h2 id='SS_RunJitter'>Iteratively apply the jitter option in SS</h2><span id='topic+SS_RunJitter'></span>

<h3>Description</h3>

<p>Iteratively run a Stock Synthesis model with different jittered starting
parameter values based on the jitter fraction. Output files are renamed
in the format Report1.sso, Report2.sso, etc.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_RunJitter(
  mydir,
  model = "ss",
  extras = "-nohess",
  Njitter,
  Intern = TRUE,
  systemcmd = FALSE,
  printlikes = TRUE,
  verbose = FALSE,
  jitter_fraction = NULL,
  init_values_src = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_RunJitter_+3A_mydir">mydir</code></td>
<td>
<p>Directory where model files are located.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_model">model</code></td>
<td>
<p>Name of the Stock Synthesis model file (which has the .exe for
on Windows) in <code>mydir</code> without the extension (if any), e.g.,
<code>"ss"</code> or <code>"ss_win"</code>.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_extras">extras</code></td>
<td>
<p>Additional command line arguments passed to the executable.
The default, <code>"-nohess"</code>, runs each jittered model without the hessian.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_njitter">Njitter</code></td>
<td>
<p>Number of jitters, or a vector of jitter iterations.
If <code>length(Njitter) &gt; 1</code> only the iterations specified will be ran,
else <code>1:Njitter</code> will be executed.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_intern">Intern</code></td>
<td>
<p>Show command line info in R console or keep hidden. The default,
<code>TRUE</code>, keeps the executable hidden.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_systemcmd">systemcmd</code></td>
<td>
<p>Option to switch between 'shell' and 'system'. The default,
<code>FALSE</code>, facilitates using the shell command on Windows.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_printlikes">printlikes</code></td>
<td>
<p>A logical value specifying if the likelihood values should
be printed to the console.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_jitter_fraction">jitter_fraction</code></td>
<td>
<p>The value, typically 0.1, used to define a uniform
distribution in cumulative normal space to generate new initial parameter values.
The default of <code>NULL</code> forces the user to specify the jitter_fraction
in the starter file, and this value must be greater than zero and
will not be overwritten.</p>
</td></tr>
<tr><td><code id="SS_RunJitter_+3A_init_values_src">init_values_src</code></td>
<td>
<p>Either zero or one, specifying if the initial values to
jitter should be read from the control file or from the par file, respectively.
The default is <code>NULL</code>, which will leave the starter file unchanged.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of likelihoods for each jitter iteration.
</p>


<h3>Author(s)</h3>

<p>James T. Thorson, Kelli F. Johnson, Ian G. Taylor
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
#### Run jitter from par file with arbitrary, but common, choice of 0.1
modeldir &lt;- tail(dir(system.file("extdata", package = "r4ss"), full.names = TRUE), 1)
numjitter &lt;- 25
jit.likes &lt;- SS_RunJitter(
  mydir = modeldir, Njitter = numjitter,
  jitter_fraction = 0.1, init_value_src = 1
)

#### Read in results using other r4ss functions
# (note that un-jittered model can be read using keyvec=0:numjitter)
profilemodels &lt;- SSgetoutput(dirvec = modeldir, keyvec = 1:numjitter, getcovar = FALSE)
# summarize output
profilesummary &lt;- SSsummarize(profilemodels)
# Likelihoods
profilesummary[["likelihoods"]][1, ]
# Parameters
profilesummary[["pars"]]

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_Sensi_plot'>Create relative sensitivity plots as described in Cope and Gertseva (2020)</h2><span id='topic+SS_Sensi_plot'></span>

<h3>Description</h3>

<p>Uses output from <code><a href="#topic+SSsummarize">SSsummarize()</a></code> to make a figure showing
sensitivity of various quantities of interest.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_Sensi_plot(
  model.summaries,
  dir = "",
  current.year,
  mod.names,
  Sensi.RE.out = "Sensi_RE_out.DMP",
  CI = 0.95,
  TRP.in = 0.4,
  LRP.in = 0.25,
  sensi_xlab = "Sensitivity scenarios",
  ylims.in = c(-1, 2, -1, 2, -1, 2, -1, 2, -1, 2, -1, 2),
  plot.figs = c(1, 1, 1, 1, 1, 1),
  sensi.type.breaks = NA,
  anno.x = NA,
  anno.y = NA,
  anno.lab = NA,
  spawn.lab = NA,
  yield.lab = NA,
  F.lab = NA
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_Sensi_plot_+3A_model.summaries">model.summaries</code></td>
<td>
<p>Output from <code><a href="#topic+SSsummarize">SSsummarize()</a></code>
summarizing results of models to be included</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_dir">dir</code></td>
<td>
<p>Directory where plots will be created, either relative
to working directory or an absolute path</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_current.year">current.year</code></td>
<td>
<p>Year to report output</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_mod.names">mod.names</code></td>
<td>
<p>List the names of the sensitivity runs</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_sensi.re.out">Sensi.RE.out</code></td>
<td>
<p>Saved file of relative changes</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_ci">CI</code></td>
<td>
<p>Confidence interval box based on the reference model</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_trp.in">TRP.in</code></td>
<td>
<p>Target relative abundance value</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_lrp.in">LRP.in</code></td>
<td>
<p>Limit relative abundance value</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_sensi_xlab">sensi_xlab</code></td>
<td>
<p>X-axis label</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_ylims.in">ylims.in</code></td>
<td>
<p>Y-axis label</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_plot.figs">plot.figs</code></td>
<td>
<p>Which plots to make/save?</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_sensi.type.breaks">sensi.type.breaks</code></td>
<td>
<p>vertical breaks that can separate out types
of sensitivities</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_anno.x">anno.x</code></td>
<td>
<p>Horizontal positioning of the sensitivity types labels</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_anno.y">anno.y</code></td>
<td>
<p>Vertical positioning of the sensitivity types labels</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_anno.lab">anno.lab</code></td>
<td>
<p>Sensitivity types labels</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_spawn.lab">spawn.lab</code></td>
<td>
<p>Label for spawning output or spawning biomass. By default
it will be set to &quot;SO&quot; if any model has spawning output in numbers and &quot;SB&quot;
if all models have spawning output in biomass. Subscripts will be added
for 0 or current year.</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_yield.lab">yield.lab</code></td>
<td>
<p>Label for yield reference point.
By default it will be set to something like &quot;Yield(SPR=0.3)&quot; where the SPR
value is the SPR target. If the models have different SPR targets, it will
be set to &quot;Yield(tgt SPR)&quot;.</p>
</td></tr>
<tr><td><code id="SS_Sensi_plot_+3A_f.lab">F.lab</code></td>
<td>
<p>Label for F reference point.
By default it will be set to something like &quot;F(SPR=0.3)&quot; where the SPR
value is the SPR target. If the models have different SPR targets, it will
be set to &quot;F(tgt SPR)&quot;.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jason Cope
</p>


<h3>References</h3>

<p>Cope, J. and Gertseva, V. 2020. A new way to visualize
and report structural and data uncertainty in stock assessments.
Can. J. Fish. Aquat. Sci. 77:1275-1280.
https://doi.org/10.1139/cjfas-2020-0082
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSsummarize">SSsummarize()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Set directory and extract ouput from models
# Model 1 needs to be the Reference model, with sensitivity runs following
# from run 2 on.

# Note: models are available in Jason Cope's github repository:
# https://github.com/shcaba/Stock-Assessment-Sensitivity-Plots/
dir &lt;-
  "C:/Users/.../GitHub/Stock-Assessment-Sensitivity-Plots/Sensitivity_runs/"
models.dirs &lt;- paste0("Cab_SCS_MS_", 1:19)
zz &lt;- SSgetoutput(dirvec = file.path(dir, models.dirs))

# Use the summarize function in r4ss to get model summaries
model.summaries &lt;- SSsummarize(zz)

# Define the names of each model. This will be used to label runs in the
# table and in the figures.
mod.names &lt;- c(
  "Reference",
  "M: Fix to 2009",
  "M: Fix to prior",
  "M: Fix to Hamel",
  "M: Fix to VBGF",
  "M: Fix to OR",
  "VBGF 2009",
  "VBGF Grebel",
  "OR maturity",
  "Est. h",
  "All rec devs",
  "No rec devs",
  "High bias adj.",
  "Harmonic mean",
  "Dirichlet",
  "Wts = 1",
  "No blocks",
  "First blocks in 2000",
  "Alt rec catches"
)

# Run the sensitivity plot function
SS_Sensi_plot(
  model.summaries = model.summaries,
  dir = dir,
  current.year = 2019,
  mod.names = mod.names, # List the names of the sensitivity runs
  likelihood.out = c(1, 1, 0),
  Sensi.RE.out = "Sensi_RE_out.DMP", # Saved file of relative errors
  CI = 0.95, # Confidence interval box based on the reference model
  TRP.in = 0.4, # Target relative abundance value
  LRP.in = 0.25, # Limit relative abundance value
  sensi_xlab = "Sensitivity scenarios", # X-axis label
  ylims.in = c(-1, 1, -1, 1, -1, 1, -1, 1, -1, 1, -1, 1), # Y-axis label
  plot.figs = c(1, 1, 1, 1, 1, 1), # Which plots to make/save?
  sensi.type.breaks = c(6.5, 9.5, 13.5, 16.5), # vertical breaks
  anno.x = c(3.75, 8, 11.5, 15, 18), # positioning of types labels
  anno.y = c(1, 1, 1, 1, 1), # positioning of types labels
  anno.lab = c(
    "Natural mortality", "VBGF/Mat.", "Recruitment", "Data Wts.",
    "Other"
  ) # Sensitivity types labels
)

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_splitdat'>Split apart bootstrap data to make input file.</h2><span id='topic+SS_splitdat'></span>

<h3>Description</h3>

<p>A function to split apart bootstrap data files created in data.ss_new.  To
get bootstraps, the input &quot;N bootstrap file to produce&quot; in starter.ss needs
to be 3 or greater. The function can either create a file for just the
input data (if <code>inputs=TRUE</code>), a file for just the MLE values
(if <code>MLE = TRUE</code>), or separate files for each of the bootstraps
(if <code>inputs=FALSE</code> and <code>MLE=FALSE</code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_splitdat(
  inpath = "working_directory",
  outpath = "working_directory",
  inname = "data.ss_new",
  outpattern = "BootData",
  number = FALSE,
  verbose = TRUE,
  fillblank = TRUE,
  MLE = TRUE,
  inputs = FALSE,
  notes = ""
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_splitdat_+3A_inpath">inpath</code></td>
<td>
<p>Directory containing the input file. By default the working
directory given by getwd() is used. Default=&quot;working_directory&quot;.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_outpath">outpath</code></td>
<td>
<p>Directory into which the output file will be written.
Default=&quot;working_directory&quot;.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_inname">inname</code></td>
<td>
<p>File name of input data file to be split.
Default=&quot;Data.SS_New&quot;.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_outpattern">outpattern</code></td>
<td>
<p>File name of output data file. Default=&quot;BootData&quot;.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_number">number</code></td>
<td>
<p>Append bootstrap number to the file name chosen in
<code>outpattern</code>? Default=F.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_verbose">verbose</code></td>
<td>
<p>Provide richer command line info of function progress?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_fillblank">fillblank</code></td>
<td>
<p>Replace blank lines with &quot;#&quot;. Helps with running on linux.
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_mle">MLE</code></td>
<td>
<p>Grab the maximum likelihood values from the second block in
Data.SS_New (instead of bootstrap values or copies of inputs)? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_inputs">inputs</code></td>
<td>
<p>Grab the copy of the input values values from the first block
in Data.SS_New (instead of MLE or bootstrap values)? Default=F.</p>
</td></tr>
<tr><td><code id="SS_splitdat_+3A_notes">notes</code></td>
<td>
<p>Notes to the top of the new file (comment indicator &quot;#C&quot; will
be added). Default=&quot;&quot;.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>

<hr>
<h2 id='SS_tune_comps'>Calculate new tunings for length and age compositions and (re)run models</h2><span id='topic+SS_tune_comps'></span>

<h3>Description</h3>

<p>Creates a table of values that can be copied into the SS control file
for SS 3.30 models to adjust the input sample sizes for length and age
compositions based on either the Francis or McAllister-Ianelli tuning or
adds the Dirichlet-Multinomial parameters to the necessary files to
tune the model using an integrated method.
Optionally, this function can automatically add these tunings to the
appropriate files and rerun the model for the desired number of iterations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_tune_comps(
  replist = NULL,
  fleets = "all",
  option = c("Francis", "MI", "none", "DM"),
  digits = 6,
  write = TRUE,
  niters_tuning = 0,
  init_run = FALSE,
  dir = getwd(),
  model = "ss",
  exe_in_path = FALSE,
  extras = "-nox",
  allow_up_tuning = FALSE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_tune_comps_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_fleets">fleets</code></td>
<td>
<p>Either the string 'all', or a vector of fleet numbers</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_option">option</code></td>
<td>
<p>Which type of tuning: 'none', 'Francis', 'MI', or 'DM'.
The first option, <code>none</code>, will only return information about the
Francis and MI weights that are suggested.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_digits">digits</code></td>
<td>
<p>Number of digits to round numbers to.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_write">write</code></td>
<td>
<p>Write suggested tunings to a file saved to the disk called
<code>suggested_tunings.ss</code>. This file name is currently hard coded and will
be saved in <code>dir</code>.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_niters_tuning">niters_tuning</code></td>
<td>
<p>The number of times to retune models. Defaults to 0,
where only the tunings should be calculated and the model is not rerun. Note
that for DM, it will be assumed that 0 means not to run the model and
specifying 1 or greater will only run the model once (because DM is not an
iterative retuning method).</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_init_run">init_run</code></td>
<td>
<p>Should the model be run before calculating the tunings?
Defaults to <code>FALSE</code>. This run is not counted as an iteration for
<code>niters_tuning</code> and will not be used if <code>option = "DM"</code>.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_dir">dir</code></td>
<td>
<p>The path to the model directory.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_model">model</code></td>
<td>
<p>The name of the stock synthesis executable. This model is
assumed to be either in the same folder as the model files (specified in
<code>dir</code>), or in the PATH if <code>exe_in_path = TRUE</code>. This will not be used if
<code>init_run = FALSE</code> and <code>niters_tuning = 0</code>.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_exe_in_path">exe_in_path</code></td>
<td>
<p>logical. If TRUE, will look for exe in the PATH. If FALSE,
will look for exe in the model folders. Default = FALSE.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_extras">extras</code></td>
<td>
<p>Additional commands to use when running SS. Default = &quot;-nox&quot;
will reduce the amount of command-line output. A commonly used option is
&quot;-nohess&quot; to skip calculating the hessian (and asymptotic uncertainty).</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_allow_up_tuning">allow_up_tuning</code></td>
<td>
<p>Allow tuning values for Francis or MI &gt; 1? Defaults to
FALSE, which caps tuning values at 1.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
<tr><td><code id="SS_tune_comps_+3A_...">...</code></td>
<td>
<p>Additional arguments to pass to <a href="#topic+run_SS_models">run_SS_models</a>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns a table that can be copied into the control file.
If <code>write=TRUE</code> then will write the values to a file
(currently hardwired to go in the directory where the model was run
and called &quot;suggested_tunings.ss&quot;).
</p>


<h3><code>option</code></h3>



<h4>Francis</h4>

<p>The Francis approach to data weighting adjusts the input sample sizes using
a scalar such that the fit of the expected value is within the uncertainty
intervals based on the expected fit given adjusted sample sizes.
</p>



<h4>McAllister-Ianelli (MI)</h4>

<p>Also known as the Harmonic-Mean approach to data weighting, the
McAllister-Ianelli weighting approach uses a scalar to adjust the input
sample size of composition data based matching the arithmetic mean
of the input sample size to the harmonic mean of the effective sample size.
</p>



<h4>Dirichlet-Multinomial (DM)</h4>

<p>The Dirichlet-Multinomial likelihood is an alternative approach that allows
the tuning factor to be estimated rather than iteratively tuned.
Note that for <code>option = "DM"</code> a table of tunings is
not created as the DM is not an iterative reweighting option. Instead, each
of the fleets with length- and age-composition data will be assigned a DM
parameter and the model will be rerun.
</p>



<h3>SS versions</h3>



<h4>3.30.00-3.30.11</h4>

<p>Recommended_var_adj and other columns were named differently in these
early version of SS. Calculations are thus done internally based on
finding the correct column name.
</p>



<h4>3.30.12-3.30.16</h4>

<p>Starting with SS version 3.30.12, the &quot;Length_Comp_Fit_Summary&quot;
table in Report.sso is already in the format required to paste into
the control file to apply the McAllister-Ianelli tuning. However, this
function provides the additional option of the Francis tuning and the
ability to compare the two approaches, as well as the functionality to add
tunings and rerun the model. The &quot;Age_Comp_Fit_Summary&quot; table in Report.sso
is formatted similarly though, though the Recommended_var_adj was wrongly
set to 1 for all fleets in SS versions 3.30.12 to 3.30.16. Thus, the
MI approach is not taken from this recommended column, instead, it is
calculated from the harmonic mean and input sample sizes.
</p>



<h3>Author(s)</h3>

<p>Ian G. Taylor, Kathryn Doering
</p>


<h3>References</h3>

<p>Francis, R.I.C.C. (2011). Data weighting in statistical
fisheries stock assessment models. Can. J. Fish. Aquat. Sci. 68: 1124-1138.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSMethod.TA1.8">SSMethod.TA1.8()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Set up the folders ----
# Create a temporary directory, feel free to change this location
mod_path &lt;- file.path(tempdir(), "simple_mod")
# Path to simple model in r4ss and copy files to mod_path
example_path &lt;- system.file("extdata", "simple_3.30.13", package = "r4ss")
# copy model input files
copy_SS_inputs(dir.old = example_path, dir.new = mod_path, verbose = FALSE)
# copy over the Report file
file.copy(
  from = file.path(example_path, "Report.sso"),
  to = file.path(mod_path, "Report.sso")
)
# copy comp report file
file.copy(
  from = file.path(example_path, "CompReport.sso"),
  to = file.path(mod_path, "CompReport.sso")
)
# Use the SS_tune_comps function----

# Examples where a model is not run ----

# Just get the Francis and MI tables, without running the model. Note that the
# model in mod_path needs to already have been run with Stock Synthesis, so
# that a report file is available.

weight_table &lt;- SS_tune_comps(
  dir = mod_path,
  option = "none",
  verbose = FALSE
)
# view the weights. Note that the columns New_Francis and New_MI show the
# weights, but neither were added to the New_Var_adj column
weight_table

# Get the Francis and MI tables, but with the Francis weights in the
# New_Var_adj column. Note if option = "MI" were used, the output would be
# the same except that the New_Var_adj column would contain the MI weights.
weight_table_fran &lt;- SS_tune_comps(
  dir = mod_path,
  option = "Francis",
  verbose = FALSE
)
weight_table_fran

# Add Dirichlet multinomial tuning parameters to the model, without running it.

DM_parm_info &lt;- SS_tune_comps(
  option = "DM",
  niters_tuning = 0, # 0 means the model will not be run.
  dir = mod_path,
  model = "ss",
  extras = "-nohess",
  verbose = FALSE
)
# See the Dirichlet parameters added to the model.
DM_parm_info[["tuning_table_list"]]
# can also look in the data file to see which fleets of comp data now have
# DM parameters. The "ParmSelect" column of the len_info and age_info
# contains the dirichlet multinomial parameter numbers.
dat &lt;- SS_readdat(file.path(mod_path, "simple_data.ss"), verbose = FALSE)
dat[["len_info"]]
dat[["age_info"]]

# Examples where models are run ----

# Run MI weighting and allow upweighting for 1 iteration. Assume that an ss
# executable called "ss or ss.exe" is available in the mod_path folder.
# If the executable is not available, then the call will exit on error.
# Note that the Dirichlet mulitnomial parameters will be removed, but any
# previous tunings will be retained.
tune_info &lt;- SS_tune_comps(
  option = "MI",
  niters_tuning = 1,
  dir = mod_path,
  allow_up_tuning = TRUE,
  model = "ss",
  verbose = FALSE
)
# see the tuning table, and the weights applied to the model.
tune_info

# Add Dirichlet multinomial paramters and rerun. The function will
# automatically remove the MI weighting and add in the DM parameters.
# Use extras = "-nohess" when running model to speed up run.
DM_parm_info &lt;- SS_tune_comps(
  option = "DM",
  niters_tuning = 1, # must be 1 or greater to run
  dir = mod_path,
  model = "ss",
  extras = "-nohess",
  verbose = FALSE
)
# see the DM parameter estimates
DM_parm_info[["tuning_table_list"]]

# cleanup ----
unlink(mod_path, recursive = TRUE)

## End(Not run)
</code></pre>

<hr>
<h2 id='SS_varadjust'>Modify variance and sample size adjustments in the control file</h2><span id='topic+SS_varadjust'></span>

<h3>Description</h3>

<p>Function has not been fully tested yet
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_varadjust(
  dir = "C:/myfiles/mymodels/myrun/",
  ctlfile = "control.ss_new",
  newctlfile = "control_modified.ss",
  keyword = "variance adjustments",
  newtable = NULL,
  newrow = NULL,
  rownumber = NULL,
  maxcols = 100,
  maxrows = 100,
  overwrite = FALSE,
  version = "3.30",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_varadjust_+3A_dir">dir</code></td>
<td>
<p>Directory with control file to change.</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_ctlfile">ctlfile</code></td>
<td>
<p>Control file name. Default=&quot;control.ss_new&quot;.</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_newctlfile">newctlfile</code></td>
<td>
<p>Name of new control file to be written.
Default=&quot;control_modified.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_keyword">keyword</code></td>
<td>
<p>Keyword to use as reference for start of section on
variance adjustments</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_newtable">newtable</code></td>
<td>
<p>Optional table of new variance adjustment values</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_newrow">newrow</code></td>
<td>
<p>Optional vector of new variance adjustment values for a particular row</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_rownumber">rownumber</code></td>
<td>
<p>Which of the 6 rows to replace with 'newrow' if present?</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_maxcols">maxcols</code></td>
<td>
<p>Maximum number of columns to search among in 3.24 models
(may need to increase from default if you have a huge number of fleets)</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_maxrows">maxrows</code></td>
<td>
<p>Maximum number of rows to search among in 3.30 models
(may need to increase from default if you have a huge number of fleets)</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_overwrite">overwrite</code></td>
<td>
<p>Overwrite file if it exists?</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_version">version</code></td>
<td>
<p>SS version number. Currently &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).
<code>version = NULL</code> is no longer the default or an allowed entry.
The default is <code>version = "3.30"</code>.</p>
</td></tr>
<tr><td><code id="SS_varadjust_+3A_verbose">verbose</code></td>
<td>
<p>TRUE/FALSE switch for amount of detail produced by function.
Default=TRUE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Gwladys I. Lambert
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_tune_comps">SS_tune_comps()</a></code>, <code><a href="#topic+SS_parlines">SS_parlines()</a></code>, <code><a href="#topic+SS_changepars">SS_changepars()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# load model output into R
replist &lt;- SS_output(dir = "c:/model/")

# get new variance adjustments (
varadjust &lt;- SS_tune_comps(replist, option = "Francis")
print(varadjust)

# write new table to file
SS_varadjust(
  dir = replist[["inputs"]][["dir"]], newctlfile = "new_control.ss",
  newtable = varadjust, overwrite = FALSE
)

## End(Not run)

</code></pre>

<hr>
<h2 id='SS_write'>Write all Stock Synthesis input files for a model</h2><span id='topic+SS_write'></span>

<h3>Description</h3>

<p>Writes all the input files for a Stock Synthesis model using the list
created by <code><a href="#topic+SS_read">SS_read()</a></code>
(presumably after modification of one or more elements)
using the <code style="white-space: pre;">&#8288;SS_write*()&#8288;</code> functions for the four or
five model input files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_write(inputlist, dir = "", overwrite = FALSE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_write_+3A_inputlist">inputlist</code></td>
<td>
<p>list created by <code><a href="#topic+SS_read">SS_read()</a></code></p>
</td></tr>
<tr><td><code id="SS_write_+3A_dir">dir</code></td>
<td>
<p>A file path to the directory of interest.
Typically used with <code>file</code>, an additional input argument,
to specify input and output file paths.
The default value is <code>dir = NULL</code>, which leads to using
the current working directory, and thus, full file paths should
not be specified for other arguments as they will be appended
to <code>dir</code>.</p>
</td></tr>
<tr><td><code id="SS_write_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical value specifying if the existing file(s)
should be overwritten. The default value is <code>overwrite = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_write_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor
</p>


<h3>See Also</h3>


<ul>
<li> <p><code><a href="#topic+SS_read">SS_read()</a></code> creates the list that is used by this function.
</p>
</li>
<li> <p><code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>, <code><a href="#topic+SS_writectl">SS_writectl()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, and <code><a href="#topic+SS_writewtatage">SS_writewtatage()</a></code> are used to write the
input files.
</p>
</li></ul>



<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read inputlist to modify the data file
inputlist &lt;- SS_read(
  dir = system.file("extdata", "simple_3.30.13", package = "r4ss")
)

# modify the starter file (use the par file)
inputlist[["start"]][["init_values_src"]] &lt;- 1

# modify the data file (remove age comps from years prior to 1990)
inputlist[["dat"]][["agecomp"]] &lt;- inputlist[["dat"]][["agecomp"]] %&gt;%
  dplyr::filter(Yr &gt;= 1990)

# modify the control file (turn off early recdevs and change range of yrs)
inputlist[["ctl"]][["recdev_early_phase"]] &lt;-
  -abs(inputlist[["ctl"]][["recdev_early_phase"]])
inputlist[["ctl"]][["MainRdevYrFirst"]] &lt;- 1980

# write the files to a new folder within the source directory
SS_write(
  inputlist = inputlist,
  dir = file.path(inputlist[["dir"]], "modified_inputs")
)

## End(Not run)
</code></pre>

<hr>
<h2 id='SS_writectl'>Write Stock Synthesis control file</h2><span id='topic+SS_writectl'></span>

<h3>Description</h3>

<p>Write Stock Synthesis control file from list object in R which was probably
created using <code><a href="#topic+SS_readctl">SS_readctl()</a></code>. This function is a
wrapper which calls either SS_writectl_3.24 or SS_writectl_3.30
(and potentially additional functions in the future).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writectl(
  ctllist,
  outfile,
  version = "3.30",
  overwrite = FALSE,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writectl_+3A_ctllist">ctllist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readdat">SS_readdat()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writectl_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new control file.</p>
</td></tr>
<tr><td><code id="SS_writectl_+3A_version">version</code></td>
<td>
<p>SS version number. Currently &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30  = 3.3).
<code>version = NULL</code> is no longer the default or an allowed entry.
The default is <code>version = "3.30"</code>.</p>
</td></tr>
<tr><td><code id="SS_writectl_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="SS_writectl_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Gwladys I. Lambert, Kathryn Doering
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_writedat_3.24">SS_writedat_3.24()</a></code>, <code><a href="#topic+SS_writedat_3.30">SS_writedat_3.30()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, <code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>
</p>

<hr>
<h2 id='SS_writectl_3.24'>write control file</h2><span id='topic+SS_writectl_3.24'></span>

<h3>Description</h3>

<p>write Stock Synthesis control file from list object in R which was probably
created using <code><a href="#topic+SS_readctl">SS_readctl()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writectl_3.24(
  ctllist,
  outfile,
  overwrite = FALSE,
  verbose = FALSE,
  nseas = lifecycle::deprecated(),
  N_areas = lifecycle::deprecated(),
  Do_AgeKey = lifecycle::deprecated()
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writectl_3.24_+3A_ctllist">ctllist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readctl">SS_readctl()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.24_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new data file.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.24_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.24_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.24_+3A_nseas">nseas</code></td>
<td>
<p>Deprecated. number of season in the model. This information is not
explicitly available in control file</p>
</td></tr>
<tr><td><code id="SS_writectl_3.24_+3A_n_areas">N_areas</code></td>
<td>
<p>Deprecated. number of spatial areas in the model. This information is also not
explicitly available in control file</p>
</td></tr>
<tr><td><code id="SS_writectl_3.24_+3A_do_agekey">Do_AgeKey</code></td>
<td>
<p>Deprecated. Flag to indicate if 7 additional ageing error parameters to be read
set 1 (but in fact any non zero numeric in R) or TRUE to enable to read them 0 or FALSE (default)
to disable them. This information is not explicitly available in control file, too.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yukio Takeuchi
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>,<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>,
</p>

<hr>
<h2 id='SS_writectl_3.30'>write control file for SS version 3.30</h2><span id='topic+SS_writectl_3.30'></span>

<h3>Description</h3>

<p>write Stock Synthesis control file from list object in R which was created
using <code><a href="#topic+SS_readctl">SS_readctl()</a></code>.This function is designed to be called
using <code><a href="#topic+SS_writectl">SS_writectl()</a></code> and should not be called directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writectl_3.30(ctllist, outfile, overwrite = FALSE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writectl_3.30_+3A_ctllist">ctllist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readctl">SS_readctl()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.30_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new data file.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.30_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writectl_3.30_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Defaults to FALSE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kathryn Doering, Yukio Takeuchi, Neil Klaer, Watal M. Iwasaki
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readctl_3.30">SS_readctl_3.30()</a></code>,<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>, <code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>,
<code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_writedat'>write Stock Synthesis data file</h2><span id='topic+SS_writedat'></span>

<h3>Description</h3>

<p>Write Stock Synthesis data file from list object in R which was probably
created using <code><a href="#topic+SS_readdat">SS_readdat()</a></code>. This function is a
wrapper which calls either SS_writedat_3.24 or SS_writedat_3.30
(and potentially additional functions in the future). This setup allows those
functions to be cleaner (if somewhat redundant) than a single function that
attempts to do everything.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writedat(
  datlist,
  outfile,
  version = "3.30",
  overwrite = FALSE,
  faster = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writedat_+3A_datlist">datlist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readdat">SS_readdat()</a></code>
(or by <code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code> or <code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>)</p>
</td></tr>
<tr><td><code id="SS_writedat_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new data file.</p>
</td></tr>
<tr><td><code id="SS_writedat_+3A_version">version</code></td>
<td>
<p>SS version number. Currently only &quot;3.24&quot; or &quot;3.30&quot; are supported,
either as character or numeric values (noting that numeric 3.30 = 3.3).</p>
</td></tr>
<tr><td><code id="SS_writedat_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writedat_+3A_faster">faster</code></td>
<td>
<p>Speed up writing by writing length and age comps without aligning
the columns (by using write.table instead of print.data.frame)</p>
</td></tr>
<tr><td><code id="SS_writedat_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Gwladys I. Lambert
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_writedat_3.24">SS_writedat_3.24()</a></code>, <code><a href="#topic+SS_writedat_3.30">SS_writedat_3.30()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, <code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>
</p>

<hr>
<h2 id='SS_writedat_3.24'>write data file for SS version 3.24</h2><span id='topic+SS_writedat_3.24'></span>

<h3>Description</h3>

<p>Write Stock Synthesis data file from list object in R which was probably
created using <code><a href="#topic+SS_readdat">SS_readdat()</a></code> (which would have called on
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writedat_3.24(
  datlist,
  outfile,
  overwrite = FALSE,
  faster = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writedat_3.24_+3A_datlist">datlist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readdat">SS_readdat()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writedat_3.24_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new data file.</p>
</td></tr>
<tr><td><code id="SS_writedat_3.24_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writedat_3.24_+3A_faster">faster</code></td>
<td>
<p>Speed up writing by writing length and age comps without aligning
the columns (by using write.table instead of print.data.frame)</p>
</td></tr>
<tr><td><code id="SS_writedat_3.24_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Gwladys I. Lambert, Kelli F. Johnson,
Chantel R. Wetzel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_writedat">SS_writedat()</a></code>, <code><a href="#topic+SS_writedat_3.30">SS_writedat_3.30()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, <code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>
</p>

<hr>
<h2 id='SS_writedat_3.30'>write data file for SS version 3.30</h2><span id='topic+SS_writedat_3.30'></span>

<h3>Description</h3>

<p>Write Stock Synthesis data file from list object in R which was probably
created using <code><a href="#topic+SS_readdat">SS_readdat()</a></code> (which would have called on
<code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writedat_3.30(
  datlist,
  outfile,
  overwrite = FALSE,
  faster = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writedat_3.30_+3A_datlist">datlist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readdat">SS_readdat()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writedat_3.30_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new data file.</p>
</td></tr>
<tr><td><code id="SS_writedat_3.30_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writedat_3.30_+3A_faster">faster</code></td>
<td>
<p>Speed up writing by writing length and age comps without aligning
the columns (by using write.table instead of print.data.frame)</p>
</td></tr>
<tr><td><code id="SS_writedat_3.30_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Yukio Takeuchi, Gwladys I. Lambert, Kelli F. Johnson,
Chantel R. Wetzel
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_writedat">SS_writedat()</a></code>, <code><a href="#topic+SS_writedat_3.24">SS_writedat_3.24()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>, <code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>
</p>

<hr>
<h2 id='SS_writeforecast'>write forecast file</h2><span id='topic+SS_writeforecast'></span>

<h3>Description</h3>

<p>write Stock Synthesis forecast file from list object in R which was probably
created using <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writeforecast(
  mylist,
  dir = NULL,
  file = "forecast.ss",
  writeAll = FALSE,
  overwrite = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writeforecast_+3A_mylist">mylist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writeforecast_+3A_dir">dir</code></td>
<td>
<p>Directory for new forecast file. Default=NULL (working
directory).</p>
</td></tr>
<tr><td><code id="SS_writeforecast_+3A_file">file</code></td>
<td>
<p>Filename for new forecast file. Default=&quot;forecast.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_writeforecast_+3A_writeall">writeAll</code></td>
<td>
<p>Should the function continue even if Forecast=0
(at which point SS stops reading, and remaining elements in list may not be
available, depending on settings used in SS_readforecast)</p>
</td></tr>
<tr><td><code id="SS_writeforecast_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writeforecast_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_writepar_3.24'>write ss.par file from SS version 3.24</h2><span id='topic+SS_writepar_3.24'></span>

<h3>Description</h3>

<p>Write Stock Synthesis (version 3.24) parameter file from list object in R to file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writepar_3.24(parlist, outfile, overwrite = TRUE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writepar_3.24_+3A_parlist">parlist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readpar_3.24">SS_readpar_3.24()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writepar_3.24_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new parameter file.</p>
</td></tr>
<tr><td><code id="SS_writepar_3.24_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_writepar_3.24_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nathan R. Vaughan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>,<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>
<code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_writepar_3.30'>write ss.par file from SS version 3.30</h2><span id='topic+SS_writepar_3.30'></span>

<h3>Description</h3>

<p>Write Stock Synthesis (version 3.30) parameter file from list object in R to file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writepar_3.30(parlist, outfile, overwrite = TRUE, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writepar_3.30_+3A_parlist">parlist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readpar_3.30">SS_readpar_3.30()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writepar_3.30_+3A_outfile">outfile</code></td>
<td>
<p>Filename for where to write new parameter file.</p>
</td></tr>
<tr><td><code id="SS_writepar_3.30_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_writepar_3.30_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Nathan R. Vaughan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readctl">SS_readctl()</a></code>, <code><a href="#topic+SS_readdat">SS_readdat()</a></code>
<code><a href="#topic+SS_readdat_3.24">SS_readdat_3.24()</a></code>,<code><a href="#topic+SS_readdat_3.30">SS_readdat_3.30()</a></code>
<code><a href="#topic+SS_readctl_3.24">SS_readctl_3.24()</a></code>,
<code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_writestarter'>write starter file</h2><span id='topic+SS_writestarter'></span>

<h3>Description</h3>

<p>write Stock Synthesis starter file from list object in R which was probably
created using <code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writestarter(
  mylist,
  dir = NULL,
  file = "starter.ss",
  overwrite = FALSE,
  verbose = TRUE,
  warn = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writestarter_+3A_mylist">mylist</code></td>
<td>
<p>List object created by <code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writestarter_+3A_dir">dir</code></td>
<td>
<p>Directory for new starter file. Default=NULL (working directory).</p>
</td></tr>
<tr><td><code id="SS_writestarter_+3A_file">file</code></td>
<td>
<p>Filename for new starter file. Default=&quot;starter.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_writestarter_+3A_overwrite">overwrite</code></td>
<td>
<p>Should existing files be overwritten? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SS_writestarter_+3A_verbose">verbose</code></td>
<td>
<p>Should there be verbose output while running the file?
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SS_writestarter_+3A_warn">warn</code></td>
<td>
<p>Print warning if overwriting file?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readstarter">SS_readstarter()</a></code>, <code><a href="#topic+SS_readforecast">SS_readforecast()</a></code>,
<code><a href="#topic+SS_writestarter">SS_writestarter()</a></code>,
<code><a href="#topic+SS_writeforecast">SS_writeforecast()</a></code>, <code><a href="#topic+SS_writedat">SS_writedat()</a></code>
</p>

<hr>
<h2 id='SS_writewtatage'>Write weight-at-age file</h2><span id='topic+SS_writewtatage'></span>

<h3>Description</h3>

<p>Write Stock Synthesis weight-at-age file from R object that was probably
created using <code><a href="#topic+SS_readwtatage">SS_readwtatage()</a></code>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SS_writewtatage(
  mylist,
  dir = NULL,
  file = "wtatage.ss",
  overwrite = FALSE,
  verbose = TRUE,
  warn = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SS_writewtatage_+3A_mylist">mylist</code></td>
<td>
<p>Object created by <code><a href="#topic+SS_readwtatage">SS_readwtatage()</a></code>.</p>
</td></tr>
<tr><td><code id="SS_writewtatage_+3A_dir">dir</code></td>
<td>
<p>A file path to the directory of interest.
Typically used with <code>file</code>, an additional input argument,
to specify input and output file paths.
The default value is <code>dir = NULL</code>, which leads to using
the current working directory, and thus, full file paths should
not be specified for other arguments as they will be appended
to <code>dir</code>.</p>
</td></tr>
<tr><td><code id="SS_writewtatage_+3A_file">file</code></td>
<td>
<p>Filename for new weight-at-age file, which
will be appended to <code>dir</code> to create a full file path.
Default=&quot;wtatage.ss&quot;.</p>
</td></tr>
<tr><td><code id="SS_writewtatage_+3A_overwrite">overwrite</code></td>
<td>
<p>A logical value specifying if the existing file(s)
should be overwritten. The default value is <code>overwrite = FALSE</code>.</p>
</td></tr>
<tr><td><code id="SS_writewtatage_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
<tr><td><code id="SS_writewtatage_+3A_warn">warn</code></td>
<td>
<p>A logical value specifying if a warning should be
generated if overwriting <code>file</code>.
The default value is <code>warn = TRUE</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Kelli F. Johnson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_readwtatage">SS_readwtatage()</a></code>
</p>

<hr>
<h2 id='SSbiologytables'>A function to create a table of biology for assessment reporting:
length, weight, % mature, fecundity, and selectivity</h2><span id='topic+SSbiologytables'></span>

<h3>Description</h3>

<p>Takes the object created by SS_output to create table for reporting
for West Coast groundfish.  Works with Stock Synthesis versions 3.30.12
and later.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSbiologytables(
  replist = NULL,
  printfolder = "tables",
  dir = "default",
  fleetnames = "default",
  selexyr = "default"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSbiologytables_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSbiologytables_+3A_printfolder">printfolder</code></td>
<td>
<p>The sub-directory under 'dir' (see below) in which the
PNG files will be located.  The default sub-directory is &quot;plots&quot;.
The directory will be created if it doesn not exist.
If 'printfolder' is set to &quot;&quot;, it is ignored and the PNG files will
be located in the directory specified by 'dir'.</p>
</td></tr>
<tr><td><code id="SSbiologytables_+3A_dir">dir</code></td>
<td>
<p>The directory in which a PDF file (if requested) will be created
and within which the printfolder sub-directory (see above) will be created
if png=TRUE. By default it will be the same directory that the report file
was read from by the <code>SS_output</code> function. Alternatives to the default
can be either relative (to the working directory) or absolute paths.
The function will attempt to create the directory it does not exist, but it
does not do so recursively.</p>
</td></tr>
<tr><td><code id="SSbiologytables_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Either the string &quot;default&quot;, or a vector of characters
strings to use for each fleet name. Default=&quot;default&quot;.</p>
</td></tr>
<tr><td><code id="SSbiologytables_+3A_selexyr">selexyr</code></td>
<td>
<p>The year to summarize selectivity, the default is the final
model yr strings to use for each fleet name. Default=&quot;default&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A csv files containing biology and selectivity tables
</p>


<h3>Author(s)</h3>

<p>Chantel Wetzel
</p>

<hr>
<h2 id='SSbootstrap'>Fit models to parametric bootstraps</h2><span id='topic+SSbootstrap'></span>

<h3>Description</h3>

<p>Run a series of models fit to parametric bootstrap data taken from
data.ss_new.  This is not yet a generalized function, just some example code
for how to do a parametric bootstrap such as was done for the Pacific hake
model in 2006.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSbootstrap()
</code></pre>


<h3>Note</h3>

<p>Thanks to Nancie Cummings for inspiration.
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>

<hr>
<h2 id='SSdiagsTime2Year'>Convert Time-Steps</h2><span id='topic+SSdiagsTime2Year'></span>

<h3>Description</h3>

<p>Function to convert non-annual into annual time-steps for retros and cpue residuals
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSdiagsTime2Year(ss3out, time.steps = 0.25, end.time)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSdiagsTime2Year_+3A_ss3out">ss3out</code></td>
<td>
<p>outputs from r4ss::SS_output() or r4ss::SSsummarize()</p>
</td></tr>
<tr><td><code id="SSdiagsTime2Year_+3A_time.steps">time.steps</code></td>
<td>
<p>time steps behind yrs e.g. 0.25 for quarterly</p>
</td></tr>
<tr><td><code id="SSdiagsTime2Year_+3A_end.time">end.time</code></td>
<td>
<p>last time step e.g. 2018.75 with a cpue observation</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Reformatted Rep file outputs
</p>

<hr>
<h2 id='SSexecutivesummary'>A function to create a executive summary tables from an SS Report.sso file</h2><span id='topic+SSexecutivesummary'></span>

<h3>Description</h3>

<p>Takes the output from SS_output and creates executive summary tables
as required by the current Terms of Reference for US West Coast
groundfish stock. Additionally, historical catches, time-series and numbers-at-ages tables are created.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSexecutivesummary(
  replist,
  plotfolder = "default",
  ci_value = 0.95,
  es_only = FALSE,
  fleetnames = NULL,
  tables = c("a", "b", "c", "d", "e", "f", "g", "h", "i", "catch", "timeseries",
    "numbers", "biomass", "likes"),
  divide_by_2 = FALSE,
  endyr = NULL,
  adopted_ofl = NULL,
  adopted_abc = NULL,
  adopted_acl = NULL,
  forecast_ofl = NULL,
  forecast_abc = NULL,
  format = TRUE,
  match_digits = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSexecutivesummary_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_plotfolder">plotfolder</code></td>
<td>
<p>Directory where the 'tables' directory will be created.
The default is the dir location where the Report.sso file is located.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_ci_value">ci_value</code></td>
<td>
<p>To calculate confidence intervals, default is set at 0.95</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_es_only">es_only</code></td>
<td>
<p>TRUE/FALSE switch to produce only the executive summary tables
will be produced, default is FALSE which will return all executive summary
tables, historical catches, and numbers-at-ages</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_fleetnames">fleetnames</code></td>
<td>
<p>A vector of user-defined names providing a name for each fleet in the model.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_tables">tables</code></td>
<td>
<p>Which tables to produce (default is everything). Note: some
tables depend on calculations related to previous tables, so will fail
if requested on their own (e.g. Table 'f' can't be created
without also creating Table 'a')</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_divide_by_2">divide_by_2</code></td>
<td>
<p>This will allow the user to calculate single sex values
based on the new sex specification (-1) in SS for single sex models. Default value is FALSE.
TRUE will divide by 2.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_endyr">endyr</code></td>
<td>
<p>Optional input to choose a different ending year for tables
(could be useful for catch-only updates)</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_adopted_ofl">adopted_ofl</code></td>
<td>
<p>Vector of adopted ofl values to be printed in the management performance
table. This should be a vector of 10 values.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_adopted_abc">adopted_abc</code></td>
<td>
<p>Vector of adopted abc values to be printed in the management performance
table. This should be a vector of 10 values.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_adopted_acl">adopted_acl</code></td>
<td>
<p>Vector of adopted acl values to be printed in the management performance
table. This should be a vector of 10 values.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_forecast_ofl">forecast_ofl</code></td>
<td>
<p>Optional input vector for management adopted OFL values for table g. These values
will be overwrite the OFL values in the projection table, rather than the model estimated
OFL values. Example input: c(1500, 1300)</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_forecast_abc">forecast_abc</code></td>
<td>
<p>Optional input vector for management adopted ABC values for table g. These values
will be overwrite the ABC values in the projection table, rather than the model estimated
ABC values. Example input: c(1500, 1300)</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_format">format</code></td>
<td>
<p>Logical. Option to control whether tables are formatted (e.g. commas added, CIs separated with &quot;-&quot;). The
formatting is intended to create tables that can be cut and pasted easily into a word document without additional formatting
work. If the tables are being used by LaTex/Markdown or other documenting software, having formatting turned on prevents
the tables from being formatted further since the objects are no longer numeric.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_match_digits">match_digits</code></td>
<td>
<p>TRUE/FALSE switch on whether the low and high interval values
in e_ReferencePoints_ES will be reported with the same number of decimal digits
as the estimate.</p>
</td></tr>
<tr><td><code id="SSexecutivesummary_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R console?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Individual csv files for each executive summary table and additional tables (catch, timeseries, numbers-at-age).
</p>


<h3>Author(s)</h3>

<p>Chantel Wetzel
</p>

<hr>
<h2 id='SSgetMCMC'>Read MCMC output.</h2><span id='topic+SSgetMCMC'></span>

<h3>Description</h3>

<p>Reads the MCMC output (in the posteriors.sso and derived_posteriors.sso
files) from a model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSgetMCMC(
  dir = NULL,
  verbose = TRUE,
  writecsv = FALSE,
  postname = "posteriors.sso",
  derpostname = "derived_posteriors.sso",
  csv1 = "keyposteriors.csv",
  csv2 = "nuisanceposteriors.csv",
  keystrings = c("NatM", "R0", "steep", "RecrDev_2008", "Q_extraSD"),
  nuisancestrings = c("Objective_function", "SSB_", "InitAge", "RecrDev"),
  burnin = 0,
  thin = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSgetMCMC_+3A_dir">dir</code></td>
<td>
<p>Directory containing MCMC output.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_verbose">verbose</code></td>
<td>
<p>TRUE/FALSE switch to get more or less information about the
progress of the function.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_writecsv">writecsv</code></td>
<td>
<p>Write key parameters and certainty nuisance quantities to a
CSV file.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_postname">postname</code></td>
<td>
<p>Name of file with parameter posteriors (default matches
&quot;posteriors.sso&quot; used by SS, but the user could change the name)</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_derpostname">derpostname</code></td>
<td>
<p>Name of file with parameter posteriors (default matches
&quot;derived_posteriors.sso&quot; used by SS, but the user could change the name)</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_csv1">csv1</code></td>
<td>
<p>First CSV file for key parameters.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_csv2">csv2</code></td>
<td>
<p>Second CSV file for nuisance quantities.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_keystrings">keystrings</code></td>
<td>
<p>Vector of strings that partially match parameter names to
write to the file csv1. This file intended to feed into
<code><a href="#topic+mcmc.out">mcmc.out()</a></code>.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_nuisancestrings">nuisancestrings</code></td>
<td>
<p>Vector of strings that partially match derived
quantity names to write to the file csv2. This file intended to feed into
<code><a href="#topic+mcmc.nuisance">mcmc.nuisance()</a></code>.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_burnin">burnin</code></td>
<td>
<p>Optional burn-in value to apply on top of the option in the
starter file.</p>
</td></tr>
<tr><td><code id="SSgetMCMC_+3A_thin">thin</code></td>
<td>
<p>Optional thinning value to apply on top of the option in the
starter file and in the <code>-mcsave</code> runtime command.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+mcmc.out">mcmc.out()</a></code>, <code><a href="#topic+mcmc.nuisance">mcmc.nuisance()</a></code>,
<code><a href="#topic+SSplotPars">SSplotPars()</a></code>
</p>

<hr>
<h2 id='SSgetoutput'>Get output from multiple Stock Synthesis models.</h2><span id='topic+SSgetoutput'></span>

<h3>Description</h3>

<p>Apply the function <code><a href="#topic+SS_output">SS_output()</a></code> multiple times and save output as
individual objects or a list of lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSgetoutput(
  keyvec = NULL,
  dirvec = NULL,
  getcovar = TRUE,
  getcomp = TRUE,
  forecast = TRUE,
  verbose = TRUE,
  ncols = 210,
  listlists = TRUE,
  underscore = FALSE,
  save.lists = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSgetoutput_+3A_keyvec">keyvec</code></td>
<td>
<p>A vector of strings that are appended to the output files from
each model if models are all in one directory. Default=NULL.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_dirvec">dirvec</code></td>
<td>
<p>A vector of directories (full path or relative to working
directory) in which model output is located. Default=NULL.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_getcovar">getcovar</code></td>
<td>
<p>Choice to read or not read covar.sso output (saves time and
memory). Default=TRUE.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_getcomp">getcomp</code></td>
<td>
<p>Choice to read or not read CompReport.sso output (saves time
and memory). Default=TRUE.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_forecast">forecast</code></td>
<td>
<p>Choice to read or not read forecast quantities.
Default=FALSE.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_verbose">verbose</code></td>
<td>
<p>Print various messages to the command line as the function
runs? Default=TRUE.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_ncols">ncols</code></td>
<td>
<p>Maximum number of columns in Report.sso (same input as for
<code><a href="#topic+SS_output">SS_output()</a></code>).  Default=210.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_listlists">listlists</code></td>
<td>
<p>Save output from each model as a element of a list (i.e.
make a list of lists). Default = TRUE.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_underscore">underscore</code></td>
<td>
<p>Add an underscore '_' between any file names and any keys
in keyvec. Default=FALSE.</p>
</td></tr>
<tr><td><code id="SSgetoutput_+3A_save.lists">save.lists</code></td>
<td>
<p>Save each list of parsed output as a .Rdata file (with default
filenaming convention based on iteration and date stamp.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code> <code><a href="#topic+SSsummarize">SSsummarize()</a></code>
</p>

<hr>
<h2 id='SSmakeMmatrix'>Convert a matrix of natural mortality values into
inputs for Stock Synthesis</h2><span id='topic+SSmakeMmatrix'></span>

<h3>Description</h3>

<p>Inspired by Valerio Bartolino and North Sea herring
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSmakeMmatrix(
  mat,
  startyr,
  outfile = NULL,
  overwrite = FALSE,
  yrs.in.columns = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSmakeMmatrix_+3A_mat">mat</code></td>
<td>
<p>a matrix of natural mortality by year and age, starting with age 0</p>
</td></tr>
<tr><td><code id="SSmakeMmatrix_+3A_startyr">startyr</code></td>
<td>
<p>the first year of the natural mortality values (no missing years)</p>
</td></tr>
<tr><td><code id="SSmakeMmatrix_+3A_outfile">outfile</code></td>
<td>
<p>optional file to which the results will be written</p>
</td></tr>
<tr><td><code id="SSmakeMmatrix_+3A_overwrite">overwrite</code></td>
<td>
<p>if 'outfile' is provided and exists, option to overwrite or not</p>
</td></tr>
<tr><td><code id="SSmakeMmatrix_+3A_yrs.in.columns">yrs.in.columns</code></td>
<td>
<p>an indicator of whether the matrix has years in columns or rows</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Prints inputs with option to write to chosen file
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>

<hr>
<h2 id='SSMethod.Cond.TA1.8'>Apply Francis composition weighting method TA1.8 for conditional age-at-length fits</h2><span id='topic+SSMethod.Cond.TA1.8'></span>

<h3>Description</h3>

<p>Uses an extension of method TA1.8 (described in Appendix A of Francis, 2011)
to do stage-2 weighting of conditional age at length composition data from a
Stock Synthesis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSMethod.Cond.TA1.8(
  fit,
  fleet,
  part = 0:2,
  seas = NULL,
  plotit = TRUE,
  printit = FALSE,
  datonly = FALSE,
  plotadj = !datonly,
  maxpanel = 1000,
  FullDiagOut = FALSE,
  ShowVersionB = FALSE,
  fleetnames = NULL,
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_fit">fit</code></td>
<td>
<p>Stock Synthesis output as read by r4SS function SS_output</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_fleet">fleet</code></td>
<td>
<p>vector of one or more fleet numbers whose data are to
be analysed simultaneously (the output N multiplier applies
to all fleets combined)</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_part">part</code></td>
<td>
<p>vector of one or more partition values; analysis is restricted
to composition data with one of these partition values.
Default is to include all partition values (0, 1, 2).</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_seas">seas</code></td>
<td>
<p>string indicating how to treat data from multiple seasons
'comb' - combine seasonal data for each year and plot against Yr
'sep' - treat seasons separately, plotting against Yr.S
If is.null(seas) it is assumed that there is only one season in
the selected data (a warning is output if this is not true) and
option 'comb' is used.</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_plotit">plotit</code></td>
<td>
<p>if TRUE, make an illustrative plot like one or more
panels of Fig. 4 in Francis (2011).</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_printit">printit</code></td>
<td>
<p>if TRUE, print results to R console.</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_datonly">datonly</code></td>
<td>
<p>if TRUE, don't show the model expectations</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_plotadj">plotadj</code></td>
<td>
<p>if TRUE, plot the confidence intervals associated with
the adjusted sample sizes (TRUE by default unless datonly = TRUE)</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_maxpanel">maxpanel</code></td>
<td>
<p>maximum number of panels within a plot</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_fulldiagout">FullDiagOut</code></td>
<td>
<p>Print full diagnostics?</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_showversionb">ShowVersionB</code></td>
<td>
<p>Report the Version B value in addition to the default?</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Vector of alternative fleet names to draw from for
plot titles and captions. It should have length equal to the number
of fleets in the model, not the number of fleets considered in this function.</p>
</td></tr>
<tr><td><code id="SSMethod.Cond.TA1.8_+3A_add">add</code></td>
<td>
<p>add to existing plot</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The function outputs a multiplier, <em>w</em>,
(with bootstrap 95% confidence intervals) so that
<em>N2i</em> = <em>w</em> x <em>N1i</em>,
where <em>N1i</em> and <em>N2i</em> are the stage-1 and stage-2 multinomial
sample sizes for the <em>i</em>th composition. Optionally makes a plot
of observed and expected mean ages, with two alternative
sets of confidence limits - based on <em>N1i</em> (thin lines) and <em>N2i</em>
(thick lines) - for the observed values.
</p>
<p>This function formerly reported two versions of w differ according to whether
the calculated mean ages are
indexed by year (version A) or by year and length bin (version B).
However, research by Punt (2015) found Version A to perform better and
version B is no longer recommended and is only reported if requested by the user.
</p>
<p>CAUTIONARY/EXPLANATORY NOTE. The large number of options available in SS makes it
very difficult to be sure that what this function does is appropriate for all
combinations of options. The following notes (for version A) might help anyone
wanting to check or correct the code.
</p>

<ol>
<li><p> The code first removes unneeded rows
from database condbase.
</p>
</li>
<li><p> The remaining rows of the database are grouped
(indexed by vector indx) and relevant statistics (e.g., observed and expected
mean age), and ancillary data, are calculated for each group (these are stored
in pldat - one row per group).
</p>
</li>
<li><p> If the data are to be plotted they are further
grouped by fleet, with one panel of the plot per fleet.
</p>
</li>
<li><p> A single multiplier, <em>w</em>, is calculated to apply to all the
selected data.
</p>
</li></ol>



<h3>Author(s)</h3>

<p>Chris Francis, Andre Punt, Ian Taylor
</p>


<h3>References</h3>

<p>Francis, R.I.C.C. (2011). Data weighting in statistical
fisheries stock assessment models. Can. J. Fish. Aquat. Sci. 68: 1124-1138.
</p>
<p>Punt, A.E. (2015). Some insights into data weighting in integrated stock assessments.
Fish. Res.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSMethod.TA1.8">SSMethod.TA1.8()</a></code>
</p>

<hr>
<h2 id='SSMethod.TA1.8'>Apply Francis composition weighting method TA1.8</h2><span id='topic+SSMethod.TA1.8'></span>

<h3>Description</h3>

<p>Uses method TA1.8 (described in Appendix A of Francis 2011) to do
stage-2 weighting of composition data from a Stock Synthesis model.
Outputs a multiplier, <em>w</em> (with bootstrap 95% confidence interval),
so that <em>N2y</em> = <em>w</em> x <em>N1y</em>, where <em>N1y</em> and
<em>N2y</em> are the stage-1 and stage-2
multinomial sample sizes for the data set in year y.  Optionally
makes a plot of observed (with confidence limits, based on <em>N1y</em>)
and expected mean lengths (or ages).
<br /><br />
CAUTIONARY/EXPLANATORY NOTE.
The large number of options available in SS makes it very
difficult to be sure that what this function does is
appropriate for all combinations of options.  The following
notes might help anyone wanting to check or correct the code.
</p>

<ol>
<li><p> The code first takes the appropriate database (lendbase, sizedbase,
agedbase, or condbase) and removes unneeded rows.
</p>
</li>
<li><p> The remaining rows of the database are grouped into individual
comps (indexed by vector indx) and relevant statistics (e.g.,
observed and expected mean length or age), and ancillary data,
are calculated for each comp (these are stored in pldat - one row
per comp).
If the data are to be plotted, the comps are grouped, with each
group corresponding to a panel in the plot, and groups are indexed
by plindx.
</p>
</li>
<li><p> A single multiplier is calculated to apply to all the comps.
</p>
</li></ol>



<h3>Usage</h3>

<pre><code class='language-R'>SSMethod.TA1.8(
  fit,
  type,
  fleet,
  part = 0:2,
  sexes = 0:3,
  seas = NULL,
  method = NULL,
  plotit = TRUE,
  printit = FALSE,
  datonly = FALSE,
  plotadj = !datonly,
  maxpanel = 1000,
  fleetnames = NULL,
  label.part = TRUE,
  label.sex = TRUE,
  set.pars = TRUE,
  add = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSMethod.TA1.8_+3A_fit">fit</code></td>
<td>
<p>Stock Synthesis output as read by r4SS function SS_output</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_type">type</code></td>
<td>
<p>either 'len' (for length composition data), 'size' (for
generalized size composition data), 'age' (for age composition data),
or 'con' (for conditional age at length data)</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_fleet">fleet</code></td>
<td>
<p>vector of one or more fleet numbers whose data are to
be analysed simultaneously (the output N multiplier applies
to all fleets combined)</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_part">part</code></td>
<td>
<p>vector of one or more partition values; analysis is restricted
to composition data with one of these partition values.
Default is to include all partition values (0, 1, 2).</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_sexes">sexes</code></td>
<td>
<p>vector of one or more values for Sexes; analysis is
restricted to composition data with one of these
Sexes values.  Ignored if type=='con'.</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_seas">seas</code></td>
<td>
<p>string indicating how to treat data from multiple seasons
'comb' - combine seasonal data for each year and plot against Yr
'sep' - treat seasons separately, plotting against Yr.S
If is.null(seas) it is assumed that there is only one season in
the selected data (a warning is output if this is not true) and
option 'comb' is used.</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_method">method</code></td>
<td>
<p>a vector of one or more size-frequency method numbers
(ignored unless type = 'size').
If !is.null(method), analysis is restricted to size-frequency
methods in this vector.  NB comps are separated by method</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_plotit">plotit</code></td>
<td>
<p>if TRUE, make an illustrative plot like one or more
panels of Fig. 4 in Francis (2011).</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_printit">printit</code></td>
<td>
<p>if TRUE, print results to R console.</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_datonly">datonly</code></td>
<td>
<p>if TRUE, don't show the model expectations</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_plotadj">plotadj</code></td>
<td>
<p>if TRUE, plot the confidence intervals associated with
the adjusted sample sizes (TRUE by default unless datonly = TRUE)</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_maxpanel">maxpanel</code></td>
<td>
<p>maximum number of panels within a plot</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Vector of alternative fleet names to draw from for
plot titles and captions. It should have length equal to the number
of fleets in the model, not the number of fleets considered in this function.</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_label.part">label.part</code></td>
<td>
<p>Include labels indicating which partitions are included?</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_label.sex">label.sex</code></td>
<td>
<p>Include labels indicating which sexes are included?</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_set.pars">set.pars</code></td>
<td>
<p>Set the graphical parameters such as mar and mfrow.
Can be set to FALSE in order to add plots form multiple calls to
this function as separate panels in one larger figure.</p>
</td></tr>
<tr><td><code id="SSMethod.TA1.8_+3A_add">add</code></td>
<td>
<p>add to existing plot</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Chris Francis, Andre Punt, Ian Taylor
</p>


<h3>References</h3>

<p>Francis, R.I.C.C. (2011). Data weighting in statistical
fisheries stock assessment models. Canadian Journal of
Fisheries and Aquatic Sciences 68: 1124-1138.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSMethod.Cond.TA1.8">SSMethod.Cond.TA1.8()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
Nfleet &lt;- length(myreplist[["FleetNames"]])
for (Ifleet in 1:Nfleet) {
  SSMethod.TA1.8(myreplist, "len", fleet = Ifleet, maxpanel = maxpanel)
}
for (Ifleet in 1:Nfleet) {
  SSMethod.TA1.8(myreplist, "age", fleet = Ifleet, maxpanel = maxpanel)
}
for (Ifleet in 1:Nfleet) {
  SSMethod.TA1.8(myreplist, "size", fleet = Ifleet, maxpanel = maxpanel)
}
for (Ifleet in 1:Nfleet) {
  SSMethod.TA1.8(myreplist, "con", fleet = Ifleet, maxpanel = maxpanel)
}
for (Ifleet in 1:Nfleet) {
  SSMethod.Cond.TA1.8(myreplist, fleet = Ifleet, maxpanel = maxpanel)
}

## End(Not run)

</code></pre>

<hr>
<h2 id='SSmohnsrho'>Calculate Mohn's Rho values for select quantities</h2><span id='topic+SSmohnsrho'></span>

<h3>Description</h3>

<p>Function calculates:
(1) a rho value for the ending year for each retrospective relative to the reference model
as in Mohn (1999),
(2) a &quot;Wood's Hole Mohn's Rho&quot;, which is a rho value averaged across all years for each
retrospective relative to the reference model, and
(3) an &quot;Alaska Fisheries Science Center and Hurtado-Ferro et al. (2015) Mohn's rho,
which is the average rho per retrospective &quot;peel&quot;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSmohnsrho(summaryoutput, endyrvec, startyr, verbose = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSmohnsrho_+3A_summaryoutput">summaryoutput</code></td>
<td>
<p>List created by <code>SSsummarize</code>. The expected order for the
models are the full reference model, the retro -1, retro -2, and so forth.</p>
</td></tr>
<tr><td><code id="SSmohnsrho_+3A_endyrvec">endyrvec</code></td>
<td>
<p>Single year or vector of years representing the
final year of values to show for each model.</p>
</td></tr>
<tr><td><code id="SSmohnsrho_+3A_startyr">startyr</code></td>
<td>
<p>Single year used to calculate the start of the Wood's Hole
Mohn's Rho value across all years. Defaults to startyr of reference model.</p>
</td></tr>
<tr><td><code id="SSmohnsrho_+3A_verbose">verbose</code></td>
<td>
<p>Print messages when running the function?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Chantel R. Wetzel and Carey McGilliard
</p>


<h3>References</h3>

<p>Hurtado-Ferro et al. 2015. Looking in the rear-view mirror: bias
and retrospective patterns in integrated, age-structured stock assessment
models. ICES J. Mar. Sci Volume 72, Issue 1, 1 January 2015,
Pages 99-110, https://doi.org/10.1093/icesjms/fsu198
Mohn, R. 1999. The retrospective problem in sequential population analysis:
An investigation using cod fishery and simulated data. ICES J. Mar. Sci
Volume 56, Pages 473-488
</p>

<hr>
<h2 id='sspar'>Allow Multi-Plots
Set the par() to options suitable for ss3diags multi plots.</h2><span id='topic+sspar'></span>

<h3>Description</h3>

<p>See <a href="graphics.html#topic+par">par</a> for more details on each parameter.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sspar(
  mfrow = c(1, 1),
  plot.cex = 1,
  mai = c(0.55, 0.6, 0.1, 0.1),
  omi = c(0, 0, 0, 0) + 0.1,
  labs = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="sspar_+3A_mfrow">mfrow</code></td>
<td>
<p>determines plot frame set up</p>
</td></tr>
<tr><td><code id="sspar_+3A_plot.cex">plot.cex</code></td>
<td>
<p>cex graphic option</p>
</td></tr>
<tr><td><code id="sspar_+3A_mai">mai</code></td>
<td>
<p>graphical par for plot margins</p>
</td></tr>
<tr><td><code id="sspar_+3A_omi">omi</code></td>
<td>
<p>Outer margins in lines of text.</p>
</td></tr>
<tr><td><code id="sspar_+3A_labs">labs</code></td>
<td>
<p>if TRUE margins are narrow</p>
</td></tr>
</table>

<hr>
<h2 id='SSplotAgeMatrix'>Plot matrix of either length or observed age at true age</h2><span id='topic+SSplotAgeMatrix'></span>

<h3>Description</h3>

<p>Distribution of length at age or observed age at true age is represented
as a histogram. Values are from the AGE_LENGTH_KEY and AGE_AGE_KEY sections
of Report.sso ($ALK and $AAK in the list created by SS_output)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotAgeMatrix(
  replist,
  option = 1,
  slices = NULL,
  scale = NULL,
  add = FALSE,
  col.grid = "grey90",
  col.bars = grey(0, alpha = 0.5),
  shift_hi = 0,
  shift_lo = 0,
  plot = TRUE,
  print = FALSE,
  labels = c("Age", "Length", "True age", "Observed age", "for ageing error type",
    "Distribution of", "at"),
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  mainTitle = TRUE,
  plotdir = "default"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotAgeMatrix_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_option">option</code></td>
<td>
<p>Switch set to either 1 for length at true age or
2 for obs. age at true age</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_slices">slices</code></td>
<td>
<p>Optional input to choose which matrix (slice of the 3D-array)
within $AAK or $ALK to plot. By default all slices will be shown.
For ageing imprecision this should correspond to the ageing error matrix
number. Distribution of length at age ($ALK) is ordered by season,
sub-season, and then morph. A future version could allow subsetting plots
by these dimensions.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_scale">scale</code></td>
<td>
<p>Multiplier for bars showing distribution. Species with many ages
benefit from expanded bars. NULL value causes function to attempt automatic
scaling.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_add">add</code></td>
<td>
<p>Add to existing plot</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_col.grid">col.grid</code></td>
<td>
<p>A character value specifying the color of the grid lines</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_col.bars">col.bars</code></td>
<td>
<p>The color of the filled polygons.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_shift_hi">shift_hi</code></td>
<td>
<p>A numeric value specifying the amount to shift the top of
the polygon up.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_shift_lo">shift_lo</code></td>
<td>
<p>A numeric value specifying the amount to shift the bottom
of the polygon up.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_labels">labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top</p>
</td></tr>
<tr><td><code id="SSplotAgeMatrix_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSplotNumbers">SSplotNumbers()</a></code>
</p>

<hr>
<h2 id='SSplotBiology'>Plot biology related quantities.</h2><span id='topic+SSplotBiology'></span>

<h3>Description</h3>

<p>Plot biology related quantities from Stock Synthesis model output, including
mean weight, maturity, fecundity, and spawning output.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotBiology(
  replist,
  plot = TRUE,
  print = FALSE,
  add = FALSE,
  subplots = 1:32,
  seas = 1,
  morphs = NULL,
  forecast = FALSE,
  minyr = -Inf,
  maxyr = Inf,
  colvec = c("red", "blue", "grey20"),
  ltyvec = c(1, 2),
  shadealpha = 0.1,
  imageplot_text = FALSE,
  imageplot_text_round = 0,
  legendloc = "topleft",
  plotdir = "default",
  labels = c("Length (cm)", "Age (yr)", "Maturity", "Mean weight (kg) in last year",
    "Spawning output", "Length (cm, beginning of the year)", "Natural mortality",
    "Female weight (kg)", "Female length (cm)", "Fecundity", "Default fecundity label",
    "Year", "Hermaphroditism transition rate", "Fraction females by age at equilibrium"),
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  mainTitle = TRUE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotBiology_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_add">add</code></td>
<td>
<p>add to existing plot</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create
Numbering of subplots is as follows:
</p>

<ul>
<li><p> 1 growth curve only
</p>
</li>
<li><p> 2    growth curve with CV and SD
</p>
</li>
<li><p> 3    growth curve with maturity and weight
</p>
</li>
<li><p> 4    distribution of length at age (still in development)
</p>
</li>
<li><p> 5    length or wtatage matrix
</p>
</li>
<li><p> 6    maturity
</p>
</li>
<li><p> 7    fecundity from model parameters
</p>
</li>
<li><p> 8    fecundity at weight from BIOLOGY section
</p>
</li>
<li><p> 9    fecundity at length from BIOLOGY section
</p>
</li>
<li><p> 10    spawning output at length
</p>
</li>
<li><p> 11    spawning output at age
</p>
</li>
<li><p> 21    Natural mortality (if age-dependent)
</p>
</li>
<li><p> 22    Time-varying growth persp
</p>
</li>
<li><p> 23    Time-varying growth contour
</p>
</li>
<li><p> 24    plot time-series of any time-varying quantities (created if the
MGparm_By_Year_after_adjustments table (report:7) is available in the
Report.sso file)
</p>
</li>
<li><p> 31    hermaphroditism transition probability
</p>
</li>
<li><p> 32    hermaphroditism cumulative probability
</p>
</li></ul>

<p>Additional plots not created by default
</p>

<ul>
<li><p> 101    diagram with labels showing female growth curve
</p>
</li>
<li><p> 102    diagram with labels showing female growth curve &amp; male offsets
</p>
</li>
<li><p> 103    diagram with labels showing female CV = f(A) (offset type 2)
</p>
</li>
<li><p> 104    diagram with labels showing female CV = f(A) &amp; male offset (type 2)
</p>
</li>
<li><p> 105    diagram with labels showing female CV = f(A) (offset type 3)
</p>
</li>
<li><p> 106    diagram with labels showing female CV = f(A) &amp; male offset (type 3)
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_seas">seas</code></td>
<td>
<p>which season to plot (values other than 1 only work in
seasonal models but but maybe not fully implemented)</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_morphs">morphs</code></td>
<td>
<p>Which morphs to plot (if more than 1 per sex)? By default this
will be <code>replist[["mainmorphs"]]</code></p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_forecast">forecast</code></td>
<td>
<p>Include forecast years in plots of time-varying biology?</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_minyr">minyr</code></td>
<td>
<p>optional input for minimum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_maxyr">maxyr</code></td>
<td>
<p>optional input for maximum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_colvec">colvec</code></td>
<td>
<p>vector of length 3 with colors for various points/lines</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_ltyvec">ltyvec</code></td>
<td>
<p>vector of length 2 with lty for females/males in growth plots
values can be applied to other plots in the future</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_shadealpha">shadealpha</code></td>
<td>
<p>Transparency parameter used to make default shadecol
values (see ?rgb for more info)</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_imageplot_text">imageplot_text</code></td>
<td>
<p>Whether to add numerical text to the image plots
when using weight at age. Defaults to FALSE.</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_imageplot_text_round">imageplot_text_round</code></td>
<td>
<p>The number of significant digits to which
the image plot text is rounded. Defaults to 0, meaning whole numbers. If
all your values are small and there's no contrast in the text, you might
want to make this 1 or 2.</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend (see ?legend for more info)</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_labels">labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top</p>
</td></tr>
<tr><td><code id="SSplotBiology_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotCatch'>Plot catch related quantities.</h2><span id='topic+SSplotCatch'></span>

<h3>Description</h3>

<p>Plot catch related quantities from Stock Synthesis output. Plots include
harvest rate, continuous F, landings, and discard fraction.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotCatch(
  replist,
  subplots = 1:16,
  add = FALSE,
  areas = 1,
  plot = TRUE,
  print = FALSE,
  type = "l",
  fleetlty = 1,
  fleetpch = 1,
  fleetcols = "default",
  fleetnames = "default",
  lwd = 3,
  areacols = "default",
  areanames = "default",
  minyr = -Inf,
  maxyr = Inf,
  annualcatch = TRUE,
  forecastplot = FALSE,
  plotdir = "default",
  showlegend = TRUE,
  legendloc = "topleft",
  order = "default",
  xlab = "Year",
  labels = c("Harvest rate/Year", "Continuous F", "Landings", "Total catch",
    "Predicted discards", "Discard fraction", "(mt)", "(numbers x1000)",
    "Observed and expected", "aggregated across seasons"),
  catchasnumbers = NULL,
  catchbars = TRUE,
  addmax = TRUE,
  ymax = NULL,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotCatch_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_subplots">subplots</code></td>
<td>
<p>Vector controlling which subplots to create
Numbering of subplots is as follows,
</p>
<p><em>Basic plots for all models</em>
</p>

<ul>
<li><p> 1 landings
</p>
</li>
<li><p> 2 landings stacked
</p>
</li>
<li><p> 3 observed and expected landings (if different)
</p>
</li>
<li><p> 9 harvest rate
</p>
</li></ul>

<p><em>Plots for models with discards</em>
</p>

<ul>
<li><p> 4 total catch (including discards)
</p>
</li>
<li><p> 5 total catch (including discards) stacked
</p>
</li>
<li><p> 6 discards
</p>
</li>
<li><p> 7 discards stacked plot (depends on multiple fleets)
</p>
</li>
<li><p> 8 discard fraction
</p>
</li>
<li><p> 16 landings + dead discards
</p>
</li></ul>

<p><em>Plots for seasonal models</em>
</p>

<ul>
<li><p> 10 landings aggregated across seasons
</p>
</li>
<li><p> 11 landings aggregated across seasons stacked
</p>
</li>
<li><p> 12 total catch (if discards present) aggregated across seasons
</p>
</li>
<li><p> 13 total catch (if discards present) aggregated across seasons stacked
</p>
</li>
<li><p> 14 discards aggregated across seasons
</p>
</li>
<li><p> 15 discards aggregated across seasons stacked
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_add">add</code></td>
<td>
<p>Add to existing plot? (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_areas">areas</code></td>
<td>
<p>Optional subset of areas to plot for spatial models</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_type">type</code></td>
<td>
<p>Type parameter passed to plot function. Default &quot;l&quot; is lines
only.  Other options include &quot;o&quot; for overplotting points on lines.</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_fleetlty">fleetlty</code></td>
<td>
<p>Vector of line type by fleet</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_fleetpch">fleetpch</code></td>
<td>
<p>Vector of plot character by fleet</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_fleetcols">fleetcols</code></td>
<td>
<p>Vector of colors by fleet</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Optional replacement for fleenames used in data file,
should include all fleets (not just those with catch)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_lwd">lwd</code></td>
<td>
<p>Line width</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_areacols">areacols</code></td>
<td>
<p>Vector of colors by area. Default uses rich.colors by Arni
Magnusson</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_areanames">areanames</code></td>
<td>
<p>Names for areas. Default is to use Area1, Area2,...</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_minyr">minyr</code></td>
<td>
<p>Optional input for minimum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_maxyr">maxyr</code></td>
<td>
<p>Optional input for maximum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_annualcatch">annualcatch</code></td>
<td>
<p>Include plot of catch aggregated across seasons within
each year</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_forecastplot">forecastplot</code></td>
<td>
<p>Add points from forecast years</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG or PDF files will be written. By default
it will be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_showlegend">showlegend</code></td>
<td>
<p>Put legend on plot</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend (see ?legend for more info)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_order">order</code></td>
<td>
<p>Optional input to change the order of fleets in stacked plots.</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_xlab">xlab</code></td>
<td>
<p>x-label for all plots</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_labels">labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_catchasnumbers">catchasnumbers</code></td>
<td>
<p>Is catch in numbers instead of biomass? Should be set
automatically if set to NULL. If fleets include a mix of biomass and
numbers, then catch plots should be interpreted carefully.</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_catchbars">catchbars</code></td>
<td>
<p>Show catch by fleet as barplot instead of stacked polygons?
(default=TRUE)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_addmax">addmax</code></td>
<td>
<p>Add a point on the y-axis for the maximum catch (default=TRUE)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_ymax">ymax</code></td>
<td>
<p>Optional input for ymax value (can be used to add or subtract
white space at the top of the figure)</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotCatch_+3A_verbose">verbose</code></td>
<td>
<p>Report progress to R console?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Ian Stewart
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotCohortCatch'>Plot cumulative catch by cohort.</h2><span id='topic+SSplotCohortCatch'></span>

<h3>Description</h3>

<p>Cumulative catch contributions for each cohort are plotted based on
estimated catch-at-age matrix and weight-at-age values by fleet.  Curves are
shown in units of both numbers and biomass.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotCohortCatch(
  replist,
  subplots = 1:2,
  add = FALSE,
  plot = TRUE,
  print = FALSE,
  cohortcols = "default",
  cohortfrac = 1,
  cohortvec = NULL,
  cohortlabfrac = 0.1,
  cohortlabvec = NULL,
  lwd = 3,
  plotdir = "default",
  xlab = "Year",
  labels = c("Age", "Cumulative catch by cohort (in numbers x1000)",
    "Cumulative catch by cohort (x1000 mt)"),
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotCohortCatch_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_subplots">subplots</code></td>
<td>
<p>Vector controlling which subplots to create</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_add">add</code></td>
<td>
<p>Add to existing plot? (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_cohortcols">cohortcols</code></td>
<td>
<p>Vector of colors to show for each cohort. Default is range
of colors shade indicating time period.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_cohortfrac">cohortfrac</code></td>
<td>
<p>What fraction of the cohorts to include in plot. If value
&lt; 1 is used, then cohorts are filtered to only include those with the
highest maximum cumulative catch. Value will be overridden by
<code>cohortvec</code>.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_cohortvec">cohortvec</code></td>
<td>
<p>Optional vector of birth years for cohorts to include in
plot. Value overrides <code>cohortfrac</code>.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_cohortlabfrac">cohortlabfrac</code></td>
<td>
<p>What fraction of the cohorts to label in plot. By
default, top 10% of cohorts are labeled. Value will be overridden by
<code>cohortlabvec</code>.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_cohortlabvec">cohortlabvec</code></td>
<td>
<p>Optional vector of birth years for cohorts to label in
plot. Value overrides <code>cohortlabfrac</code>.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_lwd">lwd</code></td>
<td>
<p>Line width</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG or PDF files will be written. By default
it will be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_xlab">xlab</code></td>
<td>
<p>x-label for all plots</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_labels">labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles (no titles in this
function yet)</p>
</td></tr>
<tr><td><code id="SSplotCohortCatch_+3A_verbose">verbose</code></td>
<td>
<p>Report progress to R console?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotComparisons'>plot model comparisons</h2><span id='topic+SSplotComparisons'></span>

<h3>Description</h3>

<p>Creates a user-chosen set of plots comparing model output from a summary of
multiple models, where the collection was created using the
<code>SSsummarize</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotComparisons(
  summaryoutput,
  subplots = 1:20,
  plot = TRUE,
  print = FALSE,
  png = print,
  pdf = FALSE,
  models = "all",
  endyrvec = NULL,
  indexfleets = NULL,
  indexUncertainty = TRUE,
  indexQlabel = TRUE,
  indexQdigits = 4,
  indexSEvec = NULL,
  indexPlotEach = FALSE,
  labels = c("Year", "Spawning biomass (t)", "Fraction of unfished",
    "Age-0 recruits (1,000s)", "Recruitment deviations", "Index", "Log index",
    "SPR-related quantity", "Density", "Management target",
    "Minimum stock size threshold", "Spawning output", "Harvest rate"),
  col = NULL,
  shadecol = NULL,
  pch = NULL,
  lty = 1,
  lwd = 2,
  spacepoints = 10,
  staggerpoints = 1,
  initpoint = 0,
  tickEndYr = TRUE,
  shadeForecast = TRUE,
  xlim = NULL,
  ylimAdj = 1.05,
  xaxs = "i",
  yaxs = "i",
  type = "o",
  uncertainty = TRUE,
  shadealpha = 0.1,
  legend = TRUE,
  legendlabels = NULL,
  legendloc = "topright",
  legendorder = NULL,
  legendncol = 1,
  sprtarg = NULL,
  btarg = NULL,
  minbthresh = NULL,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  plotdir = NULL,
  filenameprefix = "",
  densitynames = c("SSB_Virgin", "R0"),
  densityxlabs = NULL,
  rescale = TRUE,
  densityscalex = 1,
  densityscaley = 1,
  densityadjust = 1,
  densitysymbols = TRUE,
  densitytails = TRUE,
  densitymiddle = FALSE,
  densitylwd = 1,
  fix0 = TRUE,
  new = TRUE,
  add = FALSE,
  par = list(mar = c(5, 4, 1, 1) + 0.1),
  verbose = TRUE,
  mcmcVec = FALSE,
  show_equilibrium = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotComparisons_+3A_summaryoutput">summaryoutput</code></td>
<td>
<p>List created by <code>SSsummarize</code></p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_subplots">subplots</code></td>
<td>
<p>Vector of subplots to be created
Numbering of subplots is as follows:
</p>

<ul>
<li><p> 1  spawning biomass
</p>
</li>
<li><p> 2  spawning biomass with uncertainty intervals
</p>
</li>
<li><p> 3  biomass ratio (hopefully equal to fraction of unfished)
</p>
</li>
<li><p> 4  biomass ratio with uncertainty
</p>
</li>
<li><p> 5  SPR ratio
</p>
</li>
<li><p> 6  SPR ratio with uncertainty
</p>
</li>
<li><p> 7  F value
</p>
</li>
<li><p> 8  F value with uncertainty
</p>
</li>
<li><p> 9  recruits
</p>
</li>
<li><p> 10  recruits with uncertainty
</p>
</li>
<li><p> 11  recruit devs
</p>
</li>
<li><p> 12  recruit devs with uncertainty
</p>
</li>
<li><p> 13  index fits
</p>
</li>
<li><p> 14  index fits on a log scale
</p>
</li>
<li><p> 15  phase plot
</p>
</li>
<li><p> 16  densities
</p>
</li>
<li><p> 17  cumulative densities
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_print">print</code></td>
<td>
<p>Send plots to PNG files in directory specified by
<code>plotdir</code>?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_png">png</code></td>
<td>
<p>Has same result as <code>print</code>, included for consistency with
<code>SS_plots</code>.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_pdf">pdf</code></td>
<td>
<p>Write output to PDF file? Can't be used in conjunction with
<code>png</code> or <code>print</code>.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_models">models</code></td>
<td>
<p>Optional subset of the models described in
<code>summaryoutput</code>.  Either &quot;all&quot; or a vector of numbers indicating
columns in summary tables.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_endyrvec">endyrvec</code></td>
<td>
<p>Optional single year or vector of years representing the
final year of values to show for each model. By default it is set to the
ending year specified in each model.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_indexfleets">indexfleets</code></td>
<td>
<p>Fleet numbers for each model to compare
indices of abundance. Can take different forms:
</p>

<ul>
<li><p> NULL: (default) create a separate plot for each index as long as the fleet
numbering is the same across all models.
</p>
</li>
<li><p> integer: create a single comparison plot for the chosen index
</p>
</li>
<li><p> vector of length equal to number of models: a single fleet number
for each model to be compared in a single plot
</p>
</li>
<li><p> list: list of fleet numbers associated with indices within each
model to be compared, where the list elements are each a vector of the
same length but the names of the list elements don't matter and can be
absent.
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_indexuncertainty">indexUncertainty</code></td>
<td>
<p>Show uncertainty intervals on index data?
Default=FALSE because if models have any extra standard deviations added,
these intervals may differ across models.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_indexqlabel">indexQlabel</code></td>
<td>
<p>Add catchability to legend in plot of index fits
(TRUE/FALSE)?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_indexqdigits">indexQdigits</code></td>
<td>
<p>Number of significant digits for catchability in legend
(if <code>indexQlabel = TRUE</code>)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_indexsevec">indexSEvec</code></td>
<td>
<p>Optional replacement for the SE values in
<code>summaryoutput[["indices"]]</code> to deal with the issue of differing uncertainty by
models described above.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_indexploteach">indexPlotEach</code></td>
<td>
<p>TRUE plots the observed index for each model with
colors, or FALSE just plots observed once in black dots.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_labels">labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_col">col</code></td>
<td>
<p>Optional vector of colors to be used for lines. Input NULL
makes use of <code>rich.colors.short</code> function.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_shadecol">shadecol</code></td>
<td>
<p>Optional vector of colors to be used for shading uncertainty
intervals. The default (NULL) is to use the same colors provided by
<code>col</code> (either the default or a user-chosen input) and make them
more transparent by applying the <code>shadealpha</code> input as an alpha
transparency value (using the <code>adjustcolor()</code> function)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_pch">pch</code></td>
<td>
<p>Optional vector of plot character values</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_lty">lty</code></td>
<td>
<p>Optional vector of line types</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_lwd">lwd</code></td>
<td>
<p>Optional vector of line widths</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_spacepoints">spacepoints</code></td>
<td>
<p>Number of years between points shown on top of lines (for
long timeseries, points every year get mashed together)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_staggerpoints">staggerpoints</code></td>
<td>
<p>Number of years to stagger the first point (if
<code>spacepoints &gt; 1</code>) for each line (so that adjacent lines have points in
different years)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_initpoint">initpoint</code></td>
<td>
<p>Year value for first point to be added to lines.
Points added to plots are those that satisfy
(Yr-initpoint)%%spacepoints == (staggerpoints*iline)%%spacepoints</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_tickendyr">tickEndYr</code></td>
<td>
<p>TRUE/FALSE switch to turn on/off extra axis mark at final
year in timeseries plots.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_shadeforecast">shadeForecast</code></td>
<td>
<p>TRUE/FALSE switch to turn on off shading of years beyond
the maximum ending year of the models</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_xlim">xlim</code></td>
<td>
<p>Optional x limits</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_ylimadj">ylimAdj</code></td>
<td>
<p>Multiplier for ylim parameter. Allows additional white space
to fit legend if necessary. Default=1.05.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_xaxs">xaxs</code></td>
<td>
<p>Choice of xaxs parameter (see ?par for more info)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_yaxs">yaxs</code></td>
<td>
<p>Choice of yaxs parameter (see ?par for more info)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_type">type</code></td>
<td>
<p>Type parameter passed to points (default 'o' overplots points on
top of lines)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Show plots with uncertainty intervals? Either a single
TRUE/FALSE value, or a vector of TRUE/FALSE values for each model,
or a set of integers corresponding to the choice of models.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_shadealpha">shadealpha</code></td>
<td>
<p>Transparency adjustment used to make default shadecol
values (implemented as <code>adjustcolor(col=col, alpha.f=shadealpha)</code>)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_legend">legend</code></td>
<td>
<p>Add a legend?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_legendlabels">legendlabels</code></td>
<td>
<p>Optional vector of labels to include in legend. Default
is 'model1','model2',etc.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend. Either a string like &quot;topleft&quot; or a
vector of two numeric values representing the fraction of the maximum in
the x and y dimensions, respectively. See <code>help("legend")</code> for more info on
the string options.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_legendorder">legendorder</code></td>
<td>
<p>Optional vector of model numbers that can be used to have
the legend display the model names in an order that is different than that
which is represented in the summary input object.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_legendncol">legendncol</code></td>
<td>
<p>Number of columns for the legend.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_sprtarg">sprtarg</code></td>
<td>
<p>Target value for SPR-ratio where line is drawn in the SPR
plots and phase plot.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_btarg">btarg</code></td>
<td>
<p>Target biomass value at which to show a line (set to 0 to
remove)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_minbthresh">minbthresh</code></td>
<td>
<p>Minimum biomass threshold at which to show a line (set to
0 to remove)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG or PDF files will be written. By default
it will be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_filenameprefix">filenameprefix</code></td>
<td>
<p>Additional text to append to PNG or PDF file names.
It will be separated from default name by an underscore.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densitynames">densitynames</code></td>
<td>
<p>Vector of names (or subset of names) of parameters or
derived quantities contained in <code>summaryoutput[["pars"]][["Label"]]</code> or
<code>summaryoutput[["quants"]][["Label"]]</code> for which to make density plots</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densityxlabs">densityxlabs</code></td>
<td>
<p>Optional vector of x-axis labels to use in the density
plots (must be equal in length to the printed vector of quantities that
match the <code>densitynames</code> input)</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_rescale">rescale</code></td>
<td>
<p>TRUE/FALSE control of automatic rescaling of units into
thousands, millions, or billions</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densityscalex">densityscalex</code></td>
<td>
<p>Scalar for upper x-limit in density plots (values below
1 will cut off the right tail to provide better contrast among narrower
distributions</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densityscaley">densityscaley</code></td>
<td>
<p>Scalar for upper y-limit in density plots (values below
1 will cut off top of highest peaks to provide better contrast among broader
distributions</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densityadjust">densityadjust</code></td>
<td>
<p>Multiplier on bandwidth of kernel in density function
used for smoothing MCMC posteriors. See 'adjust' in ?density for details.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densitysymbols">densitysymbols</code></td>
<td>
<p>Add symbols along lines in density plots. Quantiles
are <code>c(0.025,0.1,0.25,0.5,0.75,0.9,0.975)</code>.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densitytails">densitytails</code></td>
<td>
<p>Shade tails outside of 95% interval darker in
density plots?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densitymiddle">densitymiddle</code></td>
<td>
<p>Shade middle inside of 95% interval darker in
density plots?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_densitylwd">densitylwd</code></td>
<td>
<p>Line width for density plots</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_fix0">fix0</code></td>
<td>
<p>Always include 0 in the density plots?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_new">new</code></td>
<td>
<p>Create new empty plot window</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_add">add</code></td>
<td>
<p>Allows single plot to be added to existing figure. This needs to
be combined with specific 'subplots' input to make sure only one thing gets
added.</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_par">par</code></td>
<td>
<p>list of graphics parameter values passed to the <code>par</code>
function</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_verbose">verbose</code></td>
<td>
<p>Report progress to R GUI?</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_mcmcvec">mcmcVec</code></td>
<td>
<p>Vector of TRUE/FALSE values (or single value) indicating
whether input values are from MCMC or to use normal distribution around
MLE</p>
</td></tr>
<tr><td><code id="SSplotComparisons_+3A_show_equilibrium">show_equilibrium</code></td>
<td>
<p>Whether to show the equilibrium values for
SSB. For some model comparisons, these might not be comparable and thus
useful to turn off. Defaults to TRUE.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, John R. Wallace
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SSsummarize">SSsummarize()</a></code>,
<code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SSgetoutput">SSgetoutput()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# directories where models were run need to be defined
dir1 &lt;- "c:/SS/mod1"
dir2 &lt;- "c:/SS/mod2"

# read two models
mod1 &lt;- SS_output(dir = dir1)
mod2 &lt;- SS_output(dir = dir2)

# create list summarizing model results
mod.sum &lt;- SSsummarize(list(mod1, mod2))

# plot comparisons
SSplotComparisons(mod.sum, legendlabels = c("First model", "Second model"))

# Example showing comparison of MLE to MCMC results where the mcmc would have
# been run in the subdirectory 'c:/SS/mod1/mcmc'
mod1 &lt;- SS_output(dir = "c:/SS/mod1", dir.mcmc = "mcmc")
# pass the same model twice to SSsummarize in order to plot it twice
mod.sum &lt;- SSsummarize(list(mod1, mod1))
# compare MLE to MCMC
SSplotComparisons(mod.sum,
  legendlabels = c("MCMC", "MLE"),
  mcmcVec = c(TRUE, FALSE)
)

## End(Not run)

</code></pre>

<hr>
<h2 id='SSplotComps'>Plot composition data and fits.</h2><span id='topic+SSplotComps'></span>

<h3>Description</h3>

<p>Plot composition data and fits from Stock Synthesis output.  Multi-figure
plots depend on <code>make_multifig</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotComps(
  replist,
  subplots = c(1:10, 21, 24),
  kind = "LEN",
  sizemethod = 1,
  aalyear = -1,
  aalbin = -1,
  plot = TRUE,
  print = FALSE,
  fleets = "all",
  fleetnames = "default",
  sexes = "all",
  yupper = 0.4,
  datonly = FALSE,
  samplesizeplots = TRUE,
  compresidplots = TRUE,
  bub = FALSE,
  showyears = TRUE,
  showsampsize = TRUE,
  showeffN = TRUE,
  aggregates_by_mkt = FALSE,
  sampsizeline = FALSE,
  effNline = FALSE,
  minnbubble = 3,
  pntscalar = NULL,
  scalebubbles = FALSE,
  cexZ1 = 1.5,
  bublegend = TRUE,
  colvec = c(rgb(1, 0, 0, 0.7), rgb(0, 0, 1, 0.7), rgb(0.1, 0.1, 0.1, 0.7)),
  linescol = c(rgb(0, 0.5, 0, 0.7), rgb(0.8, 0, 0, 0.7), rgb(0, 0, 0.8, 0.7)),
  xlas = 0,
  ylas = NULL,
  axis1 = NULL,
  axis2 = NULL,
  axis1labs = NULL,
  sizebinlabs = NULL,
  blue = rgb(0, 0, 1, 0.7),
  red = rgb(1, 0, 0, 0.7),
  pwidth = 6.5,
  pheight = 6.5,
  punits = "in",
  ptsize = 10,
  res = 300,
  plotdir = "default",
  cex.main = 1,
  linepos = 1,
  fitbar = FALSE,
  do.sqrt = TRUE,
  smooth = TRUE,
  cohortlines = c(),
  labels = c("Length (cm)", "Age (yr)", "Year", "Observed sample size",
    "Effective sample size", "Proportion", "cm", "Frequency", "Weight", "Length", "(mt)",
    "(numbers x1000)", "Stdev (Age)", "Conditional AAL plot, ", "Size bin"),
  printmkt = TRUE,
  printsex = TRUE,
  maxrows = 6,
  maxcols = 4,
  maxrows2 = 4,
  maxcols2 = 4,
  rows = 1,
  cols = 1,
  andre_oma = c(3, 0, 3, 0),
  andrerows = 4,
  fixdims = TRUE,
  fixdims2 = FALSE,
  maxneff = 5000,
  verbose = TRUE,
  scalebins = FALSE,
  addMeans = TRUE,
  mainTitle = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotComps_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create
Numbering of subplots is as follows, where subplots 21 to 24
(aggregated across years) are provided first, and subplots
1 to 10 are all repeated for each fleet
</p>

<ul>
<li><p> 1 index data by fleet
</p>
</li>
<li><p> 1 multi-panel composition plot
</p>
</li>
<li><p> 2 single panel bubble plot for numbers at length or age
</p>
</li>
<li><p> 3 multi-panel bubble plots for conditional age-at-length
</p>
</li>
<li><p> 4 multi-panel plot of fit to conditional age-at-length for specific years
</p>
</li>
<li><p> 5 Pearson residuals for A-L key
</p>
</li>
<li><p> 6 multi-panel plot of point and line fit to conditional
age-at-length for specific length bins
</p>
</li>
<li><p> 7 sample size plot
</p>
</li>
<li><p> 8 TA1.8 Francis weighting plot
</p>
</li>
<li><p> 9 TA1.8 Francis weighting plot for conditional data
</p>
</li>
<li><p> 10 Andre's mean age and std. dev. in conditional AAL
</p>
</li>
<li><p> 21 composition by fleet aggregating across years
</p>
</li>
<li><p> 22 composition by fleet aggregating across years within each season
</p>
</li>
<li><p> 23 composition by fleet aggregating across seasons within a year
</p>
</li>
<li><p> 24 bubble plot comparison of length or age residuals
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotComps_+3A_kind">kind</code></td>
<td>
<p>indicator of type of plot can be &quot;LEN&quot;, &quot;SIZE&quot;, &quot;AGE&quot;, &quot;cond&quot;,
&quot;GSTAGE&quot;, &quot;GSTLEN&quot;, &quot;L@A&quot;, or &quot;W@A&quot;.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_sizemethod">sizemethod</code></td>
<td>
<p>if kind = &quot;SIZE&quot; then this switch chooses which of the
generalized size bin methods will be plotted.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_aalyear">aalyear</code></td>
<td>
<p>Years to plot multi-panel conditional age-at-length fits for
all length bins; must be in a &quot;c(YYYY,YYYY)&quot; format. Useful for checking the
fit of a dominant year class, critical time period, etc. Default=-1.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_aalbin">aalbin</code></td>
<td>
<p>The length bin for which multi-panel plots of the fit to
conditional age-at-length data will be produced for all years.  Useful to
see if growth curves are ok, or to see the information on year classes move
through the conditional data. Default=-1.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_fleets">fleets</code></td>
<td>
<p>optional vector to subset fleets for which plots will be made</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_fleetnames">fleetnames</code></td>
<td>
<p>optional vector of fleet names to put in the labels</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_sexes">sexes</code></td>
<td>
<p>which sexes to show plots for. Default=&quot;all&quot; which will include
males, females, and unsexed. This option is not fully implemented for all
plots.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_yupper">yupper</code></td>
<td>
<p>upper limit on ymax for polygon/histogram composition plots</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_datonly">datonly</code></td>
<td>
<p>make plots of data without fits?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_samplesizeplots">samplesizeplots</code></td>
<td>
<p>make sample size plots?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_compresidplots">compresidplots</code></td>
<td>
<p>make plots of residuals for fit to composition data?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_bub">bub</code></td>
<td>
<p>make bubble plot for numbers at age or size?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_showyears">showyears</code></td>
<td>
<p>Add labels for years to sample size plots?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_showsampsize">showsampsize</code></td>
<td>
<p>add sample sizes to plot</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_showeffn">showeffN</code></td>
<td>
<p>add effective sample sizes to plot</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_aggregates_by_mkt">aggregates_by_mkt</code></td>
<td>
<p>separate plots of aggregates across years
into different plots for each market category (retained, discarded)?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_sampsizeline">sampsizeline</code></td>
<td>
<p>show line for input sample sizes on top of conditional
age-at-length plots (TRUE/FALSE, still in development)</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_effnline">effNline</code></td>
<td>
<p>show line for effective sample sizes on top of conditional
age-at-length plots (TRUE/FALSE, still in development)</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_minnbubble">minnbubble</code></td>
<td>
<p>number of unique x values before adding buffer. see
?bubble3 for more info.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_pntscalar">pntscalar</code></td>
<td>
<p>This scalar defines the maximum bubble size for bubble
plots. This option is still available but a better choice is to use cexZ1
which allow the same scaling throughout all plots.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_scalebubbles">scalebubbles</code></td>
<td>
<p>scale data-only bubbles by sample size, not just
proportion within sample? Default=FALSE.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_cexz1">cexZ1</code></td>
<td>
<p>Character expansion (cex) for point associated with value of 1.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_bublegend">bublegend</code></td>
<td>
<p>Add legend with example bubble sizes to bubble plots.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_colvec">colvec</code></td>
<td>
<p>Vector of length 3 with colors for females, males, unsexed fish</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_linescol">linescol</code></td>
<td>
<p>Color for lines on top of polygons</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_xlas">xlas</code></td>
<td>
<p>label style (las) input for x-axis. Default 0 has horizontal
labels, input 2 would provide vertical lables.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_ylas">ylas</code></td>
<td>
<p>label style (las) input for y-axis. Default NULL has horizontal
labels when all labels have fewer than 6 characters and vertical otherwise.
Input 0 would force vertical labels, and 1 would force horizontal.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_axis1">axis1</code></td>
<td>
<p>optional position of bottom axis values</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_axis2">axis2</code></td>
<td>
<p>optional position of left size axis values</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_axis1labs">axis1labs</code></td>
<td>
<p>optional vector of labels for axis1 (either NULL or needs to
match length of axis1)</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_sizebinlabs">sizebinlabs</code></td>
<td>
<p>Vector of size bin labels corresponding to the generalized
size frequency method</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_blue">blue</code></td>
<td>
<p>What color to use for males in bubble plots (default is slightly
transparent blue)</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_red">red</code></td>
<td>
<p>What color to use for females in bubble plots (default is slightly
transparent red)</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion parameter for plot titles</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_linepos">linepos</code></td>
<td>
<p>should lines be added before points (linepos=1) or after
(linepos=2)?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_fitbar">fitbar</code></td>
<td>
<p>show fit to bars instead of points</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_do.sqrt">do.sqrt</code></td>
<td>
<p>scale bubbles based on sqrt of size vector. see ?bubble3 for
more info.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_smooth">smooth</code></td>
<td>
<p>add loess smoother to observed vs. expected index plots and
input vs. effective sample size?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_cohortlines">cohortlines</code></td>
<td>
<p>optional vector of birth years for cohorts for which to
add growth curves to numbers at length bubble plots</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_printmkt">printmkt</code></td>
<td>
<p>show market categories in plot titles?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_printsex">printsex</code></td>
<td>
<p>show sex in plot titles?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_maxrows">maxrows</code></td>
<td>
<p>maximum (or fixed) number or rows of panels in the plot</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_maxcols">maxcols</code></td>
<td>
<p>maximum (or fixed) number or columns of panels in the plot</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_maxrows2">maxrows2</code></td>
<td>
<p>maximum number of rows for conditional age at length plots</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_maxcols2">maxcols2</code></td>
<td>
<p>maximum number of columns for conditional age at length
plots</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_rows">rows</code></td>
<td>
<p>number or rows to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_cols">cols</code></td>
<td>
<p>number or cols to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_andre_oma">andre_oma</code></td>
<td>
<p>Outer margins passed to Andre's multi-panel conditional
age-at-length plots.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_andrerows">andrerows</code></td>
<td>
<p>Number of rows of Andre's conditional age-at-length plots
within each page. Default=3.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_fixdims">fixdims</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols or resize based on
number of years of data</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_fixdims2">fixdims2</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols in aggregate plots
or resize based on number of fleets</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_maxneff">maxneff</code></td>
<td>
<p>the maximum value to include on plots of input and effective
sample size. Occasionally a calculation of effective N blows up to very
large numbers, rendering it impossible to observe the relationship for other
data. Default=5000.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_verbose">verbose</code></td>
<td>
<p>return updates of function progress to the R GUI?</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_scalebins">scalebins</code></td>
<td>
<p>Rescale expected and observed proportions by dividing by
bin width for models where bins have different widths? Caution!: May not
work correctly in all cases.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_addmeans">addMeans</code></td>
<td>
<p>Add parameter means in addition to medians for MCMC
posterior distributions in which the median and mean differ.</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title for the plot should be produced</p>
</td></tr>
<tr><td><code id="SSplotComps_+3A_...">...</code></td>
<td>
<p>additional arguments that will be passed to
the <code>par</code> command in the <code><a href="#topic+make_multifig">make_multifig()</a></code> function.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+make_multifig">make_multifig()</a></code>
</p>

<hr>
<h2 id='SSplotData'>Timeline of presence/absence of data by type, year, and fleet.</h2><span id='topic+SSplotData'></span>

<h3>Description</h3>

<p>Plot shows graphical display of what data is being used in the model.  Some
data types may not yet be included. Note, this is based on output from the
model, not the input data file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotData(
  replist,
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  subplot = 1:2,
  fleetcol = "default",
  datatypes = "all",
  fleets = "all",
  fleetnames = "default",
  ghost = FALSE,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  margins = c(5.1, 2.1, 2.1, 8.1),
  cex = 2,
  lwd = 12,
  maxsize = 1,
  alphasize = 1,
  mainTitle = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotData_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_subplot">subplot</code></td>
<td>
<p>vector controlling which subplots to create
Currently there are only 2 subplots:
</p>

<ul>
<li><p> 1 equal size points showing presence/absence of data type by year/fleet
</p>
</li>
<li><p> 2 points scaled to indicate quantity or precision of data
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotData_+3A_fleetcol">fleetcol</code></td>
<td>
<p>Either the string &quot;default&quot;, or a vector of colors to use
for each fleet. If tagging data is included, an additional color needs to be
added for the tag releases which are not assigned to a fleet.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_datatypes">datatypes</code></td>
<td>
<p>Either the string &quot;all&quot;, or a vector including some subset
of the following: &quot;catch&quot;, &quot;cpue&quot;, &quot;lendbase&quot;, &quot;sizedbase&quot;, &quot;agedbase&quot;,
&quot;condbase&quot;, &quot;ghostagedbase&quot;, &quot;ghostcondbase&quot;, &quot;ghostlendbase&quot;, &quot;ladbase&quot;,
&quot;wadbase&quot;, &quot;mnwgt&quot;, &quot;discard&quot;, &quot;tagrelease&quot;, and &quot;tagdbase1&quot;.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_fleets">fleets</code></td>
<td>
<p>Either the string &quot;all&quot;, or a vector of numerical values, like
c(1,3), listing fleets or surveys to be included in the plot.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_fleetnames">fleetnames</code></td>
<td>
<p>A vector of alternative names to use in the plot. By
default the parameter names in the data file are used.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_ghost">ghost</code></td>
<td>
<p>TRUE/FALSE indicator for whether to show presence of
composition data from ghost fleets (data for which the fit is shown, but is
not included in the likelihood calculations).</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_margins">margins</code></td>
<td>
<p>margins of plot (passed to par() function), which may need to
be increased if fleet names run off right-hand margin</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_cex">cex</code></td>
<td>
<p>Character expansion for points showing isolated years of data</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_lwd">lwd</code></td>
<td>
<p>Line width for lines showing ranges of years of data</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_maxsize">maxsize</code></td>
<td>
<p>The size (cex) of the largest bubble in the datasize
plot. Default is 1.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_alphasize">alphasize</code></td>
<td>
<p>The transparency of the bubbles in the datasize
plot. Defaults to 1 (no transparency). Useful for models with lots of
overlapping points.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_maintitle">mainTitle</code></td>
<td>
<p>TRUE/FALSE switch to turn on/off the title on the plot.</p>
</td></tr>
<tr><td><code id="SSplotData_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Chantel Wetzel, Cole Monnahan
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>,
<code><a href="#topic+SS_readdat">SS_readdat()</a></code>
</p>

<hr>
<h2 id='SSplotDiscard'>Plot fit to discard fraction.</h2><span id='topic+SSplotDiscard'></span>

<h3>Description</h3>

<p>Plot fit to discard fraction from Stock Synthesis output file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotDiscard(
  replist,
  subplots = 1:2,
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  fleets = "all",
  fleetnames = "default",
  datplot = FALSE,
  labels = c("Year", "Discard fraction", "Total discards", "for"),
  yhi = 1,
  ymax = NULL,
  col1 = "blue",
  col2 = "black",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotDiscard_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_subplots">subplots</code></td>
<td>
<p>Vector of which plots to make (1 = data only, 2 = with fit).
If <code>plotdat = FALSE</code> then subplot 1 is not created, regardless of
choice of <code>subplots</code>.</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_fleets">fleets</code></td>
<td>
<p>Optional vector to subset fleets for which plots will be made</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Optional replacement for fleenames used in data file</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_datplot">datplot</code></td>
<td>
<p>Make data-only plot of discards? This can override the choice
of <code>subplots</code>.</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_labels">labels</code></td>
<td>
<p>Vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_yhi">yhi</code></td>
<td>
<p>Maximum y-value which will always be included in the plot
(all data included regardless). Default = 1 so that discard fractions are always
plotted on a 0-1 range, but total discard amounts which are greater than this value
will exceed it.</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_ymax">ymax</code></td>
<td>
<p>Optional maximum y-value to include (useful if upper tails on
discard amounts are very high)</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_col1">col1</code></td>
<td>
<p>First color to use in plot (for expected values)</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_col2">col2</code></td>
<td>
<p>Second color to use in plot (for observations and intervals)</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotDiscard_+3A_verbose">verbose</code></td>
<td>
<p>Report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Ian J. Stewart, Robbie L. Emmet
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>
</p>

<hr>
<h2 id='SSplotDynamicB0'>Plot Dynamic B0</h2><span id='topic+SSplotDynamicB0'></span>

<h3>Description</h3>

<p>Plots the spawning output with and without fishing mortality
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotDynamicB0(
  replist,
  ylab = "Spawning biomass (mt)",
  equilibrium = TRUE,
  forecast = FALSE,
  yrs = "all",
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  verbose = TRUE,
  uncertainty = TRUE,
  legend = TRUE,
  legendlabels = c("equilibrium", "without fishing", "with fishing"),
  legendloc = "bottom",
  col = c("blue", "red"),
  lty = 1,
  lwd = 2,
  add = FALSE,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  mainTitle = FALSE,
  mar = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotDynamicB0_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_ylab">ylab</code></td>
<td>
<p>Y-axis label. Default is &quot;Spawning biomass (mt)&quot; which is replaced
by &quot;Spawning output&quot; for models with <code>replist[["SpawnOutputUnits"]] == "numbers"</code></p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_equilibrium">equilibrium</code></td>
<td>
<p>Show equilibrium in plot? Applies whether &quot;yrs&quot; is specified
or not.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_forecast">forecast</code></td>
<td>
<p>Show forecast years in plot? Only applies if yrs = &quot;all&quot;.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_yrs">yrs</code></td>
<td>
<p>Which years to include. Default &quot;all&quot; will show startyr to endyr + 1
modified by the arguments <code>forecast</code>.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. By default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Show 95% uncertainty intervals around point estimates?
These intervals will only appear when uncertainty in the dynamic B0
estimates is available via the control file settings for
&quot;read specs for more stddev reporting&quot;.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_legend">legend</code></td>
<td>
<p>Add a legend?</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_legendlabels">legendlabels</code></td>
<td>
<p>Character vector with labels for the unfished
equilibrium point (if <code>equilibrium = TRUE</code>) and the two lines showing
spawning biomass or output without and with fishing.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend. Either a string like &quot;topleft&quot; or a
vector of two numeric values representing the fraction of the maximum in
the x and y dimensions, respectively. See <code>help("legend")</code> for more info on
the string options.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_col">col</code></td>
<td>
<p>Optional vector of colors to be used for the two lines
(single value will apply to both lines).</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_lty">lty</code></td>
<td>
<p>Optional vector of line types to be used for the two lines
(single value will apply to both lines).</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_lwd">lwd</code></td>
<td>
<p>Optional vector of line widths to be used for the two lines
(single value will apply to both lines).</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_add">add</code></td>
<td>
<p>add to existing plot</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top
(not yet implemented for all plots)</p>
</td></tr>
<tr><td><code id="SSplotDynamicB0_+3A_mar">mar</code></td>
<td>
<p>Either NULL to allow the default (which depends on whether the main title is included or not) or a numerical vector of the form c(bottom, left, top, right) which gives the number of lines of margin to be specified on the four sides of the plot, which is passed to <code>par()</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSplotTimeseries">SSplotTimeseries()</a></code>
</p>

<hr>
<h2 id='SSplotIndices'>Plot indices of abundance and associated quantities.</h2><span id='topic+SSplotIndices'></span>

<h3>Description</h3>

<p>Plot indices of abundance with or without model fit as well as other diagnostic
plots such as observed vs. expected index and plots related to time-varying
catchability (if present).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotIndices(
  replist,
  subplots = c(1:10, 12),
  plot = TRUE,
  print = FALSE,
  fleets = "all",
  fleetnames = "default",
  smooth = TRUE,
  add = FALSE,
  datplot = TRUE,
  labels = c("Year", "Index", "Observed index", "Expected index", "Log index",
    "Log observed index", "Log expected index", "Standardized index", "Catchability (Q)",
    "Time-varying catchability", "Vulnerable biomass",
    "Catchability vs. vulnerable biomass", "Residual", "Deviation"),
  fleetcols = NULL,
  col1 = "default",
  col2 = "default",
  col3 = "blue",
  col4 = "red",
  pch1 = 21,
  pch2 = 16,
  cex = 1,
  bg = "white",
  legend = TRUE,
  legendloc = "topright",
  seasnames = NULL,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  mainTitle = FALSE,
  plotdir = "default",
  minyr = NULL,
  maxyr = NULL,
  maximum_ymax_ratio = Inf,
  show_input_uncertainty = TRUE,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotIndices_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create
Numbering of subplots is as follows, where subplot 9 (comparison of all indices) is
provided first:
</p>

<ul>
<li><p> 1  index data by fleet
</p>
</li>
<li><p> 2  index data with fit by fleet
</p>
</li>
<li><p> 3  observed vs expected index values with smoother
</p>
</li>
<li><p> 4  index data by fleet on a log scale (lognormal error only)
</p>
</li>
<li><p> 5  index data with fit by fleet on a log scale (lognormal error only)
</p>
</li>
<li><p> 6  log(observed) vs log(expected) with smoother (lognormal error only)
</p>
</li>
<li><p> 7  time series of time-varying catchability (only if actually time-varying)
</p>
</li>
<li><p> 8  catchability vs. vulnerable biomass (if catchability is not constant)
</p>
</li>
<li><p> 9  comparison of all indices
</p>
</li>
<li><p> 10  index residuals based on total uncertainty
</p>
</li>
<li><p> 11  index residuals based on input uncertainty (not currently provided)
</p>
</li>
<li><p> 12  index deviations (independent of index uncertainty)
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_fleets">fleets</code></td>
<td>
<p>optional vector to subset fleets for which plots will be made</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_fleetnames">fleetnames</code></td>
<td>
<p>optional replacement for fleenames used in data file</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_smooth">smooth</code></td>
<td>
<p>add smoothed line to plots of observed vs. expected sample
sizes</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_add">add</code></td>
<td>
<p>add to existing plot (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_datplot">datplot</code></td>
<td>
<p>make plot of data only?</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_fleetcols">fleetcols</code></td>
<td>
<p>vector of colors for all fleets (including those
with no index data)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_col1">col1</code></td>
<td>
<p>vector of colors for points in each season for time series plot.
Default is red for single season models and a rainbow using the
rich.colors.short function for multiple seasons.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_col2">col2</code></td>
<td>
<p>vector of colors for points in each season for obs. vs. exp.
plot.  Default is blue for single season models and a rainbow using the
rich.colors.short function for multiple seasons.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_col3">col3</code></td>
<td>
<p>color of line showing expected index in time series plot.
Default is blue.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_col4">col4</code></td>
<td>
<p>color of smoother shown in obs. vs. exp. plots. Default is red.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_pch1">pch1</code></td>
<td>
<p>single value or vector of plotting characters (pch parameter)
for time-series plots of index fit. Default=21.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_pch2">pch2</code></td>
<td>
<p>single value or vector of plotting characters (pch parameter)
for sample size plots of index fit. Default=16.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_cex">cex</code></td>
<td>
<p>character expansion factor for points showing observed values.
Default=1.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_bg">bg</code></td>
<td>
<p>Background color for points with pch=21.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_legend">legend</code></td>
<td>
<p>add a legend to seasonal colors (only for seasonal models)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_legendloc">legendloc</code></td>
<td>
<p>add a legend to seasonal colors (default is &quot;topright&quot;)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_seasnames">seasnames</code></td>
<td>
<p>optional vector of names for each season to replace
defaults if a legend is used</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_maintitle">mainTitle</code></td>
<td>
<p>switch which allows the plot title to be left off</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_minyr">minyr</code></td>
<td>
<p>First year to show in plot (for zooming in on a subset of
values)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_maxyr">maxyr</code></td>
<td>
<p>Last year to show in plot (for zooming in on a subset of
values)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_maximum_ymax_ratio">maximum_ymax_ratio</code></td>
<td>
<p>Maximum allowed value for ymax (specified
as ratio of y), which overrides any
value of ymax that is greater (default = Inf)</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_show_input_uncertainty">show_input_uncertainty</code></td>
<td>
<p>Switch controlling whether to add thicker
uncertainty interval lines indicating the input uncertainty relative to
the total uncertainty which may result from estimating a parameter for
extra standard deviations. This is only added for the plots with index
fit included (the data-only plots only show the input uncertainty).</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
<tr><td><code id="SSplotIndices_+3A_...">...</code></td>
<td>
<p>Extra arguments to pass to calls to <code>plot</code></p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor, James Thorson
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotMCMC_ExtraSelex'>Plot uncertainty around chosen selectivity ogive from MCMC.</h2><span id='topic+SSplotMCMC_ExtraSelex'></span>

<h3>Description</h3>

<p>Plot uncertainty in selectivity from an MCMC output for whichever fleet/year
was chosen in the optional extra &quot;more stddev reporting&quot;
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotMCMC_ExtraSelex(
  post,
  add = FALSE,
  nsexes = 1,
  shift = 0,
  fleetname = "default",
  col = "blue"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotMCMC_ExtraSelex_+3A_post">post</code></td>
<td>
<p>A data frame containing either derived_posteriors.sso or a good
subset of it. This can be an element of the list created by the the
<code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code> function.</p>
</td></tr>
<tr><td><code id="SSplotMCMC_ExtraSelex_+3A_add">add</code></td>
<td>
<p>TRUE/FALSE option to add results to an existing plot.</p>
</td></tr>
<tr><td><code id="SSplotMCMC_ExtraSelex_+3A_nsexes">nsexes</code></td>
<td>
<p>Number of sexes in the model (should match model values but is
only used in the title).</p>
</td></tr>
<tr><td><code id="SSplotMCMC_ExtraSelex_+3A_shift">shift</code></td>
<td>
<p>Optional adjustment to the x values to avoid overlap of
intervals when overplotting on an existing plot.</p>
</td></tr>
<tr><td><code id="SSplotMCMC_ExtraSelex_+3A_fleetname">fleetname</code></td>
<td>
<p>Optional input to make the title better. Default will be
something like &quot;Fleet 1&quot;, using the numbering from the model.</p>
</td></tr>
<tr><td><code id="SSplotMCMC_ExtraSelex_+3A_col">col</code></td>
<td>
<p>Color for points and lines.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>

<hr>
<h2 id='SSplotMnwt'>Plot mean weight data and fits.</h2><span id='topic+SSplotMnwt'></span>

<h3>Description</h3>

<p>Plot mean weight data and fits from Stock Synthesis output. Intervals are
based on T-distributions as specified in model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotMnwt(
  replist,
  subplots = 1:2,
  ymax = NULL,
  plot = TRUE,
  print = FALSE,
  fleets = "all",
  fleetnames = "default",
  datplot = FALSE,
  labels = c("Year", "discard", "retained catch", "whole catch",
    "Mean individual body weight (kg)", "Mean weight in", "for"),
  col1 = "blue",
  col2 = "black",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  plotdir = "default",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotMnwt_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_subplots">subplots</code></td>
<td>
<p>Vector of which plots to make (1 = data only, 2 = with fit).
If <code>plotdat = FALSE</code> then subplot 1 is not created, regardless of
choice of <code>subplots</code>.</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_ymax">ymax</code></td>
<td>
<p>Optional input to override default ymax value.</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_fleets">fleets</code></td>
<td>
<p>optional vector to subset fleets for which plots will be made</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_fleetnames">fleetnames</code></td>
<td>
<p>optional replacement for fleenames used in data file</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_datplot">datplot</code></td>
<td>
<p>Make data-only plot of discards? This can override the choice
of <code>subplots</code>.</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_col1">col1</code></td>
<td>
<p>first color to use in plot (for expected values)</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_col2">col2</code></td>
<td>
<p>second color to use in plot (for observations and intervals)</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotMnwt_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Ian Stewart
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotMovementMap'>Show movement rates on a map.</h2><span id='topic+SSplotMovementMap'></span>

<h3>Description</h3>

<p>Make a map with colored spatial cells and add arrows representing movement
rates between cells.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotMovementMap(
  replist = NULL,
  xlim,
  ylim,
  polygonlist,
  colvec,
  land = "grey",
  xytable = NULL,
  moveage = 5,
  moveseas = 1,
  lwdscale = 5,
  legend = TRUE,
  title = NULL,
  areanames = NULL,
  cex = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotMovementMap_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_xlim">xlim</code></td>
<td>
<p>range of longitude values in the map</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_ylim">ylim</code></td>
<td>
<p>range of latitude values in the map</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_polygonlist">polygonlist</code></td>
<td>
<p>a list of data frames, each with two columns representing
the longitude and latitude values of the colored polygons. The order of
elements in the list should match the numbering of areas in the SS model.</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_colvec">colvec</code></td>
<td>
<p>vector of colors for each polygon (if <code>replist</code> is
provided)</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_land">land</code></td>
<td>
<p>color of landmasses in the map</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_xytable">xytable</code></td>
<td>
<p>data frame of latitude and longitude values which will be
connected by the arrows representing movement rates. The order should match
the order of areas in <code>polygonlist</code> and in the SS model. Not necessary
if no arrows are shown on the map.</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_moveage">moveage</code></td>
<td>
<p>age for which movement rates will be represented</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_moveseas">moveseas</code></td>
<td>
<p>season for which movement rates will be represented</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_lwdscale">lwdscale</code></td>
<td>
<p>scaling factor for arrows in the plot. The largest rate of
movement shown will be scaled to have a line width equal to this value.</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_legend">legend</code></td>
<td>
<p>add a legend to show the movement rate associated with the
widest arrows</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_title">title</code></td>
<td>
<p>optional title to be added above map</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_areanames">areanames</code></td>
<td>
<p>optional vector of names to be shown on map at coordinates
matching xytable values</p>
</td></tr>
<tr><td><code id="SSplotMovementMap_+3A_cex">cex</code></td>
<td>
<p>character expansion to apply to text shown by areanames (if used)</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Inspired by plots of MULTIFAN-CL movement patterns presented by Adam
Langley
</p>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SSplotMovementRates">SSplotMovementRates()</a></code>
</p>

<hr>
<h2 id='SSplotMovementRates'>Plot movement rates from model output</h2><span id='topic+SSplotMovementRates'></span>

<h3>Description</h3>

<p>Plots estimated movement rates in final year for each area/season with movement as
reported in Report.sso. If movement is time-varying, an additional figure shows
pattern across years (if the MGparm_By_Year_after_adjustments table (report:7)
is available in the Report.sso file)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotMovementRates(
  replist,
  plot = TRUE,
  print = FALSE,
  subplots = 1:2,
  plotdir = "default",
  colvec = "default",
  ylim = "default",
  legend = TRUE,
  legendloc = "topleft",
  moveseas = "all",
  min.move.age = 0.5,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotMovementRates_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_subplots">subplots</code></td>
<td>
<p>which subplots to create.</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_plotdir">plotdir</code></td>
<td>
<p>where to put the plots (uses model directory by default)</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_colvec">colvec</code></td>
<td>
<p>vector of colors for each movement rate in the plot</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_ylim">ylim</code></td>
<td>
<p>optional input for y range of the plot. By default plot ranges
from 0 to 10% above highest movement rate (not including fish staying in an
area).</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_legend">legend</code></td>
<td>
<p>add a legend designating which color goes with which pair of
areas?</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_legendloc">legendloc</code></td>
<td>
<p>location passed to legend function (if used)</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_moveseas">moveseas</code></td>
<td>
<p>choice of season for which movement rates are shown</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_min.move.age">min.move.age</code></td>
<td>
<p>Minimum age of movement (in future will come from Report file)</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion parameter for plot titles</p>
</td></tr>
<tr><td><code id="SSplotMovementRates_+3A_verbose">verbose</code></td>
<td>
<p>Print information on function progress.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SSplotMovementRates">SSplotMovementRates()</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
SSplotMovementRates(myreplist)

## End(Not run)

</code></pre>

<hr>
<h2 id='SSplotNumbers'>Plot numbers-at-age related data and fits.</h2><span id='topic+SSplotNumbers'></span>

<h3>Description</h3>

<p>Plot numbers-at-age related data and fits from Stock Synthesis output.
Plots include bubble plots, mean age, equilibrium age composition,
sex-ratio, and ageing imprecision patterns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotNumbers(
  replist,
  subplots = c(1:10),
  plot = TRUE,
  print = FALSE,
  numbers.unit = 1000,
  areas = "all",
  areanames = "default",
  areacols = "default",
  pntscalar = 2.6,
  bub.bg = gray(0.5, alpha = 0.5),
  bublegend = TRUE,
  period = c("B", "M"),
  meanlines = TRUE,
  add = FALSE,
  labels = c("Year", "Age", "True age (yr)", "SD of observed age (yr)",
    "Mean observed age (yr)", "Mean age (yr)", "mean age in the population",
    "Ageing imprecision", "Numbers at age at equilibrium",
    "Equilibrium age distribution", "Fraction female in numbers at age", "Length",
    "Mean length (cm)", "mean length (cm) in the population", "expected numbers at age",
    "Beginning of year", "Middle of year", "expected numbers at length",
    "Fraction female in numbers at length"),
  pwidth = 6.5,
  pheight = 6.5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  plotdir = "default",
  mainTitle = FALSE,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotNumbers_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create
Numbering of subplots is as follows,
</p>

<ul>
<li><p> 1: Expected numbers at age
</p>
</li>
<li><p> 2: Mean age in the population
</p>
</li>
<li><p> 3: Fraction female in numbers at age
</p>
</li>
<li><p> 4: Equilibrium age distribution
</p>
</li>
<li><p> 5: Ageing imprecision: SD of observed age (plot using image() formerly
included in this group but now replaced by better distribution plots)
</p>
</li>
<li><p> 6: Expected numbers at length
</p>
</li>
<li><p> 7: Mean length in the population
</p>
</li>
<li><p> 8: Fraction female in numbers at length
</p>
</li>
<li><p> 9: no plot yet
</p>
</li>
<li><p> 10: Distribution of observed age at true age by ageing error type
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_numbers.unit">numbers.unit</code></td>
<td>
<p>Units for numbers. Default (based on typical Stock Synthesis
setup) is thousands (numbers.unit=1000).</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_areas">areas</code></td>
<td>
<p>optional subset of areas to plot for spatial models</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_areanames">areanames</code></td>
<td>
<p>names for areas. Default is to use Area1, Area2,...</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_areacols">areacols</code></td>
<td>
<p>vector of colors by area</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_pntscalar">pntscalar</code></td>
<td>
<p>maximum bubble size for bubble plots; each plot scaled
independently based on this maximum size and the values plotted. Often some
plots look better with one value and others with a larger or smaller value.
Default=2.6</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_bub.bg">bub.bg</code></td>
<td>
<p>background color for bubbles
(no control over black border at this time)</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_bublegend">bublegend</code></td>
<td>
<p>Add legend with example bubble sizes?</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_period">period</code></td>
<td>
<p>indicator of whether to make plots using numbers at age just
from the beginning (&quot;B&quot;) or middle of the year (&quot;M&quot;) (new option starting
with SSv3.11)</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_meanlines">meanlines</code></td>
<td>
<p>add lines for mean age or length on top of bubble plots</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_add">add</code></td>
<td>
<p>add to existing plot? (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top</p>
</td></tr>
<tr><td><code id="SSplotNumbers_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SS_plots">SS_plots()</a></code>
</p>

<hr>
<h2 id='SSplotPars'>Plot distributions of priors, posteriors, and estimates.</h2><span id='topic+SSplotPars'></span>

<h3>Description</h3>

<p>Make multi-figure plots of prior, posterior, and estimated asymptotic
parameter distributions. MCMC not required to make function work.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotPars(
  replist,
  plotdir = NULL,
  xlab = "Parameter value",
  ylab = "Density",
  showmle = TRUE,
  showpost = TRUE,
  showprior = TRUE,
  showinit = TRUE,
  showdev = FALSE,
  showlegend = TRUE,
  fitrange = FALSE,
  xaxs = "i",
  xlim = NULL,
  ylim = NULL,
  verbose = TRUE,
  debug = FALSE,
  nrows = 4,
  ncols = 2,
  ltyvec = c(1, 1, 3, 4),
  colvec = c("blue", "red", "black", "gray60", rgb(0, 0, 0, 0.5)),
  add = FALSE,
  plot = TRUE,
  print = FALSE,
  pwidth = 6.5,
  pheight = 6.5,
  punits = "in",
  ptsize = 10,
  res = 300,
  strings = NULL,
  exact = FALSE,
  newheaders = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotPars_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_plotdir">plotdir</code></td>
<td>
<p>A path to the folder where the plots will be saved. The default
is <code>NULL</code>, which leads to the plots being created in the folder that
contains the results.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_xlab">xlab</code></td>
<td>
<p>Label on horizontal axis.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_ylab">ylab</code></td>
<td>
<p>Label on vertical axis.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_showmle">showmle</code></td>
<td>
<p>Show MLE estimate and asymptotic variance estimate with blue
lines?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_showpost">showpost</code></td>
<td>
<p>Show posterior distribution as bar graph if MCMC results
are available in <code>replist</code>?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_showprior">showprior</code></td>
<td>
<p>Show prior distribution as black line?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_showinit">showinit</code></td>
<td>
<p>Show initial value as red triangle?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_showdev">showdev</code></td>
<td>
<p>Include devs in the plot?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_showlegend">showlegend</code></td>
<td>
<p>Show the legend?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_fitrange">fitrange</code></td>
<td>
<p>Fit range tightly around MLE &amp; posterior distributions,
instead of full parameter range?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_xaxs">xaxs</code></td>
<td>
<p>Parameter input for x-axis. See <code>?par</code> for more info.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_xlim">xlim</code></td>
<td>
<p>Optional x-axis limits to be applied to all plots.
Otherwise, limits are based on the model results.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_ylim">ylim</code></td>
<td>
<p>Optional y-axis limits to be applied to all plots.
Otherwise, limits are based on the model results.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_verbose">verbose</code></td>
<td>
<p>Controls amount of text output (maybe).</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_debug">debug</code></td>
<td>
<p>Provide additional messages to help with debugging when the
function fails.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_nrows">nrows</code></td>
<td>
<p>How many rows in multi-figure plot.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_ncols">ncols</code></td>
<td>
<p>How many columns in multi-figure plot.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_ltyvec">ltyvec</code></td>
<td>
<p>Vector of line types used for lines showing MLE and prior
distributions and the median of the posterior distribution.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_colvec">colvec</code></td>
<td>
<p>Vector of colors used for lines and polygons showing MLE,
initial value, prior, posterior, and median of the posterior.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_add">add</code></td>
<td>
<p>Add to existing plot?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. Default=7.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_pheight">pheight</code></td>
<td>
<p>Default height width of plots printed to files in units of
<code>punits</code>. Default=7.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; or &quot;mm&quot;. Default=&quot;in&quot;.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
help(&quot;png&quot;) in R for details). Default=12.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_strings">strings</code></td>
<td>
<p>Subset parameters included in the plot using substring from
parameter names (i.e. &quot;SR&quot; will get &quot;SR_LN(R0)&quot; and &quot;SR_steep&quot; if they are both
estimated quantities in this model).</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_exact">exact</code></td>
<td>
<p>Should strings input match parameter names exactly?  Otherwise
substrings are allowed.</p>
</td></tr>
<tr><td><code id="SSplotPars_+3A_newheaders">newheaders</code></td>
<td>
<p>Optional vector of headers for each panel to replace the
parameter names.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian G. Taylor, Cole C. Monnahan
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# read model results
model &lt;- SS_output(dir = "c:/SS/Simple/")
# make default plots where parameter distribution plots will appear
# in the "pars" tab
SS_plots(model)

# create just the "pars" tab with control of the inputs that are
# passed to SSplotPars
SS_plots(model,
  plot = 25, showmle = TRUE, showpost = TRUE,
  showprior = TRUE, showinit = TRUE, showdev = FALSE, fitrange = FALSE
)

# call SSplotPars directly
SSplotPars(replist = model)

# Create plot in custom location. Note that strings can be partial match.
# File name will be "parameter_distributions.png"
# or "parameter_distributions_pageX.png" when they don't all fit on one page
SSplotPars(
  replist = model, strings = c("steep", "R0"),
  nrows = 2, ncols = 1, plot = FALSE, print = TRUE,
  plotdir = file.path(model[["inputs"]][["dir"]], "distribution_plots")
)

## End(Not run)

</code></pre>

<hr>
<h2 id='SSplotProfile'>Plot likelihood profile results</h2><span id='topic+SSplotProfile'></span>

<h3>Description</h3>

<p>Makes a plot of change in negative-log-likelihood for each likelihood
component that contributes more than some minimum fraction of change in
total.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotProfile(
  summaryoutput,
  plot = TRUE,
  print = FALSE,
  models = "all",
  profile.string = "steep",
  profile.label = "Spawner-recruit steepness (h)",
  exact = FALSE,
  ylab = "Change in -log-likelihood",
  components = c("TOTAL", "Catch", "Equil_catch", "Survey", "Discard", "Mean_body_wt",
    "Length_comp", "Age_comp", "Size_at_age", "SizeFreq", "Morphcomp", "Tag_comp",
    "Tag_negbin", "Recruitment", "InitEQ_Regime", "Forecast_Recruitment", "Parm_priors",
    "Parm_softbounds", "Parm_devs", "F_Ballpark", "Crash_Pen"),
  component.labels = c("Total", "Catch", "Equilibrium catch", "Index data", "Discard",
    "Mean body weight", "Length data", "Age data", "Size-at-age data",
    "Generalized size data", "Morph composition data", "Tag recapture distribution",
    "Tag recapture total", "Recruitment", "Initital equilibrium recruitment",
    "Forecast recruitment", "Priors", "Soft bounds", "Parameter deviations",
    "F Ballpark", "Crash penalty"),
  minfraction = 0.01,
  sort.by.max.change = TRUE,
  col = "default",
  pch = "default",
  lty = 1,
  lty.total = 1,
  lwd = 2,
  lwd.total = 3,
  cex = 1,
  cex.total = 1.5,
  xlim = "default",
  ymax = "default",
  xaxs = "r",
  yaxs = "r",
  type = "o",
  legend = TRUE,
  legendloc = "topright",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  plotdir = NULL,
  add_cutoff = FALSE,
  cutoff_prob = 0.95,
  verbose = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotProfile_+3A_summaryoutput">summaryoutput</code></td>
<td>
<p>List created by the function <code><a href="#topic+SSsummarize">SSsummarize()</a></code>.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_models">models</code></td>
<td>
<p>Optional subset of the models described in
<code>summaryoutput</code>.  Either &quot;all&quot; or a vector of numbers indicating
columns in summary tables.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_profile.string">profile.string</code></td>
<td>
<p>Character string used to find parameter over which the
profile was conducted. If <code>exact=FALSE</code>, this can be a substring of
one of the SS parameter labels found in the Report.sso file.
For instance, the default input 'steep'
matches the parameter 'SR_BH_steep'. If <code>exact=TRUE</code>, then
profile.string needs to be an exact match to the parameter label.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_profile.label">profile.label</code></td>
<td>
<p>Label for x-axis describing the parameter over which
the profile was conducted.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_exact">exact</code></td>
<td>
<p>Should the <code>profile.string</code> have to match the parameter
label exactly, or is a substring OK.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_ylab">ylab</code></td>
<td>
<p>Label for y-axis. Default is &quot;Change in -log-likelihood&quot;.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_components">components</code></td>
<td>
<p>Vector of likelihood components that may be included in
plot. List is further refined by any components that are not present in
model or have little change over range of profile (based on limit
<code>minfraction</code>). Hopefully this doesn't need to be changed.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_component.labels">component.labels</code></td>
<td>
<p>Vector of labels for use in the legend that matches
the vector in <code>components</code>.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_minfraction">minfraction</code></td>
<td>
<p>Minimum change in likelihood (over range considered) as a
fraction of change in total likelihood for a component to be included in the
figure.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_sort.by.max.change">sort.by.max.change</code></td>
<td>
<p>Switch giving option to sort components in legend
in order of maximum amount of change in likelihood (over range considered).
Default=TRUE.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_col">col</code></td>
<td>
<p>Optional vector of colors for each line.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_pch">pch</code></td>
<td>
<p>Optional vector of plot characters for the points.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_lty">lty</code></td>
<td>
<p>Line total for the likelihood components.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_lty.total">lty.total</code></td>
<td>
<p>Line type for the total likelihood.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_lwd">lwd</code></td>
<td>
<p>Line width for the likelihood components.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_lwd.total">lwd.total</code></td>
<td>
<p>Line width for the total likelihood.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_cex">cex</code></td>
<td>
<p>Character expansion for the points representing the likelihood
components.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_cex.total">cex.total</code></td>
<td>
<p>Character expansion for the points representing the total
likelihood.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_xlim">xlim</code></td>
<td>
<p>Range for x-axis. Change in likelihood is calculated relative to
values within this range.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_ymax">ymax</code></td>
<td>
<p>Maximum y-value. Default is 10% greater than largest value
plotted.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_xaxs">xaxs</code></td>
<td>
<p>The style of axis interval calculation to be used for the x-axis
(see ?par for more info)</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_yaxs">yaxs</code></td>
<td>
<p>The style of axis interval calculation to be used for the y-axis
(see ?par for more info).</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_type">type</code></td>
<td>
<p>Line type (see ?plot for more info).</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_legend">legend</code></td>
<td>
<p>Include legend?</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_legendloc">legendloc</code></td>
<td>
<p>Location of legend (see ?legend for more info).</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_add_cutoff">add_cutoff</code></td>
<td>
<p>Add dashed line at ~1.92 to indicate 95% confidence interval
based on common cutoff of half of chi-squared of p=.95 with 1 degree of
freedom: <code>0.5*qchisq(p=cutoff_prob, df=1)</code>. The probability value
can be adjusted using the <code>cutoff_prob</code> below.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_cutoff_prob">cutoff_prob</code></td>
<td>
<p>Probability associated with <code>add_cutoff</code> above.</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_verbose">verbose</code></td>
<td>
<p>Return updates of function progress to the R GUI? (Doesn't do
anything yet.)</p>
</td></tr>
<tr><td><code id="SSplotProfile_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to the <code>plot</code> command.</p>
</td></tr>
</table>


<h3>Note</h3>

<p>Someday the function <code><a href="#topic+SS_profile">SS_profile()</a></code> will be improved and
made to work directly with this plotting function, but they don't yet work
well together. Thus, even if <code><a href="#topic+SS_profile">SS_profile()</a></code> is used, the output
should be read using <code><a href="#topic+SSgetoutput">SSgetoutput()</a></code> or by multiple calls to
<code><a href="#topic+SS_output">SS_output()</a></code>.
</p>


<h3>Author(s)</h3>

<p>Ian Taylor, Ian Stewart
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSsummarize">SSsummarize()</a></code>, <code><a href="#topic+SS_profile">SS_profile()</a></code>,
<code><a href="#topic+SS_output">SS_output()</a></code>, <code><a href="#topic+SSgetoutput">SSgetoutput()</a></code>
</p>

<hr>
<h2 id='SSplotRecdevs'>Plot recruitment deviations</h2><span id='topic+SSplotRecdevs'></span>

<h3>Description</h3>

<p>Plot recruitment deviations and associated quantities including derived
measures related to bias adjustment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotRecdevs(
  replist,
  subplots = 1:3,
  plot = TRUE,
  print = FALSE,
  add = FALSE,
  uncertainty = TRUE,
  minyr = -Inf,
  maxyr = Inf,
  forecastplot = FALSE,
  col1 = "black",
  col2 = "blue",
  col3 = "green3",
  col4 = "red",
  legendloc = "topleft",
  labels = c("Year", "Asymptotic standard error estimate", "Log recruitment deviation",
    "Bias adjustment fraction, 1 - stddev^2 / sigmaR^2"),
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  plotdir = "default",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotRecdevs_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_add">add</code></td>
<td>
<p>add to existing plot (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_uncertainty">uncertainty</code></td>
<td>
<p>include plots showing uncertainty?</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_minyr">minyr</code></td>
<td>
<p>optional input for minimum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_maxyr">maxyr</code></td>
<td>
<p>optional input for maximum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_forecastplot">forecastplot</code></td>
<td>
<p>include points from forecast years?</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_col1">col1</code></td>
<td>
<p>first color used</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_col2">col2</code></td>
<td>
<p>second color used</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_col3">col3</code></td>
<td>
<p>third color used</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_col4">col4</code></td>
<td>
<p>fourth color used</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_legendloc">legendloc</code></td>
<td>
<p>location of legend. see ?legend for more info</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotRecdevs_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Ian Stewart
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_fitbiasramp">SS_fitbiasramp()</a></code>
</p>

<hr>
<h2 id='SSplotRecdist'>Plot of recruitment distribution among areas and seasons</h2><span id='topic+SSplotRecdist'></span>

<h3>Description</h3>

<p>Image plot shows fraction of recruitment in each combination of area and
season. This is based on the RECRUITMENT_DIST section of the Report.sso
file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotRecdist(
  replist,
  plot = TRUE,
  print = FALSE,
  areanames = NULL,
  seasnames = NULL,
  xlab = "",
  ylab = "",
  main = "Distribution of recruitment by area and season",
  plotdir = "default",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotRecdist_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_areanames">areanames</code></td>
<td>
<p>optional vector to replace c(&quot;Area1&quot;,&quot;Area2&quot;,...)</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_seasnames">seasnames</code></td>
<td>
<p>optional vector to replace c(&quot;Season1&quot;,&quot;Season2&quot;,...)</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_xlab">xlab</code></td>
<td>
<p>optional x-axis label (if the area names aren\'t informative
enough)</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_ylab">ylab</code></td>
<td>
<p>optional y-axis label (if the season names aren\'t informative
enough)</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_main">main</code></td>
<td>
<p>title for plot</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotRecdist_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SSplotRecdevs">SSplotRecdevs()</a></code>
</p>

<hr>
<h2 id='SSplotRetroRecruits'>Make squid plot of retrospectives of recruitment deviations.</h2><span id='topic+SSplotRetroRecruits'></span>

<h3>Description</h3>

<p>Inspired by Jim Ianelli and named by Sean Cox, the squid plot is a way to
examine retrospective patterns in estimation of recruitment deviations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotRetroRecruits(
  retroSummary,
  endyrvec,
  cohorts,
  ylim = NULL,
  uncertainty = FALSE,
  labels = c("Recruitment deviation", "Recruitment (billions)",
    "relative to recent estimate", "Age"),
  main = "Retrospective analysis of recruitment deviations",
  mcmcVec = FALSE,
  devs = TRUE,
  relative = FALSE,
  labelyears = TRUE,
  legend = FALSE,
  leg.ncols = 4
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotRetroRecruits_+3A_retrosummary">retroSummary</code></td>
<td>
<p>List object created by <code><a href="#topic+SSsummarize">SSsummarize()</a></code> that
summarizes the results of a set of retrospective analysis models.ss</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_endyrvec">endyrvec</code></td>
<td>
<p>Vector of years representing the final year of values to
show for each model.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_cohorts">cohorts</code></td>
<td>
<p>Which cohorts to show in plot.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_ylim">ylim</code></td>
<td>
<p>Limits of y-axis.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Show uncertainty intervals around lines? (This can get a
bit busy.)</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_labels">labels</code></td>
<td>
<p>Vector of plot labels.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_main">main</code></td>
<td>
<p>Title for plot.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_mcmcvec">mcmcVec</code></td>
<td>
<p>Either vector of TRUE/FALSE values indicating which models
use MCMC.  Or single value applied to all models.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_devs">devs</code></td>
<td>
<p>Plot deviations instead of absolute recruitment values?</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_relative">relative</code></td>
<td>
<p>Show deviations relative to most recent estimate or relative
to 0.</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_labelyears">labelyears</code></td>
<td>
<p>Label cohorts with text at the end of each line?</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_legend">legend</code></td>
<td>
<p>Add a legend showing which color goes with which line (as
alternative to <code>labelyears</code>).</p>
</td></tr>
<tr><td><code id="SSplotRetroRecruits_+3A_leg.ncols">leg.ncols</code></td>
<td>
<p>Number of columns for the legend.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>References</h3>

<p>Ianelli et al. (2011) Assessment of the walleye pollock stock in
the Eastern Bering Sea.
(Figure 1.31, which is on an absolute, rather than log scale.)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSsummarize">SSsummarize()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# run retrospective analysis
SS_doRetro(olddir = "2013hake_12", years = 0:-10)
# read in output
retroModels &lt;- SSgetoutput(dirvec = paste("retrospectives/retro", -10:0, sep = ""))
# summarize output
retroSummary &lt;- SSsummarize(retroModels)

# set the ending year of each model in the set
endyrvec &lt;- retroModels[[1]][["endyr"]] - 10:0
# make comparison plot
pdf("retrospectives/retrospective_comparison_plots.pdf")
SSplotComparisons(retroSummary, endyrvec = endyrvec, new = FALSE)
dev.off()

# make Squid Plot of recdev retrospectives
pdf("retrospectives/retrospective_dev_plots.pdf", width = 7, height = 10)
par(mfrow = c(2, 1))
# first scaled relative to most recent estimate
SSplotRetroRecruits(retroSummary,
  endyrvec = endyrvec, cohorts = 1999:2012,
  relative = TRUE, legend = FALSE
)
# second without scaling
SSplotRetroDevs(retroSummary,
  endyrvec = endyrvec, cohorts = 1999:2012,
  relative = FALSE, legend = FALSE
)
dev.off()

## End(Not run)

</code></pre>

<hr>
<h2 id='SSplotSelex'>Plot selectivity</h2><span id='topic+SSplotSelex'></span>

<h3>Description</h3>

<p>Plot selectivity, including retention and other quantities, with additional
plots for time-varying selectivity.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotSelex(
  replist,
  infotable = NULL,
  fleets = "all",
  fleetnames = "default",
  sizefactors = c("Lsel"),
  agefactors = c("Asel", "Asel2"),
  years = "endyr",
  minyr = -Inf,
  maxyr = Inf,
  season = 1,
  sexes = "all",
  selexlines = 1:6,
  subplot = 1:25,
  skipAgeSelex10 = TRUE,
  plot = TRUE,
  print = FALSE,
  add = FALSE,
  labels = c("Length (cm)", "Age (yr)", "Year", "Selectivity", "Retention",
    "Discard mortality"),
  col1 = "red",
  col2 = "blue",
  lwd = 2,
  spacepoints = 5,
  staggerpoints = 1,
  legendloc = "bottomright",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  mainTitle = TRUE,
  showmain = lifecycle::deprecated(),
  mar = NULL,
  plotdir = "default",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotSelex_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_infotable">infotable</code></td>
<td>
<p>Optional table of information controlling appearance of
plot and legend. Is produced as output and can be modified and entered as
input.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_fleets">fleets</code></td>
<td>
<p>Optional vector to subset fleets for which to make plots</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Optional replacement for fleenames used in data file</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_sizefactors">sizefactors</code></td>
<td>
<p>Which elements of the factors column of SIZE_SELEX should
be included in plot of selectivity across multiple fleets?</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_agefactors">agefactors</code></td>
<td>
<p>Which elements of the factors column of AGE_SELEX should
be included in plot of selectivity across multiple fleets?</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_years">years</code></td>
<td>
<p>Which years for selectivity are shown in multi-line plot
(default = last year of model).</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_minyr">minyr</code></td>
<td>
<p>optional input for minimum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_maxyr">maxyr</code></td>
<td>
<p>optional input for maximum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_season">season</code></td>
<td>
<p>Which season (if seasonal model) for selectivity shown in
multi-line plot (default = 1).</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_sexes">sexes</code></td>
<td>
<p>Optional vector to subset genders for which to make plots
(1=females, 2=males)</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_selexlines">selexlines</code></td>
<td>
<p>Vector to select which lines get plotted. values are 1.
Selectivity, 2. Retention, 3. Discard mortality, 4. Keep.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_subplot">subplot</code></td>
<td>
<p>Vector controlling which subplots to create.
Numbering of subplots is as follows,
</p>
<p><em>Plots with all fleets grouped together</em>
</p>

<ul>
<li><p> 1 selectivity at length in end year for all fleets shown together
</p>
</li>
<li><p> 2 selectivity at age in end year for all fleets shown together
(this includes both age-based selectivity &quot;Asel&quot; and age values derived
from length-based, &quot;Asel2&quot;. You can choose only one using
&quot;agefactors&quot; if needed.)
</p>
</li></ul>

<p><em>Plots of time-varying length-based selectivity</em>
</p>

<ul>
<li><p> 3 selectivity at length time-varying surface
</p>
</li>
<li><p> 4 selectivity at length time-varying contour
</p>
</li>
<li><p> 5 retention at length time-varying surface
</p>
</li>
<li><p> 6 retention at length time-varying surface
</p>
</li>
<li><p> 7 discard mortality time-varying surface
</p>
</li>
<li><p> 8 discard mortality time-varying contour
</p>
</li></ul>

<p><em>Selectivity at length in end year by fleet</em>
</p>

<ul>
<li><p> 9 selectivity, retention, and discard mortality at length in ending year
</p>
</li></ul>

<p><em>Plots of time-varying age-based selectivity</em>
</p>

<ul>
<li><p> 11 selectivity at age time-varying surface
</p>
</li>
<li><p> 12 selectivity at age time-varying contour
</p>
</li></ul>

<p><em>Selectivity at age in end year by fleet</em>
</p>

<ul>
<li><p> 13 selectivity at age in ending year if time-varying
</p>
</li>
<li><p> 14 selectivity at age in ending year if NOT time-varying
</p>
</li>
<li><p> 15 matrix of selectivity deviations for semi-parametric selectivity
</p>
</li></ul>

<p><em>Selectivity for both/either age or length</em>
</p>

<ul>
<li><p> 21 selectivity at age and length contour with overlaid growth curve
</p>
</li>
<li><p> 22 selectivity with uncertainty if requested at end of control file
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_skipageselex10">skipAgeSelex10</code></td>
<td>
<p>Exclude plots for age selectivity type 10 (selectivity
= 1.0 for all ages beginning at age 1)?</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_add">add</code></td>
<td>
<p>Add to existing plot (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_col1">col1</code></td>
<td>
<p>color for female growth curve</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_col2">col2</code></td>
<td>
<p>color for male growth curve</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_lwd">lwd</code></td>
<td>
<p>Line widths for plots</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_spacepoints">spacepoints</code></td>
<td>
<p>number of years between points shown on top of lines (for
long timeseries, points every year get mashed together)</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_staggerpoints">staggerpoints</code></td>
<td>
<p>number of years to stagger the first point (if
<code>spacepoints &gt; 1</code>) for each line (so that adjacent lines have points in
different years)</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_legendloc">legendloc</code></td>
<td>
<p>location of legend. See ?legend for more info.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top
(not yet implemented for all plots)</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_showmain">showmain</code></td>
<td>
<p>Deprecated, use mainTitle instead.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_mar">mar</code></td>
<td>
<p>Either NULL to allow the default (which depends on whether the main title is included or not) or a numerical vector of the form c(bottom, left, top, right) which gives the number of lines of margin to be specified on the four sides of the plot, which is passed to <code>par()</code>.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. By default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotSelex_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotSexRatio'>Plot sex-ratio data and fits for two sex models</h2><span id='topic+SSplotSexRatio'></span>

<h3>Description</h3>

<p>Plot sex-ratio data and fits from Stock Synthesis output.  Multi-figure
plots depend on <code>make_multifig</code>. The confidence intervals around the
observed points are based on a Jeffreys interval calculated from
the adjusted input sample size (with a floor of 1).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotSexRatio(
  replist,
  kind = "AGE",
  sexratio.option = 2,
  CI = 0.75,
  plot = TRUE,
  print = FALSE,
  fleets = "all",
  fleetnames = "default",
  yupper = 4,
  datonly = FALSE,
  linescol = rgb(0.6, 0, 0.9, 0.7),
  lwd = 2,
  showsampsize = TRUE,
  showeffN = TRUE,
  axis1 = NULL,
  axis2 = NULL,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  ptsize = 10,
  res = 300,
  plotdir = "default",
  cex.main = 1,
  labels = c("Length (cm)", "Age (yr)", "Sex ratio (females:males)", "Fraction female"),
  maxrows = 6,
  maxcols = 6,
  rows = 1,
  cols = 1,
  fixdims = TRUE,
  verbose = TRUE,
  mainTitle = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotSexRatio_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_kind">kind</code></td>
<td>
<p>indicator of type of plot can be &quot;LEN&quot;, &quot;SIZE&quot;, &quot;AGE&quot;, &quot;cond&quot;,
&quot;GSTAGE&quot;, &quot;L@A&quot;, or &quot;W@A&quot;.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_sexratio.option">sexratio.option</code></td>
<td>
<p>code to choose among (1) female:male ratio or
(2) fraction females out of the total</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_ci">CI</code></td>
<td>
<p>confidence interval for uncertainty</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_fleets">fleets</code></td>
<td>
<p>optional vector to subset fleets for which plots will be made</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_fleetnames">fleetnames</code></td>
<td>
<p>optional vector of fleet names to put in the labels</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_yupper">yupper</code></td>
<td>
<p>upper limit on ymax (only applies for sexratio.option == 1)</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_datonly">datonly</code></td>
<td>
<p>make plots of data without fits?</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_linescol">linescol</code></td>
<td>
<p>Color for line showing expected value (default is purple).</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_lwd">lwd</code></td>
<td>
<p>line width</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_showsampsize">showsampsize</code></td>
<td>
<p>add sample sizes to plot</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_showeffn">showeffN</code></td>
<td>
<p>add effective sample sizes to plot</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_axis1">axis1</code></td>
<td>
<p>position of bottom axis values</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_axis2">axis2</code></td>
<td>
<p>position of left size axis values</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_pwidth">pwidth</code></td>
<td>
<p>default width of plots printed to files in units of
<code>punits</code>. Default=7.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_pheight">pheight</code></td>
<td>
<p>default height width of plots printed to files in units of
<code>punits</code>. Default=7.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_punits">punits</code></td>
<td>
<p>units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; or &quot;mm&quot;. Default=&quot;in&quot;.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for plotted text in plots printed to files (see
help(&quot;png&quot;) in R for details). Default=12.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion parameter for plot titles</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_maxrows">maxrows</code></td>
<td>
<p>maximum (or fixed) number or rows of panels in the plot</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_maxcols">maxcols</code></td>
<td>
<p>maximum (or fixed) number or columns of panels in the plot
plots</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_rows">rows</code></td>
<td>
<p>number or rows to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_cols">cols</code></td>
<td>
<p>number or cols to return to as default for next plots to come or
for single plots</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_fixdims">fixdims</code></td>
<td>
<p>fix the dimensions at maxrows by maxcols or resize based on
number of years of data</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_verbose">verbose</code></td>
<td>
<p>return updates of function progress to the R GUI?</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title for the plot should be produced</p>
</td></tr>
<tr><td><code id="SSplotSexRatio_+3A_...">...</code></td>
<td>
<p>additional arguments that will be passed to the plotting.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Cole Monnahan, Ian Taylor
</p>


<h3>References</h3>

<p>Brown, L.; Cai, T. Tony; DasGupta, A. (2001).
Interval Estimation for a Binomial Proportion. Statistical Science.
16(2): 101-133. http://www.jstor.org/stable/2676784.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+make_multifig_sexratio">make_multifig_sexratio()</a></code>
</p>

<hr>
<h2 id='SSplotSpawnrecruit'>Plot spawner-recruit curve.</h2><span id='topic+SSplotSpawnrecruit'></span>

<h3>Description</h3>

<p>Plot spawner-recruit curve based on output from Stock Synthesis model.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotSpawnrecruit(
  replist,
  subplot = 1:3,
  add = FALSE,
  plot = TRUE,
  print = FALSE,
  xlim = NULL,
  ylim = NULL,
  labels = c("Spawning biomass (mt)", "Recruitment (1,000s)", "Spawning output",
    expression(paste("Spawning output (relative to ", italic(B)[0], ")")),
    expression(paste("Recruitment (relative to  ", italic(R)[0], ")")),
    "Log recruitment deviation"),
  bioscale = "default",
  plotdir = "default",
  pwidth = 6.5,
  pheight = 6.5,
  punits = "in",
  res = 300,
  ptsize = 10,
  verbose = TRUE,
  colvec = c("blue", "black", "black", gray(0, 0.7)),
  ltyvec = c(1, 2, 1, NA),
  ptcol = "default",
  legend = TRUE,
  legendloc = NULL,
  minyr = "default",
  textmindev = 0.5,
  relative = FALSE,
  expected = TRUE,
  estimated = TRUE,
  bias_adjusted = TRUE,
  show_env = TRUE,
  virg = TRUE,
  init = TRUE,
  forecast = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotSpawnrecruit_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_subplot">subplot</code></td>
<td>
<p>vector of which subplots to show.  1=plot without labels,
2=plot with year labels.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_add">add</code></td>
<td>
<p>add to existing plot?</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_xlim">xlim</code></td>
<td>
<p>optional control of x range</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_ylim">ylim</code></td>
<td>
<p>optional control of y range</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_labels">labels</code></td>
<td>
<p>vector containing x-axis label for models with spawning biomass
in metric tons, y-axis label, and alternative x-axis for models with a fecundity
relationship making spawning output not equal to spawning biomass.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_bioscale">bioscale</code></td>
<td>
<p>multiplier on spawning biomass, set to 0.5 for single-sex
models</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_colvec">colvec</code></td>
<td>
<p>vector of length 4 with colors for 3 lines and 1 set of points
(where the 4th value for the points is the color of the circle around the
background color provided by <code>ptcol</code></p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_ltyvec">ltyvec</code></td>
<td>
<p>vector of length 4 with line types for the 3 lines and 1 set
of points, where the points are disconnected (lty=NA) by default</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_ptcol">ptcol</code></td>
<td>
<p>vector or single value for the color of the points, &quot;default&quot;
will by replaced by a vector of colors of length equal to
<code>nrow(replist[["recruit"]])</code></p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_legend">legend</code></td>
<td>
<p>add a legend to the figure?</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_legendloc">legendloc</code></td>
<td>
<p>location of legend. By default it is chosen as the first
value in the set of &quot;topleft&quot;, &quot;topright&quot;, &quot;bottomright&quot; that results in no
overlap with the points in the plot, but the user can override this with their
choice of location. See ?legend for more info on the options.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_minyr">minyr</code></td>
<td>
<p>minimum year of recruitment deviation to show in plot</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_textmindev">textmindev</code></td>
<td>
<p>minimum recruitment deviation for label to be added so
only extreme devs are labeled (labels are added to first and last years as
well).  Default=0.7.</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_relative">relative</code></td>
<td>
<p>scale both axes so that B0 and R0 are at 1
to show spawning output and recruitment relative to the equilibrium</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_expected">expected</code></td>
<td>
<p>show line for expected recruitment (stock-recruit curve)</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_estimated">estimated</code></td>
<td>
<p>show points for estimated recruitment values
(including deviations)</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_bias_adjusted">bias_adjusted</code></td>
<td>
<p>show lines for bias adjusted expected recruitment</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_show_env">show_env</code></td>
<td>
<p>add line for expected recruitment with environmental
variability</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_virg">virg</code></td>
<td>
<p>add point for equilibrium conditions (x=B0,y=R0)</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_init">init</code></td>
<td>
<p>add point for initial conditions (x=B1,y=R1), only appears
if this point differs from virgin values</p>
</td></tr>
<tr><td><code id="SSplotSpawnrecruit_+3A_forecast">forecast</code></td>
<td>
<p>include forecast years in the curve?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotSPR'>Plot Spawning Potential Ratio (SPR) quantities.</h2><span id='topic+SSplotSPR'></span>

<h3>Description</h3>

<p>Plot time series of SPR, 1-SPR, the chosen SPR ratio and the phase plot.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotSPR(
  replist,
  add = FALSE,
  plot = TRUE,
  print = FALSE,
  uncertainty = TRUE,
  subplots = 1:4,
  forecastplot = FALSE,
  col1 = "black",
  col2 = "blue",
  col3 = "green3",
  col4 = "red",
  sprtarg = "default",
  btarg = "default",
  labels = c("Year", "SPR", "1-SPR", "Relative fishing intensity",
    "Relative spawning output"),
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  plotdir = "default",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotSPR_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_add">add</code></td>
<td>
<p>add to existing plot (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_uncertainty">uncertainty</code></td>
<td>
<p>include plots showing uncertainty?</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create
Numbering of subplots is as follows:
</p>

<ol>
<li><p> timeseries of SPR,
</p>
</li>
<li><p> timeseries of 1 - SPR,
</p>
</li>
<li><p> timeseries of SPR ratio (as specified in the starter file), and
</p>
</li>
<li><p> phase plot of Biomass ratio vs SPR ratio (as specified in the
starter file).
</p>
</li></ol>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_forecastplot">forecastplot</code></td>
<td>
<p>Include forecast years in plot?</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_col1">col1</code></td>
<td>
<p>first color used</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_col2">col2</code></td>
<td>
<p>second color used</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_col3">col3</code></td>
<td>
<p>third color used</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_col4">col4</code></td>
<td>
<p>fourth color used</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_sprtarg">sprtarg</code></td>
<td>
<p>F/SPR proxy target. &quot;default&quot; chooses based on model output,
where models which have SPR_report_basis = 0 or 1 specified in the starter
file will use the SPR target specified in the forecast file. Models which
have SPR_report_basis = 2 will use SPR at MSY for the SPR target
and models which have the SPR_report_basis = 3 will use
SPR at Btarget for the SPR target in these plots. Zero or negative values of
sprtarg input here will cause no horizontal line to be plotted.</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_btarg">btarg</code></td>
<td>
<p>target depletion to be used in plots showing depletion. May be
omitted by setting to NA. &quot;default&quot; chooses based on model output.</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotSPR_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotSummaryF'>Plot the summary F (or harvest rate).</h2><span id='topic+SSplotSummaryF'></span>

<h3>Description</h3>

<p>Plots the summary F (or harvest rate) as set up in the starter file Needs a
lot of work to be generalized
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotSummaryF(
  replist,
  yrs = "all",
  Ftgt = NA,
  ylab = "Summary Fishing Mortality",
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  verbose = TRUE,
  uncertainty = TRUE,
  add = FALSE,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  mar = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotSummaryF_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_yrs">yrs</code></td>
<td>
<p>Which years to include.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_ftgt">Ftgt</code></td>
<td>
<p>Target F where horizontal line is shown.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_ylab">ylab</code></td>
<td>
<p>Y-axis label.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. By default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_verbose">verbose</code></td>
<td>
<p>Verbose output to R console?</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_uncertainty">uncertainty</code></td>
<td>
<p>Show 95% uncertainty intervals around point estimates?</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_add">add</code></td>
<td>
<p>add to existing plot</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_pwidth">pwidth</code></td>
<td>
<p>Default width of plots printed to files in units of
<code>punits</code>. The default is <code>pwidth=6.5</code>.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_pheight">pheight</code></td>
<td>
<p>Height of plots printed to png files in units of <code>punits</code>.
Default is designed to allow two plots per page, with <code>pheight_tall</code> used
for plots that work best with a taller format and a single plot per page.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_punits">punits</code></td>
<td>
<p>Units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; (centimeters), or &quot;mm&quot; (millimeters).
The default is <code>punits="in"</code>.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for plotted text in plots printed to files (see
<code>help("png")</code> in R for details).</p>
</td></tr>
<tr><td><code id="SSplotSummaryF_+3A_mar">mar</code></td>
<td>
<p>Either NULL to allow the default (which depends on whether the main title is included or not) or a numerical vector of the form c(bottom, left, top, right) which gives the number of lines of margin to be specified on the four sides of the plot, which is passed to <code>par()</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Allan Hicks
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSplotTimeseries">SSplotTimeseries()</a></code>
</p>

<hr>
<h2 id='SSplotTags'>Plot tagging data and fits</h2><span id='topic+SSplotTags'></span>

<h3>Description</h3>

<p>Plot observed and expected tag recaptures in aggregate and by tag group.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotTags(
  replist = replist,
  subplots = 1:10,
  latency = NULL,
  taggroups = NULL,
  rows = 1,
  cols = 1,
  tagrows = 3,
  tagcols = 3,
  plot = TRUE,
  print = FALSE,
  pntscalar = 2.6,
  minnbubble = 8,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  ptsize = 10,
  res = 300,
  cex.main = 1,
  col1 = rgb(0, 0, 1, 0.7),
  col2 = "red",
  col3 = "grey95",
  col4 = "grey70",
  labels = c("Year", "Frequency", "Tag Group", "Fit to tag recaptures by tag group",
    "Post-latency tag recaptures aggregated across tag groups",
    "Observed tag recaptures by year and tag group",
    "Residuals for post-latency tag recaptures: (obs-exp)/sqrt(exp)",
    "Observed and expected post-latency tag recaptures by year and tag group",
    "Summarized observed and expected numbers of recaptures by fleet",
    "Pearson residuals by tag group"),
  plotdir = "default",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotTags_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_latency">latency</code></td>
<td>
<p>period of tag mixing to exclude from plots (in future could
be included in SS output)</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_taggroups">taggroups</code></td>
<td>
<p>which tag groups to include in the plots. Default=NULL
causes all groups to be included.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_rows">rows</code></td>
<td>
<p>number or rows of panels for regular plots</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_cols">cols</code></td>
<td>
<p>number or columns of panels for regular plots</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_tagrows">tagrows</code></td>
<td>
<p>number or rows of panels for multi-panel plots</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_tagcols">tagcols</code></td>
<td>
<p>number or columns of panels for multi-panel plots</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_pntscalar">pntscalar</code></td>
<td>
<p>maximum bubble size for balloon plots; each plot scaled
independently based on this maximum size and the values plotted. Often some
plots look better with one value and others with a larger or smaller value.
Default=2.6</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_minnbubble">minnbubble</code></td>
<td>
<p>minimum number of years below which blank years will be
added to bubble plots to avoid cropping</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_pwidth">pwidth</code></td>
<td>
<p>default width of plots printed to files in units of
<code>punits</code>. Default=7.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_pheight">pheight</code></td>
<td>
<p>default height width of plots printed to files in units of
<code>punits</code>. Default=7.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_punits">punits</code></td>
<td>
<p>units for <code>pwidth</code> and <code>pheight</code>. Can be &quot;px&quot;
(pixels), &quot;in&quot; (inches), &quot;cm&quot; or &quot;mm&quot;. Default=&quot;in&quot;.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for plotted text in plots printed to files (see
help(&quot;png&quot;) in R for details). Default=12.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion parameter for plot titles</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_col1">col1</code></td>
<td>
<p>color for bubbles</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_col2">col2</code></td>
<td>
<p>color for lines with expected values</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_col3">col3</code></td>
<td>
<p>shading color for observations within latency period</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_col4">col4</code></td>
<td>
<p>shading color for observations after latency period</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotTags_+3A_verbose">verbose</code></td>
<td>
<p>return updates of function progress to the R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Andre E. Punt, Ian G. Taylor, Ashleigh J. Novak
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotTimeseries'>Plot timeseries data</h2><span id='topic+SSplotTimeseries'></span>

<h3>Description</h3>

<p>Plot timeseries data contained in TIME_SERIES output from Stock Synthesis
report file. Some values have optional uncertainty intervals.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotTimeseries(
  replist,
  subplot,
  add = FALSE,
  areas = "all",
  areacols = "default",
  areanames = "default",
  forecastplot = TRUE,
  uncertainty = TRUE,
  bioscale = 1,
  minyr = -Inf,
  maxyr = Inf,
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  verbose = TRUE,
  btarg = "default",
  minbthresh = "default",
  xlab = "Year",
  labels = NULL,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1,
  mainTitle = FALSE,
  mar = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotTimeseries_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_subplot">subplot</code></td>
<td>
<p>number controlling which subplot to create
Numbering of subplots is as follows, where the spawning biomass plots
(7 to 10) are provided first when this function is called by <code><a href="#topic+SS_plots">SS_plots()</a></code>:
</p>

<ul>
<li><p> 1 Total biomass (mt) with forecast
</p>
</li>
<li><p> 2 Total biomass by area (spatial models only)
</p>
</li>
<li><p> 3 Total biomass (mt) at beginning of spawning season with forecast
</p>
</li>
<li><p> 4 Summary biomass (mt) with forecast
</p>
</li>
<li><p> 5 Summary biomass (mt) by area (spatial models only)
</p>
</li>
<li><p> 6 Summary biomass (mt) at beginning of season 1 with forecast
</p>
</li>
<li><p> 7 Spawning output with forecast with ~95% asymptotic intervals
</p>
</li>
<li><p> 8 Spawning output by area (spatial models only)
</p>
</li>
<li><p> 9 Relative spawning output with forecast with ~95% asymptotic intervals
</p>
</li>
<li><p> 10 Relative spawning output by area (spatial models only)
</p>
</li>
<li><p> 11 Age-0 recruits (1,000s) with forecast with ~95% asymptotic intervals
</p>
</li>
<li><p> 12 Age-0 recruits by area (spatial models only)
</p>
</li>
<li><p> 13 Fraction of recruits by area (spatial models only)
</p>
</li>
<li><p> 14 Age-0 recruits (1,000s) by birth season with forecast
</p>
</li>
<li><p> 15 Fraction of total Age-0 recruits by birth season with forecast
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_add">add</code></td>
<td>
<p>add to existing plot? (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_areas">areas</code></td>
<td>
<p>optional subset of areas to plot for spatial models</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_areacols">areacols</code></td>
<td>
<p>vector of colors by area. Default uses rich.colors by Arni
Magnusson</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_areanames">areanames</code></td>
<td>
<p>names for areas. Default is to use Area1, Area2,...</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_forecastplot">forecastplot</code></td>
<td>
<p>add points from forecast years</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_uncertainty">uncertainty</code></td>
<td>
<p>add intervals around quantities for which uncertainty is
available</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_bioscale">bioscale</code></td>
<td>
<p>scaling for spawning biomass. Default = 1.
Previously this was set to
0.5 for single-sex models, and 1.0 for all others, but now single-sex
models are assumed to use the -1 option for Nsexes in the data file so the
scaling is done automatically by SS.</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_minyr">minyr</code></td>
<td>
<p>optional input for minimum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_maxyr">maxyr</code></td>
<td>
<p>optional input for maximum year to show in plots</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG or PDF files will be written. by default
it will be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_btarg">btarg</code></td>
<td>
<p>Target depletion to be used in plots showing depletion. May be
omitted by setting to 0. &quot;default&quot; chooses value based on modeloutput.</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_minbthresh">minbthresh</code></td>
<td>
<p>Threshold depletion to be used in plots showing depletion.
May be omitted by setting to 0. &quot;default&quot; assumes 0.25 unless btarg in model
output is 0.25 in which case minbthresh = 0.125 (U.S. west coast flatfish).</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_xlab">xlab</code></td>
<td>
<p>x axis label for all plots</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_maintitle">mainTitle</code></td>
<td>
<p>Logical indicating if a title should be included at the top
(not yet implemented for all plots)</p>
</td></tr>
<tr><td><code id="SSplotTimeseries_+3A_mar">mar</code></td>
<td>
<p>Either NULL to allow the default (which depends on whether the main title is included or not) or a numerical vector of the form c(bottom, left, top, right) which gives the number of lines of margin to be specified on the four sides of the plot, which is passed to <code>par()</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor, Ian Stewart
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSplotYield'>Plot yield and surplus production.</h2><span id='topic+SSplotYield'></span>

<h3>Description</h3>

<p>Plot yield and surplus production from Stock Synthesis output. Surplus
production is based on Walters et al. (2008).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSplotYield(
  replist,
  subplots = 1:4,
  refpoints = c("MSY", "Btgt", "SPR", "Current"),
  add = FALSE,
  plot = TRUE,
  print = FALSE,
  labels = c("Fraction unfished", "Equilibrium yield (mt)", "Total biomass (mt)",
    "Surplus production (mt)", "Yield per recruit (kg)"),
  col = "blue",
  col2 = "black",
  lty = 1,
  lwd = 2,
  cex.main = 1,
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  plotdir = "default",
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSplotYield_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_subplots">subplots</code></td>
<td>
<p>vector controlling which subplots to create
Numbering of subplots is as follows:
</p>

<ul>
<li><p> 1 yield curve
</p>
</li>
<li><p> 2 yield curve with reference points
</p>
</li>
<li><p> 3 surplus production vs. biomass plots (Walters et al. 2008)
</p>
</li></ul>
</td></tr>
<tr><td><code id="SSplotYield_+3A_refpoints">refpoints</code></td>
<td>
<p>character vector of which reference points to display in
subplot 2, from the options 'MSY', 'Btgt', and 'SPR'.</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_add">add</code></td>
<td>
<p>add to existing plot? (not yet implemented)</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_plot">plot</code></td>
<td>
<p>plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_print">print</code></td>
<td>
<p>print to PNG files?</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_labels">labels</code></td>
<td>
<p>vector of labels for plots (titles and axis labels)</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_col">col</code></td>
<td>
<p>line color for equilibrium plot</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_col2">col2</code></td>
<td>
<p>line color for dynamic surplus production plot</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_lty">lty</code></td>
<td>
<p>line type (only applied to equilibrium yield plot at this time)</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_lwd">lwd</code></td>
<td>
<p>line width (only applied to equilibrium yield plot at this time)</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_cex.main">cex.main</code></td>
<td>
<p>character expansion for plot titles</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_pwidth">pwidth</code></td>
<td>
<p>width of plot</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_pheight">pheight</code></td>
<td>
<p>height of plot</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_punits">punits</code></td>
<td>
<p>units for PNG file</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_ptsize">ptsize</code></td>
<td>
<p>point size for PNG file</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_plotdir">plotdir</code></td>
<td>
<p>directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSplotYield_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Stewart, Ian Taylor
</p>


<h3>References</h3>

<p>Walters, Hilborn, and Christensen, 2008, Surplus production
dynamics in declining and recovering fish populations.  Can. J. Fish. Aquat.
Sci. 65: 2536-2551
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_plots">SS_plots()</a></code>, <code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSsummarize'>Summarize the output from multiple Stock Synthesis models.</h2><span id='topic+SSsummarize'></span>

<h3>Description</h3>

<p>Summarize various quantities from the model output collected by
<code><a href="#topic+SSgetoutput">SSgetoutput()</a></code> and return them in a list of tables and vectors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSsummarize(
  biglist,
  sizeselfactor = "Lsel",
  ageselfactor = "Asel",
  selfleet = NULL,
  selyr = "startyr",
  selgender = 1,
  SpawnOutputUnits = NULL,
  lowerCI = 0.025,
  upperCI = 0.975,
  verbose = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSsummarize_+3A_biglist">biglist</code></td>
<td>
<p>A list of lists, one for each model. The individual lists can
be created by <code><a href="#topic+SS_output">SS_output()</a></code> or the list of lists can be
created by <code><a href="#topic+SSgetoutput">SSgetoutput()</a></code> (which iteratively calls
<code><a href="#topic+SS_output">SS_output()</a></code>).</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_sizeselfactor">sizeselfactor</code></td>
<td>
<p>A string or vector of strings indicating which elements
of the selectivity at length output to summarize. Default=c(&quot;Lsel&quot;).</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_ageselfactor">ageselfactor</code></td>
<td>
<p>A string or vector of strings indicating which elements
of the selectivity at age output to summarize. Default=c(&quot;Asel&quot;).</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_selfleet">selfleet</code></td>
<td>
<p>Vector of fleets for which selectivity will be summarized.
NULL=all fleets. Default=NULL.</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_selyr">selyr</code></td>
<td>
<p>String or vector of years for which selectivity will be
summarized.  NOTE: NOT CURRENTLY WORKING.  Options: NULL=all years,
&quot;startyr&quot; = first year.</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_selgender">selgender</code></td>
<td>
<p>Vector of genders (1 and/or 2) for which selectivity will
be summarized. NULL=all genders. Default=NULL.</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_spawnoutputunits">SpawnOutputUnits</code></td>
<td>
<p>Optional single value or vector of &quot;biomass&quot; or
&quot;numbers&quot; giving units of spawning for each model.</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_lowerci">lowerCI</code></td>
<td>
<p>Quantile for lower bound on calculated intervals. Default =
0.025 for 95% intervals.</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_upperci">upperCI</code></td>
<td>
<p>Quantile for upper bound on calculated intervals. Default =
0.975 for 95% intervals.</p>
</td></tr>
<tr><td><code id="SSsummarize_+3A_verbose">verbose</code></td>
<td>
<p>A logical value specifying if output should be printed
to the screen.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSgetoutput">SSgetoutput()</a></code>
</p>

<hr>
<h2 id='SStableComparisons'>make table comparing quantities across models</h2><span id='topic+SStableComparisons'></span>

<h3>Description</h3>

<p>Creates a table comparing key quantities from multiple models, which is a
reduction of the full information in various parts of the list created using
the <code>SSsummarize</code> function.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SStableComparisons(
  summaryoutput,
  models = "all",
  likenames = c("TOTAL", "Survey", "Length_comp", "Age_comp", "priors", "Size_at_age"),
  names = c("Recr_Virgin", "R0", "steep", "NatM", "L_at_Amax", "VonBert_K", "SSB_Virg",
    "Bratio_2021", "SPRratio_2020"),
  digits = NULL,
  modelnames = "default",
  csv = FALSE,
  csvdir = "workingdirectory",
  csvfile = "parameter_comparison_table.csv",
  verbose = TRUE,
  mcmc = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SStableComparisons_+3A_summaryoutput">summaryoutput</code></td>
<td>
<p>list created by <code>SSsummarize</code></p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_models">models</code></td>
<td>
<p>optional subset of the models described in
<code>summaryoutput</code>.  Either &quot;all&quot; or a vector of numbers indicating
columns in summary tables.</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_likenames">likenames</code></td>
<td>
<p>Labels for likelihood values to include, should match
substring of labels in <code>summaryoutput[["likelihoods"]]</code>.</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_names">names</code></td>
<td>
<p>Labels for parameters or derived quantities to include, should
match substring of labels in <code>summaryoutput[["pars"]]</code> or
<code>summaryoutput[["quants"]]</code>.</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_digits">digits</code></td>
<td>
<p>Optional vector of the number of decimal digits to use in
reporting each quantity.</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_modelnames">modelnames</code></td>
<td>
<p>optional vector of labels to use as column names. Default
is 'model1','model2',etc.</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_csv">csv</code></td>
<td>
<p>write resulting table to CSV file?</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_csvdir">csvdir</code></td>
<td>
<p>directory for optional CSV file</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_csvfile">csvfile</code></td>
<td>
<p>filename for CSV file</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_verbose">verbose</code></td>
<td>
<p>report progress to R GUI?</p>
</td></tr>
<tr><td><code id="SStableComparisons_+3A_mcmc">mcmc</code></td>
<td>
<p>summarize MCMC output in table?</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Ian Taylor
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SSsummarize">SSsummarize()</a></code>, <code><a href="#topic+SSplotComparisons">SSplotComparisons()</a></code>,
<code><a href="#topic+SS_output">SS_output()</a></code>
</p>

<hr>
<h2 id='SSunavailableSpawningOutput'>Plot unavailable spawning output</h2><span id='topic+SSunavailableSpawningOutput'></span>

<h3>Description</h3>

<p>Calculate and plot the unavailable spawning output- separating out ones that
are unavailable because they're too small to be selected from ones that are
too big to be selected
</p>


<h3>Usage</h3>

<pre><code class='language-R'>SSunavailableSpawningOutput(
  replist,
  plot = TRUE,
  print = FALSE,
  plotdir = "default",
  pwidth = 6.5,
  pheight = 5,
  punits = "in",
  res = 300,
  ptsize = 10,
  cex.main = 1
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SSunavailableSpawningOutput_+3A_replist">replist</code></td>
<td>
<p>A list object created by <code><a href="#topic+SS_output">SS_output</a>()</code>.</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_plot">plot</code></td>
<td>
<p>Plot to active plot device?</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_print">print</code></td>
<td>
<p>Print to PNG files?</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_plotdir">plotdir</code></td>
<td>
<p>Directory where PNG files will be written. by default it will
be the directory where the model was run.</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_pwidth">pwidth</code></td>
<td>
<p>Width of plot</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_pheight">pheight</code></td>
<td>
<p>Height of plot</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_punits">punits</code></td>
<td>
<p>Units for PNG file</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_res">res</code></td>
<td>
<p>Resolution of plots printed to files.
The default is <code>res = 300</code>.</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_ptsize">ptsize</code></td>
<td>
<p>Point size for PNG file</p>
</td></tr>
<tr><td><code id="SSunavailableSpawningOutput_+3A_cex.main">cex.main</code></td>
<td>
<p>Character expansion for plot titles</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Megan Stachura, Andrew Cooper, Andi Stephens, Neil Klaer, Ian G. Taylor
</p>

<hr>
<h2 id='stackpoly'>modified from &quot;stackpoly&quot; by Jim Lemon from &quot;plotrix&quot; package</h2><span id='topic+stackpoly'></span>

<h3>Description</h3>

<p>Plot one or more columns of numeric values as the top edges of polygons
instead of lines.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>stackpoly(
  x,
  y,
  main = "",
  xlab = "",
  ylab = "",
  xat = NA,
  xaxlab = NA,
  xlim = NA,
  ylim = NA,
  lty = 1,
  border = NA,
  col = NA,
  axis4 = F,
  x.hash = NULL,
  density = 20,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="stackpoly_+3A_x">x</code></td>
<td>
<p>A numeric data frame or matrix with the 'x' values. If 'y' is NULL,
these will become the 'y' values and the 'x' positions will be the integers
from 1 to <code>dim(x)[1]</code>.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_y">y</code></td>
<td>
<p>The 'y' values.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_main">main</code></td>
<td>
<p>The title for the plot.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_xlab">xlab</code></td>
<td>
<p>x axis labels for the plot.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_ylab">ylab</code></td>
<td>
<p>y axis labels for the plot.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_xat">xat</code></td>
<td>
<p>Where to put the optional xaxlabs.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_xaxlab">xaxlab</code></td>
<td>
<p>Optional labels for the x positions.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_xlim">xlim</code></td>
<td>
<p>Optional x limits.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_ylim">ylim</code></td>
<td>
<p>Optional y limits.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_lty">lty</code></td>
<td>
<p>Line type for the polygon borders.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_border">border</code></td>
<td>
<p>Color for the polygon borders.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_col">col</code></td>
<td>
<p>Color to fill the polygons. If NULL, 'rainbow' will be called to
generate the colors. If NA, the polygons will not be filled.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_axis4">axis4</code></td>
<td>
<p>option to add an axis on the right hand side.</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_x.hash">x.hash</code></td>
<td>
<p>values from x for which the bars have hash marks instead of solid fill</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_density">density</code></td>
<td>
<p>density value for hashed areas</p>
</td></tr>
<tr><td><code id="stackpoly_+3A_...">...</code></td>
<td>
<p>Additional arguments passed to 'plot'.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Jim Lemon, Ian Taylor
</p>


<h3>References</h3>

<p><a href="https://cran.r-project.org/package=plotrix">https://cran.r-project.org/package=plotrix</a>
</p>

<hr>
<h2 id='translate_3.30_to_3.24_Q_setup'>Use 3.30 q options to create the 3.24 q setup</h2><span id='topic+translate_3.30_to_3.24_Q_setup'></span>

<h3>Description</h3>

<p>Use 3.30 q options to create the 3.24 q setup
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translate_3.30_to_3.24_Q_setup(
  Q_options,
  Nfleets,
  fleetnames = seq_len(Nfleets)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="translate_3.30_to_3.24_Q_setup_+3A_q_options">Q_options</code></td>
<td>
<p>The Q options list element in the 3.30
control file r4ss list output generated from <a href="#topic+SS_readctl">SS_readctl</a>.</p>
</td></tr>
<tr><td><code id="translate_3.30_to_3.24_Q_setup_+3A_nfleets">Nfleets</code></td>
<td>
<p>Number of fleets in the model</p>
</td></tr>
<tr><td><code id="translate_3.30_to_3.24_Q_setup_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Name of the fleets. Defaults to fleet numbers, in the order</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe containing the 3.24 Q setup.
</p>

<hr>
<h2 id='translate_3.30_to_3.24_var_adjust'>Use 3.30 variance adjustments to create the 3.24 formatting</h2><span id='topic+translate_3.30_to_3.24_var_adjust'></span>

<h3>Description</h3>

<p>This functionality used to be in SS_readctl_3.30, but ware removed to avoid
confusion.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>translate_3.30_to_3.24_var_adjust(
  Variance_adjustment_list = NULL,
  Nfleets,
  fleetnames = seq_len(Nfleets)
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="translate_3.30_to_3.24_var_adjust_+3A_variance_adjustment_list">Variance_adjustment_list</code></td>
<td>
<p>The Variance_adjustments_list element
in the control file r4ss list output generated from <a href="#topic+SS_readctl">SS_readctl</a>.
Defaults to NULL, which can be the case if no variance adjustments were
included in the model.</p>
</td></tr>
<tr><td><code id="translate_3.30_to_3.24_var_adjust_+3A_nfleets">Nfleets</code></td>
<td>
<p>Number of fleets in the model</p>
</td></tr>
<tr><td><code id="translate_3.30_to_3.24_var_adjust_+3A_fleetnames">fleetnames</code></td>
<td>
<p>Name of the fleets. Defaults to fleet numbers, in the order
defined in the model.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A dataframe of 3.24 variance adjustments.
</p>

<hr>
<h2 id='TSCplot'>Create a plot for the TSC report</h2><span id='topic+TSCplot'></span>

<h3>Description</h3>

<p>Creates a plot of catch and spawning biomass from the output of
<code><a href="#topic+SS_output">SS_output()</a></code> for the NOAA TSC report.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TSCplot(
  SSout,
  yrs = "default",
  ylimBar = "default",
  ylimDepl = c(0, 1.025),
  colBar = "yellow",
  cexBarLabels = 1.1,
  cex.axis = 1.1,
  space = 0,
  pchDepl = 19,
  colDepl = "red",
  lwdDepl = 3,
  shiftDepl = 0.25,
  pchSpace = 5,
  ht = 4,
  wd = 7,
  labelLines = 2.8,
  makePDF = NULL,
  makePNG = NULL,
  MCMC = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TSCplot_+3A_ssout">SSout</code></td>
<td>
<p>The output from <code><a href="#topic+SS_output">SS_output()</a></code></p>
</td></tr>
<tr><td><code id="TSCplot_+3A_yrs">yrs</code></td>
<td>
<p>The vector of years to plot</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_ylimbar">ylimBar</code></td>
<td>
<p>y-axis limits for catch barplot</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_ylimdepl">ylimDepl</code></td>
<td>
<p>y-axis limits for depletion line</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_colbar">colBar</code></td>
<td>
<p>colors of the bars</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_cexbarlabels">cexBarLabels</code></td>
<td>
<p>character expansion for the labels underneath the bars
(years)</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_cex.axis">cex.axis</code></td>
<td>
<p>character expansion for the axis labels</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_space">space</code></td>
<td>
<p>space between bars (see space argument of <code>barplot</code>)</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_pchdepl">pchDepl</code></td>
<td>
<p>character type for points on the depletion line</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_coldepl">colDepl</code></td>
<td>
<p>color of the points on the depletion line</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_lwddepl">lwdDepl</code></td>
<td>
<p>width of the depletion line</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_shiftdepl">shiftDepl</code></td>
<td>
<p>shift from beginning of the year for the points on the
depletion line. Helps to guide the eye for exactly which year it corresponds
to.</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_pchspace">pchSpace</code></td>
<td>
<p>number of years between points on the depletion line. Higher
numbers help tidy up the plot when plotting many years.</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_ht">ht</code></td>
<td>
<p>Height of the plot in inches</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_wd">wd</code></td>
<td>
<p>Width of the plot in inches</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_labellines">labelLines</code></td>
<td>
<p>line argument for <code>mtext</code> to move the axis labels</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_makepdf">makePDF</code></td>
<td>
<p>filename for a pdf file. If NULL it does not make a pdf.  Can
specify a pdf filename or a png filename. Not both at the same time.</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_makepng">makePNG</code></td>
<td>
<p>filename for a png image. If NULL it does not make a png.
Can specify a pdf filename or a png filename. Not both at the same time.</p>
</td></tr>
<tr><td><code id="TSCplot_+3A_mcmc">MCMC</code></td>
<td>
<p>If TRUE, will use mcmc results. It needs a list element called
'mcmc' on SSout.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>It creates a plot on the current graphics device, in a pdf file, or as a png
image of the figure used in the TSC report produced by the NWFSC.  It
expects the SS results read in by <code><a href="#topic+SS_output">SS_output()</a></code>.  If MCMC results
are to be plotted, a 'mcmc' list element should be added using the
<code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code> function. See the examples below.
</p>


<h3>Value</h3>

<p>Returns a data frame with the years, spawning biomass, depletion,
and total dead catch.
</p>


<h3>Author(s)</h3>

<p>Allan Hicks
</p>


<h3>See Also</h3>

<p><code><a href="#topic+SS_output">SS_output()</a></code> <code><a href="#topic+SSgetMCMC">SSgetMCMC()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

# define directory
directory &lt;- "C:\\NOAA2011\\Dover\\Models\\base_20110701"
# read model output
base &lt;- SS_output(dir = directory, covar = FALSE, verbose = FALSE)

# show the plot in R
TSCplot(base)
TSCplot(base, yrs = 2000:2011, pchSpace = 1)

# Create the plot as a PNG file
TSCplot(base, makePNG = "C:\\NOAA2012\\Assessments\\TSCdover.png")
# Create the plot as a PDF file
TSCplot(base, makePDF = "C:\\NOAA2012\\Assessment\\TSCdover.pdf")

# Model with MCMC results
directory &lt;- "C:/Models"
base &lt;- SS_output(dir = directory, dir.mcmc = "mcmc")
TSCplot(base, ylimDepl = c(0, 1.25), pchSpace = 1, MCMC = TRUE)

## End(Not run)

</code></pre>

<hr>
<h2 id='write_fwf4'>Function to write formatted table similar to
table written by gdata::write.fwf from data.frame or matrix
This function does not accept columns or logical with factor</h2><span id='topic+write_fwf4'></span>

<h3>Description</h3>

<p>Function to write formatted table similar to
table written by gdata::write.fwf from data.frame or matrix
This function does not accept columns or logical with factor
</p>


<h3>Usage</h3>

<pre><code class='language-R'>write_fwf4(
  x,
  file = "",
  append = FALSE,
  quote = FALSE,
  sep = " ",
  na = "NA",
  rownames = FALSE,
  colnames = TRUE,
  rowCol = NULL,
  justify = "left",
  width = NULL,
  eol = "\n",
  qmethod = c("escape", "double"),
  digits = 6,
  checkNA = TRUE,
  checkInfty = TRUE,
  checkError = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="write_fwf4_+3A_x">x</code></td>
<td>
<p>data.frame or matrix the object to be written</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_file">file</code></td>
<td>
<p>either a character string naming a file or a
connection open for writing. &quot;&quot; indicates output to the console.</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_append">append</code></td>
<td>
<p>logical, append to existing data in <code>file</code></p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_quote">quote</code></td>
<td>
<p>logical, quote data in output</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_sep">sep</code></td>
<td>
<p>character, separator between columns in output</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_na">na</code></td>
<td>
<p>character, the string to use for missing values i.e. <code>NA</code> in
the output</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_rownames">rownames</code></td>
<td>
<p>logical, print row names</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_colnames">colnames</code></td>
<td>
<p>logical, print column names</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_rowcol">rowCol</code></td>
<td>
<p>character, rownames column name</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_justify">justify</code></td>
<td>
<p>character, alignment of character columns; see
<code><a href="base.html#topic+format">format()</a></code></p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_width">width</code></td>
<td>
<p>numeric, width of the columns in the output</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_eol">eol</code></td>
<td>
<p>the character(s) to print at the end of each line (row).  For
example, 'eol=&quot;\r\n&quot;' will produce Windows' line endings on a Unix-alike OS,
and 'eol=&quot;\r&quot;' will produce files as expected by Mac OS Excel 2004.</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_qmethod">qmethod</code></td>
<td>
<p>a character string specifying how to deal with embedded
double quote characters when quoting strings.  Must be one of '&quot;escape&quot;'
(default), in which case the quote character is escaped in C style by a
backslash, or '&quot;double&quot;', in which case it is doubled.  You can specify just
the initial letter.</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_digits">digits</code></td>
<td>
<p>Used for signif</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_checkna">checkNA</code></td>
<td>
<p>logical if TRUE, function will stop when NA is found</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_checkinfty">checkInfty</code></td>
<td>
<p>logical if TRUE, function will stop when Infinity is found</p>
</td></tr>
<tr><td><code id="write_fwf4_+3A_checkerror">checkError</code></td>
<td>
<p>logical if TRUE both, set checkNA and checkInftr TRUE</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Yukio Takeuchi
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

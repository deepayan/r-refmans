<!DOCTYPE html><html lang="en"><head><title>Help for package quantmod</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {quantmod}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#quantmod-package'>
<p>Quantitative Financial Modelling Framework</p></a></li>
<li><a href='#addADX'><p> Add Directional Movement Index</p></a></li>
<li><a href='#addBBands'><p> Add Bollinger Bands to Chart</p></a></li>
<li><a href='#addCCI'><p> Add Commodity Channel Index</p></a></li>
<li><a href='#addExpiry'><p> Add Contract Expiration Bars to Chart</p></a></li>
<li><a href='#addMA'><p> Add Moving Average to Chart</p></a></li>
<li><a href='#addMACD'><p> Add Moving Average Convergence Divergence to Chart</p></a></li>
<li><a href='#addROC'><p> Add Rate Of Change to Chart</p></a></li>
<li><a href='#addRSI'><p> Add Relative Strength Index to Chart</p></a></li>
<li><a href='#addSAR'><p> Add Parabolic Stop and Reversal to Chart</p></a></li>
<li><a href='#addSMI'><p> Add Stochastic Momentum Indicator to Chart</p></a></li>
<li><a href='#addVo'><p> Add Volume to Chart</p></a></li>
<li><a href='#addWPR'><p> Add William's Percent R to Chart</p></a></li>
<li><a href='#adjustOHLC'>
<p>Adjust Open,High,Low,Close Prices For Splits and Dividends</p></a></li>
<li><a href='#attachSymbols'><p> Attach and Flush DDB</p></a></li>
<li><a href='#buildData'><p> Create Data Object for Modelling</p></a></li>
<li><a href='#buildModel'><p> Build quantmod model given specified fitting method</p></a></li>
<li><a href='#chart_Series'>
<p>Experimental Charting Version 2</p></a></li>
<li><a href='#chartSeries'><p> Create Financial Charts</p></a></li>
<li><a href='#chartTheme'><p> Create A Chart Theme</p></a></li>
<li><a href='#chob-class'><p>A Chart Object Class</p></a></li>
<li><a href='#chobTA-class'><p>A Technical Analysis Chart Object</p></a></li>
<li><a href='#create.binding'><p> Create DDB Bindings</p></a></li>
<li><a href='#Defaults'><p> Manage Default Argument Values for quantmod Functions</p></a></li>
<li><a href='#Delt'><p> Calculate Percent Change</p></a></li>
<li><a href='#findPeaks'><p> Find Peaks and Valleys In A Series</p></a></li>
<li><a href='#fittedModel'><p> quantmod Fitted Objects</p></a></li>
<li><a href='#getDividends'><p> Load Financial Dividend Data</p></a></li>
<li><a href='#getFinancials'><p> Download and View Financial Statements</p></a></li>
<li><a href='#getFX'><p> Download Exchange Rates</p></a></li>
<li><a href='#getMetals'><p> Download Daily Metals Prices</p></a></li>
<li><a href='#getModelData'><p> Update model's dataset</p></a></li>
<li><a href='#getOptionChain'><p> Download Option Chains</p></a></li>
<li><a href='#getOptionChain.orats'><p> Download Option Chain Data from orats</p></a></li>
<li><a href='#getQuote'><p> Download Current Stock Quote</p></a></li>
<li><a href='#getSplits'><p> Load Financial Split Data</p></a></li>
<li><a href='#getSymbols'><p> Load and Manage Data from Multiple Sources</p></a></li>
<li><a href='#getSymbols.av'><p> Download OHLC Data from Alpha Vantage</p></a></li>
<li><a href='#getSymbols.csv'><p> Load Data from csv File</p></a></li>
<li><a href='#getSymbols.FRED'><p> Download Federal Reserve Economic Data - FRED(R)</p></a></li>
<li><a href='#getSymbols.MySQL'><p> Retrieve Data from MySQL Database</p></a></li>
<li><a href='#getSymbols.oanda'><p> Download Currency and Metals Data from Oanda.com</p></a></li>
<li><a href='#getSymbols.rda'><p> Load Data from R Binary File</p></a></li>
<li><a href='#getSymbols.SQLite'><p> Retrieve Data from SQLite Database</p></a></li>
<li><a href='#getSymbols.tiingo'><p> Download OHLC Data from Tiingo</p></a></li>
<li><a href='#getSymbols.yahoo'><p> Download OHLC Data From Yahoo Finance</p></a></li>
<li><a href='#getSymbols.yahooj'><p> Download OHLC Data From Yahoo! Japan Finance</p></a></li>
<li><a href='#has.OHLC'><p> Check For OHLC Data</p></a></li>
<li><a href='#internal-quantmod'><p> Internal quantmod Objects</p></a></li>
<li><a href='#is.quantmod'><p> Test If Object of Type quantmod</p></a></li>
<li><a href='#Lag'><p> Lag a Time Series</p></a></li>
<li><a href='#modelData'><p> Extract Dataset Created by specifyModel</p></a></li>
<li><a href='#modelSignal'><p> Extract Model Signal Object</p></a></li>
<li><a href='#newTA'><p> Create A New TA Indicator For chartSeries</p></a></li>
<li><a href='#Next'><p> Advance a Time Series</p></a></li>
<li><a href='#OHLC.Transformations'><p> Extract and Transform OHLC Time-Series Columns</p></a></li>
<li><a href='#options.expiry'><p> Calculate Contract Expirations</p></a></li>
<li><a href='#periodReturn'><p> Calculate Periodic Returns</p></a></li>
<li><a href='#quantmod-class'><p>Class &quot;quantmod&quot;</p></a></li>
<li><a href='#quantmod-defunct'><p>Defunct Functions in Package <span class="pkg">quantmod</span></p></a></li>
<li><a href='#quantmod.OHLC'><p> Create Open High Low Close Object</p></a></li>
<li><a href='#saveChart'><p> Save Chart to External File</p></a></li>
<li><a href='#setSymbolLookup'><p> Manage Symbol Lookup Table</p></a></li>
<li><a href='#setTA'><p> Manage TA Argument Lists</p></a></li>
<li><a href='#specifyModel'><p> Specify Model Formula For quantmod Process</p></a></li>
<li><a href='#TA'><p> Add Technical Indicator to Chart</p></a></li>
<li><a href='#tradeModel'><p> Simulate Trading of Fitted quantmod Object</p></a></li>
<li><a href='#zoomChart'><p> Change Zoom Level Of Current Chart</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Quantitative Financial Modelling Framework</td>
</tr>
<tr>
<td>Version:</td>
<td>0.4.26</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.0), xts(&ge; 0.9-0), zoo, TTR(&ge; 0.2), methods</td>
</tr>
<tr>
<td>Imports:</td>
<td>curl, jsonlite(&ge; 1.1)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>DBI,RMySQL,RSQLite,timeSeries,xml2,downloader</td>
</tr>
<tr>
<td>Description:</td>
<td>Specify, build, trade, and analyse quantitative financial trading strategies.</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://www.quantmod.com/">https://www.quantmod.com/</a>,
<a href="https://github.com/joshuaulrich/quantmod">https://github.com/joshuaulrich/quantmod</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/joshuaulrich/quantmod/issues">https://github.com/joshuaulrich/quantmod/issues</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-02-13 17:49:13 UTC; josh</td>
</tr>
<tr>
<td>Author:</td>
<td>Jeffrey A. Ryan [aut, cph],
  Joshua M. Ulrich [cre, aut],
  Ethan B. Smith [ctb],
  Wouter Thielen [ctb],
  Paul Teetor [ctb],
  Steve Bronder [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Joshua M. Ulrich &lt;josh.m.ulrich@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-02-14 08:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='quantmod-package'>
Quantitative Financial Modelling Framework
</h2><span id='topic+quantmod-package'></span><span id='topic+quantmod'></span><span id='topic+quantmodenv'></span>

<h3>Description</h3>

<p>Quantitative Financial Modelling and Trading Framework for R
</p>


<h3>Details</h3>

<p>The quantmod package for R is designed to
assist the quantitative trader in the
development, testing, and deployment
of statistically based trading models.
</p>
<p><em>What quantmod IS</em>
</p>
<p>A rapid prototyping environment, with comprehensive
tools for data management and visualization.
where quant traders can quickly
and cleanly explore and build trading models.
</p>
<p><em>What quantmod is NOT</em>
</p>
<p>A replacement for anything statistical.
It has no 'new' modelling routines or
analysis tool to speak of. It does now
offer charting not currently available
elsewhere in R, but most everything else
is more of a wrapper to what you already
know and love about the langauge
and packages you currently use.
</p>
<p>quantmod makes modelling easier by removing
the repetitive workflow issues surrounding
data management, modelling interfaces,
and performance analysis. 
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan
</p>
<p>Maintainer: Joshua M. Ulrich &lt;josh.m.ulrich@gmail.com&gt;
</p>

<hr>
<h2 id='addADX'> Add Directional Movement Index </h2><span id='topic+addADX'></span>

<h3>Description</h3>

<p>Add Directional Movement Index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addADX(n = 14, maType="EMA", wilder=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addADX_+3A_n">n</code></td>
<td>
<p> periods to use for DX calculation</p>
</td></tr>
<tr><td><code id="addADX_+3A_matype">maType</code></td>
<td>
<p> moving average type </p>
</td></tr>
<tr><td><code id="addADX_+3A_wilder">wilder</code></td>
<td>
<p> should Welles Wilder EMA be used? </p>
</td></tr>
</table>


<h3>Details</h3>

<p>See 'ADX' in <span class="pkg">TTR</span> for specific details and references.
</p>


<h3>Value</h3>

<p>An ADX indicator will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see ADX in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addADX()

## End(Not run)
</code></pre>

<hr>
<h2 id='addBBands'> Add Bollinger Bands to Chart </h2><span id='topic+addBBands'></span>

<h3>Description</h3>

<p>Add Bollinger Bands to current chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addBBands(n = 20, sd = 2, maType = "SMA", draw = 'bands', on = -1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addBBands_+3A_n">n</code></td>
<td>
<p> number of moving average periods </p>
</td></tr>
<tr><td><code id="addBBands_+3A_matype">maType</code></td>
<td>
<p> type of moving average to be used </p>
</td></tr>
<tr><td><code id="addBBands_+3A_sd">sd</code></td>
<td>
<p> number of standard deviations </p>
</td></tr>
<tr><td><code id="addBBands_+3A_draw">draw</code></td>
<td>
<p> indicator to draw: bands, percent, or width </p>
</td></tr>
<tr><td><code id="addBBands_+3A_on">on</code></td>
<td>
<p> which figure area of chart to apply to </p>
</td></tr>
</table>


<h3>Details</h3>

<p>The primary addition to this function call over the <span class="pkg">TTR</span>
version is in the <code>draw</code> argument.  &lsquo;bands&rsquo; will draw
standard Bollinger Bands, &lsquo;percent&rsquo; will draw Bollinger %b
and &lsquo;width&rsquo; will draw Bolinger Bands Width.  The last two will
be drawn in new figure regions.
</p>
<p>See bollingerBands in <span class="pkg">TTR</span> for specific details
as to implementation and references.
</p>


<h3>Value</h3>

<p>Bollinger Bands will be drawn, or scheduled to be drawn,
on the current chart.  If <code>draw</code> is either percent or width
a new figure will be added to the current TA figures charted.
</p>
<p>A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> See bollingerBands in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addBBands()

## End(Not run)
</code></pre>

<hr>
<h2 id='addCCI'> Add Commodity Channel Index </h2><span id='topic+addCCI'></span>

<h3>Description</h3>

<p>Add Commodity Channel Index
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addCCI(n = 20, maType="SMA", c=0.015)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addCCI_+3A_n">n</code></td>
<td>
<p> periods to use for DX calculation</p>
</td></tr>
<tr><td><code id="addCCI_+3A_matype">maType</code></td>
<td>
<p> moving average type </p>
</td></tr>
<tr><td><code id="addCCI_+3A_c">c</code></td>
<td>
<p> Constant to apply to the mean deviation.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>See 'CCI' in <span class="pkg">TTR</span> for specific details and references.
</p>


<h3>Value</h3>

<p>An CCI indicator will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see CCI in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addCCI()

## End(Not run)
</code></pre>

<hr>
<h2 id='addExpiry'> Add Contract Expiration Bars to Chart </h2><span id='topic+addExpiry'></span>

<h3>Description</h3>

<p>Apply options or futures expiration vertical bars
to current chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addExpiry(type = "options", lty = "dotted")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addExpiry_+3A_type">type</code></td>
<td>
<p> options or futures expiration </p>
</td></tr>
<tr><td><code id="addExpiry_+3A_lty">lty</code></td>
<td>
<p> type of lines to draw </p>
</td></tr>
</table>


<h3>Details</h3>

<p>See options.expiry and futures.expiry in <span class="pkg">quantmod</span>
for details and limitations.
</p>


<h3>Value</h3>

<p>Expiration lines will be drawn at appropriate dates.
A chibTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addExpiry()

## End(Not run)
</code></pre>

<hr>
<h2 id='addMA'> Add Moving Average to Chart </h2><span id='topic+addMA'></span><span id='topic+addSMA'></span><span id='topic+add_SMA'></span><span id='topic+addEMA'></span><span id='topic+add_EMA'></span><span id='topic+addWMA'></span><span id='topic+add_WMA'></span><span id='topic+addDEMA'></span><span id='topic+add_DEMA'></span><span id='topic+addEVWMA'></span><span id='topic+add_EVWMA'></span><span id='topic+addZLEMA'></span><span id='topic+add_VWAP'></span><span id='topic+add_GMMA'></span>

<h3>Description</h3>

<p>Add one or more moving averages to a chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSMA(n = 10, on = 1, with.col = Cl, overlay = TRUE, col = "brown")

addEMA(n = 10, wilder = FALSE, ratio=NULL, on = 1,
       with.col = Cl, overlay = TRUE, col = "blue")

addWMA(n = 10, wts=1:n, on = 1, with.col = Cl, overlay = TRUE, col = "green")

addDEMA(n = 10, on = 1, with.col = Cl, overlay = TRUE, col = "pink")

addEVWMA(n = 10, on = 1, with.col = Cl, overlay = TRUE, col = "yellow")

addZLEMA(n = 10, ratio=NULL, on = 1, with.col = Cl, overlay = TRUE, col = "red")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addMA_+3A_n">n</code></td>
<td>
<p> periods to average over </p>
</td></tr>
<tr><td><code id="addMA_+3A_wilder">wilder</code></td>
<td>
<p> logical; use wilder? </p>
</td></tr>
<tr><td><code id="addMA_+3A_wts">wts</code></td>
<td>
<p> a vector of weights </p>
</td></tr>
<tr><td><code id="addMA_+3A_ratio">ratio</code></td>
<td>
<p> a smoothing/decay ratio </p>
</td></tr>
<tr><td><code id="addMA_+3A_on">on</code></td>
<td>
<p> apply to which figure (see below) </p>
</td></tr>
<tr><td><code id="addMA_+3A_with.col">with.col</code></td>
<td>
<p> using which column of data (see below) </p>
</td></tr>
<tr><td><code id="addMA_+3A_overlay">overlay</code></td>
<td>
<p> draw as overlay </p>
</td></tr>
<tr><td><code id="addMA_+3A_col">col</code></td>
<td>
<p> color of MA </p>
</td></tr>
</table>


<h3>Details</h3>

<p>see the appropriate base MA functions in <span class="pkg">TTR</span> for
more details and references.
</p>


<h3>Value</h3>

<p>A moving average indicator will be draw on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see MovingAverages in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addSMA()
addEMA()
addWMA()
addDEMA()
addEVWMA()
addZLEMA()

## End(Not run)
</code></pre>

<hr>
<h2 id='addMACD'> Add Moving Average Convergence Divergence to Chart </h2><span id='topic+addMACD'></span>

<h3>Description</h3>

<p>Add Moving Average Convergence Divergence indicator to chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addMACD(fast = 12, slow = 26, signal = 9, type = "EMA", histogram = TRUE, col)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addMACD_+3A_fast">fast</code></td>
<td>
<p> fast period </p>
</td></tr>
<tr><td><code id="addMACD_+3A_slow">slow</code></td>
<td>
<p> slow period </p>
</td></tr>
<tr><td><code id="addMACD_+3A_signal">signal</code></td>
<td>
<p> signal period </p>
</td></tr>
<tr><td><code id="addMACD_+3A_type">type</code></td>
<td>
<p> type of MA to use. Single values will be replicated </p>
</td></tr>
<tr><td><code id="addMACD_+3A_histogram">histogram</code></td>
<td>
<p> include histogram </p>
</td></tr>
<tr><td><code id="addMACD_+3A_col">col</code></td>
<td>
<p> colors to use for lines (optional) </p>
</td></tr>
</table>


<h3>Details</h3>

<p>See and 'MACD' in <span class="pkg">TTR</span> for specific
details and implementation references.
</p>


<h3>Value</h3>

<p>A MACD indicator will be draw in a new window on the
current chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see MACD in <span class="pkg">TTR</span> written by Josh Ulrich</p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addMACD()

## End(Not run)
</code></pre>

<hr>
<h2 id='addROC'> Add Rate Of Change to Chart </h2><span id='topic+addROC'></span>

<h3>Description</h3>

<p>Add Rate Of Change indicator to chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addROC(n = 1, type = c("discrete", "continuous"), col = "red")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addROC_+3A_n">n</code></td>
<td>
<p> periods </p>
</td></tr>
<tr><td><code id="addROC_+3A_type">type</code></td>
<td>
<p> compounding type </p>
</td></tr>
<tr><td><code id="addROC_+3A_col">col</code></td>
<td>
<p> line color (optional) </p>
</td></tr>
</table>


<h3>Details</h3>

<p>See 'ROC' in <span class="pkg">TTR</span> for specific details and references.
</p>


<h3>Value</h3>

<p>A ROC indicator will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see ROC in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addROC()

## End(Not run)
</code></pre>

<hr>
<h2 id='addRSI'> Add Relative Strength Index to Chart </h2><span id='topic+addRSI'></span>

<h3>Description</h3>

<p>Add a Relative Strength Index indicator to chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addRSI(n = 14, maType = "EMA", wilder = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addRSI_+3A_n">n</code></td>
<td>
<p> periods </p>
</td></tr>
<tr><td><code id="addRSI_+3A_matype">maType</code></td>
<td>
<p> type of MA to use </p>
</td></tr>
<tr><td><code id="addRSI_+3A_wilder">wilder</code></td>
<td>
<p> use wilder (see EMA) </p>
</td></tr>
</table>


<h3>Details</h3>

<p>see 'RSI' in <span class="pkg">TTR</span> for specific details and references.
</p>


<h3>Value</h3>

<p>An RSI indicator will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see RSI in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addRSI()

## End(Not run)
</code></pre>

<hr>
<h2 id='addSAR'> Add Parabolic Stop and Reversal to Chart </h2><span id='topic+addSAR'></span>

<h3>Description</h3>

<p>Add Parabolic Stop and Reversal indicator overlay to chart. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSAR(accel = c(0.02, 0.2), col = "blue")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addSAR_+3A_accel">accel</code></td>
<td>
<p> Accelleration factors - see SAR </p>
</td></tr>
<tr><td><code id="addSAR_+3A_col">col</code></td>
<td>
<p> color of points (optional) </p>
</td></tr>
</table>


<h3>Details</h3>

<p>see 'SAR' in <span class="pkg">TTR</span> for specific details and references.
</p>


<h3>Value</h3>

<p>A SAR overlay will be drawn on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see SAR in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addSAR()

## End(Not run)
</code></pre>

<hr>
<h2 id='addSMI'> Add Stochastic Momentum Indicator to Chart </h2><span id='topic+addSMI'></span>

<h3>Description</h3>

<p>Add Stochastic Momentum Indicator to chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addSMI(n=13,slow=25,fast=2,signal=9,ma.type="EMA")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addSMI_+3A_n">n</code></td>
<td>
<p> periods </p>
</td></tr>
<tr><td><code id="addSMI_+3A_slow">slow</code></td>
<td>
<p> slow  </p>
</td></tr>
<tr><td><code id="addSMI_+3A_fast">fast</code></td>
<td>
<p> fast  </p>
</td></tr>
<tr><td><code id="addSMI_+3A_signal">signal</code></td>
<td>
<p> signal </p>
</td></tr>
<tr><td><code id="addSMI_+3A_ma.type">ma.type</code></td>
<td>
<p> MA tyep to use, recycled as necessary </p>
</td></tr>
</table>


<h3>Details</h3>

<p>see 'SMI in <span class="pkg">TTR</span> for specifics and references.
</p>


<h3>Value</h3>

<p>An SMI indicator will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see SMI in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

<p><code><a href="#topic+addTA">addTA</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addSMI()

## End(Not run)
</code></pre>

<hr>
<h2 id='addVo'> Add Volume to Chart </h2><span id='topic+addVo'></span>

<h3>Description</h3>

<p>Add Volume of a series, if available, to the current chart.
This is the default TA argument for all charting functions.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addVo(log.scale=FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addVo_+3A_log.scale">log.scale</code></td>
<td>
<p> use log-scale for volume </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Add volume bars to current chart if data object contains
appropriate volume column.
</p>
<p>log.scale will transform the series via standard R graphics mechanisms.
</p>


<h3>Value</h3>

<p>Volume will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addVo()

## End(Not run)
</code></pre>

<hr>
<h2 id='addWPR'> Add William's Percent R to Chart </h2><span id='topic+addWPR'></span>

<h3>Description</h3>

<p>Add William's percent R indiator to the current chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addWPR(n = 14)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addWPR_+3A_n">n</code></td>
<td>
<p> periods </p>
</td></tr>
</table>


<h3>Details</h3>

<p>see 'WPR' in <span class="pkg">TTR</span> for details and references.
</p>


<h3>Value</h3>

<p>A William's percent R indicator will be draw in a new window on the current
chart.  A chobTA object will be returned silently.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> see 'WPR' in <span class="pkg">TTR</span> written by Josh Ulrich </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addTA">addTA</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
addWPR()

## End(Not run)
</code></pre>

<hr>
<h2 id='adjustOHLC'>
Adjust Open,High,Low,Close Prices For Splits and Dividends
</h2><span id='topic+adjustOHLC'></span>

<h3>Description</h3>

<p>Adjust all columns of an OHLC
object for
split and dividend.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>adjustOHLC(x,
           adjust = c("split","dividend"),
           use.Adjusted = FALSE,
           ratio = NULL,
           symbol.name=deparse(substitute(x)))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="adjustOHLC_+3A_x">x</code></td>
<td>
<p> An OHLC object </p>
</td></tr>
<tr><td><code id="adjustOHLC_+3A_adjust">adjust</code></td>
<td>
<p> adjust by split, dividend, or both (default) </p>
</td></tr>
<tr><td><code id="adjustOHLC_+3A_use.adjusted">use.Adjusted</code></td>
<td>
<p> use the &lsquo;Adjusted&rsquo; column in Yahoo! data to adjust </p>
</td></tr>
<tr><td><code id="adjustOHLC_+3A_ratio">ratio</code></td>
<td>
<p> ratio to adjust with, bypassing internal calculations </p>
</td></tr>
<tr><td><code id="adjustOHLC_+3A_symbol.name">symbol.name</code></td>
<td>
<p> used if x is not named the same as the symbol adjusting </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function calculates the adjusted
Open, High, Low, and Close prices according
to split and dividend information.
</p>
<p>There are three methods available to
calculate the new OHLC object prices.
</p>
<p>By default, <code>getSplits</code> and <code>getDividends</code> are
called to retrieve the respective information. These
may dispatch to custom methods following the &ldquo;.&rdquo;
methodology used by quantmod dispatch.  See <code>getSymbols</code>
for information related to extending quantmod.
This information is passed to
<code>adjRatios</code> from the <span class="pkg">TTR</span> package, and
the resulting ratio calculations are used to adjust
to observed historical prices.
This is the most precise way to adjust a series.
</p>
<p>The second method works only on standard
Yahoo! data containing an explicit
Adjusted column.
</p>
<p>A final method allows for one to pass
a <code>ratio</code> into the function directly.
</p>
<p>All methods proceed as follows:
</p>
<p>New columns are derived by taking the 
ratio of adjusted value to original Close, and multiplying
by the difference of the respective column and the
original Close.  This is then added to the modified Close
column to arrive at the remaining &lsquo;adjusted&rsquo;
Open, High, Low column values.
</p>
<p>If no adjustment is needed, the function returns the
original data unaltered.
</p>


<h3>Value</h3>

<p>An object of the original class, with prices
adjusted for splits and dividends.
</p>


<h3>Warning </h3>

<p>Using <code>use.Adjusted = TRUE</code> will be less precise
than the method that employs actual split
and dividend information. This is due to
loss of precision from Yahoo! using
Adjusted columns of only two decimal places.
The advantage is that this can be run offline,
and for short series or those with few adjustments
the loss of precision will be small.
</p>
<p>The resulting precision loss will be from row
observation to row observation, as the calculation
will be exact for intraday values.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan
</p>


<h3>References</h3>

<p>Yahoo Finance <a href="https://finance.yahoo.com">https://finance.yahoo.com</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getSymbols.yahoo">getSymbols.yahoo</a></code>
<code><a href="#topic+getSplits">getSplits</a></code>
<code><a href="#topic+getDividends">getDividends</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("AAPL", from="1990-01-01", src="yahoo")
head(AAPL)
head(AAPL.a &lt;- adjustOHLC(AAPL))
head(AAPL.uA &lt;- adjustOHLC(AAPL, use.Adjusted=TRUE))

# intraday adjustments are precise across all methods
# an example with Open to Close (OpCl)
head(cbind(OpCl(AAPL),OpCl(AAPL.a),OpCl(AAPL.uA)))

# Close to Close changes may lose precision
head(cbind(ClCl(AAPL),ClCl(AAPL.a),ClCl(AAPL.uA)))

## End(Not run)
</code></pre>

<hr>
<h2 id='attachSymbols'> Attach and Flush DDB </h2><span id='topic+attachSymbols'></span><span id='topic+flushSymbols'></span>

<h3>Description</h3>

<p>Attach a demand database (lazy load) as a new environment.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attachSymbols(DB = DDB_Yahoo(),
              pos = 2,
              prefix = NULL,
              postfix = NULL,
              mem.cache = TRUE,
              file.cache = !mem.cache,
              cache.dir = tempdir())

flushSymbols(DB = DDB_Yahoo())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="attachSymbols_+3A_db">DB</code></td>
<td>
<p> A <code>DDB</code> data base object </p>
</td></tr>
<tr><td><code id="attachSymbols_+3A_pos">pos</code></td>
<td>
<p> position in search path to attach DB </p>
</td></tr>
<tr><td><code id="attachSymbols_+3A_prefix">prefix</code></td>
<td>
<p> character to prefix all symbols with </p>
</td></tr>
<tr><td><code id="attachSymbols_+3A_postfix">postfix</code></td>
<td>
<p> character to postfix all symbols with </p>
</td></tr>
<tr><td><code id="attachSymbols_+3A_mem.cache">mem.cache</code></td>
<td>
<p> should objects be cached in memory </p>
</td></tr>
<tr><td><code id="attachSymbols_+3A_file.cache">file.cache</code></td>
<td>
<p> should objects be cached in on disk </p>
</td></tr>
<tr><td><code id="attachSymbols_+3A_cache.dir">cache.dir</code></td>
<td>
<p> directory to use for <code>file.cache=TRUE</code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>An experimental function to allow access to remote objects without
requiring explicit calls to a loading function.
</p>
<p><code>attachSymbols</code> requires a <code>DDB</code> object
to define where the data is to come from, as well as what symbols are
loaded on-demand.
</p>
<p>attachSymbols calls the method referred to
by the <code>DDB</code> object.  In the default case this is
<code>DDB_Yahoo</code>.  See this function for specific details
about the Yahoo implementation.
</p>
<p>The individual methods make use of <code>getSymbols</code> to
load the data.  This requires a corresponding
getSymbols method.
</p>
<p>Internally, attachSymbols makes use of quantmod's unexported
create.bindings to dynamically create active
bindings to each symbol listed in the DDB object. 
</p>
<p>In turn, create.bindings uses one of two <span class="rlang"><b>R</b></span> methods to
create the binding to the names required.  This depends
on the cache method requested.
</p>
<p>Immediately after a call to attachSymbols, a new
environment is attached that contains the names of
objects yet to be loaded.  This is similar to the
lazy-load mechanism in <span class="rlang"><b>R</b></span>, though extended to be both
more general and easier to use.
</p>
<p>It is important to note that no data is loaded at this stage.
What occurs instead is that these symbols now have active bindings
using either <code>delayedAssign</code> (mem.cache) or
<code>makeActiveBinding</code> (file.cache).
</p>
<p>During all future requests for the object(s) in question,
the binding will be used to determine how this data is
loaded into R.  <code>mem.cache</code> will simply load the
data from its corresponding source (as defined by the DDB object)
and leave it in the environment specified in the original call.
The effect of this is to allow lazy-loading of data from
a variety of external sources (Yahoo in the default case).
Once loaded, these are cached in <span class="rlang"><b>R</b></span>'s memory.  Nothing further
differentiates these from standard variables.  This also means
that the environment will grow as more symbols are loaded.
</p>
<p>If the <code>file.cache</code> option is set, the data is loaded from
its source the first time the symbol is referenced.  The difference
is that the data is then written to a temporary file and maintained
there.  Data is loaded and subsequently removed upon each
request for the object.  See <code>makeActiveBinding</code> for details
of how this occurs at the <span class="rlang"><b>R</b></span> level.
</p>
<p>A primary advantage of using the file.cache option is the ability
to maintain hundreds or thousands of
objects in your current session without using
memory, or explicitly loading and removing.
The main downside of this approach is the that data must be loaded
from disk each time, with the corresponding (if generally negligible)
overhead of file access.
</p>


<h3>Note</h3>

 
<p>This function is new, and all aspects may change in the near future.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Luke's stuff and Mark Brevington and Roger Peng </p>


<h3>See Also</h3>

 <p><code>delayedAssign</code>, <code>makeActiveBinding</code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
attachSymbols()
SBUX
QQQ
ls()

## End(Not run)
</code></pre>

<hr>
<h2 id='buildData'> Create Data Object for Modelling </h2><span id='topic+buildData'></span>

<h3>Description</h3>

<p>Create one data object from multiple sources, applying
transformations via standard <span class="rlang"><b>R</b></span> formula mechanism.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildData(formula, na.rm = TRUE, return.class = "zoo")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="buildData_+3A_formula">formula</code></td>
<td>
<p> an object of class <code>formula</code> (or one
that can be coerced to that class): a symbolic description
of the desired output data object, with the <code>dependent</code> side
corresponding to first column, and the <code>independent</code> parameters of
the formula assigned to the remaining columns. </p>
</td></tr>
<tr><td><code id="buildData_+3A_na.rm">na.rm</code></td>
<td>
<p> drop rows with missing values? </p>
</td></tr>
<tr><td><code id="buildData_+3A_return.class">return.class</code></td>
<td>
<p> one of &quot;zoo&quot;,&quot;data.frame&quot;,&quot;ts&quot;,&quot;timeSeries&quot; </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Makes available for use <em>outside</em> the <span class="pkg">quantmod</span> workflow a dataset
of appropriately transformed variables, using the same mechanism
underlying <code>specifyModel</code>. Offers the ability to apply transformations
to raw data using a common formula mechanism, without having to explicitly
merge different data objects.
</p>
<p>Interally calls <code>specifyModel</code> followed by <code>modelData</code>, with the
returned object being coerced to the desired 'return.class' if possible,
otherwise returns a <code>zoo</code> object.
</p>
<p>See <code>getSymbols</code> and <code>specifyModel</code> for more information
regarding proper usage.
</p>


<h3>Value</h3>

<p>An object of class <code>return.class</code>.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="#topic+specifyModel">specifyModel</a></code>,
<code><a href="#topic+modelData">modelData</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
  buildData(Next(OpCl(DIA)) ~ Lag(TBILL) + I(Lag(OpHi(DIA))^2))
  buildData(Next(OpCl(DIA)) ~ Lag(TBILL), na.rm=FALSE)
  buildData(Next(OpCl(DIA)) ~ Lag(TBILL), na.rm=FALSE, return.class="ts")

## End(Not run)
</code></pre>

<hr>
<h2 id='buildModel'> Build quantmod model given specified fitting method </h2><span id='topic+buildModel'></span>

<h3>Description</h3>

<p>Construct and attach a fitted model of type <code>method</code> to <code>quantmod</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>buildModel(x, method, training.per, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="buildModel_+3A_x">x</code></td>
<td>
<p> An object of class <code>quantmod</code> created with <code><a href="#topic+specifyModel">specifyModel</a></code> or
an <span class="rlang"><b>R</b></span> formula </p>
</td></tr>
<tr><td><code id="buildModel_+3A_training.per">training.per</code></td>
<td>
<p> character vector representing dates in ISO 8601 format
&ldquo;CCYY-MM-DD&rdquo; or &ldquo;CCYY-MM-DD HH:MM:SS&rdquo;
of length 2</p>
</td></tr>
<tr><td><code id="buildModel_+3A_method">method</code></td>
<td>
<p> A character string naming the fitting method.
See details section for available methods, and 
how to create new methods.</p>
</td></tr>
<tr><td><code id="buildModel_+3A_...">...</code></td>
<td>
<p> Additional arguments to method call </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently available methods include:
</p>
<p>lm, glm, loess, step, ppr,
rpart[rpart], tree[tree],
randomForest[randomForest], mars[mda],
polymars[polspline], lars[lars], rq[quantreg],
lqs[MASS], rlm[MASS], svm[e1071], and nnet[nnet].
</p>
<p>The <code>training.per</code> <em>should</em> match the undelying date
format of the time-series data used in modelling. Any other style
may not return what you expect.
</p>
<p>Additional methods wrappers can be created to allow for modelling 
using custom functions.  The only requirements are for a wrapper 
function to be constructed taking parameters <code>quantmod</code>, 
<code>training.data</code>, and ....  The function must return the 
fitted model object and have a predict method available.  
It is possible to add predict methods if non exist by 
adding an S3 method for predictModel. The <code>
buildModel.skeleton</code> function can be used for new methods.
</p>


<h3>Value</h3>

<p>An object of class <code>quantmod</code> with fitted model attached
</p>


<h3>Note</h3>

<p> See <code>buildModel.skeleton</code> for information on adding additional methods
</p>


<h3>Author(s)</h3>

<p> Jeffrey Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+specifyModel">specifyModel</a></code> <code><a href="#topic+tradeModel">tradeModel</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols('QQQ',src='yahoo')
q.model = specifyModel(Next(OpCl(QQQ)) ~ Lag(OpHi(QQQ),0:3))
buildModel(q.model,method='lm',training.per=c('2006-08-01','2006-09-30'))

## End(Not run)
</code></pre>

<hr>
<h2 id='chart_Series'>
Experimental Charting Version 2
</h2><span id='topic+chart_Series'></span><span id='topic+add_Series'></span><span id='topic+add_MACD'></span><span id='topic+add_ADX'></span><span id='topic+add_BBands'></span><span id='topic+add_RSI'></span><span id='topic+add_SMI'></span><span id='topic+add_TA'></span><span id='topic+add_Vo'></span><span id='topic+add_axis'></span><span id='topic+zoom_Chart'></span><span id='topic+chart_theme'></span><span id='topic+chart_pars'></span><span id='topic+axTicksByTime2'></span><span id='topic+axTicksByValue'></span><span id='topic+new.replot'></span>

<h3>Description</h3>

<p>These are experimental functions for a new version of chartSeries
in quantmod. Interface, behavior, and functionality will change.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chart_Series(x,
             name = NULL,
             type = "candlesticks", 
             subset = "",
             TA = "", 
             pars = chart_pars(), 
             theme = chart_theme(), 
             clev = 0,
             ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chart_Series_+3A_x">x</code></td>
<td>

<p>time series object
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_name">name</code></td>
<td>

<p>name for chart
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_type">type</code></td>
<td>

<p>one of: 
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_subset">subset</code></td>
<td>

<p>an ISO8601 style character string indicating date range
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_ta">TA</code></td>
<td>

<p>a character string of semi-colon seperated TA calls.
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_pars">pars</code></td>
<td>

<p>chart parameters
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_theme">theme</code></td>
<td>

<p>chart theme
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_clev">clev</code></td>
<td>

<p>color level (experimental).  Indicates the degree of brightness 0 is darkest color.
</p>
</td></tr>
<tr><td><code id="chart_Series_+3A_...">...</code></td>
<td>

<p>additional parameters
</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions, when complete, will revert back to the original chartSeries naming
convention.
</p>


<h3>Value</h3>

<p>Called for graphical side effects.
</p>


<h3>Note</h3>

<p>Highly experimental (read: alpha) use with caution.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan
</p>

<hr>
<h2 id='chartSeries'> Create Financial Charts </h2><span id='topic+chartSeries'></span><span id='topic+barChart'></span><span id='topic+candleChart'></span><span id='topic+matchChart'></span><span id='topic+lineChart'></span><span id='topic+reChart'></span><span id='topic+current.chob'></span><span id='topic+.chob'></span>

<h3>Description</h3>

<p>Charting tool to create standard financial charts
given a time series like object. Serves as the base function for
future technical analysis additions. Possible chart
styles include candles, matches (1 pixel candles), bars,
and lines. Chart may have white or black background.
</p>
<p><code>reChart</code> allows for dynamic changes to the chart without
having to respecify the full chart parameters.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chartSeries(x,
           type = c("auto", "candlesticks", "matchsticks", "bars","line"), 
           subset = NULL,
           show.grid = TRUE, 
           name = NULL,
           time.scale = NULL,
           log.scale = FALSE,
           TA = 'addVo()',
           TAsep=';',
           line.type = "l",
           bar.type = "ohlc",
           theme = chartTheme("black"),
           layout = NA,
           major.ticks='auto', minor.ticks=TRUE,
           yrange=NULL,
           plot=TRUE,
           up.col,dn.col,color.vol = TRUE, multi.col = FALSE,
           ...)

reChart(type = c("auto", "candlesticks", "matchsticks", "bars","line"), 
       subset = NULL,
       show.grid = TRUE, 
       name = NULL,
       time.scale = NULL,
       line.type = "l",
       bar.type = "ohlc",
       theme = chartTheme("black"),
       major.ticks='auto', minor.ticks=TRUE,
       yrange=NULL,
       up.col,dn.col,color.vol = TRUE, multi.col = FALSE,
       ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chartSeries_+3A_x">x</code></td>
<td>
<p> an OHLC object - see details </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_type">type</code></td>
<td>
<p> style of chart to draw </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_subset">subset</code></td>
<td>
<p> xts style date subsetting argument </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_show.grid">show.grid</code></td>
<td>
<p> display price grid lines? </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_name">name</code></td>
<td>
<p> name of chart </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_time.scale">time.scale</code></td>
<td>
<p> what is the timescale? automatically deduced (broken) </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_log.scale">log.scale</code></td>
<td>
<p> should the y-axis be log-scaled? </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_ta">TA</code></td>
<td>
<p> a vector of technical indicators and params, or character strings </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_tasep">TAsep</code></td>
<td>
<p> TA delimiter for TA strings </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_line.type">line.type</code></td>
<td>
<p> type of line in line chart </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_bar.type">bar.type</code></td>
<td>
<p> type of barchart - ohlc or hlc </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_theme">theme</code></td>
<td>
<p> a chart.theme object </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_layout">layout</code></td>
<td>
<p> if <code>NULL</code> bypass internal layout </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_major.ticks">major.ticks</code></td>
<td>
<p> where should major ticks be drawn</p>
</td></tr>
<tr><td><code id="chartSeries_+3A_minor.ticks">minor.ticks</code></td>
<td>
<p> should minor ticks be draw? </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_yrange">yrange</code></td>
<td>
<p> override y-scale </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_plot">plot</code></td>
<td>
<p> should plot be drawn </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_up.col">up.col</code></td>
<td>
<p> up bar/candle color </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_dn.col">dn.col</code></td>
<td>
<p> down bar/candle color </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_color.vol">color.vol</code></td>
<td>
<p> color code volume? </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_multi.col">multi.col</code></td>
<td>
<p> 4 color candle pattern </p>
</td></tr>
<tr><td><code id="chartSeries_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Currently displays standard style OHLC charts familiar
in financial applications, or line charts when
not passes OHLC data. Works with objects having explicit
time-series properties.
</p>
<p>Line charts are created with close data, or from single
column time series.
</p>
<p>The <code>subset</code> argument can be used to specify a
particular area of the series to view.  The underlying
series is left intact to allow for TA functions to
use the full data set.  Additionally, it is possible
to use syntax borrowed from the <code>first</code> and <code>last</code>
functions, e.g. &lsquo;last 4 months&rsquo;.
</p>
<p><code>TA</code> allows for the inclusion of a variety of
chart overlays and tecnical indicators.  A full list is
available from <code>addTA</code>. The default TA argument is
<code>addVo()</code> - which adds volume, if available, to the
chart being drawn.
</p>
<p><code>theme</code> requires an object of class <code>chart.theme</code>, created
by a call to <code>chartTheme</code>.  This function can be used to modify the
look of the resulting chart.  See <code>chart.theme</code> for details.
</p>
<p><code>line.type</code> and <code>bar.type</code> allow further fine tuning of
chart styles to user tastes.
</p>
<p><code>multi.col</code> implements a color coding scheme used in some
charting applications, and follows the following rules:
</p>

<ul>
<li><p> grey  =&gt; Op[t] &lt; Cl[t] and Op[t] &lt; Cl[t-1]
</p>
</li>
<li><p> white =&gt; Op[t] &lt; Cl[t] and Op[t] &gt; Cl[t-1]
</p>
</li>
<li><p> red   =&gt; Op[t] &gt; Cl[t] and Op[t] &lt; Cl[t-1]
</p>
</li>
<li><p> black =&gt; Op[t] &gt; Cl[t] and Op[t] &gt; Cl[t-1]
</p>
</li></ul>

<p><code>reChart</code> takes any number of arguments from the original
chart call &mdash; and redraws the chart with the updated parameters.
One item of note: if multiple color bars/candles are desired,
it is necessary to respecify the <code>theme</code> argument. Additionally
it is not possible to change TA parameters at present.  This must be
done with addTA/dropTA/swapTA/moveTA commands.
</p>


<h3>Value</h3>

<p>Returns a standard chart plus volume, if available, suitably scaled.
</p>
<p>If <code>plot=FALSE</code> a chob object will be returned.
</p>


<h3>Note</h3>

<p>Most details can be fine-tuned within the function, though the code
does a reasonable job of scaling and labelling axes for the user.
</p>
<p>The current implementation maintains a record of actions carried
out for any particular chart.  This is used to recreate the original when
adding new indicator.  A list of applied TA actions is available with a call
to <code>listTA</code>. This list can be assigned to a variable and used in new
chart calls to recreate a set of technical indicators.  It is also possible
to force all future charts to use the same indicators by calling <code>setTA</code>.
</p>
<p>Additional motivation to add outlined candles to allow
for scaling and advanced color coding is owed to Josh Ulrich, as
are the base functions (from <span class="pkg">TTR</span>) for the yet to be
released technical analysis charting code.
</p>
<p>Many improvements in the current version were the result of conversations with
Gabor Grothendieck.  Many thanks to him.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Josh Ulrich - <span class="pkg">TTR</span> package and multi.col coding </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="#topic+addTA">addTA</a></code>, <code><a href="#topic+setTA">setTA</a></code>,
<code><a href="#topic+chartTheme">chartTheme</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("YHOO")
chartSeries(YHOO)
chartSeries(YHOO, subset='last 4 months')
chartSeries(YHOO, subset='2007::2008-01')
chartSeries(YHOO,theme=chartTheme('white'))
chartSeries(YHOO,TA=NULL)   #no volume
chartSeries(YHOO,TA=c(addVo(),addBBands()))  #add volume and Bollinger Bands from TTR

addMACD()   #  add MACD indicator to current chart

setTA()
chartSeries(YHOO)   #draws chart again, this time will all indicators present

## End(Not run)
</code></pre>

<hr>
<h2 id='chartTheme'> Create A Chart Theme </h2><span id='topic+chartTheme'></span><span id='topic+.chart.theme'></span>

<h3>Description</h3>

<p>Create a chart.theme object for use within chartSeries
to manage desired chart colors.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>chartTheme(theme = "black", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="chartTheme_+3A_theme">theme</code></td>
<td>
<p> name of base theme </p>
</td></tr>
<tr><td><code id="chartTheme_+3A_...">...</code></td>
<td>
<p> name=value pairs to modify </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Used as an argument to the chartSeries family of functions,
<code>chartTheme</code> allows for on-the-fly modification
of pre-specified chart &lsquo;themes&rsquo;.  Users can modify
a pre-built theme in-place, or copy the theme to a new
variable for use in subsequent charting calls.
</p>
<p>Internally a chart.theme object is nothing more than
a list of values organized by chart components. The primary
purpose of this is to facilitate minor modification on
the fly, as well as provide a template for larger changes.
</p>
<p>Setting style arguments for TA calls via chartTheme requires
the user to pass the styles as name=value pairs with a name
containing the TA call in question.  See examples for assistance.
</p>
<p>Current components that may be modified with appropriate
values:
</p>

<ul>
<li> <p><code>fg.col</code>: foreground color
</p>
</li>
<li> <p><code>bg.col</code>: background color
</p>
</li>
<li> <p><code>grid.col</code>: grid color
</p>
</li>
<li> <p><code>border</code>: border color
</p>
</li>
<li> <p><code>minor.tick</code>: minor tickmark color
</p>
</li>
<li> <p><code>major.tick</code>: major tickmark color
</p>
</li>
<li> <p><code>up.col</code>: up bar/candle color
</p>
</li>
<li> <p><code>dn.col</code>: down bar/candle color
</p>
</li>
<li> <p><code>up.up.col</code>: up after up bar/candle color
</p>
</li>
<li> <p><code>up.dn.col</code>: up after down bar/candle color
</p>
</li>
<li> <p><code>dn.dn.col</code>: down after down bar/candle color
</p>
</li>
<li> <p><code>dn.up.col</code>: down after up bar/candle color
</p>
</li>
<li> <p><code>up.border</code>: up bar/candle border color
</p>
</li>
<li> <p><code>dn.border</code>: down bar/candle border color
</p>
</li>
<li> <p><code>up.up.border</code>: up after up bar/candle border color
</p>
</li>
<li> <p><code>up.dn.border</code>: up after down bar/candle border color
</p>
</li>
<li> <p><code>dn.dn.border</code>: down after down bar/candle border color
</p>
</li>
<li> <p><code>dn.up.border</code>: down after up bar/candle border color
</p>
</li></ul>



<h3>Value</h3>

<p>A chart.theme object
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+chartSeries">chartSeries</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>chartTheme()
chartTheme('white')
chartTheme('white',up.col='blue',dn.col='red')

# A TA example
chartTheme(addRSI.col='red')

str(chartTheme())
</code></pre>

<hr>
<h2 id='chob-class'>A Chart Object Class </h2><span id='topic+chob-class'></span>

<h3>Description</h3>

<p>Internal Objects for Tracking and Plotting Chart Changes </p>


<h3>Objects from the Class</h3>

<p>Objects are created internally through the charting
functions <code>chartSeries</code>, <code>barChart</code>, <code>lineChart</code>, and
<code>candleChart</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>device</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> ~~ </p>
</dd>
<dt><code>xdata</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>xsubset</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>name</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>type</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>passed.args</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>windows</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>xrange</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>yrange</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>log.scale</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
<dt><code>length</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>color.vol</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
<dt><code>multi.col</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
<dt><code>show.vol</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
<dt><code>show.grid</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
<dt><code>line.type</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>bar.type</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>xlab</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>ylab</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>spacing</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>width</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>bp</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
<dt><code>x.labels</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>colors</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>layout</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>time.scale</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>major.ticks</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>minor.ticks</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
</dl>



<h3>Methods</h3>

<p>No methods defined with class &quot;chob&quot; in the signature.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

<p><code><a href="#topic+chartSeries">chartSeries</a></code>,
or <code><a href="#topic+chobTA-class">chobTA</a></code> for links to other classes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("chob")
</code></pre>

<hr>
<h2 id='chobTA-class'>A Technical Analysis Chart Object </h2><span id='topic+chobTA-class'></span><span id='topic+show+2CchobTA-method'></span>

<h3>Description</h3>

<p> Internal storage class for handling arbitrary TA objects </p>


<h3>Objects from the Class</h3>

<p>Objects of class <code>chobTA</code> are created and returned invisibly
through calls to addTA-style functions.
</p>


<h3>Slots</h3>


<dl>
<dt><code>call</code>:</dt><dd><p>Object of class <code>"call"</code> ~~ </p>
</dd>
<dt><code>on</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>new</code>:</dt><dd><p>Object of class <code>"logical"</code> ~~ </p>
</dd>
<dt><code>TA.values</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>name</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>params</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
</dl>



<h3>Methods</h3>


<dl>
<dt>show</dt><dd><p><code>signature(object = "chobTA")</code>: ... </p>
</dd>
</dl>



<h3>Note</h3>

<p> It is of no external vaule to handle chobTA objects directly </p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

<p><code><a href="#topic+addTA">addTA</a></code>, ~~~
or <code><a href="#topic+chob-class">chob</a></code> for links to other classes
</p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("chobTA")
</code></pre>

<hr>
<h2 id='create.binding'> Create DDB Bindings </h2><span id='topic+create.binding'></span>

<h3>Description</h3>

<p>Internal function used in <code>attachSymbols</code>
to create active bindings for symbols defined in a <code>DDB</code> object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create.binding(s,
               lsym,
               rsym,
               gsrc,
               mem.cache = TRUE,
               file.cache = !mem.cache,
               cache.dir = tempdir(),
               envir,...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="create.binding_+3A_s">s</code></td>
<td>
<p> symbol name </p>
</td></tr>
<tr><td><code id="create.binding_+3A_lsym">lsym</code></td>
<td>
<p> function to convert to local name (legal R name) </p>
</td></tr>
<tr><td><code id="create.binding_+3A_rsym">rsym</code></td>
<td>
<p> function to convert to remote name (source name) </p>
</td></tr>
<tr><td><code id="create.binding_+3A_gsrc">gsrc</code></td>
<td>
<p> corresponds to 'src' arg in getSymbols call </p>
</td></tr>
<tr><td><code id="create.binding_+3A_mem.cache">mem.cache</code></td>
<td>
<p> cache to memory </p>
</td></tr>
<tr><td><code id="create.binding_+3A_file.cache">file.cache</code></td>
<td>
<p> cache to disk </p>
</td></tr>
<tr><td><code id="create.binding_+3A_cache.dir">cache.dir</code></td>
<td>
<p> directory to cache to/from </p>
</td></tr>
<tr><td><code id="create.binding_+3A_envir">envir</code></td>
<td>
<p> environment name (character) </p>
</td></tr>
<tr><td><code id="create.binding_+3A_...">...</code></td>
<td>
<p> arguments to pass to getSymbols call </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Low level function to create bindings during initial
demand-database construction.
</p>


<h3>Value</h3>

<p>Called for its side effect of creating active bindings
to symbols.
</p>


<h3>Note</h3>

 
<p>This is code used internally by attachSymbols.  User's may modify
this to accomodate different systems.  The upstream functions
needn't maintain consistency with this interface.
</p>
<p>Use as a guide or template.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Mark, Roger, ? </p>

<hr>
<h2 id='Defaults'> Manage Default Argument Values for quantmod Functions </h2><span id='topic+importDefaults'></span><span id='topic+getDefaults'></span><span id='topic+setDefaults'></span><span id='topic+unsetDefaults'></span>

<h3>Description</h3>

<p>Use globally specified defaults, if set, in place of formally specified
default argument values. Allows user to specify function defaults
different than formally supplied values, e.g. to change poorly performing
defaults, or satisfy a different preference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setDefaults(name, ...)
unsetDefaults(name, confirm = TRUE)
getDefaults(name = NULL, arg = NULL)
importDefaults(calling.fun)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Defaults_+3A_name">name</code></td>
<td>
<p> name of function, quoted or unquoted (see Details) </p>
</td></tr>
<tr><td><code id="Defaults_+3A_...">...</code></td>
<td>
<p> name=value default pairs </p>
</td></tr>
<tr><td><code id="Defaults_+3A_confirm">confirm</code></td>
<td>
<p> prompt before unsetting defaults </p>
</td></tr>
<tr><td><code id="Defaults_+3A_arg">arg</code></td>
<td>
<p> values to retrieve </p>
</td></tr> 
<tr><td><code id="Defaults_+3A_calling.fun">calling.fun</code></td>
<td>
<p> name of function to act upon </p>
</td></tr>
</table>


<h3>Details</h3>


<dl>
<dt>setDefaults</dt><dd>
<p>Provides a wrapper to <span class="rlang"><b>R</b></span> <code>options</code> that allows the user to
specify any name=value pair for a function's formal arguments.
Only formal name=value pairs specified will be updated.
</p>
<p>Values do not have to be respecified in subsequent calls to
<code>setDefaults</code>, so it is possible to add new defaults for each
function one at a time, without having to retype all previous values.
Assigning <code>NULL</code> to any argument will remove the argument from
the defaults list.
</p>
<p><code>name</code> can be an unquoted, bare symbol only at the top-level. It
must be a quoted character string if you call <code>setDefaults</code> inside
a function. 
</p>
</dd>
<dt>unsetDefaults</dt><dd>
<p>Removes name=value pairs from the defaults list.
</p>
</dd>
<dt>getDefaults</dt><dd>
<p>Provides access to the stored user defaults. Single arguments need
not be quoted, multiple arguments must be in a character vector.
</p>
</dd>
<dt>importDefaults</dt><dd>
<p>A call to <code>importDefaults</code> should be placed on the first line
in the body of the function. It checks the user's environment for
globally specified default values for the called function. These
defaults can be specified by the user with a call to
<code>setDefaults</code>, and will override any default formal
parameters, in effect replacing the original defaults with user
supplied values instead. Any user-specified values in the parent
function (that is, the function containing <code>importDefaults</code>)
will override the values set in the global default environment.
</p>
</dd>
</dl>



<h3>Value</h3>

<table role = "presentation">
<tr><td><code>setDefaults</code></td>
<td>

<p>None. Used for it's side effect of setting a list of default
arguments by function.
</p>
</td></tr>
<tr><td><code>unsetDefaults</code></td>
<td>

<p>None. Used for it's side effect of unsetting default arguments by
function.
</p>
</td></tr>
<tr><td><code>getDefaults</code></td>
<td>

<p>A named list of defaults and associated values, similar to
<code>formals</code>, but only returning values set by <code>setDefaults</code>
for the <code>name</code> function. Calling <code>getDefaults()</code> (without
arguments) returns in a character vector of all functions currently
having defaults set (by <code>setDefaults</code>).
</p>
<p>This <em>does not</em> imply that the returned function names are able
to accept defaults (via <code>importDefaults</code>), rather that they have
been set to store user defaults. All values can also be viewed with a
call to <code>getOption(name_of_function.Default)</code>.
</p>
</td></tr>
<tr><td><code>importDefaults</code></td>
<td>

<p>None. Used for its side-effect of loading all non-<code>NULL</code> user-
specified default values into the current function's environment,
effectively changing the default values passed in the parent function
call. Like formally defined defaults in the function definition,
default values set by <code>importDefaults</code> take lower precedence
than arguments specified by the user in the function call.
</p>
</td></tr>
</table>


<h3>Note</h3>


<dl>
<dt>setDefaults</dt><dd>
<p>At present it is not possible to specify <code>NULL</code> as a replacement
for a non-<code>NULL</code> default, as the process interprets <code>NULL</code>
values as being not set, and will simply use the value specified
formally in the function. If <code>NULL</code> is what is desired, it is
necessary to include this in the function call itself.
</p>
<p>Any arguments included in the actual function call will take
precedence over <code>setDefaults</code> values, as well as the standard
formal function values. This conforms to the current user
experience in <span class="rlang"><b>R</b></span>. 
</p>
<p>Like <code>options</code>, default settings are <em>not</em> kept across
sessions. Currently, it is <em>not</em> possible to pass values for
... arguments, only formally specified arguments in the original
function definition.
</p>
</dd>
<dt>unsetDefaults</dt><dd>
<p><code>unsetDefaults</code> removes the <em>all</em> entries from the
<code>options</code> lists for the specified function. To remove single
function default values simply set the name of the argument to
<code>NULL</code> in <code>setDefaults</code>.
</p>
</dd>
<dt>importDefaults</dt><dd>
<p>When a function implements <code>importDefaults</code>, non-named
arguments <em>may</em> be ignored if a global default has been set
(i.e. not <code>NULL</code>). If this is the case, simply name the
arguments in the calling function.
</p>
<p>This <em>should</em> also work for functions retrieving formal
parameter values from <code>options</code>, as it assigns a value to the
parameter in a way that looks like it was passed in the function
call. So any check on <code>options</code> would presumably disregard
<code>importDefaults</code> values if an argument was passed to the
function.
</p>
</dd>
</dl>



<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 
<p><code><a href="base.html#topic+options">options</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>my.fun &lt;- function(x=3)
{
  importDefaults('my.fun')
  x^2
}

my.fun()        # returns 9

setDefaults(my.fun, x=10)
my.fun()        # returns 100
my.fun(x=4)     # returns 16

getDefaults(my.fun)
formals(my.fun)
unsetDefaults(my.fun, confirm=FALSE)
getDefaults(my.fun)

my.fun()        # returns 9
</code></pre>

<hr>
<h2 id='Delt'> Calculate Percent Change </h2><span id='topic+Delt'></span>

<h3>Description</h3>

<p>Calculate the k-period percent difference within one series, or
between two series.  Primarily used to calculate the percent change
from one period to another of a given series, or to calculate
the percent difference between two series over the full series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Delt(x1, x2 = NULL, k = 0, type = c("arithmetic", "log"))
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Delt_+3A_x1">x1</code></td>
<td>
 <p><em>m x 1</em> vector </p>
</td></tr>
<tr><td><code id="Delt_+3A_x2">x2</code></td>
<td>
 <p><em>m x 1</em> vector </p>
</td></tr>
<tr><td><code id="Delt_+3A_k">k</code></td>
<td>
<p> change over <code>k</code>-periods. default k=1 when x2 is NULL. </p>
</td></tr>
<tr><td><code id="Delt_+3A_type">type</code></td>
<td>
<p> type of difference. log or arithmetic (default). </p>
</td></tr>
</table>


<h3>Details</h3>

<p>When called with only <code>x1</code>, the one period percent change of the
series is returned by default. Internally this happens by copying
x1 to x2. A two period difference would be specified with <code>k=2</code>.
</p>
<p>If called with both <code>x1</code> and <code>x2</code>, the difference between
the two is returned.  That is, k=0. A one period difference would be
specified by <code>k=1</code>. <code>k</code> may also be a vector to calculate
more than one period at a time. The results will then be an m x length(k)
</p>
<p>Arithmetic differences are used by default:
Lag = (x2(t) - x1(t-k))/x1(t-k)
</p>
<p>Log differences are calculated:
Lag = log(x2(t)/x1(t-k))
</p>


<h3>Value</h3>

<p>An matrix of <code>length(x1)</code> rows and <code>length(k)</code> columns.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+OpOp">OpOp</a></code> <code><a href="#topic+OpCl">OpCl</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>Stock.Open &lt;- c(102.25,102.87,102.25,100.87,103.44,103.87,103.00)
Stock.Close &lt;- c(102.12,102.62,100.12,103.00,103.87,103.12,105.12)

Delt(Stock.Open)                    #one period pct. price change
Delt(Stock.Open,k=1)                #same
Delt(Stock.Open,type='arithmetic')  #using arithmetic differences (default)
Delt(Stock.Open,type='log')         #using log differences

Delt(Stock.Open,Stock.Close)        #Open to Close pct. change
Delt(Stock.Open,Stock.Close,k=0:2)  #...for 0,1, and 2 periods

</code></pre>

<hr>
<h2 id='findPeaks'> Find Peaks and Valleys In A Series </h2><span id='topic+findPeaks'></span><span id='topic+findValleys'></span><span id='topic+peak'></span><span id='topic+valley'></span>

<h3>Description</h3>

<p>Functions to find the peaks (tops) and valleys (bottoms)
of a given series.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findPeaks(x, thresh=0)
findValleys(x, thresh=0)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="findPeaks_+3A_x">x</code></td>
<td>
<p> a time series or vector </p>
</td></tr>
<tr><td><code id="findPeaks_+3A_thresh">thresh</code></td>
<td>
<p> minimum peak/valley threshold </p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of integers corresponding to peaks/valleys.
</p>
<p>As a peak[valley] is defined as the highest[lowest] value in a series,
the function can only define it after a change in direction
has occurred.  This means that the function will always
return the first period <em>after</em> the peak/valley of the
data, so as not to accidentally induce a look-ahead bias.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>Examples</h3>

<pre><code class='language-R'>findPeaks(sin(1:10))

p &lt;- findPeaks(sin(seq(1,10,.1)))
sin(seq(1,10,.1))[p]

plot(sin(seq(1,10,.1))[p])
plot(sin(seq(1,10,.1)),type='l')
points(p,sin(seq(1,10,.1))[p])
</code></pre>

<hr>
<h2 id='fittedModel'> quantmod Fitted Objects </h2><span id='topic+fittedModel'></span><span id='topic+fittedModel+3C-'></span><span id='topic+formula.quantmod'></span><span id='topic+plot.quantmod'></span><span id='topic+coefficients.quantmod'></span><span id='topic+coef.quantmod'></span><span id='topic+residuals.quantmod'></span><span id='topic+resid.quantmod'></span><span id='topic+fitted.values.quantmod'></span><span id='topic+fitted.quantmod'></span><span id='topic+anova.quantmod'></span><span id='topic+logLik.quantmod'></span><span id='topic+vcov.quantmod'></span>

<h3>Description</h3>

<p>Extract and replace fitted models from
<code>quantmod</code> objects built with
<code>buildModel</code>. All objects fitted
through methods specified in <code>buildModel</code>
calls can be extracted for further analysis.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>fittedModel(object)


## S3 method for class 'quantmod'
formula(x, ...)

## S3 method for class 'quantmod'
plot(x, ...)

## S3 method for class 'quantmod'
coefficients(object, ...)

## S3 method for class 'quantmod'
coef(object, ...)

## S3 method for class 'quantmod'
residuals(object, ...)

## S3 method for class 'quantmod'
resid(object, ...)

## S3 method for class 'quantmod'
fitted.values(object, ...)

## S3 method for class 'quantmod'
fitted(object, ...)

## S3 method for class 'quantmod'
anova(object, ...)

## S3 method for class 'quantmod'
logLik(object, ...)

## S3 method for class 'quantmod'
vcov(object, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="fittedModel_+3A_object">object</code></td>
<td>
<p> a <code>quantmod</code> object </p>
</td></tr>
<tr><td><code id="fittedModel_+3A_x">x</code></td>
<td>
<p> a suitable object </p>
</td></tr>
<tr><td><code id="fittedModel_+3A_...">...</code></td>
<td>
<p> additional arguments </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Most often used to extract the final fitted
object of the modelling process, usually for
further analysis with tools outside
the <span class="pkg">quantmod</span> package.
</p>
<p>Most common methods to apply to fitted objects
are available to the parent <code>quantmod</code>
object. At present, one can call directly the
following S3 methods on a built model as if
calling directly on the fitted object.
See *Usage* section.
</p>
<p>It is also <em>possible</em> to add
a fitted model to an object. This
may be of value when applying heuristic
rule sets for trading approaches, or when
fine tuning already fit models by hand.
</p>


<h3>Value</h3>

<p>Returns an object matching that returned
by a call to the method specified in
<code>buildModel</code>.
</p>


<h3>Note</h3>

 
<p>The replacement function <code>fittedModel&lt;-</code>
is highly experimental, and may or may not
continue into further releases.
</p>
<p>The fitted model added <em>must</em> use the
same names as appear in the <code>quantmod</code>
object's dataset.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+quantmod">quantmod</a></code>,<code><a href="#topic+buildModel">buildModel</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
x &lt;- specifyModel(Next(OpCl(DIA)) ~ OpCl(VIX))
x.lm &lt;- buildModel(x,method='lm',training.per=c('2001-01-01','2001-04-01'))

fittedModel(x.lm)

coef(fittedModel(x.lm))
coef(x.lm)                  # same

vcov(fittedModel(x.lm))
vcov(x.lm)                  # same

## End(Not run)
</code></pre>

<hr>
<h2 id='getDividends'> Load Financial Dividend Data </h2><span id='topic+getDividends'></span>

<h3>Description</h3>

<p>Download, or download and append stock dividend data
from Yahoo! Finance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getDividends(Symbol, 
             from = "1970-01-01",
             to = Sys.Date(), 
             env = parent.frame(), 
             src = "yahoo", 
             auto.assign = FALSE, 
             auto.update = FALSE, 
             verbose = FALSE,
             split.adjust = TRUE,
             ...,
             curl.options = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getDividends_+3A_symbol">Symbol</code></td>
<td>
<p> The Yahoo! stock symbol </p>
</td></tr>
<tr><td><code id="getDividends_+3A_from">from</code></td>
<td>
<p> date from in CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getDividends_+3A_to">to</code></td>
<td>
<p> date to in CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getDividends_+3A_env">env</code></td>
<td>
<p> where to create object </p>
</td></tr>
<tr><td><code id="getDividends_+3A_src">src</code></td>
<td>
<p> data source (only yahoo is valid at present)</p>
</td></tr>
<tr><td><code id="getDividends_+3A_auto.assign">auto.assign</code></td>
<td>
<p> should results be loaded to env</p>
</td></tr>
<tr><td><code id="getDividends_+3A_auto.update">auto.update</code></td>
<td>
<p> automatically add dividend to data object </p>
</td></tr>
<tr><td><code id="getDividends_+3A_verbose">verbose</code></td>
<td>
<p> display status of retrieval </p>
</td></tr>
<tr><td><code id="getDividends_+3A_split.adjust">split.adjust</code></td>
<td>
<p> adjust dividends for splits (<code>TRUE</code> by default
because that's what Yahoo returns)</p>
</td></tr>
<tr><td><code id="getDividends_+3A_...">...</code></td>
<td>
<p> currently unused </p>
</td></tr>
<tr><td><code id="getDividends_+3A_curl.options">curl.options</code></td>
<td>
<p> options passed to <code>curl::curl</code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Eventually destined to be a wrapper function along the lines
of <code>getSymbols</code> to different sources - this currently
only support Yahoo data.
</p>


<h3>Value</h3>

<p>If auto.assign is TRUE, the symbol will be written
to the environment specified in <code>env</code> with a
.div appended to the name.
</p>
<p>If auto.update is TRUE and the object is of class
<code>xts</code>, the dividends will be included as an
attribute of the original object and be reassigned
to the environment specified by <code>env</code>.
</p>
<p>All other cases will return the dividend data
as an <code>xts</code> object.
</p>


<h3>Note</h3>

 
<p>This function is very preliminary - and will most likely
change significantly in the future.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Yahoo! Finance: <a href="https://finance.yahoo.com">https://finance.yahoo.com</a></p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("MSFT")
getDividends("MSFT")

getDividends(MSFT)

## End(Not run)
</code></pre>

<hr>
<h2 id='getFinancials'> Download and View Financial Statements </h2><span id='topic+getFinancials'></span><span id='topic+viewFinancials'></span><span id='topic+getFin'></span><span id='topic+viewFin'></span>

<h3>Description</h3>

<p>Download Income Statement, Balance Sheet, and Cash Flow Statements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFinancials(Symbol, env = parent.frame(), src = "google", 
              auto.assign = TRUE,
              ...)

viewFinancials(x, type=c('BS','IS','CF'), period=c('A','Q'),
               subset = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getFinancials_+3A_symbol">Symbol</code></td>
<td>
<p> one or more valid google symbol, as a character vector or
semi-colon delimited string </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_env">env</code></td>
<td>
<p> where to create the object </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_src">src</code></td>
<td>
<p> currently no sources are implemented </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_auto.assign">auto.assign</code></td>
<td>
<p> should results be loaded to the environment </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_...">...</code></td>
<td>
<p> currently unused </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_x">x</code></td>
<td>
<p> an object of class financials </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_type">type</code></td>
<td>
<p> type of statement to view </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_period">period</code></td>
<td>
<p> period of statement to view </p>
</td></tr>
<tr><td><code id="getFinancials_+3A_subset">subset</code></td>
<td>
 <p>&lsquo;xts&rsquo; style subset string </p>
</td></tr>
</table>


<h3>Details</h3>

<p>A utility to download financial statements for publicly traded companies.
</p>
<p>Individual statements can be accessed using
standard <span class="rlang"><b>R</b></span> list extraction tools, or by
using <code>viewFinancials</code>.
</p>
<p><code>viewFinancials</code> allows for the use of
date subsetting as available in the <span class="pkg">xts</span>
package, as well as the specification of
the type of statement to view. BS for balance
sheet, IS for income statement, and CF for cash flow
statement. The period argument is used to identify
which statements to view - (A) for annual and (Q)
for quarterly.
</p>


<h3>Value</h3>

<p>Six individual matrices organized in a list of class &lsquo;financials&rsquo;:
</p>
<table role = "presentation">
<tr><td><code>IS</code></td>
<td>
<p> a list containing (Q)uarterly and (A)nnual Income Statements </p>
</td></tr>
<tr><td><code>BS</code></td>
<td>
<p> a list containing (Q)uarterly and (A)nnual Balance Sheets </p>
</td></tr>
<tr><td><code>CF</code></td>
<td>
<p> a list containing (Q)uarterly and (A)nnual Cash Flow Statements </p>
</td></tr>
</table>


<h3>Note</h3>

<p>As with all free data, you may be getting exactly what you pay for.
Sometimes that may be absolutely nothing.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getFinancials('JAVA')  # returns JAVA.f to "env"
getFin('AAPL') # returns AAPL.f to "env"

viewFin(JAVA.f, "IS", "Q")  # Quarterly Income Statement
viewFin(AAPL.f, "CF", "A")   # Annual Cash Flows

str(AAPL.f)

## End(Not run)
</code></pre>

<hr>
<h2 id='getFX'> Download Exchange Rates </h2><span id='topic+getFX'></span>

<h3>Description</h3>

<p>Download exchange rates or metals prices from oanda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getFX(Currencies,
      from = Sys.Date() - 179,
      to = Sys.Date(),
      env = parent.frame(),
      verbose = FALSE,
      warning = TRUE,
      auto.assign = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getFX_+3A_currencies">Currencies</code></td>
<td>
<p> Currency pairs expressed as &lsquo;CUR/CUR&rsquo; </p>
</td></tr>
<tr><td><code id="getFX_+3A_from">from</code></td>
<td>
<p> start date expressed in ISO CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getFX_+3A_to">to</code></td>
<td>
<p> end date expressed in ISO CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getFX_+3A_env">env</code></td>
<td>
<p> which environment should they be loaded into </p>
</td></tr>
<tr><td><code id="getFX_+3A_verbose">verbose</code></td>
<td>
<p> be verbose </p>
</td></tr>
<tr><td><code id="getFX_+3A_warning">warning</code></td>
<td>
<p> show warnings </p>
</td></tr>
<tr><td><code id="getFX_+3A_auto.assign">auto.assign</code></td>
<td>
<p> use auto.assign </p>
</td></tr>
<tr><td><code id="getFX_+3A_...">...</code></td>
<td>
<p> additional parameters to be passed to getSymbols.oanda method </p>
</td></tr>
</table>


<h3>Details</h3>

<p>A convenience wrapper to <code>getSymbols(x,src='oanda')</code>. See
<code>getSymbols</code> and <code>getSymbls.oanda</code> for more detail.
</p>


<h3>Value</h3>

<p>Data will be assigned
automatically to the environment specified (the parent environment by default).
If <code>auto.assign = FALSE</code>, the data from a single metal
request will simply be returned from the function call.
</p>
<p>If <code>auto.assign = TRUE</code> is used (the default)
a vector of downloaded symbol names will be returned.
</p>
<p>See <code>getSymbols</code> and <code>getSymbols.oanda</code> for more detail.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Oanda.com <a href="https://www.oanda.com">https://www.oanda.com</a> </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="#topic+getSymbols.oanda">getSymbols.oanda</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

getFX("USD/JPY")

getFX("EUR/USD",from="2005-01-01")

## End(Not run)
</code></pre>

<hr>
<h2 id='getMetals'> Download Daily Metals Prices </h2><span id='topic+getMetals'></span>

<h3>Description</h3>

<p>Download daily metals prices from oanda.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getMetals(Metals,
      from = Sys.Date() - 179,
      to = Sys.Date(),
      base.currency="USD",
      env = parent.frame(),
      verbose = FALSE,
      warning = TRUE,
      auto.assign = TRUE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getMetals_+3A_metals">Metals</code></td>
<td>
<p> metals expressed in common name or symbol form </p>
</td></tr>
<tr><td><code id="getMetals_+3A_from">from</code></td>
<td>
<p> start date expressed in ISO CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getMetals_+3A_to">to</code></td>
<td>
<p> end date expressed in ISO CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getMetals_+3A_base.currency">base.currency</code></td>
<td>
<p> which currency should the price be in </p>
</td></tr>
<tr><td><code id="getMetals_+3A_env">env</code></td>
<td>
<p> which environment should they be loaded into </p>
</td></tr>
<tr><td><code id="getMetals_+3A_verbose">verbose</code></td>
<td>
<p> be verbose </p>
</td></tr>
<tr><td><code id="getMetals_+3A_warning">warning</code></td>
<td>
<p> show warnings </p>
</td></tr>
<tr><td><code id="getMetals_+3A_auto.assign">auto.assign</code></td>
<td>
<p> use auto.assign </p>
</td></tr>
<tr><td><code id="getMetals_+3A_...">...</code></td>
<td>
<p> additional parameters to be passed to getSymbols.oanda method </p>
</td></tr>
</table>


<h3>Details</h3>

<p>A convenience wrapper to <code>getSymbols(x,src='oanda')</code>.
</p>
<p>The most useful aspect of getMetals is the ability to specify the Metals
in terms of underlying 3 character symbol or by name (e.g. XAU (gold) , XAG (silver),
XPD (palladium), or XPT (platinum)).
</p>
<p>There are unique aspects of any continuously traded commodity, and it
is recommended that the user visit <a href="https://www.oanda.com">https://www.oanda.com</a> for
details on specific pricing issues.
</p>
<p>See <code>getSymbols</code> and <code>getSymbls.oanda</code> for more detail.
</p>


<h3>Value</h3>

<p>Data will be assigned
automatically to the environment specified (the parent environment by default).
If <code>auto.assign = FALSE</code>, the data from a single metal
request will simply be returned from the function call.
</p>
<p>If <code>auto.assign = TRUE</code> is used (the default)
a vector of downloaded symbol names will be returned.
</p>
<p>See <code>getSymbols</code> and <code>getSymbols.oanda</code> for more detail.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Oanda.com <a href="https://www.oanda.com">https://www.oanda.com</a> </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="#topic+getSymbols.oanda">getSymbols.oanda</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 

getMetals(c("gold","XPD"))

getMetals("plat",from="2005-01-01")

## End(Not run)
</code></pre>

<hr>
<h2 id='getModelData'> Update model's dataset </h2><span id='topic+getModelData'></span>

<h3>Description</h3>

<p>Update currently specified or built model with most recent data.  
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getModelData(x, na.rm = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getModelData_+3A_x">x</code></td>
<td>
<p> An object of class <code>quantmod</code> </p>
</td></tr>
<tr><td><code id="getModelData_+3A_na.rm">na.rm</code></td>
<td>
<p> Boolean. Remove NA values. Defaults to TRUE </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Primarily used within specify model calls,
<code>getModelData</code> is used to retrieve the appropriate underlying variables, 
and apply model specified transformations automatically.
It can be used to also update a current model in memory with the most recent data.
</p>


<h3>Value</h3>

<p>Returns object of class <code>quantmod.OHLC</code>
</p>


<h3>Author(s)</h3>

<p> Jeffrey Ryan </p>


<h3>See Also</h3>

<p><code><a href="#topic+getSymbols">getSymbols</a></code> load data
<code><a href="#topic+specifyModel">specifyModel</a></code> create model structure
<code><a href="#topic+buildModel">buildModel</a></code> construct model
<code><a href="#topic+modelData">modelData</a></code> extract model dataset
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
my.model &lt;- specifyModel(Next(OpCl(QQQ)) ~ Lag(Cl(NDX),0:5))
getModelData(my.model)

## End(Not run)
</code></pre>

<hr>
<h2 id='getOptionChain'> Download Option Chains </h2><span id='topic+getOptionChain'></span>

<h3>Description</h3>

<p>Function to download option chain data from
data providers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOptionChain(Symbols, Exp = NULL, src="yahoo", ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getOptionChain_+3A_symbols">Symbols</code></td>
<td>
<p> The name of the underlying symbol. Source &lsquo;yahoo&rsquo; only 
allows for a single ticker while source &lsquo;orats&rsquo; can return multiple tickers.</p>
</td></tr>
<tr><td><code id="getOptionChain_+3A_exp">Exp</code></td>
<td>
<p> One or more expiration dates, NULL, or an ISO-8601 style string.
If <code>Exp</code> is missing, only the front month contract will be returned.
</p>
</td></tr>
<tr><td><code id="getOptionChain_+3A_src">src</code></td>
<td>
<p> Source of data.  One of &lsquo;yahoo&rsquo; or &lsquo;orats&rsquo; with
a default of &lsquo;yahoo&rsquo;.</p>
</td></tr>
<tr><td><code id="getOptionChain_+3A_...">...</code></td>
<td>
<p> Additional parameters.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper to data-provider specific
APIs.  By default the data is sourced from yahoo.
</p>


<h3>Value</h3>

<p>A named list containing two data.frames, one
for calls and one for puts.  If more than one
expiration was requested, this two-element list
will be contained within list of length <code>length(Exp)</code>.
Each element of this list will be named with the expiration
month, day, and year (for Yahoo sourced data).
</p>
<p>If <code>Exp</code> is set to <code>NULL</code>, all expirations
will be returned. Not explicitly setting will only
return the front month.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan, Joshua M. Ulrich, Steve Bronder </p>


<h3>References</h3>

<p><a href="https://finance.yahoo.com">https://finance.yahoo.com</a>,
<a href="https://docs.orats.io/datav2-api-guide/data.html#strikes">https://docs.orats.io/datav2-api-guide/data.html#strikes</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+getOptionChain.orats">getOptionChain.orats</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Only the front-month expiry
AAPL.OPT &lt;- getOptionChain("AAPL")
# All expiries
AAPL.OPTS &lt;- getOptionChain("AAPL", NULL)
# All 2015 and 2016 expiries
AAPL.2015 &lt;- getOptionChain("AAPL", "2015/2016")
# Using orats backend
NFLX.AAPL.2021 &lt;- getOptionChain(c("NFLX", "AAPL"), "2021", src = "orats", 
  api.key = Sys.getenv("ORATS_API_KEY"))

## End(Not run)
</code></pre>

<hr>
<h2 id='getOptionChain.orats'> Download Option Chain Data from orats </h2><span id='topic+getOptionChain.orats'></span>

<h3>Description</h3>

<p>Function to download option chain data from orats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getOptionChain.orats(Symbols, Exp, api.key, dte, delta)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getOptionChain.orats_+3A_symbols">Symbols</code></td>
<td>
<p> The name of the underlying symbol. Source &lsquo;yahoo&rsquo; only 
allows for a single ticker while source &lsquo;orats&rsquo; can return multiple tickers.</p>
</td></tr>
<tr><td><code id="getOptionChain.orats_+3A_exp">Exp</code></td>
<td>
<p> One or more expiration dates, NULL, or an ISO-8601 style string.
If <code>Exp</code> is missing, only the front month contract will be returned.
</p>
</td></tr>
<tr><td><code id="getOptionChain.orats_+3A_api.key">api.key</code></td>
<td>
<p> A character vector for the key given with an account for 
accessing the orats API. If missing, the function will look for an
environment variable <code>ORATS_API_KEY</code> containing the API key.</p>
</td></tr>
<tr><td><code id="getOptionChain.orats_+3A_dte">dte</code></td>
<td>
<p> A vector of two integers giving
a range of expiry dates to subset the results by.</p>
</td></tr>
<tr><td><code id="getOptionChain.orats_+3A_delta">delta</code></td>
<td>
<p>A vector of two integers giving
a range deltas to subset the results by.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is a wrapper to data-provider specific
APIs.  By default the data is sourced from yahoo.
</p>


<h3>Value</h3>

<p>For orats, returns A named list containing five data.frames, one
each for calls and puts that follows a similar form to the return 
from yahoo, but does not have a Last price and instead has a
Ticker column for multiple ticker requests. The *_extra data.frames
contain additional information from the &lsquo;orats&rsquo; API end point
whose definitions are available at the URL in the references.
If more than one expiration was requested, The results will be returned as
a list within list of length <code>length(Exp)</code>.
Each element of this list will be named with the expiration
month, day, and year (%b.%d.%Y).
</p>
<p>If <code>Exp</code> is set to <code>NULL</code>, all expirations
will be returned. Not explicitly setting will only
return the front month.
</p>


<h3>Author(s)</h3>

<p>Steve Bronder </p>


<h3>References</h3>

<p><a href="https://docs.orats.io/datav2-api-guide/data.html#strikes">https://docs.orats.io/datav2-api-guide/data.html#strikes</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# Only the front-month expiry
AAPL.OPT &lt;- getOptionChain("AAPL", 
  api.key = Sys.getenv("ORATS_API_KEY"))
# All expiries
AAPL.OPTS &lt;- getOptionChain("AAPL", NULL,
  api.key = Sys.getenv("ORATS_API_KEY"))
# All 2015 and 2016 expiries
AAPL.2015 &lt;- getOptionChain("AAPL", "2015/2016", 
  api.key = Sys.getenv("ORATS_API_KEY"))

## End(Not run)
</code></pre>

<hr>
<h2 id='getQuote'> Download Current Stock Quote </h2><span id='topic+getQuote'></span><span id='topic+standardQuote'></span><span id='topic+yahooQF'></span><span id='topic+yahooQuote.EOD'></span>

<h3>Description</h3>

<p>Fetch current stock quote(s) from specified source.  At present this only
handles sourcing quotes from Yahoo Finance and Alpha Vantage, but it can be
extended to additional sources.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getQuote(Symbols, src = "yahoo", what, ...)

standardQuote(src="yahoo")
yahooQF(names)
yahooQuote.EOD
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getQuote_+3A_symbols">Symbols</code></td>
<td>
<p> character string of symbols, separated by semi-colons </p>
</td></tr>
<tr><td><code id="getQuote_+3A_src">src</code></td>
<td>
<p> source of data (&quot;yahoo&quot; and &quot;av&quot; are currently implemented) </p>
</td></tr>
<tr><td><code id="getQuote_+3A_what">what</code></td>
<td>
<p> what should be retrieved </p>
</td></tr>
<tr><td><code id="getQuote_+3A_names">names</code></td>
<td>
<p> which data should be retrieved </p>
</td></tr>
<tr><td><code id="getQuote_+3A_...">...</code></td>
<td>
<p> currently unused </p>
</td></tr>
</table>


<h3>Value</h3>

<p>The number of symbols per request is limited to 200 for Yahoo! and 100 for
Alpha Vantage.  <code>getQuote</code> will make multiple requests if more than the
maximum number of symbols are requested.  It will then combine the results of
all the requests and return one data frame.  The data frame will contain a
column for each requested data field, and the requested symbols will be stored
in the row names.
</p>
<p>In order to import quotes from Alpha Vantage, you must obtain an
<em>API key</em> by completing a free, one-time registration at their website:
<a href="https://www.alphavantage.co/">https://www.alphavantage.co/</a>.  Then you can call <code>getQuote</code> with
<code>src = "av"</code> and <code>api.key = "[your key]"</code>.
</p>
<p>The <code>what</code> argument allows for specific data to be requested.  For
<code>getQuote.yahoo</code>, the value of <code>what</code> should be a <code>quoteFormat</code>
object like that returned by <code>standardQuote</code>.  The <code>yahooQF</code> function
will create an interactive selection tool if the <code>what</code> argument is
missing.  The <code>what</code> argument is currently ignored for Alpha Vantage data
because only a few fields are available.
</p>
<p><code>standardQuote</code> currently only applies to the Yahoo! data source. It
returns a <code>quoteFormat</code> object to use with the <code>getQuote</code> function.
</p>
<p><code>yahooQuote.EOD</code> is a constant <code>quoteFormat</code> object for OHLCV data.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan (Yahoo)
Ethan B. Smith (Alpha Vantage)
</p>


<h3>References</h3>

 
<p>Yahoo! Finance <a href="https://finance.yahoo.com">https://finance.yahoo.com</a>
Alpha Vantage <a href="https://www.alphavantage.co">https://www.alphavantage.co</a>
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="#topic+getSymbols.av">getSymbols.av</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>yahooQuote.EOD
## Not run: 
getQuote("AAPL")
getQuote("QQQ;SPY;^VXN",what=yahooQF(c("Bid","Ask")))
standardQuote()
yahooQF()

## End(Not run)
</code></pre>

<hr>
<h2 id='getSplits'> Load Financial Split Data </h2><span id='topic+getSplits'></span>

<h3>Description</h3>

<p>Download, or download and append stock split data
from Yahoo! Finance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSplits(Symbol, 
          from = "1970-01-01",
          to = Sys.Date(), 
          env = parent.frame(), 
          src = "yahoo", 
          auto.assign = FALSE, 
          auto.update = FALSE, 
          verbose = FALSE,
          ...,
          curl.options = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSplits_+3A_symbol">Symbol</code></td>
<td>
<p> The Yahoo! stock symbol </p>
</td></tr>
<tr><td><code id="getSplits_+3A_from">from</code></td>
<td>
<p> date from in CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getSplits_+3A_to">to</code></td>
<td>
<p> date to in CCYY-MM-DD format </p>
</td></tr>
<tr><td><code id="getSplits_+3A_env">env</code></td>
<td>
<p> where to create object </p>
</td></tr>
<tr><td><code id="getSplits_+3A_src">src</code></td>
<td>
<p> data source (only yahoo is valid at present)</p>
</td></tr>
<tr><td><code id="getSplits_+3A_auto.assign">auto.assign</code></td>
<td>
<p> should results be loaded to env</p>
</td></tr>
<tr><td><code id="getSplits_+3A_auto.update">auto.update</code></td>
<td>
<p> automatically add split to data object </p>
</td></tr>
<tr><td><code id="getSplits_+3A_verbose">verbose</code></td>
<td>
<p> display status of retrieval </p>
</td></tr>
<tr><td><code id="getSplits_+3A_...">...</code></td>
<td>
<p> currently unused </p>
</td></tr>
<tr><td><code id="getSplits_+3A_curl.options">curl.options</code></td>
<td>
<p> options passed to <code>curl::curl</code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Eventually destined to be a wrapper function along the lines
of <code>getSymbols</code> to different sources - this currently
only support Yahoo data.
</p>


<h3>Value</h3>

<p>If auto.assign is TRUE, the symbol will be written
to the environment specified in <code>env</code> with a
.div appended to the name.
</p>
<p>If auto.update is TRUE and the object is of class
<code>xts</code>, the dividends will be included as an
attribute of the original object and be reassigned
to the environment specified by <code>env</code>.
</p>
<p>All other cases will return the split data
as an <code>xts</code> object.  <code>NA</code> is returned if there
is no split data.
</p>


<h3>Note</h3>

 
<p>This function is very preliminary - and will most likely
change significantly in the future.
</p>


<h3>Author(s)</h3>

<p> Josh Ulrich </p>


<h3>References</h3>

<p> Yahoo! Finance: <a href="https://finance.yahoo.com">https://finance.yahoo.com</a></p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="#topic+getDividends">getDividends</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("MSFT")
getSplits("MSFT")

getSplits(MSFT)

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols'> Load and Manage Data from Multiple Sources </h2><span id='topic+getSymbols'></span><span id='topic+getSymbols.Bloomberg'></span><span id='topic+loadSymbols'></span><span id='topic+showSymbols'></span><span id='topic+removeSymbols'></span><span id='topic+saveSymbols'></span>

<h3>Description</h3>

<p>Functions to load and manage <code>Symbols</code> in
specified environment. Used by <code><a href="#topic+specifyModel">specifyModel</a></code>
to retrieve symbols specified in first step of modelling 
procedure.  Not a true S3 method, but methods for different
data sources follow an S3-like naming convention. Additional 
methods can be added by simply adhering to the convention.
</p>
<p>Current <code>src</code> methods available are: yahoo, google,
MySQL, FRED, csv, RData, oanda, and av.
</p>
<p>Data is loaded silently <em>without</em> user
assignment by default.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols(Symbols = NULL, 
           env = parent.frame(),
           reload.Symbols = FALSE,
           verbose = FALSE,
           warnings = TRUE,
           src = "yahoo",
           symbol.lookup = TRUE,
           auto.assign = getOption('getSymbols.auto.assign',TRUE),
           ...)

loadSymbols(Symbols = NULL, 
            env = parent.frame(),
            reload.Symbols = FALSE,
            verbose = FALSE,
            warnings = TRUE,
            src = "yahoo",
            symbol.lookup = TRUE,
            auto.assign = getOption('loadSymbols.auto.assign',TRUE),
            ...)

showSymbols(env=parent.frame())
removeSymbols(Symbols=NULL,env=parent.frame())
saveSymbols(Symbols = NULL,
            file.path=stop("must specify 'file.path'"),
            env = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols_+3A_env">env</code></td>
<td>
<p> where to create objects.  Setting env=NULL is equal to auto.assign=FALSE </p>
</td></tr>
<tr><td><code id="getSymbols_+3A_reload.symbols">reload.Symbols</code></td>
<td>
<p> boolean to reload current symbols
in specified environment. (FALSE)</p>
</td></tr>
<tr><td><code id="getSymbols_+3A_verbose">verbose</code></td>
<td>
<p> boolean to turn on status of retrieval.
(FALSE)</p>
</td></tr>
<tr><td><code id="getSymbols_+3A_warnings">warnings</code></td>
<td>
<p> boolean to turn on warnings. (TRUE)</p>
</td></tr>
<tr><td><code id="getSymbols_+3A_src">src</code></td>
<td>
<p> character string specifying sourcing method.
(yahoo)</p>
</td></tr>
<tr><td><code id="getSymbols_+3A_symbol.lookup">symbol.lookup</code></td>
<td>
<p> retrieve symbol's sourcing method
from external lookup (TRUE) </p>
</td></tr>
<tr><td><code id="getSymbols_+3A_auto.assign">auto.assign</code></td>
<td>
<p> should results be loaded to <code>env</code>
If <code>FALSE</code>, return results instead.
As of 0.4-0, this is the same as setting env=NULL.
Defaults to <code>TRUE</code> </p>
</td></tr>
<tr><td><code id="getSymbols_+3A_file.path">file.path</code></td>
<td>
<p> character string of file location </p>
</td></tr>
<tr><td><code id="getSymbols_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>getSymbols</code> is a wrapper to load data from
various sources, local or remote. Data is
fetched via one of the available <code>getSymbols</code> methods
and either saved in the <code>env</code> specified - the <code>parent.frame()</code>
by default &ndash; or returned to the caller.  The functionality derives from <code>base::load</code>
behavior and semantics, i.e. is assigned automatically
to a variable in the specified environment <em>without</em> the
user explicitly assigning the returned data to a variable. The assigned variable
name is that of the respective Symbols value.
</p>
<p>The previous sentence's point warrants repeating - getSymbols is called
for its side effects, and by default<em>does not</em> return the data object
loaded. The data is &lsquo;loaded&rsquo; silently by the function
into the environment specified.
</p>
<p>If automatic assignment is not desired, <code>env</code> may be set to NULL, or
<code>auto.assign</code> set to FALSE.
</p>
<p>The early versions of getSymbols assigned each object into the user's
.GlobalEnv by name (pre 2009 up to versions less than 0.4-0).  
This behavior is now supported by manually setting
env=.GlobalEnv. As of version 0.4-0, the environment is set
to parent.frame(), which preserved the user workspace when
called within another scope. 
</p>
<p><em>This behavior is expect to change for getSymbols as of 0.5-0, and all
results will instead be explicitly returned to the caller
unless a <code>auto.assign</code> is set to <code>TRUE</code>.</em>
Many thanks to Kurt Hornik and Achim Zeileis for suggesting this change, and
further thanks to Dirk Eddelbuettel for encouraging the move to a more functional
default by 0.5-0.
</p>
<p>Using auto.assign=TRUE, the variable chosen is an <span class="rlang"><b>R</b></span>-legal name derived
from the symbol being loaded. It is possible, using
<code>setSymbolLookup</code> to specify an alternate
name if the default is not desired. See that function for
details.
</p>
<p>If auto.assign=FALSE or env=NULL (as of 0.4-0)
the data will be returned from the call, and will require
the user to assign the results himself. Note that only <em>one</em> symbol
at a time may be requested when auto assignment is disabled.
</p>
<p>Most, if not all, documentation and functionality related
to model construction and testing in <span class="pkg">quantmod</span>
assumes that auto.assign remains set to TRUE and <code>env</code> is
a valid environment object for the calls related to those functions.
</p>
<p>Upon completion a list of
loaded symbols is stored in the specified environment
under the name <code>.getSymbols</code>.
</p>
<p>Objects loaded by <code>getSymbols</code> with auto.assign=TRUE
can be viewed with
<code>showSymbols</code> and
removed by a call to <code>removeSymbols</code>.  Additional
data loading &ldquo;methods&rdquo; can be
created simply by following the S3-like naming
convention where getSymbols.NAME
is used for your function NAME. See <code>getSymbols</code>
source code.
</p>
<p><code>setDefaults(getSymbols)</code> can be used to
specify defaults for <code>getSymbols</code> arguments.
<code>setDefaults(getSymbols.MySQL)</code> may be used for arguments
specific to <code>getSymbols.MySQL</code>, etc.
</p>
<p>The &ldquo;sourcing&rdquo; of data is managed internally
through a complex lookup procedure. If <code>symbol.lookup</code>
is TRUE (the default), a check is made if any symbol
has had its source specified by <code>setSymbolLookup</code>.
</p>
<p>If not set, the process continues by checking to see if
<code>src</code> has been specified by the user in the
function call. If not, any <code>src</code> defined with
<code>setDefaults(getSymbols,src=)</code> is used.
</p>
<p>Finally, if none of the other source rules apply
the default <code>getSymbols</code> <code>src</code> method is
used (&lsquo;yahoo&rsquo;).
</p>


<h3>Value</h3>

<p>Called for its side-effect with <code>env</code> set to a
valid environment and auto.assign=TRUE,
<code>getSymbols</code> will load into the specified
<code>env</code> one object for each
<code>Symbol</code> specified, with class defined
by <code>return.class</code>. Presently this may be <code>ts</code>,
<code>zoo</code>, <code>xts</code>, or <code>timeSeries</code>.
</p>
<p>If env=NULL or auto.assign=FALSE an object of type
<code>return.class</code> will be returned.
</p>


<h3>Note</h3>

<p>As of version 0.4-0, the default <code>env</code> value is now
<code>parent.frame()</code>.  In interactive use this should provide
the same functionality as the previous version. 
</p>
<p>While it is possible to load symbols as classes other
than <code>zoo</code>, <span class="pkg">quantmod</span> requires most, if not
all, data to be of class <code>zoo</code> or inherited
from <code>zoo</code> - e.g. <code>xts</code>. The additional
methods are meant mainly to be of use for those
using the functionality outside of the <span class="pkg">quantmod</span> workflow.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getModelData">getModelData</a></code>,<code><a href="#topic+specifyModel">specifyModel</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code>,
<code><a href="#topic+getSymbols.csv">getSymbols.csv</a></code>,
<code><a href="#topic+getSymbols.RData">getSymbols.RData</a></code>,
<code><a href="#topic+getSymbols.oanda">getSymbols.oanda</a></code>,
<code><a href="#topic+getSymbols.yahoo">getSymbols.yahoo</a></code>,
<code><a href="#topic+getSymbols.google">getSymbols.google</a></code>,
<code><a href="#topic+getSymbols.FRED">getSymbols.FRED</a></code>,
<code><a href="#topic+getFX">getFX</a></code>,
<code><a href="#topic+getMetals">getMetals</a></code>,
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
setSymbolLookup(QQQ='yahoo',SPY='google')

# loads QQQ from yahoo (set with setSymbolLookup)
# loads SPY from MySQL (set with setSymbolLookup)
getSymbols(c('QQQ','SPY'))                

# loads Ford market data from yahoo (the formal default)
getSymbols('F')       

# loads symbol from MySQL database (set with setDefaults)
getSymbols('DIA', verbose=TRUE, src='MySQL')                 

# loads Ford as time series class ts 
getSymbols('F',src='yahoo',return.class='ts') 

# load into a new environment
data.env &lt;- new.env()
getSymbols("YHOO", env=data.env)
ls.str(data.env)

# constrain to local scope
try(local( {
  getSymbols("AAPL")  # or getSymbols("AAPL", env=environment())
  str(AAPL)
  }))

exists("AAPL")  # FALSE

# assign into an attached environment
attach(NULL, name="DATA.ENV")
getSymbols("AAPL", env=as.environment("DATA.ENV"))
ls("DATA.ENV")
detach("DATA.ENV")

# directly return to caller
str( getSymbols("AAPL", env=NULL) )
str( getSymbols("AAPL", auto.assign=FALSE) )  # same


## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.av'> Download OHLC Data from Alpha Vantage </h2><span id='topic+getSymbols.av'></span><span id='topic+getSymbols.alphavantage'></span><span id='topic+getSymbols.Alphavantage'></span><span id='topic+getSymbols.alphVantage'></span><span id='topic+getSymbols.AlphVantage'></span>

<h3>Description</h3>

<p>Downloads historical or realtime equity price data
from <a href="https://www.alphavantage.co/">https://www.alphavantage.co/</a>.
Free registration is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.av(Symbols, env, api.key,
              return.class = "xts",
              periodicity = "daily",
              adjusted = FALSE,
              interval = "1min",
              output.size = "compact",
              data.type = "json",
              ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.av_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying the names
of the symbols to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_env">env</code></td>
<td>
<p> where to create objects (environment) </p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_api.key">api.key</code></td>
<td>
<p> the API key issued by Alpha Vantage when you registered (character)</p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object, see Value (character) </p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_periodicity">periodicity</code></td>
<td>
<p> one of <code>"daily"</code>, <code>"weekly"</code>, <code>"monthly"</code>, or <code>"intraday"</code> </p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_adjusted">adjusted</code></td>
<td>
<p>if TRUE, include a column of closing prices
adjusted for dividends and splits</p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_interval">interval</code></td>
<td>
<p>one of <code>"1min"</code>, <code>"5min"</code>, <code>"15min"</code>, <code>"30min"</code>, or <code>"60min"</code>
(intraday data only)</p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_output.size">output.size</code></td>
<td>
<p> either <code>"compact"</code> or <code>"full"</code> </p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_data.type">data.type</code></td>
<td>
<p> either <code>"json"</code> or <code>"csv"</code> </p>
</td></tr>
<tr><td><code id="getSymbols.av_+3A_...">...</code></td>
<td>
<p> additional parameters as per <code><a href="#topic+getSymbols">getSymbols</a></code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> only.
This method is not meant to be called directly, instead
a call to <code>getSymbols("x", src="av")</code> will
in turn call this method. It is documented for the
sole purpose of highlighting the arguments accepted.
</p>
<p>You must register with Alpha Vantage in order to download their data,
but the one-time registration is fast and free.
Register at their web site, <a href="https://www.alphavantage.co/">https://www.alphavantage.co/</a>,
and you will receive an <em>API key</em>:
a short string of alphanumeric characters (e.g., &quot;FU4U&quot;).
Provide the API key every time you call <code>getSymbols</code>;
or set it globally using <code>setDefaults(getSymbols.av, api.key="yourKey")</code>.
</p>
<p>The Alpha Vantage site provides daily, weekly, monthly, and intraday data.
Use <code>periodicity</code> to select one.
Note that intraday data will includes today's data (delayed) if downloaded
while the market is open, which is pretty cool.
</p>
<p>Set <code>adjusted=TRUE</code> to include a column of closing prices adjusted for
dividends and stock splits (available only for daily, weekly, and monthly data).
</p>
<p>The intraday data is provided as a sequence of OHLC bars.
Use the <code>interval</code> argument to determine the &quot;width&quot; of the bars:
1 minute bars, 5 minutes bars, 15 minutes bars, etc.
</p>
<p>By default Alpha Vantage returns the 100 most-recent data points (<code>output.size="compact"</code>).
Set <code>output.size="full"</code> to obtain the entire available history.
For daily, weekly, and monthly data, Alpha Vantage says the available data is up to 20 years;
for intraday data, the available history is the most recent 10 or 15 days.
Be forewarned that downloading <code>full</code> data requires more time than <code>compact</code> data, of course.
</p>
<p>Alpha Vantage provides access to data via two APIs. You can choose the API via
the <code>data.type</code> argument. <code>data.type="json"</code>, the default, will
import data using the JSON API. This API includes additional metadata (e.g.
last updated time, timezone, etc) that is not provided via the CSV API.
</p>


<h3>Value</h3>

<p>A call to <code>getSymbols(Symbols, src="av")</code> will create objects
in the specified environment,
one object for each <code>Symbol</code> specified.
The object class of the object(s) is determined by <code>return.class</code>.
Presently this may be <code>"ts"</code>, <code>"zoo"</code>, <code>"xts"</code>, or <code>"timeSeries"</code>.
</p>


<h3>Author(s)</h3>

<p> Paul Teetor </p>


<h3>References</h3>

<p> Alpha Vantage documentation available at <a href="https://www.alphavantage.co/">https://www.alphavantage.co/</a> </p>


<h3>See Also</h3>

<p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+getSymbols.yahoo">getSymbols.yahoo</a></code>,
<code><a href="#topic+getSymbols.google">getSymbols.google</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# You'll need the API key given when you registered
getSymbols("IBM", src="av", api.key="yourKey")

# The default output.size="compact" returns only the most recent 100 rows.
# Set output.size="full" for all available data.
getSymbols("IBM", src="av", api.key="yourKey", output.size="full")

# Intraday data is available for the most recent 10 or 15 days
# and includes quasi-realtime data (i.e., 20-minute delayed)
getSymbols("IBM", src="av", api.key="yourKey", output.size="full",
  periodicity="intraday")

# Repeating your API key every time is tedious.
# Fortunately, you can set a global default.
setDefaults(getSymbols.av, api.key="yourKey")
getSymbols("IBM", src="av")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.csv'> Load Data from csv File </h2><span id='topic+getSymbols.csv'></span>

<h3>Description</h3>

<p>Downloads <code>Symbols</code> to specified <code>env</code>
from local comma seperated file.  This method is
not to be called directly, instead a call to
<code>getSymbols(Symbols,src='csv')</code> will in
turn call this method. It is documented for the
sole purpose of highlighting the arguments
accepted, and to serve as a guide to creating
additional getSymbols &lsquo;methods&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.csv(Symbols,
                 env,
                 dir="",
                 return.class = "xts",
                 extension="csv",
                 col.names=c("Open","High","Low","Close","Volume","Adjusted"),
                  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.csv_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.csv_+3A_env">env</code></td>
<td>
<p> where to create objects. (.GlobalEnv) </p>
</td></tr>  
<tr><td><code id="getSymbols.csv_+3A_dir">dir</code></td>
<td>
<p> directory of csv file </p>
</td></tr>
<tr><td><code id="getSymbols.csv_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object </p>
</td></tr>  
<tr><td><code id="getSymbols.csv_+3A_extension">extension</code></td>
<td>
<p> extension of csv file </p>
</td></tr>
<tr><td><code id="getSymbols.csv_+3A_col.names">col.names</code></td>
<td>
<p> data column names </p>
</td></tr>
<tr><td><code id="getSymbols.csv_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also).
</p>
<p>One of a few currently defined methods for loading
data for use with <span class="pkg">quantmod</span>.  Essentially a
simple wrapper to the underlying <span class="rlang"><b>R</b></span> <code>read.csv</code>.
</p>


<h3>Value</h3>

<p>A call to getSymbols.csv will load into the specified
environment one object for each
<code>Symbol</code> specified, with class defined 
by <code>return.class</code>. Presently this may be <code>ts</code>,
<code>zoo</code>, <code>xts</code>, or <code>timeSeries</code>.
</p>


<h3>Note</h3>

<p>This has yet to be tested on a windows platform. It <em>should</em> work
though file seperators may be an issue.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="utils.html#topic+read.csv">read.csv</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# All 3 getSymbols calls return the same
# MSFT to the global environment
# The last example is what NOT to do!

## Method #1
getSymbols('MSFT',src='csv')


## Method #2
setDefaults(getSymbols,src='csv')
  # OR
setSymbolLookup(MSFT='csv')

getSymbols('MSFT')

#########################################
##  NOT RECOMMENDED!!!
#########################################
## Method #3
getSymbols.csv('MSFT',verbose=TRUE,env=globalenv())

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.FRED'> Download Federal Reserve Economic Data - FRED(R) </h2><span id='topic+getSymbols.FRED'></span>

<h3>Description</h3>

<p>R access to over 11,000 data series accessible
via the St. Louis Federal Reserve Bank's FRED system.
</p>
<p>Downloads <code>Symbols</code> to specified <code>env</code>
from &lsquo;research.stlouisfed.org&rsquo;.  This method is
not to be called directly, instead a call to
<code>getSymbols(Symbols,src='FRED')</code> will in
turn call this method. It is documented for the
sole purpose of highlighting the arguments
accepted, and to serve as a guide to creating
additional getSymbols &lsquo;methods&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.FRED(Symbols,
                env,
                return.class = "xts",
                ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.FRED_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.FRED_+3A_env">env</code></td>
<td>
<p> where to create objects. (.GlobalEnv) </p>
</td></tr>  
<tr><td><code id="getSymbols.FRED_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object </p>
</td></tr>  
<tr><td><code id="getSymbols.FRED_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also).
</p>
<p>One of many methods for loading
data for use with <span class="pkg">quantmod</span>.  Essentially a
simple wrapper to the underlying FRED
data download site.
</p>
<p>Naming conventions must follow those as seen
on the Federal Reserve Bank of St Louis's
website for FRED. A lookup facility will hopefully
be incorporated into <span class="pkg">quantmod</span> in the near future.
</p>


<h3>Value</h3>

<p>A call to getSymbols.FRED will load into the specified
environment one object for each
<code>Symbol</code> specified, with class defined 
by <code>return.class</code>. Presently this may be <code>ts</code>,
<code>zoo</code>, <code>xts</code>, or <code>timeSeries</code>.
</p>


<h3>Note</h3>

<p>FRED changed its URL scheme for the downloads from http:// to
https://. If <code>getSymbols.FRED</code> fails for this reason, try
one of the following solutions:
</p>

<ol>
<li><p>Explicitly pass <code>method</code> via the <code>getSymbols</code>
call (or via <code>setDefaults</code>).
</p>
</li>
<li><p>Install <span class="pkg">downloader</span>, which may be able to
automagically determine a suitable method.
</p>
</li>
<li><p>Set the <code>download.file.method</code> global option.
</p>
</li></ol>



<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> St. Louis Fed: Economic Data - FRED <a href="https://fred.stlouisfed.org/">https://fred.stlouisfed.org/</a>
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# All 3 getSymbols calls return the same
# CPI data to the global environment
# The last example is what NOT to do!

## Method #1
getSymbols('CPIAUCNS',src='FRED')


## Method #2
setDefaults(getSymbols,src='FRED')
  # OR
setSymbolLookup(CPIAUCNS='FRED')

getSymbols('CPIAUCNS')

#########################################
##  NOT RECOMMENDED!!!
#########################################
## Method #3
getSymbols.FRED('CPIAUCNS',env=globalenv())

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.MySQL'> Retrieve Data from MySQL Database </h2><span id='topic+getSymbols.MySQL'></span><span id='topic+getSymbols.mysql'></span>

<h3>Description</h3>

<p>Fetch data from MySQL database.  As with other
methods extending the <code>getSymbols</code> function,
this should <em>NOT</em> be called directly.  Its
documentation is meant to highlight the formal
arguments, as well as provide a reference for
further user contributed data tools.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.MySQL(Symbols,
                 env, 
                 return.class = 'xts',
                 db.fields = c("date", "o", "h", "l", "c", "v", "a"), 
                 field.names = NULL,
                 user = NULL, 
                 password = NULL, 
                 dbname = NULL, 
                 host = "localhost", 
                 port = 3306, 
                 ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.MySQL_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_env">env</code></td>
<td>
<p> where to create objects. (.GlobalEnv)</p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_return.class">return.class</code></td>
<td>
<p> desired class of returned object.
Can be xts, 
zoo, data.frame, or ts. (zoo)</p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_db.fields">db.fields</code></td>
<td>
<p> character vector indicating
names of fields to retrieve</p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_field.names">field.names</code></td>
<td>
<p> names to assign to returned columns </p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_user">user</code></td>
<td>
<p> username to access database </p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_password">password</code></td>
<td>
<p> password to access database </p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_dbname">dbname</code></td>
<td>
<p> database name </p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_host">host</code></td>
<td>
<p> database host </p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_port">port</code></td>
<td>
<p> database port </p>
</td></tr>
<tr><td><code id="getSymbols.MySQL_+3A_...">...</code></td>
<td>
<p> currently not used </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also)
</p>
<p>One of a few currently defined methods for loading data for
use with <span class="pkg">quantmod</span>. Its use requires the packages
<span class="pkg">DBI</span> and <span class="pkg">MySQL</span>, along with a running
MySQL database with tables corresponding to the
<code>Symbol</code> name.
</p>
<p>The purpose of this abstraction is to make transparent the
&lsquo;source&rsquo; of the data, allowing instead the user to
concentrate on the data itself.
</p>


<h3>Value</h3>

<p>A call to getSymbols.MySQL will load into the specified
environment one object for each <code>Symbol</code> specified,
with class defined by <code>return.class</code>.
</p>


<h3>Note</h3>

 
<p>The default configuration needs a table named
for the Symbol specified (e.g. MSFT), with
column names date,o,h,l,c,v,a. For table
layout changes it is best to use
<code>setDefaults(getSymbols.MySQL,...)</code> with
the new db.fields values specified.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

 

<p><cite>MySQL AB <a href="https://www.mysql.com">https://www.mysql.com</a></cite>
</p>
<p><cite>
Jeroen Ooms and David James and Saikat DebRoy and Hadley Wickham and Jeffrey Horner (2019).
RMySQL: Database Interface and 'MySQL' Driver for R.
<a href="https://CRAN.R-project.org/package=RMySQL">https://CRAN.R-project.org/package=RMySQL</a></cite>
</p>
<p><cite>R-SIG-DB. DBI: R Database Interface</cite>

</p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# All 3 getSymbols calls return the same
# MSFT to the global environment
# The last example is what NOT to do!

setDefaults(getSymbols.MySQL,user='jdoe',password='secret',
            dbname='tradedata')

## Method #1
getSymbols('MSFT',src='MySQL')


## Method #2
setDefaults(getSymbols,src='MySQL')
  # OR
setSymbolLookup(MSFT='MySQL')

getSymbols('MSFT')

#########################################
##  NOT RECOMMENDED!!!
#########################################
## Method #3
getSymbols.MySQL('MSFT',env=globalenv())

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.oanda'> Download Currency and Metals Data from Oanda.com </h2><span id='topic+getSymbols.oanda'></span><span id='topic+oanda.currencies'></span>

<h3>Description</h3>

<p>Access to 191 currency and metal prices, downloadable
as more that 36000 currency pairs from Oanda.com.
</p>
<p>Downloads <code>Symbols</code> to specified <code>env</code> from
<a href="https://www.oanda.com">https://www.oanda.com</a> historical currency database.
This method is not meant to be called directly, instead
a call to <code>getSymbols("x",src="oanda")</code> will
in turn call this method. It is documented for the
sole purpose of highlighting the arguments accepted,
and to serve as a guide to creating additional
getSymbols 'methods'.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.oanda(Symbols,
                 env,
                 return.class = "xts",
                 from = Sys.Date() - 179,
                 to = Sys.Date(),
                 ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.oanda_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying the names
of each symbol to be loaded - expressed as a currency pair.
(e.g. U.S. Dollar to Euro rate would be expressed as
a string &ldquo;USD/EUR&rdquo;. The naming convention follows from
Oanda.com, and a table of possible values is
available by calling <code>oanda.currencies</code> </p>
</td></tr>
<tr><td><code id="getSymbols.oanda_+3A_env">env</code></td>
<td>
<p> where to create objects. </p>
</td></tr>
<tr><td><code id="getSymbols.oanda_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object </p>
</td></tr>
<tr><td><code id="getSymbols.oanda_+3A_from">from</code></td>
<td>
<p> Start of series expressed as &quot;CCYY-MM-DD&quot; </p>
</td></tr>
<tr><td><code id="getSymbols.oanda_+3A_to">to</code></td>
<td>
<p> Start of series expressed as &quot;CCYY-MM-DD&quot; </p>
</td></tr>
<tr><td><code id="getSymbols.oanda_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by getSymbols only.
</p>
<p>Oanda data is 7 day daily average price data, that is Monday through Sunday.
Oanda only provides historical data for the past 180 days. getSymbols will
return as much data as possible, and warn when the <code>from</code> date is more
than 180 days ago.
</p>


<h3>Value</h3>

<p>A call to getSymbols(Symbols,src=&quot;oanda&quot;) will load into the specified
environment one object for each 'Symbol' specified, with class
defined  by 'return.class'. Presently this may be 'ts',
'zoo', 'xts', or 'timeSeries'.
</p>


<h3>Note</h3>

<p>Oanda rates are quoted as one unit of base currency to the
equivelant amount of foreign
currency.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Oanda.com <a href="https://www.oanda.com">https://www.oanda.com</a> </p>


<h3>See Also</h3>

<p> Currencies: <code><a href="#topic+getSymbols.FRED">getSymbols.FRED</a></code>,
<code><a href="#topic+getSymbols">getSymbols</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("USD/EUR",src="oanda")
getSymbols("USD/EUR",src="oanda",from="2005-01-01")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.rda'> Load Data from R Binary File </h2><span id='topic+getSymbols.rda'></span><span id='topic+getSymbols.RData'></span>

<h3>Description</h3>

<p>Downloads <code>Symbols</code> to specified <code>env</code>
from local R data file.  This method is
not to be called directly, instead a call to
<code>getSymbols(Symbols,src='rda')</code> will in
turn call this method. It is documented for the
sole purpose of highlighting the arguments
accepted, and to serve as a guide to creating
additional getSymbols &lsquo;methods&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.rda(Symbols,
                 env,
                 dir="",
                 return.class = "xts",
                 extension="rda",
                 col.names=c("Open","High","Low","Close","Volume","Adjusted"),
                 ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.rda_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.rda_+3A_env">env</code></td>
<td>
<p> where to create objects. (.GlobalEnv) </p>
</td></tr>  
<tr><td><code id="getSymbols.rda_+3A_dir">dir</code></td>
<td>
<p> directory of rda/RData file </p>
</td></tr>
<tr><td><code id="getSymbols.rda_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object </p>
</td></tr>  
<tr><td><code id="getSymbols.rda_+3A_extension">extension</code></td>
<td>
<p> extension of R data file </p>
</td></tr>
<tr><td><code id="getSymbols.rda_+3A_col.names">col.names</code></td>
<td>
<p> data column names </p>
</td></tr>
<tr><td><code id="getSymbols.rda_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also).
</p>
<p>One of a few currently defined methods for loading
data for use with <span class="pkg">quantmod</span>.  Essentially a
simple wrapper to the underlying <span class="rlang"><b>R</b></span> <code>load</code>.
</p>


<h3>Value</h3>

<p>A call to getSymbols.csv will load into the specified
environment one object for each
<code>Symbol</code> specified, with class defined 
by <code>return.class</code>. Presently this may be <code>ts</code>,
<code>zoo</code>, <code>xts</code>, <code>data.frame</code>, 
or <code>timeSeries</code>.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="base.html#topic+load">load</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# All 3 getSymbols calls return the same
# MSFT to the global environment
# The last example is what NOT to do!

## Method #1
getSymbols('MSFT',src='rda')
getSymbols('MSFT',src='RData')


## Method #2
setDefaults(getSymbols,src='rda')
  # OR
setSymbolLookup(MSFT='rda')
  # OR
setSymbolLookup(MSFT=list(src='rda'))

getSymbols('MSFT')

#########################################
##  NOT RECOMMENDED!!!
#########################################
## Method #3
getSymbols.rda('MSFT',verbose=TRUE,env=globalenv())

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.SQLite'> Retrieve Data from SQLite Database </h2><span id='topic+getSymbols.SQLite'></span>

<h3>Description</h3>

<p>Fetch data from SQLite database.  As with other methods
extending <code>getSymbols</code>
this function should <em>NOT</em> be called directly.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.SQLite(Symbols,
                  env,
                  return.class = 'xts',
                  db.fields = c("row_names",
                                "Open",
                                "High",
                                "Low",
                                "Close",
                                "Volume",
                                "Adjusted"),
                  field.names = NULL,
                  dbname = NULL,
                  POSIX = TRUE,
                  ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.SQLite_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying the names of each
symbol to be loaded </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_env">env</code></td>
<td>
<p> where to create the objects </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_return.class">return.class</code></td>
<td>
<p> desired class of returned object </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_db.fields">db.fields</code></td>
<td>
<p> character vector naming fields to retrieve </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_field.names">field.names</code></td>
<td>
<p> names to assign to returned columns </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_dbname">dbname</code></td>
<td>
<p> database name </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_posix">POSIX</code></td>
<td>
<p> are rownames numeric </p>
</td></tr>
<tr><td><code id="getSymbols.SQLite_+3A_...">...</code></td>
<td>
<p> additional arguments </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also)
</p>
<p>One of a few currently defined methods for loading data for use
with 'quantmod'. Its use requires the packages 'DBI' and 'RSQLite',
along with a SQLite database.
</p>
<p>The purpose of this abstraction is to make transparent the
'source' of the data, allowing instead the user to concentrate on
the data itself.
</p>


<h3>Value</h3>

<p>A call to getSymbols.SQLite will load into the specified
environment one object for each 'Symbol' specified, with class
defined by 'return.class'.
</p>


<h3>Note</h3>

 
<p>This function is experimental at best, and has not been
thoroughly tested.  Use with caution, and please report
any bugs to the maintainer of quantmod.
</p>


<h3>Author(s)</h3>

<p>Jeffrey A. Ryan</p>


<h3>References</h3>


<p><cite>SQLite <a href="https://www.sqlite.org/index.html">https://www.sqlite.org/index.html</a></cite>
</p>
<p><cite>David A. James 
RSQLite: SQLite interface for R
</cite>
</p>
<p><cite>R-SIG-DB. DBI: R Database Interface</cite>

</p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("QQQ",src="SQLite")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.tiingo'> Download OHLC Data from Tiingo </h2><span id='topic+getSymbols.tiingo'></span>

<h3>Description</h3>

<p>Downloads historical or realtime equity price data
from <a href="https://www.tiingo.com/">https://www.tiingo.com/</a>.
Registration is required.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  getSymbols.tiingo(Symbols, env, api.key,
                    return.class="xts",
                    periodicity="daily",
                    adjust=FALSE,
                    from='2007-01-01',
                    to=Sys.Date(),
                    ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.tiingo_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying the names
of the symbols to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_env">env</code></td>
<td>
<p> where to create objects (environment) </p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_api.key">api.key</code></td>
<td>
<p> the API key issued by Tiingo when you registered (character)</p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object, see Value (character) </p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_periodicity">periodicity</code></td>
<td>
<p> one of <code>"daily"</code>, <code>"weekly"</code>, <code>"monthly"</code>, or <code>"Annually"</code> </p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_adjust">adjust</code></td>
<td>
<p> adjust for dividends and splits? (FALSE) </p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_from">from</code></td>
<td>
<p> Retrieve data no earlier than this date. (2007-01-01)</p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_to">to</code></td>
<td>
<p> Retrieve data through this date (Sys.Date())</p>
</td></tr>
<tr><td><code id="getSymbols.tiingo_+3A_...">...</code></td>
<td>
<p> additional parameters as per <code><a href="#topic+getSymbols">getSymbols</a></code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> only.
This method is not meant to be called directly, instead
a call to <code>getSymbols("x", src="tiingo")</code> will
in turn call this method. It is documented for the
sole purpose of highlighting the arguments accepted.
</p>
<p>You must register with Tiingo in order to download their data.
Register at their web site, <a href="https://www.tiingo.com">https://www.tiingo.com</a>,
and you will receive an <em>API key</em>:
a short string of alphanumeric characters (e.g., &quot;FU4U&quot;).
Provide the API key every time you call <code>getSymbols</code>;
or set it globally using <code>setDefaults(getSymbols.tiingo, api.key="yourKey")</code>.
</p>
<p>Tiingo provides daily, weekly, monthly, and annual data.
Use <code>periodicity</code> to select one.
This API accessor will return adjusted or unadjusted OHLC as well as split and dividend information.
</p>
<p>For daily, weekly, and monthly data, Tiingo says the available data is up to 30 years;
</p>


<h3>Value</h3>

<p>A call to <code>getSymbols(Symbols, src="tiingo")</code> will create objects
in the specified environment,
one object for each <code>Symbol</code> specified.
The object class of the object(s) is determined by <code>return.class</code>.
Presently this may be <code>"ts"</code>, <code>"zoo"</code>, <code>"xts"</code>, or <code>"timeSeries"</code>.
</p>


<h3>Author(s)</h3>

<p> Steve Bronder </p>


<h3>References</h3>

<p> Tiingo documentation available at <a href="https://www.tiingo.com">https://www.tiingo.com</a> </p>


<h3>See Also</h3>

<p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+getSymbols.yahoo">getSymbols.yahoo</a></code>,
<code><a href="#topic+getSymbols.av">getSymbols.av</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# You'll need the API key given when you registered
getSymbols("IBM", src="tiingo", api.key="yourKey")

# Repeating your API key every time is tedious.
# Fortunately, you can set a global default.
setDefaults(getSymbols.tiingo, api.key="yourKey")
getSymbols("IBM", src="tiingo")

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.yahoo'> Download OHLC Data From Yahoo Finance </h2><span id='topic+getSymbols.yahoo'></span>

<h3>Description</h3>

<p>Downloads <code>Symbols</code> to specified <code>env</code>
from &lsquo;finance.yahoo.com&rsquo;.  This method is
not to be called directly, instead a call to
<code>getSymbols(Symbols,src='yahoo')</code> will in
turn call this method. It is documented for the
sole purpose of highlighting the arguments
accepted, and to serve as a guide to creating
additional getSymbols &lsquo;methods&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.yahoo(Symbols,
                 env,
                 return.class = 'xts',
                 index.class  = 'Date',
                 from = "2007-01-01",
                 to = Sys.Date(),
                 ...,
                 periodicity = "daily",
                 curl.options = list())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.yahoo_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.yahoo_+3A_env">env</code></td>
<td>
<p> where to create objects. (.GlobalEnv) </p>
</td></tr>  
<tr><td><code id="getSymbols.yahoo_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object </p>
</td></tr>  
<tr><td><code id="getSymbols.yahoo_+3A_index.class">index.class</code></td>
<td>
<p> class of returned object index (xts only) </p>
</td></tr>  
<tr><td><code id="getSymbols.yahoo_+3A_from">from</code></td>
<td>
<p> Retrieve data no earlier than this date. 
(2007-01-01)</p>
</td></tr>
<tr><td><code id="getSymbols.yahoo_+3A_to">to</code></td>
<td>
<p> Retrieve data through this date (Sys.Date())</p>
</td></tr>
<tr><td><code id="getSymbols.yahoo_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
<tr><td><code id="getSymbols.yahoo_+3A_periodicity">periodicity</code></td>
<td>
<p> periodicity of data to query and return. Must be
one of &quot;daily&quot;, &quot;weekly&quot;, &quot;monthly&quot;. (&quot;daily&quot;) </p>
</td></tr>
<tr><td><code id="getSymbols.yahoo_+3A_curl.options">curl.options</code></td>
<td>
<p> options passed to <code>curl::handle_setopt</code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also).
</p>
<p>One of a few currently defined methods for loading
data for use with <span class="pkg">quantmod</span>.  Essentially a
simple wrapper to the underlying Yahoo! finance site's
historical data download.
</p>


<h3>Value</h3>

<p>A call to getSymbols.yahoo will load into the specified
environment one object for each
<code>Symbol</code> specified, with class defined 
by <code>return.class</code>. Presently this may be <code>ts</code>,
<code>zoo</code>, <code>xts</code>, or <code>timeSeries</code>.
</p>
<p>In the case of xts objects, the indexing will be by Date. This
can be altered with the <code>index.class</code> argument.  See
<code>indexClass</code> for more information on changing index classes.
</p>


<h3>Warning</h3>

<p>As of quantmod 0.4-9, <code>getSymbols.yahoo</code> has been patched to
work with changes to Yahoo Finance, which also included the following
changes to the raw data:
</p>

<ul>
<li><p> The adjusted close column appears to no longer include dividend adjustments
</p>
</li>
<li><p> The close column appears to be adjusted for splits twice
</p>
</li>
<li><p> The open, high, and low columns are adjusted for splits, and
</p>
</li>
<li><p> The raw data may contain missing values.
</p>
</li></ul>



<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Yahoo Finance: <a href="https://finance.yahoo.com">https://finance.yahoo.com</a> </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# All 3 getSymbols calls return the same
# MSFT to the global environment
# The last example is what NOT to do!

## Method #1
getSymbols('MSFT',src='yahoo')


## Method #2
setDefaults(getSymbols,src='yahoo')
  # OR
setSymbolLookup(MSFT='yahoo')

getSymbols('MSFT')

#########################################
##  NOT RECOMMENDED!!!
#########################################
## Method #3
getSymbols.yahoo('MSFT',env=globalenv())

## End(Not run)
</code></pre>

<hr>
<h2 id='getSymbols.yahooj'> Download OHLC Data From Yahoo! Japan Finance </h2><span id='topic+getSymbols.yahooj'></span>

<h3>Description</h3>

<p>Downloads <code>Symbols</code> to specified <code>env</code>
from &lsquo;finance.yahoo.co.jp&rsquo;.  This method is
not to be called directly, instead a call to
<code>getSymbols(Symbols,src='yahooj')</code> will in
turn call this method. It is documented for the
sole purpose of highlighting the arguments
accepted, and to serve as a guide to creating
additional getSymbols &lsquo;methods&rsquo;.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getSymbols.yahooj(Symbols,
                  env,
                  return.class = 'xts',
                  index.class  = 'Date',
                  from = "2007-01-01",
                  to = Sys.Date(),
                   ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="getSymbols.yahooj_+3A_symbols">Symbols</code></td>
<td>
<p> a character vector specifying
the names of each symbol to be loaded</p>
</td></tr>
<tr><td><code id="getSymbols.yahooj_+3A_env">env</code></td>
<td>
<p> where to create objects. (.GlobalEnv) </p>
</td></tr>  
<tr><td><code id="getSymbols.yahooj_+3A_return.class">return.class</code></td>
<td>
<p> class of returned object </p>
</td></tr>  
<tr><td><code id="getSymbols.yahooj_+3A_index.class">index.class</code></td>
<td>
<p> class of returned object index (xts only) </p>
</td></tr>  
<tr><td><code id="getSymbols.yahooj_+3A_from">from</code></td>
<td>
<p> Retrieve data no earlier than this date. 
(2007-01-01)</p>
</td></tr>
<tr><td><code id="getSymbols.yahooj_+3A_to">to</code></td>
<td>
<p> Retrieve data through this date (Sys.Date())</p>
</td></tr>
<tr><td><code id="getSymbols.yahooj_+3A_...">...</code></td>
<td>
<p> additional parameters </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Meant to be called internally by <code>getSymbols</code> (see also).
</p>
<p>One of the few currently defined methods for loading
data for use with <span class="pkg">quantmod</span>.  Essentially a
simple wrapper to the underlying Yahoo! Japan finance site's
historical data download.
</p>
<p>The string &lsquo;YJ&rsquo; will be prepended to the <code>Symbols</code> because
Japanese ticker symbols usually start with a number and it is cumbersome
to use variable names that start with a number in the R environment.
</p>
<p>It is recommended to prepend the ticker symbols with &lsquo;YJ&rsquo; yourself
if you use <code>setSymbolLookup</code>. That will make it possible for the main
<code>getSymbols</code> function to find the symbols in the lookup table.
</p>


<h3>Value</h3>

<p>A call to getSymbols.yahooj will load into the specified
environment one object for each
<code>Symbol</code> specified, with class defined 
by <code>return.class</code>. Presently this may be <code>ts</code>,
<code>zoo</code>, <code>xts</code>, or <code>timeSeries</code>.
</p>
<p>In the case of xts objects, the indexing will be by Date. This
can be altered with the <code>index.class</code> argument.  See
<code>indexClass</code> for more information on changing index classes.
</p>


<h3>Author(s)</h3>

<p> Wouter Thielen </p>


<h3>References</h3>

<p> Yahoo! Japan Finance: <a href="https://finance.yahoo.co.jp">https://finance.yahoo.co.jp</a> </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# All 4 getSymbols calls return the same
# Sony (6758.T) OHLC to the global environment
# The last example is what NOT to do!

## Method #1
getSymbols('6758.T',src='yahooj')


## Method #2
getSymbols('YJ6758.T',src='yahooj')


## Method #3
setDefaults(getSymbols,src='yahooj')
  # OR
setSymbolLookup(YJ6758.T='yahooj')

getSymbols('YJ6758.T')

#########################################
##  NOT RECOMMENDED!!!
#########################################
## Method #4
getSymbols.yahooj('6758.T',env=globalenv())

## End(Not run)
</code></pre>

<hr>
<h2 id='has.OHLC'> Check For OHLC Data </h2><span id='topic+has.Ask'></span><span id='topic+has.Bid'></span><span id='topic+has.Price'></span><span id='topic+has.Qty'></span><span id='topic+has.Trade'></span><span id='topic+is.BBO'></span><span id='topic+is.TBBO'></span><span id='topic+has.Ad'></span><span id='topic+has.Op'></span><span id='topic+has.Hi'></span><span id='topic+has.Lo'></span><span id='topic+has.Cl'></span><span id='topic+has.Vo'></span><span id='topic+has.OHLC'></span><span id='topic+has.OHLCV'></span><span id='topic+is.OHLC'></span><span id='topic+is.OHLCV'></span><span id='topic+has.HLC'></span><span id='topic+is.HLC'></span><span id='topic+has.HL'></span><span id='topic+is.HL'></span>

<h3>Description</h3>

<p>A set of functions to check for appropriate
OHLC and HLC column names within a data object, as well
as the availability and position of those columns.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.OHLC(x)
has.OHLC(x, which = FALSE)

is.OHLCV(x)
has.OHLCV(x, which = FALSE)

is.HLC(x)
has.HLC(x, which = FALSE)

is.HL(x)
has.HL(x, which = FALSE)

has.Op(x, which = FALSE)
has.Hi(x, which = FALSE)
has.Lo(x, which = FALSE)
has.Cl(x, which = FALSE)
has.Vo(x, which = FALSE)
has.Ad(x, which = FALSE)

is.BBO(x)
is.TBBO(x)

has.Ask(x, which = FALSE)
has.Bid(x, which = FALSE)
has.Price(x, which = FALSE)
has.Qty(x, which = FALSE)
has.Trade(x, which = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="has.OHLC_+3A_x">x</code></td>
<td>
<p> data object </p>
</td></tr>
<tr><td><code id="has.OHLC_+3A_which">which</code></td>
<td>
<p> display position of match </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Mostly used internally by <span class="pkg">quantmod</span>, they can be useful
for checking whether an object
can be used in OHLC requiring functions like <code>Op</code>,
<code>OpCl</code>, etc.
</p>
<p>Columns names must contain the full description of data,
that is, Open, High, Low, Close, Volume or Adjusted. Abbreviations
will return <code>FALSE</code> (or <code>NA</code> when <code>which = TRUE</code>). See
<code><a href="#topic+quantmod.OHLC">quantmod.OHLC</a></code> for details of <span class="pkg">quantmod</span>
naming conventions.
</p>
<p>The &quot;is&quot; functions only return <code>TRUE</code> when the objects has the relevant
column names:
</p>

<ul>
<li> <p><code>is.HL</code>: High, Low
</p>
</li>
<li> <p><code>is.HLC</code>: High, Low, Close
</p>
</li>
<li> <p><code>is.OHLC</code>: Open, High, Low, Close
</p>
</li></ul>

<p>The search for relevant column names is not case sensitive.
Any additional columns in the object does not affect the return value.
</p>


<h3>Value</h3>

<p>A logical value indicating success or failure by default.
</p>
<p>If <code>which = TRUE</code>, a numeric value representing the column position
will be returned.
</p>
<p><code>is.OHLC</code>, <code>is.HL</code>, and <code>is.HLC</code> return a single logical value,
either <code>TRUE</code> or <code>FALSE</code>.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+quantmod.OHLC">quantmod.OHLC</a></code>,<code><a href="#topic+OHLC.Transformations">OHLC.Transformations</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("YHOO")

is.OHLC(YHOO)
has.OHLC(YHOO)

has.Ad(YHOO)


## End(Not run)
</code></pre>

<hr>
<h2 id='internal-quantmod'> Internal quantmod Objects </h2><span id='topic+.quantmodEnv'></span><span id='topic+addShading'></span><span id='topic+chartShading'></span>

<h3>Description</h3>

<p>To be documented...
</p>

<hr>
<h2 id='is.quantmod'> Test If Object of Type quantmod </h2><span id='topic+is.quantmod'></span><span id='topic+is.quantmodResults'></span>

<h3>Description</h3>

<p>Test if object is of type <code>quantmod</code> or
<code>quantmodResults</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.quantmod(x)
is.quantmodResults(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="is.quantmod_+3A_x">x</code></td>
<td>
<p> object to test </p>
</td></tr>
</table>


<h3>Value</h3>

<p>Boolean TRUE or FALSE
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+specifyModel">specifyModel</a></code>, <code><a href="#topic+tradeModel">tradeModel</a></code> </p>

<hr>
<h2 id='Lag'> Lag a Time Series </h2><span id='topic+Lag'></span><span id='topic+Lag.quantmod.OHLC'></span><span id='topic+Lag.zoo'></span><span id='topic+Lag.data.frame'></span><span id='topic+Lag.numeric'></span>

<h3>Description</h3>

<p>Create a lagged series from data, with <code>NA</code> used to fill.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Lag(x, k = 1)

## S3 method for class 'quantmod.OHLC'
Lag(x, k = 1)

## S3 method for class 'zoo'
Lag(x, k = 1)

## S3 method for class 'data.frame'
Lag(x, k = 1)

## S3 method for class 'numeric'
Lag(x, k = 1)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Lag_+3A_x">x</code></td>
<td>
<p> vector or series to be lagged </p>
</td></tr>
<tr><td><code id="Lag_+3A_k">k</code></td>
<td>
<p> periods to lag. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Shift series k-periods down, prepending <code>NA</code>s to front
of series.
</p>
<p>Specifically designed to handle <code>quantmod.OHLC</code> and
<code>zoo</code> series within the <code>quantmod</code> workflow.
</p>
<p>If no S3 method is found, a call to <code>lag</code> in <span class="pkg">base</span>
is made.
</p>


<h3>Value</h3>

<p>The original <code>x</code> prepended with <code>k</code> <code>NA</code>s
and missing the trailing <code>k</code> values.
</p>
<p>The returned series maintains the number of obs. of the
original.
</p>


<h3>Note</h3>

 
<p>This function differs from <code>lag</code> by returning 
the original series modified, as opposed to simply changing
the time series properties.  It differs from the like
named <code>Lag</code> in the <span class="pkg">Hmisc</span> as it deals primarily
with time-series like objects.
</p>
<p>It is important to realize that if there is no applicable
method for <code>Lag</code>, the value returned will be from 
<code>lag</code> in <span class="pkg">base</span>.  That is, coerced to <code>'ts'</code>
if necessary, and subsequently shifted.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="stats.html#topic+lag">lag</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>Stock.Close &lt;- c(102.12,102.62,100.12,103.00,103.87,103.12,105.12)
Close.Dates &lt;- as.Date(c(10660,10661,10662,10665,10666,10667,10668),origin="1970-01-01")
Stock.Close &lt;- zoo(Stock.Close,Close.Dates)

Lag(Stock.Close)        #lag by 1 period
Lag(Stock.Close,k=1)    #same
Lag(Stock.Close,k=1:3)  #lag 1,2 and 3 periods

</code></pre>

<hr>
<h2 id='modelData'> Extract Dataset Created by specifyModel </h2><span id='topic+modelData'></span>

<h3>Description</h3>

<p>Extract from a <code>quantmod</code> object the
dataset created for use in modelling.
</p>
<p>specifyModel creates a <code>zoo</code> object for
use in subsequent workflow stages (
<code>buildModel</code>,<code>tradeModel</code>) that
combines all model inputs, from a variety
of sources, into one model frame.
</p>
<p><code>modelData</code> returns this object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelData(x, data.window = NULL, exclude.training = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modelData_+3A_x">x</code></td>
<td>
<p> a <code>quantmod</code> object </p>
</td></tr> 
<tr><td><code id="modelData_+3A_data.window">data.window</code></td>
<td>
<p> a character vector of subset start
and end dates to return </p>
</td></tr>
<tr><td><code id="modelData_+3A_exclude.training">exclude.training</code></td>
<td>
<p> remove training period </p>
</td></tr>
</table>


<h3>Details</h3>

<p>When a model is created by <code>specifyModel</code>, it
is attached to the returned object. One of the
slots of this S4 class is <code>model.data</code>.
</p>


<h3>Value</h3>

<p>an object of class <code>zoo</code> containing all
transformations to data specified in
<code>specifyModel</code>.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+specifyModel">specifyModel</a></code>,<code><a href="#topic+getModelData">getModelData</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
m &lt;- specifyModel(Next(OpCl(SPY)) ~ Cl(SPY) + OpHi(SPY) + Lag(Cl(SPY)))
modelData(m) 

## End(Not run)
</code></pre>

<hr>
<h2 id='modelSignal'> Extract Model Signal Object </h2><span id='topic+modelSignal'></span>

<h3>Description</h3>

<p>Extract model signal object from quantmodResults object
as an object of class <code>zoo</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>modelSignal(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="modelSignal_+3A_x">x</code></td>
<td>
<p> object of class <code>quantmodResults</code> </p>
</td></tr>
</table>


<h3>Details</h3>

<p>For use after a call to <code>tradeModel</code> to extract the generated
signal of a given <code>quantmod</code> model. Normally this would
not need to be called by the end user unless he was manually
post processing the trade results.
</p>


<h3>Value</h3>

<p>A <code>zoo</code> object indexed by signal dates.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

  <p><code><a href="#topic+tradeModel">tradeModel</a></code> </p>

<hr>
<h2 id='newTA'> Create A New TA Indicator For chartSeries </h2><span id='topic+newTA'></span><span id='topic+addTA'></span><span id='topic+chartTA'></span>

<h3>Description</h3>

<p>Functions to assist in the creation of indicators or
content to be drawn on plots produced by chartSeries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>addTA(ta,
      order = NULL,
      on = NA,
      legend = "auto",
      yrange = NULL,
      ...)

newTA(FUN,
      preFUN,
      postFUN,
      on = NA,
      yrange = NULL,
      legend.name,
      fdots = TRUE,
      cdots = TRUE,
      data.at = 1,
      ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="newTA_+3A_ta">ta</code></td>
<td>
<p> data to be plotted </p>
</td></tr>
<tr><td><code id="newTA_+3A_order">order</code></td>
<td>
<p> which should the columns (if &gt; 1) be plotted </p>
</td></tr>
<tr><td><code id="newTA_+3A_legend">legend</code></td>
<td>
<p> what custom legend text should be added to the chart. </p>
</td></tr>
<tr><td><code id="newTA_+3A_fun">FUN</code></td>
<td>
<p> Main filter function name - as a symbol </p>
</td></tr> 
<tr><td><code id="newTA_+3A_prefun">preFUN</code></td>
<td>
<p> Pre-filter transformation or extraction function </p>
</td></tr>
<tr><td><code id="newTA_+3A_postfun">postFUN</code></td>
<td>
<p> Post-filter transformation or extraction function </p>
</td></tr>
<tr><td><code id="newTA_+3A_on">on</code></td>
<td>
<p> where to draw </p>
</td></tr>
<tr><td><code id="newTA_+3A_yrange">yrange</code></td>
<td>
<p> length 2 vector of y-axis range </p>
</td></tr>
<tr><td><code id="newTA_+3A_legend.name">legend.name</code></td>
<td>
<p> optional legend heading, automatically derived otherwise </p>
</td></tr>
<tr><td><code id="newTA_+3A_fdots">fdots</code></td>
<td>
<p> should any ... be included in the main filter call </p>
</td></tr>
<tr><td><code id="newTA_+3A_cdots">cdots</code></td>
<td>
<p> should any ... be included in the resultant function object.
<code>fdots=TRUE</code> will override this to TRUE. </p>
</td></tr>
<tr><td><code id="newTA_+3A_data.at">data.at</code></td>
<td>
<p> which arguement to the main filter function is for data. </p>
</td></tr>
<tr><td><code id="newTA_+3A_...">...</code></td>
<td>
<p> any additonal graphical parameters/default to be included. </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Both <code>addTA</code> and <code>newTA</code> can be used to
dynamically add custom content to a displayed chart.
</p>
<p><code>addTA</code> takes a series of values, either in
a form coercible to <code>xts</code> or of the same length as
the charted series has rows, and displays the results in
either a new TA sub-window, or over/underlayed on
the main price chart.  If the object can be coerced to
<code>xts</code>, the time values present must only be within
the original series time-range.  Internally a merge
of dates occurs and will allow for the plotting
of discontinuous series.
</p>
<p>The <code>order</code> argument allows for multiple column
data to be plotted in an order that makes the most visual
sense.
</p>
<p>Specifying a <code>legend</code> will override the standard
parsing of the addTA call to attempt a guess at a suitable
title for the sub-chart. Specifying this will cause the standard
last value to <em>not</em> be printed. 
</p>
<p>The ... arg to <code>addTA</code> is used to set graphical parameters
interpretable by <code>lines</code>.
</p>
<p><code>newTA</code> acts as more of a skeleton function, taking
functions as arguments, as well as charting parameters,
and returns a function that can be called in the same
manner as the built-in TA tools, such as <code>addRSI</code> and
<code>addMACD</code>. Essentially a dynamic code generator
that allows for highly customizable chart tools with
minimal (possibly zero) coding.  It is also possible
to modify the resultant code to further change behavior.
</p>
<p>To create a new TA function with <code>newTA</code> certain arguments
must be specified.
</p>
<p>The <code>FUN</code> argument is a function symbol (or coercible to such)
that is the primary filter to be used on the core-data of a chartSeries
chart.  This can be like most of the functions
within the <span class="pkg">TTR</span> package &mdash; e.g. RSI or EMA.  The resultant object
of the function call will be equal to calling the function
on the original data passed into the chartSeries function that created the
chart.  It should be coercible to a matrix object, of one or more
columns of output.  By default all columns of output will be added to the chart,
unless suppressed by passing the appropriately positioned <code>type='n'</code> as
the ... arg. Note that this will not suppress the labels added to the chart.
</p>
<p>The <code>preFUN</code> argument will be called on the main chart's data prior
to passing it to FUN. This must be a function symbol or a character
string of the name function to be called.
</p>
<p>The <code>postFUN</code> argument will be called on the resultant data
returned from the <code>FUN</code> filter. This is useful for extracting
the relevant data from the returned filter data. Like <code>preFUN</code>
it must be a function symbol or a character string of the name
of the function to be called.
</p>
<p>The <code>yrange</code> argument is used to provide a custom
scale to the y-axis.  If <code>NULL</code> the min and
max of the data to be plotted will be used for the y-axis
range.
</p>
<p>The <code>on</code> is used to identify which subchart to add the
graphic to.  By default, <code>on=NA</code> will draw the series
in a new subchart below the last indicator.  Setting this
to either a positive or negative value will allow for
the series to be super-imposed on, or under, the (sub)chart
specified, respectively. A value of 1 refers to the main chart, and at present
is the only location supported.
</p>
<p><code>legend.name</code> will change the main label for a new plot.
</p>
<p><code>fdots</code> and <code>cdots</code> enable inclusion or suppression
of the ... within the resulting TA code's call to <code>FUN</code>,
or the argument list of the new TA function, respectively.
In order to facilitate user-specified graphical
parameters it is usually desireable to not impose 
artificial limits on the end-user
with constraints on types of parameters available.
By default the new TA function will include the dots
argument, and the internal FUN call will keep all arguments, including
the dots.  This may pose issues if the internal function then
passes those ... arguments to a function that can't handle them.
</p>
<p>The final argument is <code>data.at</code> which is the position
in the <code>FUN</code> argument list which expects the data
to be passed in at.  This default to the sensible
first position, though can be changed at the time of creation
by setting this argument to the required value.
</p>
<p>While the above functions are usually sufficient
to construct very pleasing graphical additions to
a chart, it may be necessary to modify by-hand
the code produced.  This can be accomplished by
dumping the function to a file, or using <code>fix</code>
on it during an interactive session.
</p>
<p>Another item of note, with respect to <code>newTA</code> is the
naming of the main legend label.  Following
addTA convention, the first &lsquo;add&rsquo; is stripped
from the function name, and the rest of the call's
name is used as the label.  This can be overridden
by specifying <code>legend.name</code> in the construction
of the new TA call, or by passing <code>legend</code> into
the new TA function.  Subtle differences exist, with
the former being the preferred solution.
</p>
<p>While both functions can be used to build new indicators
without any understanding of the internal chartSeries process,
it may be beneficial in more complex cases to have a knowledge
of the multi-step process involved in creating a chart via
chartSeries.
</p>
<p>to be added...
</p>


<h3>Value</h3>

<p><code>addTA</code> will invisibly return an S4 object of
class <code>chobTA</code>. If this function is called
interactively, the <code>chobTA</code> object will be
evaluated and added to the current chart.
</p>
<p><code>newTA</code> will return a function object that
can either be assigned or evaluated.  Evaluating
this function will follow the logic of any standard
addTA-style call, returning invisibly a <code>chobTA</code>
object, or adding to the chart.
</p>


<h3>Note</h3>

 
<p>Both interfaces are meant to fascilitate custom
chart additions.  <code>addTA</code> is for
adding any arbitrary series to a chart, where-as
<code>newTA</code> works with the underlying series with
the main chart object.  The latter also
acts as a dynamic TA skeleton generation tool
to help develop reusable TA generation code
for use on any chart.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+chartSeries">chartSeries</a></code>,
<code><a href="#topic+TA">TA</a></code>,
<code><a href="#topic+chob-class">chob</a></code>,
<code><a href="#topic+chobTA-class">chobTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols('SBUX')
barChart(SBUX)
addTA(EMA(Cl(SBUX)), on=1, col=6)
addTA(OpCl(SBUX), col=4, type='b', lwd=2)
# create new EMA TA function
newEMA &lt;- newTA(EMA, Cl, on=1, col=7)
newEMA()
newEMA(on=NA, col=5)

## End(Not run)
</code></pre>

<hr>
<h2 id='Next'> Advance a Time Series </h2><span id='topic+Next'></span><span id='topic+Next.quantmod.OHLC'></span><span id='topic+Next.zoo'></span><span id='topic+Next.data.frame'></span><span id='topic+Next.numeric'></span>

<h3>Description</h3>

<p>Create a new series with all values advanced forward one period.
The value of period 1, becomes the value at period 2,
value at 2 becomes the original value at 3, etc.  The opposite
of <code>Lag</code>.  <code>NA</code> is used to fill.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Next(x, k = 1)

## S3 method for class 'quantmod.OHLC'
Next(x,k=1)

## S3 method for class 'zoo'
Next(x,k=1)

## S3 method for class 'data.frame'
Next(x,k=1)

## S3 method for class 'numeric'
Next(x,k=1)

</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="Next_+3A_x">x</code></td>
<td>
<p> vector or series to be advanced </p>
</td></tr>
<tr><td><code id="Next_+3A_k">k</code></td>
<td>
<p> periods to advance </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Shift series k-periods up, appending <code>NA</code>s to end of series.
</p>
<p>Specifically designed to handle <code>quantmod.OHLC</code> and
<code>zoo</code> series within the <span class="pkg">quantmod</span> workflow.
</p>
<p>If no S3 method is found, a call to <code>lag</code> in <span class="pkg">base</span> is made,
with the indexing reversed to shift the time series forward.
</p>


<h3>Value</h3>

<p>The original <code>x</code> appended with <code>k</code> <code>NA</code>s and
missing the leading <code>k</code> values.
</p>
<p>The returned series maintains the number of obs. of the original.
</p>
<p>Unlike <code>Lag</code>, only one value for <code>k</code> is allowed.
</p>


<h3>Note</h3>

<p>This function's purpose is to get the &ldquo;next&rdquo; value of
the data you hope to forecast, e.g. a stock's closing value
at t+1.  Specifically to be used within
the <span class="pkg">quantmod</span> framework of <code>specifyModel</code>, as a
functional wrapper to the LHS of the model equation.
</p>
<p>It is not magic - and thus will not get tomorrow's values...
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

  <p><code><a href="#topic+specifyModel">specifyModel</a></code>, <code><a href="#topic+Lag">Lag</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>Stock.Close &lt;- c(102.12,102.62,100.12,103.00,103.87,103.12,105.12)
Close.Dates &lt;- as.Date(c(10660,10661,10662,10665,10666,10667,10668),origin="1970-01-01")
Stock.Close &lt;- zoo(Stock.Close,Close.Dates)

Next(Stock.Close)       #one period ahead
Next(Stock.Close,k=1)   #same

merge(Next(Stock.Close),Stock.Close)

## Not run: 
# a simple way to build a model of next days
# IBM close, given todays. Technically both
# methods are equal, though the former is seen
# as more intuitive...ymmv
specifyModel(Next(Cl(IBM)) ~ Cl(IBM))
specifyModel(Cl(IBM) ~ Lag(Cl(IBM)))

## End(Not run)
</code></pre>

<hr>
<h2 id='OHLC.Transformations'> Extract and Transform OHLC Time-Series Columns </h2><span id='topic+OHLC.Transformations'></span><span id='topic+getPrice'></span><span id='topic+Ad'></span><span id='topic+Cl'></span><span id='topic+ClCl'></span><span id='topic+Hi'></span><span id='topic+HiCl'></span><span id='topic+Lo'></span><span id='topic+LoCl'></span><span id='topic+LoHi'></span><span id='topic+Op'></span><span id='topic+OpCl'></span><span id='topic+OpHi'></span><span id='topic+OpLo'></span><span id='topic+OpOp'></span><span id='topic+Vo'></span><span id='topic+HL'></span><span id='topic+HLC'></span><span id='topic+OHLC'></span><span id='topic+OHLCV'></span><span id='topic+seriesHi'></span><span id='topic+seriesLo'></span><span id='topic+seriesIncr'></span><span id='topic+seriesDecr'></span><span id='topic+seriesAccel'></span><span id='topic+seriesDecel'></span>

<h3>Description</h3>

<p>Extract (transformed) data from a suitable OHLC object.
Column names must contain the
complete description - either &ldquo;Open&rdquo;, &ldquo;High&rdquo;,
&ldquo;Low&rdquo;, &ldquo;Close&rdquo;,
&ldquo;Volume&rdquo;, or &ldquo;Adjusted&rdquo; - though may
also contain additional characters.  This is the default for objects
returned from most <code>getSymbols</code> calls.
</p>
<p>In the case of functions consisting of combined
Op, Hi, Lo, Cl (e.g. <code>ClCl(x)</code>) the one period
transformation will be applied.
</p>
<p>For example, to return the Open to Close of a
object it is
possible to call <code>OpCl(x)</code>. If multiple periods
are desired a call to the function <code>Delt</code> is 
necessary.
</p>
<p><code>seriesLo</code> and <code>seriesHi</code> will return the
low and high, respectively, of a given series.
</p>
<p><code>seriesAccel</code>, <code>seriesDecel</code>, <code>seriesIncr</code>,
and <code>seriesDecr</code>, return a vector of logicals
indicating if the series is accellerating, decellerating,
increasing, or decreasing. This is managed by <code>diff</code>,
which provides NA fill and suitable re-indexing.  These
are here to make trade rules easier to read.
</p>
<p><code>HL</code> extracts the High and Low columns.
<code>HLC</code> extracts the High, Low, and Close columns.
<code>OHLC</code> extracts the Open, High, Low, and Close columns.
</p>
<p>These functions are merely to speed the model
specification process.  All columns may also be extracted
through standard R methods.
</p>
<p>Assignment will not work at present.
</p>
<p><code>getPrice</code> will attempt to extract price column(s) from a time series,
using sensible defaults. Additionally, the user may provide by symbol and price
preference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>Op(x)
Hi(x)
Lo(x)
Cl(x)
Vo(x)
Ad(x)

seriesHi(x)
seriesLo(x)
seriesIncr(x, thresh=0, diff.=1L)
seriesDecr(x, thresh=0, diff.=1L)

OpCl(x)
ClCl(x)
HiCl(x)
LoCl(x)
LoHi(x)
OpHi(x)
OpLo(x)
OpOp(x)

HL(x)
HLC(x)
OHLC(x)
OHLCV(x)

getPrice(x, symbol=NULL, prefer=NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="OHLC.Transformations_+3A_x">x</code></td>
<td>
<p> A data object with columns containing
data to be extracted. </p>
</td></tr>
<tr><td><code id="OHLC.Transformations_+3A_thresh">thresh</code></td>
<td>
<p> noise threshold (seriesIncr/seriesDecr) </p>
</td></tr>
<tr><td><code id="OHLC.Transformations_+3A_diff.">diff.</code></td>
<td>
<p> differencing (seriesIncr/seriesDecr) </p>
</td></tr>
<tr><td><code id="OHLC.Transformations_+3A_symbol">symbol</code></td>
<td>
<p> text string containing the symbol to extract </p>
</td></tr>
<tr><td><code id="OHLC.Transformations_+3A_prefer">prefer</code></td>
<td>
<p> price type preference (see Details) </p>
</td></tr>
<tr><td><code id="OHLC.Transformations_+3A_...">...</code></td>
<td>
<p> not currently used </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Internally, the code uses grep to locate the appropriate
columns. Therefore it is necessary to use inputs with
column names matching the requirements in the description
section, though the exact naming convention is not as important.
</p>
<p><code>prefer</code> can be used with <code>getPrice</code> to extract many commonly used
financial time series prices descriptions (e.g. open, high, low, close, bid,
ask/offer, midpoint, trade, price). If the value of <code>prefer</code> does not
match one of the currently supported types, it will be matched against the
object column names using <code>grep</code>.
</p>


<h3>Value</h3>

<p>Returns an object of the same class as the original
series, with the appropriately column names
if applicable and/or possible.  The only exceptions are for <code>quantmod.OHLC</code>
objects which will be returned as <code>zoo</code> objects, and calls to
<code>seriesLo</code> and <code>seriesHi</code> which <em>may</em> return a numeric
value instead of the original object type.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+specifyModel">specifyModel</a></code>  </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols('IBM',src='yahoo')
Ad(IBM)
Cl(IBM)
ClCl(IBM)

seriesHi(IBM)
seriesHi(Lo(IBM))

removeSymbols('IBM')

## End(Not run)
</code></pre>

<hr>
<h2 id='options.expiry'> Calculate Contract Expirations </h2><span id='topic+options.expiry'></span><span id='topic+futures.expiry'></span>

<h3>Description</h3>

<p>Return the index of the contract expiration date.  The third Friday of the
month for options, the last third Friday of the quarter for futures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>options.expiry(x)
futures.expiry(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="options.expiry_+3A_x">x</code></td>
<td>
<p> a time-indexed zoo object </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Designed to be used within a charting context via <code>addExpiry</code>, the values returned
are based on the description above. Exceptions, though rare, are not accounted for.
</p>


<h3>Value</h3>

<p>A numeric vector of values to index on.
</p>


<h3>Note</h3>

 
<p>There is currently no accounting for holidays that may interfere with
the general rule. Additionally all efforts have been focused on
US equity and futures markets.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> ~put references to the literature/web site here ~ </p>


<h3>See Also</h3>

 <p><code><a href="#topic+addExpiry">addExpiry</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("AAPL")

options.expiry(AAPL)
futures.expiry(AAPL)

AAPL[options.expiry(AAPL)]

## End(Not run)
</code></pre>

<hr>
<h2 id='periodReturn'> Calculate Periodic Returns </h2><span id='topic+periodReturn'></span><span id='topic+allReturns'></span><span id='topic+dailyReturn'></span><span id='topic+weeklyReturn'></span><span id='topic+monthlyReturn'></span><span id='topic+quarterlyReturn'></span><span id='topic+yearlyReturn'></span><span id='topic+annualReturn'></span>

<h3>Description</h3>

<p>Given a set of prices, return 
periodic returns. 
</p>


<h3>Usage</h3>

<pre><code class='language-R'>periodReturn(x,
             period='monthly',
             subset=NULL,
             type='arithmetic',
             leading=TRUE,
             ...)

dailyReturn(x, subset=NULL, type='arithmetic',
           leading=TRUE, ...)
weeklyReturn(x, subset=NULL, type='arithmetic',
           leading=TRUE, ...)
monthlyReturn(x, subset=NULL, type='arithmetic',
           leading=TRUE, ...)
quarterlyReturn(x, subset=NULL, type='arithmetic',
           leading=TRUE, ...)
annualReturn(x, subset=NULL, type='arithmetic',
           leading=TRUE, ...)
yearlyReturn(x, subset=NULL, type='arithmetic',
           leading=TRUE, ...)
allReturns(x, subset=NULL, type='arithmetic',
           leading=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="periodReturn_+3A_x">x</code></td>
<td>
<p> object of state prices, or an OHLC type object </p>
</td></tr>
<tr><td><code id="periodReturn_+3A_period">period</code></td>
<td>
<p> character string indicating time period.  Valid entries are
&lsquo;daily&rsquo;, &lsquo;weekly&rsquo;, 
&lsquo;monthly&rsquo;, &lsquo;quarterly&rsquo;, &lsquo;yearly&rsquo;.  All 
are accessible from wrapper functions described below.
Defaults to monthly returns (same as monthlyReturn)</p>
</td></tr>
<tr><td><code id="periodReturn_+3A_subset">subset</code></td>
<td>
<p> an xts/ISO8601 style subset string </p>
</td></tr>
<tr><td><code id="periodReturn_+3A_type">type</code></td>
<td>
<p> type of returns: arithmetic (discrete) or log (continuous) </p>
</td></tr>
<tr><td><code id="periodReturn_+3A_leading">leading</code></td>
<td>
<p> should incomplete leading period returns be returned </p>
</td></tr>
<tr><td><code id="periodReturn_+3A_...">...</code></td>
<td>
<p> passed along to to.period </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>periodReturn</code> is the underlying function for wrappers:
</p>

<ul>
<li> <p><code>allReturns: </code>      calculate all available return periods
</p>
</li>
<li> <p><code>dailyReturn: </code>     calculate daily returns
</p>
</li>
<li> <p><code>weeklyReturn: </code>    calculate weekly returns
</p>
</li>
<li> <p><code>monthlyReturn: </code>   calculate monthly returns
</p>
</li>
<li> <p><code>quarterlyReturn: </code> calculate quarterly returns
</p>
</li>
<li> <p><code>annualReturn: </code>    calculate annual returns
</p>
</li></ul>



<h3>Value</h3>

<p>Returns object of the class that was originally passed in,
with the possible exception of monthly and quarterly return
indicies being changed to class <code>yearmon</code> and <code>yearqtr</code>
where available.  This can be overridden with the <code>indexAt</code>
argument passed in the ... to the <code>to.period</code> function.
</p>
<p>By default, if <code>subset</code> is NULL, the full dataset will
be used.
</p>


<h3>Note</h3>

<p>Attempts are made to re-convert the resultant series to its original
class, if supported by the xts package.  At present, objects inheriting
from the &lsquo;ts&rsquo; class are returned as <code>xts</code> objects.  This
is to make the results more visually appealling and informative.  All
<code>xts</code> objects can be converted to class <code>ts</code> with
<code>as.ts</code> if that is desirable.
</p>
<p>The first and final row of returned object will have the period return to last date, 
i.e. this week/month/quarter/year return to date even if the start/end is not the start/end
of the period. Leading period calculations can be suppressed by setting <code>leading=FALSE</code>.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

<p><code><a href="#topic+getSymbols">getSymbols</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols('QQQ',src='yahoo')
allReturns(QQQ)  # returns all periods

periodReturn(QQQ,period='yearly',subset='2003::')  # returns years 2003 to present
periodReturn(QQQ,period='yearly',subset='2003')  # returns year 2003

rm(QQQ)

## End(Not run)
</code></pre>

<hr>
<h2 id='quantmod-class'>Class &quot;quantmod&quot; </h2><span id='topic+quantmod-class'></span><span id='topic+summary+2Cquantmod-method'></span><span id='topic+show+2Cquantmod-method'></span><span id='topic+fittedModel+3C--methods'></span><span id='topic+fittedModel+3C-+2Cquantmod-method'></span><span id='topic+quantmodResults-class'></span><span id='topic+show+2CquantmodResults-method'></span><span id='topic+quantmodReturn-class'></span><span id='topic+tradeLog-class'></span><span id='topic+show+2CtradeLog-method'></span>

<h3>Description</h3>

<p>   Objects of class <code>quantmod</code> help to 
manage the process of model building within the quantmod
package.  Created automatically by a call to <code>specifyModel</code>
they carry information to be used by a variety of accessor
functions and methods.
</p>


<h3>Objects from the Class</h3>

<p>Objects can be created by calls of the form <code>new("quantmod", ...)</code>.
</p>
<p>Normally objects are created as a result of a call to <code>specifyModel</code>.
</p>


<h3>Slots</h3>


<dl>
<dt><code>model.id</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>model.spec</code>:</dt><dd><p>Object of class <code>"formula"</code> ~~ </p>
</dd>
<dt><code>model.formula</code>:</dt><dd><p>Object of class <code>"formula"</code> ~~ </p>
</dd>
<dt><code>model.target</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>model.inputs</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>build.inputs</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>symbols</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>product</code>:</dt><dd><p>Object of class <code>"character"</code> ~~ </p>
</dd>
<dt><code>price.levels</code>:</dt><dd><p>Object of class <code>"zoo"</code> ~~ </p>
</dd>
<dt><code>training.data</code>:</dt><dd><p>Object of class <code>"Date"</code> ~~ </p>
</dd>
<dt><code>build.date</code>:</dt><dd><p>Object of class <code>"Date"</code> ~~ </p>
</dd>
<dt><code>fitted.model</code>:</dt><dd><p>Object of class <code>"ANY"</code> ~~ </p>
</dd>
<dt><code>model.data</code>:</dt><dd><p>Object of class <code>"zoo"</code> ~~ </p>
</dd>
<dt><code>quantmod.version</code>:</dt><dd><p>Object of class <code>"numeric"</code> ~~ </p>
</dd>
</dl>



<h3>Methods</h3>

<p>No methods defined with class &quot;quantmod&quot; in the signature.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>Examples</h3>

<pre><code class='language-R'>showClass("quantmod")
</code></pre>

<hr>
<h2 id='quantmod-defunct'>Defunct Functions in Package <span class="pkg">quantmod</span></h2><span id='topic+quantmod-defunct'></span><span id='topic+getSymbols.google'></span><span id='topic+getFin.google'></span><span id='topic+getFinancials.google'></span>

<h3>Description</h3>

<p>The functionality listed here is no longer part of <span class="pkg">quantmod</span>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>  # Defunct in 0.4-13
  # getFin(Symbol, src = "google")
  # getFinancials(Symbol, src = "google")
  getSymbols.google(Symbols, env, return.class = "xts", from = "2007-01-01",
    to = Sys.Date(), ...)
</code></pre>


<h3>Details</h3>

<p>Google Finance stopped providing data in March, 2018. This included historical
price data, and also financial information. This affected <code>getFinancials</code>,
<code>getFin</code>, and <code>getSymbols</code> when <code>src = "google"</code>.
</p>


<h3>See Also</h3>

<p><code><a href="base.html#topic+Defunct">Defunct</a></code>
</p>

<hr>
<h2 id='quantmod.OHLC'> Create Open High Low Close Object </h2><span id='topic+quantmod.OHLC'></span><span id='topic+as.quantmod.OHLC'></span>

<h3>Description</h3>

<p>Coerce an object with the apporpriate columns to class
<code>quantmod.OHLC</code>, which extends zoo.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.quantmod.OHLC(x,
                 col.names = c("Open", "High",
                               "Low", "Close",
                               "Volume", "Adjusted"),
                 name = NULL, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="quantmod.OHLC_+3A_x">x</code></td>
<td>
<p> object of class <code>zoo</code> </p>
</td></tr>
<tr><td><code id="quantmod.OHLC_+3A_col.names">col.names</code></td>
<td>
<p> suffix for columns </p>
</td></tr>
<tr><td><code id="quantmod.OHLC_+3A_name">name</code></td>
<td>
<p> name to attach unique column suffixes to,
defaults to the object name </p>
</td></tr> 
<tr><td><code id="quantmod.OHLC_+3A_...">...</code></td>
<td>
<p> additional arguments (unused) </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>quantmod.OHLC</code> is actually just a renaming of an object
of class <code>zoo</code>, with the convention of NAME.Open, NAME.High, ...
for the column names.
</p>
<p>Additionally methods may be written to handle or check for the above conditions
within other functions - as is the case within the <span class="pkg">quantmod</span> package.
</p>


<h3>Value</h3>

<p>An object of class c('quantmod.OHLC','zoo')
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+OHLC.Transformations">OHLC.Transformations</a></code>, <code><a href="#topic+getSymbols">getSymbols</a></code> </p>

<hr>
<h2 id='saveChart'> Save Chart to External File </h2><span id='topic+saveChart'></span>

<h3>Description</h3>

<p>Save selected chart to an external file.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>saveChart(.type = "pdf", ..., dev = dev.cur())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="saveChart_+3A_.type">.type</code></td>
<td>
<p> type of export. See Details. </p>
</td></tr>
<tr><td><code id="saveChart_+3A_...">...</code></td>
<td>
<p> arguments to pass to device </p>
</td></tr>
<tr><td><code id="saveChart_+3A_dev">dev</code></td>
<td>
<p> which device should be exported </p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function wraps the base R function <code>pdf</code>,
<code>postscript</code>, <code>png</code>, <code>jpeg</code>, and <code>bitmap</code>.
The <code>.type</code> argument must specify which device
driver is desired.
</p>
<p>The currently active device is used if <code>dev</code> is
missing.  The result is an exact copy (within the device limits)
of the chart specified.
</p>
<p>The name of the resultant file is derived from the name of the chart,
with the appropriate extension appended. (from <code>.type</code>). Specifying
the appropriate device file/filename will override this name.
</p>
<p>The caller may specify any parameters that are valid for the device called.
Internally, effort is made to match the dimensions of the device being
used to create the output file.  User supplied dimensions will override this
internal calculation.
</p>


<h3>Value</h3>

<p>A file in the current directory (default) matching the type of
the output requested.
</p>


<h3>Note</h3>

 
<p>As this uses <code>do.call</code> internally to create the new output device,
any device that makes use of R conventions should be acceptable as a
value for <code>.type</code>
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="grDevices.html#topic+pdf">pdf</a></code>
<code><a href="grDevices.html#topic+png">png</a></code>
<code><a href="grDevices.html#topic+jpeg">jpeg</a></code>
<code><a href="grDevices.html#topic+bitmap">bitmap</a></code>
<code><a href="grDevices.html#topic+postscript">postscript</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
getSymbols("AAPL")

chartSeries(AAPL)

require(TTR)
addBBands()

saveChart('pdf')
saveChart('pdf', width=13)

## End(Not run)
</code></pre>

<hr>
<h2 id='setSymbolLookup'> Manage Symbol Lookup Table </h2><span id='topic+setSymbolLookup'></span><span id='topic+getSymbolLookup'></span><span id='topic+loadSymbolLookup'></span><span id='topic+saveSymbolLookup'></span>

<h3>Description</h3>

<p>Create and manage Symbol defaults lookup table within
<span class="rlang"><b>R</b></span> session for use in <code>getSymbols</code> calls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setSymbolLookup(...)
getSymbolLookup(Symbols=NULL)

saveSymbolLookup(file,dir="")
loadSymbolLookup(file,dir="")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setSymbolLookup_+3A_...">...</code></td>
<td>
<p> name=value pairs for symbol defaults </p>
</td></tr>
<tr><td><code id="setSymbolLookup_+3A_symbols">Symbols</code></td>
<td>
<p> name of symbol(s) </p>
</td></tr>
<tr><td><code id="setSymbolLookup_+3A_file">file</code></td>
<td>
<p> filename </p>
</td></tr>
<tr><td><code id="setSymbolLookup_+3A_dir">dir</code></td>
<td>
<p> directory of filename </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Use of these functions allows the user to specify
a set of default parameters for each <code>Symbol</code> to be
loaded.
</p>
<p>Different sources (e.g. yahoo, MySQL, csv),
can be specified for each Symbol of
interest. The sources must be <em>valid</em>
<code>getSymbols</code> methods - see <code>getSymbols</code>
for details on which methods are available, as well as
how to add additional methods.
</p>
<p>The argument list to <code>setSymbolLookup</code> is
simply the unquoted name of the <code>Symbol</code> matched
to the desired default source, or list of Symbol
specific parameters.
</p>
<p>For example, to signify that the stock data for
Sun Microsystems (JAVA) should be downloaded from
Yahoo! Finance, one would call
<code>setSymbolLookup(JAVA='yahoo')</code>
or <code>setSymbolLookup(JAVA=list(src='yahoo'))</code>
</p>
<p>It is also possible to specify additional,
possibly source specific, lookup details on
a per symbol basis.  These include an alternate
naming convention (useful for sites like Yahoo! where
certain non-traded symbols are prepended with a caret,
or more correctly a curcumflex accent. In that case one would
specify <code>setSymbolLookup(DJI=list(name="^DJI",src="yahoo"))</code>)
as well as passed parameters like <code>dbname</code> and
<code>password</code> for database sources. See the
specific getSymbols function related to the source
in question for more details of each implementation.
</p>
<p>If a single named list is passed into the function without naming 
the list as a parameter, the names of this list will be presumed 
to be symbol names to be added to the current list of symbols. 
</p>
<p>All changes are made to the current list, and will
persist <em>only</em> until the end of the session. To <em>always</em>
use the same defaults it is necessary to call
<code>setSymbolLookup</code> with the appropriate
parameters from a startup file (e.g.
.Rprofile) or to use <code>saveSymbolLookup</code> and
<code>loadSymbolLookup</code> to save and restore lookup
tables.
</p>
<p>To unset a specific Symbol's defaults, simply assign
<code>NULL</code> to the Symbol.
</p>


<h3>Value</h3>

<p>Called for its side effects, the function changes the
<code>options</code> value for the specified Symbol
through a call to <code>options(getSymbols.sources=...)</code>
</p>


<h3>Note</h3>

 
<p>Changes are <em>NOT</em> persistent across sessions,
as the table is stored in the session options by default.
</p>
<p>This <em>may</em> change to allow for an easier to
manage process, as for now it is designed to minimize
the clutter created during a typical session.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+getSymbols">getSymbols</a></code>, <code><a href="base.html#topic+options">options</a></code>,</p>


<h3>Examples</h3>

<pre><code class='language-R'>setSymbolLookup(QQQ='yahoo',DIA='MySQL')
getSymbolLookup('QQQ')
getSymbolLookup(c('QQQ','DIA'))

## Not run: 
## Will download QQQ from yahoo
## and load DIA from MySQL
getSymbols(c('QQQ','DIA'))

## End(Not run)

## Use something like this to always retrieve
## from the same source

.First &lt;- function() {
  require(quantmod,quietly=TRUE)
  quantmod::setSymbolLookup(JAVA="MySQL")
}

## OR

## Not run: 
saveSymbolLookup()
loadSymbolLookup()

## End(Not run)
</code></pre>

<hr>
<h2 id='setTA'> Manage TA Argument Lists </h2><span id='topic+setTA'></span><span id='topic+unsetTA'></span><span id='topic+listTA'></span>

<h3>Description</h3>

<p>Used to manage the TA arguments used inside <code>chartSeries</code>
calls.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>setTA(type = c("chartSeries", "barChart", "candleChart"))

listTA(dev)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="setTA_+3A_type">type</code></td>
<td>
<p> the function to apply defaults TAs to </p>
</td></tr>
<tr><td><code id="setTA_+3A_dev">dev</code></td>
<td>
<p> the device to display TA arguments for </p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>setTA</code> and <code>unsetTA</code> provide a simple
way to reuse the same TA arguments for multiple
charts.  By default all charting functions will be
set to use the current chart's defaults.
</p>
<p>It is important to note that the <em>current</em> device
will be used to extract the list of TA arguments to apply.
This is done with a call to listTA internally, and followed
by calls to setDefaults of the appropriate functions.
</p>
<p>An additional way to set default TA arguments for subsequent
charts is via <code>setDefaults</code>. See the examples.
</p>


<h3>Value</h3>

<p>Called for its side-effect of setting the default
TA arguments to quantmod's charting functions.
</p>


<h3>Note</h3>

 
<p>Using <code>setDefaults</code> directly will require the vector
of default TA calls to be wrapped in a call to 
<code>substitute</code> to prevent unintended evaluations; <em>OR</em>
a call to <code>listTA</code> to get the present TA arguments.  This last
approach is what <code>setTA</code> wraps.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+chartSeries">chartSeries</a></code>,
<code><a href="#topic+addTA">addTA</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
listTA()
setTA()

# a longer way to accomplish the same
setDefaults(chartSeries,TA=listTA())
setDefaults(barCart,TA=listTA())
setDefaults(candleChart,TA=listTA())

setDefaults(chartSeries,TA=substitute(c(addVo(),addBBands())))

## End(Not run)
</code></pre>

<hr>
<h2 id='specifyModel'> Specify Model Formula For quantmod Process </h2><span id='topic+specifyModel'></span>

<h3>Description</h3>

<p>Create a single reusable model specification for subsequent buildModel calls. 
An object of class <code>quantmod</code> is created that can be then be reused with different
modelling methods and parameters.  No data frame is specified, as data is retrieved
from potentially multiple environments, and internal calls to getSymbols.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>specifyModel(formula, na.rm=TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="specifyModel_+3A_formula">formula</code></td>
<td>
<p>an object of class <code>formula</code> (or one that can be coerced to
that class): a symbolic description of the model to be fitted.
The details of model specifcation are given under Details.</p>
</td></tr>
<tr><td><code id="specifyModel_+3A_na.rm">na.rm</code></td>
<td>
<p>remove all incomplete rows.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Models are specified through the standard formula mechanism.
</p>
<p>As financial models may include a
variety of financial and economic indicators,
each differing in source, frequency, and/or class,
a single mechanism to specify sources is
included within a call to specifyModel.
See <code>getModelData</code> for details of
how this process works.
</p>
<p>Currently, objects of class <code>quantmod.OHLC</code>,
<code>zoo</code> and <code>ts</code> are supported within the
model formula.
</p>
<p>All symbols are first retrieved from the global environment, without inheritence.
If an object is not found in the global environment, it is added to a
list of objects to load through the <code>getSymbols</code>
function. getSymbols retrieves each
object specified by using information
as to its location specified apriori 
via <code>setDefaults</code> or <code>setSymbolLookup</code>.
</p>
<p>Internally all data is coerced to <code>zoo</code>,<code>data.frame</code>,
or <code>numeric</code> classes.
</p>


<h3>Value</h3>

<p>Returns an object of class <code>quantmod</code>.
Use <code>modelData</code> to extract
full data set as <code>zoo</code> object.
</p>


<h3>Note</h3>

<p> It is possible to include any supported series
in the formula by simply specifying
the object's symbol. See *Details* for a list
of currently supported classes.
</p>
<p>Use <code>getSymbols.skeleton</code> to create additional 
methods of data sourcing, e.g. from a proprietary
data format or currently unimplemented source
(Bloomberg, Oracle).
</p>
<p>See <code>getSymbols.MySQL</code> and <code>getSymbols.yahoo</code>
for examples of adding additional functionality</p>


<h3>Author(s)</h3>

<p> Jeffrey Ryan </p>


<h3>References</h3>

<p>quantmod.com <a href="http://www.quantmod.com">http://www.quantmod.com</a>
</p>


<h3>See Also</h3>

 <p><code><a href="#topic+getModelData">getModelData</a></code>,<code><a href="#topic+getSymbols">getSymbols</a></code>,
<code><a href="#topic+buildModel">buildModel</a></code>,<code><a href="#topic+tradeModel">tradeModel</a></code>,<code><a href="stats.html#topic+formula">formula</a></code>
<code><a href="#topic+setSymbolLookup">setSymbolLookup</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# if QQQ is not in the Global environment, an attempt will be made
# to retrieve it from the source specified with getSymbols.Default

specifyModel(Next(OpCl(QQQ)) ~ Lag(OpHi(QQQ),0:3) + Hi(DIA))

## End(Not run)
</code></pre>

<hr>
<h2 id='TA'> Add Technical Indicator to Chart </h2><span id='topic+TA'></span><span id='topic+dropTA'></span><span id='topic+moveTA'></span><span id='topic+swapTA'></span><span id='topic+addTRIX'></span><span id='topic+addATR'></span><span id='topic+addCMF'></span><span id='topic+addDPO'></span><span id='topic+addCMO'></span><span id='topic+addCLV'></span><span id='topic+addEMV'></span><span id='topic+addAroon'></span><span id='topic+addAroonOsc'></span><span id='topic+addVolatility'></span><span id='topic+addOBV'></span><span id='topic+addChVol'></span><span id='topic+addChAD'></span><span id='topic+addKST'></span><span id='topic+addMFI'></span><span id='topic+addTDI'></span><span id='topic+addZigZag'></span><span id='topic+addLines'></span><span id='topic+addPoints'></span><span id='topic+addMomentum'></span><span id='topic+addEnvelope'></span>

<h3>Description</h3>

<p>Functions to add technical indicators to a chart.
</p>


<h3>Details</h3>

<p>The general mechanism to add technical analysis studies or overlays
to a financial chart created with <code>chartSeries</code>.
</p>
<p>General TA charting tool functions:
</p>

<ul>
<li> <p><code>addTA</code>: add data as custom indicator
</p>
</li>
<li> <p><code>dropTA</code>: remove technical indicator
</p>
</li>
<li> <p><code>moveTA</code>: move a technical indicator
</p>
</li>
<li> <p><code>swapTA</code>: swap two technical indicators
</p>
</li></ul>

<p>Current technical indicators include:
</p>

<ul>
<li> <p><code>addADX</code>: add Welles Wilder's Directional Movement Indicator
</p>
</li>
<li> <p><code>addATR</code>: add Average True Range
</p>
</li>
<li> <p><code>addAroon</code>: add Aroon Indicator
</p>
</li>
<li> <p><code>addAroonOsc</code>: add Aroon Oscillator
</p>
</li>
<li> <p><code>addBBands</code>: add Bollinger Bands
</p>
</li>
<li> <p><code>addCCI</code>: add Commodity Channel Index
</p>
</li>
<li> <p><code>addCMF</code>: add Chaiken Money Flow
</p>
</li>
<li> <p><code>addChAD</code>: add Chaiken Accumulation Distribution Line
</p>
</li>
<li> <p><code>addChVol</code>: add Chaiken Volatility
</p>
</li>
<li> <p><code>addCMO</code>: add Chande Momentum Oscillator
</p>
</li>
<li> <p><code>addDEMA</code>: add Double Exponential Moving Average
</p>
</li>
<li> <p><code>addDPO</code>: add Detrended Price Oscillator
</p>
</li>
<li> <p><code>addEMA</code>: add Exponential Moving Average
</p>
</li>
<li> <p><code>addEMV</code>: add Arm's Ease of Movement
</p>
</li>
<li> <p><code>addEnvelope</code>: add Moving Average Envelope
</p>
</li>
<li> <p><code>addEVWMA</code>: add Exponential Volume Weighted Moving Average
</p>
</li>
<li> <p><code>addExpiry</code>: add options or futures expiration lines
</p>
</li>
<li> <p><code>addKST</code>: add Know Sure Thing
</p>
</li>
<li> <p><code>addLines</code>: add line(s)
</p>
</li>
<li> <p><code>addMACD</code>: add Moving Average Convergence Divergence
</p>
</li>
<li> <p><code>addMFI</code>: add Money Flow Index
</p>
</li>
<li> <p><code>addMomentum</code>: add Momentum
</p>
</li>
<li> <p><code>addOBV</code>: add On-Balance Volume
</p>
</li>
<li> <p><code>addPoints</code>: add point(s)
</p>
</li>
<li> <p><code>addROC</code>: add Rate of Change
</p>
</li>
<li> <p><code>addRSI</code>: add Relative Strength Indicator
</p>
</li>
<li> <p><code>addSAR</code>: add Parabolic SAR
</p>
</li>
<li> <p><code>addSMA</code>: add Simple Moving Average
</p>
</li>
<li> <p><code>addSMI</code>: add Stochastic Momentum Index
</p>
</li>
<li> <p><code>addTDI</code>: add Trend Direction Index
</p>
</li>
<li> <p><code>addTRIX</code>: add Triple Smoothed Exponential Oscillator
</p>
</li>
<li> <p><code>addVo</code>: add Volume (if available)
</p>
</li>
<li> <p><code>addVolatility</code>: add volatility
</p>
</li>
<li> <p><code>addWMA</code>: add Weighted Moving Average
</p>
</li>
<li> <p><code>addWPR</code>: add Williams Percent R
</p>
</li>
<li> <p><code>addZigZag</code>: add Zig Zag
</p>
</li>
<li> <p><code>addZLEMA</code>: add ZLEMA
</p>
</li></ul>

<p>See the individual functions for specific implementation and argument details.  Details
of the underlying TTR implementations can be found in <span class="pkg">TTR</span>.
</p>
<p>The primary changes between the add*** version of an indicator and the
<span class="pkg">TTR</span> base function is the absense of the data argument in the former.
</p>
<p>Notable additions include <code>on</code>, <code>with.col</code>.
</p>


<h3>Value</h3>

<p>Called for its side effects, an object to class <code>chobTA</code>
will be returned invisibly.  If called from the <span class="rlang"><b>R</b></span> command line
the method will draw the appropriate indicator on the current chart.
</p>


<h3>Note</h3>

<p>Calling any of the above methods from within a function or script
will generally require them to be wrapped in a <code>plot</code> call
as they rely on the context of the call to initiate the actual
charting addition.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>References</h3>

<p> Josh Ulrich - TTR package </p>

<hr>
<h2 id='tradeModel'> Simulate Trading of Fitted quantmod Object </h2><span id='topic+tradeModel'></span>

<h3>Description</h3>

<p>Simulated trading of fitted quantmod object.  Given a fitted model, 
tradeModel calculates the signal generated over a given historical
period, then applies specified <code>trade.rule</code> to calculate
and return a <code>tradeLog</code> object.  Additional methods can then 
be called to evaluate the performance of the model's strategy.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>tradeModel(x,
           signal.threshold = c(0, 0),
           leverage = 1,
           return.model = TRUE, 
           plot.model = FALSE,
           trade.dates = NULL,
           exclude.training = TRUE,
           ret.type = c("weeks", "months", "quarters", "years"),
           ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="tradeModel_+3A_x">x</code></td>
<td>
<p> a quantmod object from <code>buildModel</code>  </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_signal.threshold">signal.threshold</code></td>
<td>
<p> a numeric vector describing simple lower
and upper thresholds before trade occurs</p>
</td></tr>
<tr><td><code id="tradeModel_+3A_leverage">leverage</code></td>
<td>
<p> amount of leverage to apply - currently a constant </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_return.model">return.model</code></td>
<td>
<p> should the full model be returned? </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_plot.model">plot.model</code></td>
<td>
<p> plot the model? </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_trade.dates">trade.dates</code></td>
<td>
<p> specific trade interval - defaults to full dataset </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_exclude.training">exclude.training</code></td>
<td>
<p> exclude the period trained on? </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_ret.type">ret.type</code></td>
<td>
<p> a table of period returns </p>
</td></tr>
<tr><td><code id="tradeModel_+3A_...">...</code></td>
<td>
<p> additional parameters needed by the underlying modelling function, if any </p>
</td></tr>
</table>


<h3>Details</h3>

<p>Still highly experimental and changing. The purpose is to apply
a newly contructed model from <code>buildModel</code> to a new dataset
to investigate the model's trading potential.
</p>
<p>At present all parameters are very basic. The near term changes include
allowing for a trade.rule argument to allow for a dynamic trade rule given
a set of signals. Additional the application of variable leverage and costs
will become part of the final structure.
</p>
<p>Any suggestions as to inclusions or alterations are appreciated and should
be directed to the maintainer of the package.
</p>


<h3>Value</h3>

<p>A quantmodResults object
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

  <p><code><a href="#topic+specifyModel">specifyModel</a></code> <code><a href="#topic+buildModel">buildModel</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
m &lt;- specifyModel(Next(OpCl(QQQ)) ~ Lag(OpHi(QQQ)))
m.built &lt;- buildModel(m,method='rpart',training.per=c('2007-01-01','2007-04-01'))

tradeModel(m.built)
tradeModel(m.built,leverage=2)

## End(Not run)
</code></pre>

<hr>
<h2 id='zoomChart'> Change Zoom Level Of Current Chart </h2><span id='topic+zooom'></span><span id='topic+zoom'></span><span id='topic+zoomChart'></span>

<h3>Description</h3>

<p>Using <span class="pkg">xts</span> style date subsetting, zoom into
or out of the current chart.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>zooom(n=1, eps=2)
zoomChart(subset, yrange=NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="zoomChart_+3A_n">n</code></td>
<td>
<p> the number of interactive view changes per call </p>
</td></tr>
<tr><td><code id="zoomChart_+3A_eps">eps</code></td>
<td>
<p> the distance between clicks to be considered a valid subset request </p>
</td></tr>
<tr><td><code id="zoomChart_+3A_subset">subset</code></td>
<td>
<p> a valid subset string </p>
</td></tr>
<tr><td><code id="zoomChart_+3A_yrange">yrange</code></td>
<td>
<p> override y-scale </p>
</td></tr>
</table>


<h3>Details</h3>

<p>These function allow for viewing of specific
areas of a chart produced by <code>chartSeries</code>
by simply specifying the dates of interest
</p>
<p><code>zooom</code> is an interactive chart version
of <code>zoomChart</code> which utilizes the standard
<span class="rlang"><b>R</b></span> device interaction tool <code>locator</code> to
estimate the subset desired. This estimate is
then passed to zoomChart for actual redrawing.
At present it is
quite experimental in its interface and arguments.
Its usage entails a call to <code>zooom()</code> followed
by the selection of the leftmost and rightmost points
desired in the newly zoomed chart. This selection
is accomplished by the user left-clicking each extreme
point.  Two click are required to determine the level
of zooming.  Double clicking will reset the chart to
the full data range.  The arguments and internal
working of this function are likely to change dramatically
in future releases, though its use will likely remain.
</p>
<p>Standard format for the <code>subset</code> argument
is the same as the subsetting for xts objects,
which is how the data is stored internally for
rendering.
</p>
<p>Calling <code>zoomChart</code> with no arguments (NULL)
resets the chart to the original data.
</p>
<p>Examples include '2007' for all of the year 2007,
'2007::2008' for years 2007 through 2008, '::2007'
for all data from the beginning of the set to the
end of 2007, '2007::' all data from the beginning of
2007 through the end of the data.  For specifics
regarding the level of detail and internal interpretation
please see <code>[.xts</code>
</p>


<h3>Value</h3>

<p>This function is called for its side effect - notably
changing the perspective of the current chart, and
changing its formal subset level.  The underlying
data attached to the chart is left unchanged.
</p>


<h3>Author(s)</h3>

<p> Jeffrey A. Ryan </p>


<h3>See Also</h3>

 <p><code><a href="#topic+chartSeries">chartSeries</a></code> </p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
data(sample_matrix)
chartSeries(sample_matrix)
zoomChart('2007-04::')
zoomChart()

zooom() # interactive example

## End(Not run)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package rasterbc</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {rasterbc}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#datadir_bc'><p>Set local directory for storage of raster data files</p></a></li>
<li><a href='#findblocks_bc'><p>Identify NTS/SNRC codes covering a given geometry</p></a></li>
<li><a href='#getdata_bc'><p>Download data from the rasterbc collection</p></a></li>
<li><a href='#listdata_bc'><p>List all available layers, or their associated filepaths and download status</p></a></li>
<li><a href='#metadata_bc'><p>Metadata for rasterbc collections</p></a></li>
<li><a href='#ntspoly_bc'><p>National Topographic System Index Maps for British Columbia.</p></a></li>
<li><a href='#opendata_bc'><p>Load/merge data blocks and optionally clip/mask them</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Access Forest Ecology Layers for British Columbia in 2001-2018</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.2</td>
</tr>
<tr>
<td>Description:</td>
<td>R-based access to a large set of data variables relevant to forest ecology in British Columbia (BC), Canada. Layers
    are in raster format at 100m resolution in the BC Albers projection, hosted at the Federated Research Data Repository (FRDR)
    with &lt;<a href="https://doi.org/10.20383%2F101.0283">doi:10.20383/101.0283</a>&gt;. The collection includes: elevation; biogeoclimatic zone; wildfire; cutblocks; forest attributes from
    Hansen et al. (2013) &lt;<a href="https://doi.org/10.1139%2Fcjfr-2013-0401">doi:10.1139/cjfr-2013-0401</a>&gt; and Beaudoin et al. (2017) &lt;<a href="https://doi.org/10.1139%2Fcjfr-2017-0184">doi:10.1139/cjfr-2017-0184</a>&gt;; and rasterized
    Forest Insect and Disease Survey (FIDS) maps for a number of insect pest species, all covering the period 2001-2018.
    Users supply a polygon or point location in the province of BC, and 'rasterbc' will download the overlapping raster tiles
    hosted at FRDR, merging them as needed and returning the result in R as a 'SpatRaster' object. Metadata associated with these
    layers, and code for downloading them from their original sources can be found in the 'github' repository
    <a href="https://github.com/deankoch/rasterbc_src">https://github.com/deankoch/rasterbc_src</a>.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/deankoch/rasterbc">https://github.com/deankoch/rasterbc</a>,
<a href="https://github.com/deankoch/rasterbc_src">https://github.com/deankoch/rasterbc_src</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/deankoch/rasterbc/issues">https://github.com/deankoch/rasterbc/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>sf, methods, terra</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 2.10)</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, rmarkdown, bcmaps, units</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-11-09 01:44:43 UTC; deank</td>
</tr>
<tr>
<td>Author:</td>
<td>Dean Koch <a href="https://orcid.org/0000-0002-8849-859X"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut,
    cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Dean Koch &lt;dkoch@ualberta.ca&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-11-09 05:50:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='datadir_bc'>Set local directory for storage of raster data files</h2><span id='topic+datadir_bc'></span>

<h3>Description</h3>

<p>All files downloaded/created by the rasterbc package are written to the directory assigned
by this function. The path to this directory is stored in the global options list for R under
'rasterbc.data.dir'. To set this path, call <code>datadir_bc</code> and pass the path as argument
<code>data.dir</code>. To check the current setting, call <code>datadir_bc()</code> without arguments.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>datadir_bc(data.dir = NULL, quiet = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="datadir_bc_+3A_data.dir">data.dir</code></td>
<td>
<p>character string, the absolute path to the desired storage directory</p>
</td></tr>
<tr><td><code id="datadir_bc_+3A_quiet">quiet</code></td>
<td>
<p>logical indicating to skip confirmation prompt and warnings about existing directories</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>data.dir=NA</code>, the data storage directory is set to the a subdirectory of <code>base::tempdir()</code>,
a per-session temporary directory (cleared after each R session). This happens automatically if
<code>opendata_bc</code> or <code>getdata_bc</code> are called before <code>datadir_bc</code>, ensuring that <code>rasterbc</code> won't
unexpectedly overwrite things or leave garbage in the user's file system.
</p>
<p>However, users are strongly encouraged to set the data directory manually to a non-temporary
location. This allows copies of downloaded data to persist between sessions, so that
<code>rasterbc::opendata_bc</code> can load the local copies in future R sessions. This is both much faster
than downloading mapsheets repeatedly, and it reduces the strain on FRDR's data hosting service.
</p>
<p>The directory <code>data.dir</code> will be created if it doesn't already exist.
</p>


<h3>Value</h3>

<p>character string, the absolute path to the data storage directory
</p>


<h3>Examples</h3>

<pre><code class='language-R'># call without arguments to get the current directory (or a prompt to set it, if unset)
datadir_bc()
# call with argument NA to set a default location
datadir_bc(NA, quiet=TRUE)
datadir_bc()
</code></pre>

<hr>
<h2 id='findblocks_bc'>Identify NTS/SNRC codes covering a given geometry</h2><span id='topic+findblocks_bc'></span>

<h3>Description</h3>

<p>Data layers for the province of BC are split according to the mapsheet coding system
used by Canada's NTS/SNRC. This function identifies mapsheets intersecting with
the geographical extent of <code>geo</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>findblocks_bc(geo = NULL, type = "character")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="findblocks_bc_+3A_geo">geo</code></td>
<td>
<p>A point, line, or polygon object of class <code>sfc</code>, or a character vector of 4-character codes</p>
</td></tr>
<tr><td><code id="findblocks_bc_+3A_type">type</code></td>
<td>
<p>character, the object type to return, either 'character' or 'sfc'</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When <code>type='character'</code>, the function returns the 4-character NTS/SNRC codes corresponding
to mapsheets that intersect with the input geometry. When <code>type='sfc'</code>, the function returns
the mapsheet polygons themselves.
</p>
<p><code>geo=NULL</code> (the default) indicates to return all mapsheet codes/polygons. Non-NULL <code>geo</code>
must either be a character vector of codes, or else an sfc class object having a coordinate
reference system ('crs' attribute) defined. If <code>geo</code> intersects with none of the BC mapsheets,
(or contains unknown NTS/SNRC codes) the function returns <code>NULL</code>.
</p>


<h3>Value</h3>

<p>either a character vector or an sfc object (see details)
</p>


<h3>Examples</h3>

<pre><code class='language-R'># list all mapsheet codes then print the corresponding sfc object
findblocks_bc()
findblocks_bc(type='sfc')

# define an example point by specifying latitude and longitude (in WGS84 reference system)
input.point = sf::st_point(c(x=-120, y=50)) |&gt; sf::st_sfc(crs='EPSG:4326')

# this point lies at the intersection of four mapsheets, which are in Albers projection
blocks = findblocks_bc(input.point, type='sfc')
blocks |&gt; sf::st_geometry() |&gt; plot()
sf::st_transform(input.point, crs='EPSG:3005') |&gt; plot(add=TRUE)
blocks |&gt; sf::st_geometry() |&gt; sf::st_centroid() |&gt;
    sf::st_coordinates() |&gt; text(labels=blocks$NTS_SNRC)

# nudge the point slightly so it intersects with only one mapsheet
input.point = sf::st_point(c(x=-120.1, y=50.1)) |&gt; sf::st_sfc(crs='EPSG:4326')
blocks |&gt; sf::st_geometry() |&gt; plot()
sf::st_transform(input.point, crs='EPSG:3005') |&gt; plot(add=TRUE)
blocks |&gt; sf::st_geometry() |&gt; sf::st_centroid() |&gt;
   sf::st_coordinates() |&gt; text(labels=blocks$NTS_SNRC)
findblocks_bc(input.point)

# make a polygon (circle) from the point and repeat
if( requireNamespace('units', quietly = TRUE) ) {
input.polygon = input.point |&gt; sf::st_buffer(units::set_units(10, km))
blocks |&gt; sf::st_geometry() |&gt; plot()
sf::st_transform(input.polygon, crs='EPSG:3005') |&gt; plot(add=TRUE)
blocks |&gt; sf::st_geometry() |&gt; sf::st_centroid() |&gt;
   sf::st_coordinates() |&gt; text(labels=blocks$NTS_SNRC)
findblocks_bc(input.polygon)
}

# geo can be a character vector of codes
input.codes = c('093A', '093I', '104O')
findblocks_bc(input.codes, type='sfc')

</code></pre>

<hr>
<h2 id='getdata_bc'>Download data from the rasterbc collection</h2><span id='topic+getdata_bc'></span>

<h3>Description</h3>

<p>Downloads all mapsheet layers (geoTIFFs) covering the geographical extent of <code>geo</code> for the
specified <code>collection</code>, <code>varname</code>, and <code>year</code>. Input <code>geo</code> can be a vector
of (4-character) NTS/SNRC mapsheet codes or a geometry of class <code>sfc</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>getdata_bc(
  geo = NULL,
  collection = NULL,
  varname = NULL,
  year = NULL,
  force.dl = FALSE,
  quiet = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="getdata_bc_+3A_geo">geo</code></td>
<td>
<p>vector of character strings (NTS/SNRC codes) or a geometry of class <code>sfc</code></p>
</td></tr>
<tr><td><code id="getdata_bc_+3A_collection">collection</code></td>
<td>
<p>character string indicating the data collection to query</p>
</td></tr>
<tr><td><code id="getdata_bc_+3A_varname">varname</code></td>
<td>
<p>character string indicating the layer to query</p>
</td></tr>
<tr><td><code id="getdata_bc_+3A_year">year</code></td>
<td>
<p>integer indicating the year to query (if applicable)</p>
</td></tr>
<tr><td><code id="getdata_bc_+3A_force.dl">force.dl</code></td>
<td>
<p>logical indicating whether to overwrite any existing data</p>
</td></tr>
<tr><td><code id="getdata_bc_+3A_quiet">quiet</code></td>
<td>
<p>logical, suppresses console messages</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The data files are written to the directory returned by <code>rasterbc::datadir_bc()</code>. Mapsheets
found there (already downloaded) are not downloaded again unless <code>force.dl==TRUE</code>. Users
should only need to download a mapsheet once - there are no plans to update the rasterbc
collection in the future.
</p>


<h3>Value</h3>

<p>a vector of character string(s) containing the absolute path(s) to the downloaded file(s)
</p>


<h3>See Also</h3>

<p><code><a href="#topic+findblocks_bc">findblocks_bc</a></code> to identify which mapsheets will be downloaded
</p>
<p><code><a href="#topic+listdata_bc">listdata_bc</a></code> for a list of available collections, variable names, years
</p>


<h3>Examples</h3>

<pre><code class='language-R'># define a location of interest, and a polygon around it then fetch the corresponding DEM data
input.point = sf::st_point(c(x=-120.1, y=50.1)) |&gt; sf::st_sfc(crs='EPSG:4326')

if( requireNamespace('units', quietly = TRUE) ) {
input.polygon = input.point |&gt; sf::st_buffer(units::set_units(10, km))

## Not run: 
# the following downloads data from FRDR
block.path = getdata_bc(input.point, 'dem')
getdata_bc(input.polygon, 'dem')

# load one of the mapsheets
terra::rast(block.path)

## End(Not run)
}
</code></pre>

<hr>
<h2 id='listdata_bc'>List all available layers, or their associated filepaths and download status</h2><span id='topic+listdata_bc'></span>

<h3>Description</h3>

<p>Returns a list of dataframes (one per collection) describing the variables available through rasterbc, or a subset (as
specified by <code>collection</code>, <code>varname</code>, <code>year</code>). Alternatively, if <code>simple==TRUE</code>, returns a nested list indicating
the filepaths associated with these layers, and which of them exist in the local data storage directory already.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>listdata_bc(
  collection = NULL,
  varname = NULL,
  year = NULL,
  verbose = 1,
  simple = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="listdata_bc_+3A_collection">collection</code></td>
<td>
<p>(Optional) character string, indicating the data collection to query</p>
</td></tr>
<tr><td><code id="listdata_bc_+3A_varname">varname</code></td>
<td>
<p>(Optional) character string, indicating the layer to query (see Details, below)</p>
</td></tr>
<tr><td><code id="listdata_bc_+3A_year">year</code></td>
<td>
<p>(Optional) integer or character string, indicating the year to query (see Details, below)</p>
</td></tr>
<tr><td><code id="listdata_bc_+3A_verbose">verbose</code></td>
<td>
<p>An integer (0, 1, 2), indicating how much information about the files to print to the console</p>
</td></tr>
<tr><td><code id="listdata_bc_+3A_simple">simple</code></td>
<td>
<p>logical indicating to return a (list of) logical vector(s) indicating existence on disk of specific filenames</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The layers available through this package are organized into &quot;collections&quot;, corresponding to their original online sources.
Layers in a collection are further organized by variable name, and are uniquely identified by the character string <code>varname</code>
(and, if applicable, <code>year</code>). The optional arguments <code>collection</code>, <code>varname</code>, <code>year</code> prompt this function to return only the
applicable subsets.
</p>


<h3>Value</h3>

<p>Either a (list of) dataframe(s) containing information about each raster layer, or (when <code>simple==TRUE</code>) a
nested list of logical values (named according to filepath), with entries for each data file in the specified subset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># print available collections
listdata_bc() |&gt; names()

# print info about a specific collection
listdata_bc('bgcz')
listdata_bc('bgcz', verbose=2)

# example with a year field
listdata_bc('fids', varname='IBM_mid', year=2005, verbose=2)
listdata_bc('fids', varname='IBM_mid', verbose=2)

# "simple=TRUE" mode returns logical vector indicating which mapsheets are downloaded
listdata_bc(collection='dem', varname='aspect', verbose=2, simple=TRUE)
</code></pre>

<hr>
<h2 id='metadata_bc'>Metadata for rasterbc collections</h2><span id='topic+metadata_bc'></span>

<h3>Description</h3>

<p>This file contains a summary of metadata about the available datasets in rasterbc. The script ('metadata_bc.R') used to
generate this file can be found in the subdirectory rasterbc/data-raw/ (last updated November 09, 2023).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>metadata_bc
</code></pre>


<h3>Format</h3>

<p>Nested list containing metadata and URLs for all of the files available as rasterbc collections
</p>

<dl>
<dt>bgcz</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_bgcz.knit.md">BC biogeoclimatic zone</a> from BC Ministry of Forests</p>
</dd>
<dt>borders</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_borders.knit.md">Geographical coordinates grid</a> from Natural Resources Canada</p>
</dd>
<dt>cutblocks</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_cutblocks.knit.md">Consolidated cutblocks</a>, 2001-2018, from BC Ministry of Forests</p>
</dd>
<dt>dem</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_dem.knit.md">Digital elevation model</a> from Natural Resources Canada</p>
</dd>
<dt>fids</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_fids.knit.md">Forest insect and disease survey</a>, 2001-2018, from BC Ministry of Forests</p>
</dd>
<dt>gfc</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_gfc.knit.md">Forest extent and change</a>, 2001-2019 from Hansen et al. <a href="http://earthenginepartners.appspot.com/science-2013-global-forest">(2013)</a></p>
</dd>
<dt>nfdb</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_nfdb.knit.md">Canadian national fire database</a>, 2001-2018, from Natural Resources Canada</p>
</dd>
<dt>pine</dt><dd><p><a href="https://github.com/deankoch/rasterbc_src/blob/master/src_pine.knit.md">Interpolated forest attributes</a>, 2001, 2011, from Beaudoin et al. (2017) (DOI: 10.1139/cjfr-2017-0184)</p>
</dd>
</dl>



<h3>Details</h3>

<p>Relevant contents of the file can be accessed dataframe using the function listdata_bc.
</p>
<p>The rasterbc collection is published as a data publication
with associated <a href="https://www.doi.org/10.20383/101.0283">DOI</a> for permanence and easy referencing. For a more complete
description, along with instructions on downloading the collections from their sources and reproducing the collection,
see the <a href="https://github.com/deankoch/rasterbc_src">rasterbc_src</a> github repository.
</p>
<p>All were downloaded from sources and processed in the years 2018-2020, then stored as raster tiles in the standard
<a href="https://spatialreference.org/ref/epsg/nad83-bc-albers/">BC Albers</a> projection, and hosted on
<a href="https://www.frdr-dfdr.ca/repo/">FRDR</a>.
</p>


<h3>Source</h3>

<p>Original data sources were published by the Canadian Journal of Forest Research and various Canadian government environment ministries, and are described in full at <a href="https://github.com/deankoch/rasterbc_src">rasterbc_src</a>
</p>

<hr>
<h2 id='ntspoly_bc'>National Topographic System Index Maps for British Columbia.</h2><span id='topic+ntspoly_bc'></span>

<h3>Description</h3>

<p>Mapsheet boundary polygons for 1:250,000 scale maps, from Natural Resources Canada. The
<a href="https://open.canada.ca/en/open-government-licence-canada">Open Government License - Canada</a> applies.
More info <a href="https://natural-resources.canada.ca/earth-sciences/geography/topographic-information/maps/9765">available here</a>
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ntspoly_bc
</code></pre>


<h3>Format</h3>

<p>Simple feature collection (of type POLYGON), with 89 features and 1 field:
</p>

<dl>
<dt>NTS_SNRC</dt><dd><p>four-character mapsheet code</p>
</dd>
</dl>



<h3>Source</h3>

<p>Reproduced (in NAD83 / BC Albers projection) from the shapefile 'nts_snrc_250k.shp' in the zip archive 'nts_snrc.zip'
available from <a href="https://ftp.maps.canada.ca/pub/nrcan_rncan/vector/index/">http://geogratis.gc.ca/</a> (accessed June 11, 2020).
</p>

<hr>
<h2 id='opendata_bc'>Load/merge data blocks and optionally clip/mask them</h2><span id='topic+opendata_bc'></span>

<h3>Description</h3>

<p>Loads all mapsheets covering the geographical extent of input argument
<code>geo</code>. This can be a vector of (4-character) NTS/SNRC block codes, or a geometry of class
<code>sfc</code> having a defined coordinate reference system.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>opendata_bc(
  geo = NULL,
  collection = NULL,
  varname = NULL,
  year = NULL,
  type = "mask",
  quiet = FALSE,
  dl = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="opendata_bc_+3A_geo">geo</code></td>
<td>
<p>vector of character strings (NTS/SNRC codes) or a geometry of class <code>sfc</code></p>
</td></tr>
<tr><td><code id="opendata_bc_+3A_collection">collection</code></td>
<td>
<p>character string, indicating the data collection to query</p>
</td></tr>
<tr><td><code id="opendata_bc_+3A_varname">varname</code></td>
<td>
<p>character string, indicating the layer to query</p>
</td></tr>
<tr><td><code id="opendata_bc_+3A_year">year</code></td>
<td>
<p>integer, indicating the year to query</p>
</td></tr>
<tr><td><code id="opendata_bc_+3A_type">type</code></td>
<td>
<p>character string, one of 'all', 'clip', 'mask'</p>
</td></tr>
<tr><td><code id="opendata_bc_+3A_quiet">quiet</code></td>
<td>
<p>logical, suppresses console messages</p>
</td></tr>
<tr><td><code id="opendata_bc_+3A_dl">dl</code></td>
<td>
<p>logical, enables automatic downloading of missing files</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data for the layer specified by <code>collection</code>, <code>varname</code>, and (as needed) <code>year</code>,
are fetched from the directory specified by <code><a href="#topic+datadir_bc">datadir_bc</a></code>, merged into a single
(mosaic) layer, cropped and masked as needed, and then loaded into memory and returned as a
<code>SpatRaster</code> object. If the files are not found, and <code>dl=TRUE</code>, they
will be automatically downloaded.
</p>
<p>When <code>geo</code> is a line or point type geometry (or when <code>type='all'</code>), the
function uses <code>terra::merge</code> to create a larger (mosaic) SpatRaster containing the data
from all mapsheets intersecting with the input extent.
</p>
<p>When <code>geo</code> is a polygon, <code>type</code> can be set to clip or mask the returned raster: 'all'
returns the mosaic, as above; 'clip' crops the mosaic and to the bounding box of <code>geo</code>;
and 'mask' (the default) crops the mosaic then  sets all points not lying inside <code>geo</code> to NA.
Note that <code>type</code> is ignored when <code>geo</code> is a point geometry or a character string of
codes (these cases behave like <code>type='all'</code>).
</p>


<h3>Value</h3>

<p>A <code>SpatRaster</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># define a location of interest, and a circle of radius 10km around it
input.point = sf::st_point(c(x=-120.1, y=50.1)) |&gt; sf::st_sfc(crs='EPSG:4326')

if( requireNamespace('units', quietly = TRUE) ) {
input.polygon = input.point |&gt; sf::st_buffer(units::set_units(10, km))

## Not run: 
# the following downloads data from FRDR
# open the DEM mapsheets corresponding to the polygon and plot
opendata_bc(geo=input.polygon, 'dem') |&gt; terra::plot()

## End(Not run)
}
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

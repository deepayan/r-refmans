<!DOCTYPE html><html lang="en-GB"><head><title>Help for package emayili</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {emayili}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#+25+26gt+3B+25'><p>Pipe operator</p></a></li>
<li><a href='#address'><p>Email Address</p></a></li>
<li><a href='#addresses'><p>Add address fields to message</p></a></li>
<li><a href='#after.envelope'><p>Append children to message</p></a></li>
<li><a href='#as.address'><p>Create an address object</p></a></li>
<li><a href='#as.character.address'><p>Convert address object to character</p></a></li>
<li><a href='#as.character.envelope'><p>Create formatted message.</p></a></li>
<li><a href='#as.character.header'><p>Create formatted header.</p></a></li>
<li><a href='#as.character.MIME'><p>Convert MIME object to character vector</p></a></li>
<li><a href='#attachment'><p>Add attachments to a message object</p></a></li>
<li><a href='#c.address'><p>Concatenate address objects</p></a></li>
<li><a href='#cleave'><p>Split a compound address object</p></a></li>
<li><a href='#comments'><p>Add or query comments of message.</p></a></li>
<li><a href='#compare'><p>Compare vectors</p></a></li>
<li><a href='#compliant'><p>Tests whether an email address is syntactically correct</p></a></li>
<li><a href='#cutoff'><p>Set or query message expiry or reply-by time</p></a></li>
<li><a href='#display'><p>Extract display name</p></a></li>
<li><a href='#domain'><p>Extract domain of email address</p></a></li>
<li><a href='#encrypt'><p>Encrypt or sign a message</p></a></li>
<li><a href='#envelope'><p>Create a message.</p></a></li>
<li><a href='#format.address'><p>Encode email addresses in a common format</p></a></li>
<li><a href='#html'><p>Add an HTML body to a message object.</p></a></li>
<li><a href='#id'><p>Set message ID.</p></a></li>
<li><a href='#keywords'><p>Add or query keywords of message.</p></a></li>
<li><a href='#length.address'><p>Length of address object</p></a></li>
<li><a href='#local'><p>Extract local part of email address</p></a></li>
<li><a href='#message_id'><p>Create a message ID</p></a></li>
<li><a href='#mime-parameters'><p>Parameters for MIME functions</p></a></li>
<li><a href='#normalise'><p>Normalise email address</p></a></li>
<li><a href='#parties'><p>Extract sender and recipient(s)</p></a></li>
<li><a href='#precedence'><p>Add fields for message importance and priority</p></a></li>
<li><a href='#print.address'><p>Print an address object</p></a></li>
<li><a href='#print.envelope'><p>Print a message object</p></a></li>
<li><a href='#qp'><p>Quoted-Printable encoding</p></a></li>
<li><a href='#raw'><p>Extract raw email address</p></a></li>
<li><a href='#receipt'><p>Request read or delivery receipts</p></a></li>
<li><a href='#render'><p>Render Markdown into email</p></a></li>
<li><a href='#response'><p>Add In-Reply-To and References header fields</p></a></li>
<li><a href='#sensitivity'><p>Set or query message sensitivity</p></a></li>
<li><a href='#server'><p>Create a SMTP server object.</p></a></li>
<li><a href='#subject'><p>Add or query subject of message.</p></a></li>
<li><a href='#template'><p>Add message body from template</p></a></li>
<li><a href='#text'><p>Add a text body to a message.</p></a></li>
<li><a href='#validate'><p>Validate email address</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Send Email Messages</td>
</tr>
<tr>
<td>Version:</td>
<td>0.9.3</td>
</tr>
<tr>
<td>Description:</td>
<td>A light, simple tool for sending emails with minimal dependencies.</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://datawookie.github.io/emayili/">https://datawookie.github.io/emayili/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/datawookie/emayili/issues">https://github.com/datawookie/emayili/issues</a></td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-GB</td>
</tr>
<tr>
<td>Imports:</td>
<td>base64enc, commonmark, curl (&ge; 4.0), digest, dplyr, glue,
htmltools, httr, logger, magrittr (&ge; 2.0.1), mime, purrr,
rmarkdown, rvest, stringi, stringr, tidyr, urltools, xfun, xml2</td>
</tr>
<tr>
<td>Suggests:</td>
<td>cld2, cld3, gpg, here, jinjar, lintr, memoise, testthat (&ge;
2.1.0), roxygen2, showtext, Microsoft365R</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>The function render() requires Pandoc
(http://pandoc.org). To use PGP/GnuPG encryption requires gpg.</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>KeepSource:</td>
<td>true</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-02-07 05:18:37 UTC; wookie</td>
</tr>
<tr>
<td>Author:</td>
<td>Andrew B. Collier [aut, cre, cph],
  Matt Dennis [ctb],
  Antoine Bichat <a href="https://orcid.org/0000-0001-6599-7081"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [ctb],
  Daniel Fahey [ctb],
  Johann R. Kleinbub [ctb],
  Panagiotis Moulos [ctb],
  Swechhya Bista [ctb],
  Colin Fay <a href="https://orcid.org/0000-0001-7343-1846"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Andrew B. Collier &lt;andrew.b.collier@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-02-07 05:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='+25+26gt+3B+25'>Pipe operator</h2><span id='topic++25+3E+25'></span>

<h3>Description</h3>

<p>See <code>magrittr::<a href="magrittr.html#topic+pipe">%&gt;%</a></code> for details.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lhs %&gt;% rhs
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_lhs">lhs</code></td>
<td>
<p>A value or the magrittr placeholder.</p>
</td></tr>
<tr><td><code id="+2B25+2B26gt+2B3B+2B25_+3A_rhs">rhs</code></td>
<td>
<p>A function call using the magrittr semantics.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The result of calling <code>rhs(lhs)</code>.
</p>

<hr>
<h2 id='address'>Email Address</h2><span id='topic+address'></span>

<h3>Description</h3>

<p>Create an <code>address</code> object which represents an email address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>address(
  email = NA,
  display = NA,
  local = NA,
  domain = NA,
  normalise = TRUE,
  validate = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="address_+3A_email">email</code></td>
<td>
<p>Email address.</p>
</td></tr>
<tr><td><code id="address_+3A_display">display</code></td>
<td>
<p>Display name.</p>
</td></tr>
<tr><td><code id="address_+3A_local">local</code></td>
<td>
<p>Local part of email address.</p>
</td></tr>
<tr><td><code id="address_+3A_domain">domain</code></td>
<td>
<p>Domain part of email address.</p>
</td></tr>
<tr><td><code id="address_+3A_normalise">normalise</code></td>
<td>
<p>Whether to try to normalise address to RFC-5321 requirements.</p>
</td></tr>
<tr><td><code id="address_+3A_validate">validate</code></td>
<td>
<p>Whether to validate the address.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>address</code> object, representing an email address.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>address("gerry@gmail.com")
address("gerry@gmail.com", "Gerald")
address("gerry@gmail.com", "Gerald Durrell")
# Display name in "Last, First" format.
address("gerry@gmail.com", "Durrell, Gerald")
# Display name contains non-ASCII characters.
address("hans@gmail.com", "Hansjörg Müller")
</code></pre>

<hr>
<h2 id='addresses'>Add address fields to message</h2><span id='topic+addresses'></span><span id='topic+to'></span><span id='topic+cc'></span><span id='topic+bcc'></span><span id='topic+from'></span><span id='topic+reply'></span><span id='topic+return_path'></span><span id='topic+sender'></span>

<h3>Description</h3>

<p>Add address fields to message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to(msg, ..., append = TRUE)

cc(msg, ..., append = TRUE)

bcc(msg, ..., append = TRUE)

from(msg, addr = NULL)

reply(msg, addr = NULL)

return_path(msg, addr = NULL)

sender(msg, addr = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="addresses_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="addresses_+3A_...">...</code></td>
<td>
<p>Addresses.</p>
</td></tr>
<tr><td><code id="addresses_+3A_append">append</code></td>
<td>
<p>Whether to append or replace addresses.</p>
</td></tr>
<tr><td><code id="addresses_+3A_addr">addr</code></td>
<td>
<p>Single address.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Populating the To field.
msg &lt;- envelope()
msg %&gt;% to("bob@gmail.com, alice@yahoo.com")
msg %&gt;% to("bob@gmail.com", "alice@yahoo.com")
msg %&gt;% to(c("bob@gmail.com", "alice@yahoo.com"))

# Populating the Cc field.
msg &lt;- envelope()
msg %&gt;% cc("bob@gmail.com, alice@yahoo.com")
msg %&gt;% cc("bob@gmail.com", "alice@yahoo.com")
msg %&gt;% cc(c("bob@gmail.com", "alice@yahoo.com"))

# Populating the Bcc field.
msg &lt;- envelope()
msg %&gt;% bcc("bob@gmail.com, alice@yahoo.com")
msg %&gt;% bcc("bob@gmail.com", "alice@yahoo.com")
msg %&gt;% bcc(c("bob@gmail.com", "alice@yahoo.com"))

msg &lt;- envelope()

# Populating the From field.
msg %&gt;% from("craig@gmail.com")

# Populating the Reply-To field.
msg &lt;- envelope()
msg %&gt;% reply("gerry@gmail.com")

# Populating the Return-Path field.
msg &lt;- envelope()
msg %&gt;% return_path("bounced-mail@devnull.org")

# Populating the Sender field.
msg &lt;- envelope()
msg %&gt;% sender("on_behalf_of@gmail.com")
</code></pre>

<hr>
<h2 id='after.envelope'>Append children to message</h2><span id='topic+after.envelope'></span>

<h3>Description</h3>

<p>Append children to message
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'envelope'
after(x, child)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="after.envelope_+3A_x">x</code></td>
<td>
<p>Message object</p>
</td></tr>
<tr><td><code id="after.envelope_+3A_child">child</code></td>
<td>
<p>A child to be appended</p>
</td></tr>
</table>

<hr>
<h2 id='as.address'>Create an address object</h2><span id='topic+as.address'></span>

<h3>Description</h3>

<p>Create an address object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>as.address(addr, validate = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.address_+3A_addr">addr</code></td>
<td>
<p>An email address.</p>
</td></tr>
<tr><td><code id="as.address_+3A_validate">validate</code></td>
<td>
<p>Whether to validate the address.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>address</code> objects.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>as.address("gerry@gmail.com")
as.address("Gerald &lt;gerry@gmail.com&gt;")
as.address(c("Gerald &lt;gerry@gmail.com&gt;", "alice@yahoo.com", "jim@aol.com"))
as.address("Gerald &lt;gerry@gmail.com&gt;, alice@yahoo.com, jim@aol.com")
as.address("Durrell, Gerald &lt;gerry@gmail.com&gt;")
</code></pre>

<hr>
<h2 id='as.character.address'>Convert address object to character</h2><span id='topic+as.character.address'></span>

<h3>Description</h3>

<p>If display name is specified as &quot;Last, First&quot; then the display name will be
quoted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'address'
as.character(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.character.address_+3A_x">x</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
<tr><td><code id="as.character.address_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>

<hr>
<h2 id='as.character.envelope'>Create formatted message.</h2><span id='topic+as.character.envelope'></span>

<h3>Description</h3>

<p>Accepts a message object and formats it as a MIME document.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'envelope'
as.character(x, ..., details = TRUE, encode = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.character.envelope_+3A_x">x</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="as.character.envelope_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
<tr><td><code id="as.character.envelope_+3A_details">details</code></td>
<td>
<p>Whether or not to display full message content.</p>
</td></tr>
<tr><td><code id="as.character.envelope_+3A_encode">encode</code></td>
<td>
<p>Whether to encode headers.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted message object.
</p>

<hr>
<h2 id='as.character.header'>Create formatted header.</h2><span id='topic+as.character.header'></span>

<h3>Description</h3>

<p>Accepts a header object and formats it as a header field.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'header'
as.character(x, width = 30, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.character.header_+3A_x">x</code></td>
<td>
<p>A header object.</p>
</td></tr>
<tr><td><code id="as.character.header_+3A_width">width</code></td>
<td>
<p>The width of the head name field.</p>
</td></tr>
<tr><td><code id="as.character.header_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A formatted header field.
</p>

<hr>
<h2 id='as.character.MIME'>Convert MIME object to character vector</h2><span id='topic+as.character.MIME'></span>

<h3>Description</h3>

<p>Convert MIME object to character vector
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'MIME'
as.character(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="as.character.MIME_+3A_x">x</code></td>
<td>
<p>MIME object</p>
</td></tr>
<tr><td><code id="as.character.MIME_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>

<hr>
<h2 id='attachment'>Add attachments to a message object</h2><span id='topic+attachment'></span>

<h3>Description</h3>

<p>Add attachments to a message object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>attachment(
  msg,
  path,
  name = NA,
  type = NA,
  cid = NA,
  disposition = "attachment"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="attachment_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="attachment_+3A_path">path</code></td>
<td>
<p>Path to file.</p>
</td></tr>
<tr><td><code id="attachment_+3A_name">name</code></td>
<td>
<p>Name to be used for attachment (defaults to base name of <code>path</code>).</p>
</td></tr>
<tr><td><code id="attachment_+3A_type">type</code></td>
<td>
<p>MIME type or <cite>NA</cite>, which will result in a guess based on file extension.</p>
</td></tr>
<tr><td><code id="attachment_+3A_cid">cid</code></td>
<td>
<p>Content-ID or <code>NA</code>.</p>
</td></tr>
<tr><td><code id="attachment_+3A_disposition">disposition</code></td>
<td>
<p>How is attachment to be presented (<code>"inline"</code> or <code>"attachment"</code>)?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>path_mtcars &lt;- tempfile(fileext = ".csv")
path_scatter &lt;- tempfile(fileext = ".png")
path_cats &lt;- system.file("cats.jpg", package = "emayili")

write.csv(mtcars, path_mtcars)

png(path_scatter)
plot(1:10)
dev.off()

msg &lt;- envelope() %&gt;%
  attachment(path_mtcars) %&gt;%
  # This attachment will have file name "cats.jpg".
  attachment(path_cats, name = "cats.jpg", type = "image/jpeg") %&gt;%
  attachment(path_scatter, cid = "scatter")

file.remove(path_scatter, path_mtcars)
</code></pre>

<hr>
<h2 id='c.address'>Concatenate address objects</h2><span id='topic+c.address'></span>

<h3>Description</h3>

<p>Concatenate address objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'address'
c(...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="c.address_+3A_...">...</code></td>
<td>
<p>Address objects to be concatenated.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>address</code> object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gerry &lt;- as.address("Gerald &lt;gerry@gmail.com&gt;")
alice &lt;- address("alice@yahoo.com")
jim &lt;- address("jim@aol.com", "Jim")
c(gerry, alice)
c(gerry, c(alice, jim))
</code></pre>

<hr>
<h2 id='cleave'>Split a compound address object</h2><span id='topic+cleave'></span>

<h3>Description</h3>

<p>Split a compound address object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>cleave(addr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cleave_+3A_addr">addr</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list of <code>address</code> objects, each of which contains only a single
address.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cleave(as.address(c("foo@yahoo.com", "bar@yahoo.com")))
</code></pre>

<hr>
<h2 id='comments'>Add or query comments of message.</h2><span id='topic+comments'></span>

<h3>Description</h3>

<p>Add or query comments of message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>comments(msg, comments = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="comments_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="comments_+3A_comments">comments</code></td>
<td>
<p>Comments for the message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object or the comments of the message object (if <code>comments</code> is <code>NULL</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+subject">subject</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a message and set the comments.
msg &lt;- envelope() %&gt;% comments("This is a comment")

# Retrieve the comments for a message.
comments(msg)
</code></pre>

<hr>
<h2 id='compare'>Compare vectors</h2><span id='topic+compare'></span>

<h3>Description</h3>

<p>Returns <code>TRUE</code> wherever elements are the same (including <code>NA</code>),
and <code>FALSE</code> everywhere else.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compare(lhs, rhs)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compare_+3A_lhs">lhs</code></td>
<td>
<p>LHS of operation.</p>
</td></tr>
<tr><td><code id="compare_+3A_rhs">rhs</code></td>
<td>
<p>RHS of operation.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A Boolean value.
</p>

<hr>
<h2 id='compliant'>Tests whether an email address is syntactically correct</h2><span id='topic+compliant'></span>

<h3>Description</h3>

<p>Checks whether an email address conforms to the <a href="https://en.wikipedia.org/wiki/Email_address#Syntax">syntax rules</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compliant(addr, error = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="compliant_+3A_addr">addr</code></td>
<td>
<p>An email address.</p>
</td></tr>
<tr><td><code id="compliant_+3A_error">error</code></td>
<td>
<p>Whether to create an error if not compliant.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An email address may take either of the following forms:
</p>

<ul>
<li> <p><code>local@domain</code> or
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;Display Name &lt;local@domain&gt;&#8288;</code>.
</p>
</li></ul>



<h3>Value</h3>

<p>A Boolean.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>compliant("alice@example.com")
compliant("alice?example.com")
</code></pre>

<hr>
<h2 id='cutoff'>Set or query message expiry or reply-by time</h2><span id='topic+cutoff'></span><span id='topic+expires'></span><span id='topic+replyby'></span>

<h3>Description</h3>

<p>Functions to specify the time at which a message expires or by which a reply
is requested.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>expires(msg, datetime = NULL, tz = "")

replyby(msg, datetime = NULL, tz = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="cutoff_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="cutoff_+3A_datetime">datetime</code></td>
<td>
<p>Date and time.</p>
</td></tr>
<tr><td><code id="cutoff_+3A_tz">tz</code></td>
<td>
<p>A character string specifying the time zone.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Manipulate the <code>Expires</code> and <code>Reply-By</code> fields as specified in
<a href="https://www.ietf.org/rfc/rfc2156.txt">RFC 2156</a>.
</p>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envelope() %&gt;%
  expires("2030-01-01 13:25:00", "UTC")
envelope() %&gt;%
  replyby("2021-12-25 06:00:00", "GMT")
</code></pre>

<hr>
<h2 id='display'>Extract display name</h2><span id='topic+display'></span>

<h3>Description</h3>

<p>Extracts the display name from an email address.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>display(addr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="display_+3A_addr">addr</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The display name or <code>NA</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gerry &lt;- as.address("Gerald &lt;gerry@gmail.com&gt;")
display(gerry)
</code></pre>

<hr>
<h2 id='domain'>Extract domain of email address</h2><span id='topic+domain'></span>

<h3>Description</h3>

<p>Extract domain of email address
</p>


<h3>Usage</h3>

<pre><code class='language-R'>domain(addr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="domain_+3A_addr">addr</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>domain("alice@example.com")
</code></pre>

<hr>
<h2 id='encrypt'>Encrypt or sign a message</h2><span id='topic+encrypt'></span><span id='topic+signature'></span>

<h3>Description</h3>

<p>Specify whether the message should be encrypted, signed or have a public key
attached.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>encrypt(msg, encrypt = TRUE, sign = TRUE, public_key = TRUE)

signature(msg, public_key = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="encrypt_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="encrypt_+3A_encrypt">encrypt</code></td>
<td>
<p>Whether to encrypt the message. If <code>TRUE</code> then the entire
message will be encrypted using the private key of the sender.</p>
</td></tr>
<tr><td><code id="encrypt_+3A_sign">sign</code></td>
<td>
<p>Whether to sign the message. If <code>TRUE</code> then the entire
message will be signed using the private key of the sender.</p>
</td></tr>
<tr><td><code id="encrypt_+3A_public_key">public_key</code></td>
<td>
<p>Whether to attach a public key. If <code>TRUE</code> then the
public key of the sender will be attached.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>signature()</code> function will add a digital signature to a message. It will
also optionally include a copy of the sender's public key.
</p>
<p>The <code>encrypt()</code> function will encrypt the contents of a message using the
public key(s) of the recipient(s). It can also add a digital signature to the
message (this is the default behaviour) and include a copy of the sender's
public key. Signing happens <em>before</em> encryption, so the digital signature
will only be accessible once the message has been decrypted. If a recipient
no longer has access to their private key or their email client is unable to
decrypt the message then they will not be able to access the message
contents.
</p>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
msg &lt;- envelope(
  from = "flotilla@kriegsmarine.gov",
  to = "schunk@u-boat.com",
  subject = "Top Secret Message",
  text = "Immediate readiness. There are indications that the invasion has begun."
)
# Encrypt and sign the message.
msg %&gt;% encrypt()
# Only encrypt the message.
msg %&gt;% encrypt(sign = FALSE)
# Only sign the message.
msg %&gt;% signature()
msg %&gt;% encrypt(encrypt = FALSE)

## End(Not run)
</code></pre>

<hr>
<h2 id='envelope'>Create a message.</h2><span id='topic+envelope'></span>

<h3>Description</h3>

<p>Create a message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>envelope(
  to = NULL,
  from = NULL,
  cc = NULL,
  bcc = NULL,
  reply = NULL,
  subject = NULL,
  id = NULL,
  importance = NULL,
  priority = NULL,
  text = NULL,
  html = NULL,
  encrypt = FALSE,
  sign = FALSE,
  public_key = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="envelope_+3A_to">to</code></td>
<td>
<p>See <code><a href="#topic+to">to()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_from">from</code></td>
<td>
<p>See <code><a href="#topic+from">from()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_cc">cc</code></td>
<td>
<p>See <code><a href="#topic+cc">cc()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_bcc">bcc</code></td>
<td>
<p>See <code><a href="#topic+bcc">bcc()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_reply">reply</code></td>
<td>
<p>See <code><a href="#topic+reply">reply()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_subject">subject</code></td>
<td>
<p>See <code><a href="#topic+subject">subject()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_id">id</code></td>
<td>
<p>See <code><a href="#topic+id">id()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_importance">importance</code></td>
<td>
<p>See <code><a href="#topic+importance">importance()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_priority">priority</code></td>
<td>
<p>See <code><a href="#topic+priority">priority()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_text">text</code></td>
<td>
<p>See <code><a href="#topic+text">text()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_html">html</code></td>
<td>
<p>See <code><a href="#topic+html">html()</a></code>.</p>
</td></tr>
<tr><td><code id="envelope_+3A_encrypt">encrypt</code></td>
<td>
<p>Whether to encrypt the message. If <code>TRUE</code> then the entire
message will be encrypted using the private key of the sender.</p>
</td></tr>
<tr><td><code id="envelope_+3A_sign">sign</code></td>
<td>
<p>Whether to sign the message. If <code>TRUE</code> then the entire
message will be signed using the private key of the sender.</p>
</td></tr>
<tr><td><code id="envelope_+3A_public_key">public_key</code></td>
<td>
<p>Whether to attach a public key. If <code>TRUE</code> then the
public key of the sender will be attached.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+subject">subject()</a></code>, <code><a href="#topic+from">from()</a></code>, <code><a href="#topic+to">to()</a></code>, <code><a href="#topic+cc">cc()</a></code>, <code><a href="#topic+bcc">bcc()</a></code>, <code><a href="#topic+reply">reply()</a></code> and
<code><a href="#topic+encrypt">encrypt()</a></code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create an (empty) message object.
#
msg &lt;- envelope()

# Create a complete message object, specifying all available fields.
#
envelope(
  to = "bob@gmail.com",
  from = "craig@gmail.com",
  cc = "alex@gmail.com",
  bcc = "shannon@gmail.com",
  reply = "craig@yahoo.com",
  importance = "high",
  priority = "urgent",
  subject = "Hiya!",
  text = "Hi Bob, how are you?"
)
</code></pre>

<hr>
<h2 id='format.address'>Encode email addresses in a common format</h2><span id='topic+format.address'></span>

<h3>Description</h3>

<p>Encode email addresses in a common format
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'address'
format(x, quote = TRUE, encode = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="format.address_+3A_x">x</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
<tr><td><code id="format.address_+3A_quote">quote</code></td>
<td>
<p>Whether to quote display name (only relevant if display name is
given in &quot;Last, First&quot; format).</p>
</td></tr>
<tr><td><code id="format.address_+3A_encode">encode</code></td>
<td>
<p>Whether to encode headers.</p>
</td></tr>
<tr><td><code id="format.address_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>

<hr>
<h2 id='html'>Add an HTML body to a message object.</h2><span id='topic+html'></span>

<h3>Description</h3>

<p>Add an HTML body to a message object.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>html(
  msg,
  content,
  disposition = "inline",
  charset = "utf-8",
  encoding = NA,
  css_files = c(),
  language = FALSE,
  interpolate = TRUE,
  .open = "{{",
  .close = "}}",
  .envir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="html_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="html_+3A_content">content</code></td>
<td>
<p>A string of message content.</p>
</td></tr>
<tr><td><code id="html_+3A_disposition">disposition</code></td>
<td>
<p>Should the content be displayed inline or as an
attachment? Valid options are <code>"inline"</code> and <code>"attachment"</code>. If
set to <code>NA</code> then will guess appropriate value.</p>
</td></tr>
<tr><td><code id="html_+3A_charset">charset</code></td>
<td>
<p>What character set is used. Most often either <code>"UTF-8"</code>
or <code>"ISO-8859-1"</code>.</p>
</td></tr>
<tr><td><code id="html_+3A_encoding">encoding</code></td>
<td>
<p>How content is transformed to ASCII. Options are
<code>"7bit"</code>, <code>"quoted-printable"</code> and <code>"base64"</code>. Use <code>NA</code>
or <code>NULL</code> for no (or &quot;identity&quot;) encoding.</p>
</td></tr>
<tr><td><code id="html_+3A_css_files">css_files</code></td>
<td>
<p>Extra CSS files.</p>
</td></tr>
<tr><td><code id="html_+3A_language">language</code></td>
<td>
<p>Language of content. If <code>FALSE</code> then will not include
language field. If <code>TRUE</code> then will attempt to auto-detect language.
Otherwise will use the specified language.</p>
</td></tr>
<tr><td><code id="html_+3A_interpolate">interpolate</code></td>
<td>
<p>Whether or not to interpolate into input using <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="html_+3A_.open">.open</code></td>
<td>
<p>The opening delimiter.</p>
</td></tr>
<tr><td><code id="html_+3A_.close">.close</code></td>
<td>
<p>The closing delimiter.</p>
</td></tr>
<tr><td><code id="html_+3A_.envir">.envir</code></td>
<td>
<p>Environment used for <code>glue</code> interpolation. Defaults to <code>parent.frame()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+text">text</a></code>, <code><a href="#topic+render">render</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Inline HTML message.
envelope() %&gt;% html("&lt;b&gt;Hello!&lt;/b&gt;")

# Read HTML message from a file.
htmlfile &lt;- tempfile(fileext = ".html")
cat("&lt;p&gt;Hello!&lt;/p&gt;\n", file = htmlfile)
envelope() %&gt;% html(htmlfile)

# You can pass a vector of character. Components will be separated by a
# "\n".
envelope() %&gt;% html(c("&lt;b&gt;Hello&lt;/b&gt;", "&lt;p&gt;World!&lt;/p&gt;"))

# You can also pass a tagList from {htmltools}.
if (requireNamespace("htmltools", quietly = TRUE)) {
  library(htmltools)
  envelope() %&gt;% html(tagList(h2("Hello"), p("World!")))
}
</code></pre>

<hr>
<h2 id='id'>Set message ID.</h2><span id='topic+id'></span>

<h3>Description</h3>

<p>Set message ID.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>id(msg, id)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="id_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="id_+3A_id">id</code></td>
<td>
<p>An ID for the message.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a message and set the ID
msg &lt;- envelope() %&gt;% id("1234567890.123456@example.com")
# Create a message with specified ID
msg &lt;- envelope(id = "1234567890.123456@example.com")
</code></pre>

<hr>
<h2 id='keywords'>Add or query keywords of message.</h2><span id='topic+keywords'></span>

<h3>Description</h3>

<p>Add or query keywords of message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>keywords(msg, ..., append = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="keywords_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="keywords_+3A_...">...</code></td>
<td>
<p>Keywords.</p>
</td></tr>
<tr><td><code id="keywords_+3A_append">append</code></td>
<td>
<p>Whether to append or replace keywords.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object or the comments of the message object (if <code>comments</code> is <code>NULL</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+to">to</a></code>, <code><a href="#topic+from">from</a></code>, <code><a href="#topic+cc">cc</a></code>, <code><a href="#topic+bcc">bcc</a></code> and <code><a href="#topic+reply">reply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a message and set the keywords.
envelope() %&gt;% keywords("newsletter, marketing")
envelope() %&gt;% keywords("newsletter", "marketing")
envelope() %&gt;% keywords(c("newsletter", "marketing"))

# Retrieve the keywords for a message.
msg &lt;- envelope() %&gt;% keywords("newsletter, marketing")
keywords(msg)
</code></pre>

<hr>
<h2 id='length.address'>Length of address object</h2><span id='topic+length.address'></span>

<h3>Description</h3>

<p>Length of address object
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'address'
length(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="length.address_+3A_x">x</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>

<hr>
<h2 id='local'>Extract local part of email address</h2><span id='topic+local'></span>

<h3>Description</h3>

<p>Extract local part of email address
</p>


<h3>Usage</h3>

<pre><code class='language-R'>local(addr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="local_+3A_addr">addr</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>local("alice@example.com")
</code></pre>

<hr>
<h2 id='message_id'>Create a message ID</h2><span id='topic+message_id'></span>

<h3>Description</h3>

<p>Create a message ID
</p>


<h3>Usage</h3>

<pre><code class='language-R'>message_id(domain = "mail.gmail.com")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="message_id_+3A_domain">domain</code></td>
<td>
<p>Originating domain.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message ID.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>message_id()
message_id("example.com")
</code></pre>

<hr>
<h2 id='mime-parameters'>Parameters for MIME functions</h2><span id='topic+mime-parameters'></span>

<h3>Description</h3>

<p>These are parameters which occur commonly across functions for components of
a MIME document.
</p>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="mime-parameters_+3A_content">content</code></td>
<td>
<p>A string of message content.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_disposition">disposition</code></td>
<td>
<p>Should the content be displayed inline or as an
attachment? Valid options are <code>"inline"</code> and <code>"attachment"</code>. If
set to <code>NA</code> then will guess appropriate value.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_charset">charset</code></td>
<td>
<p>What character set is used. Most often either <code>"UTF-8"</code>
or <code>"ISO-8859-1"</code>.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_encoding">encoding</code></td>
<td>
<p>How content is transformed to ASCII. Options are
<code>"7bit"</code>, <code>"quoted-printable"</code> and <code>"base64"</code>. Use <code>NA</code>
or <code>NULL</code> for no (or &quot;identity&quot;) encoding.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_language">language</code></td>
<td>
<p>Language of content. If <code>FALSE</code> then will not include
language field. If <code>TRUE</code> then will attempt to auto-detect language.
Otherwise will use the specified language.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_description">description</code></td>
<td>
<p>Description of content.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_name">name</code></td>
<td>
<p>Name used when downloading file.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_filename">filename</code></td>
<td>
<p>Path to a file.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_boundary">boundary</code></td>
<td>
<p>Boundary string.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_type">type</code></td>
<td>
<p>The MIME type of the content.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_children">children</code></td>
<td>
<p>List of child MIME objects.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_interpolate">interpolate</code></td>
<td>
<p>Whether or not to interpolate into input using <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_.open">.open</code></td>
<td>
<p>The opening delimiter.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_.close">.close</code></td>
<td>
<p>The closing delimiter.</p>
</td></tr>
<tr><td><code id="mime-parameters_+3A_.envir">.envir</code></td>
<td>
<p>Environment used for <code>glue</code> interpolation. Defaults to <code>parent.frame()</code>.</p>
</td></tr>
</table>

<hr>
<h2 id='normalise'>Normalise email address</h2><span id='topic+normalise'></span>

<h3>Description</h3>

<p>Ensure that email address is in a standard format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalise(email)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normalise_+3A_email">email</code></td>
<td>
<p>An email address.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Performs the following transformations:
</p>

<ul>
<li><p> lowercase the domain part
</p>
</li>
<li><p> replace some Unicode characters with compatible equivalents. See
<a href="https://en.wikipedia.org/wiki/Unicode_equivalence">Unicode equivalence</a>.
</p>
</li></ul>



<h3>Value</h3>

<p>An email address.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>normalise("bob@GMAIL.COM")
</code></pre>

<hr>
<h2 id='parties'>Extract sender and recipient(s)</h2><span id='topic+parties'></span>

<h3>Description</h3>

<p>Extract sender and recipient(s)
</p>


<h3>Usage</h3>

<pre><code class='language-R'>parties(msg)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="parties_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>msg &lt;- envelope() %&gt;%
  from("Gerald &lt;gerald@gmail.com&gt;") %&gt;%
  to(c("bob@gmail.com", "alice@yahoo.com")) %&gt;%
  cc("Craig     &lt; craig@gmail.com&gt;") %&gt;%
  bcc("  Erin   &lt;erin@yahoo.co.uk    &gt;")

parties(msg)
</code></pre>

<hr>
<h2 id='precedence'>Add fields for message importance and priority</h2><span id='topic+precedence'></span><span id='topic+priority'></span><span id='topic+importance'></span>

<h3>Description</h3>

<p>Functions to influence message delivery speed and importance.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>priority(msg, priority = NULL)

importance(msg, importance = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="precedence_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="precedence_+3A_priority">priority</code></td>
<td>
<p>Priority level. One of <code>"non-urgent"</code>, <code>"normal"</code>, or <code>"urgent"</code>.</p>
</td></tr>
<tr><td><code id="precedence_+3A_importance">importance</code></td>
<td>
<p>Importance level. One of <code>"low"</code>, <code>"normal"</code>, or <code>"high"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>priority()</code> function adds the <code>Priority</code> header field which gives a hint
to influence transmission speed and delivery. Valid values are
<code>"non-urgent"</code>, <code>"normal"</code>, and <code>"urgent"</code>. The non-standard <code>X-Priority</code>
header field is similar, for which valid values are <code>1</code> (Highest), <code>2</code>
(High), <code>3</code> (Normal, the default), <code>4</code> (Low), and <code>5</code> (Lowest).
</p>
<p>The <code>importance()</code> function adds the <code>Importance</code> header field, which gives a
hint to the message recipient about how important the message is. Does not
influence delivery speed.
</p>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># How rapidly does the message need to be delivered?
#
envelope() %&gt;%
  subject("Deliver this immediately!") %&gt;%
  priority("urgent")

envelope(priority = "non-urgent") %&gt;%
  subject("No rush with this.")

# How much attention should be paid by recipient?
#
envelope() %&gt;%
  subject("Read this immediately!") %&gt;%
  importance("high")

envelope(importance = "low") %&gt;%
  subject("Not important at all. Just delete.")
</code></pre>

<hr>
<h2 id='print.address'>Print an address object</h2><span id='topic+print.address'></span>

<h3>Description</h3>

<p>If display name is specifed as &quot;Last, First&quot; then the display name will be
quoted.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'address'
print(x, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.address_+3A_x">x</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
<tr><td><code id="print.address_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>gerry &lt;- as.address("gerry@gmail.com")
print(gerry)
</code></pre>

<hr>
<h2 id='print.envelope'>Print a message object</h2><span id='topic+print.envelope'></span>

<h3>Description</h3>

<p>The message body will be printed if <code>details</code> is <code>TRUE</code> or if the <code>envelope_details</code>
option is <code>TRUE</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'envelope'
print(x, details = NA, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="print.envelope_+3A_x">x</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="print.envelope_+3A_details">details</code></td>
<td>
<p>Whether or not to display full message content.</p>
</td></tr>
<tr><td><code id="print.envelope_+3A_...">...</code></td>
<td>
<p>Further arguments passed to or from other methods.</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>msg &lt;- envelope() %&gt;% text("Hello, World!")

print(msg)
print(msg, details = TRUE)

options(envelope_details = TRUE)
print(msg)
</code></pre>

<hr>
<h2 id='qp'>Quoted-Printable encoding</h2><span id='topic+qp'></span><span id='topic+qp_encode'></span><span id='topic+qp_decode'></span>

<h3>Description</h3>

<p>Encode to and decode from Quoted-Printable encoding.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>qp_encode(x, crlf = CRLF)

qp_decode(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="qp_+3A_x">x</code></td>
<td>
<p>A string for encoding or decoding.</p>
</td></tr>
<tr><td><code id="qp_+3A_crlf">crlf</code></td>
<td>
<p>End-of-line characters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An encoded string for <code>qp_encode()</code> or a decoded string for <code>qp_decode()</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>qp_encode("Mieux vaut être seul que mal accompagné.")
qp_decode("Mieux vaut =C3=AAtre seul que mal accompagn=C3=A9.")
</code></pre>

<hr>
<h2 id='raw'>Extract raw email address</h2><span id='topic+raw'></span>

<h3>Description</h3>

<p>Strips the display name off an email address (if present).
</p>


<h3>Usage</h3>

<pre><code class='language-R'>raw(addr)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="raw_+3A_addr">addr</code></td>
<td>
<p>An <code>address</code> object.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A raw email address.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>gerry &lt;- as.address("Gerald &lt;gerry@gmail.com&gt;")
raw(gerry)
</code></pre>

<hr>
<h2 id='receipt'>Request read or delivery receipts</h2><span id='topic+receipt'></span><span id='topic+request_receipt_read'></span><span id='topic+request_receipt_delivery'></span>

<h3>Description</h3>

<p>Request the recipient to acknowledge that they have read the message. Inserts
MDN (Message Disposition Notification) header entries.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>request_receipt_read(msg, addr = NULL)

request_receipt_delivery(msg, addr = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="receipt_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="receipt_+3A_addr">addr</code></td>
<td>
<p>Single address (optional). If <code>address</code> is not specified then
will use sender address.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>

<hr>
<h2 id='render'>Render Markdown into email</h2><span id='topic+render'></span>

<h3>Description</h3>

<p>Render either Plain Markdown or R Markdown directly into the body of an email.
</p>
<p>If <code>input</code> is a file then it will be interpreted as R Markdown it its
extension is either <code>"Rmd"</code> or <code>"Rmarkdown"</code>. Otherwise it will be
processed as Plain Markdown.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>render(
  msg,
  input,
  params = NULL,
  squish = TRUE,
  css_files = c(),
  include_css = c("rmd", "bootstrap"),
  language = FALSE,
  interpolate = TRUE,
  .open = "{{",
  .close = "}}",
  .envir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="render_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="render_+3A_input">input</code></td>
<td>
<p>The input Markdown file to be rendered or a character vector of
Markdown text.</p>
</td></tr>
<tr><td><code id="render_+3A_params">params</code></td>
<td>
<p>A list of named parameters that override custom parameters
specified in the YAML front-matter.</p>
</td></tr>
<tr><td><code id="render_+3A_squish">squish</code></td>
<td>
<p>Whether to clean up whitespace in rendered document.</p>
</td></tr>
<tr><td><code id="render_+3A_css_files">css_files</code></td>
<td>
<p>Extra CSS files.</p>
</td></tr>
<tr><td><code id="render_+3A_include_css">include_css</code></td>
<td>
<p>Whether to include rendered CSS from various sources
(<code>"rmd"</code> — native R Markdown CSS; <code>"bootstrap"</code> — Bootstrap CSS).</p>
</td></tr>
<tr><td><code id="render_+3A_language">language</code></td>
<td>
<p>Language of content. If <code>FALSE</code> then will not include
language field. If <code>TRUE</code> then will attempt to auto-detect language.
Otherwise will use the specified language.</p>
</td></tr>
<tr><td><code id="render_+3A_interpolate">interpolate</code></td>
<td>
<p>Whether or not to interpolate into input using <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="render_+3A_.open">.open</code></td>
<td>
<p>The opening delimiter.</p>
</td></tr>
<tr><td><code id="render_+3A_.close">.close</code></td>
<td>
<p>The closing delimiter.</p>
</td></tr>
<tr><td><code id="render_+3A_.envir">.envir</code></td>
<td>
<p>Environment used for <code>glue</code> interpolation. Defaults to <code>parent.frame()</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Plain Markdown</h3>

<p>Plain Markdown is processed with <code><a href="commonmark.html#topic+commonmark">commonmark::markdown_html()</a></code>.
</p>


<h3>R Markdown</h3>

<p>R Markdown is processed with <code><a href="rmarkdown.html#topic+render">rmarkdown::render()</a></code>.
</p>
<p>Regardless of what <code>output</code> type is specified in the input file,
<code>render()</code> will always use the <code>"html_document"</code> output format.
</p>
<p>Rending an R Markdown document can result in a lot of CSS. When all of the
CSS is included in the HTML <code style="white-space: pre;">&#8288;&lt;head&gt;&#8288;</code> and sent to GMail it can result in a
message which is not correctly displayed inline in the Gmail web client.
To get around this you can specify <code>include_css = FALSE</code>. This will mean
that some styling will not be present in the resulting message, but that
the message content will be correctly rendered inline.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+text">text</a></code>, <code><a href="#topic+html">html</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
# Plain Markdown

markdown &lt;- "[This](https://www.google.com) is a link."
filename &lt;- "message.md"

# Render from Markdown in character vector.
msg &lt;- envelope() %&gt;% render(markdown)

# Create a file containing Markdown
cat(markdown, file = filename)

# Render from Markdown in file.
msg &lt;- envelope() %&gt;% render(filename)

# Cleanup.
file.remove(filename)

# R Markdown

filename &lt;- "gh-doc.Rmd"

# Create an Rmd document from template.
rmarkdown::draft(
  filename,
  template = "github_document",
  package = "rmarkdown",
  edit = FALSE
)

# Check for suitable version of Pandoc (https://pandoc.org/).
#
# Need to have version 2.0 or greater to support required --quiet option.
#
pandoc &lt;- rmarkdown::find_pandoc()
suitable_pandoc &lt;- !is.null(pandoc$dir) &amp;&amp; grepl("^2", pandoc$version)

# Render from Rmd file.
if (suitable_pandoc) {
  msg &lt;- envelope() %&gt;%
    render(filename, include_css = c("rmd", "bootstrap"))
}

# Cleanup.
file.remove(filename)
</code></pre>

<hr>
<h2 id='response'>Add In-Reply-To and References header fields</h2><span id='topic+response'></span><span id='topic+inreplyto'></span><span id='topic+references'></span>

<h3>Description</h3>

<p>Add In-Reply-To and References header fields
</p>


<h3>Usage</h3>

<pre><code class='language-R'>inreplyto(msg, msgid, subject_prefix = "Re: ")

references(msg, msgid, subject_prefix = "Re: ")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="response_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="response_+3A_msgid">msgid</code></td>
<td>
<p>A message ID. This would be the contents of the <code>Message-ID</code>
field from another message.</p>
</td></tr>
<tr><td><code id="response_+3A_subject_prefix">subject_prefix</code></td>
<td>
<p>Prefix to add to subject. If specified will be prepended
onto the <code>Subject</code> field. Set to <code>NULL</code> if not required.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>envelope() %&gt;% inreplyto("&lt;6163c08e.1c69fb81.65b78.183c@mx.google.com&gt;")
# Now for German.
envelope() %&gt;%
  inreplyto("6163c08e.1c69fb81.65b78.183c@mx.google.com", "AW: ")
# And also for Danish, Norwegian and Swedish (but not Finnish!).
envelope() %&gt;%
  references("6163c08e.1c69fb81.65b78.183c@mx.google.com", "SV: ")
# Can reference multiple messages.
envelope() %&gt;%
  references(c(
    "6163c08e.1c69fb81.65b78.183c@mx.google.com",
    "e8e338ff-a05c-4c0f-99f2-0dc8fb72682f@mail.gmail.com"
  ))
</code></pre>

<hr>
<h2 id='sensitivity'>Set or query message sensitivity</h2><span id='topic+sensitivity'></span>

<h3>Description</h3>

<p>Manipulate the <code>Sensitivity</code> field as specified in <a href="https://www.ietf.org/rfc/rfc2156.txt">RFC 2156</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sensitivity(msg, sensitivity = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sensitivity_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="sensitivity_+3A_sensitivity">sensitivity</code></td>
<td>
<p>Sensitivity level. One of <code>"personal"</code>, <code>"private"</code>, or <code>"company-confidential"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Not sensitive.
envelope() %&gt;%
  subject("Your daily dose of spam")

# Sensitive personal message.
envelope() %&gt;%
  subject("The results from your test") %&gt;%
  sensitivity("personal")

# Sensitive private message.
envelope() %&gt;%
  subject("Your OTP (don't show this to anybody!") %&gt;%
  sensitivity("private")

# Sensitive business message.
envelope() %&gt;%
  subject("Top Secret Strategy Document") %&gt;%
  sensitivity("company-confidential")

</code></pre>

<hr>
<h2 id='server'>Create a SMTP server object.</h2><span id='topic+server'></span><span id='topic+gmail'></span><span id='topic+sendgrid'></span><span id='topic+mailgun'></span><span id='topic+sendinblue'></span><span id='topic+mailersend'></span><span id='topic+mailfence'></span><span id='topic+zeptomail'></span><span id='topic+smtpbucket'></span><span id='topic+mailtrap'></span>

<h3>Description</h3>

<p>Create an object which can be used to send messages to an SMTP server.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>server(
  host,
  port = 25,
  username = NULL,
  password = NULL,
  insecure = FALSE,
  reuse = TRUE,
  helo = NA,
  protocol = NA,
  use_ssl = NA,
  test = FALSE,
  pause_base = 1,
  max_times = 5,
  ...
)

gmail(username, password, ...)

sendgrid(password, ...)

mailgun(username, password, ...)

sendinblue(username, password, ...)

mailersend(username, password, ...)

mailfence(username, password, ...)

zeptomail(password, ...)

smtpbucket(...)

mailtrap(username, password, sandbox = FALSE, bulk = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="server_+3A_host">host</code></td>
<td>
<p>DNS name or IP address of the SMTP server.</p>
</td></tr>
<tr><td><code id="server_+3A_port">port</code></td>
<td>
<p>Port that the SMTP server is listening on.</p>
</td></tr>
<tr><td><code id="server_+3A_username">username</code></td>
<td>
<p>Username for SMTP server.</p>
</td></tr>
<tr><td><code id="server_+3A_password">password</code></td>
<td>
<p>Password for SMTP server or API key.</p>
</td></tr>
<tr><td><code id="server_+3A_insecure">insecure</code></td>
<td>
<p>Whether to ignore SSL issues.</p>
</td></tr>
<tr><td><code id="server_+3A_reuse">reuse</code></td>
<td>
<p>Whether the connection to the SMTP server should be left open for reuse.</p>
</td></tr>
<tr><td><code id="server_+3A_helo">helo</code></td>
<td>
<p>The HELO domain name of the sending host. If left as <code>NA</code> then will use local host name.</p>
</td></tr>
<tr><td><code id="server_+3A_protocol">protocol</code></td>
<td>
<p>Which protocol (SMTP or SMTPS) to use for communicating with
the server. Default will choose appropriate protocol based on port.</p>
</td></tr>
<tr><td><code id="server_+3A_use_ssl">use_ssl</code></td>
<td>
<p>Whether to use SSL. If not specified then SSL will be used if the port is 465 or 587.
This enables SSL on non-standard ports.</p>
</td></tr>
<tr><td><code id="server_+3A_test">test</code></td>
<td>
<p>Test login to server.</p>
</td></tr>
<tr><td><code id="server_+3A_pause_base">pause_base</code></td>
<td>
<p>Base delay (in seconds) for exponential backoff. See <a href="purrr.html#topic+rate_backoff">rate_backoff</a>.</p>
</td></tr>
<tr><td><code id="server_+3A_max_times">max_times</code></td>
<td>
<p>Maximum number of times to retry.</p>
</td></tr>
<tr><td><code id="server_+3A_...">...</code></td>
<td>
<p>Additional curl options. See <code>curl::curl_options()</code> for a list of supported options.</p>
</td></tr>
<tr><td><code id="server_+3A_sandbox">sandbox</code></td>
<td>
<p>Use email sandbox to test server.</p>
</td></tr>
<tr><td><code id="server_+3A_bulk">bulk</code></td>
<td>
<p>Send bulk mail to multiple recipients.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>These functions return a function that can then be called with a message
object. This function mediates the interaction with the Simple Mail Transfer
Protocol (SMTP) server.
</p>
<p>SMTP is a plain text protocol, which means that it is not secure. The secure
variant, SMTPS, comes in two flavours: TLS and StartTLS. With TLS (also
called Implicit TLS) the connection with the server is initiated using an
Secure Socket Layer (SSL) or Transport Layer Security (TLS) certificate. Such
a connection is secure from the start. By contract, a StartTLS connection is
initiated in plain text and then upgraded to TLS if possible. By convention
TLS operates on port 465 and StartTLS on port 587.
</p>
<p>The specifications of an SMTP server are given in an SMTP URL, which takes one
of the following forms:
</p>

<ul>
<li> <p><code>mail.example.com</code> — hostname only
</p>
</li>
<li> <p><code>mail.example.com:587</code> — hostname and port
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;smtp://mail.example.com&#8288;</code> — SMTP URL (default port)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;smtps://mail.example.com&#8288;</code> — SMTPS URL (default port)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;smtp://mail.example.com:25&#8288;</code> — SMTP URL (explicit port)
</p>
</li>
<li> <p><code style="white-space: pre;">&#8288;smtps://mail.example.com:587&#8288;</code> — SMTPS URL (explicit port)
</p>
</li></ul>



<h3>Value</h3>

<p>A function which is used to send messages to the server.
</p>


<h3>Gmail</h3>

<p>If you're having trouble authenticating with Gmail then you should try the following:
</p>

<ul>
<li><p> enable 2-factor authentication and
</p>
</li>
<li><p> create an app password.
</p>
</li></ul>

<p>Then use the app password rather than your usual account password.
</p>


<h3>Sendgrid</h3>

<p>To use SendGrid you'll need to first <a href="https://www.twilio.com/docs/sendgrid/for-developers/sending-email/integrating-with-the-smtp-api">create an API key</a>. # nolint
Then use the API key as the password.
</p>
<p>SendGrid will accept messages on ports 25, 587 and 2525 (using SMTP) as well
as 465 (using SMTPS).
</p>


<h3>Mailgun</h3>

<p>To use Mailgun you'll need to first register a sender domain. This will then
be assigned a username and password.
</p>
<p>Mailgun will accept messages on ports 25 and 587 (using SMTP) as well as 465
(using SMTPS).
</p>


<h3>Sendinblue</h3>

<p>To use Sendinblue you'll need to first create an account. You'll find your
SMTP username and password in the SMTP &amp; API section of your account
settings.
</p>


<h3>MailerSend</h3>

<p>To use MailerSend you'll need to first create an account. You'll find your
SMTP username and password under Domains. See <a href="https://www.mailersend.com/help/smtp-relay">How to send emails
via SMTP with MailerSend</a>.
</p>
<p>Although this is not likely to be a problem in practice, MailerSend insists
that all messages have at minimum a valid subject and either text or HTML
content.
</p>


<h3>Mailfence</h3>

<p>To use Mailfence you'll need to create a premium account.
</p>


<h3>ZeptoMail</h3>

<p>Zeptomail is an email sending service provided by Zoho Corporation. It is
designed primarily for transactional email delivery, which includes emails
like password resets, order confirmations, notifications, and other
automated, non-marketing communications that websites and applications need
to send to their users.
</p>


<h3>SMTP Bucket</h3>

<p>SMTP Bucket is a fake SMTP server that captures all the messages it receives
and makes them available through a website or REST API.
</p>
<p>SMTP Bucket is a fake SMTP server that captures all the messages it receives
and makes them available through a website or REST API.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Set parameters for SMTP server (with username and password).
smtp &lt;- server(
  host = "smtp.gmail.com",
  port = 587,
  username = "bob@gmail.com",
  password = "bd40ef6d4a9413de9c1318a65cbae5d7"
)

# Set parameters for a (fake) testing SMTP server.
#
# More information about this service can be found at https://www.smtpbucket.com/.
#
smtp &lt;- server(
  host = "mail.smtpbucket.com",
  port = 8025
)

# Create a message
msg &lt;- envelope() %&gt;%
  from("bob@gmail.com") %&gt;%
  to("alice@yahoo.com")

# Send message (verbose output from interactions with server)
## Not run: 
smtp(msg, verbose = TRUE)

## End(Not run)

# To confirm that the message was sent, go to https://www.smtpbucket.com/ then:
#
# - fill in "bob@gmail.com" for the Sender field and
# - fill in "alice@yahoo.com" for the Recipient field then
# - press the Search button.

# With explicit HELO domain.
#
smtp &lt;- server(
  host = "mail.example.com",
  helo = "client.example.com"
)

# Set parameters for Gmail SMTP server. The host and port are implicit.
smtp &lt;- gmail(
  username = "bob@gmail.com",
  password = "bd40ef6d4a9413de9c1318a65cbae5d7"
)

# Set API key for SendGrid SMTP server.
smtp &lt;- sendgrid(
  password = "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"
)

# Set username and password for Mailgun SMTP server.
smtp &lt;- mailgun(
  username = "postmaster@sandbox9ptce35fdf0b31338dec4284eb7aaa59.mailgun.org",
  password = "44d072e7g2b5f3bf23b2b642da0fe3a7-2ac825a1-a5be680a"
)

# Set username and password for Sendinblue SMTP server.
smtp &lt;- sendinblue(
  username = "bob@gmail.com",
  password = "xsmtpsib-c75cf91323adc53a1747c005447cbc9a893c35888635bb7bef1a624bf773da33"
)

# Set username and password for MailerSend SMTP server.
smtp &lt;- mailersend(
  username = "NS_Pf3ALM@gmail.com",
  password = "e5ATWLlTnWWDaKeE"
)

# Set username and password for Mailfence SMTP server.
smtp &lt;- mailfence(
  username = "bob",
  password = "F!Uosd6xbhSjd%63"
)

# Set password for ZeptoMail SMTP server.
# nolint start
smtp &lt;- zeptomail("yA6KbHsL4l2mmI8Ns0/fs9iSTj8yG0dYBgfIG0j6Fsv4P2uV32xh8ciEYNYlRkgCC7wRfkgWA==")
# nolint end

# SMTP Bucket server.
smtp &lt;- smtpbucket()

# SMTP Bucket server.
smtp &lt;- smtpbucket()
</code></pre>

<hr>
<h2 id='subject'>Add or query subject of message.</h2><span id='topic+subject'></span>

<h3>Description</h3>

<p>Add or query subject of message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>subject(
  msg,
  subject = NULL,
  prefix = NA,
  suffix = NA,
  interpolate = TRUE,
  .open = "{{",
  .close = "}}",
  .envir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="subject_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="subject_+3A_subject">subject</code></td>
<td>
<p>A subject for the message.</p>
</td></tr>
<tr><td><code id="subject_+3A_prefix">prefix</code></td>
<td>
<p>A subject prefix.</p>
</td></tr>
<tr><td><code id="subject_+3A_suffix">suffix</code></td>
<td>
<p>A subject suffix.</p>
</td></tr>
<tr><td><code id="subject_+3A_interpolate">interpolate</code></td>
<td>
<p>Whether or not to interpolate into input using <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="subject_+3A_.open">.open</code></td>
<td>
<p>The opening delimiter.</p>
</td></tr>
<tr><td><code id="subject_+3A_.close">.close</code></td>
<td>
<p>The closing delimiter.</p>
</td></tr>
<tr><td><code id="subject_+3A_.envir">.envir</code></td>
<td>
<p>Environment used for <code>glue</code> interpolation. Defaults to <code>parent.frame()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>prefix</code> and <code>suffix</code> can be used to add extra
<a href="https://en.wikipedia.org/wiki/List_of_email_subject_abbreviations">subject
abbreviations</a>.
</p>


<h3>Value</h3>

<p>A message object or the subject of the message object (if <code>subject</code> is <code>NULL</code>).
</p>


<h3>See Also</h3>

<p><code><a href="#topic+to">to</a></code>, <code><a href="#topic+from">from</a></code>, <code><a href="#topic+cc">cc</a></code>, <code><a href="#topic+bcc">bcc</a></code> and <code><a href="#topic+reply">reply</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a message and set the subject
msg &lt;- envelope() %&gt;% subject("Updated report")

# Retrieve the subject for a message
subject(msg)
</code></pre>

<hr>
<h2 id='template'>Add message body from template</h2><span id='topic+template'></span>

<h3>Description</h3>

<p>Variables given as named arguments will override any variables in the
environment with the same name.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>template(msg, .name, ..., .envir = parent.frame())
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="template_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="template_+3A_.name">.name</code></td>
<td>
<p>A template name. This can be provided as either: (i) the name
of a template that's baked into the package, (ii) a relative path or (iii)
an absolute path. The paths must be for the directory containing the
template files, not the files themselves.</p>
</td></tr>
<tr><td><code id="template_+3A_...">...</code></td>
<td>
<p>Variables for substitution.</p>
</td></tr>
<tr><td><code id="template_+3A_.envir">.envir</code></td>
<td>
<p>Environment for substitution.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Will probably not get variables from environment if used as part of a
pipeline. In this case might need to use the <code>%|&gt;%</code> (nested pipe)
operator.
</p>


<h3>Value</h3>

<p>A message object.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Use a builtin template.
envelope() %&gt;%
  template(
    "newsletter",
    title = "A Sample Newsletter",
    articles = list(
      list(
        "title" = "Article (with date)",
        "content" = as.list("Vivamus, justo quisque, sed."),
        "date" = "1 January 2022"
      ),
      list(
        "title" = "Another Article (without date)",
        "content" = as.list("Quam lorem sed metus egestas.")
      )
    )
  )
# Use a custom local template.
## Not run: 
envelope() %&gt;%
  template("./templates/custom-template")

## End(Not run)
</code></pre>

<hr>
<h2 id='text'>Add a text body to a message.</h2><span id='topic+text'></span>

<h3>Description</h3>

<p>Add <code>text/plain</code> content to a message.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>text(
  msg,
  content,
  disposition = "inline",
  charset = "utf-8",
  encoding = "7bit",
  language = FALSE,
  interpolate = TRUE,
  .open = "{{",
  .close = "}}",
  .envir = NULL
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="text_+3A_msg">msg</code></td>
<td>
<p>A message object.</p>
</td></tr>
<tr><td><code id="text_+3A_content">content</code></td>
<td>
<p>A string of message content.</p>
</td></tr>
<tr><td><code id="text_+3A_disposition">disposition</code></td>
<td>
<p>Should the content be displayed inline or as an
attachment? Valid options are <code>"inline"</code> and <code>"attachment"</code>. If
set to <code>NA</code> then will guess appropriate value.</p>
</td></tr>
<tr><td><code id="text_+3A_charset">charset</code></td>
<td>
<p>What character set is used. Most often either <code>"UTF-8"</code>
or <code>"ISO-8859-1"</code>.</p>
</td></tr>
<tr><td><code id="text_+3A_encoding">encoding</code></td>
<td>
<p>How content is transformed to ASCII. Options are
<code>"7bit"</code>, <code>"quoted-printable"</code> and <code>"base64"</code>. Use <code>NA</code>
or <code>NULL</code> for no (or &quot;identity&quot;) encoding.</p>
</td></tr>
<tr><td><code id="text_+3A_language">language</code></td>
<td>
<p>Language of content. If <code>FALSE</code> then will not include
language field. If <code>TRUE</code> then will attempt to auto-detect language.
Otherwise will use the specified language.</p>
</td></tr>
<tr><td><code id="text_+3A_interpolate">interpolate</code></td>
<td>
<p>Whether or not to interpolate into input using <a href="glue.html#topic+glue">glue</a>.</p>
</td></tr>
<tr><td><code id="text_+3A_.open">.open</code></td>
<td>
<p>The opening delimiter.</p>
</td></tr>
<tr><td><code id="text_+3A_.close">.close</code></td>
<td>
<p>The closing delimiter.</p>
</td></tr>
<tr><td><code id="text_+3A_.envir">.envir</code></td>
<td>
<p>Environment used for <code>glue</code> interpolation. Defaults to <code>parent.frame()</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>text/plain</code> format is
described in <a href="https://www.ietf.org/rfc/rfc2646.txt">RFC 2646</a>.
</p>
<p>Uses <code>glue::glue()</code> to evaluate expressions enclosed in brackets as R code.
</p>


<h3>Value</h3>

<p>A message object.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+html">html</a></code>, <code><a href="#topic+render">render</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>msg &lt;- envelope() %&gt;% text("Hello!")

# Using {glue} interpolation.
#
name &lt;- "Alice"
msg &lt;- envelope() %&gt;% text("Hello {name}.")

print(msg, details = TRUE)

# Disable {glue} interpolation.
#
msg &lt;- envelope() %&gt;% text("This is a set: {1, 2, 3}.", interpolate = FALSE)
</code></pre>

<hr>
<h2 id='validate'>Validate email address</h2><span id='topic+validate'></span>

<h3>Description</h3>

<p>Validate email address
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validate(addr, deliverability = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="validate_+3A_addr">addr</code></td>
<td>
<p>An email address.</p>
</td></tr>
<tr><td><code id="validate_+3A_deliverability">deliverability</code></td>
<td>
<p>Whether to check for deliverability (valid domain).</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>logical</code> indicating whether or not the address is valid.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A valid address.
validate("cran-sysadmin@r-project.org")
# An invalid address.
validate("help@this-domain-does-not-exist.com")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package marquee</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {marquee}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#marquee-package'><p>marquee: Markdown Parser and Renderer for R Graphics</p></a></li>
<li><a href='#classic_style'><p>Classic styling for markdown</p></a></li>
<li><a href='#element_marquee'><p>ggplot2 theme element supporting marquee syntax</p></a></li>
<li><a href='#geom_marquee'><p>Draw text formatted with marquee</p></a></li>
<li><a href='#GeomMarquee'><p>Geom class for geom_marquee</p></a></li>
<li><a href='#marquee_glue'><p>Marquee-aware string interpolation</p></a></li>
<li><a href='#marquee_grob'><p>Construct a grob rendering one or more markdown texts</p></a></li>
<li><a href='#marquee_parse'><p>Parse a text as marquee</p></a></li>
<li><a href='#style'><p>Create a style specification for a single tag</p></a></li>
<li><a href='#style_set'><p>Create or modify a style set that describes a full markdown text</p></a></li>
<li><a href='#style-helpers'><p>Helpers for defining styles</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Markdown Parser and Renderer for R Graphics</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides the mean to parse and render markdown text with grid along
    with facilities to define the styling of the text.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>cpp11</td>
</tr>
<tr>
<td>Imports:</td>
<td>cli, glue, grid, jpeg, png, rlang (&ge; 1.1.0), systemfonts (&ge;
1.1.0), textshaping (&ge; 0.4.0), utils, vctrs</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, gt, knitr, patchwork, ragg, rmarkdown, rsvg,
testthat (&ge; 3.0.0)</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://marquee.r-lib.org">https://marquee.r-lib.org</a>, <a href="https://github.com/r-lib/marquee">https://github.com/r-lib/marquee</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/r-lib/marquee/issues">https://github.com/r-lib/marquee/issues</a></td>
</tr>
<tr>
<td>Config/Needs/website:</td>
<td>tidyverse/tidytemplate</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-05-28 06:35:19 UTC; thomas</td>
</tr>
<tr>
<td>Author:</td>
<td>Thomas Lin Pedersen
    <a href="https://orcid.org/0000-0002-5147-4711"><img alt="ORCID iD"src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a> [aut, cre],
  Martin Mit치코 [aut] (Author of MD4C),
  Posit Software, PBC [cph, fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Thomas Lin Pedersen &lt;thomas.pedersen@posit.co&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-05-28 16:20:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='marquee-package'>marquee: Markdown Parser and Renderer for R Graphics</h2><span id='topic+marquee'></span><span id='topic+marquee-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Provides the mean to parse and render markdown text with grid along with facilities to define the styling of the text.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Thomas Lin Pedersen <a href="mailto:thomas.pedersen@posit.co">thomas.pedersen@posit.co</a> (<a href="https://orcid.org/0000-0002-5147-4711">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li><p> Martin Mit치코 (Author of MD4C)
</p>
</li></ul>

<p>Other contributors:
</p>

<ul>
<li><p> Posit Software, PBC [copyright holder, funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://marquee.r-lib.org">https://marquee.r-lib.org</a>
</p>
</li>
<li> <p><a href="https://github.com/r-lib/marquee">https://github.com/r-lib/marquee</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/r-lib/marquee/issues">https://github.com/r-lib/marquee/issues</a>
</p>
</li></ul>


<hr>
<h2 id='classic_style'>Classic styling for markdown</h2><span id='topic+classic_style'></span>

<h3>Description</h3>

<p>This function facilitates construction of a complete style set based on the
classic look of an HTML rendered markdown document. It contains style
specifications for all the supported markdown elements as well as a <code>sub</code> and
<code>sup</code> style that can be used for subscripts and superscript respectively.
These are only accessible through custom spans (e.g. <code style="white-space: pre;">&#8288;H{.sub 2}O&#8288;</code>) as
markdown doesn't provide a syntax for these formats.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>classic_style(
  base_size = 12,
  body_font = "",
  header_font = "",
  code_font = "mono",
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="classic_style_+3A_base_size">base_size</code></td>
<td>
<p>The base font size for the text. All other sizing is based
on this</p>
</td></tr>
<tr><td><code id="classic_style_+3A_body_font">body_font</code></td>
<td>
<p>The font family to use for body text</p>
</td></tr>
<tr><td><code id="classic_style_+3A_header_font">header_font</code></td>
<td>
<p>The font family to use for headers</p>
</td></tr>
<tr><td><code id="classic_style_+3A_code_font">code_font</code></td>
<td>
<p>The font family to use for code and code block text</p>
</td></tr>
<tr><td><code id="classic_style_+3A_...">...</code></td>
<td>

<p>Arguments passed on to <code><a href="#topic+base_style">base_style</a></code>
</p>

<dl>
<dt><code>weight</code></dt><dd><p>The font weight to use. Can either be a number (<code>0</code>, <code>100</code>,
<code>200</code>, <code>300</code>, <code>400</code>, <code>500</code>, <code>600</code>, <code>700</code>, <code>800</code>, or <code>900</code>) or a strings
(<code>"undefined"</code>, <code>"thin"</code>, <code>"ultralight"</code>, <code>"light"</code>, <code>"normal"</code>, <code>"medium"</code>,
<code>"semibold"</code>, <code>"bold"</code>, <code>"ultrabold"</code>, or <code>"heavy"</code>)</p>
</dd>
<dt><code>italic</code></dt><dd><p>Should the font be slanted</p>
</dd>
<dt><code>width</code></dt><dd><p>The font width to use. Can either be a number (&ldquo;0<code style="white-space: pre;">&#8288;, &#8288;</code>1', '2',
'3', '4', '5', '6', '7', '8', or '9') or strings ('&quot;undefined&quot;',
'&quot;ultracondensed&quot;', '&quot;extracondensed&quot;', '&quot;condensed&quot;', '&quot;semicondensed&quot;',
'&quot;normal&quot;', '&quot;semiexpanded&quot;', '&quot;expanded&quot;', '&quot;extraexpanded&quot;', or
'&quot;ultraexpanded&quot;')</p>
</dd>
<dt><code>features</code></dt><dd><p>A <a href="systemfonts.html#topic+font_feature">font_feature</a> object specifying
any OpenType font features to apply to the font</p>
</dd>
<dt><code>color</code></dt><dd><p>Is the color of the font</p>
</dd>
<dt><code>lineheight</code></dt><dd><p>The spacing between subsequent lines relative to the font
size. Can be <code><a href="#topic+relative">relative()</a></code> in which case it is based on the parent lineheight.</p>
</dd>
<dt><code>align</code></dt><dd><p>The alignment within the text. One of <code>"left"</code>, <code>"center"</code>,
<code>"right"</code>, <code>"justified-left"</code>, <code>"justified-center"</code>, <code>"justified-right"</code>, or
<code>"distributed"</code></p>
</dd>
<dt><code>tracking</code></dt><dd><p>Additional character spacing measured in 1/1000em. Can be
<code><a href="#topic+relative">relative()</a></code> in which case it is based on the parent tracking.</p>
</dd>
<dt><code>indent</code></dt><dd><p>The indentation of the first line in a paragraph measured in
points. Can be <code><a href="#topic+relative">relative()</a></code> in which case it is based on the parent indent,
<code><a href="#topic+em">em()</a></code> in which case it is based on the font size in this style, or <code><a href="#topic+rem">rem()</a></code>
in which case it is based on the font size of the body element.</p>
</dd>
<dt><code>hanging</code></dt><dd><p>The indentation of all but the first line in a paragraph
measured in points. Can be <code><a href="#topic+relative">relative()</a></code> in which case it is based on the
parent hanging, <code><a href="#topic+em">em()</a></code> in which case it is based on the font size in this
style, or <code><a href="#topic+rem">rem()</a></code> in which case it is based on the font size of the body
element.</p>
</dd>
<dt><code>margin</code></dt><dd><p>The margin around the element, given as a call to <code><a href="#topic+trbl">trbl()</a></code></p>
</dd>
<dt><code>padding</code></dt><dd><p>The padding around the element, given as a call to <code><a href="#topic+trbl">trbl()</a></code></p>
</dd>
<dt><code>background</code></dt><dd><p>The color of the background fill. The background includes
the padding but not the margin. Can be a solid color or a gradient or pattern
made with <code>grid::linearGradient()</code>/<code>grid::radialGradient()</code>/<code>grid::pattern()</code></p>
</dd>
<dt><code>border</code></dt><dd><p>The color of the background stroke. The background includes
the padding but not the margin</p>
</dd>
<dt><code>border_size</code></dt><dd><p>The line width of the background stroke, given as a call
to <code><a href="#topic+trbl">trbl()</a></code></p>
</dd>
<dt><code>border_radius</code></dt><dd><p>The corner radius of the background, given in points</p>
</dd>
<dt><code>bullets</code></dt><dd><p>A vector of strings to use for bullets in unordered lists.
<code>marquee_bullets</code> provides a selection</p>
</dd>
<dt><code>underline</code></dt><dd><p>Should text be underlined</p>
</dd>
<dt><code>strikethrough</code></dt><dd><p>Should text be strikethrough</p>
</dd>
<dt><code>baseline</code></dt><dd><p>The baseline shift to apply to the text</p>
</dd>
<dt><code>img_asp</code></dt><dd><p>The default aspect ratio for block level images if not
provided by the image itself</p>
</dd>
</dl>
</td></tr>
</table>


<h3>Value</h3>

<p>A style set object
</p>


<h3>Examples</h3>

<pre><code class='language-R'>classic_style(16, "serif", "sans")

</code></pre>

<hr>
<h2 id='element_marquee'>ggplot2 theme element supporting marquee syntax</h2><span id='topic+element_marquee'></span>

<h3>Description</h3>

<p>This theme element is a drop-in replacement for <code>ggplot2::element_text()</code>. It
works by integrating the various style settings of the element into the base
style of the provided style set. If a margin is given, it is set on the body
tag with <code><a href="#topic+skip_inherit">skip_inherit()</a></code>. The default width is <code>NA</code> meaning that it will
span as long as the given text is, doing no line wrapping. You can set it to
any unit to make it fit within a specific width. However, this may not work
as expected with rotated text (you may get lucky). Note that you may see
small shifts in the visuals when going from <code>element_text()</code> to
<code>element_marquee()</code> as size reporting may differ between the two elements.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>element_marquee(
  family = NULL,
  colour = NULL,
  size = NULL,
  hjust = NULL,
  vjust = NULL,
  angle = NULL,
  lineheight = NULL,
  color = NULL,
  margin = NULL,
  style = NULL,
  width = NULL,
  inherit.blank = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="element_marquee_+3A_family">family</code></td>
<td>
<p>The font family of the base style</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_colour">colour</code>, <code id="element_marquee_+3A_color">color</code></td>
<td>
<p>The font colour of the base style</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_size">size</code></td>
<td>
<p>The font size of the base style</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_hjust">hjust</code></td>
<td>
<p>Horizontal justification (in <code class="reqn">[0, 1]</code>)</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_vjust">vjust</code></td>
<td>
<p>Vertical justification (in <code class="reqn">[0, 1]</code>)</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_angle">angle</code></td>
<td>
<p>Angle (in <code class="reqn">[0, 360]</code>)</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_lineheight">lineheight</code></td>
<td>
<p>The lineheight of the base style</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_margin">margin</code></td>
<td>
<p>The margin for the body tag</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_style">style</code></td>
<td>
<p>A style set to base the rendering on</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_width">width</code></td>
<td>
<p>The maximum width of the text. See the description for some
caveats for this</p>
</td></tr>
<tr><td><code id="element_marquee_+3A_inherit.blank">inherit.blank</code></td>
<td>
<p>Should this element inherit the existence of an
<code>element_blank</code> among its parents? If <code>TRUE</code> the existence of
a blank element among its parents will cause this element to be blank as
well. If <code>FALSE</code> any blank parent element will be ignored when
calculating final element state.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An <code>element_marquee</code> object that can be used in place of
<code>element_text</code> in ggplot2 theme specifications
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
library(ggplot2)
p &lt;- ggplot(mtcars) +
  geom_point(aes(mpg, disp)) +
  labs(title = "A {.red *marquee*} title\n* Look at this bullet list\n\n* great, huh?") +
  theme_gray(base_size = 6) +
  theme(title = element_marquee())

plot(p)

ggplot(mtcars) +
  geom_histogram(aes(x = mpg)) +
  labs(title =
"I put a plot in your title so you can plot while you title

![](p)

What more could you _possibly_ want?") +
  theme(title = element_marquee())

</code></pre>

<hr>
<h2 id='geom_marquee'>Draw text formatted with marquee</h2><span id='topic+geom_marquee'></span>

<h3>Description</h3>

<p>The geom is an extension of <code>geom_text()</code> and <code>geom_label()</code> that allows you
to draw richly formatted text in marquee-markdown format in your plot. For
plain text it is a near-drop-in replacement for the above geoms except some
sizing might be very slightly different. However, using this geom you are
able to access the much more powerful font settings available in marquee, so
even then it might make sense to opt for this geom.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>geom_marquee(
  mapping = NULL,
  data = NULL,
  stat = "identity",
  position = "identity",
  ...,
  size.unit = "mm",
  na.rm = FALSE,
  show.legend = NA,
  inherit.aes = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="geom_marquee_+3A_mapping">mapping</code></td>
<td>
<p>Set of aesthetic mappings created by <code><a href="ggplot2.html#topic+aes">aes()</a></code>. If specified and
<code>inherit.aes = TRUE</code> (the default), it is combined with the default mapping
at the top level of the plot. You must supply <code>mapping</code> if there is no plot
mapping.</p>
</td></tr>
<tr><td><code id="geom_marquee_+3A_data">data</code></td>
<td>
<p>The data to be displayed in this layer. There are three
options:
</p>
<p>If <code>NULL</code>, the default, the data is inherited from the plot
data as specified in the call to <code><a href="ggplot2.html#topic+ggplot">ggplot()</a></code>.
</p>
<p>A <code>data.frame</code>, or other object, will override the plot
data. All objects will be fortified to produce a data frame. See
<code><a href="ggplot2.html#topic+fortify">fortify()</a></code> for which variables will be created.
</p>
<p>A <code>function</code> will be called with a single argument,
the plot data. The return value must be a <code>data.frame</code>, and
will be used as the layer data. A <code>function</code> can be created
from a <code>formula</code> (e.g. <code>~ head(.x, 10)</code>).</p>
</td></tr>
<tr><td><code id="geom_marquee_+3A_stat">stat</code></td>
<td>
<p>The statistical transformation to use on the data for this layer.
When using a <code style="white-space: pre;">&#8288;geom_*()&#8288;</code> function to construct a layer, the <code>stat</code>
argument can be used the override the default coupling between geoms and
stats. The <code>stat</code> argument accepts the following:
</p>

<ul>
<li><p> A <code>Stat</code> ggproto subclass, for example <code>StatCount</code>.
</p>
</li>
<li><p> A string naming the stat. To give the stat as a string, strip the
function name of the <code>stat_</code> prefix. For example, to use <code>stat_count()</code>,
give the stat as <code>"count"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the stat, see the
<a href="ggplot2.html#topic+layer_stats">layer stat</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_marquee_+3A_position">position</code></td>
<td>
<p>A position adjustment to use on the data for this layer.
Cannot be jointy specified with <code>nudge_x</code> or <code>nudge_y</code>. This
can be used in various ways, including to prevent overplotting and
improving the display. The <code>position</code> argument accepts the following:
</p>

<ul>
<li><p> The result of calling a position function, such as <code>position_jitter()</code>.
</p>
</li>
<li><p> A string nameing the position adjustment. To give the position as a
string, strip the function name of the <code>position_</code> prefix. For example,
to use <code>position_jitter()</code>, give the position as <code>"jitter"</code>.
</p>
</li>
<li><p> For more information and other ways to specify the position, see the
<a href="ggplot2.html#topic+layer_positions">layer position</a> documentation.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_marquee_+3A_...">...</code></td>
<td>
<p>Other arguments passed on to <code><a href="ggplot2.html#topic+layer">layer()</a></code>'s <code>params</code> argument. These
arguments broadly fall into one of 4 categories below. Notably, further
arguments to the <code>position</code> argument, or aesthetics that are required
can <em>not</em> be passed through <code>...</code>. Unknown arguments that are not part
of the 4 categories below are ignored.
</p>

<ul>
<li><p> Static aesthetics that are not mapped to a scale, but are at a fixed
value and apply to the layer as a whole. For example, <code>colour = "red"</code>
or <code>linewidth = 3</code>. The geom's documentation has an <strong>Aesthetics</strong>
section that lists the available options. The 'required' aesthetics
cannot be passed on to the <code>params</code>. Please note that while passing
unmapped aesthetics as vectors is technically possible, the order and
required length is not guaranteed to be parallel to the input data.
</p>
</li>
<li><p> When constructing a layer using
a <code style="white-space: pre;">&#8288;stat_*()&#8288;</code> function, the <code>...</code> argument can be used to pass on
parameters to the <code>geom</code> part of the layer. An example of this is
<code>stat_density(geom = "area", outline.type = "both")</code>. The geom's
documentation lists which parameters it can accept.
</p>
</li>
<li><p> Inversely, when constructing a layer using a
<code style="white-space: pre;">&#8288;geom_*()&#8288;</code> function, the <code>...</code> argument can be used to pass on parameters
to the <code>stat</code> part of the layer. An example of this is
<code>geom_area(stat = "density", adjust = 0.5)</code>. The stat's documentation
lists which parameters it can accept.
</p>
</li>
<li><p> The <code>key_glyph</code> argument of <code><a href="ggplot2.html#topic+layer">layer()</a></code> may also be passed on through
<code>...</code>. This can be one of the functions described as
<a href="ggplot2.html#topic+draw_key">key glyphs</a>, to change the display of the layer in the legend.
</p>
</li></ul>
</td></tr>
<tr><td><code id="geom_marquee_+3A_size.unit">size.unit</code></td>
<td>
<p>How the <code>size</code> aesthetic is interpreted: as millimetres
(<code>"mm"</code>, default), points (<code>"pt"</code>), centimetres (<code>"cm"</code>), inches (<code>"in"</code>),
or picas (<code>"pc"</code>).</p>
</td></tr>
<tr><td><code id="geom_marquee_+3A_na.rm">na.rm</code></td>
<td>
<p>If <code>FALSE</code>, the default, missing values are removed with
a warning. If <code>TRUE</code>, missing values are silently removed.</p>
</td></tr>
<tr><td><code id="geom_marquee_+3A_show.legend">show.legend</code></td>
<td>
<p>logical. Should this layer be included in the legends?
<code>NA</code>, the default, includes if any aesthetics are mapped.
<code>FALSE</code> never includes, and <code>TRUE</code> always includes.
It can also be a named logical vector to finely select the aesthetics to
display.</p>
</td></tr>
<tr><td><code id="geom_marquee_+3A_inherit.aes">inherit.aes</code></td>
<td>
<p>If <code>FALSE</code>, overrides the default aesthetics,
rather than combining with them. This is most useful for helper functions
that define both data and aesthetics and shouldn't inherit behaviour from
the default plot specification, e.g. <code><a href="ggplot2.html#topic+borders">borders()</a></code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Styling of the text is based on a style set with the exception that the
standard aesthetics such as family, size, colour, fill, etc. are recognized
and applied to the base tag style. The default style set (<a href="#topic+classic_style">classic_style</a>)
can be changed using the style aesthetic which can take a vector of style
sets so that each text can rely on it's own style if needed. As with
<code><a href="#topic+element_marquee">element_marquee()</a></code>, the <code>fill</code> aesthetic is treated differently and not
applied to the base tag, but to the body tag as a <code><a href="#topic+skip_inherit">skip_inherit()</a></code> style so
as to not propagate the fill.
</p>
<p>Contrary to the standard text and label geoms, <code>geom_marquee()</code> takes a
<code>width</code> aesthetic that can be used to turn on soft wrapping of text. The
default value (<code>NA</code>) lets the text run as long as it want's (honoring hard
breaks), but setting this to something else will instruct marquee to use at
most that amount of space. You can use grid units to set it to an absolute
amount.
</p>


<h3>Value</h3>

<p>A ggplot2 layer that can be added to a plot
</p>


<h3>Examples</h3>

<pre><code class='language-R'>

library(ggplot2)
# Standard use
p &lt;- ggplot(mtcars, aes(wt, mpg))
p + geom_marquee(aes(label = rownames(mtcars)))

# Make use of more powerful font features (note, result may depend on fonts
# installed on the system)
p + geom_marquee(
  aes(label = rownames(mtcars)),
  style = classic_style(weight = "thin", width = "condensed")
)

# Turn on line wrapping
p + geom_marquee(aes(label = rownames(mtcars)), width = unit(2, "cm"))

# Style like label
label_style &lt;- modify_style(
  classic_style(),
  "body",
  padding = skip_inherit(trbl(4)),
  border = "black",
  border_size = skip_inherit(trbl(1)),
  border_radius = 3
)
p + geom_marquee(aes(label = rownames(mtcars), fill = gear), style = label_style)

# Use markdown to style the text
red_bold_names &lt;- sub("(\\w+)", "{.red **\\1**}", rownames(mtcars))
p + geom_marquee(aes(label = red_bold_names))

</code></pre>

<hr>
<h2 id='GeomMarquee'>Geom class for geom_marquee</h2><span id='topic+GeomMarquee'></span>

<h3>Description</h3>

<p>This is the underlying Geom class that powers <code><a href="#topic+geom_marquee">geom_marquee()</a></code> layers.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>GeomMarquee
</code></pre>

<hr>
<h2 id='marquee_glue'>Marquee-aware string interpolation</h2><span id='topic+marquee_glue'></span><span id='topic+marquee_glue_data'></span>

<h3>Description</h3>

<p>If you want to create your markdown programmatically you'd probably want to
use some sort of string interpolation such as <code>glue()</code>. However, the custom
span syntax of marquee interferes with the standard interpolation syntax of
glue. This function let's you use both together.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marquee_glue(
  ...,
  .sep = "",
  .envir = parent.frame(),
  .open = "{",
  .close = "}",
  .na = "NA",
  .null = character(),
  .comment = character(),
  .literal = FALSE,
  .transformer = NULL,
  .trim = TRUE
)

marquee_glue_data(
  .x,
  ...,
  .sep = "",
  .envir = parent.frame(),
  .open = "{",
  .close = "}",
  .na = "NA",
  .null = character(),
  .comment = character(),
  .literal = FALSE,
  .transformer = NULL,
  .trim = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="marquee_glue_+3A_...">...</code></td>
<td>
<p>[<code>expressions</code>]<br /> Unnamed arguments are taken to be expression
string(s) to format. Multiple inputs are concatenated together before formatting.
Named arguments are taken to be temporary variables available for substitution.
</p>
<div class="sourceCode"><pre>For `glue_data()`, elements in `...` override the values in `.x`.
</pre></div></td></tr>
<tr><td><code id="marquee_glue_+3A_.sep">.sep</code></td>
<td>
<p>[<code>character(1)</code>: &lsquo;&quot;&quot;&rsquo;]<br /> Separator used to separate elements.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.envir">.envir</code></td>
<td>
<p>[<code>environment</code>: <code>parent.frame()</code>]<br /> Environment to evaluate each expression in. Expressions are
evaluated from left to right. If <code>.x</code> is an environment, the expressions are
evaluated in that environment and <code>.envir</code> is ignored. If <code>NULL</code> is passed, it is equivalent to <code><a href="base.html#topic+emptyenv">emptyenv()</a></code>.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.open">.open</code></td>
<td>
<p>[<code>character(1)</code>: &lsquo;\{&rsquo;]<br /> The opening delimiter. Doubling the
full delimiter escapes it.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.close">.close</code></td>
<td>
<p>[<code>character(1)</code>: &lsquo;\}&rsquo;]<br /> The closing delimiter. Doubling the
full delimiter escapes it.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.na">.na</code></td>
<td>
<p>[<code>character(1)</code>: &lsquo;NA&rsquo;]<br /> Value to replace <code>NA</code> values
with. If <code>NULL</code> missing values are propagated, that is an <code>NA</code> result will
cause <code>NA</code> output. Otherwise the value is replaced by the value of <code>.na</code>.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.null">.null</code></td>
<td>
<p>[<code>character(1)</code>: &lsquo;character()&rsquo;]<br /> Value to replace
NULL values with. If <code>character()</code> whole output is <code>character()</code>. If
<code>NULL</code> all NULL values are dropped (as in <code>paste0()</code>). Otherwise the
value is replaced by the value of <code>.null</code>.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.comment">.comment</code></td>
<td>
<p>[<code>character(1)</code>: &lsquo;#&rsquo;]<br /> Value to use as the comment
character.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.literal">.literal</code></td>
<td>
<p>[<code>boolean(1)</code>: &lsquo;FALSE&rsquo;]<br /> Whether to treat single or
double quotes, backticks, and comments as regular characters (vs. as
syntactic elements), when parsing the expression string. Setting <code>.literal = TRUE</code> probably only makes sense in combination with a custom
<code>.transformer</code>, as is the case with <code>glue_col()</code>. Regard this argument
(especially, its name) as experimental.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.transformer">.transformer</code></td>
<td>
<p>[<code style="white-space: pre;">&#8288;function]&#8288;</code><br /> A function taking two arguments, <code>text</code>
and <code>envir</code>, where <code>text</code> is the unparsed string inside the glue block and
<code>envir</code> is the execution environment. A <code>.transformer</code> lets you modify a
glue block before, during, or after evaluation, allowing you to create your
own custom <code>glue()</code>-like functions. See <code>vignette("transformers")</code> for
examples.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.trim">.trim</code></td>
<td>
<p>[<code>logical(1)</code>: &lsquo;TRUE&rsquo;]<br /> Whether to trim the input
template with <code><a href="glue.html#topic+trim">trim()</a></code> or not.</p>
</td></tr>
<tr><td><code id="marquee_glue_+3A_.x">.x</code></td>
<td>
<p>[<code>listish</code>]<br /> An environment, list, or data frame used to lookup values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If you choose a different set of delimiters than <code>"{"</code> and <code>"}"</code> for the
interpolation the functions will call the equivalent glue functions directly.
However, if you keep the defaults, the functions will use a custom
transformer that will make sure to keep the marquee custom span notation. You
can both interpolate the content of the span, as well as the span class (see
examples)
</p>


<h3>Value</h3>

<p>A character vector
</p>


<h3>Examples</h3>

<pre><code class='language-R'># standard use
red_text &lt;- "this text will be red"
marquee_glue("This will be black and {.red {red_text}}!")

# if the span is not valid it will be treated as standard glue interpolation
try(
  marquee_glue("This will be black and {.red}!")
)

# You can interpolate the tag name as well
col &lt;- "green"
marquee_glue("This will be black and {.{col} this text will be {col}}!")

# Tag name interpolation must follow a `.` or a `#` as these identify the
# bracket pair as a custom span class
col &lt;- ".yellow"
# This is not what you want probably
marquee_glue("This will be black and {{col} this text will be {col}}!")

# Tag interpolation should also interpolate the full tag and be followed by
# a space in order to be valid
part &lt;- "l"
marquee_glue("This will be black and {.ye{part}low this text will be {col}}!")
try(
  marquee_glue("This will be black and {.{part}avender this text will be {col}}!")
)

</code></pre>

<hr>
<h2 id='marquee_grob'>Construct a grob rendering one or more markdown texts</h2><span id='topic+marquee_grob'></span>

<h3>Description</h3>

<p>This is the main function of marquee. It takes a vector of markdown strings,
parses them with the provided style, and returns a grob capable of rendering
the parsed text into rich text and (possibly) images. See <code><a href="#topic+marquee_parse">marquee_parse()</a></code>
for more information about how markdown is parsed and see details below for
further information on how rendering proceeds.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marquee_grob(
  text,
  style = classic_style(),
  ignore_html = TRUE,
  x = 0,
  y = 1,
  width = NULL,
  default.units = "npc",
  hjust = "left",
  vjust = "top",
  angle = 0,
  vp = NULL,
  name = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="marquee_grob_+3A_text">text</code></td>
<td>
<p>Either a character vector or a <code>marquee_parsed</code> object as created
by <code><a href="#topic+marquee_parse">marquee_parse()</a></code></p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_style">style</code></td>
<td>
<p>A style set such as <code><a href="#topic+classic_style">classic_style()</a></code> that defines how the text
should be rendered</p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_ignore_html">ignore_html</code></td>
<td>
<p>Should HTML code be removed from the output</p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_x">x</code>, <code id="marquee_grob_+3A_y">y</code></td>
<td>
<p>The location of the markdown text in the graphics. If numeric it
will be converted to units using <code>default.units</code></p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_width">width</code></td>
<td>
<p>The width of each markdown text. If numeric it will be converted
to units using <code>default.units</code>. <code>NULL</code> is equivalent to the width of the
parent container</p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_default.units">default.units</code></td>
<td>
<p>A string giving the default units to apply to <code>x</code>, <code>y</code>,
and <code>width</code></p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_hjust">hjust</code></td>
<td>
<p>The horizontal justification of the markdown with respect to
<code>x</code>. Can either be a numeric or one of <code>"left"</code>, <code>"left-ink"</code>, <code>"center"</code>,
<code>"center-ink"</code>, <code>"right-ink"</code>, or <code>"right"</code></p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_vjust">vjust</code></td>
<td>
<p>The vertical justification of the markdown with respect to
<code>y</code>. Can either be a numeric or one of <code>"bottom"</code>, <code>"bottom-ink"</code>,
<code>"last-line"</code>, <code>"center"</code>, <code>"center-ink"</code>, <code>"first-line"</code>, <code>"top-ink"</code>,
<code>"top"</code></p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_angle">angle</code></td>
<td>
<p>The angle of rotation (in degrees) around <code>x</code> and <code>y</code></p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_vp">vp</code></td>
<td>
<p>An optional viewport to assign to the grob</p>
</td></tr>
<tr><td><code id="marquee_grob_+3A_name">name</code></td>
<td>
<p>The name for the grob. If <code>NULL</code> a unique name will be generated</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A grob of class <code>marquee</code>
</p>


<h3>Rendering style</h3>

<p>The rendering more or less adheres to the styling provided by
<code><a href="#topic+marquee_parse">marquee_parse()</a></code>, but has some intricacies as detailed below:
</p>
<p><strong>Tight lists</strong>
</p>
<p>If a list is tight, the bottom margin of each <code>li</code> tag will be set so the
spacing matches the lineheight. Further, the top margin will be set to 0.
</p>
<p><strong>Block images</strong>
</p>
<p>In markdown, image tags are span elements so they can be placed inline.
However, if an image tag is the only thing that is contained inside a p tag
marquee determines that it should be considered a block element. In that
case, the parent p element inherits the styling from the image element so
that the image can e.g. adhere to <code>align</code> properties, or provide their own
padding.
</p>
<p><strong>Horizontal rulers</strong>
</p>
<p>These elements are rendered as an empty block. The standard style sets a
bottom border size and no size for the other sides.
</p>
<p><strong>Margin collapsing</strong>
</p>
<p>Margin calculations follows the margin collapsing rules of HTML. Read more
about these at <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_box_model/Mastering_margin_collapsing">mdn</a>
</p>
<p><strong>Underline and strikethrough</strong>
</p>
<p>Underlines are placed 0.1em below the baseline of the text. Strikethrough are
placed 0.3em above the baseline. The width of the line is set to 0.075em. It
inherits the color of the text. No further styling is possible.
</p>
<p><strong>Spans with background</strong>
</p>
<p>Consecutive spans with the same background and border settings are merged
into a single rectangle. The padding of the span defines the size of the
background but will not modify the placement of glyph (i.e. having a left
padding will not move the first glyph further away from it's left neighbor).
</p>
<p><strong>Bullet position</strong>
</p>
<p>Bullets are placed, right-aligned, 0.25em to the left of the first line in
the li element.
</p>
<p><strong>Border with border radius</strong>
</p>
<p>If borders are not the same on all sides they are drawn one by one. In this
case the border radius is ignored.
</p>


<h3>Image rendering</h3>

<p>The image tag can be used to place images. There are support for both png and
jpeg images. If the path instead names a grob, ggplot, or patchwork object
then this is rendered instead. If the file cannot be read, if it doesn't
exist, or if the path names an object that is not a grob, ggplot or patchwork,
a placeholder is rendered in it's place (black square with red cross).
</p>
<p><strong>Image sizing</strong>
</p>
<p>There is no standard in markdown for specifying the size of images. By
default, block-level images fill the width of it's container and maintain
it's aspect ratio. Inline images have a default width of 0.65em and a height
matching the aspect ration.
</p>
<p>However, if you wish to control sizing, you can instead provide the image as
a grob with a viewport with fixed dimensions, in which case this will be used
as long as the width doesn't exceed the width of the container (in which case
it will get downsized). If a rastergrob is provided without absolute sizing,
the aspect ratio will match the raster, otherwise the aspect ratio will be
taken from the styling of the element (defaults to 1.65)
</p>


<h3>Table rendering</h3>

<p>While marquee does not support the extended table syntax for markdown it does
allow you to include tables in the output. It does so by supporting gt
objects as valid paths in image tags in the same way as ggplots etc. This
meeans that you can style your tables any way you wish and with the full
power of gt, which is much more flexible than the markdown table syntax.
</p>


<h3>Textbox justification</h3>

<p>The justification options exceeds the classic ones provided by grid. While
numeric values are available as always, the number of possible text values
are larger. Horizontal justification add <code>"left-ink"</code>, <code>"center-ink"</code>, and
<code>"right-ink"</code> which uses the left-most and right-most positioned glyph (or
halfway between them) as anchors. Vertical justification has the equivalent
<code>"bottom-ink"</code>, <code>"center-ink"</code>, and <code>"top-ink"</code> anchors, but also
<code>"first-line"</code> and <code>"last-line"</code> which sets the anchor at the baseline of the
first or last line respectively.
</p>

<hr>
<h2 id='marquee_parse'>Parse a text as marquee</h2><span id='topic+marquee_parse'></span>

<h3>Description</h3>

<p>marquee uses an extension of CommonMark with no support for HTML code (it is
rendered verbatim). The focus is to allow easy formatting of text for
graphics, rather than fully fledged typesetting. See <em>marquee syntax</em> for
more about the format.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>marquee_parse(text, style = classic_style(), ignore_html = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="marquee_parse_+3A_text">text</code></td>
<td>
<p>A character string. The core quality of markdown is that any text
is valid markdown so there is no restrictions on the content</p>
</td></tr>
<tr><td><code id="marquee_parse_+3A_style">style</code></td>
<td>
<p>A style set such as <code><a href="#topic+classic_style">classic_style()</a></code> that defines how the text
should be rendered</p>
</td></tr>
<tr><td><code id="marquee_parse_+3A_ignore_html">ignore_html</code></td>
<td>
<p>Should HTML code be removed from the output</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame describing the various tokens of the text and the style
to apply to them. The output is mainly meant for programmatic consumption
such as in <code><a href="#topic+marquee_grob">marquee_grob()</a></code>
</p>


<h3>marquee tags</h3>

<p>marquee tokenizes the input text into blocks and spans. It recognises the
following tags:
</p>
<p><strong>Block tags</strong>
</p>
<p><code>body</code> is the parent tag of a markdown document. It never contains any text
itself, only other blocks.
</p>
<p><code>ul</code> is an unordered list. It contains a number of <code>li</code> children
</p>
<p><code>ol</code> is an ordered list. It contains a number of <code>li</code> children
</p>
<p><code>li</code> is a list element. If the list is tight it contains text directly inside
of it. If not, text are placed inside child <code>p</code> blocks
</p>
<p><code>hr</code> is a horizontal line, spanning the width of the parent block. For
styling, the bottom border size is used when rendering
</p>
<p><code>h1</code>-<code>h6</code> are headings at different levels
</p>
<p><code>cb</code> is a code block. Text inside code blocks are rendered verbatim, i.e. it
cannot contain any children
</p>
<p><code>p</code> is a standard paragraph block. Text separated by two line-ends are
separated into separate paragraphs
</p>
<p><code>qb</code> is a quote block. It may contain children
</p>
<p><strong>Span tags</strong>
</p>
<p><code>em</code> is an emphasized text span. Often this means italicizing the text, but
it is ultimately up to the renderer
</p>
<p><code>str</code> is strong text, often rendered with bold text
</p>
<p><code>a</code> is a link text. While marquee rendering doesn't allow for links, it can
still be rendered in a particular way
</p>
<p><code>code</code> is text rendered as code. Often this uses a monospaced font. Text
inside this span is rendered verbatim
</p>
<p><code>u</code> is text that should be underlined
</p>
<p><code>del</code> is text that should have strikethrough
</p>
<p><em>custom spans</em> is a marquee specific extension to the syntax that allows you
to make up tags on the fly. See the section on marquee syntax for more.
</p>


<h3>marquee syntax</h3>

<p>marquee uses md4c which is a fully CommonMark compliant markdown parser.
CommonMark is an effort to create an internally coherent markdown
specification, something that was missing from the original markdown
description. If you are used to writing markdown, you are used to CommonMark.
Below is a list of notable additions or details about the specific way
marquee handles CommonMark
</p>
<p><strong>Underlines and strikethrough</strong>
</p>
<p>While not part of the basic CommonMark spec, underline and strikethrough are
supported by marquee using <code style="white-space: pre;">&#8288;_&#8288;</code> and <code>~</code> (e.g. <code style="white-space: pre;">&#8288;_underline this_&#8288;</code> and <code style="white-space: pre;">&#8288;~this was an error~&#8288;</code>).
</p>
<p><strong>Images</strong>
</p>
<p>Image tags (<code style="white-space: pre;">&#8288;![image title](path/to/image)&#8288;</code>) are supported, but the title is
ignored. The path is returned as the token text.
</p>
<p><strong>HTML</strong>
</p>
<p>HTML tags are ignored, i.e. they are rendered verbatim. This is not that
different from classic markdown rendering except that people often convert
markdown to HTML where these tags suddenly have meaning. They do not carry
any special significance when rendered with marquee
</p>
<p><strong>Custom tags</strong>
</p>
<p>While markdown provides most of what is necessary for standard text markup,
there are situations, especially in visualisation, where we need something
more. Often users reach for inline HTML spans for that, but since HTML is
fully ignored in marquee this is not an option. Further, adding in HTML
decreases readability of the unformatted text a lot.
</p>
<p>With marquee you can create a custom span using the <code style="white-space: pre;">&#8288;{.tag &lt;some text&gt;}&#8288;</code>
syntax, e.g. <code style="white-space: pre;">&#8288;{.sm small text}&#8288;</code> to wrap &quot;small text&quot; in the <code>sm</code> tag. You can
alternatively use <code style="white-space: pre;">&#8288;{#tag &lt;some text&gt;}&#8288;</code> for the same effect. The only
difference is that in the former syntax the <code>.</code> is stripped from the tag name,
whereas in the latter the <code style="white-space: pre;">&#8288;#&#8288;</code> remains part of the name. See the Styling
section for the primal use of the latter syntax.
</p>


<h3>Styling</h3>

<p>During parsing, each token is assigned a style based on the provided style
set. The styling is cascading, but without the intricacies of CSS. A child
element inherits the styling of it's parent for the options that are set to
<code>NULL</code> in the style matching the child tag. Any style element that are
<code><a href="#topic+relative">relative()</a></code> are computed based on the value of the parent style element.
<code><a href="#topic+em">em()</a></code> elements are resolved based on the size element of the child style,
and <code><a href="#topic+rem">rem()</a></code> elements are resolved using the size element of the <code>body</code> style.
If a style is not provided for the tag, it fully inherits the style of it's
parent.
</p>
<p><strong>Automatic coloring</strong>
Recognizing that the primary use for custom tags may be to change the color
of some text, marquee provides a shortcut for this. If a style is not found
for the tag in the provided style set, marquee will check if the tag matches
a valid color (i.e. a string from <code>grDevices::colors()</code>, or a valid hex
string, e.g. <code style="white-space: pre;">&#8288;#53f2a9&#8288;</code>). If it is a valid color it will set this as the font
color of the style. This means that parsing <code>"Color {.red this} red"</code>
automatically sets the color of <code>"this"</code> to red, even if no style is provided
for the <code>red</code> tag. Likewise, parsing <code>"Color {#00FF00 me} green"</code> will
automatically set the color of <code>"me"</code> to #00FF00 (fully saturated green).
</p>


<h3>Additional parsing information</h3>

<p>Apart from splitting the text up into tokens, <code>marquee_parse()</code> also provides
some additional information useful for rendering the output in the expected
way. The <code>id</code> column refers the tokens back to the original input text, the
<code>block</code> relates tokens together into blocks. Block elements increment the
block count when they are entered, and decrement it when they are excited.
The <code>type</code> column provides the type of the block. The <code>indentation</code> column
provides the node level in the tree. A child block will increase the
indentation for as long as it is active. <code>ol_index</code> provides the number
associated with the ordered list element. <code>tight</code> indicates whether the list
is tight (i.e. it was provided with no empty lines between list elements).
The <code>ends</code> column indicate until which row in the output the tag is active
(i.e. the tag is closed after the row indicated by the value in this column).
</p>


<h3>Examples</h3>

<pre><code class='language-R'>marquee_parse("# Header of the example\nSome body text", classic_style())

</code></pre>

<hr>
<h2 id='style'>Create a style specification for a single tag</h2><span id='topic+style'></span><span id='topic+base_style'></span>

<h3>Description</h3>

<p><code>style()</code> constructs a <code>marquee_style</code> object specifying the styling for a
single tag. The meaning of <code>NULL</code> is to inherit the value from the parent
element. It follows that top parent (the body element), must have values for
all it's options. The <code>base_style()</code> constructor is a convenient constructor
for a style with sensible defaults for all it's options.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style(
  family = NULL,
  weight = NULL,
  italic = NULL,
  width = NULL,
  features = NULL,
  size = NULL,
  color = NULL,
  lineheight = NULL,
  align = NULL,
  tracking = NULL,
  indent = NULL,
  hanging = NULL,
  margin = NULL,
  padding = NULL,
  background = NULL,
  border = NULL,
  border_size = NULL,
  border_radius = NULL,
  bullets = NULL,
  underline = NULL,
  strikethrough = NULL,
  baseline = NULL,
  img_asp = NULL
)

base_style(
  family = "",
  weight = "normal",
  italic = FALSE,
  width = "normal",
  features = systemfonts::font_feature(),
  size = 12,
  color = "black",
  lineheight = 1.6,
  align = "left",
  tracking = 0,
  indent = 0,
  hanging = 0,
  margin = trbl(0, 0, rem(1)),
  padding = trbl(0),
  background = NA,
  border = NA,
  border_size = trbl(0),
  border_radius = 0,
  bullets = marquee_bullets,
  underline = FALSE,
  strikethrough = FALSE,
  baseline = 0,
  img_asp = 1.65
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="style_+3A_family">family</code></td>
<td>
<p>The name of the font family to use</p>
</td></tr>
<tr><td><code id="style_+3A_weight">weight</code></td>
<td>
<p>The font weight to use. Can either be a number (<code>0</code>, <code>100</code>,
<code>200</code>, <code>300</code>, <code>400</code>, <code>500</code>, <code>600</code>, <code>700</code>, <code>800</code>, or <code>900</code>) or a strings
(<code>"undefined"</code>, <code>"thin"</code>, <code>"ultralight"</code>, <code>"light"</code>, <code>"normal"</code>, <code>"medium"</code>,
<code>"semibold"</code>, <code>"bold"</code>, <code>"ultrabold"</code>, or <code>"heavy"</code>)</p>
</td></tr>
<tr><td><code id="style_+3A_italic">italic</code></td>
<td>
<p>Should the font be slanted</p>
</td></tr>
<tr><td><code id="style_+3A_width">width</code></td>
<td>
<p>The font width to use. Can either be a number (&ldquo;0<code style="white-space: pre;">&#8288;, &#8288;</code>1', '2',
'3', '4', '5', '6', '7', '8', or '9') or strings ('&quot;undefined&quot;',
'&quot;ultracondensed&quot;', '&quot;extracondensed&quot;', '&quot;condensed&quot;', '&quot;semicondensed&quot;',
'&quot;normal&quot;', '&quot;semiexpanded&quot;', '&quot;expanded&quot;', '&quot;extraexpanded&quot;', or
'&quot;ultraexpanded&quot;')</p>
</td></tr>
<tr><td><code id="style_+3A_features">features</code></td>
<td>
<p>A <a href="systemfonts.html#topic+font_feature">font_feature</a> object specifying
any OpenType font features to apply to the font</p>
</td></tr>
<tr><td><code id="style_+3A_size">size</code></td>
<td>
<p>The size of the font in points. Can be <code><a href="#topic+relative">relative()</a></code> or <code><a href="#topic+em">em()</a></code> in
which case it is based on the parent font size (for <code>size</code> these are
equivalent) or <code><a href="#topic+rem">rem()</a></code> in which case it is based on the font size of the body
element.</p>
</td></tr>
<tr><td><code id="style_+3A_color">color</code></td>
<td>
<p>Is the color of the font</p>
</td></tr>
<tr><td><code id="style_+3A_lineheight">lineheight</code></td>
<td>
<p>The spacing between subsequent lines relative to the font
size. Can be <code><a href="#topic+relative">relative()</a></code> in which case it is based on the parent lineheight.</p>
</td></tr>
<tr><td><code id="style_+3A_align">align</code></td>
<td>
<p>The alignment within the text. One of <code>"left"</code>, <code>"center"</code>,
<code>"right"</code>, <code>"justified-left"</code>, <code>"justified-center"</code>, <code>"justified-right"</code>, or
<code>"distributed"</code></p>
</td></tr>
<tr><td><code id="style_+3A_tracking">tracking</code></td>
<td>
<p>Additional character spacing measured in 1/1000em. Can be
<code><a href="#topic+relative">relative()</a></code> in which case it is based on the parent tracking.</p>
</td></tr>
<tr><td><code id="style_+3A_indent">indent</code></td>
<td>
<p>The indentation of the first line in a paragraph measured in
points. Can be <code><a href="#topic+relative">relative()</a></code> in which case it is based on the parent indent,
<code><a href="#topic+em">em()</a></code> in which case it is based on the font size in this style, or <code><a href="#topic+rem">rem()</a></code>
in which case it is based on the font size of the body element.</p>
</td></tr>
<tr><td><code id="style_+3A_hanging">hanging</code></td>
<td>
<p>The indentation of all but the first line in a paragraph
measured in points. Can be <code><a href="#topic+relative">relative()</a></code> in which case it is based on the
parent hanging, <code><a href="#topic+em">em()</a></code> in which case it is based on the font size in this
style, or <code><a href="#topic+rem">rem()</a></code> in which case it is based on the font size of the body
element.</p>
</td></tr>
<tr><td><code id="style_+3A_margin">margin</code></td>
<td>
<p>The margin around the element, given as a call to <code><a href="#topic+trbl">trbl()</a></code></p>
</td></tr>
<tr><td><code id="style_+3A_padding">padding</code></td>
<td>
<p>The padding around the element, given as a call to <code><a href="#topic+trbl">trbl()</a></code></p>
</td></tr>
<tr><td><code id="style_+3A_background">background</code></td>
<td>
<p>The color of the background fill. The background includes
the padding but not the margin. Can be a solid color or a gradient or pattern
made with <code>grid::linearGradient()</code>/<code>grid::radialGradient()</code>/<code>grid::pattern()</code></p>
</td></tr>
<tr><td><code id="style_+3A_border">border</code></td>
<td>
<p>The color of the background stroke. The background includes
the padding but not the margin</p>
</td></tr>
<tr><td><code id="style_+3A_border_size">border_size</code></td>
<td>
<p>The line width of the background stroke, given as a call
to <code><a href="#topic+trbl">trbl()</a></code></p>
</td></tr>
<tr><td><code id="style_+3A_border_radius">border_radius</code></td>
<td>
<p>The corner radius of the background, given in points</p>
</td></tr>
<tr><td><code id="style_+3A_bullets">bullets</code></td>
<td>
<p>A vector of strings to use for bullets in unordered lists.
<code>marquee_bullets</code> provides a selection</p>
</td></tr>
<tr><td><code id="style_+3A_underline">underline</code></td>
<td>
<p>Should text be underlined</p>
</td></tr>
<tr><td><code id="style_+3A_strikethrough">strikethrough</code></td>
<td>
<p>Should text be strikethrough</p>
</td></tr>
<tr><td><code id="style_+3A_baseline">baseline</code></td>
<td>
<p>The baseline shift to apply to the text</p>
</td></tr>
<tr><td><code id="style_+3A_img_asp">img_asp</code></td>
<td>
<p>The default aspect ratio for block level images if not
provided by the image itself</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>marquee_style</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A partial style
style(color = "red", underline = TRUE)

# Full style
base_style()

</code></pre>

<hr>
<h2 id='style_set'>Create or modify a style set that describes a full markdown text</h2><span id='topic+style_set'></span><span id='topic+modify_style'></span><span id='topic+remove_style'></span>

<h3>Description</h3>

<p>A style set contains information on how to style the various tags in a
markdown text. While it is not necessary to provide a style for all tags (it
will just inherit the parent if missing), it is required to provide a
complete style for the body tag so an option is avialable through inheritance
for all tags and all style options. It can often be easier to derive a new
style set from an existing one rather than building one from scratch.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>style_set(...)

modify_style(style_set, tag, ...)

remove_style(style_set, tag)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="style_set_+3A_...">...</code></td>
<td>
<p>Named arguments providing a style for the specific tags. For
<code>modify_style()</code> a number of style options to change. If the first argument
is a marquee style it will overwrite the tag and subsequent arguments are
ignored</p>
</td></tr>
<tr><td><code id="style_set_+3A_style_set">style_set</code></td>
<td>
<p>A style set to modify</p>
</td></tr>
<tr><td><code id="style_set_+3A_tag">tag</code></td>
<td>
<p>The name of a tag to modify or remove. Tags are internally all
lowercase and <code>tag</code> will be converted to lowercase before matching</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>marquee_style_set</code> object
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Create a style
s_set &lt;- style_set(base = base_style(), p = style(indent = em(2)))

# Modify an existing tag
modify_style(s_set, "p", size = 16)

# Add a new tag, supplying a full style object
modify_style(s_set, "str", style(weight = "bold"))

# Same as above, but style object created implicitly
modify_style(s_set, "str", weight = "bold")

# Remove a tag style
remove_style(s_set, "p")

</code></pre>

<hr>
<h2 id='style-helpers'>Helpers for defining styles</h2><span id='topic+style-helpers'></span><span id='topic+relative'></span><span id='topic+em'></span><span id='topic+rem'></span><span id='topic+trbl'></span><span id='topic+skip_inherit'></span><span id='topic+marquee_bullets'></span>

<h3>Description</h3>

<p>marquee provides a small set of helpers for constructing the needed styles.
<code>relative()</code> specifies a numeric value as relative to the value of the parent
style by a certain factor, e.g. a font size of <code>relative(0.5)</code> would give a
style a font size half of it's parent. <code>em()</code> specify a numeric value as
relative to the font size of the current style. If the font size is <code>12</code>, and
indent is set to <code>em(2)</code>, then the indent will be equivalent to 24. <code>rem()</code>
works like <code>em()</code> but rather than using the font size of the current style it
uses the font size of the root style (which is the body element). <code>trbl()</code>
helps you construct styles that refers to sides of a rectangle (margin,
padding, and border size). The function names refers to the order of the
arguments (top, right, bottom, left). <code>skip_inherit()</code> tells the style
inheritance to ignore this value and look for the value one above in the
stack. <code>marquee_bullets</code> is just a character vector with 6 sensible bullet
glyphs for unordered lists.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>relative(x)

em(x)

rem(x)

trbl(top = NULL, right = top, bottom = top, left = right)

skip_inherit(x)

marquee_bullets
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="style-helpers_+3A_x">x</code></td>
<td>
<p>A decimal number. If a vector is provided only the first element
will be used</p>
</td></tr>
<tr><td><code id="style-helpers_+3A_top">top</code>, <code id="style-helpers_+3A_right">right</code>, <code id="style-helpers_+3A_bottom">bottom</code>, <code id="style-helpers_+3A_left">left</code></td>
<td>
<p>Values for the sides of the rectangles. Either
numbers or modifiers (relative, em, or rem)</p>
</td></tr>
</table>


<h3>Format</h3>

<p>An object of class <code>character</code> of length 6.
</p>


<h3>Value</h3>

<p>Objects of the relevant class
</p>


<h3>Examples</h3>

<pre><code class='language-R'>relative(0.35)

em(2)

rem(1.2)

# Argument default means it recycles like CSS if fewer values are specified
trbl(6, em(1.5))

skip_inherit("sans")

marquee_bullets

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html><head><title>Help for package cheddar</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {cheddar}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#cheddar'><p>Analysis and visualisation of ecological communities</p></a></li>
<li><a href='#AggregateCommunities'><p>Aggregate communities</p></a></li>
<li><a href='#ApplyByClass'><p>Apply by class</p></a></li>
<li><a href='#Benguela'><p>Benguela</p></a></li>
<li><a href='#Body mass, numerical abundance and biomass abundance'><p>Body mass, numerical abundance and biomass abundance</p></a></li>
<li><a href='#BodyMassBins'><p>Body-mass bins</p></a></li>
<li><a href='#BroadstoneStream'><p>Broadstone Stream</p></a></li>
<li><a href='#ChesapeakeBay'><p>ChesapeakeBay</p></a></li>
<li><a href='#CollectionApply'><p>Collection apply</p></a></li>
<li><a href='#CollectionCPS'><p>Collection community properties</p></a></li>
<li><a href='#CollectionNPS'><p>Collection node properties</p></a></li>
<li><a href='#CollectionTLPS'><p>Collection trophic-link properties</p></a></li>
<li><a href='#Community'><p>Community</p></a></li>
<li><a href='#Community has property?'><p>Community has property?</p></a></li>
<li><a href='#CommunityCollection'><p>Collections of communities</p></a></li>
<li><a href='#CommunityPropertyNames'><p>Names of community properties</p></a></li>
<li><a href='#CP'><p>Single community properties</p></a></li>
<li><a href='#CPS'><p>Community properties</p></a></li>
<li><a href='#Degree'><p>Node degree</p></a></li>
<li><a href='#DegreeDistribution'><p>Node degree distribution</p></a></li>
<li><a href='#Intervality'><p>Food web Intervality</p></a></li>
<li><a href='#IsCannibal'><p>Cannibalistic nodes</p></a></li>
<li><a href='#LinearRegressionByClass'><p>Linear regression by class</p></a></li>
<li><a href='#LoadCollection'><p>Loading and saving CommunityCollection objects</p></a></li>
<li><a href='#LoadCommunity'><p>Loading and saving Community objects</p></a></li>
<li><a href='#LumpNodes'><p>Lump nodes</p></a></li>
<li><a href='#LumpTrophicSpecies'><p>Lump trophic species</p></a></li>
<li><a href='#Millstream'><p>Millstream</p></a></li>
<li><a href='#Node connectivity'><p>Node connectivity</p></a></li>
<li><a href='#NodeNameIndices'><p>Node name indices</p></a></li>
<li><a href='#NodePropertyNames'><p>A vector of names of node properties</p></a></li>
<li><a href='#NP'><p>Single node properties</p></a></li>
<li><a href='#NPS'><p>Node properties</p></a></li>
<li><a href='#NumberOfNodes'><p>Number of nodes</p></a></li>
<li><a href='#NumberOfTrophicLinks'><p>Number of trophic links</p></a></li>
<li><a href='#NvMConvexHull'><p>NvMConvexHull</p></a></li>
<li><a href='#NvMLinearRegressions'><p>NvMLinearRegressions</p></a></li>
<li><a href='#NvMTriTrophicStatistics'><p>N-versus-M tri-trophic statistics</p></a></li>
<li><a href='#NvMTriTrophicTable'><p>N-versus-M tri-trophic statistics</p></a></li>
<li><a href='#Omnivory'><p>Omnivory</p></a></li>
<li><a href='#OrderCollection'><p>Order a collection of communities</p></a></li>
<li><a href='#OrderCommunity'><p>Order a community</p></a></li>
<li><a href='#pHWebs'><p>pHWebs</p></a></li>
<li><a href='#PlotAuppervAlower'><p>Plot upper-versus-lower link angles</p></a></li>
<li><a href='#PlotCircularWeb'><p>Plot circular web</p></a></li>
<li><a href='#PlotHelpers'><p>Plot helpers</p></a></li>
<li><a href='#PlotNPS'><p>Plot node properties</p></a></li>
<li><a href='#PlotNPSDistribution'><p>Plot distributions of node properties</p></a></li>
<li><a href='#PlotRankNPS'><p>Plot rank of node properties</p></a></li>
<li><a href='#PlotTLPS'><p>Plot trophic-link properties</p></a></li>
<li><a href='#PlotWagonWheel'><p>Plot wagon wheel</p></a></li>
<li><a href='#PlotWebByLevel'><p>Plot web by level</p></a></li>
<li><a href='#PredationMatrix'><p>Predation matrix</p></a></li>
<li><a href='#PredationMatrixToLinks'><p>Predation matrix to trophic links</p></a></li>
<li><a href='#Pyramid plots'><p>Pyramid plots</p></a></li>
<li><a href='#QuantitativeDescriptors'><p>Quantitative descriptors</p></a></li>
<li><a href='#RemoveCannibalisticLinks'><p>Remove cannibalistic trophic links</p></a></li>
<li><a href='#RemoveIsolatedNodes'><p>Remove isolated nodes</p></a></li>
<li><a href='#RemoveNodes'><p>Remove nodes</p></a></li>
<li><a href='#ResourceLargerThanConsumer'><p>Resource larger than consumer</p></a></li>
<li><a href='#ResourcesByNode'><p>Resources and consumers of nodes</p></a></li>
<li><a href='#ShortestPaths'><p>Path lengths</p></a></li>
<li><a href='#SiteBySpeciesMatrix'><p>Community collection site by species matrix</p></a></li>
<li><a href='#SkipwithPond'><p>SkipwithPond</p></a></li>
<li><a href='#Spectrum plots'><p>Spectrum plots</p></a></li>
<li><a href='#subset.CommunityCollection'><p>A subset of a collection of communities</p></a></li>
<li><a href='#ThreeNodeChains'><p>Three-node chains</p></a></li>
<li><a href='#TL84'><p>Tuesday Lake datasets</p></a></li>
<li><a href='#TLP'><p>A single trophic-link property</p></a></li>
<li><a href='#TLPS'><p>Trophic-link properties</p></a></li>
<li><a href='#TrophicChains'><p>Trophic chains</p></a></li>
<li><a href='#TrophicChainsStats'><p>Trophic chains statistics</p></a></li>
<li><a href='#TrophicLevels'><p>Trophic levels</p></a></li>
<li><a href='#TrophicLinkPropertyNames'><p>Trophic link property names</p></a></li>
<li><a href='#TrophicSimilarity'><p>Trophic similarity</p></a></li>
<li><a href='#TrophicSpecies'><p>Trophic species</p></a></li>
<li><a href='#YthanEstuary'><p>Ythan Estuary</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Analysis and Visualisation of Ecological Communities</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1-638</td>
</tr>
<tr>
<td>Date:</td>
<td>2022-09-01</td>
</tr>
<tr>
<td>Author:</td>
<td>Lawrence Hudson with contributions from Dan Reuman and Rob Emerson</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Lawrence Hudson &lt;quicklizard@googlemail.com&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides a flexible, extendable representation of an ecological community and a range of functions for analysis and visualisation, focusing on food web, body mass and numerical abundance data. Allows inter-web comparisons such as examining changes in community structure over environmental, temporal or spatial gradients.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/BSD-2-Clause">BSD_2_clause</a> + file LICENSE</td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/quicklizard99/cheddar/">https://github.com/quicklizard99/cheddar/</a></td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2022-09-01 03:53:43 UTC; lawrence</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2022-09-01 14:40:05 UTC</td>
</tr>
</table>
<hr>
<h2 id='cheddar'>Analysis and visualisation of ecological communities</h2><span id='topic+cheddar'></span><span id='topic+cheddar-package'></span><span id='topic+cheddar'></span>

<h3>Description</h3>

<p>Cheddar provides a flexible, extendable representation of an ecological
community and a range of functions for analysis and visualisation, focusing
on food web, body mass and numerical abundance data. It also allows inter-web
comparisons such as examining changes in community structure over
environmental, temporal or spatial gradients.
</p>
<p>Details of differences between versions of Cheddar are in the the online
release history:
<a href="https://github.com/quicklizard99/cheddar/blob/master/release_history.md">https://github.com/quicklizard99/cheddar/blob/master/release_history.md</a>.
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
    Package: </td><td style="text-align: left;"> cheddar</td>
</tr>
<tr>
 <td style="text-align: left;">
    Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
    Version: </td><td style="text-align: left;"> 0.1-638</td>
</tr>
<tr>
 <td style="text-align: left;">
    Date: </td><td style="text-align: left;"> 2022-09-01</td>
</tr>
<tr>
 <td style="text-align: left;">
    License: </td><td style="text-align: left;"> BSD 2 clause</td>
</tr>
<tr>
 <td style="text-align: left;">
    </td>
</tr>

</table>



<h3>Author(s)</h3>

<p>Maintainer: Lawrence Hudson &lt;quicklizard@googlemail.com&gt;</p>


<h3>Examples</h3>

<pre><code class='language-R'># The dataset of Tuesday Lake sampled in 1984
data(TL84)

# Properties of the community
CPS(TL84)

# Properties of each node
head(NPS(TL84))

# Some computed node properties
head(NPS(TL84, c('Log10M', 'Log10N', 'Log10Biomass',
                 TL='PreyAveragedTrophicLevel', TS='TrophicSpecies')))

# Properties of each trophic link
head(TLPS(TL84))

# Computed properties of each node in each link
head(TLPS(TL84, node.properties=c('Log10M', 'Log10N', 'Log10Biomass',
                                  'PreyAveragedTrophicLevel')))


# A collection of 10 webs sampled across a wide pH gradient
data(pHWebs)

# A data.frame of predictors and responses
CollectionCPS(pHWebs, c('pH',
                        S='NumberOfNodes',
                        L='NumberOfTrophicLinks',
                        C='DirectedConnectance',
                        Slope='NvMSlope'))
</code></pre>

<hr>
<h2 id='AggregateCommunities'>Aggregate communities</h2><span id='topic+AggregateCommunities'></span><span id='topic+AggregateCommunitiesBy'></span>

<h3>Description</h3>

<p>Functions that aggregate communities in a collection.</p>


<h3>Usage</h3>

<pre><code class='language-R'>AggregateCommunities(collection, 
                     aggregate = names(collection), 
                     weight.by='N',
                     title = NULL)

AggregateCommunitiesBy(collection, aggregate.by, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="AggregateCommunities_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="AggregateCommunities_+3A_aggregate">aggregate</code></td>
<td>
<p>the names of the communities to aggregate.</p>
</td></tr>
<tr><td><code id="AggregateCommunities_+3A_weight.by">weight.by</code></td>
<td>
<p>the name of a column by which to compute weighted mean of 
numeric values.</p>
</td></tr>
<tr><td><code id="AggregateCommunities_+3A_title">title</code></td>
<td>
<p>the title of the new <code>Community</code>.</p>
</td></tr>
<tr><td><code id="AggregateCommunities_+3A_aggregate.by">aggregate.by</code></td>
<td>
<p>the name of a community property, either first-class or
computed, over which to aggregate.</p>
</td></tr>
<tr><td><code id="AggregateCommunities_+3A_...">...</code></td>
<td>
<p>values passed to <code>AggregateCommunities</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>AggregateCommunities</code> combines communities given in 
<code>aggregate</code> in to a single new <code>Community</code>. 
</p>
<p>Nodes that appear in one or more of the communities in <code>aggregate</code> 
are combined into a single node in the returned community. 
The way in which numeric node properties are aggregated is governed by the 
<code>weight.by</code> parameter. 
If <code>weight.by</code> is <code>NULL</code> or is not the name of a node property, 
the arithmetic mean is computed for each numeric node property. 
If <code>weight.by</code> is the name of a node property, that property is used to 
compute weighted means of the other numeric node properties; the 
arithmetic mean of <code>weight.by</code> is computed. This scheme means that 
if a community contains both N and M, aggregation using 
<code>weight.by='N'</code> results in the arithmetic mean of N and the 
N-weighted mean of M for each node.
Node properties that are characters or logicals are aggregated by joining 
unique values with a &lsquo;,&rsquo;. Empty character strings are ignored. 
Species that are not present in some communities in the collection are 
assumed to have a value of <code>0</code> for all numeric node properties, 
an empty string (<code>''</code>) for all character node properties and 
a value of <code>NA</code> for all logical node properties.
</p>
<p>The returned community contains the union of trophic links for each node. 
Community properties are aggregated by computing the arithmetic mean of 
numeric values and joining unique character and logical values with a &lsquo;,&rsquo;.
</p>
<p>See the &lsquo;Aggregating communities&rsquo; section of the &lsquo;Collections&rsquo; vignette for 
a more detailed explanation and examples of how properties are aggregated.
</p>
<p><code>AggregateCommunitiesBy</code> aggregates by a property of the communities, 
either first-class or computed. If there is more than one unique value of the 
property across the contained communities, a new <code>CommunityCollection</code> 
object is returned. If there is just one unique value, a single 
<code>Community</code> is returned.
</p>


<h3>Value</h3>

<p>A new object that is either of class <code>Community</code> or 
<code>CommunityCollection</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CommunityCollection">CommunityCollection</a></code>, 
<code><a href="#topic+CollectionCPS">CollectionCPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)

# An aggregate of 3 communities
AggregateCommunities(pHWebs, c('Old Lodge', 'Afon Hafren', 'Broadstone'))

# The Duddon Pike Beck and Mosedal Beck communities share the same 
# latitude and have pH values of 6.1 and 5.9 respectively.
CollectionCPS(pHWebs[c('Duddon Pike Beck', 'Mosedal Beck')])

# Aggregating by the 'lat' property therefore results in a new collection 
# of nine communities.
CollectionCPS(AggregateCommunitiesBy(pHWebs, 'lat'))

# Would produce an error
## Not run: AggregateCommunities(pHWebs, c('not a community', 'Afon Hafren'))
</code></pre>

<hr>
<h2 id='ApplyByClass'>Apply by class</h2><span id='topic+ApplyByClass'></span><span id='topic+SumBiomassByClass'></span><span id='topic+SumMByClass'></span><span id='topic+SumNByClass'></span>

<h3>Description</h3>

<p>Apply functions to a group of values given by a node property.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ApplyByClass(community, property, class, fn, ...)
SumMByClass(community, class, na.rm=FALSE)
SumNByClass(community, class, na.rm=FALSE)
SumBiomassByClass(community, class, na.rm=FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ApplyByClass_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="ApplyByClass_+3A_property">property</code></td>
<td>
<p>the property to which <code>fn</code> is applied.</p>
</td></tr>
<tr><td><code id="ApplyByClass_+3A_class">class</code></td>
<td>
<p>the property over which <code>fn</code> is applied. Defaults to 
'category' if the community has a node property with that name.</p>
</td></tr>
<tr><td><code id="ApplyByClass_+3A_fn">fn</code></td>
<td>
<p>a function.</p>
</td></tr>
<tr><td><code id="ApplyByClass_+3A_na.rm">na.rm</code></td>
<td>
<p>logical - if <code>TRUE</code> then <code>NA</code> values are removed.</p>
</td></tr>
<tr><td><code id="ApplyByClass_+3A_...">...</code></td>
<td>
<p>Other parameters to <code>fn</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ApplyByClass</code> applies <code>fn</code> to <code>property</code> by class. 
<code>property</code> and <code>class</code> should both be names that meet the criteria 
of the <code>properties</code> argument of <code>NPS</code>.
</p>
<p><code>SumMByClass</code>, <code>SumNByClass</code> and <code>SumBiomassByClass</code> are 
convenient wrapper around <code>ApplyByClass</code>.
</p>


<h3>Value</h3>

<p>A vector or list of values, named by unique values of <code>class</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+NPS">NPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Sum body mass by category
ApplyByClass(TL84, 'M', 'category', sum)

# A more convenient way to sum body mass by category
SumMByClass(TL84)

# Sum body mass by kingdom. The 'Unclassified flagellates' node does not have a 
# kingdom, so we get a value labelled '&lt;unnamed&gt;'.
SumMByClass(TL84, 'kingdom')

# Maximum body mass by category
ApplyByClass(TL84, 'M', 'category', max)

# A list of min and max M
ApplyByClass(TL84, 'M', 'category', range)

# A list of min and max M by kingom
ApplyByClass(TL84, 'M', 'kingdom', range)

# The same values as a matrix
do.call('rbind', ApplyByClass(TL84, 'M', 'kingdom', range))

# Broadstone Stream has some nodes in every category without M so all returned 
# values are NA.
data(BroadstoneStream)
SumMByClass(BroadstoneStream)

# Get rid of the NA values
SumMByClass(BroadstoneStream, na.rm=TRUE)
</code></pre>

<hr>
<h2 id='Benguela'>Benguela</h2><span id='topic+Benguela'></span>

<h3>Description</h3>

<p>The food-web of the Benguela ecosystem.</p>


<h3>Format</h3>

<p><code>Community</code>.</p>


<h3>Source</h3>

<p>Yodzis, 1988.</p>


<h3>References</h3>

<p>Yodzis, P. (1988) Local trophodynamics and the interaction of marine mammals 
and fisheries in the Benguela ecosystem. Journal of Animal Ecology <b>67</b>, 
4, 635&ndash;658.
</p>

<hr>
<h2 id='Body+20mass+2C+20numerical+20abundance+20and+20biomass+20abundance'>Body mass, numerical abundance and biomass abundance</h2><span id='topic+Log10M'></span><span id='topic+Log10N'></span><span id='topic+Biomass'></span><span id='topic+Log10Biomass'></span><span id='topic+Log10MNBiomass'></span><span id='topic+RCMRatio'></span><span id='topic+Log10RCMRatio'></span><span id='topic+CRMRatio'></span><span id='topic+Log10CRMRatio'></span>

<h3>Description</h3>

<p>Convenience functions for accessing log10-transformed body mass, 
M, numerical abundance, N, and biomass abundance, B.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Log10M(community)
Log10N(community)
Biomass(community)
Log10Biomass(community)
Log10MNBiomass(community)

RCMRatio(community)
Log10RCMRatio(community)
CRMRatio(community)
Log10CRMRatio(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Body+2B20mass+2B2C+2B20numerical+2B20abundance+2B20and+2B20biomass+2B20abundance_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>Log10M</code>, <code>Log10N</code>, <code>Biomass</code>, <code>Log10Biomass</code> and 
each return a value per node. <code>Log10MNBiomass</code> returns a matrix with a row 
per node and columns &lsquo;Log10M&rsquo;, &lsquo;Log10N&rsquo; and &lsquo;Log10Biomass&rsquo;. These functions 
are all suitable for use with <code>NPS</code>.
</p>
<p><code>RCMRatio</code> returns the ratio between the resource and consumer body mass 
for every trophic link. <code>Log10RCMRatio</code> returns the same data 
log10-transformed. <code>CRMRatio</code> and <code>Log10CRMRatio</code> are analagous 
functions that return the ratio between the consumer and resource body mass. 
These functions are all suitable for use with <code>TLPS</code>.
</p>


<h3>Value</h3>

<p>A vector of length <code>NumberOfNodes</code> or a vector of length 
<code>NumberOfTrophicLinks</code></p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, <code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code>, <code><a href="#topic+TLPS">TLPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

NPS(TL84, c('M', 'Log10M', 'N', 'Log10N', 'Biomass', 'Log10Biomass'))

NPS(TL84, 'Log10MNBiomass')

TLPS(TL84, link.properties=c('Log10RCMRatio', 'Log10CRMRatio'))
</code></pre>

<hr>
<h2 id='BodyMassBins'>Body-mass bins</h2><span id='topic+BodyMassBins'></span>

<h3>Description</h3>

<p>Function that assigns each node in a <code>Community</code> to a 
body-mass bin.</p>


<h3>Usage</h3>

<pre><code class='language-R'>BodyMassBins(community, lower=min(NP(community,'M'), na.rm=TRUE), 
             upper=max(NP(community,'M'), na.rm=TRUE), n.bins=10) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="BodyMassBins_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="BodyMassBins_+3A_lower">lower</code></td>
<td>
<p>lower bound of the bins.</p>
</td></tr>
<tr><td><code id="BodyMassBins_+3A_upper">upper</code></td>
<td>
<p>upper bound of the bins.</p>
</td></tr>
<tr><td><code id="BodyMassBins_+3A_n.bins">n.bins</code></td>
<td>
<p>the number of bins.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Divides the range <code>lower</code> to <code>upper</code> in to <code>n.bins</code> 
equally-spaced log10(M) bins. Assigns each node in the 
<code>community</code> to one of these bins and returns the bins numbers. 
The returned vector has attributes <code>bin.centres</code> and <code>breaks</code>.
</p>


<h3>Value</h3>

<p>A vector of length <code>NumberOfNodes</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
BodyMassBins(TL84)
</code></pre>

<hr>
<h2 id='BroadstoneStream'>Broadstone Stream</h2><span id='topic+BroadstoneStream'></span>

<h3>Description</h3>

<p>The community of Broadstone Stream.
</p>
<p>Taxonomic classification provided by Guy Woodward.</p>


<h3>Format</h3>

<p><code>Community</code>.</p>


<h3>Source</h3>

<p>Woodward et al, 2005.</p>


<h3>References</h3>

<p>Woodward, G. and Speirs, D.C. and Hildrew, A.G. (2005) Quantification and 
resolution of a complex, size-structured food web. Advances in Ecological 
Research <b>36</b>, 85&ndash;135.
</p>

<hr>
<h2 id='ChesapeakeBay'>ChesapeakeBay</h2><span id='topic+ChesapeakeBay'></span>

<h3>Description</h3>

<p>The community of Chesapeake Bay sampled in the years 1983 to 1986.</p>


<h3>Format</h3>

<p><code>Community</code>.</p>


<h3>Source</h3>

<p>Baird and Ulanowicz, 1989; Bersier et al, 2002.</p>


<h3>References</h3>

<p>Bersier, L. and Banasek-Richter, C. and Cattin, M. (2002) Ecology 
<b>80</b> 2394&ndash;2407.
</p>
<p>Baird, D. and Ulanowicz. R. E. (1989) Ecological Monographs <b>59</b>, 329&ndash;364.
</p>

<hr>
<h2 id='CollectionApply'>Collection apply</h2><span id='topic+CollectionApply'></span>

<h3>Description</h3>

<p>Apply a function to every <code>Community</code> in a 
<code>CommunityCollection</code>. Works the same as <code>lapply</code> but returns a 
<code>CommunityCollection</code> rather than a <code>list</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CollectionApply(collection, f, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CollectionApply_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="CollectionApply_+3A_f">f</code></td>
<td>
<p>a function to be applied to each <code>Community</code>.</p>
</td></tr>
<tr><td><code id="CollectionApply_+3A_...">...</code></td>
<td>
<p>optional arguments passed to <code>f</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A new object of class <code>CommunityCollection</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CommunityCollection">CommunityCollection</a></code>, <code><a href="base.html#topic+lapply">lapply</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)

# Remove isolated nodes from each community
CollectionCPS(pHWebs, 'FractionIsolatedNodes')
pHWebs.no.iso &lt;- CollectionApply(pHWebs, RemoveIsolatedNodes)
CollectionCPS(pHWebs.no.iso, 'FractionIsolatedNodes')


# Remove cannibalistic links from each community
sapply(pHWebs, function(community) length(Cannibals(community)))
pHWebs.no.can &lt;- CollectionApply(pHWebs, RemoveCannibalisticLinks)
sapply(pHWebs.no.can, function(community) length(Cannibals(community)))


# Order the nodes each community by body mass
head(CollectionNPS(pHWebs))
pHWebs.by.M &lt;- CollectionApply(pHWebs, OrderCommunity, 'M')
head(CollectionNPS(pHWebs.by.M))
</code></pre>

<hr>
<h2 id='CollectionCPS'>Collection community properties</h2><span id='topic+CollectionCPS'></span>

<h3>Description</h3>

<p>Returns a <code>data.frame</code> of first-class and computed properties 
of communities in a <code>CommunityCollection</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CollectionCPS(collection, properties=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CollectionCPS_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="CollectionCPS_+3A_properties">properties</code></td>
<td>
<p>the names of the properties to be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named CollectionCPS for Collection Community 
PropertieS. 
</p>
<p>The properties argument is a vector whose entries are either names of 
first-class properties or names of functions which take as single required 
argument a <code><a href="#topic+CommunityCollection">CommunityCollection</a></code> and return a single value. 
If <code>properties</code> is <code>NULL</code>, all first-class properties 
are included in the returned <code>data.frame</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CPS">CPS</a></code>, <code><a href="#topic+CommunityPropertyNames">CommunityPropertyNames</a></code>, 
<code><a href="#topic+CommunityCollection">CommunityCollection</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)

CollectionCPS(pHWebs)

# pH and a computed property
CollectionCPS(pHWebs, c('pH', 'NumberOfNodes'))

# A shorter name for the 'NumberOfNodes' column
CollectionCPS(pHWebs, c('pH', S='NumberOfNodes'))

# A function that returns more than one value. Some pHWebs communities contain 
# nodes (detritus and the like) that do not have a category. These appear in 
# &lt;unnamed&gt;.
CollectionCPS(pHWebs, 'SumBiomassByClass')

# Prefix columns with 'B'
CollectionCPS(pHWebs, c(B='SumBiomassByClass'))

# Remove biomasses of NA
CollectionCPS(pHWebs, list(B=list('SumBiomassByClass', na.rm=TRUE)))
</code></pre>

<hr>
<h2 id='CollectionNPS'>Collection node properties</h2><span id='topic+CollectionNPS'></span>

<h3>Description</h3>

<p>Returns a <code>data.frame</code> of first-class and computed node 
properties of communities in a <code>CommunityCollection</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CollectionNPS(collection, properties=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CollectionNPS_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="CollectionNPS_+3A_properties">properties</code></td>
<td>
<p>names of the properties. These can be names of first-class 
properties and names of functions. Names must meet the criteria of 
the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named CollectionNPS for Collection Node PropertieS.
If <code>properties</code> is <code>NULL</code>, all first-class node properties are 
included in the returned <code>data.frame</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+NPS">NPS</a></code>, <code><a href="#topic+CommunityCollection">CommunityCollection</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs) 
head(CollectionNPS(pHWebs), 10)

head(CollectionNPS(pHWebs, 'M'), 10)

# Biomass is a function
head(CollectionNPS(pHWebs, 'Biomass'), 10)

head(CollectionNPS(pHWebs, c(B='Biomass')), 10)

# Several first-class and computed properties
head(CollectionNPS(pHWebs, c('M', 'N', B='Biomass', 'TrophicSpecies', 
                             TL='PreyAveragedTrophicLevel')), 10)

# Pass parameters to functions
head(CollectionNPS(pHWebs, 
                   list(TS1='TrophicSpecies', 
                        TS2=list('TrophicSpecies', include.isolated=FALSE), 
                        Iso='IsIsolatedNode')), 10)
</code></pre>

<hr>
<h2 id='CollectionTLPS'>Collection trophic-link properties</h2><span id='topic+CollectionTLPS'></span>

<h3>Description</h3>

<p>Returns a <code>data.frame</code> of first-class and computed 
trophic-link properties of communities in a <code>CommunityCollection</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CollectionTLPS(collection, node.properties=NULL, link.properties=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CollectionTLPS_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="CollectionTLPS_+3A_node.properties">node.properties</code></td>
<td>
<p>the names of the node properties to return. Should 
meet the critera of the <code>node.properties</code> parameter of 
<code>TLPS</code>.</p>
</td></tr>
<tr><td><code id="CollectionTLPS_+3A_link.properties">link.properties</code></td>
<td>
<p>the names of the trophic link properties to return. 
Should meet the critera of the <code>link.properties</code> parameter of 
<code>TLPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named CollectionTLPS for Collection Trophic Link 
PropertieS. It returns a <code>data.frame</code> containing the columns &lsquo;resource&rsquo; 
and &lsquo;consumer&rsquo; and any requested node and trophic-link properties. 
If <code>node.properties</code> and <code>link.properties</code> are both <code>NULL</code> then 
all first-class trophic-link properties are included in the returned 
<code>data.frame</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+TLPS">TLPS</a></code>, <code><a href="#topic+CommunityCollection">CommunityCollection</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)

# Just community, resource and consumer
head(CollectionTLPS(pHWebs), 10)

# The M of the resource and consumer in each link
head(CollectionTLPS(pHWebs, node.properties='M'), 10)
</code></pre>

<hr>
<h2 id='Community'>Community</h2><span id='topic+Community'></span><span id='topic+is.Community'></span><span id='topic+plot.Community'></span><span id='topic+print.Community'></span><span id='topic+summary.Community'></span><span id='topic++24+3C-.Community'></span><span id='topic++5B+3C-.Community'></span><span id='topic++5B+5B+3C-.Community'></span><span id='topic+dim+3C-.Community'></span><span id='topic+length+3C-.Community'></span><span id='topic+levels+3C-.Community'></span><span id='topic+names+3C-.Community'></span>

<h3>Description</h3>

<p>Creates and returns a new object that represents an ecological 
community.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Community(nodes, properties, trophic.links = NULL)
## S3 method for class 'Community'
print(x, ...) 
## S3 method for class 'Community'
plot(x, ...) 
## S3 method for class 'Community'
summary(object, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Community_+3A_nodes">nodes</code></td>
<td>
<p>a <code>data.frame</code> containing one row per node. A column called 
&lsquo;node&rsquo; is mandatory and must contain node names. An error is raised if any 
node names are duplicated. Whitespace is stripped from the beginning and 
end of node names. If provided, columns called &lsquo;M&rsquo; and/or &lsquo;N&rsquo; must 
represent mean body mass and mean numerical abundance respectively. All 
values in &lsquo;M&rsquo; and &lsquo;N&rsquo; must be either NA or greater than 0 and less than 
infinity. If the columns &lsquo;M&rsquo; and/or &lsquo;N&rsquo; are in nodes, values named 
&lsquo;M.units&rsquo; and/or &lsquo;N.units&rsquo; must be provided in <code>properties</code>.</p>
</td></tr>
<tr><td><code id="Community_+3A_properties">properties</code></td>
<td>
<p>a list of properties the community as a whole. All elements 
must be named and must be of length one.</p>
</td></tr>
<tr><td><code id="Community_+3A_trophic.links">trophic.links</code></td>
<td>
<p><code>NULL</code> or a <code>data.frame</code> or <code>matrix</code> of 
trophic link properties. If not <code>NULL</code>, columns called &lsquo;resource&rsquo; and 
&lsquo;consumer&rsquo; must be given and these should contain node names. An error is 
raised if any names in resource or consumer are not in <code>nodes$node</code>. 
Whitespace is stripped from the beginning and end of all names in 
&lsquo;resource&rsquo; and &lsquo;consumer&rsquo;. Other columns are taken to be properties of 
links. An error is raised if any links appear more than once.</p>
</td></tr>
<tr><td><code id="Community_+3A_x">x</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="Community_+3A_object">object</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="Community_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The most convenient way to import community data in to Cheddar is 
to put data in to CSV files and use the <code>LoadCommunity</code> function.
</p>
<p>Many of Cheddar's plot and analysis functions make use of the &lsquo;category&rsquo; node 
property by default, following previously-used metabolic groupings 
(Yodzis and Innes, 1992). The column nodes$category is optional but, if given, 
it should contain one of &lsquo;producer&rsquo;, &lsquo;invertebrate&rsquo;, &lsquo;vert.ecto&rsquo;, &lsquo;vert.endo&rsquo; 
or should be an empty string.
</p>
<p><code>Community</code> supports standard generic functions <code>plot</code>, 
<code>print</code>, and <code>summary</code>.
</p>


<h3>Value</h3>

<p>A new object of class <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Yodzis, P. and Innes, S. (1992) Body size and 
resource-consumer dynamics. The American Naturalist <b>139</b>, 1151&ndash;1175.</p>


<h3>See Also</h3>

<p><code><a href="#topic+CPS">CPS</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+TLPS">TLPS</a></code>, 
<code><a href="#topic+LoadCommunity">LoadCommunity</a></code>
<code><a href="#topic+SaveCommunity">SaveCommunity</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
TL84

# Node properties
NPS(TL84)

# Trophic-link properties
TLPS(TL84)

# Eyeball the data
plot(TL84)

# A different plot function
PlotWebByLevel(TL84)

# Construct a new community.
# TL84.new is an exact copy of TL84
TL84.new &lt;- Community(properties=CPS(TL84), 
                      nodes=NPS(TL84),
                      trophic.links=TLPS(TL84))
identical(TL84, TL84.new)

# A copy of TL84 without trophic links
TL84.no.links &lt;- Community(properties=CPS(TL84), 
                           nodes=NPS(TL84))
NumberOfTrophicLinks(TL84.no.links)

# A community with 10 species and no properties
test &lt;- Community(nodes=data.frame(node=paste('Species', 1:10)), 
                  properties=list(title='Test community'))
test
NPS(test)
</code></pre>

<hr>
<h2 id='Community+20has+20property+3F'>Community has property?</h2><span id='topic+HasM'></span><span id='topic+HasN'></span><span id='topic+HasTrophicLinks'></span>

<h3>Description</h3>

<p>Functions that return whether or not a community has a 
particular property.</p>


<h3>Usage</h3>

<pre><code class='language-R'>HasM(community)
HasN(community)
HasTrophicLinks(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Community+2B20has+2B20property+2B3F_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>logical</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+CPS">CPS</a></code>, <code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+TLPS">TLPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Tuesday Lake 1984 has all three
data(TL84)
HasM(TL84)
HasN(TL84)
HasTrophicLinks(TL84)

# Skipwith Pond has trophic links but not M or N
data(SkipwithPond)
HasM(SkipwithPond)
HasN(SkipwithPond)
HasTrophicLinks(SkipwithPond)
</code></pre>

<hr>
<h2 id='CommunityCollection'>Collections of communities</h2><span id='topic+CommunityCollection'></span><span id='topic+is.CommunityCollection'></span><span id='topic+plot.CommunityCollection'></span><span id='topic+print.CommunityCollection'></span><span id='topic+summary.CommunityCollection'></span><span id='topic++24+3C-.CommunityCollection'></span><span id='topic++5B+3C-.CommunityCollection'></span><span id='topic++5B+5B+3C-.CommunityCollection'></span><span id='topic+dim+3C-.CommunityCollection'></span><span id='topic+length+3C-.CommunityCollection'></span><span id='topic+levels+3C-.CommunityCollection'></span><span id='topic+names+3C-.CommunityCollection'></span><span id='topic++5B.CommunityCollection'></span>

<h3>Description</h3>

<p>Collections of communities</p>


<h3>Usage</h3>

<pre><code class='language-R'>CommunityCollection(communities)
## S3 method for class 'CommunityCollection'
print(x, ...) 
## S3 method for class 'CommunityCollection'
plot(x, ncol=min(length(x),5), by.col=TRUE, 
     plot.fn=plot, ...)
## S3 method for class 'CommunityCollection'
summary(object, ...) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CommunityCollection_+3A_communities">communities</code></td>
<td>
<p>a <code>list</code> of <code>Community</code> objects.</p>
</td></tr>
<tr><td><code id="CommunityCollection_+3A_x">x</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="CommunityCollection_+3A_object">object</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="CommunityCollection_+3A_ncol">ncol</code></td>
<td>
<p>the number of columns in the plot.</p>
</td></tr>
<tr><td><code id="CommunityCollection_+3A_by.col">by.col</code></td>
<td>
<p>logical - if <code>TRUE</code> communities are plotted along columns.</p>
</td></tr>
<tr><td><code id="CommunityCollection_+3A_plot.fn">plot.fn</code></td>
<td>
<p>a plot function that accepts a <code>Community</code> obejct .</p>
</td></tr>
<tr><td><code id="CommunityCollection_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Constructs a new <code>CommunityCollection</code> from a list of existing 
<code>Community</code> objects. <code>CommunityCollection</code> is a subclass of 
<code>list</code>. <code>CommunityCollection</code> objects can not be modified directly.
</p>
<p>An error is raised if any <code>Community</code> objects in <code>communities</code> share 
the same &lsquo;title&rsquo; community property.
An error is also raised if the <code>Community</code> objects in <code>communities</code> 
do not all have the same value of the community properties &lsquo;M.units&rsquo; and 
&lsquo;N.units&rsquo;.
<code>CommunityCollection</code> places no restrictions on other properties. 
For example, all of the ten communities with the <code><a href="#topic+pHWebs">pHWebs</a></code> 
collection has a valid pH property but this is not enforced by 
<code>CommunityCollection</code> - it would be possible for a <code>Community</code> 
within a collection to not have a pH property, to have a pH of <code>NA</code> or 
even to have an invalid pH, for example a negative value. 
</p>
<p><code>CommunityCollection</code> supports standard generic functions <code>plot</code>, 
<code>print</code>, <code>subset</code> and <code>summary</code>.
</p>


<h3>Value</h3>

<p>A new object of class <code>CommunityCollection</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+CollectionCPS">CollectionCPS</a></code>
<code><a href="#topic+CollectionNPS">CollectionNPS</a></code>
<code><a href="#topic+CollectionTLPS">CollectionTLPS</a></code>, 
<code><a href="#topic+OrderCollection">OrderCollection</a></code>, 
<code><a href="#topic+subset.CommunityCollection">subset.CommunityCollection</a></code>, 
<code><a href="#topic+AggregateCommunitiesBy">AggregateCommunitiesBy</a></code>,
<code><a href="#topic+AggregateCommunities">AggregateCommunities</a></code>, 
<code><a href="#topic+pHWebs">pHWebs</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># 10 stream webs sampled over a wide pH gradient
data(pHWebs)
pHWebs


# Eyeball the webs
plot(pHWebs)

# Consistent axis limits
plot(pHWebs, xlim=c(-14,6), ylim=c(-3,13))

# Different plot function
plot(pHWebs, plot.fn=PlotWebByLevel, ylim=c(1,4.5))


# list-like operations
length(pHWebs)
sapply(pHWebs, 'NumberOfTrophicLinks')
pHWebs[['Broadstone']]  # Access the Community

# A new CommunityCollection containing every other ph web
pHWebs[seq(1, 10, by=2)]

# A new CommunityCollection containing two webs
pHWebs[c('Old Lodge','Bere Stream')]


# CollectionCPS gets community properties
CollectionCPS(pHWebs)   # Webs are sorted by increasing pH

# Order by decreasing pH
pHWebs.decreasing.pH &lt;- OrderCollection(pHWebs, 'pH', decreasing=TRUE)
CollectionCPS(pHWebs.decreasing.pH)

# Order by name
pHWebs.name &lt;- OrderCollection(pHWebs, 'title')
CollectionCPS(pHWebs.name, c('pH', 'NumberOfNodes'))

# The following will always be TRUE.
all(FALSE==duplicated(names(pHWebs)))


# A new collection of the two Tuesday Lake communities
data(TL84, TL86)
BothTL &lt;- CommunityCollection(list(TL84, TL86))
CollectionCPS(BothTL)


# You can't modify CommunityCollections
## Not run: pHWebs[1] &lt;- 'silly'
</code></pre>

<hr>
<h2 id='CommunityPropertyNames'>Names of community properties</h2><span id='topic+CommunityPropertyNames'></span>

<h3>Description</h3>

<p>Returns a vector of names of community properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CommunityPropertyNames(community)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CommunityPropertyNames_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of names of community properties.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+CP">CP</a></code>, <code><a href="#topic+CPS">CPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
CommunityPropertyNames(TL84)
</code></pre>

<hr>
<h2 id='CP'>Single community properties</h2><span id='topic+CP'></span>

<h3>Description</h3>

<p>Returns a single community property or <code>NA</code> if property is 
not in <code>CommunityPropertyNames</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CP(community, property)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CP_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="CP_+3A_property">property</code></td>
<td>
<p>the name of the community property to be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named CP for Community Property.</p>


<h3>Value</h3>

<p>A single community property.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+CPS">CPS</a></code>, 
<code><a href="#topic+CommunityPropertyNames">CommunityPropertyNames</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
CP(TL84, 'title')

CP(TL84, 'lat')

CP(TL84, 'M.units')

# Returns a vector of NA
CP(TL84, 'not a property')
</code></pre>

<hr>
<h2 id='CPS'>Community properties</h2><span id='topic+CPS'></span>

<h3>Description</h3>

<p>Returns a list of first-class and computed community properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>CPS(community, properties = NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="CPS_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="CPS_+3A_properties">properties</code></td>
<td>
<p>the names of the properties to be returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named CPS for Community PropertieS. 
If properties is <code>NULL</code>, all properties are returned. If properties is 
not <code>NULL</code> then a list containing that subset of community properties is 
returned. Elements will be <code>NA</code> for values of <code>property</code> not in 
<code>CommunityPropertyNames</code>.
</p>


<h3>Value</h3>

<p>A <code>list</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+CP">CP</a></code>, 
<code><a href="#topic+CommunityPropertyNames">CommunityPropertyNames</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# All properties
CPS(TL84)

# Just lat and long
CPS(TL84, c('lat', 'long'))

# lat and long and number of nodes
CPS(TL84, c('lat', 'long', 'NumberOfNodes'))

# lat and long and number of nodes, renamed
CPS(TL84, c('lat', 'long', S='NumberOfNodes'))

# 'not a property' is NA
CPS(TL84, c('lat', 'long', S='NumberOfNodes', 'not a property'))
</code></pre>

<hr>
<h2 id='Degree'>Node degree</h2><span id='topic+Degree'></span><span id='topic+InDegree'></span><span id='topic+OutDegree'></span><span id='topic+TrophicGenerality'></span><span id='topic+TrophicVulnerability'></span><span id='topic+NumberOfResources'></span><span id='topic+NumberOfConsumers'></span><span id='topic+NormalisedTrophicGenerality'></span><span id='topic+NormalisedTrophicVulnerability'></span>

<h3>Description</h3>

<p>The number of trophic links in to and out of nodes in a 
<code>Community</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Degree(community)
InDegree(community)
TrophicGenerality(community)
NumberOfResources(community)
OutDegree(community)
TrophicVulnerability(community)
NumberOfConsumers(community)

NormalisedTrophicGenerality(community)
NormalisedTrophicVulnerability(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Degree_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>InDegree</code> and <code>OutDegree</code> return the number of trophic 
links in-to and out-of each node. <code>Degree</code> returns <code>InDegree</code> + 
<code>OutDegree</code>. <code>TrophicGenerality</code> and <code>NumberOfResources</code> 
are synonyms for <code>InDegree</code>. <code>TrophicVulnerability</code> and 
<code>NumberOfResources</code> are synonyms for <code>OutDegree</code>.
</p>
<p><code>NormalisedTrophicGenerality</code> and <code>NormalisedTrophicVulnerability</code> 
return the containing the number of resources and consumer of each node, 
normalised with respect to <code>LinkageDensity</code>. The mean of the values 
returned by both <code>NormalisedTrophicGenerality</code> and 
<code>NormalisedTrophicVulnerability</code> is 1, making their standard 
deviations comparable across different food webs.
</p>


<h3>Value</h3>

<p>A vector of length <code>NumberOfNodes</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Williams, R.J. and Martinez, N.D. (2000) Simple rules yield 
complex food webs. Nature <b>404</b>, 180&ndash;183.</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, 
<code><a href="#topic+LinkageDensity">LinkageDensity</a></code>, <code><a href="#topic+DirectedConnectance">DirectedConnectance</a></code>, 
<code><a href="#topic+DegreeDistribution">DegreeDistribution</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

d &lt;- Degree(TL84)
i &lt;- InDegree(TL84)
o &lt;- OutDegree(TL84)

# This equality is always TRUE for all food webs
all(d == i+o)

ntg &lt;- NormalisedTrophicGenerality(TL84)
mean(ntg)    # Equals 1
ntv &lt;- NormalisedTrophicVulnerability(TL84)
mean(ntv)    # Equals 1
</code></pre>

<hr>
<h2 id='DegreeDistribution'>Node degree distribution</h2><span id='topic+DegreeDistribution'></span>

<h3>Description</h3>

<p>Node degree distribution.</p>


<h3>Usage</h3>

<pre><code class='language-R'>DegreeDistribution(community, cumulative=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="DegreeDistribution_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="DegreeDistribution_+3A_cumulative">cumulative</code></td>
<td>
<p>logical - if <code>TRUE</code> the cumulative degree 
distribution is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a vector of proportions of nodes with 
<code>0:max(Degree(community))</code> trophic links. 
</p>


<h3>Value</h3>

<p>A vector of numbers.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Degree">Degree</a></code>, <code><a href="#topic+PlotDegreeDistribution">PlotDegreeDistribution</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
DegreeDistribution(TL84)
DegreeDistribution(TL84, cumulative=TRUE)
</code></pre>

<hr>
<h2 id='Intervality'>Food web Intervality</h2><span id='topic+Intervality'></span><span id='topic+MinimiseSumDietGaps'></span><span id='topic+SumDietGaps'></span><span id='topic+MinimiseSumConsumerGaps'></span><span id='topic+SumConsumerGaps'></span>

<h3>Description</h3>

<p>Functions for computing the sum diet/consumer gaps of each 
species in a <code>Community</code> and for minimising the sum diet/consumer gaps 
using a simulated annealing learning method.</p>


<h3>Usage</h3>

<pre><code class='language-R'>SumDietGaps(community)
SumConsumerGaps(community)

MinimiseSumDietGaps(community, T.start = 10, T.stop = 0.1, c = 0.9, 
                    swaps.per.T = 1000, trace.anneal = FALSE, n = 1, 
                    best = TRUE)
MinimiseSumConsumerGaps(community, T.start = 10, T.stop = 0.1, c = 0.9, 
                        swaps.per.T = 1000, trace.anneal = FALSE, n = 1, 
                    best = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Intervality_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="Intervality_+3A_t.start">T.start</code></td>
<td>
<p>the temperature at which annealing starts; must be &gt;0</p>
</td></tr>
<tr><td><code id="Intervality_+3A_t.stop">T.stop</code></td>
<td>
<p>annealing will stop when the system temperature drops below 
<code>T.stop</code>; must be &gt;0 and &lt;<code>T&gt;start</code></p>
</td></tr>
<tr><td><code id="Intervality_+3A_c">c</code></td>
<td>
<p>cooling coefficient; must be &gt;0 and &lt;1.</p>
</td></tr>
<tr><td><code id="Intervality_+3A_swaps.per.t">swaps.per.T</code></td>
<td>
<p>the number of predation matrix row swaps per temperature.</p>
</td></tr>
<tr><td><code id="Intervality_+3A_trace.anneal">trace.anneal</code></td>
<td>
<p>logical - if <code>TRUE</code> the annealing process prints 
feedback.</p>
</td></tr>
<tr><td><code id="Intervality_+3A_n">n</code></td>
<td>
<p>numeric - the number of repetitions of the minimisation procedure.</p>
</td></tr>
<tr><td><code id="Intervality_+3A_best">best</code></td>
<td>
<p>logical - if <code>TRUE</code> then only the result of the best of the 
<code>n</code> minimsations is returned.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>SumDietGaps</code> and <code>SumConsumerGaps</code> return the total number 
of gaps in each species' diet (Stouffer et al 2006) and each species' consumers 
(Zook et al 2011) respectively.
</p>
<p><code>MinimiseSumDietGaps</code> and <code>MinimiseSumConsumerGaps</code> use the 
simulated annealing learning method described by Stouffer et al (2006) to 
minimise either <code>SumDietGaps</code> or <code>SumConsumerGaps</code>. Simulated 
annealing learning is a stochastic method so several optimisations might be 
required to find the global minimum. Use a value of <code>n</code> greater than 1 to 
perform several optimisations.</p>


<h3>Value</h3>

<p>For <code>SumDietGaps</code> and <code>SumConsumerGaps</code>, a single number. 
For the two minimisation functions, if <code>n</code> is 1 or <code>best</code> is 
<code>TRUE</code>, a <code>list</code> containing the values
</p>
<table>
<tr><td><code>sum.gaps</code></td>
<td>
<p>the lowest <code>SumDietGaps</code> or <code>SumConsumerGaps</code> 
resulting from the best ordering that was found.</p>
</td></tr>
<tr><td><code>order</code></td>
<td>
<p>a vector of node names giving the best ordering.</p>
</td></tr>
<tr><td><code>reordered</code></td>
<td>
<p><code>community</code> reordered by the best ordering.</p>
</td></tr>
</table>
<p>If <code>n</code> is greater than 1 and <code>best</code> is <code>FALSE</code> then a list of 
<code>n</code> lists, each list containing the above three values, sorted by 
increasing <code>sum.gaps</code>.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Stouffer, D.B. and Camacho, J. and Amaral, L.A.N. (2006) 
Proceedings of the National Academy of Sciences of the United States of 
America <b>103</b>, 50, 19015&ndash;19020.
</p>
<p>Zook, A.E. and Eklof, A. and Jacob, U. and Allesina, S. (2011) 
Journal of Theoretical Biology <b>271</b>, 1 106&ndash;113.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+OrderCommunity">OrderCommunity</a></code>, 
<code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, <code><a href="#topic+PlotPredationMatrix">PlotPredationMatrix</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
# Perform 5 independent optimisations
res &lt;- MinimiseSumDietGaps(TL84, n=5)

# Compare the original, ordered by body mass and minimised predation matrices
par(mfrow=c(1,3))
PlotPredationMatrix(TL84, main=paste('Sum diet gap', SumDietGaps(TL84)))
TL84.by.M &lt;- OrderCommunity(TL84, 'M')
PlotPredationMatrix(TL84.by.M, 
                    main=paste('Sum diet gap', SumDietGaps(TL84.by.M)))
PlotPredationMatrix(res$reordered, main=paste('Sum diet gap', res$sum.gaps))

# The same comparison but retaining the original column ordering
par(mfrow=c(1,3))
PlotPredationMatrix(TL84)
PlotPredationMatrix(TL84, resource.order=NP(TL84.by.M, 'node'))
PlotPredationMatrix(TL84, resource.order=res$order)
</code></pre>

<hr>
<h2 id='IsCannibal'>Cannibalistic nodes</h2><span id='topic+IsCannibal'></span><span id='topic+Cannibals'></span><span id='topic+FractionCannibalistic'></span>

<h3>Description</h3>

<p>Nodes that consume themselves in the food web.</p>


<h3>Usage</h3>

<pre><code class='language-R'>IsCannibal(community)
Cannibals(community)
FractionCannibalistic(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="IsCannibal_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>IsCannibal</code> returns a vector of <code>logical</code> of length 
<code>NumberOfNodes</code>; values are <code>TRUE</code> for nodes consume themselves. 
<code>Cannibals</code> returns the names of nodes for which <code>IsCannibals</code> 
returns <code>TRUE</code>. <code>FractionCannibalistic</code> returns the proportion of 
nodes for which <code>IsCannibal</code> returns <code>TRUE</code>
</p>


<h3>Value</h3>

<p>Either a <code>logical</code> vector of length <code>NumberOfNodes</code> or a 
vector of names.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+RemoveCannibalisticLinks">RemoveCannibalisticLinks</a></code>, 
<code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, 
<code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, 
<code><a href="#topic+Degree">Degree</a></code>, 
<code><a href="#topic+InDegree">InDegree</a></code>, 
<code><a href="#topic+OutDegree">OutDegree</a></code>, 
<code><a href="#topic+ResourcesByNode">ResourcesByNode</a></code>, 
<code><a href="#topic+ConsumersByNode">ConsumersByNode</a></code>, 
<code><a href="#topic+ResourcesOfNodes">ResourcesOfNodes</a></code>, 
<code><a href="#topic+ConsumersOfNodes">ConsumersOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

IsCannibal(TL84)
Cannibals(TL84)
FractionCannibalistic(TL84)
</code></pre>

<hr>
<h2 id='LinearRegressionByClass'>Linear regression by class</h2><span id='topic+LinearRegressionByClass'></span>

<h3>Description</h3>

<p>Fit linear regressions to node data by class.</p>


<h3>Usage</h3>

<pre><code class='language-R'>LinearRegressionByClass(community, X, Y, class)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LinearRegressionByClass_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="LinearRegressionByClass_+3A_x">X</code></td>
<td>
<p>Independent variable. A property name that must meet the criteria of 
the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="LinearRegressionByClass_+3A_y">Y</code></td>
<td>
<p>Dependent variable. A property name that must meet the criteria of 
the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="LinearRegressionByClass_+3A_class">class</code></td>
<td>
<p>The property over which linear regressions are fitted.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>A linear model is fitted through all data points and through each 
subset of the data given by <code>class</code>. A list of <code>lm</code> objects is 
returned. The list will contain <code>NULL</code> if it is not possible to fit a 
linear regression to that class; this will happen for classes that contain 
just a single node or that contain all or all but one nodes where <code>X</code> 
and/or <code>Y</code> is <code>NA</code>.
</p>


<h3>Value</h3>

<p>A <code>list</code> of <code>lm</code> objects.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+ApplyByClass">ApplyByClass</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+NvMLinearRegressions">NvMLinearRegressions</a></code>, 
<code><a href="stats.html#topic+lm">lm</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Regressions fitted to log10(Biomass) versus log10(M) data.
models &lt;- LinearRegressionByClass(TL84, 'Log10M', 'Log10Biomass', 
                                  'category')

# 'all', 'producer', 'invertebrate', 'vert.ecto'
names(models)

# Extract slopes and intercepts
sapply(models, coef)
</code></pre>

<hr>
<h2 id='LoadCollection'>Loading and saving CommunityCollection objects</h2><span id='topic+LoadCollection'></span><span id='topic+SaveCollection'></span>

<h3>Description</h3>

<p><code>LoadCollection</code> and <code>SaveCollection</code> are functions 
for loading and saving codeCommunityCollection objects to text files.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>LoadCollection(dir, ...)
SaveCollection(collection, dir, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LoadCollection_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="LoadCollection_+3A_dir">dir</code></td>
<td>
<p>a directory.</p>
</td></tr>
<tr><td><code id="LoadCollection_+3A_...">...</code></td>
<td>
<p>other values to <code>LoadCommunity</code> or <code>SaveCommunity</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>Community</code> objects in <code>collection</code> are saved to a 
directory named <code>communities</code> inside <code>dir</code>. The order of the 
collection is not saved. Any existing data in <code>dir</code> is ignored.</p>


<h3>Value</h3>

<p><code>LoadCollection</code> returns a new <code>CommunityCollection</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CommunityCollection">CommunityCollection</a></code>, 
<code><a href="#topic+OrderCollection">OrderCollection</a></code>, 
<code><a href="#topic+LoadCommunity">LoadCommunity</a></code>,
<code><a href="#topic+SaveCommunity">SaveCommunity</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)
temp.path &lt;- tempfile()
SaveCollection(pHWebs, temp.path)
pHWebs.loaded &lt;- LoadCollection(temp.path)
pHWebs.loaded &lt;- OrderCollection(pHWebs.loaded, 'pH')
unlink(temp.path, recursive=TRUE)
identical(pHWebs, pHWebs.loaded)    # TRUE
</code></pre>

<hr>
<h2 id='LoadCommunity'>Loading and saving Community objects</h2><span id='topic+LoadCommunity'></span><span id='topic+SaveCommunity'></span>

<h3>Description</h3>

<p><code>LoadCommunity</code> and <code>SaveCommunity</code> are functions for loading and 
saving <code>Community</code> objects to CSV files.</p>


<h3>Usage</h3>

<pre><code class='language-R'>LoadCommunity(dir, fn='read.csv', ...)
SaveCommunity(community, dir, fn='write.csv', na='', ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LoadCommunity_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="LoadCommunity_+3A_dir">dir</code></td>
<td>
<p>a directory.</p>
</td></tr>
<tr><td><code id="LoadCommunity_+3A_fn">fn</code></td>
<td>
<p>the name of an R function that loads/saves CSV files.</p>
</td></tr>
<tr><td><code id="LoadCommunity_+3A_na">na</code></td>
<td>
<p>the string to use for missing values in the data; see 
<code>write.csv</code>.</p>
</td></tr>
<tr><td><code id="LoadCommunity_+3A_...">...</code></td>
<td>
<p>other values to <code>fn</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Data are stored in CSV (Comma-Separated Value) files in <code>dir</code>. 
Properties of any aspect of the community (nodes, links or the whole community) 
can be added simply by adding columns to the relevant CSV file. 
The data-quality checks defined by <code>Community</code> are applied by 
<code>LoadCommunity</code>. The <code>fn</code> and <code>dots</code> arguments can be used to 
read/write files in a range of formats.
</p>
<p><code>properties.csv</code> defines items applicable to the community as a 
whole, such as sampling date, lat &amp; long or altitude and environmental 
variables such as temperature or pH. This file must contain a column called 
&lsquo;title&rsquo;.
</p>
<p><code>nodes.csv</code> should contain the list of nodes and together with any 
associated properties such as mean body mass, mean numerical abundance and 
classification. This file must contain a column called &lsquo;node&rsquo; that must contain 
node names. Many of Cheddar's plot and analysis functions make use of the 
&lsquo;category&rsquo; node property by default, following previously-used metabolic 
groupings (Yodzis &amp; Innes, 1992). The &lsquo;category&rsquo; column of <code>nodes.csv</code> 
is optional but, if given, it should contain one of &lsquo;producer&rsquo;, 
&lsquo;invertebrate&rsquo;, &lsquo;vert.ecto&rsquo;, &lsquo;vert.endo&rsquo; or should be an empty string.
</p>
<p><code>trophic.links.csv</code> is optional. It defines trophic links in columns 
&lsquo;resource&rsquo; and &lsquo;consumer&rsquo;, which should be names of nodes. Properties 
of trophic links such as evidence for the presence of the link (e.g. 
empirically observed or inferred from literature) can be added to this file.
</p>


<h3>Value</h3>

<p><code>LoadCommunity</code> returns a new <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Yodzis, P. and Innes, S. (1992) Body size and 
resource-consumer dynamics. The American Naturalist <b>139</b>, 1151&ndash;1175.</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>,
<code><a href="utils.html#topic+read.csv">read.csv</a></code>,
<code><a href="utils.html#topic+write.csv">write.csv</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
temp.path &lt;- tempfile()
SaveCommunity(TL84, temp.path)
TL84.loaded &lt;- LoadCommunity(temp.path)
unlink(temp.path, recursive=TRUE)
identical(TL84, TL84.loaded)    # TRUE
</code></pre>

<hr>
<h2 id='LumpNodes'>Lump nodes</h2><span id='topic+LumpNodes'></span>

<h3>Description</h3>

<p>A function that lumps together nodes in a <code>Community</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>LumpNodes(community, 
          lump, 
          title = NULL, 
          weight.by = 'N')</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LumpNodes_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td></tr>
<tr><td><code id="LumpNodes_+3A_lump">lump</code></td>
<td>
<p>a vector of of length <code>NumberOfNodes</code> containing names of 
lumped nodes. Nodes with the same value of <code>lump</code> will be merged.</p>
</td></tr>
<tr><td><code id="LumpNodes_+3A_title">title</code></td>
<td>
<p>the title of the new <code>Community</code>.</p>
</td></tr>
<tr><td><code id="LumpNodes_+3A_weight.by">weight.by</code></td>
<td>
<p>the name of a column by which to compute weighted mean of 
numeric values.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>weight.by</code> is not <code>NULL</code> and it is the name of 
a node property, it is used to compute weighted means of all the other 
numeric node properties. The arithmetic mean of <code>weight.by</code> is 
computed. 
If <code>weight.by</code> is <code>NULL</code> or is not the name of a node property, 
the arithmetic mean is computed for each numeric node property.
Node properties that are characters or logicals are aggregated by joining 
unique values with a &lsquo;,&rsquo;. Empty character strings are ignored.
</p>


<h3>Value</h3>

<p>A new object of class <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+LumpTrophicSpecies">LumpTrophicSpecies</a></code>, 
<code><a href="#topic+IsIsolatedNode">IsIsolatedNode</a></code>, <code><a href="#topic+IsolatedNodes">IsolatedNodes</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, <code><a href="stats.html#topic+weighted.mean">weighted.mean</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Lump together isolated nodes in TL84
length(which(IsIsolatedNode(TL84)))  # 6 isolated species
IsolatedNodes(TL84)                  # Names of isolated nodes

lump &lt;- NP(TL84, 'node')             # Existing node names

# Give isolated nodes the same lump value
lump[IsolatedNodes(TL84)] &lt;- 'Isolated nodes lumped together'
TL84.lumped &lt;- LumpNodes(TL84, lump)

NumberOfNodes(TL84)         # 56 nodes in unlumped web
NumberOfNodes(TL84.lumped)  # 51 nodes in lumped web

IsolatedNodes(TL84.lumped)  # A single node


# This trivial example shows that no nodes are lumped if values in lump are 
# unique to each node
lump &lt;- NP(TL84, 'node')
identical(TL84, LumpNodes(TL84, lump, title=CP(TL84, 'title')))


# Ythan Estuary contains two species that are split in to adult and 
# juvenile forms. The example below lumps these in to single species.
data(YthanEstuary)

# The names of nodes in YthanEstuary
lump &lt;- NP(YthanEstuary, 'node')

# European flounder:
# "Platichthys flesus" and "Platichthys flesus (juvenile)"
# Lump these in to one node
lump["Platichthys flesus (juvenile)"==lump] &lt;- "Platichthys flesus"

# Common eider:
# "Somateria mollissima" and "Somateria mollissima (juvenile)"
# Lump these in to one node
lump["Somateria mollissima (juvenile)"==lump] &lt;- "Somateria mollissima"
YthanEstuary.lumped &lt;- LumpNodes(YthanEstuary, lump)


# Examine the computed means for Somateria mollissima
# Arithmetic mean of N is 2592
NP(YthanEstuary.lumped, 'N')['Somateria mollissima']
mean(NP(YthanEstuary, 'N')[c("Somateria mollissima (juvenile)", 
                             "Somateria mollissima")])

# N-weighted mean of M is 1637.018
NP(YthanEstuary.lumped, 'M')['Somateria mollissima']
weighted.mean(NP(YthanEstuary, 'M')[c("Somateria mollissima (juvenile)", 
                                    "Somateria mollissima")], 
              NP(YthanEstuary, 'N')[c("Somateria mollissima (juvenile)", 
                                    "Somateria mollissima")], )


# Plot the original community and the community with lumped nodes
par(mfrow=c(1,2))
plot(YthanEstuary, highlight.nodes=c("Platichthys flesus", 
                                     "Platichthys flesus (juvenile)", 
                                     "Somateria mollissima", 
                                     "Somateria mollissima (juvenile)"))
plot(YthanEstuary.lumped, highlight.nodes=c("Platichthys flesus", 
                                            "Somateria mollissima"))
</code></pre>

<hr>
<h2 id='LumpTrophicSpecies'>Lump trophic species</h2><span id='topic+LumpTrophicSpecies'></span>

<h3>Description</h3>

<p>Lump trophic species.</p>


<h3>Usage</h3>

<pre><code class='language-R'>LumpTrophicSpecies(community, include.isolated=TRUE, title=NULL, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="LumpTrophicSpecies_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="LumpTrophicSpecies_+3A_include.isolated">include.isolated</code></td>
<td>
<p>if <code>TRUE</code> then nodes for which 
<code>IsIsolatedNode</code> is <code>TRUE</code> are given their own trophic species 
number. If <code>FALSE</code> the isolated species are assigned a trophic species 
of <code>NA</code>.</p>
</td></tr>
<tr><td><code id="LumpTrophicSpecies_+3A_title">title</code></td>
<td>
<p>the title of the new <code>Community</code>.</p>
</td></tr>
<tr><td><code id="LumpTrophicSpecies_+3A_...">...</code></td>
<td>
<p>other parameters to <code>LumpNodes</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Aggregates nodes that share identical sets of prey and predators.</p>


<h3>Value</h3>

<p>A <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Briand, F and Cohen, J.E. 1984 Community food webs have scale-invariant 
structure Nature <b>307</b>, 264&ndash;267.
</p>
<p>Jonsson, T. and Cohen, J.E. and Carpenter, S. R. 2005 
Food webs, body size, and species abundance in ecological community 
description. Advances in Ecological Research <b>36</b>, 1&ndash;84.
</p>
<p>Pimm, S.L. and Lawton, J.H. and Cohen, J.E. 1991 Food web patterns and their 
consequences Nature <b>350</b>, 669&ndash;674.
</p>
<p>Williams, R.J. and Martinez, N.D. 2000 Simple rules yield complex food webs
<b>404</b>, 180&ndash;183.</p>


<h3>See Also</h3>

<p><code><a href="#topic+TrophicSpecies">TrophicSpecies</a></code>, <code><a href="#topic+LumpNodes">LumpNodes</a></code>, 
<code><a href="#topic+IsIsolatedNode">IsIsolatedNode</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
NumberOfNodes(TL84)

TL84.lumped &lt;- LumpTrophicSpecies(TL84)

length(unique(TrophicSpecies(TL84)))    # 22 trophic species in TL84...
NumberOfNodes(TL84.lumped)              # ... and 22 nodes in the lumped web
</code></pre>

<hr>
<h2 id='Millstream'>Millstream</h2><span id='topic+Millstream'></span>

<h3>Description</h3>

<p>The control and drought treatments from one of the four replicates 
from a long-running study of the effects of drought on community structure.
</p>
<p>Taxonomic classification provided by Mark Ledger.</p>


<h3>Format</h3>

<p><code>CommunityCollection</code>.</p>


<h3>Source</h3>

<p>Ledger et al, 2011; Ledger et al, 2012; Woodward et al 2012.</p>


<h3>References</h3>

<p>Ledger, M.E. and Edwards, F.K. and Brown, L.E. and Milner, A.M. and Woodward, 
G. (2011) Impact of simulated drought on ecosystem biomass production: an 
experimental test in stream mesocosms. Global Change Biology <b>17</b>, 7, 
2288&ndash;2297.
</p>
<p>Ledger, M.E., and Brown, L.E., and Edwards, F.K. and Milner, A.M. and 
Woodward, G. (2012) Drought alters the structure and functioning of complex 
food webs. Nature Climate Change <b>2</b>, 9, 1&ndash;5.
</p>
<p>Woodward, G. and Brown, L.E and Edwards, F. and Hudson, L.N. and Milner, A.M. 
and Reuman, D.C. and Mark E.L. (2012) Climate change impacts in multispecies 
systems: drought alters food web size-structure in a field experiment. 
Philosophical Transactions of the Royal Society B: Biological Sciences.
</p>

<hr>
<h2 id='Node+20connectivity'>Node connectivity</h2><span id='topic+IsBasalNode'></span><span id='topic+IsTopLevelNode'></span><span id='topic+IsIntermediateNode'></span><span id='topic+IsIsolatedNode'></span><span id='topic+IsConnectedNode'></span><span id='topic+IsNonBasalNode'></span><span id='topic+IsNonTopLevelNode'></span><span id='topic+BasalNodes'></span><span id='topic+TopLevelNodes'></span><span id='topic+IntermediateNodes'></span><span id='topic+IsolatedNodes'></span><span id='topic+ConnectedNodes'></span><span id='topic+NonBasalNodes'></span><span id='topic+NonTopLevelNodes'></span><span id='topic+FractionBasalNodes'></span><span id='topic+FractionIntermediateNodes'></span><span id='topic+FractionTopLevelNodes'></span><span id='topic+FractionIsolatedNodes'></span><span id='topic+FractionNonConnectedNodes'></span><span id='topic+FractionNonBasalNodes'></span><span id='topic+FractionConnectedNodes'></span><span id='topic+FractionNonTopLevelNodes'></span>

<h3>Description</h3>

<p>Functions that report the connectivity of nodes in a food web.</p>


<h3>Usage</h3>

<pre><code class='language-R'>IsBasalNode(community)
IsTopLevelNode(community) 
IsIntermediateNode(community) 
IsIsolatedNode(community) 
IsConnectedNode(community) 
IsNonBasalNode(community) 
IsNonTopLevelNode(community) 

BasalNodes(community)
TopLevelNodes(community) 
IntermediateNodes(community) 
IsolatedNodes(community) 
ConnectedNodes(community)
NonTopLevelNodes(community) 
NonBasalNodes(community)

FractionBasalNodes(community)
FractionIntermediateNodes(community)
FractionTopLevelNodes(community)
FractionIsolatedNodes(community)
FractionNonBasalNodes(community)
FractionConnectedNodes(community)
FractionNonTopLevelNodes(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Node+2B20connectivity_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Each node in a community is defined as: 
</p>

<table>
<tr>
 <td style="text-align: left;">
isolated      </td><td style="text-align: left;"> No resources or consumers, other than possibly itself </td>
</tr>
<tr>
 <td style="text-align: left;">
basal         </td><td style="text-align: left;"> No resources and one or more consumers </td>
</tr>
<tr>
 <td style="text-align: left;">
top-level     </td><td style="text-align: left;"> One or more resources and no consumers, other than possibly 
                   itself </td>
</tr>
<tr>
 <td style="text-align: left;">
intermediate  </td><td style="text-align: left;"> Nodes not fitting any of the above categories
</td>
</tr>

</table>

<p>These definitions allow the following additional definitions:
</p>

<table>
<tr>
 <td style="text-align: left;">
connected     </td><td style="text-align: left;"> basal, intermediate or top-level </td>
</tr>
<tr>
 <td style="text-align: left;">
non-basal     </td><td style="text-align: left;"> isolated, intermediate or top-level </td>
</tr>
<tr>
 <td style="text-align: left;">
non-top-level </td><td style="text-align: left;"> isolated, basal or intermediate
</td>
</tr>

</table>

<p>For each of the above seven definitions, &lsquo;X&rsquo;, there are three functions: 
<code>IsX</code>, <code>X</code> and <code>FractionX</code>. 
The first returns a vector of <code>logical</code> of length <code>NumberOfNodes</code>; 
values are <code>TRUE</code> for nodes that fit the definition of &lsquo;X&rsquo;.
The second returns the names of nodes for which <code>IsX</code> returns <code>TRUE</code>. 
The third returns the proportion of nodes in the community that fit the 
definition of &lsquo;X&rsquo;.
</p>


<h3>Value</h3>

<p>Either a <code>logical</code> vector of length <code>NumberOfNodes</code> or a 
vector of names.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, 
<code><a href="#topic+Cannibals">Cannibals</a></code>, 
<code><a href="#topic+IsCannibal">IsCannibal</a></code>, 
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code>, 
<code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, 
<code><a href="#topic+Degree">Degree</a></code>, 
<code><a href="#topic+InDegree">InDegree</a></code>, 
<code><a href="#topic+OutDegree">OutDegree</a></code>, 
<code><a href="#topic+ResourcesByNode">ResourcesByNode</a></code>, 
<code><a href="#topic+ConsumersByNode">ConsumersByNode</a></code>, 
<code><a href="#topic+ResourcesOfNodes">ResourcesOfNodes</a></code>, 
<code><a href="#topic+ConsumersOfNodes">ConsumersOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Assemble a table of node connectivity. Only one of each of the following 
# four properties is TRUE for each node.
connectivity &lt;- NPS(TL84, c('IsBasalNode', 'IsIsolatedNode', 
                            'IsIntermediateNode', 'IsTopLevelNode'))
connectivity

# Each row sums to 1, confirming that exactly one of the columns in each row 
# is TRUE.
all(1==rowSums(connectivity))

# These summations are 1
sum(FractionBasalNodes(TL84), 
    FractionIntermediateNodes(TL84), 
    FractionTopLevelNodes(TL84), 
    FractionIsolatedNodes(TL84))

sum(FractionConnectedNodes(TL84), 
    FractionIsolatedNodes(TL84))

sum(FractionBasalNodes(TL84), 
    FractionNonBasalNodes(TL84))

sum(FractionTopLevelNodes(TL84), 
    FractionNonTopLevelNodes(TL84))
</code></pre>

<hr>
<h2 id='NodeNameIndices'>Node name indices</h2><span id='topic+NodeNameIndices'></span>

<h3>Description</h3>

<p>Node name indices.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NodeNameIndices(community, nodes)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NodeNameIndices_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="NodeNameIndices_+3A_nodes">nodes</code></td>
<td>
<p>node names.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns integer indices of names in <code>nodes</code>.</p>


<h3>Value</h3>

<p>A vector of integers</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

NodeNameIndices(TL84, 'Umbra limi')
NodeNameIndices(TL84, c('Nostoc sp.','Umbra limi'))
</code></pre>

<hr>
<h2 id='NodePropertyNames'>A vector of names of node properties</h2><span id='topic+NodePropertyNames'></span>

<h3>Description</h3>

<p>Returns a vector of names of node properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NodePropertyNames(community)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NodePropertyNames_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of the names of node properties.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+NP">NP</a></code>, <code><a href="#topic+NPS">NPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84) 
NodePropertyNames(TL84) 
</code></pre>

<hr>
<h2 id='NP'>Single node properties</h2><span id='topic+NP'></span>

<h3>Description</h3>

<p>Returns a node property.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NP(community, property)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NP_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="NP_+3A_property">property</code></td>
<td>
<p>the name of the property to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named NP for Node Property. It returns a vector 
containing the value of <code>property</code> for every node. The returned vector 
is named by node. If the name is not a property, a vector of <code>NA</code> is 
returned.</p>


<h3>Value</h3>

<p>A vector of length <code>NumberOfNodes</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+NPS">NPS</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

NP(TL84, 'M')

# Returns a vector of NA
NP(TL84, 'not a property')
</code></pre>

<hr>
<h2 id='NPS'>Node properties</h2><span id='topic+NPS'></span>

<h3>Description</h3>

<p>Returns a <code>data.frame</code> of first-class and computed node 
properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NPS(community, properties = NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NPS_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="NPS_+3A_properties">properties</code></td>
<td>
<p>the names of node properties. These can be names of 
first-class properties (returned by <code>NodePropertyNames</code>) and names of 
functions that take a <code>Community</code> object as the only parameter and return 
either a vector of length <code>NumberOfNodes</code> or a <code>matrix</code> or 
<code>data.frame</code> with <code>NumberOfNodes</code> rows.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named NPS for Node Properties. It returns a 
<code>data.frame</code> containing the column &lsquo;node&rsquo; and any requested properties. 
If <code>properties</code> is <code>NULL</code>, all first-class node properties are 
included in the returned <code>data.frame</code>.
</p>
<p><code>properties</code> should be either a vector or a list that contains either 
names of first class properties, names of functions that take only a community 
or lists in which the first element is the name of a function that takes 
a community and subsequent elements are named arguments to that function. 
Names of <code>properties</code> are column names in the returned <code>data.frame</code>.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>NumberOfNodes</code> rows.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+NP">NP</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84) 
NPS(TL84) 

NPS(TL84, 'M') 

# Biomass is a function
NPS(TL84, 'Biomass') 

NPS(TL84, c(B='Biomass'))

# Several first-class and computed properties
NPS(TL84, c('M', 'N', B='Biomass', 'TrophicSpecies', 
            TL='PreyAveragedTrophicLevel'))

# Pass parameters to functions
NPS(TL84, list(TS1='TrophicSpecies', 
               TS2=list('TrophicSpecies', include.isolated=FALSE), 
               Iso='IsIsolatedNode'))
</code></pre>

<hr>
<h2 id='NumberOfNodes'>Number of nodes</h2><span id='topic+NumberOfNodes'></span><span id='topic+NumberOfNodesByClass'></span><span id='topic+FractionOfNodesByClass'></span>

<h3>Description</h3>

<p>Functions that return the number of nodes in the community.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NumberOfNodes(community)
NumberOfNodesByClass(community, class)
FractionOfNodesByClass(community, class)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NumberOfNodes_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="NumberOfNodes_+3A_class">class</code></td>
<td>
<p>the property over which <code>fn</code> is applied. Defaults to 
'category' if the community has a node property with that name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NumberOfNodes</code> returns a single number. 
<code>NumberOfNodesByClass</code> and <code>FractionOfNodesByClass</code> both return 
a value for each <code>class</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+NPS">NPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
NumberOfNodes(TL84)
NumberOfNodesByClass(TL84)
FractionOfNodesByClass(TL84)
</code></pre>

<hr>
<h2 id='NumberOfTrophicLinks'>Number of trophic links</h2><span id='topic+NumberOfTrophicLinks'></span><span id='topic+LinkageDensity'></span><span id='topic+DirectedConnectance'></span>

<h3>Description</h3>

<p>The number of trophic links in <code>Community</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NumberOfTrophicLinks(community) 
LinkageDensity(community) 
DirectedConnectance(community) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NumberOfTrophicLinks_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>NumberOfTrophicLinks</code> returns the total number of links in the 
web, including cannibalistic links.
</p>
<p><code>LinkageDensity</code> returns the <code>NumberOfTrophicLinks</code> / 
<code>NumberOfNodes</code>, including cannibalistic links and isolated nodes.
</p>
<p><code>DirectedConnectance</code> returns <code>NumberOfTrophicLinks</code> / 
<code>NumberOfNodes</code>^2, including cannibalistic links and isolated nodes.
</p>


<h3>Value</h3>

<p>A single number.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Martinez, N. D. 1991 Artifacts or attributes? Effects of resolution 
on the Little Rock Lake food web. Ecological Monographs <b>61</b>, 367&ndash;392.</p>


<h3>See Also</h3>

<p><code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

NumberOfTrophicLinks(TL84)
LinkageDensity(TL84)
DirectedConnectance(TL84)
</code></pre>

<hr>
<h2 id='NvMConvexHull'>NvMConvexHull</h2><span id='topic+NvMConvexHull'></span>

<h3>Description</h3>

<p>Compute the convex hull around log-transformed $N$ versus $M$ 
data.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NvMConvexHull(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NvMConvexHull_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns the points and area of the minimum convex hull (a polygon in 
log10-transformed numerical abundance versus log10-transformed body mass space) 
that bounds all the species within the community.
</p>


<h3>Value</h3>

<p>A <code>list</code> containing the values
</p>
<table>
<tr><td><code>nodes</code></td>
<td>
<p>The names of the nodes that make up the convex hull.</p>
</td></tr>
<tr><td><code>points</code></td>
<td>
<p>A matrix containing columns &lsquo;x&rsquo; and &lsquo;y&rsquo; that contain the 
coordinates of the points that make up the convex hull.</p>
</td></tr>
<tr><td><code>area</code></td>
<td>
<p>The area within the convex hull.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Leaper, R. and Raffaelli, D. (1999) Defining the abundance
body-size constraint space: data from a real food web. Ecology Letters 
<b>2</b>, 3, 191&ndash;199.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+PlotNvM">PlotNvM</a></code>, <code><a href="grDevices.html#topic+chull">chull</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Compute convex hull
convex.hull &lt;- NvMConvexHull(TL84)

# The nodes that form the hull
convex.hull$nodes

# The area of the hull
convex.hull$area

# Plot the hull in red around the nodes
PlotNvM(TL84)
polygon(convex.hull$points, lwd=2, border='red')
</code></pre>

<hr>
<h2 id='NvMLinearRegressions'>NvMLinearRegressions</h2><span id='topic+NvMLinearRegressions'></span><span id='topic+NvMSlope'></span><span id='topic+NvMIntercept'></span><span id='topic+NvMSlopeAndIntercept'></span><span id='topic+NvMSlopeByClass'></span><span id='topic+NvMInterceptByClass'></span><span id='topic+NvMSlopeAndInterceptByClass'></span>

<h3>Description</h3>

<p>Creation and analysis of linear regressions fitted to log10-
transformed numerical abundance versus log10-transformed body mass.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NvMLinearRegressions(community, class)

NvMSlope(community)
NvMIntercept(community)
NvMSlopeAndIntercept(community)

NvMSlopeByClass(community, class)
NvMInterceptByClass(community, class)
NvMSlopeAndInterceptByClass(community, class)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NvMLinearRegressions_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="NvMLinearRegressions_+3A_class">class</code></td>
<td>
<p>the property over which linear regressions are fitted. Defaults 
to 'category' if the community has a node property with that name.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>NvMLinearRegressions</code> returns a <code>list</code> of <code>lm</code> 
objects, one for each <code>class</code> and one fitted to all data. 
The list will contain <code>NULL</code> if it is not possible to fit a 
linear regression to that class; this will happen for classes that contain 
just a single node or that contain all or all but one nodes where <code>X</code> 
and/or <code>Y</code> is <code>NA</code>.
</p>
<p><code>NvMSlope</code>, <code>NvMIntercept</code> and <code>NvMSlopeAndIntercept</code> return 
the slope, intercept and both, respectively, of a single linear regression 
fitted to all data. 
<code>NvMSlopeByClass</code>, <code>NvMInterceptByClass</code> and 
<code>NvMSlopeAndInterceptByClass</code> return the slope, intercept and both, 
respectively, of linear regressions fitteed to each <code>class</code> and one 
to all data. For classes where  it is not possible to fit a linear 
regression (for the  reasons given above), <code>NvMSlopeByClass</code>, 
<code>NvMInterceptByClass</code> and <code>NvMSlopeAndInterceptByClass</code> will 
return <code>NA</code>.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+CommunityCollection">CommunityCollection</a></code>
<code><a href="#topic+ApplyByClass">ApplyByClass</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

models &lt;- NvMLinearRegressions(TL84)

# 'all', 'producer', 'invertebrate', 'vert.ecto'
names(models)

# Extract slopes and intercepts
sapply(models, coef)


# Slopes and intercepts through all data for each web in the pHWebs 
# collection
data(pHWebs)
CollectionCPS(pHWebs, properties=c('NvMSlope'))
CollectionCPS(pHWebs, properties=c('NvMIntercept'))
CollectionCPS(pHWebs, properties=c('NvMSlopeAndIntercept'))

# Slopes and intercepts through each category for each web in pHWebs
CollectionCPS(pHWebs, properties=c('NvMSlopeAndInterceptByClass'))
</code></pre>

<hr>
<h2 id='NvMTriTrophicStatistics'>N-versus-M tri-trophic statistics</h2><span id='topic+NvMTriTrophicStatistics'></span>

<h3>Description</h3>

<p>Tri-trophic statistics.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NvMTriTrophicStatistics(community)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NvMTriTrophicStatistics_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Tri-trophic statistics as described by Cohen et al 2009 PNAS.
</p>


<h3>Value</h3>

<p>A <code>list</code> containing
</p>
<table>
<tr><td><code>links</code></td>
<td>
<p>a <code>data.frame</code>.</p>
</td></tr>
<tr><td><code>three.node.chains</code></td>
<td>
<p>a <code>data.frame</code>.</p>
</td></tr>
<tr><td><code>trophic.chains</code></td>
<td>
<p>a <code>data.frame</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Cohen, J.E. and Schittler, D.N. and Raffaelli, D.G. and Reuman, 
D.C. (2009) Food webs are more than the sum of their tritrophic parts. 
Proceedings of the National Academy of Sciences of the United States of America 
<b>106</b>, 52, 22335&ndash;22340.</p>


<h3>See Also</h3>

<p><code><a href="#topic+TLPS">TLPS</a></code>, 
<code><a href="#topic+ThreeNodeChains">ThreeNodeChains</a></code>, 
<code><a href="#topic+TrophicChains">TrophicChains</a></code>, 
<code><a href="#topic+PlotAuppervAlower">PlotAuppervAlower</a></code>,
<code><a href="#topic+NvMTriTrophicTable">NvMTriTrophicTable</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
tts &lt;- NvMTriTrophicStatistics(TL84)
nrow(tts$links)
head(tts$links)

nrow(tts$three.node.chains)
head(tts$three.node.chains)

nrow(tts$trophic.chains)
head(tts$trophic.chains)
</code></pre>

<hr>
<h2 id='NvMTriTrophicTable'>N-versus-M tri-trophic statistics</h2><span id='topic+NvMTriTrophicTable'></span>

<h3>Description</h3>

<p>Tri-trophic statistics.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NvMTriTrophicTable(collection)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="NvMTriTrophicTable_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a <code>data.frame</code> that contains the same statistics 
presented in Table 1 on Cohen et al 2009 PNAS. The function removes 
nodes lacking body mass (M) and/or numerical abundance (N), cannibalistic 
links and isolated nodes from each community. The last eight rows of the 
table contain four network statistics both with and without these removals.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with a column per community and the rows
</p>
<table>
<tr><td><code>Mean link length</code></td>
<td>
</td></tr>
<tr><td><code>Mean L upper</code></td>
<td>
</td></tr>
<tr><td><code>Mean L lower</code></td>
<td>
</td></tr>
<tr><td><code>2 x mean link length</code></td>
<td>
</td></tr>
<tr><td><code>Mean 2-span</code></td>
<td>
</td></tr>
<tr><td><code>Mean L upper + L lower</code></td>
<td>
</td></tr>
<tr><td><code>2 x mean link length / mean 2-span</code></td>
<td>
</td></tr>
<tr><td><code>Mean L upper + L lower/ mean 2-span</code></td>
<td>
</td></tr>
<tr><td><code>Mean count chain length</code></td>
<td>
</td></tr>
<tr><td><code>Mean count chain length x mean link length</code></td>
<td>
</td></tr>
<tr><td><code>Community span</code></td>
<td>
</td></tr>
<tr><td><code>Mean count chain length x mean link length / community span</code></td>
<td>
</td></tr>
<tr><td><code>Mean sum chain lengths</code></td>
<td>
</td></tr>
<tr><td><code>Mean chain span</code></td>
<td>
</td></tr>
<tr><td><code>Mean chain span / community span</code></td>
<td>
</td></tr>
<tr><td><code>Mean sum chain lengths / mean chain span</code></td>
<td>
</td></tr>
<tr><td><code>Mean sum chain lengths / community span</code></td>
<td>
</td></tr>
<tr><td><code>L</code></td>
<td>
<p>number of trophic links after removals.</p>
</td></tr>
<tr><td><code>S^2</code></td>
<td>
<p>number of nodes squared after removals.</p>
</td></tr>
<tr><td><code>L/S^2</code></td>
<td>
<p>directed connectance links after removals.</p>
</td></tr>
<tr><td><code>L/S</code></td>
<td>
<p>linkage density after removals.</p>
</td></tr>
<tr><td><code>L</code></td>
<td>
<p>number of trophic links before removals.</p>
</td></tr>
<tr><td><code>S^2</code></td>
<td>
<p>number of nodes squared before removals.</p>
</td></tr>
<tr><td><code>L/S^2</code></td>
<td>
<p>directed connectance links before removals.</p>
</td></tr>
<tr><td><code>L/S</code></td>
<td>
<p>linkage density before removals.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Cohen, J.E. and Schittler, D.N. and Raffaelli, D.G. and Reuman, 
D.C. (2009) Food webs are more than the sum of their tritrophic parts. 
Proceedings of the National Academy of Sciences of the United States of America 
<b>106</b>, 52, 22335&ndash;22340.</p>


<h3>See Also</h3>

<p><code><a href="#topic+NvMTriTrophicStatistics">NvMTriTrophicStatistics</a></code>, <code><a href="#topic+CommunityCollection">CommunityCollection</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84, TL86, YthanEstuary)
collection &lt;- CommunityCollection(list(TL84, TL86, YthanEstuary))
table &lt;- NvMTriTrophicTable(collection)
print(round(table, 2))
</code></pre>

<hr>
<h2 id='Omnivory'>Omnivory</h2><span id='topic+IsOmnivore'></span><span id='topic+Omnivores'></span><span id='topic+FractionOmnivorous'></span><span id='topic+Omnivory'></span>

<h3>Description</h3>

<p>Nodes that consume two or more species and have a non-integer
trophic level.</p>


<h3>Usage</h3>

<pre><code class='language-R'>IsOmnivore(community, level=PreyAveragedTrophicLevel)
Omnivores(community, ...)
FractionOmnivorous(community, ...)
Omnivory(community, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Omnivory_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="Omnivory_+3A_level">level</code></td>
<td>
<p>a function that returns the trophic level of each node in 
<code>community</code>.</p>
</td></tr>
<tr><td><code id="Omnivory_+3A_...">...</code></td>
<td>
<p>other values to <code>IsOmnivore</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Omnivores are those nodes that consume two or more species and have a 
non-integer trophic level (Polis 1991). <code>IsOmnivore</code> returns a vector of 
<code>logical</code> of length <code>NumberOfNodes</code>; values are <code>TRUE</code> for 
nodes that are omnivorous. <code>Omnivores</code> returns the names of nodes for 
which <code>IsOmnivore</code> returns <code>TRUE</code>. <code>FractionOmnivorous</code> and 
<code>Omnivory</code> both return the proportion of nodes for which <code>IsOmnivore</code> 
returns <code>TRUE</code>. 
</p>
<p>Many researchers have used chain-averaged trophic level when computing omnivory 
(Polis, 1991; Bersier et al 2002). Computing chain-averaged trophic level
requires enumerating every unique food chain - this can be lengthy for complex 
food webs so the default function used by <code>IsOmnivore</code> is 
<code>PreyAveragedTrophicLevel</code>. Omnivory values obtained using these two 
methods might differ slightly.
</p>


<h3>Value</h3>

<p>Either a <code>logical</code> vector of length <code>NumberOfNodes</code> or a 
vector of names.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Polis, G. A. (1991) Complex desert food webs: an empirical critique 
of food web theory. American Naturalist <code>138</code>, 123&ndash;155.
</p>
<p>Bersier, L. and Banasek-Richter, C. and Cattin, M. (2002) Ecology 
<b>80</b> 2394&ndash;2407.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, <code><a href="#topic+PreyAveragedTrophicLevel">PreyAveragedTrophicLevel</a></code>, 
<code><a href="#topic+ChainAveragedTrophicLevel">ChainAveragedTrophicLevel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

IsOmnivore(TL84)
Omnivores(TL84)
Omnivory(TL84)

# Omnivory values found using PreyAveragedTrophicLevel and 
# ChainAveragedTrophicLevel differ for ChesapeakeBay
data(ChesapeakeBay)
Omnivory(ChesapeakeBay)
Omnivory(ChesapeakeBay, level=ChainAveragedTrophicLevel)
</code></pre>

<hr>
<h2 id='OrderCollection'>Order a collection of communities</h2><span id='topic+OrderCollection'></span>

<h3>Description</h3>

<p>Order a <code>CommunityCollection</code></p>


<h3>Usage</h3>

<pre><code class='language-R'>OrderCollection(collection, ..., decreasing=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OrderCollection_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="OrderCollection_+3A_...">...</code></td>
<td>
<p>the names of properties by which to order the communities.</p>
</td></tr>
<tr><td><code id="OrderCollection_+3A_decreasing">decreasing</code></td>
<td>
<p>logical.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>CommunityCollection</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CommunityCollection">CommunityCollection</a></code>, 
<code><a href="base.html#topic+order">order</a></code>, 
<code><a href="#topic+CollectionCPS">CollectionCPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)
CollectionCPS(pHWebs, c('pH', 'NumberOfNodes'))

# Order by name
pHWebs.name &lt;- OrderCollection(pHWebs, 'title')
CollectionCPS(pHWebs.name, c('pH', 'NumberOfNodes'))

# Order by decreasing pH
pHWebs.decreasing.pH &lt;- OrderCollection(pHWebs, 'pH', decreasing=TRUE)
CollectionCPS(pHWebs.decreasing.pH, c('pH', 'NumberOfNodes'))

# Order by increasing diversity
pHWebs.increasing.S &lt;- OrderCollection(pHWebs, 'NumberOfNodes')
CollectionCPS(pHWebs.increasing.S, c('pH', 'NumberOfNodes'))
</code></pre>

<hr>
<h2 id='OrderCommunity'>Order a community</h2><span id='topic+OrderCommunity'></span>

<h3>Description</h3>

<p>Order a <code>Community</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>OrderCommunity(community, ..., decreasing=FALSE, na.last = TRUE, 
               new.order=NULL, title=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="OrderCommunity_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="OrderCommunity_+3A_...">...</code></td>
<td>
<p>the names of properties by which to order the communities.</p>
</td></tr>
<tr><td><code id="OrderCommunity_+3A_decreasing">decreasing</code></td>
<td>
<p>logical.</p>
</td></tr>
<tr><td><code id="OrderCommunity_+3A_na.last">na.last</code></td>
<td>
<p>logical.</p>
</td></tr>
<tr><td><code id="OrderCommunity_+3A_new.order">new.order</code></td>
<td>
<p>a vector of either node integer indices or node names 
giving the order.</p>
</td></tr>
<tr><td><code id="OrderCommunity_+3A_title">title</code></td>
<td>
<p>the title of the new <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a new <code>Community</code> object. <code>dots</code> can contain 
any name that meets the criteria of the <code>properties</code> parameter of 
<code>NPS</code>. If <code>new.order</code> is <code>NULL</code> then <code>...</code> and optionally 
<code>decreasing</code> are used to compute the new node ordering. 
</p>
<p>Different node orders will yield different <code>SumDietGaps</code> and 
<code>SumConsumerGaps</code> (e.g. Stouffer et al 2006, Zook et al 2011).
</p>


<h3>Value</h3>

<p>A <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Stouffer, D.B. and Camacho, J. and Amaral, L.A.N. (2006) 
Proceedings of the National Academy of Sciences of the United States of 
America <b>103</b>, 50, 19015&ndash;19020.
</p>
<p>Zook, A.E. and Eklof, A. and Jacob, U. and Allesina, S. (2011) 
Journal of Theoretical Biology <b>271</b>, 1 106&ndash;113.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="base.html#topic+order">order</a></code>, 
<code><a href="#topic+Intervality">Intervality</a></code>, 
<code><a href="#topic+CollectionNPS">CollectionNPS</a></code>, 
<code><a href="#topic+PreyAveragedTrophicLevel">PreyAveragedTrophicLevel</a></code>,
<code><a href="#topic+PlotPredationMatrix">PlotPredationMatrix</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
NPS(TL84)

# Order by increasing M
TL84.increasing.M &lt;- OrderCommunity(TL84, 'M', title='Increasing M')
NPS(TL84.increasing.M)

# Order by decreasing M
TL84.decreasing.M &lt;- OrderCommunity(TL84, 'M', decreasing=TRUE)
NPS(TL84.decreasing.M)

# Order by increasing M and N
TL84.increasing.MN &lt;- OrderCommunity(TL84, 'M', 'N')
NPS(TL84.increasing.MN)

# Reverse existing order
TL84.reversed &lt;- OrderCommunity(TL84, new.order=56:1)
NPS(TL84.reversed)

# Sort alphabetically by category and by increasing M within each category
TL84.category &lt;- OrderCommunity(TL84, 'category', 'M')

# Increasing trophic level, then randomly sorted within trophic level
new.order &lt;- order(PreyAveragedTrophicLevel(TL84), sample(1:56))
TL84.increasing.TL &lt;- OrderCommunity(TL84, new.order=new.order, 
                                     title='Increasing TL')
NPS(TL84.increasing.TL)

# Graphically show the effect of different orders
par(mfrow=c(1,2))
PlotPredationMatrix(TL84.increasing.M)
PlotPredationMatrix(TL84.increasing.TL)
</code></pre>

<hr>
<h2 id='pHWebs'>pHWebs</h2><span id='topic+pHWebs'></span>

<h3>Description</h3>

<p>Ten stream food webs sampled across a large pH gradient.</p>


<h3>Format</h3>

<p><code>CommunityCollection</code>.</p>


<h3>Source</h3>

<p>Layer et al 2010.</p>


<h3>References</h3>

<p>Layer, K. and Riede, J.O. and Hildrew, A.G. and Woodward, G. (2010) Food web 
structure and stability in 20 streams across a wide pH gradient. 
Advances in Ecological Research <b>42</b>, 265&ndash;299.
</p>

<hr>
<h2 id='PlotAuppervAlower'>Plot upper-versus-lower link angles</h2><span id='topic+PlotAuppervAlower'></span>

<h3>Description</h3>

<p>High-level function for plotting upper-versus-lower link angles.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotAuppervAlower(community, 
                  main=CPS(community)$title,
                  xlab=~A[lower], 
                  ylab=~A[upper], 
                  xlim=c(-180, 180),
                  ylim=c(-180, 180), 
                  pch=19, 
                  ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotAuppervAlower_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_main">main</code></td>
<td>
<p>title of the plot</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis.</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_pch">pch</code></td>
<td>
<p>plotting symbol.</p>
</td></tr>
<tr><td><code id="PlotAuppervAlower_+3A_...">...</code></td>
<td>
<p>other values to plot functions.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Cohen, J.E. and Schittler, D.N. and Raffaelli, D.G. and Reuman, 
D.C. (2009) Food webs are more than the sum of their tritrophic parts. 
Proceedings of the National Academy of Sciences of the United States of America 
<b>106</b>, 52, 22335&ndash;22340.</p>


<h3>See Also</h3>

<p><code><a href="#topic+NvMTriTrophicStatistics">NvMTriTrophicStatistics</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
PlotAuppervAlower(TL84)
</code></pre>

<hr>
<h2 id='PlotCircularWeb'>Plot circular web</h2><span id='topic+PlotCircularWeb'></span>

<h3>Description</h3>

<p>High-level function for plotting nodes in a circle.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotCircularWeb(community, 
                clockwise = TRUE, 
                origin.degrees = 0, 
                proportional.radius = 1, 
                frame.plot = FALSE,
                xlim = c(-1,1), 
                ylim = c(-1,1), 
                ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotCircularWeb_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PlotCircularWeb_+3A_clockwise">clockwise</code></td>
<td>
<p>logical - if <code>TRUE</code> nodes are plotted in a 
clockwise order.</p>
</td></tr>
<tr><td><code id="PlotCircularWeb_+3A_origin.degrees">origin.degrees</code></td>
<td>
<p>the angle in degrees at which the first node in 
<code>community</code> will be placed.</p>
</td></tr>
<tr><td><code id="PlotCircularWeb_+3A_proportional.radius">proportional.radius</code></td>
<td>
<p>a value between 0 and 1.</p>
</td></tr>
<tr><td><code id="PlotCircularWeb_+3A_frame.plot">frame.plot</code></td>
<td>
<p>logical.</p>
</td></tr>
<tr><td><code id="PlotCircularWeb_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td></tr> 
<tr><td><code id="PlotCircularWeb_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis.</p>
</td></tr> 
<tr><td><code id="PlotCircularWeb_+3A_...">...</code></td>
<td>
<p>other values to <code>PlotNPS</code>.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+PlotBSpectrum">PlotBSpectrum</a></code>, 
<code><a href="#topic+PlotWagonWheel">PlotWagonWheel</a></code>, 
<code><a href="#topic+PlotNPS">PlotNPS</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotNSpectrum">PlotNSpectrum</a></code>, 
<code><a href="#topic+PlotRankNPS">PlotRankNPS</a></code>, 
<code><a href="#topic+PlotTLPS">PlotTLPS</a></code>, 
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
PlotCircularWeb(TL84)

# Plot the first node at the 6 o'clock position
PlotCircularWeb(TL84, origin.degrees=180)

# Plot the first node at the 6 o'clock position and plot nodes 
# counter-clockwise
PlotCircularWeb(TL84, origin.degrees=180, clockwise=FALSE)
</code></pre>

<hr>
<h2 id='PlotHelpers'>Plot helpers</h2><span id='topic+Log10BLabel'></span><span id='topic+Log10MLabel'></span><span id='topic+Log10NLabel'></span><span id='topic+DefaultCategoryColours'></span><span id='topic+DefaultCategoryLabelColours'></span><span id='topic+DefaultCategorySymbols'></span><span id='topic+DefaultLinkColour'></span><span id='topic+LMabline'></span><span id='topic+PlotLinearModels'></span><span id='topic+FormatLM'></span><span id='topic+PlaceMissingPoints'></span><span id='topic+PlaceMissingPoints'></span>

<h3>Description</h3>

<p>Functions that are useful for customising plots and for creating 
your own plot functions.</p>


<h3>Usage</h3>

<pre><code class='language-R'>Log10BLabel(community, name = "italic(B)", units = with(CPS(community), 
            paste(M.units, "~", N.units)))
Log10MLabel(community, name = "italic(M)", units = CPS(community)$M.units)
Log10NLabel(community, name = "italic(N)", units = CPS(community)$N.units)

DefaultCategoryColours()
DefaultCategoryLabelColours()
DefaultCategorySymbols()
DefaultLinkColour()

PlaceMissingPoints(x, xlim, y, ylim)

LMabline(model, ...)
PlotLinearModels(models, colour.spec, col, ...)
FormatLM(model, slope.95.ci = FALSE, ci.plus.minus.style = FALSE, 
         r = FALSE, r.squared = TRUE, model.var.names = TRUE, dp = 2) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotHelpers_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_name">name</code></td>
<td>
<p>the name that appears in the label.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_units">units</code></td>
<td>
<p>the units that appears in the label.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_x">x</code></td>
<td>
<p>x values.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_y">y</code></td>
<td>
<p>y values.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td></tr> 
<tr><td><code id="PlotHelpers_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis.</p>
</td></tr> 
<tr><td><code id="PlotHelpers_+3A_models">models</code></td>
<td>
<p>a <code>list</code> of <code>lm</code> objects to be plotted.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_colour.spec">colour.spec</code></td>
<td>
<p>either <code>NULL</code> or a named vector that maps values 
of <code>colour.by</code> to plotting values; defaults to the vector returned 
by <code>DefaultCategoryColours</code>.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_col">col</code></td>
<td>
<p>plot colours.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_model">model</code></td>
<td>
<p>an <code>lm</code> object for which a textual description is 
assembled.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_slope.95.ci">slope.95.ci</code></td>
<td>
<p>logical - if <code>TRUE</code> then the 95% confidence 
intervals are included in the description.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_ci.plus.minus.style">ci.plus.minus.style</code></td>
<td>
<p>logical - if <code>TRUE</code> then the 95% confidence 
intervals are shown by a &lsquo;plus-minus&rsquo; sign. If <code>FALSE</code> then the 
confidence intervals are shown by an upper and lower bound.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_r">r</code></td>
<td>
<p>logical - if <code>TRUE</code> then &lsquo;r&rsquo; is included in the description.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_r.squared">r.squared</code></td>
<td>
<p>logical - if <code>TRUE</code> then &lsquo;r squared&rsquo; is included in the 
description.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_model.var.names">model.var.names</code></td>
<td>
<p>logical - if <code>TRUE</code> then the names of the 
dependent and independent variables fitted in the model are included 
in the description. If <code>FALSE</code>, the names &lsquo;x&rsquo; and &lsquo;y&rsquo; are used.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_dp">dp</code></td>
<td>
<p>the number of decimal places to which values are presented.</p>
</td></tr>
<tr><td><code id="PlotHelpers_+3A_...">...</code></td>
<td>
<p>other values passed to plotting functions.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+DefaultCategoryColours">DefaultCategoryColours</a></code>,
<code><a href="#topic+NvMLinearRegressions">NvMLinearRegressions</a></code>, 
<code><a href="#topic+LinearRegressionByClass">LinearRegressionByClass</a></code>, 
<code><a href="stats.html#topic+lm">lm</a></code></p>

<hr>
<h2 id='PlotNPS'>Plot node properties</h2><span id='topic+PlotNPS'></span><span id='topic+PlotBvM'></span><span id='topic+PlotMvB'></span><span id='topic+PlotMvN'></span><span id='topic+PlotNvM'></span>

<h3>Description</h3>

<p>High-level functions for plotting node properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotNPS(community, 
        X,
        Y,
        main = CPS(community)$title, 
        xlab, 
        ylab, 
        xlim = NULL, 
        ylim = NULL, 
        colour.by, 
        colour.spec, 
        col = NULL, 
        symbol.by, 
        symbol.spec, 
        pch = NULL, 
        bg.by, 
        bg.spec, 
        bg = NULL, 
        cex.by = NULL, 
        cex.spec = NULL, 
        cex = NULL, 
        label.colour.by = NULL, 
        label.colour.spec = NULL, 
        label.colour = NULL, 
        link.colour.by = NULL, 
        link.colour.spec = NULL, 
        link.col = NULL, 
        link.line.type.by = NULL, 
        link.line.type.spec = NULL, 
        link.lty = NULL, 
        link.lwd = NULL, 
        highlight.links = NULL, 
        highlight.nodes = Cannibals, 
        lowlight.nodes, 
        show.na = FALSE,
        show.web = TRUE, 
        show.nodes.as = "points", 
        node.labels = NULL, 
        label.cex = 0.6, 
        are.values = FALSE, 
        frame.plot = TRUE,
        ...)

PlotMvN(community, 
        xlab = Log10NLabel(community), 
        ylab = Log10MLabel(community), 
        ...)

PlotNvM(community, 
        xlab = Log10MLabel(community), 
        ylab = Log10NLabel(community), 
        ...)

PlotBvM(community, 
        xlab = Log10MLabel(community), 
        ylab = Log10BLabel(community), 
        ...)

PlotMvB(community, 
        xlab = Log10BLabel(community), 
        ylab = Log10MLabel(community), 
        ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotNPS_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_x">X</code></td>
<td>
<p>the name of a property that is plotted on the x axis. Must meet the 
criteria of the <code>properties</code> parameter of <code>NPS</code>. 
If <code>are.values</code> is <code>TRUE</code> then <code>X</code> and <code>Y</code> should be 
vectors of length <code>NumberOfNodes</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_y">Y</code></td>
<td>
<p>plotted on the y axis; see <code>X</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_main">main</code></td>
<td>
<p>title of the plot.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td></tr> 
<tr><td><code id="PlotNPS_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis.</p>
</td></tr> 
<tr><td><code id="PlotNPS_+3A_colour.by">colour.by</code></td>
<td>
<p>node colours property. Either <code>NULL</code>, a vector of 
length <code>NumberOfNodes</code> or the name of a property that meets the 
criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_colour.spec">colour.spec</code></td>
<td>
<p>node colours specification. Either <code>NULL</code> or a named 
vector that maps values of <code>colour.by</code> to plotting values.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_col">col</code></td>
<td>
<p>node colours.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_symbol.by">symbol.by</code></td>
<td>
<p>node symbols property; must meet the criteria of 
<code>colour.by</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_symbol.spec">symbol.spec</code></td>
<td>
<p>node symbols specification.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_pch">pch</code></td>
<td>
<p>node symbols.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_bg.by">bg.by</code></td>
<td>
<p>node background colours property; must meet the criteria of 
<code>colour.by</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_bg.spec">bg.spec</code></td>
<td>
<p>node background colours specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_bg">bg</code></td>
<td>
<p>node background colours.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_cex.by">cex.by</code></td>
<td>
<p>node cex values property; must meet the criteria of 
<code>colour.by</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_cex.spec">cex.spec</code></td>
<td>
<p>node cex values specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_cex">cex</code></td>
<td>
<p>node cex values.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_label.colour.by">label.colour.by</code></td>
<td>
<p>node label colours property; must meet the criteria 
of <code>colour.by</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_label.colour.spec">label.colour.spec</code></td>
<td>
<p>node label colours specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_label.colour">label.colour</code></td>
<td>
<p>node label colours.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.colour.by">link.colour.by</code></td>
<td>
<p>link colours; either <code>NULL</code>, a vector of 
length <code>NumberOfTrophicLinks</code> or the name of a property 
that meets the criteria of the <code>link.properties</code> parameter of 
<code>TLPS</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.colour.spec">link.colour.spec</code></td>
<td>
<p>link line colour specification; either 
<code>NULL</code> or a named vector that maps values of <code>link.colour.by</code> to 
plotting values.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.col">link.col</code></td>
<td>
<p>link colours.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.line.type.by">link.line.type.by</code></td>
<td>
<p>link link types; must meet the criteria of 
<code>link.colour.by</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.line.type.spec">link.line.type.spec</code></td>
<td>
<p>link line type specification; must meet the 
criteria of <code>link.colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.lty">link.lty</code></td>
<td>
<p>link line types.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_link.lwd">link.lwd</code></td>
<td>
<p>line line widths.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_highlight.links">highlight.links</code></td>
<td>
<p>either <code>NULL</code>, a vector of length 
<code>NumberOfNodes</code> or a name that meets the criteria of the 
<code>properties</code> paremeter of <code>NPS</code>..</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_highlight.nodes">highlight.nodes</code></td>
<td>
<p>nodes to be highlighted; either <code>NULL</code>, a vector 
of node names, a vector of node indices or a function that takes a 
<code>Community</code> as its only parameter and returns a vector of either 
node names or indices.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_lowlight.nodes">lowlight.nodes</code></td>
<td>
<p>nodes to be lowlighted; must meet the criteria of 
<code>highlight.nodes</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_show.na">show.na</code></td>
<td>
<p>logical - if <code>TRUE</code> then nodes for which <code>X</code> and/or 
<code>Y</code> is <code>NA</code> will be placed at the lowest extent of the relevant 
axis using the <code>PlaceMissingPoints</code> function. If <code>FALSE</code> then 
these nodes will not be plotted.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_show.web">show.web</code></td>
<td>
<p>logical - if <code>TRUE</code> and <code>community</code> has trophic 
links then the food web is plotted using the <code>link*</code> and 
<code>highlight.links</code> parameters</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_show.nodes.as">show.nodes.as</code></td>
<td>
<p>how nodes should be plotted. One of 
</p>

<ol>
<li> <p><code>"points"</code> for symbols, 
</p>
</li>
<li> <p><code>"labels"</code> for text (see <code>node.labels</code>, <code>label.cex</code> 
and <code>label.colour</code>), 
</p>
</li>
<li> <p><code>"points"</code> for symbols and text.
</p>
</li></ol>
</td></tr>
<tr><td><code id="PlotNPS_+3A_node.labels">node.labels</code></td>
<td>
<p>Either <code>NULL</code>, a vector of length 
<code>NumberOfNodes</code> or a name that meets the criteria of the 
<code>properties</code> paremeter of <code>NPS</code>. If <code>NULL</code> node labels 
are <code>1:NumberOfNodes</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_label.cex">label.cex</code></td>
<td>
<p>a character expansion factor; used only if 
<code>show.nodes.as</code> is equal to &quot;points&quot;.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_are.values">are.values</code></td>
<td>
<p>logical - if <code>TRUE</code> <code>X</code> and <code>Y</code> must be 
vectors of values of length <code>NumberOfNodes</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_frame.plot">frame.plot</code></td>
<td>
<p>logical - default <code>TRUE</code>.</p>
</td></tr>
<tr><td><code id="PlotNPS_+3A_...">...</code></td>
<td>
<p>other values to plot functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The general-purpose function <code>PlotNPS</code> plots one 
node property against another.
</p>
<p>For <code>colour.by</code>, <code>symbol.by</code>, <code>bg.by</code>, <code>cex.by</code> and 
<code>label.colour.by</code>, if <code>X.by</code> is not <code>NULL</code> and a relevant 
<code>X.spec</code> is not given, the <code>X.by</code> values are converted to a 
<code>factor</code>, the levels of which are used as the plot parameter. 
An error is raised if <code>X.by</code> contains any values not present in 
<code>X.spec</code>.
</p>
<p>If <code>colour.by</code>/<code>bg.by</code>/<code>symbol.by</code> is <code>NULL</code> and 
<code>community</code> has a node property named &lsquo;category&rsquo; then node 
colours/background colours/symbols are given by &lsquo;category&rsquo; using the 
<code>colour.spec</code>/<code>bg.spec</code>/<code>symbol.spec</code> given by 
<code>DefaultCategoryColours</code>/<code>DefaultCategorySymbols</code>.
</p>
<p><code>label.colour.by</code>, <code>node.labels</code> and <code>label.cex</code> are used only 
if <code>show.nodes.as</code> is equal to &quot;points&quot;.
</p>
<p>The convenience functions <code>PlotMvN</code>, <code>PlotNvM</code>, <code>PlotBvM</code> and 
<code>PlotMvB</code> are &lsquo;wrappers&rsquo; around <code>PlotNPS</code> that plot 
log10-transformed body mass (M), numerical abundance (N) or biomass (B). 
All of the parameters of <code>PlotNPS</code>, with the exception of 
<code>X</code>, <code>Y</code> and <code>are.values</code>, can be used with these four 
functions.
</p>
<p>If <code>show.nodes.as</code> is equal to &quot;points&quot; then labels are plotted using 
<code>label.cex</code> and <code>label.colour</code>.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+DefaultCategoryColours">DefaultCategoryColours</a></code>, 
<code><a href="#topic+DefaultCategorySymbols">DefaultCategorySymbols</a></code>, 
<code><a href="#topic+PlotBSpectrum">PlotBSpectrum</a></code>, 
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotNSpectrum">PlotNSpectrum</a></code>, 
<code><a href="#topic+PlotRankNPS">PlotRankNPS</a></code>, 
<code><a href="#topic+PlotTLPS">PlotTLPS</a></code>, 
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code>
<code><a href="#topic+PlaceMissingPoints">PlaceMissingPoints</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
PlotNvM(TL84)

# Set colours and plot symbols directly
PlotNvM(TL84, col=1, pch=19, highlight.nodes=NULL)

# Plot each level of taxonomic resolution in a different colour
PlotNvM(TL84, colour.by='resolved.to', pch=19, highlight.nodes=NULL)

# Plot each level of taxonomic resolution in a specific colour
colour.spec &lt;- c(Species='purple3', Genus='green3', 'red3')
PlotNvM(TL84, colour.by='resolved.to', colour.spec=colour.spec, pch=19, 
        highlight.nodes=NULL)
legend("topright", legend=names(colour.spec), pch=19, col=colour.spec)

# Use PlotNPS to plot trophic height against log10 body mass
PlotNPS(TL84, 'Log10M', 'TrophicHeight', xlab=Log10MLabel(TL84), 
        ylab='Trophic height')


# The 'POM (detritus)' node in the Ythan Estuary dataset lacks both body mass 
# and numerical abundance.
par(mfrow=c(1,2))
data(YthanEstuary)
PlotNvM(YthanEstuary)
PlotNvM(YthanEstuary, show.na=TRUE)
</code></pre>

<hr>
<h2 id='PlotNPSDistribution'>Plot distributions of node properties</h2><span id='topic+PlotNPSDistribution'></span><span id='topic+PlotBDistribution'></span><span id='topic+PlotMDistribution'></span><span id='topic+PlotNDistribution'></span><span id='topic+PlotDegreeDistribution'></span>

<h3>Description</h3>

<p>High-level functions for plotting distributions of node 
properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotNPSDistribution(community, 
                    property, 
                    main = CPS(community)$title, 
                    density.args = list(), 
                    ...)

PlotBDistribution(community, 
                  xlab = Log10BLabel(community), 
                  ...)

PlotMDistribution(community, 
                  xlab = Log10MLabel(community), 
                  ...)

PlotNDistribution(community, 
                  xlab = Log10NLabel(community), 
                  ...)

PlotDegreeDistribution(community, 
                       xlab = "Number of links", 
                       ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotNPSDistribution_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PlotNPSDistribution_+3A_property">property</code></td>
<td>
<p>the name of a property that is plotted on the y axis. Must 
meet the criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="PlotNPSDistribution_+3A_main">main</code></td>
<td>
<p>title of the plot.</p>
</td></tr>
<tr><td><code id="PlotNPSDistribution_+3A_density.args">density.args</code></td>
<td>
<p>arguments passed to R's <code>density</code> function.</p>
</td></tr>
<tr><td><code id="PlotNPSDistribution_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="PlotNPSDistribution_+3A_...">...</code></td>
<td>
<p>other values to plot functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The convenience functions <code>PlotBDistribution</code>, 
<code>PlotMDistribution</code> and <code>PlotNDistribution</code> are wrappers around 
<code>PlotNPSDistribution</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+DegreeDistribution">DegreeDistribution</a></code>, 
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>, 
<code><a href="#topic+PlotNPS">PlotNPS</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotRankNPS">PlotRankNPS</a></code>, 
<code><a href="#topic+PlotTLPS">PlotTLPS</a></code>, 
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

PlotMDistribution(TL84)

# A bandwidth of 3
PlotMDistribution(TL84, density.args=list(bw=3))

PlotDegreeDistribution(TL84)
</code></pre>

<hr>
<h2 id='PlotRankNPS'>Plot rank of node properties</h2><span id='topic+PlotRankNPS'></span><span id='topic+PlotBvRankB'></span><span id='topic+PlotMvRankM'></span><span id='topic+PlotNvRankN'></span>

<h3>Description</h3>

<p>High-level functions for plotting value-versus-rank of node 
properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotRankNPS(community, 
            property, 
            rank.by=property, 
            log10.rank = FALSE, 
            xlab, 
            ylab, 
            show.web=FALSE, 
            ...)

PlotMvRankM(community, 
            log10.rank = FALSE, 
            xlab, 
            ylab, 
            ...)

PlotNvRankN(community, 
            log10.rank = FALSE, 
            xlab, 
            ylab, 
            ...)

PlotBvRankB(community, 
            log10.rank = FALSE, 
            xlab, 
            ylab, 
            ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotRankNPS_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_property">property</code></td>
<td>
<p>the name of a property that is plotted on the y axis. Must 
meet the criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_rank.by">rank.by</code></td>
<td>
<p>the name of a property by which points are ordered along the 
x axis. Must meet the criteria of the <code>properties</code> parameter of 
<code>NPS</code>.</p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_log10.rank">log10.rank</code></td>
<td>
<p>logical - if <code>TRUE</code> the rank values plotted on the 
x axis are log10-transformed.</p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_show.web">show.web</code></td>
<td>
<p>logical - if <code>TRUE</code> and <code>community</code> has trophic 
links then the food web is plotted using the <code>link*</code> and 
<code>highlight.links</code> parameters</p>
</td></tr>
<tr><td><code id="PlotRankNPS_+3A_...">...</code></td>
<td>
<p>other values to <code>PlotNPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The convenience functions <code>PlotMvRankM</code>, <code>PlotNvRankN</code> and 
<code>PlotBvRankB</code> are &lsquo;wrappers&rsquo; around <code>PlotRankNPS</code> that plot rank 
log10-transformed body mass (M), numerical abundance (N) or biomass (B).</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+PlotBSpectrum">PlotBSpectrum</a></code>, 
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>, 
<code><a href="#topic+PlotNPS">PlotNPS</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotNSpectrum">PlotNSpectrum</a></code>, 
<code><a href="#topic+PlotTLPS">PlotTLPS</a></code>, 
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
PlotNvRankN(TL84)

# log10(N) against log10(rank of M)
PlotRankNPS(TL84, property='Log10N', rank.by='M', log10.rank=TRUE)


# The 'POM (detritus)' node in the Ythan Estuary dataset lacks body mass.
par(mfrow=c(1,2))
data(YthanEstuary)
PlotMvRankM(YthanEstuary)
PlotMvRankM(YthanEstuary, show.na=TRUE)
</code></pre>

<hr>
<h2 id='PlotTLPS'>Plot trophic-link properties</h2><span id='topic+PlotTLPS'></span><span id='topic+PlotPredationMatrix'></span><span id='topic+PlotBCvBR'></span><span id='topic+PlotBRvBC'></span><span id='topic+PlotMCvMR'></span><span id='topic+PlotMRvMC'></span><span id='topic+PlotNCvNR'></span><span id='topic+PlotNRvNC'></span>

<h3>Description</h3>

<p>High-level functions for plotting trophic link properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotTLPS(community, 
         X, 
         Y,
         xlab, 
         ylab, 
         axes.limits.equal = FALSE,
         xlim = NULL, 
         ylim = NULL, 
         main = CPS(community)$title, 
         highlight.links = NULL, 
         lowlight.links = NULL, 
         colour.by, 
         colour.spec, 
         col = NULL, 
         symbol.by, 
         symbol.spec, 
         pch = NULL, 
         bg.by, 
         bg.spec, 
         bg = NULL, 
         cex.by = NULL, 
         cex.spec = NULL, 
         cex = NULL, 
         are.values = FALSE,
         ...)

PlotPredationMatrix(community, 
                    xlab='Consumer', 
                    ylab='Resource', 
                    resource.order,
                    consumer.order,
                    ...)

PlotMRvMC(community, 
          xlab=Log10MLabel(community, name='italic(M)[consumer]'),
          ylab=Log10MLabel(community, name='italic(M)[resource]'),
          axes.limits.equal = TRUE,
          ...)

PlotMCvMR(community, 
          xlab=Log10MLabel(community, name='italic(M)[resource]'),
          ylab=Log10MLabel(community, name='italic(M)[consumer]'),
          axes.limits.equal = TRUE,
          ...)

PlotNRvNC(community, 
          xlab=Log10NLabel(community, name='italic(N)[consumer]'),
          ylab=Log10NLabel(community, name='italic(N)[resource]'),
          axes.limits.equal = TRUE,
          ...)

PlotNCvNR(community, 
          xlab=Log10NLabel(community, name='italic(N)[resource]'),
          ylab=Log10NLabel(community, name='italic(N)[consumer]'),
          axes.limits.equal = TRUE,
          ...)

PlotBRvBC(community, 
          xlab=Log10BLabel(community, name='italic(B)[consumer]'),
          ylab=Log10BLabel(community, name='italic(B)[resource]'),
          axes.limits.equal = TRUE,
          ...)

PlotBCvBR(community, 
          xlab=Log10BLabel(community, name='italic(B)[resource]'),
          ylab=Log10BLabel(community, name='italic(B)[consumer]'),
          axes.limits.equal = TRUE,
          ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotTLPS_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_x">X</code></td>
<td>
<p>the name of a node or link property to plot on the x axis. 
If the name begins with 'resource.' or 'consumer.', the remainder of the 
name is assumed to be a node property and should meet the criteria of the 
<code>node.properties</code> parameter of <code>TLPS</code>, otherwise the name 
is assumed to be a link property and should meet the criteria of the 
<code>link.properties</code> parameter of <code>TLPS</code>. 
</p>
<p>If <code>are.values</code> is <code>TRUE</code> then <code>X</code> and <code>Y</code> should be 
vectors of length <code>NumberOfTrophicLinks</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_y">Y</code></td>
<td>
<p>plotted on the y axis; see <code>X</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_axes.limits.equal">axes.limits.equal</code></td>
<td>
<p>logical - if <code>TRUE</code> and <code>xlim</code> and 
<code>ylim</code> are <code>NULL</code> then the limits of the x and y axes will be 
the same.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis</p>
</td></tr> 
<tr><td><code id="PlotTLPS_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis</p>
</td></tr> 
<tr><td><code id="PlotTLPS_+3A_main">main</code></td>
<td>
<p>title of the plot</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_highlight.links">highlight.links</code></td>
<td>
<p>trophic links to be highlighted; either <code>NULL</code>, 
a vector of trophic link indices or a function that takes a 
<code>Community</code> as its only parameter and returns a <code>data.frame</code> 
containing the columns &lsquo;resource&rsquo; and &lsquo;consumer&rsquo;, which should 
contain node names.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_lowlight.links">lowlight.links</code></td>
<td>
<p>trophic links to be lowlighted; should meet criteria 
of <code>lowlight.links</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_colour.by">colour.by</code></td>
<td>
<p>trophic link colours property. Either <code>NULL</code>, a vector 
of length <code>NumberOfTrophicLinks</code> or a name. If the name begins with 
'resource.' or 'consumer.', the remainder of the name is assumed to be a 
node property and should meet the criteria of the <code>node.properties</code> 
parameter of <code>TLPS</code>, otherwise the name is assumed to be a link 
property and should meet the criteria of the <code>link.properties</code> 
parameter of <code>TLPS</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_colour.spec">colour.spec</code></td>
<td>
<p>trophic links colours specification. either <code>NULL</code> 
or a named vector that maps values of <code>colour.by</code> to plotting values.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_col">col</code></td>
<td>
<p>trophic links colours.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_symbol.by">symbol.by</code></td>
<td>
<p>trophic links symbols property; must meet the criteria of 
<code>colour.by</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_symbol.spec">symbol.spec</code></td>
<td>
<p>trophic links symbols specification specification; must 
meet the criteria of <code>colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_pch">pch</code></td>
<td>
<p>trophic links symbols.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_bg.by">bg.by</code></td>
<td>
<p>trophic links background colours property; must meet the 
criteria of <code>colour.by</code></p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_bg.spec">bg.spec</code></td>
<td>
<p>trophic links background colours specification; must meet the 
criteria of <code>colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_bg">bg</code></td>
<td>
<p>trophic links background colours.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_cex.by">cex.by</code></td>
<td>
<p>trophic links cex property; must meet the criteria of 
<code>colour.by</code></p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_cex.spec">cex.spec</code></td>
<td>
<p>cex values specification; must meet the criteria of 
<code>colour.spec</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_cex">cex</code></td>
<td>
<p>cex values.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_are.values">are.values</code></td>
<td>
<p>logical - if <code>TRUE</code> <code>X</code> and <code>Y</code> must be 
vectors of values of length <code>NumberOfTrophicLinks</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_resource.order">resource.order</code></td>
<td>
<p>the order in which to show resources. Either missing, 
which implies the native node order, a vector of length 
<code>NumberOfTrophicLinks</code> containing the integer order of resources, 
or the name of a property that meets the criteria of the <code>properties</code> 
parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_consumer.order">consumer.order</code></td>
<td>
<p>the order in which to show consumer; requirements 
are the same as <code>resource.order</code>.</p>
</td></tr>
<tr><td><code id="PlotTLPS_+3A_...">...</code></td>
<td>
<p>other values to plot functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The general-purpose function <code>PlotTLPS</code> plots one trophic-link 
property against another.
</p>
<p>If <code>colour.by</code>/<code>bg.by</code>/<code>symbol.by</code> is <code>NULL</code> and 
<code>community</code> has a node property named &lsquo;category&rsquo; then trophic-link 
colours/background colours/symbols are given by &lsquo;resource.category&rsquo; using 
<code>colour.spec</code>/<code>bg.spec</code>/<code>symbol.spec</code> given by 
<code>DefaultCategoryColours</code>/<code>DefaultCategorySymbols</code>.
</p>
<p><code>PlotPredationMatrix</code> shows trophic links as a binary matrix with species 
shown in node order, starting at the top-left. If <code>row.node</code> and 
<code>col.order</code> are both missing (the default) or are the same, then a 
dashed diagonal line is drawn. Points on the dashed line indicate 
cannibalistic trophic links.
</p>
<p>The convenience functions <code>PlotMRvMC</code>, <code>PlotMCvMR</code>, <code>PlotNRvNC</code>, 
<code>PlotNCvNR</code>, <code>PlotBRvBC</code>, <code>PlotBCvBR</code> are &lsquo;wrappers&rsquo; around 
<code>PlotRankNPS</code> that plot a log10-transformed body mass, M, numerical 
abundance, N, or biomass abundance, B.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+TLPS">TLPS</a></code>, 
<code><a href="#topic+PlotBSpectrum">PlotBSpectrum</a></code>, 
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>, 
<code><a href="#topic+PlotNPS">PlotNPS</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotNSpectrum">PlotNSpectrum</a></code>, 
<code><a href="#topic+PlotRankNPS">PlotRankNPS</a></code>, 
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# The predation matrix
PlotPredationMatrix(TL84)

# The predation matrix with rows ordered by body mass
PlotPredationMatrix(TL84, resource.order='M')

# Colours and symbols by resource.category
PlotMCvMR(TL84)

# Colours and symbols by consumer.category
PlotMCvMR(TL84, bg.by='consumer.category', symbol.by='consumer.category', 
          colour.by='consumer.category')

# Consumer trophic height against resource log10(M)
PlotTLPS(TL84, 'resource.Log10M', 'consumer.TrophicHeight')

# Log10(M of resource / M of consumer) against consumer log10(M)
PlotTLPS(TL84, 'consumer.Log10M', 'Log10RCMRatio')
</code></pre>

<hr>
<h2 id='PlotWagonWheel'>Plot wagon wheel</h2><span id='topic+PlotWagonWheel'></span>

<h3>Description</h3>

<p>Plot a nodes as concentric circles around a focal node.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotWagonWheel(community,
               focus,
               clockwise=TRUE,
               origin.degrees=0,
               frame.plot=FALSE,
               main=NULL,
               ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotWagonWheel_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PlotWagonWheel_+3A_focus">focus</code></td>
<td>
<p>the node to be placed at the centre of the plot - a node name or
integer index.</p>
</td></tr>
<tr><td><code id="PlotWagonWheel_+3A_clockwise">clockwise</code></td>
<td>
<p>logical - if <code>TRUE</code> nodes are plotted in a
clockwise order.</p>
</td></tr>
<tr><td><code id="PlotWagonWheel_+3A_origin.degrees">origin.degrees</code></td>
<td>
<p>the angle in degrees at which the first node in
<code>community</code> will be placed.</p>
</td></tr>
<tr><td><code id="PlotWagonWheel_+3A_frame.plot">frame.plot</code></td>
<td>
<p>logical.</p>
</td></tr>
<tr><td><code id="PlotWagonWheel_+3A_main">main</code></td>
<td>
<p>the plot's title.</p>
</td></tr>
<tr><td><code id="PlotWagonWheel_+3A_...">...</code></td>
<td>
<p>other values to <code>PlotNPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The node given in <code>focus</code> is plotted at the centre of the
wagon wheel. Other nodes in the community are plotted in concentric circles
that are one, two, three etc trophic links away from the focus. Isolated
nodes - those with no resources or consumers, other than possibly themselves - 
are not shown.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>,
<code><a href="#topic+Degree">Degree</a></code>,
<code><a href="#topic+IsolatedNodes">IsolatedNodes</a></code>,
<code><a href="#topic+OrderCommunity">OrderCommunity</a></code>,
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>,
<code><a href="#topic+PlotNPS">PlotNPS</a></code>,
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code>,
<code><a href="grDevices.html#topic+rgb">rgb</a></code>,
<code><a href="#topic+ShortestPaths">ShortestPaths</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
# Ploesoma sp. is the focal species
PlotWagonWheel(TL84, 'Ploesoma sp.')

# Show nodes as numbers
PlotWagonWheel(TL84, 'Ploesoma sp.', show.nodes.as='labels')

# 'Daphnia pulex' is the focus, nodes ordered by degree (total number of
# trophic links), lines partially transparent
PlotWagonWheel(OrderCommunity(TL84, 'Degree'), 'Daphnia pulex',
               show.nodes.as='labels', link.col=rgb(0.8,0.8,0.8,0.5))


</code></pre>

<hr>
<h2 id='PlotWebByLevel'>Plot web by level</h2><span id='topic+PlotWebByLevel'></span>

<h3>Description</h3>

<p>A high-level function for plotting a food-web by vertically with 
the lowest trophic-level nodes at the bottom.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotWebByLevel(community, 
               level='PreyAveragedTrophicLevel', 
               max.nodes.per.row=20,
               round.levels.to.nearest=0.2,
               stagger=0.1, 
               x.layout='wide', 
               y.layout='compress', 
               show.level.labels=TRUE,
               show.level.lines=FALSE, 
               xaxt='n', 
               yaxt='n', 
               xlab='', 
               ylab='', 
               frame.plot=FALSE,
               ylim=NULL,
               ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PlotWebByLevel_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_level">level</code></td>
<td>
<p>either a function, a name that meets the criteria of the 
<code>properties</code> parameter of <code>NPS</code> or a vector of length 
<code>NumberOfNodes</code>, which must contain numbers greater than 0.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_max.nodes.per.row">max.nodes.per.row</code></td>
<td>
<p>a number greater than 2.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_round.levels.to.nearest">round.levels.to.nearest</code></td>
<td>
<p>a number greater or equal to 0 and less than 
1.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_stagger">stagger</code></td>
<td>
<p>a number greater or equal to 0 and less than 1. Only used if 
<code>y.layout</code> is 'stagger'.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_x.layout">x.layout</code></td>
<td>
<p>'skinny', 'narrow' or 'wide'.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_y.layout">y.layout</code></td>
<td>
<p>'stagger' or 'compress'. Only has an effect if 
<code>round.levels.to.nearest</code> is greater than 0.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_show.level.labels">show.level.labels</code></td>
<td>
<p>logical - if <code>TRUE</code> then integer values of 
<code>level</code> are shown to the left of the plot.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_show.level.lines">show.level.lines</code></td>
<td>
<p>logical - if <code>TRUE</code> then a horizontal line 
is drawn for each unique value of <code>level</code>.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_xaxt">xaxt</code></td>
<td>
<p>a character that specifies the type of the x axis.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_yaxt">yaxt</code></td>
<td>
<p>a character that specifies the type of the y axis.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_frame.plot">frame.plot</code></td>
<td>
<p>logical - if <code>TRUE</code> then a border is drawn around 
the plot.</p>
</td></tr>
<tr><td><code id="PlotWebByLevel_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis</p>
</td></tr> 
<tr><td><code id="PlotWebByLevel_+3A_...">...</code></td>
<td>
<p>other values to <code>PlotNPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>round.levels.to.nearest</code> is greater than 0, values in 
<code>level</code> are rounded to the nearest <code>round.levels.to.nearest</code>. 
Rounded values are used by the <code>x.layout</code> and <code>y.layout</code> engines.
</p>
<p>If <code>x.layout</code> is 'skinny' then nodes are spaced one x unit apart and 
<code>max.nodes.per.row</code> is ignored. If <code>x.layout</code> is 'narrow', 
nodes are spaced one x unit apart if fewer than <code>max.nodes.per.row</code> on 
that row, otherwise nodes are squashed in to the available x space. If 
<code>x.layout</code> is 'wide', nodes are spaced widely.
</p>
<p>If <code>y.layout</code> is 'compress', then nodes are always shown at the values in 
<code>level</code>. If <code>y.layout</code> is 'stagger' and there are more than 
<code>max.nodes.per.row</code> on a <code>level</code> then the plotted levels are 
staggered by the values in <code>stagger</code>. 
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+PlotBSpectrum">PlotBSpectrum</a></code>, 
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>, 
<code><a href="#topic+PlotNPS">PlotNPS</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotNSpectrum">PlotNSpectrum</a></code>, 
<code><a href="#topic+PlotRankNPS">PlotRankNPS</a></code>, 
<code><a href="#topic+PlotTLPS">PlotTLPS</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># Compare prey-averaged and chain-averaged trophic level
data(TL84)
par(mfrow=c(1,2))
PlotWebByLevel(TL84, ylim=c(1,5.8), main='Prey-averaged')
PlotWebByLevel(TL84, ylim=c(1,5.8), level='ChainAveragedTrophicLevel', 
               main='Chain-averaged')

# Compare the three different x layouts
par(mfrow=c(1,3))
for(x.layout in c('skinny', 'narrow', 'wide'))
{
    PlotWebByLevel(TL84, x.layout=x.layout, main=x.layout)
}

# Compare the effect of round levels before plotting
# Different x-spacing of the four nodes around level 3
par(mfrow=c(1,2))
PlotWebByLevel(TL84, round.levels.to.nearest=0.2)
PlotWebByLevel(TL84, round.levels.to.nearest=0)

# Compare the effect of staggering levels
# Primary producers are staggered in the second plot
par(mfrow=c(1,2))
# No staggering - stagger and max.nodes.per.row are ignored
PlotWebByLevel(TL84, y.layout='compress')
# Stagger
PlotWebByLevel(TL84, y.layout='stagger', stagger=0.1, 
               max.nodes.per.row=20)
</code></pre>

<hr>
<h2 id='PredationMatrix'>Predation matrix</h2><span id='topic+PredationMatrix'></span>

<h3>Description</h3>

<p>Returns a predation matrix.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PredationMatrix(community, weight=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PredationMatrix_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="PredationMatrix_+3A_weight">weight</code></td>
<td>
<p>either the name of a first-class link property or the name of 
a function that meets the specification of the <code>link.properties</code> 
parameter of <code>TLPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a square matrix with <code>NumberOfNodes</code> rows and columns. 
If <code>weight</code> is <code>NULL</code> then a binary matrix, in which elements are 
either 0 or 1, is returned; 1 indicates a trophic link from a resource 
(row) to a consumer (column). If <code>weight</code> is not <code>NULL</code> then elements 
of the returned matrix will be set to the values given by <code>weight</code>. 
Row names and column names of the returned <code>matrix</code> are node names. 
</p>


<h3>Value</h3>

<p>A square <code>matrix</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+PlotPredationMatrix">PlotPredationMatrix</a></code>, 
<code><a href="#topic+TLPS">TLPS</a></code>, 
<code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, 
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code>, 
<code><a href="#topic+ResourcesByNode">ResourcesByNode</a></code>, 
<code><a href="#topic+ConsumersByNode">ConsumersByNode</a></code>,
<code><a href="#topic+PredationMatrixToLinks">PredationMatrixToLinks</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# A square matrix of NumberOfNodes rows and columns
dim(PredationMatrix(TL84))
NumberOfNodes(TL84)

# Should contain NumberOfTrophicLinks links
sum(PredationMatrix(TL84))
NumberOfTrophicLinks(TL84)

# Compare an unweighted matrix and a matrix weighted by diet fraction
data(Benguela)

PredationMatrix(Benguela)
PredationMatrix(Benguela, weight='diet.fraction')
</code></pre>

<hr>
<h2 id='PredationMatrixToLinks'>Predation matrix to trophic links</h2><span id='topic+PredationMatrixToLinks'></span>

<h3>Description</h3>

<p>A function that converts a predation matrix to a 
<code>data.frame</code> with the columns &lsquo;resource&rsquo; and &lsquo;consumer&rsquo;.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PredationMatrixToLinks(pm, link.property=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="PredationMatrixToLinks_+3A_pm">pm</code></td>
<td>
<p>a <code>matrix</code> or <code>data.frame</code>.</p>
</td></tr>
<tr><td><code id="PredationMatrixToLinks_+3A_link.property">link.property</code></td>
<td>
<p>either <code>NULL</code> or a character.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a <code>data.frame</code> of trophic links contained within
<code>pm</code>. Non-zero and non-<code>NA</code> values indicate a trophic link between 
a resource (row) and consumer (column). <code>pm</code> should have both row names 
and column names. The returned <code>data.frame</code> will contain the columns 
&lsquo;resource&rsquo; and &lsquo;consumer&rsquo;. If <code>pm</code> contains quantitative information 
such as diet fractions or number of observations then you can set 
<code>link.property</code> to the name of the quantity and the returned 
<code>data.frame</code> will include a column with that name, that contains link 
strength values extracted from <code>pm</code>.
</p>
<p>If you have existing food-web data in predation-matrix form then this function 
can help to import your data in to Cheddar.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code></p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, 
<code><a href="#topic+TLPS">TLPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

links &lt;- PredationMatrixToLinks(PredationMatrix(TL84))
identical(links, TLPS(TL84))    # TRUE

# Create a Cheddar community from an existing square predation matrix
node &lt;- c('Leaf', 'Caterpillar', 'Bluetit')
pm &lt;- matrix( c(0, 1, 0,
                0, 0, 1,
                0, 0, 0), 
             ncol=3, byrow=TRUE, dimnames=list(node, node))

community1 &lt;- Community(nodes=data.frame(node=node),
                        trophic.links=PredationMatrixToLinks(pm),
                        properties=list(title='Test community'))
TLPS(community1)

# The same set of trophic links could be represented by a non-square predation 
# matrix
pm &lt;- matrix( c(1, 0,
                0, 1), 
             ncol=2, byrow=TRUE, 
             dimnames=list(node[1:2], node[2:3]))

community2 &lt;- Community(nodes=data.frame(node=node),
                        trophic.links=PredationMatrixToLinks(pm),
                        properties=list(title='Test community'))
TLPS(community2)

all.equal(community1, community2)    # TRUE

# Extract quantitative information
node &lt;- c('Leaf 1', 'Leaf 2', 'Caterpillar 1', 'Caterpillar 2')
pm &lt;- matrix( c(0, 0, 0.4, 0.8, 
                0, 0, 0.6, 0.2, 
                0, 0, 0,   0, 
                0, 0, 0,   0), 
             ncol=4, byrow=TRUE, dimnames=list(node, node))

# A data.frame that has a column called diet.fraction
PredationMatrixToLinks(pm, link.property='diet.fraction')
</code></pre>

<hr>
<h2 id='Pyramid+20plots'>Pyramid plots</h2><span id='topic+PlotBPyramid'></span><span id='topic+PlotNPyramid'></span>

<h3>Description</h3>

<p>High-level functions that create pyramid plots.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotBPyramid(community, 
             level = floor(PreyAveragedTrophicLevel(community)),
             expected.levels,
             fill.missing.levels = TRUE,
             order.by.expected = TRUE,
             show.level.labels = TRUE, 
             xlab = Log10BLabel(community, name=expression(~sum(italic(B)))), 
             ylab = "", 
             xlim = NULL, 
             col = NULL, 
             text.col = 'black',
             main = CPS(community)$title,
             ...)

PlotNPyramid(community, 
             level = floor(PreyAveragedTrophicLevel(community)),
             expected.levels,
             fill.missing.levels = TRUE,
             order.by.expected = TRUE,
             show.level.labels = TRUE, 
             xlab = Log10NLabel(community, name=expression(~sum(italic(N)))),
             ylab = "", 
             xlim = NULL, 
             col = NULL, 
             text.col = 'black',
             main = CPS(community)$title,
             ...)

</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Pyramid+2B20plots_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_level">level</code></td>
<td>
<p>levels by which values are summed. Can be either the name of a 
node property, in which case it must meet the criteria of the 
<code>properties</code> parameter of <code>NPS</code>, or a vector of length 
<code>NumberOfNodes</code> that contains the levels.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_expected.levels">expected.levels</code></td>
<td>
<p>the values that are expected to be in <code>level</code>; 
see Details for more information.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_fill.missing.levels">fill.missing.levels</code></td>
<td>
<p>if <code>TRUE</code>, values in <code>expected.levels</code> 
that are not present in <code>level</code> are shown in the pyramid.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_order.by.expected">order.by.expected</code></td>
<td>
<p>if <code>TRUE</code> then the levels are plotted in 
the order given in <code>expected.levels</code>.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_show.level.labels">show.level.labels</code></td>
<td>
<p>logical - if <code>TRUE</code> then values of <code>level</code> 
are shown to the left of the pyramid.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td></tr> 
<tr><td><code id="Pyramid+2B20plots_+3A_col">col</code></td>
<td>
<p>fill colour; either a single colour a vector containing a colour 
per <code>level</code>.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_text.col">text.col</code></td>
<td>
<p>colour for the text showing the log10-transformed sums in the 
blocks of the pyramid; ; either a single colour a vector containing a 
colour per <code>level</code>.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_main">main</code></td>
<td>
<p>title of the plot.</p>
</td></tr>
<tr><td><code id="Pyramid+2B20plots_+3A_...">...</code></td>
<td>
<p>other values to plot functions.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>PlotBPyramid</code> plots log10-transformed sum biomass abundance in 
each <code>level</code> and <code>PlotNPyramid</code> plots log10-transformed sum 
numerical abundance in each <code>level</code>.
</p>
<p><code>expected.levels</code> provides two behaviours. First, it provides error 
checking: an error is raised if values are in <code>level</code> that 
are not in <code>expected.levels</code>. Second, it interacts with 
<code>fill.missing.levels</code> and <code>order.by.expected</code> to control which levels 
are drawn and how. If <code>fill.missing.levels</code> is <code>TRUE</code> then values 
in <code>expected.levels</code> that are not present in <code>level</code> are shown on the 
pyramid plot. If <code>order.by.level</code> is <code>TRUE</code> then the levels are 
plotted in the order given in <code>expected.levels</code>.
If <code>level</code> contains numbers then <code>expected.levels</code> defaults to a 
sequence of integers <code>floor(min(level)):ceiling(max(level))</code>. 
If <code>level</code> is &lsquo;category&rsquo; then <code>expected.levels</code> defaults to the 
intersection of values of &lsquo;category&rsquo; that are present in <code>community</code> and 
the usual Cheddar default values: &lsquo;&lt;unnamed&gt;&rsquo;, &lsquo;producer&rsquo;, 
&lsquo;invertebrate&rsquo;, &lsquo;vert.ecto&rsquo;, &lsquo;vert.endo&rsquo;.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+SumBiomassByClass">SumBiomassByClass</a></code>, 
<code><a href="#topic+SumNByClass">SumNByClass</a></code>, <code><a href="#topic+Log10BLabel">Log10BLabel</a></code>, 
<code><a href="#topic+Log10NLabel">Log10NLabel</a></code>, <code><a href="base.html#topic+floor">floor</a></code>, <code><a href="base.html#topic+ceiling">ceiling</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Use a large left-hand margin to show level text
reset.par &lt;- par(mar=c(5,8,1,1))

# Using prey-averaged trophic level
PlotNPyramid(TL84)

# Using chain-averaged of trophic level
PlotNPyramid(TL84, level=floor(ChainAveragedTrophicLevel(TL84)))

# Show by category
PlotNPyramid(TL84, level='category')

# Taxonomic kingdoms as levels
PlotNPyramid(TL84, level='kingdom')

# Taxonomic kingdoms as levels, with a defined order
PlotNPyramid(TL84, level='kingdom', expected.levels=c("&lt;unnamed&gt;", "Plantae", 
             "Chromista","Bacteria","Protozoa","Animalia"))


# Compare the YthanEstuary and the TL84 datasets. YthanEstuary has nodes in 
# each of the categories whereas TL84 only has producer, invertebrate and 
# vert.ecto nodes. Show categories that are not present in TL84
par(mfrow=c(1,2))
data(YthanEstuary)
xlim &lt;- range(c(Log10N(TL84), Log10N(YthanEstuary)), na.rm=TRUE)
PlotNPyramid(TL84, level='category', xlim=xlim, 
             expected.levels=c('&lt;unnamed&gt;', 'producer', 'invertebrate', 
                               'vert.ecto', 'vert.endo'))
PlotNPyramid(YthanEstuary, level='category',  xlim=xlim)
par(mfrow=c(1,1))


# For the BroadstoneStream dataset, the LongestTrophicLevel function returns 
# nodes in levels 1 and 7 to 10 but no nodes in levels 2 to 6. 
# By default all levels between the minimum and maximum are shown, so levels 
# 2 to 6 appear with no boxes.
data(BroadstoneStream)
PlotNPyramid(BroadstoneStream, 
             level=floor(LongestTrophicLevel(BroadstoneStream)))

# Set fill.missing.levels to FALSE to prevent levels 2 to 6 from being drawn.
PlotNPyramid(BroadstoneStream, 
             level=floor(LongestTrophicLevel(BroadstoneStream)), 
             fill.missing.levels=FALSE)

par(reset.par)
</code></pre>

<hr>
<h2 id='QuantitativeDescriptors'>Quantitative descriptors</h2><span id='topic+QuantitativeDescriptors'></span><span id='topic+NodeQuantitativeDescriptors'></span>

<h3>Description</h3>

<p>Quantitative descriptors after Bersier at al Ecology 2002.</p>


<h3>Usage</h3>

<pre><code class='language-R'>NodeQuantitativeDescriptors(community, weight)
QuantitativeDescriptors(community, weight, top.level.threshold=0.99)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="QuantitativeDescriptors_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="QuantitativeDescriptors_+3A_weight">weight</code></td>
<td>
<p>the name of a tropic-link property with which quantitative 
descriptors should be computed. It can be the name of a first-class property 
(returned by <code>TrophicLinkPropertyNames</code>) or the name of a function that 
takes a <code>Community</code> object as the only parameter and a vector of length 
<code>NumberOfTrophicLinks</code>.</p>
</td></tr>
<tr><td><code id="QuantitativeDescriptors_+3A_top.level.threshold">top.level.threshold</code></td>
<td>
<p>TODO</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Quantitative food-web descriptors as described by Bersier et al 2002 
Ecology.
</p>
<p>NodeQuantitativeDescriptors computes a table of node-level quantitative 
descripttors, as presented in Bersier et al 2002, Table 1. It returns a 
<code>matrix</code> with columns NResources, NConsumers, bIn, bOut, nN, nP, d.prime, 
d, o.prime, o, g.prime, g, v.prime, v.
</p>
<p>QuantitativeDescriptors computes values presented in Bersier et al 2002 Table 
2. It returns a <code>matrix</code> with columns Qualitative, Unweighted and 
Weighted and rows Fraction top level, Fraction intermediate, Fraction basal, 
Ratio resources:consumers, Link density, Connectance, 
Fraction links top:intermediate, Fraction links top:basal, 
Fraction links intermediate:intermediate, Fraction links intermediate:basal, 
Mean chain length, Median chain length, SD chain length, Max chain length, 
Degree of omnivory, Generality, Vulnerability, SD standardised generality, 
SD standardised vulnerability.
</p>


<h3>Value</h3>

<p>A <code>matrix</code>.
</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Bersier, L. and Banasek-Richter, C. and Cattin, M. (2002) Ecology 
<b>80</b> 2394&ndash;2407.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+TrophicLinkPropertyNames">TrophicLinkPropertyNames</a></code>, 
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(ChesapeakeBay)
QuantitativeDescriptors(ChesapeakeBay, 'biomass.flow')
NodeQuantitativeDescriptors(ChesapeakeBay, 'biomass.flow')
</code></pre>

<hr>
<h2 id='RemoveCannibalisticLinks'>Remove cannibalistic trophic links</h2><span id='topic+RemoveCannibalisticLinks'></span>

<h3>Description</h3>

<p>Remove cannibalistic trophic links.</p>


<h3>Usage</h3>

<pre><code class='language-R'>RemoveCannibalisticLinks(community, title)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RemoveCannibalisticLinks_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="RemoveCannibalisticLinks_+3A_title">title</code></td>
<td>
<p>a title for the new community.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a new <code>Community</code> with any cannibalistic trophic links 
removed.</p>


<h3>Value</h3>

<p>A new object of class <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
NumberOfTrophicLinks(TL84)

TL84.no.cannibal &lt;- RemoveCannibalisticLinks(TL84)
NumberOfTrophicLinks(TL84.no.cannibal)
</code></pre>

<hr>
<h2 id='RemoveIsolatedNodes'>Remove isolated nodes</h2><span id='topic+RemoveIsolatedNodes'></span>

<h3>Description</h3>

<p>Remove isolated nodes.</p>


<h3>Usage</h3>

<pre><code class='language-R'>RemoveIsolatedNodes(community, title)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RemoveIsolatedNodes_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="RemoveIsolatedNodes_+3A_title">title</code></td>
<td>
<p>a title for the new community.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a new <code>Community</code> with isolated nodes removed.
</p>


<h3>Value</h3>

<p>A new object of class <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+IsIsolatedNode">IsIsolatedNode</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
IsolatedNodes(TL84)

TL84.no.isolated &lt;- RemoveIsolatedNodes(TL84)
IsolatedNodes(TL84.no.isolated)
</code></pre>

<hr>
<h2 id='RemoveNodes'>Remove nodes</h2><span id='topic+RemoveNodes'></span>

<h3>Description</h3>

<p>Remove one or more nodes.</p>


<h3>Usage</h3>

<pre><code class='language-R'>RemoveNodes(community, remove, title, 
                   method=c('direct','secondary','cascade'))</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="RemoveNodes_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="RemoveNodes_+3A_remove">remove</code></td>
<td>
<p>a vector of either names, integer indices or logicals 
indicating nodes to be removed.</p>
</td></tr>
<tr><td><code id="RemoveNodes_+3A_title">title</code></td>
<td>
<p>a title for the new community.</p>
</td></tr>
<tr><td><code id="RemoveNodes_+3A_method">method</code></td>
<td>
<p>how species removals are propogated through the food web.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a new <code>Community</code> with nodes in <code>remove</code> removed. 
An error is raised if <code>remove</code> refers to nodes not in the 
<code>community</code> of if <code>remove</code> refers to all nodes in the 
<code>community</code>. 
</p>
<p>If <code>method</code> is &lsquo;direct&rsquo;, only the nodes in <code>remove</code> are removed. 
If <code>method</code> is &lsquo;secondary&rsquo;, secondarily extinct nodes - those that 
directly consume one or more nodes in &lsquo;remove&rsquo; and that no longer have any 
resources (except themselves) after the removal - are also removed. 
If <code>method</code> is &lsquo;cascade&rsquo;, a multistep version of &lsquo;secondary&rsquo; is applied. 
This has the effect of propogating extinctions though the community - all 
consumers that are ultimately dependent upon all species in &lsquo;remove&rsquo;, and upon 
no other nodes (except themselves), will be removed.
</p>


<h3>Value</h3>

<p>A new object of class <code>Community</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+BasalNodes">BasalNodes</a></code>, 
<code><a href="#topic+IsolatedNodes">IsolatedNodes</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Three different ways of removing node 56 (Umbra limi)
a &lt;- RemoveNodes(TL84, 56)
b &lt;- RemoveNodes(TL84, 'Umbra limi')
c &lt;- RemoveNodes(TL84, c(rep(FALSE,55), TRUE))

identical(a,b)  # TRUE
identical(a,c)  # TRUE

# The behaviours of the different methods
NumberOfNodes(TL84)         # 56 nodes in total
length(BasalNodes(TL84))    # 25 basal nodes
length(IsolatedNodes(TL84)) #  6 isolated nodes

RemoveNodes(TL84, BasalNodes(TL84)) # 56 - 25 = 31 nodes remain
RemoveNodes(TL84, BasalNodes(TL84), method='secondary') # 14 nodes remain
RemoveNodes(TL84, BasalNodes(TL84), method='cascade')   # 6 isolated nodes remain

# Results in an error
## Not run: RemoveNodes(TL84, 1:NumberOfNodes(TL84))
</code></pre>

<hr>
<h2 id='ResourceLargerThanConsumer'>Resource larger than consumer</h2><span id='topic+ResourceLargerThanConsumer'></span>

<h3>Description</h3>

<p>Trophic links in which the resource has a larger body mass than 
the consumer.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ResourceLargerThanConsumer(community)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ResourceLargerThanConsumer_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code></p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a <code>data.frame</code> with columns &lsquo;resource&rsquo;, &lsquo;consumer&rsquo;, 
&lsquo;resource.M&rsquo; and &lsquo;consumer.M&rsquo;.</p>


<h3>Value</h3>

<p>A <code>data.frame</code></p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

ResourceLargerThanConsumer(TL84)

# Highlight trophic links
PlotNvM(TL84, highlight.links=ResourceLargerThanConsumer)
</code></pre>

<hr>
<h2 id='ResourcesByNode'>Resources and consumers of nodes</h2><span id='topic+ResourcesByNode'></span><span id='topic+ConsumersByNode'></span><span id='topic+ResourcesOfNodes'></span><span id='topic+ConsumersOfNodes'></span><span id='topic+ResourcesAndConsumersByNode'></span><span id='topic+TrophicLinksForNodes'></span>

<h3>Description</h3>

<p>Functions that return the resources and consumers of nodes.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ResourcesByNode(community) 
ConsumersByNode(community) 
ResourcesAndConsumersByNode(community)

ResourcesOfNodes(community, nodes) 
ConsumersOfNodes(community, nodes) 

TrophicLinksForNodes(community, nodes, node.properties=NULL, 
                     link.properties=NULL) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ResourcesByNode_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="ResourcesByNode_+3A_nodes">nodes</code></td>
<td>
<p>either the names or integer indices of nodes.</p>
</td></tr>
<tr><td><code id="ResourcesByNode_+3A_node.properties">node.properties</code></td>
<td>
<p>passed to <code>TLPS</code>.</p>
</td></tr>
<tr><td><code id="ResourcesByNode_+3A_link.properties">link.properties</code></td>
<td>
<p>passed to <code>TLPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>ResourcesByNode</code>/<code>ConsumersByNode</code>/
<code>ResourcesAndConsumersByNode</code> all return a list of length 
<code>NumberOfNodes</code>; list elements are names of nodes that are 
resources/consumers/resources and/or consumers.
</p>
<p>If <code>nodes</code> is of length one then <code>ResourcesOfNodes</code> and 
<code>ConsumersOfNodes</code> return a vector of resources / consumers. If 
<code>nodes</code> contains more than one value, then a list of vectors is returned. 
</p>
<p><code>TrophicLinksForNodes</code> returns a <code>data.frame</code> containing the columns 
&lsquo;resource&rsquo; and 'consumer' and a row for each trophic link in-to and out-of 
<code>nodes</code>.
</p>


<h3>Value</h3>

<p>Either a <code>vector</code>, a <code>list</code> or a <code>data.frame</code></p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+TLPS">TLPS</a></code>, <code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, 
<code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# A list containing a vector of resources for each node.
ResourcesByNode(TL84)

# A vector of resources of 'Umbra limi'
ResourcesOfNodes(TL84, 'Umbra limi')

# A vector of resources of 'Umbra limi'
ResourcesOfNodes(TL84, 56)

# A list containing vectors of resources for nodes 50:56
ResourcesOfNodes(TL84, 50:56)

# A data.frame containin columns resource and consumer
TrophicLinksForNodes(TL84, 'Umbra limi')

# A data.frame containin columns resource, consumer, resource.M and consumer.M
TrophicLinksForNodes(TL84, 'Umbra limi', node.properties='M')
</code></pre>

<hr>
<h2 id='ShortestPaths'>Path lengths</h2><span id='topic+ShortestPaths'></span><span id='topic+CharacteristicPathLength'></span>

<h3>Description</h3>

<p>Functions that compute the shortest trophic paths between nodes.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ShortestPaths(community, weight.by=NULL)
CharacteristicPathLength(community)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ShortestPaths_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="ShortestPaths_+3A_weight.by">weight.by</code></td>
<td>
<p>the name of a property by which to weight paths.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>ShortestPaths uses Dijkstra's algorithm to compute the number 
of trophic links between each pair of nodes in the food web. 
<code>CharacteristicPathLength</code> returns the mean of path lengths. </p>


<h3>Value</h3>

<p>A square <code>matrix</code> with <code>NumberOfNodes</code> rows and columns or 
a single number.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Williams, R.J. and Berlow, E.L. and Dunne, J.A. and Barab\'asi, 
A.L. and Martinez, N.D. (2002) Two degrees of separation in complex food webs. 
Proceedings of the National Academy of Sciences of the United States of America 
<b>99</b>, 20, 12913&ndash;12916</p>


<h3>See Also</h3>

<p><code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, <code><a href="#topic+NPS">NPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(Benguela)

# Compare weighted and unweighted
ShortestPaths(Benguela)
ShortestPaths(Benguela, weight.by='diet.fraction')

CharacteristicPathLength(Benguela)
</code></pre>

<hr>
<h2 id='SiteBySpeciesMatrix'>Community collection site by species matrix</h2><span id='topic+SiteBySpeciesMatrix'></span>

<h3>Description</h3>

<p>Returns a matrix with a column per community and a row per unique 
node within communities in the collection.</p>


<h3>Usage</h3>

<pre><code class='language-R'>SiteBySpeciesMatrix(collection, abundance=NULL, na.missing=FALSE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="SiteBySpeciesMatrix_+3A_collection">collection</code></td>
<td>
<p>an object of class <code>CommunityCollection</code>.</p>
</td></tr>
<tr><td><code id="SiteBySpeciesMatrix_+3A_abundance">abundance</code></td>
<td>
<p>the name of a node property that provides abundance values. 
This can be the name of a first-class propery or the name of a function. 
The name must meet the criteria of the <code>properties</code> parameter of 
<code>NPS</code>.</p>
</td></tr>
<tr><td><code id="SiteBySpeciesMatrix_+3A_na.missing">na.missing</code></td>
<td>
<p>if <code>TRUE</code> nodes that are absent from the community 
will be represented by <code>NA</code>; if <code>FALSE</code>, these nodes are 
represented by 0.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>If <code>abundance</code> is <code>NULL</code>, the returned <code>matrix</code> 
indicates presence (1) or absence (0 or <code>NA</code> - see <code>na.missing</code>) 
of nodes. If <code>abundance</code> is given, values are the abundances of nodes,  
or 0 or <code>NA</code> where nodes are absent.
</p>


<h3>Value</h3>

<p>A <code>matrix</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CommunityCollection">CommunityCollection</a></code>, <code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+CollectionCPS">CollectionCPS</a></code>, <code><a href="#topic+Biomass">Biomass</a></code>, 
<code><a href="#topic+Log10Biomass">Log10Biomass</a></code>, <code><a href="base.html#topic+matrix">matrix</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)

# If abundance is NULL, you get a presence/absence matrix:
SiteBySpeciesMatrix(pHWebs)

# Numerical abundance
SiteBySpeciesMatrix(pHWebs, 'N')

# Biomass abundance
SiteBySpeciesMatrix(pHWebs, 'Biomass')

# Log10 biomass abundance
SiteBySpeciesMatrix(pHWebs, 'Log10Biomass')

# Example showing how to model biomass in term of pH using vegan's rda function
m &lt;- SiteBySpeciesMatrix(pHWebs, 'Biomass')

# Some nodes (e.g. CPOM) do not have a biomass. The rows in m for these nodes 
# will contain all NA. Rows containing all NA will upset vegan's rda function 
# so these rows must be removed.
m &lt;- m[apply(m, 1, function(row) all(!is.na(row))),]

# Tranpose to get row per site - the format required by vegan's rda function
m &lt;- t(m)

# Matrix (with a row per site) of variables on the right hand side of the 
# model equation
variables &lt;- CollectionCPS(pHWebs)

## Not run: library(vegan)
## Not run: res &lt;- rda(m~pH,variables)
</code></pre>

<hr>
<h2 id='SkipwithPond'>SkipwithPond</h2><span id='topic+SkipwithPond'></span>

<h3>Description</h3>

<p>The food-web of Skipwith Pond. 
</p>
<p>Taxonomic classification provided by Guy Woodward.</p>


<h3>Format</h3>

<p><code>Community</code>.</p>


<h3>Source</h3>

<p>Warren, 1989.</p>


<h3>References</h3>

<p>Warren, P.H. (1989) Spatial and temporal variation in the structureof a 
freshwater food web. Oikos <b>55</b>, 299&ndash;311.
</p>

<hr>
<h2 id='Spectrum+20plots'>Spectrum plots</h2><span id='topic+PlotBSpectrum'></span><span id='topic+PlotNSpectrum'></span>

<h3>Description</h3>

<p>High-level functions that plot the sum numerical abundance (N) or 
biomass abundance (B) in equally-spaced log10 body-mass bins.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PlotBSpectrum(community, 
              lower = min(NP(community, "M"), na.rm = TRUE), 
              upper = max(NP(community, "M"), na.rm = TRUE), 
              n.bins = 10, 
              main = CPS(community)$title, 
              xlab = Log10MLabel(community), 
              ylab = Log10BLabel(community), 
              xlim = NULL, 
              ylim = NULL, 
              pch = 19, 
              show.bin.limits = TRUE, 
              show.bin.centres = FALSE, 
              ...)

PlotNSpectrum(community, 
              lower = min(NP(community, "M"), na.rm = TRUE), 
              upper = max(NP(community, "M"), na.rm = TRUE), 
              n.bins = 10, 
              main = CPS(community)$title, 
              xlab = Log10MLabel(community), 
              ylab = Log10NLabel(community), 
              xlim = NULL, 
              ylim = NULL, 
              pch = 19, 
              show.bin.limits = TRUE, 
              show.bin.centres = FALSE, 
              ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="Spectrum+2B20plots_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_lower">lower</code></td>
<td>
<p>lower bound of the bins.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_upper">upper</code></td>
<td>
<p>upper bound of the bins.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_n.bins">n.bins</code></td>
<td>
<p>the number of bins.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_main">main</code></td>
<td>
<p>title of the plot</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_xlab">xlab</code></td>
<td>
<p>title of the x axis.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_ylab">ylab</code></td>
<td>
<p>title of the y axis.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_xlim">xlim</code></td>
<td>
<p>limits of the x axis.</p>
</td></tr> 
<tr><td><code id="Spectrum+2B20plots_+3A_ylim">ylim</code></td>
<td>
<p>limits of the y axis.</p>
</td></tr> 
<tr><td><code id="Spectrum+2B20plots_+3A_pch">pch</code></td>
<td>
<p>plotting symbol.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_show.bin.limits">show.bin.limits</code></td>
<td>
<p>logical - if <code>TRUE</code> the centres of the bins are 
marked with a line.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_show.bin.centres">show.bin.centres</code></td>
<td>
<p>logical - if <code>TRUE</code> the centres of the bins are 
marked with a line.</p>
</td></tr>
<tr><td><code id="Spectrum+2B20plots_+3A_...">...</code></td>
<td>
<p>other values to plot functions.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code>:
</p>
<table>
<tr><td><code>bins</code></td>
<td>
<p>value returned by the <code>BodyMassBins</code> function.</p>
</td></tr>
<tr><td><code>lm</code></td>
<td>
<p>a linear regression fitted through the data.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, 
<code><a href="#topic+BodyMassBins">BodyMassBins</a></code>, 
<code><a href="#topic+PlotCircularWeb">PlotCircularWeb</a></code>, 
<code><a href="#topic+PlotNPS">PlotNPS</a></code>, 
<code><a href="#topic+PlotNPSDistribution">PlotNPSDistribution</a></code>, 
<code><a href="#topic+PlotRankNPS">PlotRankNPS</a></code>, 
<code><a href="#topic+PlotTLPS">PlotTLPS</a></code>, 
<code><a href="#topic+PlotWebByLevel">PlotWebByLevel</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
PlotNSpectrum(TL84)
PlotBSpectrum(TL84)
</code></pre>

<hr>
<h2 id='subset.CommunityCollection'>A subset of a collection of communities</h2><span id='topic+subset.CommunityCollection'></span>

<h3>Description</h3>

<p>A subset of a <code>CommunityCollection</code>.</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'CommunityCollection'
subset(x, subset, properties=NULL, ...)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="subset.CommunityCollection_+3A_x">x</code></td>
<td>
<p>An object of class <code>CommunityCollection</code></p>
</td></tr>
<tr><td><code id="subset.CommunityCollection_+3A_subset">subset</code></td>
<td>
<p>logical expression indicating communities to keep.</p>
</td></tr>
<tr><td><code id="subset.CommunityCollection_+3A_properties">properties</code></td>
<td>
<p>The names of properties passed to <code>CollectionCPS</code>.</p>
</td></tr>
<tr><td><code id="subset.CommunityCollection_+3A_...">...</code></td>
<td>
<p>further arguments passed to other methods.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>CollectionCPS</code> is used to gather <code>properties</code>. 
<code>properties</code> should contain the names of properties required to evaluate 
<code>subset</code>. If <code>properties</code> is <code>NULL</code>, all first-class properties 
are available to the <code>subset</code> expression. Returns a new 
<code>CommunityCollection</code> or <code>NULL</code> if no communities in <code>x</code> meet 
the criteria in <code>subset</code>.</p>


<h3>Value</h3>

<p>A new object of class <code>CommunityCollection</code> or <code>NULL</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+CommunityCollection">CommunityCollection</a></code>, <code><a href="#topic+CollectionCPS">CollectionCPS</a></code>, 
<code><a href="base.html#topic+subset">subset</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(pHWebs)

# Two communities have pH&gt;7
subset(pHWebs, pH&gt;7)

# No communities have pH&gt;10 so this returns NULL
subset(pHWebs, pH&gt;7)

# Get a subset based on a computed property
subset(pHWebs, S&gt;50, properties=c(S='NumberOfNodes'))

# X is not a property so this raises an error
## Not run: subset(pHWebs, X==1)
</code></pre>

<hr>
<h2 id='ThreeNodeChains'>Three-node chains</h2><span id='topic+ThreeNodeChains'></span>

<h3>Description</h3>

<p>Enumerates every three-node chain in a food web.</p>


<h3>Usage</h3>

<pre><code class='language-R'>ThreeNodeChains(community, exclude.loops=FALSE, node.properties=NULL, 
                chain.properties=NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="ThreeNodeChains_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="ThreeNodeChains_+3A_exclude.loops">exclude.loops</code></td>
<td>
<p>logical - should loops A -&gt; B -&gt; A be included?</p>
</td></tr>
<tr><td><code id="ThreeNodeChains_+3A_node.properties">node.properties</code></td>
<td>
<p>the names of the node properties to return. Should 
meet the criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="ThreeNodeChains_+3A_chain.properties">chain.properties</code></td>
<td>
<p>the names of chain properties to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Enumerates every three-node chain in the food-web and returns a 
<code>data.frame</code> containing the columns bottom, intermediate and 
top and any requested node and trophic-link columns.</p>


<h3>Value</h3>

<p>A <code>data.frame</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+TLPS">TLPS</a></code>, <code><a href="#topic+TrophicChains">TrophicChains</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

nrow(ThreeNodeChains(TL84))
nrow(ThreeNodeChains(TL84, exclude.loops=TRUE))

# bottom, intermediate and top
head(ThreeNodeChains(TL84))

# bottom, intermediate, top, bottom.M, intermediate.M and top.M
head(ThreeNodeChains(TL84, node.properties='M'))

# As above with the addition of bottom.N, intermediate.N and top.N
head(ThreeNodeChains(TL84, node.properties=c('M','N')))
</code></pre>

<hr>
<h2 id='TL84'>Tuesday Lake datasets</h2><span id='topic+TL84'></span><span id='topic+TL86'></span>

<h3>Description</h3>

<p>The communities of Tuesday Lake, Michigan, USA sampled in 1984 and 
1986.
</p>
<p>Taxonomic classification 
fish: Froese and Pauly (2012), 
invertebrates: Smith (2001), 
phytoplankton: Guiry and Guiry (2012).
</p>


<h3>Format</h3>

<p><code>Community</code> objects.</p>


<h3>Source</h3>

<p>Carpenter and Kitchell, 1996; Cohen et al, 2003; Johnsson et al 2005.</p>


<h3>References</h3>

<p>Carpenter, S.R. and Kitchell, J.F., eds. (1996) <em>The trophic cascade in 
lakes</em>. Cambridge University Press.
</p>
<p>Cohen, J.E. and Jonsson, T. and Carpenter, S.R. (2003) Ecological community 
description using the food web, species abundance, and body size. Proceedings 
of the National Academy of Sciences of the United States of America 
<b>100</b>, 4, 1781&ndash;1786.
</p>
<p>Froese, R. and Pauly, D., eds. 2012. FishBase. World Wide Web electronic 
publication. <a href="https://www.fishbase.se">https://www.fishbase.se</a>, version (08/2012).
</p>
<p>Guiry, M.D. and Guiry, G.M. (2012) AlgaeBase. World-wide electronic 
publication, National University of Ireland, Galway. 
<a href="https://www.algaebase.org">https://www.algaebase.org</a>; searched on 20 September 2012.
</p>
<p>Jonsson, T. and Cohen, J.E. and Carpenter, S.R. (2005) Food webs, body size, 
and species abundance in ecological community description. Advances in 
Ecological Research <b>36</b>, 1&ndash;84.
</p>
<p>Smith, D.G. (2001) <em>Pennak's Freshwater Invertebrates of the United 
States: Porifera to Crustacea</em>, John Wiley and Sons, 4th Edition.
</p>

<hr>
<h2 id='TLP'>A single trophic-link property</h2><span id='topic+TLP'></span>

<h3>Description</h3>

<p>Returns a single trophic-link property.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TLP(community, property)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TLP_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="TLP_+3A_property">property</code></td>
<td>
<p>the name of the property to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named TLP for Trophic Link Property. It returns a 
vector containing the value of property for every trophic link. The returned 
vector is all <code>NA</code> if there is no trophic-link property with that name.
</p>


<h3>Value</h3>

<p>A vector of length <code>NumberOfTrophicLinks</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+TrophicLinkPropertyNames">TrophicLinkPropertyNames</a></code>, <code><a href="#topic+TLPS">TLPS</a></code>, 
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'># Skipwith Pond has a first-class property called link.evidence
data(SkipwithPond)
TLP(SkipwithPond, 'link.evidence') 

# Benguela has a first-class property called diet.fraction
data(Benguela) 
TLP(Benguela, 'diet.fraction') 

# All NA
TLP(SkipwithPond, 'not a property') 
</code></pre>

<hr>
<h2 id='TLPS'>Trophic-link properties</h2><span id='topic+TLPS'></span>

<h3>Description</h3>

<p>Returns a <code>data.frame</code> of first-class and computed 
trophic-link properties.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TLPS(community, node.properties=NULL, link.properties=NULL)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TLPS_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="TLPS_+3A_node.properties">node.properties</code></td>
<td>
<p>the names of the node properties to return. Should 
meet the criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="TLPS_+3A_link.properties">link.properties</code></td>
<td>
<p>the names of link properties. These can be names of 
first-class properties (returned by <code>TrophicLinkPropertyNames</code>) and 
names of functions that take a <code>Community</code> object as the only 
parameter and return either a vector of length <code>NumberOfTrophicLinks</code> 
or a <code>matrix</code> or <code>data.frame</code> with <code>NumberOfTrophicLinks</code> 
rows.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function is named TLPS for Trophic Link PropertieS. It returns 
a <code>data.frame</code> containing the columns 'resource' and 'consumer' 
and any requested properties.</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>NumberOfTrophicLinks</code> rows.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+TrophicLinkPropertyNames">TrophicLinkPropertyNames</a></code>, <code><a href="#topic+TLP">TLP</a></code>, 
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code>, <code><a href="#topic+NPS">NPS</a></code>, 
<code><a href="#topic+Log10RCMRatio">Log10RCMRatio</a></code>, 
<code><a href="#topic+ThreeNodeChains">ThreeNodeChains</a></code>, <code><a href="#topic+TrophicChains">TrophicChains</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Just resource and consumer
head(TLPS(TL84))

# resource, consumer, resource.M and consumer.M
head(TLPS(TL84, node.properties='M'))

# Log10RCMRatio returns log10-transformed resource.M / consumer.M
head(TLPS(TL84, node.properties='M', link.properties='Log10RCMRatio'))

# Skipwith Pond has link.evidence and link.life.stage first-class properties
data(SkipwithPond)
head(TLPS(SkipwithPond))

# resource, consumer and link.evidence
head(TLPS(SkipwithPond, link.properties='link.evidence'))

# Skipwith Pond has diet.fraction first-class property
data(Benguela)
head(TLPS(Benguela))
</code></pre>

<hr>
<h2 id='TrophicChains'>Trophic chains</h2><span id='topic+TrophicChains'></span>

<h3>Description</h3>

<p>Enumerates every trophic chain in a food web.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TrophicChains(community, node.properties = NULL, chain.properties = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrophicChains_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="TrophicChains_+3A_node.properties">node.properties</code></td>
<td>
<p>the names of the node properties to return. Should 
meet the criteria of the <code>properties</code> parameter of <code>NPS</code>.</p>
</td></tr>
<tr><td><code id="TrophicChains_+3A_chain.properties">chain.properties</code></td>
<td>
<p>the names of chain properties to return.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Enumerates every trophic chain in the food-web and returns a 
<code>data.frame</code> containing any requested node and trophic-link columns.
</p>
<p>Some network properties and analyses require knowledge of every unique path 
- &lsquo;trophic chain&rsquo; - through the food-web. A trophic chain starts at a basal 
node (<code>BasalNodes</code>) and ends when it is not possible to 
add nodes that are not already in the chain, so loops and cannibalism are 
ignored. For communities that have one or more top-level nodes 
(<code>TopLevelNodes</code>) each trophic chain will end with a top-level node. 
</p>
<p>If your analysis requires only simple statistics about trophic chains, the 
<code>TrophicChainsStats</code> function is more suitable as it is much faster and 
requires less memory than <code>TrophicChains</code>. This is particularly true 
for communities that contain a large number of trophic chains, such as the 
<code>SkipwithPond</code> dataset, which has more than $10^5$ unique chains.
</p>
<p>It will not be possible to compute, within reasonable time and available system 
memory, trophic chains for food webs with a large number of nodes and/or 
trophic links. <code>TrophicChains</code> will raises an error 'Unable to compute 
paths' for these food webs. The &lsquo;Large numbers of trophic chains&rsquo; section of 
the &lsquo;Community&rsquo; vignette explains this in more detail.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+BasalNodes">BasalNodes</a></code>, <code><a href="#topic+TopLevelNodes">TopLevelNodes</a></code>, 
<code><a href="#topic+TLPS">TLPS</a></code>, <code><a href="#topic+ThreeNodeChains">ThreeNodeChains</a></code>, 
<code><a href="#topic+TrophicChainsStats">TrophicChainsStats</a></code>, <code><a href="#topic+SkipwithPond">SkipwithPond</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

tc &lt;- TrophicChains(TL84)

# Every chain starts with a basal node
BasalNodes(TL84)
first &lt;- tc[,1]
all(IsBasalNode(TL84)[unique(first)])

# TL84 has a single top-level consumer - every trophic chain ends with this 
# consumer
TopLevelNodes(TL84)
# Get the last node in each chain
last &lt;- apply(tc, 1, function(row) row[max(which(""!=row))])
unique(last)

# M of nodes
head(TrophicChains(TL84, node.properties='M'))

# M and N of nodes
head(TrophicChains(TL84, node.properties=c('M','N')))

# Skipwith Pond has more than 10e5 unique chains
data(SkipwithPond)
# Not all systems will be able to allocate the memory required to hold the 
# chains
## Not run: dim(TrophicChains(SkipwithPond))
</code></pre>

<hr>
<h2 id='TrophicChainsStats'>Trophic chains statistics</h2><span id='topic+TrophicChainsStats'></span>

<h3>Description</h3>

<p>Computes simple statistics about every trophic chain in a food 
web.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TrophicChainsStats(community)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrophicChainsStats_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Enumerates every trophic chain in the food-web and returns a 
<code>list</code> object containing some simple statistics. 
If your analysis requires only simple statistics about trophic chains then 
this function is more suitable than <code>TrophicChains</code> 
because it is faster and requires less memory.
</p>


<h3>Value</h3>

<p>A list containing:
</p>
<table>
<tr><td><code>chain.lengths</code></td>
<td>
<p>The number of nodes in each trophic chain.</p>
</td></tr>
<tr><td><code>node.pos.counts</code></td>
<td>
<p>A <code>matrix</code> of <code>NumberOfNodes</code> rows and 
<code>1+max(chain.lengths)</code> columns. Elements are the number of chains in 
which a node appear in that position.</p>
</td></tr>
</table>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+TrophicChains">TrophicChains</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, 
<code><a href="#topic+IsolatedNodes">IsolatedNodes</a></code>, <code><a href="#topic+BasalNodes">BasalNodes</a></code>,
<code><a href="#topic+IntermediateNodes">IntermediateNodes</a></code>, <code><a href="#topic+TopLevelNodes">TopLevelNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)
chain.stats &lt;- TrophicChainsStats(TL84)

# The length of every chain
length(chain.stats$chain.lengths)    # 5,988 chains
summary(chain.stats$chain.lengths)

# The number of chains in which a node appears in that position in a chain
chain.stats$node.pos.counts

# Basal nodes only have counts in the first column.
chain.stats$node.pos.counts[BasalNodes(TL84),]

# Consumers only have counts in columns two and up.
chain.stats$node.pos.counts[c(IntermediateNodes(TL84),TopLevelNodes(TL84)),]

# All counts are zero for isolated nodes IsolatedNodes.
chain.stats$node.pos.counts[IsolatedNodes(TL84),]
</code></pre>

<hr>
<h2 id='TrophicLevels'>Trophic levels</h2><span id='topic+PreyAveragedTrophicLevel'></span><span id='topic+FlowBasedTrophicLevel'></span><span id='topic+TrophicLevels'></span><span id='topic+ShortestTrophicLevel'></span><span id='topic+ShortWeightedTrophicLevel'></span><span id='topic+LongestTrophicLevel'></span><span id='topic+LongWeightedTrophicLevel'></span><span id='topic+ChainAveragedTrophicLevel'></span><span id='topic+TrophicHeight'></span>

<h3>Description</h3>

<p>Functions that compute different measures of trophic level.</p>


<h3>Usage</h3>

<pre><code class='language-R'>PreyAveragedTrophicLevel(community, include.isolated=TRUE)
FlowBasedTrophicLevel(community, weight.by, include.isolated=TRUE)
ShortestTrophicLevel(community, include.isolated=TRUE)
ShortWeightedTrophicLevel(community, include.isolated=TRUE)
LongestTrophicLevel(community, include.isolated=TRUE)
LongWeightedTrophicLevel(community, include.isolated=TRUE)
ChainAveragedTrophicLevel(community, include.isolated=TRUE)
TrophicHeight(community, include.isolated=TRUE)

TrophicLevels(community, weight.by=NULL, include.isolated=TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrophicLevels_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="TrophicLevels_+3A_include.isolated">include.isolated</code></td>
<td>
<p>if <code>TRUE</code> then nodes for which
<code>IsIsolatedNode</code> is <code>TRUE</code> are given a trophic level of
1; if <code>FALSE</code> then isolated nodes are given a trophic level of
<code>NA</code>.</p>
</td></tr>
<tr><td><code id="TrophicLevels_+3A_weight.by">weight.by</code></td>
<td>
<p>the name of a node property, either first-class or computed, 
by which to weight flow-based trophic level. Must satisfy the criteria 
of the <code>properties</code> parameters of <code>NPS</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Trophic level is a measure of a node's &lsquo;distance&rsquo; from the primary 
producers in the community and hence indicates how many steps matter, and hence 
energy, has been through to reach that node. Each function (with the exception 
of <code>TrophicLevels</code>) returns a vector containing a different measure of 
trophic level. These functions follow the definitions of Williams and Martinez 
(2004).
</p>
<p><code>PreyAveragedTrophicLevel</code> returns 1 plus the mean trophic level of the 
node's resources, using the matrix inversion method of Levine (1980) that is 
very fast and accounts for flow through loops. If this matrix inversion fails
then there is an important problem with the network topology and the function
will return a vector containing all <code>NA</code>s. For a food web to be
energetically feasible, every node must be connected to a basal node. When the
inversion fails it is because there is at least one node that has no connection
to a basal node. <code>FlowBasedTrophicLevel</code> also implements the matrix
inversion technique and uses the <code>weight.by</code> node property to provide an
estimate of energy flow through each trophic link.
</p>
<p><code>ShortestTrophicLevel</code>, <code>ShortWeightedTrophicLevel</code>, 
<code>LongestTrophicLevel</code>, <code>LongWeightedTrophicLevel</code> 
and <code>ChainAveragedTrophicLevel</code> compute trophic level by 
examining the position of each node in every food chain in which it appears. 
<code>ShortestTrophicLevel</code> returns 1 plus the shortest chain length from a 
node to a basal species. <code>ShortWeightedTrophicLevel</code> returns the average 
of <code>ShortestTrophicLevel</code> and <code>PreyAveragedTrophicLevel</code>. 
<code>LongestTrophicLevel</code> is the longest chain length from each node to a 
basal species. <code>LongWeightedTrophicLevel</code> is the average of 
<code>LongestTrophicLevel</code> and <code>PreyAveragedTrophicLevel</code>. 
<code>ChainAveragedTrophicLevel</code> is 1 plus the average chain length of all 
paths from each node to a basal species. These five functions each 
enumerate every unique food chain (using <code>TrophicChainsStats</code>), which can 
be lengthy for complex food webs. If more than one of these five measures of 
trophic level is required, it will be faster to use the <code>TrophicLevels</code> 
convenience function, which enumerates unique food chains only once and returns 
a matrix containing every measure of trophic level in columns &lsquo;ShortestTL&rsquo;, 
&lsquo;ShortWeightedTL&rsquo;, &lsquo;LongestTL&rsquo;, &lsquo;LongWeightedTL&rsquo;, &lsquo;ChainAveragedTL&rsquo;, 
&lsquo;PreyAveragedTL&rsquo; and, if <code>weight.by</code> is given, &lsquo;FlowBasedTL&rsquo;.
</p>
<p>Jonsson et al (2005) defined &lsquo;trophic height&rsquo; to be the same as
Williams and Martinez' (2004) chain-averaged trophic level so
<code>TrophicHeight</code> is a synonym for <code>ChainAveragedTrophicLevel</code>.
</p>
<p>All methods will return a vector containing all <code>NA</code>s if no nodes are basal
i.e., all nodes are cannibalistic or &lsquo;community&rsquo; has no trophic links.
</p>


<h3>Value</h3>

<p>Either a vector of length <code>NumberOfNodes</code> or a <code>matrix</code> with 
<code>NumberOfNodes</code> rows.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson and Rich Williams</p>


<h3>References</h3>

<p>Jonsson, T. and Cohen, J. E. and Carpenter, S. R. (2005) 
Food webs, body size, and species abundance in ecological community 
description. Advances in Ecological Research <b>36</b>, 1&ndash;84.
</p>
<p>Levine, S (1980) Several measures of trophic structure applicable to complex 
food webs. Journal of Theoretical Biology <b>83</b>, 195&ndash;207.
</p>
<p>Williams, R. J. and Martinez, N. D. (2004) Limits to Trophic Levels 
and Omnivory in Complex Food Webs: Theory and Data. American Naturalist 
<b>163</b>, 63, 458&ndash;468.</p>


<h3>See Also</h3>

<p><code><a href="#topic+IsIsolatedNode">IsIsolatedNode</a></code>, <code><a href="#topic+IsBasalNode">IsBasalNode</a></code>,
<code><a href="#topic+IsCannibal">IsCannibal</a></code>, <code><a href="#topic+NPS">NPS</a></code>,
<code><a href="#topic+TrophicChains">TrophicChains</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>,
<code><a href="#topic+NumberOfTrophicLinks">NumberOfTrophicLinks</a></code>, <code><a href="#topic+TrophicChainsStats">TrophicChainsStats</a></code>,
<code><a href="#topic+PredationMatrix">PredationMatrix</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Six different measures of trophic level
TrophicLevels(TL84)

# The Benguela data contains diet.fraction
data(Benguela)

# Compare prey-averaged and flow-based
cbind(pa=PreyAveragedTrophicLevel(Benguela), 
      fb=FlowBasedTrophicLevel(Benguela, weight.by='diet.fraction'))
</code></pre>

<hr>
<h2 id='TrophicLinkPropertyNames'>Trophic link property names</h2><span id='topic+TrophicLinkPropertyNames'></span>

<h3>Description</h3>

<p>Returns the names of the first-class trophic link properties in a 
community.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TrophicLinkPropertyNames(community)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrophicLinkPropertyNames_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The names 'resource' and 'consumer' are always returned.</p>


<h3>Value</h3>

<p>Two or more characters.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+TLP">TLP</a></code>, <code><a href="#topic+TLPS">TLPS</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84, SkipwithPond)

# Just 'resource' and 'consumer'
TrophicLinkPropertyNames(TL84) 

# Just 'resource', 'consumer', 'link.evidence' and 'link.life.stage'
TrophicLinkPropertyNames(SkipwithPond)
</code></pre>

<hr>
<h2 id='TrophicSimilarity'>Trophic similarity</h2><span id='topic+TrophicSimilarity'></span><span id='topic+MeanMaximumTrophicSimilarity'></span>

<h3>Description</h3>

<p>A measure of trophic overlap between nodes in a community.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>TrophicSimilarity(community)
MeanMaximumTrophicSimilarity(community) 
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrophicSimilarity_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p><code>TrophicSimilarity</code> computes &lsquo;trophic similarity&rsquo; (I) as defined 
by Martinez (1991). For each pair of nodes, I = c/(a+b+c), where a is the 
number of resources and consumers unique to one node, b is number of resources 
and consumers unique to the other node and c is the number of resources and 
consumers common to both nodes. Where two nodes have exactly the same set of 
resources and consumers, I = 1. Where two nodes have no resources or consumers 
in common, I = 0.
</p>
<p>Williams and Martinez (2000) defined the mean maximum trophic similarity as the 
sum of the largest value in each column of I (excluding the diagonal), divided 
by the number of nodes.
</p>


<h3>Value</h3>

<p><code>TrophicSimilarity</code> returns a <code>matrix</code> with 
<code>NumberOfNodes</code> rows and columns. <code>MeanMaximumSimilarity</code> returns 
a number.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Martinez, N. D. (1991) Ecological Monographs <b>61</b>, 367&ndash;392.
</p>
<p>Williams, R. J. and Martinez, N. D. (2000) Nature <b>404</b> 180&ndash;182.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+PredationMatrix">PredationMatrix</a></code>, <code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code>, 
<code><a href="#topic+TrophicSpecies">TrophicSpecies</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

I &lt;- TrophicSimilarity(TL84)
I

MeanMaximumTrophicSimilarity(TL84)
</code></pre>

<hr>
<h2 id='TrophicSpecies'>Trophic species</h2><span id='topic+TrophicSpecies'></span>

<h3>Description</h3>

<p>A function that computes trophic species numbers.</p>


<h3>Usage</h3>

<pre><code class='language-R'>TrophicSpecies(community, include.isolated=TRUE)</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="TrophicSpecies_+3A_community">community</code></td>
<td>
<p>an object of class <code>Community</code>.</p>
</td></tr>
<tr><td><code id="TrophicSpecies_+3A_include.isolated">include.isolated</code></td>
<td>
<p>if <code>TRUE</code> then nodes for which 
<code>IsIsolatedNode</code> is <code>TRUE</code> are given their own trophic species 
number. If <code>FALSE</code> the isolated species are assigned a trophic species 
of <code>NA</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Returns a vector containing the trophic species number of each
node in the community. Nodes with identical sets of prey and predators
are given the same trophic species number.</p>


<h3>Value</h3>

<p>A vector of length <code>NumberOfNodes</code>.</p>


<h3>Author(s)</h3>

<p>Lawrence Hudson</p>


<h3>References</h3>

<p>Briand, F. and Cohen, J.E. 1984 Community food webs have scale-invariant 
structure Nature <b>307</b>, 264&ndash;267.
</p>
<p>Pimm, S.L. and Lawton, J.H. and Cohen, J.E. 1991 Food web patterns and their 
consequences Nature <b>350</b>, 669&ndash;674.
</p>
<p>Williams, R.J. and Martinez, N.D. 2000 Simple rules yield complex food webs
<b>404</b>, 180&ndash;183.
</p>
<p>Jonsson, T. and Cohen, J.E. and Carpenter, S.R. 2005 
Food webs, body size, and species abundance in ecological community 
description. Advances in Ecological Research <b>36</b>, 1&ndash;84.</p>


<h3>See Also</h3>

<p><code><a href="#topic+Community">Community</a></code>, <code><a href="#topic+IsIsolatedNode">IsIsolatedNode</a></code>, 
<code><a href="#topic+NPS">NPS</a></code>, <code><a href="#topic+LumpTrophicSpecies">LumpTrophicSpecies</a></code>, 
<code><a href="#topic+NumberOfNodes">NumberOfNodes</a></code></p>


<h3>Examples</h3>

<pre><code class='language-R'>data(TL84)

# Isolated nodes assigned their own trophic species number
TrophicSpecies(TL84)

# Isolated nodes assigned a trophic species of NA
TrophicSpecies(TL84, include.isolated=FALSE)

# Compare including and excluding isolated nodes
NPS(TL84, list(TS1='TrophicSpecies', 
               TS2=list('TrophicSpecies', include.isolated=FALSE), 
               Iso='IsIsolatedNode'))
</code></pre>

<hr>
<h2 id='YthanEstuary'>Ythan Estuary</h2><span id='topic+YthanEstuary'></span>

<h3>Description</h3>

<p>The community of Ythan Estuary. 
</p>
<p>Taxonomic classification for 
birds: Dickinson et al (2003), 
fish: Froese and Pauly (2012), 
invertebrates: Appeltans et al (2012), 
mammals: Wilson and Reeder (2005), 
phytoplankton: Guiry and Guiry (2012).
</p>


<h3>Format</h3>

<p><code>Community</code>.</p>


<h3>Source</h3>

<p>Hall and Raffaelli, 1991; Emmerson and Raffaelli, 2004.</p>


<h3>References</h3>

<p>Appeltans W., Bouchet P., Boxshall G.A., De Broyer C., de Voogd N.J., 
Gordon D.P., Hoeksema B.W., Horton T., Kennedy M., Mees J., Poore G.C.B., 
Read G., St\&quot;ohr S., Walter T.C., Costello M.J. Editors. (2012) World 
Register of Marine Species. Accessed at <a href="https://www.marinespecies.org">https://www.marinespecies.org</a> on
2012-09-20.
</p>
<p>Dickinson, E.C., ed. (2003) The Howard and Moore complete checklist of the 
birds of the world, Christopher Helm, London, third edition.
</p>
<p>Emmerson, M.C. and Raffaelli, D. (2004) Predator-prey body size, interaction 
strength and the stability of a real food web. Journal of Animal Ecology 
<b>73</b>, 3, 399&ndash;409.
</p>
<p>Froese, R. and Pauly, D., eds. 2012. FishBase. World Wide Web electronic 
publication. <a href="https://www.fishbase.se">https://www.fishbase.se</a>, version (08/2012).
</p>
<p>Guiry, M.D. and Guiry, G.M. (2012) AlgaeBase. World-wide electronic 
publication, National University of Ireland, Galway. 
<a href="https://www.algaebase.org">https://www.algaebase.org</a>; searched on 20 September 2012.
</p>
<p>Hall, S.J. and Raffaelli, D. (1991) Food-web patterns: lessons from a 
species-rich web. Journal of Animal Ecology. <b>60</b>, 3, 823&ndash;841.
</p>
<p>Wilson, D.E. and Reeder, D.M., eds. (2005) Mammal species of the world. A 
taxonomic and geographic reference. Johns Hopkins University Press, third 
edition.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

<!DOCTYPE html><html lang="en"><head><title>Help for package igr</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {igr}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#igr-package'><p>igr: Irish Grid Reference Utilities</p></a></li>
<li><a href='#ig_to_igr'><p>Convert Irish Grid coordinates to Irish grid references</p></a></li>
<li><a href='#igr_is_valid'><p>Check if Irish grid references are valid</p></a></li>
<li><a href='#igr_to_ig'><p>Convert Irish grid references to Irish Grid coordinates</p></a></li>
<li><a href='#st_igr_as_sf'><p>Convert a data frame containing Irish grid references into an sf object</p></a></li>
<li><a href='#st_irishgridrefs'><p>Generate Irish grid references from an sf object</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Title:</td>
<td>Irish Grid Reference Utilities</td>
</tr>
<tr>
<td>Version:</td>
<td>1.0.0</td>
</tr>
<tr>
<td>Description:</td>
<td>Convert between Irish grid references and Irish Grid coordinates. Irish grid 
    references can also be converted to or from an 'sf' object in any coordinate reference 
    system. Precisions from 1 m to 100 km including 2 km (tetrads) are supported, as are 
    datasets with mixed precision. Conversion to 'sf' polygons is precision-aware.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-3">GPL (&ge; 3)</a></td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/digitalnature-ie/igr">https://github.com/digitalnature-ie/igr</a>,
<a href="https://digitalnature-ie.github.io/igr/">https://digitalnature-ie.github.io/igr/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/digitalnature-ie/igr/issues">https://github.com/digitalnature-ie/igr/issues</a></td>
</tr>
<tr>
<td>Imports:</td>
<td>sf</td>
</tr>
<tr>
<td>Suggests:</td>
<td>knitr, maps, rmarkdown, testthat (&ge; 3.0.0), tmap, units</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>Config/testthat/edition:</td>
<td>3</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.2</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2025-01-07 17:09:30 UTC; jkenn</td>
</tr>
<tr>
<td>Author:</td>
<td>John Kennedy <a href="https://orcid.org/0000-0002-1128-987X"><img alt="ORCID iD"  src="https://cloud.R-project.org/web/orcid.svg" style="width:16px; height:16px; margin-left:4px; margin-right:4px; vertical-align:middle" /></a>
    [aut, cre, cph],
  Digital Nature [fnd]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>John Kennedy &lt;john@digitalnature.ie&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2025-01-07 17:40:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='igr-package'>igr: Irish Grid Reference Utilities</h2><span id='topic+igr'></span><span id='topic+igr-package'></span>

<h3>Description</h3>

<p><img src="../help/figures/logo.png" style='float: right' alt='logo' width='120' />
</p>
<p>Convert between Irish grid references and Irish Grid coordinates. Irish grid references can also be converted to or from an 'sf' object in any coordinate reference system. Precisions from 1 m to 100 km including 2 km (tetrads) are supported, as are datasets with mixed precision. Conversion to 'sf' polygons is precision-aware.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: John Kennedy <a href="mailto:john@digitalnature.ie">john@digitalnature.ie</a> (<a href="https://orcid.org/0000-0002-1128-987X">ORCID</a>) [copyright holder]
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Digital Nature [funder]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/digitalnature-ie/igr">https://github.com/digitalnature-ie/igr</a>
</p>
</li>
<li> <p><a href="https://digitalnature-ie.github.io/igr/">https://digitalnature-ie.github.io/igr/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/digitalnature-ie/igr/issues">https://github.com/digitalnature-ie/igr/issues</a>
</p>
</li></ul>


<hr>
<h2 id='ig_to_igr'>Convert Irish Grid coordinates to Irish grid references</h2><span id='topic+ig_to_igr'></span>

<h3>Description</h3>

<p><code>ig_to_igr()</code> converts valid Irish Grid (EPSG:29903) coordinates to Irish grid
references at the specified precision.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>ig_to_igr(x, digits = 3, precision = NULL, sep = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="ig_to_igr_+3A_x">x</code></td>
<td>
<p>A matrix containing Irish Grid X and Y coordinates in the first and
second columns respectively.</p>
</td></tr>
<tr><td><code id="ig_to_igr_+3A_digits">digits</code></td>
<td>
<p>An integer, the number of digits for both easting and northing
in the Irish grid references.
</p>

<ul>
<li> <p><code>0</code>: equivalent to a precision of 100 km.
</p>
</li>
<li> <p><code>1</code>: equivalent to a precision of 10 km.
</p>
</li>
<li> <p><code>2</code>: equivalent to a precision of 1 km.
</p>
</li>
<li> <p><code>3</code> (the default): equivalent to a precision of 100 m.
</p>
</li>
<li> <p><code>4</code>: equivalent to a precision of 10 m.
</p>
</li>
<li> <p><code>5</code>: equivalent to a precision of 1 m.
</p>
</li></ul>
</td></tr>
<tr><td><code id="ig_to_igr_+3A_precision">precision</code></td>
<td>
<p>An integer, the precision of the Irish grid references in
metres: <code>1</code>, <code>10</code>, <code>100</code>, <code>1000</code>, <code>2000</code>, <code>10000</code>, or <code>100000</code>. Overrides
<code>digits</code>. Use <code>2000</code> to produce the tetrad form of Irish grid reference.</p>
</td></tr>
<tr><td><code id="ig_to_igr_+3A_sep">sep</code></td>
<td>
<p>A character string to place between the 100 km grid letter,
easting, northing, and tetrad.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Either <code>digits</code> or <code>precision</code> must be specified. <code>precision</code> overrides
<code>digits</code>.
</p>


<h3>Value</h3>

<p>A character vector of Irish grid references.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A matrix of Irish Grid coordinates
m &lt;- matrix(c(0, 412300, 0, 98700, 456000, 0), byrow = TRUE, ncol = 2)

m

# Convert to Irish grid references
ig_to_igr(m)

# Insert a space between the 100 km grid letter, easting, and northing
ig_to_igr(m, sep = " ")

# Convert into Irish grid references with 4 digit easting and northing (10 m precision)
ig_to_igr(m, digits = 4)

# Convert into Irish grid references with 1 km precision (2 digit easting and northing)
ig_to_igr(m, precision = 1000)

# Convert into Irish grid references with 2 km precision (tetrad form)
ig_to_igr(m, precision = 2000)
</code></pre>

<hr>
<h2 id='igr_is_valid'>Check if Irish grid references are valid</h2><span id='topic+igr_is_valid'></span>

<h3>Description</h3>

<p><code>igr_is_valid()</code> identifies valid Irish grid references.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>igr_is_valid(x, tetrad = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="igr_is_valid_+3A_x">x</code></td>
<td>
<p>A character vector of Irish grid references.</p>
</td></tr>
<tr><td><code id="igr_is_valid_+3A_tetrad">tetrad</code></td>
<td>
<p>Permit tetrad form of Irish grid reference?</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Valid Irish grid references consist of a letter (other than I) optionally
followed by both an easting and northing. The easting and northing must be of
the same length of between 1 and 5 digits. There may be whitespace between
the letter, easting and northing.
</p>
<p>The tetrad form of Irish grid reference consists of a valid 10 km precision
Irish grid reference (one letter, one digit easting and one digit northing)
followed by a letter (other than O). This refers to a 2 km square within the
10 km square referenced.
</p>


<h3>Value</h3>

<p>A logical vector indicating the validity of each Irish grid
reference.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A vector of alternating valid and invalid Irish grid references
v &lt;- c("N8090", "D 12 345 88800", "W34", "I30", "W", "A123", "B1234", "", "A12Z", "A12O")

# Check validity of Irish Grid coordinates
igr_is_valid(v)

# Check validity of Irish Grid coordinates, disallowing tetrad form
igr_is_valid(v, tetrad = FALSE) 
</code></pre>

<hr>
<h2 id='igr_to_ig'>Convert Irish grid references to Irish Grid coordinates</h2><span id='topic+igr_to_ig'></span>

<h3>Description</h3>

<p><code>igr_to_ig()</code> converts Irish grid references into a list of Irish Grid
(EPSG:29903) X and Y coordinates. By default the coordinates of the south
west corners of each Irish grid reference are calculated. The precision of each
Irish grid reference in metres can be returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>igr_to_ig(
  x,
  coords = c("x", "y"),
  centroids = FALSE,
  precision = NULL,
  tetrad = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="igr_to_ig_+3A_x">x</code></td>
<td>
<p>A character vector of Irish grid references. See <code><a href="#topic+igr_is_valid">igr_is_valid()</a></code>
for a definition of valid Irish grid references.</p>
</td></tr>
<tr><td><code id="igr_to_ig_+3A_coords">coords</code></td>
<td>
<p>A character vector of the names of the columns to contain the
Irish Grid X and Y coordinates respectively.</p>
</td></tr>
<tr><td><code id="igr_to_ig_+3A_centroids">centroids</code></td>
<td>
<p>Should the coordinates of the centroids of the Irish grid
references be returned (rather than the south west corners)?</p>
</td></tr>
<tr><td><code id="igr_to_ig_+3A_precision">precision</code></td>
<td>
<p>The name of the column to contain the precision of each
Irish grid reference in metres, if required.</p>
</td></tr>
<tr><td><code id="igr_to_ig_+3A_tetrad">tetrad</code></td>
<td>
<p>Permit tetrad form of Irish grid reference?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list containing Irish Grid X and Y coordinates and, optionally, the
precision in metres of each Irish grid reference. Invalid or missing Irish
grid references return NA.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A vector of Irish grid references of different precisions
v &lt;- c("N8090", "D1234588800", "W34", "", "D12T")

# Convert south west corners of Irish grid references to Irish Grid coordinates
igr_to_ig(v)

# Convert centroids of Irish grid references to Irish Grid coordinates
igr_to_ig(v, centroids = TRUE)

# Specify column names
igr_to_ig(v, coords = c("e", "n"))

# Also return the precision in metres of each Irish grid reference
igr_to_ig(v, precision = "prec")
</code></pre>

<hr>
<h2 id='st_igr_as_sf'>Convert a data frame containing Irish grid references into an sf object</h2><span id='topic+st_igr_as_sf'></span>

<h3>Description</h3>

<p><code>st_igr_as_sf()</code> converts a data frame containing Irish grid references into
an sf object containing point or polygon features. If points, the south west
corners of the grid references are returned. If polygons, squares spanning
the full extent of each grid reference are returned, with each square's size
depending on the precision of each grid reference. The Irish Grid
(EPSG:29903) X and Y coordinates and grid reference precision in metres can
also be returned.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_igr_as_sf(
  x,
  igrefs = "igr",
  crs = 29903,
  remove = FALSE,
  add_coords = FALSE,
  coords = c("x", "y"),
  centroids = FALSE,
  precision = NULL,
  polygons = FALSE,
  tetrad = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="st_igr_as_sf_+3A_x">x</code></td>
<td>
<p>A data.frame containing a column of valid Irish grid references. It
must not have column names specified in <code>coords</code>.</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_igrefs">igrefs</code></td>
<td>
<p>The name or index of the character column holding Irish grid
references.</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_crs">crs</code></td>
<td>
<p>A valid EPSG value (numeric), a string accepted by GDAL, or an
object of class crs containing the coordinate reference system to be
assigned. See <code><a href="sf.html#topic+st_crs">sf::st_crs()</a></code>.</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_remove">remove</code></td>
<td>
<p>Should the column containing the Irish grid references be
removed from the result?</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_add_coords">add_coords</code></td>
<td>
<p>Should the Irish Grid coordinates with column names
specified by <code>coords</code> be included in the result?</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_coords">coords</code></td>
<td>
<p>A character vector of the names of the columns to contain the
Irish Grid X and Y coordinates respectively.</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_centroids">centroids</code></td>
<td>
<p>Should the coordinates of the centroids of the Irish grid
references be returned (rather than the south west corners)?</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_precision">precision</code></td>
<td>
<p>The name of the column to contain the precision of each
Irish grid reference in metres, if required.</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_polygons">polygons</code></td>
<td>
<p>If <code>FALSE</code> (the default) the result will contain point
features located at the south-west corner of each Irish grid reference. If
<code>TRUE</code> the result will contain polygon features spanning the extent of each
Irish grid reference.</p>
</td></tr>
<tr><td><code id="st_igr_as_sf_+3A_tetrad">tetrad</code></td>
<td>
<p>Permit tetrad form of Irish grid reference?</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An sf object containing point or polygon features for each Irish grid
reference in x.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># A data.frame containing Irish grid references
x &lt;- data.frame(igr = c("A00", "N8000", "D12T"))

# Convert a data.frame of Irish grid references to an sf object in the
# Irish Grid coordinate reference system
st_igr_as_sf(x, "igr")

# Convert to an sf object in the WGS 84 coordinate reference system
st_igr_as_sf(x, "igr", crs = 4326)

# Include the Irish Grid coordinates and precision in the sf object
st_igr_as_sf(x, "igr", add_coords = TRUE, precision = "prec")

# Convert into polygon features rather than point features
st_igr_as_sf(x, "igr", polygons = TRUE)

</code></pre>

<hr>
<h2 id='st_irishgridrefs'>Generate Irish grid references from an sf object</h2><span id='topic+st_irishgridrefs'></span>

<h3>Description</h3>

<p><code>st_irishgridrefs()</code> returns the Irish grid references for all features in an
sf object of point geometries. Features located outside the Irish Grid
(EPSG:29903) extent are returned as NA.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>st_irishgridrefs(x, digits = 3, precision = NULL, sep = "")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="st_irishgridrefs_+3A_x">x</code></td>
<td>
<p>An sf object containing geometries of type POINT.</p>
</td></tr>
<tr><td><code id="st_irishgridrefs_+3A_digits">digits</code></td>
<td>
<p>An integer, the number of digits for both easting and northing
in the Irish grid references.
</p>

<ul>
<li> <p><code>0</code>: equivalent to a precision of 100 km.
</p>
</li>
<li> <p><code>1</code>: equivalent to a precision of 10 km.
</p>
</li>
<li> <p><code>2</code>: equivalent to a precision of 1 km.
</p>
</li>
<li> <p><code>3</code> (the default): equivalent to a precision of 100 m.
</p>
</li>
<li> <p><code>4</code>: equivalent to a precision of 10 m.
</p>
</li>
<li> <p><code>5</code>: equivalent to a precision of 1 m.
</p>
</li></ul>
</td></tr>
<tr><td><code id="st_irishgridrefs_+3A_precision">precision</code></td>
<td>
<p>An integer, the precision of the Irish grid references in
metres: <code>1</code>, <code>10</code>, <code>100</code>, <code>1000</code>, <code>2000</code>, <code>10000</code>, or <code>100000</code>. Overrides
<code>digits</code>. Use <code>2000</code> to produce the tetrad form of Irish grid reference.</p>
</td></tr>
<tr><td><code id="st_irishgridrefs_+3A_sep">sep</code></td>
<td>
<p>A character string to place between the 100 km grid letter,
easting, northing, and tetrad.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A character vector of Irish grid references.
</p>


<h3>Examples</h3>

<pre><code class='language-R'># An sf object containing point data
x_sf &lt;- sf::st_as_sf(data.frame(x = c(0, 490000), y = c(400000, 0)),
  crs = 29903,
  coords = c("x", "y")
)

# Convert to Irish grid references
st_irishgridrefs(x_sf)

# Convert into Irish grid references with 4 digit easting and northing (10 m precision)
st_irishgridrefs(x_sf, digits = 4)

# Convert into Irish grid references with 1 km precision (2 digit easting and northing)
st_irishgridrefs(x_sf, precision = 1000)

# Convert into Irish grid references with 2 km precision (tetrad form)
st_irishgridrefs(x_sf, precision = 2000)

# Insert a space between the 100 km grid letter, easting, and northing
st_irishgridrefs(x_sf, sep = " ")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

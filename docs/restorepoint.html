<!DOCTYPE html><html><head><title>Help for package restorepoint</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {restorepoint}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add.restore.point.test'><p>Add one or several test functions</p></a></li>
<li><a href='#assert'><p>Checks whether cond holds true if not throws an error</p></a></li>
<li><a href='#break.point'><p>Sets a break point that can be debugged like a restore point</p></a></li>
<li><a href='#calls.to.trace'><p>Transforms a list returned by sys.calls into a vector of strings that looks like a result of traceback()</p></a></li>
<li><a href='#can.parse.multi.line'><p>Checks whether for the installed R version the function env.console is able to correctly parse R expressions that extend over more than a line</p></a></li>
<li><a href='#clone.environment'><p>Deep copy of an environment</p></a></li>
<li><a href='#copy.into.env'><p>Copies all members of a list or environment into an environment</p></a></li>
<li><a href='#default.error.string.fun'><p>A default error string function for eval with error trace</p></a></li>
<li><a href='#disable.restore.points'><p>Globally disable or enable restore points</p></a></li>
<li><a href='#env.console'><p>Emulates an R console that evaluates expressions in the specified environement env. You return to the standard R console by pressing ESC</p></a></li>
<li><a href='#eval.with.error.trace'><p>Evals the expression such that if an error is encountered a traceback is added to the error message.</p></a></li>
<li><a href='#get.restore.point.options'><p>Get global options for restore points</p></a></li>
<li><a href='#get.stored.dots'><p>Returns the ellipsis (...) that has been stored in restore.point name as a list</p></a></li>
<li><a href='#get.stored.object.list'><p>Retrieves the list of all restore.points with the stored objects</p></a></li>
<li><a href='#is.storing'><p>Check whether objects currently are stored or not</p></a></li>
<li><a href='#restore.objects'><p>Restore stored objects by copying them into the specified environment. Is used by restore.point</p></a></li>
<li><a href='#restore.point'><p>Sets a restore point</p></a></li>
<li><a href='#restore.point.browser'><p>Examing a previously stored restore point by invoking the browser.</p></a></li>
<li><a href='#restore.point.options'><p>Set global options for restore points</p></a></li>
<li><a href='#set.storing'><p>Set whether objects shall be stored or not</p></a></li>
<li><a href='#store.objects'><p>Stores all local objects of the calling environment to be able to restore them later when debugging. Is used by restore.point</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Debugging with Restore Points</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2</td>
</tr>
<tr>
<td>Date:</td>
<td>2018-12-20</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/skranz/restorepoint">https://github.com/skranz/restorepoint</a></td>
</tr>
<tr>
<td>Author:</td>
<td>Sebastian Kranz [aut, cre], Roman Zenka [ctb]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Roman Zenka &lt;zenka.roman@mayo.edu&gt;</td>
</tr>
<tr>
<td>Description:</td>
<td>Debugging with restore points instead of break points. A restore
    point stores all local variables when called inside a function. The stored
    values can later be retrieved and evaluated in a modified R console that
    replicates the function's environment. To debug step by step, one can simply
    copy &amp; paste the function body from the R script. Particularly convenient
    in combination with "RStudio". See the "Github" page inst/vignettes for a
    tutorial.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a> | <a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a> [expanded from: GPL (&ge; 2)]</td>
</tr>
<tr>
<td>Collate:</td>
<td>'restorepoint.R'</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>6.0.1</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2018-12-20 17:40:11 UTC; m044910</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2019-01-02 23:10:14 UTC</td>
</tr>
</table>
<hr>
<h2 id='add.restore.point.test'>Add one or several test functions</h2><span id='topic+add.restore.point.test'></span>

<h3>Description</h3>

<p>A test function is called after a restore point
has stored data. It must have an argument env and name.
It can check whether certain conditions are satisfied by the variables
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add.restore.point.test(...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add.restore.point.test_+3A_...">...</code></td>
<td>
<p>a slist of test functions that will be called with the stored arguments</p>
</td></tr>
</table>

<hr>
<h2 id='assert'>Checks whether cond holds true if not throws an error</h2><span id='topic+assert'></span>

<h3>Description</h3>

<p>Can be used for checking for errors in functions
</p>


<h3>Usage</h3>

<pre><code class='language-R'>assert(cond)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="assert_+3A_cond">cond</code></td>
<td>
<p>a condition that is checked</p>
</td></tr>
</table>

<hr>
<h2 id='break.point'>Sets a break point that can be debugged like a restore point</h2><span id='topic+break.point'></span>

<h3>Description</h3>

<p>This function can be used as an alternative to browser(). When called inside a function, break.point stores all local objects and then does the following. i) If to global=FALSE (the default for break.point) starts the restore.point.browser for the local objects. ii) if to.global=TRUE copies the local objects to the global environment and stops execution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>break.point(name = "BREAK_POINT___",
  to.global = get.restore.point.options()$break.point.to.global,
  deep.copy = get.restore.point.options()$deep.copy, force = FALSE,
  dots = eval(substitute(list(...), env = parent.frame())))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="break.point_+3A_name">name</code></td>
<td>
<p>key under which the objects are stored. For restore points at the beginning of a function, I would suggest the name of that function.</p>
</td></tr>
<tr><td><code id="break.point_+3A_to.global">to.global</code></td>
<td>
<p>if TRUE (default) objects are restored by simply copying them into the global environment. If FALSE a new environment will be created and the restore point browser will be invoked.</p>
</td></tr>
<tr><td><code id="break.point_+3A_deep.copy">deep.copy</code></td>
<td>
<p>if TRUE try to make deep copies of  objects that are by default copied by reference. Works so far for environments (recursivly). The function will search lists whether they contain reference objects, but for reasons of speed not yet in other containers. E.g. if an evironment is stored in a data.frame, only a shallow copy will be made. Setting deep.copy = FALSE (DEFAULT) may be useful if storing takes very long and variables that are copied by reference are not used or not modified.</p>
</td></tr>
<tr><td><code id="break.point_+3A_force">force</code></td>
<td>
<p>store even if set.storing(FALSE) has been called</p>
</td></tr>
<tr><td><code id="break.point_+3A_dots">dots</code></td>
<td>
<p>by default a list of the ... argument of the function in whicht restore.point was called</p>
</td></tr>
</table>


<h3>Details</h3>

<p>An alternative to break points are restore points. In the tutorial on GitHub, I provide some arguments how restore points can facilitate debugging compared to break points.
</p>

<hr>
<h2 id='calls.to.trace'>Transforms a list returned by sys.calls into a vector of strings that looks like a result of traceback()</h2><span id='topic+calls.to.trace'></span>

<h3>Description</h3>

<p>Transforms a list returned by sys.calls into a vector of strings that looks like a result of traceback()
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calls.to.trace(calls = sys.calls(), max.lines = 4)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calls.to.trace_+3A_calls">calls</code></td>
<td>
<p>a list of calls, e.g. returned by sys.calls</p>
</td></tr>
<tr><td><code id="calls.to.trace_+3A_max.lines">max.lines</code></td>
<td>
<p>as in traceback()</p>
</td></tr>
</table>


<h3>Value</h3>

<p>a character vector with one element for each call formated in a similar fashion as traceback() does
</p>

<hr>
<h2 id='can.parse.multi.line'>Checks whether for the installed R version the function env.console is able to correctly parse R expressions that extend over more than a line</h2><span id='topic+can.parse.multi.line'></span>

<h3>Description</h3>

<p>The current implementation of env.console is quite dirty in so far that it parses an error message of the parse() function to check whether a given R expression is assumed to be continued in the next line. That process may not work in R distributions that have error messages that are not in English. The function can.parse.multi.line() tries to check whether that process works or not
@export
</p>


<h3>Usage</h3>

<pre><code class='language-R'>can.parse.multi.line()
</code></pre>

<hr>
<h2 id='clone.environment'>Deep copy of an environment</h2><span id='topic+clone.environment'></span>

<h3>Description</h3>

<p>Deep copy of an environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>clone.environment(env, use.copied.ref = FALSE, all.names = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="clone.environment_+3A_env">env</code></td>
<td>
<p>the environment to be cloned</p>
</td></tr>
<tr><td><code id="clone.environment_+3A_use.copied.ref">use.copied.ref</code></td>
<td>
<p>internal</p>
</td></tr>
<tr><td><code id="clone.environment_+3A_all.names">all.names</code></td>
<td>
<p>passed to eapply</p>
</td></tr>
</table>

<hr>
<h2 id='copy.into.env'>Copies all members of a list or environment into an environment</h2><span id='topic+copy.into.env'></span>

<h3>Description</h3>

<p>Copies all members of a list or environment into an environment
</p>


<h3>Usage</h3>

<pre><code class='language-R'>copy.into.env(source = sys.frame(sys.parent(1)),
  dest = sys.frame(sys.parent(1)), names = NULL, exclude = NULL,
  from.restore.objects = FALSE, overwrite = TRUE, all.names = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="copy.into.env_+3A_source">source</code></td>
<td>
<p>a list or environment from which objects are copied</p>
</td></tr>
<tr><td><code id="copy.into.env_+3A_dest">dest</code></td>
<td>
<p>the environment into which objects are copied</p>
</td></tr>
<tr><td><code id="copy.into.env_+3A_names">names</code></td>
<td>
<p>optionally a vector of names that shall be copied. If null all objects are copied</p>
</td></tr>
<tr><td><code id="copy.into.env_+3A_exclude">exclude</code></td>
<td>
<p>optionally a vector of names that shall not be copied</p>
</td></tr>
<tr><td><code id="copy.into.env_+3A_from.restore.objects">from.restore.objects</code></td>
<td>
<p>internal paramater keep FALSE</p>
</td></tr>
<tr><td><code id="copy.into.env_+3A_overwrite">overwrite</code></td>
<td>
<p>should existing objects in dest with same name be overwritten?</p>
</td></tr>
<tr><td><code id="copy.into.env_+3A_all.names">all.names</code></td>
<td>
<p>if TRUE copy all objects if names=NULL, if FALSE omit variables starting with .</p>
</td></tr>
</table>

<hr>
<h2 id='default.error.string.fun'>A default error string function for eval with error trace</h2><span id='topic+default.error.string.fun'></span>

<h3>Description</h3>

<p>A default error string function for eval with error trace
</p>


<h3>Usage</h3>

<pre><code class='language-R'>default.error.string.fun(e, tb)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="default.error.string.fun_+3A_e">e</code></td>
<td>
<p>the error object</p>
</td></tr>
<tr><td><code id="default.error.string.fun_+3A_tb">tb</code></td>
<td>
<p>a character vector of the traceback</p>
</td></tr>
</table>

<hr>
<h2 id='disable.restore.points'>Globally disable or enable restore points</h2><span id='topic+disable.restore.points'></span>

<h3>Description</h3>

<p>Globally disable or enable restore points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>disable.restore.points(disable = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="disable.restore.points_+3A_disable">disable</code></td>
<td>
<p>if TRUE globaly disable restore points. This speeds up calls to restore.point quickly. Is faster than set.storing(FALSE), but has no informative messages when restore.point is called from the global env.</p>
</td></tr>
</table>

<hr>
<h2 id='env.console'>Emulates an R console that evaluates expressions in the specified environement env. You return to the standard R console by pressing ESC</h2><span id='topic+env.console'></span>

<h3>Description</h3>

<p>Emulates an R console that evaluates expressions in the specified environement env. You return to the standard R console by pressing ESC
</p>


<h3>Usage</h3>

<pre><code class='language-R'>env.console(env = new.env(parent = parent.env), parent.env = parent.frame(),
  dots = NULL, prompt = ": ",
  startup.message = "Press ESC to return to standard R console",
  multi.line.parse.error = get.restore.point.options()$multi.line.parse.error,
  local.variables = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="env.console_+3A_env">env</code></td>
<td>
<p>The environment in which expressions shall be evaluated. If not specified then a new environment with the given parent.env is created.</p>
</td></tr>
<tr><td><code id="env.console_+3A_parent.env">parent.env</code></td>
<td>
<p>If env is not specified the parent environemnt in which the new environment shall be created</p>
</td></tr>
<tr><td><code id="env.console_+3A_dots">dots</code></td>
<td>
<p>a list that contains values for the ellipsies ... that will be used if you call other functions like fun(...) from within the console. You can access the values inside the console by typing list(...)</p>
</td></tr>
<tr><td><code id="env.console_+3A_prompt">prompt</code></td>
<td>
<p>The prompt that shall be shown in the emulated console. Default = &quot;: &quot;</p>
</td></tr>
<tr><td><code id="env.console_+3A_startup.message">startup.message</code></td>
<td>
<p>The text that is shown when env.console is started</p>
</td></tr>
<tr><td><code id="env.console_+3A_multi.line.parse.error">multi.line.parse.error</code></td>
<td>
<p>A substring used to identify an error by parse that is due to parsing the beginning of a multi-line expression. The substring can depend on the language of R error messages. The packages tries to find a correct substring automatically as default.</p>
</td></tr>
<tr><td><code id="env.console_+3A_local.variables">local.variables</code></td>
<td>
<p>additional variables that shall be locally available</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Returns nothing since the function must be stopped by pressing ESC.
</p>

<hr>
<h2 id='eval.with.error.trace'>Evals the expression such that if an error is encountered a traceback is added to the error message.</h2><span id='topic+eval.with.error.trace'></span>

<h3>Description</h3>

<p>This function is mostly useful within a tryCatch clause 
Adapted from code in tools:::.try_quietly
as suggested by Kurt Hornik in the following message
https://stat.ethz.ch/pipermail/r-devel/2005-September/034546.html
</p>


<h3>Usage</h3>

<pre><code class='language-R'>eval.with.error.trace(expr, max.lines = 4, remove.early.calls = 0,
  error.string.fun = default.error.string.fun)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="eval.with.error.trace_+3A_expr">expr</code></td>
<td>
<p>the expression to be evaluated</p>
</td></tr>
<tr><td><code id="eval.with.error.trace_+3A_max.lines">max.lines</code></td>
<td>
<p>as in traceback()</p>
</td></tr>
<tr><td><code id="eval.with.error.trace_+3A_remove.early.calls">remove.early.calls</code></td>
<td>
<p>an integer specifying a number of calls that won't be shown in the trace.</p>
</td></tr>
<tr><td><code id="eval.with.error.trace_+3A_error.string.fun">error.string.fun</code></td>
<td>
<p>a function(e,tb) that takes as arguments an error e and a string vector tb of the stack trace resulting from a call to calls.to.trace() and returns a string with the extended error message</p>
</td></tr>
</table>


<h3>Value</h3>

<p>If no error occurs the value of expr, otherwise an error is thrown with an error message that contains the stack trace of the error.
</p>

<hr>
<h2 id='get.restore.point.options'>Get global options for restore points</h2><span id='topic+get.restore.point.options'></span>

<h3>Description</h3>

<p>Get global options for restore points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.restore.point.options()
</code></pre>

<hr>
<h2 id='get.stored.dots'>Returns the ellipsis (...) that has been stored in restore.point name as a list</h2><span id='topic+get.stored.dots'></span>

<h3>Description</h3>

<p>Returns the ellipsis (...) that has been stored in restore.point name as a list
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.stored.dots(name, deep.copy = FALSE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get.stored.dots_+3A_name">name</code></td>
<td>
<p>the name whith which restore.point or store.objects has been called.</p>
</td></tr>
<tr><td><code id="get.stored.dots_+3A_deep.copy">deep.copy</code></td>
<td>
<p>shall a deep copy of stored objects be made</p>
</td></tr>
</table>

<hr>
<h2 id='get.stored.object.list'>Retrieves the list of all restore.points with the stored objects</h2><span id='topic+get.stored.object.list'></span>

<h3>Description</h3>

<p>Retrieves the list of all restore.points with the stored objects
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get.stored.object.list()
</code></pre>

<hr>
<h2 id='is.storing'>Check whether objects currently are stored or not</h2><span id='topic+is.storing'></span>

<h3>Description</h3>

<p>Check whether objects currently are stored or not
</p>


<h3>Usage</h3>

<pre><code class='language-R'>is.storing()
</code></pre>

<hr>
<h2 id='restore.objects'>Restore stored objects by copying them into the specified environment. Is used by restore.point</h2><span id='topic+restore.objects'></span>

<h3>Description</h3>

<p>Restore stored objects by copying them into the specified environment. Is used by restore.point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restore.objects(name, dest = globalenv(), was.forced = FALSE,
  deep.copy = get.restore.point.options()$deep.copy)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restore.objects_+3A_name">name</code></td>
<td>
<p>name under which the variables have been stored</p>
</td></tr>
<tr><td><code id="restore.objects_+3A_dest">dest</code></td>
<td>
<p>environment into which the stored variables shall be copied. By default the global environment.</p>
</td></tr>
<tr><td><code id="restore.objects_+3A_was.forced">was.forced</code></td>
<td>
<p>flag whether storage of objects was forced. If FALSE (default) a warning is shown if restore.objects is called and is.storing()==FALSE, since probably no objects have been stored.</p>
</td></tr>
<tr><td><code id="restore.objects_+3A_deep.copy">deep.copy</code></td>
<td>
<p>when storing or restoring tries to make a deep copy of R objects that are by default copied by reference, like environments. Setting deep.copy = FALSE can substantially speed up restore.point, however.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns nothing but automatically copies the stored variables into the global environment
</p>

<hr>
<h2 id='restore.point'>Sets a restore point</h2><span id='topic+restore.point'></span>

<h3>Description</h3>

<p>The function behaves different when called from a function or when called from the global environemnt. When called from a function, it makes a backup copy of all local objects and stores them internally under a key specified by name. When called from the global environment, it restores the previously stored objects by copying them into the global environment. See the package Vignette for an illustration of how this function can facilitate debugging.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restore.point(name, to.global = options$to.global,
  deep.copy = options$deep.copy, force = FALSE,
  display.restore.point = options$display.restore.point,
  indent.level = TRUE, trace.calls = options$trace.calls,
  max.trace.lines = 10, dots = eval(substitute(list(...), env =
  parent.frame())), options = get.restore.point.options())
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restore.point_+3A_name">name</code></td>
<td>
<p>key under which the objects are stored. For restore points at the beginning of a function, I would suggest the name of that function.</p>
</td></tr>
<tr><td><code id="restore.point_+3A_to.global">to.global</code></td>
<td>
<p>if TRUE (default) objects are restored by simply copying them into the global environment. If FALSE a new environment will be created and the restore point browser will be invoked.</p>
</td></tr>
<tr><td><code id="restore.point_+3A_deep.copy">deep.copy</code></td>
<td>
<p>if TRUE try to make deep copies of  objects that are by default copied by reference. Works so far for environments (recursivly). The function will search lists whether they contain reference objects, but for reasons of speed not yet in other containers. E.g. if an evironment is stored in a data.frame, only a shallow copy will be made. Setting deep.copy = FALSE (DEFAULT) may be useful if storing takes very long and variables that are copied by reference are not used or not modified.</p>
</td></tr>
<tr><td><code id="restore.point_+3A_force">force</code></td>
<td>
<p>store even if set.storing(FALSE) has been called</p>
</td></tr>
<tr><td><code id="restore.point_+3A_display.restore.point">display.restore.point</code></td>
<td>
<p>shall a text be shown in the console if restore.point is called. Can be useful when informative tracebacks are not readily availbale, e.g. when debugging shiny apps.</p>
</td></tr>
<tr><td><code id="restore.point_+3A_indent.level">indent.level</code></td>
<td>
<p>when display.restore.point=TRUE shall level of nestedness be illustrated by identation</p>
</td></tr>
<tr><td><code id="restore.point_+3A_trace.calls">trace.calls</code></td>
<td>
<p>when objects are restored, shall a traceback be shown</p>
</td></tr>
<tr><td><code id="restore.point_+3A_max.trace.lines">max.trace.lines</code></td>
<td>
<p>if trace.calls=TRUE how many lines shall be shown at most in the traceback.</p>
</td></tr>
<tr><td><code id="restore.point_+3A_dots">dots</code></td>
<td>
<p>by default a list of the ... argument of the function in which restore.point was called</p>
</td></tr>
<tr><td><code id="restore.point_+3A_options">options</code></td>
<td>
<p>option list to fill the parameter defaults from</p>
</td></tr>
</table>

<hr>
<h2 id='restore.point.browser'>Examing a previously stored restore point by invoking the browser.</h2><span id='topic+restore.point.browser'></span>

<h3>Description</h3>

<p>The function is mainly for internal use by restore.point.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restore.point.browser(name, was.forced = FALSE,
  message.text = paste("restore point", name, ", press ESC to return."),
  deep.copy = get.restore.point.options()$deep.copy)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restore.point.browser_+3A_name">name</code></td>
<td>
<p>name under which the variables have been stored</p>
</td></tr>
<tr><td><code id="restore.point.browser_+3A_was.forced">was.forced</code></td>
<td>
<p>flag whether storage of objects was forced. If FALSE (default) a warning is shown if restore.objects is called and is.storing()==FALSE, since probably no objects have been stored.</p>
</td></tr>
<tr><td><code id="restore.point.browser_+3A_message.text">message.text</code></td>
<td>
<p>initial shown message</p>
</td></tr>
<tr><td><code id="restore.point.browser_+3A_deep.copy">deep.copy</code></td>
<td>
<p>when storing or restoring tries to make a deep copy of R objects that are by default copied by reference, like environments. Setting deep.copy = FALSE can substantially speed up restore.point, however.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns nothing
</p>

<hr>
<h2 id='restore.point.options'>Set global options for restore points</h2><span id='topic+restore.point.options'></span>

<h3>Description</h3>

<p>Set global options for restore points
</p>


<h3>Usage</h3>

<pre><code class='language-R'>restore.point.options(options = NULL, display.restore.point = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="restore.point.options_+3A_options">options</code></td>
<td>
<p>a list of options that shall be set. Possible options are listed below</p>
</td></tr>
<tr><td><code id="restore.point.options_+3A_display.restore.point">display.restore.point</code></td>
<td>
<p>Makes sure that the display.restore.point option is set to FALSE by default</p>
</td></tr>
<tr><td><code id="restore.point.options_+3A_...">...</code></td>
<td>
<p>options can also directly be passed. The following options can be set:
- storing Default=TRUE enable or disable storing of options, setting storing = FALSE basicially turns off debugging via restore points
- deep.copy Default = FALSE. If TRUE then when storing and restoring tries to make a deep copy of R objects that are by default copied by reference, like environments. deep.copy = FALSE substantially speeds up restore.point.
- to.global Default=TRUE. If  TRUE then when options are restored, they are simply copied into the global environment and the R console is directly used for debugging. If FALSE a browser mode will be started instead. It is still possible to parse all R commands into the browser and to use copy and paste. To quit the browser press ESC in the R console. The advantage of the browser is that all objects are stored in a newly generated environment that mimics the environemnt of the original function, i.e. global varariables are not overwritten. Furthermore in the browser mode, one can pass the ... object to other functions, while this does not work in the global environment. The drawback is that the browser is still not as convenient as the normal R console, e.g. pressing arrow up does not restore the previous command. Also, one has to press Esc to leave the browser mode.</p>
</td></tr>
</table>

<hr>
<h2 id='set.storing'>Set whether objects shall be stored or not</h2><span id='topic+set.storing'></span>

<h3>Description</h3>

<p>Set whether objects shall be stored or not
</p>


<h3>Usage</h3>

<pre><code class='language-R'>set.storing(storing = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="set.storing_+3A_storing">storing</code></td>
<td>
<p>if FALSE don't store objects if restore.point or store.objects is called. May save time. If TRUE (default) turn on storage again.</p>
</td></tr>
</table>

<hr>
<h2 id='store.objects'>Stores all local objects of the calling environment to be able to restore them later when debugging. Is used by restore.point</h2><span id='topic+store.objects'></span>

<h3>Description</h3>

<p>Stores all local objects of the calling environment to be able to restore them later when debugging. Is used by restore.point
</p>


<h3>Usage</h3>

<pre><code class='language-R'>store.objects(name = NULL, parent.num = -1,
  deep.copy = get.restore.point.options()$deep.copy, force = FALSE,
  store.if.called.from.global = FALSE, envir = sys.frame(parent.num),
  store.parent.env = "all.but.global", dots = eval(substitute(list(...), env
  = parent.frame())))
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="store.objects_+3A_name">name</code></td>
<td>
<p>key under which the objects are stored, typical the name of the calling function. If name is NULL by default the name of the calling function is chosen</p>
</td></tr>
<tr><td><code id="store.objects_+3A_parent.num">parent.num</code></td>
<td>
<p>can be used to specify envir=sys.frame(parent.num)</p>
</td></tr>
<tr><td><code id="store.objects_+3A_deep.copy">deep.copy</code></td>
<td>
<p>if TRUE (default) variables that are copied by reference (in the moment environments)  will be stored as deep copy. May take long for large variables but ensures that the value of the stored variable do not change</p>
</td></tr>
<tr><td><code id="store.objects_+3A_force">force</code></td>
<td>
<p>store even if do.store(FALSE) has been called</p>
</td></tr>
<tr><td><code id="store.objects_+3A_store.if.called.from.global">store.if.called.from.global</code></td>
<td>
<p>if the function is called from the global environment and store.if.called.from.global FALSE (default) does not store objects when called from the global environment but does nothing instead.</p>
</td></tr>
<tr><td><code id="store.objects_+3A_envir">envir</code></td>
<td>
<p>the environment from which objects shall be stored. By default the local environemnt of the calling function.</p>
</td></tr>
<tr><td><code id="store.objects_+3A_store.parent.env">store.parent.env</code></td>
<td>
<p>shall objects from enclosing environments of envir also be stored? So far this happens for all enclosing environments except for the global environment or baseenv.</p>
</td></tr>
<tr><td><code id="store.objects_+3A_dots">dots</code></td>
<td>
<p>by default a list of the ... argument of the function in whicht restore.point was called</p>
</td></tr>
</table>


<h3>Value</h3>

<p>returns nothing, just called for side effects
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

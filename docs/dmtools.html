<!DOCTYPE html><html><head><title>Help for package dmtools</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dmtools}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#add_cols'><p>Add columns if columns don't exist</p></a></li>
<li><a href='#calc_diff'><p>Function for calculating the difference between two dates</p></a></li>
<li><a href='#check'><p>Check the dataset</p></a></li>
<li><a href='#check.default'><p>Check the dataset</p></a></li>
<li><a href='#choose_test'><p>Filter the final result</p></a></li>
<li><a href='#choose_test.date'><p>Filter the final result of the object date</p></a></li>
<li><a href='#choose_test.lab'><p>Filter the final result of the object lab</p></a></li>
<li><a href='#create_spec'><p>For creating part of the specification</p></a></li>
<li><a href='#date'><p>Create object date</p></a></li>
<li><a href='#dmtools'><p>dmtools: package to validate data</p></a></li>
<li><a href='#find_colnames'><p>Find column names</p></a></li>
<li><a href='#find_colnames.date'><p>Find column names with dates</p></a></li>
<li><a href='#find_colnames.default'><p>Find column names</p></a></li>
<li><a href='#get_result'><p>Get the final result of the check</p></a></li>
<li><a href='#lab'><p>Create object lab</p></a></li>
<li><a href='#list_parse'><p>A list to a tibble.</p></a></li>
<li><a href='#meddra_auth'><p>Get the token</p></a></li>
<li><a href='#meddra_post'><p>Create the post query</p></a></li>
<li><a href='#rename_dataset'><p>For rename dataset</p></a></li>
<li><a href='#short'><p>Create object short</p></a></li>
<li><a href='#to_dbl'><p>Cast to double type</p></a></li>
<li><a href='#to_long'><p>Reshape the dataset to a long view</p></a></li>
<li><a href='#to_long.date'><p>Reshape the dataset to a long view</p></a></li>
<li><a href='#to_long.lab'><p>Reshape the dataset to a long view</p></a></li>
<li><a href='#to_long.short'><p>Reshape the dataset to a long view</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>Tools for Clinical Data Management</td>
</tr>
<tr>
<td>Version:</td>
<td>0.2.6</td>
</tr>
<tr>
<td>Description:</td>
<td>For checking the dataset from EDC(Electronic Data Capture) in clinical trials.
             'dmtools' reshape your dataset in a tidy view and check events.
             You can reshape the dataset and choose your target to check, for example, the laboratory reference range.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.6)</td>
</tr>
<tr>
<td>Imports:</td>
<td>magrittr (&ge; 1.5), dplyr (&ge; 1.0.0), readxl (&ge; 1.3.1), purrr
(&ge; 0.3.3), lubridate (&ge; 1.7.4), httr (&ge; 1.4.1), tidyr (&ge;
1.1.0), tibble (&ge; 3.0.1), progress (&ge; 1.2.2)</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/KonstantinRyabov/dmtools">https://github.com/KonstantinRyabov/dmtools</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/KonstantinRyabov/dmtools/issues">https://github.com/KonstantinRyabov/dmtools/issues</a></td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.1</td>
</tr>
<tr>
<td>Suggests:</td>
<td>testthat, knitr, rmarkdown</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-11-08 21:49:03 UTC; X7-KR</td>
</tr>
<tr>
<td>Author:</td>
<td>Konstantin Ryabov [aut, cre]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Konstantin Ryabov &lt;chachabooms@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-11-08 22:00:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='add_cols'>Add columns if columns don't exist</h2><span id='topic+add_cols'></span>

<h3>Description</h3>

<p>Add columns if columns don't exist
</p>


<h3>Usage</h3>

<pre><code class='language-R'>add_cols(dset, ds_part, target_cols)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="add_cols_+3A_dset">dset</code></td>
<td>
<p>A data frame. The dataset.</p>
</td></tr>
<tr><td><code id="add_cols_+3A_ds_part">ds_part</code></td>
<td>
<p>A character scalar. Prefix or postfix.</p>
</td></tr>
<tr><td><code id="add_cols_+3A_target_cols">target_cols</code></td>
<td>
<p>A character vector with necessary columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. The dataset.
</p>

<hr>
<h2 id='calc_diff'>Function for calculating the difference between two dates</h2><span id='topic+calc_diff'></span>

<h3>Description</h3>

<p>Function for calculating the difference between two dates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calc_diff(st_inter, dt_item)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="calc_diff_+3A_st_inter">st_inter</code></td>
<td>
<p>An interval. An object of interval.</p>
</td></tr>
<tr><td><code id="calc_diff_+3A_dt_item">dt_item</code></td>
<td>
<p>A date item. An object of date.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An integer scalar. Differences between the two dates.
</p>

<hr>
<h2 id='check'>Check the dataset</h2><span id='topic+check'></span>

<h3>Description</h3>

<p>Check the dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>check(obj, dataset)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check_+3A_obj">obj</code></td>
<td>
<p>An object for check.</p>
</td></tr>
<tr><td><code id="check_+3A_dataset">dataset</code></td>
<td>
<p>A dataset, a type is a data frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with a check result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- c("01", "02", "03")
screen_date_E1 &lt;- c("1991-03-13", "1991-03-07", "1991-03-08")
rand_date_E2 &lt;- c("1991-03-15", "1991-03-11", "1991-03-10")
ph_date_E3 &lt;- c("1991-03-21", "1991-03-16", "1991-03-16")
bio_date_E3 &lt;- c("1991-03-23", "1991-03-16", "1991-03-16")

df &lt;- data.frame(id, screen_date_E1, rand_date_E2, ph_date_E3, bio_date_E3,
  stringsAsFactors = FALSE
)

timeline &lt;- system.file("dates.xlsx", package = "dmtools")
obj_date &lt;- date(timeline, id, dplyr::contains)

obj_date &lt;- check(obj_date, df)
</code></pre>

<hr>
<h2 id='check.default'>Check the dataset</h2><span id='topic+check.default'></span>

<h3>Description</h3>

<p>Check the dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
check(obj, dataset)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="check.default_+3A_obj">obj</code></td>
<td>
<p>An object for check.</p>
</td></tr>
<tr><td><code id="check.default_+3A_dataset">dataset</code></td>
<td>
<p>A dataset, a type is a data frame.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>An object with a check result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- c("01", "02", "03")
screen_date_E1 &lt;- c("1991-03-13", "1991-03-07", "1991-03-08")
rand_date_E2 &lt;- c("1991-03-15", "1991-03-11", "1991-03-10")
ph_date_E3 &lt;- c("1991-03-21", "1991-03-16", "1991-03-16")
bio_date_E3 &lt;- c("1991-03-23", "1991-03-16", "1991-03-16")

df &lt;- data.frame(id, screen_date_E1, rand_date_E2, ph_date_E3, bio_date_E3,
  stringsAsFactors = FALSE
)

timeline &lt;- system.file("dates.xlsx", package = "dmtools")
obj_date &lt;- date(timeline, id, dplyr::contains)

obj_date &lt;- check(obj_date, df)
</code></pre>

<hr>
<h2 id='choose_test'>Filter the final result</h2><span id='topic+choose_test'></span>

<h3>Description</h3>

<p>Filter the final result
</p>


<h3>Usage</h3>

<pre><code class='language-R'>choose_test(obj, test, group_id)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose_test_+3A_obj">obj</code></td>
<td>
<p>An object for check.</p>
</td></tr>
<tr><td><code id="choose_test_+3A_test">test</code></td>
<td>
<p>Parameters, which use to filter the final dataset.</p>
</td></tr>
<tr><td><code id="choose_test_+3A_group_id">group_id</code></td>
<td>
<p>A logical scalar, default is TRUE.True is grouped by id, otherwise, it isn't grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The filtered dataset.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- c("01", "02", "03")
screen_date_E1 &lt;- c("1991-03-13", "1991-03-07", "1991-03-08")
rand_date_E2 &lt;- c("1991-03-15", "1991-03-11", "1991-03-10")
ph_date_E3 &lt;- c("1991-03-21", "1991-03-16", "1991-03-16")
bio_date_E3 &lt;- c("1991-03-23", "1991-03-16", "1991-03-16")

df &lt;- data.frame(id, screen_date_E1, rand_date_E2, ph_date_E3, bio_date_E3,
  stringsAsFactors = FALSE
)

timeline &lt;- system.file("dates.xlsx", package = "dmtools")
obj_date &lt;- date(timeline, id, dplyr::contains)

obj_date &lt;- check(obj_date, df)
choose_test(obj_date, "out")
</code></pre>

<hr>
<h2 id='choose_test.date'>Filter the final result of the object date</h2><span id='topic+choose_test.date'></span>

<h3>Description</h3>

<p>Filter the final result of the object date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'date'
choose_test(obj, test = "out", group_id = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose_test.date_+3A_obj">obj</code></td>
<td>
<p>An object for calculation. Class date.</p>
</td></tr>
<tr><td><code id="choose_test.date_+3A_test">test</code></td>
<td>
<p>A character scalar. Parameters, which use to filter the final dataset, default: &quot;out&quot;:
&quot;out&quot; - dates, which are out of the protocol's timeline,
&quot;uneq&quot; - dates, which are unequal,
&quot;ok&quot; - correct dates,
&quot;skip&quot; - empty dates.</p>
</td></tr>
<tr><td><code id="choose_test.date_+3A_group_id">group_id</code></td>
<td>
<p>A logical scalar, default is TRUE.True is grouped by id, otherwise, it isn't grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The dataset by a value of <code>test</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- c("01", "02", "03")
screen_date_E1 &lt;- c("1991-03-13", "1991-03-07", "1991-03-08")
rand_date_E2 &lt;- c("1991-03-15", "1991-03-11", "1991-03-10")
ph_date_E3 &lt;- c("1991-03-21", "1991-03-16", "1991-03-16")
bio_date_E3 &lt;- c("1991-03-23", "1991-03-16", "1991-03-16")

df &lt;- data.frame(id, screen_date_E1, rand_date_E2, ph_date_E3, bio_date_E3,
  stringsAsFactors = FALSE
)

timeline &lt;- system.file("dates.xlsx", package = "dmtools")
obj_date &lt;- date(timeline, id, dplyr::contains)

obj_date &lt;- check(obj_date, df)
choose_test(obj_date, "out")
</code></pre>

<hr>
<h2 id='choose_test.lab'>Filter the final result of the object lab</h2><span id='topic+choose_test.lab'></span>

<h3>Description</h3>

<p>Filter the final result of the object lab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lab'
choose_test(obj, test = "mis", group_id = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="choose_test.lab_+3A_obj">obj</code></td>
<td>
<p>An object. Class lab.</p>
</td></tr>
<tr><td><code id="choose_test.lab_+3A_test">test</code></td>
<td>
<p>A character scalar. Parameters, which use to filter the final dataset, default: &quot;mis&quot;:
&quot;ok&quot; - analysis, which has a correct estimate of the result,
&quot;mis&quot; - analysis, which has an incorrect estimate of the result,
&quot;skip&quot; - analysis, which has an empty value of the estimate,
&quot;null&quot; - analysis, which has an empty result and value of the estimate.</p>
</td></tr>
<tr><td><code id="choose_test.lab_+3A_group_id">group_id</code></td>
<td>
<p>A logical scalar, default is TRUE.True is grouped by id, otherwise, it isn't grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The filtered dataset by a value of <code>test</code>.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>ID &lt;- c("01", "02", "03")
SITE &lt;- c("site 01", "site 02", "site 03")
AGE &lt;- c("19", "20", "22")
SEX &lt;- c("f", "m", "f")
GLUC_V1 &lt;- c(5.5, 4.1, 9.7)
GLUC_IND_V1 &lt;- c("norm", "no", "cl")
AST_V2 &lt;- c("30", "48", "31")
AST_IND_V2 &lt;- c(NA, "norm", "norm")

df &lt;- data.frame(
  ID, SITE, AGE, SEX,
  GLUC_V1, GLUC_IND_V1,
  AST_V2, AST_IND_V2,
  stringsAsFactors = FALSE
)

refs &lt;- system.file("labs_refer.xlsx", package = "dmtools")
obj_lab &lt;- lab(refs, ID, AGE, SEX, "norm", "no")

obj_lab &lt;- check(obj_lab, df)
choose_test(obj_lab, "mis")
</code></pre>

<hr>
<h2 id='create_spec'>For creating part of the specification</h2><span id='topic+create_spec'></span>

<h3>Description</h3>

<p>For creating part of the specification
</p>


<h3>Usage</h3>

<pre><code class='language-R'>create_spec(df_spec, all_colname, part_spec, is_pst)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="create_spec_+3A_df_spec">df_spec</code></td>
<td>
<p>A dataset, a type is a data frame.</p>
</td></tr>
<tr><td><code id="create_spec_+3A_all_colname">all_colname</code></td>
<td>
<p>A character vector with all names in the dataset.</p>
</td></tr>
<tr><td><code id="create_spec_+3A_part_spec">part_spec</code></td>
<td>
<p>A character scalar. Prefixes or postfixes.</p>
</td></tr>
<tr><td><code id="create_spec_+3A_is_pst">is_pst</code></td>
<td>
<p>A logical scalar, default is TRUE. True is postfix, otherwise, prefix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. Part of the specification.
</p>

<hr>
<h2 id='date'>Create object date</h2><span id='topic+date'></span>

<h3>Description</h3>

<p>Create object date
</p>


<h3>Usage</h3>

<pre><code class='language-R'>date(file, id, get_visit, get_date = dplyr::contains, str_date = "DAT")
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="date_+3A_file">file</code></td>
<td>
<p>A character scalar. Path to the date's parameters in the excel table.</p>
</td></tr>
<tr><td><code id="date_+3A_id">id</code></td>
<td>
<p>A column name of the subject id in the dataset, without quotes.</p>
</td></tr>
<tr><td><code id="date_+3A_get_visit">get_visit</code></td>
<td>
<p>A function, which select necessary visit or event e.g. dplyr::start_with, dplyr::contains.</p>
</td></tr>
<tr><td><code id="date_+3A_get_date">get_date</code></td>
<td>
<p>A function, which select dates from necessary visit e.g. dplyr::matches, dplyr::contains, default: dplyr::contains.</p>
</td></tr>
<tr><td><code id="date_+3A_str_date">str_date</code></td>
<td>
<p>A date's pattern in column names, default: &quot;DAT&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object date.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>obj_date &lt;- date("dates.xlsx", id, dplyr::contains)
obj_date &lt;- date("dates.xlsx", id, dplyr::contains, "uneq")
</code></pre>

<hr>
<h2 id='dmtools'>dmtools: package to validate data</h2><span id='topic+dmtools'></span>

<h3>Description</h3>

<p>for checking the dataset from EDC in clinical trials
</p>

<hr>
<h2 id='find_colnames'>Find column names</h2><span id='topic+find_colnames'></span>

<h3>Description</h3>

<p>Find column names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>find_colnames(obj, dataset, row_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_colnames_+3A_obj">obj</code></td>
<td>
<p>An object for check.</p>
</td></tr>
<tr><td><code id="find_colnames_+3A_dataset">dataset</code></td>
<td>
<p>A dataset, a type is a data frame.</p>
</td></tr>
<tr><td><code id="find_colnames_+3A_row_file">row_file</code></td>
<td>
<p>A row of the file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. Result of run_tests.
</p>

<hr>
<h2 id='find_colnames.date'>Find column names with dates</h2><span id='topic+find_colnames.date'></span>

<h3>Description</h3>

<p>Find column names with dates
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'date'
find_colnames(obj, dataset, row_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_colnames.date_+3A_obj">obj</code></td>
<td>
<p>An object for validation.</p>
</td></tr>
<tr><td><code id="find_colnames.date_+3A_dataset">dataset</code></td>
<td>
<p>A data frame. Class date.</p>
</td></tr>
<tr><td><code id="find_colnames.date_+3A_row_file">row_file</code></td>
<td>
<p>A data frame. A data frame with analysis parameters.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. Visit's dates.
</p>

<hr>
<h2 id='find_colnames.default'>Find column names</h2><span id='topic+find_colnames.default'></span>

<h3>Description</h3>

<p>Find column names
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## Default S3 method:
find_colnames(obj, dataset, row_file)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="find_colnames.default_+3A_obj">obj</code></td>
<td>
<p>An object for validation.</p>
</td></tr>
<tr><td><code id="find_colnames.default_+3A_dataset">dataset</code></td>
<td>
<p>A dataset, a type is a data frame.</p>
</td></tr>
<tr><td><code id="find_colnames.default_+3A_row_file">row_file</code></td>
<td>
<p>A row of the file.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. Result of run_tests.
</p>

<hr>
<h2 id='get_result'>Get the final result of the check</h2><span id='topic+get_result'></span>

<h3>Description</h3>

<p>Get the final result of the check
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_result(obj, group_id = T)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_result_+3A_obj">obj</code></td>
<td>
<p>An object. Can be all classes: short, lab, date.</p>
</td></tr>
<tr><td><code id="get_result_+3A_group_id">group_id</code></td>
<td>
<p>A logical scalar, default is TRUE.True is grouped by id, otherwise, it isn't grouped.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. The final result.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- c("01", "02", "03")
site &lt;- c("site 01", "site 02", "site 03")
sex &lt;- c("f", "m", "f")
preg_yn_e2 &lt;- c("y", "y", "y")
preg_res_e2 &lt;- c("neg", "neg", "neg")
preg_yn_e3 &lt;- c("y", "y", "n")
preg_res_e3 &lt;- c("neg", "pos", "unnes")

df &lt;- data.frame(
  id, site, sex,
  preg_yn_e2, preg_res_e2,
  preg_yn_e3, preg_res_e3,
  stringsAsFactors = FALSE
)

preg &lt;- system.file("preg.xlsx", package = "dmtools")
obj_short &lt;- short(preg, id, "LBORRES", c("site", "sex"))

obj_short &lt;- check(obj_short, df)
get_result(obj_short)
</code></pre>

<hr>
<h2 id='lab'>Create object lab</h2><span id='topic+lab'></span>

<h3>Description</h3>

<p>Create object lab
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lab(
  file,
  id,
  age,
  sex,
  normal,
  abnormal,
  is_post = T,
  name_to_find = "LBNRIND"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lab_+3A_file">file</code></td>
<td>
<p>A character scalar. Path to the laboratory's reference in the excel table.</p>
</td></tr>
<tr><td><code id="lab_+3A_id">id</code></td>
<td>
<p>A column name of the subject id in the dataset, without quotes.</p>
</td></tr>
<tr><td><code id="lab_+3A_age">age</code></td>
<td>
<p>A column name of the subject age in the dataset, without quotes.</p>
</td></tr>
<tr><td><code id="lab_+3A_sex">sex</code></td>
<td>
<p>A column name of the subject sex in the dataset, without quotes.</p>
</td></tr>
<tr><td><code id="lab_+3A_normal">normal</code></td>
<td>
<p>A normal estimate, for example, &quot;NORMAL&quot;.</p>
</td></tr>
<tr><td><code id="lab_+3A_abnormal">abnormal</code></td>
<td>
<p>An abnormal estimate, for example, &quot;ABNORMAL&quot;.</p>
</td></tr>
<tr><td><code id="lab_+3A_is_post">is_post</code></td>
<td>
<p>A logical scalar, default is TRUE. True is postfix, otherwise, prefix.</p>
</td></tr>
<tr><td><code id="lab_+3A_name_to_find">name_to_find</code></td>
<td>
<p>A character scalar. For search prefixes or postfixes, default is &quot;LBNRIND&quot;.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object lab.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>obj_lab &lt;- lab("lab_refer.xlsx", ID, AGE, SEX, 1, 2)
obj_lab &lt;- lab("lab_refer.xlsx", ID, AGE, SEX, "NORMAL", "ABNORMAL")
obj_lab &lt;- lab("lab_refer.xlsx", ID, AGE, SEX, "norm", "no", FALSE)
</code></pre>

<hr>
<h2 id='list_parse'>A list to a tibble.</h2><span id='topic+list_parse'></span>

<h3>Description</h3>

<p>A list to a tibble.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>list_parse(to_tibble)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="list_parse_+3A_to_tibble">to_tibble</code></td>
<td>
<p>A list with nested lists.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A tibble.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>temp_list &lt;- list(list(a = 1, b = 3), list(a = 4, b = 5))
list_parse(temp_list)
</code></pre>

<hr>
<h2 id='meddra_auth'>Get the token</h2><span id='topic+meddra_auth'></span>

<h3>Description</h3>

<p>Get the token
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meddra_auth(target_url, meddra_id, api_key)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meddra_auth_+3A_target_url">target_url</code></td>
<td>
<p>The url for authenticate.</p>
</td></tr>
<tr><td><code id="meddra_auth_+3A_meddra_id">meddra_id</code></td>
<td>
<p>The user's meddra id.</p>
</td></tr>
<tr><td><code id="meddra_auth_+3A_api_key">api_key</code></td>
<td>
<p>The user's api key.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A string scalar. The user's token.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
meddra_auth(url, id, key)

## End(Not run)
</code></pre>

<hr>
<h2 id='meddra_post'>Create the post query</h2><span id='topic+meddra_post'></span>

<h3>Description</h3>

<p>Create the post query
</p>


<h3>Usage</h3>

<pre><code class='language-R'>meddra_post(target_url, json, token)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="meddra_post_+3A_target_url">target_url</code></td>
<td>
<p>The url for a post query.</p>
</td></tr>
<tr><td><code id="meddra_post_+3A_json">json</code></td>
<td>
<p>A string scalar or a list. The json query.</p>
</td></tr>
<tr><td><code id="meddra_post_+3A_token">token</code></td>
<td>
<p>The user's token.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A list. The result of query.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
meddra_post(url, json_body, token)

## End(Not run)
</code></pre>

<hr>
<h2 id='rename_dataset'>For rename dataset</h2><span id='topic+rename_dataset'></span>

<h3>Description</h3>

<p>For rename dataset
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_dataset(
  dataset,
  path_crfs,
  no_readable_name,
  readable_name,
  num_sheet = 1,
  extension = "*.xlsx",
  is_post = T
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="rename_dataset_+3A_dataset">dataset</code></td>
<td>
<p>A dataset, a type is a data frame.</p>
</td></tr>
<tr><td><code id="rename_dataset_+3A_path_crfs">path_crfs</code></td>
<td>
<p>A character scalar. Path to the specification files the in excel table.</p>
</td></tr>
<tr><td><code id="rename_dataset_+3A_no_readable_name">no_readable_name</code></td>
<td>
<p>A character scalar. A column name of no_readable values.</p>
</td></tr>
<tr><td><code id="rename_dataset_+3A_readable_name">readable_name</code></td>
<td>
<p>A character scalar. A column name of readable values.</p>
</td></tr>
<tr><td><code id="rename_dataset_+3A_num_sheet">num_sheet</code></td>
<td>
<p>An integer scalar, default is the first sheet. A position of a sheet in the excel document.</p>
</td></tr>
<tr><td><code id="rename_dataset_+3A_extension">extension</code></td>
<td>
<p>A character scalar. A extension of files, default is *.xlsx.</p>
</td></tr>
<tr><td><code id="rename_dataset_+3A_is_post">is_post</code></td>
<td>
<p>A logical scalar, default is TRUE. True is postfix, otherwise, prefix.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The list with two values: data - renamed dataset, spec - common specification.
The common specification is data frame of two values: no_readable_var, readable_var.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>id &lt;- c("01", "02", "03")
age &lt;- c("19", "20", "22")
sex &lt;- c("f", "m", "f")
bio_date_post &lt;- c("1991-03-23", "1991-03-16", "1991-03-16")
gluc_post &lt;- c("5.5", "4.1", "9.7")
gluc_res_post &lt;- c("norm", "no", "norm")


df &lt;- data.frame(
  id, age, sex,
  bio_date_post,
  gluc_post, gluc_res_post,
  stringsAsFactors = FALSE
)

crfs &lt;- system.file("forms", package = "dmtools")

result &lt;- rename_dataset(df, crfs, "old_name", "new_name")
result[["data"]]
</code></pre>

<hr>
<h2 id='short'>Create object short</h2><span id='topic+short'></span>

<h3>Description</h3>

<p>Create object short
</p>


<h3>Usage</h3>

<pre><code class='language-R'>short(
  file,
  id,
  name_to_find,
  common_cols = NULL,
  extra = NULL,
  is_post = T,
  is_add_cols = F
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="short_+3A_file">file</code></td>
<td>
<p>A character scalar. Path to the excel table.</p>
</td></tr>
<tr><td><code id="short_+3A_id">id</code></td>
<td>
<p>A column name of the subject id in the dataset, without quotes.</p>
</td></tr>
<tr><td><code id="short_+3A_name_to_find">name_to_find</code></td>
<td>
<p>A character scalar. For search prefixes or postfixes.</p>
</td></tr>
<tr><td><code id="short_+3A_common_cols">common_cols</code></td>
<td>
<p>A character vector. A column names in the dataset, which common for all events.</p>
</td></tr>
<tr><td><code id="short_+3A_extra">extra</code></td>
<td>
<p>A character scalar. For additional information.</p>
</td></tr>
<tr><td><code id="short_+3A_is_post">is_post</code></td>
<td>
<p>A logical scalar, default is TRUE. True is postfix, otherwise, prefix.</p>
</td></tr>
<tr><td><code id="short_+3A_is_add_cols">is_add_cols</code></td>
<td>
<p>A logical scalar, default is FALSE. If necessary add columns.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>The object short.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>obj_short &lt;- short("preg.xlsx", id, "res", c("site", "sex"))
obj_short &lt;- short("labs.xlsx", id, "name_labs", c("site"), "human_name")
</code></pre>

<hr>
<h2 id='to_dbl'>Cast to double type</h2><span id='topic+to_dbl'></span>

<h3>Description</h3>

<p>Cast to double type
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_dbl(vals)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_dbl_+3A_vals">vals</code></td>
<td>
<p>A character or double vector.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A double vector.
</p>

<hr>
<h2 id='to_long'>Reshape the dataset to a long view</h2><span id='topic+to_long'></span>

<h3>Description</h3>

<p>Reshape the dataset to a long view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>to_long(obj, dataset, row_file, part)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_long_+3A_obj">obj</code></td>
<td>
<p>An object for check.</p>
</td></tr>
<tr><td><code id="to_long_+3A_dataset">dataset</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="to_long_+3A_row_file">row_file</code></td>
<td>
<p>A data frame. A data frame with parameters.</p>
</td></tr>
<tr><td><code id="to_long_+3A_part">part</code></td>
<td>
<p>A character scalar. Prefixes or postfixes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. The part of final result.
</p>

<hr>
<h2 id='to_long.date'>Reshape the dataset to a long view</h2><span id='topic+to_long.date'></span>

<h3>Description</h3>

<p>Reshape the dataset to a long view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'date'
to_long(obj, dataset, row_file, date)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_long.date_+3A_obj">obj</code></td>
<td>
<p>An object for validation.</p>
</td></tr>
<tr><td><code id="to_long.date_+3A_dataset">dataset</code></td>
<td>
<p>A data frame. Class date.</p>
</td></tr>
<tr><td><code id="to_long.date_+3A_row_file">row_file</code></td>
<td>
<p>A data frame. A data frame with analysis parameters.</p>
</td></tr>
<tr><td><code id="to_long.date_+3A_date">date</code></td>
<td>
<p>A column name with dates.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. Result of the date's validation.
</p>

<hr>
<h2 id='to_long.lab'>Reshape the dataset to a long view</h2><span id='topic+to_long.lab'></span>

<h3>Description</h3>

<p>Reshape the dataset to a long view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'lab'
to_long(obj, dataset, row_file, part)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_long.lab_+3A_obj">obj</code></td>
<td>
<p>An object. Class lab.</p>
</td></tr>
<tr><td><code id="to_long.lab_+3A_dataset">dataset</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="to_long.lab_+3A_row_file">row_file</code></td>
<td>
<p>A data frame. A data frame with parameters.</p>
</td></tr>
<tr><td><code id="to_long.lab_+3A_part">part</code></td>
<td>
<p>A character scalar. Prefixes or postfixes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. The part of the final result.
</p>

<hr>
<h2 id='to_long.short'>Reshape the dataset to a long view</h2><span id='topic+to_long.short'></span>

<h3>Description</h3>

<p>Reshape the dataset to a long view
</p>


<h3>Usage</h3>

<pre><code class='language-R'>## S3 method for class 'short'
to_long(obj, dataset, row_file, part)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="to_long.short_+3A_obj">obj</code></td>
<td>
<p>An object. Class short.</p>
</td></tr>
<tr><td><code id="to_long.short_+3A_dataset">dataset</code></td>
<td>
<p>A data frame.</p>
</td></tr>
<tr><td><code id="to_long.short_+3A_row_file">row_file</code></td>
<td>
<p>A data frame. A data frame with parameters.</p>
</td></tr>
<tr><td><code id="to_long.short_+3A_part">part</code></td>
<td>
<p>A character scalar. Prefixes or postfixes.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A data frame. The part of the final result.
</p>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

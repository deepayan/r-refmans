<!DOCTYPE html><html><head><title>Help for package decido</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {decido}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#decido-package'><p>decido: Bindings for 'Mapbox' Ear Cutting Triangulation Library</p></a></li>
<li><a href='#earcut'><p>Constrained polygon triangulation</p></a></li>
<li><a href='#plot_ears'><p>Plot ears or polygons</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Version:</td>
<td>0.3.0</td>
</tr>
<tr>
<td>Title:</td>
<td>Bindings for 'Mapbox' Ear Cutting Triangulation Library</td>
</tr>
<tr>
<td>Description:</td>
<td>Provides constrained triangulation of polygons. Ear cutting (or 
 ear clipping) applies constrained triangulation by successively 'cutting'
 triangles from a polygon defined by path/s. Holes are supported by introducing
 a bridge segment between polygon paths. This package wraps the 'header-only' 
 library 'earcut.hpp' <a href="https://github.com/mapbox/earcut.hpp.git">https://github.com/mapbox/earcut.hpp.git</a> which includes
 a reference to the method used by Held, M. (2001) &lt;<a href="https://doi.org/10.1007%2Fs00453-001-0028-4">doi:10.1007/s00453-001-0028-4</a>&gt;. </td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>LazyData:</td>
<td>true</td>
</tr>
<tr>
<td>ByteCompile:</td>
<td>true</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.2.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>Rcpp</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.1.0</td>
</tr>
<tr>
<td>Suggests:</td>
<td>covr, testthat, knitr, oz, rmarkdown, spelling</td>
</tr>
<tr>
<td>SystemRequirements:</td>
<td>C++11</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://hypertidy.github.io/decido">https://hypertidy.github.io/decido</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/hypertidy/decido/issues">https://github.com/hypertidy/decido/issues</a></td>
</tr>
<tr>
<td>Language:</td>
<td>en-US</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2020-05-19 12:28:37 UTC; mdsumner</td>
</tr>
<tr>
<td>Author:</td>
<td>Michael Sumner [aut, cre],
  Andrew Smith [ctb] (provided C++ guidance),
  Mapbox [cph] (author of header library earcut.hpp),
  Mark Padgham [ctb] (help with CRAN issues),
  David Cooley [ctb] (added header capability for linking from other
    packages)</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Michael Sumner &lt;mdsumner@gmail.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2020-05-19 13:50:06 UTC</td>
</tr>
</table>
<hr>
<h2 id='decido-package'>decido: Bindings for 'Mapbox' Ear Cutting Triangulation Library</h2><span id='topic+decido'></span><span id='topic+decido-package'></span>

<h3>Description</h3>

<p>Provides constrained triangulation of polygons. Ear cutting (or 
ear clipping) applies constrained triangulation by successively 'cutting'
triangles from a polygon defined by path/s. Holes are supported by introducing
a bridge segment between polygon paths. This package wraps the 'header-only' 
library 'earcut.hpp' &lt;https://github.com/mapbox/earcut.hpp.git&gt; which includes
a reference to the method used by Held, M. (2001) &lt;doi:10.1007/s00453-001-0028-4&gt;.
</p>
<p>Provides constrained triangulation of polygons. Ear cutting (or
ear clipping) applies constrained triangulation by successively 'cutting'
triangles from a polygon defined by path/s. Holes are supported.
This package wraps the 'header-only' library 'earcut.hpp'
<a href="https://github.com/mapbox/earcut.hpp.git">https://github.com/mapbox/earcut.hpp.git</a>.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Michael Sumner <a href="mailto:mdsumner@gmail.com">mdsumner@gmail.com</a>
</p>
<p>Other contributors:
</p>

<ul>
<li><p> Andrew Smith (provided C++ guidance) [contributor]
</p>
</li>
<li><p> Mapbox (author of header library earcut.hpp) [copyright holder]
</p>
</li>
<li><p> Mark Padgham (help with CRAN issues) [contributor]
</p>
</li>
<li><p> David Cooley (added header capability for linking from other packages) [contributor]
</p>
</li></ul>



<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://hypertidy.github.io/decido">https://hypertidy.github.io/decido</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/hypertidy/decido/issues">https://github.com/hypertidy/decido/issues</a>
</p>
</li></ul>


<hr>
<h2 id='earcut'>Constrained polygon triangulation</h2><span id='topic+earcut'></span><span id='topic+earcut.default'></span>

<h3>Description</h3>

<p>Produce a triangulation index into x,y coordinates of a polygon
that may include holes. Holes are specified by input argument <code>holes</code>
which marks the starting index of each hole, if any.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>earcut(xy, holes = 0, ...)

## Default S3 method:
earcut(xy, holes = 0L, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="earcut_+3A_xy">xy</code></td>
<td>
<p>xy-coordinates, either a list, matrix, or data frame</p>
</td></tr>
<tr><td><code id="earcut_+3A_holes">holes</code></td>
<td>
<p>index of starting position of each hole in x,y, leave set to <code>0</code> if no holes</p>
</td></tr>
<tr><td><code id="earcut_+3A_...">...</code></td>
<td>
<p>unused</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Triangles are returned in counter-clockwise orientation, a common convention that ascribes a positive area
to the triangle. (Orientation may be collinear or numerically ambiguous and so may be undetermined).
</p>
<p>Ear cutting (or ear clipping) applies constrained triangulation by
successively 'cutting' triangles from a polygon defined by path/s. Holes are supported, the earcut library works with
single-island-with-holes polygons, analogous to the POLYGON type in simple features.
</p>
<p>To understand the specification of holes, see the examples with comment
starting &quot;1) Notice how the hole begins ...&quot; in relation to the example code.
</p>


<h3>Value</h3>

<p>integer vector of triangle index, in sets of three
</p>


<h3>See Also</h3>

<p>plot_ears
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## single ring polygon
x &lt;- c(0, 0, 0.75, 1, 0.5, 0.8, 0.69)
y &lt;- c(0, 1, 1, 0.8, 0.7, 0.6, 0)
(ind &lt;- earcut(cbind(x, y)))
plot_ears(cbind(x, y), ind)

## polygon with a hole
x &lt;- c(0, 0, 0.75, 1, 0.5, 0.8, 0.69,
     0.2, 0.5, 0.5, 0.3, 0.2)
y &lt;- c(0, 1, 1, 0.8, 0.7, 0.6, 0,
     0.2, 0.2, 0.4, 0.6, 0.4)
ind &lt;- earcut(cbind(x, y), holes = 8)
plot_ears(cbind(x, y), ind)

## 1) Notice how the hole begins at index 8,
## hence holes = 8 above, and holes = c(8, 13) below
plot_ears(cbind(x, y), ind, col = "grey", border = NA)
text(x, y, labels = seq_along(x), pos = 2)

## add another hole
x &lt;- c(0, 0, 0.75, 1, 0.5, 0.8, 0.69,
     0.2, 0.5, 0.5, 0.3, 0.2,
      0.15, 0.23, 0.2)
y &lt;- c(0, 1, 1, 0.8, 0.7, 0.6, 0,
     0.2, 0.2, 0.4, 0.6, 0.4,
      0.65, 0.65, 0.81)
ind &lt;- earcut(cbind(x, y), holes = c(8, 13))
plot_ears(cbind(x, y), ind, col = "grey")
# simpler shape with more than one hole
# the two inside holes are open to each other
# (so we can use the same data for one hole or two)
x &lt;- c(0, 0, 1, 1,
       0.4, 0.2, 0.2, 0.4,
       0.6, 0.8, 0.8, 0.6
)
y &lt;- c(0, 1, 1, 0,
       0.2, 0.2, 0.4, 0.4,
       0.6, 0.6, 0.4, 0.4
)
ind &lt;- decido::earcut(cbind(x, y), holes = c(5, 9))
plot_ears(cbind(x, y), ind, col = "grey")
plot_holes(cbind(x, y), holes = c(5, 9), col = "grey")
ind &lt;- decido::earcut(cbind(x, y), holes = 5)
plot_ears(cbind(x, y), ind, col = "grey")
plot_holes(cbind(x, y), holes = 5, col = "grey")
</code></pre>

<hr>
<h2 id='plot_ears'>Plot ears or polygons</h2><span id='topic+plot_ears'></span><span id='topic+plot_holes'></span>

<h3>Description</h3>

<p>Plot the triangles produced by <a href="#topic+earcut">earcut</a>, or plot the polygon paths
using the same interface as earcut uses. This allows for easy
comparison and checking of what the results should be.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>plot_ears(xy, idx, add = FALSE, ...)

plot_holes(xy, holes = 0, add = FALSE, ...)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="plot_ears_+3A_xy">xy</code></td>
<td>
<p>xy-coordinates, either a list, matrix, or data frame</p>
</td></tr>
<tr><td><code id="plot_ears_+3A_idx">idx</code></td>
<td>
<p>index of triangles</p>
</td></tr>
<tr><td><code id="plot_ears_+3A_add">add</code></td>
<td>
<p>add to current plot, or create a new</p>
</td></tr>
<tr><td><code id="plot_ears_+3A_...">...</code></td>
<td>
<p>arguments to polypath</p>
</td></tr>
<tr><td><code id="plot_ears_+3A_holes">holes</code></td>
<td>
<p>index of starting position of holes (see <a href="#topic+earcut">earcut</a>)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>For both functions the first input is
a matrix of x,y coordinates.
</p>
<p>For <a href="#topic+plot_ears">plot_ears</a> the second input is
the index output of earcut. The index is treated in sets of 3 values, with
individual calls to <a href="graphics.html#topic+polypath">polypath</a> to draw a polygon for each triangle.
</p>
<p>For <a href="#topic+plot_holes">plot_holes</a> the second input is the <code>holes</code> argument that would
be used for earcut. This is used to split the coordinates at these positions,
inserting <code>NA</code> values as per the mechanism used by <a href="graphics.html#topic+polypath">graphics::polypath</a> to
break coordinates into separate polygon rings. (There's no winding rule here
plot_rules is hard-coded to always use the evenodd rule, so that winding
order may be ignored).
</p>


<h3>See Also</h3>

<p>earcut
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## after ?polypath
x &lt;- cbind(c(.1, .1, .9, .9,   .2, .2, .8, .8),
           c(.1, .9, .9, .1,   .2, .8, .8, .2))
plot_holes(x, holes = 5, col = "grey")
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

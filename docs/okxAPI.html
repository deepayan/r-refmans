<!DOCTYPE html><html><head><title>Help for package okxAPI</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {okxAPI}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#get_functions'><p>Wrapper for some frequently used APIs to get data easily</p></a></li>
<li><a href='#get_history_candles'><p>Retrieve the candlestick charts</p></a></li>
<li><a href='#get_positions_history'><p>Retrieve the position data</p></a></li>
<li><a href='#restAPI'><p>restAPI Class</p></a></li>
<li><a href='#restAPIaccount'><p>restAPIaccount Class</p></a></li>
<li><a href='#restAPImarket'><p>restAPImarket Class</p></a></li>
<li><a href='#restAPItrade'><p>restAPItrade Class</p></a></li>
<li><a href='#websocketAPIprivate'><p>websocketAPIprivate Class</p></a></li>
<li><a href='#websocketAPIpublic'><p>websocketAPIpublic Class</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Title:</td>
<td>An Unofficial Wrapper for 'okx exchange v5' API</td>
</tr>
<tr>
<td>Version:</td>
<td>0.1.1</td>
</tr>
<tr>
<td>Description:</td>
<td>An unofficial wrapper for 'okx exchange v5' API <a href="https://www.okx.com/docs-v5/en/">https://www.okx.com/docs-v5/en/</a>, including 'REST' API and 'WebSocket' API.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file LICENSE</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.2.3</td>
</tr>
<tr>
<td>Imports:</td>
<td>R6, data.table, httr, base64enc, jsonlite, websocket, digest</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2023-04-21 12:04:16 UTC; fangyongchao</td>
</tr>
<tr>
<td>Author:</td>
<td>Yongchao Fang [aut, cre, cph]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Yongchao Fang &lt;yongchao.fang@outlook.com&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2023-04-22 07:10:02 UTC</td>
</tr>
</table>
<hr>
<h2 id='get_functions'>Wrapper for some frequently used APIs to get data easily</h2><span id='topic+get_functions'></span>

<h3>Description</h3>

<p>The main purpose is to handle APIs that have limitations on the number of results returned per single request.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_positions_history">get_positions_history</a></code>
<code><a href="#topic+get_history_candles">get_history_candles</a></code>
</p>

<hr>
<h2 id='get_history_candles'>Retrieve the candlestick charts</h2><span id='topic+get_history_candles'></span>

<h3>Description</h3>

<p>Wrapper for API <a href="https://www.okx.com/docs-v5/en/#rest-api-market-data-get-candlesticks">Get candlesticks</a>
and <a href="https://www.okx.com/docs-v5/en/#rest-api-market-data-get-candlesticks-history">Get candlesticks history</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_history_candles(
  api_key,
  secret_key,
  passphrase,
  bar = c("1m", "3m", "5m", "15m", "30m", "1H", "4H", "6H", "12H", "1D", "2D", "3D"),
  count,
  instId,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_history_candles_+3A_api_key">api_key</code></td>
<td>
<p>Okx API key.</p>
</td></tr>
<tr><td><code id="get_history_candles_+3A_secret_key">secret_key</code></td>
<td>
<p>Okx API secret key.</p>
</td></tr>
<tr><td><code id="get_history_candles_+3A_passphrase">passphrase</code></td>
<td>
<p>Okx API passphrase.</p>
</td></tr>
<tr><td><code id="get_history_candles_+3A_bar">bar</code></td>
<td>
<p>Bar size, the default is 1m, e.g. 1m/3m/5m/15m/30m/1H/2H/4H, Hong Kong time opening price k-line: 6H/12H/1D/2D/3D.</p>
</td></tr>
<tr><td><code id="get_history_candles_+3A_count">count</code></td>
<td>
<p>Number of Bars.</p>
</td></tr>
<tr><td><code id="get_history_candles_+3A_instid">instId</code></td>
<td>
<p>Instrument ID, e.g. BTC-USDT-SWAP.</p>
</td></tr>
<tr><td><code id="get_history_candles_+3A_...">...</code></td>
<td>
<p>Other request parameters to be passed, See <a href="https://www.okx.com/docs-v5/en/#rest-api-market-data-get-candlesticks-history">Get candlesticks history</a> for more information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Candlestick charts data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
candles &lt;- get_history_candles(
  api_key, secret_key, passphrase, bar = "1m",
  count = 24*60, instId = "CFX-USDT-SWAP"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='get_positions_history'>Retrieve the position data</h2><span id='topic+get_positions_history'></span>

<h3>Description</h3>

<p>Wrapper for API <a href="https://www.okx.com/docs-v5/en/#rest-api-account-get-positions-history">Get positions history</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_positions_history(
  api_key,
  secret_key,
  passphrase,
  count = 90,
  period = 10,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="get_positions_history_+3A_api_key">api_key</code></td>
<td>
<p>Okx API key.</p>
</td></tr>
<tr><td><code id="get_positions_history_+3A_secret_key">secret_key</code></td>
<td>
<p>Okx API secret key.</p>
</td></tr>
<tr><td><code id="get_positions_history_+3A_passphrase">passphrase</code></td>
<td>
<p>Okx API passphrase.</p>
</td></tr>
<tr><td><code id="get_positions_history_+3A_count">count</code></td>
<td>
<p>Retrieve position data for a specified number of past days, with a maximum of 90(days)</p>
</td></tr>
<tr><td><code id="get_positions_history_+3A_period">period</code></td>
<td>
<p>Due to the 'Number of results per request' limitation of the API,
the <code>period</code> parameter must be specified to ensure that the number of position data entries within each period does not exceed 100.</p>
</td></tr>
<tr><td><code id="get_positions_history_+3A_...">...</code></td>
<td>
<p>Other request parameters to be passed, See
<a href="https://www.okx.com/docs-v5/en/#rest-api-account-get-positions-history">Get positions history</a> for more information.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>Position data
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
positions &lt;- get_positions_history(
  api_key, secret_key, passphrase, count = 90, period = 10,
  instType = "SWAP", mgnMode = "isolated"
)

## End(Not run)

</code></pre>

<hr>
<h2 id='restAPI'>restAPI Class</h2><span id='topic+restAPI'></span>

<h3>Description</h3>

<p>Base class for <a href="https://www.okx.com/docs-v5/en/">Okx exchange v5 API</a>.
</p>


<h3>Details</h3>

<p>You can implement all REST API requests in Okx exchange by inheriting the <code>restAPI</code> class.
Please refer to the example provided at the end of the document.
</p>
<p>For commonly used interfaces, they have been implemented in this package.
The naming convention is as follows: for &quot;/api/v5/AAA/BBB&quot;, a new class named <code>restAPIAAA</code>,
which inherits from <code>restAPI</code>, has been defined in this package.
The <code>BBB</code> method in this new class is used to call the API.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>url</code></dt><dd><p>Okx REST API url, which is https://www.okx.com.</p>
</dd>
<dt><code>api_key</code></dt><dd><p>Okx API key.</p>
</dd>
<dt><code>secret_key</code></dt><dd><p>Okx API secret key.</p>
</dd>
<dt><code>passphrase</code></dt><dd><p>Okx API passphrase.</p>
</dd>
<dt><code>simulate</code></dt><dd><p>Whether to use demo trading service.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-restAPI-new"><code>restAPI$new()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_timestamp"><code>restAPI$get_timestamp()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_request_path"><code>restAPI$get_request_path()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_body"><code>restAPI$get_body()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_message"><code>restAPI$get_message()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_signature"><code>restAPI$get_signature()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_header"><code>restAPI$get_header()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-get_result"><code>restAPI$get_result()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPI-clone"><code>restAPI$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-restAPI-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new REST API object.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$new(api_key, secret_key, passphrase, simulate = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api_key</code></dt><dd><p>Okx API key.</p>
</dd>
<dt><code>secret_key</code></dt><dd><p>Okx API secret key.</p>
</dd>
<dt><code>passphrase</code></dt><dd><p>Okx API passphrase.</p>
</dd>
<dt><code>simulate</code></dt><dd><p>Whether to use demo trading service.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-get_timestamp"></a>



<h4>Method <code>get_timestamp()</code></h4>

<p>Get UTC timestamp.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_timestamp()</pre></div>


<hr>
<a id="method-restAPI-get_request_path"></a>



<h4>Method <code>get_request_path()</code></h4>

<p>Get request path.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_request_path(api, method = c("GET", "POST"), ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api</code></dt><dd><p>Request api e.g. /api/v5/account/positions-history.</p>
</dd>
<dt><code>method</code></dt><dd><p>Request method, <code>GET</code> or <code>POST</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-get_body"></a>



<h4>Method <code>get_body()</code></h4>

<p>Get request body.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_body(method = c("GET", "POST"), ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>method</code></dt><dd><p>Request method, <code>GET</code> or <code>POST</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-get_message"></a>



<h4>Method <code>get_message()</code></h4>

<p>Get the signing messages.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_message(timestamp, request_path, body, method = c("GET", "POST"))</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>timestamp</code></dt><dd><p>Retrieve through method <code>get_timestamp</code>.</p>
</dd>
<dt><code>request_path</code></dt><dd><p>Retrieve through method <code>get_request_path</code>.</p>
</dd>
<dt><code>body</code></dt><dd><p>Retrieve through method <code>get_body</code>.</p>
</dd>
<dt><code>method</code></dt><dd><p>Request method, <code>GET</code> or <code>POST</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-get_signature"></a>



<h4>Method <code>get_signature()</code></h4>

<p>Get the signature.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_signature(msg, secret_key = self$secret_key)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Retrieve through method <code>get_message</code>.</p>
</dd>
<dt><code>secret_key</code></dt><dd><p>Okx API secret key.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-get_header"></a>



<h4>Method <code>get_header()</code></h4>

<p>Get request headers.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_header(timestamp, msg)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>timestamp</code></dt><dd><p>Retrieve through method <code>get_timestamp</code>.</p>
</dd>
<dt><code>msg</code></dt><dd><p>Retrieve through method <code>get_message</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-get_result"></a>



<h4>Method <code>get_result()</code></h4>

<p>Retrieve data from api.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$get_result(api, method = c("GET", "POST"), process, ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api</code></dt><dd><p>Request api e.g. /api/v5/account/positions-history.</p>
</dd>
<dt><code>method</code></dt><dd><p>Request method, <code>GET</code> or <code>POST</code>.</p>
</dd>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPI-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPI$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>See Also</h3>

<p><code><a href="#topic+restAPItrade">restAPItrade</a></code>
<code><a href="#topic+restAPIaccount">restAPIaccount</a></code>
<code><a href="#topic+restAPImarket">restAPImarket</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
# for [Get currencies](https://www.okx.com/docs-v5/en/#rest-api-funding-get-currencies)
# you can define the class like this
myRestAPI &lt;- R6::R6Class(
  inherit = restAPI,
  public = list(
    get_currencies = function(ccy, process = "identity") {
      self$get_result(
        api = "/api/v5/asset/currencies", method = "GET", process = process,
        ccy = ccy
      )
    }
  )
)
# And call it like this
tmp &lt;- myRestAPI$new(api_key, secret_key, passphrase)
tmp$get_currencies("BTC")

## End(Not run)

</code></pre>

<hr>
<h2 id='restAPIaccount'>restAPIaccount Class</h2><span id='topic+restAPIaccount'></span>

<h3>Description</h3>

<p>Wrapper for <a href="https://www.okx.com/docs-v5/en/#rest-api-account">REST API ACCOUNT</a>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+restAPI">okxAPI::restAPI</a></code> -&gt; <code>restAPIaccount</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-restAPIaccount-balance"><code>restAPIaccount$balance()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPIaccount-positions"><code>restAPIaccount$positions()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPIaccount-positions_history"><code>restAPIaccount$positions_history()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPIaccount-clone"><code>restAPIaccount$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_body"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_body'><code>okxAPI::restAPI$get_body()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_header"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_header'><code>okxAPI::restAPI$get_header()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_message"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_message'><code>okxAPI::restAPI$get_message()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_request_path"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_request_path'><code>okxAPI::restAPI$get_request_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_result"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_result'><code>okxAPI::restAPI$get_result()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_signature"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_signature'><code>okxAPI::restAPI$get_signature()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_timestamp"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_timestamp'><code>okxAPI::restAPI$get_timestamp()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="initialize"><a href='../../okxAPI/html/restAPI.html#method-restAPI-initialize'><code>okxAPI::restAPI$initialize()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-restAPIaccount-balance"></a>



<h4>Method <code>balance()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-account-get-balance">Get balance</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPIaccount$balance(ccy, process = "identity")</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>ccy</code></dt><dd><p>Single currency or a vector composed of multiple currencies. (no more than 20).</p>
</dd>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPIaccount-positions"></a>



<h4>Method <code>positions()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-account-get-positions">Get positions</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPIaccount$positions(process = "identity", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPIaccount-positions_history"></a>



<h4>Method <code>positions_history()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-account-get-positions-history">Get positions history</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPIaccount$positions_history(process = "identity", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPIaccount-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPIaccount$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='restAPImarket'>restAPImarket Class</h2><span id='topic+restAPImarket'></span>

<h3>Description</h3>

<p>Wrapper for <a href="https://www.okx.com/docs-v5/en/#rest-api-market-data">REST API MARKET</a>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+restAPI">okxAPI::restAPI</a></code> -&gt; <code>restAPImarket</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-restAPImarket-candles"><code>restAPImarket$candles()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPImarket-history_candles"><code>restAPImarket$history_candles()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPImarket-clone"><code>restAPImarket$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_body"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_body'><code>okxAPI::restAPI$get_body()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_header"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_header'><code>okxAPI::restAPI$get_header()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_message"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_message'><code>okxAPI::restAPI$get_message()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_request_path"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_request_path'><code>okxAPI::restAPI$get_request_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_result"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_result'><code>okxAPI::restAPI$get_result()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_signature"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_signature'><code>okxAPI::restAPI$get_signature()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_timestamp"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_timestamp'><code>okxAPI::restAPI$get_timestamp()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="initialize"><a href='../../okxAPI/html/restAPI.html#method-restAPI-initialize'><code>okxAPI::restAPI$initialize()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-restAPImarket-candles"></a>



<h4>Method <code>candles()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-market-data-get-candlesticks">Get candlesticks</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPImarket$candles(instId, process = "identity", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>instId</code></dt><dd><p>Instrument ID, e.g. BTC-USD-190927-5000-C.</p>
</dd>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPImarket-history_candles"></a>



<h4>Method <code>history_candles()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-market-data-get-candlesticks-history">Get candlesticks history</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPImarket$history_candles(instId, process = "identity", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>instId</code></dt><dd><p>Instrument ID, e.g. BTC-USD-190927-5000-C.</p>
</dd>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPImarket-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPImarket$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='restAPItrade'>restAPItrade Class</h2><span id='topic+restAPItrade'></span>

<h3>Description</h3>

<p>Wrapper for <a href="https://www.okx.com/docs-v5/en/#rest-api-trade">REST API TRADE</a>.
</p>


<h3>Super class</h3>

<p><code><a href="#topic+restAPI">okxAPI::restAPI</a></code> -&gt; <code>restAPItrade</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-restAPItrade-order"><code>restAPItrade$order()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPItrade-cancel_order"><code>restAPItrade$cancel_order()</code></a>
</p>
</li>
<li> <p><a href="#method-restAPItrade-clone"><code>restAPItrade$clone()</code></a>
</p>
</li></ul>



<details><summary>Inherited methods</summary>
<ul>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_body"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_body'><code>okxAPI::restAPI$get_body()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_header"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_header'><code>okxAPI::restAPI$get_header()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_message"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_message'><code>okxAPI::restAPI$get_message()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_request_path"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_request_path'><code>okxAPI::restAPI$get_request_path()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_result"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_result'><code>okxAPI::restAPI$get_result()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_signature"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_signature'><code>okxAPI::restAPI$get_signature()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="get_timestamp"><a href='../../okxAPI/html/restAPI.html#method-restAPI-get_timestamp'><code>okxAPI::restAPI$get_timestamp()</code></a></span></li>
<li><span class="pkg-link" data-pkg="okxAPI" data-topic="restAPI" data-id="initialize"><a href='../../okxAPI/html/restAPI.html#method-restAPI-initialize'><code>okxAPI::restAPI$initialize()</code></a></span></li>
</ul>
</details>

<hr>
<a id="method-restAPItrade-order"></a>



<h4>Method <code>order()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-trade-place-order">Place order</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPItrade$order(
  instId,
  tdMode = c("isolated", "cross", "cash"),
  side = c("buy", "sell"),
  sz,
  ordType = c("market", "limit", "post_only", "fok", "ioc", "optimal_limit_ioc"),
  process = "identity",
  ...
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>instId</code></dt><dd><p>Instrument ID, e.g. BTC-USD-190927-5000-C.</p>
</dd>
<dt><code>tdMode</code></dt><dd><p>Trade mode. Margin mode: <code>cross</code> or <code>isolated.</code> Non-Margin mode: <code>cash</code>.</p>
</dd>
<dt><code>side</code></dt><dd><p>Order side, <code>buy</code> or <code>sell</code>.</p>
</dd>
<dt><code>sz</code></dt><dd><p>Quantity to buy or sell.</p>
</dd>
<dt><code>ordType</code></dt><dd><p>Order type. <code>market</code>: Market order, <code>limit</code>: Limit order, <code>post_only</code>: Post-only order,
<code>fok</code>: Fill-or-kill order, <code>ioc</code>: Immediate-or-cancel order,
<code>optimal_limit_ioc</code>: Market order with immediate-or-cancel order (applicable only to Futures and Perpetual swap).</p>
</dd>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPItrade-cancel_order"></a>



<h4>Method <code>cancel_order()</code></h4>

<p>See <a href="https://www.okx.com/docs-v5/en/#rest-api-trade-cancel-order">Cancel order</a> for more information.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPItrade$cancel_order(instId, ordId, clOrdId, process = "identity", ...)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>instId</code></dt><dd><p>Instrument ID, e.g. BTC-USD-190927.</p>
</dd>
<dt><code>ordId</code></dt><dd><p>Order ID, Either <code>ordId</code> or <code>clOrdId</code> is required. If both are passed, <code>ordId</code> will be used.</p>
</dd>
<dt><code>clOrdId</code></dt><dd><p>Client Order ID as assigned by the client.</p>
</dd>
<dt><code>process</code></dt><dd><p>A function to process the data received from the API. Default to <code>identity</code>.</p>
</dd>
<dt><code>...</code></dt><dd><p>Other request parameters.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-restAPItrade-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>restAPItrade$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>



<hr>
<h2 id='websocketAPIprivate'>websocketAPIprivate Class</h2><span id='topic+websocketAPIprivate'></span>

<h3>Description</h3>

<p>Private channel of WebSocket API for <a href="https://www.okx.com/docs-v5/en/">Okx exchange v5 API</a>.
See <a href="https://www.okx.com/docs-v5/en/#websocket-api-private-channel">Private Channel</a> for more information.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>channel</code></dt><dd><p>Private WebSocket url.</p>
</dd>
<dt><code>api_key</code></dt><dd><p>Okx API key.</p>
</dd>
<dt><code>secret_key</code></dt><dd><p>Okx API secret key.</p>
</dd>
<dt><code>passphrase</code></dt><dd><p>Okx API passphrase.</p>
</dd>
<dt><code>simulate</code></dt><dd><p>Whether to use demo trading service.</p>
</dd>
<dt><code>ws</code></dt><dd><p>A websocket::WebSocket object to establish a connection to the server.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-websockerAPIprivate-new"><code>websocketAPIprivate$new()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-get_timestamp"><code>websocketAPIprivate$get_timestamp()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-get_message"><code>websocketAPIprivate$get_message()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-get_signature"><code>websocketAPIprivate$get_signature()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-connect"><code>websocketAPIprivate$connect()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-login"><code>websocketAPIprivate$login()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-on_open"><code>websocketAPIprivate$on_open()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-on_close"><code>websocketAPIprivate$on_close()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-on_message"><code>websocketAPIprivate$on_message()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-on_error"><code>websocketAPIprivate$on_error()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-send"><code>websocketAPIprivate$send()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-close"><code>websocketAPIprivate$close()</code></a>
</p>
</li>
<li> <p><a href="#method-websockerAPIprivate-clone"><code>websocketAPIprivate$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-websockerAPIprivate-new"></a>



<h4>Method <code>new()</code></h4>

<p>Craeate a new websocketAPIprivate object.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$new(api_key, secret_key, passphrase, simulate = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api_key</code></dt><dd><p>Okx API key.</p>
</dd>
<dt><code>secret_key</code></dt><dd><p>Okx API secret key.</p>
</dd>
<dt><code>passphrase</code></dt><dd><p>Okx API passphrase.</p>
</dd>
<dt><code>simulate</code></dt><dd><p>Whether to use demo trading service.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-get_timestamp"></a>



<h4>Method <code>get_timestamp()</code></h4>

<p>Get UTC timestamp.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$get_timestamp()</pre></div>


<hr>
<a id="method-websockerAPIprivate-get_message"></a>



<h4>Method <code>get_message()</code></h4>

<p>Get the signing messages.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$get_message(timestamp)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>timestamp</code></dt><dd><p>Retrieve through method <code>get_timestamp</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-get_signature"></a>



<h4>Method <code>get_signature()</code></h4>

<p>Get the signature.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$get_signature(secret_key, msg)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>secret_key</code></dt><dd><p>Okx API secret key.</p>
</dd>
<dt><code>msg</code></dt><dd><p>Retrieve through method <code>get_message</code>.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-connect"></a>



<h4>Method <code>connect()</code></h4>

<p>Initiate the connection to the server.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$connect()</pre></div>


<hr>
<a id="method-websockerAPIprivate-login"></a>



<h4>Method <code>login()</code></h4>

<p>Log in.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$login()</pre></div>


<hr>
<a id="method-websockerAPIprivate-on_open"></a>



<h4>Method <code>on_open()</code></h4>

<p>Called when the connection is established.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$on_open(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-on_close"></a>



<h4>Method <code>on_close()</code></h4>

<p>Called when a previously-opened connection is closed.
The event will have 'code' (integer) and 'reason' (one-element character)
elements that describe the remote's reason for closing.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$on_close(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-on_message"></a>



<h4>Method <code>on_message()</code></h4>

<p>Called each time a message is received from the server.
The event will have a 'data' element, which is the message content.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$on_message(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-on_error"></a>



<h4>Method <code>on_error()</code></h4>

<p>Called when the connection fails to be established.
The event will have an 'message' element, a character vector of length 1
describing the reason for the error.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$on_error(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-send"></a>



<h4>Method <code>send()</code></h4>

<p>Send a message to the server.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$send(msg)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Messages.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websockerAPIprivate-close"></a>



<h4>Method <code>close()</code></h4>

<p>Close the connection.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$close()</pre></div>


<hr>
<a id="method-websockerAPIprivate-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIprivate$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tmp &lt;- websocketAPIprivate$new(api_key, secret_key, passphrase)
tmp$connect()
Sys.sleep(1)
tmp$login()

# subscribe account information
msg &lt;- list(
  op = "subscribe",
  args = list(
    list(channel = "account", ccy = "USDT")
  )
)
msg &lt;- jsonlite::toJSON(msg, auto_unbox = TRUE, pretty = TRUE)
tmp$send(msg)

# pass your own callback function
tmp$on_message(function(event) {
  if (event$data == "pong") {
    cat("Bingo!!\n")
  }
})
tmp$send("ping")

tmp$close()

## End(Not run)

</code></pre>

<hr>
<h2 id='websocketAPIpublic'>websocketAPIpublic Class</h2><span id='topic+websocketAPIpublic'></span>

<h3>Description</h3>

<p>Public channel of WebSocket API for <a href="https://www.okx.com/docs-v5/en/">Okx exchange v5 API</a>.
See <a href="https://www.okx.com/docs-v5/en/#websocket-api-public-channel">Public Channel</a> for more information.
</p>


<h3>Public fields</h3>

<div class="r6-fields">

<dl>
<dt><code>channel</code></dt><dd><p>Public WebSocket url.</p>
</dd>
<dt><code>simulate</code></dt><dd><p>Whether to use demo trading service.</p>
</dd>
<dt><code>ws</code></dt><dd><p>A websocket::WebSocket object to establish a connection to the server.</p>
</dd>
</dl>

</div>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-websocketAPIpublic-new"><code>websocketAPIpublic$new()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-connect"><code>websocketAPIpublic$connect()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-on_open"><code>websocketAPIpublic$on_open()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-on_close"><code>websocketAPIpublic$on_close()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-on_message"><code>websocketAPIpublic$on_message()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-on_error"><code>websocketAPIpublic$on_error()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-send"><code>websocketAPIpublic$send()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-close"><code>websocketAPIpublic$close()</code></a>
</p>
</li>
<li> <p><a href="#method-websocketAPIpublic-clone"><code>websocketAPIpublic$clone()</code></a>
</p>
</li></ul>


<hr>
<a id="method-websocketAPIpublic-new"></a>



<h4>Method <code>new()</code></h4>

<p>Create a new websocketAPIpublic object.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$new(simulate = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>simulate</code></dt><dd><p>Whether to use demo trading service.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websocketAPIpublic-connect"></a>



<h4>Method <code>connect()</code></h4>

<p>Initiate the connection to the server.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$connect()</pre></div>


<hr>
<a id="method-websocketAPIpublic-on_open"></a>



<h4>Method <code>on_open()</code></h4>

<p>Called when the connection is established.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$on_open(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websocketAPIpublic-on_close"></a>



<h4>Method <code>on_close()</code></h4>

<p>Called when a previously-opened connection is closed.
The event will have 'code' (integer) and 'reason' (one-element character)
elements that describe the remote's reason for closing.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$on_close(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websocketAPIpublic-on_message"></a>



<h4>Method <code>on_message()</code></h4>

<p>Called each time a message is received from the server.
The event will have a 'data' element, which is the message content.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$on_message(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websocketAPIpublic-on_error"></a>



<h4>Method <code>on_error()</code></h4>

<p>Called when the connection fails to be established.
The event will have an 'message' element, a character vector of length 1
describing the reason for the error.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$on_error(func)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>func</code></dt><dd><p>A Callback function.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websocketAPIpublic-send"></a>



<h4>Method <code>send()</code></h4>

<p>Send a message to the server.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$send(msg)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>msg</code></dt><dd><p>Messages.</p>
</dd>
</dl>

</div>


<hr>
<a id="method-websocketAPIpublic-close"></a>



<h4>Method <code>close()</code></h4>

<p>Close the connection.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$close()</pre></div>


<hr>
<a id="method-websocketAPIpublic-clone"></a>



<h4>Method <code>clone()</code></h4>

<p>The objects of this class are cloneable with this method.
</p>


<h5>Usage</h5>

<div class="r"><pre>websocketAPIpublic$clone(deep = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>deep</code></dt><dd><p>Whether to make a deep clone.</p>
</dd>
</dl>

</div>




<h3>Examples</h3>

<pre><code class='language-R'>## Not run: 
tmp &lt;- websocketAPIpublic$new()
tmp$connect()

# subscribe BTC-USDT-SWAP 5m candlesticks data
msg &lt;- list(
  op = "unsubscribe",
  args = list(
    list(channel = "candle5m", instId = "BTC-USDT-SWAP")
  )
)
msg &lt;- jsonlite::toJSON(msg, auto_unbox = TRUE, pretty = TRUE)
tmp$send(msg)

# pass your own callback function
tmp$on_message(function(event) {
  if (event$data == "pong") {
    cat("Bingo!!\n")
  }
})
tmp$send("ping")

tmp$close()

## End(Not run)

</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

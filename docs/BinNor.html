<!DOCTYPE html><html><head><title>Help for package BinNor</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {BinNor}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#BinNor-package'>
<p>A package for simultaneous generation of binary and normal data.</p></a></li>
<li><a href='#compute.sigma.star'><p>Computes intermediate correlation matrix</p>
</p></a></li>
<li><a href='#jointly.generate.binary.normal'><p>Generates a mix of binary and normal data</p></a></li>
<li><a href='#lower.tri.to.corr.mat'><p>Converts a vector of correlations to a full correlation matrix</p>
</p></a></li>
<li><a href='#simulation'><p>Repeats the data generation process in a simulation scheme</p>
</p></a></li>
<li><a href='#validation.bin'><p>Validates the marginal specification of the binary part</p>
</a></li>
<li><a href='#validation.corr'>
<p>Validates the specified correlation matrix</p></a></li>
<li><a href='#validation.nor'><p>Validates the marginal specification of the normal part</p></a></li>
<li><a href='#validation.range'>
<p>Checks if the correlation terms are within the feasible range</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>Simultaneous Generation of Multivariate Binary and Normal
Variates</td>
</tr>
<tr>
<td>Version:</td>
<td>2.3.3</td>
</tr>
<tr>
<td>Date:</td>
<td>2021-03-05</td>
</tr>
<tr>
<td>Author:</td>
<td>Anup Amatya, Hakan Demirtas, Ran Gao</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Ran Gao &lt;rgao8@uic.edu&gt;</td>
</tr>
<tr>
<td>Depends:</td>
<td>mvtnorm, corpcor, psych, Matrix</td>
</tr>
<tr>
<td>Description:</td>
<td>Generating multiple binary and normal variables simultaneously given marginal characteristics and association structure based on the methodology proposed by Demirtas and Doganay (2012) &lt;<a href="https://doi.org/10.1080%2F10543406.2010.521874">doi:10.1080/10543406.2010.521874</a>&gt;.</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/GPL-2">GPL-2</a></td>
</tr>
<tr>
<td>LazyLoad:</td>
<td>yes</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>no</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2021-03-05 17:40:34 UTC; rangao</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2021-03-05 18:20:09 UTC</td>
</tr>
</table>
<hr>
<h2 id='BinNor-package'>
A package for simultaneous generation of binary and normal data.
</h2><span id='topic+BinNor-package'></span><span id='topic+BinNor'></span>

<h3>Description</h3>

<p>Provides R functions for generating multiple binary and normal variables simultaneously given the 
marginal characteristics and association structure via combining well established results from the
random number generation literature, based on the methodology proposed by Demirtas and Doganay (2012).
</p>


<h3>Details</h3>


<table>
<tr>
 <td style="text-align: left;">
Package: </td><td style="text-align: left;"> BinNor</td>
</tr>
<tr>
 <td style="text-align: left;">
Type: </td><td style="text-align: left;"> Package</td>
</tr>
<tr>
 <td style="text-align: left;">
Version: </td><td style="text-align: left;"> 2.3.3</td>
</tr>
<tr>
 <td style="text-align: left;">
Date: </td><td style="text-align: left;"> 2021-03-05</td>
</tr>
<tr>
 <td style="text-align: left;">
License: </td><td style="text-align: left;"> GPL-2</td>
</tr>
<tr>
 <td style="text-align: left;">
LazyLoad: </td><td style="text-align: left;"> yes</td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are eight functions in this package. The functions <code><a href="#topic+lower.tri.to.corr.mat">lower.tri.to.corr.mat</a></code>, <br />		
<code><a href="#topic+validation.bin">validation.bin</a></code>, <code><a href="#topic+validation.nor">validation.nor</a></code>, <code><a href="#topic+validation.range">validation.range</a></code> and <code><a href="#topic+validation.nor">validation.nor</a> </code>
are designed to prevent obvious specification errors and to validate the specified quantities. The most important functions are <code><a href="#topic+compute.sigma.star">compute.sigma.star</a></code>, <code><a href="#topic+jointly.generate.binary.normal">jointly.generate.binary.normal</a></code> and <code><a href="#topic+simulation">simulation</a></code>. The function <code><a href="#topic+compute.sigma.star">compute.sigma.star</a></code> computes the matrix of tetrachoric correlations that will be used in 
the generation of multivariate normal data whose some components are dichotomized to obtain binary variables.
The function  <code><a href="#topic+jointly.generate.binary.normal">jointly.generate.binary.normal</a></code> generates mixed data, and the function <code><a href="#topic+simulation">simulation</a></code> is capable of
repating this process many times and produces averages of some key statistical quantities across replications.
</p>


<h3>Author(s)</h3>

<p>Anup Amatya, Hakan Demirtas, Ran Gao  
</p>
<p>Maintainer: Ran Gao &lt;rgao8@uic.edu&gt;
</p>


<h3>References</h3>

<p>Demirtas, H., Doganay, B. (2012). Simultaneous generation of binary and normal data with specified marginal and association structures. Journal of Biopharmaceutical Statistics; 22(2), 223-236.<br />
<br />
Demirtas, H., Amatya, A., and Doganay, B. (2014). BinNor: An R package for con-current generation of binary and normal data. Communications in Statistic-Simulation
and Computation; 43(3), 569-579.
</p>

<hr>
<h2 id='compute.sigma.star'>Computes intermediate correlation matrix
</h2><span id='topic+compute.sigma.star'></span>

<h3>Description</h3>

<p>This function computes the intermediate correlation matrix by assembling tetrachoric correlations 
for binary-binary combinations, biserial correlations for binary-normal combinations, 
and specified correlation for normal-normal combinations. 
If the resulting correlation matrix is not positive definite, a nearest positive matrix will be used.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>compute.sigma.star(no.bin, no.nor, prop.vec.bin = NULL,
		 corr.vec = NULL, corr.mat = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="compute.sigma.star_+3A_no.bin">no.bin</code></td>
<td>

<p>Number of binary variables
</p>
</td></tr>
<tr><td><code id="compute.sigma.star_+3A_no.nor">no.nor</code></td>
<td>

<p>Number of normal variables
</p>
</td></tr>
<tr><td><code id="compute.sigma.star_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Probability vector for binary variables
</p>
</td></tr>
<tr><td><code id="compute.sigma.star_+3A_corr.vec">corr.vec</code></td>
<td>

<p>Vector of elements below the diagonal of correlation matrix ordered columnwise
</p>
</td></tr>
<tr><td><code id="compute.sigma.star_+3A_corr.mat">corr.mat</code></td>
<td>

<p>Specified correlation matrix 
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>sigma_star</code></td>
<td>
<p>A resulting intermediate correlation matrix <code class="reqn">\Sigma^*</code></p>
</td></tr>
<tr><td><code>nonPD</code></td>
<td>
<p>If a resulting intermediate correlation matrix is non-positive 
definite, it is stored in this value. Otherwise it is NULL.</p>
</td></tr>
<tr><td><code>PD</code></td>
<td>
<p>TRUE if <code class="reqn">\Sigma^*</code> is positive definite, FALSE otherwise. A FALSE indicates that the nearest positive definite matrix is returned.</p>
</td></tr>
<tr><td><code>eigenv</code></td>
<td>
<p>Eigenvalues of the <code class="reqn">\Sigma^*</code> before the conversion</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+validation.corr">validation.corr</a></code>,  <code><a href="Matrix.html#topic+nearPD">nearPD</a></code>, <code>phi2tetra</code>, <code>is.positive.definite</code>, <br />
<code><a href="#topic+jointly.generate.binary.normal">jointly.generate.binary.normal</a></code>, <code><a href="#topic+simulation">simulation</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>cmat = lower.tri.to.corr.mat(corr.vec= c(0.16, 0.04, 0.38, 0.14, 0.47, 0.68),4)
compute.sigma.star(no.bin=2, no.nor=2, prop.vec.bin=c(0.4,0.7), 
corr.vec=NULL,corr.mat=cmat)
</code></pre>

<hr>
<h2 id='jointly.generate.binary.normal'>Generates a mix of binary and normal data
</h2><span id='topic+jointly.generate.binary.normal'></span>

<h3>Description</h3>

<p>Generates multiple binary and normal variables simultaneously given marginal
characteristics and association structures.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>jointly.generate.binary.normal(no.rows, no.bin, 
			no.nor, prop.vec.bin = NULL, mean.vec.nor = NULL, var.nor = NULL, 
			sigma_star = NULL, corr.vec = NULL, corr.mat = NULL, 
			continue.with.warning = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="jointly.generate.binary.normal_+3A_no.rows">no.rows</code></td>
<td>

<p>Number of rows.
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_no.bin">no.bin</code></td>
<td>

<p>Number of binary variables
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_no.nor">no.nor</code></td>
<td>

<p>Number of normal variables
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Probability vector for binary variables
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_mean.vec.nor">mean.vec.nor</code></td>
<td>

<p>Vector of means for normal variables
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_var.nor">var.nor</code></td>
<td>

<p>Vector of variances for normal variables
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_sigma_star">sigma_star</code></td>
<td>
 
<p>Intermediate correlation matrix
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_corr.vec">corr.vec</code></td>
<td>

<p>Vector of elements below the diagonal of correlation matrix ordered columnwise
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_corr.mat">corr.mat</code></td>
<td>

<p>Specified correlation matrix 
</p>
</td></tr>
<tr><td><code id="jointly.generate.binary.normal_+3A_continue.with.warning">continue.with.warning</code></td>
<td>
 
<p>TRUE to proceed with the nearest positive definite <code class="reqn">\Sigma^*</code>. FALSE to terminate program execution if  <code class="reqn">\Sigma^*</code> is not positive definite
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>data</code></td>
<td>
<p>A matrix of generated data.</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+compute.sigma.star">compute.sigma.star</a></code>, <code><a href="#topic+validation.corr">validation.corr</a></code>, <code><a href="#topic+validation.bin">validation.bin</a></code>, <code><a href="#topic+validation.nor">validation.nor</a></code>, <code><a href="Matrix.html#topic+nearPD">nearPD</a></code>, <code><a href="#topic+simulation">simulation</a></code>, <code><a href="mvtnorm.html#topic+rmvnorm">rmvnorm</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>
no.rows=100
no.bin=2; no.nor=2
mean.vec.nor=c(3,1); var.nor=c(4,2)
prop.vec.bin=c(0.4,0.7)
corr.vec=c(0.16,0.04,0.38,0.14,0.47,0.68);

cmat = lower.tri.to.corr.mat(corr.vec,4)
sigma.star=compute.sigma.star(no.bin=2, no.nor=2, prop.vec.bin=c(0.4,0.7),
								corr.mat=cmat)
mydata=jointly.generate.binary.normal(no.rows,no.bin,no.nor,prop.vec.bin,
				mean.vec.nor,var.nor, sigma_star=sigma.star$sigma_star, 
				continue.with.warning=TRUE)
</code></pre>

<hr>
<h2 id='lower.tri.to.corr.mat'>Converts a vector of correlations to a full correlation matrix
</h2><span id='topic+lower.tri.to.corr.mat'></span>

<h3>Description</h3>

<p>This function creates full correlation matrix from the vector containing elements below the diagonal.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>lower.tri.to.corr.mat(corr.vec = NULL, d)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="lower.tri.to.corr.mat_+3A_corr.vec">corr.vec</code></td>
<td>

<p>A vector of elements below diagonal of correlation matrix. The elements must be ordered starting from first element below diagonal of the  first column, then second element below diagonal of the first column and so on.
</p>
</td></tr>
<tr><td><code id="lower.tri.to.corr.mat_+3A_d">d</code></td>
<td>

<p>Number of column in final correlation matrix.
</p>
</td></tr>
</table>


<h3>Value</h3>

<table>
<tr><td><code>corr.mat</code></td>
<td>
<p>Full correlation matrix</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="base.html#topic+lower.tri">lower.tri</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>corr.vec=c(0.16,0.04,0.38,0.14,0.47,0.68)
lower.tri.to.corr.mat(corr.vec,4)
</code></pre>

<hr>
<h2 id='simulation'>Repeats the data generation process in a simulation scheme
</h2><span id='topic+simulation'></span>

<h3>Description</h3>

<p>Simulates many versions of mixed data, and reports averaged proportion, mean, variance and correlation estimates across replications.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>simulation(seed = NULL, nsim, no.rows, no.bin, no.nor, 
	mean.vec.nor = NULL, var.nor = NULL, prop.vec.bin = NULL, 
	corr.vec = NULL, corr.mat = NULL, continue.with.warning = TRUE)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="simulation_+3A_seed">seed</code></td>
<td>

<p>A seed value for the random number generator. Seed value will be randomly generated unless specified.
</p>
</td></tr>
<tr><td><code id="simulation_+3A_nsim">nsim</code></td>
<td>

<p>Number of simulation runs.
</p>
</td></tr>
<tr><td><code id="simulation_+3A_no.rows">no.rows</code></td>
<td>

<p>Number of rows.
</p>
</td></tr>
<tr><td><code id="simulation_+3A_no.bin">no.bin</code></td>
<td>

<p>Number of binary variables
</p>
</td></tr>
<tr><td><code id="simulation_+3A_no.nor">no.nor</code></td>
<td>

<p>Number of normal variables
</p>
</td></tr>
<tr><td><code id="simulation_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Probability vector for binary variables
</p>
</td></tr>
<tr><td><code id="simulation_+3A_mean.vec.nor">mean.vec.nor</code></td>
<td>

<p>Vector of means for normal variables
</p>
</td></tr>
<tr><td><code id="simulation_+3A_var.nor">var.nor</code></td>
<td>

<p>Vector of variances for normal variables
</p>
</td></tr>
<tr><td><code id="simulation_+3A_corr.vec">corr.vec</code></td>
<td>

<p>Vector of elements below the diagonal of correlation matrix ordered columnwise
</p>
</td></tr>
<tr><td><code id="simulation_+3A_corr.mat">corr.mat</code></td>
<td>

<p>Specified correlation matrix 
</p>
</td></tr>
<tr><td><code id="simulation_+3A_continue.with.warning">continue.with.warning</code></td>
<td>
<p> TRUE to proceed with the nearest positive definite <code class="reqn">\Sigma^*</code>. FALSE to terminate program execution if  <code class="reqn">\Sigma^*</code> is not positive definite
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+compute.sigma.star">compute.sigma.star</a></code>, <code><a href="#topic+jointly.generate.binary.normal">jointly.generate.binary.normal</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>simulation(nsim=10, no.rows=100, no.bin=2, no.nor=2, 
		mean.vec.nor=c(3,1), var.nor=c(4,2), prop.vec.bin=c(0.4,0.7),
		corr.vec=c(0.16,0.04,0.38,0.14,0.47,0.68), corr.mat=NULL)
</code></pre>

<hr>
<h2 id='validation.bin'>Validates the marginal specification of the binary part

</h2><span id='topic+validation.bin'></span>

<h3>Description</h3>

<p>Checks whether the marginal specification of the binary part is valid and consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validation.bin(no.bin, prop.vec.bin = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validation.bin_+3A_no.bin">no.bin</code></td>
<td>

<p>Number of binary variates.
</p>
</td></tr>
<tr><td><code id="validation.bin_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Probability vector for binary variables
</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>	## Not run: validation.bin (3,  rep(0.6,4)) 
	validation.bin (4,  rep(0.6,4))
</code></pre>

<hr>
<h2 id='validation.corr'>
Validates the specified correlation matrix
</h2><span id='topic+validation.corr'></span>

<h3>Description</h3>

<p>This function validates the correlation vector and/or matrix for appropriate dimension, symmetry, range, and positive definiteness. 
If both correlation matrix and correlation vector were supplied, it checks whether the matrix and vector are conformable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validation.corr(no.bin, no.nor, prop.vec.bin = NULL, 
		corr.vec = NULL, corr.mat = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validation.corr_+3A_no.bin">no.bin</code></td>
<td>

<p>Number of binary variables
</p>
</td></tr>
<tr><td><code id="validation.corr_+3A_no.nor">no.nor</code></td>
<td>

<p>Number of normal variables
</p>
</td></tr>
<tr><td><code id="validation.corr_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Probability vector for binary variables
</p>
</td></tr>
<tr><td><code id="validation.corr_+3A_corr.vec">corr.vec</code></td>
<td>

<p>Vector of elements below the diagonal of correlation matrix ordered columnwise
</p>
</td></tr>
<tr><td><code id="validation.corr_+3A_corr.mat">corr.mat</code></td>
<td>

<p>Specified correlation matrix
</p>
</td></tr>
</table>


<h3>See Also</h3>

<p><code><a href="#topic+validation.bin">validation.bin</a></code>, <code><a href="#topic+validation.range">validation.range</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>d=4
corr.vec=c(0.21,0.61,0.78,0.10,0.12,0.65)
corr.mat=lower.tri.to.corr.mat(corr.vec,d)	


validation.corr (no.bin=2, no.nor=2,prop.vec.bin=c(0.4,0.7), 
		corr.vec,corr.mat=corr.mat)
</code></pre>

<hr>
<h2 id='validation.nor'>Validates the marginal specification of the normal part
</h2><span id='topic+validation.nor'></span>

<h3>Description</h3>

<p>This function checks whether mean and variance parameters for the normal part are valid and consistent.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validation.nor(no.nor, mean.vec.nor = NULL, var.nor = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validation.nor_+3A_no.nor">no.nor</code></td>
<td>

<p>Number of normal variables
</p>
</td></tr>
<tr><td><code id="validation.nor_+3A_mean.vec.nor">mean.vec.nor</code></td>
<td>

<p>Vector of means for normal variables
</p>
</td></tr>
<tr><td><code id="validation.nor_+3A_var.nor">var.nor</code></td>
<td>

<p>Vector of variances for normal variables
</p>
</td></tr>
</table>

<hr>
<h2 id='validation.range'>
Checks if the correlation terms are within the feasible range
</h2><span id='topic+validation.range'></span>

<h3>Description</h3>

<p>This function checks if there are correlation range violations among 
binary-binary, binary-normal and normal-normal combinations.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>validation.range(no.bin, no.nor, prop.vec.bin = NULL, corr.mat)
</code></pre>


<h3>Arguments</h3>

<table>
<tr><td><code id="validation.range_+3A_no.bin">no.bin</code></td>
<td>

<p>Number of binary variables
</p>
</td></tr>
<tr><td><code id="validation.range_+3A_no.nor">no.nor</code></td>
<td>

<p>Number of normal variables
</p>
</td></tr>
<tr><td><code id="validation.range_+3A_prop.vec.bin">prop.vec.bin</code></td>
<td>

<p>Probability vector for binary variables
</p>
</td></tr>
<tr><td><code id="validation.range_+3A_corr.mat">corr.mat</code></td>
<td>

<p>Specified correlation matrix 
</p>
</td></tr>
</table>


<h3>Examples</h3>

<pre><code class='language-R'>cmat=lower.tri.to.corr.mat(corr.vec=c(0.16,0.04,0.38,0.4,0.47,0.68),4) 
validation.range(no.bin=2, no.nor=2, prop.vec.bin=c(0.4,0.7), corr.mat=cmat)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>

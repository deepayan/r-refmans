<!DOCTYPE html><html lang="en"><head><title>Help for package dscore</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism.min.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.css">
<script type="text/javascript">
const macros = { "\\R": "\\textsf{R}", "\\code": "\\texttt"};
function processMathHTML() {
    var l = document.getElementsByClassName('reqn');
    for (let e of l) { katex.render(e.textContent, e, { throwOnError: false, macros }); }
    return;
}</script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.15.3/dist/katex.min.js"
    onload="processMathHTML();"></script>
<link rel="stylesheet" type="text/css" href="R-nav.css" />
</head><body><div class="container"><nav class="package" aria-label="Topic Navigation">
<div class="dropdown-menu">
<h1>Package {dscore}</h1>
<h2>Contents</h2>
<ul class="menu">
<li><a href='#dscore-package'><p>D-score for child development</p></a></li>
<li><a href='#builtin_itembank'><p>Collection of items fitting the Rasch model</p></a></li>
<li><a href='#builtin_itemtable'><p>Collection of items from instruments measuring early child development</p></a></li>
<li><a href='#builtin_keys'><p>Available keys for calculating the D-score</p></a></li>
<li><a href='#builtin_references'><p>Collection of age-conditional reference distributions</p></a></li>
<li><a href='#calculate_posterior'><p>Calculate posterior of ability</p></a></li>
<li><a href='#count_mu'><p>Median D-score from the default references for the given key</p></a></li>
<li><a href='#count_mu_dutch'><p>Median of Dutch references</p></a></li>
<li><a href='#count_mu_gcdg'><p>Median of GCDG references</p></a></li>
<li><a href='#count_mu_phase1'><p>Median of phase1 references</p></a></li>
<li><a href='#count_mu_preliminary_standards'><p>Median of preliminary_standards</p></a></li>
<li><a href='#daz'><p>Calculate Development-for-Age Z-score (DAZ)</p></a></li>
<li><a href='#decompose_itemnames'><p>Decomposes item names into their four components</p></a></li>
<li><a href='#dscore'><p>D-score estimation</p></a></li>
<li><a href='#get_age_equivalent'><p>Get age equivalents of items that have a difficulty estimate</p></a></li>
<li><a href='#get_itemnames'><p>Extract item names</p></a></li>
<li><a href='#get_itemtable'><p>Get a subset of items from the itemtable</p></a></li>
<li><a href='#get_labels'><p>Get labels for items</p></a></li>
<li><a href='#get_reference'><p>Get D-score reference</p></a></li>
<li><a href='#get_tau'><p>Obtain difficulty parameters from item bank</p></a></li>
<li><a href='#gsample'><p>Sample of 10 children from the GSED Phase 1 study</p></a></li>
<li><a href='#milestones'><p>Outcomes on developmental milestones for preterm-born children</p></a></li>
<li><a href='#normalize'><p>Normalize distribution</p></a></li>
<li><a href='#posterior'><p>Calculate posterior for one item given score, difficulty and prior</p></a></li>
<li><a href='#rename_gcdg_gsed'><p>Rename items from gcdg into gsed lexicon</p></a></li>
<li><a href='#sample_hf'><p>Sample of 10 children from GSED HF</p></a></li>
<li><a href='#sample_lf'><p>Sample of 10 children from gto (LF)</p></a></li>
<li><a href='#sample_sf'><p>Sample of 10 children from gpa (SF)</p></a></li>
<li><a href='#sort_itemnames'><p>Sorts item names according to user-specified priority</p></a></li>
</ul>
</div>
<hr>
</nav>
<main>
<table role='presentation'>
<tr>
<td>Type:</td>
<td>Package</td>
</tr>
<tr>
<td>Title:</td>
<td>D-Score for Child Development</td>
</tr>
<tr>
<td>Version:</td>
<td>1.9.0</td>
</tr>
<tr>
<td>Description:</td>
<td>The D-score summarizes the child's performance on a set of 
    milestones into a single number. The package implements four Rasch model
    keys to convert milestone scores into a D-score. It provides tools to 
    calculate the D-score and its precision from the child's milestone scores, 
    to convert the D-score into the Development-for-Age Z-score (DAZ) 
    using age-conditional references, and to map milestone names into a 
    generic 9-position item naming convention.</td>
</tr>
<tr>
<td>Depends:</td>
<td>R (&ge; 3.5)</td>
</tr>
<tr>
<td>Imports:</td>
<td>dplyr (&ge; 1.0.0), Rcpp, stats, stringi, tidyr (&ge; 1.0.0)</td>
</tr>
<tr>
<td>LinkingTo:</td>
<td>Rcpp, RcppArmadillo</td>
</tr>
<tr>
<td>Suggests:</td>
<td>ggplot2, kableExtra, knitr, lme4, patchwork, rmarkdown,
testthat</td>
</tr>
<tr>
<td>Encoding:</td>
<td>UTF-8</td>
</tr>
<tr>
<td>License:</td>
<td><a href="https://www.r-project.org/Licenses/AGPL-3">AGPL-3</a></td>
</tr>
<tr>
<td>LazyData:</td>
<td>TRUE</td>
</tr>
<tr>
<td>VignetteBuilder:</td>
<td>knitr</td>
</tr>
<tr>
<td>NeedsCompilation:</td>
<td>yes</td>
</tr>
<tr>
<td>URL:</td>
<td><a href="https://github.com/d-score/dscore">https://github.com/d-score/dscore</a>, <a href="https://d-score.org/dscore/">https://d-score.org/dscore/</a>,
<a href="https://d-score.org/dbook1/">https://d-score.org/dbook1/</a></td>
</tr>
<tr>
<td>BugReports:</td>
<td><a href="https://github.com/d-score/dscore/issues">https://github.com/d-score/dscore/issues</a></td>
</tr>
<tr>
<td>Copyright:</td>
<td>Stef van Buuren, Iris Eekhout, Arjan Huizing</td>
</tr>
<tr>
<td>RoxygenNote:</td>
<td>7.3.1</td>
</tr>
<tr>
<td>Packaged:</td>
<td>2024-06-13 16:44:24 UTC; buurensv</td>
</tr>
<tr>
<td>Author:</td>
<td>Stef van Buuren [cre, aut],
  Iris Eekhout [aut],
  Arjan Huizing [aut]</td>
</tr>
<tr>
<td>Maintainer:</td>
<td>Stef van Buuren &lt;stef.vanbuuren@tno.nl&gt;</td>
</tr>
<tr>
<td>Repository:</td>
<td>CRAN</td>
</tr>
<tr>
<td>Date/Publication:</td>
<td>2024-06-13 21:40:07 UTC</td>
</tr>
</table>
<hr>
<h2 id='dscore-package'>D-score for child development</h2><span id='topic+dscore-package'></span>

<h3>Description</h3>

<p>The <code>dscore</code> package implements tools needed to calculate the D-score,
a numerical score that summarizes early development in children by
one number, the D-score.
</p>


<h3>User functions</h3>

<p>The available functions are:</p>

<table>
<tr>
 <td style="text-align: left;">
   Function </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+get_itemnames">get_itemnames()</a></code> </td><td style="text-align: left;"> Extract item names from an itemtable </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+order_itemnames">order_itemnames()</a></code> </td><td style="text-align: left;"> Order item names </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+sort_itemnames">sort_itemnames()</a></code> </td><td style="text-align: left;"> Sort item names </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+decompose_itemnames">decompose_itemnames()</a></code> </td><td style="text-align: left;"> Get four components from itemname </td>
</tr>
<tr>
 <td style="text-align: left;">
     </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+get_itemtable">get_itemtable()</a></code> </td><td style="text-align: left;"> Get a subset from the itemtable </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+get_labels">get_labels()</a></code> </td><td style="text-align: left;"> Get labels for items </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+rename_gcdg_gsed">rename_gcdg_gsed()</a></code> </td><td style="text-align: left;"> Rename gcdg into gsed lexicon </td>
</tr>
<tr>
 <td style="text-align: left;">
     </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+dscore">dscore()</a></code> </td><td style="text-align: left;"> Estimate D-score and DAZ </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+dscore_posterior">dscore_posterior()</a></code> </td><td style="text-align: left;"> Calculate full posterior of D-score </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+get_tau">get_tau()</a></code> </td><td style="text-align: left;"> Get difficulty parameters from item bank </td>
</tr>
<tr>
 <td style="text-align: left;">
     </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+daz">daz()</a></code> </td><td style="text-align: left;"> Transform to age-adjusted standardized D-score </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+zad">zad()</a></code> </td><td style="text-align: left;"> Inverse of <code><a href="#topic+daz">daz()</a></code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+get_reference">get_reference()</a></code> </td><td style="text-align: left;"> Get D-score reference tables </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+get_age_equivalent">get_age_equivalent()</a></code> </td><td style="text-align: left;"> Translate difficulty to age </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Built-in data</h3>

<p>The package contains the following built-in data:</p>

<table>
<tr>
 <td style="text-align: left;">
   Data </td><td style="text-align: left;"> Description </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+builtin_keys">builtin_keys()</a></code> </td><td style="text-align: left;"> Available keys for calculating the D-score </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+builtin_itembank">builtin_itembank()</a></code> </td><td style="text-align: left;"> Collection of items fitting the Rasch model </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code> </td><td style="text-align: left;"> Collection of items from instruments measuring early child development </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+builtin_references">builtin_references()</a></code> </td><td style="text-align: left;"> Collection of age-conditional reference distributions </td>
</tr>
<tr>
 <td style="text-align: left;">
     </td><td style="text-align: left;">  </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code><a href="#topic+milestones">milestones()</a></code> </td><td style="text-align: left;"> Dataset with PASS/FAIL responses for 27 preterms </td>
</tr>
<tr>
 <td style="text-align: left;">
   <a href="#topic+gsample">gsample</a> </td><td style="text-align: left;"> Sample of 10 children from the GSED Phase 1 study, gsed lexicon </td>
</tr>
<tr>
 <td style="text-align: left;">
   <a href="#topic+sample_sf">sample_sf</a> </td><td style="text-align: left;"> Sample of 10 children from GSED Short Form (GSED-SF) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <a href="#topic+sample_lf">sample_lf</a> </td><td style="text-align: left;"> Sample of 10 children from GSED Long Form (GSED-LF) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <a href="#topic+sample_hf">sample_hf</a> </td><td style="text-align: left;"> Sample of 10 children from GSED Household Form (GSED-HF) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Acknowledgements</h3>

<p>The authors wish to
recognize the principal investigators and their study team members
for their generous contribution of the data that made this tool
possible and the members of the Ki team who directly or indirectly
contributed to the study: Amina Abubakar, Claudia R. Lindgren
Alves, Orazio Attanasio, Maureen M. Black, Maria Caridad Araujo,
Susan M. Chang-Lopez, Gary L. Darmstadt, Bernice M. Doove, Wafaie
Fawzi, Lia C.H. Fernald, Günther Fink, Emanuela Galasso, Melissa
Gladstone, Sally M. Grantham-McGregor, Cristina Gutierrez de
Pineres, Pamela Jervis, Jena Derakhshani Hamadani, Charlotte
Hanlon, Simone M. Karam, Gillian Lancaster, Betzy Lozoff, Gareth
McCray, Jeffrey R Measelle, Girmay Medhin, Ana M. B. Menezes,
Lauren Pisani, Helen Pitchik, Muneera Rasheed, Lisy
Ratsifandrihamanana, Sarah Reynolds, Linda Richter, Marta
Rubio-Codina, Norbert Schady, Limbika Sengani, Chris Sudfeld,
Marcus Waldman, Susan P. Walker, Ann M. Weber and Aisha K.
Yousafzai.
</p>
<p>This study was supported by the Bill &amp; Melinda Gates Foundation.
The contents are the sole responsibility of the authors and may not
necessarily represent the official views of the Bill &amp; Melinda
Gates Foundation or other agencies that may have supported the
primary data studies used in the present study.
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Stef van Buuren <a href="mailto:stef.vanbuuren@tno.nl">stef.vanbuuren@tno.nl</a>
</p>
<p>Authors:
</p>

<ul>
<li><p> Iris Eekhout <a href="mailto:iris.eekhout@tno.nl">iris.eekhout@tno.nl</a>
</p>
</li>
<li><p> Arjan Huizing <a href="mailto:arjan.huizing@tno.nl">arjan.huizing@tno.nl</a>
</p>
</li></ul>



<h3>References</h3>

<p>Jacobusse, G., S. van Buuren, and P.H. Verkerk. 2006. “An Interval Scale
for Development of Children Aged 0-2 Years.” <em>Statistics in Medicine</em> 25 (13):
2272–83. <a href="https://stefvanbuuren.name/publication/jacobusse-2006/">https://stefvanbuuren.name/publication/jacobusse-2006/</a>
</p>
<p>Van Buuren S (2014). Growth charts of human development.
Stat Methods Med Res, 23(4), 346-368.
<a href="https://stefvanbuuren.name/publication/van-buuren-2014-gc/">https://stefvanbuuren.name/publication/van-buuren-2014-gc/</a>
</p>
<p>Weber AM, Rubio-Codina M, Walker SP, van Buuren S, Eekhout I,
Grantham-McGregor S, Caridad Araujo M, Chang SM, Fernald LCH,
Hamadani JD, Hanlon A, Karam SM, Lozoff B, Ratsifandrihamanana L,
Richter L, Black MM (2019). The D-score: a metric for interpreting
the early development of infants and toddlers across global settings.
BMJ Global Health, BMJ Global Health 4: e001724.
<a href="https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf">https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf</a>.
</p>
<p>GSED team (Maureen Black, Kieran Bromley, Vanessa Cavallera
(lead author), Jorge Cuartas, Tarun Dua (corresponding author),
Iris Eekhout, Gunther Fink, Melissa Gladstone, Katelyn Hepworth,
Magdalena Janus, Patricia Kariger, Gillian Lancaster, Dana McCoy,
Gareth McCray, Abbie Raikes, Marta Rubio-Codina, Stef van Buuren,
Marcus Waldman, Susan Walker and Ann Weber). 2019. “The Global Scale
for Early Development (GSED).” <em>Early Childhood Matters</em>.
<a href="https://earlychildhoodmatters.online/2019/the-global-scale-for-early-development-gsed/">https://earlychildhoodmatters.online/2019/the-global-scale-for-early-development-gsed/</a>
</p>


<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/d-score/dscore">https://github.com/d-score/dscore</a>
</p>
</li>
<li> <p><a href="https://d-score.org/dscore/">https://d-score.org/dscore/</a>
</p>
</li>
<li> <p><a href="https://d-score.org/dbook1/">https://d-score.org/dbook1/</a>
</p>
</li>
<li><p> Report bugs at <a href="https://github.com/d-score/dscore/issues">https://github.com/d-score/dscore/issues</a>
</p>
</li></ul>


<hr>
<h2 id='builtin_itembank'>Collection of items fitting the Rasch model</h2><span id='topic+builtin_itembank'></span>

<h3>Description</h3>

<p>A data frame with administrative information per item with difficulty
estimates (<code>tau</code>) from the Rasch model. The item bank provides the basic
information to calculate D-scores. The items in the item bank
are a subset of all items as collected in <a href="#topic+builtin_itemtable">builtin_itemtable</a>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>builtin_itembank
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>key</code> </td><td style="text-align: left;"> String indicating a specific Rasch model </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>item</code> </td><td style="text-align: left;"> Item name, gsed lexicon </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>tau</code> </td><td style="text-align: left;"> Difficulty estimate </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>label</code> </td><td style="text-align: left;"> Label (English) </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>instrument</code> </td><td style="text-align: left;"> Instrument code </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>domain</code> </td><td style="text-align: left;"> Domain code </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mode</code> </td><td style="text-align: left;"> Administration mode </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>number</code> </td><td style="text-align: left;"> Item number </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Details</h3>

<p>The difficulty estimates were estimated by a Rasch model. The <code>key</code>
indicates the specific Rasch model used to estimate the difficulty.
Strictly speaking, one can only compare D-score calculated from the
same <code>key</code>.
</p>


<h3>Note</h3>

<p>Updates:
</p>

<ul>
<li><p> Dec 01, 2022 - Overwrite labels of gto by correct item order.
</p>
</li>
<li><p> Dec 05, 2022 - Adds key <code>gsed2212</code>, adding instruments <code>gl1</code> and <code>gs1</code>, and
defining correct order for <code>gto</code>
</p>
</li>
<li><p> Jan 05, 2023 - Adds instrument <code>gh1</code> to key <code>gsed2212</code>
</p>
</li></ul>



<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>, <code><a href="#topic+get_tau">get_tau()</a></code>, <code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># count number of items per instrument in each key
table(builtin_itembank$instrument, builtin_itembank$key)
</code></pre>

<hr>
<h2 id='builtin_itemtable'>Collection of items from instruments measuring early child development</h2><span id='topic+builtin_itemtable'></span>

<h3>Description</h3>

<p>The built-in variable <code>builtin_itemtable</code> contains the name and label
of items for measuring early child development.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>builtin_itemtable
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>item</code> </td><td style="text-align: left;"> Item name, gsed lexicon </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>equate</code> </td><td style="text-align: left;"> Equate group </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>label</code> </td><td style="text-align: left;"> Label (English) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Details</h3>

<p>The <code>builtin_itemtable</code> is created by script
<code>data-raw/R/save_builtin_itemtable.R</code>.
</p>
<p>Updates:
</p>

<ul>
<li><p> May 30, 2022 - added gto (LF) and gpa (SF) items
</p>
</li>
<li><p> June 1, 2022 - added seven gsd items
</p>
</li>
<li><p> Nov 24, 2022 - Added instruments gs1, gs2
</p>
</li>
<li><p> Dec 01, 2022 - Labels of gto replaced by correct order.
Incorrect item order affects analyses done on LF between 20220530 - 20221201 !!!
</p>
</li>
<li><p> Dec 05, 2022 - Redefines gs1 and instrument for Phase 2, removes gs2 (139)
Adds gl1 (Long Form Phase 2 items 155)
</p>
</li>
<li><p> Jan 05, 2023 - Adds 55 items from GSED-HF
</p>
</li></ul>



<h3>Author(s)</h3>

<p>Compiled by Stef van Buuren using different sources
</p>

<hr>
<h2 id='builtin_keys'>Available keys for calculating the D-score</h2><span id='topic+builtin_keys'></span>

<h3>Description</h3>

<p>A key contains the item difficulty estimates from a given Rasch model.
The difficulty estimates (<code>tau</code>) are used to calculate D-scores.
D-scores can only be compared when calculated with the same key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>builtin_keys
</code></pre>


<h3>Format</h3>

<p><code>builtin_keys</code> is a <code>data.frame</code> with variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>key</code> </td><td style="text-align: left;"> String. Name of the key indicating the Rasch model </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>base_population</code> </td><td style="text-align: left;"> String. Name of the base population for the key </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>n_items</code> </td><td style="text-align: left;"> Number of items in the key </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>n_instruments</code> </td><td style="text-align: left;"> Number of instruments in the key </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>intercept</code> </td><td style="text-align: left;"> Intercept to convert logit into D-score </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>slope</code> </td><td style="text-align: left;"> Slope to convert logit into D-score </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>from</code> </td><td style="text-align: left;"> Starting value of the quadrature points </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>to</code> </td><td style="text-align: left;"> Stopping value of the quadrature points </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>by</code> </td><td style="text-align: left;"> Increment of the quadrature points </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>retired</code> </td><td style="text-align: left;"> Has the key been retired? </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Note</h3>

<p>20240609 SvB: Added <code>builtin_keys</code> table by
<code style="white-space: pre;">&#8288;data-raw\data\R\save_builtin_keys.R&#8288;</code>
</p>

<hr>
<h2 id='builtin_references'>Collection of age-conditional reference distributions</h2><span id='topic+builtin_references'></span>

<h3>Description</h3>

<p>A data frame containing the age-dependent distribution of the
D-score for children aged 0-5 years. The distribution is modelled
after the LMS distribution (Cole &amp; Green, 1992) or BCT model
(Stasinopoulos &amp; Rigby, 2022) and is equal for
both boys and girls. The LMS/BCT values can be used to graph
reference charts and to calculate age-conditional Z-scores, also
known as the <em>Development-for-Age Z-score (DAZ)</em>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>builtin_references
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with the following variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>population</code> </td><td style="text-align: left;"> Name of the reference population </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>key</code> </td><td style="text-align: left;"> D-score key, e.g., <code>"dutch"</code>, <code>"gcdg"</code> or <code>"gsed"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>distribution</code> </td><td style="text-align: left;"> Distribution family: <code>"LMS"</code> or <code>"BCT"</code> </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>age</code> </td><td style="text-align: left;"> Decimal age in years </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>mu</code> </td><td style="text-align: left;"> M-curve, median D-score, P50 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>sigma</code> </td><td style="text-align: left;"> S-curve, spread expressed as coefficient of variation </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>nu</code> </td><td style="text-align: left;"> L-curve, the lambda coefficient of the LMS/BCT model for skewness </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>tau</code> </td><td style="text-align: left;"> Kurtosis parameter in the BCT model </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P3</code> </td><td style="text-align: left;"> P3 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P10</code> </td><td style="text-align: left;"> P10 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P25</code> </td><td style="text-align: left;"> P25 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P50</code> </td><td style="text-align: left;"> P50 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P75</code> </td><td style="text-align: left;"> P75 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P90</code> </td><td style="text-align: left;"> P90 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>P97</code> </td><td style="text-align: left;"> P97 percentile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>SDM2</code> </td><td style="text-align: left;"> -2SD centile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>SDM1</code> </td><td style="text-align: left;"> -1SD centile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>SD0</code> </td><td style="text-align: left;"> 0SD centile, median </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>SDP1</code> </td><td style="text-align: left;"> +1SD centile </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>SDP2</code> </td><td style="text-align: left;"> +2SD centile </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>Details</h3>

<p>Here are more details on the reference population:
The <code>"dutch"</code> references were calculated from the SMOCC data, and cover
age range 0-2.5 years (van Buuren, 2014).
The <code>"gcdg"</code> references were calculated from the 15 cohorts of the
GCDG-study, and cover age range 0-5 years (Weber, 2019).
The <code>"phase1"</code> references were calculated from the GSED Phase 1 validation
data (GSED-BGD, GSED-PAK, GSED-TZA) cover age range 2w-3.5 years. The
age range 3.5-5 yrs is linearly extrapolated and are only indicative.
The <code>"preliminary_standards"</code> were calculated from the GSED Phase 1 validation
data (GSED-BGD, GSED-PAK, GSED-TZA) using a subset of children with
covariate indicating healthy development.
</p>


<h3>References</h3>

<p>Cole TJ, Green PJ (1992). Smoothing reference centile curves: The LMS
method and penalized likelihood. Statistics in Medicine, 11(10),
1305-1319.
</p>
<p>Van Buuren S (2014). Growth charts of human development.
Stat Methods Med Res, 23(4), 346-368.
<a href="https://stefvanbuuren.name/publication/van-buuren-2014-gc/">https://stefvanbuuren.name/publication/van-buuren-2014-gc/</a>
</p>
<p>Weber AM, Rubio-Codina M, Walker SP, van Buuren S, Eekhout I,
Grantham-McGregor S, Caridad Araujo M, Chang SM, Fernald LCH,
Hamadani JD, Hanlon A, Karam SM, Lozoff B, Ratsifandrihamanana L,
Richter L, Black MM (2019). The D-score: a metric for interpreting
the early development of infants and toddlers across global settings.
BMJ Global Health, BMJ Global Health 4: e001724.
<a href="https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf">https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf</a>
</p>
<p>Stasinopoulos M, Rigby R (2022). gamlss.dist: Distributions for
Generalized Additive Models for Location Scale and Shape,
R package version 6.0-3,
<a href="https://CRAN.R-project.org/package=gamlss.dist">https://CRAN.R-project.org/package=gamlss.dist</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get an overview of available references per key
table(builtin_references$population, builtin_references$key)
</code></pre>

<hr>
<h2 id='calculate_posterior'>Calculate posterior of ability</h2><span id='topic+calculate_posterior'></span>

<h3>Description</h3>

<p>If the tauj is not within the range rello - relhi from the
dynamic EAP, the procedure ignores the score of item j.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>calculate_posterior(scores, tau, qp, scale, mu, sd, relhi, rello)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="calculate_posterior_+3A_scores">scores</code></td>
<td>
<p>A vector with PASS/FAIL observations.
Scores are coded numerically as <code>pass = 1</code> and <code>fail = 0</code>.</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_tau">tau</code></td>
<td>
<p>A vector containing the item difficulties for the item
scores in <code>scores</code> estimated from the Rasch model in the
preferred metric/scale.</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_qp">qp</code></td>
<td>
<p>Numeric vector of equally spaced quadrature points.</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_scale">scale</code></td>
<td>
<p>Scale expansion</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_mu">mu</code></td>
<td>
<p>Numeric scalar. The mean of the prior.</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_sd">sd</code></td>
<td>
<p>Numeric scalar. Standard deviation of the prior.</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_relhi">relhi</code></td>
<td>
<p>Positive numeric scalar. Upper end of the relevance interval</p>
</td></tr>
<tr><td><code id="calculate_posterior_+3A_rello">rello</code></td>
<td>
<p>Negative numeric scalar. Lower end of the relevance interval</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>list</code> with three elements:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>eap</code> </td><td style="text-align: left;"> Mean of the posterior </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>gp</code> </td><td style="text-align: left;"> Vector of quadrature points </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>posterior</code> </td><td style="text-align: left;"> Vector with posterior distribution. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Since <code style="white-space: pre;">&#8288;dscore V40.1&#8288;</code> the function does not return the <code>"start"</code> element.
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren, Arjan Huizing, 2020
</p>

<hr>
<h2 id='count_mu'>Median D-score from the default references for the given key</h2><span id='topic+count_mu'></span>

<h3>Description</h3>

<p>Returns the age-interpolated median of the D-score of the default
reference for a given key.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_mu(t, key)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_mu_+3A_t">t</code></td>
<td>
<p>Decimal age, numeric vector</p>
</td></tr>
<tr><td><code id="count_mu_+3A_key">key</code></td>
<td>
<p>Character, key of the reference population</p>
</td></tr>
</table>


<h3>Details</h3>

<p>Do not use this function if you want the median D-score for a specific
reference.
</p>


<h3>Value</h3>

<p>A vector of length <code>length(t)</code> with the median of the default reference
population for the key.
</p>

<hr>
<h2 id='count_mu_dutch'>Median of Dutch references</h2><span id='topic+count_mu_dutch'></span>

<h3>Description</h3>

<p>Returns the age-interpolated median of the Dutch references (van Buuren 2014).
The working range is 0-3 years. This function is used
to set prior mean under key <code>"dutch"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_mu_dutch(t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_mu_dutch_+3A_t">t</code></td>
<td>
<p>Decimal age, numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of length <code>length(t)</code> with the median of the Dutch references.
</p>


<h3>Note</h3>

<p>Internal function. Called by <code>dscore()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dscore:::count_mu_dutch(0:2)
</code></pre>

<hr>
<h2 id='count_mu_gcdg'>Median of GCDG references</h2><span id='topic+count_mu_gcdg'></span>

<h3>Description</h3>

<p>Returns the age-interpolated median of the GCDG references (Weber
et al, 2019). The working range is 0-4 years. This function is used
to set prior mean under keys <code>"gcdg"</code> and <code>"gsed1912"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_mu_gcdg(t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_mu_gcdg_+3A_t">t</code></td>
<td>
<p>Decimal age, numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of length <code>length(t)</code> with the median of the GCDG references.
</p>


<h3>Note</h3>

<p>Internal function. Called by <code>dscore()</code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dscore:::count_mu_gcdg(0:2)
</code></pre>

<hr>
<h2 id='count_mu_phase1'>Median of phase1 references</h2><span id='topic+count_mu_phase1'></span>

<h3>Description</h3>

<p>Returns the age-interpolated median of the phase1 references
based on LF &amp; SF in GSED-BGD, GSED-PAK, GSED-TZA. This function is used
to set prior mean under keys <code>"293_0"</code> and <code>"gsed2212"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_mu_phase1(t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_mu_phase1_+3A_t">t</code></td>
<td>
<p>Decimal age, numeric vector</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The interpolation is done in two rounds. First round: Calculate D-scores
using .gcdg prior-mean, calculate reference, estimate round 1 parameters
used in this function. Round 2: Calculate D-score using round 1 estimates as
the prior mean (most differences are within 0.1 D-score points),
recalculate references, estimate round 2 parameters used in this function.
</p>
<p>Round 1:
Count model: &lt;= 9MN: 21.3449 + 26.4916 t +  7.0251(t + 0.2)
Count model: &gt; 9Mn &amp; &lt;= 3.5 YR: 14.69947 - 12.18636 t + 69.11675(t + 0.92)
Linear model: &gt; 3.5 YRS: 61.40956 + 3.80904 t
</p>
<p>Round 2:
Count model: &lt; 9MND: 20.5883 + 27.3376 t +  6.4254(t + 0.2)
Count model: &gt; 9MND &amp; &lt; 3.5 YR: 14.63748 - 12.11774 t + 69.05463(t + 0.92)
Linear model: &gt; 3.5 YRS: 61.37967 + 3.83513 t
</p>
<p>The working range is 0-3.5 years. After the age of 3.5 years, the function
will increase at an arbitrary rate of 3.8 D-score points per year.
</p>


<h3>Value</h3>

<p>A vector of length <code>length(t)</code> with the median of the GCDG references.
</p>


<h3>Note</h3>

<p>Internal function. Called by <code>dscore()</code>
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren, on behalf of GSED project
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dscore:::count_mu_phase1(0:5)
</code></pre>

<hr>
<h2 id='count_mu_preliminary_standards'>Median of preliminary_standards</h2><span id='topic+count_mu_preliminary_standards'></span>

<h3>Description</h3>

<p>Returns the age-interpolated median of the preliminary_standards
based on LF &amp; SF in GSED-BGD, GSED-PAK, GSED-TZA. This function is used
to set prior mean under key <code>"gsed2406"</code>.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>count_mu_preliminary_standards(t)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="count_mu_preliminary_standards_+3A_t">t</code></td>
<td>
<p>Decimal age, numeric vector</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of length <code>length(t)</code> with the median of the GCDG references.
</p>


<h3>Note</h3>

<p>Internal function. Called by <code>dscore()</code>
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren, on behalf of GSED project
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dscore:::count_mu_preliminary_standards(0:5)
</code></pre>

<hr>
<h2 id='daz'>Calculate Development-for-Age Z-score (DAZ)</h2><span id='topic+daz'></span><span id='topic+zad'></span>

<h3>Description</h3>

<p>The <code>daz()</code> function calculated the Development-for-Age Z-score (DAZ).
The DAZ represents a child's D-score after adjusting for age by an
external age-conditional reference.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>daz(d, x, reference_table = NULL, dec = 3, verbose = FALSE)

zad(z, x, reference_table = NULL, dec = 2, verbose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="daz_+3A_d">d</code></td>
<td>
<p>Vector of D-scores</p>
</td></tr>
<tr><td><code id="daz_+3A_x">x</code></td>
<td>
<p>Vector of ages (decimal age)</p>
</td></tr>
<tr><td><code id="daz_+3A_reference_table">reference_table</code></td>
<td>
<p>A <code>data.frame</code> with the LMS or BCT reference values.
The default <code>NULL</code> selects the default reference belonging to the <code>key</code>,
as specified in the <code>base_population</code> field in <code>dscore::builtin_keys</code>.</p>
</td></tr>
<tr><td><code id="daz_+3A_dec">dec</code></td>
<td>
<p>The number of decimals (default <code>dec = 3</code>).</p>
</td></tr>
<tr><td><code id="daz_+3A_verbose">verbose</code></td>
<td>
<p>Print out the used reference table (default <code>verbose = FALSE</code>).</p>
</td></tr>
<tr><td><code id="daz_+3A_z">z</code></td>
<td>
<p>Vector of standard deviation scores (DAZ)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The <code>zad()</code> is the inverse of <code>daz()</code>: Given age and
the Z-score, it finds the raw D-score.
</p>
<p>Note 1: The Box-Cox Cole and Green (BCCG) and Box-Cox t (BCT)
distributions model only positive D-score values. To increase
robustness, the <code>daz()</code> and <code>zad()</code> functions will round up any
D-scores lower than 1.0 to 1.0.
</p>
<p>Note 2: The <code>daz()</code> and <code>zad()</code> function call modified version of the
<code>pBCT()</code> and <code>qBCT()</code> functions from <code>gamlss</code> for better handling
of <code>NA</code>'s and rounding.
</p>


<h3>Value</h3>

<p>Unnamed numeric vector with Z-scores of length <code>length(d)</code>.
</p>
<p>Unnamed numeric vector with D-scores of length <code>length(z)</code>.
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren
</p>


<h3>References</h3>

<p>Cole TJ, Green PJ (1992). Smoothing reference centile curves: The LMS
method and penalized likelihood. Statistics in Medicine, 11(10),
1305-1319.
</p>


<h3>See Also</h3>

<p><a href="#topic+get_reference">dscore()</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using default reference and key
daz(d = c(35, 50), x = c(0.5, 1.0))

# print out names of the used reference table
daz(d = c(35, 50), x = c(0.5, 1.0), verbose = TRUE)

# using the default reference in key gcdg
reftab &lt;- get_reference(key = "gcdg")
daz(d = c(35, 50), x = c(0.5, 1.0), reference_table = reftab)

# using Dutch reference in default key
reftab &lt;- get_reference(population = "dutch", verbose = TRUE)
daz(d = c(35, 50), x = c(0.5, 1.0), reference_table = reftab)
# population median at ages 0.5, 1 and 2 years, default reference
zad(z = rep(0, 3), x = c(0.5, 1, 2))

# population median at ages 0.5, 1 and 2 years, gcdg key
reftab &lt;- get_reference(key = "gcdg", verbose = TRUE)
zad(z = rep(0, 3), x = c(0.5, 1, 2), reference_table = reftab)

# population median at ages 0.5, 1 and 2 years, dutch key
reftab &lt;- get_reference(key = "dutch", verbose = TRUE)
zad(z = rep(0, 3), x = c(0.5, 1, 2), reference = reftab)
</code></pre>

<hr>
<h2 id='decompose_itemnames'>Decomposes item names into their four components</h2><span id='topic+decompose_itemnames'></span>

<h3>Description</h3>

<p>This utility function decomposes item names into components:
instrument, domain, mode and number
</p>


<h3>Usage</h3>

<pre><code class='language-R'>decompose_itemnames(x)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="decompose_itemnames_+3A_x">x</code></td>
<td>
<p>A character vector containing item names (gsed lexicon)</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The gsed-naming convention is as follows. Position 1-3 codes the
instrument, position 4-5 codes the domain, position 6 codes
direct/caregiver/message, positions 7-9 is a item sequence number.
</p>


<h3>Value</h3>

<p>A <code>data.frame</code> with <code>length(x)</code> rows and
four columns, named: <code>instrument</code>, <code>domain</code>, <code>mode</code>,
and <code>number</code>.
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren
</p>


<h3>References</h3>

<p><a href="https://docs.google.com/spreadsheets/d/1zLsSW9CzqshL8ubb7K5R9987jF4YGDVAW_NBw1hR2aQ/edit#gid=0">https://docs.google.com/spreadsheets/d/1zLsSW9CzqshL8ubb7K5R9987jF4YGDVAW_NBw1hR2aQ/edit#gid=0</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sort_itemnames">sort_itemnames()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itemnames &lt;- c("aqigmc028", "grihsd219", "", "by1mdd157", "mdsgmd006")
decompose_itemnames(itemnames)
</code></pre>

<hr>
<h2 id='dscore'>D-score estimation</h2><span id='topic+dscore'></span><span id='topic+dscore_posterior'></span>

<h3>Description</h3>

<p>The <code>dscore()</code> function estimates the following quantities: <em>D-score</em>,
a numeric score that quantifies child development by one number,
<em>Development-for-Age Z-score (DAZ)</em> that corrects the D-score for age,
<em>standard error of measurement (SEM)</em> of the D-score.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>dscore(
  data,
  items = names(data),
  key = NULL,
  population = NULL,
  xname = "age",
  xunit = c("decimal", "days", "months"),
  prepend = NULL,
  itembank = dscore::builtin_itembank,
  metric = c("dscore", "logit"),
  prior_mean = NULL,
  prior_sd = NULL,
  transform = NULL,
  qp = NULL,
  dec = c(2L, 3L),
  relevance = c(-Inf, Inf),
  algorithm = c("current", "1.8.7"),
  verbose = FALSE
)

dscore_posterior(
  data,
  items = names(data),
  key = NULL,
  population = NULL,
  xname = "age",
  xunit = c("decimal", "days", "months"),
  prepend = NULL,
  itembank = dscore::builtin_itembank,
  metric = c("dscore", "logit"),
  prior_mean = NULL,
  prior_sd = NULL,
  transform = NULL,
  qp = NULL,
  dec = c(2L, 3L),
  relevance = c(-Inf, Inf),
  algorithm = c("current", "1.8.7"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="dscore_+3A_data">data</code></td>
<td>
<p>A <code>data.frame</code> with the data.
A row collects all observations made on a child on a set of
milestones administered at a given age. The function calculates
a D-score for each row. Different rows can correspond to different
children or ages.</p>
</td></tr>
<tr><td><code id="dscore_+3A_items">items</code></td>
<td>
<p>A character vector containing names of items to be
included into the D-score calculation. Milestone scores are coded
numerically as <code>1</code> (pass) and <code>0</code> (fail). By default,
D-score calculation is done on all items found in the data
that have a difficulty parameter under the specified <code>key</code>.</p>
</td></tr>
<tr><td><code id="dscore_+3A_key">key</code></td>
<td>
<p>String. Name of the key that bundles the difficulty estimates
pertaining one the same Rasch model. View <code>builtin_keys</code> for an overview
of the available keys.</p>
</td></tr>
<tr><td><code id="dscore_+3A_population">population</code></td>
<td>
<p>String. The name of the reference population to calculate DAZ.
Use <code>unique(builtin_references$population)</code> to obtain the set of currently
available reference populations.</p>
</td></tr>
<tr><td><code id="dscore_+3A_xname">xname</code></td>
<td>
<p>A string with the name of the age variable in
<code>data</code>. The default is <code>"age"</code>. Do not round age.</p>
</td></tr>
<tr><td><code id="dscore_+3A_xunit">xunit</code></td>
<td>
<p>A string specifying the unit in which age is measured
(either <code>"decimal"</code>, <code>"days"</code> or <code>"months"</code>).
The default <code>"decimal"</code> corresponds to decimal age in years.</p>
</td></tr>
<tr><td><code id="dscore_+3A_prepend">prepend</code></td>
<td>
<p>Character vector with column names in <code>data</code> that will
be prepended to the returned data frame. This is useful for copying
columns from data into the result, e.g., for matching.</p>
</td></tr>
<tr><td><code id="dscore_+3A_itembank">itembank</code></td>
<td>
<p>A <code>data.frame</code> with at least two columns
named <code>item</code> and <code>tau</code>. By default, the function uses
<code>dscore::builtin_itembank</code>. If you specify your own <code>itembank</code>,
then you should also provide the relevant <code>transform</code> and <code>qp</code> arguments.</p>
</td></tr>
<tr><td><code id="dscore_+3A_metric">metric</code></td>
<td>
<p>A string, either <code>"dscore"</code> (default) or
<code>"logit"</code>, signalling the metric in which ability is estimated.
<code>daz</code> is not calculated for the logit scale.</p>
</td></tr>
<tr><td><code id="dscore_+3A_prior_mean">prior_mean</code></td>
<td>
<p>A string or numeric scalar. If a string, it should
refer to a column name in <code>data</code> with user-supplied values of the prior mean
for each observation. If a numeric scalar, it is used as the prior mean
for all observations. The default (<code>NULL</code>) will consult the
<code>base_population</code> field in <code>builtin_keys</code>, and use the corresponding
median of that reference as prior mean for the D-score.</p>
</td></tr>
<tr><td><code id="dscore_+3A_prior_sd">prior_sd</code></td>
<td>
<p>A string or a numeric scalar. If a string, it should
refer to a column name in <code>data</code> with user-supplied values of the prior
sd for all observations. If a numeric scalar, it is used as the prior sd
for all observations. The default (<code>NULL</code>) uses a values of 5.</p>
</td></tr>
<tr><td><code id="dscore_+3A_transform">transform</code></td>
<td>
<p>Numeric vector, length 2, containing the intercept
and slope of the linear transform from the logit scale into the
the D-score scale. The default (<code>NULL</code>) searches <code>builtin_keys</code>
for intercept and slope values.</p>
</td></tr>
<tr><td><code id="dscore_+3A_qp">qp</code></td>
<td>
<p>Numeric vector of equally spaced quadrature points.
This vector should span the range of all D-score or logit values.
The default (<code>NULL</code>) creates <code>seq(from, to, by)</code> searching the
arguments from <code>builtin_keys</code>.</p>
</td></tr>
<tr><td><code id="dscore_+3A_dec">dec</code></td>
<td>
<p>A vector of two integers specifying the number of
decimals for rounding the D-score and DAZ, respectively.
The default is <code>dec = c(2L, 3L)</code>.</p>
</td></tr>
<tr><td><code id="dscore_+3A_relevance">relevance</code></td>
<td>
<p>A numeric vector of length with the lower and
upper bounds of the relevance interval. The procedure calculates
a dynamic EAP for each item. If the difficulty level (tau) of the
next item is outside the relevance interval around EAP, the procedure
ignore the score on the item. The default is <code>c(-Inf, +Inf)</code> does not
ignore scores.</p>
</td></tr>
<tr><td><code id="dscore_+3A_algorithm">algorithm</code></td>
<td>
<p>Computational method, for backward compatibility.
Either <code>"current"</code> (default) or <code>"1.8.7"</code> (deprecated).</p>
</td></tr>
<tr><td><code id="dscore_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Print settings.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The scoring algorithm is based on the method by Bock and Mislevy (1982).
The method uses Bayes rule to update a prior ability into a posterior
ability.
</p>
<p>The item names should correspond to the <code>"gsed"</code> lexicon.
</p>
<p>A key is defined by the set of estimated item difficulties.</p>

<table>
<tr>
 <td style="text-align: left;">
   Key </td><td style="text-align: right;"> Model </td><td style="text-align: right;"> Quadrature </td><td style="text-align: right;"> Instruments </td><td style="text-align: center;"> Direct/Caregiver </td><td style="text-align: left;"> Reference </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"dutch"</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;75_0&#8288;</code> </td><td style="text-align: right;"> <code>-10:80</code> </td><td style="text-align: right;"> 1 </td><td style="text-align: center;"> direct </td><td style="text-align: left;"> Van Buuren, 2014/2020 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"gcdg"</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;565_18&#8288;</code> </td><td style="text-align: right;"> <code>-10:100</code> </td><td style="text-align: right;"> 13 </td><td style="text-align: center;"> direct </td><td style="text-align: left;"> Weber, 2019 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"gsed1912"</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;807_17&#8288;</code> </td><td style="text-align: right;"> <code>-10:100</code> </td><td style="text-align: right;"> 21 </td><td style="text-align: center;"> mixed </td><td style="text-align: left;"> GSED Team, 2019 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"293_0"</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;293_0&#8288;</code> </td><td style="text-align: right;"> <code>-10:100</code> </td><td style="text-align: right;"> 2 </td><td style="text-align: center;"> mixed </td><td style="text-align: left;"> GSED Team, 2022 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"gsed2212"</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;818_6&#8288;</code> </td><td style="text-align: right;"> <code>-10:100</code> </td><td style="text-align: right;"> 27 </td><td style="text-align: center;"> mixed </td><td style="text-align: left;"> GSED Team, 2022 </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>"gsed2406"</code> </td><td style="text-align: right;"> <code style="white-space: pre;">&#8288;818_6&#8288;</code> </td><td style="text-align: right;"> <code>-10:100</code> </td><td style="text-align: right;"> 27 </td><td style="text-align: center;"> mixed </td><td style="text-align: left;"> GSED Team, 2024 </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>As a general rule, one should only compare D-scores
that are calculated using the same key and the same
set of quadrature points. For calculating D-scores on new data,
the advice is to use the default, which currently is <code>"gsed2406"</code>.
</p>
<p>The default starting prior is a mean calculated from a so-called
&quot;Count model&quot; that describes mean D-score as a function of age. The
The Count models are implemented in the function <code style="white-space: pre;">&#8288;[count_mu()]&#8288;</code>.
By default, the spread of the starting prior
is 5 D-score points around the mean D-score, which corresponds to
approximately 1.5 to 2 times the normal spread of child of a given age. The
starting prior is informative for very short test (say &lt;5 items), but has
little impact on the posterior for larger tests.
</p>


<h3>Value</h3>

<p>The <code>dscore()</code> function returns a <code>data.frame</code> with <code>nrow(data)</code> rows.
Optionally, the first block of columns can be copied to the
result by using <code>prepend</code>. The second block consists of the
following columns:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>a</code> </td><td style="text-align: left;"> Decimal age </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>n</code> </td><td style="text-align: left;"> Number of items with valid (0/1) data </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>p</code> </td><td style="text-align: left;"> Percentage of passed milestones </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>d</code> </td><td style="text-align: left;"> Ability estimate, mean of posterior </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>sem</code> </td><td style="text-align: left;"> Standard error of measurement, standard deviation of the posterior </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>daz</code> </td><td style="text-align: left;"> D-score corrected for age, calculated in Z-scale (for metric <code>"dscore"</code>) </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>For more detail, the <code>dscore_posterior()</code> function returns a data frame with
<code>nrow(data)</code> rows and <code>length(qp)</code> plus prepended columns with the
full posterior density of the D-score at each quadrature point.
If no valid responses are found, <code>dscore_posterior()</code> returns the
prior density. Versions prior to 1.8.5 returned a <code>matrix</code> (instead of
a <code>data.frame</code>). Code that depends on the result being a <code>matrix</code> may break
and may need adaptation.
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren, Iris Eekhout, Arjan Huizing (2022)
</p>


<h3>References</h3>

<p>Bock DD, Mislevy RJ (1982).
Adaptive EAP Estimation of Ability in a Microcomputer Environment.
Applied Psychological Measurement, 6(4), 431-444.
</p>
<p>Van Buuren S (2014). Growth charts of human development.
Stat Methods Med Res, 23(4), 346-368.
<a href="https://stefvanbuuren.name/publication/van-buuren-2014-gc/">https://stefvanbuuren.name/publication/van-buuren-2014-gc/</a>
</p>
<p>Weber AM, Rubio-Codina M, Walker SP, van Buuren S, Eekhout I,
Grantham-McGregor S, Caridad Araujo M, Chang SM, Fernald LCH,
Hamadani JD, Hanlon A, Karam SM, Lozoff B, Ratsifandrihamanana L,
Richter L, Black MM (2019). The D-score: a metric for interpreting
the early development of infants and toddlers across global settings.
BMJ Global Health, BMJ Global Health 4: e001724.
<a href="https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf">https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf</a>
</p>


<h3>See Also</h3>

<p><code><a href="#topic+builtin_keys">builtin_keys()</a></code>, <code><a href="#topic+builtin_itembank">builtin_itembank()</a></code>, <code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code>,
<code><a href="#topic+builtin_references">builtin_references()</a></code>, <code><a href="#topic+get_tau">get_tau()</a></code>, <code><a href="#topic+posterior">posterior()</a></code>, <code><a href="#topic+milestones">milestones()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># using all defaults and properly formatted data
ds &lt;- dscore(milestones)
head(ds)

# step-by-step example
data &lt;- data.frame(
  id = c(
    "Jane", "Martin", "ID-3", "No. 4", "Five", "6",
    NA_character_, as.character(8:10)
  ),
  age = rep(round(21 / 365.25, 4), 10),
  ddifmd001 = c(NA, NA, 0, 0, 0, 1, 0, 1, 1, 1),
  ddicmm029 = c(NA, NA, NA, 0, 1, 0, 1, 0, 1, 1),
  ddigmd053 = c(NA, 0, 0, 1, 0, 0, 1, 1, 0, 1)
)
items &lt;- names(data)[3:5]

# third item is not part of the default key
get_tau(items, verbose = TRUE)

# calculate D-score
dscore(data)

# prepend id variable to output
dscore(data, prepend = "id")

# or prepend all data
# dscore(data, prepend = colnames(data))

# calculate full posterior
p &lt;- dscore_posterior(data)

# check that rows sum to 1
rowSums(p)

# plot full posterior for measurement 7
barplot(as.matrix(p[7, 12:36]),
  names = 1:25,
  xlab = "D-score", ylab = "Density", col = "grey",
  main = "Full D-score posterior for measurement in row 7",
  sub = "D-score (EAP) = 11.58, SEM = 3.99")

# plot P10, P50 and P90 of D-score references
g &lt;- expand.grid(age = seq(0.1, 4, 0.1), p = c(0.1, 0.5, 0.9))
d &lt;- zad(z = qnorm(g$p), x = g$age, verbose = TRUE)
matplot(
  x = matrix(g$age, ncol = 3), y = matrix(d, ncol = 3), type = "l",
  lty = 1, col = "blue", xlab = "Age (years)", ylab = "D-score",
  main = "D-score preliminary standards: P10, P50 and P90")
abline(h = seq(10, 80, 10), v = seq(0, 4, 0.5), col = "gray", lty = 2)

# add measurements made on very preterms, ga &lt; 32 weeks
ds &lt;- dscore(milestones)
points(x = ds$a, y = ds$d, pch = 19, col = "red")
</code></pre>

<hr>
<h2 id='get_age_equivalent'>Get age equivalents of items that have a difficulty estimate</h2><span id='topic+get_age_equivalent'></span>

<h3>Description</h3>

<p>This function calculates the ages at which a certain percent
in the reference population passes the items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_age_equivalent(
  items,
  pct = c(10, 50, 90),
  key = NULL,
  population = NULL,
  transform = NULL,
  itembank = dscore::builtin_itembank,
  xunit = c("decimal", "days", "months"),
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_age_equivalent_+3A_items">items</code></td>
<td>
<p>A character vector containing names of items to be
included into the D-score calculation. Milestone scores are coded
numerically as <code>1</code> (pass) and <code>0</code> (fail). By default,
D-score calculation is done on all items found in the data
that have a difficulty parameter under the specified <code>key</code>.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_pct">pct</code></td>
<td>
<p>Numeric vector with requested percentiles (0-100). The
default is <code>pct = c(10, 50, 90)</code>.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_key">key</code></td>
<td>
<p>String. Name of the key that bundles the difficulty estimates
pertaining one the same Rasch model. View <code>builtin_keys</code> for an overview
of the available keys.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_population">population</code></td>
<td>
<p>String. The name of the reference population to calculate DAZ.
Use <code>unique(builtin_references$population)</code> to obtain the set of currently
available reference populations.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_transform">transform</code></td>
<td>
<p>Numeric vector, length 2, containing the intercept
and slope of the linear transform from the logit scale into the
the D-score scale. The default (<code>NULL</code>) searches <code>builtin_keys</code>
for intercept and slope values.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_itembank">itembank</code></td>
<td>
<p>A <code>data.frame</code> with at least two columns
named <code>item</code> and <code>tau</code>. By default, the function uses
<code>dscore::builtin_itembank</code>. If you specify your own <code>itembank</code>,
then you should also provide the relevant <code>transform</code> and <code>qp</code> arguments.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_xunit">xunit</code></td>
<td>
<p>A string specifying the unit in which age is measured
(either <code>"decimal"</code>, <code>"days"</code> or <code>"months"</code>).
The default <code>"decimal"</code> corresponds to decimal age in years.</p>
</td></tr>
<tr><td><code id="get_age_equivalent_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Print settings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>data.frame</code> with four columns: <code>item</code>, <code>d</code> (D-score),
<code>pct</code> (percentile), and <code>a</code> (age-equivalent, in <code>xunit</code> units).
</p>


<h3>Note</h3>

<p>The function internally defines a scale factor given the key.
</p>


<h3>Examples</h3>

<pre><code class='language-R'>get_age_equivalent(c("gpagmc018", "gtogmd026", "ddicmm050"))
</code></pre>

<hr>
<h2 id='get_itemnames'>Extract item names</h2><span id='topic+get_itemnames'></span>

<h3>Description</h3>

<p>The <code>get_itemnames()</code> function matches names against the 9-code
template. This is useful for quickly selecting names of items from a larger
set of names.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_itemnames(
  x,
  instrument = NULL,
  domain = NULL,
  mode = NULL,
  number = NULL,
  strict = FALSE,
  itemtable = NULL,
  order = "idnm"
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_itemnames_+3A_x">x</code></td>
<td>
<p>A character vector, <code>data.frame</code> or an object of
class <code>lean</code>. If not specified,
the function will return all item names in <code>itemtable</code>.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_instrument">instrument</code></td>
<td>
<p>A character vector with 3-position codes of instruments
that should match. The default <code>instrument = NULL</code> allows for
all instruments.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_domain">domain</code></td>
<td>
<p>A character vector with 2-position codes of domains
that should match. The default <code>instrument = NULL</code> allows for
all domains.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_mode">mode</code></td>
<td>
<p>A character vector with 1-position codes of the mode
of administration. The default <code>mode = NULL</code> allows for all
modes.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_number">number</code></td>
<td>
<p>A numeric or character vector with item numbers.
The default <code>number = NULL</code> allows for all numbers.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_strict">strict</code></td>
<td>
<p>A logical specifying whether the resulting item
names must conform to one of the built-in names. The default is
<code>strict = FALSE</code>.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_itemtable">itemtable</code></td>
<td>
<p>A <code>data.frame</code> set up according to the
same structure as <code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code>. If not specified,
the <code>builtin_itemtable</code> is used.</p>
</td></tr>
<tr><td><code id="get_itemnames_+3A_order">order</code></td>
<td>
<p>A four-letter string specifying the sorting order.
The four letters are: <code>i</code> for instrument, <code>d</code> for domain,
<code>m</code> for mode and <code>n</code> for number. The default is
<code>"idnm"</code>.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The gsed-naming convention is as follows. Position 1-3 codes the
instrument, position 4-5 codes the domain, position 6 codes
direct/caregiver/message, positions 7-9 is a item sequence number.
</p>


<h3>Value</h3>

<p>A vector with names of items
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren 2020
</p>


<h3>See Also</h3>

<p><code><a href="#topic+sort_itemnames">sort_itemnames()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itemnames &lt;- c("aqigmc028", "grihsd219", "", "age", "mdsgmd999")

# filter out impossible names
get_itemnames(itemnames)
get_itemnames(itemnames, strict = TRUE)

# only items from specific instruments
get_itemnames(itemnames, instrument = c("aqi", "mds"))
get_itemnames(itemnames, instrument = c("aqi", "mds"), strict = TRUE)

# get all items from the se domain of iyo instrument
get_itemnames(domain = "se", instrument = "iyo")

# get all item from the se domain with direct assessment mode
get_itemnames(domain = "se", mode = "d")

# get all item numbers 70 and 73 from gm domain
get_itemnames(number = c(70, 73), domain = "gm")
</code></pre>

<hr>
<h2 id='get_itemtable'>Get a subset of items from the itemtable</h2><span id='topic+get_itemtable'></span>

<h3>Description</h3>

<p>The <code>builtin_itemtable</code> object in the <code>dscore</code> package
contains basic meta-information about items: a name, the equate group,
and the item label.
The <code>get_itemtable()</code> function returns a subset of <code>items</code>
in the itemtable.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_itemtable(items = NULL, itemtable = NULL, decompose = FALSE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_itemtable_+3A_items">items</code></td>
<td>
<p>A logical or character vector of item names to return. The
default (<code>NULL</code>) returns all items.</p>
</td></tr>
<tr><td><code id="get_itemtable_+3A_itemtable">itemtable</code></td>
<td>
<p>A <code>data.frame</code> set up according to the
same structure as <code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code>. If not specified,
the <code>builtin_itemtable</code> is used. If <code>itemtable = ""</code>, then
a dynamic item table is created from any specified item names.</p>
</td></tr>
<tr><td><code id="get_itemtable_+3A_decompose">decompose</code></td>
<td>
<p>If <code>TRUE</code>, the function adds four columns:
<code>instrument</code>, <code>domain</code>, <code>mode</code> and <code>number</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with seven columns.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+get_labels">get_labels()</a></code>, <code><a href="#topic+get_itemnames">get_itemnames()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(get_itemtable(), 3)
get_itemtable(LETTERS[1:3], "")
</code></pre>

<hr>
<h2 id='get_labels'>Get labels for items</h2><span id='topic+get_labels'></span>

<h3>Description</h3>

<p>The <code>get_labels()</code> function obtains the item labels for a
specified set of items.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_labels(items = NULL, trim = NULL, itemtable = NULL)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_labels_+3A_items">items</code></td>
<td>
<p>A character vector of item names to return. The
default (<code>NULL</code>) returns the labels of all items.</p>
</td></tr>
<tr><td><code id="get_labels_+3A_trim">trim</code></td>
<td>
<p>The maximum number of characters in the label. The
default <code>trim = NULL</code> does not trim labels.</p>
</td></tr>
<tr><td><code id="get_labels_+3A_itemtable">itemtable</code></td>
<td>
<p>A <code>data.frame</code> set up according to the
same structure as <code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code>. If not specified,
the <code>builtin_itemtable</code> is used.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named character vector with <code>length(items)</code> elements with
item labels, in the same order as in <code>items</code>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+builtin_itemtable">builtin_itemtable()</a></code>, <code><a href="#topic+get_itemnames">get_itemnames()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># get labels of first two Macarthur items
get_labels(get_itemnames(instrument = "mac", number = 1:2), trim = 40)
</code></pre>

<hr>
<h2 id='get_reference'>Get D-score reference</h2><span id='topic+get_reference'></span>

<h3>Description</h3>

<p>The <code>get_reference()</code> function selects the D-score reference
distribution.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_reference(
  population = NULL,
  key = NULL,
  references = dscore::builtin_references,
  verbose = FALSE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_reference_+3A_population">population</code></td>
<td>
<p>String. The name of the reference population to calculate DAZ.
Use <code>unique(builtin_references$population)</code> to obtain the set of currently
available reference populations.</p>
</td></tr>
<tr><td><code id="get_reference_+3A_key">key</code></td>
<td>
<p>String. Name of the key that bundles the difficulty estimates
pertaining one the same Rasch model. View <code>builtin_keys</code> for an overview
of the available keys.</p>
</td></tr>
<tr><td><code id="get_reference_+3A_references">references</code></td>
<td>
<p>A <code>data.frame</code> with the same structure as <code>builtin_references</code>.
The default is to use <code>builtin_references</code>.</p>
</td></tr>
<tr><td><code id="get_reference_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Print settings.</p>
</td></tr>
<tr><td><code id="get_reference_+3A_...">...</code></td>
<td>
<p>Used to test whether the call contained the deprecated argument
<code>references</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A <code>data.frame</code> with the LMS reference values.
</p>


<h3>Note</h3>

<p>No references for population <code>"gsed"</code> exist.
The function will silently rewrite <code>population = "gsed"</code>
into to the <code>population = "gsed"</code>.
</p>
<p>The <code>"dutch"</code> reference was published in Van Buuren (2014)
The <code>"gcdg"</code> was calculated from 15 cohorts with direct
observations (Weber, 2019).
The <code>"phase1"</code> references were calculated from the GSED Phase 1 validation
data (GSED-BGD, GSED-PAK, GSED-TZA) cover age range 2w-3.5 years. The
age range 3.5-5 yrs is linearly extrapolated and are only indicative.
The <code>"preliminary_standards"</code> references were calculated from the GSED
Phase 1 validation using a subset of children with healthy development.
</p>


<h3>References</h3>

<p>Van Buuren S (2014). Growth charts of human development.
Stat Methods Med Res, 23(4), 346-368.
</p>
<p>Weber AM, Rubio-Codina M, Walker SP, van Buuren S, Eekhout I,
Grantham-McGregor S, Caridad Araujo M, Chang SM, Fernald LCH,
Hamadani JD, Hanlon A, Karam SM, Lozoff B, Ratsifandrihamanana L,
Richter L, Black MM (2019). The D-score: a metric for interpreting
the early development of infants and toddlers across global settings.
BMJ Global Health, BMJ Global Health 4: e001724.
<a href="https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf">https://gh.bmj.com/content/bmjgh/4/6/e001724.full.pdf</a>.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+builtin_references">builtin_references()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># see key-population combinations of builtin_references
table(builtin_references$key, builtin_references$population)

# get the default reference
reftab &lt;- get_reference()
head(reftab, 2)

# get the default reference for the key "gsed2212"
reftab &lt;- get_reference(key = "gsed2212", verbose = TRUE)

# get dutch reference for default key
reftab &lt;- get_reference(population = "dutch", verbose = TRUE)

# loading a non-existing reference yields zero rows
reftab &lt;- get_reference(population = "france", verbose = TRUE)
nrow(reftab)
</code></pre>

<hr>
<h2 id='get_tau'>Obtain difficulty parameters from item bank</h2><span id='topic+get_tau'></span>

<h3>Description</h3>

<p>Searches the item bank for matching items, and returns the
difficulty estimates. Matching is done by item name. Comparisons
are done in lower case.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>get_tau(
  items,
  key = NULL,
  itembank = dscore::builtin_itembank,
  verbose = FALSE
)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="get_tau_+3A_items">items</code></td>
<td>
<p>A character vector containing names of items to be
included into the D-score calculation. Milestone scores are coded
numerically as <code>1</code> (pass) and <code>0</code> (fail). By default,
D-score calculation is done on all items found in the data
that have a difficulty parameter under the specified <code>key</code>.</p>
</td></tr>
<tr><td><code id="get_tau_+3A_key">key</code></td>
<td>
<p>String. Name of the key that bundles the difficulty estimates
pertaining one the same Rasch model. View <code>builtin_keys</code> for an overview
of the available keys.</p>
</td></tr>
<tr><td><code id="get_tau_+3A_itembank">itembank</code></td>
<td>
<p>A <code>data.frame</code> with at least two columns
named <code>item</code> and <code>tau</code>. By default, the function uses
<code>dscore::builtin_itembank</code>. If you specify your own <code>itembank</code>,
then you should also provide the relevant <code>transform</code> and <code>qp</code> arguments.</p>
</td></tr>
<tr><td><code id="get_tau_+3A_verbose">verbose</code></td>
<td>
<p>Logical. Print settings.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A named vector with the difficulty estimate per item with
<code>length(items)</code> elements.
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren 2020
</p>


<h3>See Also</h3>

<p><code><a href="#topic+builtin_itembank">builtin_itembank()</a></code>, <code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'># difficulty levels in the GHAP lexicon
get_tau(items = c("ddifmd001", "DDigmd052", "xyz"))
</code></pre>

<hr>
<h2 id='gsample'>Sample of 10 children from the GSED Phase 1 study</h2><span id='topic+gsample'></span>

<h3>Description</h3>

<p>A demo dataset with developmental scores at the item level for
10 random children from the GSED Phase 1 data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>gsample
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 10 rows and 295 variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>id</code> </td><td style="text-align: left;"> Integer, child ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>agedays</code> </td><td style="text-align: left;"> Integer, age in days </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>gpalac001</code> </td><td style="text-align: left;"> Integer, Cry when hungry...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>gpalac002</code> </td><td style="text-align: left;"> Integer, Look at/focus...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>...</code> </td><td style="text-align: left;"> and so on.. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>There are 138 <code>gpa</code> items (item <code>gpamoc008</code> (clench fists) removed) from GSED SF and
and 155 <code>gto</code> items from GSED LF.
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(gsample)
</code></pre>

<hr>
<h2 id='milestones'>Outcomes on developmental milestones for preterm-born children</h2><span id='topic+milestones'></span>

<h3>Description</h3>

<p>A demo dataset with developmental scores at the item level for
a set of 27 preterm children.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>milestones
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 100 rows and 62 variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>id</code> </td><td style="text-align: left;"> Integer, child ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>agedays</code> </td><td style="text-align: left;"> Integer, age in days </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>age</code> </td><td style="text-align: left;"> Numeric, decimal age in years </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>sex</code> </td><td style="text-align: left;"> Character, "male", "female" </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>gagebrth</code> </td><td style="text-align: left;"> Integer, gestational age in days </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>ddifmd001</code> </td><td style="text-align: left;"> Integer, Fixates eyes: 1 = yes, 0 = no </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>...</code> </td><td style="text-align: left;"> and so on.. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>



<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(milestones)
</code></pre>

<hr>
<h2 id='normalize'>Normalize distribution</h2><span id='topic+normalize'></span>

<h3>Description</h3>

<p>Normalizes the distribution so that the total mass equals 1.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>normalize(d, qp)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="normalize_+3A_d">d</code></td>
<td>
<p>A vector with <code>length(qp)</code> elements representing
the unscaled density at each quadrature point.</p>
</td></tr>
<tr><td><code id="normalize_+3A_qp">qp</code></td>
<td>
<p>Vector of equally spaced quadrature points.</p>
</td></tr>
</table>


<h3>Value</h3>

<p>A vector of <code>length(d)</code> elements with
the prior density estimate at each quadature point.
</p>


<h3>Note</h3>

<p>: Internal function
</p>


<h3>Examples</h3>

<pre><code class='language-R'>dscore:::normalize(c(5, 10, 5), qp = c(0, 1, 2))

sum(dscore:::normalize(rnorm(5), qp = 1:5))
</code></pre>

<hr>
<h2 id='posterior'>Calculate posterior for one item given score, difficulty and prior</h2><span id='topic+posterior'></span>

<h3>Description</h3>

<p>Calculate posterior for one item given score, difficulty and prior
</p>


<h3>Usage</h3>

<pre><code class='language-R'>posterior(score, tau, prior, qp, scale)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="posterior_+3A_score">score</code></td>
<td>
<p>Integer, either 0 (fail) and 1 (pass)</p>
</td></tr>
<tr><td><code id="posterior_+3A_tau">tau</code></td>
<td>
<p>Numeric, difficulty parameter</p>
</td></tr>
<tr><td><code id="posterior_+3A_prior">prior</code></td>
<td>
<p>Vector of prior values on quadrature points <code>qp</code></p>
</td></tr>
<tr><td><code id="posterior_+3A_qp">qp</code></td>
<td>
<p>vector of equally spaced quadrature points</p>
</td></tr>
<tr><td><code id="posterior_+3A_scale">scale</code></td>
<td>
<p>expansion relative to the logit scale</p>
</td></tr>
</table>


<h3>Details</h3>

<p>This function assumes that the difficulties have been estimated by
a binary Rasch model, e.g. by <code>rasch.pairwise.itemcluster()</code> of
the <code>sirt</code> package.
</p>


<h3>Value</h3>

<p>A vector of length <code>length(prior)</code>
</p>


<h3>Note</h3>

<p>: Internal function
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren, Arjan Huizing, 2020
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>

<hr>
<h2 id='rename_gcdg_gsed'>Rename items from gcdg into gsed lexicon</h2><span id='topic+rename_gcdg_gsed'></span>

<h3>Description</h3>

<p>Function <code>rename_gcdg_gsed()</code> translates item names in the
gcdg lexicon to item names in the gsed lexicon.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>rename_gcdg_gsed(x, copy = TRUE)
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="rename_gcdg_gsed_+3A_x">x</code></td>
<td>
<p>A character vector containing item names in the gcdg lexicon</p>
</td></tr>
<tr><td><code id="rename_gcdg_gsed_+3A_copy">copy</code></td>
<td>
<p>A logical indicating whether any unmatches names should
be copied (<code>copy = TRUE</code>) or set to an empty string.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>The gsed-naming convention is as follows. Position 1-3 codes the
instrument, position 4-5 codes the domain, position 6 codes
direct/caregiver/message, positions 7-9 is a item sequence number.
</p>
<p>The function currently support ASQ-I (aqi), Barrera-Moncade (bar),
Batelle (bat), Bayley I (by1), Bayley II (by2), Bayley III (by3),
Dutch Development Instrument (ddi), Denver (den), Griffith (gri),
MacArthur (mac), WHO milestones (mds), Mullen (mul), pegboard (peg),
South African Griffith (sgr), Stanford Binet (sbi), Tepsi (tep),
Vineland (vin).
</p>
<p>In cases where the domain of the items isn't clear (vin, bar),
the domain is coded as 'xx'.
</p>


<h3>Value</h3>

<p>A character vector of length <code>length(x)</code> with gcdg
item names replaced by gsed item name.
</p>


<h3>Author(s)</h3>

<p>Iris Eekhout, Stef van Buuren
</p>


<h3>References</h3>

<p><a href="https://docs.google.com/spreadsheets/d/1zLsSW9CzqshL8ubb7K5R9987jF4YGDVAW_NBw1hR2aQ/edit#gid=0">https://docs.google.com/spreadsheets/d/1zLsSW9CzqshL8ubb7K5R9987jF4YGDVAW_NBw1hR2aQ/edit#gid=0</a>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>from &lt;- c(
  "ag28", "gh2_19", "a14ps4", "b1m157", "mil6",
  "bm19", "a16fm4", "n22", "ag9", "gh6_5"
)
to &lt;- rename_gcdg_gsed(from, copy = FALSE)
to
</code></pre>

<hr>
<h2 id='sample_hf'>Sample of 10 children from GSED HF</h2><span id='topic+sample_hf'></span>

<h3>Description</h3>

<p>A demo dataset with developmental scores at the item level for
10 random children from the GSED Phase 1 data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_hf
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 10 rows and 57 variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>subjid</code> </td><td style="text-align: left;"> Integer, child ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>agedays</code> </td><td style="text-align: left;"> Integer, age in days </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>hf001</code> </td><td style="text-align: left;"> Integer, ...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>hf002</code> </td><td style="text-align: left;"> Integer, ...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>...</code> </td><td style="text-align: left;"> and so on.. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Sample data for 55 <code>gpa</code> items forming GSED HF V1
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(sample_hf)
</code></pre>

<hr>
<h2 id='sample_lf'>Sample of 10 children from gto (LF)</h2><span id='topic+sample_lf'></span>

<h3>Description</h3>

<p>A demo dataset with developmental scores at the item level for
10 random children from the GSED Phase 1 data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_lf
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 10 rows and 157 variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>subjid</code> </td><td style="text-align: left;"> Integer, child ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>agedays</code> </td><td style="text-align: left;"> Integer, age in days </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>lf001</code> </td><td style="text-align: left;"> Integer, ...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>lf002</code> </td><td style="text-align: left;"> Integer, ...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>...</code> </td><td style="text-align: left;"> and so on.. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Sample data for 155 <code>gto</code> items from GSED SF
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(sample_lf)
</code></pre>

<hr>
<h2 id='sample_sf'>Sample of 10 children from gpa (SF)</h2><span id='topic+sample_sf'></span>

<h3>Description</h3>

<p>A demo dataset with developmental scores at the item level for
10 random children from the GSED Phase 1 data.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sample_sf
</code></pre>


<h3>Format</h3>

<p>A <code>data.frame</code> with 10 rows and 141 variables:</p>

<table>
<tr>
 <td style="text-align: left;">
   Name </td><td style="text-align: left;"> Label </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>subjid</code> </td><td style="text-align: left;"> Integer, child ID </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>agedays</code> </td><td style="text-align: left;"> Integer, age in days </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>sf001</code> </td><td style="text-align: left;"> Integer, Cry when hungry...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>sf002</code> </td><td style="text-align: left;"> Integer, Look at/focus...: 1 = yes, 0 = no, NA = not administered </td>
</tr>
<tr>
 <td style="text-align: left;">
   <code>...</code> </td><td style="text-align: left;"> and so on.. </td>
</tr>
<tr>
 <td style="text-align: left;">
</td>
</tr>

</table>

<p>Sample data for 139 <code>gpa</code> items from GSED SF
</p>


<h3>See Also</h3>

<p><code><a href="#topic+dscore">dscore()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>head(sample_sf)
</code></pre>

<hr>
<h2 id='sort_itemnames'>Sorts item names according to user-specified priority</h2><span id='topic+sort_itemnames'></span><span id='topic+order_itemnames'></span>

<h3>Description</h3>

<p>This function sorts the item names according to instrument,
domain, mode and number. The user can specify the sorting
order.
</p>


<h3>Usage</h3>

<pre><code class='language-R'>sort_itemnames(x, order = "idnm")

order_itemnames(x, order = "idnm")
</code></pre>


<h3>Arguments</h3>

<table role = "presentation">
<tr><td><code id="sort_itemnames_+3A_x">x</code></td>
<td>
<p>A character vector containing item names (gsed lexicon)</p>
</td></tr>
<tr><td><code id="sort_itemnames_+3A_order">order</code></td>
<td>
<p>A four-letter string specifying the sorting order.
The four letters are: <code>i</code> for instrument, <code>d</code> for domain,
<code>m</code> for mode and <code>n</code> for number. The default is
<code>"idnm"</code>.</p>
</td></tr>
</table>


<h3>Value</h3>

<p><code>sort_itemnames()</code> return a character vector with
<code>length(x)</code> sorted elements. <code>order_itemnames()</code> return
an integer vector of length <code>length(x)</code> with positions of
the sorted elements.
</p>


<h3>Author(s)</h3>

<p>Stef van Buuren
</p>


<h3>See Also</h3>

<p><code><a href="#topic+decompose_itemnames">decompose_itemnames()</a></code>
</p>


<h3>Examples</h3>

<pre><code class='language-R'>itemnames &lt;- c("aqigmc028", "grihsd219", "", "by1mdd157", "mdsgmd006")
sort_itemnames(itemnames)
</code></pre>

</main>

</div>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-r.min.js"></script>
</body></html>
